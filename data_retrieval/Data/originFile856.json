{"items":[{"tags":["java","spring","server-sent-events"],"comments":[{"owner":{"account_id":2045726,"reputation":1580,"user_id":1825844,"display_name":"gvmani"},"score":0,"creation_date":1489673931,"post_id":42835888,"comment_id":72782335,"body_markdown":"did you try SseEmitter constructor with custom timeout option ?","body":"did you try SseEmitter constructor with custom timeout option ?"},{"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"score":0,"creation_date":1489730576,"post_id":42835888,"comment_id":72808109,"body_markdown":"@gvmani Yes I do. Itried using `new SseEmitter(60000l)` and hit the same exception after 1 minute. The last message received in browser is _&quot;MessageCounter : 31&quot;_","body":"@gvmani Yes I do. Itried using <code>new SseEmitter(60000l)</code> and hit the same exception after 1 minute. The last message received in browser is <i>&quot;MessageCounter : 31&quot;</i>"},{"owner":{"account_id":5452312,"reputation":1010,"user_id":4336740,"display_name":"Mohammad nabil"},"score":0,"creation_date":1501140375,"post_id":42835888,"comment_id":77649375,"body_markdown":"Hi @Pete, do you found the solution for this. please post the solution, i&#39;m too facing the same issue, Thanks,","body":"Hi @Pete, do you found the solution for this. please post the solution, i&#39;m too facing the same issue, Thanks,"},{"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"score":0,"creation_date":1501160188,"post_id":42835888,"comment_id":77663848,"body_markdown":"@Mohammadnabil Please see my answer below. I made some modifications in the implementation of the event emitter.","body":"@Mohammadnabil Please see my answer below. I made some modifications in the implementation of the event emitter."}],"answers":[{"tags":[],"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501160109,"creation_date":1501160109,"answer_id":45351438,"question_id":42835888,"body_markdown":"**I&#39;m not sure whether it is the correct solution.**\r\n\r\nI&#39;ve slightly modified the implementation to work with all connected clients [Earlier I was unable to deliver the same message to different clients connected to this stream](https://stackoverflow.com/questions/42858697)\r\nThis implementation doesn&#39;t throw the `IllegalStateException`.\r\n\r\n    import java.io.IOException;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.servlet.mvc.method.annotation.SseEmitter;\r\n    \r\n    @Controller\r\n    public class MySSEController_Working {\r\n    \t\r\n    \tprivate Set&lt;SseEmitter&gt; sseEmitters = new HashSet&lt;SseEmitter&gt;();\r\n    \tprivate int messageCount = 0;\r\n    \t\r\n    \t@RequestMapping(&quot;/ssestream&quot;)\r\n    \tpublic SseEmitter getRealTimeMessageAction(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    \t\t\r\n    \t\tfinal SseEmitter sseEmitter = new SseEmitter();\r\n    \t\t\r\n    \t\tsseEmitter.onCompletion(() -&gt; {\r\n    \t\t\tsynchronized (this.sseEmitters) {\r\n    \t\t\t\tthis.sseEmitters.remove(sseEmitter);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\tsseEmitter.onTimeout(()-&gt; {\r\n    \t\t\tsseEmitter.complete();\r\n    \t\t});\r\n    \t\t\r\n    \t\t// Put context in a map\r\n    \t\tsseEmitters.add(sseEmitter);\r\n    \t\t\r\n    \t\treturn sseEmitter;\r\n    \t}\r\n    \t\r\n    \t@Scheduled(fixedDelay = 2*1000)\r\n        public void scheduledMsgEmitter() throws IOException\r\n    \t{\r\n    \t\tif(!sseEmitters.isEmpty())\r\n    \t\t\t++messageCount;\r\n    \t\telse \r\n    \t\t\tSystem.out.println(&quot;No active Emitters &quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Sent Messages : &quot; + messageCount);\r\n    \t\t\r\n    \t\tsseEmitters.forEach(emitter -&gt; {\r\n    \t\t\tif (null != emitter)\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tSystem.out.println(&quot;Timeout : &quot;+ emitter.getTimeout());\r\n    \t\t\t\t\temitter.send(&quot;MessageCounter : &quot; + messageCount);\r\n    \t\t\t\t\temitter.complete();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }","title":"Spring Server Sent Events - ResponseBodyEmitter is already set complete","body":"<p><strong>I'm not sure whether it is the correct solution.</strong></p>\n\n<p>I've slightly modified the implementation to work with all connected clients <a href=\"https://stackoverflow.com/questions/42858697\">Earlier I was unable to deliver the same message to different clients connected to this stream</a>\nThis implementation doesn't throw the <code>IllegalStateException</code>.</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.mvc.method.annotation.SseEmitter;\n\n@Controller\npublic class MySSEController_Working {\n\n    private Set&lt;SseEmitter&gt; sseEmitters = new HashSet&lt;SseEmitter&gt;();\n    private int messageCount = 0;\n\n    @RequestMapping(\"/ssestream\")\n    public SseEmitter getRealTimeMessageAction(HttpServletRequest request, HttpServletResponse response) throws IOException {\n\n        final SseEmitter sseEmitter = new SseEmitter();\n\n        sseEmitter.onCompletion(() -&gt; {\n            synchronized (this.sseEmitters) {\n                this.sseEmitters.remove(sseEmitter);\n            }\n        });\n\n        sseEmitter.onTimeout(()-&gt; {\n            sseEmitter.complete();\n        });\n\n        // Put context in a map\n        sseEmitters.add(sseEmitter);\n\n        return sseEmitter;\n    }\n\n    @Scheduled(fixedDelay = 2*1000)\n    public void scheduledMsgEmitter() throws IOException\n    {\n        if(!sseEmitters.isEmpty())\n            ++messageCount;\n        else \n            System.out.println(\"No active Emitters \");\n\n        System.out.println(\"Sent Messages : \" + messageCount);\n\n        sseEmitters.forEach(emitter -&gt; {\n            if (null != emitter)\n                try {\n                    System.out.println(\"Timeout : \"+ emitter.getTimeout());\n                    emitter.send(\"MessageCounter : \" + messageCount);\n                    emitter.complete();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5157530,"reputation":900,"user_id":4130336,"accept_rate":71,"display_name":"rwfbc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510355313,"creation_date":1510355313,"answer_id":47232490,"question_id":42835888,"body_markdown":"The [SseEmitter timeout][1] is in milliseconds: 60001 is 60 seconds. It is a session timeout, not affected by activity on the session.\r\n\r\nThe timeout needs to be set to the expected duration of the session, in milliseconds. So, 86400000 (or more) is entirely appropriate.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/SseEmitter.html#SseEmitter-java.lang.Long-","title":"Spring Server Sent Events - ResponseBodyEmitter is already set complete","body":"<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/SseEmitter.html#SseEmitter-java.lang.Long-\" rel=\"nofollow noreferrer\">SseEmitter timeout</a> is in milliseconds: 60001 is 60 seconds. It is a session timeout, not affected by activity on the session.</p>\n\n<p>The timeout needs to be set to the expected duration of the session, in milliseconds. So, 86400000 (or more) is entirely appropriate.</p>\n"},{"tags":[],"owner":{"account_id":20092005,"reputation":1,"user_id":14732283,"display_name":"NeoJhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665158554,"creation_date":1665158554,"answer_id":73989825,"question_id":42835888,"body_markdown":"I used `new org.springframework.web.servlet.mvc.method.annotation.SseEmitter(0L)` without completion of events.\r\n\r\n","title":"Spring Server Sent Events - ResponseBodyEmitter is already set complete","body":"<p>I used <code>new org.springframework.web.servlet.mvc.method.annotation.SseEmitter(0L)</code> without completion of events.</p>\n"},{"tags":[],"owner":{"account_id":11115208,"reputation":1,"user_id":8159741,"display_name":"Linking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669366546,"creation_date":1669366462,"answer_id":74570271,"question_id":42835888,"body_markdown":"Record info I have got about SSE.\r\n\r\nPoints:\r\n- 1.Timeout default is 30s, when there end, frontend will trigger onerror listener, backend will hit sseEmitter.onComplete()\r\n- 2.Scheduled, I think it&#39;s not a good tool to send msg; my suggest is `ScheduledExecutorService`\r\n\r\n\r\nAnswer:\r\n- 1.Which @NeoJhou has mentioned, `new SseEmitter(0L)` is work for me\r\n- 2.In frontend code, &#39;you&#39; may close() the eventsource connect when error happened\r\n- 3.In backend code, also need complete() manually\r\n\r\n\r\nReferences:\r\n- 1.[zero-to-hero-in-server-sent-events][1]\r\n\r\n\r\n  [1]: https://karamveergahlot.medium.com/zero-to-hero-in-server-sent-events-2607e9a7395c","title":"Spring Server Sent Events - ResponseBodyEmitter is already set complete","body":"<p>Record info I have got about SSE.</p>\n<p>Points:</p>\n<ul>\n<li>1.Timeout default is 30s, when there end, frontend will trigger onerror listener, backend will hit sseEmitter.onComplete()</li>\n<li>2.Scheduled, I think it's not a good tool to send msg; my suggest is <code>ScheduledExecutorService</code></li>\n</ul>\n<p>Answer:</p>\n<ul>\n<li>1.Which @NeoJhou has mentioned, <code>new SseEmitter(0L)</code> is work for me</li>\n<li>2.In frontend code, 'you' may close() the eventsource connect when error happened</li>\n<li>3.In backend code, also need complete() manually</li>\n</ul>\n<p>References:</p>\n<ul>\n<li>1.<a href=\"https://karamveergahlot.medium.com/zero-to-hero-in-server-sent-events-2607e9a7395c\" rel=\"nofollow noreferrer\">zero-to-hero-in-server-sent-events</a></li>\n</ul>\n"}],"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12987,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1669366546,"creation_date":1489671969,"question_id":42835888,"body_markdown":"I&#39;m using **spring 4.3.7.RELEASE** to set up the server sent events. And used `@scheduled` annotation to send messages every 2 seconds.\r\nHere is the controller. \r\n\r\n    @Controller\r\n    public class MySSEController {\r\n    \tprivate final SseEmitter sseEmitter = new SseEmitter();\r\n    \tprivate int counter = 0;\r\n    \t\r\n    \t@RequestMapping(&quot;/ssestream&quot;)\r\n    \tpublic SseEmitter getRealTimeMessageAction() throws IOException {\r\n    \t\t\r\n    \t\tsseEmitter.send(&quot;MessageCounter : &quot; + counter);\r\n    \t\treturn sseEmitter;\r\n    \t}\r\n    \t\r\n    \t@Scheduled(fixedDelay = 2*1000)\r\n        public void scheduledMsgEmitter() throws IOException\r\n        {\r\n    \t\tif(null != sseEmitter) {\r\n    \t\t\tsseEmitter.send(&quot;MessageCounter : &quot; + ++counter);\r\n    \t\t}\r\n        }\r\n    \t\r\n    }\r\n\r\nI&#39;m running this on Tomcat 9 directly from eclipse. The application starts and send messages to the browser at every 2 soconds. But after some time it stops sending messages and I see the below exception in eclipse console.\r\n\r\n    Mar 16, 2017 6:57:34 PM org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver handleAsyncRequestTimeoutException\r\n    SEVERE: Async timeout for GET [/streaming-web/stream/ssestream]\r\n    Mar 16, 2017 6:57:35 PM org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler handleError\r\n    SEVERE: Unexpected error occurred in scheduled task.\r\n    java.lang.IllegalStateException: ResponseBodyEmitter is already set complete\r\n    \tat org.springframework.util.Assert.state(Assert.java:70)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitter.send(ResponseBodyEmitter.java:158)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:126)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:107)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:89)\r\n    \tat com.mycomp.test.controllers.MySSEController.scheduledMsgEmitter(MySSEController.java:25)\r\n    \tat sun.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nAm I missing something? Please help me to resolve this problem.","title":"Spring Server Sent Events - ResponseBodyEmitter is already set complete","body":"<p>I'm using <strong>spring 4.3.7.RELEASE</strong> to set up the server sent events. And used <code>@scheduled</code> annotation to send messages every 2 seconds.\nHere is the controller. </p>\n\n<pre><code>@Controller\npublic class MySSEController {\n    private final SseEmitter sseEmitter = new SseEmitter();\n    private int counter = 0;\n\n    @RequestMapping(\"/ssestream\")\n    public SseEmitter getRealTimeMessageAction() throws IOException {\n\n        sseEmitter.send(\"MessageCounter : \" + counter);\n        return sseEmitter;\n    }\n\n    @Scheduled(fixedDelay = 2*1000)\n    public void scheduledMsgEmitter() throws IOException\n    {\n        if(null != sseEmitter) {\n            sseEmitter.send(\"MessageCounter : \" + ++counter);\n        }\n    }\n\n}\n</code></pre>\n\n<p>I'm running this on Tomcat 9 directly from eclipse. The application starts and send messages to the browser at every 2 soconds. But after some time it stops sending messages and I see the below exception in eclipse console.</p>\n\n<pre><code>Mar 16, 2017 6:57:34 PM org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver handleAsyncRequestTimeoutException\nSEVERE: Async timeout for GET [/streaming-web/stream/ssestream]\nMar 16, 2017 6:57:35 PM org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler handleError\nSEVERE: Unexpected error occurred in scheduled task.\njava.lang.IllegalStateException: ResponseBodyEmitter is already set complete\n    at org.springframework.util.Assert.state(Assert.java:70)\n    at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitter.send(ResponseBodyEmitter.java:158)\n    at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:126)\n    at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:107)\n    at org.springframework.web.servlet.mvc.method.annotation.SseEmitter.send(SseEmitter.java:89)\n    at com.mycomp.test.controllers.MySSEController.scheduledMsgEmitter(MySSEController.java:25)\n    at sun.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Am I missing something? Please help me to resolve this problem.</p>\n"},{"tags":["java","kotlin","kotlinx.serialization"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1669360744,"post_id":74569313,"comment_id":131628656,"body_markdown":"data property needs to be quoted &quot;data&quot;, and also - why are you using ServerResponse instead of Response?","body":"data property needs to be quoted &quot;data&quot;, and also - why are you using ServerResponse instead of Response?"},{"owner":{"account_id":15649265,"reputation":13,"user_id":11290953,"display_name":"Gary"},"score":0,"creation_date":1669366477,"post_id":74569313,"comment_id":131630049,"body_markdown":"yes,it is ServerResponse,I edit it","body":"yes,it is ServerResponse,I edit it"},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1669367248,"post_id":74569313,"comment_id":131630278,"body_markdown":"@Gray ,I tried your example with data property quoted, and it worked.","body":"@Gray ,I tried your example with data property quoted, and it worked."},{"owner":{"account_id":15649265,"reputation":13,"user_id":11290953,"display_name":"Gary"},"score":0,"creation_date":1669373560,"post_id":74569313,"comment_id":131632359,"body_markdown":"@Barracuda I solved it, because my field type not match,  String&gt;Int","body":"@Barracuda I solved it, because my field type not match,  String&gt;Int"}],"owner":{"account_id":15649265,"reputation":13,"user_id":11290953,"display_name":"Gary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669366412,"creation_date":1669360188,"question_id":74569313,"body_markdown":"i have a json like this:\r\n```json\r\n{&quot;code&quot;:200,&quot;msg&quot;:&quot;111&quot;,data:[{&quot;name&quot;:&quot;va&quot;,&quot;list&quot;:[{&quot;code&quot;:&quot;11&quot;}]},{&quot;name&quot;:&quot;va&quot;,&quot;list&quot;:[{&quot;code&quot;:&quot;11&quot;}]}]}\r\n```\r\nmy class like this:\r\n```kotlin\r\n@Serializable\r\nclass ServerResponse&lt;T&gt; {\r\n    @SerialName(value = &quot;code&quot;)\r\n    var code = 0\r\n\r\n    @SerialName(value = &quot;msg&quot;)\r\n    var msg: String? = null\r\n\r\n    @SerialName(value = &quot;data&quot;)\r\n    var data: T? = null\r\n        private set\r\n}\r\n\r\n@Serializable\r\ndata class PluginInfo(\r\n    @SerialName(value = &quot;name&quot;)\r\n    val name: String,\r\n    @SerialName(value = &quot;list&quot;)\r\n    val list: MutableList&lt;PluginConfig&gt;\r\n)\r\n\r\n@Serializable\r\ndata class PluginConfig(\r\n    @SerialName(value = &quot;code&quot;)\r\n    val code: String\r\n)\r\n\r\n```\r\nwhen i use JSON.decodeFromString:\r\n```kotlin\r\nval response =\r\n                json.decodeFromString&lt;ServerResponse&lt;MutableList&lt;PluginInfo&gt;&gt;&gt;(pluginInfoJson)\r\n```\r\nthis throw exception:\r\n\r\nkotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 271: Expected quotation mark &#39;&quot;&#39;, but had &#39;1&#39; instead at path: $.data[0].\r\n","title":"How use kotlinx.serialization decode generics list?","body":"<p>i have a json like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;code&quot;:200,&quot;msg&quot;:&quot;111&quot;,data:[{&quot;name&quot;:&quot;va&quot;,&quot;list&quot;:[{&quot;code&quot;:&quot;11&quot;}]},{&quot;name&quot;:&quot;va&quot;,&quot;list&quot;:[{&quot;code&quot;:&quot;11&quot;}]}]}\n</code></pre>\n<p>my class like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Serializable\nclass ServerResponse&lt;T&gt; {\n    @SerialName(value = &quot;code&quot;)\n    var code = 0\n\n    @SerialName(value = &quot;msg&quot;)\n    var msg: String? = null\n\n    @SerialName(value = &quot;data&quot;)\n    var data: T? = null\n        private set\n}\n\n@Serializable\ndata class PluginInfo(\n    @SerialName(value = &quot;name&quot;)\n    val name: String,\n    @SerialName(value = &quot;list&quot;)\n    val list: MutableList&lt;PluginConfig&gt;\n)\n\n@Serializable\ndata class PluginConfig(\n    @SerialName(value = &quot;code&quot;)\n    val code: String\n)\n\n</code></pre>\n<p>when i use JSON.decodeFromString:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val response =\n                json.decodeFromString&lt;ServerResponse&lt;MutableList&lt;PluginInfo&gt;&gt;&gt;(pluginInfoJson)\n</code></pre>\n<p>this throw exception:</p>\n<p>kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 271: Expected quotation mark '&quot;', but had '1' instead at path: $.data[0].</p>\n"},{"tags":["java","eclipse","mqtt","iot","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1669369520,"post_id":74570256,"comment_id":131631065,"body_markdown":"Please [edit](https://stackoverflow.com/posts/74570256/edit) the question to show the code you are using (so we can see if you are using sync or async and what QOS you are publishing with)","body":"Please <a href=\"https://stackoverflow.com/posts/74570256/edit\">edit</a> the question to show the code you are using (so we can see if you are using sync or async and what QOS you are publishing with)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669375830,"post_id":74570256,"comment_id":131633013,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27042954,"reputation":11,"user_id":20597547,"display_name":"Jazimanuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669366407,"creation_date":1669366407,"question_id":74570256,"body_markdown":"I was wondering if there is an alert on Mqtt paho java if a message is failed to be send to MQTT broker in the process of publishing. I&#39;m using MQTT Paho version 3.1.\r\n\r\nI have tried the usual way of sending the message to the broker with good connection, but I&#39;m wondering if the Mqtt message s failed to be sent there would be an indication or something so that it could be send later on","title":"How to know if a message is failed to be published by MQTT client to the broker using Eclipse Paho Java?","body":"<p>I was wondering if there is an alert on Mqtt paho java if a message is failed to be send to MQTT broker in the process of publishing. I'm using MQTT Paho version 3.1.</p>\n<p>I have tried the usual way of sending the message to the broker with good connection, but I'm wondering if the Mqtt message s failed to be sent there would be an indication or something so that it could be send later on</p>\n"},{"tags":["java","redis","redisjson"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669366374,"creation_date":1669366374,"answer_id":74570250,"question_id":74569362,"body_markdown":"#### Part 1: About the library\r\n\r\nCheck what the [JRedisJSON home page](https://github.com/RedisJSON/JRedisJSON) says:\r\n\r\n&gt; As of Jedis 4.0.0 this library is deprecated.\r\n\r\nSince Jedis 4.0.0, you won&#39;t need jrejson/JRedisJSON separately. As you&#39;re already using jedis-4.3.1, you&#39;re good to go only with Jedis.\r\n\r\nCheck their [quick start](https://github.com/redis/jedis/blob/master/docs/redisjson.md).\r\n\r\n#### Part 2: About the constructor\r\n\r\nYou want to create client object from host, post and password. Check following two constructors:\r\n\r\n1. `new JedisPooled(&quot;redis://:password@host:port&quot;)`\r\n2. `new JedisPooled(host, port, user, password)` -&gt; `new JedisPooled(host, port, null, password)`","title":"How to connect to RedisJson with JReJSON package in java?","body":"<h4>Part 1: About the library</h4>\n<p>Check what the <a href=\"https://github.com/RedisJSON/JRedisJSON\" rel=\"nofollow noreferrer\">JRedisJSON home page</a> says:</p>\n<blockquote>\n<p>As of Jedis 4.0.0 this library is deprecated.</p>\n</blockquote>\n<p>Since Jedis 4.0.0, you won't need jrejson/JRedisJSON separately. As you're already using jedis-4.3.1, you're good to go only with Jedis.</p>\n<p>Check their <a href=\"https://github.com/redis/jedis/blob/master/docs/redisjson.md\" rel=\"nofollow noreferrer\">quick start</a>.</p>\n<h4>Part 2: About the constructor</h4>\n<p>You want to create client object from host, post and password. Check following two constructors:</p>\n<ol>\n<li><code>new JedisPooled(&quot;redis://:password@host:port&quot;)</code></li>\n<li><code>new JedisPooled(host, port, user, password)</code> -&gt; <code>new JedisPooled(host, port, null, password)</code></li>\n</ol>\n"}],"owner":{"account_id":17676213,"reputation":191,"user_id":12831121,"display_name":"Gowthamss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74570250,"answer_count":1,"score":1,"last_activity_date":1669366374,"creation_date":1669360502,"question_id":74569362,"body_markdown":"Recently, I started working with RedisJson with node, but I also have to work with Java version of it.\r\n\r\nI&#39;m trying to create a connection as it is mentioned in this github repo: &lt;https://github.com/RedisJSON/JRedisJSON&gt;\r\n\r\nThe repo shows connection with &quot;localhost&quot;, but I want to connect to my remote Redis server instance which has the URL like **redis://:password@host:port**.\r\n\r\nI&#39;m trying to pass the host and port like the following:\r\n**JReJSON jsonClient = new JReJSON(&quot;redis://:password@host&quot;, port);**\r\n\r\nBut I&#39;m getting the following error saying &#39;Failed to create socket&#39; and &#39;UnknownHostException&#39;:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c07R9.png\r\n  [2]: https://i.stack.imgur.com/PmLrM.png\r\n\r\nBut, I&#39;m able to connect to the same host from command line.\r\nCould someone point out what is the issue or what is the actual way to connect to remote instance with RedisJSON in java?\r\n\r\nNote: I&#39;m using Jedis - jedis-4.3.1.jar and Rejson - jrejson-1.4.0.jar","title":"How to connect to RedisJson with JReJSON package in java?","body":"<p>Recently, I started working with RedisJson with node, but I also have to work with Java version of it.</p>\n<p>I'm trying to create a connection as it is mentioned in this github repo: <a href=\"https://github.com/RedisJSON/JRedisJSON\" rel=\"nofollow noreferrer\">https://github.com/RedisJSON/JRedisJSON</a></p>\n<p>The repo shows connection with &quot;localhost&quot;, but I want to connect to my remote Redis server instance which has the URL like <strong>redis://:password@host:port</strong>.</p>\n<p>I'm trying to pass the host and port like the following:\n<strong>JReJSON jsonClient = new JReJSON(&quot;redis://:password@host&quot;, port);</strong></p>\n<p>But I'm getting the following error saying 'Failed to create socket' and 'UnknownHostException':\n<a href=\"https://i.stack.imgur.com/c07R9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c07R9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PmLrM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PmLrM.png\" alt=\"enter image description here\" /></a></p>\n<p>But, I'm able to connect to the same host from command line.\nCould someone point out what is the issue or what is the actual way to connect to remote instance with RedisJSON in java?</p>\n<p>Note: I'm using Jedis - jedis-4.3.1.jar and Rejson - jrejson-1.4.0.jar</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669279579,"post_id":74557738,"comment_id":131609942,"body_markdown":"Maybe a network issue?","body":"Maybe a network issue?"},{"owner":{"account_id":4491729,"reputation":308,"user_id":3652669,"display_name":"Ben"},"score":0,"creation_date":1678350676,"post_id":74557738,"comment_id":133516193,"body_markdown":"Many solutions are listed here : https://stackoverflow.com/questions/7612309/maven-non-resolvable-parent-pom/75682062","body":"Many solutions are listed here : <a href=\"https://stackoverflow.com/questions/7612309/maven-non-resolvable-parent-pom/75682062\" title=\"maven non resolvable parent pom\">stackoverflow.com/questions/7612309/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669366366,"creation_date":1669279273,"answer_id":74557849,"question_id":74557738,"body_markdown":"You have to delete the _*-not-available_ file in your local maven repository for org.springframework.boot:spring-boot-starter-parent:pom:2.6.13. \r\n\r\nLook at e.g. ( if your local maven repository is .m2)\r\n\r\n    .m2/org/springframework/boot/spring-boot-starter-parent/2.6.13/\r\n\r\nThere could be another artefacts with this problem.\r\n\r\nIf you have too much of these problems you should delete the whole local maven repository. \r\n\r\nAfterwards try your maven build with forced update option  again.","title":"Non resolvable parent POM when create Maven project","body":"<p>You have to delete the <em>*-not-available</em> file in your local maven repository for org.springframework.boot:spring-boot-starter-parent:pom:2.6.13.</p>\n<p>Look at e.g. ( if your local maven repository is .m2)</p>\n<pre><code>.m2/org/springframework/boot/spring-boot-starter-parent/2.6.13/\n</code></pre>\n<p>There could be another artefacts with this problem.</p>\n<p>If you have too much of these problems you should delete the whole local maven repository.</p>\n<p>Afterwards try your maven build with forced update option  again.</p>\n"}],"owner":{"account_id":21944730,"reputation":29,"user_id":16224757,"display_name":"Nghihoang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1855,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669366366,"creation_date":1669278639,"question_id":74557738,"body_markdown":"I&#39;ve created a maven project by using STS4, but when I created, there was an error in line 5 file pom.xml:\r\n&gt; `Non-resolvable parent POM for com.example:demo2:1.0: org.springframework.boot:spring-boot-starter-parent:pom:2.6.13 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.13 from/to central (https://repo.maven.apache.org/maven2): repo.maven.apache.org`\r\n\r\nHere is my file pom.xml\r\n`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.13&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo2&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;name&gt;demo2&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n`\r\n\r\n\r\nWhat should i do to solve this problem? Thanks a lot","title":"Non resolvable parent POM when create Maven project","body":"<p>I've created a maven project by using STS4, but when I created, there was an error in line 5 file pom.xml:</p>\n<blockquote>\n<p><code>Non-resolvable parent POM for com.example:demo2:1.0: org.springframework.boot:spring-boot-starter-parent:pom:2.6.13 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.13 from/to central (https://repo.maven.apache.org/maven2): repo.maven.apache.org</code></p>\n</blockquote>\n<p>Here is my file pom.xml\n`</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.13&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;demo2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>`</p>\n<p>What should i do to solve this problem? Thanks a lot</p>\n"},{"tags":["java","spring","spring-boot","validation","annotations"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669365933,"post_id":74569482,"comment_id":131629901,"body_markdown":"Does anybody else has never used validation ever before?","body":"Does anybody else has never used validation ever before?"},{"owner":{"account_id":3572865,"reputation":2148,"user_id":2982798,"display_name":"heroin"},"score":0,"creation_date":1677244004,"post_id":74569482,"comment_id":133304438,"body_markdown":"The option from the linked page works fine for me, it looks like you just need to override org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleBindException in a class, which will extend ResponseEntityExceptionHandle and having annotated as @ControllerAdvice. This is just one of the ways.","body":"The option from the linked page works fine for me, it looks like you just need to override org.springframework.web.servlet.mvc.method.annotation.Respon&zwnj;&#8203;seEntityExceptionHan&zwnj;&#8203;dler.handleBindExcep&zwnj;&#8203;tion in a class, which will extend ResponseEntityExceptionHandle and having annotated as @ControllerAdvice. This is just one of the ways."}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669365913,"creation_date":1669361405,"question_id":74569482,"body_markdown":"I cannot validate a string type path variable in Spring Boot app. I tried the suggestions mentioned on [How to validate Spring MVC @PathVariable values?](https://stackoverflow.com/questions/19419234/how-to-validate-spring-mvc-pathvariable-values), but not working. So, do I have to create a custom validator just for validating a `@PathVariable` value? \r\n\r\n```\r\nimport org.springframework.validation.annotation.Validated;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@RestController\r\n@Validated\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class DataController {\r\n\r\n\r\n    @GetMapping(&quot;/employees/{code}&quot;)\r\n    public ResponseEntity&lt;ApiResponse&lt;List&lt;Employee&gt;&gt;&gt; findAllByCode(\r\n            // @PathVariable(&quot;code&quot;) @Valid @NotBlank String code) {\r\n            @PathVariable(&quot;code&quot;) @NotBlank String code) {\r\n      // ...\r\n    }\r\n}\r\n```\r\n\r\nAny idea about the solution? ","title":"Spring Boot : Cannot validate empty PathVariable using @NotBlank, etc","body":"<p>I cannot validate a string type path variable in Spring Boot app. I tried the suggestions mentioned on <a href=\"https://stackoverflow.com/questions/19419234/how-to-validate-spring-mvc-pathvariable-values\">How to validate Spring MVC @PathVariable values?</a>, but not working. So, do I have to create a custom validator just for validating a <code>@PathVariable</code> value?</p>\n<pre><code>import org.springframework.validation.annotation.Validated;\nimport javax.validation.constraints.NotNull;\n\n@RestController\n@Validated\n@RequestMapping(&quot;/api/v1&quot;)\npublic class DataController {\n\n\n    @GetMapping(&quot;/employees/{code}&quot;)\n    public ResponseEntity&lt;ApiResponse&lt;List&lt;Employee&gt;&gt;&gt; findAllByCode(\n            // @PathVariable(&quot;code&quot;) @Valid @NotBlank String code) {\n            @PathVariable(&quot;code&quot;) @NotBlank String code) {\n      // ...\n    }\n}\n</code></pre>\n<p>Any idea about the solution?</p>\n"},{"tags":["java","spring","openapi","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1666543081,"post_id":74172897,"comment_id":130956978,"body_markdown":"That is expected. Setting the `context-path` on a spring-boot application means that all ressoruces should be &quot;under&quot; the `context-path`. The `context-path` acts as global prefix if you so will. See [this article over at `baeldung.com`](https://www.baeldung.com/spring-context-vs-servlet-path) for details.","body":"That is expected. Setting the <code>context-path</code> on a spring-boot application means that all ressoruces should be &quot;under&quot; the <code>context-path</code>. The <code>context-path</code> acts as global prefix if you so will. See <a href=\"https://www.baeldung.com/spring-context-vs-servlet-path\" rel=\"nofollow noreferrer\">this article over at <code>baeldung.com</code></a> for details."},{"owner":{"account_id":981796,"reputation":3273,"user_id":1001335,"accept_rate":74,"display_name":"hakuna matata"},"score":0,"creation_date":1666543214,"post_id":74172897,"comment_id":130957009,"body_markdown":"@Turing85 Sure, but then why would specifying it in the openapi url also add it, making me write it twice to call the api?","body":"@Turing85 Sure, but then why would specifying it in the openapi url also add it, making me write it twice to call the api?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1666543476,"post_id":74172897,"comment_id":130957088,"body_markdown":"As I said: the `context-path` acts as global prefix. There is no logic. It just prefixes everything. A `context-path` of `foo` and a `@GetMapping(path = &quot;bar&quot;)` will create an endpoint `/foo/bar`. Even if the `context-path` and the `path` from the mapping are identical: the `context-path` will prefix the `path` from the mapping.","body":"As I said: the <code>context-path</code> acts as global prefix. There is no logic. It just prefixes everything. A <code>context-path</code> of <code>foo</code> and a <code>@GetMapping(path = &quot;bar&quot;)</code> will create an endpoint <code>&#47;foo&#47;bar</code>. Even if the <code>context-path</code> and the <code>path</code> from the mapping are identical: the <code>context-path</code> will prefix the <code>path</code> from the mapping."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1666543584,"post_id":74172897,"comment_id":130957122,"body_markdown":"Actual question is: why do you set the `context-path`?","body":"Actual question is: why do you set the <code>context-path</code>?"},{"owner":{"account_id":981796,"reputation":3273,"user_id":1001335,"accept_rate":74,"display_name":"hakuna matata"},"score":0,"creation_date":1666543866,"post_id":74172897,"comment_id":130957178,"body_markdown":"For the first part, even with servlet path instead of context path, I still need to write it twice to call the api, so the issue is including `my-api/v1` in the openapi url. As for why setting the context path, I want to add a prefix path for all the endpoints","body":"For the first part, even with servlet path instead of context path, I still need to write it twice to call the api, so the issue is including <code>my-api&#47;v1</code> in the openapi url. As for why setting the context path, I want to add a prefix path for all the endpoints"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1666544289,"post_id":74172897,"comment_id":130957273,"body_markdown":"If we want to set a global prefix, we add it as `context-path`. We do not need to add the &quot;common suffix&quot; of the openapi defintion.","body":"If we want to set a global prefix, we add it as <code>context-path</code>. We do not need to add the &quot;common suffix&quot; of the openapi defintion."},{"owner":{"account_id":981796,"reputation":3273,"user_id":1001335,"accept_rate":74,"display_name":"hakuna matata"},"score":0,"creation_date":1666544749,"post_id":74172897,"comment_id":130957398,"body_markdown":"But then how would I define the localhost url in my openapi? I can&#39;t just leave it `http://localhost:9001` as it does not reflect the url to use when calling my api. Also if I try to execute it with `Try it out`, it will not work since the url to call is missing the context path, which is why I tried to add it in the first place but got the issue.","body":"But then how would I define the localhost url in my openapi? I can&#39;t just leave it <code>http:&#47;&#47;localhost:9001</code> as it does not reflect the url to use when calling my api. Also if I try to execute it with <code>Try it out</code>, it will not work since the url to call is missing the context path, which is why I tried to add it in the first place but got the issue."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1666545674,"post_id":74172897,"comment_id":130957640,"body_markdown":"Sorry, I do not get it. You are only talking about the hostname, right? If we use springfox, we can configure the hostname separately, see [this answer](https://stackoverflow.com/a/53929928/4216641) for details.","body":"Sorry, I do not get it. You are only talking about the hostname, right? If we use springfox, we can configure the hostname separately, see <a href=\"https://stackoverflow.com/a/53929928/4216641\">this answer</a> for details."},{"owner":{"account_id":981796,"reputation":3273,"user_id":1001335,"accept_rate":74,"display_name":"hakuna matata"},"score":0,"creation_date":1666550851,"post_id":74172897,"comment_id":130958864,"body_markdown":"Ok, I think I get the idea now, the preview of openapi was from a plugin in my IDE, but I think what the process should be is, the openapi I use is for generating the code, and springfox (or springdoc is what I ended up using) is to generate the openapi documentation that I should actually see and use. Is my understanding correct?","body":"Ok, I think I get the idea now, the preview of openapi was from a plugin in my IDE, but I think what the process should be is, the openapi I use is for generating the code, and springfox (or springdoc is what I ended up using) is to generate the openapi documentation that I should actually see and use. Is my understanding correct?"}],"answers":[{"tags":[],"owner":{"account_id":4505926,"reputation":838,"user_id":3663253,"display_name":"s.c"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669365024,"creation_date":1669361979,"answer_id":74569567,"question_id":74172897,"body_markdown":"I could avoid the situation by changing the `my-api-v1.yaml` like this:\r\n\r\n```\r\nservers:\r\n  - url: http://localhost:9001\r\n    description: Local URL for my RESTful endpoints\r\n  - url: http://localhost:9001/my-api/v1\r\n    description: Local URL for my RESTful endpoints\r\n```\r\n \r\nFirst line of servers should be without path in order not to duplicate.\r\n\r\nYou can test with second one.","title":"Spring REST API And OpenApi - Duplicated Context Path Call","body":"<p>I could avoid the situation by changing the <code>my-api-v1.yaml</code> like this:</p>\n<pre><code>servers:\n  - url: http://localhost:9001\n    description: Local URL for my RESTful endpoints\n  - url: http://localhost:9001/my-api/v1\n    description: Local URL for my RESTful endpoints\n</code></pre>\n<p>First line of servers should be without path in order not to duplicate.</p>\n<p>You can test with second one.</p>\n"}],"owner":{"account_id":981796,"reputation":3273,"user_id":1001335,"accept_rate":74,"display_name":"hakuna matata"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669365024,"creation_date":1666542805,"question_id":74172897,"body_markdown":"I am creating a Spring RESTful API with an openapi starting point. In my openapi I defined the servers property to the localhost (with the port number and the context-path that I&#39;m planning to use) and in my `application.yml` I defined the context path under the property `server.servlet.context-path`, below are snippets of those two files.\r\n\r\n`my-api-v1.yaml`:\r\n\r\n    openapi: 3.0.3\r\n    info:\r\n      title: My API\r\n      description: The application exposes the my API endpoints to be used using RESTful services.\r\n      version: 0.1.0\r\n    servers:\r\n      - url: http://localhost:9001/my-api/v1\r\n        description: Local URL for my RESTful endpoints\r\n    tags:\r\n      - name: Users\r\n        description: Users endpoints\r\n    paths:\r\n      /users:\r\n        get:\r\n          tags:\r\n            - Users\r\n          summary: Get all users\r\n          description: Retrieve all the users from the database\r\n          operationId: getAllUsers\r\n          responses:\r\n            200:\r\n              description: OK\r\n              content:\r\n                application/json:\r\n                  schema:\r\n                    type: array\r\n                    items:\r\n                      $ref: &#39;#/components/schemas/UserDetail&#39;\r\n                    minItems: 0\r\n                    maxItems: 20\r\n    components:\r\n      schemas:\r\n        UserDetail:\r\n          type: object\r\n          properties:\r\n            id:\r\n              description: User id\r\n              type: integer\r\n              format: int64\r\n              example: 1\r\n            firstName:\r\n              description: User&#39;s first name\r\n              type: string\r\n              example: John\r\n            lastName:\r\n              description: User&#39;s last name\r\n              type: string\r\n              example: Doe\r\n\r\n`application.yml`:\r\n\r\n    logging:\r\n      level:\r\n        root: INFO\r\n        org.springframework.web: ERROR\r\n        org.hibernate: ERROR\r\n        org.my.api: DEBUG\r\n    spring:\r\n      application:\r\n        name: My API\r\n      output:\r\n        ansi:\r\n          enabled: always\r\n    server:\r\n      address: localhost\r\n      port: 9001\r\n      servlet:\r\n        context-path: /my-api/v1\r\n\r\nWhen I run my application, I can&#39;t call the users endpoint with what I expect the url would be (that is `http://localhost:9001/my-api/v1/users`), I get a 400 error back.\r\n[![400 error single context path][1]][1]\r\n\r\nBut if I write the context path twice, it works.\r\n[![duplicated context path api call works][2]][2]\r\n\r\nIf I comment one of them and re-run the application, then I can call the url with the context path written once.\r\nWhy is this happening? I am using openapi generator maven plugin to generate the controller and model from my openapi file (with generatorName spring). I checked both openapi generator and spring generator documentations to check if there is something or a property I can use to override the url to use but did not find anything.\r\nHow can I fix this so that I can write the context path once in the url and be able to use Try it out button when opening it in swagger-ui.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fHphZ.png\r\n  [2]: https://i.stack.imgur.com/8naXZ.png","title":"Spring REST API And OpenApi - Duplicated Context Path Call","body":"<p>I am creating a Spring RESTful API with an openapi starting point. In my openapi I defined the servers property to the localhost (with the port number and the context-path that I'm planning to use) and in my <code>application.yml</code> I defined the context path under the property <code>server.servlet.context-path</code>, below are snippets of those two files.</p>\n<p><code>my-api-v1.yaml</code>:</p>\n<pre><code>openapi: 3.0.3\ninfo:\n  title: My API\n  description: The application exposes the my API endpoints to be used using RESTful services.\n  version: 0.1.0\nservers:\n  - url: http://localhost:9001/my-api/v1\n    description: Local URL for my RESTful endpoints\ntags:\n  - name: Users\n    description: Users endpoints\npaths:\n  /users:\n    get:\n      tags:\n        - Users\n      summary: Get all users\n      description: Retrieve all the users from the database\n      operationId: getAllUsers\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/UserDetail'\n                minItems: 0\n                maxItems: 20\ncomponents:\n  schemas:\n    UserDetail:\n      type: object\n      properties:\n        id:\n          description: User id\n          type: integer\n          format: int64\n          example: 1\n        firstName:\n          description: User's first name\n          type: string\n          example: John\n        lastName:\n          description: User's last name\n          type: string\n          example: Doe\n</code></pre>\n<p><code>application.yml</code>:</p>\n<pre><code>logging:\n  level:\n    root: INFO\n    org.springframework.web: ERROR\n    org.hibernate: ERROR\n    org.my.api: DEBUG\nspring:\n  application:\n    name: My API\n  output:\n    ansi:\n      enabled: always\nserver:\n  address: localhost\n  port: 9001\n  servlet:\n    context-path: /my-api/v1\n</code></pre>\n<p>When I run my application, I can't call the users endpoint with what I expect the url would be (that is <code>http://localhost:9001/my-api/v1/users</code>), I get a 400 error back.\n<a href=\"https://i.stack.imgur.com/fHphZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fHphZ.png\" alt=\"400 error single context path\" /></a></p>\n<p>But if I write the context path twice, it works.\n<a href=\"https://i.stack.imgur.com/8naXZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8naXZ.png\" alt=\"duplicated context path api call works\" /></a></p>\n<p>If I comment one of them and re-run the application, then I can call the url with the context path written once.\nWhy is this happening? I am using openapi generator maven plugin to generate the controller and model from my openapi file (with generatorName spring). I checked both openapi generator and spring generator documentations to check if there is something or a property I can use to override the url to use but did not find anything.\nHow can I fix this so that I can write the context path once in the url and be able to use Try it out button when opening it in swagger-ui.</p>\n"},{"tags":["java","jar","centos"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669225228,"post_id":74549171,"comment_id":131598382,"body_markdown":"Normally, for an executable jar: `java -jar jhipster-registry-7.4.0.jar`","body":"Normally, for an executable jar: <code>java -jar jhipster-registry-7.4.0.jar</code>"},{"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"score":0,"creation_date":1669279218,"post_id":74549171,"comment_id":131609822,"body_markdown":"Sure, it&#39;s that I say, but on my application, previous teams have made that jar can be executed directly by its filename ...","body":"Sure, it&#39;s that I say, but on my application, previous teams have made that jar can be executed directly by its filename ..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669282426,"post_id":74549171,"comment_id":131610965,"body_markdown":"I&#39;ve never seen that nor do I know how that would work. *If* it could you&#39;d probably have to do `chmod +x jhipster-registry-7.4.0.jar; ./jhipster-registry-7.4.0.jar`","body":"I&#39;ve never seen that nor do I know how that would work. <i>If</i> it could you&#39;d probably have to do <code>chmod +x jhipster-registry-7.4.0.jar; .&#47;jhipster-registry-7.4.0.jar</code>"},{"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"score":0,"creation_date":1669308195,"post_id":74549171,"comment_id":131619788,"body_markdown":"Yet I have a JAR from another old registry that runs this way. I think the previous team recompiled it but I don&#39;t know what was done in it.","body":"Yet I have a JAR from another old registry that runs this way. I think the previous team recompiled it but I don&#39;t know what was done in it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669310014,"post_id":74549171,"comment_id":131620306,"body_markdown":"I&#39;m sceptical ;) Essentially you would be &#39;executing&#39; a zip file. How does that work?","body":"I&#39;m sceptical ;) Essentially you would be &#39;executing&#39; a zip file. How does that work?"},{"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"score":0,"creation_date":1669310433,"post_id":74549171,"comment_id":131620420,"body_markdown":"I think that anywhere there is the java command (java -jar with options). In the project maven build (with plugin) ? In a environnement variable (I haven&#39;t see anything) ...","body":"I think that anywhere there is the java command (java -jar with options). In the project maven build (with plugin) ? In a environnement variable (I haven&#39;t see anything) ..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669310700,"post_id":74549171,"comment_id":131620489,"body_markdown":"The only files that execute *at the command line* that are not ELF executables are scripts. And they only execute if and when they have a shebang. Desktop &#39;launchers&#39; are a different thing","body":"The only files that execute <i>at the command line</i> that are not ELF executables are scripts. And they only execute if and when they have a shebang. Desktop &#39;launchers&#39; are a different thing"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669311021,"post_id":74549171,"comment_id":131620570,"body_markdown":"Please do `file (whatever-the-path-is-to)/registry/V6.0.2/registry.jar`","body":"Please do <code>file (whatever-the-path-is-to)&#47;registry&#47;V6.0.2&#47;registry.jar</code>"},{"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"score":0,"creation_date":1669364090,"post_id":74549171,"comment_id":131629423,"body_markdown":"Effectivily, jar are not the same (see capture).","body":"Effectivily, jar are not the same (see capture)."}],"answers":[{"tags":[],"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669364703,"creation_date":1669364703,"answer_id":74569960,"question_id":74549171,"body_markdown":"Problem seems resolved, in my project, we use spring-boot-maven-plugin\r\n\r\nWe have to add this configuration for make JAR executable :\r\n\r\n    &lt;executable&gt;true&lt;/executable&gt;\r\n\r\nJar is now &quot;data file&quot; and not &quot;zip file&quot; and we can execute it","title":"Can&#39;t start Jar auto-executable file in CentOS","body":"<p>Problem seems resolved, in my project, we use spring-boot-maven-plugin</p>\n<p>We have to add this configuration for make JAR executable :</p>\n<pre><code>&lt;executable&gt;true&lt;/executable&gt;\n</code></pre>\n<p>Jar is now &quot;data file&quot; and not &quot;zip file&quot; and we can execute it</p>\n"}],"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669364703,"creation_date":1669216832,"question_id":74549171,"body_markdown":"I have a executable JAR file (https://github.com/jhipster/jhipster-registry/releases/download/v7.4.0/jhipster-registry-7.4.0.jar). I want to start it on a centOs server. \r\n\r\nIf I use commande below it&#39;s OK (also on windows terminal !)\r\n\r\n    java -jar ./jhipster-registry-7.4.0.jar start\r\n\r\nBut, in my project architecture, we use to start jar file directly with command :\r\n\r\n    ./jhipster-registry-7.4.0.jar start\r\n\r\nAll our previous installation works like with but for this new, I have this message : \r\n\r\n    -bash: ./jhipster-registry-7.4.0: cannot execute binary file\r\n\r\nI think there is specific parameters but I don&#39;t know them. Do you known what is wrong ?\r\n\r\nThank for your help\r\n\r\nAn example of sucessful execution\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd bad execution :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nFile command\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W59uW.png\r\n  [2]: https://i.stack.imgur.com/lPdY5.png\r\n  [3]: https://i.stack.imgur.com/Cbn0p.png","title":"Can&#39;t start Jar auto-executable file in CentOS","body":"<p>I have a executable JAR file (<a href=\"https://github.com/jhipster/jhipster-registry/releases/download/v7.4.0/jhipster-registry-7.4.0.jar\" rel=\"nofollow noreferrer\">https://github.com/jhipster/jhipster-registry/releases/download/v7.4.0/jhipster-registry-7.4.0.jar</a>). I want to start it on a centOs server.</p>\n<p>If I use commande below it's OK (also on windows terminal !)</p>\n<pre><code>java -jar ./jhipster-registry-7.4.0.jar start\n</code></pre>\n<p>But, in my project architecture, we use to start jar file directly with command :</p>\n<pre><code>./jhipster-registry-7.4.0.jar start\n</code></pre>\n<p>All our previous installation works like with but for this new, I have this message :</p>\n<pre><code>-bash: ./jhipster-registry-7.4.0: cannot execute binary file\n</code></pre>\n<p>I think there is specific parameters but I don't know them. Do you known what is wrong ?</p>\n<p>Thank for your help</p>\n<p>An example of sucessful execution</p>\n<p><a href=\"https://i.stack.imgur.com/W59uW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W59uW.png\" alt=\"enter image description here\" /></a></p>\n<p>And bad execution :</p>\n<p><a href=\"https://i.stack.imgur.com/lPdY5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lPdY5.png\" alt=\"enter image description here\" /></a></p>\n<p>File command\n<a href=\"https://i.stack.imgur.com/Cbn0p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cbn0p.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arraylist","hashmap","keyset"],"comments":[{"owner":{"account_id":4281607,"reputation":2069,"user_id":3501345,"accept_rate":80,"display_name":"user43968"},"score":0,"creation_date":1565357361,"post_id":57431057,"comment_id":101340246,"body_markdown":"the hashmap isn&#39;t the problem, You are trying to remove an object for the list while looping threw it.\nTo solve this you have to use iterator.remove see https://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re","body":"the hashmap isn&#39;t the problem, You are trying to remove an object for the list while looping threw it. To solve this you have to use iterator.remove see <a href=\"https://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re\" title=\"iterating through a collection avoiding concurrentmodificationexception when re\">stackoverflow.com/questions/223918/&hellip;</a>"},{"owner":{"account_id":135406,"reputation":5516,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"score":0,"creation_date":1565357413,"post_id":57431057,"comment_id":101340283,"body_markdown":"Check this too https://www.baeldung.com/java-concurrentmodificationexception","body":"Check this too <a href=\"https://www.baeldung.com/java-concurrentmodificationexception\" rel=\"nofollow noreferrer\">baeldung.com/java-concurrentmodificationexception</a>"},{"owner":{"account_id":10841258,"reputation":184,"user_id":7972413,"display_name":"stijnb1234"},"score":0,"creation_date":1565357808,"post_id":57431057,"comment_id":101340522,"body_markdown":"@user43968 Thanks for your reply! I&#39;ve tried using the iterator, but I don&#39;t know how to use it in combination with the hashmap.","body":"@user43968 Thanks for your reply! I&#39;ve tried using the iterator, but I don&#39;t know how to use it in combination with the hashmap."},{"owner":{"account_id":13482389,"reputation":187,"user_id":9727284,"display_name":"Marco Marchetti"},"score":1,"creation_date":1565358500,"post_id":57431057,"comment_id":101340955,"body_markdown":"Also, I recommend using `List` in place of `ArrayList` when defining the type, program to the interface, not to the implementation.","body":"Also, I recommend using <code>List</code> in place of <code>ArrayList</code> when defining the type, program to the interface, not to the implementation."}],"answers":[{"tags":[],"owner":{"account_id":7742872,"reputation":83,"user_id":6055127,"display_name":"Dario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565357253,"creation_date":1565357253,"answer_id":57431107,"question_id":57431057,"body_markdown":"try with the iterator. \r\ninareamap.iterator().. and.. iterator.remove()","title":"Remove a value from a List nested in a Map","body":"<p>try with the iterator. \ninareamap.iterator().. and.. iterator.remove()</p>\n"},{"tags":[],"owner":{"account_id":12638355,"reputation":9413,"user_id":9186783,"display_name":"cameron1024"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1565357420,"creation_date":1565357420,"answer_id":57431155,"question_id":57431057,"body_markdown":"There is a more elegant way to do this, using Java 8:\r\n\r\n```\r\nMap&lt;String, ArrayList&lt;UUID&gt;&gt; map = ...\r\nUUID testId = ...\r\n// defined elsewhere\r\n\r\n// iterate through the set of elements in the map, produce a string and list for each\r\nmap.forEach((string, list) -&gt; { \r\n\r\n    // as the name suggests, removes if the UUID equals the test UUID\r\n    list.removeIf(uuid -&gt; uuid.equals(testId));\r\n});\r\n```\r\n","title":"Remove a value from a List nested in a Map","body":"<p>There is a more elegant way to do this, using Java 8:</p>\n\n<pre><code>Map&lt;String, ArrayList&lt;UUID&gt;&gt; map = ...\nUUID testId = ...\n// defined elsewhere\n\n// iterate through the set of elements in the map, produce a string and list for each\nmap.forEach((string, list) -&gt; { \n\n    // as the name suggests, removes if the UUID equals the test UUID\n    list.removeIf(uuid -&gt; uuid.equals(testId));\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3779570,"reputation":567,"user_id":3139440,"display_name":"Torsten Fehre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565359274,"creation_date":1565359274,"answer_id":57431728,"question_id":57431057,"body_markdown":"If you have Java 8, the solution of camaron1024&#39;s solution is the best. Otherwise you can make use of the fact that you have a list and iterate through it backwards by index.\r\n\r\n    for(ArrayList&lt;UUID&gt; uuidlist : inareamap.values()) {\r\n        for(int i=uuidlist.size()-1;i&gt;=0;i--) {\r\n            if (uuidlist.get(i).equals(e.getPlayer().getUniqueId()))\r\n                uuidlist.remove(i);\r\n        }\r\n    }\r\n","title":"Remove a value from a List nested in a Map","body":"<p>If you have Java 8, the solution of camaron1024's solution is the best. Otherwise you can make use of the fact that you have a list and iterate through it backwards by index.</p>\n\n<pre><code>for(ArrayList&lt;UUID&gt; uuidlist : inareamap.values()) {\n    for(int i=uuidlist.size()-1;i&gt;=0;i--) {\n        if (uuidlist.get(i).equals(e.getPlayer().getUniqueId()))\n            uuidlist.remove(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16353412,"reputation":1,"user_id":11811258,"display_name":"zero__code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565400918,"creation_date":1565400918,"answer_id":57438653,"question_id":57431057,"body_markdown":"Here the easy solution.\r\n        \r\n\t\tUUID key = ... ;\r\n        for(Map.Entry&lt;String,ArrayList&lt;UUID&gt;&gt; e : hm.entrySet()){\r\n            Iterator&lt;UUID&gt; itr = e.getValue().iterator();\r\n            while(itr.hasNext()){\r\n                if(itr.next() == key)\r\n                    itr.remove();\r\n            }\r\n        }","title":"Remove a value from a List nested in a Map","body":"<p>Here the easy solution.</p>\n\n<pre><code>    UUID key = ... ;\n    for(Map.Entry&lt;String,ArrayList&lt;UUID&gt;&gt; e : hm.entrySet()){\n        Iterator&lt;UUID&gt; itr = e.getValue().iterator();\n        while(itr.hasNext()){\n            if(itr.next() == key)\n                itr.remove();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":10841258,"reputation":184,"user_id":7972413,"display_name":"stijnb1234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57431155,"answer_count":4,"score":1,"last_activity_date":1669364533,"creation_date":1565357080,"question_id":57431057,"body_markdown":"**I&#39;ve got a HashMap which contains an ArrayList as value. I want to check if one of the lists contains an object and remove that object from the list. How can I achieve that?**\r\n\r\nI&#39;ve tried using some for loops, but then I get a ConcurrentModificationException. I can&#39;t get that exception away.\r\n\r\n**My hashmap:**\r\n```java\r\nMap&lt;String,List&lt;UUID&gt;&gt; inAreaMap = new HashMap&lt;String, ArrayList&lt;UUID&gt;&gt;();\r\n```\r\nI intend to check if the ArrayList contains the UUID I&#39;ve got, and if so, I want to remove it from that ArrayList. But I don&#39;t know the String at that position of the code.\r\n\r\n**What I already tried:**\r\n```java\r\nfor (List&lt;UUID&gt; uuidlist : inAreaMap.values()) {\r\n    for (UUID uuid : uuidlist) {\r\n        if (uuid.equals(e.getPlayer().getUniqueId())) {\r\n            for (String row : inAreaMap.keySet()) {\r\n                if (inAreaMap.get(row).equals(uuidlist)) {\r\n                    inAreaMap.get(row).remove(uuid);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Remove a value from a List nested in a Map","body":"<p><strong>I've got a HashMap which contains an ArrayList as value. I want to check if one of the lists contains an object and remove that object from the list. How can I achieve that?</strong></p>\n<p>I've tried using some for loops, but then I get a ConcurrentModificationException. I can't get that exception away.</p>\n<p><strong>My hashmap:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String,List&lt;UUID&gt;&gt; inAreaMap = new HashMap&lt;String, ArrayList&lt;UUID&gt;&gt;();\n</code></pre>\n<p>I intend to check if the ArrayList contains the UUID I've got, and if so, I want to remove it from that ArrayList. But I don't know the String at that position of the code.</p>\n<p><strong>What I already tried:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>for (List&lt;UUID&gt; uuidlist : inAreaMap.values()) {\n    for (UUID uuid : uuidlist) {\n        if (uuid.equals(e.getPlayer().getUniqueId())) {\n            for (String row : inAreaMap.keySet()) {\n                if (inAreaMap.get(row).equals(uuidlist)) {\n                    inAreaMap.get(row).remove(uuid);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","pmd"],"answers":[{"tags":[],"owner":{"account_id":1198859,"reputation":1846,"user_id":1169968,"display_name":"adangel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669364370,"creation_date":1669364370,"answer_id":74569906,"question_id":74556370,"body_markdown":"You can set the property &quot;skipAnnotations&quot; to true:\r\n\r\n```xml\r\n&lt;rule ref=&quot;category/java/errorprone.xml/AvoidDuplicateLiterals&quot;&gt;\r\n    &lt;properties&gt;\r\n        &lt;property name=&quot;skipAnnotations&quot; value=&quot;true&quot; /&gt;\r\n    &lt;/properties&gt;\r\n&lt;/rule&gt;\r\n```\r\n\r\nSee the full documentation of the rule here: https://pmd.github.io/latest/pmd_rules_java_errorprone.html#avoidduplicateliterals\r\nThe the documentation on how to create a custom ruleset: https://pmd.github.io/latest/pmd_userdocs_making_rulesets.html","title":"AvoidDuplicateLiterals pmd error for @MethodSource","body":"<p>You can set the property &quot;skipAnnotations&quot; to true:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rule ref=&quot;category/java/errorprone.xml/AvoidDuplicateLiterals&quot;&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;skipAnnotations&quot; value=&quot;true&quot; /&gt;\n    &lt;/properties&gt;\n&lt;/rule&gt;\n</code></pre>\n<p>See the full documentation of the rule here: <a href=\"https://pmd.github.io/latest/pmd_rules_java_errorprone.html#avoidduplicateliterals\" rel=\"nofollow noreferrer\">https://pmd.github.io/latest/pmd_rules_java_errorprone.html#avoidduplicateliterals</a>\nThe the documentation on how to create a custom ruleset: <a href=\"https://pmd.github.io/latest/pmd_userdocs_making_rulesets.html\" rel=\"nofollow noreferrer\">https://pmd.github.io/latest/pmd_userdocs_making_rulesets.html</a></p>\n"}],"owner":{"account_id":21614428,"reputation":11,"user_id":15940462,"display_name":"Debarpan Mondal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669364370,"creation_date":1669270624,"question_id":74556370,"body_markdown":"I am getting AvoidDuplicateLiterals pmd violation for using reference &quot;abc&quot; multiple times in different Method source.\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;abc&quot;)\r\n    public void someTestMethod(final    String endpoint) throws Exception {\r\n    // Rest of the code\r\n    }\r\n\r\n    private static Stream&lt;String&gt;    abc() {\r\n    // Rest of the code\r\n    }\r\n\r\n\r\n\r\nI stored the &quot;abc&quot; reference in a variable like\r\nprivate static final VAR_ABC = &quot;abc&quot; and put it in the Methodsource like @MethodSource(VAR_ABC) \r\nbut it didn&#39;t work.\r\nIs there any way to resolve it without suppressing? ","title":"AvoidDuplicateLiterals pmd error for @MethodSource","body":"<p>I am getting AvoidDuplicateLiterals pmd violation for using reference &quot;abc&quot; multiple times in different Method source.</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;abc&quot;)\npublic void someTestMethod(final    String endpoint) throws Exception {\n// Rest of the code\n}\n\nprivate static Stream&lt;String&gt;    abc() {\n// Rest of the code\n}\n</code></pre>\n<p>I stored the &quot;abc&quot; reference in a variable like\nprivate static final VAR_ABC = &quot;abc&quot; and put it in the Methodsource like @MethodSource(VAR_ABC)\nbut it didn't work.\nIs there any way to resolve it without suppressing?</p>\n"},{"tags":["java","thrift"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":1,"creation_date":1375271061,"post_id":17969365,"comment_id":26266029,"body_markdown":"Give us some context , what are you trying to do ? May be some version issue ! The method that you invoke or some other code invokes  is converted into an abstract method now .","body":"Give us some context , what are you trying to do ? May be some version issue ! The method that you invoke or some other code invokes  is converted into an abstract method now ."},{"owner":{"account_id":33157,"reputation":12921,"user_id":92568,"accept_rate":77,"display_name":"Avinash"},"score":0,"creation_date":1375271788,"post_id":17969365,"comment_id":26266487,"body_markdown":"I was trying out hbase thrift version. I build thrift compiler and generated thrift files. and using mvn building my project which is also downloading 0.9.0 version of apache thrift jars. this is the same I am using.","body":"I was trying out hbase thrift version. I build thrift compiler and generated thrift files. and using mvn building my project which is also downloading 0.9.0 version of apache thrift jars. this is the same I am using."}],"answers":[{"tags":[],"owner":{"account_id":313957,"reputation":7003,"user_id":628881,"accept_rate":57,"display_name":"devrobf"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1375271067,"creation_date":1375271067,"answer_id":17969443,"question_id":17969365,"body_markdown":"The simple answer is this:  some code is trying to call a method which is declared `abstract`.  Abstract methods have no body and cannot be executed.  Since you have provided so little information I can&#39;t really elaborate more on how this can happen since the compiler usually catches this problem - [as described here, this means the class must have changed at runtime.][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/AbstractMethodError.html","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>The simple answer is this:  some code is trying to call a method which is declared <code>abstract</code>.  Abstract methods have no body and cannot be executed.  Since you have provided so little information I can't really elaborate more on how this can happen since the compiler usually catches this problem - <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/AbstractMethodError.html\" rel=\"noreferrer\">as described here, this means the class must have changed at runtime.</a></p>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1375271182,"creation_date":1375271182,"answer_id":17969494,"question_id":17969365,"body_markdown":"From documnentation of [AbstractMethodError][1]\r\n\r\n&gt; Thrown when an application tries to call an abstract method. Normally,\r\n&gt; this error is caught by the compiler; this error can only occur at run\r\n&gt; time if the definition of some class has incompatibly changed since\r\n&gt; the currently executing method was last compiled.\r\n\r\n[1]:http://docs.oracle.com/javase/7/docs/api/java/lang/AbstractMethodError.html","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>From documnentation of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AbstractMethodError.html\" rel=\"noreferrer\">AbstractMethodError</a></p>\n\n<blockquote>\n  <p>Thrown when an application tries to call an abstract method. Normally,\n  this error is caught by the compiler; this error can only occur at run\n  time if the definition of some class has incompatibly changed since\n  the currently executing method was last compiled.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1375272916,"creation_date":1375272916,"answer_id":17970129,"question_id":17969365,"body_markdown":"It usually means that you are using an old version of an interface implementation which is missing a new interface method. For example java.sql.Connection interface got a new getSchema method in 1.7. If you have 1.6 JDBC driver and call Connection.getSchema you will get  AbstractMethodError.\r\n","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>It usually means that you are using an old version of an interface implementation which is missing a new interface method. For example java.sql.Connection interface got a new getSchema method in 1.7. If you have 1.6 JDBC driver and call Connection.getSchema you will get  AbstractMethodError.</p>\n"},{"tags":[],"owner":{"account_id":5517095,"reputation":399,"user_id":4381451,"display_name":"amanzoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481720693,"creation_date":1481720693,"answer_id":41143401,"question_id":17969365,"body_markdown":"If you you are getting this error on the implemented methods, make sure you have added your dependencies correctly as mentioned in [this thread][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23656915/getting-java-lang-abstractmethoderror-on-implemented-method","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>If you you are getting this error on the implemented methods, make sure you have added your dependencies correctly as mentioned in <a href=\"https://stackoverflow.com/questions/23656915/getting-java-lang-abstractmethoderror-on-implemented-method\">this thread</a>. </p>\n"},{"tags":[],"owner":{"account_id":12264813,"reputation":28,"user_id":8951614,"display_name":"yutanpo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530189008,"creation_date":1530189008,"answer_id":51082961,"question_id":17969365,"body_markdown":"As Damian quoted : \r\n\r\n&gt; Normally, this error is caught by the compiler; this error can only\r\n&gt; occur at run time if [...]\r\n\r\nI had the same error that was not caught by the compiler but at runtime. To solve it I only compiled again without giving the code any modification.","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>As Damian quoted : </p>\n\n<blockquote>\n  <p>Normally, this error is caught by the compiler; this error can only\n  occur at run time if [...]</p>\n</blockquote>\n\n<p>I had the same error that was not caught by the compiler but at runtime. To solve it I only compiled again without giving the code any modification.</p>\n"},{"tags":[],"owner":{"account_id":8342762,"reputation":950,"user_id":6267583,"accept_rate":100,"display_name":"morecore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542132665,"creation_date":1542132665,"answer_id":53287125,"question_id":17969365,"body_markdown":"A kind of special case of the above [answer][1].\r\n\r\nI had this error, because I was using a `spring-boot-starter-parent` (e.g. `2.1.0.RELEASE` uses spring version: `5.1.2.RELEASE`) but I **also** included a `BOM`, that also defined some spring dependencies, but in an older version (e.g. `5.0.9.RELEASE`).\r\n\r\nSo one thing to do, is check your `dependency tree` (in Eclipse e.g. you can use the Dependency Hierarchy) if you are using the same versions.\r\n\r\nSo one solution could be that you upgrade the spring dependencies in your `BOM`, another one could be that you exclude them (but depending on the amount, this could be ugly).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17970129/6267583","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>A kind of special case of the above <a href=\"https://stackoverflow.com/a/17970129/6267583\">answer</a>.</p>\n\n<p>I had this error, because I was using a <code>spring-boot-starter-parent</code> (e.g. <code>2.1.0.RELEASE</code> uses spring version: <code>5.1.2.RELEASE</code>) but I <strong>also</strong> included a <code>BOM</code>, that also defined some spring dependencies, but in an older version (e.g. <code>5.0.9.RELEASE</code>).</p>\n\n<p>So one thing to do, is check your <code>dependency tree</code> (in Eclipse e.g. you can use the Dependency Hierarchy) if you are using the same versions.</p>\n\n<p>So one solution could be that you upgrade the spring dependencies in your <code>BOM</code>, another one could be that you exclude them (but depending on the amount, this could be ugly).</p>\n"},{"tags":[],"owner":{"account_id":14445558,"reputation":837,"user_id":10434805,"display_name":"Thanh Nhật"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568960795,"creation_date":1568910539,"answer_id":58015342,"question_id":17969365,"body_markdown":"If you download any project zip file, after unzipping them and importing into Android Studio, you are unable to run the project because this error happened.\r\n\r\nI got out of the problem by deleting my android studio, then download and install the new version.\r\n\r\nI truly hope it help.","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>If you download any project zip file, after unzipping them and importing into Android Studio, you are unable to run the project because this error happened.</p>\n\n<p>I got out of the problem by deleting my android studio, then download and install the new version.</p>\n\n<p>I truly hope it help.</p>\n"},{"tags":[],"owner":{"account_id":9991114,"reputation":59,"user_id":7390387,"display_name":"Deepak PK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613126254,"creation_date":1613126254,"answer_id":66170287,"question_id":17969365,"body_markdown":"if you are getting this error on a minified build using Proguard then check if the class is a POJO class and if so then exclude it from the Proguard using the below rule:\r\n\r\n-keep class your.application.package.pojo.** {*;} ","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>if you are getting this error on a minified build using Proguard then check if the class is a POJO class and if so then exclude it from the Proguard using the below rule:</p>\n<p>-keep class your.application.package.pojo.** {*;}</p>\n"},{"tags":[],"owner":{"account_id":7048299,"reputation":800,"user_id":5398371,"display_name":"Zeinab Ghaffarnasab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628604231,"creation_date":1628604231,"answer_id":68728303,"question_id":17969365,"body_markdown":"I had the same error when I imported an eclipse project into intellij ide.. I tried to import it without .iml file then my problem was solved","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>I had the same error when I imported an eclipse project into intellij ide.. I tried to import it without .iml file then my problem was solved</p>\n"},{"tags":[],"owner":{"account_id":15366556,"reputation":187,"user_id":11085894,"display_name":"Deepak Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656353587,"creation_date":1656353587,"answer_id":72776663,"question_id":17969365,"body_markdown":"I get this problem when I update my kotlin plugin to a new version .... the problem is that my pom file is using the older kotlin version .. I guess it might help someone if he is doing this mistake","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>I get this problem when I update my kotlin plugin to a new version .... the problem is that my pom file is using the older kotlin version .. I guess it might help someone if he is doing this mistake</p>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669363797,"creation_date":1669363797,"answer_id":74569833,"question_id":17969365,"body_markdown":"I am getting various of these and others infrequently on android.. I have to clean everything change som configuration rebuild change configuration again to normal somehow just the build tools don&#39;t rebuild everything they should for whatever reason (Android gradle bug obviously).","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>I am getting various of these and others infrequently on android.. I have to clean everything change som configuration rebuild change configuration again to normal somehow just the build tools don't rebuild everything they should for whatever reason (Android gradle bug obviously).</p>\n"}],"owner":{"account_id":33157,"reputation":12921,"user_id":92568,"accept_rate":77,"display_name":"Avinash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127114,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"accepted_answer_id":17969443,"answer_count":11,"score":48,"last_activity_date":1669363797,"creation_date":1375270869,"question_id":17969365,"body_markdown":"What are the possible causes for ABstractMethodError?\r\n\r\nException in thread &quot;pool-1-thread-1&quot; java.lang.AbstractMethodError: \r\n\r\n    org.apache.thrift.ProcessFunction.isOneway()Z\r\n    \tat org.apache.thrift.ProcessFunction.process(ProcessFunction.java:51)\r\n    \tat org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)\r\n    \tat com.gemfire.gemstone.thrift.hbase.ThreadPoolServer$ClientConnnection.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)","title":"Why I am getting java.lang.AbstractMethodError errors?","body":"<p>What are the possible causes for ABstractMethodError?</p>\n\n<p>Exception in thread \"pool-1-thread-1\" java.lang.AbstractMethodError: </p>\n\n<pre><code>org.apache.thrift.ProcessFunction.isOneway()Z\n    at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:51)\n    at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)\n    at com.gemfire.gemstone.thrift.hbase.ThreadPoolServer$ClientConnnection.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n"},{"tags":["java","automated-tests","testng","dataprovider"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669363592,"creation_date":1669363592,"answer_id":74569804,"question_id":74568307,"body_markdown":"You can use two data providers. One would take first value from another. So that the code would look like:\r\n\r\n```java\r\npublic class NewTest {\r\n\r\n    @DataProvider(name = &quot;commonCase&quot;)\r\n    public Object[][] dp(){\r\n        return new String[][]{\r\n                {&quot;My str1&quot;},\r\n                {&quot;My str2&quot;},\r\n                {&quot;My str3&quot;}\r\n        };\r\n    };\r\n\r\n    @DataProvider(name = &quot;specialCase&quot;)\r\n    public Object[][] dpSpecial(){\r\n        return new Object[][]{\r\n                dp()[0]\r\n        };\r\n    }\r\n\r\n    @Test(dataProvider = &quot;specialCase&quot;)\r\n    public void testA(String val){\r\n        System.out.println(val);\r\n    }\r\n\r\n    @Test(dataProvider = &quot;commonCase&quot;)\r\n    public void testB(String val){\r\n        System.out.println(val);\r\n    }\r\n\r\n}\r\n\r\n```","title":"TestNg : How to run a method only once for multiple objects in DataProvider","body":"<p>You can use two data providers. One would take first value from another. So that the code would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NewTest {\n\n    @DataProvider(name = &quot;commonCase&quot;)\n    public Object[][] dp(){\n        return new String[][]{\n                {&quot;My str1&quot;},\n                {&quot;My str2&quot;},\n                {&quot;My str3&quot;}\n        };\n    };\n\n    @DataProvider(name = &quot;specialCase&quot;)\n    public Object[][] dpSpecial(){\n        return new Object[][]{\n                dp()[0]\n        };\n    }\n\n    @Test(dataProvider = &quot;specialCase&quot;)\n    public void testA(String val){\n        System.out.println(val);\n    }\n\n    @Test(dataProvider = &quot;commonCase&quot;)\n    public void testB(String val){\n        System.out.println(val);\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":5718665,"reputation":13,"user_id":4517890,"display_name":"Ankit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669363592,"creation_date":1669349805,"question_id":74568307,"body_markdown":"I have a DataProvider with 2 objects, so TestNg considers it 2 test cases. Hence if i use @BeforMethod that will also run twice.\r\n\r\n\r\n```\r\n@DataProvider\r\npublic static Object[][] dp() {\r\n\r\n    return new Object[][]{\r\n            {new Object1()},\r\n            {new Object2()}\r\n    };\r\n}\r\n```\r\n\r\nI want to run methodA() only once no matter how many iterations of objects are being returned from data provider and methodB() needs to run every time. \r\n\r\n\r\n```\r\n\r\n@Test(dataProviderClass = DataProvider.class, dataProvider = &quot;dp&quot;)\r\n   methodA();\r\n   methodB();\r\n}\r\n\r\n```\r\n\r\nI searched and found I can maybe use a boolean which will let me know if method was executed or not and after executing it once i can set boolean to true, but there are multiple test cases in my class so not sure how that will handle all the test cases. Any elegant solution for this available? \r\n\r\nI was thinking if somehow I could get count of objects from dataprovider that could also help. Any help would be appreciated.\r\n\r\n\r\n\r\n\r\ntried with \r\n\r\n```\r\nboolean isExecuted = false;\r\n\r\nif(!isExecuted) {\r\n  methodA();\r\n  isExecuted=true;\r\n}\r\n```\r\n\r\nbut this only works for 1 test case, i have multiple test cases in my class.","title":"TestNg : How to run a method only once for multiple objects in DataProvider","body":"<p>I have a DataProvider with 2 objects, so TestNg considers it 2 test cases. Hence if i use @BeforMethod that will also run twice.</p>\n<pre><code>@DataProvider\npublic static Object[][] dp() {\n\n    return new Object[][]{\n            {new Object1()},\n            {new Object2()}\n    };\n}\n</code></pre>\n<p>I want to run methodA() only once no matter how many iterations of objects are being returned from data provider and methodB() needs to run every time.</p>\n<pre><code>\n@Test(dataProviderClass = DataProvider.class, dataProvider = &quot;dp&quot;)\n   methodA();\n   methodB();\n}\n\n</code></pre>\n<p>I searched and found I can maybe use a boolean which will let me know if method was executed or not and after executing it once i can set boolean to true, but there are multiple test cases in my class so not sure how that will handle all the test cases. Any elegant solution for this available?</p>\n<p>I was thinking if somehow I could get count of objects from dataprovider that could also help. Any help would be appreciated.</p>\n<p>tried with</p>\n<pre><code>boolean isExecuted = false;\n\nif(!isExecuted) {\n  methodA();\n  isExecuted=true;\n}\n</code></pre>\n<p>but this only works for 1 test case, i have multiple test cases in my class.</p>\n"},{"tags":["java","visual-studio-code","jdbc","mariadb"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667224163,"post_id":74263033,"comment_id":131112988,"body_markdown":"`System.out.println(System.getProperty(&quot;java.class.path&quot;));` (as the first line of your code)","body":"<code>System.out.println(System.getProperty(&quot;java.class.path&quot;));</code> (as the first line of your code)"}],"answers":[{"tags":[],"owner":{"account_id":26899797,"reputation":1,"user_id":20477121,"display_name":"arzunThirdeye"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668170594,"creation_date":1668170594,"answer_id":74402688,"question_id":74263033,"body_markdown":"I have faced the same problem. I solved it by exporting classpath into my .zshrc file.\r\n\r\nAdd this to you shell:\r\n export CLASSPATH=/path/mysql-connector-java-ver.jar:$CLASSPATH\r\n\r\n","title":"Connect Java to MariaDB in VS Code","body":"<p>I have faced the same problem. I solved it by exporting classpath into my .zshrc file.</p>\n<p>Add this to you shell:\nexport CLASSPATH=/path/mysql-connector-java-ver.jar:$CLASSPATH</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669363440,"creation_date":1669363440,"answer_id":74569784,"question_id":74263033,"body_markdown":"First make sure your connection string is correct. Then the database name avoids the use of dashes (`-`).\r\n\r\nThe same code works fine for me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDownload the connection package [here][2].\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mcA1W.png\r\n  [2]: https://mariadb.com/downloads/connectors/connectors-data-access/java8-connector\r\n  [3]: https://i.stack.imgur.com/peol1.png","title":"Connect Java to MariaDB in VS Code","body":"<p>First make sure your connection string is correct. Then the database name avoids the use of dashes (<code>-</code>).</p>\n<p>The same code works fine for me.</p>\n<p><a href=\"https://i.stack.imgur.com/mcA1W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mcA1W.png\" alt=\"enter image description here\" /></a></p>\n<p>Download the connection package <a href=\"https://mariadb.com/downloads/connectors/connectors-data-access/java8-connector\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/peol1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peol1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25291510,"reputation":23,"user_id":19117499,"display_name":"Mohammed Akif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669363440,"creation_date":1667218025,"question_id":74263033,"body_markdown":"I need to connect to my database but I keep getting an error that says &quot;driver not found&quot;.\r\n\r\nI have added **mariadb-java-client-3.0.8.jar** jar file and it is still not working.\r\n\r\n![image of the jar file in classpath][1]\r\n\r\n  [1]: https://i.stack.imgur.com/u7wbb.png\r\n\r\n\r\nAnd this works pretty well on NetBeans, but I need to know how to fix that in VScode IDE. Do you know what I am missing?\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) throws Exception {\r\n            try {\r\n                Connection conn = DriverManager.getConnection(&quot;jdbc:mariadb://localhost:3306/cpit305-project&quot;, &quot;root&quot;, &quot;&quot;);\r\n                System.out.println(&quot;working&quot;);\r\n            } catch (Exception e) {\r\n                System.err.println(e);\r\n            }\r\n        }\r\n    }\r\n\r\nThe exception:\r\n\r\n&gt; java.sql.SQLException: No suitable driver found for jdbc:mariadb://localhost:3306/cpit305-project","title":"Connect Java to MariaDB in VS Code","body":"<p>I need to connect to my database but I keep getting an error that says &quot;driver not found&quot;.</p>\n<p>I have added <strong>mariadb-java-client-3.0.8.jar</strong> jar file and it is still not working.</p>\n<p><img src=\"https://i.stack.imgur.com/u7wbb.png\" alt=\"image of the jar file in classpath\" /></p>\n<p>And this works pretty well on NetBeans, but I need to know how to fix that in VScode IDE. Do you know what I am missing?</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        try {\n            Connection conn = DriverManager.getConnection(&quot;jdbc:mariadb://localhost:3306/cpit305-project&quot;, &quot;root&quot;, &quot;&quot;);\n            System.out.println(&quot;working&quot;);\n        } catch (Exception e) {\n            System.err.println(e);\n        }\n    }\n}\n</code></pre>\n<p>The exception:</p>\n<blockquote>\n<p>java.sql.SQLException: No suitable driver found for jdbc:mariadb://localhost:3306/cpit305-project</p>\n</blockquote>\n"},{"tags":["java","static","nested"],"comments":[{"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"score":1,"creation_date":1668697881,"post_id":74477598,"comment_id":131473723,"body_markdown":"A method in an abstract class cannot be ended with semicolon unless stated as a abstract method. Fix your code on method `field1()` by either adding a body or changing method modifiers to `public abstract`.","body":"A method in an abstract class cannot be ended with semicolon unless stated as a abstract method. Fix your code on method <code>field1()</code> by either adding a body or changing method modifiers to <code>public abstract</code>."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1668698826,"post_id":74477598,"comment_id":131474151,"body_markdown":"Adding to what @Futarimiti says (which indeed fixes your issue), you can&#39;t call `Record.write` because that would mean that `write` is a static field of the class `Record`. Either you make it static, or you need to create an instance of `Record` to do what you want to do.","body":"Adding to what @Futarimiti says (which indeed fixes your issue), you can&#39;t call <code>Record.write</code> because that would mean that <code>write</code> is a static field of the class <code>Record</code>. Either you make it static, or you need to create an instance of <code>Record</code> to do what you want to do."},{"owner":{"account_id":8669906,"reputation":319,"user_id":6489163,"accept_rate":50,"display_name":"Sgr"},"score":0,"creation_date":1668699783,"post_id":74477598,"comment_id":131474581,"body_markdown":"The question really is how to organise my classes so that I can use the following approach Record.write.field1(); Is this achievable ?","body":"The question really is how to organise my classes so that I can use the following approach Record.write.field1(); Is this achievable ?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1668701190,"post_id":74477598,"comment_id":131475150,"body_markdown":"It is achievable by doing the 2 changes we suggested. First, the method field1() should either contain a body, or be declared abstract. Second, the instance of Write held by Record should be static.","body":"It is achievable by doing the 2 changes we suggested. First, the method field1() should either contain a body, or be declared abstract. Second, the instance of Write held by Record should be static."},{"owner":{"account_id":8669906,"reputation":319,"user_id":6489163,"accept_rate":50,"display_name":"Sgr"},"score":0,"creation_date":1668723972,"post_id":74477598,"comment_id":131482628,"body_markdown":"I&#39;ve updated the code but still can&#39;t get what the pattern I want to achieve.","body":"I&#39;ve updated the code but still can&#39;t get what the pattern I want to achieve."},{"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"score":0,"creation_date":1668729692,"post_id":74477598,"comment_id":131483908,"body_markdown":"@Sgr Did you declare both classes in the same file? You can only make one public class declaration per file with the same name as the filename. Just change either or both class declarations from `public class` to normal `class` and it should compile.","body":"@Sgr Did you declare both classes in the same file? You can only make one public class declaration per file with the same name as the filename. Just change either or both class declarations from <code>public class</code> to normal <code>class</code> and it should compile."},{"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"score":1,"creation_date":1668729864,"post_id":74477598,"comment_id":131483942,"body_markdown":"I see you calling static method `field15` from `Write` instance `Record.write`. Though java permits this, it is better to [access a static method in a static way](https://www.intertech.com/a-static-method-should-be-accessed-in-a-static-way/) or it could lead to confusions. Or instead, make it a instance method.","body":"I see you calling static method <code>field15</code> from <code>Write</code> instance <code>Record.write</code>. Though java permits this, it is better to <a href=\"https://www.intertech.com/a-static-method-should-be-accessed-in-a-static-way/\" rel=\"nofollow noreferrer\">access a static method in a static way</a> or it could lead to confusions. Or instead, make it a instance method."},{"owner":{"account_id":8669906,"reputation":319,"user_id":6489163,"accept_rate":50,"display_name":"Sgr"},"score":0,"creation_date":1668766892,"post_id":74477598,"comment_id":131491416,"body_markdown":"I did not declare both classes in the same file. these are two classes in their own files. are you saying I should be having both classes in the same file ie nested/inner class?","body":"I did not declare both classes in the same file. these are two classes in their own files. are you saying I should be having both classes in the same file ie nested/inner class?"},{"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"score":0,"creation_date":1668789209,"post_id":74477598,"comment_id":131499172,"body_markdown":"You can do that but it’s not necessary. Did the code still not compile? What happens when you call `Record.write.field15();` in the main method?","body":"You can do that but it’s not necessary. Did the code still not compile? What happens when you call <code>Record.write.field15();</code> in the main method?"},{"owner":{"account_id":8669906,"reputation":319,"user_id":6489163,"accept_rate":50,"display_name":"Sgr"},"score":0,"creation_date":1668794258,"post_id":74477598,"comment_id":131500874,"body_markdown":"i can&#39;t  call it. it lets me call Record.write only","body":"i can&#39;t  call it. it lets me call Record.write only"},{"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"score":0,"creation_date":1668794828,"post_id":74477598,"comment_id":131501036,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249731/discussion-between-futarimiti-and-sgr).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249731/discussion-between-futarimiti-and-sgr\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669363401,"creation_date":1669363401,"answer_id":74569780,"question_id":74477598,"body_markdown":"This allows you to write the code the way you want:\r\n\r\n```\r\nclass Record {\r\n    public static Write write = new Write();\r\n}\r\n\r\nclass Write {\r\n    public void field15(){\r\n        System.out.println(&quot;Hello&quot;);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Record.write.field15(); // prints &quot;Hello&quot;\r\n    }\r\n}\r\n```\r\n\r\nNote that static methods are invoked on the class name, and instance methods are invoked on a specific instance value.","title":"Accessing multiple nested static objects","body":"<p>This allows you to write the code the way you want:</p>\n<pre><code>class Record {\n    public static Write write = new Write();\n}\n\nclass Write {\n    public void field15(){\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Record.write.field15(); // prints &quot;Hello&quot;\n    }\n}\n</code></pre>\n<p>Note that static methods are invoked on the class name, and instance methods are invoked on a specific instance value.</p>\n"}],"owner":{"account_id":8669906,"reputation":319,"user_id":6489163,"accept_rate":50,"display_name":"Sgr"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74569780,"answer_count":1,"score":0,"last_activity_date":1669363401,"creation_date":1668697204,"question_id":74477598,"body_markdown":"I want to create a set of classes that allows me to write records\r\n\r\nWhat I want to achieve is this \r\n\r\n    Record.write.field1();\r\n    Record.write.field2();\r\n\r\nMy understanding is that I can create multiple static nested objects but I&#39;m struggling with it\r\n\r\nI created the following\r\n\r\n    public abstract class Record{\r\n    public Write write;\r\n    }\r\n    public abstract class Write{\r\n    public static void field1();\r\n    }\r\n\r\nThe approach above hasn&#39;t helped me achieve that.\r\n\r\nThe questions I have is\r\n\r\nCan I write a set of classes in a way so I can achieve the following pattern\r\n\r\n    Record.write.field1();\r\n    Record.write.field2();\r\nThis is so that I can scale it up when needing to add additional field\r\n\r\nIf I can, is this a good approach?\r\n\r\nIf I can&#39;t, what&#39;s the best approach?\r\nThank you\r\n\r\nUPDATE: I can do Record.write but can&#39;t do Record.write.field15();\r\n\r\n\r\n    public class Record {\r\n        public static Write write;\r\n    }\r\n    \r\n    public class Write {\r\n        public static void field15(){\r\n            System.out.println(&quot;Hello&quot;);\r\n        }\r\n    }","title":"Accessing multiple nested static objects","body":"<p>I want to create a set of classes that allows me to write records</p>\n<p>What I want to achieve is this</p>\n<pre><code>Record.write.field1();\nRecord.write.field2();\n</code></pre>\n<p>My understanding is that I can create multiple static nested objects but I'm struggling with it</p>\n<p>I created the following</p>\n<pre><code>public abstract class Record{\npublic Write write;\n}\npublic abstract class Write{\npublic static void field1();\n}\n</code></pre>\n<p>The approach above hasn't helped me achieve that.</p>\n<p>The questions I have is</p>\n<p>Can I write a set of classes in a way so I can achieve the following pattern</p>\n<pre><code>Record.write.field1();\nRecord.write.field2();\n</code></pre>\n<p>This is so that I can scale it up when needing to add additional field</p>\n<p>If I can, is this a good approach?</p>\n<p>If I can't, what's the best approach?\nThank you</p>\n<p>UPDATE: I can do Record.write but can't do Record.write.field15();</p>\n<pre><code>public class Record {\n    public static Write write;\n}\n\npublic class Write {\n    public static void field15(){\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","pom.xml"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1669351891,"post_id":74568251,"comment_id":131627206,"body_markdown":"If you are using TestNG, check the methods with the annotations - &#39;@BeforeClass&#39; and &#39;@AfterClass&#39; or &#39;@BeforeMethod&#39; and &#39;@AfterMethod&#39;. Those methods contain the code to launch the browser before each test case and quit the browser after that test case. Modify that according to your requirement.","body":"If you are using TestNG, check the methods with the annotations - &#39;@BeforeClass&#39; and &#39;@AfterClass&#39; or &#39;@BeforeMethod&#39; and &#39;@AfterMethod&#39;. Those methods contain the code to launch the browser before each test case and quit the browser after that test case. Modify that according to your requirement."}],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669362639,"creation_date":1669362639,"answer_id":74569665,"question_id":74568251,"body_markdown":"You need to implement before and after test method which launch the browser before every test and kill it afterwards.\r\nSomething like this:\r\n```\r\n    @BeforeAll\r\n    static void beforeAll() {\r\n        WebDriverManager.chromedriver().setup();\r\n    }\r\n\r\n    @BeforeEach\r\n    void beforeEachTest(TestInfo testInfo) {\r\n        driver = new ChromeDriver();\r\n      \r\n    }\r\n\r\n  @Test\r\n void yourTestLogic(){\r\nActual test here\r\n}\r\n\r\n    @AfterEach\r\n    void afterEachTest() {\r\n        driver.quit();\r\n    }\r\n```\r\n\r\nThis is JUnit 5 example. The same is possible with TestNG with very small differences.","title":"Selenium Java POM","body":"<p>You need to implement before and after test method which launch the browser before every test and kill it afterwards.\nSomething like this:</p>\n<pre><code>    @BeforeAll\n    static void beforeAll() {\n        WebDriverManager.chromedriver().setup();\n    }\n\n    @BeforeEach\n    void beforeEachTest(TestInfo testInfo) {\n        driver = new ChromeDriver();\n      \n    }\n\n  @Test\n void yourTestLogic(){\nActual test here\n}\n\n    @AfterEach\n    void afterEachTest() {\n        driver.quit();\n    }\n</code></pre>\n<p>This is JUnit 5 example. The same is possible with TestNG with very small differences.</p>\n"}],"owner":{"account_id":27038402,"reputation":1,"user_id":20593635,"display_name":"Issraa Abdulaliem "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669362639,"creation_date":1669349303,"question_id":74568251,"body_markdown":"I’ve created a framework in selenium with design pattern “page object model”\r\nBut I want all classes to be executed in the same web browser and what is happening is each class is run and the browser window closed then another one is opened for the next class\r\n\r\nI need all classes to be run in the same browser.\r\n","title":"Selenium Java POM","body":"<p>I’ve created a framework in selenium with design pattern “page object model”\nBut I want all classes to be executed in the same web browser and what is happening is each class is run and the browser window closed then another one is opened for the next class</p>\n<p>I need all classes to be run in the same browser.</p>\n"},{"tags":["java","events","apache-kafka"],"owner":{"account_id":27042024,"reputation":11,"user_id":20596737,"display_name":"phil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669362599,"creation_date":1669359984,"question_id":74569290,"body_markdown":"I am relatively new to Kafka/Event-Based architectures and need your help.\r\n\r\nI have a service where clients can create jobs via REST to be processed asynchronously.\r\nOnce the job is complete, the client which placed the job needs to be asynchronously informed of the process state (e.g. done, canceled, expired)\r\n\r\n- no ordering guarantees needed\r\n- about 1 million jobs per day\r\n- two clients placing ~400k jobs, most clients placing &lt;1000 jobs per day\r\n- ~20 clients placing jobs\r\n- each client is responsible for a specific job-type\r\n- message format is the same for all clients ({&quot;id&quot;: &lt;id&gt;, &quot;state&quot;: &lt;state&gt;})\r\n\r\n\r\nHow should this be implemented?\r\n\r\n**One Large Topic:**\r\n\r\nthe processor-service publishes all JobEvents into a single kafka topic\r\n\r\n- Simple\r\n- Ready if a consumer needs to react to JobEvents of more than one job-type\r\n- Most clients are not interested in 99% of the events, is this a problem?\r\n\r\n**Multiple Topics:**\r\n\r\nclients can specify via REST the topic name on which they expect the JobEvent message.\r\n\r\n- More complex\r\n- Different job-types are loosely coupled\r\n- Clients get only the events in which they are interested in\r\n\r\n\r\n\r\nI am leaning more to &quot;multiple topics&quot;. \r\nMostly because each consumer only gets the events in which it is interested in. \r\n\r\n\r\nAre there some additional advantages/disadvantages of the different approaches?\r\nWhat are your opinions on this?\r\n\r\n\r\n","title":"Kafka: Single Topic vs Multiple Topics","body":"<p>I am relatively new to Kafka/Event-Based architectures and need your help.</p>\n<p>I have a service where clients can create jobs via REST to be processed asynchronously.\nOnce the job is complete, the client which placed the job needs to be asynchronously informed of the process state (e.g. done, canceled, expired)</p>\n<ul>\n<li>no ordering guarantees needed</li>\n<li>about 1 million jobs per day</li>\n<li>two clients placing ~400k jobs, most clients placing &lt;1000 jobs per day</li>\n<li>~20 clients placing jobs</li>\n<li>each client is responsible for a specific job-type</li>\n<li>message format is the same for all clients ({&quot;id&quot;: , &quot;state&quot;: })</li>\n</ul>\n<p>How should this be implemented?</p>\n<p><strong>One Large Topic:</strong></p>\n<p>the processor-service publishes all JobEvents into a single kafka topic</p>\n<ul>\n<li>Simple</li>\n<li>Ready if a consumer needs to react to JobEvents of more than one job-type</li>\n<li>Most clients are not interested in 99% of the events, is this a problem?</li>\n</ul>\n<p><strong>Multiple Topics:</strong></p>\n<p>clients can specify via REST the topic name on which they expect the JobEvent message.</p>\n<ul>\n<li>More complex</li>\n<li>Different job-types are loosely coupled</li>\n<li>Clients get only the events in which they are interested in</li>\n</ul>\n<p>I am leaning more to &quot;multiple topics&quot;.\nMostly because each consumer only gets the events in which it is interested in.</p>\n<p>Are there some additional advantages/disadvantages of the different approaches?\nWhat are your opinions on this?</p>\n"},{"tags":["java","java-6","cmusphinx","helios"],"comments":[{"owner":{"account_id":191443,"reputation":24997,"user_id":432021,"display_name":"Nikolay Shmyrev"},"score":0,"creation_date":1414482296,"post_id":26602317,"comment_id":41819350,"body_markdown":"In Java on Windows file URLs are specified like this: file:///C:/path/to/file","body":"In Java on Windows file URLs are specified like this: file:///C:/path/to/file"}],"answers":[{"tags":[],"owner":{"account_id":2076045,"reputation":2245,"user_id":1849366,"accept_rate":93,"display_name":"Rajind Ruparathna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417990459,"creation_date":1417990459,"answer_id":27348500,"question_id":26602317,"body_markdown":"    private static final String ACOUSTIC_MODEL_PATH = \r\n            TextAligner.class.getResource(&quot;/resources/models/acoustic/wsj&quot;).toString();\r\n    configuration = new Configuration();\r\n    configuration.setAcousticModelPath(ACOUSTIC_MODEL_PATH);\r\n\r\n\r\nI guess you can do it like this if you have added acoustic model to a resources folder in your project folder.","title":"Acoustic model path not set right CMU Sphinx","body":"<pre><code>private static final String ACOUSTIC_MODEL_PATH = \n        TextAligner.class.getResource(\"/resources/models/acoustic/wsj\").toString();\nconfiguration = new Configuration();\nconfiguration.setAcousticModelPath(ACOUSTIC_MODEL_PATH);\n</code></pre>\n\n<p>I guess you can do it like this if you have added acoustic model to a resources folder in your project folder.</p>\n"},{"tags":[],"owner":{"account_id":3004420,"reputation":1004,"user_id":2549202,"accept_rate":50,"display_name":"Vineet Kasat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1419937236,"creation_date":1419937236,"answer_id":27704226,"question_id":26602317,"body_markdown":"&gt; Change `configuration.setAcousticModelPath(&quot;C:/Program\r\n&gt; Files/eclipse/sphinx4-5prealpha/models/acoustic&quot;);`\r\n\r\nto \r\n\r\n&gt; configuration.setAcousticModelPath(&quot;file:C:\\\\Program\r\n&gt; Files\\\\eclips\\\\sphinx4-5prealpha\\\\models\\\\\\acoustic&quot;);\r\n\r\nIt should work then.","title":"Acoustic model path not set right CMU Sphinx","body":"<blockquote>\n  <p>Change <code>configuration.setAcousticModelPath(\"C:/Program\n  Files/eclipse/sphinx4-5prealpha/models/acoustic\");</code></p>\n</blockquote>\n\n<p>to </p>\n\n<blockquote>\n  <p>configuration.setAcousticModelPath(\"file:C:\\Program\n  Files\\eclips\\sphinx4-5prealpha\\models\\\\acoustic\");</p>\n</blockquote>\n\n<p>It should work then.</p>\n"},{"tags":[],"owner":{"account_id":25387777,"reputation":1,"user_id":19199316,"display_name":"FieldMouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669362596,"creation_date":1669362482,"answer_id":74569640,"question_id":26602317,"body_markdown":"```\r\nprivate static String ACOUSTIC_MODEL = &quot;file:///C:/zero/zero_ru.cd_cont_4000&quot;;\r\nprivate static String LANGUAGE_MODEL = &quot;file:///C:/zero/ru.lm&quot;;\r\nprivate static String DICTIONARY     = &quot;file:///C:/zero/ru.dic&quot;;\r\n```\r\n","title":"Acoustic model path not set right CMU Sphinx","body":"<pre><code>private static String ACOUSTIC_MODEL = &quot;file:///C:/zero/zero_ru.cd_cont_4000&quot;;\nprivate static String LANGUAGE_MODEL = &quot;file:///C:/zero/ru.lm&quot;;\nprivate static String DICTIONARY     = &quot;file:///C:/zero/ru.dic&quot;;\n</code></pre>\n"}],"owner":{"account_id":5178648,"reputation":55,"user_id":4144969,"accept_rate":40,"display_name":"baba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1669362596,"creation_date":1414478567,"question_id":26602317,"body_markdown":"The code written below is to convert audio to text using CMU Sphinx in Java 1.6 and Eclipse Helios.   \r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    import edu.cmu.sphinx.api.Configuration;\r\n    import edu.cmu.sphinx.api.SpeechResult;\r\n    import edu.cmu.sphinx.api.StreamSpeechRecognizer;\r\n    \r\n    public class AudioToText {\r\n    \tpublic static void main(String [] args) throws FileNotFoundException,IOException{\r\n    \t\tConfiguration configuration = new Configuration();\r\n    \t\t \r\n    \t\t// Set path to acoustic model.\r\n    \t\tconfiguration.setAcousticModelPath(&quot;C:/Program Files/eclipse/sphinx4-5prealpha/models/acoustic&quot;);\r\n    \t\t// Set path to dictionary.\r\n    \t\tconfiguration.setDictionaryPath(&quot;C:/Program Files/eclipse/sphinx4-5prealpha/models/acoustic/wsj/dict/cmudict.0.6d&quot;);\r\n    \t\t// Set language model.\r\n    \t\tconfiguration.setLanguageModelPath(&quot;C:/Program Files/eclipse/sphinx4-5prealpha/models/language/en-us.lm.dmp&quot;);\r\n    \t\t\r\n    \t\tStreamSpeechRecognizer recognizer = new StreamSpeechRecognizer(configuration);\r\n    \t\t//recognizer.startRecognition(new File(&quot;D:/audio.mp3&quot;).toURI().toURL());\r\n    \t\trecognizer.startRecognition(new FileInputStream(&quot;D:/audio.mp3&quot;));\r\n    \t\tSpeechResult result;\r\n    \t\twhile ((result = recognizer.getResult()) != null) {\r\n    \t\t    System.out.println(result.getHypothesis());\r\n    \t\t}\r\n    \t\trecognizer.stopRecognition();\r\n    \t}\r\n    }\r\n\r\n\r\nExceptions are arising because of not setting the path of acoustic model correctly as mentioned below:\r\n\r\n       Exception in thread &quot;main&quot; Property exception component:&#39;acousticModelLoader&#39; property:&#39;location&#39; - Bad URL C:/Program Files/eclipse/sphinx4-5prealpha/models/acousticunknown protocol: c\r\n    edu.cmu.sphinx.util.props.InternalConfigurationException: Bad URL C:/Program Files/eclipse/sphinx4-5prealpha/models/acousticunknown protocol: c\r\n    \tat edu.cmu.sphinx.util.props.ConfigurationManagerUtils.getResource(ConfigurationManagerUtils.java:479)\r\n    \tat edu.cmu.sphinx.linguist.acoustic.tiedstate.Sphinx3Loader.newProperties(Sphinx3Loader.java:246)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\r\n    \tat edu.cmu.sphinx.linguist.acoustic.tiedstate.TiedStateAcousticModel.newProperties(TiedStateAcousticModel.java:102)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\r\n    \tat edu.cmu.sphinx.linguist.lextree.LexTreeLinguist.newProperties(LexTreeLinguist.java:301)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\r\n    \tat edu.cmu.sphinx.decoder.search.WordPruningBreadthFirstSearchManager.newProperties(WordPruningBreadthFirstSearchManager.java:199)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\r\n    \tat edu.cmu.sphinx.decoder.AbstractDecoder.newProperties(AbstractDecoder.java:71)\r\n    \tat edu.cmu.sphinx.decoder.Decoder.newProperties(Decoder.java:37)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\r\n    \tat edu.cmu.sphinx.recognizer.Recognizer.newProperties(Recognizer.java:90)\r\n    \tat edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\r\n    \tat edu.cmu.sphinx.util.props.ConfigurationManager.lookup(ConfigurationManager.java:161)\r\n    \tat edu.cmu.sphinx.api.Context.&lt;init&gt;(Context.java:77)\r\n    \tat edu.cmu.sphinx.api.Context.&lt;init&gt;(Context.java:49)\r\n    \tat edu.cmu.sphinx.api.AbstractSpeechRecognizer.&lt;init&gt;(AbstractSpeechRecognizer.java:37)\r\n    \tat edu.cmu.sphinx.api.StreamSpeechRecognizer.&lt;init&gt;(StreamSpeechRecognizer.java:33)\r\n    \tat AudioToText.main(AudioToText.java:21)\r\n    Caused by: java.net.MalformedURLException: unknown protocol: c\r\n    \tat java.net.URL.&lt;init&gt;(URL.java:574)\r\n    \tat java.net.URL.&lt;init&gt;(URL.java:464)\r\n    \tat java.net.URL.&lt;init&gt;(URL.java:413)\r\n    \tat edu.cmu.sphinx.util.props.ConfigurationManagerUtils.resourceToURL(ConfigurationManagerUtils.java:495)\r\n    \tat edu.cmu.sphinx.util.props.ConfigurationManagerUtils.getResource(ConfigurationManagerUtils.java:472)\r\n\r\n\r\nI have specified path to acoustic folder. How to specify the correct path? ","title":"Acoustic model path not set right CMU Sphinx","body":"<p>The code written below is to convert audio to text using CMU Sphinx in Java 1.6 and Eclipse Helios.   </p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.FileNotFoundException;\n\nimport edu.cmu.sphinx.api.Configuration;\nimport edu.cmu.sphinx.api.SpeechResult;\nimport edu.cmu.sphinx.api.StreamSpeechRecognizer;\n\npublic class AudioToText {\n    public static void main(String [] args) throws FileNotFoundException,IOException{\n        Configuration configuration = new Configuration();\n\n        // Set path to acoustic model.\n        configuration.setAcousticModelPath(\"C:/Program Files/eclipse/sphinx4-5prealpha/models/acoustic\");\n        // Set path to dictionary.\n        configuration.setDictionaryPath(\"C:/Program Files/eclipse/sphinx4-5prealpha/models/acoustic/wsj/dict/cmudict.0.6d\");\n        // Set language model.\n        configuration.setLanguageModelPath(\"C:/Program Files/eclipse/sphinx4-5prealpha/models/language/en-us.lm.dmp\");\n\n        StreamSpeechRecognizer recognizer = new StreamSpeechRecognizer(configuration);\n        //recognizer.startRecognition(new File(\"D:/audio.mp3\").toURI().toURL());\n        recognizer.startRecognition(new FileInputStream(\"D:/audio.mp3\"));\n        SpeechResult result;\n        while ((result = recognizer.getResult()) != null) {\n            System.out.println(result.getHypothesis());\n        }\n        recognizer.stopRecognition();\n    }\n}\n</code></pre>\n\n<p>Exceptions are arising because of not setting the path of acoustic model correctly as mentioned below:</p>\n\n<pre><code>   Exception in thread \"main\" Property exception component:'acousticModelLoader' property:'location' - Bad URL C:/Program Files/eclipse/sphinx4-5prealpha/models/acousticunknown protocol: c\nedu.cmu.sphinx.util.props.InternalConfigurationException: Bad URL C:/Program Files/eclipse/sphinx4-5prealpha/models/acousticunknown protocol: c\n    at edu.cmu.sphinx.util.props.ConfigurationManagerUtils.getResource(ConfigurationManagerUtils.java:479)\n    at edu.cmu.sphinx.linguist.acoustic.tiedstate.Sphinx3Loader.newProperties(Sphinx3Loader.java:246)\n    at edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\n    at edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\n    at edu.cmu.sphinx.linguist.acoustic.tiedstate.TiedStateAcousticModel.newProperties(TiedStateAcousticModel.java:102)\n    at edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\n    at edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\n    at edu.cmu.sphinx.linguist.lextree.LexTreeLinguist.newProperties(LexTreeLinguist.java:301)\n    at edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\n    at edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\n    at edu.cmu.sphinx.decoder.search.WordPruningBreadthFirstSearchManager.newProperties(WordPruningBreadthFirstSearchManager.java:199)\n    at edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\n    at edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\n    at edu.cmu.sphinx.decoder.AbstractDecoder.newProperties(AbstractDecoder.java:71)\n    at edu.cmu.sphinx.decoder.Decoder.newProperties(Decoder.java:37)\n    at edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\n    at edu.cmu.sphinx.util.props.PropertySheet.getComponent(PropertySheet.java:290)\n    at edu.cmu.sphinx.recognizer.Recognizer.newProperties(Recognizer.java:90)\n    at edu.cmu.sphinx.util.props.PropertySheet.getOwner(PropertySheet.java:508)\n    at edu.cmu.sphinx.util.props.ConfigurationManager.lookup(ConfigurationManager.java:161)\n    at edu.cmu.sphinx.api.Context.&lt;init&gt;(Context.java:77)\n    at edu.cmu.sphinx.api.Context.&lt;init&gt;(Context.java:49)\n    at edu.cmu.sphinx.api.AbstractSpeechRecognizer.&lt;init&gt;(AbstractSpeechRecognizer.java:37)\n    at edu.cmu.sphinx.api.StreamSpeechRecognizer.&lt;init&gt;(StreamSpeechRecognizer.java:33)\n    at AudioToText.main(AudioToText.java:21)\nCaused by: java.net.MalformedURLException: unknown protocol: c\n    at java.net.URL.&lt;init&gt;(URL.java:574)\n    at java.net.URL.&lt;init&gt;(URL.java:464)\n    at java.net.URL.&lt;init&gt;(URL.java:413)\n    at edu.cmu.sphinx.util.props.ConfigurationManagerUtils.resourceToURL(ConfigurationManagerUtils.java:495)\n    at edu.cmu.sphinx.util.props.ConfigurationManagerUtils.getResource(ConfigurationManagerUtils.java:472)\n</code></pre>\n\n<p>I have specified path to acoustic folder. How to specify the correct path? </p>\n"},{"tags":["java","email","oauth-2.0","office365","jakarta-mail"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669362380,"post_id":74569390,"comment_id":131629009,"body_markdown":"Have you looked at https://jakartaee.github.io/mail-api/OAuth2 for instructions how to use OAuth2 with JakartaMail?","body":"Have you looked at <a href=\"https://jakartaee.github.io/mail-api/OAuth2\" rel=\"nofollow noreferrer\">jakartaee.github.io/mail-api/OAuth2</a> for instructions how to use OAuth2 with JakartaMail?"},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1669366369,"post_id":74569390,"comment_id":131630018,"body_markdown":"@MarkRotteveel thanks for the reply. I have looked, and I cannot find  any examples on how to access MS Outlook (there are examples for Gmail). So I have upgraded to `javax.mail 1.6.2` (with `jakarta.mail 2.0.1` the api I use doesn&#39;t compile, e.g. there&#39;s no `Store`, etc.), and changed to the example in the link you sent for &#39;JavaMail 1.5.5 and later&#39; using `store.connect(&quot;imap-mail.outlook.com&quot;, username, oauth2AccessToken);`, but it still fails: `DEBUG IMAP: AUTHENTICATE XOAUTH2 command result: A1 NO AUTHENTICATE failed.`.","body":"@MarkRotteveel thanks for the reply. I have looked, and I cannot find  any examples on how to access MS Outlook (there are examples for Gmail). So I have upgraded to <code>javax.mail 1.6.2</code> (with <code>jakarta.mail 2.0.1</code> the api I use doesn&#39;t compile, e.g. there&#39;s no <code>Store</code>, etc.), and changed to the example in the link you sent for &#39;JavaMail 1.5.5 and later&#39; using <code>store.connect(&quot;imap-mail.outlook.com&quot;, username, oauth2AccessToken);</code>, but it still fails: <code>DEBUG IMAP: AUTHENTICATE XOAUTH2 command result: A1 NO AUTHENTICATE failed.</code>."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1669366806,"post_id":74569390,"comment_id":131630133,"body_markdown":"JakartaMail 1.6 vs 2.0 is whether it uses javax.* or jakarta.* for the package names. In any case, the latest JakartaMail 1.6 is 1.6.7. And the release notes do mention some OAuth related changes for Microsoft in 1.6.6 (for POP3, so it may not be related), see https://jakartaee.github.io/mail-api/docs/CHANGES.txt","body":"JakartaMail 1.6 vs 2.0 is whether it uses javax.* or jakarta.* for the package names. In any case, the latest JakartaMail 1.6 is 1.6.7. And the release notes do mention some OAuth related changes for Microsoft in 1.6.6 (for POP3, so it may not be related), see <a href=\"https://jakartaee.github.io/mail-api/docs/CHANGES.txt\" rel=\"nofollow noreferrer\">jakartaee.github.io/mail-api/docs/CHANGES.txt</a>"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669362567,"creation_date":1669360737,"question_id":74569390,"body_markdown":"I am using Java Mail to connect to a MS Outlook Mail Server.  I can do so successfully using PLAIN authentication with a username and password. I have heard that Microsoft will disable Basic Authentication soon, so I want to upgrade to use OAuth2.0 rather.\r\n\r\nI do the following using a username (email address) and password, which connects successfully:\r\n\r\n```java\r\nStore store = null;\r\n\r\nString SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\r\nProperties props= new Properties();\r\n\r\nprops.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.imaps.port&quot;, port);\r\nprops.put(&quot;mail.imaps.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\nprops.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\nprops.put(&quot;mail.imaps.auth.login.disable&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\r\nprops.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\r\nprops.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;false&quot;);\r\nprops.setProperty(&quot;mail.imaps.socketFactory.port&quot;, port);\r\nprops.setProperty(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n\r\nSession session = Session.getInstance(props);\r\nsession.setDebug(true);\r\n\r\nstore = session.getStore(&quot;imaps&quot;);\r\nlogger.info(&quot;OAUTH2 IMAP trying to connect with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\r\ntry {\r\n    Integer iPort = Integer.parseInt(port);\r\n    store.connect(host, iPort, userEmailId, password);\r\n    // store.connect(host, iPort, userEmailId, oauth2AccessToken);\r\n    logger.info(&quot;IMAP connected with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\r\n    if(store.isConnected()){\r\n        logger.info(&quot;Connection Established using imap protocol successfully !&quot;);\r\n    } else {\r\n        logger.info(&quot;Connection not Established using imap protocol&quot;);\r\n    }\r\n} catch (Exception e) {\r\n    logger.error(&quot;Store.Connect failed with the errror: &quot;+e.getMessage());\r\n    StringWriter sw = new StringWriter();\r\n    e.printStackTrace(new PrintWriter(sw));\r\n    String exceptionAsString = sw.toString();\r\n    logger.error(exceptionAsString);\r\n}\r\nreturn store;\r\n```\r\n\r\nHowever, if I change it to use the the OAuth2 Token instead of the password to connect, it is unsuccessful:\r\n\r\n```java\r\nstore.connect(host, iPort, userEmailId, oauth2AccessToken);\r\n```\r\n\r\nDebug:\r\n```none\r\nDEBUG: JavaMail version 1.5.0-b01\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\nDEBUG: Tables of loaded providers\r\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\r\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\nDEBUG: setDebug: JavaMail version 1.5.0-b01\r\nDEBUG: getProvider() returning javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle]\r\nDEBUG IMAPS: mail.imap.fetchsize: 16384\r\nDEBUG IMAPS: mail.imap.ignorebodystructuresize: false\r\nDEBUG IMAPS: mail.imap.statuscachetimeout: 1000\r\nDEBUG IMAPS: mail.imap.appendbuffersize: -1\r\nDEBUG IMAPS: mail.imap.minidletime: 10\r\nDEBUG IMAPS: disable AUTH=LOGIN\r\nDEBUG IMAPS: disable AUTH=PLAIN\r\nDEBUG IMAPS: enable STARTTLS\r\nDEBUG IMAPS: enable SASL\r\nDEBUG IMAPS: SASL mechanisms allowed: XOAUTH2\r\n\r\n\r\nDEBUG IMAPS: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\r\n* OK The Microsoft Exchange IMAP4 service is ready. [XXXX]\r\nA0 CAPABILITY\r\n* CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\nA0 OK CAPABILITY completed.\r\nDEBUG IMAPS: AUTH: PLAIN\r\nDEBUG IMAPS: AUTH: XOAUTH2\r\nDEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=username@email.com, password=&lt;non-null&gt;\r\nDEBUG IMAPS: SASL Mechanisms:\r\nDEBUG IMAPS:  XOAUTH2\r\nDEBUG IMAPS: \r\nDEBUG IMAPS: No SASL support\r\nA1 LOGIN username@email.com {1479+}\r\nXXXXX\r\nA1 NO LOGIN failed.\r\n```\r\n\r\nAzure Portal message using Auth Token, looks like it expecting a password and not a token:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, it cannot connect using the OAuth2 Authentication token. \r\n\r\nThe token is created as follows, which returns a string that looks like a valid token:\r\n\r\n```java\r\nString accessToken = null;\r\nString clientId = &quot;&lt;client id from azure app registration&gt;&quot;\r\nString secret = &quot;&lt;client secret from azure app registration&gt;&quot; - client secret value\r\nString authority = &quot;https://login.microsoftonline.com/&lt;tenant-id from azure&gt;/oauth2/v2.0/token&quot;;\r\nString scope = &quot;https://outlook.office365.com/.default&quot;;\r\n\r\ntry {\r\n    ConfidentialClientApplication app = ConfidentialClientApplication.builder(clientId, ClientCredentialFactory.createFromSecret(secret)).authority(authority).build();\r\n\r\n    // With client credentials flows the scope is ALWAYS of the shape &quot;resource/.default&quot;, as the\r\n    // application permissions need to be set statically (in the portal), and then granted by a tenant administrator\r\n    ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(Collections.singleton(scope)).build();\r\n\r\n    CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n    IAuthenticationResult result = future.get();\r\n    accessToken = result.accessToken();\r\n    if (StringUtils.isBlank(accessToken)) {\r\n        logger.error(&quot;Access token &quot;+accessToken);\r\n    }\r\n} catch(Exception e) {\r\n    logger.error(&quot;Exception in acquiring token: &quot;+e.getMessage(), e);\r\n}\r\nlogger.debug(&quot;Access Token : &quot;+accessToken);\r\nreturn accessToken;\r\n```\r\n\r\nHow do I change this to to connect to the mail server using OAuth2.0?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ubM2M.png","title":"Connection to Outlook Mail server with password but not with auth token using OAuth2","body":"<p>I am using Java Mail to connect to a MS Outlook Mail Server.  I can do so successfully using PLAIN authentication with a username and password. I have heard that Microsoft will disable Basic Authentication soon, so I want to upgrade to use OAuth2.0 rather.</p>\n<p>I do the following using a username (email address) and password, which connects successfully:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Store store = null;\n\nString SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\nProperties props= new Properties();\n\nprops.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\nprops.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\nprops.put(&quot;mail.imaps.port&quot;, port);\nprops.put(&quot;mail.imaps.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\nprops.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\nprops.put(&quot;mail.imaps.auth.login.disable&quot;, &quot;true&quot;);\nprops.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\nprops.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\nprops.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;false&quot;);\nprops.setProperty(&quot;mail.imaps.socketFactory.port&quot;, port);\nprops.setProperty(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\nprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\nprops.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n\nSession session = Session.getInstance(props);\nsession.setDebug(true);\n\nstore = session.getStore(&quot;imaps&quot;);\nlogger.info(&quot;OAUTH2 IMAP trying to connect with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\ntry {\n    Integer iPort = Integer.parseInt(port);\n    store.connect(host, iPort, userEmailId, password);\n    // store.connect(host, iPort, userEmailId, oauth2AccessToken);\n    logger.info(&quot;IMAP connected with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\n    if(store.isConnected()){\n        logger.info(&quot;Connection Established using imap protocol successfully !&quot;);\n    } else {\n        logger.info(&quot;Connection not Established using imap protocol&quot;);\n    }\n} catch (Exception e) {\n    logger.error(&quot;Store.Connect failed with the errror: &quot;+e.getMessage());\n    StringWriter sw = new StringWriter();\n    e.printStackTrace(new PrintWriter(sw));\n    String exceptionAsString = sw.toString();\n    logger.error(exceptionAsString);\n}\nreturn store;\n</code></pre>\n<p>However, if I change it to use the the OAuth2 Token instead of the password to connect, it is unsuccessful:</p>\n<pre class=\"lang-java prettyprint-override\"><code>store.connect(host, iPort, userEmailId, oauth2AccessToken);\n</code></pre>\n<p>Debug:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG: JavaMail version 1.5.0-b01\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: setDebug: JavaMail version 1.5.0-b01\nDEBUG: getProvider() returning javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle]\nDEBUG IMAPS: mail.imap.fetchsize: 16384\nDEBUG IMAPS: mail.imap.ignorebodystructuresize: false\nDEBUG IMAPS: mail.imap.statuscachetimeout: 1000\nDEBUG IMAPS: mail.imap.appendbuffersize: -1\nDEBUG IMAPS: mail.imap.minidletime: 10\nDEBUG IMAPS: disable AUTH=LOGIN\nDEBUG IMAPS: disable AUTH=PLAIN\nDEBUG IMAPS: enable STARTTLS\nDEBUG IMAPS: enable SASL\nDEBUG IMAPS: SASL mechanisms allowed: XOAUTH2\n\n\nDEBUG IMAPS: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\n* OK The Microsoft Exchange IMAP4 service is ready. [XXXX]\nA0 CAPABILITY\n* CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\nA0 OK CAPABILITY completed.\nDEBUG IMAPS: AUTH: PLAIN\nDEBUG IMAPS: AUTH: XOAUTH2\nDEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=username@email.com, password=&lt;non-null&gt;\nDEBUG IMAPS: SASL Mechanisms:\nDEBUG IMAPS:  XOAUTH2\nDEBUG IMAPS: \nDEBUG IMAPS: No SASL support\nA1 LOGIN username@email.com {1479+}\nXXXXX\nA1 NO LOGIN failed.\n</code></pre>\n<p>Azure Portal message using Auth Token, looks like it expecting a password and not a token:</p>\n<p><a href=\"https://i.stack.imgur.com/ubM2M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ubM2M.png\" alt=\"enter image description here\" /></a></p>\n<p>So, it cannot connect using the OAuth2 Authentication token.</p>\n<p>The token is created as follows, which returns a string that looks like a valid token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String accessToken = null;\nString clientId = &quot;&lt;client id from azure app registration&gt;&quot;\nString secret = &quot;&lt;client secret from azure app registration&gt;&quot; - client secret value\nString authority = &quot;https://login.microsoftonline.com/&lt;tenant-id from azure&gt;/oauth2/v2.0/token&quot;;\nString scope = &quot;https://outlook.office365.com/.default&quot;;\n\ntry {\n    ConfidentialClientApplication app = ConfidentialClientApplication.builder(clientId, ClientCredentialFactory.createFromSecret(secret)).authority(authority).build();\n\n    // With client credentials flows the scope is ALWAYS of the shape &quot;resource/.default&quot;, as the\n    // application permissions need to be set statically (in the portal), and then granted by a tenant administrator\n    ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(Collections.singleton(scope)).build();\n\n    CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n    IAuthenticationResult result = future.get();\n    accessToken = result.accessToken();\n    if (StringUtils.isBlank(accessToken)) {\n        logger.error(&quot;Access token &quot;+accessToken);\n    }\n} catch(Exception e) {\n    logger.error(&quot;Exception in acquiring token: &quot;+e.getMessage(), e);\n}\nlogger.debug(&quot;Access Token : &quot;+accessToken);\nreturn accessToken;\n</code></pre>\n<p>How do I change this to to connect to the mail server using OAuth2.0?</p>\n"},{"tags":["java","android","phone-call"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1585602097,"post_id":60939277,"comment_id":107813987,"body_markdown":"You need to request the permission, using `ActivityCompat.requestPermissions()`.","body":"You need to request the permission, using <code>ActivityCompat.requestPermissions()</code>."}],"answers":[{"tags":[],"owner":{"account_id":10540551,"reputation":656,"user_id":7766797,"display_name":"A_Singh7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585620655,"creation_date":1585618843,"answer_id":60942158,"question_id":60939277,"body_markdown":"So, if the permission is there then it&#39;s ok, but what if the permission is not there ?\n\nThen, you need to request the permissions using requestPermissions()\n\nSomething like:-\n\n```\nActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CALL_PHONE}, requestCode)\n\n```\nThen, override the method onRequestPermissionsResult(),\nto perform the required actions after the permission is granted (here you can start the activity using intent to make a phone call).\n\nSo you could do something like :-\n\n```\nint requestCode = 0;\npublic void onClick(View view) \n{ \nif (view.getId() == R.id.button &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED)\n { \nLog.d(&quot;STATE&quot;, &quot;Call Button DOES NOT WORK&quot;); \nActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CALL_PHONE}, requestCode);\nreturn;\n }\n Log.d(&quot;STATE&quot;, &quot;Call Button DOES WORK&quot;); \nIntent callIntent = new Intent(Intent.ACTION_CALL);\n callIntent.setData(Uri.parse(&quot;tel:480-240-9255&quot;));\n startActivity(callIntent);\n\n}\n\n```\n\nThen,\n\n```\n@Override\n public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) { \nsuper.onRequestPermissionsResult(requestCode, permissions, grantResults); \nif (requestCode == requestCode) \n{ \nif(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n{ \n Intent callIntent = new Intent(Intent.ACTION_CALL);\n callIntent.setData(Uri.parse(&quot;tel:480-240-9255&quot;));\n startActivity(callIntent);\n}\n }\n\n```\n\nSo, this code will give the user a pop-up stating that does the device have access to make or receive phone calls. If you grant the permission, the call manger activity would be started.","title":"Call Permission Not Working - How do you make a phone call in app for Android Studio?","body":"<p>So, if the permission is there then it's ok, but what if the permission is not there ?</p>\n\n<p>Then, you need to request the permissions using requestPermissions()</p>\n\n<p>Something like:-</p>\n\n<pre><code>ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CALL_PHONE}, requestCode)\n\n</code></pre>\n\n<p>Then, override the method onRequestPermissionsResult(),\nto perform the required actions after the permission is granted (here you can start the activity using intent to make a phone call).</p>\n\n<p>So you could do something like :-</p>\n\n<pre><code>int requestCode = 0;\npublic void onClick(View view) \n{ \nif (view.getId() == R.id.button &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED)\n { \nLog.d(\"STATE\", \"Call Button DOES NOT WORK\"); \nActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CALL_PHONE}, requestCode);\nreturn;\n }\n Log.d(\"STATE\", \"Call Button DOES WORK\"); \nIntent callIntent = new Intent(Intent.ACTION_CALL);\n callIntent.setData(Uri.parse(\"tel:480-240-9255\"));\n startActivity(callIntent);\n\n}\n\n</code></pre>\n\n<p>Then,</p>\n\n<pre><code>@Override\n public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) { \nsuper.onRequestPermissionsResult(requestCode, permissions, grantResults); \nif (requestCode == requestCode) \n{ \nif(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n{ \n Intent callIntent = new Intent(Intent.ACTION_CALL);\n callIntent.setData(Uri.parse(\"tel:480-240-9255\"));\n startActivity(callIntent);\n}\n }\n\n</code></pre>\n\n<p>So, this code will give the user a pop-up stating that does the device have access to make or receive phone calls. If you grant the permission, the call manger activity would be started.</p>\n"}],"owner":{"account_id":10813269,"reputation":29,"user_id":7953227,"accept_rate":25,"display_name":"ZachGiovanelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1315,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":60942158,"answer_count":1,"score":0,"last_activity_date":1669362511,"creation_date":1585601436,"question_id":60939277,"body_markdown":"        public void onClick(View view) {\r\n\r\n            if (view.getId() == R.id.button &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this,\r\n                    Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\r\n                Log.d(&quot;STATE&quot;, &quot;Call Button DOES NOT WORK&quot;);\r\n                return;\r\n            }\r\n                    Log.d(&quot;STATE&quot;, &quot;Call Button DOES WORK&quot;);\r\n                    Intent callIntent = new Intent(Intent.ACTION_CALL);\r\n                    callIntent.setData(Uri.parse(&quot;tel:480-240-9255&quot;));\r\n                    startActivity(callIntent);\r\nThis code above keeps logging in the console that it does not work but I have the uses-permission for CALL_PHONE in my manifest file. I am not sure of any other permissions I would need or if the code is just incorrect?","title":"Call Permission Not Working - How do you make a phone call in app for Android Studio?","body":"<pre><code>    public void onClick(View view) {\n\n        if (view.getId() == R.id.button &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this,\n                Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\n            Log.d(&quot;STATE&quot;, &quot;Call Button DOES NOT WORK&quot;);\n            return;\n        }\n                Log.d(&quot;STATE&quot;, &quot;Call Button DOES WORK&quot;);\n                Intent callIntent = new Intent(Intent.ACTION_CALL);\n                callIntent.setData(Uri.parse(&quot;tel:480-240-9255&quot;));\n                startActivity(callIntent);\n</code></pre>\n<p>This code above keeps logging in the console that it does not work but I have the uses-permission for CALL_PHONE in my manifest file. I am not sure of any other permissions I would need or if the code is just incorrect?</p>\n"},{"tags":["java","spring-boot","visual-studio-code","gradle"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669269254,"post_id":74546342,"comment_id":131607170,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669269361,"post_id":74546342,"comment_id":131607198,"body_markdown":"Did you download the [Gradle for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle) extension?","body":"Did you download the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle\" rel=\"nofollow noreferrer\">Gradle for Java</a> extension?"}],"answers":[{"tags":[],"owner":{"account_id":24172302,"reputation":51,"user_id":18134212,"display_name":"8u3631984"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669362496,"creation_date":1669362496,"answer_id":74569643,"question_id":74546342,"body_markdown":"Thanks for your answers.\r\nHere is a list of my extension : \r\nDebugger for Java\r\nExtension Pack for Java\r\nGradle Extensionpack\r\nGradle for Java\r\nProject Manager\r\n\r\n\r\nIn IntelliJ there exists an option in the menu to add a new module.\r\nSo IntelliJ creates a folder (with the name of the sub module) and creates the source an test folders.\r\nI&#39;v not found any equal option in vs code\r\n","title":"VS Code how to add gradle sub module","body":"<p>Thanks for your answers.\nHere is a list of my extension :\nDebugger for Java\nExtension Pack for Java\nGradle Extensionpack\nGradle for Java\nProject Manager</p>\n<p>In IntelliJ there exists an option in the menu to add a new module.\nSo IntelliJ creates a folder (with the name of the sub module) and creates the source an test folders.\nI'v not found any equal option in vs code</p>\n"}],"owner":{"account_id":24172302,"reputation":51,"user_id":18134212,"display_name":"8u3631984"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669362496,"creation_date":1669204213,"question_id":74546342,"body_markdown":"I&#39;m a Java developer. Currently I&#39;m using IntelliJ. I am happy with it, but I want to try a new IDE. So I have chosen Visual Studio Code.\r\n\r\nI want to create a Spring Boot application in Gradle as a multi-module project. My project exists already, but I want to add a new sub-module. In IntelliJ there exists a menu item to add a new module, but I can&#39;t find any equal option in VSCode. Should I really create the folder structure on my own or is there a plugin which can do this for me?\r\n","title":"VS Code how to add gradle sub module","body":"<p>I'm a Java developer. Currently I'm using IntelliJ. I am happy with it, but I want to try a new IDE. So I have chosen Visual Studio Code.</p>\n<p>I want to create a Spring Boot application in Gradle as a multi-module project. My project exists already, but I want to add a new sub-module. In IntelliJ there exists a menu item to add a new module, but I can't find any equal option in VSCode. Should I really create the folder structure on my own or is there a plugin which can do this for me?</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669361730,"creation_date":1669030215,"answer_id":74518232,"question_id":74517618,"body_markdown":"The solution is to move the configuration of the Maven plugin `quarkus-maven-plugin` to the section `pluginManagement`of the parent&#39;s `pom.xml`.\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nAfterwards, add just the plugin to the module, in this case the module which contains the endpoints (resource class).\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThis way, it&#39;ll be possible to run `quarkus dev` goal from the main folder of the project.\r\n\r\n","title":"Failed to start Quarkus in dev mode for multi module project: DevModeContext.getApplicationRoot() is null","body":"<p>The solution is to move the configuration of the Maven plugin <code>quarkus-maven-plugin</code> to the section <code>pluginManagement</code>of the parent's <code>pom.xml</code>.</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Afterwards, add just the plugin to the module, in this case the module which contains the endpoints (resource class).</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>This way, it'll be possible to run <code>quarkus dev</code> goal from the main folder of the project.</p>\n"}],"owner":{"account_id":748890,"reputation":9396,"user_id":730754,"accept_rate":50,"display_name":"Eduardo Y&#225;&#241;ez Parareda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74518232,"answer_count":1,"score":0,"last_activity_date":1669361730,"creation_date":1669027262,"question_id":74517618,"body_markdown":"*I&#39;ve updgraded to 2.14.1 Final, first version of the question was with 2.13.3 Final, also tried with 2.13.4.Final*\r\n\r\nLast update: I&#39;m on Quarkus 2.14.1 Final version.\r\n\r\nI switched my project to a multi-module structure, and now I cannot run quarkus in *dev* mode. I can build the project fine, but when I run ```quarkus dev``` I get this error:\r\n\r\n    [INFO] --- quarkus-maven-plugin:2.14.1.Final:dev (default-cli) @ my-project ---\r\n    Listening for transport dt_socket at address: 5005\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;io.quarkus.deployment.dev.DevModeContext$ModuleInfo.getMain()&quot; because the return value of &quot;io.quarkus.deployment.dev.DevModeContext.getApplicationRoot()&quot; is null\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:90)\r\n\tat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\r\n\r\nDo I need to tell Quarkus where are now the endpoints or something else?\r\n\r\n\r\nHow to reproduce it (I guess the Java version is not important):\r\n\r\n1 - Run:\r\n\r\n    quarkus create app --maven --java=19.0.1 --wrapper --package-name=com.myproject\r\n\r\nThis creates the ``code-with-quarkus`` project.\r\n\r\n\r\n2 - Then add a new module to the project, for example, `&#236;nfrastructure-web`.\r\n\r\n3 - Move the source code generated in step one to the module. This means moving `com.myproject.GreetingResource` to the new module `src/main/java` folder.\r\n\r\n4 - Run:\r\n\r\n    mvn clean install &amp;&amp; quarkus dev\r\n\r\n5 - You get the error I got.\r\n\r\n\r\nHere is a project with this problem: https://github.com/eyp/quarkus-dev-start-issue\r\n\r\n\r\n","title":"Failed to start Quarkus in dev mode for multi module project: DevModeContext.getApplicationRoot() is null","body":"<p><em>I've updgraded to 2.14.1 Final, first version of the question was with 2.13.3 Final, also tried with 2.13.4.Final</em></p>\n<p>Last update: I'm on Quarkus 2.14.1 Final version.</p>\n<p>I switched my project to a multi-module structure, and now I cannot run quarkus in <em>dev</em> mode. I can build the project fine, but when I run <code>quarkus dev</code> I get this error:</p>\n<pre><code>[INFO] --- quarkus-maven-plugin:2.14.1.Final:dev (default-cli) @ my-project ---\nListening for transport dt_socket at address: 5005\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;io.quarkus.deployment.dev.DevModeContext$ModuleInfo.getMain()&quot; because the return value of &quot;io.quarkus.deployment.dev.DevModeContext.getApplicationRoot()&quot; is null\nat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:90)\nat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\n</code></pre>\n<p>Do I need to tell Quarkus where are now the endpoints or something else?</p>\n<p>How to reproduce it (I guess the Java version is not important):</p>\n<p>1 - Run:</p>\n<pre><code>quarkus create app --maven --java=19.0.1 --wrapper --package-name=com.myproject\n</code></pre>\n<p>This creates the <code>code-with-quarkus</code> project.</p>\n<p>2 - Then add a new module to the project, for example, <code>ìnfrastructure-web</code>.</p>\n<p>3 - Move the source code generated in step one to the module. This means moving <code>com.myproject.GreetingResource</code> to the new module <code>src/main/java</code> folder.</p>\n<p>4 - Run:</p>\n<pre><code>mvn clean install &amp;&amp; quarkus dev\n</code></pre>\n<p>5 - You get the error I got.</p>\n<p>Here is a project with this problem: <a href=\"https://github.com/eyp/quarkus-dev-start-issue\" rel=\"nofollow noreferrer\">https://github.com/eyp/quarkus-dev-start-issue</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669355523,"creation_date":1669355523,"answer_id":74568780,"question_id":74568772,"body_markdown":"cast then add\r\n\r\n    long test = (long) (2147483647) + 1;\r\n    System.out.println(test);\r\n\r\n2147483648\r\n\r\nOtherwise you are adding two ints then casting","title":"Type Casting doesn&#39;t work for my variable","body":"<p>cast then add</p>\n<pre><code>long test = (long) (2147483647) + 1;\nSystem.out.println(test);\n</code></pre>\n<p>2147483648</p>\n<p>Otherwise you are adding two ints then casting</p>\n"},{"tags":[],"owner":{"account_id":25076889,"reputation":13,"user_id":18930205,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669361706,"creation_date":1669361706,"answer_id":74569527,"question_id":74568772,"body_markdown":"long test = (long) (2147483647+ 1); \r\n\r\n**Let&#39;s analyze it.**\r\n\r\nJava evaluates the expression in specific order. Addition is evaluated first on right side expression. As you have not defined the data type for &quot;2147483647&quot; explicitly, java saves it as integer implicitly . same for 1. Now since you are adding int data type variables, so result is int. i.e. -1. \r\n\r\nProblem here is that java implicitly calculates the datatype. \r\n\r\nSolution in such case where you know we need bigger datatype. Please explicitly inform java about it. \r\n\r\nIn this case we can easy do it by a small change as below:-\r\n\r\nlong test = (long) (2147483647**L**+ 1);\r\n\r\nEven you don&#39;t need long casting.","title":"Type Casting doesn&#39;t work for my variable","body":"<p>long test = (long) (2147483647+ 1);</p>\n<p><strong>Let's analyze it.</strong></p>\n<p>Java evaluates the expression in specific order. Addition is evaluated first on right side expression. As you have not defined the data type for &quot;2147483647&quot; explicitly, java saves it as integer implicitly . same for 1. Now since you are adding int data type variables, so result is int. i.e. -1.</p>\n<p>Problem here is that java implicitly calculates the datatype.</p>\n<p>Solution in such case where you know we need bigger datatype. Please explicitly inform java about it.</p>\n<p>In this case we can easy do it by a small change as below:-</p>\n<p>long test = (long) (2147483647<strong>L</strong>+ 1);</p>\n<p>Even you don't need long casting.</p>\n"}],"owner":{"account_id":26621762,"reputation":1,"user_id":20240448,"display_name":"Dari_OS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74568780,"answer_count":2,"score":-1,"last_activity_date":1669361706,"creation_date":1669355415,"question_id":74568772,"body_markdown":"Hello I am fairly new to java!\r\nI really struggle to solve this error and I can&#39;t finde anything on the internet.\r\nif I do:\r\n`long test = (long) (2147483647 + 1);`\r\n it sets *test* to an int even though I used long. why?\r\n\r\nI tryed it using max int value but still it doesn&#39;t worked.\r\n`long test = (long) (Integer.MAX_VALUE + 1);`\r\n","title":"Type Casting doesn&#39;t work for my variable","body":"<p>Hello I am fairly new to java!\nI really struggle to solve this error and I can't finde anything on the internet.\nif I do:\n<code>long test = (long) (2147483647 + 1);</code>\nit sets <em>test</em> to an int even though I used long. why?</p>\n<p>I tryed it using max int value but still it doesn't worked.\n<code>long test = (long) (Integer.MAX_VALUE + 1);</code></p>\n"},{"tags":["java","loops","while-loop"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375575124,"creation_date":1375575124,"answer_id":18038540,"question_id":18038533,"body_markdown":"You need to change the variable that is being tested, here input2, ***inside*** of the loop. Else there&#39;s no chance of exiting. All you change in the loop is the total variable while input2 remains unchanged, and so every time it is tested, it remains &gt;0 and that&#39;s why you&#39;re stuck. Why not give it another try, this time changing input2 (and still changing total as well, using input2), and see if you can&#39;t get it.","title":"Using while loop in java","body":"<p>You need to change the variable that is being tested, here input2, <strong><em>inside</em></strong> of the loop. Else there's no chance of exiting. All you change in the loop is the total variable while input2 remains unchanged, and so every time it is tested, it remains >0 and that's why you're stuck. Why not give it another try, this time changing input2 (and still changing total as well, using input2), and see if you can't get it.</p>\n"},{"tags":[],"owner":{"account_id":1285619,"reputation":329,"user_id":1238771,"display_name":"Prem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375575593,"creation_date":1375575593,"answer_id":18038588,"question_id":18038533,"body_markdown":"The number you accept inside the loop is not storing into the input2 variable. So the program will never exit.By the way you don&#39;t even need input2. variable input1 is enough. See the sample program \r\nbelow:\r\n\r\n    public static void main(String[] args){\r\n    \r\n    \r\n                System.out.println(&quot;Enter an integer: &quot;);\r\n    \r\n                Scanner entry = new Scanner(System.in);\r\n                int input1 = entry.nextInt();\r\n    \r\n                \r\n                int total =input1;\r\n    \r\n                while (input1 &gt; 0){\r\n                \tSystem.out.println(total + &quot;\\nEnter another interger:  &quot;);\r\n                    input1 = entry.nextInt();\r\n                    total += input1;\r\n                       \r\n                }\r\n        }","title":"Using while loop in java","body":"<p>The number you accept inside the loop is not storing into the input2 variable. So the program will never exit.By the way you don't even need input2. variable input1 is enough. See the sample program \nbelow:</p>\n\n<pre><code>public static void main(String[] args){\n\n\n            System.out.println(\"Enter an integer: \");\n\n            Scanner entry = new Scanner(System.in);\n            int input1 = entry.nextInt();\n\n\n            int total =input1;\n\n            while (input1 &gt; 0){\n                System.out.println(total + \"\\nEnter another interger:  \");\n                input1 = entry.nextInt();\n                total += input1;\n\n            }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1482632,"reputation":708,"user_id":1476401,"display_name":"Pandacoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375576232,"creation_date":1375576232,"answer_id":18038645,"question_id":18038533,"body_markdown":"Your input1 and input2 being added in directly kind of defect the purpose of quitting on the first entered negative number, but the code I displayed below works. It will only prompt the user for any additional numbers if the number entered is non-negative, and it will only sum the entered number if the number is non-negative.\r\n\r\n\tpackage stackoverflow.answers;\r\n\t\r\n\timport java.util.Scanner;\r\n\t\r\n\tpublic class Total {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint total = 0, input = 0;\r\n\t\t\t\r\n\t\t\t/* Print out your &quot;request&quot; for an integer\r\n\t\t\t * so the user knows to enter something.\r\n\t\t\t */\r\n\t\t\tSystem.out.print(&quot;Enter an integer: &quot;);\r\n\t\t\t\r\n\t\t\t/* Create a Scanner on the System.in stream */\r\n\t\t\tScanner entry = new Scanner(System.in);\r\n\t\t\t\r\n\t\t\t/* Loop while the entered number is &gt; 0 */\r\n\t\t\twhile ((input = entry.nextInt()) &gt; 0) {\r\n\t\t\t\t/* If the input &gt; 0, add it to total */\r\n\t\t\t\ttotal += input;\r\n\t\t\t\t\r\n\t\t\t\t/* Print out the request again. */\r\n\t\t\t\tSystem.out.print(&quot;Total: &quot; + total + &quot;\\nEnter an integer: &quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Just for kicks, print out the total\r\n\t\t\t * (only useful if the first entered number\r\n\t\t\t * is negative and the total would be 0). */\r\n\t\t\tSystem.out.println(&quot;Total: &quot; + total);\r\n\t\t}\r\n\t}\r\n\r\nIf you want to sum the negative number, and THEN quit, I suggest changing the while loop to a do-while loop, like this:\r\n\r\n\t\t\t/* Get an integer and add it to the sum, and\r\n\t\t\t * then loop while the entered number is &gt; 0 */\r\n\t\t\tdo {\r\n\t\t\t\t/* Get the integer */\r\n\t\t\t\tinput = entry.nextInt();\r\n\t\t\t\t\r\n\t\t\t\t/* If the input &gt; 0, add it to total */\r\n\t\t\t\ttotal += input;\r\n\t\t\t\t\r\n\t\t\t\t/* Print out the request again. */\r\n\t\t\t\tSystem.out.print(&quot;Total: &quot; + total + &quot;\\nEnter an integer: &quot;);\r\n\t\t\t} while (input &gt; 0);","title":"Using while loop in java","body":"<p>Your input1 and input2 being added in directly kind of defect the purpose of quitting on the first entered negative number, but the code I displayed below works. It will only prompt the user for any additional numbers if the number entered is non-negative, and it will only sum the entered number if the number is non-negative.</p>\n\n<pre><code>package stackoverflow.answers;\n\nimport java.util.Scanner;\n\npublic class Total {\n    public static void main(String[] args) {\n        int total = 0, input = 0;\n\n        /* Print out your \"request\" for an integer\n         * so the user knows to enter something.\n         */\n        System.out.print(\"Enter an integer: \");\n\n        /* Create a Scanner on the System.in stream */\n        Scanner entry = new Scanner(System.in);\n\n        /* Loop while the entered number is &gt; 0 */\n        while ((input = entry.nextInt()) &gt; 0) {\n            /* If the input &gt; 0, add it to total */\n            total += input;\n\n            /* Print out the request again. */\n            System.out.print(\"Total: \" + total + \"\\nEnter an integer: \");\n        }\n\n        /* Just for kicks, print out the total\n         * (only useful if the first entered number\n         * is negative and the total would be 0). */\n        System.out.println(\"Total: \" + total);\n    }\n}\n</code></pre>\n\n<p>If you want to sum the negative number, and THEN quit, I suggest changing the while loop to a do-while loop, like this:</p>\n\n<pre><code>        /* Get an integer and add it to the sum, and\n         * then loop while the entered number is &gt; 0 */\n        do {\n            /* Get the integer */\n            input = entry.nextInt();\n\n            /* If the input &gt; 0, add it to total */\n            total += input;\n\n            /* Print out the request again. */\n            System.out.print(\"Total: \" + total + \"\\nEnter an integer: \");\n        } while (input &gt; 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8280015,"reputation":69,"user_id":6225013,"display_name":"Sidarth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464112959,"creation_date":1464112132,"answer_id":37420525,"question_id":18038533,"body_markdown":"    public class WhileLoopExample {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint i=1;\r\n    \t\tSystem.out.println(&quot;While Loop Demo&quot;);\r\n    \t\twhile(i&lt;=10){\r\n    \t\t\tSystem.out.println(i);\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"Using while loop in java","body":"<pre><code>public class WhileLoopExample {\n\n    public static void main(String[] args) {\n\n        int i=1;\n        System.out.println(\"While Loop Demo\");\n        while(i&lt;=10){\n            System.out.println(i);\n            i++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6979608,"reputation":298,"user_id":5353056,"display_name":"Shubham Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464113920,"creation_date":1464113920,"answer_id":37421055,"question_id":18038533,"body_markdown":"    int input1 = entry.nextInt();\r\n\r\n            System.out.println(&quot;Enter another integer: &quot;);\r\n            int input2 = entry.nextInt();\r\n\r\n            int total = input1 + input2;\r\n\r\n            while (input2 &gt; 0){            \r\n                System.out.println(total + &quot;\\nEnter another interger:  &quot;);\r\n                total += entry.nextInt();\r\n  In last line you are directly taking the input without checking its positivity you are directly adding it to total. Also, in while loop your condition is `while(input2&gt;0)`. Suppose your input2 gets a positive value then the while loop will never end. So make the change by replacing the code with below code\r\n \r\n    int input1 = entry.nextInt();\r\n                \r\n                 if(input1&gt;0)\r\n                int total =input1;\r\n                \r\n                    while (input1 &gt; 0){\r\n                    System.out.println(total + &quot;\\nEnter another interger:  &quot;);\r\n                    input1 = entry.nextInt();\r\n                        if(input1&gt;0)\r\n                    total += input1;\r\n                   }\r\n   ","title":"Using while loop in java","body":"<pre><code>int input1 = entry.nextInt();\n\n        System.out.println(\"Enter another integer: \");\n        int input2 = entry.nextInt();\n\n        int total = input1 + input2;\n\n        while (input2 &gt; 0){            \n            System.out.println(total + \"\\nEnter another interger:  \");\n            total += entry.nextInt();\n</code></pre>\n\n<p>In last line you are directly taking the input without checking its positivity you are directly adding it to total. Also, in while loop your condition is <code>while(input2&gt;0)</code>. Suppose your input2 gets a positive value then the while loop will never end. So make the change by replacing the code with below code</p>\n\n<pre><code>int input1 = entry.nextInt();\n\n             if(input1&gt;0)\n            int total =input1;\n\n                while (input1 &gt; 0){\n                System.out.println(total + \"\\nEnter another interger:  \");\n                input1 = entry.nextInt();\n                    if(input1&gt;0)\n                total += input1;\n               }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11179090,"reputation":9,"user_id":8203643,"display_name":"Prince Gera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498201160,"creation_date":1498201160,"answer_id":44715032,"question_id":18038533,"body_markdown":"    while(Boolean_expression) {\r\n       // Statements\r\n    }\r\n    \r\n    \r\n**Boolean_expression  like true/false;**\r\n    \r\n    // Statements like     System.out.prinln(&quot;Jai Shree Ram&quot;);","title":"Using while loop in java","body":"<pre><code>while(Boolean_expression) {\n   // Statements\n}\n</code></pre>\n\n<p><strong>Boolean_expression  like true/false;</strong></p>\n\n<pre><code>// Statements like     System.out.prinln(\"Jai Shree Ram\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23271474,"reputation":1,"user_id":17356245,"display_name":"Bryan Loo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669020616,"creation_date":1669020616,"answer_id":74516263,"question_id":18038533,"body_markdown":"Here&#39;s a simple change, instead of using a while loop, you could try using a do while loop! I know this is late, but I&#39;m learning along the way and I&#39;m taking this as a practise! \r\n\r\n    \r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter an integer: &quot;);\r\n        int input1 = scanner.nextInt();\r\n\r\n        System.out.println(&quot;Enter another integer: &quot;);\r\n        int input2 = scanner.nextInt();\r\n\r\n        int total = input1 + input2;\r\n\r\n        do{\r\n            System.out.println(total + &quot;\\nEnter another integer: &quot;);\r\n            input2 = scanner.nextInt();\r\n            total += input2;\r\n        }while(input2 &gt; 0); //leaves when  input is &lt; 0\r\n\r\n \r\n\r\nBased on my understanding, input2 variable has already been assigned a value before the loop even started, hence when you try to input again it&#39;ll not work because you did not change your input2 variable. Thanks for the problem!","title":"Using while loop in java","body":"<p>Here's a simple change, instead of using a while loop, you could try using a do while loop! I know this is late, but I'm learning along the way and I'm taking this as a practise!</p>\n<pre><code>    Scanner scanner = new Scanner(System.in);\n\n    System.out.println(&quot;Enter an integer: &quot;);\n    int input1 = scanner.nextInt();\n\n    System.out.println(&quot;Enter another integer: &quot;);\n    int input2 = scanner.nextInt();\n\n    int total = input1 + input2;\n\n    do{\n        System.out.println(total + &quot;\\nEnter another integer: &quot;);\n        input2 = scanner.nextInt();\n        total += input2;\n    }while(input2 &gt; 0); //leaves when  input is &lt; 0\n</code></pre>\n<p>Based on my understanding, input2 variable has already been assigned a value before the loop even started, hence when you try to input again it'll not work because you did not change your input2 variable. Thanks for the problem!</p>\n"},{"tags":[],"owner":{"account_id":27042428,"reputation":1,"user_id":20597086,"display_name":"user20597086"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669361666,"creation_date":1669361666,"answer_id":74569519,"question_id":18038533,"body_markdown":"Q1 - Define a scanner object called\r\ninput, and let the user enter 10\r\nnumbers, then do a summation of all\r\nthe 10 numbers, and print the result\r\nof the operation at the end.","title":"Using while loop in java","body":"<p>Q1 - Define a scanner object called\ninput, and let the user enter 10\nnumbers, then do a summation of all\nthe 10 numbers, and print the result\nof the operation at the end.</p>\n"}],"owner":{"account_id":3016625,"reputation":117,"user_id":2558608,"accept_rate":0,"display_name":"Neo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23150,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":8,"score":3,"last_activity_date":1669361666,"creation_date":1375575036,"question_id":18038533,"body_markdown":"I&#39;m trying to read in and add up (only) positive integers until a negative integer is entered. The program is supposed to stop only when a negative integer is entered. The best I&#39;ve been able to come up with is the code below but the problem is it doesn&#39;t stop even when a negative integer is read. PS: I&#39;m still learning so please bear with me. I&#39;ve tried adding `&amp;&amp; input2!&lt;0` to the while loop condition but it comes up as an error. Any suggestions as to how I can make it behave the way I want it to? Thanks.\r\n\r\n    public class Total{\r\n        public static void main(String[] args){\r\n\r\n                System.out.println(&quot;Enter an integer: &quot;);\r\n\r\n                Scanner entry = new Scanner(System.in);\r\n                int input1 = entry.nextInt();\r\n                \r\n                System.out.println(&quot;Enter another integer: &quot;);\r\n                int input2 = entry.nextInt();\r\n                \r\n                int total = input1 + input2;\r\n                                \r\n                while (input2 &gt; 0){            \r\n                    System.out.println(total + &quot;\\nEnter another interger:  &quot;);\r\n                    total += entry.nextInt();\r\n                }\r\n        }\r\n    }","title":"Using while loop in java","body":"<p>I'm trying to read in and add up (only) positive integers until a negative integer is entered. The program is supposed to stop only when a negative integer is entered. The best I've been able to come up with is the code below but the problem is it doesn't stop even when a negative integer is read. PS: I'm still learning so please bear with me. I've tried adding <code>&amp;&amp; input2!&lt;0</code> to the while loop condition but it comes up as an error. Any suggestions as to how I can make it behave the way I want it to? Thanks.</p>\n\n<pre><code>public class Total{\n    public static void main(String[] args){\n\n            System.out.println(\"Enter an integer: \");\n\n            Scanner entry = new Scanner(System.in);\n            int input1 = entry.nextInt();\n\n            System.out.println(\"Enter another integer: \");\n            int input2 = entry.nextInt();\n\n            int total = input1 + input2;\n\n            while (input2 &gt; 0){            \n                System.out.println(total + \"\\nEnter another interger:  \");\n                total += entry.nextInt();\n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","string","android-edittext"],"comments":[{"owner":{"account_id":24266621,"reputation":449,"user_id":18215416,"display_name":"R0ck"},"score":0,"creation_date":1669308577,"post_id":74563154,"comment_id":131619872,"body_markdown":"Can you share your `strings.xml` code please?","body":"Can you share your <code>strings.xml</code> code please?"},{"owner":{"account_id":18464918,"reputation":3,"user_id":13451405,"display_name":"TEEPEE"},"score":0,"creation_date":1669354988,"post_id":74563154,"comment_id":131627592,"body_markdown":"Hi ive edit out my question and provided a code snippet for the string xml. Thank you","body":"Hi ive edit out my question and provided a code snippet for the string xml. Thank you"},{"owner":{"account_id":24266621,"reputation":449,"user_id":18215416,"display_name":"R0ck"},"score":0,"creation_date":1669366587,"post_id":74563154,"comment_id":131630076,"body_markdown":"Thank you! Now, for what do you need the specifiers?","body":"Thank you! Now, for what do you need the specifiers?"},{"owner":{"account_id":18464918,"reputation":3,"user_id":13451405,"display_name":"TEEPEE"},"score":0,"creation_date":1670259153,"post_id":74563154,"comment_id":131829712,"body_markdown":"Are they not compulsory to be included in your string.xml to identify the type of Strings you using example  %d decimal number or % s for Strings? cause if you do not include them you get an error calling the getString(R.string.surname,theSurname) method","body":"Are they not compulsory to be included in your string.xml to identify the type of Strings you using example  %d decimal number or % s for Strings? cause if you do not include them you get an error calling the getString(R.string.surname,theSurname) method"},{"owner":{"account_id":18464918,"reputation":3,"user_id":13451405,"display_name":"TEEPEE"},"score":0,"creation_date":1670260342,"post_id":74563154,"comment_id":131830090,"body_markdown":"After adding the %s to the string.xml the error goes away but another problem occurs when these specifiers get included in your hint attribute value of your edit text","body":"After adding the %s to the string.xml the error goes away but another problem occurs when these specifiers get included in your hint attribute value of your edit text"}],"answers":[{"tags":[],"owner":{"account_id":23891321,"reputation":46,"user_id":17890931,"display_name":"Aimen Izhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669361479,"creation_date":1669361479,"answer_id":74569494,"question_id":74563154,"body_markdown":"You can not hide it from user. You can set empty string from your code to make it go away. Like this\r\n\r\n    if(surname == &quot;&quot; ||surname == null){\r\n    yourEditText.setText(getString(R.string.surname,&quot;&quot;))\r\n    }","title":"On Android studio the format specifiers %s are visible in my edit text and I don&#39;t know how to remove them","body":"<p>You can not hide it from user. You can set empty string from your code to make it go away. Like this</p>\n<pre><code>if(surname == &quot;&quot; ||surname == null){\nyourEditText.setText(getString(R.string.surname,&quot;&quot;))\n}\n</code></pre>\n"}],"owner":{"account_id":18464918,"reputation":3,"user_id":13451405,"display_name":"TEEPEE"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74569494,"answer_count":1,"score":0,"last_activity_date":1669361479,"creation_date":1669304226,"question_id":74563154,"body_markdown":"    `&lt;resources xmlns:xliff=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;\r\n        &lt;!-- App name --&gt;\r\n        &lt;string name=&quot;app_name&quot;&gt;Form&lt;/string&gt;\r\n        &lt;!--Email subject --&gt;\r\n        &lt;string name=&quot;vehicle_finance_application_for&quot;&gt;Vehicle finance application for :&lt;xliff:g example=&quot;Amy&quot; id=&quot;surname&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;!-- Form header  --&gt;\r\n        &lt;string name=&quot;vehicle_finance_application&quot;&gt;Vehicle finance application&lt;/string&gt;\r\n        &lt;!--Mxo cars application form order    --&gt;\r\n        &lt;!-- Personal information--&gt;\r\n        &lt;string name=&quot;surname&quot;&gt;Surname :&lt;xliff:g example=&quot;Peterson&quot; id=&quot;surname&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;name&quot;&gt;Full names :&lt;xliff:g example=&quot;John&quot; id=&quot;name&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;id_number&quot;&gt;Id number :&lt;xliff:g example=&quot;560708080&quot; id=&quot;id number&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;cell_number&quot;&gt;Cell number :&lt;xliff:g example=&quot;0123513460&quot; id=&quot;cell number&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;email&quot;&gt;Email :&lt;xliff:g example=&quot;kevin@gmail.com&quot; id=&quot;email&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;land_line&quot;&gt;landline :&lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string-array name=&quot;marital_status_array&quot;&gt;\r\n            &lt;item&gt;Not Selected&lt;/item&gt;\r\n            &lt;item&gt;Yes I am married&lt;/item&gt;\r\n            &lt;item&gt;No I am not married&lt;/item&gt;\r\n            &lt;item&gt;Divorced&lt;/item&gt;\r\n            &lt;item&gt;Widowed&lt;/item&gt;\r\n            &lt;/string-array&gt;\r\n        &lt;string-array name=&quot;graduate_status_array&quot;&gt;\r\n            &lt;item&gt;Not Selected&lt;/item&gt;\r\n            &lt;item&gt;Yes I am graduate&lt;/item&gt;\r\n            &lt;item&gt;No I am not a graduate&lt;/item&gt;\r\n        &lt;/string-array&gt;\r\n        &lt;string name=&quot;home_address&quot;&gt;Home address : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;postal_code&quot;&gt;Postal code : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;how_many_years_have_you_been_living_there&quot;&gt;How many years have you been living there :&lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;postal_address&quot;&gt;Postal address :&lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string-array name=&quot;homeowner_status_array&quot;&gt;\r\n            &lt;item&gt;Not Selected&lt;/item&gt;\r\n            &lt;item&gt;Yes I am a home owner&lt;/item&gt;\r\n            &lt;item&gt;No I don\\&#39;t own property&lt;/item&gt;\r\n        &lt;/string-array&gt;\r\n        &lt;!--Employment information--&gt;\r\n        &lt;string name=&quot;employers_name&quot;&gt;Employers name : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;employers_contact&quot;&gt;Employers contact number : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;employers_address&quot;&gt;Employers address : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;number_of_years_employed&quot;&gt;Number of years employed : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;occupation&quot;&gt;Occupation : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;industry&quot;&gt;Industry : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;!--Bank details--&gt;\r\n        &lt;string name=&quot;bank&quot;&gt;Bank : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;bank_account_number&quot;&gt;Bank account number : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;bank_branch&quot;&gt;Bank branch code : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;!--Spouse Information--&gt;\r\n        &lt;string name=&quot;spouse_name&quot;&gt;Spouse name : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;spouse_surname&quot;&gt;Spouse surname : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;spouse_id_number&quot;&gt;Spouse id number : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;spouse_contact_number&quot;&gt;Spouse contact number : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;!--Relative not residing with you--&gt;\r\n        &lt;string name=&quot;relationship_of_relative&quot;&gt;What is the relationship : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;full_names_of_relative&quot;&gt;Full names of relative : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;surname_of_relative&quot;&gt;Surname of relative : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;phone_number_of_relative&quot;&gt;Phone number of relative : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;address_of_relative&quot;&gt;Address of relative : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;!--Financial information--&gt;\r\n        &lt;string name=&quot;gross&quot;&gt;Gross : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;net_income&quot;&gt;Net income : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;do_you_have_additional_income&quot;&gt;Do you have additional income : &lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;source_of_additional_income&quot;&gt;Source of additional income : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;clothing_account&quot;&gt;Clothing account : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;!--Expenses--&gt;\r\n        &lt;string name=&quot;personal_loan&quot;&gt;Personal loan : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;insurance&quot;&gt;Insurance : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;bond_or_renting&quot;&gt;Bond or renting payment : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;municipality&quot;&gt;Municipality : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;credit_card&quot;&gt;Credit card : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;overdraft&quot;&gt;Overdraft : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;phone_account&quot;&gt;Phone account : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;transport&quot;&gt;Transport cost : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;food_or_entertainment&quot;&gt;Food or entertainment : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;education_fees&quot;&gt;Education fees : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;maintenance&quot;&gt;Maintenance : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;string name=&quot;household_expenses&quot;&gt;Household expenses : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;other_expenses&quot;&gt;Other expenses : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\r\n        &lt;!--Send button--&gt;\r\n        &lt;string name=&quot;send&quot;&gt;Send&lt;/string&gt;\r\n    \r\n        &lt;!--Parameter strings for spinner questions in vehicle application form--&gt;\r\n        &lt;string name=&quot;are_you_married&quot;&gt;Married : &lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;are_you_a_graduate&quot;&gt;Graduate : &lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n        &lt;string name=&quot;are_you_a_home_owner&quot;&gt;Home owner : &lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\r\n    \r\n        &lt;!-- Spinner header text questions   --&gt;\r\n        &lt;string name=&quot;please_tell_us_if_you_married&quot;&gt;Please tell us if you married?&lt;/string&gt;\r\n        &lt;string name=&quot;please_tell_us_if_you_a_graduate&quot;&gt;Please tell us if you a graduate ?&lt;/string&gt;\r\n        &lt;string name=&quot;do_you_own_property&quot;&gt;Do you own property ?&lt;/string&gt;\r\n    &lt;!--Header for sections of the vehicle application     --&gt;\r\n        &lt;string name=&quot;personal_information&quot;&gt;Personal information&lt;/string&gt;\r\n        &lt;string name=&quot;employer_information&quot;&gt;Employer Information&lt;/string&gt;\r\n        &lt;string name=&quot;spouse_information&quot;&gt;Spouse information&lt;/string&gt;\r\n        &lt;string name=&quot;relative_information&quot;&gt;Relative information&lt;/string&gt;\r\n        &lt;string name=&quot;how_are_you_related&quot;&gt;How are you related&lt;/string&gt;\r\n        &lt;string name=&quot;personal_expenses&quot;&gt;Personal Expenses&lt;/string&gt;\r\n        &lt;string name=&quot;financial_information&quot;&gt;Financial information&lt;/string&gt;\r\n        &lt;string name=&quot;bank_details&quot;&gt;Bank details&lt;/string&gt;\r\n    \r\n    \r\n    &lt;/resources&gt;`\r\n\r\nI&#39;m having a problem with format specifiers being visible in the edit text. I have tried to read the Android documentation about formatting strings and I failed to understand how it all works.\r\n\r\nI&#39;ve included format character `%s` in my `string.xml` file and its does not help with format specifiers being visible in the edit text autonomously concatenating with the hint of the edit text view. \r\n\r\n![enter image description here](https://i.stack.imgur.com/nDmdK.png)","title":"On Android studio the format specifiers %s are visible in my edit text and I don&#39;t know how to remove them","body":"<pre><code>`&lt;resources xmlns:xliff=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;\n    &lt;!-- App name --&gt;\n    &lt;string name=&quot;app_name&quot;&gt;Form&lt;/string&gt;\n    &lt;!--Email subject --&gt;\n    &lt;string name=&quot;vehicle_finance_application_for&quot;&gt;Vehicle finance application for :&lt;xliff:g example=&quot;Amy&quot; id=&quot;surname&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;!-- Form header  --&gt;\n    &lt;string name=&quot;vehicle_finance_application&quot;&gt;Vehicle finance application&lt;/string&gt;\n    &lt;!--Mxo cars application form order    --&gt;\n    &lt;!-- Personal information--&gt;\n    &lt;string name=&quot;surname&quot;&gt;Surname :&lt;xliff:g example=&quot;Peterson&quot; id=&quot;surname&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;name&quot;&gt;Full names :&lt;xliff:g example=&quot;John&quot; id=&quot;name&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;id_number&quot;&gt;Id number :&lt;xliff:g example=&quot;560708080&quot; id=&quot;id number&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;cell_number&quot;&gt;Cell number :&lt;xliff:g example=&quot;0123513460&quot; id=&quot;cell number&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;email&quot;&gt;Email :&lt;xliff:g example=&quot;kevin@gmail.com&quot; id=&quot;email&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;land_line&quot;&gt;landline :&lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string-array name=&quot;marital_status_array&quot;&gt;\n        &lt;item&gt;Not Selected&lt;/item&gt;\n        &lt;item&gt;Yes I am married&lt;/item&gt;\n        &lt;item&gt;No I am not married&lt;/item&gt;\n        &lt;item&gt;Divorced&lt;/item&gt;\n        &lt;item&gt;Widowed&lt;/item&gt;\n        &lt;/string-array&gt;\n    &lt;string-array name=&quot;graduate_status_array&quot;&gt;\n        &lt;item&gt;Not Selected&lt;/item&gt;\n        &lt;item&gt;Yes I am graduate&lt;/item&gt;\n        &lt;item&gt;No I am not a graduate&lt;/item&gt;\n    &lt;/string-array&gt;\n    &lt;string name=&quot;home_address&quot;&gt;Home address : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;postal_code&quot;&gt;Postal code : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;how_many_years_have_you_been_living_there&quot;&gt;How many years have you been living there :&lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;postal_address&quot;&gt;Postal address :&lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string-array name=&quot;homeowner_status_array&quot;&gt;\n        &lt;item&gt;Not Selected&lt;/item&gt;\n        &lt;item&gt;Yes I am a home owner&lt;/item&gt;\n        &lt;item&gt;No I don\\'t own property&lt;/item&gt;\n    &lt;/string-array&gt;\n    &lt;!--Employment information--&gt;\n    &lt;string name=&quot;employers_name&quot;&gt;Employers name : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;employers_contact&quot;&gt;Employers contact number : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;employers_address&quot;&gt;Employers address : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;number_of_years_employed&quot;&gt;Number of years employed : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;occupation&quot;&gt;Occupation : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;industry&quot;&gt;Industry : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;!--Bank details--&gt;\n    &lt;string name=&quot;bank&quot;&gt;Bank : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;bank_account_number&quot;&gt;Bank account number : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;bank_branch&quot;&gt;Bank branch code : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;!--Spouse Information--&gt;\n    &lt;string name=&quot;spouse_name&quot;&gt;Spouse name : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;spouse_surname&quot;&gt;Spouse surname : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;spouse_id_number&quot;&gt;Spouse id number : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;spouse_contact_number&quot;&gt;Spouse contact number : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;!--Relative not residing with you--&gt;\n    &lt;string name=&quot;relationship_of_relative&quot;&gt;What is the relationship : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;full_names_of_relative&quot;&gt;Full names of relative : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;surname_of_relative&quot;&gt;Surname of relative : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;phone_number_of_relative&quot;&gt;Phone number of relative : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;address_of_relative&quot;&gt;Address of relative : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;!--Financial information--&gt;\n    &lt;string name=&quot;gross&quot;&gt;Gross : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;net_income&quot;&gt;Net income : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;do_you_have_additional_income&quot;&gt;Do you have additional income : &lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;source_of_additional_income&quot;&gt;Source of additional income : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;clothing_account&quot;&gt;Clothing account : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;!--Expenses--&gt;\n    &lt;string name=&quot;personal_loan&quot;&gt;Personal loan : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;insurance&quot;&gt;Insurance : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;bond_or_renting&quot;&gt;Bond or renting payment : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;municipality&quot;&gt;Municipality : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;credit_card&quot;&gt;Credit card : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;overdraft&quot;&gt;Overdraft : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;phone_account&quot;&gt;Phone account : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;transport&quot;&gt;Transport cost : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;food_or_entertainment&quot;&gt;Food or entertainment : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;education_fees&quot;&gt;Education fees : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;maintenance&quot;&gt;Maintenance : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;string name=&quot;household_expenses&quot;&gt;Household expenses : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;other_expenses&quot;&gt;Other expenses : &lt;xliff:g example=&quot;Po box 1202 shirley street&quot; id=&quot;address&quot;&gt;%s&lt;/xliff:g&gt; &lt;/string&gt;\n    &lt;!--Send button--&gt;\n    &lt;string name=&quot;send&quot;&gt;Send&lt;/string&gt;\n\n    &lt;!--Parameter strings for spinner questions in vehicle application form--&gt;\n    &lt;string name=&quot;are_you_married&quot;&gt;Married : &lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;are_you_a_graduate&quot;&gt;Graduate : &lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;are_you_a_home_owner&quot;&gt;Home owner : &lt;xliff:g example=&quot;0127395679&quot; id=&quot;landline&quot;&gt;%s&lt;/xliff:g&gt;&lt;/string&gt;\n\n    &lt;!-- Spinner header text questions   --&gt;\n    &lt;string name=&quot;please_tell_us_if_you_married&quot;&gt;Please tell us if you married?&lt;/string&gt;\n    &lt;string name=&quot;please_tell_us_if_you_a_graduate&quot;&gt;Please tell us if you a graduate ?&lt;/string&gt;\n    &lt;string name=&quot;do_you_own_property&quot;&gt;Do you own property ?&lt;/string&gt;\n&lt;!--Header for sections of the vehicle application     --&gt;\n    &lt;string name=&quot;personal_information&quot;&gt;Personal information&lt;/string&gt;\n    &lt;string name=&quot;employer_information&quot;&gt;Employer Information&lt;/string&gt;\n    &lt;string name=&quot;spouse_information&quot;&gt;Spouse information&lt;/string&gt;\n    &lt;string name=&quot;relative_information&quot;&gt;Relative information&lt;/string&gt;\n    &lt;string name=&quot;how_are_you_related&quot;&gt;How are you related&lt;/string&gt;\n    &lt;string name=&quot;personal_expenses&quot;&gt;Personal Expenses&lt;/string&gt;\n    &lt;string name=&quot;financial_information&quot;&gt;Financial information&lt;/string&gt;\n    &lt;string name=&quot;bank_details&quot;&gt;Bank details&lt;/string&gt;\n\n\n&lt;/resources&gt;`\n</code></pre>\n<p>I'm having a problem with format specifiers being visible in the edit text. I have tried to read the Android documentation about formatting strings and I failed to understand how it all works.</p>\n<p>I've included format character <code>%s</code> in my <code>string.xml</code> file and its does not help with format specifiers being visible in the edit text autonomously concatenating with the hint of the edit text view.</p>\n<p><img src=\"https://i.stack.imgur.com/nDmdK.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","conditional-statements","jtable"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1669362083,"post_id":74569164,"comment_id":131628940,"body_markdown":"probably add a `CellEditorListener` to the corresponding cell editor (`getDefaultCellEditor()`) or even use a customized cell editor - also have a look at Oracle&#39;s Tutorial section [Using an Editor to Validate User-Entered Text](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#validtext) (including the other sections)","body":"probably add a <code>CellEditorListener</code> to the corresponding cell editor (<code>getDefaultCellEditor()</code>) or even use a customized cell editor - also have a look at Oracle&#39;s Tutorial section <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#validtext\" rel=\"nofollow noreferrer\">Using an Editor to Validate User-Entered Text</a> (including the other sections)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1669392565,"post_id":74569164,"comment_id":131638399,"body_markdown":"Create a custom cell editor. Check out: https://stackoverflow.com/a/64190732/131872 for an example.","body":"Create a custom cell editor. Check out: <a href=\"https://stackoverflow.com/a/64190732/131872\">stackoverflow.com/a/64190732/131872</a> for an example."}],"owner":{"account_id":27041989,"reputation":1,"user_id":20596706,"display_name":"Andrei Gloriane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669361064,"creation_date":1669358978,"question_id":74569164,"body_markdown":"How to put a if else condition in a specific column in jtable. the condition is that.. if you put a number that is less than or equal to 3 (&lt;=3) there will be a pop up a msg that the value is too low.\r\n\r\nI don&#39;t know where to put the code im still new in using a jtable","title":"How to put a condition in a specific column in jtable","body":"<p>How to put a if else condition in a specific column in jtable. the condition is that.. if you put a number that is less than or equal to 3 (&lt;=3) there will be a pop up a msg that the value is too low.</p>\n<p>I don't know where to put the code im still new in using a jtable</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1669352307,"post_id":74568268,"comment_id":131627254,"body_markdown":"I dont think so its possible. but you can limit result using `size` param.","body":"I dont think so its possible. but you can limit result using <code>size</code> param."}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669359835,"creation_date":1669359835,"answer_id":74569269,"question_id":74568268,"body_markdown":"Have a look at https://stackoverflow.com/questions/56058104/elastic-query-to-return-only-max-score-records and https://stackoverflow.com/questions/34860389/elasticsearch-max-score. Even with adding a filter query it seems not possible (at least not without some complex scripting) to achieve this.\r\n\r\nWhat I&#39;d do: Use paged request with a page size of let&#39;s say 10. When reading the first result, the `SearchHits&lt;T&gt;` returned by Spring Data Elasticsearch contains the `maxScore` of the result. With this value you can calculate your threshold value. Then keep reading the next page until you encounter the first element that has a score below that threshold value. ","title":"Spring elasticsearch - limit result based on percentage range of score?","body":"<p>Have a look at <a href=\"https://stackoverflow.com/questions/56058104/elastic-query-to-return-only-max-score-records\">Elastic query to return only max score records</a> and <a href=\"https://stackoverflow.com/questions/34860389/elasticsearch-max-score\">ElasticSearch max score</a>. Even with adding a filter query it seems not possible (at least not without some complex scripting) to achieve this.</p>\n<p>What I'd do: Use paged request with a page size of let's say 10. When reading the first result, the <code>SearchHits&lt;T&gt;</code> returned by Spring Data Elasticsearch contains the <code>maxScore</code> of the result. With this value you can calculate your threshold value. Then keep reading the next page until you encounter the first element that has a score below that threshold value.</p>\n"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669359835,"creation_date":1669349488,"question_id":74568268,"body_markdown":"We are currently returning many documents for each index we are searching in. But score for each document could be very different. eg score of 1st object = 5, score of 50th object = 0.0001. In this case we can definitely say thay we don&#39;t need objects with so low score.\r\n\r\nWe want to limit the search result via 80% score of the first result. For example, if the first result score is 5, then we will just show records where score is between 4-5 (since 80% of 5 is 4)\r\n\r\nIs this possible in spring elasticsearch?","title":"Spring elasticsearch - limit result based on percentage range of score?","body":"<p>We are currently returning many documents for each index we are searching in. But score for each document could be very different. eg score of 1st object = 5, score of 50th object = 0.0001. In this case we can definitely say thay we don't need objects with so low score.</p>\n<p>We want to limit the search result via 80% score of the first result. For example, if the first result score is 5, then we will just show records where score is between 4-5 (since 80% of 5 is 4)</p>\n<p>Is this possible in spring elasticsearch?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":124787,"reputation":9383,"user_id":320111,"display_name":"Stephan Branczyk"},"score":4,"creation_date":1669325619,"post_id":74566354,"comment_id":131623788,"body_markdown":"&quot;Intellij seems to throw error.&quot; Yes? What&#39;s the error? You know, knowing the error is very important. In fact, that&#39;s the first thing you should have done, you should have copied the error on your clipboard and googled it.","body":"&quot;Intellij seems to throw error.&quot; Yes? What&#39;s the error? You know, knowing the error is very important. In fact, that&#39;s the first thing you should have done, you should have copied the error on your clipboard and googled it."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669326732,"creation_date":1669326099,"answer_id":74566447,"question_id":74566354,"body_markdown":"Your code is not compilabe, because `List.size()` returns an (unboxed) `int` .. we cannot invoke &quot;methods&quot; on that.\r\n\r\nInstead try:\r\n```\r\nCollections.sort( \r\n  list,\r\n  // when java &gt;= 8, we can save all the &quot;decoration&quot; (anonymous class), and &quot;lambda&quot; instead:\r\n  (o1,o2) -&gt; Integer.compare(o1.getValue().size(), o2.getValue().size())\r\n);\r\n```\r\n\r\nJavadoc (`Integer.compare(int x, int y)`): https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Integer.html#compare(int,int)\r\n\r\n[Its implementation][1] looks as simple as:\r\n```\r\npublic static int compare(int x, int y) {\r\n  return (x &lt; y) ? -1 : ((x == y) ? 0 : 1);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java","title":"Sort Map of String,List&lt;String&gt; by Value List size","body":"<p>Your code is not compilabe, because <code>List.size()</code> returns an (unboxed) <code>int</code> .. we cannot invoke &quot;methods&quot; on that.</p>\n<p>Instead try:</p>\n<pre><code>Collections.sort( \n  list,\n  // when java &gt;= 8, we can save all the &quot;decoration&quot; (anonymous class), and &quot;lambda&quot; instead:\n  (o1,o2) -&gt; Integer.compare(o1.getValue().size(), o2.getValue().size())\n);\n</code></pre>\n<p>Javadoc (<code>Integer.compare(int x, int y)</code>): <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Integer.html#compare(int,int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Integer.html#compare(int,int)</a></p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java\" rel=\"nofollow noreferrer\">Its implementation</a> looks as simple as:</p>\n<pre><code>public static int compare(int x, int y) {\n  return (x &lt; y) ? -1 : ((x == y) ? 0 : 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669328783,"creation_date":1669328783,"answer_id":74566755,"question_id":74566354,"body_markdown":"Putting the above answer together with your code, you could do\r\n\r\n            List&lt;Map.Entry&lt;String,List&lt;String&gt;&gt;&gt; list = \r\n            m.entrySet()\r\n                .stream()\r\n                .sorted((e1, e2) -&gt; Integer.compare(e1.getValue().size(), e2.getValue().size()))\r\n                .collect(Collectors.toList());\r\n            System.out.println(list);\r\n","title":"Sort Map of String,List&lt;String&gt; by Value List size","body":"<p>Putting the above answer together with your code, you could do</p>\n<pre><code>        List&lt;Map.Entry&lt;String,List&lt;String&gt;&gt;&gt; list = \n        m.entrySet()\n            .stream()\n            .sorted((e1, e2) -&gt; Integer.compare(e1.getValue().size(), e2.getValue().size()))\n            .collect(Collectors.toList());\n        System.out.println(list);\n</code></pre>\n"}],"owner":{"account_id":25379344,"reputation":1,"user_id":19191974,"display_name":"recovery 69"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1669359697,"creation_date":1669325377,"question_id":74566354,"body_markdown":"I need to sort the hashmap based on value List size and its&#39; not working. I&#39;ve written my custom comparator. For example hashmap is as follow:\r\n```\r\nTest1-a,b\r\nTest2-c,d,e\r\nTest3-f\r\nTest4-d,g,h,i\r\nTest5-p,b\r\n```\r\n\r\nAfter sorting it should look like this:\r\n```\r\nTest3-f\r\nTest1-a,b\r\nTest5-p,b\r\nTest2-c,d,e\r\nTest4-d,g,h,i \r\n```\r\nSorting the keys based on value list size in ascending order. I wrote this code and it&#39;s not working: \r\n\r\n```\r\nList&lt;Map.Entry&lt;String,List&lt;String&gt;&gt;&gt; list =\r\n        new ArrayList&lt;&gt;(map.entrySet());\r\n\r\nCollections.sort( list, new Comparator&lt;Map.Entry&lt;String,List&lt;String&gt;&gt;&gt;() {\r\n    public int compare( Map.Entry&lt;String,List&lt;String&gt;&gt; o1,\r\n                        Map.Entry&lt;String,List&lt;String&gt;&gt; o2) {\r\n        return o1.getValue().size().compareTo(o2.getValue().size() );\r\n    }\r\n});\r\n```\r\n\r\n\r\n","title":"Sort Map of String,List&lt;String&gt; by Value List size","body":"<p>I need to sort the hashmap based on value List size and its' not working. I've written my custom comparator. For example hashmap is as follow:</p>\n<pre><code>Test1-a,b\nTest2-c,d,e\nTest3-f\nTest4-d,g,h,i\nTest5-p,b\n</code></pre>\n<p>After sorting it should look like this:</p>\n<pre><code>Test3-f\nTest1-a,b\nTest5-p,b\nTest2-c,d,e\nTest4-d,g,h,i \n</code></pre>\n<p>Sorting the keys based on value list size in ascending order. I wrote this code and it's not working:</p>\n<pre><code>List&lt;Map.Entry&lt;String,List&lt;String&gt;&gt;&gt; list =\n        new ArrayList&lt;&gt;(map.entrySet());\n\nCollections.sort( list, new Comparator&lt;Map.Entry&lt;String,List&lt;String&gt;&gt;&gt;() {\n    public int compare( Map.Entry&lt;String,List&lt;String&gt;&gt; o1,\n                        Map.Entry&lt;String,List&lt;String&gt;&gt; o2) {\n        return o1.getValue().size().compareTo(o2.getValue().size() );\n    }\n});\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":1,"creation_date":1669279572,"post_id":74557877,"comment_id":131609940,"body_markdown":"Please add a minimal, compact, code snippet of what you are trying to do.","body":"Please add a minimal, compact, code snippet of what you are trying to do."},{"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"score":1,"creation_date":1669279765,"post_id":74557877,"comment_id":131610011,"body_markdown":"initialize your recyclerview onStart but first clear all the data and the set the new data to recyclerview adapter","body":"initialize your recyclerview onStart but first clear all the data and the set the new data to recyclerview adapter"}],"answers":[{"tags":[],"owner":{"account_id":17784761,"reputation":11,"user_id":12915102,"display_name":"EndikaCo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669280628,"creation_date":1669280628,"answer_id":74558089,"question_id":74557877,"body_markdown":"Call notifyDataSetChanged after making changes:\r\n\r\n    adapter.notifyDataSetChanged()","title":"How to reload the recycler view","body":"<p>Call notifyDataSetChanged after making changes:</p>\n<pre><code>adapter.notifyDataSetChanged()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669357993,"creation_date":1669280947,"answer_id":74558155,"question_id":74557877,"body_markdown":"While comming back to first you have to override onResume method and in that method you have to bind that recyclerAdapter and last call.\r\n    \r\n    adapter.notifyDataSetChanged()","title":"How to reload the recycler view","body":"<p>While comming back to first you have to override onResume method and in that method you have to bind that recyclerAdapter and last call.</p>\n<pre><code>adapter.notifyDataSetChanged()\n</code></pre>\n"}],"owner":{"display_name":"user20530242"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74558155,"answer_count":2,"score":0,"last_activity_date":1669359682,"creation_date":1669279471,"question_id":74557877,"body_markdown":"I am creating an android application to save the passwords.\r\nOn the main screen i am using recycler view to show all the passwords.\r\nI have 2 two buttons one to add new password and second to update the password, when the user clicks on add new password, new activity (add new password activity) will be open. how should i reload the recycler view on the main screen after returning from the add new password activity?\r\n\r\ni tried to recall the initial recyclerview function but it didn&#39;t worked.\r\n\r\n    addData.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    //                action to be performed after it was clicked;\r\n                    Intent i = new Intent(MainScreen.this, AddNewPassword.class);\r\n                    i.putExtra(&quot;id&quot;, (String) null);\r\n                    i.putExtra(&quot;Platform&quot;, &quot;&quot;);\r\n                    i.putExtra(&quot;User&quot;, &quot;&quot;);\r\n                    i.putExtra(&quot;password&quot;, &quot;&quot;);\r\n                    i.putExtra(&quot;boolean&quot;, false);\r\n                    startActivity(i);\r\n    \r\n    \r\n                }\r\n            });\r\n\r\n\r\nhow should i refresh the current screen after returning fromm the AddNewPassword activity ?","title":"How to reload the recycler view","body":"<p>I am creating an android application to save the passwords.\nOn the main screen i am using recycler view to show all the passwords.\nI have 2 two buttons one to add new password and second to update the password, when the user clicks on add new password, new activity (add new password activity) will be open. how should i reload the recycler view on the main screen after returning from the add new password activity?</p>\n<p>i tried to recall the initial recyclerview function but it didn't worked.</p>\n<pre><code>addData.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n//                action to be performed after it was clicked;\n                Intent i = new Intent(MainScreen.this, AddNewPassword.class);\n                i.putExtra(&quot;id&quot;, (String) null);\n                i.putExtra(&quot;Platform&quot;, &quot;&quot;);\n                i.putExtra(&quot;User&quot;, &quot;&quot;);\n                i.putExtra(&quot;password&quot;, &quot;&quot;);\n                i.putExtra(&quot;boolean&quot;, false);\n                startActivity(i);\n\n\n            }\n        });\n</code></pre>\n<p>how should i refresh the current screen after returning fromm the AddNewPassword activity ?</p>\n"},{"tags":["java","json","spring","postman"],"comments":[{"owner":{"account_id":17505229,"reputation":359,"user_id":12694610,"display_name":"Silverfang"},"score":0,"creation_date":1591597740,"post_id":62256182,"comment_id":110105034,"body_markdown":"`@Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON)` use this on your controller  and remove `@ResponseBody` from controller. Use `Response` as the return type from your controller. It will help you to further customize your controller. If possible make pojo for your RequestBody","body":"<code>@Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON)</code> use this on your controller  and remove <code>@ResponseBody</code> from controller. Use <code>Response</code> as the return type from your controller. It will help you to further customize your controller. If possible make pojo for your RequestBody"},{"owner":{"account_id":16702852,"reputation":421,"user_id":12072045,"display_name":"MIike Eps"},"score":0,"creation_date":1591598698,"post_id":62256182,"comment_id":110105404,"body_markdown":"how do I use response as the return type?","body":"how do I use response as the return type?"},{"owner":{"account_id":17505229,"reputation":359,"user_id":12694610,"display_name":"Silverfang"},"score":0,"creation_date":1591598928,"post_id":62256182,"comment_id":110105506,"body_markdown":"`public  ResponseEntity&lt;?&gt; confirmReset(@RequestBody Object object)` If using spring boot you can use something like this.            `return new ResponseEntity&lt;&gt;(&quot;return object here&quot;,HttpStatus.BAD_REQUEST);`","body":"<code>public  ResponseEntity&lt;?&gt; confirmReset(@RequestBody Object object)</code> If using spring boot you can use something like this.            <code>return new ResponseEntity&lt;&gt;(&quot;return object here&quot;,HttpStatus.BAD_REQUEST);</code>"}],"answers":[{"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591601240,"creation_date":1591597832,"answer_id":62256248,"question_id":62256182,"body_markdown":"Since you are using the `@RestController` annotation at the class level , you do not have to use the `@ResponseBody` annotation at the method level to indicate that it is a Rest endpoint and that the response type of the controller method will be a `json`(by default for Rest in springboot) .Change your controller method to :\r\n\r\n    @RequestMapping(value = &quot;/validateToken&quot;, method = RequestMethod.POST)\r\n    public Boolean getIsValidToken(@RequestBody Map&lt;String, String&gt; json_Input) throws Exception {\r\n        String str = json_Input.get(&quot;str1&quot;) ;\r\n        String token = json_Input.get(&quot;str2&quot;) ;\r\n    \r\n        Boolean result = false;\r\n    \r\n        if (str.equalsIgnoreCase(token)) {\r\n            result = true;\r\n        }\r\n    \r\n        return result;\r\n    }\r\n\r\nAlso instead of the  `@RequestMapping(value = &quot;/validateToken&quot;, method = RequestMethod.POST)` you could use the `@PostMapping(&quot;/validateToken&quot;)` annotation if your springboot version supports it .In addition to that you could specify the type of data that the endpoint expects or produces using like :\r\n\r\n\t@PostMapping(value = { &quot;/validateToken&quot; }, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE )\r\n    public Boolean getIsValidToken(@RequestBody Map&lt;String, String&gt; json_Input) throws Exception {\r\n        String str = json_Input.get(&quot;str1&quot;) ;\r\n        String token = json_Input.get(&quot;str2&quot;) ;\r\n    \r\n        Boolean result = false;\r\n    \r\n        if (str.equalsIgnoreCase(token)) {\r\n            result = true;\r\n        }\r\n    \r\n        return result;\r\n    }\r\n\r\nNote : The consumes/produces can also be used with `@RequestMapping`.","title":"WARNING: Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json&#39; not supported]","body":"<p>Since you are using the <code>@RestController</code> annotation at the class level , you do not have to use the <code>@ResponseBody</code> annotation at the method level to indicate that it is a Rest endpoint and that the response type of the controller method will be a <code>json</code>(by default for Rest in springboot) .Change your controller method to :</p>\n\n<pre><code>@RequestMapping(value = \"/validateToken\", method = RequestMethod.POST)\npublic Boolean getIsValidToken(@RequestBody Map&lt;String, String&gt; json_Input) throws Exception {\n    String str = json_Input.get(\"str1\") ;\n    String token = json_Input.get(\"str2\") ;\n\n    Boolean result = false;\n\n    if (str.equalsIgnoreCase(token)) {\n        result = true;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Also instead of the  <code>@RequestMapping(value = \"/validateToken\", method = RequestMethod.POST)</code> you could use the <code>@PostMapping(\"/validateToken\")</code> annotation if your springboot version supports it .In addition to that you could specify the type of data that the endpoint expects or produces using like :</p>\n\n<pre><code>@PostMapping(value = { \"/validateToken\" }, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE )\npublic Boolean getIsValidToken(@RequestBody Map&lt;String, String&gt; json_Input) throws Exception {\n    String str = json_Input.get(\"str1\") ;\n    String token = json_Input.get(\"str2\") ;\n\n    Boolean result = false;\n\n    if (str.equalsIgnoreCase(token)) {\n        result = true;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Note : The consumes/produces can also be used with <code>@RequestMapping</code>.</p>\n"},{"tags":[],"owner":{"account_id":21894990,"reputation":21,"user_id":18882656,"display_name":"Pensils"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669358912,"creation_date":1668969371,"answer_id":74510855,"question_id":62256182,"body_markdown":"This issue happened to me too. It worked when I introduced the type String before the property name (json_Input in your case) and don&#39;t when I tried with my custom type.\r\n\r\nAt the end it was that I was referencing with the types of the properties instead of String type(as I am using mongodb).\r\n\r\nSo, Instead of \r\n\r\n    @DBRef\r\n    private CustomType customProperty\r\n\r\nuse:\r\n\r\n    @DBRef\r\n    private String customProperty\r\n\r\n\r\nHope it helps!","title":"WARNING: Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json&#39; not supported]","body":"<p>This issue happened to me too. It worked when I introduced the type String before the property name (json_Input in your case) and don't when I tried with my custom type.</p>\n<p>At the end it was that I was referencing with the types of the properties instead of String type(as I am using mongodb).</p>\n<p>So, Instead of</p>\n<pre><code>@DBRef\nprivate CustomType customProperty\n</code></pre>\n<p>use:</p>\n<pre><code>@DBRef\nprivate String customProperty\n</code></pre>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":16702852,"reputation":421,"user_id":12072045,"display_name":"MIike Eps"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62256248,"answer_count":2,"score":0,"last_activity_date":1669358912,"creation_date":1591597535,"question_id":62256182,"body_markdown":"[![enter image description here][1]][1][![enter image description here][2]][2][![enter image description here][3]][3]Hi Guys Please advice me on how to resolve this issue\r\nI am trying to consume a rest web service\r\nsee the code below\r\n\r\n```\r\n\r\nimport java.sql.ResultSet;\r\nimport java.util.Date;\r\nimport java.util.Map;\r\n\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.Produces;\r\n\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.cwg.entrust.entities.InputString;\r\nimport com.cwg.entrust.entities.TokenObject;\r\nimport com.cwg.entrust.services.MyConnectionProvider;\r\nimport com.cwg.entrust.services.TolenDAO;\r\nimport com.mysql.jdbc.Connection;\r\nimport com.mysql.jdbc.PreparedStatement;\r\nimport com.mysql.jdbc.Statement;[![enter image description here][3]][3]\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\npublic class TfaServiceController implements TolenDAO {\r\n\tjava.sql.Connection con = null;\r\n\tjava.sql.PreparedStatement ps = null;\r\n\tDate date = new Date();\r\n    String the_date = date.toString();\r\n@PostMapping(value = { &quot;/validateToken&quot; }, \r\n\t\t\tconsumes = { MediaType.APPLICATION_JSON_VALUE }\r\n\t, produces = { MediaType.APPLICATION_JSON_VALUE })\r\n\tpublic Boolean getIsValidToken(@RequestBody Map&lt;String, String&gt; json_Input) throws Exception {\r\n\t\tString str = json_Input.get(&quot;str1&quot;) ;\r\n\t\tString token = json_Input.get(&quot;str2&quot;) ;\r\n\r\n\t\tBoolean result = false;\r\n\r\n\t\tif (str.equalsIgnoreCase(token)) {\r\n\t\t\tresult = true;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n```\r\nsee the payload below\r\n```\r\n{\r\n    &quot;str1&quot;: &quot;test one&quot;,\r\n    &quot;str2&quot;: &quot;two test&quot;\r\n}\r\n```\r\nBoth Content-Type and Accept on Postman are set to `application/json`\r\n\r\nBut we keep getting below error\r\n\r\n&gt; WARNING: Resolved\r\n&gt; [org.springframework.web.HttpMediaTypeNotSupportedException: Content\r\n&gt; type &#39;application/json&#39; not supported]\r\n\r\nKindly advice me on how to consume this webservice without issues\r\nThanks all.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rHf7m.png\r\n  [2]: https://i.stack.imgur.com/GMCGT.png\r\n  [3]: https://i.stack.imgur.com/dyIOS.png","title":"WARNING: Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json&#39; not supported]","body":"<p><a href=\"https://i.stack.imgur.com/rHf7m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rHf7m.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/GMCGT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GMCGT.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/dyIOS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dyIOS.png\" alt=\"enter image description here\"></a>Hi Guys Please advice me on how to resolve this issue\nI am trying to consume a rest web service\nsee the code below</p>\n\n<pre><code>\nimport java.sql.ResultSet;\nimport java.util.Date;\nimport java.util.Map;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.Produces;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.cwg.entrust.entities.InputString;\nimport com.cwg.entrust.entities.TokenObject;\nimport com.cwg.entrust.services.MyConnectionProvider;\nimport com.cwg.entrust.services.TolenDAO;\nimport com.mysql.jdbc.Connection;\nimport com.mysql.jdbc.PreparedStatement;\nimport com.mysql.jdbc.Statement;[![enter image description here][3]][3]\n@RestController\n@RequestMapping(\"/test\")\npublic class TfaServiceController implements TolenDAO {\n    java.sql.Connection con = null;\n    java.sql.PreparedStatement ps = null;\n    Date date = new Date();\n    String the_date = date.toString();\n@PostMapping(value = { \"/validateToken\" }, \n            consumes = { MediaType.APPLICATION_JSON_VALUE }\n    , produces = { MediaType.APPLICATION_JSON_VALUE })\n    public Boolean getIsValidToken(@RequestBody Map&lt;String, String&gt; json_Input) throws Exception {\n        String str = json_Input.get(\"str1\") ;\n        String token = json_Input.get(\"str2\") ;\n\n        Boolean result = false;\n\n        if (str.equalsIgnoreCase(token)) {\n            result = true;\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>see the payload below</p>\n\n<pre><code>{\n    \"str1\": \"test one\",\n    \"str2\": \"two test\"\n}\n</code></pre>\n\n<p>Both Content-Type and Accept on Postman are set to <code>application/json</code></p>\n\n<p>But we keep getting below error</p>\n\n<blockquote>\n  <p>WARNING: Resolved\n  [org.springframework.web.HttpMediaTypeNotSupportedException: Content\n  type 'application/json' not supported]</p>\n</blockquote>\n\n<p>Kindly advice me on how to consume this webservice without issues\nThanks all.</p>\n"},{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1517103187,"post_id":48482222,"comment_id":83957654,"body_markdown":"It doesn&#39;t &quot;run successfully&quot; if it doesn&#39;t do what you expect.  Step through the code, examine variables at each statement and find where it deviates from what you want.","body":"It doesn&#39;t &quot;run successfully&quot; if it doesn&#39;t do what you expect.  Step through the code, examine variables at each statement and find where it deviates from what you want."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517103488,"creation_date":1517103488,"answer_id":48482346,"question_id":48482222,"body_markdown":"You are inputting extra numbers in the loop body for `large` and `small`. Use `++` instead of `+= 1`, I would prefer `Integer.min` and `Integer.max`; initialize `small` and `large` to something very large and very small respectively. Something like,\r\n\r\n\tdouble even = 0, odd = 0, sum = 0;\r\n\tint counter = 0, input = 0, large = Integer.MIN_VALUE, small = Integer.MAX_VALUE;\r\n\tSystem.out.print(&quot;Enter a series of values (0 to quit): &quot;);\r\n\tScanner in = new Scanner(System.in);\r\n\twhile ((input = in.nextInt()) != 0) {\r\n\t\tsmall = Integer.min(small, input);\r\n\t\tlarge = Integer.max(large, input);\r\n\t\tsum += input;\r\n\t\tcounter++;\r\n\t\tif (input % 2 == 0) {\r\n\t\t\teven++;\r\n\t\t} else {\r\n\t\t\todd++;\r\n\t\t}\r\n\t}\r\n\r\n\tif (counter &gt; 0) {\r\n\t\tdouble average = sum / counter;\r\n\t\tSystem.out.println(&quot;The smallest integer is: &quot; + small);\r\n\t\tSystem.out.println(&quot;The largest integer is: &quot; + large);\r\n\t\tSystem.out.println(&quot;Total number of integers entered is &quot; + counter);\r\n\t\tSystem.out.println(&quot;Total even numbers entered is &quot; + even);\r\n\t\tSystem.out.println(&quot;Total odd numbers entered is &quot; + odd);\r\n\t\tSystem.out.println(&quot;The average value is: &quot; + average);\r\n\t} else {\r\n\t\tSystem.out.println(&quot;No data was entered.&quot;);\r\n\t}\r\n\t","title":"Java program that reads user input until 0 is entered, also makes a few calculations (evens/odds, average, etc.)","body":"<p>You are inputting extra numbers in the loop body for <code>large</code> and <code>small</code>. Use <code>++</code> instead of <code>+= 1</code>, I would prefer <code>Integer.min</code> and <code>Integer.max</code>; initialize <code>small</code> and <code>large</code> to something very large and very small respectively. Something like,</p>\n\n<pre><code>double even = 0, odd = 0, sum = 0;\nint counter = 0, input = 0, large = Integer.MIN_VALUE, small = Integer.MAX_VALUE;\nSystem.out.print(\"Enter a series of values (0 to quit): \");\nScanner in = new Scanner(System.in);\nwhile ((input = in.nextInt()) != 0) {\n    small = Integer.min(small, input);\n    large = Integer.max(large, input);\n    sum += input;\n    counter++;\n    if (input % 2 == 0) {\n        even++;\n    } else {\n        odd++;\n    }\n}\n\nif (counter &gt; 0) {\n    double average = sum / counter;\n    System.out.println(\"The smallest integer is: \" + small);\n    System.out.println(\"The largest integer is: \" + large);\n    System.out.println(\"Total number of integers entered is \" + counter);\n    System.out.println(\"Total even numbers entered is \" + even);\n    System.out.println(\"Total odd numbers entered is \" + odd);\n    System.out.println(\"The average value is: \" + average);\n} else {\n    System.out.println(\"No data was entered.\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9777105,"reputation":351,"user_id":7246684,"display_name":"devilfart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1517105468,"creation_date":1517105157,"answer_id":48482486,"question_id":48482222,"body_markdown":"When reading the first numbers to populate large and small we only need to do that once. And without re-reading the numbers with `in.nextInt()` because that will eat up the next inputs that are entered, which was probably causing the not terminating at zero error.\r\n\r\n\r\n    while ((input = in.nextInt()) != 0) {\r\n            \r\n            if (counter == 0)\r\n              small = large = input;\r\n    \r\n            if (input != 0)\r\n                sum = input + sum;\r\n                counter++;\r\n    \r\n            if (input &gt; large)\r\n                large = input;\r\n    \r\n            if (input &lt; small)\r\n                small = input;\r\n    \r\n            if (input % 2 == 0)\r\n                even = even + 1;\r\n            else\r\n                odd = odd + 1;\r\n    \r\n            }","title":"Java program that reads user input until 0 is entered, also makes a few calculations (evens/odds, average, etc.)","body":"<p>When reading the first numbers to populate large and small we only need to do that once. And without re-reading the numbers with <code>in.nextInt()</code> because that will eat up the next inputs that are entered, which was probably causing the not terminating at zero error.</p>\n\n<pre><code>while ((input = in.nextInt()) != 0) {\n\n        if (counter == 0)\n          small = large = input;\n\n        if (input != 0)\n            sum = input + sum;\n            counter++;\n\n        if (input &gt; large)\n            large = input;\n\n        if (input &lt; small)\n            small = input;\n\n        if (input % 2 == 0)\n            even = even + 1;\n        else\n            odd = odd + 1;\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22718751,"reputation":1,"user_id":16883567,"display_name":"Utkarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631332498,"creation_date":1631332498,"answer_id":69139869,"question_id":48482222,"body_markdown":"WAP to input a number and check ut is even ir odd until user user input is zero using infinite for loop.\r\nUsing format:\r\nfor(;;)\r\n{\r\n}\r\n","title":"Java program that reads user input until 0 is entered, also makes a few calculations (evens/odds, average, etc.)","body":"<p>WAP to input a number and check ut is even ir odd until user user input is zero using infinite for loop.\nUsing format:\nfor(;;)\n{\n}</p>\n"},{"tags":[],"owner":{"account_id":26998380,"reputation":1,"user_id":20560075,"display_name":"Jasmeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669358885,"creation_date":1669012181,"answer_id":74515020,"question_id":48482222,"body_markdown":"     Scanner input = new Scanner(System.in);\r\n    \r\n            //Take integer inputs till the user enters 0 and print the sum of all numbers (HINT: while loop)\r\n    \r\n            int n =1;\r\n            int x = 0;\r\n    \r\n            while (n !=0){\r\n                \r\n    \r\n                n= input.nextInt();\r\n    \r\n                x+=n;\r\n    \r\n            }\r\n            System.out.println(x);","title":"Java program that reads user input until 0 is entered, also makes a few calculations (evens/odds, average, etc.)","body":"<pre><code> Scanner input = new Scanner(System.in);\n\n        //Take integer inputs till the user enters 0 and print the sum of all numbers (HINT: while loop)\n\n        int n =1;\n        int x = 0;\n\n        while (n !=0){\n            \n\n            n= input.nextInt();\n\n            x+=n;\n\n        }\n        System.out.println(x);\n</code></pre>\n"}],"owner":{"account_id":12824584,"reputation":41,"user_id":9278152,"display_name":"Sharon Nystrom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54845,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":48482486,"answer_count":4,"score":2,"last_activity_date":1669358885,"creation_date":1517102145,"question_id":48482222,"body_markdown":"This program is meant to take user input until a zero is entered, and then print out information on the integers. It&#39;s also meant to read if the input in even/odd, calculate the sum, find the largest and smallest entered integers, tally the total integers entered, and find the average. It won&#39;t stop when the user enters 0, and it won&#39;t print the &quot;No data entered&quot; line if there&#39;s no input. It also isn&#39;t figuring even numbers properly.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Lab4 {\r\n\r\n\t public static void main(String[] args) {\r\n\r\n\t\tint counter = 0;\r\n\t\tdouble even = 0;\r\n\t\tdouble odd = 0;\r\n\t\tdouble sum = 0;\r\n\t\tint input = 0;\r\n\t\tint large = 0;\r\n\t\tint small = 0;\r\n\t\tdouble average;\r\n\r\n\t\tSystem.out.print(&quot;Enter a series of values (0 to quit): &quot;);\r\n\t\tScanner in = new Scanner(System.in);\r\n\r\n\t\twhile ((input = in.nextInt()) != 0) {\r\n\r\n\t\t\tsmall = in.nextInt();\r\n\t\t\tlarge = in.nextInt();\r\n\r\n\t\t\tif (input != 0)\r\n\t\t\t\tsum = input + sum;\r\n\t\t\t\tcounter++;\r\n\r\n\t\t\tif (input &gt; large)\r\n\t\t\t\tlarge = input;\r\n\r\n\t\t\tif (input &lt; small)\r\n\t\t\t\tsmall = input;\r\n\r\n\t\t\tif (input % 2 == 0)\r\n\t\t\t\teven = even + 1;\r\n\t\t\telse\r\n\t\t\t\todd = odd + 1;\r\n\r\n\t\t\t}\r\n\r\n\t\tif (counter &gt; 0) {\r\n\r\n\t\t\taverage = sum / counter;\r\n\r\n\t\t\tSystem.out.println(&quot;The smallest integer is: &quot; + small);\r\n\t\t\tSystem.out.println(&quot;The largest integer is: &quot; + large);\r\n\t\t\tSystem.out.println(&quot;Total number of integers entered is &quot; + counter);\r\n\t\t\tSystem.out.println(&quot;Total even numbers entered is &quot; + even);\r\n\t\t\tSystem.out.println(&quot;Total odd numbers entered is &quot; + odd);\r\n\t\t\tSystem.out.println(&quot;The average value is: &quot; + average);\r\n\t\t} else {\r\n\r\n\t\t\t\tSystem.out.println(&quot;No data was entered.&quot;);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}","title":"Java program that reads user input until 0 is entered, also makes a few calculations (evens/odds, average, etc.)","body":"<p>This program is meant to take user input until a zero is entered, and then print out information on the integers. It's also meant to read if the input in even/odd, calculate the sum, find the largest and smallest entered integers, tally the total integers entered, and find the average. It won't stop when the user enters 0, and it won't print the \"No data entered\" line if there's no input. It also isn't figuring even numbers properly.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Lab4 {\n\n public static void main(String[] args) {\n\n    int counter = 0;\n    double even = 0;\n    double odd = 0;\n    double sum = 0;\n    int input = 0;\n    int large = 0;\n    int small = 0;\n    double average;\n\n    System.out.print(\"Enter a series of values (0 to quit): \");\n    Scanner in = new Scanner(System.in);\n\n    while ((input = in.nextInt()) != 0) {\n\n        small = in.nextInt();\n        large = in.nextInt();\n\n        if (input != 0)\n            sum = input + sum;\n            counter++;\n\n        if (input &gt; large)\n            large = input;\n\n        if (input &lt; small)\n            small = input;\n\n        if (input % 2 == 0)\n            even = even + 1;\n        else\n            odd = odd + 1;\n\n        }\n\n    if (counter &gt; 0) {\n\n        average = sum / counter;\n\n        System.out.println(\"The smallest integer is: \" + small);\n        System.out.println(\"The largest integer is: \" + large);\n        System.out.println(\"Total number of integers entered is \" + counter);\n        System.out.println(\"Total even numbers entered is \" + even);\n        System.out.println(\"Total odd numbers entered is \" + odd);\n        System.out.println(\"The average value is: \" + average);\n    } else {\n\n            System.out.println(\"No data was entered.\");\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":534856,"reputation":5625,"user_id":904624,"accept_rate":81,"display_name":"Christine"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1545739895,"creation_date":1545739895,"answer_id":53922280,"question_id":53922279,"body_markdown":"When all else fails, you remember &quot;use the source, Luke!&quot;. The values are given in the [Javadoc][1] of the enum `DataSourceInitializationMode`. Values are `always`, `embedded` and `never`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jdbc/DataSourceInitializationMode.html","title":"What are the possible values of spring.datasource.initialization-mode?","body":"<p>When all else fails, you remember \"use the source, Luke!\". The values are given in the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jdbc/DataSourceInitializationMode.html\" rel=\"noreferrer\">Javadoc</a> of the enum <code>DataSourceInitializationMode</code>. Values are <code>always</code>, <code>embedded</code> and <code>never</code>.</p>\n"},{"tags":[],"owner":{"account_id":12756478,"reputation":153,"user_id":10878989,"display_name":"The Nested Programmer"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1567159334,"creation_date":1567159334,"answer_id":57724643,"question_id":53922279,"body_markdown":"Forgive me for butting in almost a year late. After having faced a similar problem as explained by `Christine`, I decided to take the clue and begin searching in the `source`. It would appear that the following is detailed in the link here &lt;a&gt;https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jdbc/DataSourceInitializationMode.html&lt;/a&gt; :\r\n\r\n&gt; Enum Constant Summary Enum Constants \r\n&gt; \r\n&gt; Enum Constant and Description\r\n&gt; \r\n&gt; **ALWAYS** Always initialize the datasource. \r\n&gt; \r\n&gt; **EMBEDDED** Only initialize an embedded datasource. \r\n&gt; \r\n&gt; **NEVER** Do not initialize the datasource.\r\n\r\n","title":"What are the possible values of spring.datasource.initialization-mode?","body":"<p>Forgive me for butting in almost a year late. After having faced a similar problem as explained by <code>Christine</code>, I decided to take the clue and begin searching in the <code>source</code>. It would appear that the following is detailed in the link here <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jdbc/DataSourceInitializationMode.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jdbc/DataSourceInitializationMode.html</a> :</p>\n\n<blockquote>\n  <p>Enum Constant Summary Enum Constants </p>\n  \n  <p>Enum Constant and Description</p>\n  \n  <p><strong>ALWAYS</strong> Always initialize the datasource. </p>\n  \n  <p><strong>EMBEDDED</strong> Only initialize an embedded datasource. </p>\n  \n  <p><strong>NEVER</strong> Do not initialize the datasource.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1627501,"reputation":43,"user_id":1502707,"display_name":"Karthik_Rajendiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664796145,"creation_date":1664796145,"answer_id":73934694,"question_id":53922279,"body_markdown":"Spring Behaviour varies w.r.t to the Spring Version \r\nFrom 2.7 Version of Spring \r\n\r\n 1. Spring Creates Table using schema.sql and data.sql in classpath for Embedded i.e  memory database\r\n    spring.datasource.url=jdbc:h2:**mem**:somedbofyours\r\n\r\nI have tried the following configuration\r\n1. Create file based H2\r\n\r\n    spring.datasource.url=jdbc:h2:file:~/db/eesandb\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=none \r\n\r\nWhatever be the above combinations, it didnt create or execute schema.sql in 2.7.4\r\n\r\n2. The Following Property spring.sql.init.mode determines creation of DDL,DML by referring schema.sql and data.sql in classpath\r\n\r\nExample spring.sql.init.mode = always (or) \r\n    spring.datasource.initialization-mode=always.\r\n\r\nVisit Similar Post https://stackoverflow.com/questions/49438517/why-spring-boot-2-0-application-does-not-run-schema-sql\r\n","title":"What are the possible values of spring.datasource.initialization-mode?","body":"<p>Spring Behaviour varies w.r.t to the Spring Version\nFrom 2.7 Version of Spring</p>\n<ol>\n<li>Spring Creates Table using schema.sql and data.sql in classpath for Embedded i.e  memory database\nspring.datasource.url=jdbc:h2:<strong>mem</strong>:somedbofyours</li>\n</ol>\n<p>I have tried the following configuration</p>\n<ol>\n<li><p>Create file based H2</p>\n<p>spring.datasource.url=jdbc:h2:file:~/db/eesandb\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=none</p>\n</li>\n</ol>\n<p>Whatever be the above combinations, it didnt create or execute schema.sql in 2.7.4</p>\n<ol start=\"2\">\n<li>The Following Property spring.sql.init.mode determines creation of DDL,DML by referring schema.sql and data.sql in classpath</li>\n</ol>\n<p>Example spring.sql.init.mode = always (or)\nspring.datasource.initialization-mode=always.</p>\n<p>Visit Similar Post <a href=\"https://stackoverflow.com/questions/49438517/why-spring-boot-2-0-application-does-not-run-schema-sql\">Why Spring Boot 2.0 application does not run schema.sql?</a></p>\n"},{"tags":[],"owner":{"account_id":14193578,"reputation":943,"user_id":12214867,"display_name":"JJJohn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669358559,"creation_date":1669356974,"answer_id":74568927,"question_id":53922279,"body_markdown":"Simply put, there&#39;re 3 options: `always`, `embedded` and `never`.\r\n\r\nNote that: the property `spring.datasource.initialization-mode` is outdated. \r\nYou may want to consider `spring.sql.init.mode` instead for new projects.\r\n\r\n# source for the old one\r\n\r\n    /*\r\n     * Copyright 2012-2019 the original author or authors.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *      https://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    \r\n    package org.springframework.boot.jdbc;\r\n    \r\n    /**\r\n     * Supported {@link javax.sql.DataSource} initialization modes.\r\n     *\r\n     * @author Vedran Pavic\r\n     * @author Stephane Nicoll\r\n     * @since 2.0.0\r\n     * @see AbstractDataSourceInitializer\r\n     */\r\n    public enum DataSourceInitializationMode {\r\n    \r\n    \t/**\r\n    \t * Always initialize the datasource.\r\n    \t */\r\n    \tALWAYS,\r\n    \r\n    \t/**\r\n    \t * Only initialize an embedded datasource.\r\n    \t */\r\n    \tEMBEDDED,\r\n    \r\n    \t/**\r\n    \t * Do not initialize the datasource.\r\n    \t */\r\n    \tNEVER\r\n    \r\n    }\r\n\r\n# source for the new\r\n\r\n    /*\r\n     * Copyright 2012-2021 the original author or authors.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *      https://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    \r\n    package org.springframework.boot.sql.init;\r\n    \r\n    /**\r\n     * Supported database initialization modes.\r\n     *\r\n     * @author Andy Wilkinson\r\n     * @since 2.5.1\r\n     * @see AbstractScriptDatabaseInitializer\r\n     */\r\n    public enum DatabaseInitializationMode {\r\n    \r\n    \t/**\r\n    \t * Always initialize the database.\r\n    \t */\r\n    \tALWAYS,\r\n    \r\n    \t/**\r\n    \t * Only initialize an embedded database.\r\n    \t */\r\n    \tEMBEDDED,\r\n    \r\n    \t/**\r\n    \t * Never initialize the database.\r\n    \t */\r\n    \tNEVER\r\n    \r\n    }","title":"What are the possible values of spring.datasource.initialization-mode?","body":"<p>Simply put, there're 3 options: <code>always</code>, <code>embedded</code> and <code>never</code>.</p>\n<p>Note that: the property <code>spring.datasource.initialization-mode</code> is outdated.\nYou may want to consider <code>spring.sql.init.mode</code> instead for new projects.</p>\n<h1>source for the old one</h1>\n<pre><code>/*\n * Copyright 2012-2019 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage org.springframework.boot.jdbc;\n\n/**\n * Supported {@link javax.sql.DataSource} initialization modes.\n *\n * @author Vedran Pavic\n * @author Stephane Nicoll\n * @since 2.0.0\n * @see AbstractDataSourceInitializer\n */\npublic enum DataSourceInitializationMode {\n\n    /**\n     * Always initialize the datasource.\n     */\n    ALWAYS,\n\n    /**\n     * Only initialize an embedded datasource.\n     */\n    EMBEDDED,\n\n    /**\n     * Do not initialize the datasource.\n     */\n    NEVER\n\n}\n</code></pre>\n<h1>source for the new</h1>\n<pre><code>/*\n * Copyright 2012-2021 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage org.springframework.boot.sql.init;\n\n/**\n * Supported database initialization modes.\n *\n * @author Andy Wilkinson\n * @since 2.5.1\n * @see AbstractScriptDatabaseInitializer\n */\npublic enum DatabaseInitializationMode {\n\n    /**\n     * Always initialize the database.\n     */\n    ALWAYS,\n\n    /**\n     * Only initialize an embedded database.\n     */\n    EMBEDDED,\n\n    /**\n     * Never initialize the database.\n     */\n    NEVER\n\n}\n</code></pre>\n"}],"owner":{"account_id":534856,"reputation":5625,"user_id":904624,"accept_rate":81,"display_name":"Christine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31839,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":4,"score":24,"last_activity_date":1669358559,"creation_date":1545739895,"question_id":53922279,"body_markdown":"I am configuring a database in Spring JPA and I want to know what the possible values are of `spring.datasource.initialization-mode`. I found [this page][1] with common properties but it doesn&#39;t give all possible values. I&#39;d expect there to be some documentation on all possible values of all properties you can set. \r\n\r\nI am using the property in the props section in my `applicationContext.xml` as properties for the `entityManagerFactory`\r\n\r\n    &lt;util:properties id=&quot;props&quot;&gt;\r\n        &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL82Dialect&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.ddl-auto&quot;&gt;create&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.show-sql&quot;&gt;true&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.generate.ddl&quot;&gt;true&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.hibernate.ddl-auto&quot;&gt;create&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.datasource.initialization-mode&quot;&gt;always&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation&quot;&gt;true&lt;/prop&gt;\r\n    &lt;/util:properties&gt;\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"What are the possible values of spring.datasource.initialization-mode?","body":"<p>I am configuring a database in Spring JPA and I want to know what the possible values are of <code>spring.datasource.initialization-mode</code>. I found <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">this page</a> with common properties but it doesn't give all possible values. I'd expect there to be some documentation on all possible values of all properties you can set.</p>\n<p>I am using the property in the props section in my <code>applicationContext.xml</code> as properties for the <code>entityManagerFactory</code></p>\n<pre><code>&lt;util:properties id=&quot;props&quot;&gt;\n    &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n    &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL82Dialect&lt;/prop&gt;\n    &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\n    &lt;prop key=&quot;hibernate.ddl-auto&quot;&gt;create&lt;/prop&gt;\n    &lt;prop key=&quot;spring.jpa.show-sql&quot;&gt;true&lt;/prop&gt;\n    &lt;prop key=&quot;spring.jpa.generate.ddl&quot;&gt;true&lt;/prop&gt;\n    &lt;prop key=&quot;spring.jpa.hibernate.ddl-auto&quot;&gt;create&lt;/prop&gt;\n    &lt;prop key=&quot;spring.datasource.initialization-mode&quot;&gt;always&lt;/prop&gt;\n    &lt;prop key=&quot;spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation&quot;&gt;true&lt;/prop&gt;\n&lt;/util:properties&gt;\n</code></pre>\n"},{"tags":["java","hibernate","proxy","lazy-initialization"],"answers":[{"tags":[],"owner":{"account_id":77350,"reputation":40747,"user_id":220834,"accept_rate":50,"display_name":"Don Roby"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1372247323,"creation_date":1372247323,"answer_id":17319198,"question_id":17318340,"body_markdown":"The difference is in scope of application.\r\n\r\nThe reason for making a collection association lazy is to avoid having it load the collection every time the parent object is loaded if you don&#39;t really need it.\r\n\r\nIf you are lazy-loading a collection normally, but for a particular use, you need to ensure the collection has been loaded before the session is closed, you can use `Hibernate.initialize(Object obj)` as you noted.\r\n\r\nIf you in fact **always** need the collection loaded, you should indeed load it eagerly.  In most software though, that isn&#39;t the case.","title":"How Hibernate.initialize() works","body":"<p>The difference is in scope of application.</p>\n\n<p>The reason for making a collection association lazy is to avoid having it load the collection every time the parent object is loaded if you don't really need it.</p>\n\n<p>If you are lazy-loading a collection normally, but for a particular use, you need to ensure the collection has been loaded before the session is closed, you can use <code>Hibernate.initialize(Object obj)</code> as you noted.</p>\n\n<p>If you in fact <strong>always</strong> need the collection loaded, you should indeed load it eagerly.  In most software though, that isn't the case.</p>\n"},{"tags":[],"owner":{"account_id":2421919,"reputation":494,"user_id":2114699,"display_name":"Tomasz Przybylski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429256439,"creation_date":1429256439,"answer_id":29693166,"question_id":17318340,"body_markdown":"Consider @Don Ruby answer\r\n\r\nnext difference is that `Hibernate.initialize` generates and executes additional sql for fetching data. So you can use it after session is closed. When you use `Eager` fetch in entity it&#39;s always fetch that collections during finding data (under the connection session ) in database, but not after it.\r\n\r\n","title":"How Hibernate.initialize() works","body":"<p>Consider @Don Ruby answer</p>\n\n<p>next difference is that <code>Hibernate.initialize</code> generates and executes additional sql for fetching data. So you can use it after session is closed. When you use <code>Eager</code> fetch in entity it's always fetch that collections during finding data (under the connection session ) in database, but not after it.</p>\n"},{"tags":[],"owner":{"account_id":392882,"reputation":2045,"user_id":754426,"accept_rate":92,"display_name":"Aliti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440462985,"creation_date":1440462985,"answer_id":32193812,"question_id":17318340,"body_markdown":"Actually if you use EAGER, when you have big collections it really affects your performance. So, it&#39;s a good idea in the situations like this using `Hibernate.initialize`.\r\n\r\nTake a look at this:\r\n[Hibernate Lazy Fetch vs Eager Fetch Type][1]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=TejT8H81aVI","title":"How Hibernate.initialize() works","body":"<p>Actually if you use EAGER, when you have big collections it really affects your performance. So, it's a good idea in the situations like this using <code>Hibernate.initialize</code>.</p>\n\n<p>Take a look at this:\n<a href=\"https://www.youtube.com/watch?v=TejT8H81aVI\" rel=\"nofollow\">Hibernate Lazy Fetch vs Eager Fetch Type</a></p>\n"},{"tags":[],"owner":{"account_id":5795564,"reputation":698,"user_id":4571486,"accept_rate":31,"display_name":"chepaiytrath"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1452855897,"creation_date":1452855897,"answer_id":34809664,"question_id":17318340,"body_markdown":"Consider the following example:\r\n\r\nI have an entity LoanApplication (which in this case is a very heavy object) which has various fields inside of it (which may also be large). Consider for example SubLoan field in LoanApplication . \r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;application_fk&quot;)\r\n    @Index(name = &quot;appl_fk_idx_subloansLoanApp&quot;)\r\n    private Set&lt;SubLoan&gt; subLoans;\r\n\r\nFetchType is LAZY in this example. Now if in some controller&#39;s method while doing some operations, you encounter LoanApplication, the subLoans set will initially be null unless you wish to use it. In that case you use Hibernate.initialize like following:\r\n     \r\n    Hibernate.initialize(loanApplication.getSubLoans());\r\n\r\nThis helps to mainly improve performance because each time you retrieve LoanApplication, the large set of objects i.e. &#39;subLoan&#39; will be initially empty unless you really wanted them.\r\n\r\n","title":"How Hibernate.initialize() works","body":"<p>Consider the following example:</p>\n\n<p>I have an entity LoanApplication (which in this case is a very heavy object) which has various fields inside of it (which may also be large). Consider for example SubLoan field in LoanApplication . </p>\n\n<pre><code>@OneToMany(fetch = FetchType.LAZY)\n@JoinColumn(name = \"application_fk\")\n@Index(name = \"appl_fk_idx_subloansLoanApp\")\nprivate Set&lt;SubLoan&gt; subLoans;\n</code></pre>\n\n<p>FetchType is LAZY in this example. Now if in some controller's method while doing some operations, you encounter LoanApplication, the subLoans set will initially be null unless you wish to use it. In that case you use Hibernate.initialize like following:</p>\n\n<pre><code>Hibernate.initialize(loanApplication.getSubLoans());\n</code></pre>\n\n<p>This helps to mainly improve performance because each time you retrieve LoanApplication, the large set of objects i.e. 'subLoan' will be initially empty unless you really wanted them.</p>\n"},{"tags":[],"owner":{"account_id":11795910,"reputation":29,"user_id":8630630,"display_name":"L for Light"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513673244,"creation_date":1513673244,"answer_id":47883058,"question_id":17318340,"body_markdown":"Consider you have a table which may have relations with other 4 tables. In this case if you use eager then, all the corresponding relations from all the four related tables will be fetched in every fetch operation.\r\n\r\nBut consider you may be in such a requirement in which you need the data from only one table among the related tables, so in this case you can fetch only the required relationship instead of lading the entire four related table&#39;s data using the Hibernate.initialize facility.","title":"How Hibernate.initialize() works","body":"<p>Consider you have a table which may have relations with other 4 tables. In this case if you use eager then, all the corresponding relations from all the four related tables will be fetched in every fetch operation.</p>\n\n<p>But consider you may be in such a requirement in which you need the data from only one table among the related tables, so in this case you can fetch only the required relationship instead of lading the entire four related table's data using the Hibernate.initialize facility.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1610209190,"creation_date":1544290723,"answer_id":53685180,"question_id":17318340,"body_markdown":"The `Hibernate.initialize(proxy)` is useful only if you are using the second-level cache. Otherwise, you are going to issue a second query which is less efficient than just initializing the proxy with the initial query.\r\n\r\nRisking N+1 query issues\r\n------------------------\r\n\r\nSo, when executing the following test case:\r\n\r\n    LOGGER.info(&quot;Clear the second-level cache&quot;);\r\n\r\n    entityManager.getEntityManagerFactory().getCache().evictAll();\r\n     \r\n    LOGGER.info(&quot;Loading a PostComment&quot;);\r\n     \r\n    PostComment comment = entityManager.find(\r\n        PostComment.class,\r\n        1L\r\n    );\r\n     \r\n    assertEquals(\r\n        &quot;A must read!&quot;,\r\n        comment.getReview()\r\n    );\r\n     \r\n    Post post = comment.getPost();\r\n     \r\n    LOGGER.info(&quot;Post entity class: {}&quot;, post.getClass().getName());\r\n     \r\n    Hibernate.initialize(post);\r\n     \r\n    assertEquals(\r\n        &quot;High-Performance Java Persistence&quot;,\r\n        post.getTitle()\r\n    );\r\n\r\nFirst, we are going to clear the second-level cache since, unless you explicitly enable the second-level cache and configure a provider, Hibernate is not going to use the second-level cache.\r\n\r\nWhen running this test case, Hibernate executes the following SQL statements:\r\n\r\n    -- Clear the second-level cache\r\n     \r\n    -- Evicting entity cache: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post\r\n    -- Evicting entity cache: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment\r\n     \r\n    -- Loading a PostComment\r\n     \r\n    SELECT pc.id AS id1_1_0_,\r\n           pc.post_id AS post_id3_1_0_,\r\n           pc.review AS review2_1_0_\r\n    FROM   post_comment pc\r\n    WHERE  pc.id=1\r\n     \r\n    -- Post entity class: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post$HibernateProxy$5LVxadxF\r\n     \r\n    SELECT p.id AS id1_0_0_,\r\n           p.title AS title2_0_0_\r\n    FROM   post p\r\n    WHERE  p.id=1\r\n\r\nWe can see that the second-level cache was properly evicted and that, after fetching the `PostComment` entity, the post entity is represented by a `HibernateProxy` instance which only contains the `Post` entity identifier that was retrieved from the `post_id` column of the post_comment database table row.\r\n\r\n&gt; Now, due to the call to the `Hibernate.initialize` method, a secondary SQL query is executed to fetch the `Post` entity, and that’s not very efficient and can lead to N+1 query issues.\r\n\r\nUsing JOIN FETCH with JPQL\r\n--------------------------\r\n\r\nIn the previous case, the `PostComment` should be fetched along with its post association using the JOIN FETCH JPQL directive.\r\n\r\n    LOGGER.info(&quot;Clear the second-level cache&quot;);\r\n     \r\n    entityManager.getEntityManagerFactory().getCache().evictAll();\r\n     \r\n    LOGGER.info(&quot;Loading a PostComment&quot;);\r\n     \r\n    PostComment comment = entityManager.createQuery(\r\n        &quot;select pc &quot; +\r\n        &quot;from PostComment pc &quot; +\r\n        &quot;join fetch pc.post &quot; +\r\n        &quot;where pc.id = :id&quot;, PostComment.class)\r\n    .setParameter(&quot;id&quot;, 1L)\r\n    .getSingleResult();\r\n     \r\n    assertEquals(\r\n        &quot;A must read!&quot;,\r\n        comment.getReview()\r\n    );\r\n     \r\n    Post post = comment.getPost();\r\n     \r\n    LOGGER.info(&quot;Post entity class: {}&quot;, post.getClass().getName());\r\n     \r\n    assertEquals(\r\n        &quot;High-Performance Java Persistence&quot;,\r\n        post.getTitle()\r\n    );\r\n\r\nThis time, Hibernate execute a single SQL statement, and we no longer risk to bump into N+1 query issues:\r\n\r\n    -- Clear the second-level cache\r\n     \r\n    -- Evicting entity cache: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post\r\n    -- Evicting entity cache: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment\r\n     \r\n    -- Loading a PostComment\r\n     \r\n    SELECT pc.id AS id1_1_0_,\r\n           p.id AS id1_0_1_,\r\n           pc.post_id AS post_id3_1_0_,\r\n           pc.review AS review2_1_0_,\r\n           p.title AS title2_0_1_\r\n    FROM   post_comment pc\r\n    INNER JOIN post p ON pc.post_id=p.id\r\n    WHERE  pc.id=1\r\n     \r\n    -- Post entity class: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post\r\n\r\nUsing the 2nd-level cache with `Hibernate.initialize`\r\n-----------------------------------------------------\r\n\r\nSo, to see when the `Hibernate.initialize` is really worth using, you need to use the second-level cache:\r\n\r\n    LOGGER.info(&quot;Loading a PostComment&quot;);\r\n     \r\n    PostComment comment = entityManager.find(\r\n        PostComment.class,\r\n        1L\r\n    );\r\n     \r\n    assertEquals(\r\n        &quot;A must read!&quot;,\r\n        comment.getReview()\r\n    );\r\n     \r\n    Post post = comment.getPost();\r\n     \r\n    LOGGER.info(&quot;Post entity class: {}&quot;, post.getClass().getName());\r\n     \r\n    Hibernate.initialize(post);\r\n     \r\n    assertEquals(\r\n        &quot;High-Performance Java Persistence&quot;,\r\n        post.getTitle()\r\n    );\r\n\r\nThis time, we are no longer evicting the second-level cache regions, and, since we are using the READ_WRITE cache concurrency strategy, the entities are cached right after they get persisted, hence no SQL query is needed to be executed when running the test case above:\r\n\r\n    -- Loading a PostComment\r\n     \r\n    -- Cache hit : \r\n    region = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment`, \r\n    key = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment#1`\r\n     \r\n    -- Proxy class: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post$HibernateProxy$rnxGtvMK\r\n     \r\n    -- Cache hit : \r\n    region = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post`, \r\n    key = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post#1`\r\n\r\nBoth the `PostComment` and the `post` association are fetched from the second-level cache as illustrated by the Cache hit log messages.\r\n\r\n&gt; So, if you are using the second-level cache, it’s fine to use the `Hibernate.initiaize` to fetch extra associations that you need to fulfill your business use case. In this case, even if you have N+1 cache calls, each call should run very quickly since the second-level cache is configured properly and data is returned from the memory.\r\n\r\n`Hibernate.initialize` and proxy collection\r\n-------------------------------------------\r\n\r\nThe `Hibernate.initialize` can be used for collections as well. Now, because second-level cache collections are read-through, meaning that they are stored in the cache the first time they get loaded when running the following test case:\r\n\r\n    LOGGER.info(&quot;Loading a Post&quot;);\r\n     \r\n    Post post = entityManager.find(\r\n        Post.class,\r\n        1L\r\n    );\r\n     \r\n    List&lt;PostComment&gt; comments = post.getComments();\r\n     \r\n    LOGGER.info(&quot;Collection class: {}&quot;, comments.getClass().getName());\r\n     \r\n    Hibernate.initialize(comments);\r\n     \r\n    LOGGER.info(&quot;Post comments: {}&quot;, comments);\r\n\r\nHibernate executes an SQL query to load the `PostComment` collection:\r\n\r\n    -- Loading a Post\r\n     \r\n    -- Cache hit : \r\n    region = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post`, \r\n    key = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post#1`\r\n     \r\n    -- Collection class: org.hibernate.collection.internal.PersistentBag\r\n     \r\n    - Cache hit, but item is unreadable/invalid : \r\n    region = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post.comments`, \r\n    key = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post.comments#1`\r\n     \r\n    SELECT pc.post_id AS post_id3_1_0_,\r\n           pc.id AS id1_1_0_,\r\n           pc.id AS id1_1_1_,\r\n           pc.post_id AS post_id3_1_1_,\r\n           pc.review AS review2_1_1_\r\n    FROM   post_comment pc\r\n    WHERE  pc.post_id=1\r\n     \r\n    -- Post comments: [\r\n        PostComment{id=1, review=&#39;A must read!&#39;}, \r\n        PostComment{id=2, review=&#39;Awesome!&#39;}, \r\n        PostComment{id=3, review=&#39;5 stars&#39;}\r\n    ]\r\n\r\nHowever, if the `PostComment` collection is already cached:\r\n\r\n    doInJPA(entityManager -&gt; {\r\n        Post post = entityManager.find(Post.class, 1L);\r\n     \r\n        assertEquals(3, post.getComments().size());\r\n    });\r\n\r\nWhen running the previous test case, Hibernate can fetch all data from the cache only:\r\n\r\n    -- Loading a Post\r\n     \r\n    -- Cache hit : \r\n    region = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post`, \r\n    key = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post#1`\r\n     \r\n    -- Collection class: org.hibernate.collection.internal.PersistentBag\r\n     \r\n    -- Cache hit : \r\n    region = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post.comments`, \r\n    key = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post.comments#1`\r\n     \r\n    -- Cache hit : \r\n    region = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment`, \r\n    key = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment#1`\r\n     \r\n    -- Cache hit : \r\n    region = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment`, \r\n    key = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment#2`\r\n     \r\n    -- Cache hit : \r\n    region = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment`, \r\n    key = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment#3`\r\n    \r\n\r\n","title":"How Hibernate.initialize() works","body":"<p>The <code>Hibernate.initialize(proxy)</code> is useful only if you are using the second-level cache. Otherwise, you are going to issue a second query which is less efficient than just initializing the proxy with the initial query.</p>\n<h2>Risking N+1 query issues</h2>\n<p>So, when executing the following test case:</p>\n<pre><code>LOGGER.info(&quot;Clear the second-level cache&quot;);\n\nentityManager.getEntityManagerFactory().getCache().evictAll();\n \nLOGGER.info(&quot;Loading a PostComment&quot;);\n \nPostComment comment = entityManager.find(\n    PostComment.class,\n    1L\n);\n \nassertEquals(\n    &quot;A must read!&quot;,\n    comment.getReview()\n);\n \nPost post = comment.getPost();\n \nLOGGER.info(&quot;Post entity class: {}&quot;, post.getClass().getName());\n \nHibernate.initialize(post);\n \nassertEquals(\n    &quot;High-Performance Java Persistence&quot;,\n    post.getTitle()\n);\n</code></pre>\n<p>First, we are going to clear the second-level cache since, unless you explicitly enable the second-level cache and configure a provider, Hibernate is not going to use the second-level cache.</p>\n<p>When running this test case, Hibernate executes the following SQL statements:</p>\n<pre><code>-- Clear the second-level cache\n \n-- Evicting entity cache: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post\n-- Evicting entity cache: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment\n \n-- Loading a PostComment\n \nSELECT pc.id AS id1_1_0_,\n       pc.post_id AS post_id3_1_0_,\n       pc.review AS review2_1_0_\nFROM   post_comment pc\nWHERE  pc.id=1\n \n-- Post entity class: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post$HibernateProxy$5LVxadxF\n \nSELECT p.id AS id1_0_0_,\n       p.title AS title2_0_0_\nFROM   post p\nWHERE  p.id=1\n</code></pre>\n<p>We can see that the second-level cache was properly evicted and that, after fetching the <code>PostComment</code> entity, the post entity is represented by a <code>HibernateProxy</code> instance which only contains the <code>Post</code> entity identifier that was retrieved from the <code>post_id</code> column of the post_comment database table row.</p>\n<blockquote>\n<p>Now, due to the call to the <code>Hibernate.initialize</code> method, a secondary SQL query is executed to fetch the <code>Post</code> entity, and that’s not very efficient and can lead to N+1 query issues.</p>\n</blockquote>\n<h2>Using JOIN FETCH with JPQL</h2>\n<p>In the previous case, the <code>PostComment</code> should be fetched along with its post association using the JOIN FETCH JPQL directive.</p>\n<pre><code>LOGGER.info(&quot;Clear the second-level cache&quot;);\n \nentityManager.getEntityManagerFactory().getCache().evictAll();\n \nLOGGER.info(&quot;Loading a PostComment&quot;);\n \nPostComment comment = entityManager.createQuery(\n    &quot;select pc &quot; +\n    &quot;from PostComment pc &quot; +\n    &quot;join fetch pc.post &quot; +\n    &quot;where pc.id = :id&quot;, PostComment.class)\n.setParameter(&quot;id&quot;, 1L)\n.getSingleResult();\n \nassertEquals(\n    &quot;A must read!&quot;,\n    comment.getReview()\n);\n \nPost post = comment.getPost();\n \nLOGGER.info(&quot;Post entity class: {}&quot;, post.getClass().getName());\n \nassertEquals(\n    &quot;High-Performance Java Persistence&quot;,\n    post.getTitle()\n);\n</code></pre>\n<p>This time, Hibernate execute a single SQL statement, and we no longer risk to bump into N+1 query issues:</p>\n<pre><code>-- Clear the second-level cache\n \n-- Evicting entity cache: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post\n-- Evicting entity cache: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment\n \n-- Loading a PostComment\n \nSELECT pc.id AS id1_1_0_,\n       p.id AS id1_0_1_,\n       pc.post_id AS post_id3_1_0_,\n       pc.review AS review2_1_0_,\n       p.title AS title2_0_1_\nFROM   post_comment pc\nINNER JOIN post p ON pc.post_id=p.id\nWHERE  pc.id=1\n \n-- Post entity class: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post\n</code></pre>\n<h2>Using the 2nd-level cache with <code>Hibernate.initialize</code></h2>\n<p>So, to see when the <code>Hibernate.initialize</code> is really worth using, you need to use the second-level cache:</p>\n<pre><code>LOGGER.info(&quot;Loading a PostComment&quot;);\n \nPostComment comment = entityManager.find(\n    PostComment.class,\n    1L\n);\n \nassertEquals(\n    &quot;A must read!&quot;,\n    comment.getReview()\n);\n \nPost post = comment.getPost();\n \nLOGGER.info(&quot;Post entity class: {}&quot;, post.getClass().getName());\n \nHibernate.initialize(post);\n \nassertEquals(\n    &quot;High-Performance Java Persistence&quot;,\n    post.getTitle()\n);\n</code></pre>\n<p>This time, we are no longer evicting the second-level cache regions, and, since we are using the READ_WRITE cache concurrency strategy, the entities are cached right after they get persisted, hence no SQL query is needed to be executed when running the test case above:</p>\n<pre><code>-- Loading a PostComment\n \n-- Cache hit : \nregion = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment`, \nkey = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment#1`\n \n-- Proxy class: com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post$HibernateProxy$rnxGtvMK\n \n-- Cache hit : \nregion = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post`, \nkey = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post#1`\n</code></pre>\n<p>Both the <code>PostComment</code> and the <code>post</code> association are fetched from the second-level cache as illustrated by the Cache hit log messages.</p>\n<blockquote>\n<p>So, if you are using the second-level cache, it’s fine to use the <code>Hibernate.initiaize</code> to fetch extra associations that you need to fulfill your business use case. In this case, even if you have N+1 cache calls, each call should run very quickly since the second-level cache is configured properly and data is returned from the memory.</p>\n</blockquote>\n<h2><code>Hibernate.initialize</code> and proxy collection</h2>\n<p>The <code>Hibernate.initialize</code> can be used for collections as well. Now, because second-level cache collections are read-through, meaning that they are stored in the cache the first time they get loaded when running the following test case:</p>\n<pre><code>LOGGER.info(&quot;Loading a Post&quot;);\n \nPost post = entityManager.find(\n    Post.class,\n    1L\n);\n \nList&lt;PostComment&gt; comments = post.getComments();\n \nLOGGER.info(&quot;Collection class: {}&quot;, comments.getClass().getName());\n \nHibernate.initialize(comments);\n \nLOGGER.info(&quot;Post comments: {}&quot;, comments);\n</code></pre>\n<p>Hibernate executes an SQL query to load the <code>PostComment</code> collection:</p>\n<pre><code>-- Loading a Post\n \n-- Cache hit : \nregion = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post`, \nkey = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post#1`\n \n-- Collection class: org.hibernate.collection.internal.PersistentBag\n \n- Cache hit, but item is unreadable/invalid : \nregion = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post.comments`, \nkey = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post.comments#1`\n \nSELECT pc.post_id AS post_id3_1_0_,\n       pc.id AS id1_1_0_,\n       pc.id AS id1_1_1_,\n       pc.post_id AS post_id3_1_1_,\n       pc.review AS review2_1_1_\nFROM   post_comment pc\nWHERE  pc.post_id=1\n \n-- Post comments: [\n    PostComment{id=1, review='A must read!'}, \n    PostComment{id=2, review='Awesome!'}, \n    PostComment{id=3, review='5 stars'}\n]\n</code></pre>\n<p>However, if the <code>PostComment</code> collection is already cached:</p>\n<pre><code>doInJPA(entityManager -&gt; {\n    Post post = entityManager.find(Post.class, 1L);\n \n    assertEquals(3, post.getComments().size());\n});\n</code></pre>\n<p>When running the previous test case, Hibernate can fetch all data from the cache only:</p>\n<pre><code>-- Loading a Post\n \n-- Cache hit : \nregion = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post`, \nkey = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post#1`\n \n-- Collection class: org.hibernate.collection.internal.PersistentBag\n \n-- Cache hit : \nregion = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post.comments`, \nkey = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$Post.comments#1`\n \n-- Cache hit : \nregion = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment`, \nkey = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment#1`\n \n-- Cache hit : \nregion = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment`, \nkey = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment#2`\n \n-- Cache hit : \nregion = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment`, \nkey = `com.vladmihalcea.book.hpjp.hibernate.fetching.HibernateInitializeTest$PostComment#3`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27042051,"reputation":1,"user_id":20596759,"display_name":"Rahul Vasa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669358524,"creation_date":1669358524,"answer_id":74569112,"question_id":17318340,"body_markdown":"Here is what I did:\r\n\r\n@Autowired SessionFactory (org.hibernate.SessionFactory)\r\n\r\n\tSession currentSession = sessionFactory.getCurrentSession();\r\n\tSession newSession;\r\n\tif(null == currentSession) {\r\n\t\tnewSession = sessionFactory.openSession();\r\n\t\tuser= newSession.get(User.class, userId);\r\n\t\tHibernate.initialize(user.getAddress());\r\n\t\tnewSession.close();\r\n\t} else {\r\n\t\tuser = currentSession.get(User.class, userId);\r\n\t\tHibernate.initialize(user.getAddress());\r\n\t}\r\n\r\nAsssuming the session is already open then we force initialize (also called force join) the collection/proxy (1-m/1-1). In case the session doesn&#39;t exist then we open a new session, perform the operation and close it again.\r\n\r\nLet me know if you find any flaw in this","title":"How Hibernate.initialize() works","body":"<p>Here is what I did:</p>\n<p>@Autowired SessionFactory (org.hibernate.SessionFactory)</p>\n<pre><code>Session currentSession = sessionFactory.getCurrentSession();\nSession newSession;\nif(null == currentSession) {\n    newSession = sessionFactory.openSession();\n    user= newSession.get(User.class, userId);\n    Hibernate.initialize(user.getAddress());\n    newSession.close();\n} else {\n    user = currentSession.get(User.class, userId);\n    Hibernate.initialize(user.getAddress());\n}\n</code></pre>\n<p>Asssuming the session is already open then we force initialize (also called force join) the collection/proxy (1-m/1-1). In case the session doesn't exist then we open a new session, perform the operation and close it again.</p>\n<p>Let me know if you find any flaw in this</p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80625,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"answer_count":7,"score":42,"last_activity_date":1669358524,"creation_date":1372244633,"question_id":17318340,"body_markdown":"I know to use lazily load objects/collections outside the session, we do `Hibernate.initialize(Object obj)` so that object that is passed as an argument to initialize() method is initialized and can be used outside of the scope of the session.\r\n\r\nBut what I am not able to understand how this works. I mean if we are doing then we end up in having eager fetching so why we did lazy in the configuration and end up in the eager fetching while runtime.\r\n\r\nIn other words, I want to know the difference between using `Hibernate.initialize()` and `eagerly` loading that object.\r\n\r\nDid I get it wrong or miss something?","title":"How Hibernate.initialize() works","body":"<p>I know to use lazily load objects/collections outside the session, we do <code>Hibernate.initialize(Object obj)</code> so that object that is passed as an argument to initialize() method is initialized and can be used outside of the scope of the session.</p>\n\n<p>But what I am not able to understand how this works. I mean if we are doing then we end up in having eager fetching so why we did lazy in the configuration and end up in the eager fetching while runtime.</p>\n\n<p>In other words, I want to know the difference between using <code>Hibernate.initialize()</code> and <code>eagerly</code> loading that object.</p>\n\n<p>Did I get it wrong or miss something?</p>\n"},{"tags":["java","spring-boot","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669224913,"creation_date":1669224913,"answer_id":74550932,"question_id":74545459,"body_markdown":"You can use `logback-classic` dependency for that.\r\nFirst add this dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen add this logger to `logback.xml`\r\n\r\n\r\n    &lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n            &lt;jsonFormatter\r\n                class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n            &lt;/jsonFormatter&gt;\r\n            &lt;timestampFormat&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/timestampFormat&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;logger name=&quot;jsonLogger&quot; level=&quot;TRACE&quot;&gt;\r\n        &lt;appender-ref ref=&quot;json&quot; /&gt;\r\n    &lt;/logger&gt;\r\n \r\nAfter that, you can call it like this:\r\n\r\n    Logger logger = LoggerFactory.getLogger(&quot;jsonLogger&quot;);\r\n    logger.info(&quot;test message&quot;);\r\n\r\n ","title":"Spring Boot Log4j2 Custom Hybrid Log Layout - Mix of Pattern Layout and JSON Layout","body":"<p>You can use <code>logback-classic</code> dependency for that.\nFirst add this dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then add this logger to <code>logback.xml</code></p>\n<pre><code>&lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n        &lt;jsonFormatter\n            class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n            &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n        &lt;/jsonFormatter&gt;\n        &lt;timestampFormat&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/timestampFormat&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;logger name=&quot;jsonLogger&quot; level=&quot;TRACE&quot;&gt;\n    &lt;appender-ref ref=&quot;json&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>After that, you can call it like this:</p>\n<pre><code>Logger logger = LoggerFactory.getLogger(&quot;jsonLogger&quot;);\nlogger.info(&quot;test message&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27023125,"reputation":11,"user_id":20580822,"display_name":"Chaitanya Adabala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669358192,"creation_date":1669358192,"answer_id":74569069,"question_id":74545459,"body_markdown":"I used Pattern Layout with the following pattern in log4j2.properties\r\n\r\n`appender.console.layout.pattern = %d{ISO8601} - %level: {&quot;timestamp&quot;:&quot;%d{ISO8601}&quot;,&quot;thread.id&quot;:&quot;%T&quot;,&quot;thread.name&quot;:&quot;%t&quot;,&quot;log.level&quot;:&quot;%-5level&quot;,&quot;log.logger&quot;:&quot;%fqcn&quot;,&quot;message&quot;:&quot;%m&quot;,&quot;error.class_name&quot;:&quot;%throwable{short.className}&quot;,&quot;error.method_name&quot;:&quot;%throwable{short.methodName}&quot;,&quot;error.file_name&quot;:&quot;%throwable{short.fileName}&quot;,&quot;error.line_number&quot;:&quot;%throwable{short.lineNumber}&quot;,&quot;error.message&quot;:&quot;%throwable{short.message}&quot;,&quot;error.localized_message&quot;:&quot;%throwable{short.localizedMessage}&quot;}%n\r\n`\r\n\r\nReference: https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout","title":"Spring Boot Log4j2 Custom Hybrid Log Layout - Mix of Pattern Layout and JSON Layout","body":"<p>I used Pattern Layout with the following pattern in log4j2.properties</p>\n<p><code>appender.console.layout.pattern = %d{ISO8601} - %level: {&quot;timestamp&quot;:&quot;%d{ISO8601}&quot;,&quot;thread.id&quot;:&quot;%T&quot;,&quot;thread.name&quot;:&quot;%t&quot;,&quot;log.level&quot;:&quot;%-5level&quot;,&quot;log.logger&quot;:&quot;%fqcn&quot;,&quot;message&quot;:&quot;%m&quot;,&quot;error.class_name&quot;:&quot;%throwable{short.className}&quot;,&quot;error.method_name&quot;:&quot;%throwable{short.methodName}&quot;,&quot;error.file_name&quot;:&quot;%throwable{short.fileName}&quot;,&quot;error.line_number&quot;:&quot;%throwable{short.lineNumber}&quot;,&quot;error.message&quot;:&quot;%throwable{short.message}&quot;,&quot;error.localized_message&quot;:&quot;%throwable{short.localizedMessage}&quot;}%n </code></p>\n<p>Reference: <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout</a></p>\n"}],"owner":{"account_id":27023125,"reputation":11,"user_id":20580822,"display_name":"Chaitanya Adabala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669358192,"creation_date":1669199909,"question_id":74545459,"body_markdown":"I would like to know how I print my application logs to console in a specific format of my choice. \r\n\r\nOur ELK stack&#39;s FileBeat daemon is configured to recognise only those Kubernetes pod logs that are in this pattern - `appender.console.layout.pattern = %d{ISO8601} - %-5level: %msg%n`\r\n\r\nThis is done so as to keep track of all incoming requests and some attributes of responses. Generally `msg` part in above pattern contains http requests and responses. Now, I built a new Microservice in Spring Boot that does not have any http interactions. It consumes messages from Kafka and processes them. So, the logs would be mostly application log statements and exceptions. \r\n\r\nIf I follow the above pattern, my exceptions will be logged as strings and I cannot index logs and filter based on any keys in Kibana. To solve this problem, I need to log msg as JSON just like in JSON layout of log4j2. \r\n\r\nI tried putting the following in log4j2.properties file. I am getting a cool json for each log statement but filebeat won&#39;t pick this up since it is configured to pick only logs in previously specified format. \r\n\r\n```\r\nlog4j2.appender.console.json.type = JsonTemplateLayout\r\nlog4j2.appender.console.json.eventTemplateUri = classpath:EcsLayout.json\r\n```\r\nCould anyone help me arrive at a solution where I can log in the acceptable format only which the `msg` part is a json that looks like following. \r\n\r\n\r\n```\r\n{\r\n  &quot;@timestamp&quot;: &quot;2017-05-25T19:56:23.370Z&quot;,\r\n  &quot;ecs.version&quot;: &quot;1.2.0&quot;,\r\n  &quot;log.level&quot;: &quot;ERROR&quot;,\r\n  &quot;message&quot;: &quot;Hello, error!&quot;,\r\n  &quot;process.thread.name&quot;: &quot;main&quot;,\r\n  &quot;log.logger&quot;: &quot;org.apache.logging.log4j.JsonTemplateLayoutDemo&quot;,\r\n  &quot;error.type&quot;: &quot;java.lang.RuntimeException&quot;,\r\n  &quot;error.message&quot;: &quot;test&quot;,\r\n  &quot;error.stack_trace&quot;: &quot;java.lang.RuntimeException: test\\n\\tat org.apache.logging.log4j.JsonTemplateLayoutDemo.main(JsonTemplateLayoutDemo.java:11)\\n&quot;\r\n}\r\n```\r\n\r\nIn essence, my log statement should be \r\n\r\n```\r\n2022-11-23T15:50:05,802 - ERROR : {&quot;@timestamp&quot;:&quot;2017-05-25T19:56:23.370Z&quot;,&quot;ecs.version&quot;:&quot;1.2.0&quot;,&quot;log.level&quot;:&quot;ERROR&quot;,&quot;message&quot;:&quot;Hello, error!&quot;,&quot;process.thread.name&quot;:&quot;main&quot;,&quot;log.logger&quot;:&quot;org.apache.logging.log4j.JsonTemplateLayoutDemo&quot;,&quot;error.type&quot;:&quot;java.lang.RuntimeException&quot;,&quot;error.message&quot;:&quot;test&quot;,&quot;error.stack_trace&quot;:&quot;java.lang.RuntimeException: test\\n\\tat org.apache.logging.log4j.JsonTemplateLayoutDemo.main(JsonTemplateLayoutDemo.java:11)\\n&quot;}\r\n```\r\n\r\nI tried using Pattern Layout and JSON Layout. But I am expecting a Custom Layout that mentioned above.","title":"Spring Boot Log4j2 Custom Hybrid Log Layout - Mix of Pattern Layout and JSON Layout","body":"<p>I would like to know how I print my application logs to console in a specific format of my choice.</p>\n<p>Our ELK stack's FileBeat daemon is configured to recognise only those Kubernetes pod logs that are in this pattern - <code>appender.console.layout.pattern = %d{ISO8601} - %-5level: %msg%n</code></p>\n<p>This is done so as to keep track of all incoming requests and some attributes of responses. Generally <code>msg</code> part in above pattern contains http requests and responses. Now, I built a new Microservice in Spring Boot that does not have any http interactions. It consumes messages from Kafka and processes them. So, the logs would be mostly application log statements and exceptions.</p>\n<p>If I follow the above pattern, my exceptions will be logged as strings and I cannot index logs and filter based on any keys in Kibana. To solve this problem, I need to log msg as JSON just like in JSON layout of log4j2.</p>\n<p>I tried putting the following in log4j2.properties file. I am getting a cool json for each log statement but filebeat won't pick this up since it is configured to pick only logs in previously specified format.</p>\n<pre><code>log4j2.appender.console.json.type = JsonTemplateLayout\nlog4j2.appender.console.json.eventTemplateUri = classpath:EcsLayout.json\n</code></pre>\n<p>Could anyone help me arrive at a solution where I can log in the acceptable format only which the <code>msg</code> part is a json that looks like following.</p>\n<pre><code>{\n  &quot;@timestamp&quot;: &quot;2017-05-25T19:56:23.370Z&quot;,\n  &quot;ecs.version&quot;: &quot;1.2.0&quot;,\n  &quot;log.level&quot;: &quot;ERROR&quot;,\n  &quot;message&quot;: &quot;Hello, error!&quot;,\n  &quot;process.thread.name&quot;: &quot;main&quot;,\n  &quot;log.logger&quot;: &quot;org.apache.logging.log4j.JsonTemplateLayoutDemo&quot;,\n  &quot;error.type&quot;: &quot;java.lang.RuntimeException&quot;,\n  &quot;error.message&quot;: &quot;test&quot;,\n  &quot;error.stack_trace&quot;: &quot;java.lang.RuntimeException: test\\n\\tat org.apache.logging.log4j.JsonTemplateLayoutDemo.main(JsonTemplateLayoutDemo.java:11)\\n&quot;\n}\n</code></pre>\n<p>In essence, my log statement should be</p>\n<pre><code>2022-11-23T15:50:05,802 - ERROR : {&quot;@timestamp&quot;:&quot;2017-05-25T19:56:23.370Z&quot;,&quot;ecs.version&quot;:&quot;1.2.0&quot;,&quot;log.level&quot;:&quot;ERROR&quot;,&quot;message&quot;:&quot;Hello, error!&quot;,&quot;process.thread.name&quot;:&quot;main&quot;,&quot;log.logger&quot;:&quot;org.apache.logging.log4j.JsonTemplateLayoutDemo&quot;,&quot;error.type&quot;:&quot;java.lang.RuntimeException&quot;,&quot;error.message&quot;:&quot;test&quot;,&quot;error.stack_trace&quot;:&quot;java.lang.RuntimeException: test\\n\\tat org.apache.logging.log4j.JsonTemplateLayoutDemo.main(JsonTemplateLayoutDemo.java:11)\\n&quot;}\n</code></pre>\n<p>I tried using Pattern Layout and JSON Layout. But I am expecting a Custom Layout that mentioned above.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1444198351,"post_id":32984927,"comment_id":53794926,"body_markdown":"What have you done so far? Please post your current code.","body":"What have you done so far? Please post your current code."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":4,"creation_date":1444198466,"post_id":32984927,"comment_id":53794965,"body_markdown":"This solution won&#39;t work for a word that is constructed from 3 other words","body":"This solution won&#39;t work for a word that is constructed from 3 other words"},{"owner":{"account_id":1891460,"reputation":2159,"user_id":1709417,"accept_rate":56,"display_name":"Nishant Kumar"},"score":1,"creation_date":1444198479,"post_id":32984927,"comment_id":53794969,"body_markdown":"if input is : `test, tester`, what should be output . tester? or if input is :`abc, bcdef` what should be output ?","body":"if input is : <code>test, tester</code>, what should be output . tester? or if input is :<code>abc, bcdef</code> what should be output ?"},{"owner":{"account_id":2549136,"reputation":1237,"user_id":2213297,"accept_rate":56,"display_name":"piotrekg2"},"score":1,"creation_date":1444200603,"post_id":32984927,"comment_id":53795963,"body_markdown":"This problem is still not clear to me. Why doesnt your output contain `testertest` as a substring?","body":"This problem is still not clear to me. Why doesnt your output contain <code>testertest</code> as a substring?"},{"owner":{"account_id":3568716,"reputation":28786,"user_id":2979617,"display_name":"M Oehm"},"score":1,"creation_date":1444200723,"post_id":32984927,"comment_id":53796018,"body_markdown":"@piotrekg2: because &quot;testingtester&quot; is longer. OP wants to find only the longest match.","body":"@piotrekg2: because &quot;testingtester&quot; is longer. OP wants to find only the longest match."},{"owner":{"account_id":170345,"reputation":9849,"user_id":1850923,"accept_rate":89,"display_name":"Lin Ma"},"score":0,"creation_date":1444200903,"post_id":32984927,"comment_id":53796102,"body_markdown":"@alfasin, why, example is appreciated. :)","body":"@alfasin, why, example is appreciated. :)"},{"owner":{"account_id":170345,"reputation":9849,"user_id":1850923,"accept_rate":89,"display_name":"Lin Ma"},"score":0,"creation_date":1444200945,"post_id":32984927,"comment_id":53796128,"body_markdown":"@dream_machine, I think the output should be tester in your first case, and should be None in your 2nd case. Any insights are appreciated for the solution.","body":"@dream_machine, I think the output should be tester in your first case, and should be None in your 2nd case. Any insights are appreciated for the solution."},{"owner":{"account_id":170345,"reputation":9849,"user_id":1850923,"accept_rate":89,"display_name":"Lin Ma"},"score":0,"creation_date":1444200984,"post_id":32984927,"comment_id":53796148,"body_markdown":"@piotrekg2, it is not the longest? Thanks.","body":"@piotrekg2, it is not the longest? Thanks."},{"owner":{"account_id":170345,"reputation":9849,"user_id":1850923,"accept_rate":89,"display_name":"Lin Ma"},"score":0,"creation_date":1444201011,"post_id":32984927,"comment_id":53796170,"body_markdown":"@MOehm, thanks for the correction. Do you understand step 2 of the solution? :)","body":"@MOehm, thanks for the correction. Do you understand step 2 of the solution? :)"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1444228077,"post_id":32984927,"comment_id":53814521,"body_markdown":"@LinMa I *can* give you an example, but don&#39;t you think that it will be a good exercise for you to try and find it yourself ?","body":"@LinMa I <i>can</i> give you an example, but don&#39;t you think that it will be a good exercise for you to try and find it yourself ?"}],"answers":[{"tags":[],"owner":{"account_id":391909,"reputation":57424,"user_id":752843,"accept_rate":52,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1444204544,"creation_date":1444198884,"answer_id":32985089,"question_id":32984927,"body_markdown":"Answering your question indirectly, I believe the following is an efficient way to solve this problem using [tries](https://en.wikipedia.org/wiki/Trie).\r\n\r\nBuild a trie from all of the words in your string.\r\n\r\nSort the words so that the longest word comes first.\r\n\r\nNow, for each word W, start at the top of the trie and begin following the word down the tree one letter at a time using letters from the word you are testing.\r\n\r\nEach time a word ends, recursively re-enter the trie from the top making a note that you have &quot;branched&quot;. If you run out of letters at the end of the word and have branched, you&#39;ve found a compound word and, because the words were sorted, this is the longest compound word.\r\n\r\nIf the letters stop matching at any point, or you run out and are not at the end of the word, just back track to wherever it was that you branched and keep plugging along.\r\n\r\nI&#39;m afraid I don&#39;t know Java that well, so I&#39;m unable to provide you sample code in that language. I have, however, written out a solution in Python (using a trie implementation from [this answer](https://stackoverflow.com/a/11016430/752843)). Hopefully it is clear to you:\r\n\r\n    #!/usr/bin/env python3\r\n\r\n    #End of word symbol\r\n    _end = &#39;_end_&#39;\r\n\r\n    #Make a trie out of nested HashMap, UnorderedMap, dict structures\r\n    def MakeTrie(words):\r\n      root = dict()\r\n      for word in words:\r\n        current_dict = root\r\n        for letter in word:\r\n          current_dict = current_dict.setdefault(letter, {})\r\n        current_dict[_end] = _end\r\n      return root\r\n\r\n    def LongestCompoundWord(original_trie, trie, word, level=0):\r\n      first_letter = word[0]\r\n      if not first_letter in trie:\r\n        return False\r\n      if len(word)==1 and _end in trie[first_letter]:\r\n        return level&gt;0\r\n      if _end in trie[first_letter] and LongestCompoundWord(original_trie, original_trie, word[1:], level+1):\r\n        return True\r\n      return LongestCompoundWord(original_trie, trie[first_letter], word[1:], level)\r\n\r\n    #Words that were in your question\r\n    words = [&#39;test&#39;,&#39;testing&#39;,&#39;tester&#39;,&#39;teste&#39;, &#39;testingtester&#39;, &#39;testingtestm&#39;, &#39;testtest&#39;,&#39;testingtest&#39;]\r\n\r\n    trie = MakeTrie(words)\r\n\r\n    #Sort words in order of decreasing length\r\n    words = sorted(words, key=lambda x: len(x), reverse=True)\r\n\r\n    for word in words:\r\n      if LongestCompoundWord(trie,trie,word):\r\n        print(&quot;Longest compound word was &#39;{0:}&#39;&quot;.format(word))\r\n        break\r\n\r\nWith the above in mind, the answer to your original question becomes clearer: we do not know ahead of time which combination of prefix words will take us successfully through the tree. Therefore, we need to be prepared to check all possible combinations of prefix words.\r\n\r\nSince the algorithm you found does not have an efficient way of knowing what subsets of a word are prefixes, it splits the word at all possible points in word to ensure that all prefixes are generated.","title":"find the longest word made of other words","body":"<p>Answering your question indirectly, I believe the following is an efficient way to solve this problem using <a href=\"https://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">tries</a>.</p>\n\n<p>Build a trie from all of the words in your string.</p>\n\n<p>Sort the words so that the longest word comes first.</p>\n\n<p>Now, for each word W, start at the top of the trie and begin following the word down the tree one letter at a time using letters from the word you are testing.</p>\n\n<p>Each time a word ends, recursively re-enter the trie from the top making a note that you have \"branched\". If you run out of letters at the end of the word and have branched, you've found a compound word and, because the words were sorted, this is the longest compound word.</p>\n\n<p>If the letters stop matching at any point, or you run out and are not at the end of the word, just back track to wherever it was that you branched and keep plugging along.</p>\n\n<p>I'm afraid I don't know Java that well, so I'm unable to provide you sample code in that language. I have, however, written out a solution in Python (using a trie implementation from <a href=\"https://stackoverflow.com/a/11016430/752843\">this answer</a>). Hopefully it is clear to you:</p>\n\n<pre><code>#!/usr/bin/env python3\n\n#End of word symbol\n_end = '_end_'\n\n#Make a trie out of nested HashMap, UnorderedMap, dict structures\ndef MakeTrie(words):\n  root = dict()\n  for word in words:\n    current_dict = root\n    for letter in word:\n      current_dict = current_dict.setdefault(letter, {})\n    current_dict[_end] = _end\n  return root\n\ndef LongestCompoundWord(original_trie, trie, word, level=0):\n  first_letter = word[0]\n  if not first_letter in trie:\n    return False\n  if len(word)==1 and _end in trie[first_letter]:\n    return level&gt;0\n  if _end in trie[first_letter] and LongestCompoundWord(original_trie, original_trie, word[1:], level+1):\n    return True\n  return LongestCompoundWord(original_trie, trie[first_letter], word[1:], level)\n\n#Words that were in your question\nwords = ['test','testing','tester','teste', 'testingtester', 'testingtestm', 'testtest','testingtest']\n\ntrie = MakeTrie(words)\n\n#Sort words in order of decreasing length\nwords = sorted(words, key=lambda x: len(x), reverse=True)\n\nfor word in words:\n  if LongestCompoundWord(trie,trie,word):\n    print(\"Longest compound word was '{0:}'\".format(word))\n    break\n</code></pre>\n\n<p>With the above in mind, the answer to your original question becomes clearer: we do not know ahead of time which combination of prefix words will take us successfully through the tree. Therefore, we need to be prepared to check all possible combinations of prefix words.</p>\n\n<p>Since the algorithm you found does not have an efficient way of knowing what subsets of a word are prefixes, it splits the word at all possible points in word to ensure that all prefixes are generated.</p>\n"},{"tags":[],"owner":{"display_name":"user1196549"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444203072,"creation_date":1444200905,"answer_id":32985593,"question_id":32984927,"body_markdown":"I guess you are just making a confusion about which words are split.\r\n\r\nAfter sorting, you consider the words one after the other, by decreasing length. Let us call a &quot;candidate&quot; a word you are trying to decompose.\r\n\r\nIf the candidate is made of other words, it certainly starts with a word, so you will compare all prefixes of the candidate to all possible words.\r\n\r\nDuring the comparison step, you compare a candidate prefix to the whole words, not to split words.\r\n\r\n\r\n----------\r\n\r\nBy the way, the given solution will not work for triwords and longer. The fix is as follows:\r\n\r\n- try every prefix of the candidate and compare it to all words\r\n- in case of a match, repeat the search with the suffix.\r\n\r\nExample:\r\n\r\n`testingtester` gives the prefixes\r\n\r\n`t`, `te`, `tes`, `test`, `testi`, `testin`, `testing`, `testingt`, `testingte`, `testingtes` and `testingteste`\r\n\r\nAmong these, `test` and `testing` are words. Then you need to try the corresponding suffixes `ingtester` and `tester`.\r\n\r\n`ingtester` gives\r\n\r\n`i`, `in`, `ing`, `ingt`, `ingte`, `ingtes`, `ingtest` and `ingteste`, none of which are words.\r\n\r\n`tester` is a word and you are done.\r\n\r\n\r\n----------\r\n\r\n    IsComposite(InitialCandidate, Candidate):\r\n        For all Prefixes of Candidate:\r\n            if Prefix is in Words:\r\n                Suffix= Candidate - Prefix\r\n                if Suffix == &quot;&quot;:\r\n                    return Candidate != InitialCandidate\r\n                else:\r\n                    return IsComposite(InitialCandidate, Suffix)\r\n    \r\n    For all Candidate words by decreasing size:\r\n        if IsComposite(Candidate, Candidate):\r\n            print Candidate\r\n            break","title":"find the longest word made of other words","body":"<p>I guess you are just making a confusion about which words are split.</p>\n\n<p>After sorting, you consider the words one after the other, by decreasing length. Let us call a \"candidate\" a word you are trying to decompose.</p>\n\n<p>If the candidate is made of other words, it certainly starts with a word, so you will compare all prefixes of the candidate to all possible words.</p>\n\n<p>During the comparison step, you compare a candidate prefix to the whole words, not to split words.</p>\n\n<hr>\n\n<p>By the way, the given solution will not work for triwords and longer. The fix is as follows:</p>\n\n<ul>\n<li>try every prefix of the candidate and compare it to all words</li>\n<li>in case of a match, repeat the search with the suffix.</li>\n</ul>\n\n<p>Example:</p>\n\n<p><code>testingtester</code> gives the prefixes</p>\n\n<p><code>t</code>, <code>te</code>, <code>tes</code>, <code>test</code>, <code>testi</code>, <code>testin</code>, <code>testing</code>, <code>testingt</code>, <code>testingte</code>, <code>testingtes</code> and <code>testingteste</code></p>\n\n<p>Among these, <code>test</code> and <code>testing</code> are words. Then you need to try the corresponding suffixes <code>ingtester</code> and <code>tester</code>.</p>\n\n<p><code>ingtester</code> gives</p>\n\n<p><code>i</code>, <code>in</code>, <code>ing</code>, <code>ingt</code>, <code>ingte</code>, <code>ingtes</code>, <code>ingtest</code> and <code>ingteste</code>, none of which are words.</p>\n\n<p><code>tester</code> is a word and you are done.</p>\n\n<hr>\n\n<pre><code>IsComposite(InitialCandidate, Candidate):\n    For all Prefixes of Candidate:\n        if Prefix is in Words:\n            Suffix= Candidate - Prefix\n            if Suffix == \"\":\n                return Candidate != InitialCandidate\n            else:\n                return IsComposite(InitialCandidate, Suffix)\n\nFor all Candidate words by decreasing size:\n    if IsComposite(Candidate, Candidate):\n        print Candidate\n        break\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444283686,"creation_date":1444224546,"answer_id":32993531,"question_id":32984927,"body_markdown":"I would probably use recursion here. Start with the longest word and find words it starts with. For any such word remove it from the original word and continue with the remaining part in the same manner.\r\n\r\nPseudo code:\r\n\r\n    function iscomposed(orininalword, wordpart)\r\n      for word in allwords\r\n        if word &lt;&gt; orininalword\r\n          if wordpart = word\r\n            return yes\r\n          elseif wordpart starts with word\r\n            if iscomposed(orininalword, wordpart - word)\r\n              return yes\r\n            endif\r\n          endif\r\n        endif\r\n      next\r\n      return no\r\n    end  \r\n\r\n    main\r\n      sort allwords by length descending\r\n      for word in allwords\r\n        if iscomposed(word, word) return word\r\n      next\r\n    end\r\n\r\nExample:\r\n&lt;pre&gt;\r\nwords:\r\nabcdef\r\nabcde\r\nabc\r\ncde\r\nab\r\n&lt;/pre&gt;\r\n\r\nPasses:\r\n&lt;pre&gt;\r\n1. abcdef starts with abcde. rest = f. 2. no word f starts with found.\r\n1. abcdef starts with abc. rest = def. 2. no word def starts with found.\r\n1. abcdef starts with ab. rest = cdef. 2. cdef starts with cde. rest = f. 3. no word f starts with found.\r\n1. abcde starts with abc. rest = cde. 2. cde itself found. abcde is a composed word\r\n&lt;/pre&gt;\r\n","title":"find the longest word made of other words","body":"<p>I would probably use recursion here. Start with the longest word and find words it starts with. For any such word remove it from the original word and continue with the remaining part in the same manner.</p>\n\n<p>Pseudo code:</p>\n\n<pre><code>function iscomposed(orininalword, wordpart)\n  for word in allwords\n    if word &lt;&gt; orininalword\n      if wordpart = word\n        return yes\n      elseif wordpart starts with word\n        if iscomposed(orininalword, wordpart - word)\n          return yes\n        endif\n      endif\n    endif\n  next\n  return no\nend  \n\nmain\n  sort allwords by length descending\n  for word in allwords\n    if iscomposed(word, word) return word\n  next\nend\n</code></pre>\n\n<p>Example:</p>\n\n<pre>\nwords:\nabcdef\nabcde\nabc\ncde\nab\n</pre>\n\n<p>Passes:</p>\n\n<pre>\n1. abcdef starts with abcde. rest = f. 2. no word f starts with found.\n1. abcdef starts with abc. rest = def. 2. no word def starts with found.\n1. abcdef starts with ab. rest = cdef. 2. cdef starts with cde. rest = f. 3. no word f starts with found.\n1. abcde starts with abc. rest = cde. 2. cde itself found. abcde is a composed word\n</pre>\n"},{"tags":[],"owner":{"account_id":20180,"reputation":50570,"user_id":47984,"accept_rate":67,"display_name":"j_random_hacker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1444324469,"creation_date":1444324162,"answer_id":33021989,"question_id":32984927,"body_markdown":"[Richard&#39;s answer](https://stackoverflow.com/a/32985089/47984) will work well in many cases, but it can take exponential time: this will happen if there are many segments of the string W, each of which can be decomposed in multiple different ways.  For example, suppose W is `abcabcabcd`, and the other words are `ab`, `c`, `a` and `bc`.  Then the first 3 letters of W can be decomposed either as `ab|c` or as `a|bc`...  and so can the next 3 letters, and the next 3, for 2^3 = 8 possible decompositions of the first 9 letters overall:\r\n\r\n    a|bc|a|bc|a|bc\r\n    a|bc|a|bc|ab|c\r\n    a|bc|ab|c|a|bc\r\n    a|bc|ab|c|ab|c\r\n    ab|c|a|bc|a|bc\r\n    ab|c|a|bc|ab|c\r\n    ab|c|ab|c|a|bc\r\n    ab|c|ab|c|ab|c\r\n\r\nAll of these partial decompositions necessarily fail in the end, since there is no word in the input that contains W&#39;s final letter `d` -- but his algorithm will explore them all before discovering this.  In general, a word consisting of n copies of `abc` followed by a single `d` will take O(n*2^n) time.\r\n\r\nWe can improve this to O(n^2) worst-case time (at the cost of O(n) space) by recording extra information about the decomposability of suffixes of W as we go along -- that is, suffixes of W that we have already discovered we can or cannot match to word sequences.  This type of algorithm is called [dynamic programming](https://en.wikipedia.org/wiki/Dynamic_programming).\r\n\r\nThe condition we need for some word W to be decomposable is exactly that **W begins with some word X from the set of other words, *and the suffix of W beginning at position |X|+1 is decomposable***.  (I&#39;m using 1-based indices here, and I&#39;ll denote a substring of a string S beginning at position i and ending at position j by S[i..j].)\r\n\r\nWhenever we discover that the suffix of the current word W beginning at some position i is or is not decomposable, we can record this fact and make use of it later to save time.  For example, after testing the first 4 decompositions in the 8 listed earlier, we know that the suffix of W beginning at position 4 (i.e., `abcabcd`) is *not* decomposable.  Then when we try the 5th decomposition, i.e., the first one starting with `ab`, we first ask the question: Is the rest of W, i.e. the suffix of W beginning at position 3, decomposable?  We don&#39;t know yet, so we try adding `c` to get `ab|c`, and then we ask: Is the rest of W, i.e. the suffix of W beginning at position 4, decomposable?  And we find that it has already been found not to be -- so we can immediately conclude that no decomposition of W beginning with `ab|c` is possible either, instead of having to grind through all 4 possibilities.\r\n\r\nAssuming for the moment that the current word W is fixed, what we want to build is a function f(i) that determines whether the suffix of W beginning at position i is decomposable.  Pseudo-code for this could look like:\r\n\r\n    - Build a trie the same way as Richard&#39;s solution does.\r\n    - Initialise the array KnownDecomposable[] to |W| DUNNO values.\r\n    \r\n    f(i):\r\n        - If i == |W|+1 then return 1.  (The empty suffix means we&#39;re finished.)\r\n        - If KnownDecomposable[i] is TRUE or FALSE, then immediately return it.\r\n        - MAIN BODY BEGINS HERE\r\n        - Walk through Richard&#39;s trie from the root, following characters in the\r\n          suffix W[i..|W|].  Whenever we find a trie node at some depth j that\r\n          marks the end of a word in the set:\r\n            - Call f(i+j) to determine whether the rest of W can be decomposed.\r\n            - If it can (i.e. if f(i+j) == 1):\r\n                - Set KnownDecomposable[i] = TRUE.\r\n                - Return TRUE.\r\n        - If we make it to this point, then we have considered all other\r\n          words that form a prefix of W[i..|W|], and found that none of\r\n          them yield a suffix that can be decomposed.\r\n        - Set KnownDecomposable[i] = FALSE.\r\n        - Return FALSE.\r\n\r\nCalling f(1) then tells us whether W is decomposable.\r\n\r\nBy the time a call to f(i) returns, KnownDecomposable[i] has been set to a non-DUNNO value (TRUE or FALSE).  The main body of the function is only run if KnownDecomposable[i] is DUNNO.  Together these facts imply that the main body of the function will only run as many times as there are distinct values i that the function can be called with.  There are at most |W|+1 such values, which is O(n), and outside of recursive calls, a call to f(i) takes at most O(n) time to walk through Richard&#39;s trie, so overall the time complexity is bounded by O(n^2).\r\n\r\n","title":"find the longest word made of other words","body":"<p><a href=\"https://stackoverflow.com/a/32985089/47984\">Richard's answer</a> will work well in many cases, but it can take exponential time: this will happen if there are many segments of the string W, each of which can be decomposed in multiple different ways.  For example, suppose W is <code>abcabcabcd</code>, and the other words are <code>ab</code>, <code>c</code>, <code>a</code> and <code>bc</code>.  Then the first 3 letters of W can be decomposed either as <code>ab|c</code> or as <code>a|bc</code>...  and so can the next 3 letters, and the next 3, for 2^3 = 8 possible decompositions of the first 9 letters overall:</p>\n\n<pre><code>a|bc|a|bc|a|bc\na|bc|a|bc|ab|c\na|bc|ab|c|a|bc\na|bc|ab|c|ab|c\nab|c|a|bc|a|bc\nab|c|a|bc|ab|c\nab|c|ab|c|a|bc\nab|c|ab|c|ab|c\n</code></pre>\n\n<p>All of these partial decompositions necessarily fail in the end, since there is no word in the input that contains W's final letter <code>d</code> -- but his algorithm will explore them all before discovering this.  In general, a word consisting of n copies of <code>abc</code> followed by a single <code>d</code> will take O(n*2^n) time.</p>\n\n<p>We can improve this to O(n^2) worst-case time (at the cost of O(n) space) by recording extra information about the decomposability of suffixes of W as we go along -- that is, suffixes of W that we have already discovered we can or cannot match to word sequences.  This type of algorithm is called <a href=\"https://en.wikipedia.org/wiki/Dynamic_programming\" rel=\"nofollow noreferrer\">dynamic programming</a>.</p>\n\n<p>The condition we need for some word W to be decomposable is exactly that <strong>W begins with some word X from the set of other words, <em>and the suffix of W beginning at position |X|+1 is decomposable</em></strong>.  (I'm using 1-based indices here, and I'll denote a substring of a string S beginning at position i and ending at position j by S[i..j].)</p>\n\n<p>Whenever we discover that the suffix of the current word W beginning at some position i is or is not decomposable, we can record this fact and make use of it later to save time.  For example, after testing the first 4 decompositions in the 8 listed earlier, we know that the suffix of W beginning at position 4 (i.e., <code>abcabcd</code>) is <em>not</em> decomposable.  Then when we try the 5th decomposition, i.e., the first one starting with <code>ab</code>, we first ask the question: Is the rest of W, i.e. the suffix of W beginning at position 3, decomposable?  We don't know yet, so we try adding <code>c</code> to get <code>ab|c</code>, and then we ask: Is the rest of W, i.e. the suffix of W beginning at position 4, decomposable?  And we find that it has already been found not to be -- so we can immediately conclude that no decomposition of W beginning with <code>ab|c</code> is possible either, instead of having to grind through all 4 possibilities.</p>\n\n<p>Assuming for the moment that the current word W is fixed, what we want to build is a function f(i) that determines whether the suffix of W beginning at position i is decomposable.  Pseudo-code for this could look like:</p>\n\n<pre><code>- Build a trie the same way as Richard's solution does.\n- Initialise the array KnownDecomposable[] to |W| DUNNO values.\n\nf(i):\n    - If i == |W|+1 then return 1.  (The empty suffix means we're finished.)\n    - If KnownDecomposable[i] is TRUE or FALSE, then immediately return it.\n    - MAIN BODY BEGINS HERE\n    - Walk through Richard's trie from the root, following characters in the\n      suffix W[i..|W|].  Whenever we find a trie node at some depth j that\n      marks the end of a word in the set:\n        - Call f(i+j) to determine whether the rest of W can be decomposed.\n        - If it can (i.e. if f(i+j) == 1):\n            - Set KnownDecomposable[i] = TRUE.\n            - Return TRUE.\n    - If we make it to this point, then we have considered all other\n      words that form a prefix of W[i..|W|], and found that none of\n      them yield a suffix that can be decomposed.\n    - Set KnownDecomposable[i] = FALSE.\n    - Return FALSE.\n</code></pre>\n\n<p>Calling f(1) then tells us whether W is decomposable.</p>\n\n<p>By the time a call to f(i) returns, KnownDecomposable[i] has been set to a non-DUNNO value (TRUE or FALSE).  The main body of the function is only run if KnownDecomposable[i] is DUNNO.  Together these facts imply that the main body of the function will only run as many times as there are distinct values i that the function can be called with.  There are at most |W|+1 such values, which is O(n), and outside of recursive calls, a call to f(i) takes at most O(n) time to walk through Richard's trie, so overall the time complexity is bounded by O(n^2).</p>\n"},{"tags":[],"owner":{"account_id":10113208,"reputation":91,"user_id":7472723,"display_name":"Ghanshyam Vaghela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669357077,"creation_date":1669357077,"answer_id":74568940,"question_id":32984927,"body_markdown":"&gt; To find longest world using recursion\r\n\r\n    class FindLongestWord {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; input = new ArrayList&lt;&gt;(\r\n\t\t\t\tArrays.asList(&quot;cat&quot;, &quot;banana&quot;, &quot;rat&quot;, &quot;dog&quot;, &quot;nana&quot;, &quot;walk&quot;, &quot;walker&quot;, &quot;dogcatwalker&quot;));\r\n\r\n\t\tList&lt;String&gt; sortedList = input.stream().sorted(Comparator.comparing(String::length).reversed())\r\n\t\t\t\t.collect(Collectors.toList());\r\n\r\n\t\tboolean isWordFound = false;\r\n\t\tfor (String word : sortedList) {\r\n\t\t\tinput.remove(word);\r\n\t\t\tif (findPrefix(input, word)) {\r\n\t\t\t\tSystem.out.println(&quot;Longest word is : &quot; + word);\r\n\t\t\t\tisWordFound = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!isWordFound)\r\n\t\t\tSystem.out.println(&quot;Longest word not found&quot;);\r\n\r\n\t}\r\n\r\n\tpublic static boolean findPrefix(List&lt;String&gt; input, String word) {\r\n\r\n\t\tboolean output = false;\r\n\t\tif (word.isEmpty())\r\n\t\t\treturn true;\r\n\t\telse {\r\n\t\t\tfor (int i = 0; i &lt; input.size(); i++) {\r\n\t\t\t\tif (word.startsWith(input.get(i))) {\r\n\t\t\t\t\toutput = findPrefix(input, word.replace(input.get(i), &quot;&quot;));\r\n\t\t\t\t\tif (output)\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\r\n\t}\r\n\r\n}\r\n\r\n","title":"find the longest word made of other words","body":"<blockquote>\n<p>To find longest world using recursion</p>\n</blockquote>\n<pre><code>class FindLongestWord {\n\npublic static void main(String[] args) {\n    List&lt;String&gt; input = new ArrayList&lt;&gt;(\n            Arrays.asList(&quot;cat&quot;, &quot;banana&quot;, &quot;rat&quot;, &quot;dog&quot;, &quot;nana&quot;, &quot;walk&quot;, &quot;walker&quot;, &quot;dogcatwalker&quot;));\n\n    List&lt;String&gt; sortedList = input.stream().sorted(Comparator.comparing(String::length).reversed())\n            .collect(Collectors.toList());\n\n    boolean isWordFound = false;\n    for (String word : sortedList) {\n        input.remove(word);\n        if (findPrefix(input, word)) {\n            System.out.println(&quot;Longest word is : &quot; + word);\n            isWordFound = true;\n            break;\n        }\n    }\n    if (!isWordFound)\n        System.out.println(&quot;Longest word not found&quot;);\n\n}\n\npublic static boolean findPrefix(List&lt;String&gt; input, String word) {\n\n    boolean output = false;\n    if (word.isEmpty())\n        return true;\n    else {\n        for (int i = 0; i &lt; input.size(); i++) {\n            if (word.startsWith(input.get(i))) {\n                output = findPrefix(input, word.replace(input.get(i), &quot;&quot;));\n                if (output)\n                    return true;\n            }\n        }\n    }\n    return output;\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":170345,"reputation":9849,"user_id":1850923,"accept_rate":89,"display_name":"Lin Ma"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8392,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32985089,"answer_count":5,"score":4,"last_activity_date":1669357077,"creation_date":1444198236,"question_id":32984927,"body_markdown":"I am working on a problem, which is to write a program to find the longest word made of other words in a list of words.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    EXAMPLE\r\n    Input: test, tester, testertest, testing, testingtester\r\n    Output: testingtester\r\n\r\nI searched and find the following solution, my question is I am confused in step 2, why we should break each word in all possible ways? Why not use each word directly as a whole? If anyone could give some insights, it will be great.\r\n\r\nThe solution below does the following:\r\n\r\n   1. Sort the array by size, putting the longest word at the front\r\n   2. For each word, split it in all possible ways. That is, for “test”, split it into {“t”, “est”}, {“te”, “st”} and {“tes”, “t”}.\r\n   3. Then, for each pairing, check if the first half and the second both exist elsewhere in the array.\r\n   4. “Short circuit” by returning the first string we find that fits condition #3.","title":"find the longest word made of other words","body":"<p>I am working on a problem, which is to write a program to find the longest word made of other words in a list of words.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>EXAMPLE\nInput: test, tester, testertest, testing, testingtester\nOutput: testingtester\n</code></pre>\n\n<p>I searched and find the following solution, my question is I am confused in step 2, why we should break each word in all possible ways? Why not use each word directly as a whole? If anyone could give some insights, it will be great.</p>\n\n<p>The solution below does the following:</p>\n\n<ol>\n<li>Sort the array by size, putting the longest word at the front</li>\n<li>For each word, split it in all possible ways. That is, for “test”, split it into {“t”, “est”}, {“te”, “st”} and {“tes”, “t”}.</li>\n<li>Then, for each pairing, check if the first half and the second both exist elsewhere in the array.</li>\n<li>“Short circuit” by returning the first string we find that fits condition #3.</li>\n</ol>\n"},{"tags":["java","abstract-class","private"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1280143915,"creation_date":1280143915,"answer_id":3334391,"question_id":3334380,"body_markdown":"It&#39;s the same as in a non-abstract class, there&#39;s no difference.\r\n\r\nWhich means that if nothing in your abstract class calls the private method, then you can just as well remove it, as it won&#39;t be called (baring some evil reflection work).\r\n\r\nUsually, private methods are only used as internal utility methods that have a very specific task that the other methods in the class use to do their work.","title":"Why is there a private access modifier in an abstract class in Java, even though we cannot create an instance of an abstract class?","body":"<p>It's the same as in a non-abstract class, there's no difference.</p>\n\n<p>Which means that if nothing in your abstract class calls the private method, then you can just as well remove it, as it won't be called (baring some evil reflection work).</p>\n\n<p>Usually, private methods are only used as internal utility methods that have a very specific task that the other methods in the class use to do their work.</p>\n"},{"tags":[],"owner":{"account_id":12052,"reputation":31734,"user_id":23562,"accept_rate":84,"display_name":"Ronald Wildenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280143990,"creation_date":1280143990,"answer_id":3334403,"question_id":3334380,"body_markdown":"The method can be accessed only from within the abstract class. For example, you could have an abstract class with a `public final` method that makes use of a private helper method.","title":"Why is there a private access modifier in an abstract class in Java, even though we cannot create an instance of an abstract class?","body":"<p>The method can be accessed only from within the abstract class. For example, you could have an abstract class with a <code>public final</code> method that makes use of a private helper method.</p>\n"},{"tags":[],"owner":{"account_id":129236,"reputation":7706,"user_id":327679,"accept_rate":80,"display_name":"Andrei Fierbinteanu"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1280144945,"creation_date":1280144313,"answer_id":3334434,"question_id":3334380,"body_markdown":"Since an abstract class can contain functionality (as opposed to an interface) it can have private variables or methods.\r\n\r\nIn your example you might do something like\r\n\r\n     public void startEngine(){\r\n       injectFuel();\r\n       igniteSpark();\r\n       // etc. my understanding of engines is limited at best\r\n       System.out.println(&quot;Start Engine&quot;);\r\n     }\r\n\r\n     private void injectFuel() {}\r\n     private void igniteSpark() {}\r\n\r\nThat way you can spread some of the work to other methods (so you don&#39;t have a 1000 line startEngine method), but you don&#39;t want the children to be able to call injectFuel separately since it doesn&#39;t make sense outside the context of startEngine (you want to make sure it&#39;s only used there).\r\n\r\nOr even more you might have a private method that gets called in several other public methods, with different parameters. This way you avoid writing the same code twice or more in each of the public methods, and grouping the common code in a private method makes sure the children don&#39;t access it (like they couldn&#39;t just call part of the public method before). Something like this:\r\n\r\n     public void startEngine() {\r\n       dishargeBattery(50);\r\n       System.out.println(&quot;Start Engine&quot;);\r\n     }\r\n\r\n     public void startRadio() {\r\n       dischargeBattery(20);\r\n     }\r\n\r\n     private void dischargeBattery(int value) {\r\n       battery.energy -= value; //battery should probably be a private field.\r\n     }\r\n\r\nThis way your methods can have access to the battery, but the children shouldn&#39;t mess with it, and you don&#39;t write the same line (`battery.energy -= value`) in both of them. Take note though, that these are very simple examples, but if dischargeBattery was a 500 line method, writing it in both the other methods would be a hassle.\r\n","title":"Why is there a private access modifier in an abstract class in Java, even though we cannot create an instance of an abstract class?","body":"<p>Since an abstract class can contain functionality (as opposed to an interface) it can have private variables or methods.</p>\n\n<p>In your example you might do something like</p>\n\n<pre><code> public void startEngine(){\n   injectFuel();\n   igniteSpark();\n   // etc. my understanding of engines is limited at best\n   System.out.println(\"Start Engine\");\n }\n\n private void injectFuel() {}\n private void igniteSpark() {}\n</code></pre>\n\n<p>That way you can spread some of the work to other methods (so you don't have a 1000 line startEngine method), but you don't want the children to be able to call injectFuel separately since it doesn't make sense outside the context of startEngine (you want to make sure it's only used there).</p>\n\n<p>Or even more you might have a private method that gets called in several other public methods, with different parameters. This way you avoid writing the same code twice or more in each of the public methods, and grouping the common code in a private method makes sure the children don't access it (like they couldn't just call part of the public method before). Something like this:</p>\n\n<pre><code> public void startEngine() {\n   dishargeBattery(50);\n   System.out.println(\"Start Engine\");\n }\n\n public void startRadio() {\n   dischargeBattery(20);\n }\n\n private void dischargeBattery(int value) {\n   battery.energy -= value; //battery should probably be a private field.\n }\n</code></pre>\n\n<p>This way your methods can have access to the battery, but the children shouldn't mess with it, and you don't write the same line (<code>battery.energy -= value</code>) in both of them. Take note though, that these are very simple examples, but if dischargeBattery was a 500 line method, writing it in both the other methods would be a hassle.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443900729,"creation_date":1280203633,"answer_id":3340678,"question_id":3334380,"body_markdown":"&gt; I know it is not a good coding\r\n&gt; practice to declare a method as\r\n&gt; private in an abstract class.\r\n\r\nI don&#39;t. Where did you get that idea?\r\n\r\n&gt; what is the scope of it within an abstract class?\r\n\r\nThe abstract class.","title":"Why is there a private access modifier in an abstract class in Java, even though we cannot create an instance of an abstract class?","body":"<blockquote>\n  <p>I know it is not a good coding\n  practice to declare a method as\n  private in an abstract class.</p>\n</blockquote>\n\n<p>I don't. Where did you get that idea?</p>\n\n<blockquote>\n  <p>what is the scope of it within an abstract class?</p>\n</blockquote>\n\n<p>The abstract class.</p>\n"},{"tags":[],"owner":{"account_id":26745160,"reputation":1,"user_id":20345333,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669356863,"creation_date":1669178156,"answer_id":74541844,"question_id":3334380,"body_markdown":"\r\n```java   \r\npackage arrayafter;\r\n\r\npublic abstract class Abstract_Demo {\r\n\r\n\tabstract void display();\r\n\r\n\tprivate void display1() {\r\n\t\tSystem.out.println(&quot;Private Method&quot;);\r\n\t}\r\n\r\n\tfinal void display2() {\r\n\t\tSystem.out.println(&quot;final Method&quot;);\r\n\t\tdisplay1();\r\n\t}\r\n\r\n\tpublic static void display3() {\r\n\r\n\t\tSystem.out.println(&quot;Static methods&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage arrayafter;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Practice extends Abstract_Demo{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tPractice pr=new Practice();\r\n\t\tpr.display();\r\n\t\tpr.display2();\r\n\t\tAbstract_Demo.display3();\r\n\t}\r\n\r\n\t@Override\r\n\tvoid display() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;Abstract method&quot;);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"Why is there a private access modifier in an abstract class in Java, even though we cannot create an instance of an abstract class?","body":"<pre class=\"lang-java prettyprint-override\"><code>package arrayafter;\n\npublic abstract class Abstract_Demo {\n\n    abstract void display();\n\n    private void display1() {\n        System.out.println(&quot;Private Method&quot;);\n    }\n\n    final void display2() {\n        System.out.println(&quot;final Method&quot;);\n        display1();\n    }\n\n    public static void display3() {\n\n        System.out.println(&quot;Static methods&quot;);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package arrayafter;\n\nimport java.util.Scanner;\n\npublic class Practice extends Abstract_Demo{\n\n    public static void main(String[] args) {\n        \n        Practice pr=new Practice();\n        pr.display();\n        pr.display2();\n        Abstract_Demo.display3();\n    }\n\n    @Override\n    void display() {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Abstract method&quot;);\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":44603,"reputation":6518,"user_id":131024,"accept_rate":96,"display_name":"Srinivas M.V."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26530,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":3334434,"answer_count":5,"score":24,"last_activity_date":1669356863,"creation_date":1280143805,"question_id":3334380,"body_markdown":"I know it is not a good coding practice to declare a method as `private` in an `abstract` class.  Even though we cannot create an instance of an `abstract` class, why is the `private` access modifier available within an `abstract` class, and what is the scope of it within an `abstract` class? In which scenario is the `private` access specifier used in an `abstract` class?\r\n\r\ncheck out this code where `Vehicle` class is abstract  and `Car`  extends  Vehicle.\r\n\r\n\r\n    package com.vehicle;\r\n    \r\n    abstract class Vehicle {\r\n    \r\n     // What is the scope of the private access modifier within an abstract class, even though  method below cannot be accessed??\r\n      private void onLights(){\r\n       System.out.println(&quot;Switch on Lights&quot;);\r\n      }\r\n     \r\n      public void startEngine(){\r\n       System.out.println(&quot;Start Engine&quot;);\r\n      }\r\n      \r\n    }\r\n\r\nWithin is the same package creating a Car class \r\n\r\n    package com.vehicle;\r\n    /*\r\n     * Car class extends the abstract class Vehicle\r\n     */\r\n    public class Car extends Vehicle {\r\n     \r\n     public static void main(String args[]){\r\n      Car c =  new Car();\r\n      c.startEngine();\r\n      // Only startEngine() can be accessed \r\n     }\r\n    \r\n    }\r\n\r\n","title":"Why is there a private access modifier in an abstract class in Java, even though we cannot create an instance of an abstract class?","body":"<p>I know it is not a good coding practice to declare a method as <code>private</code> in an <code>abstract</code> class.  Even though we cannot create an instance of an <code>abstract</code> class, why is the <code>private</code> access modifier available within an <code>abstract</code> class, and what is the scope of it within an <code>abstract</code> class? In which scenario is the <code>private</code> access specifier used in an <code>abstract</code> class?</p>\n\n<p>check out this code where <code>Vehicle</code> class is abstract  and <code>Car</code>  extends  Vehicle.</p>\n\n<pre><code>package com.vehicle;\n\nabstract class Vehicle {\n\n // What is the scope of the private access modifier within an abstract class, even though  method below cannot be accessed??\n  private void onLights(){\n   System.out.println(\"Switch on Lights\");\n  }\n\n  public void startEngine(){\n   System.out.println(\"Start Engine\");\n  }\n\n}\n</code></pre>\n\n<p>Within is the same package creating a Car class </p>\n\n<pre><code>package com.vehicle;\n/*\n * Car class extends the abstract class Vehicle\n */\npublic class Car extends Vehicle {\n\n public static void main(String args[]){\n  Car c =  new Car();\n  c.startEngine();\n  // Only startEngine() can be accessed \n }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","dependency-injection","cassandra","shedlock"],"answers":[{"tags":[],"owner":{"account_id":103435,"reputation":13726,"user_id":277042,"accept_rate":57,"display_name":"Lukas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668779773,"creation_date":1668779773,"answer_id":74490739,"question_id":74490155,"body_markdown":"I think you have to specify tableName like this\r\n\r\n```\r\n  @Bean\r\n  public CassandraLockProvider lockProvider(CqlSession cqlSession) {\r\n    return new CassandraLockProvider(Configuration.builder().withCqlSession(cqlSession).withTableName(&quot;lock&quot;).build());\r\n  }\r\n```\r\n\r\nIt seems the default table name is not set when using the Configuration builder.","title":"Spring-boot app with ShedLock on Cassandra, getting &quot;NullPointerException: table can not be null&quot;","body":"<p>I think you have to specify tableName like this</p>\n<pre><code>  @Bean\n  public CassandraLockProvider lockProvider(CqlSession cqlSession) {\n    return new CassandraLockProvider(Configuration.builder().withCqlSession(cqlSession).withTableName(&quot;lock&quot;).build());\n  }\n</code></pre>\n<p>It seems the default table name is not set when using the Configuration builder.</p>\n"}],"owner":{"account_id":2774662,"reputation":83,"user_id":2388465,"display_name":"NeverStopLearning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74490739,"answer_count":1,"score":0,"last_activity_date":1669356245,"creation_date":1668776858,"question_id":74490155,"body_markdown":"I am trying to integrate shedlock in my spring boot project using a cassandra db.\r\n\r\nBut I am getting the below error on application startup.\r\n\r\n```\r\n2022-11-18 17:35:29,162 [main] ERRR o.s.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;lockProvider&#39;\r\n\r\nCaused by: java.lang.NullPointerException: table can not be null\r\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:233)\r\n\tat net.javacrumbs.shedlock.provider.cassandra.CassandraLockProvider$Configuration.&lt;init&gt;(CassandraLockProvider.java:69)\r\n\tat net.javacrumbs.shedlock.provider.cassandra.CassandraLockProvider$Configuration$Builder.build(CassandraLockProvider.java:157)\r\n```\r\n\r\napplication.yml file\r\n\r\n```yaml\r\nserver:\r\n  port: 8080\r\n  data:\r\n    cassandra:\r\n      port: ${CASSANDRA_PORT:9042}\r\n      username: ${CASSANDRA_USERNAME:cassandra}\r\n      password: ${CASSANDRA_PASSWORD:cassandra}\r\n      keyspace-name: ${CASSANDRA_KEYSPACE_NAME:my_keyspace}\r\n      schema-action: recreate\r\n      local-datacenter: ${CASSANDRA_LOCAL_DATACENTER:datacenter123}\r\n      contact-points: ${CASSANDRA_HOST:localhost}\r\n\r\n```\r\n\r\nConfiguration class\r\n\r\n```java\r\nimport com.datastax.oss.driver.api.core.CqlSession;\r\nimport net.javacrumbs.shedlock.provider.cassandra.CassandraLockProvider;\r\nimport net.javacrumbs.shedlock.provider.cassandra.CassandraLockProvider.Configuration;\r\nimport net.javacrumbs.shedlock.spring.annotation.EnableSchedulerLock;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\n\r\n@org.springframework.context.annotation.Configuration\r\n\r\n@EnableScheduling\r\n@EnableSchedulerLock(defaultLockAtMostFor = &quot;10m&quot;)\r\n\r\npublic class MyAppSchedulerConfiguration {\r\n\r\n  @Bean\r\n  public CassandraLockProvider lockProvider(CqlSession cqlSession) {\r\n    return new CassandraLockProvider(Configuration.builder().withCqlSession(cqlSession).build());\r\n  }\r\n  \r\n}\r\n\r\n```\r\n\r\npom.xml file\r\n\r\n\r\n```xml\r\n\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n  &lt;version&gt;2.3.7.RELEASE&lt;/version&gt;\r\n  &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n\r\n\r\n&lt;shedlock.version&gt;4.42.0&lt;/shedlock.version&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n  &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n  &lt;version&gt;${shedlock.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n  &lt;artifactId&gt;shedlock-provider-cassandra&lt;/artifactId&gt;\r\n  &lt;version&gt;${shedlock.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nCassandra script executed\r\n```sql\r\nCREATE KEYSPACE shedlock with replication={&#39;class&#39;:&#39;SimpleStrategy&#39;, &#39;replication_factor&#39;:1} and durable_writes=true;\r\nCREATE TABLE shedlock.lock (name text PRIMARY KEY, lockUntil timestamp, lockedAt timestamp, lockedBy text);\r\n```\r\n\r\nI have verified via cqlsh that the lock table is created in cassandra. \r\n\r\nThe problem in my opinion so far is that the CqlSession bean is not available due to some reason and should have been.\r\n\r\n\r\n\r\nI have tried the configurations as mentioned in the [official documentation page](https://github.com/lukas-krecan/ShedLock/blob/master/README.md#cassandra).\r\n\r\nI have tried downgrading versions of springboot and shedlock but of no use.\r\n**Springboot **version change\r\n2.5.x (same error)\r\n2.2.13.RELEASE (same error)\r\n2.3.x (same error)","title":"Spring-boot app with ShedLock on Cassandra, getting &quot;NullPointerException: table can not be null&quot;","body":"<p>I am trying to integrate shedlock in my spring boot project using a cassandra db.</p>\n<p>But I am getting the below error on application startup.</p>\n<pre><code>2022-11-18 17:35:29,162 [main] ERRR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'lockProvider'\n\nCaused by: java.lang.NullPointerException: table can not be null\n    at java.base/java.util.Objects.requireNonNull(Objects.java:233)\n    at net.javacrumbs.shedlock.provider.cassandra.CassandraLockProvider$Configuration.&lt;init&gt;(CassandraLockProvider.java:69)\n    at net.javacrumbs.shedlock.provider.cassandra.CassandraLockProvider$Configuration$Builder.build(CassandraLockProvider.java:157)\n</code></pre>\n<p>application.yml file</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8080\n  data:\n    cassandra:\n      port: ${CASSANDRA_PORT:9042}\n      username: ${CASSANDRA_USERNAME:cassandra}\n      password: ${CASSANDRA_PASSWORD:cassandra}\n      keyspace-name: ${CASSANDRA_KEYSPACE_NAME:my_keyspace}\n      schema-action: recreate\n      local-datacenter: ${CASSANDRA_LOCAL_DATACENTER:datacenter123}\n      contact-points: ${CASSANDRA_HOST:localhost}\n\n</code></pre>\n<p>Configuration class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.datastax.oss.driver.api.core.CqlSession;\nimport net.javacrumbs.shedlock.provider.cassandra.CassandraLockProvider;\nimport net.javacrumbs.shedlock.provider.cassandra.CassandraLockProvider.Configuration;\nimport net.javacrumbs.shedlock.spring.annotation.EnableSchedulerLock;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@org.springframework.context.annotation.Configuration\n\n@EnableScheduling\n@EnableSchedulerLock(defaultLockAtMostFor = &quot;10m&quot;)\n\npublic class MyAppSchedulerConfiguration {\n\n  @Bean\n  public CassandraLockProvider lockProvider(CqlSession cqlSession) {\n    return new CassandraLockProvider(Configuration.builder().withCqlSession(cqlSession).build());\n  }\n  \n}\n\n</code></pre>\n<p>pom.xml file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;2.3.7.RELEASE&lt;/version&gt;\n  &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n\n&lt;shedlock.version&gt;4.42.0&lt;/shedlock.version&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n  &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n  &lt;version&gt;${shedlock.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n  &lt;artifactId&gt;shedlock-provider-cassandra&lt;/artifactId&gt;\n  &lt;version&gt;${shedlock.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Cassandra script executed</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE KEYSPACE shedlock with replication={'class':'SimpleStrategy', 'replication_factor':1} and durable_writes=true;\nCREATE TABLE shedlock.lock (name text PRIMARY KEY, lockUntil timestamp, lockedAt timestamp, lockedBy text);\n</code></pre>\n<p>I have verified via cqlsh that the lock table is created in cassandra.</p>\n<p>The problem in my opinion so far is that the CqlSession bean is not available due to some reason and should have been.</p>\n<p>I have tried the configurations as mentioned in the <a href=\"https://github.com/lukas-krecan/ShedLock/blob/master/README.md#cassandra\" rel=\"nofollow noreferrer\">official documentation page</a>.</p>\n<p>I have tried downgrading versions of springboot and shedlock but of no use.\n**Springboot **version change\n2.5.x (same error)\n2.2.13.RELEASE (same error)\n2.3.x (same error)</p>\n"},{"tags":["java","txt","maze"],"comments":[{"owner":{"account_id":149005,"reputation":7897,"user_id":361177,"accept_rate":91,"display_name":"Orace"},"score":5,"creation_date":1669307635,"post_id":74563795,"comment_id":131619622,"body_markdown":"Look&#39;s like you flipped width and height, also you are reading the space in the line (ie: `ch.length` count the spaces), you should [split](https://stackoverflow.com/questions/348182) it along space characters.","body":"Look&#39;s like you flipped width and height, also you are reading the space in the line (ie: <code>ch.length</code> count the spaces), you should <a href=\"https://stackoverflow.com/questions/348182\">split</a> it along space characters."},{"owner":{"account_id":24901611,"reputation":1,"user_id":19265050,"display_name":"Fear de Beard ____"},"score":0,"creation_date":1669308940,"post_id":74563795,"comment_id":131619993,"body_markdown":"I see but how will I implement the split there","body":"I see but how will I implement the split there"},{"owner":{"account_id":149005,"reputation":7897,"user_id":361177,"accept_rate":91,"display_name":"Orace"},"score":0,"creation_date":1669309127,"post_id":74563795,"comment_id":131620039,"body_markdown":"There is actually already a `split` call in _your_ code...","body":"There is actually already a <code>split</code> call in <i>your</i> code..."},{"owner":{"account_id":24901611,"reputation":1,"user_id":19265050,"display_name":"Fear de Beard ____"},"score":0,"creation_date":1669309910,"post_id":74563795,"comment_id":131620274,"body_markdown":"yes but do i need to change the toCharArray line? because im using the split but it shows the same exception","body":"yes but do i need to change the toCharArray line? because im using the split but it shows the same exception"}],"answers":[{"tags":[],"owner":{"account_id":3999591,"reputation":31,"user_id":3295963,"display_name":"Ajit Raju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669308270,"creation_date":1669308270,"answer_id":74563964,"question_id":74563795,"body_markdown":"before the while loop, you are doing a read line because of that readline one line is getting skipped. I think if you remove that it will solve your problem.","title":"Read a maze from a txt file in javaa","body":"<p>before the while loop, you are doing a read line because of that readline one line is getting skipped. I think if you remove that it will solve your problem.</p>\n"}],"owner":{"account_id":24901611,"reputation":1,"user_id":19265050,"display_name":"Fear de Beard ____"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669355619,"creation_date":1669307394,"question_id":74563795,"body_markdown":"For my homework assignment I need to read a from a txt file a maze with the number of the rows and columns at the first line and the maze right under with 1 being walls and 0 being open path. I&#39;ve found similar problems here in this site and got some help from one but I keep getting an exception!\r\n\r\nThe maze:\r\n\r\n```\r\n9 7\r\n1 1 1 0 1 1 1\r\n1 1 1 0 1 1 1\r\n1 0 0 0 1 0 1\r\n1 0 1 0 1 0 0\r\n1 1 1 0 1 1 1\r\n1 0 0 0 0 0 1\r\n1 0 1 1 1 0 1\r\n1 0 1 1 0 0 1\r\n0 1 1 1 0 1 1\r\n```\r\n\r\n\r\n```lang-java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Thiseas{\r\npublic static void main(String[] args) throws IOException{\r\n\tFile mazeFile = new File(&quot;C:/Users/Kristi/Desktop/project/sample_input.txt&quot;);\r\n\tBufferedReader read = new BufferedReader(new FileReader(mazeFile));\r\n\tString rea = read.readLine();\r\n\tString[] split = rea.split(&quot; &quot;);\r\n\tint width = Integer.valueOf(split[0]);\r\n\tint height = Integer.valueOf(split[1]);\r\n\tString readline;\r\n\treadline = read.readLine();\r\n\tint num = 0;\r\n\tchar[][] maze1 = new char[width][height];\r\n\twhile((readline = read.readLine()) != null){\r\n\t\tchar[] ch = readline.toCharArray();\r\n\t\tfor(int i = 0; i &lt; ch.length; i++){\r\n\t\t\tmaze1[i][num] = ch[i];\r\n\t\t}\r\n\t\tnum++;\r\n\t}\r\n\t\r\n\t\r\n\tfor (int i = 0; i &lt; width; i++){\r\n\t\tfor (int j = 0; j &lt; height; j++){\r\n\t\t\tSystem.out.print(maze1[i][j]+&#39; &#39;);\r\n\t\t}\r\n\tSystem.out.println();\r\n\t}\r\n}\r\n}\r\n```\r\n\r\nI get this exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException:   &gt; Index 9 out of bounds for length 9  \r\n&gt; at Thiseas.main(Thiseas.java:19)","title":"Read a maze from a txt file in javaa","body":"<p>For my homework assignment I need to read a from a txt file a maze with the number of the rows and columns at the first line and the maze right under with 1 being walls and 0 being open path. I've found similar problems here in this site and got some help from one but I keep getting an exception!</p>\n<p>The maze:</p>\n<pre><code>9 7\n1 1 1 0 1 1 1\n1 1 1 0 1 1 1\n1 0 0 0 1 0 1\n1 0 1 0 1 0 0\n1 1 1 0 1 1 1\n1 0 0 0 0 0 1\n1 0 1 1 1 0 1\n1 0 1 1 0 0 1\n0 1 1 1 0 1 1\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\npublic class Thiseas{\npublic static void main(String[] args) throws IOException{\n    File mazeFile = new File(&quot;C:/Users/Kristi/Desktop/project/sample_input.txt&quot;);\n    BufferedReader read = new BufferedReader(new FileReader(mazeFile));\n    String rea = read.readLine();\n    String[] split = rea.split(&quot; &quot;);\n    int width = Integer.valueOf(split[0]);\n    int height = Integer.valueOf(split[1]);\n    String readline;\n    readline = read.readLine();\n    int num = 0;\n    char[][] maze1 = new char[width][height];\n    while((readline = read.readLine()) != null){\n        char[] ch = readline.toCharArray();\n        for(int i = 0; i &lt; ch.length; i++){\n            maze1[i][num] = ch[i];\n        }\n        num++;\n    }\n    \n    \n    for (int i = 0; i &lt; width; i++){\n        for (int j = 0; j &lt; height; j++){\n            System.out.print(maze1[i][j]+' ');\n        }\n    System.out.println();\n    }\n}\n}\n</code></pre>\n<p>I get this exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException:   &gt; Index 9 out of bounds for length 9<br />\nat Thiseas.main(Thiseas.java:19)</p>\n</blockquote>\n"},{"tags":["java","fxml","javafx-11"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1677264807,"post_id":74568770,"comment_id":133310234,"body_markdown":"What IDE are you using?","body":"What IDE are you using?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1677690705,"post_id":74568770,"comment_id":133389187,"body_markdown":"https://openjfx.io/openjfx-docs/","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"}],"owner":{"account_id":27041655,"reputation":1,"user_id":20596421,"display_name":"Stefani Ann Gutierrez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669355411,"creation_date":1669355411,"question_id":74568770,"body_markdown":"I am learning javafx and am currently working on how to use two stages. I followed this tutorial (https://www.youtube.com/watch?v=cS6JsmECDcU) but when I made my new fxml file, it shows that the java imports are unused. I can&#39;t move forward with my program without it.\r\n\r\nThis is how it should look like in my IDE.\r\n[Working Import](https://i.stack.imgur.com/Sgu5R.png)\r\n\r\nBut this is how it looks like when I built a new fxml file.\r\n[Unused Import](https://i.stack.imgur.com/LXGlw.png)\r\n","title":"JavaFX is not reading imports that are necessary","body":"<p>I am learning javafx and am currently working on how to use two stages. I followed this tutorial (<a href=\"https://www.youtube.com/watch?v=cS6JsmECDcU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=cS6JsmECDcU</a>) but when I made my new fxml file, it shows that the java imports are unused. I can't move forward with my program without it.</p>\n<p>This is how it should look like in my IDE.\n<a href=\"https://i.stack.imgur.com/Sgu5R.png\" rel=\"nofollow noreferrer\">Working Import</a></p>\n<p>But this is how it looks like when I built a new fxml file.\n<a href=\"https://i.stack.imgur.com/LXGlw.png\" rel=\"nofollow noreferrer\">Unused Import</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1669330187,"post_id":74566859,"comment_id":131624648,"body_markdown":"Code looks fine. Set a breakpoint at the call to `Toast.makeText()` and see if that code gets executed at all.","body":"Code looks fine. Set a breakpoint at the call to <code>Toast.makeText()</code> and see if that code gets executed at all."}],"answers":[{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669353753,"creation_date":1669353753,"answer_id":74568620,"question_id":74566859,"body_markdown":"I Have Copy You Code And Its Working Fine. [![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sjuLV.png\r\n  [2]: https://i.stack.imgur.com/qVX9O.png\r\n\r\n\r\nPlease Sync Your Gradle Files/Project Goto. and  Build And Clean And Rebuild Project.","title":"Android studio button onClickListener not working","body":"<p>I Have Copy You Code And Its Working Fine. <a href=\"https://i.stack.imgur.com/sjuLV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sjuLV.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/qVX9O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qVX9O.png\" alt=\"enter image description here\" /></a></p>\n<p>Please Sync Your Gradle Files/Project Goto. and  Build And Clean And Rebuild Project.</p>\n"}],"owner":{"account_id":26258371,"reputation":17,"user_id":19930097,"display_name":"user19930097"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74568620,"answer_count":1,"score":1,"last_activity_date":1669353753,"creation_date":1669329818,"question_id":74566859,"body_markdown":"I am relatively new to Android Studio, and I wanted to get a button to simply display a Toast when I tap it, but nothing&#39;s happening when I followed this tutorial exactly: [https://youtu.be/312RhjfetP8](https://www.stackoverflow.com/)\r\n\r\nThe onClickListener was greyed out before it became a lambda (whatever that is) \r\n\r\n\r\n\r\n\r\nhere is the main activity \r\n\r\n```\r\n\r\n\r\n-- MainActivity.java --\r\n\r\npackage com.treehouse.sqldemo2;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.Switch;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    //references to buttons and other controls in the layout\r\n    //known as &quot;member variables&quot; to the class: they&#39;re accessible through all other methods in the class\r\n\r\n    //referencing the two buttons\r\n    Button btn_add,btn_viewAll;\r\n    EditText et_name,et_age;\r\n    Switch sw_activeCustomer;\r\n    ListView lv_customerList;\r\n    //these must be placed before the OnCreate method so they can be accessible throughout the page\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //finding the assigned values of the set variables (from the computer)\r\n        btn_add = findViewById(R.id.btn_add);\r\n        btn_viewAll = findViewById(R.id.btn_viewAll);\r\n        et_name = findViewById(R.id.et_name);\r\n        et_age = findViewById(R.id.et_age);\r\n        sw_activeCustomer = findViewById(R.id.sw_active);\r\n        lv_customerList = findViewById(R.id.lv_customerList);\r\n\r\n        //assigning click listeners for each button\r\n        btn_add.setOnClickListener(v -&gt; {\r\n            Toast.makeText(MainActivity.this, &quot;add button&quot;, Toast.LENGTH_SHORT).show();\r\n        });\r\n        btn_viewAll.setOnClickListener(v -&gt; {\r\n            Toast.makeText(MainActivity.this, &quot;view all&quot;, Toast.LENGTH_SHORT).show();\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nthis is the xml file\r\n\r\n\r\n```\r\n\r\n\r\n\r\n-- activity_main.xml --\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/et_name&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Customer name&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/et_age&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Age&quot;\r\n        android:inputType=&quot;number&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/et_name&quot; /&gt;\r\n\r\n    &lt;Switch\r\n        android:id=&quot;@+id/sw_active&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:text=&quot;@string/ActiveCustomer&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/et_age&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_viewAll&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:text=&quot;View all&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn_add&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.116&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/sw_active&quot; /&gt;\r\n\r\n    //setting the button attributes and constraints\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_add&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Add&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/btn_viewAll&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/btn_viewAll&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/lv_customerList&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;503dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/btn_viewAll&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"Android studio button onClickListener not working","body":"<p>I am relatively new to Android Studio, and I wanted to get a button to simply display a Toast when I tap it, but nothing's happening when I followed this tutorial exactly: <a href=\"https://www.stackoverflow.com/\">https://youtu.be/312RhjfetP8</a></p>\n<p>The onClickListener was greyed out before it became a lambda (whatever that is)</p>\n<p>here is the main activity</p>\n<pre><code>\n\n-- MainActivity.java --\n\npackage com.treehouse.sqldemo2;\n\nimport android.os.Bundle;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.Switch;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    //references to buttons and other controls in the layout\n    //known as &quot;member variables&quot; to the class: they're accessible through all other methods in the class\n\n    //referencing the two buttons\n    Button btn_add,btn_viewAll;\n    EditText et_name,et_age;\n    Switch sw_activeCustomer;\n    ListView lv_customerList;\n    //these must be placed before the OnCreate method so they can be accessible throughout the page\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //finding the assigned values of the set variables (from the computer)\n        btn_add = findViewById(R.id.btn_add);\n        btn_viewAll = findViewById(R.id.btn_viewAll);\n        et_name = findViewById(R.id.et_name);\n        et_age = findViewById(R.id.et_age);\n        sw_activeCustomer = findViewById(R.id.sw_active);\n        lv_customerList = findViewById(R.id.lv_customerList);\n\n        //assigning click listeners for each button\n        btn_add.setOnClickListener(v -&gt; {\n            Toast.makeText(MainActivity.this, &quot;add button&quot;, Toast.LENGTH_SHORT).show();\n        });\n        btn_viewAll.setOnClickListener(v -&gt; {\n            Toast.makeText(MainActivity.this, &quot;view all&quot;, Toast.LENGTH_SHORT).show();\n        });\n\n\n\n\n    }\n}\n\n\n</code></pre>\n<p>this is the xml file</p>\n<pre><code>\n\n\n-- activity_main.xml --\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/et_name&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Customer name&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/et_age&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Age&quot;\n        android:inputType=&quot;number&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/et_name&quot; /&gt;\n\n    &lt;Switch\n        android:id=&quot;@+id/sw_active&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:text=&quot;@string/ActiveCustomer&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/et_age&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_viewAll&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:text=&quot;View all&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn_add&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.116&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/sw_active&quot; /&gt;\n\n    //setting the button attributes and constraints\n\n    &lt;Button\n        android:id=&quot;@+id/btn_add&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Add&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/btn_viewAll&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/btn_viewAll&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/lv_customerList&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;503dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/btn_viewAll&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api","elasticsearch-high-level-restclient","elasticsearch-java-api-client"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669353120,"creation_date":1669353120,"answer_id":74568564,"question_id":74565659,"body_markdown":"You need to use Java High Level Client only because New Java Client support only forward compatible, below is what mentioned in [documentation][1].\r\n\r\n&gt; The Elasticsearch Java client is forward compatible; meaning that the\r\n&gt; client supports communicating with greater or equal minor versions of\r\n&gt; Elasticsearch. Elasticsearch language clients are only backwards\r\n&gt; compatible with default distributions and without guarantees made.\r\n\r\nHowever, You can use Java high level client with Elasticsearch 8.x version with [compatibility mode enabled][2].\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/introduction.html#_elasticsearch_server_compatibility_policy\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html","title":"Which Java ES client should I use with ElasticSearch 7.6 cluster?","body":"<p>You need to use Java High Level Client only because New Java Client support only forward compatible, below is what mentioned in <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/introduction.html#_elasticsearch_server_compatibility_policy\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<blockquote>\n<p>The Elasticsearch Java client is forward compatible; meaning that the\nclient supports communicating with greater or equal minor versions of\nElasticsearch. Elasticsearch language clients are only backwards\ncompatible with default distributions and without guarantees made.</p>\n</blockquote>\n<p>However, You can use Java high level client with Elasticsearch 8.x version with <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html\" rel=\"nofollow noreferrer\">compatibility mode enabled</a>.</p>\n"}],"owner":{"account_id":24107721,"reputation":13,"user_id":18078695,"display_name":"Anonymous Panda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74568564,"answer_count":1,"score":0,"last_activity_date":1669353120,"creation_date":1669319437,"question_id":74565659,"body_markdown":"I want to use Java API client provided by ElasticSearch but I don&#39;t know if it would be compatible with my cluster.\r\n\r\nI saw there was ElasticSearch High Level REST client which has been deprecated for the new Java API client. I could find information about what ES cluster would the High level REST client support but none regarding the new Java API client. Can someone point me in the right direction?\r\n\r\n\r\n\r\nCompatibility information for high level REST client: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.8/java-rest-high-compatibility.html\r\n\r\nThis section is missing for the new Java API client","title":"Which Java ES client should I use with ElasticSearch 7.6 cluster?","body":"<p>I want to use Java API client provided by ElasticSearch but I don't know if it would be compatible with my cluster.</p>\n<p>I saw there was ElasticSearch High Level REST client which has been deprecated for the new Java API client. I could find information about what ES cluster would the High level REST client support but none regarding the new Java API client. Can someone point me in the right direction?</p>\n<p>Compatibility information for high level REST client: <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.8/java-rest-high-compatibility.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.8/java-rest-high-compatibility.html</a></p>\n<p>This section is missing for the new Java API client</p>\n"},{"tags":["java","api","rest","post","controller"],"answers":[{"tags":[],"owner":{"account_id":7586685,"reputation":41,"user_id":5755531,"display_name":"Abirami Balasubramaniyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669351486,"creation_date":1669292744,"answer_id":74560764,"question_id":74560307,"body_markdown":"You can consume the params in Map&lt;String, Object&gt;\r\n\r\n&gt; Below is the sample result.\r\n\r\n   \r\n\r\n    @PostMapping(&quot;/employees)\r\n    public ResponseEntity&lt;EmployeeResponse&gt; getMatchingValues(@RequestBody HashMap&lt;String,Object&gt; params){\r\n                System.out.println(&quot;params = &quot;+params);\r\n      \r\n    }\r\n\r\n&gt; Output is :\r\nparams = {emp_id=1234, ids=[4567, 9087]}","title":"Handle two kinds of request body in controller - java","body":"<p>You can consume the params in Map&lt;String, Object&gt;</p>\n<blockquote>\n<p>Below is the sample result.</p>\n</blockquote>\n<pre><code>@PostMapping(&quot;/employees)\npublic ResponseEntity&lt;EmployeeResponse&gt; getMatchingValues(@RequestBody HashMap&lt;String,Object&gt; params){\n            System.out.println(&quot;params = &quot;+params);\n  \n}\n</code></pre>\n<blockquote>\n<p>Output is :\nparams = {emp_id=1234, ids=[4567, 9087]}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669294729,"creation_date":1669294729,"answer_id":74561203,"question_id":74560307,"body_markdown":"It will be easier to handle if you use a POJO to get the values from the request body\r\n```Java\r\npublic RequestData{\r\n  private String emp_id;\r\n  private List&lt;String&gt; ids;\r\n...\r\n//TODO: getters and setters here\r\n}\r\n```\r\n\r\nAnd then in the controller:\r\n```Java\r\n@PostMapping(&quot;/employees)\r\npublic ResponseEntity&lt;EmployeeResponse&gt; getMatchingValues(@RequestBody RequestData requestData){\r\n}\r\n```\r\nThis way, if a field is not included in the request, it will map it to null.","title":"Handle two kinds of request body in controller - java","body":"<p>It will be easier to handle if you use a POJO to get the values from the request body</p>\n<pre><code>public RequestData{\n  private String emp_id;\n  private List&lt;String&gt; ids;\n...\n//TODO: getters and setters here\n}\n</code></pre>\n<p>And then in the controller:</p>\n<pre><code>@PostMapping(&quot;/employees)\npublic ResponseEntity&lt;EmployeeResponse&gt; getMatchingValues(@RequestBody RequestData requestData){\n}\n</code></pre>\n<p>This way, if a field is not included in the request, it will map it to null.</p>\n"}],"owner":{"account_id":24143111,"reputation":77,"user_id":18109095,"display_name":"Anamika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74561203,"answer_count":2,"score":0,"last_activity_date":1669351486,"creation_date":1669290596,"question_id":74560307,"body_markdown":"I have a request body like this for post method.\r\n```\r\n{\r\n&quot;emp_id&quot; : &quot;1234&quot;\r\n}\r\n```\r\nController is like this.\r\n```\r\n@PostMapping(&quot;/employees)\r\npublic ResponseEntity&lt;EmployeeResponse&gt; getMatchingValues(@RequestBody HashMap&lt;String,String&gt; params){\r\n}\r\n```\r\nNow my request body will be updated to the one as shown below.\r\n```\r\n{\r\n&quot;emp_id&quot; : &quot;1234&quot;,\r\n&quot;ids&quot; : [&quot;4567&quot;,&quot;9087&quot;]\r\n}\r\n```\r\nHow can I update the post mapping in controller?\r\nCan someone help on this?\r\n","title":"Handle two kinds of request body in controller - java","body":"<p>I have a request body like this for post method.</p>\n<pre><code>{\n&quot;emp_id&quot; : &quot;1234&quot;\n}\n</code></pre>\n<p>Controller is like this.</p>\n<pre><code>@PostMapping(&quot;/employees)\npublic ResponseEntity&lt;EmployeeResponse&gt; getMatchingValues(@RequestBody HashMap&lt;String,String&gt; params){\n}\n</code></pre>\n<p>Now my request body will be updated to the one as shown below.</p>\n<pre><code>{\n&quot;emp_id&quot; : &quot;1234&quot;,\n&quot;ids&quot; : [&quot;4567&quot;,&quot;9087&quot;]\n}\n</code></pre>\n<p>How can I update the post mapping in controller?\nCan someone help on this?</p>\n"},{"tags":["java","environment-variables"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1669351490,"post_id":74568377,"comment_id":131627164,"body_markdown":"No. And now I have to type enough to post my **comment**.","body":"No. And now I have to type enough to post my <b>comment</b>."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1669352540,"post_id":74568377,"comment_id":131627272,"body_markdown":"I think you cannot; what map of environment variables you see in Java is copied from the environment and changes won&#39;t be reflected back. And even if they were, it would only be seen by child processes of your Java process, to which you could pass arguments much easier by standard Java means. You cold of course modify the way variables are set, like editing the shell startup files, but that is tricky (which shell, which file?) and messy (why should any other program the user runs have to suffer the fallout from your program?).","body":"I think you cannot; what map of environment variables you see in Java is copied from the environment and changes won&#39;t be reflected back. And even if they were, it would only be seen by child processes of your Java process, to which you could pass arguments much easier by standard Java means. You cold of course modify the way variables are set, like editing the shell startup files, but that is tricky (which shell, which file?) and messy (why should any other program the user runs have to suffer the fallout from your program?)."}],"owner":{"account_id":1010812,"reputation":7229,"user_id":1023421,"accept_rate":62,"display_name":"prageeth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669350677,"creation_date":1669350677,"question_id":74568377,"body_markdown":"When the JVM starts it gets a copy of the environment variables from the underlying operating system. Then in our java code, we can modify that copy of the environment variables. In java is there any way that we can change the original set of environment variables? I mean changing the system-level environment variables permanently?","title":"Change the system environment variables permanently with java","body":"<p>When the JVM starts it gets a copy of the environment variables from the underlying operating system. Then in our java code, we can modify that copy of the environment variables. In java is there any way that we can change the original set of environment variables? I mean changing the system-level environment variables permanently?</p>\n"},{"tags":["java","mongodb","aggregation-framework","spring-data-mongodb","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669350479,"creation_date":1669350479,"answer_id":74568357,"question_id":74565757,"body_markdown":"When you group by multiple fields, the result will look something like this.\r\n\r\n    {\r\n      &quot;_id&quot;: {\r\n        &quot;userId&quot;: ,\r\n        &quot;awardForContentId&quot;: ,\r\n      },\r\n      &quot;transactionAmount&quot;: \r\n    }\r\n\r\nSo, you have to project it correctly to match you Java class.\r\n\r\n    Aggregation agg = Aggregation.newAggregation(\r\n        match(\r\n    \t    Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\r\n            .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))\r\n        ),\r\n    \tsort(Sort.Direction.DESC, &quot;createdDate&quot;),\r\n    \tgroup(&quot;userId&quot;, &quot;awardForContentId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\r\n    \tproject()\r\n    \t    .and(&quot;_id.userId&quot;).as(&quot;userId&quot;)\r\n    \t    .and(&quot;_id.awardForContentId&quot;).as(&quot;awardForContentId&quot;)\r\n    \t\t.andInclude(&quot;totalValueAwarded&quot;)\r\n        skip((long) pageable.getPageNumber() * pageable.getPageSize()),\r\n        limit(pageable.getPageSize())\r\n    );\r\n\r\nYou can remove ```@Field(&quot;id&quot;) @Id``` from the returning class.","title":"Spring Boot + MongoTemplate, unable to add new field to Projection","body":"<p>When you group by multiple fields, the result will look something like this.</p>\n<pre><code>{\n  &quot;_id&quot;: {\n    &quot;userId&quot;: ,\n    &quot;awardForContentId&quot;: ,\n  },\n  &quot;transactionAmount&quot;: \n}\n</code></pre>\n<p>So, you have to project it correctly to match you Java class.</p>\n<pre><code>Aggregation agg = Aggregation.newAggregation(\n    match(\n        Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\n        .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))\n    ),\n    sort(Sort.Direction.DESC, &quot;createdDate&quot;),\n    group(&quot;userId&quot;, &quot;awardForContentId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\n    project()\n        .and(&quot;_id.userId&quot;).as(&quot;userId&quot;)\n        .and(&quot;_id.awardForContentId&quot;).as(&quot;awardForContentId&quot;)\n        .andInclude(&quot;totalValueAwarded&quot;)\n    skip((long) pageable.getPageNumber() * pageable.getPageSize()),\n    limit(pageable.getPageSize())\n);\n</code></pre>\n<p>You can remove <code>@Field(&quot;id&quot;) @Id</code> from the returning class.</p>\n"}],"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74568357,"answer_count":1,"score":0,"last_activity_date":1669350479,"creation_date":1669320226,"question_id":74565757,"body_markdown":"I&#39;m having an issue with an old aggregation query.\r\n\r\nI have a mongo collection which has many documents containing information about credits / gifts given / awarded to our users.\r\n\r\nCurrently I am able to run an Aggregated Query to get all the users who have received a credit / gift within the last x number of days and sum the total value of those credits for each user. However, my problem is that now I want to project more fields for my mapping class which I am unable to do.\r\n\r\nHere is the document in Mongo\r\n\r\n```\r\n _id: ObjectId(&quot;61c36a8a21047124c4181271&quot;),\r\n    transactionId: UUID(&quot;6fbf536e-7a53-442c-9615-53e32362608b&quot;),\r\n    userId: &#39;xxxxx&#39;,\r\n    transactionMessage: &#39;Account credited with: 1&#39;,\r\n    transactionType: &#39;CREDIT&#39;,\r\n    transactionAction: &#39;GIFT&#39;,\r\n    inComingPaymentFromUserId: &#39;xxxx&#39;,\r\n    awardForContentId : &quot;abcd123242&quot; \r\n    transactionAmount: Decimal128(&quot;1&quot;),\r\n    customMessage: &quot;blah&#39;&quot;,\r\n    createdDate: ISODate(&quot;2021-12-22T18:12:26.812Z&quot;),\r\n    lastUpdatedAt: ISODate(&quot;2021-12-22T18:12:26.812Z&quot;),\r\n```\r\n\r\nI can run a aggregation which gives me the correct mapping like so:\r\n\r\n```\r\nAggregation agg = Aggregation.newAggregation(match(Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\r\n                .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))), sort(Sort.Direction.DESC, &quot;createdDate&quot;),\r\n        group(&quot;userId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\r\n        skip((long) pageable.getPageNumber() * pageable.getPageSize()),\r\n        limit(pageable.getPageSize()));\r\nmongoTemplate.aggregate(agg, Transaction.class, RecentlyRewardedUsers.class).getMappedResults();\r\n```\r\n\r\nFor Context my mapped RecentlyRewarded.class looks like this:\r\n```\r\n@Getter\r\n@Setter\r\npublic class RecentlyRewardedUsers {\r\n\r\n    @Field(&quot;userId&quot;)\r\n    private String userId;\r\n    private String totalValueAwarded;\r\n}\r\n```\r\n\r\nAnd correctly the data is mapped to the two fields when the above aggregation runs.\r\n\r\nNow, I find I need to add more fields to my RecentlyRewarded class:\r\n\r\n```\r\n\r\n@Getter\r\n@Setter\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class RecentlyRewardedUsers {\r\n\r\n    @Field(&quot;id&quot;)\r\n    @Id\r\n    private String userId;\r\n    private BigDecimal totalValueAwarded;\r\n    private String awardForContentId; //THIS IS THE NEW FIELD I&#39;ve ADDED\r\n}\r\n```\r\n\r\nI thought I would be able to just add the new field &quot;awardforContentId&quot; to my group query and it would be correctly mapped but that is not happening:\r\n\r\n```\r\nAggregation agg = Aggregation.newAggregation(match(Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\r\n                .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))), sort(Sort.Direction.DESC, &quot;createdDate&quot;),\r\n        group(&quot;userId&quot;, &quot;awardForContentId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\r\n        skip((long) pageable.getPageNumber() * pageable.getPageSize()),\r\n        limit(pageable.getPageSize()));\r\nmongoTemplate.aggregate(agg, Transaction.class, RecentlyRewardedUsers.class).getMappedResults();\r\n```\r\n\r\nWhat happens is that my userId field in my POJO is now set to:\r\n\r\n\r\n```\r\n{&quot;userId&quot;: &quot;auth0|61b9e2f7d1fc9f0071d508f1&quot;, &quot;awardForContentId&quot;: &quot;637b98a85dde3949fbb4314f&quot;}\r\n``` \r\nand the awardForContentId in my class is null.\r\n\r\nI have also tried just adding the awardForConentId to the project operation like so:\r\n\r\n```\r\n Aggregation agg = Aggregation.newAggregation(match(Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\r\n                        .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))), sort(Sort.Direction.DESC, &quot;createdDate&quot;),\r\n                group(&quot;userId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\r\n                project(&quot;userId&quot;, &quot;totalValueAwarded&quot;, &quot;awardForContentId&quot;),\r\n                skip((long) pageable.getPageNumber() * pageable.getPageSize()),\r\n                limit(pageable.getPageSize()));\r\n```\r\n\r\nHowever that results in the following error:\r\n```\r\nMethod threw &#39;java.lang.IllegalArgumentException&#39; exception.\r\nInvalid reference &#39;awardForContentId&#39;!\r\n```\r\n\r\nWhat am I doing stupid here?\r\n\r\nMany thanks","title":"Spring Boot + MongoTemplate, unable to add new field to Projection","body":"<p>I'm having an issue with an old aggregation query.</p>\n<p>I have a mongo collection which has many documents containing information about credits / gifts given / awarded to our users.</p>\n<p>Currently I am able to run an Aggregated Query to get all the users who have received a credit / gift within the last x number of days and sum the total value of those credits for each user. However, my problem is that now I want to project more fields for my mapping class which I am unable to do.</p>\n<p>Here is the document in Mongo</p>\n<pre><code> _id: ObjectId(&quot;61c36a8a21047124c4181271&quot;),\n    transactionId: UUID(&quot;6fbf536e-7a53-442c-9615-53e32362608b&quot;),\n    userId: 'xxxxx',\n    transactionMessage: 'Account credited with: 1',\n    transactionType: 'CREDIT',\n    transactionAction: 'GIFT',\n    inComingPaymentFromUserId: 'xxxx',\n    awardForContentId : &quot;abcd123242&quot; \n    transactionAmount: Decimal128(&quot;1&quot;),\n    customMessage: &quot;blah'&quot;,\n    createdDate: ISODate(&quot;2021-12-22T18:12:26.812Z&quot;),\n    lastUpdatedAt: ISODate(&quot;2021-12-22T18:12:26.812Z&quot;),\n</code></pre>\n<p>I can run a aggregation which gives me the correct mapping like so:</p>\n<pre><code>Aggregation agg = Aggregation.newAggregation(match(Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\n                .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))), sort(Sort.Direction.DESC, &quot;createdDate&quot;),\n        group(&quot;userId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\n        skip((long) pageable.getPageNumber() * pageable.getPageSize()),\n        limit(pageable.getPageSize()));\nmongoTemplate.aggregate(agg, Transaction.class, RecentlyRewardedUsers.class).getMappedResults();\n</code></pre>\n<p>For Context my mapped RecentlyRewarded.class looks like this:</p>\n<pre><code>@Getter\n@Setter\npublic class RecentlyRewardedUsers {\n\n    @Field(&quot;userId&quot;)\n    private String userId;\n    private String totalValueAwarded;\n}\n</code></pre>\n<p>And correctly the data is mapped to the two fields when the above aggregation runs.</p>\n<p>Now, I find I need to add more fields to my RecentlyRewarded class:</p>\n<pre><code>\n@Getter\n@Setter\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class RecentlyRewardedUsers {\n\n    @Field(&quot;id&quot;)\n    @Id\n    private String userId;\n    private BigDecimal totalValueAwarded;\n    private String awardForContentId; //THIS IS THE NEW FIELD I've ADDED\n}\n</code></pre>\n<p>I thought I would be able to just add the new field &quot;awardforContentId&quot; to my group query and it would be correctly mapped but that is not happening:</p>\n<pre><code>Aggregation agg = Aggregation.newAggregation(match(Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\n                .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))), sort(Sort.Direction.DESC, &quot;createdDate&quot;),\n        group(&quot;userId&quot;, &quot;awardForContentId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\n        skip((long) pageable.getPageNumber() * pageable.getPageSize()),\n        limit(pageable.getPageSize()));\nmongoTemplate.aggregate(agg, Transaction.class, RecentlyRewardedUsers.class).getMappedResults();\n</code></pre>\n<p>What happens is that my userId field in my POJO is now set to:</p>\n<pre><code>{&quot;userId&quot;: &quot;auth0|61b9e2f7d1fc9f0071d508f1&quot;, &quot;awardForContentId&quot;: &quot;637b98a85dde3949fbb4314f&quot;}\n</code></pre>\n<p>and the awardForContentId in my class is null.</p>\n<p>I have also tried just adding the awardForConentId to the project operation like so:</p>\n<pre><code> Aggregation agg = Aggregation.newAggregation(match(Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\n                        .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))), sort(Sort.Direction.DESC, &quot;createdDate&quot;),\n                group(&quot;userId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\n                project(&quot;userId&quot;, &quot;totalValueAwarded&quot;, &quot;awardForContentId&quot;),\n                skip((long) pageable.getPageNumber() * pageable.getPageSize()),\n                limit(pageable.getPageSize()));\n</code></pre>\n<p>However that results in the following error:</p>\n<pre><code>Method threw 'java.lang.IllegalArgumentException' exception.\nInvalid reference 'awardForContentId'!\n</code></pre>\n<p>What am I doing stupid here?</p>\n<p>Many thanks</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":27038179,"reputation":69,"user_id":20593455,"display_name":"Kaushal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669316894,"creation_date":1669316894,"answer_id":74565299,"question_id":74564669,"body_markdown":"1. The authorizeHttpRequests uses the new simplified AuthorizationManager API and the AuthorizationFilter, while authorizeRequests uses the AccessDecisionManager and FilterSecurityInterceptor. The authorizeRequests will be deprecated in future version of Spring Security. Check the difference \r\n[from here-][1]\r\n\r\n\r\n\r\n2.Both are Ok, Sometimes so we use throws Exception, BCryptPasswordEncoder throws a Null Pointer Exception (NPE) when passing in a null password\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html","title":"Spring boot Basic Authentication in 2.7.5 version -latest version","body":"<ol>\n<li>The authorizeHttpRequests uses the new simplified AuthorizationManager API and the AuthorizationFilter, while authorizeRequests uses the AccessDecisionManager and FilterSecurityInterceptor. The authorizeRequests will be deprecated in future version of Spring Security. Check the difference\n<a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html\" rel=\"nofollow noreferrer\">from here-</a></li>\n</ol>\n<p>2.Both are Ok, Sometimes so we use throws Exception, BCryptPasswordEncoder throws a Null Pointer Exception (NPE) when passing in a null password</p>\n"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669350391,"creation_date":1669312486,"question_id":74564669,"body_markdown":"I have implemented the Basic Authentication in higher version but I have few queries in implementation .Below is the syntax :\r\n\r\n1 Query :I could see authorizeHttpRequests((authz) -&gt; authz) and authorizeRequests() methods , Which is the best one to use in higher versions ?\r\n2 Query :.httpBasic() and httpBasic(withDefaults()) :which method should be used for the implementation \r\n\r\n3 Query :To encode the password which bean syntax is correct and what is the difference between two beans ? And which bean should be used .Can any one help me on the mentioned queries \r\n\r\n \r\n\r\n    @Bean\r\n        public PasswordEncoder passwordEncoder()  {\r\n            return new BCryptPasswordEncoder();\r\n    \r\n    \r\n     @Bean\r\n        public BCryptPasswordEncoder passwordEncoder()  {\r\n            return new BCryptPasswordEncoder();\r\n---------------------\r\n     @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n            String username = username;\r\n            String password = password;\r\n    \r\n            String encodedPassword = passwordEncoder().encode(password);\r\n            System.out.println(&quot;encodedPassword&quot; +encodedPassword);\r\n            AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n            authenticationManagerBuilder.inMemoryAuthentication().withUser(username).password(encodedPassword).roles(role);\r\n    \r\n            AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\r\n            http.csrf().disable().authorizeHttpRequests((authz) -&gt; authz\r\n                    .antMatchers(&quot;/service&quot;).hasRole(role).and()\r\n                    .authenticationManager(authenticationManager))\r\n                    .httpBasic();\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder()  {\r\n            return new BCryptPasswordEncoder();\r\n    \r\n    \r\n        }","title":"Spring boot Basic Authentication in 2.7.5 version -latest version","body":"<p>I have implemented the Basic Authentication in higher version but I have few queries in implementation .Below is the syntax :</p>\n<p>1 Query :I could see authorizeHttpRequests((authz) -&gt; authz) and authorizeRequests() methods , Which is the best one to use in higher versions ?\n2 Query :.httpBasic() and httpBasic(withDefaults()) :which method should be used for the implementation</p>\n<p>3 Query :To encode the password which bean syntax is correct and what is the difference between two beans ? And which bean should be used .Can any one help me on the mentioned queries</p>\n<pre><code>@Bean\n    public PasswordEncoder passwordEncoder()  {\n        return new BCryptPasswordEncoder();\n\n\n @Bean\n    public BCryptPasswordEncoder passwordEncoder()  {\n        return new BCryptPasswordEncoder();\n</code></pre>\n<hr />\n<pre><code> @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        String username = username;\n        String password = password;\n\n        String encodedPassword = passwordEncoder().encode(password);\n        System.out.println(&quot;encodedPassword&quot; +encodedPassword);\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.inMemoryAuthentication().withUser(username).password(encodedPassword).roles(role);\n\n        AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\n        http.csrf().disable().authorizeHttpRequests((authz) -&gt; authz\n                .antMatchers(&quot;/service&quot;).hasRole(role).and()\n                .authenticationManager(authenticationManager))\n                .httpBasic();\n        return http.build();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder()  {\n        return new BCryptPasswordEncoder();\n\n\n    }\n</code></pre>\n"},{"tags":["java","maven","openapi"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1640860127,"post_id":70529163,"comment_id":124676281,"body_markdown":"It says right there in the error message: _&quot;The option can be disabled via validateSpec (Maven/Gradle) or --skip-validate-spec (CLI).&quot;_ Have you tried this?","body":"It says right there in the error message: <i>&quot;The option can be disabled via validateSpec (Maven/Gradle) or --skip-validate-spec (CLI).&quot;</i> Have you tried this?"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1640860224,"post_id":70529163,"comment_id":124676310,"body_markdown":"@Helen i&#39;m not able to find this option in the pom file. not sure where to add it","body":"@Helen i&#39;m not able to find this option in the pom file. not sure where to add it"}],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640860970,"creation_date":1640860970,"answer_id":70530471,"question_id":70529163,"body_markdown":"**Try this:**\r\n\r\nWithin your POM.xml -&gt; Plugin -&gt; Find openAPI generation plug-in -&gt; configuration -&gt; configOptions -&gt; \r\n\r\n    &lt;validateSpec&gt;false&lt;/validateSpec&gt;\r\n\r\nThis should work hopefully ! :)","title":"Openapi operationid is repeated","body":"<p><strong>Try this:</strong></p>\n<p>Within your POM.xml -&gt; Plugin -&gt; Find openAPI generation plug-in -&gt; configuration -&gt; configOptions -&gt;</p>\n<pre><code>&lt;validateSpec&gt;false&lt;/validateSpec&gt;\n</code></pre>\n<p>This should work hopefully ! :)</p>\n"},{"tags":[],"owner":{"account_id":536212,"reputation":181,"user_id":905323,"display_name":"Shaman Virk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668166567,"creation_date":1668166567,"answer_id":74401886,"question_id":70529163,"body_markdown":"For me, the correct place of `validateSpec` was `configuration` instead of `configOptions`\r\n\r\n   \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;6.2.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;abc-api&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    ...\r\n                    &lt;validateSpec&gt;false&lt;/validateSpec&gt;\r\n                    &lt;skipValidateSpec&gt;true&lt;/skipValidateSpec&gt;\r\n                    &lt;configOptions&gt;\r\n                        &lt;developerOrganization&gt;ABC&lt;/developerOrganization&gt;\r\n                        ...\r\n                    &lt;/configOptions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n**Note**: I have to add both `validateSpec` and `skipValidateSpec` for version 6.2.1 as per suggestion in an open bug https://github.com/OpenAPITools/openapi-generator/issues/9815","title":"Openapi operationid is repeated","body":"<p>For me, the correct place of <code>validateSpec</code> was <code>configuration</code> instead of <code>configOptions</code></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.2.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;abc-api&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                ...\n                &lt;validateSpec&gt;false&lt;/validateSpec&gt;\n                &lt;skipValidateSpec&gt;true&lt;/skipValidateSpec&gt;\n                &lt;configOptions&gt;\n                    &lt;developerOrganization&gt;ABC&lt;/developerOrganization&gt;\n                    ...\n                &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>Note</strong>: I have to add both <code>validateSpec</code> and <code>skipValidateSpec</code> for version 6.2.1 as per suggestion in an open bug <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/9815\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues/9815</a></p>\n"},{"tags":[],"owner":{"account_id":15610350,"reputation":11,"user_id":11261986,"display_name":"eagle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669350283,"creation_date":1669350124,"answer_id":74568327,"question_id":70529163,"body_markdown":"Try to add syntax &quot;schema&quot;: {&quot;type&quot;: &quot;string&quot;} to *.Json file.\r\n\r\nI aslo got the error with respose like that:\r\n\r\n There were issues with the specification. The option can be disabled via validateSpec (Maven/Gradle) or --skip-validate-spec (CLI).\r\n   | Error count: 12, Warning count: 20\r\n  Errors: \r\n  \t-attribute paths.&#39;/.../items&#39;(get).responses.304.ETag.type is unexpected\r\n  \t-attribute paths.&#39;/.../items&#39;(get).responses.304.Last-Modified.type is unexpected\r\n  \t-attribute paths.&#39;/.../items&#39;(get).responses.200.ETag.type is unexpected\r\n\r\nThis is my fix: \r\n[enter image description here][1]\r\n[enter image description here][2]\r\n\r\n    &quot;headers&quot;: {\r\n                            &quot;ETag&quot;: {\r\n                                &quot;description&quot;: &quot;Used as caching key for future requests.&quot;,\r\n                                &quot;schema&quot;: {\r\n                                    &quot;type&quot;: &quot;string&quot;,\r\n                                    &quot;example&quot;: &quot;33a64df551425fcc55e4d42a1466666666666666666&quot;\r\n                                }\r\n                            },\r\n                            &quot;Cache-Control&quot;: {\r\n                                &quot;description&quot;: &quot;The Cache-Control header.&quot;,\r\n                                &quot;schema&quot;: {\r\n                                    &quot;type&quot;: &quot;string&quot;,\r\n                                    &quot;example&quot;: &quot;max-age=1000000&quot;\r\n                                }\r\n                            },\r\n                            &quot;Last-Modified&quot;:  {\r\n                                &quot;description&quot;: &quot;The last modified the response.&quot;,\r\n                                &quot;schema&quot;: {\r\n                                    &quot;type&quot;: &quot;string&quot;,\r\n                                    &quot;example&quot;: &quot;Sun, 11 Nov 2021 15:30:51 ICT&quot;\r\n                                }\r\n                            }\r\n                        }\r\n\r\nI hope this one can help you. You cant read more document with response header here: https://swagger.io/docs/specification/describing-responses/\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z4Cd2.png\r\n  [2]: https://i.stack.imgur.com/iLKg0.png","title":"Openapi operationid is repeated","body":"<p>Try to add syntax &quot;schema&quot;: {&quot;type&quot;: &quot;string&quot;} to *.Json file.</p>\n<p>I aslo got the error with respose like that:</p>\n<p>There were issues with the specification. The option can be disabled via validateSpec (Maven/Gradle) or --skip-validate-spec (CLI).\n| Error count: 12, Warning count: 20\nErrors:\n-attribute paths.'/.../items'(get).responses.304.ETag.type is unexpected\n-attribute paths.'/.../items'(get).responses.304.Last-Modified.type is unexpected\n-attribute paths.'/.../items'(get).responses.200.ETag.type is unexpected</p>\n<p>This is my fix:\n<a href=\"https://i.stack.imgur.com/z4Cd2.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/iLKg0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>&quot;headers&quot;: {\n                        &quot;ETag&quot;: {\n                            &quot;description&quot;: &quot;Used as caching key for future requests.&quot;,\n                            &quot;schema&quot;: {\n                                &quot;type&quot;: &quot;string&quot;,\n                                &quot;example&quot;: &quot;33a64df551425fcc55e4d42a1466666666666666666&quot;\n                            }\n                        },\n                        &quot;Cache-Control&quot;: {\n                            &quot;description&quot;: &quot;The Cache-Control header.&quot;,\n                            &quot;schema&quot;: {\n                                &quot;type&quot;: &quot;string&quot;,\n                                &quot;example&quot;: &quot;max-age=1000000&quot;\n                            }\n                        },\n                        &quot;Last-Modified&quot;:  {\n                            &quot;description&quot;: &quot;The last modified the response.&quot;,\n                            &quot;schema&quot;: {\n                                &quot;type&quot;: &quot;string&quot;,\n                                &quot;example&quot;: &quot;Sun, 11 Nov 2021 15:30:51 ICT&quot;\n                            }\n                        }\n                    }\n</code></pre>\n<p>I hope this one can help you. You cant read more document with response header here: <a href=\"https://swagger.io/docs/specification/describing-responses/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/describing-responses/</a></p>\n"}],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8677,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70530471,"answer_count":3,"score":0,"last_activity_date":1669350283,"creation_date":1640852967,"question_id":70529163,"body_markdown":"I&#39;m using Open-API to generate java class using yaml file. when i run \r\n\r\n&gt; mvn clean install\r\n\r\n i&#39;m getting this error : \r\n\r\n\r\n    unexpected error in Open-API generation\r\n    org.openapitools.codegen.SpecValidationException: There were issues with the specification. The option can be disabled via validateSpec (Maven/Gradle) or --skip-validate-spec (CLI).\r\n     | Error count: 3, Warning count: 6\r\n    Errors: \r\n    \t-attribute paths.&#39;/path/{id}&#39;(delete).operationId is repeated\r\n    \t-attribute paths.&#39;/path/name&#39;(get).operationId is repeated\r\n\r\nHow can i skeep this validation ?","title":"Openapi operationid is repeated","body":"<p>I'm using Open-API to generate java class using yaml file. when i run</p>\n<blockquote>\n<p>mvn clean install</p>\n</blockquote>\n<p>i'm getting this error :</p>\n<pre><code>unexpected error in Open-API generation\norg.openapitools.codegen.SpecValidationException: There were issues with the specification. The option can be disabled via validateSpec (Maven/Gradle) or --skip-validate-spec (CLI).\n | Error count: 3, Warning count: 6\nErrors: \n    -attribute paths.'/path/{id}'(delete).operationId is repeated\n    -attribute paths.'/path/name'(get).operationId is repeated\n</code></pre>\n<p>How can i skeep this validation ?</p>\n"},{"tags":["java","testing","junit","model","mockito"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":4,"creation_date":1669353181,"post_id":74568319,"comment_id":131627357,"body_markdown":"Why would you want to mock the class under test? Class under test shouldn&#39;t be mocked dependencies of the class under test can be mocked","body":"Why would you want to mock the class under test? Class under test shouldn&#39;t be mocked dependencies of the class under test can be mocked"},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1669353291,"post_id":74568319,"comment_id":131627373,"body_markdown":"Also when you mock you&#39;ve to provide the mocked object with how to behave by mocking methods, since you&#39;ve not mocked the method `billItems.setQuantity();` it bound to happen","body":"Also when you mock you&#39;ve to provide the mocked object with how to behave by mocking methods, since you&#39;ve not mocked the method <code>billItems.setQuantity();</code> it bound to happen"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1669411106,"post_id":74568319,"comment_id":131642541,"body_markdown":"What do you mean with &quot;the mock&#39;s behavior is different from the real behavior&quot;? Of course it is, that&#39;s the whole point of a mock. It&#39;s a completely detached (in theory) implementation of your type, only sharing the names of the public methods. Without setup, the methods in a mock do nothing at all.","body":"What do you mean with &quot;the mock&#39;s behavior is different from the real behavior&quot;? Of course it is, that&#39;s the whole point of a mock. It&#39;s a completely detached (in theory) implementation of your type, only sharing the names of the public methods. Without setup, the methods in a mock do nothing at all."}],"owner":{"account_id":26946521,"reputation":29,"user_id":20516430,"display_name":"David Moore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669350021,"creation_date":1669350021,"question_id":74568319,"body_markdown":"I write junit test for check exception handling. At first, I mock BillItems objects models as I think it will intimate the behaviors of objects models. However, when I run the test I find out that there are some different between the behaviors of mock and real objects models. \r\n\r\n**My Objects Models**\r\n\r\n    public class BillItems implements Serializable {\r\n    \r\n        private MenuItem menuItem;\r\n        private int quantity;\r\n        private String orderTime;\r\n    \r\n    \r\n        public BillItems(){}\r\n        public BillItems(MenuItem menuItem,int quantity,String orderTime){\r\n            this.menuItem = menuItem;\r\n            this.quantity = quantity;\r\n            this.orderTime = orderTime;\r\n        }\r\n    \r\n        public MenuItem getMenuItem() {\r\n            return menuItem;\r\n        }\r\n    \r\n        public int getQuantity() {\r\n            return quantity;\r\n        }\r\n    \r\n        public void setMenuItem(MenuItem menuItem) {\r\n            this.menuItem = menuItem;\r\n        }\r\n    \r\n        public String getOrderTime() {\r\n            return orderTime;\r\n        }\r\n    \r\n        public void setOrderTime(String orderTime) {\r\n            this.orderTime = orderTime;\r\n        }\r\n    \r\n        public void setQuantity(int quantity) {\r\n            if(quantity&lt;0){   //here it will throw the exception\r\n                throw new IllegalStateException(&quot;Bill item cannot smaller than 0 !!!&quot;);\r\n            }else {\r\n                this.quantity = quantity;\r\n            }\r\n        }\r\n    }\r\n**My Junit test with mock method**\r\n\r\n    @Test\r\n        public void whenAddNewMenuItemsToBill_throwIllegalStateException_ifQuantityIsSmallerThanZero(){\r\n            DailyMenu dailyMenu = mock(DailyMenu.class);\r\n            BillItems billItems = mock(BillItems.class); // Here is problem\r\n            MenuItem menuItem =  mock(MenuItem.class);\r\n            List&lt;BillItems&gt; billItemsList = mock(ArrayList.class);\r\n    \r\n            menuPrinter.printMenu(dailyMenu);\r\n            verify(menuPrinter).printMenu(dailyMenu);\r\n    \r\n            billItems.setMenuItem(menuItem);\r\n    \r\n            IllegalStateException exception = assertThrows(IllegalStateException.class,()-&gt;{\r\n                billItems.setQuantity(-4);\r\n            });\r\n            assertTrue(exception.getMessage().contains(&quot;Bill item cannot smaller than 0 !!!&quot;));\r\n        }\r\n**The error:**\r\n    \r\n    org.opentest4j.AssertionFailedError: Expected java.lang.IllegalStateException to be thrown, but nothing was thrown.\r\n    \r\n    \tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\r\n    \tat org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:73)\r\n    \tat org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)\r\n    \tat org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3083)\r\n    \tat tests.bill.BillItemTest.whenAddNewMenuItemsToBill_throwIllegalStateException_ifQuantityIsSmallerThanZero(BillItemTest.java:69)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\r\n    \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\r\n    \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    \r\n    \r\n    Process finished with exit code -1\r\n\r\nWhen I change the Bill Items mock to models the problem was fixed:\r\n\r\n     @Test\r\n        public void whenAddNewMenuItemsToBill_throwIllegalStateException_ifQuantityIsSmallerThanZero(){\r\n            DailyMenu dailyMenu = mock(DailyMenu.class);\r\n            BillItems billItems = new BillItems(); // I change here\r\n            MenuItem menuItem =  mock(MenuItem.class);\r\n            List&lt;BillItems&gt; billItemsList = mock(ArrayList.class);\r\n    \r\n            menuPrinter.printMenu(dailyMenu);\r\n            verify(menuPrinter).printMenu(dailyMenu);\r\n    \r\n            billItems.setMenuItem(menuItem);\r\n    \r\n            IllegalStateException exception = assertThrows(IllegalStateException.class,()-&gt;{\r\n                billItems.setQuantity(-4);\r\n            });\r\n            assertTrue(exception.getMessage().contains(&quot;Bill item cannot smaller than 0 !!!&quot;));\r\n        }\r\nAnd the test passed with no errors !!!\r\n\r\n    Process finished with exit code 0\r\nAre there any reason for this issues? I am beginner with writing Junit test. Thanks for your support.\r\n","title":"Mock function doesn&#39;t intimate the behaviors of Object models","body":"<p>I write junit test for check exception handling. At first, I mock BillItems objects models as I think it will intimate the behaviors of objects models. However, when I run the test I find out that there are some different between the behaviors of mock and real objects models.</p>\n<p><strong>My Objects Models</strong></p>\n<pre><code>public class BillItems implements Serializable {\n\n    private MenuItem menuItem;\n    private int quantity;\n    private String orderTime;\n\n\n    public BillItems(){}\n    public BillItems(MenuItem menuItem,int quantity,String orderTime){\n        this.menuItem = menuItem;\n        this.quantity = quantity;\n        this.orderTime = orderTime;\n    }\n\n    public MenuItem getMenuItem() {\n        return menuItem;\n    }\n\n    public int getQuantity() {\n        return quantity;\n    }\n\n    public void setMenuItem(MenuItem menuItem) {\n        this.menuItem = menuItem;\n    }\n\n    public String getOrderTime() {\n        return orderTime;\n    }\n\n    public void setOrderTime(String orderTime) {\n        this.orderTime = orderTime;\n    }\n\n    public void setQuantity(int quantity) {\n        if(quantity&lt;0){   //here it will throw the exception\n            throw new IllegalStateException(&quot;Bill item cannot smaller than 0 !!!&quot;);\n        }else {\n            this.quantity = quantity;\n        }\n    }\n}\n</code></pre>\n<p><strong>My Junit test with mock method</strong></p>\n<pre><code>@Test\n    public void whenAddNewMenuItemsToBill_throwIllegalStateException_ifQuantityIsSmallerThanZero(){\n        DailyMenu dailyMenu = mock(DailyMenu.class);\n        BillItems billItems = mock(BillItems.class); // Here is problem\n        MenuItem menuItem =  mock(MenuItem.class);\n        List&lt;BillItems&gt; billItemsList = mock(ArrayList.class);\n\n        menuPrinter.printMenu(dailyMenu);\n        verify(menuPrinter).printMenu(dailyMenu);\n\n        billItems.setMenuItem(menuItem);\n\n        IllegalStateException exception = assertThrows(IllegalStateException.class,()-&gt;{\n            billItems.setQuantity(-4);\n        });\n        assertTrue(exception.getMessage().contains(&quot;Bill item cannot smaller than 0 !!!&quot;));\n    }\n</code></pre>\n<p><strong>The error:</strong></p>\n<pre><code>org.opentest4j.AssertionFailedError: Expected java.lang.IllegalStateException to be thrown, but nothing was thrown.\n\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\n    at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:73)\n    at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)\n    at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3083)\n    at tests.bill.BillItemTest.whenAddNewMenuItemsToBill_throwIllegalStateException_ifQuantityIsSmallerThanZero(BillItemTest.java:69)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\n    at org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\n    at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\n    at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n\nProcess finished with exit code -1\n</code></pre>\n<p>When I change the Bill Items mock to models the problem was fixed:</p>\n<pre><code> @Test\n    public void whenAddNewMenuItemsToBill_throwIllegalStateException_ifQuantityIsSmallerThanZero(){\n        DailyMenu dailyMenu = mock(DailyMenu.class);\n        BillItems billItems = new BillItems(); // I change here\n        MenuItem menuItem =  mock(MenuItem.class);\n        List&lt;BillItems&gt; billItemsList = mock(ArrayList.class);\n\n        menuPrinter.printMenu(dailyMenu);\n        verify(menuPrinter).printMenu(dailyMenu);\n\n        billItems.setMenuItem(menuItem);\n\n        IllegalStateException exception = assertThrows(IllegalStateException.class,()-&gt;{\n            billItems.setQuantity(-4);\n        });\n        assertTrue(exception.getMessage().contains(&quot;Bill item cannot smaller than 0 !!!&quot;));\n    }\n</code></pre>\n<p>And the test passed with no errors !!!</p>\n<pre><code>Process finished with exit code 0\n</code></pre>\n<p>Are there any reason for this issues? I am beginner with writing Junit test. Thanks for your support.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2854435,"reputation":2798,"user_id":2853439,"accept_rate":50,"display_name":"Prateek Jain"},"score":1,"creation_date":1536486929,"post_id":52243329,"comment_id":91434943,"body_markdown":"what are you trying to de-compile? jdk source code or some open source?","body":"what are you trying to de-compile? jdk source code or some open source?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1536487489,"post_id":52243329,"comment_id":91435092,"body_markdown":"IntelliJ has a functional decompiler if you cannot make it work for eclipse.","body":"IntelliJ has a functional decompiler if you cannot make it work for eclipse."},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1536488841,"post_id":52243329,"comment_id":91435433,"body_markdown":"You might want to try http://www.javadecompilers.com to find out which decompiler is able to decompile your intended jars before installing the tool","body":"You might want to try <a href=\"http://www.javadecompilers.com\" rel=\"nofollow noreferrer\">javadecompilers.com</a> to find out which decompiler is able to decompile your intended jars before installing the tool"},{"owner":{"account_id":2936255,"reputation":33,"user_id":2515069,"display_name":"Nikita"},"score":0,"creation_date":1536497141,"post_id":52243329,"comment_id":91437650,"body_markdown":"I need the decompiler to view internal coding of java inbuilt classes for eg String class","body":"I need the decompiler to view internal coding of java inbuilt classes for eg String class"}],"answers":[{"tags":[],"owner":{"account_id":5763717,"reputation":883,"user_id":4549283,"accept_rate":45,"display_name":"Mani Ratna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1536492865,"creation_date":1536488118,"answer_id":52243482,"question_id":52243329,"body_markdown":"1. Open Eclipse IDE.\r\n2. Click Help in the menu and then click Eclipse Marketplace Wizard\r\n3. In Search tab find the JD (JD : keyword for Eclipse Class Decompiler)\r\n4. Select the Eclipse Class Decompiler\r\n5. Click on Install and Restart Eclipse .\r\n   \r\n","title":"Problem in installing decompiler in eclipse oxygen","body":"<ol>\n<li>Open Eclipse IDE.</li>\n<li>Click Help in the menu and then click Eclipse Marketplace Wizard</li>\n<li>In Search tab find the JD (JD : keyword for Eclipse Class Decompiler)</li>\n<li>Select the Eclipse Class Decompiler</li>\n<li>Click on Install and Restart Eclipse .</li>\n</ol>\n"}],"owner":{"account_id":2936255,"reputation":33,"user_id":2515069,"display_name":"Nikita"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52243482,"answer_count":1,"score":0,"last_activity_date":1669349794,"creation_date":1536486692,"question_id":52243329,"body_markdown":"I am trying to install decompiler in eclipse oxygen version.\r\nI have tried installing jadeclipse and Enhanced class decompiler but none of it is working. \r\n\r\nI have also searched for Eclipse Class Decompiler plugin in eclipse market place but its not showing in eclipse market place\r\n\r\nMy jdk version is 10.0.1\r\nCan you help me find an alternative for decompiling java sources on eclipse oxygen.","title":"Problem in installing decompiler in eclipse oxygen","body":"<p>I am trying to install decompiler in eclipse oxygen version.\nI have tried installing jadeclipse and Enhanced class decompiler but none of it is working. </p>\n\n<p>I have also searched for Eclipse Class Decompiler plugin in eclipse market place but its not showing in eclipse market place</p>\n\n<p>My jdk version is 10.0.1\nCan you help me find an alternative for decompiling java sources on eclipse oxygen.</p>\n"},{"tags":["java","error-handling","while-loop","user-input"],"answers":[{"tags":[],"owner":{"account_id":27040935,"reputation":26,"user_id":20595721,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669348785,"creation_date":1669348785,"answer_id":74568201,"question_id":74568080,"body_markdown":"You need to loop until you get the right answer, as below.  Also, it should be a &amp;&amp; join:\r\n\r\n            while(!YN.equalsIgnoreCase(&quot;N&quot;) &amp;&amp; !YN.equalsIgnoreCase(&quot;Y&quot;)){\r\n               System.out.println(&quot;Error, Please Try Again!&quot;);\r\n               System.out.println(&quot;Try Again? (Y/N) : &quot;);\r\n               YN = br.readLine();\r\n            }","title":"My &quot;Error&quot; Handler in a While Loop Java doesn&#39;t read","body":"<p>You need to loop until you get the right answer, as below.  Also, it should be a &amp;&amp; join:</p>\n<pre><code>        while(!YN.equalsIgnoreCase(&quot;N&quot;) &amp;&amp; !YN.equalsIgnoreCase(&quot;Y&quot;)){\n           System.out.println(&quot;Error, Please Try Again!&quot;);\n           System.out.println(&quot;Try Again? (Y/N) : &quot;);\n           YN = br.readLine();\n        }\n</code></pre>\n"}],"owner":{"account_id":25140146,"reputation":3,"user_id":18986560,"display_name":"RITCHMOND JAMES TAJARROS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74568201,"answer_count":1,"score":0,"last_activity_date":1669348785,"creation_date":1669347324,"question_id":74568080,"body_markdown":"My code is working, but the problem is that the error handler, the if statement doesn&#39;t read. when the user inputted that does not in the choices of Y/N, for example &#39;g&#39;.\r\n\r\nEnter expression: a+b\r\n\r\nTry Again? (Y/N) : g\r\n\r\nEnter expression: \r\n\r\n_\r\n\r\nI WANT TO BE THE RESULT IS:\r\n\r\nEnter expression: a+b\r\n\r\nTry Again? (Y/N) : g\r\n\r\nError, Please Try Again!\r\n\r\nTry Again? (Y/N) : \r\n\r\n_\r\n\r\nMy error handler doesn&#39;t read\r\n\r\n```\r\n\r\n    if (choice.equals(&quot;1&quot;)) {\r\n                String YN =&quot;Y&quot;;\r\n                while (!YN.equalsIgnoreCase(&quot;N&quot;)) {\r\n                    System.out.print(&#39;\\u000C&#39;);\r\n                    System.out.print(&quot;Enter the Infix Expression: &quot;);\r\n                    String exp = BReader.readLine();\r\n                    try {\r\n                        System.out.println(&quot;Postfix Expression: &quot; + infixToPostfix(exp));\r\n                    } catch(Exception e) {\r\n                        System.out.println(&quot;Enter correct expression.&quot;);\r\n                    }\r\n                    System.out.println();\r\n                    System.out.println(&quot;Try Again? (Y/N) : &quot;);\r\n                    YN = BReader.readLine();\r\n                    if(!YN.equalsIgnoreCase(&quot;N&quot;) || !YN.equalsIgnoreCase(&quot;Y&quot;)){\r\n                    System.out.print(&quot;Error, Please Try Again!&quot;);\r\n                    }else{\r\n                    }\r\n                }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"My &quot;Error&quot; Handler in a While Loop Java doesn&#39;t read","body":"<p>My code is working, but the problem is that the error handler, the if statement doesn't read. when the user inputted that does not in the choices of Y/N, for example 'g'.</p>\n<p>Enter expression: a+b</p>\n<p>Try Again? (Y/N) : g</p>\n<p>Enter expression:</p>\n<p>_</p>\n<p>I WANT TO BE THE RESULT IS:</p>\n<p>Enter expression: a+b</p>\n<p>Try Again? (Y/N) : g</p>\n<p>Error, Please Try Again!</p>\n<p>Try Again? (Y/N) :</p>\n<p>_</p>\n<p>My error handler doesn't read</p>\n<pre><code>\n    if (choice.equals(&quot;1&quot;)) {\n                String YN =&quot;Y&quot;;\n                while (!YN.equalsIgnoreCase(&quot;N&quot;)) {\n                    System.out.print('\\u000C');\n                    System.out.print(&quot;Enter the Infix Expression: &quot;);\n                    String exp = BReader.readLine();\n                    try {\n                        System.out.println(&quot;Postfix Expression: &quot; + infixToPostfix(exp));\n                    } catch(Exception e) {\n                        System.out.println(&quot;Enter correct expression.&quot;);\n                    }\n                    System.out.println();\n                    System.out.println(&quot;Try Again? (Y/N) : &quot;);\n                    YN = BReader.readLine();\n                    if(!YN.equalsIgnoreCase(&quot;N&quot;) || !YN.equalsIgnoreCase(&quot;Y&quot;)){\n                    System.out.print(&quot;Error, Please Try Again!&quot;);\n                    }else{\n                    }\n                }\n\n</code></pre>\n"},{"tags":["java","javafx","popup","fxml"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1669312528,"post_id":74563595,"comment_id":131620945,"body_markdown":"These [examples](https://stackoverflow.com/a/72588241/230513) simply bind related properties to get a _live_ update effect; the same principle is illustrated [here](https://stackoverflow.com/q/31909941/230513).","body":"These <a href=\"https://stackoverflow.com/a/72588241/230513\">examples</a> simply bind related properties to get a <i>live</i> update effect; the same principle is illustrated <a href=\"https://stackoverflow.com/q/31909941/230513\">here</a>."},{"owner":{"account_id":19209142,"reputation":27,"user_id":14035318,"display_name":"HornedAccomplice"},"score":0,"creation_date":1669321119,"post_id":74563595,"comment_id":131622951,"body_markdown":"@trashgod Thank you for the response, I&#39;ll be sure to study those later today.","body":"@trashgod Thank you for the response, I&#39;ll be sure to study those later today."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669347699,"creation_date":1669335111,"answer_id":74567276,"question_id":74563595,"body_markdown":"In your `SecondaryController`, it looks like you&#39;re creating a second instance of `PrimaryController`, leaving the first unchanged when invoking `writeToOwner()`.\r\n\r\nOne approach is to arrange for the controllers to see a common model, much as they share a common `stage` in your example. The simplest such model is a single `ObservableValue`, illustrated [here][1]. To see the effect,\r\n\r\n- Add a `StringProperty` named  `text` to your `SecondaryController ` and make it accessible. In `writeToOwner()`, simply update the `text` and the bound `label` will follow.\r\n\r\n```\r\n    public class SecondaryController {\r\n    \r\n        @FXML\r\n        TextField textField;\r\n    \r\n        public Stage stage;\r\n        private final StringProperty text = new SimpleStringProperty();\r\n\r\n        public StringProperty textProperty() {\r\n            return text;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public void writeToOwner(ActionEvent event) throws IOException {\r\n            text.set(textField.getText());\r\n            stage.close();\r\n        }\r\n}\r\n```\r\n- In your `PrimaryController`, bind the label&#39;s `textProperty()` to the `textProperty()` of the `SecondaryController`.\r\n```\r\n    public class PrimaryController {\r\n        \r\n        @FXML\r\n        Label label;\r\n        public StringProperty text = new SimpleStringProperty();\r\n        \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public void login(ActionEvent event) throws IOException {\r\n            …\r\n            secondaryController.stage.initOwner(App.stage);\r\n            label.textProperty().bind(secondaryController.textProperty());\r\n            …\r\n        }\r\n    }\r\n```\r\n\r\nIn practice, you&#39;ll want to avoid `public` access to class members.\r\n\r\n  [1]: https://stackoverflow.com/q/31909941/230513\r\n","title":"How can I alter GUI elements of a stages owner?","body":"<p>In your <code>SecondaryController</code>, it looks like you're creating a second instance of <code>PrimaryController</code>, leaving the first unchanged when invoking <code>writeToOwner()</code>.</p>\n<p>One approach is to arrange for the controllers to see a common model, much as they share a common <code>stage</code> in your example. The simplest such model is a single <code>ObservableValue</code>, illustrated <a href=\"https://stackoverflow.com/q/31909941/230513\">here</a>. To see the effect,</p>\n<ul>\n<li>Add a <code>StringProperty</code> named  <code>text</code> to your <code>SecondaryController </code> and make it accessible. In <code>writeToOwner()</code>, simply update the <code>text</code> and the bound <code>label</code> will follow.</li>\n</ul>\n<pre><code>    public class SecondaryController {\n    \n        @FXML\n        TextField textField;\n    \n        public Stage stage;\n        private final StringProperty text = new SimpleStringProperty();\n\n        public StringProperty textProperty() {\n            return text;\n        }\n    \n        @SuppressWarnings(&quot;unused&quot;)\n        public void writeToOwner(ActionEvent event) throws IOException {\n            text.set(textField.getText());\n            stage.close();\n        }\n}\n</code></pre>\n<ul>\n<li>In your <code>PrimaryController</code>, bind the label's <code>textProperty()</code> to the <code>textProperty()</code> of the <code>SecondaryController</code>.</li>\n</ul>\n<pre><code>    public class PrimaryController {\n        \n        @FXML\n        Label label;\n        public StringProperty text = new SimpleStringProperty();\n        \n        @SuppressWarnings(&quot;unused&quot;)\n        public void login(ActionEvent event) throws IOException {\n            …\n            secondaryController.stage.initOwner(App.stage);\n            label.textProperty().bind(secondaryController.textProperty());\n            …\n        }\n    }\n</code></pre>\n<p>In practice, you'll want to avoid <code>public</code> access to class members.</p>\n"}],"owner":{"account_id":19209142,"reputation":27,"user_id":14035318,"display_name":"HornedAccomplice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74567276,"answer_count":1,"score":1,"last_activity_date":1669347699,"creation_date":1669306443,"question_id":74563595,"body_markdown":"I&#39;m currently trying to figure out how to implement a feature in which the user clicks a button and a popup appears, and then the user enters data into that popup, clicks a confirm button, and the data becomes visible in the popups owner. I was able to make data from the owner stage carry over to the popup stage after follow Bro Code&#39;s tutorial on making controllers communicate, however getting it to work the other way around is proving troublesome. Below is a project in which I&#39;ve isolated the issue to try and figure it out. \r\n\r\nApp.java\r\n\r\n```\r\npackage org.example;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class App extends Application {\r\n\r\n    public static Stage stage;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;primary.fxml&quot;)));\r\n        Scene scene = new Scene(root);\r\n        stage = new Stage();\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nPrimaryController.java\r\n```\r\npackage org.example;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.stage.Modality;\r\nimport javafx.stage.Stage;\r\n\r\npublic class PrimaryController {\r\n\r\n    @FXML\r\n    Label label;\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public void login(ActionEvent event) throws IOException{\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;secondary.fxml&quot;));\r\n        Parent root = loader.load();\r\n\r\n        SecondaryController secondaryController = loader.getController();\r\n        secondaryController.stage = new Stage();\r\n        secondaryController.stage.initModality(Modality.APPLICATION_MODAL);\r\n        secondaryController.stage.initOwner(App.stage);\r\n\r\n        Scene scene = new Scene(root);\r\n        secondaryController.stage.setScene(scene);\r\n        secondaryController.stage.show();\r\n    }\r\n\r\n    public void displayMessage(String message){\r\n        label.setText(message);\r\n    }\r\n}\r\n```\r\n\r\nSecondaryController.java\r\n```\r\npackage org.example;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class SecondaryController {\r\n\r\n    @FXML\r\n    TextField textField;\r\n\r\n    public Stage stage;\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public void writeToOwner(ActionEvent event) throws IOException {\r\n        String message = textField.getText();\r\n\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;primary.fxml&quot;));\r\n        Parent root = loader.load();\r\n\r\n        PrimaryController primaryController = loader.getController();\r\n        primaryController.displayMessage(message);\r\n        stage.close();\r\n    }\r\n}\r\n```\r\n\r\nprimary.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;org.example.PrimaryController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Button layoutX=&quot;270.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#login&quot; text=&quot;Login&quot; /&gt;\r\n      &lt;Label fx:id=&quot;label&quot; layoutX=&quot;280.0&quot; layoutY=&quot;191.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nsecondary.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;org.example.SecondaryController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TextField fx:id=&quot;textField&quot; layoutX=&quot;219.0&quot; layoutY=&quot;187.0&quot; onAction=&quot;#writeToOwner&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nThe current behavior that I get from this code is almost what I want, except when the user would submit the text, it closes the popup but doesn&#39;t change the popups owner.","title":"How can I alter GUI elements of a stages owner?","body":"<p>I'm currently trying to figure out how to implement a feature in which the user clicks a button and a popup appears, and then the user enters data into that popup, clicks a confirm button, and the data becomes visible in the popups owner. I was able to make data from the owner stage carry over to the popup stage after follow Bro Code's tutorial on making controllers communicate, however getting it to work the other way around is proving troublesome. Below is a project in which I've isolated the issue to try and figure it out.</p>\n<p>App.java</p>\n<pre><code>package org.example;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.util.Objects;\n\npublic class App extends Application {\n\n    public static Stage stage;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;primary.fxml&quot;)));\n        Scene scene = new Scene(root);\n        stage = new Stage();\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>PrimaryController.java</p>\n<pre><code>package org.example;\n\nimport java.io.IOException;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\n\npublic class PrimaryController {\n\n    @FXML\n    Label label;\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public void login(ActionEvent event) throws IOException{\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;secondary.fxml&quot;));\n        Parent root = loader.load();\n\n        SecondaryController secondaryController = loader.getController();\n        secondaryController.stage = new Stage();\n        secondaryController.stage.initModality(Modality.APPLICATION_MODAL);\n        secondaryController.stage.initOwner(App.stage);\n\n        Scene scene = new Scene(root);\n        secondaryController.stage.setScene(scene);\n        secondaryController.stage.show();\n    }\n\n    public void displayMessage(String message){\n        label.setText(message);\n    }\n}\n</code></pre>\n<p>SecondaryController.java</p>\n<pre><code>package org.example;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class SecondaryController {\n\n    @FXML\n    TextField textField;\n\n    public Stage stage;\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public void writeToOwner(ActionEvent event) throws IOException {\n        String message = textField.getText();\n\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;primary.fxml&quot;));\n        Parent root = loader.load();\n\n        PrimaryController primaryController = loader.getController();\n        primaryController.displayMessage(message);\n        stage.close();\n    }\n}\n</code></pre>\n<p>primary.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;org.example.PrimaryController&quot;&gt;\n   &lt;children&gt;\n      &lt;Button layoutX=&quot;270.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#login&quot; text=&quot;Login&quot; /&gt;\n      &lt;Label fx:id=&quot;label&quot; layoutX=&quot;280.0&quot; layoutY=&quot;191.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>secondary.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;org.example.SecondaryController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;textField&quot; layoutX=&quot;219.0&quot; layoutY=&quot;187.0&quot; onAction=&quot;#writeToOwner&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>The current behavior that I get from this code is almost what I want, except when the user would submit the text, it closes the popup but doesn't change the popups owner.</p>\n"},{"tags":["java","spring-boot","api","rest"],"answers":[{"tags":[],"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669347112,"creation_date":1669268902,"answer_id":74556132,"question_id":74555935,"body_markdown":"# Troubleshooting and Debugging\r\n\r\n&gt;In the future, it would be helpful for you to post the request as a cURL command as well as the Catalina logs.\r\n\r\nYour bug is in the following statement\r\n\r\n    if (member.getPassword().equals(checkIfValidOldPassword(member, password.getOldPassword()))){\r\n       // The above expression is always evaluating false\r\n    }\r\n\r\nThe `member.getPassword()` accessory method returns a String.  However `checkIfValidOldPassword` method returns a boolean.  Let&#39;s refactor the code for demonstration.\r\n\r\n    String pwd = member.getPassword();\r\n    String opwd = password.getOldPassword();\r\n    boolean isValud = checkIfValidOldPassword(member, opwd);\r\n    assert pwd.equals(isValid);\r\n\r\nYou are attempting to evaluate the equality of a String and a primitive boolean ( autoboxed to the Boolean wrapper class object ).  Likely this statement always evaluates false thus you are returning null and not invoking the code that actually makes the update. \r\n\r\n\r\n# Autoboxing Explained\r\nThe reason this did not throw a compile time exception is due to a feature known as Autoboxing. Autoboxing is the automatic conversion that the Java compiler makes between the primitive types and their corresponding object wrapper classes.\r\n\r\nIn your example, the `equals` method has a single parameter of type Object.  So although you passed a primitive boolean as the first parameter in the equals method, the Java compiler converted it to an Object of type Boolean. Because Boolean is an object, and all objects inherit from Object, no exception is thrown. \r\n\r\nMost likely you are comparing the response of ‘toString’ method on your Boolean object which returns the string “true” when the primitive boolean value corresponds with true and “false” otherwise.\r\n\r\n\r\n# Security Concerns\r\nPlease be extremely careful when you are attempting to roll your own authentication or authorization features. For the most part, a password should be salted and encrypted before storing the information at-rest. Therefore, you should only ever be able to compare one salted/encrypted string with another salted/encrypted string","title":"Change Password API Spring Boot","body":"<h1>Troubleshooting and Debugging</h1>\n<blockquote>\n<p>In the future, it would be helpful for you to post the request as a cURL command as well as the Catalina logs.</p>\n</blockquote>\n<p>Your bug is in the following statement</p>\n<pre><code>if (member.getPassword().equals(checkIfValidOldPassword(member, password.getOldPassword()))){\n   // The above expression is always evaluating false\n}\n</code></pre>\n<p>The <code>member.getPassword()</code> accessory method returns a String.  However <code>checkIfValidOldPassword</code> method returns a boolean.  Let's refactor the code for demonstration.</p>\n<pre><code>String pwd = member.getPassword();\nString opwd = password.getOldPassword();\nboolean isValud = checkIfValidOldPassword(member, opwd);\nassert pwd.equals(isValid);\n</code></pre>\n<p>You are attempting to evaluate the equality of a String and a primitive boolean ( autoboxed to the Boolean wrapper class object ).  Likely this statement always evaluates false thus you are returning null and not invoking the code that actually makes the update.</p>\n<h1>Autoboxing Explained</h1>\n<p>The reason this did not throw a compile time exception is due to a feature known as Autoboxing. Autoboxing is the automatic conversion that the Java compiler makes between the primitive types and their corresponding object wrapper classes.</p>\n<p>In your example, the <code>equals</code> method has a single parameter of type Object.  So although you passed a primitive boolean as the first parameter in the equals method, the Java compiler converted it to an Object of type Boolean. Because Boolean is an object, and all objects inherit from Object, no exception is thrown.</p>\n<p>Most likely you are comparing the response of ‘toString’ method on your Boolean object which returns the string “true” when the primitive boolean value corresponds with true and “false” otherwise.</p>\n<h1>Security Concerns</h1>\n<p>Please be extremely careful when you are attempting to roll your own authentication or authorization features. For the most part, a password should be salted and encrypted before storing the information at-rest. Therefore, you should only ever be able to compare one salted/encrypted string with another salted/encrypted string</p>\n"}],"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74556132,"answer_count":1,"score":0,"last_activity_date":1669347112,"creation_date":1669267239,"question_id":74555935,"body_markdown":"I&#39;m writing a program that changes a member&#39;s password, I fetched the user by id from the database when I test the endpoint on postman it returns 200 OK, but fails to update the password in the database to the new password, What is the right logic to use for this task? my code is below.\r\n\r\nMember\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name =&quot;member&quot;,\r\n        indexes = {\r\n            @Index(\r\n                    columnList = &quot;email_address&quot;,\r\n                    name = &quot;email_address_idx&quot;,\r\n                    unique = true\r\n            ),\r\n        },\r\n        uniqueConstraints = {\r\n            @UniqueConstraint(\r\n                    columnNames = {&quot;email_address&quot;, &quot;phone_number&quot;},\r\n                    name = &quot;email_address_phone_number_uq&quot;\r\n            )\r\n        }\r\n)\r\npublic class Member {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;first_name&quot;, nullable = false)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;, nullable = false)\r\n    private String lastName;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;nationality_id&quot;)\r\n    private Country nationality;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;country_of_residence_id&quot;)\r\n    private Country countryOfResidence;\r\n\r\n    @Temporal(TemporalType.DATE)\r\n    @Column(name =&quot;date_of_birth&quot;)\r\n    private Date dateOfBirth = new Date();\r\n\r\n    @Column(name =&quot;current_job_title&quot;)\r\n    private String currentJobTitle;\r\n\r\n    @Column(name = &quot;email_address&quot;, nullable = false)\r\n    private String emailAddress;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    @Column(name =&quot;phone_number&quot;)\r\n    private String phoneNumber;\r\n\r\n    @Column(name =&quot;city&quot;)\r\n    private String city;\r\n\r\n    @Column(name =&quot;state&quot;)\r\n    private String state;\r\n\r\n    @Column(name =&quot;password&quot;, nullable = false)\r\n    private String password;\r\n}\r\n\r\n```\r\n\r\nPasswordDto\r\n```\r\n@Data\r\npublic class ChangePasswordDto {\r\n\r\n    private String password;\r\n    private String oldPassword;\r\n    private String newPassword;\r\n    private String reNewPassword;\r\n```\r\n\r\nPasswordService\r\n```\r\n@Slf4j\r\n@Service\r\npublic class ChangePasswordServiceImpl implements ChangePasswordService {\r\n\r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    private final PasswordJpaRepository jpaRepository;\r\n\r\n    public ChangePasswordServiceImpl(PasswordJpaRepository jpaRepository) {\r\n        this.jpaRepository = jpaRepository;\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public Member changePassword(Long id, ChangePasswordDto password) {\r\n        final Member member = jpaRepository.findById(id);\r\n\r\n        Member getPassword = new Member();\r\n        getPassword = modelMapper.map(id, Member.class);\r\n\r\n        Member updatedPassword = new Member();\r\n        if (member.getPassword().equals(checkIfValidOldPassword(member, password.getOldPassword()))){\r\n            if (password.getNewPassword().equals(password.getReNewPassword())) {\r\n                updatedPassword = changPassword(member, password.getNewPassword());\r\n            }\r\n        }else{\r\n            return null;\r\n        }\r\n\r\n    return updatedPassword;\r\n\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public boolean checkIfValidOldPassword(Member member, String oldPassword) {\r\n        return matches(oldPassword, member.getPassword());\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public Member changPassword(Member member, String password) {\r\n\r\n        member.setPassword(password);\r\n        jpaRepository.save(member);\r\n        return member;\r\n    }\r\n}\r\n\r\n```\r\n\r\nPasswordController\r\n```\r\n@RestController\r\n@RequestMapping(\r\n        value = &quot;password&quot;,\r\n        produces = { MediaType.APPLICATION_JSON_VALUE }\r\n)\r\npublic class ChangePasswordController {\r\n\r\n    private ChangePasswordService service;\r\n\r\n    public ChangePasswordController(ChangePasswordService passwordService) {\r\n        this.service = passwordService;\r\n    }\r\n\r\n    @PostMapping(&quot;/change-password/{id}&quot;)\r\n    public Member changePassword(@Validated @RequestBody ChangePasswordDto password, @PathVariable(name = &quot;id&quot;) Long id){\r\n        return service.changePassword(id, password);\r\n    }\r\n}\r\n```","title":"Change Password API Spring Boot","body":"<p>I'm writing a program that changes a member's password, I fetched the user by id from the database when I test the endpoint on postman it returns 200 OK, but fails to update the password in the database to the new password, What is the right logic to use for this task? my code is below.</p>\n<p>Member</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name =&quot;member&quot;,\n        indexes = {\n            @Index(\n                    columnList = &quot;email_address&quot;,\n                    name = &quot;email_address_idx&quot;,\n                    unique = true\n            ),\n        },\n        uniqueConstraints = {\n            @UniqueConstraint(\n                    columnNames = {&quot;email_address&quot;, &quot;phone_number&quot;},\n                    name = &quot;email_address_phone_number_uq&quot;\n            )\n        }\n)\npublic class Member {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;, nullable = false)\n    private String lastName;\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;nationality_id&quot;)\n    private Country nationality;\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;country_of_residence_id&quot;)\n    private Country countryOfResidence;\n\n    @Temporal(TemporalType.DATE)\n    @Column(name =&quot;date_of_birth&quot;)\n    private Date dateOfBirth = new Date();\n\n    @Column(name =&quot;current_job_title&quot;)\n    private String currentJobTitle;\n\n    @Column(name = &quot;email_address&quot;, nullable = false)\n    private String emailAddress;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name =&quot;phone_number&quot;)\n    private String phoneNumber;\n\n    @Column(name =&quot;city&quot;)\n    private String city;\n\n    @Column(name =&quot;state&quot;)\n    private String state;\n\n    @Column(name =&quot;password&quot;, nullable = false)\n    private String password;\n}\n\n</code></pre>\n<p>PasswordDto</p>\n<pre><code>@Data\npublic class ChangePasswordDto {\n\n    private String password;\n    private String oldPassword;\n    private String newPassword;\n    private String reNewPassword;\n</code></pre>\n<p>PasswordService</p>\n<pre><code>@Slf4j\n@Service\npublic class ChangePasswordServiceImpl implements ChangePasswordService {\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    private final PasswordJpaRepository jpaRepository;\n\n    public ChangePasswordServiceImpl(PasswordJpaRepository jpaRepository) {\n        this.jpaRepository = jpaRepository;\n    }\n\n    @Override\n    @Transactional\n    public Member changePassword(Long id, ChangePasswordDto password) {\n        final Member member = jpaRepository.findById(id);\n\n        Member getPassword = new Member();\n        getPassword = modelMapper.map(id, Member.class);\n\n        Member updatedPassword = new Member();\n        if (member.getPassword().equals(checkIfValidOldPassword(member, password.getOldPassword()))){\n            if (password.getNewPassword().equals(password.getReNewPassword())) {\n                updatedPassword = changPassword(member, password.getNewPassword());\n            }\n        }else{\n            return null;\n        }\n\n    return updatedPassword;\n\n    }\n\n    @Override\n    @Transactional\n    public boolean checkIfValidOldPassword(Member member, String oldPassword) {\n        return matches(oldPassword, member.getPassword());\n    }\n\n    @Override\n    @Transactional\n    public Member changPassword(Member member, String password) {\n\n        member.setPassword(password);\n        jpaRepository.save(member);\n        return member;\n    }\n}\n\n</code></pre>\n<p>PasswordController</p>\n<pre><code>@RestController\n@RequestMapping(\n        value = &quot;password&quot;,\n        produces = { MediaType.APPLICATION_JSON_VALUE }\n)\npublic class ChangePasswordController {\n\n    private ChangePasswordService service;\n\n    public ChangePasswordController(ChangePasswordService passwordService) {\n        this.service = passwordService;\n    }\n\n    @PostMapping(&quot;/change-password/{id}&quot;)\n    public Member changePassword(@Validated @RequestBody ChangePasswordDto password, @PathVariable(name = &quot;id&quot;) Long id){\n        return service.changePassword(id, password);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","jar","databricks","fernet"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1608718364,"post_id":65421784,"comment_id":115664020,"body_markdown":"You need either do `sbt assembly` to include this dependency into jar, or add this dependency explicitly to the cluster definition","body":"You need either do <code>sbt assembly</code> to include this dependency into jar, or add this dependency explicitly to the cluster definition"},{"owner":{"account_id":20283679,"reputation":21,"user_id":14876813,"display_name":"Maha"},"score":0,"creation_date":1608730812,"post_id":65421784,"comment_id":115668678,"body_markdown":"Thanks a lot @AlexOtt! fixed it!.  While reading Secret from Spark config getting below error, any thoughts?\n\nHiveException: Unable to execute method public java.lang.String udfDecrypt.evaluate(java.lang.String,java.lang.String) with arguments {***gAAAAABf4kVBzP-LI0geSu0hlXq89XwAgxeJ4QZAbYhnj5MobaO9KZxtxsP8XRZ1O6LskZwdI8hr5QH9gtGXYffSaKDwQjLNiQ==,[REDACTED]}:Illegal base64 character 2a\nCaused by: InvocationTargetException: \nCaused by: IllegalArgumentException: Illegal base64 character 2a","body":"Thanks a lot @AlexOtt! fixed it!.  While reading Secret from Spark config getting below error, any thoughts?  HiveException: Unable to execute method public java.lang.String udfDecrypt.evaluate(java.lang.String,java.lang.String) with arguments {***gAAAAABf4kVBzP-LI0geSu0hlXq89XwAgxeJ4QZAbYhnj5MobaO9KZxt&zwnj;&#8203;xsP8XRZ1O6LskZwdI8hr&zwnj;&#8203;5QH9gtGXYffSaKDwQjLN&zwnj;&#8203;iQ==,[REDACTED]}:Ill&zwnj;&#8203;egal base64 character 2a Caused by: InvocationTargetException:  Caused by: IllegalArgumentException: Illegal base64 character 2a"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1608733538,"post_id":65421784,"comment_id":115669855,"body_markdown":"check that your string is valid base64","body":"check that your string is valid base64"},{"owner":{"account_id":20283679,"reputation":21,"user_id":14876813,"display_name":"Maha"},"score":0,"creation_date":1608740211,"post_id":65421784,"comment_id":115672699,"body_markdown":"Sure, Thanks!, let me check!","body":"Sure, Thanks!, let me check!"}],"answers":[{"tags":[],"owner":{"account_id":13690366,"reputation":401,"user_id":9878323,"display_name":"Lucas Sousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643142516,"creation_date":1643142516,"answer_id":70855275,"question_id":65421784,"body_markdown":"Make sure the fernet-java library is installed in your cluster.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C5jaa.png","title":"Error in SQL statement: NoClassDefFoundError: com/macasaet/fernet/Validator","body":"<p>Make sure the fernet-java library is installed in your cluster.\n<a href=\"https://i.stack.imgur.com/C5jaa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C5jaa.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27022292,"reputation":1,"user_id":20580096,"display_name":"Minh-Dung Dang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669346534,"creation_date":1669346534,"answer_id":74568025,"question_id":65421784,"body_markdown":"This topic is related to \r\n\r\nhttps://stackoverflow.com/questions/70335768/databricks-scala-udf-cannot-load-class-when-registering-function/\r\n\r\nI tried more to install the jar file to the cluster via the Libraries in the config, not drop directly to DBFS as the userguide, then I faced the issue with validator not found and the question routed me here.\r\n\r\nI added the maven repo to the Libraries config, but then the cluster failed to installed it, with error\r\n\r\n```\r\nLibrary resolution failed because unresolved dependency: com.macasaet.fernet:fernet-java8:1.5.0: not found\r\n```\r\n[databricks cluster libraries][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QofVw.png\r\n\r\nHave you experienced with this?","title":"Error in SQL statement: NoClassDefFoundError: com/macasaet/fernet/Validator","body":"<p>This topic is related to</p>\n<p><a href=\"https://stackoverflow.com/questions/70335768/databricks-scala-udf-cannot-load-class-when-registering-function/\">Databricks SCALA UDF cannot load class when registering function</a></p>\n<p>I tried more to install the jar file to the cluster via the Libraries in the config, not drop directly to DBFS as the userguide, then I faced the issue with validator not found and the question routed me here.</p>\n<p>I added the maven repo to the Libraries config, but then the cluster failed to installed it, with error</p>\n<pre><code>Library resolution failed because unresolved dependency: com.macasaet.fernet:fernet-java8:1.5.0: not found\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QofVw.png\" rel=\"nofollow noreferrer\">databricks cluster libraries</a></p>\n<p>Have you experienced with this?</p>\n"}],"owner":{"account_id":20283679,"reputation":21,"user_id":14876813,"display_name":"Maha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669346534,"creation_date":1608715069,"question_id":65421784,"body_markdown":"Currently working on converting below code as &quot;JAR&quot; to register permanent UDF in Databricks cluster. facing issue like NoClassDefFoundError, But i added required Library dependencies while building Jar using SBT. source code : &lt;https://databricks.com/notebooks/enforcing-column-level-encryption.html&gt;\r\n\r\nUsed Below in build.sbt\r\n\r\nscalaVersion := &quot;2.13.4&quot;\r\n\r\nlibraryDependencies += &quot;org.apache.hive&quot; % &quot;hive-exec&quot; % &quot;0.13.1&quot;\r\n\r\nlibraryDependencies += &quot;com.macasaet.fernet&quot; % &quot;fernet-java8&quot; % &quot;1.5.0&quot;\r\n\r\nGuide me on right libraries if anything wrong above. \r\n\r\nKindly help me on this, \r\n\r\n```\r\nimport com.macasaet.fernet.{Key, StringValidator, Token}\r\nimport org.apache.hadoop.hive.ql.exec.UDF;\r\n\r\nclass Validator extends StringValidator {\r\n\r\n  override def getTimeToLive() : java.time.temporal.TemporalAmount = {\r\n    Duration.ofSeconds(Instant.MAX.getEpochSecond());\r\n  }\r\n}\r\n\r\nclass udfDecrypt extends UDF {\r\n\r\n  def evaluate(inputVal: String, sparkKey : String): String = {\r\n\r\n    if( inputVal != null &amp;&amp; inputVal!=&quot;&quot; ) {\r\n      val keys: Key = new Key(sparkKey)\r\n      val token = Token.fromString(inputVal)\r\n      val validator = new Validator() {}\r\n      val payload = token.validateAndDecrypt(keys, validator)\r\n      payload\r\n    } else return inputVal\r\n  }\r\n}\r\n\r\n```","title":"Error in SQL statement: NoClassDefFoundError: com/macasaet/fernet/Validator","body":"<p>Currently working on converting below code as &quot;JAR&quot; to register permanent UDF in Databricks cluster. facing issue like NoClassDefFoundError, But i added required Library dependencies while building Jar using SBT. source code : <a href=\"https://databricks.com/notebooks/enforcing-column-level-encryption.html\" rel=\"nofollow noreferrer\">https://databricks.com/notebooks/enforcing-column-level-encryption.html</a></p>\n<p>Used Below in build.sbt</p>\n<p>scalaVersion := &quot;2.13.4&quot;</p>\n<p>libraryDependencies += &quot;org.apache.hive&quot; % &quot;hive-exec&quot; % &quot;0.13.1&quot;</p>\n<p>libraryDependencies += &quot;com.macasaet.fernet&quot; % &quot;fernet-java8&quot; % &quot;1.5.0&quot;</p>\n<p>Guide me on right libraries if anything wrong above.</p>\n<p>Kindly help me on this,</p>\n<pre><code>import com.macasaet.fernet.{Key, StringValidator, Token}\nimport org.apache.hadoop.hive.ql.exec.UDF;\n\nclass Validator extends StringValidator {\n\n  override def getTimeToLive() : java.time.temporal.TemporalAmount = {\n    Duration.ofSeconds(Instant.MAX.getEpochSecond());\n  }\n}\n\nclass udfDecrypt extends UDF {\n\n  def evaluate(inputVal: String, sparkKey : String): String = {\n\n    if( inputVal != null &amp;&amp; inputVal!=&quot;&quot; ) {\n      val keys: Key = new Key(sparkKey)\n      val token = Token.fromString(inputVal)\n      val validator = new Validator() {}\n      val payload = token.validateAndDecrypt(keys, validator)\n      payload\n    } else return inputVal\n  }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-fragments","navigation","android-viewpager"],"comments":[{"owner":{"account_id":243628,"reputation":4147,"user_id":515948,"accept_rate":89,"display_name":"Laur Ivan"},"score":0,"creation_date":1457705616,"post_id":35941761,"comment_id":59540973,"body_markdown":"Please include the relevant code (e.g. remove the `import` statements). Other than that, are you shure that the fragment is hidden? Or is it just empty and you need to re-populate it?","body":"Please include the relevant code (e.g. remove the <code>import</code> statements). Other than that, are you shure that the fragment is hidden? Or is it just empty and you need to re-populate it?"}],"answers":[{"tags":[],"owner":{"account_id":6586825,"reputation":31,"user_id":5089361,"display_name":"Abinash Neupane"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1457708390,"creation_date":1457708390,"answer_id":35943393,"question_id":35941761,"body_markdown":"I just solved it by using a simple trick. Inside my `TabPagerAdapter` class I used `getChildFragmentManager()` instead of `getFragmentManager()`. I dont know how that helped, but it did. ","title":"VIew pager inside navigation drawer doesnt show fragment after selecting other option from navigation drawer and coming back","body":"<p>I just solved it by using a simple trick. Inside my <code>TabPagerAdapter</code> class I used <code>getChildFragmentManager()</code> instead of <code>getFragmentManager()</code>. I dont know how that helped, but it did. </p>\n"},{"tags":[],"owner":{"account_id":6632742,"reputation":11,"user_id":5120909,"display_name":"Ronald Ragnvald Nina C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669343526,"creation_date":1669341865,"answer_id":74567699,"question_id":35941761,"body_markdown":"A Really good practice gratefull feed, is to always check that viewpager is not empty, or null. With this, see the depth of navigation, within the application, a key within the fragments is context management, in addition to the traditional &quot;this&quot; activity and another is also to manage the instances and instance keys well so that when they are retrieved. The navigation is comfortable for the user, due to the state or place where I left it or navigated previously at the fragments level.\r\n\r\n**In Main or Fragment**\r\n\r\n   \r\n     //replace to your inflate code fragment to call viewpager \r\n     ViewPager viewPager = findViewById(R.id.viewPager);\r\n                if (viewPager != null) {\r\n                    ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\r\n                    viewPager.setAdapter(adapter);\r\n                }\r\n\r\n\r\n**If youre use a viepager**\r\n\r\n    pagerAdapter = new ViewPageAdapter(getChildFragmentManager());\r\n\r\n**Instead of**\r\n\r\n    pagerAdapter = new ViewPageAdapter(getFragmentManager());\r\n\r\n*When you handle many fragments in menudrawer or material ui and different places remember to use their keys for the instances and save them to call them and recover the previous state.*\r\n\r\nAnd inside or outside of viewpager, to this we add a navigation by drawer menu then the handling of instances the depth of the invocation in fragments. It is even more interesting to understand how a well-done code can malfunction if the cycles of the processes are not well managed. Retrieving the instances is the exact step of the implicit in operation.\r\n\r\nHappy code!\r\n\r\nUsefull link&#39;s:\r\n\r\n - https://developer.android.com/guide/fragments/lifecycle\r\n - https://tutorialwing.com/android-viewpager-with-fragment-tutorial-with-example/\r\n\r\n","title":"VIew pager inside navigation drawer doesnt show fragment after selecting other option from navigation drawer and coming back","body":"<p>A Really good practice gratefull feed, is to always check that viewpager is not empty, or null. With this, see the depth of navigation, within the application, a key within the fragments is context management, in addition to the traditional &quot;this&quot; activity and another is also to manage the instances and instance keys well so that when they are retrieved. The navigation is comfortable for the user, due to the state or place where I left it or navigated previously at the fragments level.</p>\n<p><strong>In Main or Fragment</strong></p>\n<pre><code> //replace to your inflate code fragment to call viewpager \n ViewPager viewPager = findViewById(R.id.viewPager);\n            if (viewPager != null) {\n                ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\n                viewPager.setAdapter(adapter);\n            }\n</code></pre>\n<p><strong>If youre use a viepager</strong></p>\n<pre><code>pagerAdapter = new ViewPageAdapter(getChildFragmentManager());\n</code></pre>\n<p><strong>Instead of</strong></p>\n<pre><code>pagerAdapter = new ViewPageAdapter(getFragmentManager());\n</code></pre>\n<p><em>When you handle many fragments in menudrawer or material ui and different places remember to use their keys for the instances and save them to call them and recover the previous state.</em></p>\n<p>And inside or outside of viewpager, to this we add a navigation by drawer menu then the handling of instances the depth of the invocation in fragments. It is even more interesting to understand how a well-done code can malfunction if the cycles of the processes are not well managed. Retrieving the instances is the exact step of the implicit in operation.</p>\n<p>Happy code!</p>\n<p>Usefull link's:</p>\n<ul>\n<li><a href=\"https://developer.android.com/guide/fragments/lifecycle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/lifecycle</a></li>\n<li><a href=\"https://tutorialwing.com/android-viewpager-with-fragment-tutorial-with-example/\" rel=\"nofollow noreferrer\">https://tutorialwing.com/android-viewpager-with-fragment-tutorial-with-example/</a></li>\n</ul>\n"}],"owner":{"account_id":6586825,"reputation":31,"user_id":5089361,"display_name":"Abinash Neupane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35943393,"answer_count":2,"score":0,"last_activity_date":1669343526,"creation_date":1457703642,"question_id":35941761,"body_markdown":"Thanks for your interest\r\n\r\nI have faced some problem while implementing viewpager inside navigation drawer fragment. For example I have a navigation drawer with two fragments fragment1 and fragment2 as shown in the image. When the activity starts fragment1 shows its viewpager fragments fine. But When I go to fragment 2 and come back to fragment1 fragments inside viewpager just dissappears and shows blank. Please suggest some answer if you have any. \r\n\r\nScreenshots\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThanks in advance\r\n\r\nMainActivity.java\r\n \r\n\r\n    package com.ansoft.shutterbox;\r\n\r\n    import android.app.Activity;\r\n    import android.content.res.Configuration;\r\n    import android.content.res.TypedArray;\r\n    import android.os.Bundle;\r\n    import android.support.v4.app.ActionBarDrawerToggle;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.app.FragmentActivity;\r\n    import android.support.v4.widget.DrawerLayout;\r\n    import android.util.Log;\r\n    import android.support.v4.app.FragmentManager;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class MainActivity extends FragmentActivity {\r\n\r\n    public static DrawerLayout mDrawerLayout;\r\n    private ListView mDrawerList;\r\n    private ActionBarDrawerToggle mDrawerToggle;\r\n    ArrayList&lt;ListItemData&gt; data;\r\n    // nav drawer title\r\n    private CharSequence mDrawerTitle;\r\n\r\n    // used to store app title\r\n    private CharSequence mTitle;\r\n\r\n    // slide menu items\r\n    private String[] navMenuTitles;\r\n    private TypedArray navMenuIcons;\r\n\r\n    private ArrayList&lt;NavDrawerItem&gt; navDrawerItems;\r\n    private NavDrawerListAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        insertData();\r\n        mTitle = mDrawerTitle = getTitle();\r\n        navMenuTitles = getResources().getStringArray(R.array.nav_drawer_items);\r\n        navMenuIcons = getResources()\r\n                .obtainTypedArray(R.array.nav_drawer_icons);\r\n        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n        mDrawerList = (ListView) findViewById(R.id.list_slidermenu);\r\n\r\n        navDrawerItems = new ArrayList&lt;NavDrawerItem&gt;();\r\n\r\n        // adding nav drawer items to array\r\n        // Home\r\n        navDrawerItems.add(new NavDrawerItem(navMenuTitles[0], navMenuIcons.getResourceId(0, -1)));\r\n        // Find People\r\n        navDrawerItems.add(new NavDrawerItem(navMenuTitles[1], navMenuIcons.getResourceId(1, -1)));\r\n        // Photos\r\n        navDrawerItems.add(new NavDrawerItem(navMenuTitles[2], navMenuIcons.getResourceId(2, -1)));\r\n        // Communities, Will add a counter here\r\n        navDrawerItems.add(new NavDrawerItem(navMenuTitles[3], navMenuIcons.getResourceId(3, -1)));\r\n        // Pages\r\n        navDrawerItems.add(new NavDrawerItem(navMenuTitles[4], navMenuIcons.getResourceId(4, -1)));\r\n        // What&#39;s hot, We  will add a counter here\r\n        navDrawerItems.add(new NavDrawerItem(navMenuTitles[5], navMenuIcons.getResourceId(5, -1)));\r\n\r\n        navDrawerItems.add(new NavDrawerItem(navMenuTitles[6], navMenuIcons.getResourceId(6, -1)));\r\n\r\n\r\n        // Recycle the typed array\r\n        navMenuIcons.recycle();\r\n\r\n        mDrawerList.setOnItemClickListener(new SlideMenuClickListener());\r\n\r\n        // setting the nav drawer list adapter\r\n        adapter = new NavDrawerListAdapter(MainActivity.this,navDrawerItems);\r\n        mDrawerList.setAdapter(adapter);\r\n\r\n\r\n        mDrawerToggle = new ActionBarDrawerToggle(this, mDrawerLayout,\r\n                R.drawable.ic_drawer, //nav menu toggle icon\r\n                R.string.app_name, // nav drawer open - description for accessibility\r\n                R.string.app_name // nav drawer close - description for accessibility\r\n        ) {\r\n            public void onDrawerClosed(View view) {\r\n                // calling onPrepareOptionsMenu() to show action bar icons\r\n                invalidateOptionsMenu();\r\n            }\r\n\r\n            public void onDrawerOpened(View drawerView) {\r\n                // calling onPrepareOptionsMenu() to hide action bar icons\r\n                invalidateOptionsMenu();\r\n            }\r\n        };\r\n        mDrawerLayout.setDrawerListener(mDrawerToggle);\r\n\r\n        if (savedInstanceState == null) {\r\n            // on first time display view for first nav item\r\n            displayView(0);\r\n        }\r\n        int width=getResources().getDisplayMetrics().widthPixels/3;\r\n        DrawerLayout.LayoutParams params=(android.support.v4.widget.DrawerLayout.LayoutParams)mDrawerList.getLayoutParams();\r\n        params.width=width;\r\n        mDrawerList.setLayoutParams(params);\r\n    }\r\n\r\n    /**\r\n     * Slide menu item click listener\r\n     * */\r\n    private class SlideMenuClickListener implements\r\n            ListView.OnItemClickListener {\r\n        @Override\r\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position,\r\n                                long id) {\r\n            // display view for selected nav drawer item\r\n            displayView(position);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        Toast.makeText(getApplicationContext(), &quot;Resumed&quot;, Toast.LENGTH_LONG).show();\r\n        super.onResume();\r\n    }\r\n\r\n    /**\r\n     * Diplaying fragment view for selected nav drawer list item\r\n     * */\r\n    private void displayView(int position) {\r\n        // update the main content by replacing fragments\r\n        Fragment fragment = null;\r\n        switch (position) {\r\n            case 0:\r\n                fragment = new HomeFragment();\r\n                break;\r\n            case 1:\r\n                fragment = new MyProfileFragment();\r\n                break;\r\n            case 2:\r\n                fragment = new EventsFragment();\r\n                break;\r\n            case 3:\r\n                fragment = new TopUpFragment();\r\n                break;\r\n            case 4:\r\n                fragment = new InboxFragment();\r\n                break;\r\n            case 5:\r\n                fragment = new ContactUsFragment();\r\n                break;\r\n\r\n            case 6:\r\n                fragment = new SettingsFragment();\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (fragment != null) {\r\n            FragmentManager fragmentManager = getSupportFragmentManager();\r\n            fragmentManager.beginTransaction()\r\n                    .replace(R.id.frame_container, fragment).commit();\r\n\r\n            // update selected item and title, then close the drawer\r\n            mDrawerList.setItemChecked(position, true);\r\n            mDrawerList.setSelection(position);\r\n            setTitle(navMenuTitles[position]);\r\n            mDrawerLayout.closeDrawer(mDrawerList);\r\n        } else {\r\n            // error in creating fragment\r\n            Log.e(&quot;MainActivity&quot;, &quot;Error in creating fragment&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    }\r\n\r\nFragment1.java\r\n\r\n    package com.ansoft.shutterbox.Fragments;\r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.app.FragmentManager;\r\n    import android.support.v4.app.FragmentPagerAdapter;\r\n    import android.support.v4.view.ViewPager;\r\n    import android.text.Editable;\r\n    import android.text.TextWatcher;\r\n    import android.view.Gravity;\r\n    import android.view.KeyEvent;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageView;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.ScrollView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import java.util.HashMap;\r\n\r\n    public class EventsFragment extends Fragment {\r\n\r\n    public static ViewPager mViewPager;\r\n\r\n    public EventsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n\r\n\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View cv = inflater.inflate(R.layout.fragment_events, container, false);\r\n        InitializeView(cv);\r\n        ImageView icDrawer = (ImageView)cv.findViewById(R.id.ic_drawer);\r\n        icDrawer.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                MainActivity.mDrawerLayout.openDrawer(Gravity.LEFT);\r\n            }\r\n        });\r\n        adapter = new TabPagerAdapter(getFragmentManager());\r\n        mViewPager.setAdapter(adapter);\r\n        tvBacktoList.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ShowNormal();\r\n            }\r\n        });\r\n        mViewPager.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {\r\n            @Override\r\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                switch (position) {\r\n                    case 0:\r\n                        tab1.setBackgroundResource(R.drawable.bg_event_selected);\r\n                        tab2.setBackgroundColor(getResources().getColor(android.R.color.transparent));\r\n                        imgtab1.setImageResource(R.drawable.ic_list_selected);\r\n                        imgtab2.setImageResource(R.drawable.ic_calender_default);\r\n                        tvtab1.setTextColor(getResources().getColor(R.color.colorPrimary));\r\n                        tvtab2.setTextColor(getResources().getColor(R.color.white));\r\n                        break;\r\n\r\n                    case 1:\r\n                        tab2.setBackgroundResource(R.drawable.bg_event_selected);\r\n                        tab1.setBackgroundColor(getResources().getColor(android.R.color.transparent));\r\n                        imgtab1.setImageResource(R.drawable.ic_list_default);\r\n                        imgtab2.setImageResource(R.drawable.ic_calender_selected);\r\n                        tvtab1.setTextColor(getResources().getColor(R.color.white));\r\n                        tvtab2.setTextColor(getResources().getColor(R.color.colorPrimary));\r\n                        break;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onPageScrollStateChanged(int state) {\r\n\r\n            }\r\n        });\r\n        return cv;\r\n    }\r\n\r\n\r\n    class TabPagerAdapter extends FragmentPagerAdapter {\r\n\r\n        public TabPagerAdapter(FragmentManager fm) {\r\n            super(fm);\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n            switch (position) {\r\n                case 0:\r\n                    return new EventListFragment();\r\n\r\n                case 1:\r\n                    return new EventCalenderFragment();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return 2;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n    }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KHp6h.jpg","title":"VIew pager inside navigation drawer doesnt show fragment after selecting other option from navigation drawer and coming back","body":"<p>Thanks for your interest</p>\n\n<p>I have faced some problem while implementing viewpager inside navigation drawer fragment. For example I have a navigation drawer with two fragments fragment1 and fragment2 as shown in the image. When the activity starts fragment1 shows its viewpager fragments fine. But When I go to fragment 2 and come back to fragment1 fragments inside viewpager just dissappears and shows blank. Please suggest some answer if you have any. </p>\n\n<p>Screenshots\n<a href=\"https://i.stack.imgur.com/KHp6h.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KHp6h.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks in advance</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>package com.ansoft.shutterbox;\n\nimport android.app.Activity;\nimport android.content.res.Configuration;\nimport android.content.res.TypedArray;\nimport android.os.Bundle;\nimport android.support.v4.app.ActionBarDrawerToggle;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentActivity;\nimport android.support.v4.widget.DrawerLayout;\nimport android.util.Log;\nimport android.support.v4.app.FragmentManager;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends FragmentActivity {\n\npublic static DrawerLayout mDrawerLayout;\nprivate ListView mDrawerList;\nprivate ActionBarDrawerToggle mDrawerToggle;\nArrayList&lt;ListItemData&gt; data;\n// nav drawer title\nprivate CharSequence mDrawerTitle;\n\n// used to store app title\nprivate CharSequence mTitle;\n\n// slide menu items\nprivate String[] navMenuTitles;\nprivate TypedArray navMenuIcons;\n\nprivate ArrayList&lt;NavDrawerItem&gt; navDrawerItems;\nprivate NavDrawerListAdapter adapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    insertData();\n    mTitle = mDrawerTitle = getTitle();\n    navMenuTitles = getResources().getStringArray(R.array.nav_drawer_items);\n    navMenuIcons = getResources()\n            .obtainTypedArray(R.array.nav_drawer_icons);\n    mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);\n    mDrawerList = (ListView) findViewById(R.id.list_slidermenu);\n\n    navDrawerItems = new ArrayList&lt;NavDrawerItem&gt;();\n\n    // adding nav drawer items to array\n    // Home\n    navDrawerItems.add(new NavDrawerItem(navMenuTitles[0], navMenuIcons.getResourceId(0, -1)));\n    // Find People\n    navDrawerItems.add(new NavDrawerItem(navMenuTitles[1], navMenuIcons.getResourceId(1, -1)));\n    // Photos\n    navDrawerItems.add(new NavDrawerItem(navMenuTitles[2], navMenuIcons.getResourceId(2, -1)));\n    // Communities, Will add a counter here\n    navDrawerItems.add(new NavDrawerItem(navMenuTitles[3], navMenuIcons.getResourceId(3, -1)));\n    // Pages\n    navDrawerItems.add(new NavDrawerItem(navMenuTitles[4], navMenuIcons.getResourceId(4, -1)));\n    // What's hot, We  will add a counter here\n    navDrawerItems.add(new NavDrawerItem(navMenuTitles[5], navMenuIcons.getResourceId(5, -1)));\n\n    navDrawerItems.add(new NavDrawerItem(navMenuTitles[6], navMenuIcons.getResourceId(6, -1)));\n\n\n    // Recycle the typed array\n    navMenuIcons.recycle();\n\n    mDrawerList.setOnItemClickListener(new SlideMenuClickListener());\n\n    // setting the nav drawer list adapter\n    adapter = new NavDrawerListAdapter(MainActivity.this,navDrawerItems);\n    mDrawerList.setAdapter(adapter);\n\n\n    mDrawerToggle = new ActionBarDrawerToggle(this, mDrawerLayout,\n            R.drawable.ic_drawer, //nav menu toggle icon\n            R.string.app_name, // nav drawer open - description for accessibility\n            R.string.app_name // nav drawer close - description for accessibility\n    ) {\n        public void onDrawerClosed(View view) {\n            // calling onPrepareOptionsMenu() to show action bar icons\n            invalidateOptionsMenu();\n        }\n\n        public void onDrawerOpened(View drawerView) {\n            // calling onPrepareOptionsMenu() to hide action bar icons\n            invalidateOptionsMenu();\n        }\n    };\n    mDrawerLayout.setDrawerListener(mDrawerToggle);\n\n    if (savedInstanceState == null) {\n        // on first time display view for first nav item\n        displayView(0);\n    }\n    int width=getResources().getDisplayMetrics().widthPixels/3;\n    DrawerLayout.LayoutParams params=(android.support.v4.widget.DrawerLayout.LayoutParams)mDrawerList.getLayoutParams();\n    params.width=width;\n    mDrawerList.setLayoutParams(params);\n}\n\n/**\n * Slide menu item click listener\n * */\nprivate class SlideMenuClickListener implements\n        ListView.OnItemClickListener {\n    @Override\n    public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position,\n                            long id) {\n        // display view for selected nav drawer item\n        displayView(position);\n    }\n}\n\n@Override\nprotected void onResume() {\n    Toast.makeText(getApplicationContext(), \"Resumed\", Toast.LENGTH_LONG).show();\n    super.onResume();\n}\n\n/**\n * Diplaying fragment view for selected nav drawer list item\n * */\nprivate void displayView(int position) {\n    // update the main content by replacing fragments\n    Fragment fragment = null;\n    switch (position) {\n        case 0:\n            fragment = new HomeFragment();\n            break;\n        case 1:\n            fragment = new MyProfileFragment();\n            break;\n        case 2:\n            fragment = new EventsFragment();\n            break;\n        case 3:\n            fragment = new TopUpFragment();\n            break;\n        case 4:\n            fragment = new InboxFragment();\n            break;\n        case 5:\n            fragment = new ContactUsFragment();\n            break;\n\n        case 6:\n            fragment = new SettingsFragment();\n            break;\n\n        default:\n            break;\n    }\n\n    if (fragment != null) {\n        FragmentManager fragmentManager = getSupportFragmentManager();\n        fragmentManager.beginTransaction()\n                .replace(R.id.frame_container, fragment).commit();\n\n        // update selected item and title, then close the drawer\n        mDrawerList.setItemChecked(position, true);\n        mDrawerList.setSelection(position);\n        setTitle(navMenuTitles[position]);\n        mDrawerLayout.closeDrawer(mDrawerList);\n    } else {\n        // error in creating fragment\n        Log.e(\"MainActivity\", \"Error in creating fragment\");\n    }\n}\n\n\n}\n</code></pre>\n\n<p>Fragment1.java</p>\n\n<pre><code>package com.ansoft.shutterbox.Fragments;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentManager;\nimport android.support.v4.app.FragmentPagerAdapter;\nimport android.support.v4.view.ViewPager;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.view.Gravity;\nimport android.view.KeyEvent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\nimport android.widget.ScrollView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.util.HashMap;\n\npublic class EventsFragment extends Fragment {\n\npublic static ViewPager mViewPager;\n\npublic EventsFragment() {\n    // Required empty public constructor\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n\n\n    super.onCreate(savedInstanceState);\n\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View cv = inflater.inflate(R.layout.fragment_events, container, false);\n    InitializeView(cv);\n    ImageView icDrawer = (ImageView)cv.findViewById(R.id.ic_drawer);\n    icDrawer.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            MainActivity.mDrawerLayout.openDrawer(Gravity.LEFT);\n        }\n    });\n    adapter = new TabPagerAdapter(getFragmentManager());\n    mViewPager.setAdapter(adapter);\n    tvBacktoList.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            ShowNormal();\n        }\n    });\n    mViewPager.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n        }\n\n        @Override\n        public void onPageSelected(int position) {\n            switch (position) {\n                case 0:\n                    tab1.setBackgroundResource(R.drawable.bg_event_selected);\n                    tab2.setBackgroundColor(getResources().getColor(android.R.color.transparent));\n                    imgtab1.setImageResource(R.drawable.ic_list_selected);\n                    imgtab2.setImageResource(R.drawable.ic_calender_default);\n                    tvtab1.setTextColor(getResources().getColor(R.color.colorPrimary));\n                    tvtab2.setTextColor(getResources().getColor(R.color.white));\n                    break;\n\n                case 1:\n                    tab2.setBackgroundResource(R.drawable.bg_event_selected);\n                    tab1.setBackgroundColor(getResources().getColor(android.R.color.transparent));\n                    imgtab1.setImageResource(R.drawable.ic_list_default);\n                    imgtab2.setImageResource(R.drawable.ic_calender_selected);\n                    tvtab1.setTextColor(getResources().getColor(R.color.white));\n                    tvtab2.setTextColor(getResources().getColor(R.color.colorPrimary));\n                    break;\n            }\n        }\n\n        @Override\n        public void onPageScrollStateChanged(int state) {\n\n        }\n    });\n    return cv;\n}\n\n\nclass TabPagerAdapter extends FragmentPagerAdapter {\n\n    public TabPagerAdapter(FragmentManager fm) {\n        super(fm);\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        switch (position) {\n            case 0:\n                return new EventListFragment();\n\n            case 1:\n                return new EventCalenderFragment();\n        }\n        return null;\n    }\n\n    @Override\n    public int getCount() {\n        return 2;\n    }\n}\n\n@Override\npublic void onAttach(Context context) {\n    super.onAttach(context);\n}\n}\n</code></pre>\n"},{"tags":["java","android","types","casting","kotlin"],"answers":[{"tags":[],"owner":{"account_id":2527365,"reputation":142491,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1481542522,"creation_date":1481461649,"answer_id":41086509,"question_id":41086296,"body_markdown":"The key point here is that an `open` property or a property with a custom getter is not guaranteed to return the same value on successive calls to it. \r\n\r\nTherefore the compiler cannot be sure that, once the value received from the property has been checked, it is safe to assume that it will return the same object or even an object of the same type if called again.\r\n\r\nExample (quite simplified and synthetic, though):\r\n\r\n    open class Base {\r\n        open val value: List&lt;Int&gt; = ArrayList()\r\n    }\r\n\r\n    val b : Base = foo()\r\n\r\n    fun printArrayList(list: ArrayList&lt;Int&gt;) { /* ... */ }\r\n    \r\n    if (b.value is ArrayList) { // first call\r\n        printArrayList(b.value) // second call, smart cast is impossible\r\n    }\r\n\r\nThis code won&#39;t compile, because `printArrayList()` expects an `ArrayList` and  `b.value` is `open` -- that&#39;s what you get in your code. Now, let&#39;s make up a derived class that demonstrates what could go wrong:\r\n\r\n    class Derived : Base() {\r\n        private var counter = 0\r\n        \r\n        override val value: List&lt;Int&gt;\r\n            get() {\r\n                ++counter\r\n                return if (counter % 2 == 0)\r\n                    ArrayList() else\r\n                    LinkedList()\r\n            }\r\n    }\r\n\r\n    val b = Derived()\r\n    println(b.value.javaClass) // class java.util.LinkedList\r\n    println(b.value.javaClass) // class java.util.ArrayList\r\n\r\nHere it is quite clear that if a property is `open`, it can be overridden in a way that successive calls to it return different values. In the example with `printArrayList()` there are two such calls. That&#39;s why the smart cast would not be safe. The same is true for properties with custom getters.\r\n\r\nYour example which performed an `as`-cast inside the `if` block worked because the cast would fail and throw a `ClassCastException` if the property returned a different value of a non-compatible type on the second call, and this would preserve type safety.\r\n\r\nAnd, on contrary, if a `val` property is not `open` and has a default getter that simply returns the value of the [backing field][1] (which is `final` in this case), the compiler can safely perform a smart cast: if you get the value of the property several times it is certain to be the same.\r\n\r\n&lt;hr&gt;\r\n\r\nAn alternative is to get the value once, store it in a local variable and use it several times instead of using the property again:\r\n\r\n    val list = b.value\r\n\r\n    if (list is ArrayList) {\r\n        printArrayList(list) // smart cast to ArrayList\r\n    }\r\n\r\nNow, no matter if a property is `open`, there is only one call to its getter, and the code then operates with the value the call returned. Since it cannot change, the smart cast is possible here.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/properties.html#backing-fields","title":"Smartcast is impossible because property has open or custom getter","body":"<p>The key point here is that an <code>open</code> property or a property with a custom getter is not guaranteed to return the same value on successive calls to it. </p>\n\n<p>Therefore the compiler cannot be sure that, once the value received from the property has been checked, it is safe to assume that it will return the same object or even an object of the same type if called again.</p>\n\n<p>Example (quite simplified and synthetic, though):</p>\n\n<pre><code>open class Base {\n    open val value: List&lt;Int&gt; = ArrayList()\n}\n\nval b : Base = foo()\n\nfun printArrayList(list: ArrayList&lt;Int&gt;) { /* ... */ }\n\nif (b.value is ArrayList) { // first call\n    printArrayList(b.value) // second call, smart cast is impossible\n}\n</code></pre>\n\n<p>This code won't compile, because <code>printArrayList()</code> expects an <code>ArrayList</code> and  <code>b.value</code> is <code>open</code> -- that's what you get in your code. Now, let's make up a derived class that demonstrates what could go wrong:</p>\n\n<pre><code>class Derived : Base() {\n    private var counter = 0\n\n    override val value: List&lt;Int&gt;\n        get() {\n            ++counter\n            return if (counter % 2 == 0)\n                ArrayList() else\n                LinkedList()\n        }\n}\n\nval b = Derived()\nprintln(b.value.javaClass) // class java.util.LinkedList\nprintln(b.value.javaClass) // class java.util.ArrayList\n</code></pre>\n\n<p>Here it is quite clear that if a property is <code>open</code>, it can be overridden in a way that successive calls to it return different values. In the example with <code>printArrayList()</code> there are two such calls. That's why the smart cast would not be safe. The same is true for properties with custom getters.</p>\n\n<p>Your example which performed an <code>as</code>-cast inside the <code>if</code> block worked because the cast would fail and throw a <code>ClassCastException</code> if the property returned a different value of a non-compatible type on the second call, and this would preserve type safety.</p>\n\n<p>And, on contrary, if a <code>val</code> property is not <code>open</code> and has a default getter that simply returns the value of the <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"noreferrer\">backing field</a> (which is <code>final</code> in this case), the compiler can safely perform a smart cast: if you get the value of the property several times it is certain to be the same.</p>\n\n<hr>\n\n<p>An alternative is to get the value once, store it in a local variable and use it several times instead of using the property again:</p>\n\n<pre><code>val list = b.value\n\nif (list is ArrayList) {\n    printArrayList(list) // smart cast to ArrayList\n}\n</code></pre>\n\n<p>Now, no matter if a property is <code>open</code>, there is only one call to its getter, and the code then operates with the value the call returned. Since it cannot change, the smart cast is possible here.</p>\n"},{"tags":[],"owner":{"account_id":6741122,"reputation":533,"user_id":5194344,"accept_rate":0,"display_name":"Shyam Sunder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1551476688,"creation_date":1551476688,"answer_id":54952714,"question_id":41086296,"body_markdown":"instead of using activity directly which is a nullable object I did this which worked\r\n\r\n    activity?.let{\r\n       if(it is ScreenRouter) {\r\n          decoupler.attachRouter(it)\r\n       }\r\n    }\r\n\r\n","title":"Smartcast is impossible because property has open or custom getter","body":"<p>instead of using activity directly which is a nullable object I did this which worked</p>\n\n<pre><code>activity?.let{\n   if(it is ScreenRouter) {\n      decoupler.attachRouter(it)\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735960,"reputation":893,"user_id":7219194,"display_name":"konnovdev"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1669343208,"creation_date":1669343208,"answer_id":74567802,"question_id":41086296,"body_markdown":"Not related directly to this code snippet, but a common case is if you have a **state** inside of **ViewModel** defined as follows:\r\n\r\n        private val _state = MutableStateFlow&lt;CardScreenState&gt;(CardScreenState.Loading)\r\n        val state: StateFlow&lt;CardScreenState&gt; = _state\r\n\r\nThen when you use this **state** in a **when** clause\r\n\r\n     when (state) {\r\nYou&#39;ll get the same error.\r\n\r\nHere as the solution you can make a state variable with immutable getter like this:\r\n\r\n        when (val screenState = state) {","title":"Smartcast is impossible because property has open or custom getter","body":"<p>Not related directly to this code snippet, but a common case is if you have a <strong>state</strong> inside of <strong>ViewModel</strong> defined as follows:</p>\n<pre><code>    private val _state = MutableStateFlow&lt;CardScreenState&gt;(CardScreenState.Loading)\n    val state: StateFlow&lt;CardScreenState&gt; = _state\n</code></pre>\n<p>Then when you use this <strong>state</strong> in a <strong>when</strong> clause</p>\n<pre><code> when (state) {\n</code></pre>\n<p>You'll get the same error.</p>\n<p>Here as the solution you can make a state variable with immutable getter like this:</p>\n<pre><code>    when (val screenState = state) {\n</code></pre>\n"}],"owner":{"account_id":4736415,"reputation":9019,"user_id":3830694,"accept_rate":78,"display_name":"Krupal Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22500,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":41086509,"answer_count":3,"score":60,"last_activity_date":1669343208,"creation_date":1481460258,"question_id":41086296,"body_markdown":"I am learning Kotlin. My code is as follows:\r\n\r\n\r\n\r\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        decoupler.attachNotifier(this)\r\n        if(activity is ScreenRouter) {\r\n            decoupler.attachRouter(activity)\r\n        }\r\n    }\r\n\r\n`attachRouter()` method: \r\n\r\n     fun attachRouter(router: ScreenRouter?) {\r\n        this.router = router\r\n    }\r\n\r\nAs written in [documentation][1], kotlin automatically casts to type after checking with is operator. So, I expected that it would work. But instead it bothers me with compilation error saying : \r\n\r\n**Smartcast to `ScreenRouter` is impossible because `activity` is a property that has open or custom getter.**\r\n\r\nI thought maybe error is because activity can be nullable so I tried:\r\n\r\n    if(activity!=null &amp;&amp; activity is ScreenRouter) {\r\n         decoupler.attachRouter(activity)\r\n    }\r\nBut it didn&#39;t work and compilation failed with same error.\r\n\r\n \r\nHowever, following code works fine:\r\n\r\n    if(activity is ScreenRouter) {\r\n        decoupler.attachRouter(activity as ScreenRouter)\r\n    }\r\nIts okay but above error doesn&#39;t seem to explain anything about why smartcast fails. I am not a Kotlin expert, I&#39;m just a beginner learning Kotlin. I found no documentation anywhere. These kind of error descriptions makes Kotlin horrible to learn. Can anyone explain in simple terms?\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/typecasts.html\r\n","title":"Smartcast is impossible because property has open or custom getter","body":"<p>I am learning Kotlin. My code is as follows:</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    decoupler.attachNotifier(this)\n    if(activity is ScreenRouter) {\n        decoupler.attachRouter(activity)\n    }\n}\n</code></pre>\n\n<p><code>attachRouter()</code> method: </p>\n\n<pre><code> fun attachRouter(router: ScreenRouter?) {\n    this.router = router\n}\n</code></pre>\n\n<p>As written in <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"noreferrer\">documentation</a>, kotlin automatically casts to type after checking with is operator. So, I expected that it would work. But instead it bothers me with compilation error saying : </p>\n\n<p><strong>Smartcast to <code>ScreenRouter</code> is impossible because <code>activity</code> is a property that has open or custom getter.</strong></p>\n\n<p>I thought maybe error is because activity can be nullable so I tried:</p>\n\n<pre><code>if(activity!=null &amp;&amp; activity is ScreenRouter) {\n     decoupler.attachRouter(activity)\n}\n</code></pre>\n\n<p>But it didn't work and compilation failed with same error.</p>\n\n<p>However, following code works fine:</p>\n\n<pre><code>if(activity is ScreenRouter) {\n    decoupler.attachRouter(activity as ScreenRouter)\n}\n</code></pre>\n\n<p>Its okay but above error doesn't seem to explain anything about why smartcast fails. I am not a Kotlin expert, I'm just a beginner learning Kotlin. I found no documentation anywhere. These kind of error descriptions makes Kotlin horrible to learn. Can anyone explain in simple terms?</p>\n"},{"tags":["java","servlets","httprequest"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669285976,"post_id":74559065,"comment_id":131612297,"body_markdown":"They aren&#39;t the same and thus fail. You are sending a form from postman and json from your java part. Those are totally different things and thus it fails.","body":"They aren&#39;t the same and thus fail. You are sending a form from postman and json from your java part. Those are totally different things and thus it fails."},{"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"score":0,"creation_date":1669298931,"post_id":74559065,"comment_id":131616674,"body_markdown":"I appreciate your input and would appreciate any kind of point-me-in-the-right-direction help / example / link or anything","body":"I appreciate your input and would appreciate any kind of point-me-in-the-right-direction help / example / link or anything"}],"answers":[{"tags":[],"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669342821,"creation_date":1669342821,"answer_id":74567771,"question_id":74559065,"body_markdown":"Wanted to post an answer to my problem for anyone doing the same thing the wrong way.\r\n\r\nYes, instead of JSON I needed to send the data as String parameter, see following code ---&gt;\r\n\r\n(Special thanks to *M. Deinum* for pointing it out)\r\n\r\n\r\n    //CONFIGURE CONNECTION\r\n    proxyConnection.setRequestMethod(method);\r\n    proxyConnection.setDoInput(true);\r\n    proxyConnection.setDoOutput(true);\r\n    \r\n            \r\n    // JsonObject parent = new JsonObject();\r\n    // parent.addProperty(&quot;client_id&quot;, &quot;clientXXY&quot;);\r\n    // parent.addProperty(&quot;client_secret&quot;, &quot;jxx.2221122&quot;);\r\n    // parent.addProperty(&quot;username&quot;, &quot;API.PRODTEST&quot;);\r\n    // parent.addProperty(&quot;password&quot;, &quot;kkGGkkGGEEee1&quot;);\r\n            \r\n    // OutputStream os = proxyConnection.getOutputStream();\r\n    // os.write(parent.toString().getBytes(&quot;UTF-8&quot;));\r\n    // os.close();\r\n    \r\n\r\n            String proxyQuery = &quot;client_id=x&amp;client_secret=x&amp;grant_type=password&amp;username=API.x&amp;password=x&amp;acr_values=&quot;;\r\n\t\r\n\t\t\tbyte[] postData = proxyQuery.getBytes( StandardCharsets.UTF_8 );\r\n\t\t\tint postDataLength = postData.length;\r\n\t\t\t \r\n\t\t\tproxyConnection.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n\t\t\tproxyConnection.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(postDataLength ));\r\n\t\t\tproxyConnection.setUseCaches(false);\r\n\t\t\ttry(DataOutputStream wr = new DataOutputStream(proxyConnection.getOutputStream())) {\r\n\t\t\t   wr.write( postData );\r\n\t\t\t}\r\n\r\n\r\n    //ESTABLISH CONNECTION\r\n    proxyConnection.connect();","title":"Java HttpServlet Body &quot;HTTP/1.1 400 Bad Request&quot; POST","body":"<p>Wanted to post an answer to my problem for anyone doing the same thing the wrong way.</p>\n<p>Yes, instead of JSON I needed to send the data as String parameter, see following code ---&gt;</p>\n<p>(Special thanks to <em>M. Deinum</em> for pointing it out)</p>\n<pre><code>//CONFIGURE CONNECTION\nproxyConnection.setRequestMethod(method);\nproxyConnection.setDoInput(true);\nproxyConnection.setDoOutput(true);\n\n        \n// JsonObject parent = new JsonObject();\n// parent.addProperty(&quot;client_id&quot;, &quot;clientXXY&quot;);\n// parent.addProperty(&quot;client_secret&quot;, &quot;jxx.2221122&quot;);\n// parent.addProperty(&quot;username&quot;, &quot;API.PRODTEST&quot;);\n// parent.addProperty(&quot;password&quot;, &quot;kkGGkkGGEEee1&quot;);\n        \n// OutputStream os = proxyConnection.getOutputStream();\n// os.write(parent.toString().getBytes(&quot;UTF-8&quot;));\n// os.close();\n\n\n        String proxyQuery = &quot;client_id=x&amp;client_secret=x&amp;grant_type=password&amp;username=API.x&amp;password=x&amp;acr_values=&quot;;\n\n        byte[] postData = proxyQuery.getBytes( StandardCharsets.UTF_8 );\n        int postDataLength = postData.length;\n         \n        proxyConnection.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\n        proxyConnection.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(postDataLength ));\n        proxyConnection.setUseCaches(false);\n        try(DataOutputStream wr = new DataOutputStream(proxyConnection.getOutputStream())) {\n           wr.write( postData );\n        }\n\n\n//ESTABLISH CONNECTION\nproxyConnection.connect();\n</code></pre>\n"}],"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669342821,"creation_date":1669285032,"question_id":74559065,"body_markdown":"Problem: I get &quot;Bad Request&quot; when trying to replicate my *working* Postman example...\r\n\r\nI have my Java HttpServlet setup to send a POST-Request.\r\n\r\nI can do the request in *Postman* no problem:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n...but in my Java-Environment I get the &quot;Bad Request 400&quot; error -&gt; \r\n\r\n\r\n    //CONFIGURE CONNECTION\r\n\tproxyConnection.setRequestMethod(method);\r\n\tproxyConnection.setDoInput(true);\r\n\tproxyConnection.setDoOutput(true);\r\n\r\n\t\t\t\r\n\tJsonObject parent = new JsonObject();\r\n\tparent.addProperty(&quot;client_id&quot;, &quot;clientXXY&quot;);\r\n\tparent.addProperty(&quot;client_secret&quot;, &quot;jxx.2221122&quot;);\r\n\tparent.addProperty(&quot;username&quot;, &quot;API.PRODTEST&quot;);\r\n\tparent.addProperty(&quot;password&quot;, &quot;kkGGkkGGEEee1&quot;);\r\n\t\t\t\r\n\tOutputStream os = proxyConnection.getOutputStream();\r\n\tos.write(parent.toString().getBytes(&quot;UTF-8&quot;));\r\n\tos.close();\r\n\r\n    //ESTABLISH CONNECTION\r\n\tproxyConnection.connect();\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    // ----&gt; this throws &quot;Bad Request&quot;\r\n    System.out.println(&quot;ret mess &quot; + proxyConnection.getResponseMessage() );\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OfCxd.png\r\n  [2]: https://i.stack.imgur.com/Q1YDj.png","title":"Java HttpServlet Body &quot;HTTP/1.1 400 Bad Request&quot; POST","body":"<p>Problem: I get &quot;Bad Request&quot; when trying to replicate my <em>working</em> Postman example...</p>\n<p>I have my Java HttpServlet setup to send a POST-Request.</p>\n<p>I can do the request in <em>Postman</em> no problem:</p>\n<p><a href=\"https://i.stack.imgur.com/OfCxd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OfCxd.png\" alt=\"enter image description here\" /></a></p>\n<p>...but in my Java-Environment I get the &quot;Bad Request 400&quot; error -&gt;</p>\n<pre><code>//CONFIGURE CONNECTION\nproxyConnection.setRequestMethod(method);\nproxyConnection.setDoInput(true);\nproxyConnection.setDoOutput(true);\n\n        \nJsonObject parent = new JsonObject();\nparent.addProperty(&quot;client_id&quot;, &quot;clientXXY&quot;);\nparent.addProperty(&quot;client_secret&quot;, &quot;jxx.2221122&quot;);\nparent.addProperty(&quot;username&quot;, &quot;API.PRODTEST&quot;);\nparent.addProperty(&quot;password&quot;, &quot;kkGGkkGGEEee1&quot;);\n        \nOutputStream os = proxyConnection.getOutputStream();\nos.write(parent.toString().getBytes(&quot;UTF-8&quot;));\nos.close();\n\n//ESTABLISH CONNECTION\nproxyConnection.connect();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Q1YDj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q1YDj.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>// ----&gt; this throws &quot;Bad Request&quot;\nSystem.out.println(&quot;ret mess &quot; + proxyConnection.getResponseMessage() );\n</code></pre>\n"},{"tags":["java","list","random"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1669340359,"post_id":74567591,"comment_id":131625862,"body_markdown":"What I could do is think about it backwards, that is, you have 20 places in which five ships can be placed.  I&#39;d place all the positions in a `List` of some kind, randomise it and then just pop the first five.  This is overly simplistic and makes a number of assumptions, but might be a starting point","body":"What I could do is think about it backwards, that is, you have 20 places in which five ships can be placed.  I&#39;d place all the positions in a <code>List</code> of some kind, randomise it and then just pop the first five.  This is overly simplistic and makes a number of assumptions, but might be a starting point"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":1,"creation_date":1669340754,"post_id":74567591,"comment_id":131625897,"body_markdown":"you can use collections.shuffle","body":"you can use collections.shuffle"}],"answers":[{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669342708,"creation_date":1669342708,"answer_id":74567760,"question_id":74567591,"body_markdown":"As MadProgrammer has mentioned. You can use a list of numbers to store the position. \r\n```\r\nList&lt;Integer&gt; = list of 0 to 19 to indicate position. \r\n```\r\nThen in that list, loop 5 times. \r\nEvery loop, pick a random number between 0 to **the size of the list** (the size of the list decreases every loop). \r\nUse this random number as index to pick from the list. \r\nThen remove the list at the index you obtained earlier. The list will auto compact itself i.e. the subsequent elements are shifted to the left by one place\r\n\r\nFor example you might pick list.get(3) of which the value is 3 also in the beginning. Then you remove/delete this index from the list. The next random number may be 4, so you pick list.get(4) of which the value is 5. And so on. ","title":"How to place 5 ships randomly in a list of 20 positions for battleship game?","body":"<p>As MadProgrammer has mentioned. You can use a list of numbers to store the position.</p>\n<pre><code>List&lt;Integer&gt; = list of 0 to 19 to indicate position. \n</code></pre>\n<p>Then in that list, loop 5 times.\nEvery loop, pick a random number between 0 to <strong>the size of the list</strong> (the size of the list decreases every loop).\nUse this random number as index to pick from the list.\nThen remove the list at the index you obtained earlier. The list will auto compact itself i.e. the subsequent elements are shifted to the left by one place</p>\n<p>For example you might pick list.get(3) of which the value is 3 also in the beginning. Then you remove/delete this index from the list. The next random number may be 4, so you pick list.get(4) of which the value is 5. And so on.</p>\n"}],"owner":{"account_id":27040241,"reputation":1,"user_id":20595145,"display_name":"Jose Carvajal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669342708,"creation_date":1669340235,"question_id":74567591,"body_markdown":"I need to put 5 ships randomly (numbers 1 to 5 witout repetition) in a list of 20 positions. I need to place a 0 where no ships are placed.\r\n[e.g](https://i.stack.imgur.com/tifKR.png)\r\nPlease, I&#39;m stuck here!\r\n\r\n```\r\nfor (int i = 0; i &lt; barcosComputadora.length; i++) {\r\n            if (i &gt; 0) {\r\n                barcosComputadora[i] = rnd.nextInt(6);\r\n\r\n            }\r\n        }\r\n    \r\n\r\n    static void imprimirArreglo(int[] pValores) {\r\n        for (int i = 0; i &lt; pValores.length; i++) {\r\n            out.print(pValores[i] + &quot;\\t&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        int tam = 20;\r\n\r\n        // tam = rnd.nextInt(20);\r\n        int barcosComputadora[] = new int[tam];\r\n        inicializarBarcosComputadora(barcosComputadora);\r\n        out.println(&quot;\\nValores del arreglo: &quot;);\r\n        imprimirArreglo(barcosComputadora);\r\n    }\r\n\r\n\r\nI got something like this:\r\n\r\n0       0       5       2       2       0       2       2       5       2       1       0       0       4       5       3       0       0       3       4\r\n","title":"How to place 5 ships randomly in a list of 20 positions for battleship game?","body":"<p>I need to put 5 ships randomly (numbers 1 to 5 witout repetition) in a list of 20 positions. I need to place a 0 where no ships are placed.\n<a href=\"https://i.stack.imgur.com/tifKR.png\" rel=\"nofollow noreferrer\">e.g</a>\nPlease, I'm stuck here!</p>\n<pre><code>for (int i = 0; i &lt; barcosComputadora.length; i++) {\n            if (i &gt; 0) {\n                barcosComputadora[i] = rnd.nextInt(6);\n\n            }\n        }\n    \n\n    static void imprimirArreglo(int[] pValores) {\n        for (int i = 0; i &lt; pValores.length; i++) {\n            out.print(pValores[i] + &quot;\\t&quot;);\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        int tam = 20;\n\n        // tam = rnd.nextInt(20);\n        int barcosComputadora[] = new int[tam];\n        inicializarBarcosComputadora(barcosComputadora);\n        out.println(&quot;\\nValores del arreglo: &quot;);\n        imprimirArreglo(barcosComputadora);\n    }\n\n\nI got something like this:\n\n0       0       5       2       2       0       2       2       5       2       1       0       0       4       5       3       0       0       3       4\n</code></pre>\n"},{"tags":["java","machine-learning","weka","feature-engineering"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669342542,"creation_date":1669342542,"answer_id":74567751,"question_id":74540865,"body_markdown":"Weka&#39;s [ARFF format](https://waikato.github.io/weka-wiki/formats_and_processing/arff_stable/) does not offer an attribute type that would allow you to encapsulate an ordered vector. Attributes are basically independent columns and the [relational attribute type](https://waikato.github.io/weka-wiki/formats_and_processing/arff_stable/#relational-attributes) does not enforce an ordering either.\r\n\r\nYour data sounds more like a time series. If that is the case, you could look a the [time series support in Weka](https://pentaho-community.atlassian.net/wiki/spaces/DATAMINING/pages/293700841/Time+Series+Analysis+and+Forecasting+with+Weka).\r\n\r\nIf your data does not represent a time series, then you may have to fall back on feature engineering. You can use the [AddExpression](https://weka.sourceforge.io/doc.dev/weka/filters/unsupervised/attribute/AddExpression.html) filter for creating new attributes based on values from other attributes (e.g., difference between two attributes).\r\n\r\nWith the [MultiFilter](https://weka.sourceforge.io/doc.dev/weka/filters/MultiFilter.html) you can combine an arbitrary number of filters into a single one. Which you then can use in conjunction with the [FilteredClassifier](https://weka.sourceforge.io/doc.dev/weka/classifiers/meta/FilteredClassifier.html) meta-classifier.","title":"Can I have a vector attribute in WEKA?","body":"<p>Weka's <a href=\"https://waikato.github.io/weka-wiki/formats_and_processing/arff_stable/\" rel=\"nofollow noreferrer\">ARFF format</a> does not offer an attribute type that would allow you to encapsulate an ordered vector. Attributes are basically independent columns and the <a href=\"https://waikato.github.io/weka-wiki/formats_and_processing/arff_stable/#relational-attributes\" rel=\"nofollow noreferrer\">relational attribute type</a> does not enforce an ordering either.</p>\n<p>Your data sounds more like a time series. If that is the case, you could look a the <a href=\"https://pentaho-community.atlassian.net/wiki/spaces/DATAMINING/pages/293700841/Time+Series+Analysis+and+Forecasting+with+Weka\" rel=\"nofollow noreferrer\">time series support in Weka</a>.</p>\n<p>If your data does not represent a time series, then you may have to fall back on feature engineering. You can use the <a href=\"https://weka.sourceforge.io/doc.dev/weka/filters/unsupervised/attribute/AddExpression.html\" rel=\"nofollow noreferrer\">AddExpression</a> filter for creating new attributes based on values from other attributes (e.g., difference between two attributes).</p>\n<p>With the <a href=\"https://weka.sourceforge.io/doc.dev/weka/filters/MultiFilter.html\" rel=\"nofollow noreferrer\">MultiFilter</a> you can combine an arbitrary number of filters into a single one. Which you then can use in conjunction with the <a href=\"https://weka.sourceforge.io/doc.dev/weka/classifiers/meta/FilteredClassifier.html\" rel=\"nofollow noreferrer\">FilteredClassifier</a> meta-classifier.</p>\n"}],"owner":{"account_id":24148383,"reputation":3,"user_id":18146163,"display_name":"JackMaahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74567751,"answer_count":1,"score":0,"last_activity_date":1669342542,"creation_date":1669167535,"question_id":74540865,"body_markdown":"I am new to WEKA/machine learning and I am trying to create a model in which a single feature is a vector of 8 integers (ranging from 0-11) containing information of past choices. For example, [0,1,8,4,4,2,2,6] would mean that 0 was chosen in the last iteration, 1 was chosen two iterations ago, etc. Each choice has an impact on the next in this case and the order is important.\r\n\r\nI was wondering if it is possible to represent this in WEKA as a feature. I am currently representing them as individual features but this does not make the relation or order between the values obvious and I was wondering if there is a better way to do it. Any input is appreciated, thanks!\r\n","title":"Can I have a vector attribute in WEKA?","body":"<p>I am new to WEKA/machine learning and I am trying to create a model in which a single feature is a vector of 8 integers (ranging from 0-11) containing information of past choices. For example, [0,1,8,4,4,2,2,6] would mean that 0 was chosen in the last iteration, 1 was chosen two iterations ago, etc. Each choice has an impact on the next in this case and the order is important.</p>\n<p>I was wondering if it is possible to represent this in WEKA as a feature. I am currently representing them as individual features but this does not make the relation or order between the values obvious and I was wondering if there is a better way to do it. Any input is appreciated, thanks!</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1669139317,"post_id":74536950,"comment_id":131574696,"body_markdown":"Why not work? Explain what happens **in your question** when you try to run your code.","body":"Why not work? Explain what happens <b>in your question</b> when you try to run your code."},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1669140218,"post_id":74536950,"comment_id":131575012,"body_markdown":"The persistent entity for java timestamp couldn&#39;t be found.","body":"The persistent entity for java timestamp couldn&#39;t be found."},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1669240969,"post_id":74536950,"comment_id":131602658,"body_markdown":"I think the problem with my code is in the `return type` of my `findDates()` method. If I limit the number of returned `date` record using `nativeQuery`  to just one, it works. But I actually intended to return a list, of which it continuously fails with the error message `couldn&#39;t find persistentEntity for type class java.sql.TimeStamp...`","body":"I think the problem with my code is in the <code>return type</code> of my <code>findDates()</code> method. If I limit the number of returned <code>date</code> record using <code>nativeQuery</code>  to just one, it works. But I actually intended to return a list, of which it continuously fails with the error message <code>couldn&#39;t find persistentEntity for type class java.sql.TimeStamp...</code>"}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669342123,"creation_date":1669342123,"answer_id":74567717,"question_id":74536950,"body_markdown":"I was able to use your models almost without modification, I converted your primitives to wrapped versions.  I&#39;m not sure which Date you&#39;re using, but this should work with either `java.util.Date` or `java.sql.Date`.  I used `java.util.Date` for this example.\r\n\r\nOn your DAO, I used the declarative property-driven approach as opposed to writing JPQL.  I only use JPQL if the queries are complex.\r\n\r\n    public interface SubjectRepository extends JpaRepository&lt;Subject, Integer&gt; {\r\n       \tList&lt;DatesOnly&gt; findAllByCategoryId(Integer categoryId);\r\n    }\r\n\r\nI threw together a simple controller just to set up some test data.\r\n\r\n\t@RestController\r\n\t@RequestMapping(&quot;/subject&quot;)\r\n\tpublic class SubjectController {\r\n\t\tprivate final SubjectRepository subjectRepository;\r\n\t\r\n\t\tpublic SubjectController(SubjectRepository subjectRepository) {\r\n\t\t\tthis.subjectRepository = subjectRepository;\r\n\t\t}\r\n\t\r\n\t\t@PostMapping\r\n\t\tpublic Subject createSubject(@RequestBody Subject subject) {\r\n\t\t\treturn subjectRepository.save(subject);\r\n\t\t}\r\n\t\r\n\t\t@GetMapping(&quot;/{id}&quot;)\r\n\t\tpublic List&lt;DatesOnly&gt; getDates(@PathVariable Integer id) {\r\n\t\t\treturn subjectRepository.findAllByCategoryId(id);\r\n\t\t}\r\n\t}\r\n\r\nI initialized the database `Category` table with a single record (I added the name field just to have some data in the table).\r\n\r\n    insert into category(name) values (&#39;test&#39;)\r\n\r\nI posted the following to /subject (see controller).  I posted this five times to have some sample data.\r\n\r\n    {\r\n        &quot;category&quot;: {\r\n            &quot;id&quot;: 1\r\n        },\r\n        &quot;date&quot;: &quot;2022-11-24T19:07:19.097303&quot;\r\n    }\r\n\r\nNext I hit the `GET` endpoint (localhost:8080/subject/1) with the `id` of the Category to get back the `List&lt;DatesOnly&gt;`.  You can see the projection works just as we&#39;d expect.\r\n\r\n    [\r\n      {\r\n        &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\r\n      },\r\n      {\r\n        &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\r\n      },\r\n      {\r\n        &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\r\n      },\r\n      {\r\n        &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\r\n      },\r\n      {\r\n        &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\r\n      }\r\n    ]\r\n\r\nIf you&#39;re absolutely deadset on using JPQL, you can, here is a very slight modification to your query to make this work.  You&#39;ll find that I dropped the `s.date` because that query just returns a collection of Dates, but your projection calls for the response to have a `getDate()` method, which is lacking when you just return a collection of Dates.  So, return from the query a collection of `Subject`, this will have the `getDate()` method the projection requires.\r\n\r\n\t@Query(&quot;Select s from Subject s Where s.category.id=:id&quot;)\r\n\tList&lt;DatesOnly&gt; findDatesProjectedBySomeId(Integer id);\r\n\r\nHere are a few things you should consider:\r\n\r\n1.  You have @RequestParam added to your repository method; drop this as it does nothing.\r\n2. Don&#39;t mix primitives and wrapped types.  It will work, but it causes unnecessary boxing and unboxing.  If you&#39;re working with JPA entities, I prefer always to use the wrapped type because they are nullable, whereas the primitives are not.\r\n3.  In `Subject`, consider not naming your field `date`; this is a reserved word in almost every DBMS and I&#39;m pretty shocked that I was even allowed to create a table with this as the name of a column.\r\n4.  On your OneToMany/ManyToOne, you should annotate them with JsonManagedReference and JsonBackReference or you&#39;re going to probably end up with a StackOverflow when these data are serialized.\r\n\r\n","title":"How do I return a list of entity&#39;s instance with either jpql or jpa","body":"<p>I was able to use your models almost without modification, I converted your primitives to wrapped versions.  I'm not sure which Date you're using, but this should work with either <code>java.util.Date</code> or <code>java.sql.Date</code>.  I used <code>java.util.Date</code> for this example.</p>\n<p>On your DAO, I used the declarative property-driven approach as opposed to writing JPQL.  I only use JPQL if the queries are complex.</p>\n<pre><code>public interface SubjectRepository extends JpaRepository&lt;Subject, Integer&gt; {\n    List&lt;DatesOnly&gt; findAllByCategoryId(Integer categoryId);\n}\n</code></pre>\n<p>I threw together a simple controller just to set up some test data.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/subject&quot;)\npublic class SubjectController {\n    private final SubjectRepository subjectRepository;\n\n    public SubjectController(SubjectRepository subjectRepository) {\n        this.subjectRepository = subjectRepository;\n    }\n\n    @PostMapping\n    public Subject createSubject(@RequestBody Subject subject) {\n        return subjectRepository.save(subject);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public List&lt;DatesOnly&gt; getDates(@PathVariable Integer id) {\n        return subjectRepository.findAllByCategoryId(id);\n    }\n}\n</code></pre>\n<p>I initialized the database <code>Category</code> table with a single record (I added the name field just to have some data in the table).</p>\n<pre><code>insert into category(name) values ('test')\n</code></pre>\n<p>I posted the following to /subject (see controller).  I posted this five times to have some sample data.</p>\n<pre><code>{\n    &quot;category&quot;: {\n        &quot;id&quot;: 1\n    },\n    &quot;date&quot;: &quot;2022-11-24T19:07:19.097303&quot;\n}\n</code></pre>\n<p>Next I hit the <code>GET</code> endpoint (localhost:8080/subject/1) with the <code>id</code> of the Category to get back the <code>List&lt;DatesOnly&gt;</code>.  You can see the projection works just as we'd expect.</p>\n<pre><code>[\n  {\n    &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\n  },\n  {\n    &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\n  },\n  {\n    &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\n  },\n  {\n    &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\n  },\n  {\n    &quot;date&quot;: &quot;2022-11-24T19:07:19.097+00:00&quot;\n  }\n]\n</code></pre>\n<p>If you're absolutely deadset on using JPQL, you can, here is a very slight modification to your query to make this work.  You'll find that I dropped the <code>s.date</code> because that query just returns a collection of Dates, but your projection calls for the response to have a <code>getDate()</code> method, which is lacking when you just return a collection of Dates.  So, return from the query a collection of <code>Subject</code>, this will have the <code>getDate()</code> method the projection requires.</p>\n<pre><code>@Query(&quot;Select s from Subject s Where s.category.id=:id&quot;)\nList&lt;DatesOnly&gt; findDatesProjectedBySomeId(Integer id);\n</code></pre>\n<p>Here are a few things you should consider:</p>\n<ol>\n<li>You have @RequestParam added to your repository method; drop this as it does nothing.</li>\n<li>Don't mix primitives and wrapped types.  It will work, but it causes unnecessary boxing and unboxing.  If you're working with JPA entities, I prefer always to use the wrapped type because they are nullable, whereas the primitives are not.</li>\n<li>In <code>Subject</code>, consider not naming your field <code>date</code>; this is a reserved word in almost every DBMS and I'm pretty shocked that I was even allowed to create a table with this as the name of a column.</li>\n<li>On your OneToMany/ManyToOne, you should annotate them with JsonManagedReference and JsonBackReference or you're going to probably end up with a StackOverflow when these data are serialized.</li>\n</ol>\n"}],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74567717,"answer_count":1,"score":1,"last_activity_date":1669342123,"creation_date":1669138917,"question_id":74536950,"body_markdown":"I have a ```Subject``` class which references ```Category``` class. The ```Subject``` class has this simplified signature:\r\n```\r\n@Entity\r\n@Table(name=&quot;Subject&quot;)\r\npublic class Subject{\r\n\r\n//Omitted codes\r\n@Column(name = &quot;date&quot;)\r\npublic Date date;\r\n\r\n@ManyToOne\r\n@JoinColumn(name=&quot;course_category&quot;, nullable=false)\r\nprivate Category category;\r\n//Omitted codes\r\n\r\n}\r\n```\r\n\r\nThe ```Category``` is like this:\r\n```\r\n@Entity\r\n@Table(name=&quot;Category&quot;)\r\npublic class Category {\r\n@Id\r\n@Column(name=&quot;id&quot;)\r\n@GeneratedValue(strategy=GenerationType.IDENTITY)\r\nprivate int id;\r\n//omitted codes\r\n\r\n@OneToMany(cascade=CascadeType.ALL, mappedBy=&quot;category&quot;)\r\nprivate Set&lt;Subject&gt; subject=new HashSet&lt;&gt;();\r\n\r\n//Omitted codes\r\n}\r\n```\r\nNow I want to return a list of ```date``` from my ```SubjectDao``` whenever I pass ```id``` that matches a particular ```Category id```, but my method doesn&#39;t work.\r\n\r\nThis is ```SubjectDao```\r\n\r\n```\r\npublic interface SubjectDao extends JpaRepository&lt;Subject, Integer&gt;{\r\n\r\n@Query(&quot;Select s.date from Subject s Where s.category.id=:id&quot;)\r\nPage&lt;Date&gt; findDates(@RequestParam(&quot;id&quot;) int id, Pageable pegeable);\r\n}\r\n```\r\nThis is the error I keep getting\r\n```\r\nCouldn&#39;t find persistentEntity for type class java.sql.Timestamp...\r\n```\r\nPlease how should I write the jpa query?\r\n\r\nI&#39;ve tried to adopt ```jpa projection ``` technique so I added the following interface\r\n```\r\npublic interface DatesOnly{\r\npublic Date getDate();\r\n}\r\n```\r\nThen reimplemented my ```SubjectDao```like this\r\n```\r\npublic interface SubjectDao extends JpaRepository&lt;Subject, Integer&gt;{\r\n\r\n@Query(&quot;Select s.date from Subject s where s.category.id =:id&quot;)\r\nList&lt;DatesOnly&gt;findDates(@RequestParam(&quot;id&quot;)int id);\r\n\r\n}\r\n```\r\nBut when I run the code I get another confusing error like \r\n```\r\n\r\norg.springframework.data.mapping.MappingException: Couldn&#39;t find PersistentEntity for type class jdk.proxy4.$Proxy133\r\n\tat org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:80) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.mapping.context.PersistentEntities.getRequiredPersistentEntity(PersistentEntities.java:116) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler.wrap(PersistentEntityResourceAssembler.java:90) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\r\n\tat org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler.toModel(PersistentEntityResourceAssembler.java:73) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\r\n\tat org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler.toModel(PersistentEntityResourceAssembler.java:34) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\r\n\tat org.springframework.data.web.PagedResourcesAssembler.createModel(PagedResourcesAssembler.java:210) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.web.PagedResourcesAssembler.toModel(PagedResourcesAssembler.java:122) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.rest.webmvc.AbstractRepositoryRestController.lambda$entitiesToResources$3(AbstractRepositoryRestController.java:95) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n\tat org.springframework.data.rest.webmvc.AbstractRepositoryRestController.entitiesToResources(AbstractRepositoryRestController.java:95) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\r\n\tat org.springframework.data.rest.webmvc.AbstractRepositoryRestController.toCollectionModel(AbstractRepositoryRestController.java:78) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\r\n\tat org.springframework.data.rest.webmvc.RepositorySearchController.lambda$toModel$1(RepositorySearchController.java:204) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\r\n\tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n\tat org.springframework.data.rest.webmvc.RepositorySearchController.toModel(RepositorySearchController.java:201) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\r\n\tat org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(RepositorySearchController.java:185) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\r\n```\r\nMy ```pom.xml``` file\r\n```\r\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.edugreat&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;akademiks-resource&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;akademiks-resource&lt;/name&gt;\r\n\t&lt;description&gt;Akademiks Resource&lt;/description&gt;\r\n&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"How do I return a list of entity&#39;s instance with either jpql or jpa","body":"<p>I have a <code>Subject</code> class which references <code>Category</code> class. The <code>Subject</code> class has this simplified signature:</p>\n<pre><code>@Entity\n@Table(name=&quot;Subject&quot;)\npublic class Subject{\n\n//Omitted codes\n@Column(name = &quot;date&quot;)\npublic Date date;\n\n@ManyToOne\n@JoinColumn(name=&quot;course_category&quot;, nullable=false)\nprivate Category category;\n//Omitted codes\n\n}\n</code></pre>\n<p>The <code>Category</code> is like this:</p>\n<pre><code>@Entity\n@Table(name=&quot;Category&quot;)\npublic class Category {\n@Id\n@Column(name=&quot;id&quot;)\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate int id;\n//omitted codes\n\n@OneToMany(cascade=CascadeType.ALL, mappedBy=&quot;category&quot;)\nprivate Set&lt;Subject&gt; subject=new HashSet&lt;&gt;();\n\n//Omitted codes\n}\n</code></pre>\n<p>Now I want to return a list of <code>date</code> from my <code>SubjectDao</code> whenever I pass <code>id</code> that matches a particular <code>Category id</code>, but my method doesn't work.</p>\n<p>This is <code>SubjectDao</code></p>\n<pre><code>public interface SubjectDao extends JpaRepository&lt;Subject, Integer&gt;{\n\n@Query(&quot;Select s.date from Subject s Where s.category.id=:id&quot;)\nPage&lt;Date&gt; findDates(@RequestParam(&quot;id&quot;) int id, Pageable pegeable);\n}\n</code></pre>\n<p>This is the error I keep getting</p>\n<pre><code>Couldn't find persistentEntity for type class java.sql.Timestamp...\n</code></pre>\n<p>Please how should I write the jpa query?</p>\n<p>I've tried to adopt <code>jpa projection </code> technique so I added the following interface</p>\n<pre><code>public interface DatesOnly{\npublic Date getDate();\n}\n</code></pre>\n<p>Then reimplemented my <code>SubjectDao</code>like this</p>\n<pre><code>public interface SubjectDao extends JpaRepository&lt;Subject, Integer&gt;{\n\n@Query(&quot;Select s.date from Subject s where s.category.id =:id&quot;)\nList&lt;DatesOnly&gt;findDates(@RequestParam(&quot;id&quot;)int id);\n\n}\n</code></pre>\n<p>But when I run the code I get another confusing error like</p>\n<pre><code>\norg.springframework.data.mapping.MappingException: Couldn't find PersistentEntity for type class jdk.proxy4.$Proxy133\n    at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:80) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.mapping.context.PersistentEntities.getRequiredPersistentEntity(PersistentEntities.java:116) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler.wrap(PersistentEntityResourceAssembler.java:90) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\n    at org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler.toModel(PersistentEntityResourceAssembler.java:73) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\n    at org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler.toModel(PersistentEntityResourceAssembler.java:34) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\n    at org.springframework.data.web.PagedResourcesAssembler.createModel(PagedResourcesAssembler.java:210) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.web.PagedResourcesAssembler.toModel(PagedResourcesAssembler.java:122) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.rest.webmvc.AbstractRepositoryRestController.lambda$entitiesToResources$3(AbstractRepositoryRestController.java:95) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\n    at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n    at org.springframework.data.rest.webmvc.AbstractRepositoryRestController.entitiesToResources(AbstractRepositoryRestController.java:95) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\n    at org.springframework.data.rest.webmvc.AbstractRepositoryRestController.toCollectionModel(AbstractRepositoryRestController.java:78) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\n    at org.springframework.data.rest.webmvc.RepositorySearchController.lambda$toModel$1(RepositorySearchController.java:204) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n    at org.springframework.data.rest.webmvc.RepositorySearchController.toModel(RepositorySearchController.java:201) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\n    at org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(RepositorySearchController.java:185) ~[spring-data-rest-webmvc-3.7.5.jar:3.7.5]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n\n</code></pre>\n<p>My <code>pom.xml</code> file</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.edugreat&lt;/groupId&gt;\n    &lt;artifactId&gt;akademiks-resource&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;akademiks-resource&lt;/name&gt;\n    &lt;description&gt;Akademiks Resource&lt;/description&gt;\n&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","bpmn","business-process-management","kie"],"answers":[{"tags":[],"owner":{"account_id":1624137,"reputation":486,"user_id":1500085,"display_name":"Drux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669302404,"creation_date":1669302404,"answer_id":74562782,"question_id":74549414,"body_markdown":"I&#39;m assuming you would want something with a UI that renders said BPMN diagram, and likely allows it to be created by the user.  BPMN.io offers [BPMN.js][1] ([git hub link][2]).  You can use their modeler online to see how it works.  I&#39;ve not looked at the licensing to integrate it into a solution, so not sure if it is a good fit for your use case.\r\n\r\nI&#39;d also look at some of the open source packages.  [Camunda][3] used to have an open source community edition, which I assume had modeling capabilities, but I&#39;ve not checked in on the current state of that in a few years. \r\n\r\n\r\n  [1]: https://bpmn.io/toolkit/bpmn-js/\r\n  [2]: https://github.com/bpmn-io/bpmn-js\r\n  [3]: https://camunda.com","title":"Generate BPMN using Java Library","body":"<p>I'm assuming you would want something with a UI that renders said BPMN diagram, and likely allows it to be created by the user.  BPMN.io offers <a href=\"https://bpmn.io/toolkit/bpmn-js/\" rel=\"nofollow noreferrer\">BPMN.js</a> (<a href=\"https://github.com/bpmn-io/bpmn-js\" rel=\"nofollow noreferrer\">git hub link</a>).  You can use their modeler online to see how it works.  I've not looked at the licensing to integrate it into a solution, so not sure if it is a good fit for your use case.</p>\n<p>I'd also look at some of the open source packages.  <a href=\"https://camunda.com\" rel=\"nofollow noreferrer\">Camunda</a> used to have an open source community edition, which I assume had modeling capabilities, but I've not checked in on the current state of that in a few years.</p>\n"},{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669340945,"creation_date":1669340945,"answer_id":74567634,"question_id":74549414,"body_markdown":"If you need a Java lib, you can use the [Camunda model builder API][1].\r\n\r\n     public static void main(String[] args) {\r\n    \r\n            BpmnModelInstance modelInst;\r\n            try {\r\n            // File file = new File(ModelModifier.class.getClassLoader().getResource(&quot;process1.bpmn&quot;).toURI());\r\n                File file = new File(&quot;./src/main/resources/process1.bpmn&quot;);\r\n            //  modelInst = Bpmn.readModelFromFile(file);\r\n                modelInst = Bpmn.createProcess()\r\n                        .name(&quot;Twitter QA&quot;)\r\n                        .executable()\r\n                        .startEvent()\r\n                        .userTask().id(&quot;ApproveTweet&quot;).name(&quot;Approve Tweet&quot;)\r\n                        .exclusiveGateway().id(&quot;isApproved&quot;).name(&quot;Approved?&quot;)\r\n                        .condition(&quot;approved&quot;, &quot;#{approved}&quot;)\r\n                        .serviceTask().id(&quot;sendTweet&quot;).name(&quot;Send tweet&quot;)\r\n                        .endEvent().name(&quot;Tweet sent&quot;)\r\n                        .moveToLastGateway()\r\n                        // done();\r\n                        // Gateway gateway = modelInst.getModelElementById(&quot;isApproved&quot;);\r\n                        // gateway.builder()\r\n                        .condition(&quot;Not approved&quot;, &quot;#{!approved}&quot;)\r\n                        .serviceTask().name(&quot;Send Rejection&quot;)\r\n                        .endEvent().name(&quot;Tweet rejected&quot;).done();\r\n    \r\n                log.info(&quot;Flow Elements - Name : Id : Type Name&quot;);\r\n                modelInst.getModelElementsByType(UserTask.class).forEach(e -&gt; log.info(&quot;{} : {} : {}&quot;, e.getName(), e.getId(), e.getElementType().getTypeName()));\r\n    \r\n                Bpmn.writeModelToFile(file, modelInst);\r\n    //        file.createNewFile(&quot;/tmp/testDiagram2.bpmn&quot;)\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nHere is a project with a few examples: https://github.com/rob2universe/bpmn-creator.\r\n\r\nIf you are also comfortable with js then [bpmn.js][2] from bpmn.io would be preferable\r\n\r\n\r\n  [1]: https://docs.camunda.org/manual/latest/user-guide/model-api/bpmn-model-api/\r\n  [2]: https://bpmn.io/toolkit/bpmn-js/","title":"Generate BPMN using Java Library","body":"<p>If you need a Java lib, you can use the <a href=\"https://docs.camunda.org/manual/latest/user-guide/model-api/bpmn-model-api/\" rel=\"nofollow noreferrer\">Camunda model builder API</a>.</p>\n<pre><code> public static void main(String[] args) {\n\n        BpmnModelInstance modelInst;\n        try {\n        // File file = new File(ModelModifier.class.getClassLoader().getResource(&quot;process1.bpmn&quot;).toURI());\n            File file = new File(&quot;./src/main/resources/process1.bpmn&quot;);\n        //  modelInst = Bpmn.readModelFromFile(file);\n            modelInst = Bpmn.createProcess()\n                    .name(&quot;Twitter QA&quot;)\n                    .executable()\n                    .startEvent()\n                    .userTask().id(&quot;ApproveTweet&quot;).name(&quot;Approve Tweet&quot;)\n                    .exclusiveGateway().id(&quot;isApproved&quot;).name(&quot;Approved?&quot;)\n                    .condition(&quot;approved&quot;, &quot;#{approved}&quot;)\n                    .serviceTask().id(&quot;sendTweet&quot;).name(&quot;Send tweet&quot;)\n                    .endEvent().name(&quot;Tweet sent&quot;)\n                    .moveToLastGateway()\n                    // done();\n                    // Gateway gateway = modelInst.getModelElementById(&quot;isApproved&quot;);\n                    // gateway.builder()\n                    .condition(&quot;Not approved&quot;, &quot;#{!approved}&quot;)\n                    .serviceTask().name(&quot;Send Rejection&quot;)\n                    .endEvent().name(&quot;Tweet rejected&quot;).done();\n\n            log.info(&quot;Flow Elements - Name : Id : Type Name&quot;);\n            modelInst.getModelElementsByType(UserTask.class).forEach(e -&gt; log.info(&quot;{} : {} : {}&quot;, e.getName(), e.getId(), e.getElementType().getTypeName()));\n\n            Bpmn.writeModelToFile(file, modelInst);\n//        file.createNewFile(&quot;/tmp/testDiagram2.bpmn&quot;)\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Here is a project with a few examples: <a href=\"https://github.com/rob2universe/bpmn-creator\" rel=\"nofollow noreferrer\">https://github.com/rob2universe/bpmn-creator</a>.</p>\n<p>If you are also comfortable with js then <a href=\"https://bpmn.io/toolkit/bpmn-js/\" rel=\"nofollow noreferrer\">bpmn.js</a> from bpmn.io would be preferable</p>\n"}],"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74567634,"answer_count":2,"score":1,"last_activity_date":1669340945,"creation_date":1669217849,"question_id":74549414,"body_markdown":"Trying to generate a BPMN diagram, even a basic one with start event, end event and some user tasks. Is there any Java libraries or API&#39;s available that would help me achieve this.\r\nHave searched around a lot but could not find any suitable.\r\nAny help would be appreciated","title":"Generate BPMN using Java Library","body":"<p>Trying to generate a BPMN diagram, even a basic one with start event, end event and some user tasks. Is there any Java libraries or API's available that would help me achieve this.\nHave searched around a lot but could not find any suitable.\nAny help would be appreciated</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669158199,"post_id":74539831,"comment_id":131580038,"body_markdown":"Check out https://stackoverflow.com/questions/36188428/java-8-date-equivalent-to-jodas-datetimeformatterbuilder-with-multiple-parser-f","body":"Check out <a href=\"https://stackoverflow.com/questions/36188428/java-8-date-equivalent-to-jodas-datetimeformatterbuilder-with-multiple-parser-f\" title=\"java 8 date equivalent to jodas datetimeformatterbuilder with multiple parser f\">stackoverflow.com/questions/36188428/&hellip;</a>"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1669167667,"post_id":74539831,"comment_id":131581579,"body_markdown":"I&#39;m not sure you can assume that 14:10.6 is 14:10:006. Since that field is milliseconds, .6 is more likely 600 ms. But it&#39;s ambiguous. If the data are sequential in time, then you should look at the lines before and after this one to see if there&#39;s a clue.","body":"I&#39;m not sure you can assume that 14:10.6 is 14:10:006. Since that field is milliseconds, .6 is more likely 600 ms. But it&#39;s ambiguous. If the data are sequential in time, then you should look at the lines before and after this one to see if there&#39;s a clue."}],"answers":[{"tags":[],"owner":{"account_id":22203509,"reputation":19,"user_id":16443788,"display_name":"uniwinux"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669175545,"creation_date":1669175545,"answer_id":74541593,"question_id":74539831,"body_markdown":"I just do it like this,\r\n```\r\ns = s.substring(21,22).equals(&quot;-&quot;) ? s.substring(0,21)+&quot;00&quot;+s.substring(21,27) : s;\r\n```","title":"DateTimeParseException could not be parsed at index xx","body":"<p>I just do it like this,</p>\n<pre><code>s = s.substring(21,22).equals(&quot;-&quot;) ? s.substring(0,21)+&quot;00&quot;+s.substring(21,27) : s;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669340303,"creation_date":1669340303,"answer_id":74567594,"question_id":74539831,"body_markdown":"You can use the ISO 8601 DateTimeFormatter, which handles both variants:\r\n\r\n```java\r\nvar t = java.time.ZonedDateTime.parse(&quot;2018-11-05T06:14:10.6-05:00&quot;);\r\nSystem.out.println(t);\r\n```\r\n\r\nOutput:\r\n\r\n    2018-11-05T06:14:10.600-05:00\r\n\r\nAs already said: .6 is not equal to .006\r\n\r\n","title":"DateTimeParseException could not be parsed at index xx","body":"<p>You can use the ISO 8601 DateTimeFormatter, which handles both variants:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var t = java.time.ZonedDateTime.parse(&quot;2018-11-05T06:14:10.6-05:00&quot;);\nSystem.out.println(t);\n</code></pre>\n<p>Output:</p>\n<pre><code>2018-11-05T06:14:10.600-05:00\n</code></pre>\n<p>As already said: .6 is not equal to .006</p>\n"}],"owner":{"account_id":22203509,"reputation":19,"user_id":16443788,"display_name":"uniwinux"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1669340303,"creation_date":1669157082,"question_id":74539831,"body_markdown":"I have a data out of 50k reading line by line, one got a,\r\n```\r\ns = &quot;2018-11-05T06:14:10.6-05:00&quot;.\r\n```\r\nWhich will get error on,\r\n\r\n```\r\npublic static DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter\r\n\t\t\t.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXXXX&quot;);\r\n\t\t\t\r\nif(s!=null &amp;&amp; isValidDate(s)) {\r\n   OffsetDateTime oDAtOffset = OffsetDateTime.parse(s, DATE_TIME_FORMATTER); //error!\r\n}\r\n```\r\n\r\nIf `s = &quot;2018-11-05T06:14:10.006-05:00&quot;` then it won&#39;t get error.\r\n\r\nHow do I convert from `&quot;2018-11-05T06:14:10.6-05:00&quot;` to `&quot;2018-11-05T06:14:10.006-05:00&quot;`?\r\n","title":"DateTimeParseException could not be parsed at index xx","body":"<p>I have a data out of 50k reading line by line, one got a,</p>\n<pre><code>s = &quot;2018-11-05T06:14:10.6-05:00&quot;.\n</code></pre>\n<p>Which will get error on,</p>\n<pre><code>public static DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter\n            .ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXXXX&quot;);\n            \nif(s!=null &amp;&amp; isValidDate(s)) {\n   OffsetDateTime oDAtOffset = OffsetDateTime.parse(s, DATE_TIME_FORMATTER); //error!\n}\n</code></pre>\n<p>If <code>s = &quot;2018-11-05T06:14:10.006-05:00&quot;</code> then it won't get error.</p>\n<p>How do I convert from <code>&quot;2018-11-05T06:14:10.6-05:00&quot;</code> to <code>&quot;2018-11-05T06:14:10.006-05:00&quot;</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":474578,"reputation":1979,"user_id":884340,"accept_rate":75,"display_name":"Philippe"},"score":0,"creation_date":1669273886,"post_id":74556848,"comment_id":131608187,"body_markdown":"A jar is actually a zip. Use a lib to read the zip file content.","body":"A jar is actually a zip. Use a lib to read the zip file content."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669274233,"post_id":74556848,"comment_id":131608273,"body_markdown":"If it&#39;s from a jar on your classpath you can try `ClassLoader.getResources(...)` etc. - Note that the content of &quot;resources&quot; is normally packaged into a jar at root level, so &quot;featureconfig&quot; would be your first path element.","body":"If it&#39;s from a jar on your classpath you can try <code>ClassLoader.getResources(...)</code> etc. - Note that the content of &quot;resources&quot; is normally packaged into a jar at root level, so &quot;featureconfig&quot; would be your first path element."},{"owner":{"account_id":3522227,"reputation":805,"user_id":2958603,"display_name":"buddha"},"score":0,"creation_date":1669277424,"post_id":74556848,"comment_id":131609266,"body_markdown":"A jar is actually a zip. Use a lib to read the zip file content.\n\nIt has worked","body":"A jar is actually a zip. Use a lib to read the zip file content.  It has worked"}],"answers":[{"tags":[],"owner":{"account_id":3522227,"reputation":805,"user_id":2958603,"display_name":"buddha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669340215,"creation_date":1669290681,"answer_id":74560329,"question_id":74556848,"body_markdown":"A jar is actually a zip. Use a lib to read the zip file content.\r\nThe read zip code, getZipFileList\r\n\r\n\r\n```\r\nString path = Application.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n        log.info(&quot;path: &quot; + path);\r\n        String replace = path.replace(&quot;/classes&quot;, &quot;&quot;);\r\n        if (!replace.contains(&quot;/resource-script.jar&quot;)) {\r\n            replace = replace + &quot;/resource-script.jar&quot;;\r\n        }\r\n        List&lt;String&gt; zipFileList2 = getZipFileList(replace);\r\n\r\n\r\n\r\npublic static List&lt;String&gt; getZipFileList(String zipFileName) throws IOException {\r\n    ZipInputStream zipInputStream = null;\r\n    try (FileInputStream inputStream = new FileInputStream(zipFileName)) {\r\n        zipInputStream = new ZipInputStream(\r\n                new BufferedInputStream(inputStream), StandardCharsets.UTF_8);\r\n        java.util.zip.ZipEntry ze;\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        //循环遍历\r\n        while ((ze = zipInputStream.getNextEntry()) != null) {\r\n            if (!ze.isDirectory()) {\r\n                list.add(ze.getName());\r\n            }\r\n        }\r\n        return list;\r\n    } catch (Exception e) {\r\n        log.info(&quot; getZipOneFileContent error:&quot; + e.getMessage());\r\n        return null;\r\n    } finally {\r\n        if (zipInputStream != null) {\r\n            zipInputStream.closeEntry();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```","title":"How can I get file or directory list from the resources in the jar?","body":"<p>A jar is actually a zip. Use a lib to read the zip file content.\nThe read zip code, getZipFileList</p>\n<pre><code>String path = Application.class.getProtectionDomain().getCodeSource().getLocation().getPath();\n        log.info(&quot;path: &quot; + path);\n        String replace = path.replace(&quot;/classes&quot;, &quot;&quot;);\n        if (!replace.contains(&quot;/resource-script.jar&quot;)) {\n            replace = replace + &quot;/resource-script.jar&quot;;\n        }\n        List&lt;String&gt; zipFileList2 = getZipFileList(replace);\n\n\n\npublic static List&lt;String&gt; getZipFileList(String zipFileName) throws IOException {\n    ZipInputStream zipInputStream = null;\n    try (FileInputStream inputStream = new FileInputStream(zipFileName)) {\n        zipInputStream = new ZipInputStream(\n                new BufferedInputStream(inputStream), StandardCharsets.UTF_8);\n        java.util.zip.ZipEntry ze;\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n        //循环遍历\n        while ((ze = zipInputStream.getNextEntry()) != null) {\n            if (!ze.isDirectory()) {\n                list.add(ze.getName());\n            }\n        }\n        return list;\n    } catch (Exception e) {\n        log.info(&quot; getZipOneFileContent error:&quot; + e.getMessage());\n        return null;\n    } finally {\n        if (zipInputStream != null) {\n            zipInputStream.closeEntry();\n        }\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":3522227,"reputation":805,"user_id":2958603,"display_name":"buddha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669340215,"creation_date":1669273762,"question_id":74556848,"body_markdown":"[![enter image description here][1]][1]\r\nHow can I get file or directory list from the resources in the jar?   \r\nsuch as [insights,openapi]   \r\nsuch as [20221102.json, 20221103.json]. \r\n\r\n  [1]: https://i.stack.imgur.com/8MQLp.png","title":"How can I get file or directory list from the resources in the jar?","body":"<p><a href=\"https://i.stack.imgur.com/8MQLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8MQLp.png\" alt=\"enter image description here\" /></a>\nHow can I get file or directory list from the resources in the jar?<br />\nsuch as [insights,openapi]<br />\nsuch as [20221102.json, 20221103.json].</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634723297,"post_id":69643741,"comment_id":123099571,"body_markdown":"Define what you mean by &#39;good solution&#39; that explains why the annotation provided explicitly for the purpose doesn&#39;t qualify.","body":"Define what you mean by &#39;good solution&#39; that explains why the annotation provided explicitly for the purpose doesn&#39;t qualify."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1634726132,"post_id":69643741,"comment_id":123100740,"body_markdown":"You can also write something like `non-API` into your JavaDoc to tell people it&#39;s not for general public use.","body":"You can also write something like <code>non-API</code> into your JavaDoc to tell people it&#39;s not for general public use."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1634735053,"post_id":69643741,"comment_id":123104572,"body_markdown":"Maybe you could make use of the _javadoc_ tag [@apiNote](https://stackoverflow.com/questions/22673421/new-javadoc-annotation-apinote)","body":"Maybe you could make use of the <i>javadoc</i> tag <a href=\"https://stackoverflow.com/questions/22673421/new-javadoc-annotation-apinote\">@apiNote</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669340936,"post_id":69643741,"comment_id":131625925,"body_markdown":"It&#39;s common practice to use `@Deprecated` as a warning even for methods that aren&#39;t being removed. See e.g. Guava&#39;s [`ImmutableList.remove()`](https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html#remove(int)) and [`FluentIterable.from(FluentIterable)`](https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/FluentIterable.html#from(com.google.common.collect.FluentIterable)), and Spring&#39;s [`NoOpPasswordEncoder`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/NoOpPasswordEncoder.html).","body":"It&#39;s common practice to use <code>@Deprecated</code> as a warning even for methods that aren&#39;t being removed. See e.g. Guava&#39;s <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html#remove(int)\" rel=\"nofollow noreferrer\"><code>ImmutableList.remove()</code></a> and <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/FluentIterable.html#from(com.google.common.collect.FluentIterable)\" rel=\"nofollow noreferrer\"><code>FluentIterable.from(FluentIterable)</code></a>, and Spring&#39;s <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/NoOpPasswordEncoder.html\" rel=\"nofollow noreferrer\"><code>NoOpPasswordEncoder</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634776842,"creation_date":1634723329,"answer_id":69643809,"question_id":69643741,"body_markdown":"Well, if `@Deprecated` is not the solution, you are left with only one option.  Put message that notes that the usage is &quot;discouraged&quot; (except for the special cases) into the javadocs ... and **hope** that people are going to read the javadocs.\r\n\r\nDefining your own custom annotation will not help because you can&#39;t get your users to use an annotation processor that will recognize it.\r\n\r\nLikewise, you can&#39;t do it via custom rules for FindBugs, PMD, Sonar and so forth because that requires your users to customize their installations of those products.\r\n\r\n(Though ... if this is an in-house product and all of your users use a common CI server ... you could possibly do the checks in the CI server.  It depends if you can define custom rules that can reliably distinguish  the general &quot;discouraged&quot; use-cases from the special cases.  This will also entail convincing your co-workers that this is a good idea.)\r\n\r\n---------------\r\n\r\nIn my opinion, the `@Deprecated` tag would be better than all of the above.  For the special cases, encourage people to *judiciously* add `@SuppressWarning(&quot;deprecation&quot;)` in the cases where the usage is necessary.\r\n\r\n&gt; I don&#39;t think this is a good solution because it is only meant for methods that will be removed in the future.\r\n\r\nThis is incorrect.  Possible future removal is only one of the *example* reasons for deprecation listed in the `@Deprecated` [javadoc][1] (Java 11 version).  Other reasons listed there are:\r\n\r\n  - &quot;the tagged element&#39;s usage is likely to lead to errors&quot;,\r\n  - &quot;it may be changed incompatibly [...] in a future version&quot;,\r\n  - &quot;it has been superseded by a newer, usually preferable alternative&quot;, or\r\n  - &quot;it is obsolete&quot;.\r\n\r\nNote that these are listed as *example* reasons ... which means that you *could* deprecate for other reasons.\r\n\r\nThis is also consistent with the older &quot;when to deprecate&quot; guidance [here][2].\r\n\r\nIMO, your &quot;discouraged&quot; scenario is covered by that.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Deprecated.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/technotes/guides/javadoc/deprecation/deprecation.html","title":"How can I mark a method as discouraged in java?","body":"<p>Well, if <code>@Deprecated</code> is not the solution, you are left with only one option.  Put message that notes that the usage is &quot;discouraged&quot; (except for the special cases) into the javadocs ... and <strong>hope</strong> that people are going to read the javadocs.</p>\n<p>Defining your own custom annotation will not help because you can't get your users to use an annotation processor that will recognize it.</p>\n<p>Likewise, you can't do it via custom rules for FindBugs, PMD, Sonar and so forth because that requires your users to customize their installations of those products.</p>\n<p>(Though ... if this is an in-house product and all of your users use a common CI server ... you could possibly do the checks in the CI server.  It depends if you can define custom rules that can reliably distinguish  the general &quot;discouraged&quot; use-cases from the special cases.  This will also entail convincing your co-workers that this is a good idea.)</p>\n<hr />\n<p>In my opinion, the <code>@Deprecated</code> tag would be better than all of the above.  For the special cases, encourage people to <em>judiciously</em> add <code>@SuppressWarning(&quot;deprecation&quot;)</code> in the cases where the usage is necessary.</p>\n<blockquote>\n<p>I don't think this is a good solution because it is only meant for methods that will be removed in the future.</p>\n</blockquote>\n<p>This is incorrect.  Possible future removal is only one of the <em>example</em> reasons for deprecation listed in the <code>@Deprecated</code> <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Deprecated.html\" rel=\"nofollow noreferrer\">javadoc</a> (Java 11 version).  Other reasons listed there are:</p>\n<ul>\n<li>&quot;the tagged element's usage is likely to lead to errors&quot;,</li>\n<li>&quot;it may be changed incompatibly [...] in a future version&quot;,</li>\n<li>&quot;it has been superseded by a newer, usually preferable alternative&quot;, or</li>\n<li>&quot;it is obsolete&quot;.</li>\n</ul>\n<p>Note that these are listed as <em>example</em> reasons ... which means that you <em>could</em> deprecate for other reasons.</p>\n<p>This is also consistent with the older &quot;when to deprecate&quot; guidance <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/javadoc/deprecation/deprecation.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>IMO, your &quot;discouraged&quot; scenario is covered by that.</p>\n"},{"tags":[],"owner":{"account_id":13064331,"reputation":11,"user_id":9440299,"display_name":"J.E. Ramos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669340139,"creation_date":1669340139,"answer_id":74567582,"question_id":69643741,"body_markdown":"If you arrived here and looking for android solution there&#39;s @Discouraged annotation in `androidx`","title":"How can I mark a method as discouraged in java?","body":"<p>If you arrived here and looking for android solution there's @Discouraged annotation in <code>androidx</code></p>\n"}],"owner":{"account_id":20937209,"reputation":11,"user_id":15382127,"display_name":"Jens W"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1669340139,"creation_date":1634723067,"question_id":69643741,"body_markdown":"I&#39;m programming a Config class that reads a file and provides config parameters as a Map.\r\nParameters can be accessed by ```conf.get(&quot;LogLevel&quot;)``` or ```conf.getLogLevel()```.\r\n\r\nThe first function just reads from the map and returns the value (that can be ```null``` or invalid) while the second function converts the value to a LogLevel and returns a default value when no valid value is given.\r\n\r\nTherefore I want to discourage Programmers from using the genereral ```get()```, but there are special cases where this method is useful so I cant just make it protected.\r\nRight now I use ```@Deprecated``` but I dont think this is a good solution because it is only ment for methods that will be removed in the future. (Correct me if I&#39;m wrong there, thats what SonarLint told me about the @Deprecated annotation)\r\n\r\n``` java\r\n/**\r\n * @Deprecated When possible, use the key-specific getter instead\r\n */\r\npublic String get(String key) {\r\n\treturn values.get(key);\r\n}\r\n\r\npublic int getLogLevel() {\r\n    return Log.getLogLevel(values.get(LOG_LEVEL), Log.getLogLevel(defaultValues.get(LOG_LEVEL)));\r\n}\r\n```","title":"How can I mark a method as discouraged in java?","body":"<p>I'm programming a Config class that reads a file and provides config parameters as a Map.\nParameters can be accessed by <code>conf.get(&quot;LogLevel&quot;)</code> or <code>conf.getLogLevel()</code>.</p>\n<p>The first function just reads from the map and returns the value (that can be <code>null</code> or invalid) while the second function converts the value to a LogLevel and returns a default value when no valid value is given.</p>\n<p>Therefore I want to discourage Programmers from using the genereral <code>get()</code>, but there are special cases where this method is useful so I cant just make it protected.\nRight now I use <code>@Deprecated</code> but I dont think this is a good solution because it is only ment for methods that will be removed in the future. (Correct me if I'm wrong there, thats what SonarLint told me about the @Deprecated annotation)</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @Deprecated When possible, use the key-specific getter instead\n */\npublic String get(String key) {\n    return values.get(key);\n}\n\npublic int getLogLevel() {\n    return Log.getLogLevel(values.get(LOG_LEVEL), Log.getLogLevel(defaultValues.get(LOG_LEVEL)));\n}\n</code></pre>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1669340232,"post_id":74567574,"comment_id":131625846,"body_markdown":"`items.stream().collect(toMap(Item::getName, i -&gt; i, Item::merge))`","body":"<code>items.stream().collect(toMap(Item::getName, i -&gt; i, Item::merge))</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1669340242,"post_id":74567574,"comment_id":131625848,"body_markdown":"Rather than an ArrayList, consider using a `HashMap&lt;String, Integer&gt;1","body":"Rather than an ArrayList, consider using a `HashMap&lt;String, Integer&gt;1"}],"owner":{"account_id":23298211,"reputation":63,"user_id":17379306,"display_name":"ineedmoney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669340022,"creation_date":1669340022,"question_id":74567574,"body_markdown":"Items in an arrayList can have the same name.\r\nFor example:\r\n\r\nFirst item\r\n\r\nName:Apple\r\n\r\nQuantity:2\r\n\r\nSecond Item\r\n\r\nName:Apple\r\n\r\nQuantity:3\r\n\r\nif two items with same name found,How do i merge them so that only 1 &#39;Apple&#39; appear in the list with a quantity of 5?","title":"How to merge two items of the same name in the list in java?","body":"<p>Items in an arrayList can have the same name.\nFor example:</p>\n<p>First item</p>\n<p>Name:Apple</p>\n<p>Quantity:2</p>\n<p>Second Item</p>\n<p>Name:Apple</p>\n<p>Quantity:3</p>\n<p>if two items with same name found,How do i merge them so that only 1 'Apple' appear in the list with a quantity of 5?</p>\n"},{"tags":["java","for-loop","object","arguments","new-object"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1669327492,"post_id":74566554,"comment_id":131624152,"body_markdown":"No, there is no way to do this short of reflection - and you don&#39;t want to do that. The code wouldn&#39;t be shorter and would become harder to maintain, not easier. Trying to marshall data files (csvs, xmls, jsons, yamls) into objects is easy, just - not this way. Look up jackson, GSON, etc.","body":"No, there is no way to do this short of reflection - and you don&#39;t want to do that. The code wouldn&#39;t be shorter and would become harder to maintain, not easier. Trying to marshall data files (csvs, xmls, jsons, yamls) into objects is easy, just - not this way. Look up jackson, GSON, etc."},{"owner":{"account_id":27039135,"reputation":1,"user_id":20594219,"display_name":"Big Sanch"},"score":0,"creation_date":1669327656,"post_id":74566554,"comment_id":131624188,"body_markdown":"Thanks for your answer and tip, i will search for that","body":"Thanks for your answer and tip, i will search for that"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1669327912,"post_id":74566554,"comment_id":131624242,"body_markdown":"I&#39;d like to see Java get some ways to do this by default.  Java has been able to marshal data with XML for a long time, I think it&#39;s time to add JSON to the default API.  All that said, are you sure the second inner loop is needed?  You just need to create four objects here, right?  I think you&#39;re actually creating sixteen objects, each four a duplicate of the other.","body":"I&#39;d like to see Java get some ways to do this by default.  Java has been able to marshal data with XML for a long time, I think it&#39;s time to add JSON to the default API.  All that said, are you sure the second inner loop is needed?  You just need to create four objects here, right?  I think you&#39;re actually creating sixteen objects, each four a duplicate of the other."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669374100,"post_id":74566554,"comment_id":131632517,"body_markdown":"@markspace an SO comment is not the appropriate venue for such sentiments. And, note that these discussions are already being held. The relevant mailing lists (this is probably core-lib-dev@openjdk) don&#39;t put much stock in &#39;me-tooism&#39;, or fly-by feature requests, so I doubt you&#39;ll get far suggesting it there :) - wheels are in motion, I don&#39;t think you need to add fuel to that particular fire, fortunately.","body":"@markspace an SO comment is not the appropriate venue for such sentiments. And, note that these discussions are already being held. The relevant mailing lists (this is probably core-lib-dev@openjdk) don&#39;t put much stock in &#39;me-tooism&#39;, or fly-by feature requests, so I doubt you&#39;ll get far suggesting it there :) - wheels are in motion, I don&#39;t think you need to add fuel to that particular fire, fortunately."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669338874,"creation_date":1669338469,"answer_id":74567482,"question_id":74566554,"body_markdown":"Unless I miss-read this post (which could be likely), you can do it this way. Read the comments in code:\r\n\r\n**The Employee Class (you didn&#39;t post yours):**    \r\n\r\n    public class Employee {\r\n    \r\n        private String firstName;\r\n        private String lastName;\r\n        private String employeeStatus;\r\n        private String yearOfHire;\r\n        \r\n        // An Employee class Constructor specific to the desired need:\r\n        public Employee(String firstName, String lastName, \r\n                        String employeeStatus, String yearOfHire) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.employeeStatus = employeeStatus;\r\n            this.yearOfHire = yearOfHire;\r\n        }\r\n        \r\n        //GETTERS &amp; SETTERS\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n\r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n\r\n        public String getEmployeeStatus() {\r\n            return employeeStatus;\r\n        }\r\n\r\n        public void setEmployeeStatus(String employeeStatus) {\r\n            this.employeeStatus = employeeStatus;\r\n        }\r\n\r\n        public String getYearOfHire() {\r\n            return yearOfHire;\r\n        }\r\n\r\n        public void setYearOfHire(String yearOfHire) {\r\n            this.yearOfHire = yearOfHire;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return firstName + &quot;, &quot; + lastName + &quot;, &quot; + employeeStatus + &quot;, &quot; + yearOfHire;\r\n        }\r\n    }\r\n\r\n**The code to use the above Employee class:**\r\n\r\n    String[][] empArr = {\r\n            {&quot;Moe&quot;,&quot;Jude&quot;,&quot;Employee&quot;,&quot;2017&quot;},\r\n            {&quot;Noe&quot;,&quot;Joel&quot;,&quot;Employee&quot;,&quot;2019&quot;},\r\n            {&quot;Poe&quot;,&quot;Juce&quot;,&quot;Employee&quot;,&quot;2021&quot;}\r\n        };\r\n      \r\n    // Declare a List to hold instances of Employee: \r\n    List&lt;Employee&gt; employeeInstances = new ArrayList&lt;&gt;();\r\n        \r\n    /* Variables to be filled from 2D Array and passed \r\n       to Employee constructor:             */\r\n    String fName, lName, emplStatus, hireYear;\r\n        \r\n    // Iterate 2D Array Rows:\r\n    for (String[] ary : empArr) {\r\n        // Default string variables with &quot;N/A&quot; (Not Available): \r\n        fName = &quot;N/A&quot;; lName = &quot;N/A&quot;; \r\n        emplStatus = &quot;N/A&quot;; hireYear = &quot;N/A&quot;;\r\n        /* Iterate through the current inner Array (row) and fill \r\n           above variables to use in Employee constructor: */\r\n        for (int i = 0; i &lt; ary.length; i++) {\r\n            /* Use &#39;Ternary Operator&#39; to handle Array elements \r\n               that are Null String (&quot;&quot;):               */\r\n            fName =      !ary[0].isEmpty() ? ary[0] : fName;\r\n            lName =      !ary[1].isEmpty() ? ary[1] : lName;\r\n            emplStatus = !ary[2].isEmpty() ? ary[2] : emplStatus;\r\n            hireYear =   !ary[3].isEmpty() ? ary[3] : hireYear;\r\n        }\r\n        // Create and Add an instance of Employee to the employeeInstances List:\r\n        employeeInstances.add(new Employee(fName, lName, emplStatus, hireYear));\r\n    }\r\n        \r\n    /* Do whatever you want with the instances of Employee contained\r\n       within the employeeInstances List, for example: */\r\n        \r\n    System.out.println(&quot;List all employees to Console Window:&quot;);\r\n    // Iterate through the employeeInstances List:\r\n    for (Employee empl : employeeInstances) {\r\n        // Display data for current Employee instance:\r\n        System.out.println(empl.toString());\r\n    }\r\n    System.out.println();\r\n        \r\n    System.out.println(&quot;List all employees first and last names &quot;\r\n                     + &quot;to Console Window:&quot;);\r\n    // Iterate through the employeeInstances List:\r\n    for (Employee empl : employeeInstances) {\r\n        /* Display the first and last name of each Employee instance\r\n           contained within the employeeInstances List. Employee class\r\n           Getter methods are used to get the First and Last names from\r\n           the current instance:              */\r\n        System.out.println(empl.getFirstName() + &quot; &quot; + empl.getLastName());\r\n    }\r\n\r\nConsole Window should display:\r\n\r\n```\r\nList all employees to Console Window:\r\nMoe, Jude, Employee, 2017\r\nNoe, Joel, Employee, 2019\r\nPoe, Juce, Employee, 2021\r\n\r\nList all employees first and last names to Console Window:\r\nMoe Jude\r\nNoe Joel\r\nPoe Juce\r\n```","title":"How can i use a for loop to create objects with params?","body":"<p>Unless I miss-read this post (which could be likely), you can do it this way. Read the comments in code:</p>\n<p><strong>The Employee Class (you didn't post yours):</strong></p>\n<pre><code>public class Employee {\n\n    private String firstName;\n    private String lastName;\n    private String employeeStatus;\n    private String yearOfHire;\n    \n    // An Employee class Constructor specific to the desired need:\n    public Employee(String firstName, String lastName, \n                    String employeeStatus, String yearOfHire) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.employeeStatus = employeeStatus;\n        this.yearOfHire = yearOfHire;\n    }\n    \n    //GETTERS &amp; SETTERS\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmployeeStatus() {\n        return employeeStatus;\n    }\n\n    public void setEmployeeStatus(String employeeStatus) {\n        this.employeeStatus = employeeStatus;\n    }\n\n    public String getYearOfHire() {\n        return yearOfHire;\n    }\n\n    public void setYearOfHire(String yearOfHire) {\n        this.yearOfHire = yearOfHire;\n    }\n\n    @Override\n    public String toString() {\n        return firstName + &quot;, &quot; + lastName + &quot;, &quot; + employeeStatus + &quot;, &quot; + yearOfHire;\n    }\n}\n</code></pre>\n<p><strong>The code to use the above Employee class:</strong></p>\n<pre><code>String[][] empArr = {\n        {&quot;Moe&quot;,&quot;Jude&quot;,&quot;Employee&quot;,&quot;2017&quot;},\n        {&quot;Noe&quot;,&quot;Joel&quot;,&quot;Employee&quot;,&quot;2019&quot;},\n        {&quot;Poe&quot;,&quot;Juce&quot;,&quot;Employee&quot;,&quot;2021&quot;}\n    };\n  \n// Declare a List to hold instances of Employee: \nList&lt;Employee&gt; employeeInstances = new ArrayList&lt;&gt;();\n    \n/* Variables to be filled from 2D Array and passed \n   to Employee constructor:             */\nString fName, lName, emplStatus, hireYear;\n    \n// Iterate 2D Array Rows:\nfor (String[] ary : empArr) {\n    // Default string variables with &quot;N/A&quot; (Not Available): \n    fName = &quot;N/A&quot;; lName = &quot;N/A&quot;; \n    emplStatus = &quot;N/A&quot;; hireYear = &quot;N/A&quot;;\n    /* Iterate through the current inner Array (row) and fill \n       above variables to use in Employee constructor: */\n    for (int i = 0; i &lt; ary.length; i++) {\n        /* Use 'Ternary Operator' to handle Array elements \n           that are Null String (&quot;&quot;):               */\n        fName =      !ary[0].isEmpty() ? ary[0] : fName;\n        lName =      !ary[1].isEmpty() ? ary[1] : lName;\n        emplStatus = !ary[2].isEmpty() ? ary[2] : emplStatus;\n        hireYear =   !ary[3].isEmpty() ? ary[3] : hireYear;\n    }\n    // Create and Add an instance of Employee to the employeeInstances List:\n    employeeInstances.add(new Employee(fName, lName, emplStatus, hireYear));\n}\n    \n/* Do whatever you want with the instances of Employee contained\n   within the employeeInstances List, for example: */\n    \nSystem.out.println(&quot;List all employees to Console Window:&quot;);\n// Iterate through the employeeInstances List:\nfor (Employee empl : employeeInstances) {\n    // Display data for current Employee instance:\n    System.out.println(empl.toString());\n}\nSystem.out.println();\n    \nSystem.out.println(&quot;List all employees first and last names &quot;\n                 + &quot;to Console Window:&quot;);\n// Iterate through the employeeInstances List:\nfor (Employee empl : employeeInstances) {\n    /* Display the first and last name of each Employee instance\n       contained within the employeeInstances List. Employee class\n       Getter methods are used to get the First and Last names from\n       the current instance:              */\n    System.out.println(empl.getFirstName() + &quot; &quot; + empl.getLastName());\n}\n</code></pre>\n<p>Console Window should display:</p>\n<pre><code>List all employees to Console Window:\nMoe, Jude, Employee, 2017\nNoe, Joel, Employee, 2019\nPoe, Juce, Employee, 2021\n\nList all employees first and last names to Console Window:\nMoe Jude\nNoe Joel\nPoe Juce\n</code></pre>\n"}],"owner":{"account_id":27039135,"reputation":1,"user_id":20594219,"display_name":"Big Sanch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669338874,"creation_date":1669327036,"question_id":74566554,"body_markdown":"I try to create objects in a for loop like:\r\n\r\n```\r\nString[] empArr[] = {\r\n    {&quot;Moe&quot;,&quot;Jude&quot;,&quot;Employee&quot;,&quot;2017&quot;},\r\n    {&quot;Noe&quot;,&quot;Joel&quot;,&quot;Employee&quot;,&quot;2019&quot;},\r\n    {&quot;Poe&quot;,&quot;Juce&quot;,&quot;Employee&quot;,&quot;2021&quot;}\r\n};\r\n\r\nEmployee[] emp;\r\nemp = new Employee[empArr.length];\r\n        \r\n// get length and loop from empArr[], here there are 3 entries\r\nfor (int i=0; i&lt;=empArr.length-1; i++) {\r\n    // get length and loop from empArr[i], here there are 4 entries\r\n    for (int j=0; j&lt;=empArr[i].length-1; j++) {\r\n        // create objects in loop from empArr[i] with params from empArr[i][0 ]\r\n        emp[i] = new Employee(empArr[i][0],empArr[i][1],empArr[i][2],empArr[i][3]);\r\n    }\r\n\r\n    // create from a method the output and get here all firstNames from empArr[]\r\n    output(emp[i].getInfo(&quot;firstName&quot;));\r\n}\r\n```\r\n\r\nThis is working and I get the output I want.\r\nBut I use in the middle part at the moment:\r\n\r\n```\r\nfor (int j=0; j&lt;=empArr[i].length-1; j++) {\r\n    emp[i] = new Employee(empArr[i][0],empArr[i][1],empArr[i][2],empArr[i][3]);\r\n}\r\n```\r\n\r\nIs there a possibility to make a loop of j for the arguments of the object too?\r\nSomething like:\r\n\r\n```\r\nemp[i] = new Employee(\r\n    for (int j=0; j&lt;=empArr[i].length-1; j++) {\r\n        empArr[i][j];\r\n    }\r\n);\r\n```\r\n\r\nI tried this code above, but i cant get it working:\r\nI cant imagine a solution, hope for help\r\n\r\nbest regards","title":"How can i use a for loop to create objects with params?","body":"<p>I try to create objects in a for loop like:</p>\n<pre><code>String[] empArr[] = {\n    {&quot;Moe&quot;,&quot;Jude&quot;,&quot;Employee&quot;,&quot;2017&quot;},\n    {&quot;Noe&quot;,&quot;Joel&quot;,&quot;Employee&quot;,&quot;2019&quot;},\n    {&quot;Poe&quot;,&quot;Juce&quot;,&quot;Employee&quot;,&quot;2021&quot;}\n};\n\nEmployee[] emp;\nemp = new Employee[empArr.length];\n        \n// get length and loop from empArr[], here there are 3 entries\nfor (int i=0; i&lt;=empArr.length-1; i++) {\n    // get length and loop from empArr[i], here there are 4 entries\n    for (int j=0; j&lt;=empArr[i].length-1; j++) {\n        // create objects in loop from empArr[i] with params from empArr[i][0 ]\n        emp[i] = new Employee(empArr[i][0],empArr[i][1],empArr[i][2],empArr[i][3]);\n    }\n\n    // create from a method the output and get here all firstNames from empArr[]\n    output(emp[i].getInfo(&quot;firstName&quot;));\n}\n</code></pre>\n<p>This is working and I get the output I want.\nBut I use in the middle part at the moment:</p>\n<pre><code>for (int j=0; j&lt;=empArr[i].length-1; j++) {\n    emp[i] = new Employee(empArr[i][0],empArr[i][1],empArr[i][2],empArr[i][3]);\n}\n</code></pre>\n<p>Is there a possibility to make a loop of j for the arguments of the object too?\nSomething like:</p>\n<pre><code>emp[i] = new Employee(\n    for (int j=0; j&lt;=empArr[i].length-1; j++) {\n        empArr[i][j];\n    }\n);\n</code></pre>\n<p>I tried this code above, but i cant get it working:\nI cant imagine a solution, hope for help</p>\n<p>best regards</p>\n"},{"tags":["java","hadoop","mapreduce","snappy"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669338605,"post_id":74550867,"comment_id":131625694,"body_markdown":"Why bother with mapreduce if you&#39;re already using Spark, which can also read Sequence files?","body":"Why bother with mapreduce if you&#39;re already using Spark, which can also read Sequence files?"},{"owner":{"account_id":8458440,"reputation":183,"user_id":6344947,"display_name":"Debodirno Chandra"},"score":0,"creation_date":1669356232,"post_id":74550867,"comment_id":131627785,"body_markdown":"@OneCricketeer : because of legacy reasons, the batch pipeline is in Hadoop.","body":"@OneCricketeer : because of legacy reasons, the batch pipeline is in Hadoop."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669476708,"post_id":74550867,"comment_id":131651226,"body_markdown":"Spark can also do batch... But yes, MapReduce can read Snappy data. Did you try it?","body":"Spark can also do batch... But yes, MapReduce can read Snappy data. Did you try it?"}],"owner":{"account_id":8458440,"reputation":183,"user_id":6344947,"display_name":"Debodirno Chandra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669338583,"creation_date":1669224614,"question_id":74550867,"body_markdown":"I have .txt.snappy files emitted by Structured Streaming, and I have a batch pipeline which runs Hadoop and needs to read these files.\r\nCan someone help me if this is possible and with a short code snippet?\r\n\r\n```\r\n  @Override\r\n  public int run(String[] args) throws Exception {\r\n    Arguments arguments = SimpleArgParser.parse(args, Arguments.class);\r\n    JobConf conf = new JobConf(getConf(), TestMapper.class);\r\n\r\n    conf.setJobName(&quot;TestMapper&quot;);\r\n    conf.set(\r\n        &quot;io.compression.codecs&quot;,\r\n        &quot;org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.SnappyCodec&quot;);\r\n    conf.setBoolean(&quot;hadoop.native.lib&quot;, true);\r\n    conf.setInt(&quot;io.compression.codec.snappy.buffersize&quot;, 65536);\r\n\r\n    conf.setOutputKeyClass(Text.class);\r\n    conf.setOutputValueClass(Text.class);\r\n\r\n    conf.setMapperClass(Map.class);\r\n    conf.setNumReduceTasks(0);\r\n\r\n    conf.setInputFormat(SequenceFileInputFormat.class);\r\n    conf.setOutputFormat(TextOutputFormat.class);\r\n\r\n    FileOutputFormat.setOutputPath(conf, new Path(arguments.outputPath));\r\n    FileInputFormat.addInputPath(conf, new Path(arguments.inputPath));\r\n\r\n    JobClient.runJob(conf);\r\n    return 0;\r\n  }\r\n```\r\n\r\nI have put the files in HDFS and checked with :\r\n```\r\nhadoop fs -text /var/log/icarus.txt.snappy\r\n```\r\n\r\nIt actually is readable. \r\n\r\nAny help is appreciated. Thanks!","title":"Read snappy compressed files in Hadoop","body":"<p>I have .txt.snappy files emitted by Structured Streaming, and I have a batch pipeline which runs Hadoop and needs to read these files.\nCan someone help me if this is possible and with a short code snippet?</p>\n<pre><code>  @Override\n  public int run(String[] args) throws Exception {\n    Arguments arguments = SimpleArgParser.parse(args, Arguments.class);\n    JobConf conf = new JobConf(getConf(), TestMapper.class);\n\n    conf.setJobName(&quot;TestMapper&quot;);\n    conf.set(\n        &quot;io.compression.codecs&quot;,\n        &quot;org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.SnappyCodec&quot;);\n    conf.setBoolean(&quot;hadoop.native.lib&quot;, true);\n    conf.setInt(&quot;io.compression.codec.snappy.buffersize&quot;, 65536);\n\n    conf.setOutputKeyClass(Text.class);\n    conf.setOutputValueClass(Text.class);\n\n    conf.setMapperClass(Map.class);\n    conf.setNumReduceTasks(0);\n\n    conf.setInputFormat(SequenceFileInputFormat.class);\n    conf.setOutputFormat(TextOutputFormat.class);\n\n    FileOutputFormat.setOutputPath(conf, new Path(arguments.outputPath));\n    FileInputFormat.addInputPath(conf, new Path(arguments.inputPath));\n\n    JobClient.runJob(conf);\n    return 0;\n  }\n</code></pre>\n<p>I have put the files in HDFS and checked with :</p>\n<pre><code>hadoop fs -text /var/log/icarus.txt.snappy\n</code></pre>\n<p>It actually is readable.</p>\n<p>Any help is appreciated. Thanks!</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":1,"creation_date":1669283742,"post_id":74557810,"comment_id":131611482,"body_markdown":"What do the logs say?","body":"What do the logs say?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669337929,"creation_date":1669337929,"answer_id":74567447,"question_id":74557810,"body_markdown":"Your `context.write` line is never called if there&#39;s an exception.\r\n\r\nOpen `The url to track the job` and look at the mapper logs to check out if your exception line was really printed (note: you should use Slf4j to print, not System.out)\r\n\r\nNot really clear why you need to parse the year to an integer. The reducer will happily accept a Text key that is the year ","title":"Why does my Map class do not fetch any records in Hadoop?","body":"<p>Your <code>context.write</code> line is never called if there's an exception.</p>\n<p>Open <code>The url to track the job</code> and look at the mapper logs to check out if your exception line was really printed (note: you should use Slf4j to print, not System.out)</p>\n<p>Not really clear why you need to parse the year to an integer. The reducer will happily accept a Text key that is the year</p>\n"}],"owner":{"account_id":16170891,"reputation":13,"user_id":11674706,"display_name":"Aakash Rohila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669337973,"creation_date":1669279014,"question_id":74557810,"body_markdown":"I am trying to fetch AirLineData.csv file to determine number of flights in different year at a particular Airport. And for that map output file is not showing any records even though it is taking map input record as 10000.\r\n\r\nThis is my Mapper Class Function\r\n\r\n    \tpublic static class MapClass extends Mapper&lt;LongWritable,Text,IntWritable,Text&gt;\r\n\t   {\r\n\t      public void map(LongWritable key, Text value, Context context)\r\n\t      {\t    \t  \r\n\t         try{\r\n\t            String[] str = value.toString().split(&quot;,&quot;);\t \r\n\t            //String dummy_column = str[0]; //value\r\n\t            int int_year = Integer.parseInt(str[1]);//key\r\n\t            context.write(new IntWritable(int_year),new Text(str[0])); //key and vlaue\r\n\t         }\r\n\t         catch(Exception e)\r\n\t         {\r\n\t            System.out.println(e.getMessage());\r\n\t         }\r\n\t      }\r\n\t   }\r\n\r\n And This is my driver class method:\r\n\r\n    \t  public static void main(String[] args) throws Exception {\r\n\t\t    Configuration conf = new Configuration();\r\n\t\t    //conf.set(&quot;name&quot;, &quot;value&quot;)\r\n\t\t    //conf.set(&quot;mapreduce.input.fileinputformat.split.minsize&quot;, &quot;134217728&quot;);\r\n\t\t    Job job = Job.getInstance(conf, &quot;Frequency count of flight&quot;);\r\n\t\t    job.setJarByClass(FlightFrequency.class);\r\n\t\t    job.setMapperClass(MapClass.class);\r\n\t\t    //job.setCombinerClass(ReduceClass.class);\r\n\t\t    job.setReducerClass(ReduceClass.class);\r\n\t\t    job.setNumReduceTasks(1);\r\n\t\t    job.setOutputKeyClass(Text.class);\r\n\t\t    job.setOutputValueClass(LongWritable.class);\r\n\t\t    FileInputFormat.addInputPath(job, new Path(args[0]));\r\n\t\t    FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n\t\t    System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n\t\t  }\r\n\r\nAnd these are my results:\r\n\r\n\t[bigcdac43211@ip-10-1-1-204 ~]$ hadoop jar myjar.jar AirData training/AirLineData.csv training/out8                                           \r\n\tWARNING: Use &quot;yarn jar&quot; to launch YARN applications.\r\n\t22/11/24 08:16:58 INFO client.RMProxy: Connecting to ResourceManager at ip-10-1-1-204.ap-south-1.compute.internal/10.1.1.204:8032\r\n\t22/11/24 08:16:58 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execu\r\n\tte your application with ToolRunner to remedy this.\r\n\t22/11/24 08:16:58 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /user/bigcdac43211/.staging/job_1663041244711_12176\r\n\t22/11/24 08:16:59 INFO input.FileInputFormat: Total input files to process : 1\r\n\t22/11/24 08:16:59 INFO mapreduce.JobSubmitter: number of splits:1\r\n\t22/11/24 08:16:59 INFO Configuration.deprecation: yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.syste\r\n\tm-metrics-publisher.enabled\r\n\t22/11/24 08:16:59 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1663041244711_12176\r\n\t22/11/24 08:16:59 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n\t22/11/24 08:16:59 INFO conf.Configuration: resource-types.xml not found\r\n\t22/11/24 08:16:59 INFO resource.ResourceUtils: Unable to find &#39;resource-types.xml&#39;.\r\n\t22/11/24 08:16:59 INFO impl.YarnClientImpl: Submitted application application_1663041244711_12176\r\n\t22/11/24 08:16:59 INFO mapreduce.Job: The url to track the job: http://ip-10-1-1-204.ap-south-1.compute.internal:6066/proxy/application_166304\r\n\t1244711_12176/\r\n\t22/11/24 08:16:59 INFO mapreduce.Job: Running job: job_1663041244711_12176\r\n\t22/11/24 08:17:06 INFO mapreduce.Job: Job job_1663041244711_12176 running in uber mode : false\r\n\t22/11/24 08:17:06 INFO mapreduce.Job:  map 0% reduce 0%\r\n\t22/11/24 08:17:13 INFO mapreduce.Job:  map 100% reduce 0%\r\n\t22/11/24 08:17:21 INFO mapreduce.Job:  map 100% reduce 100%\r\n\t22/11/24 08:17:21 INFO mapreduce.Job: Job job_1663041244711_12176 completed successfully\r\n\t22/11/24 08:17:21 INFO mapreduce.Job: Counters: 54\r\n\t\t\tFile System Counters\r\n\t\t\t\t\tFILE: Number of bytes read=20\r\n\t\t\t\t\tFILE: Number of bytes written=445167\r\n\t\t\t\t\tFILE: Number of read operations=0\r\n\t\t\t\t\tFILE: Number of large read operations=0\r\n\t\t\t\t\tFILE: Number of write operations=0\r\n\t\t\t\t\tHDFS: Number of bytes read=10585174\r\n\t\t\t\t\tHDFS: Number of bytes written=0\r\n\t\t\t\t\tHDFS: Number of read operations=8\r\n\t\t\t\t\tHDFS: Number of large read operations=0\r\n\t\t\t\t\tHDFS: Number of write operations=2\r\n\t\t\t\t\tHDFS: Number of bytes read erasure-coded=0\r\n\t\t\tJob Counters                                                                                                                          \r\n\t\t\t\t\tLaunched map tasks=1                                                                                                          \r\n\t\t\t\t\tLaunched reduce tasks=1                                                                                                       \r\n\t\t\t\t\tRack-local map tasks=1                                                                                                        \r\n\t\t\t\t\tTotal time spent by all maps in occupied slots (ms)=4998                                                                      \r\n\t\t\t\t\tTotal time spent by all reduces in occupied slots (ms)=3389                                                                   \r\n\t\t\t\t\tTotal time spent by all map tasks (ms)=4998                                                                                   \r\n\t\t\t\t\tTotal time spent by all reduce tasks (ms)=3389                                                                                \r\n\t\t\t\t\tTotal vcore-milliseconds taken by all map tasks=4998                                                                          \r\n\t\t\t\t\tTotal vcore-milliseconds taken by all reduce tasks=3389                                                                       \r\n\t\t\t\t\tTotal megabyte-milliseconds taken by all map tasks=5117952                                                                    \r\n\t\t\t\t\tTotal megabyte-milliseconds taken by all reduce tasks=3470336                                                                 \r\n\t\t\tMap-Reduce Framework                                                                                                                  \r\n\t\t\t\t\tMap input records=100000                                                                                                      \r\n\t\t\t\t\tMap output records=0                                                                                                          \r\n\t\t\t\t\tMap output bytes=0                                                                                                            \r\n\t\t\t\t\tMap output materialized bytes=16                                                                                              \r\n\t\t\t\t\tInput split bytes=127                                                                                                         \r\n\t\t\t\t\tCombine input records=0                                                                                                       \r\n\t\t\t\t\tCombine output records=0                                                                                                      \r\n\t\t\t\t\tReduce input groups=0                                                                                                         \r\n\t\t\t\t\tReduce shuffle bytes=16                                                                                                       \r\n\t\t\t\t\tReduce input records=0                                                                                                        \r\n\t\t\t\t\tReduce output records=0                                                                                                       \r\n\t\t\t\t\tSpilled Records=0                                                                                                             \r\n\t\t\t\t\tShuffled Maps =1                                                                                                              \r\n\t\t\t\t\tFailed Shuffles=0                                                                                                             \r\n\t\t\t\t\tMerged Map outputs=1                                                                                                          \r\n\t\t\t\t\tGC time elapsed (ms)=175                                                                                                      \r\n\t\t\t\t\tCPU time spent (ms)=3850                                                                                                      \r\n\t\t\t\t\tPhysical memory (bytes) snapshot=771170304                                                                                    \r\n\t\t\t\t\tVirtual memory (bytes) snapshot=5179764736                                                                                    \r\n\t\t\t\t\tTotal committed heap usage (bytes)=883425280                                                                                  \r\n\t\t\t\t\tPeak Map Physical memory (bytes)=581619712                                                                                    \r\n\t\t\t\t\tPeak Map Virtual memory (bytes)=2589802496                                                                                    \r\n\t\t\t\t\tPeak Reduce Physical memory (bytes)=189550592                                                                                 \r\n\t\t\t\t\tPeak Reduce Virtual memory (bytes)=2589962240                                                                                 \r\n\t\t\tShuffle Errors                                                                                                                        \r\n\t\t\t\t\tBAD_ID=0                                                                                                                      \r\n\t\t\t\t\tCONNECTION=0                                                                                                                  \r\n\t\t\t\t\tIO_ERROR=0                                                                                                                    \r\n\t\t\t\t\tWRONG_LENGTH=0                                                                                                                \r\n\t\t\t\t\tWRONG_MAP=0                                                                                                                   \r\n\t\t\t\t\tWRONG_REDUCE=0                                                                                                                \r\n\t\t\tFile Input Format Counters                                                                                                            \r\n\t\t\t\t\tBytes Read=10585047                                                                                                           \r\n\t\t\tFile Output Format Counters                                                                                                           \r\n\t\t\t\t\tBytes Written=0   \r\n\r\nAs You could see I am taking input but my map output record is 0:\r\n\r\n    Map-Reduce Framework                                                                                                                  \r\n    Map input records=100000                                                                                                      \r\n    Map output records=0  \r\n\r\nThis are my sample data(I have only shown few rows here) and first two columns are ID,Year:\r\n\r\n```\r\nARY04F1,2004,1,12,1,623,630,901,915,UA,462,N805UA,98,105,80,-14,-7,ORD,CLT,599,7,11,0,,0,0,0,0,0,0\r\nARY06F48889,2006,1,17,2,1453,1500,1557,1608,US,2176,N752UW,64,68,38,-11,-7,DCA,LGA,214,3,23,0,,0,0,0,0,0,0\r\nARY08F85465,2008,1,4,5,2037,2015,2144,2120,WN,3743,N276WN,127,125,109,24,22,SLC,OAK,588,8,10,0,,0,0,0,12,0,12\r\n```\r\n","title":"Why does my Map class do not fetch any records in Hadoop?","body":"<p>I am trying to fetch AirLineData.csv file to determine number of flights in different year at a particular Airport. And for that map output file is not showing any records even though it is taking map input record as 10000.</p>\n<p>This is my Mapper Class Function</p>\n<pre><code>    public static class MapClass extends Mapper&lt;LongWritable,Text,IntWritable,Text&gt;\n   {\n      public void map(LongWritable key, Text value, Context context)\n      {           \n         try{\n            String[] str = value.toString().split(&quot;,&quot;);  \n            //String dummy_column = str[0]; //value\n            int int_year = Integer.parseInt(str[1]);//key\n            context.write(new IntWritable(int_year),new Text(str[0])); //key and vlaue\n         }\n         catch(Exception e)\n         {\n            System.out.println(e.getMessage());\n         }\n      }\n   }\n</code></pre>\n<p>And This is my driver class method:</p>\n<pre><code>      public static void main(String[] args) throws Exception {\n        Configuration conf = new Configuration();\n        //conf.set(&quot;name&quot;, &quot;value&quot;)\n        //conf.set(&quot;mapreduce.input.fileinputformat.split.minsize&quot;, &quot;134217728&quot;);\n        Job job = Job.getInstance(conf, &quot;Frequency count of flight&quot;);\n        job.setJarByClass(FlightFrequency.class);\n        job.setMapperClass(MapClass.class);\n        //job.setCombinerClass(ReduceClass.class);\n        job.setReducerClass(ReduceClass.class);\n        job.setNumReduceTasks(1);\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(LongWritable.class);\n        FileInputFormat.addInputPath(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\n      }\n</code></pre>\n<p>And these are my results:</p>\n<pre><code>[bigcdac43211@ip-10-1-1-204 ~]$ hadoop jar myjar.jar AirData training/AirLineData.csv training/out8                                           \nWARNING: Use &quot;yarn jar&quot; to launch YARN applications.\n22/11/24 08:16:58 INFO client.RMProxy: Connecting to ResourceManager at ip-10-1-1-204.ap-south-1.compute.internal/10.1.1.204:8032\n22/11/24 08:16:58 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execu\nte your application with ToolRunner to remedy this.\n22/11/24 08:16:58 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /user/bigcdac43211/.staging/job_1663041244711_12176\n22/11/24 08:16:59 INFO input.FileInputFormat: Total input files to process : 1\n22/11/24 08:16:59 INFO mapreduce.JobSubmitter: number of splits:1\n22/11/24 08:16:59 INFO Configuration.deprecation: yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.syste\nm-metrics-publisher.enabled\n22/11/24 08:16:59 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1663041244711_12176\n22/11/24 08:16:59 INFO mapreduce.JobSubmitter: Executing with tokens: []\n22/11/24 08:16:59 INFO conf.Configuration: resource-types.xml not found\n22/11/24 08:16:59 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n22/11/24 08:16:59 INFO impl.YarnClientImpl: Submitted application application_1663041244711_12176\n22/11/24 08:16:59 INFO mapreduce.Job: The url to track the job: http://ip-10-1-1-204.ap-south-1.compute.internal:6066/proxy/application_166304\n1244711_12176/\n22/11/24 08:16:59 INFO mapreduce.Job: Running job: job_1663041244711_12176\n22/11/24 08:17:06 INFO mapreduce.Job: Job job_1663041244711_12176 running in uber mode : false\n22/11/24 08:17:06 INFO mapreduce.Job:  map 0% reduce 0%\n22/11/24 08:17:13 INFO mapreduce.Job:  map 100% reduce 0%\n22/11/24 08:17:21 INFO mapreduce.Job:  map 100% reduce 100%\n22/11/24 08:17:21 INFO mapreduce.Job: Job job_1663041244711_12176 completed successfully\n22/11/24 08:17:21 INFO mapreduce.Job: Counters: 54\n        File System Counters\n                FILE: Number of bytes read=20\n                FILE: Number of bytes written=445167\n                FILE: Number of read operations=0\n                FILE: Number of large read operations=0\n                FILE: Number of write operations=0\n                HDFS: Number of bytes read=10585174\n                HDFS: Number of bytes written=0\n                HDFS: Number of read operations=8\n                HDFS: Number of large read operations=0\n                HDFS: Number of write operations=2\n                HDFS: Number of bytes read erasure-coded=0\n        Job Counters                                                                                                                          \n                Launched map tasks=1                                                                                                          \n                Launched reduce tasks=1                                                                                                       \n                Rack-local map tasks=1                                                                                                        \n                Total time spent by all maps in occupied slots (ms)=4998                                                                      \n                Total time spent by all reduces in occupied slots (ms)=3389                                                                   \n                Total time spent by all map tasks (ms)=4998                                                                                   \n                Total time spent by all reduce tasks (ms)=3389                                                                                \n                Total vcore-milliseconds taken by all map tasks=4998                                                                          \n                Total vcore-milliseconds taken by all reduce tasks=3389                                                                       \n                Total megabyte-milliseconds taken by all map tasks=5117952                                                                    \n                Total megabyte-milliseconds taken by all reduce tasks=3470336                                                                 \n        Map-Reduce Framework                                                                                                                  \n                Map input records=100000                                                                                                      \n                Map output records=0                                                                                                          \n                Map output bytes=0                                                                                                            \n                Map output materialized bytes=16                                                                                              \n                Input split bytes=127                                                                                                         \n                Combine input records=0                                                                                                       \n                Combine output records=0                                                                                                      \n                Reduce input groups=0                                                                                                         \n                Reduce shuffle bytes=16                                                                                                       \n                Reduce input records=0                                                                                                        \n                Reduce output records=0                                                                                                       \n                Spilled Records=0                                                                                                             \n                Shuffled Maps =1                                                                                                              \n                Failed Shuffles=0                                                                                                             \n                Merged Map outputs=1                                                                                                          \n                GC time elapsed (ms)=175                                                                                                      \n                CPU time spent (ms)=3850                                                                                                      \n                Physical memory (bytes) snapshot=771170304                                                                                    \n                Virtual memory (bytes) snapshot=5179764736                                                                                    \n                Total committed heap usage (bytes)=883425280                                                                                  \n                Peak Map Physical memory (bytes)=581619712                                                                                    \n                Peak Map Virtual memory (bytes)=2589802496                                                                                    \n                Peak Reduce Physical memory (bytes)=189550592                                                                                 \n                Peak Reduce Virtual memory (bytes)=2589962240                                                                                 \n        Shuffle Errors                                                                                                                        \n                BAD_ID=0                                                                                                                      \n                CONNECTION=0                                                                                                                  \n                IO_ERROR=0                                                                                                                    \n                WRONG_LENGTH=0                                                                                                                \n                WRONG_MAP=0                                                                                                                   \n                WRONG_REDUCE=0                                                                                                                \n        File Input Format Counters                                                                                                            \n                Bytes Read=10585047                                                                                                           \n        File Output Format Counters                                                                                                           \n                Bytes Written=0   \n</code></pre>\n<p>As You could see I am taking input but my map output record is 0:</p>\n<pre><code>Map-Reduce Framework                                                                                                                  \nMap input records=100000                                                                                                      \nMap output records=0  \n</code></pre>\n<p>This are my sample data(I have only shown few rows here) and first two columns are ID,Year:</p>\n<pre><code>ARY04F1,2004,1,12,1,623,630,901,915,UA,462,N805UA,98,105,80,-14,-7,ORD,CLT,599,7,11,0,,0,0,0,0,0,0\nARY06F48889,2006,1,17,2,1453,1500,1557,1608,US,2176,N752UW,64,68,38,-11,-7,DCA,LGA,214,3,23,0,,0,0,0,0,0,0\nARY08F85465,2008,1,4,5,2037,2015,2144,2120,WN,3743,N276WN,127,125,109,24,22,SLC,OAK,588,8,10,0,,0,0,0,12,0,12\n</code></pre>\n"},{"tags":["java","android","mysql","android-room"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669329602,"post_id":74566801,"comment_id":131624552,"body_markdown":"Did you try it?","body":"Did you try it?"},{"owner":{"account_id":26227591,"reputation":43,"user_id":19904057,"display_name":"Tholvnar"},"score":0,"creation_date":1669329971,"post_id":74566801,"comment_id":131624615,"body_markdown":"@shmosel screenshot in post is from my project. Yes, I tried in many different ways and just can&#39;t figure it out","body":"@shmosel screenshot in post is from my project. Yes, I tried in many different ways and just can&#39;t figure it out"},{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1669334279,"post_id":74566801,"comment_id":131625229,"body_markdown":"You tagged mysql, but server that are open to the internet are vulnerable, so the best way is to use REST API for sql communication. SQL suupports BEGIN Transaction which you can send with all the uodate and delete code, and after that send a commit","body":"You tagged mysql, but server that are open to the internet are vulnerable, so the best way is to use REST API for sql communication. SQL suupports BEGIN Transaction which you can send with all the uodate and delete code, and after that send a commit"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1669336490,"post_id":74566801,"comment_id":131625478,"body_markdown":"Answer updated with demo of all three solutions.","body":"Answer updated with demo of all three solutions."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669336448,"creation_date":1669330466,"answer_id":74566927,"question_id":74566801,"body_markdown":"What you are attempting is not possible in an interface as you cannot have methods with bodies in an interface. \r\n\r\nMore specifically, you are trying to execute multiple statements (an UPDATE and then a DELETE) when only one can be performed at once.\r\n\r\nYou options are either to define a TRIGGER (AFTER UPDATE, if the weight row can be determined from within the trigger) or probably more likely to use an abstract class and thus a function to perform the multiple statements or use methods that utilise (are passed/or retrieve) an SupportSQliteDatabase (simpler to use an abstract class).\r\n\r\n- If you want  a TRIGGER, then you would have to utilise a Callback to create the trigger as Room does not provide annotations for triggers.\r\n\r\nThen to utilise a transaction you would have a dummy @Query preceding the function. e.g.\r\n\r\n    @Dao\r\n    abstract class TheClassForMethodsWithBodies {\r\n\r\n        @Query(&quot;UPDATE visits SET date=:date WHERE id=5&quot;)\r\n        void testUpdate(Date date);\r\n        @Query(&quot;DELETE FROM wieght WHERE id_weight=1&quot;)\r\n        void testDelete();\r\n\r\n        @Query(&quot;&quot;)\r\n        void test(Date date) {\r\n            testUpdate(date);\r\n            testDelete();\r\n        }\r\n    }\r\n\r\n- *Note - the code is in principle code, it has not been compiled, run or tested and thus may contains some errors*\r\n\r\n\r\n**Additional**\r\n\r\nHere&#39;s a working demo, designed just to run once, that uses all three methods.\r\n\r\nFirst the `@Entities`, based upon what&#39;s available from your code but a long has been used for the date (rather than have type converters).\r\n\r\n**Visits**\r\n\r\n    @Entity\r\n    class Visits {\r\n       @PrimaryKey\r\n       Long id=null;\r\n       Long date = System.currentTimeMillis() / 1000;\r\n    }\r\n\r\n**Weight**\r\n\r\n    @Entity\r\n    class Weight {\r\n        @PrimaryKey\r\n        Long id_weight=null;\r\n    }\r\n\r\nThe `@Dao` annotated abstract class that has normal abstract methods and methods with bodies (solution 1). The insert method allowing some data to be inserted (just the one row).\r\n\r\n    @Dao\r\n    abstract class AllDao {\r\n    \r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        abstract long insert(Visits visits);\r\n    \r\n        @Query(&quot;UPDATE visits SET date=:date WHERE id=1&quot;)\r\n        abstract void resetVisitData(long date);\r\n        @Query(&quot;DELETE FROM weight WHERE id_weight=5&quot;)\r\n        abstract void deleteFromWeight();\r\n        @Query(&quot;&quot;)\r\n        void doBoth(long date) {\r\n            resetVisitData(date);\r\n            deleteFromWeight();\r\n        }\r\n    }\r\n\r\nNow, where it is a little more complex the `@Database` annotated class (using a singleton).\r\n\r\nThis has a callback to add the TRIGGER, the trigger is overly complex in that it not only does the delete after the UPDATE (not that there is anything that is deleted) BUT it also adds a new row into the visits table to show that TRIGGER is actually being triggered (solution 2).\r\n\r\nFurthermore, for want of a better place (or not depending on style/practices) a function is included to get and use the SupportSQLiteDatabase (solution 3)\r\n\r\n    @Database(entities = {Weight.class,Visits.class}, version = 1,exportSchema = false)\r\n    abstract class TheDatabase extends RoomDatabase {\r\n        abstract AllDao getAllDao();\r\n    \r\n        private static TheDatabase INSTANCE;\r\n        static TheDatabase getINSTANCE(Context context) {\r\n            if (INSTANCE==null) {\r\n                INSTANCE = Room.databaseBuilder(\r\n                                context,\r\n                                TheDatabase.class,\r\n                                &quot;the_database.db&quot;\r\n                        )\r\n                        .allowMainThreadQueries()\r\n                        .addCallback(cb)\r\n                        .build();\r\n            }\r\n            return INSTANCE;\r\n        }\r\n    \r\n        /* Solution 2 - via SupportSQLiteDatabase */\r\n        void viaSupportSB(long date) {\r\n            SupportSQLiteDatabase db = this.getOpenHelper().getWritableDatabase();\r\n            db.beginTransaction();\r\n            db.execSQL(&quot;UPDATE visits SET date=? WHERE id=1&quot;,new String[]{String.valueOf(date)});\r\n            db.execSQL(&quot;DELETE FROM weight WHERE id_weight=-600&quot;);\r\n            db.setTransactionSuccessful();\r\n            db.endTransaction();\r\n        }\r\n    \r\n    \r\n        /* USING a TRIGGER (not intended to make sense/do anything useful just demo) */\r\n        private static final String CREATETRIGGERSQL = &quot;CREATE TRIGGER IF NOT EXISTS theTrigger AFTER UPDATE ON visits BEGIN DELETE FROM weight WHERE id_weight=5; INSERT OR IGNORE INTO visits (date) VALUES(strftime(&#39;%s&#39;,&#39;now&#39;)); END&quot;;\r\n        static Callback cb  = new Callback() {\r\n            @Override\r\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                super.onCreate(db);\r\n                db.execSQL(CREATETRIGGERSQL);\r\n            }\r\n    \r\n            @Override\r\n            public void onDestructiveMigration(@NonNull SupportSQLiteDatabase db) {\r\n                super.onDestructiveMigration(db);\r\n            }\r\n    \r\n            @Override\r\n            public void onOpen(@NonNull SupportSQLiteDatabase db) {\r\n                super.onOpen(db);\r\n                db.execSQL(CREATETRIGGERSQL);\r\n            }\r\n        };\r\n    }\r\n\r\nTo actually utilise the above some activity code **MainActivity**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TheDatabase roomInstance;\r\n        AllDao dao;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            roomInstance = TheDatabase.getINSTANCE(this);\r\n            dao = roomInstance.getAllDao();\r\n    \r\n            dao.insert(new Visits()); /* Insert a row */\r\n    \r\n            /* Solution 2 - via Trigger */\r\n            dao.resetVisitData(System.currentTimeMillis() - (24 * 60 * 60 * 7 /* one week ago BUT OOOPS not divided by 1000 */));\r\n            /* Solution 1 - via abstract class aka method with body */\r\n            dao.doBoth(System.currentTimeMillis() / 1000);\r\n            /* Solution 3 - via SupportSQLiteDatabase */\r\n            roomInstance.viaSupportSB(System.currentTimeMillis() + (24 * 60 * 60 * 7 /*week in the future  again OOOPS not divided by 1000*/));\r\n            \r\n            /* Expected result\r\n                1. sinlge row inserted into visits\r\n                2. trigger adds another row into visits (row 2)\r\n                3. doBoth updates so another row added to visits (row 3)\r\n                4. via SupportSQLiteDatabase updates so another row added to visits (row 4)\r\n                \r\n                So 4 rows in visits no rows in weight\r\n             */\r\n        }\r\n    }\r\n\r\n**Result from Demo** *via SppInspection*\r\n\r\nAs expected weight table is empty:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs expected 4 rows in visits table:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFinally the schema (i.e. sqlite_master) showing that the trigger exists (must do to add the extra 3 rows) :-\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GU6NN.png\r\n  [2]: https://i.stack.imgur.com/GqMga.png\r\n  [3]: https://i.stack.imgur.com/G8MDP.png","title":"Room Java - Is it possible to run transaction in interface?","body":"<p>What you are attempting is not possible in an interface as you cannot have methods with bodies in an interface.</p>\n<p>More specifically, you are trying to execute multiple statements (an UPDATE and then a DELETE) when only one can be performed at once.</p>\n<p>You options are either to define a TRIGGER (AFTER UPDATE, if the weight row can be determined from within the trigger) or probably more likely to use an abstract class and thus a function to perform the multiple statements or use methods that utilise (are passed/or retrieve) an SupportSQliteDatabase (simpler to use an abstract class).</p>\n<ul>\n<li>If you want  a TRIGGER, then you would have to utilise a Callback to create the trigger as Room does not provide annotations for triggers.</li>\n</ul>\n<p>Then to utilise a transaction you would have a dummy @Query preceding the function. e.g.</p>\n<pre><code>@Dao\nabstract class TheClassForMethodsWithBodies {\n\n    @Query(&quot;UPDATE visits SET date=:date WHERE id=5&quot;)\n    void testUpdate(Date date);\n    @Query(&quot;DELETE FROM wieght WHERE id_weight=1&quot;)\n    void testDelete();\n\n    @Query(&quot;&quot;)\n    void test(Date date) {\n        testUpdate(date);\n        testDelete();\n    }\n}\n</code></pre>\n<ul>\n<li><em>Note - the code is in principle code, it has not been compiled, run or tested and thus may contains some errors</em></li>\n</ul>\n<p><strong>Additional</strong></p>\n<p>Here's a working demo, designed just to run once, that uses all three methods.</p>\n<p>First the <code>@Entities</code>, based upon what's available from your code but a long has been used for the date (rather than have type converters).</p>\n<p><strong>Visits</strong></p>\n<pre><code>@Entity\nclass Visits {\n   @PrimaryKey\n   Long id=null;\n   Long date = System.currentTimeMillis() / 1000;\n}\n</code></pre>\n<p><strong>Weight</strong></p>\n<pre><code>@Entity\nclass Weight {\n    @PrimaryKey\n    Long id_weight=null;\n}\n</code></pre>\n<p>The <code>@Dao</code> annotated abstract class that has normal abstract methods and methods with bodies (solution 1). The insert method allowing some data to be inserted (just the one row).</p>\n<pre><code>@Dao\nabstract class AllDao {\n\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    abstract long insert(Visits visits);\n\n    @Query(&quot;UPDATE visits SET date=:date WHERE id=1&quot;)\n    abstract void resetVisitData(long date);\n    @Query(&quot;DELETE FROM weight WHERE id_weight=5&quot;)\n    abstract void deleteFromWeight();\n    @Query(&quot;&quot;)\n    void doBoth(long date) {\n        resetVisitData(date);\n        deleteFromWeight();\n    }\n}\n</code></pre>\n<p>Now, where it is a little more complex the <code>@Database</code> annotated class (using a singleton).</p>\n<p>This has a callback to add the TRIGGER, the trigger is overly complex in that it not only does the delete after the UPDATE (not that there is anything that is deleted) BUT it also adds a new row into the visits table to show that TRIGGER is actually being triggered (solution 2).</p>\n<p>Furthermore, for want of a better place (or not depending on style/practices) a function is included to get and use the SupportSQLiteDatabase (solution 3)</p>\n<pre><code>@Database(entities = {Weight.class,Visits.class}, version = 1,exportSchema = false)\nabstract class TheDatabase extends RoomDatabase {\n    abstract AllDao getAllDao();\n\n    private static TheDatabase INSTANCE;\n    static TheDatabase getINSTANCE(Context context) {\n        if (INSTANCE==null) {\n            INSTANCE = Room.databaseBuilder(\n                            context,\n                            TheDatabase.class,\n                            &quot;the_database.db&quot;\n                    )\n                    .allowMainThreadQueries()\n                    .addCallback(cb)\n                    .build();\n        }\n        return INSTANCE;\n    }\n\n    /* Solution 2 - via SupportSQLiteDatabase */\n    void viaSupportSB(long date) {\n        SupportSQLiteDatabase db = this.getOpenHelper().getWritableDatabase();\n        db.beginTransaction();\n        db.execSQL(&quot;UPDATE visits SET date=? WHERE id=1&quot;,new String[]{String.valueOf(date)});\n        db.execSQL(&quot;DELETE FROM weight WHERE id_weight=-600&quot;);\n        db.setTransactionSuccessful();\n        db.endTransaction();\n    }\n\n\n    /* USING a TRIGGER (not intended to make sense/do anything useful just demo) */\n    private static final String CREATETRIGGERSQL = &quot;CREATE TRIGGER IF NOT EXISTS theTrigger AFTER UPDATE ON visits BEGIN DELETE FROM weight WHERE id_weight=5; INSERT OR IGNORE INTO visits (date) VALUES(strftime('%s','now')); END&quot;;\n    static Callback cb  = new Callback() {\n        @Override\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\n            super.onCreate(db);\n            db.execSQL(CREATETRIGGERSQL);\n        }\n\n        @Override\n        public void onDestructiveMigration(@NonNull SupportSQLiteDatabase db) {\n            super.onDestructiveMigration(db);\n        }\n\n        @Override\n        public void onOpen(@NonNull SupportSQLiteDatabase db) {\n            super.onOpen(db);\n            db.execSQL(CREATETRIGGERSQL);\n        }\n    };\n}\n</code></pre>\n<p>To actually utilise the above some activity code <strong>MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TheDatabase roomInstance;\n    AllDao dao;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        roomInstance = TheDatabase.getINSTANCE(this);\n        dao = roomInstance.getAllDao();\n\n        dao.insert(new Visits()); /* Insert a row */\n\n        /* Solution 2 - via Trigger */\n        dao.resetVisitData(System.currentTimeMillis() - (24 * 60 * 60 * 7 /* one week ago BUT OOOPS not divided by 1000 */));\n        /* Solution 1 - via abstract class aka method with body */\n        dao.doBoth(System.currentTimeMillis() / 1000);\n        /* Solution 3 - via SupportSQLiteDatabase */\n        roomInstance.viaSupportSB(System.currentTimeMillis() + (24 * 60 * 60 * 7 /*week in the future  again OOOPS not divided by 1000*/));\n        \n        /* Expected result\n            1. sinlge row inserted into visits\n            2. trigger adds another row into visits (row 2)\n            3. doBoth updates so another row added to visits (row 3)\n            4. via SupportSQLiteDatabase updates so another row added to visits (row 4)\n            \n            So 4 rows in visits no rows in weight\n         */\n    }\n}\n</code></pre>\n<p><strong>Result from Demo</strong> <em>via SppInspection</em></p>\n<p>As expected weight table is empty:-</p>\n<p><a href=\"https://i.stack.imgur.com/GU6NN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GU6NN.png\" alt=\"enter image description here\" /></a></p>\n<p>As expected 4 rows in visits table:-</p>\n<p><a href=\"https://i.stack.imgur.com/GqMga.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GqMga.png\" alt=\"enter image description here\" /></a></p>\n<p>Finally the schema (i.e. sqlite_master) showing that the trigger exists (must do to add the extra 3 rows) :-</p>\n<p><a href=\"https://i.stack.imgur.com/G8MDP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G8MDP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26227591,"reputation":43,"user_id":19904057,"display_name":"Tholvnar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74566927,"answer_count":1,"score":2,"last_activity_date":1669336448,"creation_date":1669329192,"question_id":74566801,"body_markdown":"I&#39;m using room framework in my Android Studio project. I&#39;m trying to create a transaction inside of an interface. I already read documentation from here: https://developer.android.com/reference/androidx/room/Transaction\r\n\r\nI know that we should create transactions inside abstract classes and not in interfaces. I&#39;m just wondering if it&#39;s even possible, cause I already have over a dozen interfaces in my project and don&#39;t really wanna to rewrite them to abstract classes. \r\n\r\n[![room transaction error in interface](https://i.stack.imgur.com/57aIu.png)](https://i.stack.imgur.com/57aIu.png)\r\n\r\n\r\n","title":"Room Java - Is it possible to run transaction in interface?","body":"<p>I'm using room framework in my Android Studio project. I'm trying to create a transaction inside of an interface. I already read documentation from here: <a href=\"https://developer.android.com/reference/androidx/room/Transaction\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/room/Transaction</a></p>\n<p>I know that we should create transactions inside abstract classes and not in interfaces. I'm just wondering if it's even possible, cause I already have over a dozen interfaces in my project and don't really wanna to rewrite them to abstract classes.</p>\n<p><a href=\"https://i.stack.imgur.com/57aIu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/57aIu.png\" alt=\"room transaction error in interface\" /></a></p>\n"},{"tags":["java","image","image-processing","stb-image"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1669365954,"post_id":74566726,"comment_id":131629909,"body_markdown":"I think you are right about using ImageIO, it won&#39;t work for you due to AWT dependencies, unfortunately. If you only need image dimensions for a few, known formats, writing this from scratch in Java isn&#39;t that hard.","body":"I think you are right about using ImageIO, it won&#39;t work for you due to AWT dependencies, unfortunately. If you only need image dimensions for a few, known formats, writing this from scratch in Java isn&#39;t that hard."}],"answers":[{"tags":[],"owner":{"account_id":2241017,"reputation":706,"user_id":1975276,"accept_rate":68,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669336240,"creation_date":1669336240,"answer_id":74567358,"question_id":74566726,"body_markdown":"I figured it out. Keep in mind that I&#39;m using STBImage on the LWJGL bindings, but:\r\n\r\n\t\ttry (MemoryStack stack = MemoryStack.stackPush()) {\r\n\t\t\tIntBuffer w = stack.mallocInt(1);\r\n\t\t\tIntBuffer h = stack.mallocInt(1);\r\n\t\t\tIntBuffer c = stack.mallocInt(1);\r\n\t\t\t\r\n\t\t\tSTBImage.stbi_info(imageFile.getAbsolutePath(), w, h, c);\r\n\t\t\t\r\n\t\t\treturn new Vector2i(w.get(), h.get());\r\n\t\t}\r\n\r\nThis will check the given file&#39;s image dimensions without actually fully loading it. It outputs a Vector2i containing the dimensions.","title":"Java Images/STB Images: peek into file to check width/height without actually loading the whole image (checking image metadata?)","body":"<p>I figured it out. Keep in mind that I'm using STBImage on the LWJGL bindings, but:</p>\n<pre><code>    try (MemoryStack stack = MemoryStack.stackPush()) {\n        IntBuffer w = stack.mallocInt(1);\n        IntBuffer h = stack.mallocInt(1);\n        IntBuffer c = stack.mallocInt(1);\n        \n        STBImage.stbi_info(imageFile.getAbsolutePath(), w, h, c);\n        \n        return new Vector2i(w.get(), h.get());\n    }\n</code></pre>\n<p>This will check the given file's image dimensions without actually fully loading it. It outputs a Vector2i containing the dimensions.</p>\n"}],"owner":{"account_id":2241017,"reputation":706,"user_id":1975276,"accept_rate":68,"display_name":"Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74567358,"answer_count":1,"score":0,"last_activity_date":1669336240,"creation_date":1669328590,"question_id":74566726,"body_markdown":"I&#39;m making a texture streaming system for my game. I&#39;ve successfully built it - but it has one problem. For the first frame after it&#39;s made, the width/height is 1 because it has begun being read yet by the streamer. I&#39;m trying to think of a way I can possibly &quot;peek&quot; into the image&#39;s file and get the dimensions without actually loading the whole thing at once.\r\n\r\nI have a few limitations here: we don&#39;t use AWT and can&#39;t access it. Due to how our threads are set up (due to making it compatible with MacOS), if we try and access AWT, it&#39;ll crash the program on Mac Systems. So I can&#39;t use any of those tools (BufferedImage, etc). I&#39;ve never accessed ImageIO before either, but I&#39;m quite sure if it&#39;d cause a crash just because it has a function that returns BufferedImages.\r\n\r\nWhat I have access to is the file location itself. The first thing that comes to mind is checking the image metadata, and at the very least using that as a placeholder. When I&#39;ve checked online, it appears that the only native to Java method is using ImageIO, but as I said above, I think that could cause crashes due to it referencing AWT classes for stuff like ImageIO read.\r\n\r\n**So, to summarize: I&#39;m streaming a texture, but I need a way to check the image for its dimensions (without actually loading the entire image) so that I know the dimensions immediately/as soon as the streaming is set up.**\r\n\r\nThank you!\r\n\r\nEdit*\r\nI also forgot to mention, we use Java-bindings for STB-Image for our texture loading/saving/etc needs. If it has a way to access metadata, please let me know!","title":"Java Images/STB Images: peek into file to check width/height without actually loading the whole image (checking image metadata?)","body":"<p>I'm making a texture streaming system for my game. I've successfully built it - but it has one problem. For the first frame after it's made, the width/height is 1 because it has begun being read yet by the streamer. I'm trying to think of a way I can possibly &quot;peek&quot; into the image's file and get the dimensions without actually loading the whole thing at once.</p>\n<p>I have a few limitations here: we don't use AWT and can't access it. Due to how our threads are set up (due to making it compatible with MacOS), if we try and access AWT, it'll crash the program on Mac Systems. So I can't use any of those tools (BufferedImage, etc). I've never accessed ImageIO before either, but I'm quite sure if it'd cause a crash just because it has a function that returns BufferedImages.</p>\n<p>What I have access to is the file location itself. The first thing that comes to mind is checking the image metadata, and at the very least using that as a placeholder. When I've checked online, it appears that the only native to Java method is using ImageIO, but as I said above, I think that could cause crashes due to it referencing AWT classes for stuff like ImageIO read.</p>\n<p><strong>So, to summarize: I'm streaming a texture, but I need a way to check the image for its dimensions (without actually loading the entire image) so that I know the dimensions immediately/as soon as the streaming is set up.</strong></p>\n<p>Thank you!</p>\n<p>Edit*\nI also forgot to mention, we use Java-bindings for STB-Image for our texture loading/saving/etc needs. If it has a way to access metadata, please let me know!</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1669336160,"post_id":74567331,"comment_id":131625442,"body_markdown":"In your superclass (`Enemy`), create a method (abstract if possible) that all subclasses have to overwrite. Call that method in `Enemy`&#39;s constructor. Set all the values there.","body":"In your superclass (<code>Enemy</code>), create a method (abstract if possible) that all subclasses have to overwrite. Call that method in <code>Enemy</code>&#39;s constructor. Set all the values there."},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":1,"creation_date":1669337221,"post_id":74567331,"comment_id":131625543,"body_markdown":"what f1sh is describing is the factory pattern and can solve your issue. google for that term and you&#39;ll get an abundance of further information on what to do and what not to do.","body":"what f1sh is describing is the factory pattern and can solve your issue. google for that term and you&#39;ll get an abundance of further information on what to do and what not to do."}],"owner":{"account_id":22688776,"reputation":48,"user_id":16858002,"display_name":"turke1034"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669335884,"creation_date":1669335884,"question_id":74567331,"body_markdown":"I have a game where there are enemies which is a Enemy class which has many subclasses as variants or types of enemies, for example FastEnemy or RangedEnemy. I obviously want different enemies to have different values for health, speed and attack damage. At the moment I set these values in the subclass constructors like so:\r\n\r\n    public FastEnemy(Vector pos) {\r\n        super(pos); // Enemy constructor is just setting this.pos to pos\r\n        health = 50;\r\n    }\r\n\r\nBut I want to add a difficulty system where after the values are initialized, they are each multiplied by a float (the difficulty).\r\n\r\n    public FastEnemy(Vector pos) {\r\n        super(pos);\r\n        health = 50;\r\n\r\n        applyDifficulty();\r\n    }\r\n\r\nI don&#39;t know how to achieve this without post-constructor methods (which seem to be a bad practice?)","title":"How to change subclass variables after their constructors?","body":"<p>I have a game where there are enemies which is a Enemy class which has many subclasses as variants or types of enemies, for example FastEnemy or RangedEnemy. I obviously want different enemies to have different values for health, speed and attack damage. At the moment I set these values in the subclass constructors like so:</p>\n<pre><code>public FastEnemy(Vector pos) {\n    super(pos); // Enemy constructor is just setting this.pos to pos\n    health = 50;\n}\n</code></pre>\n<p>But I want to add a difficulty system where after the values are initialized, they are each multiplied by a float (the difficulty).</p>\n<pre><code>public FastEnemy(Vector pos) {\n    super(pos);\n    health = 50;\n\n    applyDifficulty();\n}\n</code></pre>\n<p>I don't know how to achieve this without post-constructor methods (which seem to be a bad practice?)</p>\n"},{"tags":["java","string","list","arraylist","materialbutton"],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669334367,"creation_date":1669333878,"answer_id":74567193,"question_id":74567170,"body_markdown":"You can use the java stream api for that:\r\n\r\n    String[] buttonStates = buttons.stream()\r\n      .map(MaterialButton::isChecked) //maps to boolean (assuming isChecked returns boolean)\r\n      .map(String::valueOf) //maps to String\r\n      .toArray(String[]::new); //collects all Strings into an array\r\n\r\nThe `String[]::new` is a Function that takes the number of elements as an argument, meaning it creates a `new String[buttons.size()]`.","title":"Applying a function to list values and creating a resultant array with less code","body":"<p>You can use the java stream api for that:</p>\n<pre><code>String[] buttonStates = buttons.stream()\n  .map(MaterialButton::isChecked) //maps to boolean (assuming isChecked returns boolean)\n  .map(String::valueOf) //maps to String\n  .toArray(String[]::new); //collects all Strings into an array\n</code></pre>\n<p>The <code>String[]::new</code> is a Function that takes the number of elements as an argument, meaning it creates a <code>new String[buttons.size()]</code>.</p>\n"}],"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74567193,"answer_count":1,"score":-1,"last_activity_date":1669334367,"creation_date":1669333575,"question_id":74567170,"body_markdown":"I understand that what I have currently is maybe better for readability, but I am just interested in the different ways I could achieve the same result with less code.\r\n\r\n    ArrayList&lt;MaterialButton&gt; buttons = new ArrayList&lt;&gt;();\r\n    \r\n    // grab button states and write to database\r\n            String[] buttonStates = new String[buttons.size()];\r\n    \r\n            for (int i = 0; i &lt; buttons.size(); i++) {\r\n                buttonStates[i] = String.valueOf(buttons.get(i).isChecked());\r\n            }\r\n\r\nAppreciate any input I can get on this!","title":"Applying a function to list values and creating a resultant array with less code","body":"<p>I understand that what I have currently is maybe better for readability, but I am just interested in the different ways I could achieve the same result with less code.</p>\n<pre><code>ArrayList&lt;MaterialButton&gt; buttons = new ArrayList&lt;&gt;();\n\n// grab button states and write to database\n        String[] buttonStates = new String[buttons.size()];\n\n        for (int i = 0; i &lt; buttons.size(); i++) {\n            buttonStates[i] = String.valueOf(buttons.get(i).isChecked());\n        }\n</code></pre>\n<p>Appreciate any input I can get on this!</p>\n"},{"tags":["java","string","substring","overwrite"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669333849,"creation_date":1669333849,"answer_id":74567192,"question_id":74567161,"body_markdown":"Instead of concatentating substrings, I would use a `StringBuilder`. Iterate the contents. On `-` insert a `+`. Like,\r\n\r\n\tString p = &quot;5x^6+3x-8x^2-8x^3&quot;;\r\n\tStringBuilder sb = new StringBuilder(p);\r\n\tfor (int i = 0; i &lt; sb.length(); i++) {\r\n\t\tif (sb.charAt(i) == &#39;-&#39;) {\r\n\t\t\tsb.insert(i, &#39;+&#39;);\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n\tp = sb.toString();\r\n\r\nResults in (as requested)\r\n\r\n    5x^6+3x+-8x^2+-8x^3\r\n","title":"Getting String and return the same string with &quot;+&quot; before every&quot;-&quot;","body":"<p>Instead of concatentating substrings, I would use a <code>StringBuilder</code>. Iterate the contents. On <code>-</code> insert a <code>+</code>. Like,</p>\n<pre><code>String p = &quot;5x^6+3x-8x^2-8x^3&quot;;\nStringBuilder sb = new StringBuilder(p);\nfor (int i = 0; i &lt; sb.length(); i++) {\n    if (sb.charAt(i) == '-') {\n        sb.insert(i, '+');\n        i++;\n    }\n}\np = sb.toString();\n</code></pre>\n<p>Results in (as requested)</p>\n<pre><code>5x^6+3x+-8x^2+-8x^3\n</code></pre>\n"}],"owner":{"account_id":18132103,"reputation":5,"user_id":13187078,"display_name":"roi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74567192,"answer_count":1,"score":-1,"last_activity_date":1669333849,"creation_date":1669333496,"question_id":74567161,"body_markdown":"I get a String and I need to return with &quot;+&quot; before every &quot;-&quot;in it \r\nfor example for the String= &quot;5x^6+3x-8x^2-8x^3&quot; it should return:5x^6+3x+-8x^2+-8x^3 \r\n\r\n\r\n```\r\n        String p=&quot;-5.0x^4-1.0x^3-3.0x^2-2.0&quot;\r\n        String temp=p;\r\n        for(int i = 1;i&lt;p.length();i++) {\r\n\t\t\tint start=0;\r\n\t\t\tif(p.charAt(i)==&#39;-&#39;) {\r\n\t\t\t\ttemp =temp.substring(start,i);\r\n\t\t\t\ttemp+=&quot;+&quot;;\r\n\t\t\t\ttemp+=p.substring(i+1,p.length());//here it over writes\r\n\t\t\t\tstart=i;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n```\r\nit switches the &quot;-&quot; with &quot;+&quot;\r\nthe return: -5.0x^4+1.0x^3+3.0x^2+2.0\r\n","title":"Getting String and return the same string with &quot;+&quot; before every&quot;-&quot;","body":"<p>I get a String and I need to return with &quot;+&quot; before every &quot;-&quot;in it\nfor example for the String= &quot;5x^6+3x-8x^2-8x^3&quot; it should return:5x^6+3x+-8x^2+-8x^3</p>\n<pre><code>        String p=&quot;-5.0x^4-1.0x^3-3.0x^2-2.0&quot;\n        String temp=p;\n        for(int i = 1;i&lt;p.length();i++) {\n            int start=0;\n            if(p.charAt(i)=='-') {\n                temp =temp.substring(start,i);\n                temp+=&quot;+&quot;;\n                temp+=p.substring(i+1,p.length());//here it over writes\n                start=i;\n            }\n        }\n        \n</code></pre>\n<p>it switches the &quot;-&quot; with &quot;+&quot;\nthe return: -5.0x^4+1.0x^3+3.0x^2+2.0</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":0,"creation_date":1669315182,"post_id":74564932,"comment_id":131621595,"body_markdown":"I see nothing wrong with your code, according to the [documentation](https://libgdx.com/wiki/start/a-simple-game) anyway. You can move to the left and not to the right?","body":"I see nothing wrong with your code, according to the <a href=\"https://libgdx.com/wiki/start/a-simple-game\" rel=\"nofollow noreferrer\">documentation</a> anyway. You can move to the left and not to the right?"}],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669333724,"creation_date":1669332912,"answer_id":74567110,"question_id":74564932,"body_markdown":"The position of the ship is an integer. Your increment is a float. You maybe have a decent graphics card which can render a simple game at e.g. 200+ fps continuous render (or more even could be crazy). In 200fps case the increment would be (1/200)*20 = 1/10 float. \r\n\r\n```integer += .1f```\r\n won&#39;t change the original integer.\r\n\r\nChange your position to a float as well, then cast (or convert) to an integer when you need to actually render so x can increment very small values. \r\n ","title":"Java game with libGDX: my ship cant move to the right","body":"<p>The position of the ship is an integer. Your increment is a float. You maybe have a decent graphics card which can render a simple game at e.g. 200+ fps continuous render (or more even could be crazy). In 200fps case the increment would be (1/200)*20 = 1/10 float.</p>\n<p><code>integer += .1f</code>\nwon't change the original integer.</p>\n<p>Change your position to a float as well, then cast (or convert) to an integer when you need to actually render so x can increment very small values.</p>\n"}],"owner":{"account_id":27037992,"reputation":1,"user_id":20593290,"display_name":"PedroPereira14"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669333724,"creation_date":1669314383,"question_id":74564932,"body_markdown":"I&#39;m doing a Java Project that consists of making a &quot;Space Invaders&quot; clone. I&#39;m starting with the ship movement, searching on stackOverflow I found this code:\r\n\r\n```\r\nif(Gdx.input.isKeyPressed(Input.Keys.LEFT) )\r\n    x -= Gdx.graphics.getDeltaTime() * PlayerSpeed;\r\nif(Gdx.input.isKeyPressed(Input.Keys.RIGHT) )\r\n    x += Gdx.graphics.getDeltaTime() * PlayerSpeed;\r\n\r\n```\r\nI use it to the playerShip(the class below):\r\n\r\n```\r\npublic class PlayerShip extends Ship {\r\n    private Animator animator;\r\n    private float PlayerSpeed = 20.0f;\r\n    private int x,y;\r\n\r\n    public PlayerShip(SpriteBatch batch){\r\n        this.animator=new Animator(batch,&quot;ship.png&quot;, 5, 2);\r\n    }\r\n\r\n    public void create(){\r\n        animator.create();\r\n    }\r\n\r\n    public void render(){\r\n        this.animator.render(this.x,this.y);\r\n        if(Gdx.input.isKeyPressed(Input.Keys.LEFT) )\r\n            x -= Gdx.graphics.getDeltaTime() * PlayerSpeed;\r\n        if(Gdx.input.isKeyPressed(Input.Keys.RIGHT) )\r\n            x += Gdx.graphics.getDeltaTime() * PlayerSpeed;\r\n    }\r\n\r\n\r\n\r\n    public void setX(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public void setY(int y) {\r\n        this.y = y;\r\n    }\r\n}\r\n\r\n```\r\n\r\nGame(main):\r\n\r\n```\r\npublic class Game extends ApplicationAdapter {\r\n    private SpriteBatch batch;\r\n\r\n    private BackgroundManagement backgroundManagement;\r\n    private BitmapFont font;\r\n\r\n    private PlayerShip player;\r\n    private SmallShip smallShip;\r\n\r\n\r\n    @Override\r\n    public void create() {\r\n        Gdx.graphics.setWindowedMode(600, 800);\r\n        batch = new SpriteBatch();\r\n        player = new PlayerShip(batch);\r\n        smallShip = new SmallShip(batch);\r\n        player.create();\r\n        player.setX(300);\r\n        player.setY(100);\r\n        smallShip.create();\r\n        smallShip.setX(200);\r\n        smallShip.setY(400);\r\n        font = new BitmapFont(Gdx.files.internal(&quot;gamefont.fnt&quot;),\r\n                Gdx.files.internal(&quot;gamefont.png&quot;), false);\r\n        backgroundManagement = new BackgroundManagement(batch);\r\n    }\r\n\r\n    @Override\r\n    public void render() {\r\n        Gdx.gl.glClearColor(0, 0, 0.2f, 1);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n        batch.begin();\r\n        backgroundManagement.render();\r\n        player.render();\r\n        smallShip.render();\r\n        batch.end();\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n        batch.dispose();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nWhen trying on my code, the ship didn&#39;t move to the right, I had tried various solutions but i didn&#39;t found any, Any help is appreciated, thanks!","title":"Java game with libGDX: my ship cant move to the right","body":"<p>I'm doing a Java Project that consists of making a &quot;Space Invaders&quot; clone. I'm starting with the ship movement, searching on stackOverflow I found this code:</p>\n<pre><code>if(Gdx.input.isKeyPressed(Input.Keys.LEFT) )\n    x -= Gdx.graphics.getDeltaTime() * PlayerSpeed;\nif(Gdx.input.isKeyPressed(Input.Keys.RIGHT) )\n    x += Gdx.graphics.getDeltaTime() * PlayerSpeed;\n\n</code></pre>\n<p>I use it to the playerShip(the class below):</p>\n<pre><code>public class PlayerShip extends Ship {\n    private Animator animator;\n    private float PlayerSpeed = 20.0f;\n    private int x,y;\n\n    public PlayerShip(SpriteBatch batch){\n        this.animator=new Animator(batch,&quot;ship.png&quot;, 5, 2);\n    }\n\n    public void create(){\n        animator.create();\n    }\n\n    public void render(){\n        this.animator.render(this.x,this.y);\n        if(Gdx.input.isKeyPressed(Input.Keys.LEFT) )\n            x -= Gdx.graphics.getDeltaTime() * PlayerSpeed;\n        if(Gdx.input.isKeyPressed(Input.Keys.RIGHT) )\n            x += Gdx.graphics.getDeltaTime() * PlayerSpeed;\n    }\n\n\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n}\n\n</code></pre>\n<p>Game(main):</p>\n<pre><code>public class Game extends ApplicationAdapter {\n    private SpriteBatch batch;\n\n    private BackgroundManagement backgroundManagement;\n    private BitmapFont font;\n\n    private PlayerShip player;\n    private SmallShip smallShip;\n\n\n    @Override\n    public void create() {\n        Gdx.graphics.setWindowedMode(600, 800);\n        batch = new SpriteBatch();\n        player = new PlayerShip(batch);\n        smallShip = new SmallShip(batch);\n        player.create();\n        player.setX(300);\n        player.setY(100);\n        smallShip.create();\n        smallShip.setX(200);\n        smallShip.setY(400);\n        font = new BitmapFont(Gdx.files.internal(&quot;gamefont.fnt&quot;),\n                Gdx.files.internal(&quot;gamefont.png&quot;), false);\n        backgroundManagement = new BackgroundManagement(batch);\n    }\n\n    @Override\n    public void render() {\n        Gdx.gl.glClearColor(0, 0, 0.2f, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        batch.begin();\n        backgroundManagement.render();\n        player.render();\n        smallShip.render();\n        batch.end();\n    }\n\n    @Override\n    public void dispose() {\n        batch.dispose();\n    }\n}\n</code></pre>\n<p>When trying on my code, the ship didn't move to the right, I had tried various solutions but i didn't found any, Any help is appreciated, thanks!</p>\n"},{"tags":["java","mysql","sql","database"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1669332681,"post_id":74567084,"comment_id":131624999,"body_markdown":"Have you simple select with order by `suppliers_ID`?","body":"Have you simple select with order by <code>suppliers_ID</code>?"},{"owner":{"account_id":25320815,"reputation":1,"user_id":19142109,"display_name":"Kasun Miuranga"},"score":0,"creation_date":1669332838,"post_id":74567084,"comment_id":131625023,"body_markdown":"SELECT *\nFROM other_suppliers\nORDER BY Supplier_ID DESC LIMIT 1   ,, yes, but it displays S09 value","body":"SELECT * FROM other_suppliers ORDER BY Supplier_ID DESC LIMIT 1   ,, yes, but it displays S09 value"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669333436,"creation_date":1669332940,"answer_id":74567113,"question_id":74567084,"body_markdown":"You may sort on only the numeric portion of the `Suppliers_ID`:\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    SELECT *\r\n    FROM tea_suppliers\r\n    ORDER BY CAST(SUBSTRING(Suppliers_ID, 2) AS UNSIGNED);\r\n\r\nNote that a better table design would be to make `Suppliers_ID` a pure numeric column.  Then you could simply order using this column without making a cast.","title":"I need a help for Database select * sorting","body":"<p>You may sort on only the numeric portion of the <code>Suppliers_ID</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM tea_suppliers\nORDER BY CAST(SUBSTRING(Suppliers_ID, 2) AS UNSIGNED);\n</code></pre>\n<p>Note that a better table design would be to make <code>Suppliers_ID</code> a pure numeric column.  Then you could simply order using this column without making a cast.</p>\n"}],"owner":{"account_id":25320815,"reputation":1,"user_id":19142109,"display_name":"Kasun Miuranga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74567113,"answer_count":1,"score":-1,"last_activity_date":1669333436,"creation_date":1669332457,"question_id":74567084,"body_markdown":"[See Image ](https://i.stack.imgur.com/usOMS.png)\r\n\r\nhere is my table SQL Query\r\n```\r\nCREATE TABLE IF NOT EXISTS tea_suppliers\r\n(\r\n    Suppliers_ID VARCHAR(10) NOT NULL UNIQUE,\r\n    Name         VARCHAR(45) NOT NULL,\r\n    ID           VARCHAR(12) NOT NULL UNIQUE,\r\n    Address      VARCHAR(45) NOT NULL,\r\n    Mobile_No    VARCHAR(10) NULL DEFAULT NULL,\r\n    PRIMARY KEY (Suppliers_ID)\r\n);\r\n```\r\n\r\nI need to display S01,S02,...,S09,S010,S011  like pattern.\r\nBut select * from display pattern like S01,S010,S011,S02,...,S09 (see image)\r\nPlease tell there is any way to do that ","title":"I need a help for Database select * sorting","body":"<p><a href=\"https://i.stack.imgur.com/usOMS.png\" rel=\"nofollow noreferrer\">See Image </a></p>\n<p>here is my table SQL Query</p>\n<pre><code>CREATE TABLE IF NOT EXISTS tea_suppliers\n(\n    Suppliers_ID VARCHAR(10) NOT NULL UNIQUE,\n    Name         VARCHAR(45) NOT NULL,\n    ID           VARCHAR(12) NOT NULL UNIQUE,\n    Address      VARCHAR(45) NOT NULL,\n    Mobile_No    VARCHAR(10) NULL DEFAULT NULL,\n    PRIMARY KEY (Suppliers_ID)\n);\n</code></pre>\n<p>I need to display S01,S02,...,S09,S010,S011  like pattern.\nBut select * from display pattern like S01,S010,S011,S02,...,S09 (see image)\nPlease tell there is any way to do that</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491909263,"post_id":43342059,"comment_id":73751636,"body_markdown":"Why do you call `new File(targetFilePath)` three times?","body":"Why do you call <code>new File(targetFilePath)</code> three times?"},{"owner":{"account_id":2449718,"reputation":626,"user_id":2136286,"accept_rate":50,"display_name":"the.Legend"},"score":0,"creation_date":1491913403,"post_id":43342059,"comment_id":73754679,"body_markdown":"Yeah, I know. That&#39;s a copy-paste of original code the way it was written by previous team long time ago. I didn&#39;t do any refactoring yet. Believe me, that&#39;s not the worst part of the code","body":"Yeah, I know. That&#39;s a copy-paste of original code the way it was written by previous team long time ago. I didn&#39;t do any refactoring yet. Believe me, that&#39;s not the worst part of the code"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1669333412,"post_id":43342059,"comment_id":131625106,"body_markdown":"My first step would have been to change the code to use [Files.delete](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-) in order to get a *reason* for failure to delete.","body":"My first step would have been to change the code to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\" rel=\"nofollow noreferrer\">Files.delete</a> in order to get a <i>reason</i> for failure to delete."}],"answers":[{"tags":[],"owner":{"account_id":2449718,"reputation":626,"user_id":2136286,"accept_rate":50,"display_name":"the.Legend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1492000583,"creation_date":1492000061,"answer_id":43369524,"question_id":43342059,"body_markdown":"After some research I decided to approach this problem in a bit different way and cast powerful lost magic of the Ancients - that is, use native system C calls with help of [JNA (Java Native Access)][1]\r\n\r\nHere&#39;s an example of the code with some explanations for JNA first-time users:\r\n\r\n    package com.WeLoveStackOverflow.JavaJNAUnlinkTest;\r\n    \r\n    import java.io.File;    \r\n    import com.sun.jna.Library;\r\n    import com.sun.jna.Native;\r\n    \r\n    public class Main {\r\n        private static CStdLib cStdLib;\r\n    \r\n        // Here you specify prototypes of native C methods to be called during runtime\r\n        // Because unlink(char *path) uses pointer to const char as argument, a wrapper class StringByReference is used to convert data types\r\n        // Link to other examples at the end of this post\r\n        public interface CStdLib extends Library {\r\n            int unlink(StringByReference path);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // Here I&#39;m declaring libc usage, but you can link anything. Even your own libraries\r\n            cStdLib = (CStdLib)Native.loadLibrary(&quot;c&quot;, CStdLib.class);\r\n    \r\n            Logger.INFO(&quot;Source file: &quot; + args[0]);\r\n            Logger.INFO(&quot;Target file: &quot; + args[1]);\r\n            moveFile(args[0],args[1]);\r\n        }\r\n    \r\n        private static boolean moveFile(String sourceFilePath, String targetFilePath) {\r\n            boolean fileStatus = false;\r\n            File sourceFile = new File(sourceFilePath );\r\n            File targetFile = new File(targetFilePath );\r\n            if(sourceFile.canRead() &amp;&amp; sourceFile.canWrite() ) {\r\n                if(targetFile.exists()) {\r\n                    fileStatus = targetFile.delete();\r\n                    if(!fileStatus) {\r\n                        Logger.ERROR(&quot;Target deletion failed&quot;);\r\n                    }\r\n                }\r\n    \r\n                fileStatus = sourceFile.renameTo(targetFile);\r\n    \r\n                if(!fileStatus) {\r\n                    Logger.ERROR(&quot;RenameTo method failed&quot;);\r\n                    Logger.INFO(&quot;Trying to copy file and unlink the original&quot;);\r\n    \r\n                    // ToDo: add copy method\r\n    \r\n                    // That&#39;s where we convert String to char*\r\n                    StringByReference unlinkPath=new StringByReference(sourceFilePath);\r\n                    int status=cStdLib.unlink(unlinkPath);\r\n    \r\n                    if(status==0){\r\n                        Logger.INFO(&quot;Unlink succeeded&quot;);\r\n                    }else {\r\n                        Logger.ERROR(&quot;Unlink also failed&quot;);\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    Logger.INFO(&quot;Move succeeded&quot;);\r\n                }\r\n            } else {\r\n                Logger.ERROR(&quot;Cannot read file&quot;);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\nAnd class for converting data types:\r\n\r\n    package com.WeLoveStackOverflow.JavaJNAUnlinkTest;\r\n    import com.sun.jna.ptr.ByReference;\r\n    \r\n    public class StringByReference extends ByReference {\r\n        public StringByReference() {\r\n            this(0);\r\n        }\r\n    \r\n        public StringByReference(String str) {\r\n            super(str.length() &lt; 4 ? 4 : str.length() + 1);\r\n            setValue(str);\r\n        }\r\n    \r\n        private void setValue(String str) {\r\n            getPointer().setString(0, str);\r\n        }\r\n    }\r\n\r\n   \r\n\r\nSo what we&#39;ve got in the end? A nice Java unlink utility! test scenario: create a text file in session A, open it in `less` in session B and run java code in session A. Works as expected:\r\n\r\n    [me@server1 JavaFileTest]$ lsof | grep sourceFile\r\n    less      12611   me    4r      REG  253,0        0      73 /home/me/JavaFileTest/sourceFile (deleted)\r\n\r\n\r\n\r\nThis is the article I used as a reference:\r\nhttp://jnaexamples.blogspot.com/2012/03/java-native-access-is-easy-way-to.html\r\nIt contains other good examples of wrapping data types for C calls\r\n\r\nTips:\r\n\r\n - Make sure you have both JNA and JNA-platform files in your classpath\r\n - JNA 4.4.0 requires GLIBC_2.14. If you&#39;re getting this error then\r\n   simply downgrade JNA (4.2.2 worked for me)\r\n\r\n    `Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError:  /lib64/libc.so.6: version &#39;GLIBC_2.14&#39; not found`\r\n\r\n\r\n  [1]: https://github.com/java-native-access/jna","title":"Java delete files unix way (unlink header)","body":"<p>After some research I decided to approach this problem in a bit different way and cast powerful lost magic of the Ancients - that is, use native system C calls with help of <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA (Java Native Access)</a></p>\n\n<p>Here's an example of the code with some explanations for JNA first-time users:</p>\n\n<pre><code>package com.WeLoveStackOverflow.JavaJNAUnlinkTest;\n\nimport java.io.File;    \nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\n\npublic class Main {\n    private static CStdLib cStdLib;\n\n    // Here you specify prototypes of native C methods to be called during runtime\n    // Because unlink(char *path) uses pointer to const char as argument, a wrapper class StringByReference is used to convert data types\n    // Link to other examples at the end of this post\n    public interface CStdLib extends Library {\n        int unlink(StringByReference path);\n    }\n\n    public static void main(String[] args) {\n\n        // Here I'm declaring libc usage, but you can link anything. Even your own libraries\n        cStdLib = (CStdLib)Native.loadLibrary(\"c\", CStdLib.class);\n\n        Logger.INFO(\"Source file: \" + args[0]);\n        Logger.INFO(\"Target file: \" + args[1]);\n        moveFile(args[0],args[1]);\n    }\n\n    private static boolean moveFile(String sourceFilePath, String targetFilePath) {\n        boolean fileStatus = false;\n        File sourceFile = new File(sourceFilePath );\n        File targetFile = new File(targetFilePath );\n        if(sourceFile.canRead() &amp;&amp; sourceFile.canWrite() ) {\n            if(targetFile.exists()) {\n                fileStatus = targetFile.delete();\n                if(!fileStatus) {\n                    Logger.ERROR(\"Target deletion failed\");\n                }\n            }\n\n            fileStatus = sourceFile.renameTo(targetFile);\n\n            if(!fileStatus) {\n                Logger.ERROR(\"RenameTo method failed\");\n                Logger.INFO(\"Trying to copy file and unlink the original\");\n\n                // ToDo: add copy method\n\n                // That's where we convert String to char*\n                StringByReference unlinkPath=new StringByReference(sourceFilePath);\n                int status=cStdLib.unlink(unlinkPath);\n\n                if(status==0){\n                    Logger.INFO(\"Unlink succeeded\");\n                }else {\n                    Logger.ERROR(\"Unlink also failed\");\n                    return false;\n                }\n            } else {\n                Logger.INFO(\"Move succeeded\");\n            }\n        } else {\n            Logger.ERROR(\"Cannot read file\");\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>And class for converting data types:</p>\n\n<pre><code>package com.WeLoveStackOverflow.JavaJNAUnlinkTest;\nimport com.sun.jna.ptr.ByReference;\n\npublic class StringByReference extends ByReference {\n    public StringByReference() {\n        this(0);\n    }\n\n    public StringByReference(String str) {\n        super(str.length() &lt; 4 ? 4 : str.length() + 1);\n        setValue(str);\n    }\n\n    private void setValue(String str) {\n        getPointer().setString(0, str);\n    }\n}\n</code></pre>\n\n<p>So what we've got in the end? A nice Java unlink utility! test scenario: create a text file in session A, open it in <code>less</code> in session B and run java code in session A. Works as expected:</p>\n\n<pre><code>[me@server1 JavaFileTest]$ lsof | grep sourceFile\nless      12611   me    4r      REG  253,0        0      73 /home/me/JavaFileTest/sourceFile (deleted)\n</code></pre>\n\n<p>This is the article I used as a reference:\n<a href=\"http://jnaexamples.blogspot.com/2012/03/java-native-access-is-easy-way-to.html\" rel=\"nofollow noreferrer\">http://jnaexamples.blogspot.com/2012/03/java-native-access-is-easy-way-to.html</a>\nIt contains other good examples of wrapping data types for C calls</p>\n\n<p>Tips:</p>\n\n<ul>\n<li>Make sure you have both JNA and JNA-platform files in your classpath</li>\n<li><p>JNA 4.4.0 requires GLIBC_2.14. If you're getting this error then\nsimply downgrade JNA (4.2.2 worked for me)</p>\n\n<p><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError:  /lib64/libc.so.6: version 'GLIBC_2.14' not found</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3052105,"reputation":79,"user_id":2586438,"display_name":"fjab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669332985,"creation_date":1669332985,"answer_id":74567117,"question_id":43342059,"body_markdown":"`File.delete` seems to behave as &quot;unlink&quot;.\r\n\r\nHere&#39;s an example\r\n\r\n```\r\n\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n    public static void main(String args[]) throws InterruptedException, IOException {\r\n        File invisibleFile = new File(&quot;invisiblefile&quot;);\r\n        invisibleFile.createNewFile();\r\n        FileWriter fw = new FileWriter(invisibleFile);\r\n        System.out.println(&quot;file created&quot;);\r\n        Thread.sleep(5000);\r\n\r\n        boolean deleted = invisibleFile.delete();\r\n        if(!deleted) {\r\n            System.out.println(&quot;error deleting file&quot;);\r\n            System.exit(1);\r\n        }\r\n        fw.write(&quot;hello&quot;);       \r\n        fw.flush();         \r\n        System.out.println(&quot;file deleted&quot;);\r\n        // &#39;ls invisiblefile&#39; does not return anything\r\n        // but the file is still held open by the process:\r\n        // lsof -p $(ps -ef | awk &#39;/[I]nvisibleFile.java/ {print $2}&#39;) | awk &#39;/invisiblefile/ {print &quot;size:&quot; $7; print &quot;inode:&quot; $8}&#39;\r\n        Thread.sleep(5000);\r\n\r\n        fw.close();\r\n        System.out.println(&quot;file closed&quot;);\r\n        Thread.sleep(5000);\r\n        // after closing file, it is completely gone\r\n        \r\n        System.out.println(&quot;end&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd here&#39;s a terminal session to check the program&#39;s behaviour:\r\n\r\n```\r\n23:30:07 % java InvisibleFile.java\r\nfile created\r\n^Z\r\nzsh: suspended  java InvisibleFile.java\r\n23:30:11 % ls invisiblefile\r\ninvisiblefile\r\n23:30:14 % fg %1\r\n[1]  - continued  java InvisibleFile.java\r\nfile deleted\r\n^Z\r\nzsh: suspended  java InvisibleFile.java\r\n23:30:21 % ls invisiblefile\r\nls: invisiblefile: No such file or directory\r\n23:30:23 % lsof -p $(ps -ef | awk &#39;/[I]nvisibleFile.java/ {print $2}&#39;) | awk &#39;/invisiblefile/ {print &quot;size:&quot; $7; print &quot;inode:&quot; $8}&#39;\r\nsize:5\r\ninode:33745509\r\n23:30:30 % fg %1\r\n[1]  - continued  java InvisibleFile.java\r\nfile closed\r\n^Z\r\nzsh: suspended  java InvisibleFile.java\r\n23:30:37 % lsof -p $(ps -ef | awk &#39;/[I]nvisibleFile.java/ {print $2}&#39;) | awk &#39;/invisiblefile/ {print &quot;size:&quot; $7; print &quot;inode:&quot; $8}&#39;\r\n23:30:42 % fg %1\r\n[1]  - continued  java InvisibleFile.java\r\nend\r\n23:30:47 %\r\n```","title":"Java delete files unix way (unlink header)","body":"<p><code>File.delete</code> seems to behave as &quot;unlink&quot;.</p>\n<p>Here's an example</p>\n<pre><code>\nimport java.io.*;\n\npublic class Main {\n    public static void main(String args[]) throws InterruptedException, IOException {\n        File invisibleFile = new File(&quot;invisiblefile&quot;);\n        invisibleFile.createNewFile();\n        FileWriter fw = new FileWriter(invisibleFile);\n        System.out.println(&quot;file created&quot;);\n        Thread.sleep(5000);\n\n        boolean deleted = invisibleFile.delete();\n        if(!deleted) {\n            System.out.println(&quot;error deleting file&quot;);\n            System.exit(1);\n        }\n        fw.write(&quot;hello&quot;);       \n        fw.flush();         \n        System.out.println(&quot;file deleted&quot;);\n        // 'ls invisiblefile' does not return anything\n        // but the file is still held open by the process:\n        // lsof -p $(ps -ef | awk '/[I]nvisibleFile.java/ {print $2}') | awk '/invisiblefile/ {print &quot;size:&quot; $7; print &quot;inode:&quot; $8}'\n        Thread.sleep(5000);\n\n        fw.close();\n        System.out.println(&quot;file closed&quot;);\n        Thread.sleep(5000);\n        // after closing file, it is completely gone\n        \n        System.out.println(&quot;end&quot;);\n    }\n}\n</code></pre>\n<p>And here's a terminal session to check the program's behaviour:</p>\n<pre><code>23:30:07 % java InvisibleFile.java\nfile created\n^Z\nzsh: suspended  java InvisibleFile.java\n23:30:11 % ls invisiblefile\ninvisiblefile\n23:30:14 % fg %1\n[1]  - continued  java InvisibleFile.java\nfile deleted\n^Z\nzsh: suspended  java InvisibleFile.java\n23:30:21 % ls invisiblefile\nls: invisiblefile: No such file or directory\n23:30:23 % lsof -p $(ps -ef | awk '/[I]nvisibleFile.java/ {print $2}') | awk '/invisiblefile/ {print &quot;size:&quot; $7; print &quot;inode:&quot; $8}'\nsize:5\ninode:33745509\n23:30:30 % fg %1\n[1]  - continued  java InvisibleFile.java\nfile closed\n^Z\nzsh: suspended  java InvisibleFile.java\n23:30:37 % lsof -p $(ps -ef | awk '/[I]nvisibleFile.java/ {print $2}') | awk '/invisiblefile/ {print &quot;size:&quot; $7; print &quot;inode:&quot; $8}'\n23:30:42 % fg %1\n[1]  - continued  java InvisibleFile.java\nend\n23:30:47 %\n</code></pre>\n"}],"owner":{"account_id":2449718,"reputation":626,"user_id":2136286,"accept_rate":50,"display_name":"the.Legend"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43369524,"answer_count":2,"score":3,"last_activity_date":1669332985,"creation_date":1491903192,"question_id":43342059,"body_markdown":"I&#39;m having an issue where archival module written in Java fails to clean files shared via smb if opened by network users during cleanup. Below is simplified version of code for file cleanup:\r\n\r\n        private static boolean moveFile(String sourceFilePath, String targetFilePath) {\r\n\r\n        boolean fileStatus = false;\r\n        File sourceFile = new File(sourceFilePath );\r\n        File targetFile = new File(targetFilePath );\r\n        if(sourceFile.canRead() &amp;&amp; sourceFile.canWrite() ) {\r\n            if(targetFile.exists()) {\r\n                fileStatus = (new File(targetFilePath)).delete();\r\n                if(!fileStatus) {\r\n                    Logger.ERROR(&quot;Target deletion failed&quot;);\r\n                }\r\n            }\r\n\r\n            fileStatus = sourceFile.renameTo(new File(targetFilePath));\r\n\r\n            if(!fileStatus) {\r\n                Logger.ERROR(&quot;RenameTo method failed&quot;);\r\n                return false;\r\n            } else {\r\n                Logger.INFO(&quot;Move succeeded&quot;);\r\n                return true;\r\n            }\r\n        } else {\r\n            Logger.ERROR(&quot;Cannot read file&quot;);\r\n            return false;\r\n        }\r\n    }\r\n\r\nIt works fine when I test it in two Linux sessions:\r\nsession A:\r\n\r\n    cat -v /dev/zero &gt; sourceFile.txt\r\n\r\nsession B:\r\n\r\n    java -jar JavaUnixFileRemovalTest.jar sourceFile.txt targetFile.txt\r\n\r\nBut fails in production when working with network shares and users.\r\n\r\nWhat I&#39;d like to implement instead is to copy file to archive folder and unlink the header. This way if user still has the file opened he&#39;ll continue accessing the content, while name is removed from the file system so nobody else can see the file.\r\n\r\nSo the question is if there&#39;s a way to unlink file header in Unix by native Java means without explicitly calling `unlink` command","title":"Java delete files unix way (unlink header)","body":"<p>I'm having an issue where archival module written in Java fails to clean files shared via smb if opened by network users during cleanup. Below is simplified version of code for file cleanup:</p>\n\n<pre><code>    private static boolean moveFile(String sourceFilePath, String targetFilePath) {\n\n    boolean fileStatus = false;\n    File sourceFile = new File(sourceFilePath );\n    File targetFile = new File(targetFilePath );\n    if(sourceFile.canRead() &amp;&amp; sourceFile.canWrite() ) {\n        if(targetFile.exists()) {\n            fileStatus = (new File(targetFilePath)).delete();\n            if(!fileStatus) {\n                Logger.ERROR(\"Target deletion failed\");\n            }\n        }\n\n        fileStatus = sourceFile.renameTo(new File(targetFilePath));\n\n        if(!fileStatus) {\n            Logger.ERROR(\"RenameTo method failed\");\n            return false;\n        } else {\n            Logger.INFO(\"Move succeeded\");\n            return true;\n        }\n    } else {\n        Logger.ERROR(\"Cannot read file\");\n        return false;\n    }\n}\n</code></pre>\n\n<p>It works fine when I test it in two Linux sessions:\nsession A:</p>\n\n<pre><code>cat -v /dev/zero &gt; sourceFile.txt\n</code></pre>\n\n<p>session B:</p>\n\n<pre><code>java -jar JavaUnixFileRemovalTest.jar sourceFile.txt targetFile.txt\n</code></pre>\n\n<p>But fails in production when working with network shares and users.</p>\n\n<p>What I'd like to implement instead is to copy file to archive folder and unlink the header. This way if user still has the file opened he'll continue accessing the content, while name is removed from the file system so nobody else can see the file.</p>\n\n<p>So the question is if there's a way to unlink file header in Unix by native Java means without explicitly calling <code>unlink</code> command</p>\n"},{"tags":["java","encryption","cryptography","aes","aes-gcm"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669331926,"creation_date":1495703884,"answer_id":44176776,"question_id":44176328,"body_markdown":"GCM mode uses counter mode for confidentiality. So it is possible to decrypt the ciphertext without authentication; take a look at my answer [here](https://stackoverflow.com/a/49244840/589259). To encrypt or decrypt from a given offset you can alter the counter to alter the bytes for the given offset and XOR the resulting ciphertext. However, you would be unable to verify any ciphertext if you skip even a single byte.\r\n\r\nSo with GCM it is better to divide the plaintext into chunks and encrypt those separately. Beware that you should also make sure that the order of the plaintext cannot be altered, e.g. by authenticating the authentication tags using HMAC or an authenticated Merkle tree.\r\n","title":"Random access of encrypted data AES GCM mode","body":"<p>GCM mode uses counter mode for confidentiality. So it is possible to decrypt the ciphertext without authentication; take a look at my answer <a href=\"https://stackoverflow.com/a/49244840/589259\">here</a>. To encrypt or decrypt from a given offset you can alter the counter to alter the bytes for the given offset and XOR the resulting ciphertext. However, you would be unable to verify any ciphertext if you skip even a single byte.</p>\n<p>So with GCM it is better to divide the plaintext into chunks and encrypt those separately. Beware that you should also make sure that the order of the plaintext cannot be altered, e.g. by authenticating the authentication tags using HMAC or an authenticated Merkle tree.</p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540829337,"creation_date":1540829337,"answer_id":53049566,"question_id":44176328,"body_markdown":"AES GCM uses a mode called GCTR. It&#39;s CTR-like, but is defined in a very [specific way](https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf).\r\n\r\nWhen the IV is not 12 bytes, it is first hashed to get a 12-byte IV (the GHASH function is specified as a single multiplication with the Galois field, the same one used for the MAC).\r\n\r\nThen the 12-byte IV is concatenated with a 4-byte counter (starting from 1), to get the 16-byte CTR block.\r\n\r\nSo treating the IV as a `BigInteger` and incrementing it like you do in your example will definitely not work.","title":"Random access of encrypted data AES GCM mode","body":"<p>AES GCM uses a mode called GCTR. It's CTR-like, but is defined in a very <a href=\"https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf\" rel=\"nofollow noreferrer\">specific way</a>.</p>\n\n<p>When the IV is not 12 bytes, it is first hashed to get a 12-byte IV (the GHASH function is specified as a single multiplication with the Galois field, the same one used for the MAC).</p>\n\n<p>Then the 12-byte IV is concatenated with a 4-byte counter (starting from 1), to get the 16-byte CTR block.</p>\n\n<p>So treating the IV as a <code>BigInteger</code> and incrementing it like you do in your example will definitely not work.</p>\n"}],"owner":{"account_id":2500839,"reputation":555,"user_id":2175991,"display_name":"saganas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1669331926,"creation_date":1495702492,"question_id":44176328,"body_markdown":"There is a very good example for random access AES CTR mode and it works:\r\n  https://stackoverflow.com/questions/23743842/random-access-inputstream-using-aes-ctr-mode-in-android\r\n\r\n    private static final int AES_BLOCK_SIZE = 16;\r\n    private static IvParameterSpec calculateIVForOffset(final IvParameterSpec iv,\r\n        final long blockOffset) {\r\n    final BigInteger ivBI = new BigInteger(1, iv.getIV());\r\n    final BigInteger ivForOffsetBI = ivBI.add(BigInteger.valueOf(blockOffset\r\n            / AES_BLOCK_SIZE));\r\n\r\n    final byte[] ivForOffsetBA = ivForOffsetBI.toByteArray();\r\n    final IvParameterSpec ivForOffset;\r\n    if (ivForOffsetBA.length &gt;= AES_BLOCK_SIZE) {\r\n        ivForOffset = new IvParameterSpec(ivForOffsetBA, ivForOffsetBA.length - AES_BLOCK_SIZE,\r\n                AES_BLOCK_SIZE);\r\n    } else {\r\n        final byte[] ivForOffsetBASized = new byte[AES_BLOCK_SIZE];\r\n        System.arraycopy(ivForOffsetBA, 0, ivForOffsetBASized, AES_BLOCK_SIZE\r\n                - ivForOffsetBA.length, ivForOffsetBA.length);\r\n        ivForOffset = new IvParameterSpec(ivForOffsetBASized);\r\n    }\r\n\r\n    return ivForOffset;\r\n    }\r\n\r\nHowever, it doesn&#39;t work on AES GCM mode. I am getting garbage when decrypted. I am not encryption expert and was trying to crack it for couple days already. Maybe anyone can give any insight on it? My guess I need to change the IV calculation for offset somehow or it is something to do with an auth Tag (which I am not using).","title":"Random access of encrypted data AES GCM mode","body":"<p>There is a very good example for random access AES CTR mode and it works:\n  <a href=\"https://stackoverflow.com/questions/23743842/random-access-inputstream-using-aes-ctr-mode-in-android\">Random access InputStream using AES CTR mode in android</a></p>\n\n<pre><code>private static final int AES_BLOCK_SIZE = 16;\nprivate static IvParameterSpec calculateIVForOffset(final IvParameterSpec iv,\n    final long blockOffset) {\nfinal BigInteger ivBI = new BigInteger(1, iv.getIV());\nfinal BigInteger ivForOffsetBI = ivBI.add(BigInteger.valueOf(blockOffset\n        / AES_BLOCK_SIZE));\n\nfinal byte[] ivForOffsetBA = ivForOffsetBI.toByteArray();\nfinal IvParameterSpec ivForOffset;\nif (ivForOffsetBA.length &gt;= AES_BLOCK_SIZE) {\n    ivForOffset = new IvParameterSpec(ivForOffsetBA, ivForOffsetBA.length - AES_BLOCK_SIZE,\n            AES_BLOCK_SIZE);\n} else {\n    final byte[] ivForOffsetBASized = new byte[AES_BLOCK_SIZE];\n    System.arraycopy(ivForOffsetBA, 0, ivForOffsetBASized, AES_BLOCK_SIZE\n            - ivForOffsetBA.length, ivForOffsetBA.length);\n    ivForOffset = new IvParameterSpec(ivForOffsetBASized);\n}\n\nreturn ivForOffset;\n}\n</code></pre>\n\n<p>However, it doesn't work on AES GCM mode. I am getting garbage when decrypted. I am not encryption expert and was trying to crack it for couple days already. Maybe anyone can give any insight on it? My guess I need to change the IV calculation for offset somehow or it is something to do with an auth Tag (which I am not using).</p>\n"},{"tags":["java","input","automated-tests","libgdx","lwjgl"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1669335981,"post_id":74567035,"comment_id":131625429,"body_markdown":"I suspect you&#39;re running your app full screen. A Java Robot has to be in the foreground to work, so you may have better luck running in a window.","body":"I suspect you&#39;re running your app full screen. A Java Robot has to be in the foreground to work, so you may have better luck running in a window."},{"owner":{"account_id":24990310,"reputation":1,"user_id":18851577,"display_name":"Filippo Barbari"},"score":0,"creation_date":1669368067,"post_id":74567035,"comment_id":131630595,"body_markdown":"For tests and development, the app runs in windowed mode. Only in production it runs in full screen.","body":"For tests and development, the app runs in windowed mode. Only in production it runs in full screen."}],"owner":{"account_id":24990310,"reputation":1,"user_id":18851577,"display_name":"Filippo Barbari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669331878,"creation_date":1669331878,"question_id":74567035,"body_markdown":"I am developing a videogame in java using LibGDX, but the problem would remain also for a general-purpose application. I want to test how my game reacts to a given sequence of inputs (from keyboard, mouse or a controller). Specifically, I just implemented a couple of splash screens: the first one displays the LibGDX logo, the second one is a &quot;A game by xxxxx&quot; screen. Both the splash screens take 0.5 seconds to fade-in, then wait 2 seconds, then fade-out in 0.5 seconds. I added the possibility to press Enter on the keyboard to skip each splash screen, to arrive faster at the main menu.\r\n\r\nSo the tests I am trying to implement are the following three:\r\n - right after launch, with no input, the app shows the `LogoSplashScreen`\r\n - after pressing Enter one time, the app shows the `PresentationSplashScreen`\r\n - after pressing Enter two times, the app shows the `MainMenuScreen`\r\n\r\nUnfortunately, I can&#39;t find anything that works for this purpose.\r\n\r\nI want to specify that the application already does what is required. My question, in short, is &quot;How can I automate these manual tests?&quot;.\r\n\r\n1. I tried using the `java.awt.Robot` class which generates (quoted from the [javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Robot.html)) *native system input events for the purposes of test automation, self-running demos, and other applications where control of the mouse and keyboard is needed.*\r\nIt worked really well with detecting actual pixel colors, but the KeyEvents generated from it somehow do not reach my application.\r\n\r\n2. I tried using the [`InputEventQueue`](https://javadoc.io/doc/com.badlogicgames.gdx/gdx/latest/com/badlogic/gdx/InputEventQueue.html) by feeding it all the events and then calling `drain` on my app&#39;s `InputProcessor`. I haven&#39;t actually given up on this one since its problem is that I cannot test my Lwjgl3Application if the constructor starts to run the main loop in the same thread. I also tried by wrapping the call to the constructor inside a Thread but I still cannot know when the app has started &quot;looping&quot;.\r\n\r\n3. Many others who had a similar problem in the past received the suggestion to use the [`GdxTestRunner`](https://github.com/TomGrill/gdx-testing/blob/master/tests/src/de/tomgrill/gdxtesting/GdxTestRunner.java), so I tried it. I discovered that, since it &quot;wraps&quot; your application with an headless one (by mocking the Lwjgl backend), it doesn&#39;t actually change the screens because it has no access to the graphics.","title":"How can I test the input handling of my LibGDX videogame?","body":"<p>I am developing a videogame in java using LibGDX, but the problem would remain also for a general-purpose application. I want to test how my game reacts to a given sequence of inputs (from keyboard, mouse or a controller). Specifically, I just implemented a couple of splash screens: the first one displays the LibGDX logo, the second one is a &quot;A game by xxxxx&quot; screen. Both the splash screens take 0.5 seconds to fade-in, then wait 2 seconds, then fade-out in 0.5 seconds. I added the possibility to press Enter on the keyboard to skip each splash screen, to arrive faster at the main menu.</p>\n<p>So the tests I am trying to implement are the following three:</p>\n<ul>\n<li>right after launch, with no input, the app shows the <code>LogoSplashScreen</code></li>\n<li>after pressing Enter one time, the app shows the <code>PresentationSplashScreen</code></li>\n<li>after pressing Enter two times, the app shows the <code>MainMenuScreen</code></li>\n</ul>\n<p>Unfortunately, I can't find anything that works for this purpose.</p>\n<p>I want to specify that the application already does what is required. My question, in short, is &quot;How can I automate these manual tests?&quot;.</p>\n<ol>\n<li><p>I tried using the <code>java.awt.Robot</code> class which generates (quoted from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Robot.html\" rel=\"nofollow noreferrer\">javadoc</a>) <em>native system input events for the purposes of test automation, self-running demos, and other applications where control of the mouse and keyboard is needed.</em>\nIt worked really well with detecting actual pixel colors, but the KeyEvents generated from it somehow do not reach my application.</p>\n</li>\n<li><p>I tried using the <a href=\"https://javadoc.io/doc/com.badlogicgames.gdx/gdx/latest/com/badlogic/gdx/InputEventQueue.html\" rel=\"nofollow noreferrer\"><code>InputEventQueue</code></a> by feeding it all the events and then calling <code>drain</code> on my app's <code>InputProcessor</code>. I haven't actually given up on this one since its problem is that I cannot test my Lwjgl3Application if the constructor starts to run the main loop in the same thread. I also tried by wrapping the call to the constructor inside a Thread but I still cannot know when the app has started &quot;looping&quot;.</p>\n</li>\n<li><p>Many others who had a similar problem in the past received the suggestion to use the <a href=\"https://github.com/TomGrill/gdx-testing/blob/master/tests/src/de/tomgrill/gdxtesting/GdxTestRunner.java\" rel=\"nofollow noreferrer\"><code>GdxTestRunner</code></a>, so I tried it. I discovered that, since it &quot;wraps&quot; your application with an headless one (by mocking the Lwjgl backend), it doesn't actually change the screens because it has no access to the graphics.</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","azure","spring-security","azure-active-directory"],"answers":[{"tags":[],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669331630,"creation_date":1669331630,"answer_id":74567017,"question_id":74548274,"body_markdown":"I found the solution. I had to exclude the `AadAutoConfiguration` class in my main application class:\r\n\r\n```\r\n@SpringBootApplication(exclude = AadAutoConfiguration.class)\r\npublic class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n}\r\n``` \r\n\r\nand then define a custom one:\r\n\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\n@Import({AadPropertiesConfiguration.class})\r\npublic class AadAutoConfiguration {\r\n\r\n  @Bean\r\n  @ConditionalOnMissingBean(JwtDecoder.class)\r\n  public JwtDecoder jwtDecoder(\r\n      RestTemplateBuilder restTemplateBuilder,\r\n      AadAuthenticationProperties aadAuthenticationProperties) {\r\n    AadResourceServerConfiguration configuration =\r\n        new AadResourceServerConfiguration(restTemplateBuilder);\r\n    return configuration.jwtDecoder(aadAuthenticationProperties);\r\n  }\r\n}\r\n```","title":"How to migrate from WebSecurityConfigurerAdapter to SecurityFilterChain when using Azure Active Directory","body":"<p>I found the solution. I had to exclude the <code>AadAutoConfiguration</code> class in my main application class:</p>\n<pre><code>@SpringBootApplication(exclude = AadAutoConfiguration.class)\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>and then define a custom one:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@Import({AadPropertiesConfiguration.class})\npublic class AadAutoConfiguration {\n\n  @Bean\n  @ConditionalOnMissingBean(JwtDecoder.class)\n  public JwtDecoder jwtDecoder(\n      RestTemplateBuilder restTemplateBuilder,\n      AadAuthenticationProperties aadAuthenticationProperties) {\n    AadResourceServerConfiguration configuration =\n        new AadResourceServerConfiguration(restTemplateBuilder);\n    return configuration.jwtDecoder(aadAuthenticationProperties);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74567017,"answer_count":1,"score":1,"last_activity_date":1669331630,"creation_date":1669213166,"question_id":74548274,"body_markdown":"WebSecurityConfigurerAdapter is deprecated and I am trying to migrate to SecurityFilterChain. The code change needed was really very little. But the problem is that I am using azure active directory in my spring boot project:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-cloud-azure-starter-active-directory&lt;/artifactId&gt;      \r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\r\n  &lt;version&gt;4.4.1&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n  &lt;scope&gt;import&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAzure dependencies seem to be still using `WebSecurityConfigurerAdapter` in the following classes:\r\n\r\n```\r\nAadResourceServerWebSecurityConfigurerAdapter\r\nAadWebSecurityConfigurerAdapter\r\nAadResourceServerConfiguration\r\nAadWebApplicationConfiguration\r\n```\r\nAs a result I am getting the following error when starting the application:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource .....\r\n\r\nand down in the stack trace:\r\n\r\n    Caused by: java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\r\n\r\nThere seems to be no update for Azure Active directory dependency yet. Is there a way to use SecurityFilterChain when using Azure AD? \r\n","title":"How to migrate from WebSecurityConfigurerAdapter to SecurityFilterChain when using Azure Active Directory","body":"<p>WebSecurityConfigurerAdapter is deprecated and I am trying to migrate to SecurityFilterChain. The code change needed was really very little. But the problem is that I am using azure active directory in my spring boot project:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-azure-starter-active-directory&lt;/artifactId&gt;      \n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\n  &lt;version&gt;4.4.1&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Azure dependencies seem to be still using <code>WebSecurityConfigurerAdapter</code> in the following classes:</p>\n<pre><code>AadResourceServerWebSecurityConfigurerAdapter\nAadWebSecurityConfigurerAdapter\nAadResourceServerConfiguration\nAadWebApplicationConfiguration\n</code></pre>\n<p>As a result I am getting the following error when starting the application:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource .....\n</code></pre>\n<p>and down in the stack trace:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\n</code></pre>\n<p>There seems to be no update for Azure Active directory dependency yet. Is there a way to use SecurityFilterChain when using Azure AD?</p>\n"},{"tags":["java","android","kotlin","view","android-custom-view"],"answers":[{"tags":[],"owner":{"account_id":7787202,"reputation":168,"user_id":5891566,"display_name":"el_chupacabra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669331271,"creation_date":1669331271,"answer_id":74566997,"question_id":74257455,"body_markdown":"I think something like this should do the trick:\r\n\r\n    lateinit var imagePaint: Paint\r\n    lateinit var shadePaint: Paint\r\n    lateinit var shadeRect: RectF\r\n    lateinit var bitmap: Bitmap\r\n    lateinit var clearOutSide: Path\r\n\r\n    private fun init() {\r\n        bitmap = BitmapFactory.decodeResource(context.resources, R.drawable.example_image)\r\n        mWidth = bitmap.width.toFloat()\r\n        mHeight = bitmap.height.toFloat();\r\n        mRadius = mWidth / 2\r\n        \r\n        imagePaint = Paint()\r\n        shadePaint = Paint()\r\n        \r\n        // going with the assumption that mWidth = mHeight = 2 * mRadius\r\n        shadeRect = RectF(0f,mHeight * 0.7f, mWidth, mHeight ) // this will be the shade area, could probably done various other ways\r\n        shadePaint.color = Color.GRAY\r\n        // shadePaint.maskFilter = BlurMaskFilter(20f, BlurMaskFilter.Blur.NORMAL) // a BlurMaskFilterMightLook decent\r\n\r\n        clearOutSide = Path()\r\n        clearOutSide.addRect(RectF(0f, 0f, mWidth, mHeight), Path.Direction.CW)\r\n        clearOutSide.addCircle(mWidth / 2, mHeight / 2, mRadius, Path.Direction.CCW)\r\n    }\r\n\r\n    override fun onDraw(canvas: Canvas?) {\r\n        super.onDraw(canvas)\r\n        canvas?.drawRect(0f, 0f, mWidth, mHeight, shadePaint)\r\n        canvas?.drawBitmap(bitmap, 0f, 0f, imagePaint)\r\n        canvas?.drawRect(shadeRect, shadePaint)\r\n        canvas?.clipPath(clearOutSide)\r\n        canvas?.drawColor(Color.WHITE, PorterDuff.Mode.CLEAR) // clear the image outside the circle\r\n    }","title":"Paint bottom side of a circle and place Image on the remaining side android custom Imageview","body":"<p>I think something like this should do the trick:</p>\n<pre><code>lateinit var imagePaint: Paint\nlateinit var shadePaint: Paint\nlateinit var shadeRect: RectF\nlateinit var bitmap: Bitmap\nlateinit var clearOutSide: Path\n\nprivate fun init() {\n    bitmap = BitmapFactory.decodeResource(context.resources, R.drawable.example_image)\n    mWidth = bitmap.width.toFloat()\n    mHeight = bitmap.height.toFloat();\n    mRadius = mWidth / 2\n    \n    imagePaint = Paint()\n    shadePaint = Paint()\n    \n    // going with the assumption that mWidth = mHeight = 2 * mRadius\n    shadeRect = RectF(0f,mHeight * 0.7f, mWidth, mHeight ) // this will be the shade area, could probably done various other ways\n    shadePaint.color = Color.GRAY\n    // shadePaint.maskFilter = BlurMaskFilter(20f, BlurMaskFilter.Blur.NORMAL) // a BlurMaskFilterMightLook decent\n\n    clearOutSide = Path()\n    clearOutSide.addRect(RectF(0f, 0f, mWidth, mHeight), Path.Direction.CW)\n    clearOutSide.addCircle(mWidth / 2, mHeight / 2, mRadius, Path.Direction.CCW)\n}\n\noverride fun onDraw(canvas: Canvas?) {\n    super.onDraw(canvas)\n    canvas?.drawRect(0f, 0f, mWidth, mHeight, shadePaint)\n    canvas?.drawBitmap(bitmap, 0f, 0f, imagePaint)\n    canvas?.drawRect(shadeRect, shadePaint)\n    canvas?.clipPath(clearOutSide)\n    canvas?.drawColor(Color.WHITE, PorterDuff.Mode.CLEAR) // clear the image outside the circle\n}\n</code></pre>\n"}],"owner":{"account_id":10703393,"reputation":918,"user_id":7877950,"display_name":"sodiqOladeni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669331271,"creation_date":1667172569,"question_id":74257455,"body_markdown":"After drawing a circle on imageview (Extending imageview) custom view, I want to paint the bottom side (30%) and place an image on the other top side (70%). The illustration can be viewed [here][1]\r\n\r\nThe circle was drawn with the below link\r\n\r\n    override fun onDraw(canvas: Canvas?) {\r\n            super.onDraw(canvas)\r\n    \r\n            radiusPaint.color = getClassificationColor(classificationText)\r\n            radiusPaint.style = Paint.Style.STROKE\r\n            radiusPaint.strokeWidth = borderWidth\r\n            canvas?.drawCircle(mWidth / 2f, mHeight / 2f, mRadius, radiusPaint)\r\n        }\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1n7LiJsyXD_4gr5LQlo4fkQWm29SgE8OP/view?usp=sharing","title":"Paint bottom side of a circle and place Image on the remaining side android custom Imageview","body":"<p>After drawing a circle on imageview (Extending imageview) custom view, I want to paint the bottom side (30%) and place an image on the other top side (70%). The illustration can be viewed <a href=\"https://drive.google.com/file/d/1n7LiJsyXD_4gr5LQlo4fkQWm29SgE8OP/view?usp=sharing\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The circle was drawn with the below link</p>\n<pre><code>override fun onDraw(canvas: Canvas?) {\n        super.onDraw(canvas)\n\n        radiusPaint.color = getClassificationColor(classificationText)\n        radiusPaint.style = Paint.Style.STROKE\n        radiusPaint.strokeWidth = borderWidth\n        canvas?.drawCircle(mWidth / 2f, mHeight / 2f, mRadius, radiusPaint)\n    }\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1669332646,"post_id":74566976,"comment_id":131624992,"body_markdown":"getDownloadUrl returns a Task just like putFile, not the URL.","body":"getDownloadUrl returns a Task just like putFile, not the URL."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669368048,"post_id":74566976,"comment_id":131630590,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will definitely help. Here is the corresponding [repo](https://github.com/alexmamo/CloudStorageJetpackCompose).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will definitely help. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":27039312,"reputation":1,"user_id":20594369,"display_name":"c.caday"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669332602,"answer_count":0,"score":0,"last_activity_date":1669330995,"creation_date":1669330995,"question_id":74566976,"body_markdown":"When I try to upload an image onto firebase, the image url is something like &quot;com.google.android.gms.tasks.zzw@f6699b3&quot; instead of &quot;https://firebasestorage.googleapis.com/...&quot;. The image itself uploads to Firebase Storage just fine, but issue right now is with the imageUrl in Realtime Database.\r\n\r\nBelow is my addToDatabase method. \r\n\r\n\r\n```\r\nprivate void addToDatabase(String familyName, String titleTxt, String descrptnTxt, String pointsTxt, String status) {\r\n        if(mImageUri != null){\r\n            StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()\r\n                    + &quot;.&quot; + getFileExtension(mImageUri));\r\n\r\n            mUploadTask = fileReference.putFile(mImageUri)\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            String choreId = mRootRef.child(&quot;FamilyFunctions&quot;).child(familyName).child(&quot;Chores&quot;).push().getKey();\r\n                            Chores chore = new Chores(assignedTo, descrptnTxt, choreId, mStorageRef.getDownloadUrl().toString(), pointsTxt, status, titleTxt);\r\n//                            Chores chore = new Chores(titleTxt, descrptnTxt, pointsTxt, status, choreId, taskSnapshot.getMetadata().getReference().getDownloadUrl().toString(), assignedTo);\r\n                            mRootRef.child(&quot;FamilyFunctions&quot;).child(familyName).child(&quot;Chores&quot;).child(choreId)\r\n                                    .setValue(chore).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                            if(task.isSuccessful()){\r\n                                                Toast.makeText(PostActivity.this, &quot;Chore successfully created!&quot;, Toast.LENGTH_SHORT).show();\r\n                                            }else{\r\n                                                Toast.makeText(PostActivity.this, &quot;Error. Couldn&#39;t add chore.&quot;, Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        }\r\n                                    });\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(PostActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n        } else {\r\n            Toast.makeText(this, &quot;No file selected&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n```\r\n\r\nBelow is my chores model:\r\n\r\n\r\n```\r\npublic class Chores {\r\n\r\n    public String assignedTo;\r\n    public String description;\r\n    public String id;\r\n    public String imageUrl;\r\n    public String pointsWorth;\r\n    public String status;\r\n    public String title;\r\n\r\n    public Chores() {\r\n    }\r\n\r\n    public Chores(String assignedTo, String description, String id, String imageUrl, String pointsWorth, String status, String title) {\r\n        this.assignedTo = assignedTo;\r\n        this.description = description;\r\n        this.id = id;\r\n        this.imageUrl = imageUrl;\r\n        this.pointsWorth = pointsWorth;\r\n        this.status = status;\r\n        this.title = title;\r\n    }\r\n\r\n//getters and setters etc.\r\n//...\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried other methods of writing `&quot;mStorageRef.getDownloadUrl().toString()&quot;` and changing it to `taskSnapshot.getMetadata().getReference().getDownloadUrl()` but so far nothing else has worked, and I&#39;m trying to avoid rewriting all of my code. Can someone please help me??","title":"Uploading image url to Firebase Realtime Database","body":"<p>When I try to upload an image onto firebase, the image url is something like &quot;com.google.android.gms.tasks.zzw@f6699b3&quot; instead of &quot;https://firebasestorage.googleapis.com/...&quot;. The image itself uploads to Firebase Storage just fine, but issue right now is with the imageUrl in Realtime Database.</p>\n<p>Below is my addToDatabase method.</p>\n<pre><code>private void addToDatabase(String familyName, String titleTxt, String descrptnTxt, String pointsTxt, String status) {\n        if(mImageUri != null){\n            StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()\n                    + &quot;.&quot; + getFileExtension(mImageUri));\n\n            mUploadTask = fileReference.putFile(mImageUri)\n                    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                            String choreId = mRootRef.child(&quot;FamilyFunctions&quot;).child(familyName).child(&quot;Chores&quot;).push().getKey();\n                            Chores chore = new Chores(assignedTo, descrptnTxt, choreId, mStorageRef.getDownloadUrl().toString(), pointsTxt, status, titleTxt);\n//                            Chores chore = new Chores(titleTxt, descrptnTxt, pointsTxt, status, choreId, taskSnapshot.getMetadata().getReference().getDownloadUrl().toString(), assignedTo);\n                            mRootRef.child(&quot;FamilyFunctions&quot;).child(familyName).child(&quot;Chores&quot;).child(choreId)\n                                    .setValue(chore).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                            if(task.isSuccessful()){\n                                                Toast.makeText(PostActivity.this, &quot;Chore successfully created!&quot;, Toast.LENGTH_SHORT).show();\n                                            }else{\n                                                Toast.makeText(PostActivity.this, &quot;Error. Couldn't add chore.&quot;, Toast.LENGTH_SHORT).show();\n                                            }\n                                        }\n                                    });\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(PostActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n        } else {\n            Toast.makeText(this, &quot;No file selected&quot;, Toast.LENGTH_SHORT).show();\n        }\n</code></pre>\n<p>Below is my chores model:</p>\n<pre><code>public class Chores {\n\n    public String assignedTo;\n    public String description;\n    public String id;\n    public String imageUrl;\n    public String pointsWorth;\n    public String status;\n    public String title;\n\n    public Chores() {\n    }\n\n    public Chores(String assignedTo, String description, String id, String imageUrl, String pointsWorth, String status, String title) {\n        this.assignedTo = assignedTo;\n        this.description = description;\n        this.id = id;\n        this.imageUrl = imageUrl;\n        this.pointsWorth = pointsWorth;\n        this.status = status;\n        this.title = title;\n    }\n\n//getters and setters etc.\n//...\n}\n</code></pre>\n<p>I have tried other methods of writing <code>&quot;mStorageRef.getDownloadUrl().toString()&quot;</code> and changing it to <code>taskSnapshot.getMetadata().getReference().getDownloadUrl()</code> but so far nothing else has worked, and I'm trying to avoid rewriting all of my code. Can someone please help me??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1428622631,"post_id":29550862,"comment_id":47253184,"body_markdown":"I don&#39;t understand. The return type is `A`. A `B` is an `A`. No cast is needed.","body":"I don&#39;t understand. The return type is <code>A</code>. A <code>B</code> is an <code>A</code>. No cast is needed."},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1428622695,"post_id":29550862,"comment_id":47253210,"body_markdown":"I know B is an A, but I actually want to get object A. Not B.","body":"I know B is an A, but I actually want to get object A. Not B."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1428622756,"post_id":29550862,"comment_id":47253230,"body_markdown":"There is no object of runtime type `A`. You&#39;ve done `new B()`. That returns a reference to a new object of runtime type `B`.","body":"There is no object of runtime type <code>A</code>. You&#39;ve done <code>new B()</code>. That returns a reference to a new object of runtime type <code>B</code>."},{"owner":{"account_id":5822867,"reputation":1168,"user_id":4590317,"accept_rate":94,"display_name":"zxgear"},"score":4,"creation_date":1428622764,"post_id":29550862,"comment_id":47253235,"body_markdown":"This is impossible. You cannot create an object `A` since it is abstract.","body":"This is impossible. You cannot create an object <code>A</code> since it is abstract."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1428623032,"post_id":29550862,"comment_id":47253341,"body_markdown":"Wait, wait wait. Do you want the type `A` (like a `Class` object?) or a value of type `A`?","body":"Wait, wait wait. Do you want the type <code>A</code> (like a <code>Class</code> object?) or a value of type <code>A</code>?"},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1428623543,"post_id":29550862,"comment_id":47253492,"body_markdown":"Value of type A is B. I want to be able to cast B to A, so I get A.","body":"Value of type A is B. I want to be able to cast B to A, so I get A."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1428623584,"post_id":29550862,"comment_id":47253514,"body_markdown":"_Be able to cast B to A_. You can **always** cast a value of a subtype to a value of a supertype, but you **never** need to.","body":"<i>Be able to cast B to A</i>. You can <b>always</b> cast a value of a subtype to a value of a supertype, but you <b>never</b> need to."},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1428623623,"post_id":29550862,"comment_id":47253526,"body_markdown":"Will casting subtype to supertype give me supertype?","body":"Will casting subtype to supertype give me supertype?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1428623783,"post_id":29550862,"comment_id":47253565,"body_markdown":"Please define what you mean by _give me supertype_. What do you think a type is? What do you think a value is?","body":"Please define what you mean by <i>give me supertype</i>. What do you think a type is? What do you think a value is?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1428623855,"post_id":29550862,"comment_id":47253582,"body_markdown":"Also, what do you think _casting_ does?","body":"Also, what do you think <i>casting</i> does?"},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1428624194,"post_id":29550862,"comment_id":47253672,"body_markdown":"Type is reference. Value is the object.","body":"Type is reference. Value is the object."}],"answers":[{"tags":[],"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1428623046,"creation_date":1428623046,"answer_id":29550940,"question_id":29550862,"body_markdown":"You cannot create an object if the type is abstract. \r\n\r\nHere class `A` is abstract class, which means you will NEVER be able to create object `A`.\r\n\r\nThis is not allowed: `A a = new A();`","title":"Convert sub-type to super-type","body":"<p>You cannot create an object if the type is abstract. </p>\n\n<p>Here class <code>A</code> is abstract class, which means you will NEVER be able to create object <code>A</code>.</p>\n\n<p>This is not allowed: <code>A a = new A();</code></p>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":29550940,"answer_count":1,"score":-1,"last_activity_date":1669330825,"creation_date":1428622570,"question_id":29550862,"body_markdown":"I have a abstract super class A, and a subclass B that extends this class.\r\n\r\n    public abstract class A {\r\n    \r\n    }\r\n\r\n    public class B extends A {\r\n    \r\n    \r\n    }\r\n\r\nI have a method that returns type A, but object B\r\n\r\n    public A fetchType() {\r\n    \tA a = new B();\r\n    \treturn a;\r\n    \r\n    }\r\n\r\nWhen I call the fetchType method, I want to actually get object A. In this case, I might have to cast B to A so I get A. How can I do that?\r\n","title":"Convert sub-type to super-type","body":"<p>I have a abstract super class A, and a subclass B that extends this class.</p>\n<pre><code>public abstract class A {\n\n}\n\npublic class B extends A {\n\n\n}\n</code></pre>\n<p>I have a method that returns type A, but object B</p>\n<pre><code>public A fetchType() {\n    A a = new B();\n    return a;\n\n}\n</code></pre>\n<p>When I call the fetchType method, I want to actually get object A. In this case, I might have to cast B to A so I get A. How can I do that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14679090,"reputation":1358,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1669064677,"post_id":74524803,"comment_id":131554112,"body_markdown":"That&#39;s what&#39;s chopping it. It&#39;s removing characters from the end of `output` one at a time until `strs[i].indexOf(output) != 0` is `false` (`strs[i]` starts with `output`), then it has to do the same thing for every string in order to make sure to get the actual common prefix. Have you read the documentation on the various methods in here? This seems like something that would be covered by it.","body":"That&#39;s what&#39;s chopping it. It&#39;s removing characters from the end of <code>output</code> one at a time until <code>strs[i].indexOf(output) != 0</code> is <code>false</code> (<code>strs[i]</code> starts with <code>output</code>), then it has to do the same thing for every string in order to make sure to get the actual common prefix. Have you read the documentation on the various methods in here? This seems like something that would be covered by it."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1669330744,"post_id":74524803,"comment_id":131624727,"body_markdown":"Could add some context here? What is &quot;this solution&quot; a reference to? Could you link to the problem (if it is on a public website) or restate the problem in the question?","body":"Could add some context here? What is &quot;this solution&quot; a reference to? Could you link to the problem (if it is on a public website) or restate the problem in the question?"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669064674,"creation_date":1669064674,"answer_id":74524869,"question_id":74524803,"body_markdown":"Much more understandable (and efficient) would be to use &quot;not `startWith`.&quot;\r\n\r\n        while (!strs[i].startsWith(output)) {\r\n            output = output.substring(0, output.length() - 1);\r\n        }\r\n\r\n`indexOf` would also search at other positions for a substring equal to `output`.\r\n\r\nThis would be more readable as &quot;as long as `strs[i]` does not start with the prefix, shorten the prefix by 1. An empty prefix (`output`) would exit the loop. (You might then also break out of the _for_ loop.)","title":"Leetcode longest common prefix","body":"<p>Much more understandable (and efficient) would be to use &quot;not <code>startWith</code>.&quot;</p>\n<pre><code>    while (!strs[i].startsWith(output)) {\n        output = output.substring(0, output.length() - 1);\n    }\n</code></pre>\n<p><code>indexOf</code> would also search at other positions for a substring equal to <code>output</code>.</p>\n<p>This would be more readable as &quot;as long as <code>strs[i]</code> does not start with the prefix, shorten the prefix by 1. An empty prefix (<code>output</code>) would exit the loop. (You might then also break out of the <em>for</em> loop.)</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669065208,"creation_date":1669064813,"answer_id":74524889,"question_id":74524803,"body_markdown":"`!= 0` means that the prefix string did not start at the beginning of the string. If the index `&gt; 0` it was further into the string.  If it was `-1` it didn&#39;t exist in the string at all.  If it was `== 0` it started at the beginning.\r\n\r\nNotice that the while loop keeps backing up using `substring` until a prefix matches the beginning.  Then it exits the while loop.  Then it continues to see if the next string contains the first and backs up until they share an equal prefix.  This continues until either a longest common prefix is returned or an empty string.","title":"Leetcode longest common prefix","body":"<p><code>!= 0</code> means that the prefix string did not start at the beginning of the string. If the index <code>&gt; 0</code> it was further into the string.  If it was <code>-1</code> it didn't exist in the string at all.  If it was <code>== 0</code> it started at the beginning.</p>\n<p>Notice that the while loop keeps backing up using <code>substring</code> until a prefix matches the beginning.  Then it exits the while loop.  Then it continues to see if the next string contains the first and backs up until they share an equal prefix.  This continues until either a longest common prefix is returned or an empty string.</p>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1669334342,"accepted_answer_id":74524869,"answer_count":2,"score":-3,"last_activity_date":1669330698,"creation_date":1669064232,"question_id":74524803,"body_markdown":"I am having a hard time following this solution. I understand we set a prefix, and loop through the remainder of the array and keep chopping the prefix until prefix fully exists in each string but why are we doing `strs[i].indexOf(output) != 0` in the while loop?\r\n\r\n    public String longestCommonPrefix(String[] strs) {\r\n        if(strs.length == 0) {\r\n            return &quot;&quot;;\r\n        }\r\n        String output = strs[0];\r\n        for(int i = 1; i &lt; strs.length; i++) {\r\n            while(strs[i].indexOf(output) != 0) {\r\n                output = output.substring(0, output.length() - 1);\r\n            }\r\n        }\r\n        return output;\r\n    }","title":"Leetcode longest common prefix","body":"<p>I am having a hard time following this solution. I understand we set a prefix, and loop through the remainder of the array and keep chopping the prefix until prefix fully exists in each string but why are we doing <code>strs[i].indexOf(output) != 0</code> in the while loop?</p>\n<pre><code>public String longestCommonPrefix(String[] strs) {\n    if(strs.length == 0) {\n        return &quot;&quot;;\n    }\n    String output = strs[0];\n    for(int i = 1; i &lt; strs.length; i++) {\n        while(strs[i].indexOf(output) != 0) {\n            output = output.substring(0, output.length() - 1);\n        }\n    }\n    return output;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1668942253,"post_id":74498476,"comment_id":131524141,"body_markdown":"Hi there Cataster. I&#39;ve repaired a number of spellings in your posts - the number of them is distracting and makes questions harder to read. The sheer number of them suggests they are being made for stylistic reasons i.e. they are deliberate. That doesn&#39;t work so well for Stack Overflow, where good on-topic posts are kept for posterity.","body":"Hi there Cataster. I&#39;ve repaired a number of spellings in your posts - the number of them is distracting and makes questions harder to read. The sheer number of them suggests they are being made for stylistic reasons i.e. they are deliberate. That doesn&#39;t work so well for Stack Overflow, where good on-topic posts are kept for posterity."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1668942363,"post_id":74498476,"comment_id":131524156,"body_markdown":"For your reference I list here the misspellings across your account. 14 instances of ive; 14 didnt; 34 im; 13 cant; 12 whats; 34 doesnt; 22 thats; 46 dont; 10 isnt. There are two more (lets and its) but the (mis)spelling of those are dependent on context.","body":"For your reference I list here the misspellings across your account. 14 instances of ive; 14 didnt; 34 im; 13 cant; 12 whats; 34 doesnt; 22 thats; 46 dont; 10 isnt. There are two more (lets and its) but the (mis)spelling of those are dependent on context."},{"owner":{"account_id":11457187,"reputation":3173,"user_id":8397835,"display_name":"Cataster"},"score":0,"creation_date":1668970134,"post_id":74498476,"comment_id":131529797,"body_markdown":"@halfer Oh come on, we really going as far as apostrophes now?","body":"@halfer Oh come on, we really going as far as apostrophes now?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1668973531,"post_id":74498476,"comment_id":131530672,"body_markdown":"I am intrigued by the inference - that one kind of spelling error is less of an error than another. It&#39;s simplest if we just say that an English spelling checker can clear up any disagreements - if you get wavy underlines in your browser then please fix them. I believe that to be the community view. Thanks!","body":"I am intrigued by the inference - that one kind of spelling error is less of an error than another. It&#39;s simplest if we just say that an English spelling checker can clear up any disagreements - if you get wavy underlines in your browser then please fix them. I believe that to be the community view. Thanks!"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1668973605,"post_id":74498476,"comment_id":131530687,"body_markdown":"(I acknowledge that can&#39;t and won&#39;t are troublesome, because cant (bluster intended to mislead) and wont (preference or habit) are also correctly spelled words, though these are possibly regarded as arcane these days).","body":"(I acknowledge that can&#39;t and won&#39;t are troublesome, because cant (bluster intended to mislead) and wont (preference or habit) are also correctly spelled words, though these are possibly regarded as arcane these days)."}],"answers":[{"tags":[],"owner":{"account_id":11457187,"reputation":3173,"user_id":8397835,"display_name":"Cataster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669330344,"creation_date":1669330307,"answer_id":74566908,"question_id":74498476,"body_markdown":"I still don&#39;t know why, but I went ahead and recreated the project and this time I checked the sub-screens settings when creating a settings activity template to create various settings screens instead of the root_preferences screen.\r\n\r\n[![subscreens][1]][1]\r\n\r\nThis time I see -1 displayed the first time so it&#39;s working this way now.\r\n\r\n  [1]: https://i.stack.imgur.com/cdKuF.png","title":"Why am I getting the default value the first time running the app?","body":"<p>I still don't know why, but I went ahead and recreated the project and this time I checked the sub-screens settings when creating a settings activity template to create various settings screens instead of the root_preferences screen.</p>\n<p><a href=\"https://i.stack.imgur.com/cdKuF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cdKuF.png\" alt=\"subscreens\" /></a></p>\n<p>This time I see -1 displayed the first time so it's working this way now.</p>\n"}],"owner":{"account_id":11457187,"reputation":3173,"user_id":8397835,"display_name":"Cataster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74566908,"answer_count":1,"score":-1,"last_activity_date":1669330344,"creation_date":1668845826,"question_id":74498476,"body_markdown":"I&#39;m following the steps [laid out here][1] for using the Settings Activity Template and despite some changes (e.g. now a `root_preferences.xml` file gets created instead of multiple XML files for different preference screens when selecting the Settings Activity template) I pretty much have nailed down the steps very similarly. \r\n\r\nIt says towards the end: \r\n\r\n&gt; The first time you run the app, you should see &quot;-1&quot; displayed in the\r\n&gt; Toast because you haven&#39;t changed the setting yet.\r\n\r\nHowever, instead of -1, I&#39;m seeing US as the toast message. I&#39;m thinking that&#39;s because it&#39;s the default value, but they also set the default value as the US, yet the expectation according to the instructions is -1 the first time they run the app...how come?\r\n\r\nHere is my code and the result I&#39;m getting first time running the app:\r\n\r\n**SettingsActivity.java**:\r\n\r\n    package com.example.droidcafe;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import androidx.appcompat.app.ActionBar;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.preference.PreferenceFragmentCompat;\r\n    \r\n    public class SettingsActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.settings_activity);\r\n            if (savedInstanceState == null) {\r\n                getSupportFragmentManager()\r\n                        .beginTransaction()\r\n                        .replace(R.id.settings, new SettingsFragment())\r\n                        .commit();\r\n            }\r\n            ActionBar actionBar = getSupportActionBar();\r\n            if (actionBar != null) {\r\n                actionBar.setDisplayHomeAsUpEnabled(true);\r\n            }\r\n        }\r\n    \r\n        public static class SettingsFragment extends PreferenceFragmentCompat {\r\n            @Override\r\n            public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n                setPreferencesFromResource(R.xml.root_preferences, rootKey);\r\n            }\r\n        }\r\n    }\r\n\r\n**MainActivity.java:**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        FloatingActionButton fab = findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent =\r\n                        new Intent(MainActivity.this, OrderActivity.class);\r\n                intent.putExtra(EXTRA_MESSAGE, mOrderMessage);\r\n                startActivity(intent);\r\n            }\r\n\r\n        });\r\n\r\n        PreferenceManager.setDefaultValues(this,\r\n                R.xml.root_preferences, false);\r\n\r\n        SharedPreferences sharedPref = PreferenceManager\r\n                .getDefaultSharedPreferences(this);\r\n        String marketPref = sharedPref\r\n                .getString(&quot;market&quot;, &quot;-1&quot;);\r\n        displayToast(marketPref);\r\n\r\n    }\r\n\r\n**root_preferences.xml**\r\n\r\n    &lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;PreferenceCategory app:title=&quot;@string/pref_header_account&quot;&gt;\r\n    \r\n            &lt;ListPreference\r\n                app:defaultValue=&quot;US&quot;\r\n                app:entries=&quot;@array/pref_market_titles&quot;\r\n                app:entryValues=&quot;@array/pref_market_values&quot;\r\n                app:key=&quot;market&quot;\r\n                app:negativeButtonText=&quot;@null&quot;\r\n                app:positiveButtonText=&quot;@null&quot;\r\n                app:title=&quot;@string/pref_title_account&quot; /&gt;\r\n    \r\n        &lt;/PreferenceCategory&gt;\r\n    \r\n    &lt;/PreferenceScreen&gt;\r\n\r\n**strings.xml:**\r\n\r\n    &lt;string name=&quot;pref_header_account&quot;&gt;Account&lt;/string&gt;\r\n    &lt;!-- Sync Preferences --&gt;\r\n    &lt;string name=&quot;pref_title_account&quot;&gt;Market&lt;/string&gt;\r\n    &lt;string-array name=&quot;pref_market_titles&quot;&gt;\r\n        &lt;item&gt;United States&lt;/item&gt;\r\n        &lt;item&gt;Canada&lt;/item&gt;\r\n        &lt;item&gt;United Kingdom&lt;/item&gt;\r\n        &lt;item&gt;India&lt;/item&gt;\r\n        &lt;item&gt;Japan&lt;/item&gt;\r\n        &lt;item&gt;Other&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;string-array name=&quot;pref_market_values&quot;&gt;\r\n        &lt;item&gt;US&lt;/item&gt;\r\n        &lt;item&gt;CA&lt;/item&gt;\r\n        &lt;item&gt;UK&lt;/item&gt;\r\n        &lt;item&gt;IN&lt;/item&gt;\r\n        &lt;item&gt;JA0&lt;/item&gt;\r\n        &lt;item&gt;-1&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nFirst time running the app:\r\n\r\n[![US][2]][2]\r\n\r\nExpectation: -1\r\n\r\nI realize the default value is US, but their codelab default is also US, yet the codelab says it should display first time -1. \r\n\r\n[![default][3]][3]\r\n\r\n  [1]: https://developer.android.com/codelabs/android-training-adding-settings-to-app?index=..%2F..%2Fandroid-training#3\r\n  [2]: https://i.stack.imgur.com/R9N0Y.png\r\n  [3]: https://i.stack.imgur.com/gFVoN.png","title":"Why am I getting the default value the first time running the app?","body":"<p>I'm following the steps <a href=\"https://developer.android.com/codelabs/android-training-adding-settings-to-app?index=..%2F..%2Fandroid-training#3\" rel=\"nofollow noreferrer\">laid out here</a> for using the Settings Activity Template and despite some changes (e.g. now a <code>root_preferences.xml</code> file gets created instead of multiple XML files for different preference screens when selecting the Settings Activity template) I pretty much have nailed down the steps very similarly.</p>\n<p>It says towards the end:</p>\n<blockquote>\n<p>The first time you run the app, you should see &quot;-1&quot; displayed in the\nToast because you haven't changed the setting yet.</p>\n</blockquote>\n<p>However, instead of -1, I'm seeing US as the toast message. I'm thinking that's because it's the default value, but they also set the default value as the US, yet the expectation according to the instructions is -1 the first time they run the app...how come?</p>\n<p>Here is my code and the result I'm getting first time running the app:</p>\n<p><strong>SettingsActivity.java</strong>:</p>\n<pre><code>package com.example.droidcafe;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.preference.PreferenceFragmentCompat;\n\npublic class SettingsActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.settings_activity);\n        if (savedInstanceState == null) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .replace(R.id.settings, new SettingsFragment())\n                    .commit();\n        }\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.setDisplayHomeAsUpEnabled(true);\n        }\n    }\n\n    public static class SettingsFragment extends PreferenceFragmentCompat {\n        @Override\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\n        }\n    }\n}\n</code></pre>\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    FloatingActionButton fab = findViewById(R.id.fab);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent =\n                    new Intent(MainActivity.this, OrderActivity.class);\n            intent.putExtra(EXTRA_MESSAGE, mOrderMessage);\n            startActivity(intent);\n        }\n\n    });\n\n    PreferenceManager.setDefaultValues(this,\n            R.xml.root_preferences, false);\n\n    SharedPreferences sharedPref = PreferenceManager\n            .getDefaultSharedPreferences(this);\n    String marketPref = sharedPref\n            .getString(&quot;market&quot;, &quot;-1&quot;);\n    displayToast(marketPref);\n\n}\n</code></pre>\n<p><strong>root_preferences.xml</strong></p>\n<pre><code>&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;PreferenceCategory app:title=&quot;@string/pref_header_account&quot;&gt;\n\n        &lt;ListPreference\n            app:defaultValue=&quot;US&quot;\n            app:entries=&quot;@array/pref_market_titles&quot;\n            app:entryValues=&quot;@array/pref_market_values&quot;\n            app:key=&quot;market&quot;\n            app:negativeButtonText=&quot;@null&quot;\n            app:positiveButtonText=&quot;@null&quot;\n            app:title=&quot;@string/pref_title_account&quot; /&gt;\n\n    &lt;/PreferenceCategory&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p><strong>strings.xml:</strong></p>\n<pre><code>&lt;string name=&quot;pref_header_account&quot;&gt;Account&lt;/string&gt;\n&lt;!-- Sync Preferences --&gt;\n&lt;string name=&quot;pref_title_account&quot;&gt;Market&lt;/string&gt;\n&lt;string-array name=&quot;pref_market_titles&quot;&gt;\n    &lt;item&gt;United States&lt;/item&gt;\n    &lt;item&gt;Canada&lt;/item&gt;\n    &lt;item&gt;United Kingdom&lt;/item&gt;\n    &lt;item&gt;India&lt;/item&gt;\n    &lt;item&gt;Japan&lt;/item&gt;\n    &lt;item&gt;Other&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;string-array name=&quot;pref_market_values&quot;&gt;\n    &lt;item&gt;US&lt;/item&gt;\n    &lt;item&gt;CA&lt;/item&gt;\n    &lt;item&gt;UK&lt;/item&gt;\n    &lt;item&gt;IN&lt;/item&gt;\n    &lt;item&gt;JA0&lt;/item&gt;\n    &lt;item&gt;-1&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>First time running the app:</p>\n<p><a href=\"https://i.stack.imgur.com/R9N0Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9N0Y.png\" alt=\"US\" /></a></p>\n<p>Expectation: -1</p>\n<p>I realize the default value is US, but their codelab default is also US, yet the codelab says it should display first time -1.</p>\n<p><a href=\"https://i.stack.imgur.com/gFVoN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gFVoN.png\" alt=\"default\" /></a></p>\n"},{"tags":["java","java-time","duration","argparse4j"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669316335,"creation_date":1669316335,"answer_id":74565218,"question_id":74564952,"body_markdown":"The documentation says that it can convert to any object with a public static &quot;valueOf(String)&quot; method in addition to the primitives.\r\n\r\nDuration is a final class, and does not have a &quot;valueOf&quot; method, just parse(), as you noted.\r\n\r\nSo TLDR; No.","title":"Accept Duration parameter as command line argument in java","body":"<p>The documentation says that it can convert to any object with a public static &quot;valueOf(String)&quot; method in addition to the primitives.</p>\n<p>Duration is a final class, and does not have a &quot;valueOf&quot; method, just parse(), as you noted.</p>\n<p>So TLDR; No.</p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669330217,"creation_date":1669316351,"answer_id":74565221,"question_id":74564952,"body_markdown":"Seems *ArgParse4j* has no out-of-the box support for Java-Time classes but it offers 2 patterns that can be useful:\r\n\r\n### Creational pattern with `valueOf` factory-method\r\nUsually the `T valueOf(String text)` [factory-method][1] is a very idiomatic creational pattern for text-parsing in Java.\r\n\r\nIf a class `T` has no `T valueOf(String)` method, you could just extend it and decorate it with the method.\r\n\r\nUnfortunately the immutable `java.time` types like `java.time.Duration` are not designed to be extended or sub-typed - they are `final` classes. So, I agree partly with [GreyBeardedGeeks&#39;s answer][2]: No, there is no direct way to accept a `Duration` argument.\r\n\r\nBut the indirect way is to define a wrapper-class which implements `valueOf` delegating to `Duration.parse(CharSequence text)`:\r\n\r\n```java\r\nprivate static class IsoDuration {\r\n\r\n    public static Duration valueOf(String isoFormat) throws ArgumentParserException {\r\n        try {\r\n            return Duration.parse(isoFormat);  // the method you found\r\n        } catch (DateTimeParseException  e) {\r\n            throw new ArgumentParserException(e, parser);\r\n        }\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    ArgumentParser parser = ArgumentParsers.newFor(&quot;prog&quot;).build();\r\n    parser.addArgument(&quot;duration&quot;).type(IsoDuration.class);\r\n    try {\r\n        System.out.println(parser.parseArgs(args));\r\n    } catch (ArgumentParserException e) {\r\n        parser.handleError(e);\r\n    }\r\n}\r\n``` \r\n\r\n### Adapter pattern with `convert` instance-method\r\nCould also use a custom-type as converter or [adapter][3], a class which implements `ArgumentType&lt;Duration&gt;` and uses [`Duration.parse(CharSequence text)`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-) to parse the ISO-8601 string and convert to the desired duration-type:\r\n```\r\nprivate static class IsoDurationArgument implements ArgumentType&lt;Duration&gt; {\r\n\r\n    @Override\r\n    public Duration convert(ArgumentParser parser, Argument arg, String value) throws ArgumentParserException {\r\n        try {\r\n            return Duration.parse(value);  // the method you found\r\n        } catch (DateTimeParseException  e) {\r\n            throw new ArgumentParserException(e, parser);\r\n        }\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    ArgumentParser parser = ArgumentParsers.newFor(&quot;prog&quot;).build();\r\n    parser.addArgument(&quot;duration&quot;).type(new IsoDurationArgument());\r\n    try {\r\n        System.out.println(parser.parseArgs(args));\r\n    } catch (ArgumentParserException e) {\r\n        parser.handleError(e);\r\n    }\r\n}\r\n```\r\n\r\nExample copied and adapted from: [The Argparse4j User Manual — `Argument.type()`](https://argparse4j.github.io/usage.html#argument-type), search and scroll down to the example using a custom type `PerfectSquare`:\r\n&gt; The `Argument.type()` has a version which accepts an object which implements `ArgumentType` interface\r\n\r\nSee also: https://stackoverflow.com/questions/42802863/pass-optional-parameters-to-a-cli-program-java/42803081#42803081\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Factory_method_pattern\r\n  [2]: https://stackoverflow.com/a/74565218/5730279\r\n  [3]: https://en.wikipedia.org/wiki/Adapter_pattern","title":"Accept Duration parameter as command line argument in java","body":"<p>Seems <em>ArgParse4j</em> has no out-of-the box support for Java-Time classes but it offers 2 patterns that can be useful:</p>\n<h3>Creational pattern with <code>valueOf</code> factory-method</h3>\n<p>Usually the <code>T valueOf(String text)</code> <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">factory-method</a> is a very idiomatic creational pattern for text-parsing in Java.</p>\n<p>If a class <code>T</code> has no <code>T valueOf(String)</code> method, you could just extend it and decorate it with the method.</p>\n<p>Unfortunately the immutable <code>java.time</code> types like <code>java.time.Duration</code> are not designed to be extended or sub-typed - they are <code>final</code> classes. So, I agree partly with <a href=\"https://stackoverflow.com/a/74565218/5730279\">GreyBeardedGeeks's answer</a>: No, there is no direct way to accept a <code>Duration</code> argument.</p>\n<p>But the indirect way is to define a wrapper-class which implements <code>valueOf</code> delegating to <code>Duration.parse(CharSequence text)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class IsoDuration {\n\n    public static Duration valueOf(String isoFormat) throws ArgumentParserException {\n        try {\n            return Duration.parse(isoFormat);  // the method you found\n        } catch (DateTimeParseException  e) {\n            throw new ArgumentParserException(e, parser);\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    ArgumentParser parser = ArgumentParsers.newFor(&quot;prog&quot;).build();\n    parser.addArgument(&quot;duration&quot;).type(IsoDuration.class);\n    try {\n        System.out.println(parser.parseArgs(args));\n    } catch (ArgumentParserException e) {\n        parser.handleError(e);\n    }\n}\n</code></pre>\n<h3>Adapter pattern with <code>convert</code> instance-method</h3>\n<p>Could also use a custom-type as converter or <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">adapter</a>, a class which implements <code>ArgumentType&lt;Duration&gt;</code> and uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Duration.parse(CharSequence text)</code></a> to parse the ISO-8601 string and convert to the desired duration-type:</p>\n<pre><code>private static class IsoDurationArgument implements ArgumentType&lt;Duration&gt; {\n\n    @Override\n    public Duration convert(ArgumentParser parser, Argument arg, String value) throws ArgumentParserException {\n        try {\n            return Duration.parse(value);  // the method you found\n        } catch (DateTimeParseException  e) {\n            throw new ArgumentParserException(e, parser);\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    ArgumentParser parser = ArgumentParsers.newFor(&quot;prog&quot;).build();\n    parser.addArgument(&quot;duration&quot;).type(new IsoDurationArgument());\n    try {\n        System.out.println(parser.parseArgs(args));\n    } catch (ArgumentParserException e) {\n        parser.handleError(e);\n    }\n}\n</code></pre>\n<p>Example copied and adapted from: <a href=\"https://argparse4j.github.io/usage.html#argument-type\" rel=\"nofollow noreferrer\">The Argparse4j User Manual — <code>Argument.type()</code></a>, search and scroll down to the example using a custom type <code>PerfectSquare</code>:</p>\n<blockquote>\n<p>The <code>Argument.type()</code> has a version which accepts an object which implements <code>ArgumentType</code> interface</p>\n</blockquote>\n<p>See also: <a href=\"https://stackoverflow.com/questions/42802863/pass-optional-parameters-to-a-cli-program-java/42803081#42803081\">Pass optional parameters to a CLI program - Java</a></p>\n"}],"owner":{"account_id":13950646,"reputation":254,"user_id":10074233,"display_name":"Tarishi Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669330217,"creation_date":1669314530,"question_id":74564952,"body_markdown":"I want to accept a input with java.time.Duration data type in java using net.sourceforge.argparse4j.ArgumentParsers . However since Duration is a non-primitive data type, it is not directly supported to be passed as one of the argument. Is there any better or direct way to accept Duration as paramter in java other than specifying it as String in ISO-8601 format and using Duration.parse() (https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-) to convert it to Duration type.?","title":"Accept Duration parameter as command line argument in java","body":"<p>I want to accept a input with java.time.Duration data type in java using net.sourceforge.argparse4j.ArgumentParsers . However since Duration is a non-primitive data type, it is not directly supported to be passed as one of the argument. Is there any better or direct way to accept Duration as paramter in java other than specifying it as String in ISO-8601 format and using Duration.parse() (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-</a>) to convert it to Duration type.?</p>\n"},{"tags":["java","security","cryptography","uuid"],"answers":[{"tags":[],"owner":{"account_id":11896030,"reputation":68091,"user_id":8705432,"display_name":"bk2204"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641939815,"creation_date":1641939815,"answer_id":70674149,"question_id":70665728,"body_markdown":"A random (v4) UUID has to provide approximately 128 bits of randomness.  In order to do that correctly, it&#39;s required to use a PRNG with at least 128 bits of entropy so that the outputs don&#39;t end up being correlated or having patterns that prevent them from being independent.  That PRNG must also not expose its internal state for the same reason, which means it almost certainly needs to be a CSPRNG.\r\n\r\nIn addition, UUIDs need to be universally unique: that&#39;s why they&#39;re called universally unique identifiers.  If they were based on a weak PRNG, like one with a 32-bit seed, especially where that seed is based on something simple like the time, different systems could generate identical UUIDs.  This could especially be the case if you have a large fleet of systems being deployed at once which all started their time-based weak PRNGs around the same time.\r\n\r\nFurthermore, there are CSPRNGs that are extremely fast.  ChaCha20, which is the PRNG used in the Linux kernel, can output over 3 GB/s per core.  Rust uses ChaCha12 as its default PRNG, which is also cryptographically secure and even faster, and it can be configured to use a per-thread option.  I don&#39;t know what the default option is for Java, but there&#39;s no reason it intriniscally needs to be slow, and since there are many fast, secure options, there&#39;s little reason to use weak options when you don&#39;t have to.\r\n\r\nFinally, it makes sense to use secure defaults.  If we gave people an option between fast but non-unique and slower but unique, many people would choose wrong and end up with breakage or security problems because it&#39;s a little bit faster.  We don&#39;t offer those options because, as I mentioned, it&#39;s not prudent to offer options which are likely to lead to breakage or security vulnerabilities when there is little need for them and a lot of downsides.","title":"Do you really need secure random UUIDs?","body":"<p>A random (v4) UUID has to provide approximately 128 bits of randomness.  In order to do that correctly, it's required to use a PRNG with at least 128 bits of entropy so that the outputs don't end up being correlated or having patterns that prevent them from being independent.  That PRNG must also not expose its internal state for the same reason, which means it almost certainly needs to be a CSPRNG.</p>\n<p>In addition, UUIDs need to be universally unique: that's why they're called universally unique identifiers.  If they were based on a weak PRNG, like one with a 32-bit seed, especially where that seed is based on something simple like the time, different systems could generate identical UUIDs.  This could especially be the case if you have a large fleet of systems being deployed at once which all started their time-based weak PRNGs around the same time.</p>\n<p>Furthermore, there are CSPRNGs that are extremely fast.  ChaCha20, which is the PRNG used in the Linux kernel, can output over 3 GB/s per core.  Rust uses ChaCha12 as its default PRNG, which is also cryptographically secure and even faster, and it can be configured to use a per-thread option.  I don't know what the default option is for Java, but there's no reason it intriniscally needs to be slow, and since there are many fast, secure options, there's little reason to use weak options when you don't have to.</p>\n<p>Finally, it makes sense to use secure defaults.  If we gave people an option between fast but non-unique and slower but unique, many people would choose wrong and end up with breakage or security problems because it's a little bit faster.  We don't offer those options because, as I mentioned, it's not prudent to offer options which are likely to lead to breakage or security vulnerabilities when there is little need for them and a lot of downsides.</p>\n"}],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70674149,"answer_count":1,"score":2,"last_activity_date":1669329153,"creation_date":1641899150,"question_id":70665728,"body_markdown":"I&#39;m encountering this issue not the first time, projects that use UUID a lot have performance impact generating them sometimes having seconds to generate a UUID.\r\n\r\nI know why this happens. This question is not about how to fix it there is plenty of information there. I&#39;m more curious if it&#39;s actually so common that it deserves to be a default.\r\n\r\nJava defensively made it default to use SecureRandom when you generate `UUID.randomUUID()`, however most people use UUIDs as IDs for different things they put into a database, like a user, trade, order id, or any other entity id... but those are not sensitive in terms of security (or am I wrong?), if you are a hacker and you figured out how to guess these ids it does not give you any edge. It matters if someone generates a uuid and does MD5 over it and stores it as default password for new accounts... very rare scenario, but is obvious that it is sensitive data and true randomness is important here.\r\n\r\nMy argument here is that 99% of uses of UUID.randomUUID() do not actually care about true randomness and using secure random is not desirable behaviour for them. Have I missed something here? I&#39;m not a hacker and I had situations where something seemed harmless but ended up being huge deal in terms of security. \r\n\r\n**So my question is : assuming that people don&#39;t use generated UUIDs on sensitive data such as private key/password generation, is it really important to have secure randomness for entity ids? What are the cases where this really matters in UUID generation?**","title":"Do you really need secure random UUIDs?","body":"<p>I'm encountering this issue not the first time, projects that use UUID a lot have performance impact generating them sometimes having seconds to generate a UUID.</p>\n<p>I know why this happens. This question is not about how to fix it there is plenty of information there. I'm more curious if it's actually so common that it deserves to be a default.</p>\n<p>Java defensively made it default to use SecureRandom when you generate <code>UUID.randomUUID()</code>, however most people use UUIDs as IDs for different things they put into a database, like a user, trade, order id, or any other entity id... but those are not sensitive in terms of security (or am I wrong?), if you are a hacker and you figured out how to guess these ids it does not give you any edge. It matters if someone generates a uuid and does MD5 over it and stores it as default password for new accounts... very rare scenario, but is obvious that it is sensitive data and true randomness is important here.</p>\n<p>My argument here is that 99% of uses of UUID.randomUUID() do not actually care about true randomness and using secure random is not desirable behaviour for them. Have I missed something here? I'm not a hacker and I had situations where something seemed harmless but ended up being huge deal in terms of security.</p>\n<p><strong>So my question is : assuming that people don't use generated UUIDs on sensitive data such as private key/password generation, is it really important to have secure randomness for entity ids? What are the cases where this really matters in UUID generation?</strong></p>\n"},{"tags":["java","android","augmented-reality","arkit","arcore"],"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1592864809,"post_id":62513460,"comment_id":110572883,"body_markdown":"Please remove the tag &quot;Java 3D&quot; as you don&#39;t use the Java 3D API","body":"Please remove the tag &quot;Java 3D&quot; as you don&#39;t use the Java 3D API"}],"answers":[{"tags":[],"owner":{"account_id":8834917,"reputation":50825,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669328677,"creation_date":1592891483,"answer_id":62528175,"question_id":62513460,"body_markdown":"## ARCore 1.18\r\n\r\nARCore 1.18 now does support `Occlusion` feature via brand-new Depth API. Check [a list of Depth API supported devices][1] to find out whether your Android smartphone supports Occlusion capabilities or not.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nGoogle documentation says about Depth API the following:\r\n\r\n&gt;The Depth API uses a depth-from-motion algorithm to create depth maps, which you can obtain using `acquireDepthImage()` method. This algorithm takes multiple device images from different angles and compares them to estimate the distance to every pixel as a user moves their phone. If the device has an active depth sensor, such as a time-of-flight sensor (or ToF sensor), that data is automatically included in the processed depth. This enhances the existing depth map and enables depth even when the camera is not moving. It also provides better depth on surfaces with few or no features, such as white walls, or in dynamic scenes with moving people or objects.\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n## ARCore 1.17\r\n\r\nBut you can&#39;t do any `Object Occlusion` ops in previous ARCore 1.17. It doesn&#39;t support Depth channel compositing and Depth channel ops, except camera defocus feature. So all virtual models you use in your AR app is just placed over a real world video using [Over][3] compositing operation with the following formula:\r\n\r\n## Argb * Aa + Brgb * (1.0 – Aa) \r\n\r\n    //  where Argb is RGB of a foreground image\r\n    //  Aa is Alpha channel of a foreground image\r\n    //  Brgb is RGB of a background video\r\n    //  and 1.0 is a normalised value (in range 0.0...1.0)\r\n\r\n    //  (Argb * Aa) is a premultiplied RGBA image\r\n    //  (1.0 – Aa) is an inversion of a foreground alpha\r\n\r\nHowever, you can get an [Occlusion Management][4] feature (Virtual Buttons sample) if you use `PTC Vuforia 9.0` in Unity for Android devices. Or if you use ARKit 3.5 or ARKit 4.0 for iOS devices. ARKit 4.0 gives you the widest set of toolkits for working with Depth channel, including new **`Depth API`**. There are [People Occlusion][5], Face Occlusion and [Object Occlusion][6] features.\r\n\r\nIn [this post][7] you can read about main principles of `Occlusion` in ARKit.\r\n\r\n\r\n  [1]: https://developers.google.com/ar/discover/supported-devices\r\n  [2]: https://i.stack.imgur.com/1JqPH.jpg\r\n  [3]: https://learn.foundry.com/nuke/8.0/content/user_guide/merging/merge_operations.html\r\n  [4]: https://developer.vuforia.com/downloads/samples\r\n  [5]: https://developer.apple.com/documentation/arkit/occluding_virtual_content_with_people\r\n  [6]: https://developer.apple.com/documentation/arkit/world_tracking/visualizing_and_interacting_with_a_reconstructed_scene\r\n  [7]: https://stackoverflow.com/questions/58269394/how-to-improve-people-occlusion-in-arkit-3-0/58326062#58326062","title":"ARCore – How to place a Real World object in front of a 3d model?","body":"<h2>ARCore 1.18</h2>\n<p>ARCore 1.18 now does support <code>Occlusion</code> feature via brand-new Depth API. Check <a href=\"https://developers.google.com/ar/discover/supported-devices\" rel=\"nofollow noreferrer\">a list of Depth API supported devices</a> to find out whether your Android smartphone supports Occlusion capabilities or not.</p>\n<p><a href=\"https://i.stack.imgur.com/1JqPH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JqPH.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Google documentation says about Depth API the following:</p>\n<blockquote>\n<p>The Depth API uses a depth-from-motion algorithm to create depth maps, which you can obtain using <code>acquireDepthImage()</code> method. This algorithm takes multiple device images from different angles and compares them to estimate the distance to every pixel as a user moves their phone. If the device has an active depth sensor, such as a time-of-flight sensor (or ToF sensor), that data is automatically included in the processed depth. This enhances the existing depth map and enables depth even when the camera is not moving. It also provides better depth on surfaces with few or no features, such as white walls, or in dynamic scenes with moving people or objects.</p>\n</blockquote>\n<p><br></p>\n<h2>ARCore 1.17</h2>\n<p>But you can't do any <code>Object Occlusion</code> ops in previous ARCore 1.17. It doesn't support Depth channel compositing and Depth channel ops, except camera defocus feature. So all virtual models you use in your AR app is just placed over a real world video using <a href=\"https://learn.foundry.com/nuke/8.0/content/user_guide/merging/merge_operations.html\" rel=\"nofollow noreferrer\">Over</a> compositing operation with the following formula:</p>\n<h2>Argb * Aa + Brgb * (1.0 – Aa)</h2>\n<pre><code>//  where Argb is RGB of a foreground image\n//  Aa is Alpha channel of a foreground image\n//  Brgb is RGB of a background video\n//  and 1.0 is a normalised value (in range 0.0...1.0)\n\n//  (Argb * Aa) is a premultiplied RGBA image\n//  (1.0 – Aa) is an inversion of a foreground alpha\n</code></pre>\n<p>However, you can get an <a href=\"https://developer.vuforia.com/downloads/samples\" rel=\"nofollow noreferrer\">Occlusion Management</a> feature (Virtual Buttons sample) if you use <code>PTC Vuforia 9.0</code> in Unity for Android devices. Or if you use ARKit 3.5 or ARKit 4.0 for iOS devices. ARKit 4.0 gives you the widest set of toolkits for working with Depth channel, including new <strong><code>Depth API</code></strong>. There are <a href=\"https://developer.apple.com/documentation/arkit/occluding_virtual_content_with_people\" rel=\"nofollow noreferrer\">People Occlusion</a>, Face Occlusion and <a href=\"https://developer.apple.com/documentation/arkit/world_tracking/visualizing_and_interacting_with_a_reconstructed_scene\" rel=\"nofollow noreferrer\">Object Occlusion</a> features.</p>\n<p>In <a href=\"https://stackoverflow.com/questions/58269394/how-to-improve-people-occlusion-in-arkit-3-0/58326062#58326062\">this post</a> you can read about main principles of <code>Occlusion</code> in ARKit.</p>\n"}],"owner":{"account_id":6792405,"reputation":31,"user_id":5229043,"display_name":"raji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2010,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669328677,"creation_date":1592825592,"question_id":62513460,"body_markdown":"I have created an Android AR app using `ARCore Sceneform` plugin. I am able to place 3D models on the highlighted plane. But even if I&#39;m placing a real object in front of the camera (or just waving my hands in front of the camera) it is visible only behind the 3d object.\r\n\r\nHow can I place real-world objects in front of the 3D objects in Android?\r\n\r\nCan we use any other plugin to achieve this?\r\n ","title":"ARCore – How to place a Real World object in front of a 3d model?","body":"<p>I have created an Android AR app using <code>ARCore Sceneform</code> plugin. I am able to place 3D models on the highlighted plane. But even if I'm placing a real object in front of the camera (or just waving my hands in front of the camera) it is visible only behind the 3d object.</p>\n<p>How can I place real-world objects in front of the 3D objects in Android?</p>\n<p>Can we use any other plugin to achieve this?</p>\n"},{"tags":["java","spring-data-jpa","spring-data-rest"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1669329496,"post_id":74566511,"comment_id":131624537,"body_markdown":"Sorry cannot reproduce/sounds really weird! Please do a [mre]. (I can name variable&amp;&quot;accessors&quot; anyhow. As long (db) data is consistent, i get a non-null relationship)","body":"Sorry cannot reproduce/sounds really weird! Please do a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. (I can name variable&amp;&quot;accessors&quot; anyhow. As long (db) data is consistent, i get a non-null relationship)"},{"owner":{"account_id":19792051,"reputation":15,"user_id":14496543,"display_name":"Daniel Angel"},"score":0,"creation_date":1669652364,"post_id":74566511,"comment_id":131685463,"body_markdown":"Sorry I updated my question check the followed link :https://stackoverflow.com/questions/74603524/spring-data-rest-relationship-return-null-and-not-save-and-not-update","body":"Sorry I updated my question check the followed link :<a href=\"https://stackoverflow.com/questions/74603524/spring-data-rest-relationship-return-null-and-not-save-and-not-update\" title=\"spring data rest relationship return null and not save and not update\">stackoverflow.com/questions/74603524/&hellip;</a>"}],"owner":{"account_id":19792051,"reputation":15,"user_id":14496543,"display_name":"Daniel Angel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669327207,"creation_date":1669326696,"question_id":74566511,"body_markdown":"In spring boot starter data rest &lt;version&gt;2.7.4&lt;/version&gt; the following problem arises when defining a relationship in this way.\r\n\r\n\r\n```Customer.class\r\n        @ManyToOne\r\n\t@JoinColumn(name = &quot;country_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Country country;\r\n\r\n       \r\n    public Country getCountry() {\r\n\t\treturn country;\r\n\t}\r\n\r\n\tpublic void setCountry(Country country) {\r\n\t\tthis.country = country;\r\n\t}\r\n\r\n```\r\nAll time return a relation user:null \r\n\r\nThe only solution I have found is to modify it as follows.\r\n\r\n\r\n```Customer.class\r\n        @ManyToOne\r\n\t@JoinColumn(name = &quot;country_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Country countries;\r\n\r\n      \r\n    public Country getCountry() {\r\n\t\treturn countries;\r\n\t}\r\n\r\n\tpublic void setCountry(Country country) {\r\n\t\tthis.countries = country;\r\n\t}\r\n\r\n```\r\nby changing the name of the property and leaving the setter and getter different if the relationship resolves.\r\n\r\n\r\n\r\n\r\n\r\nI will appreciate any help or information regarding this.","title":"Why Spring data rest repositories return relationship null","body":"<p>In spring boot starter data rest 2.7.4 the following problem arises when defining a relationship in this way.</p>\n<pre><code>        @ManyToOne\n    @JoinColumn(name = &quot;country_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Country country;\n\n       \n    public Country getCountry() {\n        return country;\n    }\n\n    public void setCountry(Country country) {\n        this.country = country;\n    }\n\n</code></pre>\n<p>All time return a relation user:null</p>\n<p>The only solution I have found is to modify it as follows.</p>\n<pre><code>        @ManyToOne\n    @JoinColumn(name = &quot;country_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Country countries;\n\n      \n    public Country getCountry() {\n        return countries;\n    }\n\n    public void setCountry(Country country) {\n        this.countries = country;\n    }\n\n</code></pre>\n<p>by changing the name of the property and leaving the setter and getter different if the relationship resolves.</p>\n<p>I will appreciate any help or information regarding this.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1488570177,"post_id":42587115,"comment_id":72306487,"body_markdown":"Marking as a dupe of this one: [&quot;How can I verify that a method is called with a parameter that contains a certain value, without verifying the whole parameter?&quot;](http://stackoverflow.com/a/40617085/1426891). In short, use an ArgumentMatcher or Hamcrest Matcher to check.","body":"Marking as a dupe of this one: <a href=\"http://stackoverflow.com/a/40617085/1426891\">&quot;How can I verify that a method is called with a parameter that contains a certain value, without verifying the whole parameter?&quot;</a>. In short, use an ArgumentMatcher or Hamcrest Matcher to check."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1669326599,"creation_date":1488589494,"answer_id":42590886,"question_id":42587115,"body_markdown":"Reopening as requested, but the solution (use an ArgumentMatcher) is identical to [the one in the linked answer](https://stackoverflow.com/a/40617085/1426891). Naturally, you can&#39;t use an `ArgumentCaptor` when stubbing, but everything else is the same.\r\n\r\n    class OfficeWithId implements ArgumentMatcher&lt;Office&gt; {\r\n      long id;\r\n\r\n      OfficeWithId(long id) {\r\n        this.id = id;\r\n      }\r\n\r\n      @Override public boolean matches(Office office) {\r\n        return office.id == id;\r\n      }\r\n\r\n      @Override public String toString() {\r\n        return &quot;[Office with id &quot; + id + &quot;]&quot;;\r\n      }\r\n    }\r\n\r\n    when(client.callApi(anyString(), argThat(new IsOfficeWithId(123L)))\r\n        .thenReturn(responseOne);\r\n\r\nBecause ArgumentMatcher has a single method, you can even make it a lambda in Java 8:\r\n\r\n    when(client.callApi(anyString(), argThat(office -&gt; office.id == 123L))\r\n        .thenReturn(responseOne);\r\n\r\nIf you&#39;re already using Hamcrest, you can adapt a Hamcrest matcher using `MockitoHamcrest.argThat`, or use the built-in [`hasProperty`](http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasProperty(java.lang.String,%20org.hamcrest.Matcher)):\r\n\r\n```java\r\nwhen(client.callApi(\r\n  anyString(),\r\n  MockitoHamcrest.argThat(\r\n    hasProperty(&quot;id&quot;, equalTo(123L)))))\r\n  .thenReturn(responseOne);\r\n```","title":"Mockito when checking for specific object property value","body":"<p>Reopening as requested, but the solution (use an ArgumentMatcher) is identical to <a href=\"https://stackoverflow.com/a/40617085/1426891\">the one in the linked answer</a>. Naturally, you can't use an <code>ArgumentCaptor</code> when stubbing, but everything else is the same.</p>\n<pre><code>class OfficeWithId implements ArgumentMatcher&lt;Office&gt; {\n  long id;\n\n  OfficeWithId(long id) {\n    this.id = id;\n  }\n\n  @Override public boolean matches(Office office) {\n    return office.id == id;\n  }\n\n  @Override public String toString() {\n    return &quot;[Office with id &quot; + id + &quot;]&quot;;\n  }\n}\n\nwhen(client.callApi(anyString(), argThat(new IsOfficeWithId(123L)))\n    .thenReturn(responseOne);\n</code></pre>\n<p>Because ArgumentMatcher has a single method, you can even make it a lambda in Java 8:</p>\n<pre><code>when(client.callApi(anyString(), argThat(office -&gt; office.id == 123L))\n    .thenReturn(responseOne);\n</code></pre>\n<p>If you're already using Hamcrest, you can adapt a Hamcrest matcher using <code>MockitoHamcrest.argThat</code>, or use the built-in <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasProperty(java.lang.String,%20org.hamcrest.Matcher)\" rel=\"noreferrer\"><code>hasProperty</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(client.callApi(\n  anyString(),\n  MockitoHamcrest.argThat(\n    hasProperty(&quot;id&quot;, equalTo(123L)))))\n  .thenReturn(responseOne);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82070,"reputation":939,"user_id":231039,"accept_rate":57,"display_name":"eflat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488906526,"creation_date":1488906526,"answer_id":42654167,"question_id":42587115,"body_markdown":"I ended up going with &quot;eq&quot;. This was ok in this case because the objects are pretty simple. First I created an object that is the same as what I expect to get back.\r\n\r\n    Office officeExpected = new Office();\r\n    officeExpected.setId(22L);\r\n\r\nThen my &#39;when&#39; statement becomes:\r\n\r\n    when(client.callApi(anyString(), eq(officeExpected))).thenReturn(responseOne);\r\n\r\nThis allows me to have better checking than &quot;isA(Office.class)&quot;. ","title":"Mockito when checking for specific object property value","body":"<p>I ended up going with \"eq\". This was ok in this case because the objects are pretty simple. First I created an object that is the same as what I expect to get back.</p>\n\n<pre><code>Office officeExpected = new Office();\nofficeExpected.setId(22L);\n</code></pre>\n\n<p>Then my 'when' statement becomes:</p>\n\n<pre><code>when(client.callApi(anyString(), eq(officeExpected))).thenReturn(responseOne);\n</code></pre>\n\n<p>This allows me to have better checking than \"isA(Office.class)\". </p>\n"},{"tags":[],"owner":{"account_id":2580852,"reputation":556,"user_id":2237583,"display_name":"lipeiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639184556,"creation_date":1639184556,"answer_id":70311899,"question_id":42587115,"body_markdown":"adding an answer for anyone with a more complex object.\r\n\r\nanswer from OP uses [eq](https://www.javadoc.io/doc/org.mockito/mockito-core/3.1.0/org/mockito/ArgumentMatchers.html#eq-T-) which works for simple objects.\r\n\r\nHowever, I had a more complex object with many more fields. Its quite painful to create Mock object and fill in all the fields\r\n```\r\npublic class CreateTenantRequest {\r\n  @NotBlank private String id;\r\n  @NotBlank private String a;\r\n  @NotBlank private String b;\r\n  ...\r\n  ...\r\n  \r\n}\r\n```\r\n\r\nI was able to use [refEq](https://www.javadoc.io/doc/org.mockito/mockito-core/3.1.0/org/mockito/ArgumentMatchers.html#refEq-T-java.lang.String...-) to achieve the same thing without setting a value of each field.\r\n\r\n\r\n```\r\nOffice officeExpected = new Office();\r\nofficeExpected.setId(22L);\r\n\r\nverify(demoMock, Mockito.atLeastOnce()).foobarMethod(refEq(officeExpected, &quot;a&quot;, &quot;b&quot;));\r\n```\r\n","title":"Mockito when checking for specific object property value","body":"<p>adding an answer for anyone with a more complex object.</p>\n<p>answer from OP uses <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/3.1.0/org/mockito/ArgumentMatchers.html#eq-T-\" rel=\"nofollow noreferrer\">eq</a> which works for simple objects.</p>\n<p>However, I had a more complex object with many more fields. Its quite painful to create Mock object and fill in all the fields</p>\n<pre><code>public class CreateTenantRequest {\n  @NotBlank private String id;\n  @NotBlank private String a;\n  @NotBlank private String b;\n  ...\n  ...\n  \n}\n</code></pre>\n<p>I was able to use <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/3.1.0/org/mockito/ArgumentMatchers.html#refEq-T-java.lang.String...-\" rel=\"nofollow noreferrer\">refEq</a> to achieve the same thing without setting a value of each field.</p>\n<pre><code>Office officeExpected = new Office();\nofficeExpected.setId(22L);\n\nverify(demoMock, Mockito.atLeastOnce()).foobarMethod(refEq(officeExpected, &quot;a&quot;, &quot;b&quot;));\n</code></pre>\n"}],"owner":{"account_id":82070,"reputation":939,"user_id":231039,"accept_rate":57,"display_name":"eflat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28814,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1669326599,"creation_date":1488570004,"question_id":42587115,"body_markdown":"I have the following in a working test:\r\n\r\n    when(client.callApi(anyString(), isA(Office.class))).thenReturn(responseOne);\r\nNote that client is a Mock of class Client.\r\n\r\nI want to change &quot;isA(Office.class)&quot; to tell it to match where the &quot;id&quot; property of an Office instance is &quot;123L&quot;. How can I specify that I want a specific argument value in the method of a mocked object?\r\n\r\nEdit: Not a duplicate because I&#39;m trying to use it on a &quot;when&quot; and the linked question (and other resources I&#39;ve found) are using ArgumentCaptor and ArgumentMatcher on &quot;verify&quot; and &quot;assert&quot;. I&#39;m thinking I can&#39;t actually do what I&#39;m trying and will try out another way. Of course, I&#39;m willing to be shown otherwise.","title":"Mockito when checking for specific object property value","body":"<p>I have the following in a working test:</p>\n\n<pre><code>when(client.callApi(anyString(), isA(Office.class))).thenReturn(responseOne);\n</code></pre>\n\n<p>Note that client is a Mock of class Client.</p>\n\n<p>I want to change \"isA(Office.class)\" to tell it to match where the \"id\" property of an Office instance is \"123L\". How can I specify that I want a specific argument value in the method of a mocked object?</p>\n\n<p>Edit: Not a duplicate because I'm trying to use it on a \"when\" and the linked question (and other resources I've found) are using ArgumentCaptor and ArgumentMatcher on \"verify\" and \"assert\". I'm thinking I can't actually do what I'm trying and will try out another way. Of course, I'm willing to be shown otherwise.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1669323638,"post_id":74566145,"comment_id":131623396,"body_markdown":"You need loop to iterate `howMany` times.","body":"You need loop to iterate <code>howMany</code> times."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1669323925,"post_id":74566145,"comment_id":131623442,"body_markdown":"[The Java Tutorials - The for Statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">The Java Tutorials - The for Statement</a>"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1669334949,"post_id":74566145,"comment_id":131625325,"body_markdown":"Look at the JavaDoc for Random.nextInt.  You are misunderstanding the parameter.","body":"Look at the JavaDoc for Random.nextInt.  You are misunderstanding the parameter."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669324276,"creation_date":1669324276,"answer_id":74566222,"question_id":74566145,"body_markdown":"```java\r\n\r\npublic void printMultiRandom(int howMany){\r\n    new Random().ints(howMany)\r\n       .forEach(System.out::println);\r\n\r\n}\r\n```","title":"How would i make this method print multiple random integers, based on the number entered in the parameter","body":"<pre class=\"lang-java prettyprint-override\"><code>\npublic void printMultiRandom(int howMany){\n    new Random().ints(howMany)\n       .forEach(System.out::println);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669326454,"creation_date":1669324800,"answer_id":74566289,"question_id":74566145,"body_markdown":"If you do not have any bounds on what the random number should be, you should use this..\r\n\r\n```\r\npublic void printMultiRandom(int num){\r\n    while(num-- &gt; 0){\r\n        double gen= 100 * Math.random();\r\n        System.out.println(gen);\r\n    }\r\n}\r\n```","title":"How would i make this method print multiple random integers, based on the number entered in the parameter","body":"<p>If you do not have any bounds on what the random number should be, you should use this..</p>\n<pre><code>public void printMultiRandom(int num){\n    while(num-- &gt; 0){\n        double gen= 100 * Math.random();\n        System.out.println(gen);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26992863,"reputation":11,"user_id":20555484,"display_name":"Sean Pilan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669326454,"creation_date":1669323595,"question_id":74566145,"body_markdown":"At the moment my method only prints a random number.\r\n\r\nHeres the method.\r\n\r\n```\r\n    public void   printMultiRandom(int howMany){\r\n        Random rand = new Random();\r\n        System.out.println(rand.nextInt(howMany));\r\n```\r\n","title":"How would i make this method print multiple random integers, based on the number entered in the parameter","body":"<p>At the moment my method only prints a random number.</p>\n<p>Heres the method.</p>\n<pre><code>    public void   printMultiRandom(int howMany){\n        Random rand = new Random();\n        System.out.println(rand.nextInt(howMany));\n</code></pre>\n"},{"tags":["java","arrays","json","spring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669326122,"post_id":74566436,"comment_id":131623877,"body_markdown":"That looks like it&#39;s Base64 encoded.","body":"That looks like it&#39;s Base64 encoded."}],"answers":[{"tags":[],"owner":{"account_id":1099341,"reputation":5547,"user_id":1092133,"display_name":"Bajal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669326199,"creation_date":1669326199,"answer_id":74566461,"question_id":74566436,"body_markdown":"You can use the `javax.ImageIO` package to achieve this.\r\n\r\n```\r\nByteArrayInputStream bis = new ByteArrayInputStream(imageBytesdata);\r\nBufferedImage image = ImageIO.read(bis);\r\nImageIO.write(imagee, &quot;jpg&quot;, new File(&quot;output.jpg&quot;) );\r\n```\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#write-java.awt.image.RenderedImage-java.lang.String-java.io.File-","title":"Convert an ByteArray from a JSON to an Image with Java or Spring","body":"<p>You can use the <code>javax.ImageIO</code> package to achieve this.</p>\n<pre><code>ByteArrayInputStream bis = new ByteArrayInputStream(imageBytesdata);\nBufferedImage image = ImageIO.read(bis);\nImageIO.write(imagee, &quot;jpg&quot;, new File(&quot;output.jpg&quot;) );\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#write-java.awt.image.RenderedImage-java.lang.String-java.io.File-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#write-java.awt.image.RenderedImage-java.lang.String-java.io.File-</a></p>\n"}],"owner":{"account_id":18235483,"reputation":36,"user_id":13273596,"display_name":"Gorostiaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669326199,"creation_date":1669325993,"question_id":74566436,"body_markdown":"I need some help please.\r\nI can get a JSON from an API. This JSON has a pair key value (among others) that contains an array of byte that I need to convert it into an image. \r\neg: \r\n\r\n`{\r\n &quot;id&quot;: &quot;63044&quot;,\r\n &quot;image&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACsgSURBVHhe7Z1b7MVpdZY5CDIwwzADM8xw6ABaa9PaUDBGKaapF6YX1ko10tQLFI22mJAQE+MxWi88YOMpVqO3Vm3SaGgqJhprbVr1pqGaINB6Qwu9KCUCQjnDdr4/+51Z88x691rfPnx77P49yRvnPXy/k9mdYWZon7Xb2Nj4Dc/2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A5T/0Zz3rWUdJuJxwJzmybZRweZfqXLx2tmMvCeeZC5c74rXiua5nLthLgl64XLCXZy6qnD3zrlaz/I7ZS3ckXE64kxzZNkq4vEt1Ll4727GXhPPMhcsd8VrxXNczF+wlQS9cLtjLMxdVzp55V6tZfsfZF+VenhL0Im47ItkmilQ5Jbq5RLJNVIXbHZtXclQ79k5dunvuuufE7P5cLL/jqR9GnhL0Im47ItkmilQ5Jbq5RLJNVIXbHZtXclQ79k5dunvuuufE7P5cLL8jX1SeEs5TpJt3d0I5e+aSyLohwrzyorsT6iuRKq8knKdE5UW1k3dyuJ3zlKBfxfI7uhenhPMU6ebdnVDOnrkksm6IMK+86O6E+kqkyisJ5ylReVHt5J0cbuc8JehXsfyO7sUpQe9w57qqqPYuF/FsVEV2Zkhk3ZDIulMkjvUun6V7nWpXeVLt5SlBv4rld3QvTgl6hzvXVUW1d7mIZ6MqsjNDIuuGRNadInGsd/ks3etUu8qTai9PCfpVLL+je3FK0HeJ14rn6UXcHhJxuSNe65CEy4XLj4XXk2dOuKtEmMdt1Lnq9ySmRdlMi6QxLOMyfcSYR55YVy9swpkm2GVrP+jiD7CEPCeUrQk3gmE2EetzEXLhfx7CGJyhPXVzklsi5KZN0hCeeZE+4kwrzyQjl75hTJNkOrWX5HvqjzzLu487OeuD3Vhft4jUyOqhfxWofkqHaud7lwfZU7unvl7J3vqqK7OzfL78gXdZ55F3d+1hO3p7pwH6+RyVH1Il7rkBzVzvUuF66vckd3r5y9811VdHfnZvkd+aLyzAX7SsLlDrenF+fezaLruOuxl2apzrucxGscs+9KVLlw/lSRqr80y+/IF40vH3PBvpJwucPt6cW5d7PoOu567KVZqvMuJ/Eax+y7ElUunD9VpOovzfI78kXjy0c5su1QRXYmirieviJeIzs321PCeeYO7uLZmItuL5yvckrQC5cL9dzRC5cL9dXu2ix/Mn6Q+JGiHNl2qCI7E0VcT18Rr5Gdm+0p4TxzB3fxbMxFtxfOVzkl6IXLhXru6IXLhfpqd22WPxk/DCVcXsG981UuiW4ukWwz1IV7d97lDu0pkXVRxOWCvdsrZ+88c+HyLvHahyScZ76a5Xfmi1PC5RXcO1/lkujmEsk2Q124d+dd7tCeElkXRVwu2Lu9cvbOMxcu7xKvfUjCeearWX5nvnglwtzthPpqR47d85zLRZVTJNsMVWRnooTLRdWL2d75KpcEvZjdsT/Vr2b5nfXCXRHmbifUVzty7J7nXC6qnCLZZqgiOxMlXC6qXsz2zle5JOjF7I79qX41y+/cfWHtuGdeSbhcMK92TqfirtfNK5GqF9xJwnnmgvnsjiJVL9jHM1Ei64Yc7Kv9pVh+x+6Lasc980rC5YJ5tXM6FXe9bl6JVL3gThLOMxfMZ3cUqXrBPp6JElk35GBf7S/F+jsC9+LM3a7CXYcizCsvqp28k3C5g7vqnPpKousvlRO36+ZSl+zskOh65qtYf0fgXpy521W461CEeeVFtZN3Ei53cFedU19JdP2lcuJ23Vzqkp0dEl3PfBXr77iHL06JyguXC/Vu53LBXr7KKVHlovLC5UQ76tJk94wS9MT1zOVd3sXtlbOv/LW42hPoAziJyguXC/Vu53LBXr7KKVHlovLC5UQ76tJk94wS9MT1zOVd3sXtlbOv/LW42hPoA8x+iOqc...........................&quot;\r\n}`\r\n\r\n \r\n\r\nI need that image key value to turn it into an image jpg or png.\r\nIs there a way to do it with Java or Spring?\r\nThanks in advance.","title":"Convert an ByteArray from a JSON to an Image with Java or Spring","body":"<p>I need some help please.\nI can get a JSON from an API. This JSON has a pair key value (among others) that contains an array of byte that I need to convert it into an image.\neg:</p>\n<p><code>{ &quot;id&quot;: &quot;63044&quot;, &quot;image&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACsgSURBVHhe7Z1b7MVpdZY5CDIwwzADM8xw6ABaa9PaUDBGKaapF6YX1ko10tQLFI22mJAQE+MxWi88YOMpVqO3Vm3SaGgqJhprbVr1pqGaINB6Qwu9KCUCQjnDdr4/+51Z88x691rfPnx77P49yRvnPXy/k9mdYWZon7Xb2Nj4Dc/2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A7Ye+sXEDbD/0jY0bYPuhb2zcANsPfWPjBth+6BsbN8D2Q9/YuAG2H/rGxg2w/dA3Nm6A5T/0Zz3rWUdJuJxwJzmybZRweZfqXLx2tmMvCeeZC5c74rXiua5nLthLgl64XLCXZy6qnD3zrlaz/I7ZS3ckXE64kxzZNkq4vEt1Ll4727GXhPPMhcsd8VrxXNczF+wlQS9cLtjLMxdVzp55V6tZfsfZF+VenhL0Im47ItkmilQ5Jbq5RLJNVIXbHZtXclQ79k5dunvuuufE7P5cLL/jqR9GnhL0Im47ItkmilQ5Jbq5RLJNVIXbHZtXclQ79k5dunvuuufE7P5cLL8jX1SeEs5TpJt3d0I5e+aSyLohwrzyorsT6iuRKq8knKdE5UW1k3dyuJ3zlKBfxfI7uhenhPMU6ebdnVDOnrkksm6IMK+86O6E+kqkyisJ5ylReVHt5J0cbuc8JehXsfyO7sUpQe9w57qqqPYuF/FsVEV2Zkhk3ZDIulMkjvUun6V7nWpXeVLt5SlBv4rld3QvTgl6hzvXVUW1d7mIZ6MqsjNDIuuGRNadInGsd/ks3etUu8qTai9PCfpVLL+je3FK0HeJ14rn6UXcHhJxuSNe65CEy4XLj4XXk2dOuKtEmMdt1Lnq9ySmRdlMi6QxLOMyfcSYR55YVy9swpkm2GVrP+jiD7CEPCeUrQk3gmE2EetzEXLhfx7CGJyhPXVzklsi5KZN0hCeeZE+4kwrzyQjl75hTJNkOrWX5HvqjzzLu487OeuD3Vhft4jUyOqhfxWofkqHaud7lwfZU7unvl7J3vqqK7OzfL78gXdZ55F3d+1hO3p7pwH6+RyVH1Il7rkBzVzvUuF66vckd3r5y9811VdHfnZvkd+aLyzAX7SsLlDrenF+fezaLruOuxl2apzrucxGscs+9KVLlw/lSRqr80y+/IF40vH3PBvpJwucPt6cW5d7PoOu567KVZqvMuJ/Eax+y7ElUunD9VpOovzfI78kXjy0c5su1QRXYmirieviJeIzs321PCeeYO7uLZmItuL5yvckrQC5cL9dzRC5cL9dXu2ix/Mn6Q+JGiHNl2qCI7E0VcT18Rr5Gdm+0p4TxzB3fxbMxFtxfOVzkl6IXLhXru6IXLhfpqd22WPxk/DCVcXsG981UuiW4ukWwz1IV7d97lDu0pkXVRxOWCvdsrZ+88c+HyLvHahyScZ76a5Xfmi1PC5RXcO1/lkujmEsk2Q124d+dd7tCeElkXRVwu2Lu9cvbOMxcu7xKvfUjCeearWX5nvnglwtzthPpqR47d85zLRZVTJNsMVWRnooTLRdWL2d75KpcEvZjdsT/Vr2b5nfXCXRHmbifUVzty7J7nXC6qnCLZZqgiOxMlXC6qXsz2zle5JOjF7I79qX41y+/cfWHtuGdeSbhcMK92TqfirtfNK5GqF9xJwnnmgvnsjiJVL9jHM1Ei64Yc7Kv9pVh+x+6Lasc980rC5YJ5tXM6FXe9bl6JVL3gThLOMxfMZ3cUqXrBPp6JElk35GBf7S/F+jsC9+LM3a7CXYcizCsvqp28k3C5g7vqnPpKousvlRO36+ZSl+zskOh65qtYf0fgXpy521W461CEeeVFtZN3Ei53cFedU19JdP2lcuJ23Vzqkp0dEl3PfBXr77iHL06JyguXC/Vu53LBXr7KKVHlovLC5UQ76tJk94wS9MT1zOVd3sXtlbOv/LW42hPoAziJyguXC/Vu53LBXr7KKVHlovLC5UQ76tJk94wS9MT1zOVd3sXtlbOv/LW42hPoA8x+iOqc...........................&quot; }</code></p>\n<p>I need that image key value to turn it into an image jpg or png.\nIs there a way to do it with Java or Spring?\nThanks in advance.</p>\n"},{"tags":["java","spring","datetime","jenkins","jodatime"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1669202831,"post_id":74545998,"comment_id":131589790,"body_markdown":"You should also post the test case code.","body":"You should also post the test case code."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1669202876,"post_id":74545998,"comment_id":131589816,"body_markdown":"So you&#39;re setting the start date and time as a String containing the number of seconds since epoch? Why not just the long value in that case? And I don&#39;t see how this could fail, do you get any exception or failed assertations?","body":"So you&#39;re setting the start date and time as a String containing the number of seconds since epoch? Why not just the long value in that case? And I don&#39;t see how this could fail, do you get any exception or failed assertations?"},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669203858,"post_id":74545998,"comment_id":131590148,"body_markdown":"@ArvindKumarAvinash you mean the entire test case code?","body":"@ArvindKumarAvinash you mean the entire test case code?"},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669204065,"post_id":74545998,"comment_id":131590223,"body_markdown":"@Thomas in shopDTO this StartDateAndTime is a string i cannot change it so that&#39;s why converting it to a string. it is giving failed assertion.","body":"@Thomas in shopDTO this StartDateAndTime is a string i cannot change it so that&#39;s why converting it to a string. it is giving failed assertion."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669205936,"post_id":74545998,"comment_id":131590881,"body_markdown":"That failing test code doesn&#39;t seem to be connected to your first line, at least I can&#39;t see any obvious connection. I _guess_ that `start.toEpochMilli()` is somehow related to `setStartDateAndTime()` but since that takes a string there&#39;s still a lot missing. Also, _what_ assertation if failing, are you getting that `BadRequestException` but don&#39;t expect it?","body":"That failing test code doesn&#39;t seem to be connected to your first line, at least I can&#39;t see any obvious connection. I <i>guess</i> that <code>start.toEpochMilli()</code> is somehow related to <code>setStartDateAndTime()</code> but since that takes a string there&#39;s still a lot missing. Also, <i>what</i> assertation if failing, are you getting that <code>BadRequestException</code> but don&#39;t expect it?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1669206021,"post_id":74545998,"comment_id":131590908,"body_markdown":"Btw, you are using Joda Time, aren&#39;t you? `DateTime` isn&#39;t a `java.time` class.","body":"Btw, you are using Joda Time, aren&#39;t you? <code>DateTime</code> isn&#39;t a <code>java.time</code> class."},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669223518,"post_id":74545998,"comment_id":131597746,"body_markdown":"Yes i am using joda time","body":"Yes i am using joda time"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669224814,"post_id":74545998,"comment_id":131598243,"body_markdown":"Isn’t that a matter of specifying your intended time zone instead of `DateTimeZone.getDefault()`? For example `DateTimeZone.forID(&quot;America/Tortola&quot;)` (don’t know which time zone you wanted).","body":"Isn’t that a matter of specifying your intended time zone instead of <code>DateTimeZone.getDefault()</code>? For example <code>DateTimeZone.forID(&quot;America&#47;Tortola&quot;)</code> (don’t know which time zone you wanted)."},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":1,"creation_date":1669269832,"post_id":74545998,"comment_id":131607276,"body_markdown":"@OleV.V. Updated the code with minimal reproducible example.","body":"@OleV.V. Updated the code with minimal reproducible example."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669271797,"post_id":74545998,"comment_id":131607700,"body_markdown":"I can’t reproduce. I rewrote your code a bit, but your `if` statement is intact. I ran it in different time zones behind, on and ahead of UTC. Your method always returned an empty list and never threw. Which is your local default time zone and the default time zone of your Jenkins? At which time(s) of day does your test fail on Jenkins? I figure the time of day could make a difference.","body":"I can’t reproduce. I rewrote your code a bit, but your <code>if</code> statement is intact. I ran it in different time zones behind, on and ahead of UTC. Your method always returned an empty list and never threw. Which is your local default time zone and the default time zone of your Jenkins? At which time(s) of day does your test fail on Jenkins? I figure the time of day could make a difference."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669272372,"post_id":74545998,"comment_id":131607831,"body_markdown":"To me it makes no sense that this test should fail in any time zone whatsoever. Your test takes the current time. Throws away fraction of second, which gives us a slightly earlier time. Your method regulates the time back to the start of day in some time zone, giving us a yet earlier time (even in all the corner cases I can think of). Then comparing the obtained time to the current time now (which is some nanos later than the time the method was called). And apparently thinks that the earlier time is later and throws the exception?? Are you sure you can still reproduce your example?","body":"To me it makes no sense that this test should fail in any time zone whatsoever. Your test takes the current time. Throws away fraction of second, which gives us a slightly earlier time. Your method regulates the time back to the start of day in some time zone, giving us a yet earlier time (even in all the corner cases I can think of). Then comparing the obtained time to the current time now (which is some nanos later than the time the method was called). And apparently thinks that the earlier time is later and throws the exception?? Are you sure you can still reproduce your example?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669272886,"post_id":74545998,"comment_id":131607934,"body_markdown":"If your test is still failing, insert some debug logging printing the values of all dates and times in play whether as `Instant`, `long`, `String` or `DateTime` to narrow down where something doesn’t go as expected.","body":"If your test is still failing, insert some debug logging printing the values of all dates and times in play whether as <code>Instant</code>, <code>long</code>, <code>String</code> or <code>DateTime</code> to narrow down where something doesn’t go as expected."},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669275771,"post_id":74545998,"comment_id":131608722,"body_markdown":"when i tried to print the `Instant.now()` in test cases i am getting `1970-01-20` but that same value in my code is giving today&#39;s date `24-11-2022`","body":"when i tried to print the <code>Instant.now()</code> in test cases i am getting <code>1970-01-20</code> but that same value in my code is giving today&#39;s date <code>24-11-2022</code>"},{"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"score":0,"creation_date":1669276033,"post_id":74545998,"comment_id":131608799,"body_markdown":"My local default time zone is UTC and my Jenkins default time zone is also UTC","body":"My local default time zone is UTC and my Jenkins default time zone is also UTC"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669325736,"post_id":74545998,"comment_id":131623812,"body_markdown":"1970-01-20 comes from confusing seconds and milliseconds since the epoch at some point. Current seconds since the epoch are 1 669 325 605. This many *milliseconds* since the epoch equals `1970-01-20T07:42:05.605Z` (UTC). And the other date you mentioned, 1970-01-01, is the epoch (or 0 seconds since the epoch).","body":"1970-01-20 comes from confusing seconds and milliseconds since the epoch at some point. Current seconds since the epoch are 1 669 325 605. This many <i>milliseconds</i> since the epoch equals <code>1970-01-20T07:42:05.605Z</code> (UTC). And the other date you mentioned, 1970-01-01, is the epoch (or 0 seconds since the epoch)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669326099,"post_id":74545998,"comment_id":131623872,"body_markdown":"The results you are reporting are not coming out of the code you are showing us. In this situation we can’t help.","body":"The results you are reporting are not coming out of the code you are showing us. In this situation we can’t help."}],"answers":[{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669205141,"creation_date":1669205141,"answer_id":74546519,"question_id":74545998,"body_markdown":"I would still need more code from your test, but I have the following assumption:\r\n\r\nThe test is failing because your Jenkins server operates on a different timezone than your local machine. You need to adapt your unit test, so that the result is independent of the executing environment.\r\n\r\nYou can set the default TimeZone for unit tests as follows:\r\n\r\n    @Test\r\n    @DefaultTimeZone(&quot;CET&quot;)\r\n    void test_with_short_zone_id() {\r\n        assertThat(TimeZone.getDefault()).isEqualTo(TimeZone.getTimeZone(&quot;CET&quot;));\r\n    }\r\n    \r\n    @Test\r\n    @DefaultTimeZone(&quot;Africa/Juba&quot;)\r\n    void test_with_long_zone_id() {\r\n        assertThat(TimeZone.getDefault()).isEqualTo(TimeZone.getTimeZone(&quot;Africa/Juba&quot;));\r\n    }\r\n\r\n\r\nsource: https://junit-pioneer.org/docs/default-locale-timezone/#defaulttimezone","title":"Tests pass in my timezone, but fail on the remote/onshore/offshore Jenkins server","body":"<p>I would still need more code from your test, but I have the following assumption:</p>\n<p>The test is failing because your Jenkins server operates on a different timezone than your local machine. You need to adapt your unit test, so that the result is independent of the executing environment.</p>\n<p>You can set the default TimeZone for unit tests as follows:</p>\n<pre><code>@Test\n@DefaultTimeZone(&quot;CET&quot;)\nvoid test_with_short_zone_id() {\n    assertThat(TimeZone.getDefault()).isEqualTo(TimeZone.getTimeZone(&quot;CET&quot;));\n}\n\n@Test\n@DefaultTimeZone(&quot;Africa/Juba&quot;)\nvoid test_with_long_zone_id() {\n    assertThat(TimeZone.getDefault()).isEqualTo(TimeZone.getTimeZone(&quot;Africa/Juba&quot;));\n}\n</code></pre>\n<p>source: <a href=\"https://junit-pioneer.org/docs/default-locale-timezone/#defaulttimezone\" rel=\"nofollow noreferrer\">https://junit-pioneer.org/docs/default-locale-timezone/#defaulttimezone</a></p>\n"}],"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669325951,"creation_date":1669202604,"question_id":74545998,"body_markdown":"When I am running my test cases locally it is running fine, but running in the Jenkins server it is failing. can someone help me with this?\r\n\r\nTestCase Code:\r\n\r\n    \r\n    @Test\r\n    public void testingError(){\r\n        List&lt;Error&gt; validationError = subscriptionValidator.testError(String.valueOf(Instant.now().getEpochSecond()));\r\n        Assert.assertEquals(Boolean.TRUE,validationError.isEmpty());\r\n    }\r\n\r\n\r\nCode which i am testing:\r\n\r\n    public List&lt;Error&gt; testError(String epoch){\r\n        List&lt;Error&gt; listError = new ArrayList&lt;&gt;();\r\n        final Instant start = Instant.ofEpochSecond(Long.valueOf(epoch));\r\n\r\n        //I need to check here if the date in start is a future date (only date)\r\n        if(new DateTime(start.toEpochMilli(), DateTimeZone.getDefault()).withTimeAtStartOfDay().isAfter(DateTime.now())){\r\n            final BadRequestException badRequestException =\r\n                    new BadRequestException(messageByLocale.getMessage(&quot;error-message.invalid-start-date&quot;));\r\n            throw badRequestException;\r\n        }\r\n        return listError;\r\n    }\r\n\r\nEven if i run the test cases using the command `mvn  -Dspring.profiles.active=local -Djava.net.preferIPv4Stack=true test package\r\n` in my local it is giving this error\r\n\r\n        testingError(com.demo.service.v1.subscription.ValidatorTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\r\n    com.impelsys.catalog.exception.BadRequestException: null\r\n            at com.demo.service.v1.subscription.Validator.testError(Validator.java:305)\r\n            at com.demo.service.v1.subscription.ValidatorTest.testingError(ValidatorTest.java:319)\r\n\r\nMy local default time zone is UTC and my Jenkins default time zone is also UTC.\r\n\r\n-----------------------------UPDATE--------------------------------------\r\n\r\n\r\nWith the above code when running the test cases `Instant.now() or DateTime.now()` are giving the date `1970-01-01` that why the if the condition becomes true and it is throwing the BadRequestException.\r\n\r\nnow the question is why it is giving `1970-01-01`?","title":"Tests pass in my timezone, but fail on the remote/onshore/offshore Jenkins server","body":"<p>When I am running my test cases locally it is running fine, but running in the Jenkins server it is failing. can someone help me with this?</p>\n<p>TestCase Code:</p>\n<pre><code>@Test\npublic void testingError(){\n    List&lt;Error&gt; validationError = subscriptionValidator.testError(String.valueOf(Instant.now().getEpochSecond()));\n    Assert.assertEquals(Boolean.TRUE,validationError.isEmpty());\n}\n</code></pre>\n<p>Code which i am testing:</p>\n<pre><code>public List&lt;Error&gt; testError(String epoch){\n    List&lt;Error&gt; listError = new ArrayList&lt;&gt;();\n    final Instant start = Instant.ofEpochSecond(Long.valueOf(epoch));\n\n    //I need to check here if the date in start is a future date (only date)\n    if(new DateTime(start.toEpochMilli(), DateTimeZone.getDefault()).withTimeAtStartOfDay().isAfter(DateTime.now())){\n        final BadRequestException badRequestException =\n                new BadRequestException(messageByLocale.getMessage(&quot;error-message.invalid-start-date&quot;));\n        throw badRequestException;\n    }\n    return listError;\n}\n</code></pre>\n<p>Even if i run the test cases using the command <code>mvn  -Dspring.profiles.active=local -Djava.net.preferIPv4Stack=true test package </code> in my local it is giving this error</p>\n<pre><code>    testingError(com.demo.service.v1.subscription.ValidatorTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\ncom.impelsys.catalog.exception.BadRequestException: null\n        at com.demo.service.v1.subscription.Validator.testError(Validator.java:305)\n        at com.demo.service.v1.subscription.ValidatorTest.testingError(ValidatorTest.java:319)\n</code></pre>\n<p>My local default time zone is UTC and my Jenkins default time zone is also UTC.</p>\n<p>-----------------------------UPDATE--------------------------------------</p>\n<p>With the above code when running the test cases <code>Instant.now() or DateTime.now()</code> are giving the date <code>1970-01-01</code> that why the if the condition becomes true and it is throwing the BadRequestException.</p>\n<p>now the question is why it is giving <code>1970-01-01</code>?</p>\n"},{"tags":["java","lambda","java-stream","option-type"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1666696880,"creation_date":1666690501,"answer_id":74191962,"question_id":74191732,"body_markdown":"First of all, this code is fishy: `@Autowired` on fields, reassigned method argument.\r\n\r\nAnd if you ask my opinion, this code doesn&#39;t need neither Streams, no Optional (since there&#39;s no method involved which return one). It seems like you were asked to rewrite the code in an obscuring way so that it would **abuse** either an Optional or Stream.\r\n\r\nNumber of lines is **not** a metric for code quality.\r\n\r\nHere&#39;s an example of a Stream-abuse:\r\n\r\n    @Override\r\n    public ResponseDto addGameToSession(GameDto gameDto) {\r\n        \r\n        Stream.of(gameDto)\r\n            .map(gameplay::playRandomGame)\r\n            .forEach(gDto -&gt; repo.updateTotals(gDto.getResult()));\r\n        \r\n        return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\r\n    }\r\n\r\nThe code above unnecessarily operates via *side-effects*, which is disparaged be the [Stream API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects). \r\n\r\n\r\n\r\nAnd here&#39;s an example of an Optional-abuse (it can be more frequently observed with `Optional.ofNullable()`):\r\n\r\n    @Override\r\n    public ResponseDto addGameToSession(GameDto gameDto) {\r\n        \r\n        Optional.of(gameDto)\r\n            .map(gameplay::playRandomGame)\r\n            .ifPresent(gDto -&gt; repo.updateTotals(gDto.getResult()));\r\n        \r\n        return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\r\n    }\r\n\r\nIn a nut-shell, `Optional` is a container of data, which is intended to represent a **return type**. You can wrap it around something nullable and that would allow to interact safely with a result of a method call regardless whether it contains the actual value or not.\r\n\r\nCreation an Optional only in order chain methods on it, goes against its design goal. It&#39;s a smell and should be avoided.\r\n\r\nRegarding the usage of Optional, see [*this*](https://stackoverflow.com/a/34458582/17949945) and [*this*](https://stackoverflow.com/a/23464794/17949945) answers by [*@Stuart Marks*](https://stackoverflow.com/users/1441122/stuart-marks), Java and OpenJDK developer.","title":"Interview question - How to use Optional.of() or Stream.of() to reduce code","body":"<p>First of all, this code is fishy: <code>@Autowired</code> on fields, reassigned method argument.</p>\n<p>And if you ask my opinion, this code doesn't need neither Streams, no Optional (since there's no method involved which return one). It seems like you were asked to rewrite the code in an obscuring way so that it would <strong>abuse</strong> either an Optional or Stream.</p>\n<p>Number of lines is <strong>not</strong> a metric for code quality.</p>\n<p>Here's an example of a Stream-abuse:</p>\n<pre><code>@Override\npublic ResponseDto addGameToSession(GameDto gameDto) {\n    \n    Stream.of(gameDto)\n        .map(gameplay::playRandomGame)\n        .forEach(gDto -&gt; repo.updateTotals(gDto.getResult()));\n    \n    return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\n}\n</code></pre>\n<p>The code above unnecessarily operates via <em>side-effects</em>, which is disparaged be the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">Stream API documentation</a>.</p>\n<p>And here's an example of an Optional-abuse (it can be more frequently observed with <code>Optional.ofNullable()</code>):</p>\n<pre><code>@Override\npublic ResponseDto addGameToSession(GameDto gameDto) {\n    \n    Optional.of(gameDto)\n        .map(gameplay::playRandomGame)\n        .ifPresent(gDto -&gt; repo.updateTotals(gDto.getResult()));\n    \n    return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\n}\n</code></pre>\n<p>In a nut-shell, <code>Optional</code> is a container of data, which is intended to represent a <strong>return type</strong>. You can wrap it around something nullable and that would allow to interact safely with a result of a method call regardless whether it contains the actual value or not.</p>\n<p>Creation an Optional only in order chain methods on it, goes against its design goal. It's a smell and should be avoided.</p>\n<p>Regarding the usage of Optional, see <a href=\"https://stackoverflow.com/a/34458582/17949945\"><em>this</em></a> and <a href=\"https://stackoverflow.com/a/23464794/17949945\"><em>this</em></a> answers by <a href=\"https://stackoverflow.com/users/1441122/stuart-marks\"><em>@Stuart Marks</em></a>, Java and OpenJDK developer.</p>\n"}],"owner":{"account_id":13342140,"reputation":23,"user_id":9630045,"display_name":"r.lally91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74191962,"answer_count":1,"score":0,"last_activity_date":1669325885,"creation_date":1666689327,"question_id":74191732,"body_markdown":"I recently made it through to the final round of interview.\r\n\r\nAt one point in the interview, they asked me to demonstrate my Java 8 knowledge on the following piece of code. They asked me to reduce the following code using either `Optional.of()` or `Stream.of()`. And I was completely frozen, I only ever used streams on lists and didn&#39;t know how to use the optional approach. I didn&#39;t get the job specifically for this reason, as they said my understanding of java8 wasn&#39;t good enough. Can someone please tell me what they were looking for?\r\n\r\n**Summary**\r\n\r\nI&#39;ve been specifically asked to reduce these `2` lines with `Optional.of()` or `Stream.of()`:\r\n\r\n    gameDto = gameplay.playRandomGame(gameDto);\r\n    repo.updateTotals(gameDto.getResult());\r\n\r\nOverall snippet for a bit of context:\r\n\r\n```\r\n@Service(&quot;gameService&quot;)\r\npublic class GameServiceImpl implements GameService{\r\n\t\r\n\t@Autowired\r\n\tprivate SessionInMemoryRegistry sessionRegistry;\r\n\t\r\n\t@Autowired\r\n\tprivate GameInMemoryRepo repo;\r\n\t\r\n\t@Autowired\r\n\tprivate GamePlay gameplay;\r\n\r\n\t@Override\r\n\tpublic ResponseDto addGameToSession(GameDto gameDto) {\r\n\t\tgameDto = gameplay.playRandomGame(gameDto);\r\n\t\trepo.updateTotals(gameDto.getResult());\r\n\t\treturn sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\r\n\t}\r\n}\r\n```","title":"Interview question - How to use Optional.of() or Stream.of() to reduce code","body":"<p>I recently made it through to the final round of interview.</p>\n<p>At one point in the interview, they asked me to demonstrate my Java 8 knowledge on the following piece of code. They asked me to reduce the following code using either <code>Optional.of()</code> or <code>Stream.of()</code>. And I was completely frozen, I only ever used streams on lists and didn't know how to use the optional approach. I didn't get the job specifically for this reason, as they said my understanding of java8 wasn't good enough. Can someone please tell me what they were looking for?</p>\n<p><strong>Summary</strong></p>\n<p>I've been specifically asked to reduce these <code>2</code> lines with <code>Optional.of()</code> or <code>Stream.of()</code>:</p>\n<pre><code>gameDto = gameplay.playRandomGame(gameDto);\nrepo.updateTotals(gameDto.getResult());\n</code></pre>\n<p>Overall snippet for a bit of context:</p>\n<pre><code>@Service(&quot;gameService&quot;)\npublic class GameServiceImpl implements GameService{\n    \n    @Autowired\n    private SessionInMemoryRegistry sessionRegistry;\n    \n    @Autowired\n    private GameInMemoryRepo repo;\n    \n    @Autowired\n    private GamePlay gameplay;\n\n    @Override\n    public ResponseDto addGameToSession(GameDto gameDto) {\n        gameDto = gameplay.playRandomGame(gameDto);\n        repo.updateTotals(gameDto.getResult());\n        return sessionRegistry.addGameSession(gameDto.getSessionId(), gameDto.getPlayer1Choice(), gameDto.getPlayer2Choice(), gameDto.getResult());\n    }\n}\n</code></pre>\n"},{"tags":["java","binary-tree","binary-search-tree","binary-search"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1667912299,"post_id":74361081,"comment_id":131276513,"body_markdown":"And what exactly is your question? Meaning: you have a binary tree **solely** ordered on the price property, ignoring the its other properties. So ... you probably have to iterate the whole tree ... and compare all entries to identify min/max. Given that this is probably your homework ... what exactly have you done so far to solve it?","body":"And what exactly is your question? Meaning: you have a binary tree <b>solely</b> ordered on the price property, ignoring the its other properties. So ... you probably have to iterate the whole tree ... and compare all entries to identify min/max. Given that this is probably your homework ... what exactly have you done so far to solve it?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667912467,"post_id":74361081,"comment_id":131276583,"body_markdown":"Some things are not clearly stated, a simple language problem maybe. The `price` of an Order may no longer be changed, as then the tree structure is corrupted, possibly .","body":"Some things are not clearly stated, a simple language problem maybe. The <code>price</code> of an Order may no longer be changed, as then the tree structure is corrupted, possibly ."},{"owner":{"account_id":26751646,"reputation":13,"user_id":20350899,"display_name":"Данил Денк"},"score":0,"creation_date":1667912959,"post_id":74361081,"comment_id":131276788,"body_markdown":"@GhostCat i make update about my current solution","body":"@GhostCat i make update about my current solution"}],"owner":{"account_id":26751646,"reputation":13,"user_id":20350899,"display_name":"Данил Денк"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669325879,"creation_date":1667911981,"question_id":74361081,"body_markdown":"My POJO object is\r\n\r\n```\r\npublic class Order {\r\n  int price;\r\n  int size;\r\n  boolean isBid;\r\n```\r\n\r\nI need to write 2 methods.\r\nFirst should return Order with max price and isBid = true;\r\nSecond should return Order with min price and isBid = false;\r\n\r\nP.S. This is Market Order Book, so object with isBid = true can&#39;t have price more than Object with isBid = false;\r\n\r\nP.S.S. I choose binary tree as data structure, but maybe there are even better structure for this case.\r\n\r\n\r\n\r\nBelow you can see my method to add new Node\r\n\r\n\r\n```\r\nprivate Node updateOrderBook(Node current,Order order) {\r\n  if (current == null) {\r\n    return new Node(order);\r\n  }\r\n  if (order.getPrice() &lt; current.order.getPrice()) {\r\n    current.left = updateOrderBook(current.left,order);\r\n  } else if (order.getPrice() &gt; current.order.getPrice()) {\r\n    current.right = updateOrderBook(current.right,order);\r\n  } else {\r\n    current.order.setSize(order.getSize());\r\n  }\r\n  return current;\r\n}\r\n```\r\nSo you can see my Tree is sorted based on Price;\r\n\r\nThank you for answer\r\n\r\nUPD. My current solution is \r\n \r\n\r\n    private Order findBestBid(Node current) {\r\n        if (current == null) {\r\n          return null;\r\n        }\r\n    \r\n        if (current.order.isBid() &amp;&amp; current.right == null) {\r\n          return current.order;\r\n        }\r\n        \r\n        return current.order.isBid()\r\n            ? findBestBid(current.right)\r\n            : findBestBid(current.left);\r\n\r\nBut it is not work if last find Order is Ask.\r\nI understand that means i have to find the last found Bid (this is going to be the Best Bid)\r\n\r\nBut i don&#39;t understand how to do this.\r\n","title":"How to find max or min Object in binary tree depends on specific field","body":"<p>My POJO object is</p>\n<pre><code>public class Order {\n  int price;\n  int size;\n  boolean isBid;\n</code></pre>\n<p>I need to write 2 methods.\nFirst should return Order with max price and isBid = true;\nSecond should return Order with min price and isBid = false;</p>\n<p>P.S. This is Market Order Book, so object with isBid = true can't have price more than Object with isBid = false;</p>\n<p>P.S.S. I choose binary tree as data structure, but maybe there are even better structure for this case.</p>\n<p>Below you can see my method to add new Node</p>\n<pre><code>private Node updateOrderBook(Node current,Order order) {\n  if (current == null) {\n    return new Node(order);\n  }\n  if (order.getPrice() &lt; current.order.getPrice()) {\n    current.left = updateOrderBook(current.left,order);\n  } else if (order.getPrice() &gt; current.order.getPrice()) {\n    current.right = updateOrderBook(current.right,order);\n  } else {\n    current.order.setSize(order.getSize());\n  }\n  return current;\n}\n</code></pre>\n<p>So you can see my Tree is sorted based on Price;</p>\n<p>Thank you for answer</p>\n<p>UPD. My current solution is</p>\n<pre><code>private Order findBestBid(Node current) {\n    if (current == null) {\n      return null;\n    }\n\n    if (current.order.isBid() &amp;&amp; current.right == null) {\n      return current.order;\n    }\n    \n    return current.order.isBid()\n        ? findBestBid(current.right)\n        : findBestBid(current.left);\n</code></pre>\n<p>But it is not work if last find Order is Ask.\nI understand that means i have to find the last found Bid (this is going to be the Best Bid)</p>\n<p>But i don't understand how to do this.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669321896,"post_id":74565890,"comment_id":131623078,"body_markdown":"To match types you can convert String to enum value with `switch (TiposDeOperacoes.valueOf(operacao)){ `, but be sure that enum contains such value, otherwise `valueOf` will throw `IllegalArgumentException`","body":"To match types you can convert String to enum value with <code>switch (TiposDeOperacoes.valueOf(operacao)){ </code>, but be sure that enum contains such value, otherwise <code>valueOf</code> will throw <code>IllegalArgumentException</code>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669325352,"creation_date":1669322254,"answer_id":74566005,"question_id":74565890,"body_markdown":"# tl;dr\r\n\r\n    Mode.valueOf( &quot;ADD&quot; )  // returns `Mode.ADD` object. \r\n\r\n… or:\r\n\r\n```java\r\nswitch ( modeText )\r\n        {\r\n            case &quot;adding&quot; -&gt; Mode.ADD;\r\n            case &quot;minus&quot; , &quot;subtraction&quot; -&gt; Mode.SUBTRACT;\r\n            case &quot;multiplication&quot; , &quot;multiplying&quot; -&gt; Mode.MULTIPLY;\r\n            case &quot;division&quot; -&gt; Mode.DIVIDE;\r\n            default -&gt; throw new IllegalStateException( &quot;Unexpected mode text: &quot; + modeText );\r\n        };\r\n```\r\n\r\n# Details\r\n\r\nThe ideal solution is for the method to take an enum object rather than mere text. If you are testing for enums, then pass enums. Using mere text is fragile, error-prone.\r\n\r\n     public float Calculo( TiposDeOperacoes tiposDeOperacoes , float valor1 , float valor2 ) { … }\r\n\r\nBut if you insist on strings, you can ask the enum object for its name by calling [`Enum#name`][1]. \r\n\r\n    switch ( operacao ) \r\n        case TiposDeOperacoes.SOMA.name() : … \r\n\r\nBut you do not need a `switch` for that behavior. Just call [`Enum#valueOf`][2].\r\n\r\n    TiposDeOperacoes tiposDeOperacoes = TiposDeOperacoes.valueOf( operacao ) ;\r\n\r\n## Separation of concerns\r\n\r\nLearn about [separation of concerns][3], with regard to software design. \r\n\r\nI suggest you call one method to figure out the mapping between string input and the enum object, and a second method taking an enum object that performs your calculation. Two jobs: (a) mapping text to enum, and (b) performing calculation, should be two separate methods.\r\n\r\nFor example, let&#39;s define an enum.\r\n\r\n```java\r\npackage work.basil.example.maths;\r\n\r\npublic enum Mode { ADD, SUBTRACT, MULTIPLY, DIVIDE; }\r\n```\r\n\r\nAnd define a `Calculator` class with our core business logic.\r\n\r\n\r\n```java\r\npackage work.basil.example.maths;\r\n\r\npublic class Calculator\r\n{\r\n    public float calculate ( final Mode mode , final float x , final float y )\r\n    {\r\n        float result =\r\n                switch ( mode )\r\n                        {\r\n                            case ADD -&gt; ( x + y );\r\n                            case SUBTRACT -&gt; ( x - y );\r\n                            case MULTIPLY -&gt; ( x * y );\r\n                            case DIVIDE -&gt; ( x / y );\r\n                        };\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nAnd an app to put those above classes into action.\r\n\r\n```java\r\npackage work.basil.example.maths;\r\n\r\npublic class CalcApp\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        CalcApp calcApp = new CalcApp();\r\n        calcApp.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        String modeText = &quot;minus&quot;;\r\n        float inputX = 42.0f;\r\n        float inputY = 7.0f;\r\n\r\n        Mode mode = this.modeForText( modeText );\r\n        Calculator calculator = new Calculator();\r\n        float result = calculator.calculate( mode , inputX , inputY );\r\n        System.out.println( &quot;result = &quot; + result );\r\n    }\r\n\r\n    private Mode modeForText ( String modeText )\r\n    {\r\n        Mode mode =\r\n                switch ( modeText )\r\n                        {\r\n                            case &quot;adding&quot; -&gt; Mode.ADD;\r\n                            case &quot;minus&quot; , &quot;subtraction&quot; -&gt; Mode.SUBTRACT;\r\n                            case &quot;multiplication&quot; , &quot;multiplying&quot; -&gt; Mode.MULTIPLY;\r\n                            case &quot;division&quot; -&gt; Mode.DIVIDE;\r\n                            default -&gt; throw new IllegalStateException( &quot;Unexpected mode text: &quot; + modeText );\r\n                        };\r\n        return mode;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, FYI, as of Java 16 an enum can be defined locally, within a method. This came from work on the [records][4] feature.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#name()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\r\n  [3]: https://en.wikipedia.org/wiki/Separation_of_concerns\r\n  [4]: https://openjdk.org/jeps/395","title":"Switch case with String and Enum","body":"<h1>tl;dr</h1>\n<pre><code>Mode.valueOf( &quot;ADD&quot; )  // returns `Mode.ADD` object. \n</code></pre>\n<p>… or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch ( modeText )\n        {\n            case &quot;adding&quot; -&gt; Mode.ADD;\n            case &quot;minus&quot; , &quot;subtraction&quot; -&gt; Mode.SUBTRACT;\n            case &quot;multiplication&quot; , &quot;multiplying&quot; -&gt; Mode.MULTIPLY;\n            case &quot;division&quot; -&gt; Mode.DIVIDE;\n            default -&gt; throw new IllegalStateException( &quot;Unexpected mode text: &quot; + modeText );\n        };\n</code></pre>\n<h1>Details</h1>\n<p>The ideal solution is for the method to take an enum object rather than mere text. If you are testing for enums, then pass enums. Using mere text is fragile, error-prone.</p>\n<pre><code> public float Calculo( TiposDeOperacoes tiposDeOperacoes , float valor1 , float valor2 ) { … }\n</code></pre>\n<p>But if you insist on strings, you can ask the enum object for its name by calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#name()\" rel=\"nofollow noreferrer\"><code>Enum#name</code></a>.</p>\n<pre><code>switch ( operacao ) \n    case TiposDeOperacoes.SOMA.name() : … \n</code></pre>\n<p>But you do not need a <code>switch</code> for that behavior. Just call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"nofollow noreferrer\"><code>Enum#valueOf</code></a>.</p>\n<pre><code>TiposDeOperacoes tiposDeOperacoes = TiposDeOperacoes.valueOf( operacao ) ;\n</code></pre>\n<h2>Separation of concerns</h2>\n<p>Learn about <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">separation of concerns</a>, with regard to software design.</p>\n<p>I suggest you call one method to figure out the mapping between string input and the enum object, and a second method taking an enum object that performs your calculation. Two jobs: (a) mapping text to enum, and (b) performing calculation, should be two separate methods.</p>\n<p>For example, let's define an enum.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.maths;\n\npublic enum Mode { ADD, SUBTRACT, MULTIPLY, DIVIDE; }\n</code></pre>\n<p>And define a <code>Calculator</code> class with our core business logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.maths;\n\npublic class Calculator\n{\n    public float calculate ( final Mode mode , final float x , final float y )\n    {\n        float result =\n                switch ( mode )\n                        {\n                            case ADD -&gt; ( x + y );\n                            case SUBTRACT -&gt; ( x - y );\n                            case MULTIPLY -&gt; ( x * y );\n                            case DIVIDE -&gt; ( x / y );\n                        };\n        return result;\n    }\n}\n</code></pre>\n<p>And an app to put those above classes into action.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.maths;\n\npublic class CalcApp\n{\n    public static void main ( String[] args )\n    {\n        CalcApp calcApp = new CalcApp();\n        calcApp.demo();\n    }\n\n    private void demo ( )\n    {\n        String modeText = &quot;minus&quot;;\n        float inputX = 42.0f;\n        float inputY = 7.0f;\n\n        Mode mode = this.modeForText( modeText );\n        Calculator calculator = new Calculator();\n        float result = calculator.calculate( mode , inputX , inputY );\n        System.out.println( &quot;result = &quot; + result );\n    }\n\n    private Mode modeForText ( String modeText )\n    {\n        Mode mode =\n                switch ( modeText )\n                        {\n                            case &quot;adding&quot; -&gt; Mode.ADD;\n                            case &quot;minus&quot; , &quot;subtraction&quot; -&gt; Mode.SUBTRACT;\n                            case &quot;multiplication&quot; , &quot;multiplying&quot; -&gt; Mode.MULTIPLY;\n                            case &quot;division&quot; -&gt; Mode.DIVIDE;\n                            default -&gt; throw new IllegalStateException( &quot;Unexpected mode text: &quot; + modeText );\n                        };\n        return mode;\n    }\n}\n</code></pre>\n<hr />\n<p>By the way, FYI, as of Java 16 an enum can be defined locally, within a method. This came from work on the <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature.</p>\n"}],"owner":{"account_id":20870824,"reputation":63,"user_id":15330823,"display_name":"Caio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669325352,"creation_date":1669321301,"question_id":74565890,"body_markdown":"TiposDeOperacoes is an enum and operacao is a String, how can I use Enums in this case, since VSCode tells me it&#39;s a type mismatch?        \r\n\r\n        public float Calculo(String operacao, float valor1, float valor2){\r\n                float resultado = 0;\r\n        \r\n                switch (operacao) {\r\n                    case TiposDeOperacoes.SOMA:\r\n                        \r\n                        break;\r\n                \r\n                    default:\r\n                        break;\r\n                }\r\n    }\r\n\r\nTiposDeOperacoes.SOMA.name() also gives me &quot;case expressions must be constant expressions&quot;","title":"Switch case with String and Enum","body":"<p>TiposDeOperacoes is an enum and operacao is a String, how can I use Enums in this case, since VSCode tells me it's a type mismatch?</p>\n<pre><code>    public float Calculo(String operacao, float valor1, float valor2){\n            float resultado = 0;\n    \n            switch (operacao) {\n                case TiposDeOperacoes.SOMA:\n                    \n                    break;\n            \n                default:\n                    break;\n            }\n}\n</code></pre>\n<p>TiposDeOperacoes.SOMA.name() also gives me &quot;case expressions must be constant expressions&quot;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668732006,"post_id":10025239,"comment_id":131484334,"body_markdown":"A canonical is *[How does Java import work?](https://stackoverflow.com/questions/12620369/how-does-java-import-work)*.","body":"A canonical is <i><a href=\"https://stackoverflow.com/questions/12620369/how-does-java-import-work\">How does Java import work?</a></i>."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1669324993,"post_id":10025239,"comment_id":131623663,"body_markdown":"Re &quot;`0,0f`&quot;: Do you mean &quot;`0.0f`&quot;?","body":"Re &quot;<code>0,0f</code>&quot;: Do you mean &quot;<code>0.0f</code>&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":367682,"reputation":7816,"user_id":714009,"accept_rate":75,"display_name":"Daniel Lubarov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333615387,"creation_date":1333615008,"answer_id":10025271,"question_id":10025239,"body_markdown":"Unfortunately it is not possible to split a Java class definition into multiple files.\r\n\r\nTry to restructure your code so that a huge class definition isn&#39;t necessary. Often this means exposing some state through getter and setter methods, and writing supporting classes which use these methods to add functionality to your main class.\r\n\r\nIn your case, you might consider adding supporting classes like `ImageFilters`, or even something more narrow like `ImageNormalizer` if you like very small classes.","title":"$Include #include equivalent in Java","body":"<p>Unfortunately it is not possible to split a Java class definition into multiple files.</p>\n\n<p>Try to restructure your code so that a huge class definition isn't necessary. Often this means exposing some state through getter and setter methods, and writing supporting classes which use these methods to add functionality to your main class.</p>\n\n<p>In your case, you might consider adding supporting classes like <code>ImageFilters</code>, or even something more narrow like <code>ImageNormalizer</code> if you like very small classes.</p>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669324736,"creation_date":1333615189,"answer_id":10025310,"question_id":10025239,"body_markdown":"You can&#39;t split a Java class across files. If each of your methods is self-contained, you could create classes with static methods. So to a certain extent, you would only need to cut and paste code.\r\n\r\n\r\n","title":"$Include #include equivalent in Java","body":"<p>You can't split a Java class across files. If each of your methods is self-contained, you could create classes with static methods. So to a certain extent, you would only need to cut and paste code.</p>\n"},{"tags":[],"owner":{"account_id":981311,"reputation":13552,"user_id":1000959,"accept_rate":67,"display_name":"scibuff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333615256,"creation_date":1333615256,"answer_id":10025332,"question_id":10025239,"body_markdown":"Well, you could create a more generic class and put more generic methods there and then have `ImageMatrix` extends that one. Also, if you have a lot of matrix manipulation functions you will probably end up with a lot of code duplication, i.e. repeating the same code in different methods instead of moving the common code into an aux method and calling it from different places, etc.","title":"$Include #include equivalent in Java","body":"<p>Well, you could create a more generic class and put more generic methods there and then have <code>ImageMatrix</code> extends that one. Also, if you have a lot of matrix manipulation functions you will probably end up with a lot of code duplication, i.e. repeating the same code in different methods instead of moving the common code into an aux method and calling it from different places, etc.</p>\n"},{"tags":[],"owner":{"account_id":428412,"reputation":13424,"user_id":810720,"display_name":"phlogratos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1333615631,"creation_date":1333615631,"answer_id":10025407,"question_id":10025239,"body_markdown":"You can also use delegate methods. This means the definitions of your methods are still in `ImageMatrix`, but they are implemented in another class. Depending on the complexity of your methods this could reduce the amount of code in `ImageMatrix`.\r\n\r\n    class ImageMatrix {\r\n\r\n        MatrixHelperOne helperOne = new MatrixHelperOne();\r\n\r\n        ...\r\n\r\n        public void complexMethod1(Arg arg) {\r\n            helperOne.complexMethod1(arg);\r\n        }\r\n\r\n        ...\r\n    }\r\n   ","title":"$Include #include equivalent in Java","body":"<p>You can also use delegate methods. This means the definitions of your methods are still in <code>ImageMatrix</code>, but they are implemented in another class. Depending on the complexity of your methods this could reduce the amount of code in <code>ImageMatrix</code>.</p>\n\n<pre><code>class ImageMatrix {\n\n    MatrixHelperOne helperOne = new MatrixHelperOne();\n\n    ...\n\n    public void complexMethod1(Arg arg) {\n        helperOne.complexMethod1(arg);\n    }\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10025407,"answer_count":4,"score":1,"last_activity_date":1669324943,"creation_date":1333614896,"question_id":10025239,"body_markdown":"I have a very large and bloated class and I want to split it into separate files, but it should be completely transparent to the user and compatible with existing projects that use the class.\r\n\r\nIn particular, I have my own `ImageMatrix ` class and it defines a ton of unary functions, a ton of binary functions with a scalar, a ton of binary functions with another image, etc. To keep the class clean and maintainable, I wish to put each class of operators in a separate file.\r\n\r\nIs there a way to just cut/paste these methods into a file and include them in the source?\r\n\r\nSo I wish that I can still do this, but the methods actually reside in different files:\r\n\r\n        ImageMatrix img = new ImageMatrix(800, 600, 3);\r\n        img.clear(0.5f, 0.0f, 0,0f);\r\n        img.addSelf(anotherImg);\r\n        img.normalize();\r\n        img.abs();\r\n        img.addSelf(0.5);\r\n\r\nEach method is around 15-30 lines of code because the implementations are extremely optimized for performance, the like of which is impossible to achieve with Bufferedimage or even a plain int[]. There is a lot of code duplication, which is the main reason to group similar methods together. If I add a function or if I change global behavior (like error checking), I can easily keep things coherent.\r\n\r\n\r\n\r\n\r\n","title":"$Include #include equivalent in Java","body":"<p>I have a very large and bloated class and I want to split it into separate files, but it should be completely transparent to the user and compatible with existing projects that use the class.</p>\n<p>In particular, I have my own <code>ImageMatrix </code> class and it defines a ton of unary functions, a ton of binary functions with a scalar, a ton of binary functions with another image, etc. To keep the class clean and maintainable, I wish to put each class of operators in a separate file.</p>\n<p>Is there a way to just cut/paste these methods into a file and include them in the source?</p>\n<p>So I wish that I can still do this, but the methods actually reside in different files:</p>\n<pre><code>    ImageMatrix img = new ImageMatrix(800, 600, 3);\n    img.clear(0.5f, 0.0f, 0,0f);\n    img.addSelf(anotherImg);\n    img.normalize();\n    img.abs();\n    img.addSelf(0.5);\n</code></pre>\n<p>Each method is around 15-30 lines of code because the implementations are extremely optimized for performance, the like of which is impossible to achieve with Bufferedimage or even a plain int[]. There is a lot of code duplication, which is the main reason to group similar methods together. If I add a function or if I change global behavior (like error checking), I can easily keep things coherent.</p>\n"},{"tags":["java","github","intellij-idea","commit"],"owner":{"account_id":27039049,"reputation":13,"user_id":20594147,"display_name":"tzvezdov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669324784,"creation_date":1669324784,"question_id":74566286,"body_markdown":"I am kinda new in the Java world and I was wondering how can I get the latest commit of a Repo that I do not own.\r\nFor example I want to take only the last commit from the VsVim repository.\r\n\r\n\r\nI tried looking into some solutions using GitHubBuilder :\r\n\r\n\r\n```\r\n\r\n```\r\ngitHubConnection.getRepository(url).listCommits().toList().get(0).getCommitDate()\r\n```\r\n\r\n```\r\nFor example I want to extract the commit date and massage. This works, however it is extremely slow(does not even load for couple of minutes and I just stop the programm) when we talk about big repositories with lots of commits like the above mentioned example VsVim.\r\n\r\nThe second attempt was to try use the \r\n```\r\nGHCommitQueryBuilder\r\n```\r\n\r\n```\r\n\r\n```\r\nGHCommitQueryBuilder queryBuilder = gitHubConnection.getRepository(url).queryCommits().since(since).until(until);\r\n\r\n```\r\nGHCommit latestCommit = queryBuilder.list().toList().get(0);\r\nlatestCommit.getCommitDate();\r\n```\r\n\r\n```\r\n\r\n```\r\nHere I have to define with a Date variable the &quot;since&quot; and &quot;until&quot;. For example if I define a 1-month range for the VsVim repository it will load for about 10-12 seconds which is fair enough. However, I do not want to hardcode such time range since it throws an error if the requested repo does not have a commit in this range. For example if the repo does not have a commit for 3 months and I hard code &quot;since&quot; and &quot;until&quot; it will break my programm.\r\n\r\nThe solution I came up with would be to accept Date input from the user so that I can use it when building this GHCommitQueryBuilder. \r\n\r\nI also saw a method called &quot;getCommit(String sha1) which accepts the Sha of the last commit. Maybe if I can somehow automate the process of retrieving the Sha1 I can use this method :) \r\n\r\nPlease let me know if there is a way.\r\n\r\nThanks for the help guys. Appreciate all the answers!","title":"How to get latest commit from a repository in IntelliJ using GitHub Api-Kohsuke?","body":"<p>I am kinda new in the Java world and I was wondering how can I get the latest commit of a Repo that I do not own.\nFor example I want to take only the last commit from the VsVim repository.</p>\n<p>I tried looking into some solutions using GitHubBuilder :</p>\n<pre><code>\n</code></pre>\n<p>gitHubConnection.getRepository(url).listCommits().toList().get(0).getCommitDate()</p>\n<pre><code>\n</code></pre>\n<p>For example I want to extract the commit date and massage. This works, however it is extremely slow(does not even load for couple of minutes and I just stop the programm) when we talk about big repositories with lots of commits like the above mentioned example VsVim.</p>\n<p>The second attempt was to try use the</p>\n<pre><code>GHCommitQueryBuilder\n</code></pre>\n<pre><code>\n</code></pre>\n<p>GHCommitQueryBuilder queryBuilder = gitHubConnection.getRepository(url).queryCommits().since(since).until(until);</p>\n<pre><code>GHCommit latestCommit = queryBuilder.list().toList().get(0);\nlatestCommit.getCommitDate();\n</code></pre>\n<pre><code>\n</code></pre>\n<p>Here I have to define with a Date variable the &quot;since&quot; and &quot;until&quot;. For example if I define a 1-month range for the VsVim repository it will load for about 10-12 seconds which is fair enough. However, I do not want to hardcode such time range since it throws an error if the requested repo does not have a commit in this range. For example if the repo does not have a commit for 3 months and I hard code &quot;since&quot; and &quot;until&quot; it will break my programm.</p>\n<p>The solution I came up with would be to accept Date input from the user so that I can use it when building this GHCommitQueryBuilder.</p>\n<p>I also saw a method called &quot;getCommit(String sha1) which accepts the Sha of the last commit. Maybe if I can somehow automate the process of retrieving the Sha1 I can use this method :)</p>\n<p>Please let me know if there is a way.</p>\n<p>Thanks for the help guys. Appreciate all the answers!</p>\n"},{"tags":["java","algorithm","priority-queue"],"comments":[{"owner":{"account_id":10369,"reputation":42194,"user_id":19540,"display_name":"Lazarus"},"score":0,"creation_date":1279108345,"post_id":3245736,"comment_id":3353158,"body_markdown":"How many items? Are they being persisted anywhere, if so how?","body":"How many items? Are they being persisted anywhere, if so how?"},{"owner":{"account_id":15220,"reputation":48515,"user_id":31945,"display_name":"Artelius"},"score":5,"creation_date":1279108479,"post_id":3245736,"comment_id":3353178,"body_markdown":"Say more about how efficient you want *insertion*, *retrieval* (of priority items), and *removal* to be, relative to each other.","body":"Say more about how efficient you want <i>insertion</i>, <i>retrieval</i> (of priority items), and <i>removal</i> to be, relative to each other."},{"owner":{"account_id":166856,"reputation":1518,"user_id":391290,"accept_rate":71,"display_name":"ladi"},"score":0,"creation_date":1279109868,"post_id":3245736,"comment_id":3353380,"body_markdown":"I Would like to rate the items first and then retrive the first x top scoring items in the right order. So as there are many insertions the insertion should be rather efficient. The retrival could be less efficient.","body":"I Would like to rate the items first and then retrive the first x top scoring items in the right order. So as there are many insertions the insertion should be rather efficient. The retrival could be less efficient."},{"owner":{"display_name":"Aryabhatta"},"score":0,"creation_date":1279120479,"post_id":3245736,"comment_id":3355399,"body_markdown":"How does x compare to n? x &lt;= 100? x close to n/2 what?","body":"How does x compare to n? x &lt;= 100? x close to n/2 what?"},{"owner":{"account_id":90081,"reputation":17174,"user_id":248123,"accept_rate":100,"display_name":"andand"},"score":1,"creation_date":1279122409,"post_id":3245736,"comment_id":3355805,"body_markdown":"Heaps are the standard way of doing this, but you seem to object to the fact that this reorders the heap contents upon removal of the top element.  Why is that a problem?  What is it you&#39;re really trying to do?","body":"Heaps are the standard way of doing this, but you seem to object to the fact that this reorders the heap contents upon removal of the top element.  Why is that a problem?  What is it you&#39;re really trying to do?"}],"answers":[{"tags":[],"owner":{"account_id":20514,"reputation":7078,"user_id":49107,"accept_rate":84,"display_name":"Maciej Piechotka"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1279108818,"creation_date":1279108278,"answer_id":3245758,"question_id":3245736,"body_markdown":"Hmm. [Skip lists][1]? They should have O(log n) insertion (as heap-based queue) but getting top element should be O(1) [including removing it]. They could be even implemented using lock-free algorithm.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Skip_list","title":"Efficient priority list","body":"<p>Hmm. <a href=\"http://en.wikipedia.org/wiki/Skip_list\" rel=\"nofollow noreferrer\">Skip lists</a>? They should have O(log n) insertion (as heap-based queue) but getting top element should be O(1) [including removing it]. They could be even implemented using lock-free algorithm.</p>\n"},{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279108468,"creation_date":1279108468,"answer_id":3245770,"question_id":3245736,"body_markdown":"The JDK has a built-in pqueue class (java.util.PriorityQueue) which is based on a heap algorithm.\r\n\r\nSorry, I only just saw the bit about heaps not fitting your needs. Can you explain why? You can write a custom comparator (or make your items comparable) and the PriorityQueue will order your items appropriately.","title":"Efficient priority list","body":"<p>The JDK has a built-in pqueue class (java.util.PriorityQueue) which is based on a heap algorithm.</p>\n\n<p>Sorry, I only just saw the bit about heaps not fitting your needs. Can you explain why? You can write a custom comparator (or make your items comparable) and the PriorityQueue will order your items appropriately.</p>\n"},{"tags":[],"owner":{"account_id":133105,"reputation":14274,"user_id":334220,"accept_rate":95,"display_name":"Mau"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1279120708,"creation_date":1279110336,"answer_id":3246015,"question_id":3245736,"body_markdown":"If you need only the *k* top items and you *never* need to look a the others, you can use a simple linked list or array storing only the current top *k* items, plus a number (the worst score of the elements in the list).\r\n\r\nIn the `Add()` operation you simply compare the item with the worst value in the list and, if better, you swap the current worst with the added item. This takes *O(k)* time in the *worst case* for insertion because you need to find the element that has currently the worst score. The the average case, however, is *O(1)*, since, as you add better elements to the list, the probability of having to do a swap tends to 0 (that is, you&#39;re not actually adding any items).\r\n\r\nSo if you generate elements at random, your performance is likely to be very good. Even if you generate ordered items (worst case), it might be fast enough for your value of *k*.","title":"Efficient priority list","body":"<p>If you need only the <em>k</em> top items and you <em>never</em> need to look a the others, you can use a simple linked list or array storing only the current top <em>k</em> items, plus a number (the worst score of the elements in the list).</p>\n\n<p>In the <code>Add()</code> operation you simply compare the item with the worst value in the list and, if better, you swap the current worst with the added item. This takes <em>O(k)</em> time in the <em>worst case</em> for insertion because you need to find the element that has currently the worst score. The the average case, however, is <em>O(1)</em>, since, as you add better elements to the list, the probability of having to do a swap tends to 0 (that is, you're not actually adding any items).</p>\n\n<p>So if you generate elements at random, your performance is likely to be very good. Even if you generate ordered items (worst case), it might be fast enough for your value of <em>k</em>.</p>\n"},{"tags":[],"owner":{"display_name":"Aryabhatta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1279120451,"creation_date":1279120451,"answer_id":3247604,"question_id":3245736,"body_markdown":"Heaps seem very suitable, and it seems like you are going about it wrongly.\r\n\r\nSay you wanted the top x elements (how does this x compare to n, btw?)\r\n\r\nWhat you are doing is putting all into a max-heap and getting the top x.\r\n\r\nI suggest instead, you use a min-heap of exactly x elements.\r\n\r\nFirst x elements you insert into heap.\r\n\r\nNext incoming element, you compare against the min which can be done very quickly (O(1) time) in the heap. If smaller, you just ignore the incoming element.\r\n\r\nIf incoming element is larger than min, then you increase the min to the incoming element and sift it down in the heap. This should be logx time at worst.\r\n\r\nOnce done (in nlogx time), you can retrieve the elements from the heap in sorted order in O(xlogx) time.\r\n\r\nDepending on how your data is (and how small x is), using this min-heap solution can be really fast.\r\n\r\n----------------------------------------\r\n\r\n\r\nIf you really really want the inserts to be super-fast and don&#39;t care much about the retrieval then you can also do the following.\r\n\r\nInsert the elements into a vector (array with amortized O(1) insert time) in the order they come.\r\n\r\nThe use the Selection algorithm to find the xth largest element (in O(n) time, but the constants might be big). Say that number is S.\r\n\r\nNow walk the array comparing each element with S and select the ones as large as S.\r\n\r\nIf x is reasonably sized and comparable to n (like n/2 or something) this might work out fine, but if x is small compared to n, I would suggest go with the min-heap. \r\n\r\n","title":"Efficient priority list","body":"<p>Heaps seem very suitable, and it seems like you are going about it wrongly.</p>\n\n<p>Say you wanted the top x elements (how does this x compare to n, btw?)</p>\n\n<p>What you are doing is putting all into a max-heap and getting the top x.</p>\n\n<p>I suggest instead, you use a min-heap of exactly x elements.</p>\n\n<p>First x elements you insert into heap.</p>\n\n<p>Next incoming element, you compare against the min which can be done very quickly (O(1) time) in the heap. If smaller, you just ignore the incoming element.</p>\n\n<p>If incoming element is larger than min, then you increase the min to the incoming element and sift it down in the heap. This should be logx time at worst.</p>\n\n<p>Once done (in nlogx time), you can retrieve the elements from the heap in sorted order in O(xlogx) time.</p>\n\n<p>Depending on how your data is (and how small x is), using this min-heap solution can be really fast.</p>\n\n<hr>\n\n<p>If you really really want the inserts to be super-fast and don't care much about the retrieval then you can also do the following.</p>\n\n<p>Insert the elements into a vector (array with amortized O(1) insert time) in the order they come.</p>\n\n<p>The use the Selection algorithm to find the xth largest element (in O(n) time, but the constants might be big). Say that number is S.</p>\n\n<p>Now walk the array comparing each element with S and select the ones as large as S.</p>\n\n<p>If x is reasonably sized and comparable to n (like n/2 or something) this might work out fine, but if x is small compared to n, I would suggest go with the min-heap. </p>\n"},{"tags":[],"owner":{"account_id":14206439,"reputation":38683,"user_id":10262805,"display_name":"Yilmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669324744,"creation_date":1634850976,"answer_id":69668883,"question_id":3245736,"body_markdown":"&gt; A balanced tree would always guarantee a logarithmic worst case.\r\n&gt; Although linear time is usually regarded as feasible, there is still a\r\n&gt; tremendous difference between logarithmic and linear: \r\n&gt; \r\n&gt; for a billion elements, the difference is between 1 billion operations\r\n&gt; and a few dozens. If each operation takes 1 millisecond, that means\r\n&gt; going from 11 days to less than a second.\r\n\r\n- Every node has at most two children.\r\n\r\n\r\n- The heap tree is complete and left-adjusted. Complete means\r\nthat if the heap has height H, every leaf node is either at level H or H-1. All the levels are left-adjusted, which means that no right sub-tree has a height greater than its left sibling. So, if a leaf is at the same height as an internal node, the\r\nleaf can’t be on the left of that node.\r\n\r\n- Every node holds the highest priority in the subtree rooted at that node.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&gt; Binary search trees are the most common kind of trees, but we can use\r\n&gt; d&#39;ary trees. we can use any value greater than 2, and use the same\r\n&gt; array representation for the heap.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n&gt; But the improvement we get with trees comes with a price. First, as\r\n&gt; with any data structure that uses pointers (lists, graphs, trees, and\r\n&gt; so on) we have a memory overhead in comparison to arrays. While with\r\n&gt; the latter we just need to reserve space for the data (plus maybe,\r\n&gt; depending on the implementation details, some constant space for\r\n&gt; pointers and the node structure itself), every tree node requires\r\n&gt; extra space for the pointers to its children and possibly to its\r\n&gt; parent.\r\n\r\n[Reference][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JueaS.png\r\n  [2]: https://i.stack.imgur.com/I8Hwh.png\r\n  [3]: https://freecontent.manning.com/marcello-la-rocca-advanced-algorithms-and-data-structures/","title":"Efficient priority list","body":"<blockquote>\n<p>A balanced tree would always guarantee a logarithmic worst case.\nAlthough linear time is usually regarded as feasible, there is still a\ntremendous difference between logarithmic and linear:</p>\n<p>for a billion elements, the difference is between 1 billion operations\nand a few dozens. If each operation takes 1 millisecond, that means\ngoing from 11 days to less than a second.</p>\n</blockquote>\n<ul>\n<li><p>Every node has at most two children.</p>\n</li>\n<li><p>The heap tree is complete and left-adjusted. Complete means\nthat if the heap has height H, every leaf node is either at level H or H-1. All the levels are left-adjusted, which means that no right sub-tree has a height greater than its left sibling. So, if a leaf is at the same height as an internal node, the\nleaf can’t be on the left of that node.</p>\n</li>\n<li><p>Every node holds the highest priority in the subtree rooted at that node.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/JueaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JueaS.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>Binary search trees are the most common kind of trees, but we can use\nd'ary trees. we can use any value greater than 2, and use the same\narray representation for the heap.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/I8Hwh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I8Hwh.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>But the improvement we get with trees comes with a price. First, as\nwith any data structure that uses pointers (lists, graphs, trees, and\nso on) we have a memory overhead in comparison to arrays. While with\nthe latter we just need to reserve space for the data (plus maybe,\ndepending on the implementation details, some constant space for\npointers and the node structure itself), every tree node requires\nextra space for the pointers to its children and possibly to its\nparent.</p>\n</blockquote>\n<p><a href=\"https://freecontent.manning.com/marcello-la-rocca-advanced-algorithms-and-data-structures/\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":166856,"reputation":1518,"user_id":391290,"accept_rate":71,"display_name":"ladi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7491,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3247604,"answer_count":5,"score":5,"last_activity_date":1669324744,"creation_date":1279108056,"question_id":3245736,"body_markdown":"I am looking for an efficient data structure to represent a priority list. Specifically I need to assign a priority to a set of items and return only the top scoring items. I have looked into priority queues which operate on heaps, but they don&#39;t seem to really suit my needs. They will reorganize the heap structure as soon as I will poll the top rating item from the queue.\r\n\r\nThe simplest solution would of course be a linked list, which in the worst case would take quite long for the insertion operation. \r\n\r\nDoes anyone have a better solution?","title":"Efficient priority list","body":"<p>I am looking for an efficient data structure to represent a priority list. Specifically I need to assign a priority to a set of items and return only the top scoring items. I have looked into priority queues which operate on heaps, but they don't seem to really suit my needs. They will reorganize the heap structure as soon as I will poll the top rating item from the queue.</p>\n\n<p>The simplest solution would of course be a linked list, which in the worst case would take quite long for the insertion operation. </p>\n\n<p>Does anyone have a better solution?</p>\n"},{"tags":["java","include"],"comments":[{"owner":{"account_id":354298,"reputation":5638,"user_id":692560,"accept_rate":86,"display_name":"Vala"},"score":4,"creation_date":1318411527,"post_id":7737766,"comment_id":9416066,"body_markdown":"C++ knowledge doesn&#39;t directly transfer to Java even though they are similar. There really are many pitfalls and many things that are done differently. There are a large number of tutorials aimed specifically at people who are used to C++ however, try googling `java for c++ programmers`.","body":"C++ knowledge doesn&#39;t directly transfer to Java even though they are similar. There really are many pitfalls and many things that are done differently. There are a large number of tutorials aimed specifically at people who are used to C++ however, try googling <code>java for c++ programmers</code>."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668730493,"post_id":7737766,"comment_id":131484057,"body_markdown":"All the answers are lacking examples.","body":"All the answers are lacking examples."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668730632,"post_id":7737766,"comment_id":131484087,"body_markdown":"[Related question](https://stackoverflow.com/questions/1417291/no-simple-way-to-include-in-java) (from 2009). And [from 2012](https://stackoverflow.com/questions/10025239/include-include-equivalent-in-java).","body":"<a href=\"https://stackoverflow.com/questions/1417291/no-simple-way-to-include-in-java\">Related question</a> (from 2009). And <a href=\"https://stackoverflow.com/questions/10025239/include-include-equivalent-in-java\">from 2012</a>."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668731862,"post_id":7737766,"comment_id":131484305,"body_markdown":"Related: *[How does Java import work?](https://stackoverflow.com/questions/12620369/how-does-java-import-work)*","body":"Related: <i><a href=\"https://stackoverflow.com/questions/12620369/how-does-java-import-work\">How does Java import work?</a></i>"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1318411147,"creation_date":1318411147,"answer_id":7737814,"question_id":7737766,"body_markdown":"There&#39;s no `#include` in Java.\r\n\r\nI would not like a design that had a `funcs.java` that stored all the variables.  Objects are state and behavior encapsulated into a single component.  You aren&#39;t designing in an object-oriented way if you do that.\r\n\r\nGood names matter.  A class named `Stuff` that extends `Stuff2` had better just be a poor example.  \r\n\r\nThat&#39;s not good Java.  I wouldn&#39;t consider it to be good C++, either.\r\n","title":"How do you #include files in Java?","body":"<p>There's no <code>#include</code> in Java.</p>\n\n<p>I would not like a design that had a <code>funcs.java</code> that stored all the variables.  Objects are state and behavior encapsulated into a single component.  You aren't designing in an object-oriented way if you do that.</p>\n\n<p>Good names matter.  A class named <code>Stuff</code> that extends <code>Stuff2</code> had better just be a poor example.  </p>\n\n<p>That's not good Java.  I wouldn't consider it to be good C++, either.</p>\n"},{"tags":[],"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1669323622,"creation_date":1318411274,"answer_id":7737841,"question_id":7737766,"body_markdown":"You don&#39;t `#include` in Java; you `import package.Class`. Since Java 6 (or was it 5?), you can also `import static package.Class.staticMethodOfClass`, which would achieve some forms of what you&#39;re trying to do.\r\n\r\nAlso, as @duffymo noted, `import` only saves you from systematically prefixing the imported class names with the package name, or the imported static method names with the package and class name. The actual `#include` semantics doesn&#39;t exist in Java - at all.\r\n\r\nThat said, having a &quot;funcs.java&quot; file seems to me like you are starting to dip your toes into some anti-patterns... And you should stay away from these.\r\n","title":"How do you #include files in Java?","body":"<p>You don't <code>#include</code> in Java; you <code>import package.Class</code>. Since Java 6 (or was it 5?), you can also <code>import static package.Class.staticMethodOfClass</code>, which would achieve some forms of what you're trying to do.</p>\n<p>Also, as @duffymo noted, <code>import</code> only saves you from systematically prefixing the imported class names with the package name, or the imported static method names with the package and class name. The actual <code>#include</code> semantics doesn't exist in Java - at all.</p>\n<p>That said, having a &quot;funcs.java&quot; file seems to me like you are starting to dip your toes into some anti-patterns... And you should stay away from these.</p>\n"},{"tags":[],"owner":{"account_id":164435,"reputation":1140,"user_id":387174,"display_name":"skyuzo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669323696,"creation_date":1318411546,"answer_id":7737901,"question_id":7737766,"body_markdown":"It sounds like you&#39;re putting all your methods in the same class. You should separate them:\r\n\r\n**Utility classes**\r\n\r\nThese should contain static methods that do things like get the contents of a file, show a dialog screen, or add two numbers together. They don&#39;t really belong in an object class, they don&#39;t require instances, and they&#39;re used widely throughout the program. See [java.lang.Math][1] for a good example of this.\r\n\r\n**Constant class or configuration files**\r\n\r\nThis can be a `Constants` class that contains `static final` members, like `PI = 3.1415`. You can access them using `Constants.PI`.\r\n\r\nOr, you can use configuration files and load them into `Configuration` and access the configuration variables with something like `config.get(&quot;database&quot;)`.\r\n\r\n**Other**\r\n\r\nIf your code doesn&#39;t fit into any of these, you will want to put it into some class such that your code fits [object-oriented programming concepts][2]. From your question, it sounds like you&#39;ll want to read up on this. I would first read *[Head First Java][3]*, then maybe some other books on [object-oriented programming in Java][4]. After that, I&#39;d look at some [design patterns][5].\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\r\n  [2]: http://download.oracle.com/javase/tutorial/java/concepts/\r\n  [3]: http://headfirstlabs.com/books/hfjava/\r\n  [4]: http://www.google.com/search?gcx=c&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java%20books#sclient=psy-ab&amp;hl=en&amp;source=hp&amp;q=java%20object%20oriented%20programming%20book&amp;pbx=1&amp;oq=java%20object%20oriented%20programming%20book&amp;aq=f&amp;aqi=g1g-v2&amp;aql=&amp;gs_sm=e&amp;gs_upl=1221l6370l0l6583l37l18l0l14l14l3l300l2981l1.13.3.1l26l0&amp;bav=on.2,or.r_gc.r_pw.r_cp.,cf.osb&amp;fp=18aa9f7b4fee5b6d&amp;biw=1349&amp;bih=780\r\n  [5]: http://www.oodesign.com/\r\n\r\n\r\n\r\n\r\n","title":"How do you #include files in Java?","body":"<p>It sounds like you're putting all your methods in the same class. You should separate them:</p>\n<p><strong>Utility classes</strong></p>\n<p>These should contain static methods that do things like get the contents of a file, show a dialog screen, or add two numbers together. They don't really belong in an object class, they don't require instances, and they're used widely throughout the program. See <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow noreferrer\">java.lang.Math</a> for a good example of this.</p>\n<p><strong>Constant class or configuration files</strong></p>\n<p>This can be a <code>Constants</code> class that contains <code>static final</code> members, like <code>PI = 3.1415</code>. You can access them using <code>Constants.PI</code>.</p>\n<p>Or, you can use configuration files and load them into <code>Configuration</code> and access the configuration variables with something like <code>config.get(&quot;database&quot;)</code>.</p>\n<p><strong>Other</strong></p>\n<p>If your code doesn't fit into any of these, you will want to put it into some class such that your code fits <a href=\"http://download.oracle.com/javase/tutorial/java/concepts/\" rel=\"nofollow noreferrer\">object-oriented programming concepts</a>. From your question, it sounds like you'll want to read up on this. I would first read <em><a href=\"http://headfirstlabs.com/books/hfjava/\" rel=\"nofollow noreferrer\">Head First Java</a></em>, then maybe some other books on <a href=\"http://www.google.com/search?gcx=c&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java%20books#sclient=psy-ab&amp;hl=en&amp;source=hp&amp;q=java%20object%20oriented%20programming%20book&amp;pbx=1&amp;oq=java%20object%20oriented%20programming%20book&amp;aq=f&amp;aqi=g1g-v2&amp;aql=&amp;gs_sm=e&amp;gs_upl=1221l6370l0l6583l37l18l0l14l14l3l300l2981l1.13.3.1l26l0&amp;bav=on.2,or.r_gc.r_pw.r_cp.,cf.osb&amp;fp=18aa9f7b4fee5b6d&amp;biw=1349&amp;bih=780\" rel=\"nofollow noreferrer\">object-oriented programming in Java</a>. After that, I'd look at some <a href=\"http://www.oodesign.com/\" rel=\"nofollow noreferrer\">design patterns</a>.</p>\n"},{"tags":[],"owner":{"account_id":937545,"reputation":7036,"user_id":966196,"accept_rate":76,"display_name":"Zohaib"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669324028,"creation_date":1318411664,"answer_id":7737931,"question_id":7737766,"body_markdown":"Java is an object-oriented programming language, and there is a reason for it.\r\n\r\nThere isn&#39;t any #include in Java, although you can import classes from other packages.\r\nMaking separate class, func.java, to store variables might not be a good idea, until or unless all of them are constants.\r\n\r\nBy extending some class, you can reuse the function. But does extending class pass the *is a* test? If not that, this might be a bad idea.\r\n\r\nIf moving from C++, going through some good book, for example, *[Head First Java][1]* might help a lot.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Head_First_(book_series)#Books\r\n\r\n\r\n\r\n\r\n","title":"How do you #include files in Java?","body":"<p>Java is an object-oriented programming language, and there is a reason for it.</p>\n<p>There isn't any #include in Java, although you can import classes from other packages.\nMaking separate class, func.java, to store variables might not be a good idea, until or unless all of them are constants.</p>\n<p>By extending some class, you can reuse the function. But does extending class pass the <em>is a</em> test? If not that, this might be a bad idea.</p>\n<p>If moving from C++, going through some good book, for example, <em><a href=\"https://en.wikipedia.org/wiki/Head_First_(book_series)#Books\" rel=\"nofollow noreferrer\">Head First Java</a></em> might help a lot.</p>\n"},{"tags":[],"owner":{"account_id":232234,"reputation":3842,"user_id":496934,"accept_rate":80,"display_name":"user496934"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669324133,"creation_date":1318411683,"answer_id":7737937,"question_id":7737766,"body_markdown":"There isn&#39;t any #include in Java. You can use the *import* statement to make classes and interfaces available in your file.\r\n\r\n\r\n","title":"How do you #include files in Java?","body":"<p>There isn't any #include in Java. You can use the <em>import</em> statement to make classes and interfaces available in your file.</p>\n"},{"tags":[],"owner":{"account_id":3861979,"reputation":99,"user_id":3199507,"display_name":"догонят"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669324435,"creation_date":1437661681,"answer_id":31590299,"question_id":7737766,"body_markdown":"Actually... There is a way to have the same semantics as in C&#39;s #include (the keyword was later borrowed by C++ for the sake of looking fancy...). It&#39;s just not defined with the same words, but it does exactly what you are looking for.\r\n\r\nFirst, let&#39;s see what you do with #include in C++ to understand the question:\r\n\r\n - include &lt;code&gt;#defines&lt;/code&gt;,\r\n - &quot;forward&quot; function definitions (their &quot;body&quot; being defined elsewhere, in a class implementation, if you remember Turbo Pascal, you get my point),\r\n - define structures,\r\n\r\nand that&#39;s pretty much it.\r\n\r\nFor the structure definitions, there isn&#39;t any point. That&#39;s old-school C: in C++ you don&#39;t define &lt;code&gt;struct {}&lt;/code&gt; anymore for ages; you define &lt;code&gt;class&lt;/code&gt; structures with properties and accessor methods. It&#39;s the same in Java: no &lt;code&gt;typedef struct {}&lt;/code&gt; here either.\r\n\r\nFor this, you have the &quot;interface&quot; declaration (see *[Interfaces (The Java&amp;trade; Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)][1]*):\r\n\r\nIt does exactly what you&#39;re looking for:\r\n\r\n        public interface MyDefines {\r\n            final CHAR_SPACE : &#39; &#39;;               // ugly #define\r\n            int detectSpace(FileInputStream fis); // function declaration\r\n            // and so on\r\n        }\r\n\r\nThen, to use:\r\n\r\n        public class MyClass extends MyAncestor implements MyDefines {\r\n            ...\r\n            // implementation of detectSpace()\r\n            int detectSpace(FileInputStream fis) {\r\n                int ret = 0;\r\n                char Car;\r\n                if((Car = fis.read()) != -1) &amp;&amp; (Car == CHAR_SPACE)) ret++;\r\n                ...\r\n            }\r\n\r\nRead the link given above; it&#39;s full of useful cases.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\r\n\r\n","title":"How do you #include files in Java?","body":"<p>Actually... There is a way to have the same semantics as in C's #include (the keyword was later borrowed by C++ for the sake of looking fancy...). It's just not defined with the same words, but it does exactly what you are looking for.</p>\n<p>First, let's see what you do with #include in C++ to understand the question:</p>\n<ul>\n<li>include <code>#defines</code>,</li>\n<li>&quot;forward&quot; function definitions (their &quot;body&quot; being defined elsewhere, in a class implementation, if you remember Turbo Pascal, you get my point),</li>\n<li>define structures,</li>\n</ul>\n<p>and that's pretty much it.</p>\n<p>For the structure definitions, there isn't any point. That's old-school C: in C++ you don't define <code>struct {}</code> anymore for ages; you define <code>class</code> structures with properties and accessor methods. It's the same in Java: no <code>typedef struct {}</code> here either.</p>\n<p>For this, you have the &quot;interface&quot; declaration (see <em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\" rel=\"nofollow noreferrer\">Interfaces (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>):</p>\n<p>It does exactly what you're looking for:</p>\n<pre><code>    public interface MyDefines {\n        final CHAR_SPACE : ' ';               // ugly #define\n        int detectSpace(FileInputStream fis); // function declaration\n        // and so on\n    }\n</code></pre>\n<p>Then, to use:</p>\n<pre><code>    public class MyClass extends MyAncestor implements MyDefines {\n        ...\n        // implementation of detectSpace()\n        int detectSpace(FileInputStream fis) {\n            int ret = 0;\n            char Car;\n            if((Car = fis.read()) != -1) &amp;&amp; (Car == CHAR_SPACE)) ret++;\n            ...\n        }\n</code></pre>\n<p>Read the link given above; it's full of useful cases.</p>\n"},{"tags":[],"owner":{"account_id":3255669,"reputation":259,"user_id":5130486,"display_name":"Adam P. Goucher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669324277,"creation_date":1544528565,"answer_id":53723457,"question_id":7737766,"body_markdown":"You can run the C preprocessor on a Java file, ensuring you use the -P flag to disable line annotations. A quick Google search confirms that this has been attempted at least twice, and is even used in the popular **fastutil** library:\r\n\r\n* *[Using C style macros in Java][1]* \r\n* https://lyubomyr-shaydariv.github.io/posts/2016-09-06-fun-with-java-and-c-preprocessor/\r\n\r\nThis works for all directives (#include, #define, #ifdef, and so forth) and is both syntactically and semantically identical to the equivalent statements in C/C++.\r\n\r\n\r\n  [1]: https://programming.guide/java/macros-in-java-source-files.html","title":"How do you #include files in Java?","body":"<p>You can run the C preprocessor on a Java file, ensuring you use the -P flag to disable line annotations. A quick Google search confirms that this has been attempted at least twice, and is even used in the popular <strong>fastutil</strong> library:</p>\n<ul>\n<li><em><a href=\"https://programming.guide/java/macros-in-java-source-files.html\" rel=\"nofollow noreferrer\">Using C style macros in Java</a></em></li>\n<li><a href=\"https://lyubomyr-shaydariv.github.io/posts/2016-09-06-fun-with-java-and-c-preprocessor/\" rel=\"nofollow noreferrer\">https://lyubomyr-shaydariv.github.io/posts/2016-09-06-fun-with-java-and-c-preprocessor/</a></li>\n</ul>\n<p>This works for all directives (#include, #define, #ifdef, and so forth) and is both syntactically and semantically identical to the equivalent statements in C/C++.</p>\n"}],"owner":{"account_id":143015,"reputation":547,"user_id":351069,"accept_rate":75,"display_name":"MrJackV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107623,"favorite_count":0,"down_vote_count":8,"up_vote_count":22,"accepted_answer_id":7737841,"answer_count":7,"score":14,"last_activity_date":1669324435,"creation_date":1318410940,"question_id":7737766,"body_markdown":"Coming from a C++ environment I got used to splitting up many of the functions that I needed into an &lt;code&gt;funcs.h&lt;/code&gt; file and then do &lt;code&gt;#include &quot;funcs.h&quot;&lt;/code&gt; and then adding the functions prototypes into the main .cpp file.\r\n\r\nNow I am starting to work with Java (mainly with [Minecraft][1] ModloeaderMp), and I already made a &lt;code&gt;funcs.java&lt;/code&gt; file where there are some premade functions (e.g., some functions for file copying, giving stacks of items, etc.). Since I am already using the statement &lt;code&gt;Public class mod_mine extends BaseModMp&lt;/code&gt;, is there a way I can import the functions or do I can I just do another &lt;code&gt;Public class mod_mine extends funcs&lt;/code&gt;?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Minecraft\r\n\r\n\r\n\r\n","title":"How do you #include files in Java?","body":"<p>Coming from a C++ environment I got used to splitting up many of the functions that I needed into an <code>funcs.h</code> file and then do <code>#include &quot;funcs.h&quot;</code> and then adding the functions prototypes into the main .cpp file.</p>\n<p>Now I am starting to work with Java (mainly with <a href=\"https://en.wikipedia.org/wiki/Minecraft\" rel=\"nofollow noreferrer\">Minecraft</a> ModloeaderMp), and I already made a <code>funcs.java</code> file where there are some premade functions (e.g., some functions for file copying, giving stacks of items, etc.). Since I am already using the statement <code>Public class mod_mine extends BaseModMp</code>, is there a way I can import the functions or do I can I just do another <code>Public class mod_mine extends funcs</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1732698,"reputation":2791,"user_id":1585970,"accept_rate":70,"display_name":"Curious"},"score":2,"creation_date":1348745600,"post_id":12620369,"comment_id":17014782,"body_markdown":"possible duplicate of [How is import done in Java?](http://stackoverflow.com/questions/1053658/how-is-import-done-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1053658/how-is-import-done-in-java\">How is import done in Java?</a>"},{"owner":{"account_id":937013,"reputation":4648,"user_id":965769,"accept_rate":97,"display_name":"Lucas_Santos"},"score":3,"creation_date":1348745733,"post_id":12620369,"comment_id":17014858,"body_markdown":"I read this thread but the thread don&#39;t answer my question","body":"I read this thread but the thread don&#39;t answer my question"}],"answers":[{"tags":[],"owner":{"account_id":1732698,"reputation":2791,"user_id":1585970,"accept_rate":70,"display_name":"Curious"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348746020,"creation_date":1348746020,"answer_id":12620549,"question_id":12620369,"body_markdown":"`javac` (or `java` during runtime) looks for the `classes` being imported in the `classpath`. If they are not there in the `classpath` then `classnotfound` exceptions are thrown.\r\n\r\n`classpath` is just like the `path` variable in a shell, which is used by the shell to find a command or executable.\r\n\r\nEntire directories or individual jar files can be put in the `classpath`. Also, yes a `classpath` can perhaps include a path which is not local but is somewhere on the internet. Please read more about classpath to resolve your doubts.","title":"How does Java import work?","body":"<p><code>javac</code> (or <code>java</code> during runtime) looks for the <code>classes</code> being imported in the <code>classpath</code>. If they are not there in the <code>classpath</code> then <code>classnotfound</code> exceptions are thrown.</p>\n\n<p><code>classpath</code> is just like the <code>path</code> variable in a shell, which is used by the shell to find a command or executable.</p>\n\n<p>Entire directories or individual jar files can be put in the <code>classpath</code>. Also, yes a <code>classpath</code> can perhaps include a path which is not local but is somewhere on the internet. Please read more about classpath to resolve your doubts.</p>\n"},{"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348746044,"creation_date":1348746044,"answer_id":12620559,"question_id":12620369,"body_markdown":"The classes which you are importing have to be on the classpath. So either the users of your Applet have to have the libraries in the right place or you simply provide those libraries by including them in your jar file. For example like this: https://stackoverflow.com/questions/81260/java-easiest-way-to-merge-a-release-into-one-jar-file","title":"How does Java import work?","body":"<p>The classes which you are importing have to be on the classpath. So either the users of your Applet have to have the libraries in the right place or you simply provide those libraries by including them in your jar file. For example like this: <a href=\"https://stackoverflow.com/questions/81260/java-easiest-way-to-merge-a-release-into-one-jar-file\">Easiest way to merge a release into one JAR file</a></p>\n"},{"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506162477,"creation_date":1348746199,"answer_id":12620604,"question_id":12620369,"body_markdown":"Import in Java does not work at all, as it is evaluated at compile time only.\r\n(Treat it as shortcuts so you do not have to write fully qualified class names). At runtime there is no import at all, just FQCNs.\r\n\r\nAt runtime it is necessary that all classes you have referenced can be found by classloaders. (classloader infrastructure is sometimes dark magic and highly dependent on environment.) In case of an applet you will have to rig up your HTML tag properly and also provide necessary JAR archives on your server.\r\n\r\nPS: Matching at runtime is done via qualified class names - class found under this name is not necessarily the same or compatible with class you have compiled against.\r\n\r\n","title":"How does Java import work?","body":"<p>Import in Java does not work at all, as it is evaluated at compile time only.\n(Treat it as shortcuts so you do not have to write fully qualified class names). At runtime there is no import at all, just FQCNs.</p>\n\n<p>At runtime it is necessary that all classes you have referenced can be found by classloaders. (classloader infrastructure is sometimes dark magic and highly dependent on environment.) In case of an applet you will have to rig up your HTML tag properly and also provide necessary JAR archives on your server.</p>\n\n<p>PS: Matching at runtime is done via qualified class names - class found under this name is not necessarily the same or compatible with class you have compiled against.</p>\n"},{"tags":[],"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1556273728,"creation_date":1348746785,"answer_id":12620773,"question_id":12620369,"body_markdown":"In dynamic languages, when the interpreter `import`s, it simply reads a file and evaluates it.\r\n\r\nIn C, external libraries are located by the linker at compile time to build the final object if the library is *statically compiled*, while for *dynamic libraries* a smaller version of the linker is called at runtime which remaps addresses and so makes code in the library available to the executable.\r\n\r\nIn Java, `import` is simply used by the compiler to let you name your classes by their unqualified name, let&#39;s say `String` instead of `java.lang.String`. You don&#39;t really need to import `java.lang.*` because the compiler does it by default. However this mechanism is just to save you some typing. Types in Java are fully qualified class names, so a `String` is really a `java.lang.String` object when the code is run. Packages are intended to prevent name clashes and allow two classes to have the same *simple name*, instead of relying on the *old* C convention of prefixing types like this. `java_lang_String`. This is called *namespacing*.\r\n\r\nBTW, in Java there&#39;s the *static import* construct, which allows to further save typing if you use lots of constants from a certain class. In a compilation unit (a .java file) which declares\r\n\r\n    import static java.lang.Math.*;\r\n\r\nyou can use the constant `PI` in your code, instead of referencing it through `Math.PI`, and the method `cos()` instead of `Math.cos()`. So for example you can write\r\n\r\n    double r = cos(PI * theta);\r\n\r\nOnce you understand that classes are always referenced by their fully qualified name in the final bytecode, you must understand how the class code is actually loaded. This happens the first time an object of that class is created, or the first time a static member of the class is accessed. At this time, the `ClassLoader` tries to locate the class and instantiate it. If it can&#39;t find the class a `NoClassDefFoundError` is thrown (or a a `ClassNotFoundException` if the class is searched programmatically). To locate the class, the `ClassLoader` usually checks the paths listed in the `$CLASSPATH` environment variable.\r\n\r\nTo solve your problem, [it seems][1] you need an `applet` element like this\r\n\r\n    &lt;applet\r\n      codebase = &quot;http://san.redenetimoveis.com&quot;\r\n      archive=&quot;test.jar, core.jar&quot;\r\n      code=&quot;com.colorfulwolf.webcamapplet.WebcamApplet&quot;      \r\n      width=&quot;550&quot; height=&quot;550&quot; &gt;\r\n\r\nBTW, you don&#39;t need to import the archives in the standard JRE.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/deployment/deployment-guide/applet.html","title":"How does Java import work?","body":"<p>In dynamic languages, when the interpreter <code>import</code>s, it simply reads a file and evaluates it.</p>\n\n<p>In C, external libraries are located by the linker at compile time to build the final object if the library is <em>statically compiled</em>, while for <em>dynamic libraries</em> a smaller version of the linker is called at runtime which remaps addresses and so makes code in the library available to the executable.</p>\n\n<p>In Java, <code>import</code> is simply used by the compiler to let you name your classes by their unqualified name, let's say <code>String</code> instead of <code>java.lang.String</code>. You don't really need to import <code>java.lang.*</code> because the compiler does it by default. However this mechanism is just to save you some typing. Types in Java are fully qualified class names, so a <code>String</code> is really a <code>java.lang.String</code> object when the code is run. Packages are intended to prevent name clashes and allow two classes to have the same <em>simple name</em>, instead of relying on the <em>old</em> C convention of prefixing types like this. <code>java_lang_String</code>. This is called <em>namespacing</em>.</p>\n\n<p>BTW, in Java there's the <em>static import</em> construct, which allows to further save typing if you use lots of constants from a certain class. In a compilation unit (a .java file) which declares</p>\n\n<pre><code>import static java.lang.Math.*;\n</code></pre>\n\n<p>you can use the constant <code>PI</code> in your code, instead of referencing it through <code>Math.PI</code>, and the method <code>cos()</code> instead of <code>Math.cos()</code>. So for example you can write</p>\n\n<pre><code>double r = cos(PI * theta);\n</code></pre>\n\n<p>Once you understand that classes are always referenced by their fully qualified name in the final bytecode, you must understand how the class code is actually loaded. This happens the first time an object of that class is created, or the first time a static member of the class is accessed. At this time, the <code>ClassLoader</code> tries to locate the class and instantiate it. If it can't find the class a <code>NoClassDefFoundError</code> is thrown (or a a <code>ClassNotFoundException</code> if the class is searched programmatically). To locate the class, the <code>ClassLoader</code> usually checks the paths listed in the <code>$CLASSPATH</code> environment variable.</p>\n\n<p>To solve your problem, <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/deployment/deployment-guide/applet.html\" rel=\"noreferrer\">it seems</a> you need an <code>applet</code> element like this</p>\n\n<pre><code>&lt;applet\n  codebase = \"http://san.redenetimoveis.com\"\n  archive=\"test.jar, core.jar\"\n  code=\"com.colorfulwolf.webcamapplet.WebcamApplet\"      \n  width=\"550\" height=\"550\" &gt;\n</code></pre>\n\n<p>BTW, you don't need to import the archives in the standard JRE.</p>\n"},{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1669323275,"creation_date":1348747690,"answer_id":12621026,"question_id":12620369,"body_markdown":"Java&#39;s *import* statement is pure syntactic sugar. *import* is only evaluated at compile time to indicate to the compiler where to find the *names* in the code.\r\n\r\nYou may live without any *import* statements when you always specify the full qualified name of classes. Like this line doesn&#39;t need any *import* statement at all:\r\n\r\n    javax.swing.JButton but = new javax.swing.JButton();\r\n\r\nThe *import* statement will make your code more readable like this:\r\n\r\n    import javax.swing.*;\r\n\r\n    JButton but = new JButton();\r\n","title":"How does Java import work?","body":"<p>Java's <em>import</em> statement is pure syntactic sugar. <em>import</em> is only evaluated at compile time to indicate to the compiler where to find the <em>names</em> in the code.</p>\n<p>You may live without any <em>import</em> statements when you always specify the full qualified name of classes. Like this line doesn't need any <em>import</em> statement at all:</p>\n<pre><code>javax.swing.JButton but = new javax.swing.JButton();\n</code></pre>\n<p>The <em>import</em> statement will make your code more readable like this:</p>\n<pre><code>import javax.swing.*;\n\nJButton but = new JButton();\n</code></pre>\n"}],"owner":{"account_id":937013,"reputation":4648,"user_id":965769,"accept_rate":97,"display_name":"Lucas_Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147562,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":12620773,"answer_count":5,"score":65,"last_activity_date":1669323275,"creation_date":1348745403,"question_id":12620369,"body_markdown":"I would like to know how the `import` statement works.\r\n\r\nI&#39;m asking this because I have the following `imports` in my project:\r\n\r\n    import static com.googlecode.javacv.jna.highgui.cvCreateCameraCapture;\r\n    import static com.googlecode.javacv.jna.highgui.cvGrabFrame;\r\n    import static com.googlecode.javacv.jna.highgui.cvReleaseCapture;\r\n    import com.googlecode.javacv.CanvasFrame;\r\n    import com.googlecode.javacv.FrameGrabber;\r\n    import com.colorfulwolf.webcamapplet.gui.ImagePanel;\r\n    import com.googlecode.javacv.OpenCVFrameGrabber;\r\n    import com.googlecode.javacv.jna.cxcore.IplImage;\r\n\r\nI don&#39;t have these packages in my project, so, how will this be imported?\r\n\r\nIf I create a JAR file with all my classes, my server where will host this JAR file, has to be free Internet access to get these `package`?\r\n\r\nI got some problem in my `Applet` that has these imports, and I&#39;m asking this question, to understand if can be an Internet rule.\r\n\r\n    &lt;applet code=&quot;com.colorfulwolf.webcamapplet.WebcamApplet&quot;\r\n    archive=&quot;http://san.redenetimoveis.com/teste.jar, http://san.redenetimoveis.com/core.jar, http://san.redenetimoveis.com/javacv.jar, http://san.redenetimoveis.com/javase.jar, http://san.redenetimoveis.com/jna.jar, http://san.redenetimoveis.com/customizer.jar, http://san.redenetimoveis.com/jmf.jar, http://san.redenetimoveis.com/mediaplayer.jar, http://san.redenetimoveis.com/multiplayer.jar, http://san.redenetimoveis.com/sound.jar&quot;\r\n        height=&quot;550&quot; width=&quot;550&quot;&gt;\r\n    &lt;/applet&gt;\r\n\r\n","title":"How does Java import work?","body":"<p>I would like to know how the <code>import</code> statement works.</p>\n\n<p>I'm asking this because I have the following <code>imports</code> in my project:</p>\n\n<pre><code>import static com.googlecode.javacv.jna.highgui.cvCreateCameraCapture;\nimport static com.googlecode.javacv.jna.highgui.cvGrabFrame;\nimport static com.googlecode.javacv.jna.highgui.cvReleaseCapture;\nimport com.googlecode.javacv.CanvasFrame;\nimport com.googlecode.javacv.FrameGrabber;\nimport com.colorfulwolf.webcamapplet.gui.ImagePanel;\nimport com.googlecode.javacv.OpenCVFrameGrabber;\nimport com.googlecode.javacv.jna.cxcore.IplImage;\n</code></pre>\n\n<p>I don't have these packages in my project, so, how will this be imported?</p>\n\n<p>If I create a JAR file with all my classes, my server where will host this JAR file, has to be free Internet access to get these <code>package</code>?</p>\n\n<p>I got some problem in my <code>Applet</code> that has these imports, and I'm asking this question, to understand if can be an Internet rule.</p>\n\n<pre><code>&lt;applet code=\"com.colorfulwolf.webcamapplet.WebcamApplet\"\narchive=\"http://san.redenetimoveis.com/teste.jar, http://san.redenetimoveis.com/core.jar, http://san.redenetimoveis.com/javacv.jar, http://san.redenetimoveis.com/javase.jar, http://san.redenetimoveis.com/jna.jar, http://san.redenetimoveis.com/customizer.jar, http://san.redenetimoveis.com/jmf.jar, http://san.redenetimoveis.com/mediaplayer.jar, http://san.redenetimoveis.com/multiplayer.jar, http://san.redenetimoveis.com/sound.jar\"\n    height=\"550\" width=\"550\"&gt;\n&lt;/applet&gt;\n</code></pre>\n"},{"tags":["java","php"],"answers":[{"tags":[],"owner":{"account_id":3955047,"reputation":1506,"user_id":3263885,"display_name":"Tularis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669322912,"creation_date":1391391949,"answer_id":21518606,"question_id":21518594,"body_markdown":"Java as such does not exactly &quot;have&quot; constants (which is what you define using the define() function in PHP). Rather, you can make the variable final. This way, it behaves like a constant value (i.e., can not be changed).\r\n\r\nSo something like:\r\n\r\n    final int NUMBER_OF_HOURS_IN_A_DAY = 24;\r\n\r\nwill create a &quot;constant&quot; integer with a value of 24.\r\n\r\n\r\n","title":"What is the Java equivalent of &#39;define&#39; in PHP?","body":"<p>Java as such does not exactly &quot;have&quot; constants (which is what you define using the define() function in PHP). Rather, you can make the variable final. This way, it behaves like a constant value (i.e., can not be changed).</p>\n<p>So something like:</p>\n<pre><code>final int NUMBER_OF_HOURS_IN_A_DAY = 24;\n</code></pre>\n<p>will create a &quot;constant&quot; integer with a value of 24.</p>\n"},{"tags":[],"owner":{"account_id":405051,"reputation":4512,"user_id":773718,"accept_rate":43,"display_name":"MSaudi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669323007,"creation_date":1391391958,"answer_id":21518608,"question_id":21518594,"body_markdown":"Use:\r\n\r\n    final String key = Value;\r\n\r\nFor example,\r\n\r\n    final String MAX_VALUE = &quot;9000&quot;;\r\n\r\nAnd it&#39;s better to add *static* too:\r\n\r\n    static final String MAX_VALUE = &quot;9000&quot;;\r\n\r\n","title":"What is the Java equivalent of &#39;define&#39; in PHP?","body":"<p>Use:</p>\n<pre><code>final String key = Value;\n</code></pre>\n<p>For example,</p>\n<pre><code>final String MAX_VALUE = &quot;9000&quot;;\n</code></pre>\n<p>And it's better to add <em>static</em> too:</p>\n<pre><code>static final String MAX_VALUE = &quot;9000&quot;;\n</code></pre>\n"}],"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1391395675,"accepted_answer_id":21518608,"answer_count":2,"score":-1,"last_activity_date":1669323007,"creation_date":1391391803,"question_id":21518594,"body_markdown":"I&#39;m trying to define something in my code, but there isn&#39;t any [`define`][1] in Java.\r\n\r\n  [1]: http://www.php.net/define\r\n\r\n\r\n\r\n\r\n","title":"What is the Java equivalent of &#39;define&#39; in PHP?","body":"<p>I'm trying to define something in my code, but there isn't any <a href=\"http://www.php.net/define\" rel=\"nofollow noreferrer\"><code>define</code></a> in Java.</p>\n"},{"tags":["java","c++","require"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1391556640,"post_id":21565750,"comment_id":32573108,"body_markdown":"Do you mean importing another file with `import`?","body":"Do you mean importing another file with <code>import</code>?"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":4,"creation_date":1391556704,"post_id":21565750,"comment_id":32573135,"body_markdown":"Have you cracked a Java book? Ever? It&#39;s on page 1 usually...","body":"Have you cracked a Java book? Ever? It&#39;s on page 1 usually..."},{"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"score":0,"creation_date":1391556711,"post_id":21565750,"comment_id":32573143,"body_markdown":"Yes, would this work in java?","body":"Yes, would this work in java?"},{"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"score":0,"creation_date":1391556731,"post_id":21565750,"comment_id":32573150,"body_markdown":"Yes, I read the oracle docs xD","body":"Yes, I read the oracle docs xD"},{"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"score":0,"creation_date":1391556770,"post_id":21565750,"comment_id":32573166,"body_markdown":"Would Import work with a file, or just a project?","body":"Would Import work with a file, or just a project?"}],"answers":[{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669322698,"creation_date":1391556701,"answer_id":21565767,"question_id":21565750,"body_markdown":"You are looking for the `import` keyword. For example:\r\n\r\n    import java.util.ArrayList;\r\n","title":"How do I require a file in Java?","body":"<p>You are looking for the <code>import</code> keyword. For example:</p>\n<pre><code>import java.util.ArrayList;\n</code></pre>\n"}],"owner":{"account_id":3955703,"reputation":1,"user_id":3264266,"display_name":"MCPEBukkit team"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"closed_date":1391556914,"answer_count":1,"score":-7,"last_activity_date":1669322698,"creation_date":1391556615,"question_id":21565750,"body_markdown":"How do I require a file in Java? Much like require(); in PHP, and #include in C++.\r\nWould I use #include as in C++ or is there another function?\r\n\r\nI&#39;m not looking for *import*.\r\n\r\n\r\n\r\n\r\n","title":"How do I require a file in Java?","body":"<p>How do I require a file in Java? Much like require(); in PHP, and #include in C++.\nWould I use #include as in C++ or is there another function?</p>\n<p>I'm not looking for <em>import</em>.</p>\n"},{"tags":["java","libraries"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1668731332,"post_id":5112607,"comment_id":131484211,"body_markdown":"Programmer&#39;s Notepad is too obscure even for Wikipedia. Is it Simon Steele&#39;s creation?","body":"Programmer&#39;s Notepad is too obscure even for Wikipedia. Is it Simon Steele&#39;s creation?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1669321008,"post_id":5112607,"comment_id":131622934,"body_markdown":"OK, the OP has left the building: *&quot;Last seen more than 8 years ago&quot;*","body":"OK, the OP has left the building: <i>&quot;Last seen more than 8 years ago&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":52690,"reputation":548,"user_id":157460,"accept_rate":80,"display_name":"f0ster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668731402,"creation_date":1298597369,"answer_id":5112624,"question_id":5112607,"body_markdown":"Put the JAR files in your classpath. classpath is an environment variable.\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>Put the JAR files in your classpath. classpath is an environment variable.</p>\n"},{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1669321080,"creation_date":1298597450,"answer_id":5112638,"question_id":5112607,"body_markdown":"Use:\r\n\r\n    javac -classpath external.jar myClass.java\r\n\r\nIf your main class is in a package,\r\n\r\n    package com.mycompany;\r\n\r\n    public class myClass\r\n    {\r\n    ...\r\n    ...\r\n\r\nthen you&#39;ll need\r\n\r\n    javac -classpath external.jar com/mycompany/myClass.java\r\n\r\nAnd to run:\r\n\r\n    java -classpath external.jar com.mycompany.myClass\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>Use:</p>\n<pre><code>javac -classpath external.jar myClass.java\n</code></pre>\n<p>If your main class is in a package,</p>\n<pre><code>package com.mycompany;\n\npublic class myClass\n{\n...\n...\n</code></pre>\n<p>then you'll need</p>\n<pre><code>javac -classpath external.jar com/mycompany/myClass.java\n</code></pre>\n<p>And to run:</p>\n<pre><code>java -classpath external.jar com.mycompany.myClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74895,"reputation":9448,"user_id":214998,"accept_rate":92,"display_name":"Derek Beattie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669321136,"creation_date":1298597461,"answer_id":5112639,"question_id":5112607,"body_markdown":"Make sure the JAR file is in your classpath and you have the *import* statement.\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>Make sure the JAR file is in your classpath and you have the <em>import</em> statement.</p>\n"},{"tags":[],"owner":{"account_id":315747,"reputation":259,"user_id":631578,"display_name":"Simon David Kelly"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1669321293,"creation_date":1298597865,"answer_id":5112684,"question_id":5112607,"body_markdown":"In addition to [Bala R&#39;s post][1], adding multiple files and locations is perfectly OK too...\r\n\r\n    javac -cp location1/;location2/;file1.jar;file2.jar fileToCompile\r\n\r\nNotes:\r\n\r\n*-cp* and *-classpath* are the same thing.\r\n\r\nIf you&#39;re on [Solaris][2] (and some other Unix flavors), change the &#39;`;`&#39; to &#39;`:`&#39;.\r\n\r\n  [1]: https://stackoverflow.com/questions/5112607/how-to-include-libraries-in-java-without-using-an-ide/5112638#5112638\r\n  [2]: https://en.wikipedia.org/wiki/Solaris_%28operating_system%29\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>In addition to <a href=\"https://stackoverflow.com/questions/5112607/how-to-include-libraries-in-java-without-using-an-ide/5112638#5112638\">Bala R's post</a>, adding multiple files and locations is perfectly OK too...</p>\n<pre><code>javac -cp location1/;location2/;file1.jar;file2.jar fileToCompile\n</code></pre>\n<p>Notes:</p>\n<p><em>-cp</em> and <em>-classpath</em> are the same thing.</p>\n<p>If you're on <a href=\"https://en.wikipedia.org/wiki/Solaris_%28operating_system%29\" rel=\"nofollow noreferrer\">Solaris</a> (and some other Unix flavors), change the '<code>;</code>' to '<code>:</code>'.</p>\n"},{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1669322434,"creation_date":1298598671,"answer_id":5112762,"question_id":5112607,"body_markdown":"All of the other posters are spot on; you just need to add the JAR file to your classpath.\r\n\r\nJava offers many mechanisms for setting the classpath, including via the command line, via an environment variable, and through setting it in the MANIFEST.MF of an executable Java JAR file.\r\n\r\nThese are all a pain in the neck to manage. It&#39;s good to know the technique, and understand the basics. But it&#39;s really a bad idea to actually use them.\r\n\r\nYou should do this.\r\n\r\nFirst, put all of your Java libraries in a single place on your system. *C:\\java\\libraries*, or whatever. Someplace that you remember, and someplace accessible by all of your projects.\r\n\r\nNext, name all of your libraries using their version numbers. If you using [Log4j][1] v1.4.1, then put the JAR file in a log4j-1.4.1 directory in your library area. This gives you &quot;free&quot; library versioning.\r\n\r\nFinally, learn [Ant][2]. For simple projects, Ant is simple. Use the Ant *build.xml* file to compile, test, and run your application.\r\n\r\nWhy? Several reasons.\r\n\r\nBecause once it&#39;s set up, adding a new library to your project is trivial; you add a line to your *build.xml* file. Ant lets you more easily handle simple abstractions (like where all of your libraries are located).\r\n\r\nThe *build.xml* file is self-contained. If you use, say, an environment variable for the classpath, then the classpath for one project may be different from that of another. That means resetting the environment variable. Continue this and you&#39;ll end up swearing at some &quot;new problem&quot; where it &quot;worked before&quot; when it&#39;s because you had your classpath set wrong. Set it once in the *build.xml* file, and forget it.\r\n\r\nAnt is portable. It runs the same on Windows, on Linux, on Mac, on [AS/400][3], it runs everywhere that Java runs, unlike shells scripts or BAT files.\r\n\r\nIt&#39;s lightweight. Simple Ant scripts are simple. They don&#39;t bring a lot of baggage with them, and you can always make them scary complicated. It&#39;s much simpler than [Maven][4] for just builds.\r\n\r\nMost IDEs support Ant directly. If you decided to go back to an IDE, most can simply use your Ant build file with minimal configuration.\r\n\r\nThis is how you solve your classpath problem with [Notepad++][5]. Setting the classpath works, but it doesn&#39;t go far enough. It&#39;s a pain to administer and manage. Learning the basics of Ant will take you much farther with minimal work.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Log4j\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Ant\r\n  [3]: https://en.wikipedia.org/wiki/IBM_AS/400\r\n  [4]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [5]: https://en.wikipedia.org/wiki/Notepad%2B%2B\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>All of the other posters are spot on; you just need to add the JAR file to your classpath.</p>\n<p>Java offers many mechanisms for setting the classpath, including via the command line, via an environment variable, and through setting it in the MANIFEST.MF of an executable Java JAR file.</p>\n<p>These are all a pain in the neck to manage. It's good to know the technique, and understand the basics. But it's really a bad idea to actually use them.</p>\n<p>You should do this.</p>\n<p>First, put all of your Java libraries in a single place on your system. <em>C:\\java\\libraries</em>, or whatever. Someplace that you remember, and someplace accessible by all of your projects.</p>\n<p>Next, name all of your libraries using their version numbers. If you using <a href=\"https://en.wikipedia.org/wiki/Log4j\" rel=\"nofollow noreferrer\">Log4j</a> v1.4.1, then put the JAR file in a log4j-1.4.1 directory in your library area. This gives you &quot;free&quot; library versioning.</p>\n<p>Finally, learn <a href=\"https://en.wikipedia.org/wiki/Apache_Ant\" rel=\"nofollow noreferrer\">Ant</a>. For simple projects, Ant is simple. Use the Ant <em>build.xml</em> file to compile, test, and run your application.</p>\n<p>Why? Several reasons.</p>\n<p>Because once it's set up, adding a new library to your project is trivial; you add a line to your <em>build.xml</em> file. Ant lets you more easily handle simple abstractions (like where all of your libraries are located).</p>\n<p>The <em>build.xml</em> file is self-contained. If you use, say, an environment variable for the classpath, then the classpath for one project may be different from that of another. That means resetting the environment variable. Continue this and you'll end up swearing at some &quot;new problem&quot; where it &quot;worked before&quot; when it's because you had your classpath set wrong. Set it once in the <em>build.xml</em> file, and forget it.</p>\n<p>Ant is portable. It runs the same on Windows, on Linux, on Mac, on <a href=\"https://en.wikipedia.org/wiki/IBM_AS/400\" rel=\"nofollow noreferrer\">AS/400</a>, it runs everywhere that Java runs, unlike shells scripts or BAT files.</p>\n<p>It's lightweight. Simple Ant scripts are simple. They don't bring a lot of baggage with them, and you can always make them scary complicated. It's much simpler than <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> for just builds.</p>\n<p>Most IDEs support Ant directly. If you decided to go back to an IDE, most can simply use your Ant build file with minimal configuration.</p>\n<p>This is how you solve your classpath problem with <a href=\"https://en.wikipedia.org/wiki/Notepad%2B%2B\" rel=\"nofollow noreferrer\">Notepad++</a>. Setting the classpath works, but it doesn't go far enough. It's a pain to administer and manage. Learning the basics of Ant will take you much farther with minimal work.</p>\n"},{"tags":[],"owner":{"display_name":"user1249380"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669322147,"creation_date":1357205036,"answer_id":14136032,"question_id":5112607,"body_markdown":"You should put them on your classpath, like\r\n\r\n`java -classpath someJar.jar YourMainClass`\r\n\r\nAnd, of course, you can do the same for `javac`.\r\n\r\nIf you need to have more than one JAR file or directory on your classpath, you&#39;ll need to use your platform&#39;s default path separator. For example, on Windows,\r\n\r\n`java -classpath someJar.jar;myJar.jar YourMainClass`\r\n\r\nOn a side note, you might find it easier to use an IDE to manage this sort of stuff. I&#39;ve personally used just my slightly scriptable editor and have managed fine. But it&#39;s good to know how to do this stuff by the command line.\r\n\r\n\r\n\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>You should put them on your classpath, like</p>\n<p><code>java -classpath someJar.jar YourMainClass</code></p>\n<p>And, of course, you can do the same for <code>javac</code>.</p>\n<p>If you need to have more than one JAR file or directory on your classpath, you'll need to use your platform's default path separator. For example, on Windows,</p>\n<p><code>java -classpath someJar.jar;myJar.jar YourMainClass</code></p>\n<p>On a side note, you might find it easier to use an IDE to manage this sort of stuff. I've personally used just my slightly scriptable editor and have managed fine. But it's good to know how to do this stuff by the command line.</p>\n"}],"owner":{"account_id":79450,"reputation":10773,"user_id":225269,"accept_rate":91,"display_name":"user225269"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90413,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":5112638,"answer_count":6,"score":36,"last_activity_date":1669322434,"creation_date":1298597219,"question_id":5112607,"body_markdown":"How do I import libraries in my Java program without using an IDE, like [NetBeans][1]?\r\n\r\nIn NetBeans I do it this way:\r\n\r\n![Enter image description here][2]\r\n\r\nHow can I achieve the same thing by just using [Notepad++][3] or [Programmer&#39;s Notepad][4].\r\nAs much as possible I don&#39;t want to use NetBeans because it would be overkill since I&#39;m only working on simple projects.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/NetBeans\r\n  [2]: http://i.stack.imgur.com/lWlzb.png\r\n  [3]: https://en.wikipedia.org/wiki/Notepad%2B%2B\r\n  [4]: https://github.com/simonsteele/pn\r\n\r\n\r\n\r\n","title":"How to include libraries in Java without using an IDE","body":"<p>How do I import libraries in my Java program without using an IDE, like <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">NetBeans</a>?</p>\n<p>In NetBeans I do it this way:</p>\n<p><img src=\"https://i.stack.imgur.com/lWlzb.png\" alt=\"Enter image description here\" /></p>\n<p>How can I achieve the same thing by just using <a href=\"https://en.wikipedia.org/wiki/Notepad%2B%2B\" rel=\"nofollow noreferrer\">Notepad++</a> or <a href=\"https://github.com/simonsteele/pn\" rel=\"nofollow noreferrer\">Programmer's Notepad</a>.\nAs much as possible I don't want to use NetBeans because it would be overkill since I'm only working on simple projects.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9136,"page":856,"page_size":100}
