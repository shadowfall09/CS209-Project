{"items":[{"tags":["java","apache-camel","monitoring","hawtio"],"answers":[{"tags":[],"owner":{"account_id":6790700,"reputation":833,"user_id":5227954,"display_name":"Amrith Raj Herle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541250418,"creation_date":1518276184,"answer_id":48722310,"question_id":48722138,"body_markdown":"When we develop a java camel application we need some extra works to be done in order to view the routs.\r\n\r\n**Steps for configuring java related camel application on hawtio**\r\n\r\n1. Download the hawtio from https://hawt.io/getstarted/ \r\n[![enter image description here][1]][1] \r\n\r\n2. Place the war file in tomcat webapps folder --&gt; start the tomcat web server.\r\n( If you don’t have tomcat then please download the same from https://tomcat.apache.org/download-80.cgi )\r\n\r\nGoto: http://localhost:8080/sample-1.5.6/welcome to view the hawtio\r\n [![enter image description here][2]][2]\r\nNote:  At the first time there will be no Container tab. \r\n\r\n3. To make use of hawtio in JVM (for java related application) we use Jolokia.\r\nDownload Jolokia from https://jolokia.org/download.html \r\n \r\n[![enter image description here][3]][3]\r\n\r\n4. Command to attach Jolokia on the fly (No code changes required). We can use same jar file for deployment purposes.\r\n \r\n\r\nUse the following command line argument: \r\n\r\n        java &lt;location of Jolokia agent.jar file&gt; =host=0.0.0.0 -jar &lt;location of our jar file&gt;\r\n\r\nExample: \r\n\r\n        java -javaagent:jolokia-jvm-1.4.0-agent.jar=host=0.0.0.0 -jar C:\\Users\\HackoMan\\Documents\\GitHub\\target\\myjar-1.0-SNAPSHOT.jar\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n5.  Goto: http://localhost:8080/sample-1.5.6/welcome hawtio --&gt; Connect --&gt; Discovery --&gt; press run/play button as mentioned below.\r\n \r\n\r\n\r\n6.  This opens a new tab. Press camel tab to view all of our route.\r\n \r\nThen click on any route that either you want to debug or trace or to find details about it.\r\n [![enter image description here][5]][5]\r\n [![enter image description here][6]][6]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8f2jE.png\r\n  [2]: https://i.stack.imgur.com/XTA7N.png\r\n  [3]: https://i.stack.imgur.com/HcvcX.png\r\n  [4]: https://i.stack.imgur.com/7Y03Y.png\r\n  [5]: https://i.stack.imgur.com/NpgAx.png\r\n  [6]: https://i.stack.imgur.com/ctyub.png","title":"How to monitor Apache camel routes in a Java project using hawtio","body":"<p>When we develop a java camel application we need some extra works to be done in order to view the routs.</p>\n\n<p><strong>Steps for configuring java related camel application on hawtio</strong></p>\n\n<ol>\n<li><p>Download the hawtio from <a href=\"https://hawt.io/getstarted/\" rel=\"nofollow noreferrer\">https://hawt.io/getstarted/</a> \n<a href=\"https://i.stack.imgur.com/8f2jE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8f2jE.png\" alt=\"enter image description here\"></a> </p></li>\n<li><p>Place the war file in tomcat webapps folder --> start the tomcat web server.\n( If you don’t have tomcat then please download the same from <a href=\"https://tomcat.apache.org/download-80.cgi\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/download-80.cgi</a> )</p></li>\n</ol>\n\n<p>Goto: <a href=\"http://localhost:8080/sample-1.5.6/welcome\" rel=\"nofollow noreferrer\">http://localhost:8080/sample-1.5.6/welcome</a> to view the hawtio\n <a href=\"https://i.stack.imgur.com/XTA7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XTA7N.png\" alt=\"enter image description here\"></a>\nNote:  At the first time there will be no Container tab. </p>\n\n<ol start=\"3\">\n<li>To make use of hawtio in JVM (for java related application) we use Jolokia.\nDownload Jolokia from <a href=\"https://jolokia.org/download.html\" rel=\"nofollow noreferrer\">https://jolokia.org/download.html</a> </li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/HcvcX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HcvcX.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li>Command to attach Jolokia on the fly (No code changes required). We can use same jar file for deployment purposes.</li>\n</ol>\n\n<p>Use the following command line argument: </p>\n\n<pre><code>    java &lt;location of Jolokia agent.jar file&gt; =host=0.0.0.0 -jar &lt;location of our jar file&gt;\n</code></pre>\n\n<p>Example: </p>\n\n<pre><code>    java -javaagent:jolokia-jvm-1.4.0-agent.jar=host=0.0.0.0 -jar C:\\Users\\HackoMan\\Documents\\GitHub\\target\\myjar-1.0-SNAPSHOT.jar\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7Y03Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Y03Y.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"5\">\n<li><p>Goto: <a href=\"http://localhost:8080/sample-1.5.6/welcome\" rel=\"nofollow noreferrer\">http://localhost:8080/sample-1.5.6/welcome</a> hawtio --> Connect --> Discovery --> press run/play button as mentioned below.</p></li>\n<li><p>This opens a new tab. Press camel tab to view all of our route.</p></li>\n</ol>\n\n<p>Then click on any route that either you want to debug or trace or to find details about it.\n <a href=\"https://i.stack.imgur.com/NpgAx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpgAx.png\" alt=\"enter image description here\"></a>\n <a href=\"https://i.stack.imgur.com/ctyub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ctyub.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3838682,"reputation":2034,"user_id":3182406,"display_name":"Mradul Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541251239,"creation_date":1541251239,"answer_id":53131743,"question_id":48722138,"body_markdown":"Add follwoing dependency to spring boot app.\n\n    &#160;&#160;&lt;dependency&gt;\n         &#160;&lt;groupId&gt;io.hawt&lt;/groupId&gt;\n          &lt;artifactId&gt;hawtio-springboot&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n\nAdd following properties for getting started without auth.\n\n    hawtio.authenticationEnabled = false\n    hawtio.offline = true\n\n\nComplete example available over here:\n\nhttps://github.com/jinternals/camel/","title":"How to monitor Apache camel routes in a Java project using hawtio","body":"<p>Add follwoing dependency to spring boot app.</p>\n\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;io.hawt&lt;/groupId&gt;\n      &lt;artifactId&gt;hawtio-springboot&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>Add following properties for getting started without auth.</p>\n\n<pre><code>hawtio.authenticationEnabled = false\nhawtio.offline = true\n</code></pre>\n\n<p>Complete example available over here:</p>\n\n<p><a href=\"https://github.com/jinternals/camel/\" rel=\"nofollow noreferrer\">https://github.com/jinternals/camel/</a></p>\n"},{"tags":[],"owner":{"account_id":19494043,"reputation":21,"user_id":14261692,"display_name":"Freddy Ipanaque Castillo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634667018,"creation_date":1634667018,"answer_id":69635800,"question_id":48722138,"body_markdown":"I was stuck doing this. After reading some documentation and blogs I could monitor Camel routes using Hawtio.\r\n\r\n - Spring Boot 2.3.4.RELEASE\r\n - Camel 3.4.3\r\n - Hawtio 2.10.1\r\n\r\n**Dependencies**\r\n\r\n**For Spring Boot, it&#39;s not necessary if you already have conifgured the project.**\r\n\r\nAuto-detects camel routes in Spring Context and register Camel utilities \r\n\t\t\t(like producer template, consumer template and the type converter) as beans.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-spring-boot&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nTo have support for auto-configuration from properties\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n**For manage routes using Jolokia as agent.**\r\n\r\nTo allow camel routes been manage by jolokia \r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-management&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nTo run jolokia and expose metrics over Http\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jolokia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n**Properties**\r\n\r\nExpose Jolokia endpoint\r\n\r\n    management.endpoints.web.exposure.include=jolokia\r\n\r\nFor not to use the word &quot;*actuator*&quot; as part of the endpoint when exposing jolokia\r\n\r\n    management.endpoints.web.base-path=/\r\n\r\nFor configuring Jolokia endpoint path\r\n\r\n    management.endpoints.web.path-mapping.jolokia=medidas\r\n\r\nFor setting custom port\r\n\r\n    server.port=8778\r\n\r\n**Finally**\r\n\r\n 1. Start the project\r\n\r\n 2. Start Hawtio\r\n\r\n    **java -jar hawtio-app-2.10.1.jar**\r\n\r\n 3. In web broser\r\n\r\n    http://localhost:8080/hawtio\r\n\r\n 4. Configure the connection, test the connection.\r\n\r\n    [Connection Picture][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Y2XBI.png\r\n\r\n 5. The last step is connect and automatically you will see camel routes","title":"How to monitor Apache camel routes in a Java project using hawtio","body":"<p>I was stuck doing this. After reading some documentation and blogs I could monitor Camel routes using Hawtio.</p>\n<ul>\n<li>Spring Boot 2.3.4.RELEASE</li>\n<li>Camel 3.4.3</li>\n<li>Hawtio 2.10.1</li>\n</ul>\n<p><strong>Dependencies</strong></p>\n<p><strong>For Spring Boot, it's not necessary if you already have conifgured the project.</strong></p>\n<p>Auto-detects camel routes in Spring Context and register Camel utilities\n(like producer template, consumer template and the type converter) as beans.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-spring-boot&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>To have support for auto-configuration from properties</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>For manage routes using Jolokia as agent.</strong></p>\n<p>To allow camel routes been manage by jolokia</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-management&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>To run jolokia and expose metrics over Http</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\n        &lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Properties</strong></p>\n<p>Expose Jolokia endpoint</p>\n<pre><code>management.endpoints.web.exposure.include=jolokia\n</code></pre>\n<p>For not to use the word &quot;<em>actuator</em>&quot; as part of the endpoint when exposing jolokia</p>\n<pre><code>management.endpoints.web.base-path=/\n</code></pre>\n<p>For configuring Jolokia endpoint path</p>\n<pre><code>management.endpoints.web.path-mapping.jolokia=medidas\n</code></pre>\n<p>For setting custom port</p>\n<pre><code>server.port=8778\n</code></pre>\n<p><strong>Finally</strong></p>\n<ol>\n<li><p>Start the project</p>\n</li>\n<li><p>Start Hawtio</p>\n<p><strong>java -jar hawtio-app-2.10.1.jar</strong></p>\n</li>\n<li><p>In web broser</p>\n<p>http://localhost:8080/hawtio</p>\n</li>\n<li><p>Configure the connection, test the connection.</p>\n<p><a href=\"https://i.stack.imgur.com/Y2XBI.png\" rel=\"nofollow noreferrer\">Connection Picture</a></p>\n</li>\n</ol>\n<ol start=\"5\">\n<li>The last step is connect and automatically you will see camel routes</li>\n</ol>\n"}],"owner":{"account_id":6790700,"reputation":833,"user_id":5227954,"display_name":"Amrith Raj Herle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8924,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1634667018,"creation_date":1518275043,"question_id":48722138,"body_markdown":"Usually if we develop a java camel application using Java DSL then its very difficult to monitor the camel routs. To check whether the routes are running or not we need an extra monitoring application need to be developed.\r\n\r\nBut Hawtio ease our work in that. If your project is web application project then Hawtio has already camel component for it. So with out any extra efforts it will directy work.\r\n\r\nBut for Java Application it is not showing the routes.","title":"How to monitor Apache camel routes in a Java project using hawtio","body":"<p>Usually if we develop a java camel application using Java DSL then its very difficult to monitor the camel routs. To check whether the routes are running or not we need an extra monitoring application need to be developed.</p>\n\n<p>But Hawtio ease our work in that. If your project is web application project then Hawtio has already camel component for it. So with out any extra efforts it will directy work.</p>\n\n<p>But for Java Application it is not showing the routes.</p>\n"},{"tags":["java","javafx","grid-layout"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1634637191,"post_id":69627263,"comment_id":123072539,"body_markdown":"There are a few different ways to do this, one is a VBox containing HBoxes which have different [insets](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/Region.html#insetsProperty) for odd/even HBoxes.","body":"There are a few different ways to do this, one is a VBox containing HBoxes which have different <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/Region.html#insetsProperty\" rel=\"nofollow noreferrer\">insets</a> for odd/even HBoxes."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1634637349,"post_id":69627263,"comment_id":123072607,"body_markdown":"You use five point stars rather than the six point stars of the sample pattern. Is that intentional?","body":"You use five point stars rather than the six point stars of the sample pattern. Is that intentional?"},{"owner":{"display_name":"user12971331"},"score":0,"creation_date":1634638000,"post_id":69627263,"comment_id":123072867,"body_markdown":"Hi @jewelsea, no it was a mistake but I will try to fix that later.. more concerned about the grid design first. Could you please clarify what you meant by VBox containing HBoxes? If I understand correctly, I should have a gridPane and within that gridPane, I should have 2 hBox nodes of different insets?","body":"Hi @jewelsea, no it was a mistake but I will try to fix that later.. more concerned about the grid design first. Could you please clarify what you meant by VBox containing HBoxes? If I understand correctly, I should have a gridPane and within that gridPane, I should have 2 hBox nodes of different insets?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1634638556,"post_id":69627263,"comment_id":123073079,"body_markdown":"You don’t need a gridpane at all, just one VBox and as many HBoxes as you need.  Though you could do it the way you describe as well, personally so would just skip the GridPane. Sorry, I can’t write the code for a more detailed answer at the moment.","body":"You don’t need a gridpane at all, just one VBox and as many HBoxes as you need.  Though you could do it the way you describe as well, personally so would just skip the GridPane. Sorry, I can’t write the code for a more detailed answer at the moment."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1634638558,"post_id":69627263,"comment_id":123073081,"body_markdown":"you could try to use more columns and column spanning","body":"you could try to use more columns and column spanning"}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634666765,"creation_date":1634664640,"answer_id":69635329,"question_id":69627263,"body_markdown":"As @jewelsea suggested, you can use a `VBox` for the layout and `HBox` for rows:\r\n\r\n    public class App extends Application {\r\n\r\n        @Override\r\n        public void start(Stage stage) {\r\n\r\n            Pane row1 = createRow(&quot;0,0&quot;, &quot;1,0&quot;, &quot;2,0&quot;, &quot;3,0&quot;, &quot;4,0&quot;, &quot;5,0&quot;, &quot;6,0&quot;);\r\n            Pane row2 = createRow(&quot;0,1&quot;, &quot;1,1&quot;, &quot;2,1&quot;, &quot;3,1&quot;, &quot;4,1&quot;, &quot;5,1&quot;);\r\n            Pane row3 = createRow(&quot;0,2&quot;, &quot;1,2&quot;, &quot;2,2&quot;, &quot;3,2&quot;, &quot;4,2&quot;, &quot;5,2&quot;, &quot;6,2&quot;);\r\n            Pane row4 = createRow(&quot;0,3&quot;, &quot;1,3&quot;, &quot;2,3&quot;, &quot;3,3&quot;, &quot;4,3&quot;, &quot;5,3&quot;);\r\n\r\n            VBox pane = new VBox(row1, row2, row3, row4);\r\n            pane.setAlignment(Pos.CENTER);\r\n            pane.setStyle(&quot;-fx-background-color: #37474f; -fx-padding: 20;&quot;);\r\n\r\n            Scene scene = new Scene(pane);\r\n\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n\r\n        private static Pane createRow(String... texts) {\r\n            HBox pane = new HBox();\r\n            pane.setAlignment(Pos.CENTER);\r\n\r\n            Arrays.stream(texts).map(App::createStar)\r\n                    .forEach(pane.getChildren()::add);\r\n\r\n            return pane;\r\n        }\r\n\r\n        private static Pane createStar(String text) {\r\n            Polygon star = new Polygon(15, 0, 30, 10, 45, 0, 45, 17.32, 60, 25.98, 45, 34.64, 45, 51.96, 30, 43.3, 15, 51.96, 15, 34.64, 0, 25.98, 15, 17.32, 15, 0);\r\n        \r\n            star.setFill(Color.TRANSPARENT);\r\n            star.setStrokeWidth(2);\r\n            star.setStroke(Color.BLACK);\r\n      \r\n            // Removes the small gap between rows\r\n            star.setScaleX(1.1);\r\n            star.setScaleY(1.1);\r\n\r\n            Label label = new Label(text);\r\n            label.setFont(Font.font(&quot;Arial&quot;, FontWeight.BOLD, 16));\r\n            label.setTextFill(Color.WHITE);\r\n        \r\n            StackPane pane = new StackPane();\r\n            pane.getChildren().addAll(star, label);\r\n        \r\n            return pane;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n[![Grid with stars][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ogrDY.png","title":"Making rectangular grid with the second and third row offset?","body":"<p>As @jewelsea suggested, you can use a <code>VBox</code> for the layout and <code>HBox</code> for rows:</p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        Pane row1 = createRow(&quot;0,0&quot;, &quot;1,0&quot;, &quot;2,0&quot;, &quot;3,0&quot;, &quot;4,0&quot;, &quot;5,0&quot;, &quot;6,0&quot;);\n        Pane row2 = createRow(&quot;0,1&quot;, &quot;1,1&quot;, &quot;2,1&quot;, &quot;3,1&quot;, &quot;4,1&quot;, &quot;5,1&quot;);\n        Pane row3 = createRow(&quot;0,2&quot;, &quot;1,2&quot;, &quot;2,2&quot;, &quot;3,2&quot;, &quot;4,2&quot;, &quot;5,2&quot;, &quot;6,2&quot;);\n        Pane row4 = createRow(&quot;0,3&quot;, &quot;1,3&quot;, &quot;2,3&quot;, &quot;3,3&quot;, &quot;4,3&quot;, &quot;5,3&quot;);\n\n        VBox pane = new VBox(row1, row2, row3, row4);\n        pane.setAlignment(Pos.CENTER);\n        pane.setStyle(&quot;-fx-background-color: #37474f; -fx-padding: 20;&quot;);\n\n        Scene scene = new Scene(pane);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private static Pane createRow(String... texts) {\n        HBox pane = new HBox();\n        pane.setAlignment(Pos.CENTER);\n\n        Arrays.stream(texts).map(App::createStar)\n                .forEach(pane.getChildren()::add);\n\n        return pane;\n    }\n\n    private static Pane createStar(String text) {\n        Polygon star = new Polygon(15, 0, 30, 10, 45, 0, 45, 17.32, 60, 25.98, 45, 34.64, 45, 51.96, 30, 43.3, 15, 51.96, 15, 34.64, 0, 25.98, 15, 17.32, 15, 0);\n    \n        star.setFill(Color.TRANSPARENT);\n        star.setStrokeWidth(2);\n        star.setStroke(Color.BLACK);\n  \n        // Removes the small gap between rows\n        star.setScaleX(1.1);\n        star.setScaleY(1.1);\n\n        Label label = new Label(text);\n        label.setFont(Font.font(&quot;Arial&quot;, FontWeight.BOLD, 16));\n        label.setTextFill(Color.WHITE);\n    \n        StackPane pane = new StackPane();\n        pane.getChildren().addAll(star, label);\n    \n        return pane;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ogrDY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ogrDY.png\" alt=\"Grid with stars\" /></a></p>\n"}],"owner":{"display_name":"user12971331"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69635329,"answer_count":1,"score":3,"last_activity_date":1634666765,"creation_date":1634631315,"question_id":69627263,"body_markdown":"I am trying to build the following rectangular grid of stars in which the second and third rows are offset to the right to achieve the design pattern.\r\n\r\n[![Desired grid][1]][1]\r\n\r\n\r\nHowever, with my code all I have achieved is this:\r\n\r\n[![My code][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JfhmW.png\r\n  [2]: https://i.stack.imgur.com/DTQgL.png\r\n\r\nMy code is:\r\n\r\n \r\n\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.geometry.HPos;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.*;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Random;\r\n\r\n    public class Main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        GridPane grid = new GridPane();\r\n        Random rand = new Random();\r\n        int colNum = 0;\r\n\r\n        //Shapes\r\n        for (int row = 0; row &lt; 4; row++) {\r\n            if (row == 1 || row == 3)\r\n                colNum = 6;\r\n            else\r\n                colNum = 7;\r\n            for (int col = 0; col &lt; colNum; col++) {\r\n                Polygon star = new Polygon(25, 0, 15, 20, 0, 20, 10, 40, 5, 60, 25, 50, 45, 60, 40, 40, 50, 20, 35, 20);\r\n                star.setFill(Color.WHITE);\r\n\r\n                star.setStroke(Color.BLACK);\r\n                GridPane.setRowIndex(star, row);\r\n                GridPane.setColumnIndex(star, col);\r\n\r\n                GridPane.setHalignment(star, HPos.RIGHT);\r\n                grid.getChildren().addAll(star);\r\n            }\r\n        }\r\n\r\n        Scene scene = new Scene(grid, 1024, 800, true);\r\n        primaryStage.setScene(scene);\r\n\r\n\r\n        primaryStage.show();\r\n        }\r\n\r\n}\r\n\r\nHow can I offset the second and fourth row so that it looks like the first image?","title":"Making rectangular grid with the second and third row offset?","body":"<p>I am trying to build the following rectangular grid of stars in which the second and third rows are offset to the right to achieve the design pattern.</p>\n<p><a href=\"https://i.stack.imgur.com/JfhmW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JfhmW.png\" alt=\"Desired grid\" /></a></p>\n<p>However, with my code all I have achieved is this:</p>\n<p><a href=\"https://i.stack.imgur.com/DTQgL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTQgL.png\" alt=\"My code\" /></a></p>\n<p>My code is:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.HPos;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.*;\nimport javafx.stage.Stage;\n\nimport java.util.Random;\n\npublic class Main extends Application {\n\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage primaryStage) {\n    GridPane grid = new GridPane();\n    Random rand = new Random();\n    int colNum = 0;\n\n    //Shapes\n    for (int row = 0; row &lt; 4; row++) {\n        if (row == 1 || row == 3)\n            colNum = 6;\n        else\n            colNum = 7;\n        for (int col = 0; col &lt; colNum; col++) {\n            Polygon star = new Polygon(25, 0, 15, 20, 0, 20, 10, 40, 5, 60, 25, 50, 45, 60, 40, 40, 50, 20, 35, 20);\n            star.setFill(Color.WHITE);\n\n            star.setStroke(Color.BLACK);\n            GridPane.setRowIndex(star, row);\n            GridPane.setColumnIndex(star, col);\n\n            GridPane.setHalignment(star, HPos.RIGHT);\n            grid.getChildren().addAll(star);\n        }\n    }\n\n    Scene scene = new Scene(grid, 1024, 800, true);\n    primaryStage.setScene(scene);\n\n\n    primaryStage.show();\n    }\n</code></pre>\n<p>}</p>\n<p>How can I offset the second and fourth row so that it looks like the first image?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1634666544,"post_id":69635598,"comment_id":123085327,"body_markdown":"No, the exception tells you that `newList` is `null`. In fact, you have a instance variable `newList` but it is never initialized because you introduce a local variable `JList newList` that shadows the field.","body":"No, the exception tells you that <code>newList</code> is <code>null</code>. In fact, you have a instance variable <code>newList</code> but it is never initialized because you introduce a local variable <code>JList newList</code> that shadows the field."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1634666720,"post_id":69635598,"comment_id":123085380,"body_markdown":"Also, you should add a type parameter of `&lt;Order&gt;` to your `JList`s and `DefaultListModel`s, otherwise you&#39;re using the raw variants of those types.","body":"Also, you should add a type parameter of <code>&lt;Order&gt;</code> to your <code>JList</code>s and <code>DefaultListModel</code>s, otherwise you&#39;re using the raw variants of those types."}],"answers":[{"tags":[],"owner":{"account_id":6460144,"reputation":476,"user_id":5004264,"display_name":"smerkd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634666513,"creation_date":1634666513,"answer_id":69635694,"question_id":69635598,"body_markdown":"Remove the Jlist from JList newList. You&#39;re defining a local variable when you want to set the class variable to that new object.\r\n\r\nThus\r\n```java\r\nJList newList = new JList(newModel);\r\n```\r\nWill become\r\n```java\r\nnewList = new JList(newModel);\r\n```","title":"Can&#39;t use getSelectedIndex() because list is null","body":"<p>Remove the Jlist from JList newList. You're defining a local variable when you want to set the class variable to that new object.</p>\n<p>Thus</p>\n<pre class=\"lang-java prettyprint-override\"><code>JList newList = new JList(newModel);\n</code></pre>\n<p>Will become</p>\n<pre class=\"lang-java prettyprint-override\"><code>newList = new JList(newModel);\n</code></pre>\n"}],"owner":{"account_id":22810399,"reputation":55,"user_id":16961801,"display_name":"Mr. Goose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69635694,"answer_count":1,"score":-1,"last_activity_date":1634666513,"creation_date":1634666099,"question_id":69635598,"body_markdown":"I am working on a school project and am trying to get the position and values of a selected item in a list. When attempting to do so, I get the error &#39;Cannot invoke &quot;javax.swing.JList.getSelectedIndex()&quot; because &quot;this.newList&quot; is null&#39;. I&#39;m pretty sure this has to do with the cell renderer not actually adding the item to the list, but am unsure how to fix it.\r\n\r\n```\r\n\r\nclass OrderHandlePanel extends JPanel implements ActionListener {\r\n\r\nprivate DefaultListModel newModel, cancelModel;\r\nprivate JButton right, left;\r\nprivate JList newList, cancelledList;\r\n\r\nOrderHandlePanel() {\r\n\r\n        newModel = new DefaultListModel();\r\n\r\n        setLayout(new GridLayout(1,3));\r\n\t\tJPanel newOrders = new JPanel(new GridLayout(3,1));\r\n\t\tJLabel newOrder = new JLabel(&quot;New Order&quot;);\r\n\t\tJLabel orderAmount = new JLabel(&quot;Ordered Amt: &quot;);\r\n\t\tJList newList = new JList(newModel);\r\n\t\tnewList.setCellRenderer(new listCellRenderer());\r\n\t\tJScrollPane newScrollPane = new JScrollPane(newList);\r\n\r\n\t\tJPanel buttons = new JPanel();\r\n\t\tJButton right = new JButton(&quot;=&gt;&quot;);\r\n\t\tJButton left = new JButton(&quot;&lt;=&quot;);\r\n\r\n        newOrders.add(newOrder);\r\n\t\tnewOrders.add(newScrollPane);\r\n\t\tnewOrders.add(orderAmount);\r\n\t\tright.addActionListener(this);\r\n\t\tleft.addActionListener(this);\r\n\t\tright.setActionCommand(&quot;moveRight&quot;);\r\n\t\tleft.setActionCommand(&quot;moveLeft&quot;);\r\n\t\tbuttons.add(right);\r\n\t\tbuttons.add(left);\r\n\r\n\t\tadd(newOrders);\r\n\t\tadd(buttons);\r\n}\r\n\r\n\tprivate class listCellRenderer extends DefaultListCellRenderer {\r\n\t\tpublic Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n\t\t\tsuper.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n\t\t\tOrder order = (Order) value;\r\n\t\t\tString orderText = &quot;&lt;html&gt;Name: &quot; + order.getName() \r\n\t\t\t\t+ &quot;&lt;br/&gt;Quantity: &quot; + order.getQuantity() \r\n\t\t\t\t+ &quot;&lt;br/&gt;Price&quot; + order.getPrice() \r\n\t\t\t\t+ &quot;&lt;br/&gt;Total Cost: &quot; + order.getTotalCost()\r\n\t\t\t\t+ &quot;&lt;br/&gt; &quot;;\r\n\t\t\tsetText(orderText);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void update() {\r\n\t\tnewModel.clear();\r\n\t\tcancelModel.clear();\r\n\t\tfor (byte i = 0; i &lt; OrderContainer.getPosition(); i++) {\r\n\t\t\tOrder order = OrderContainer.getOrder(i);\r\n\t\t\tif (order.getType().equals(&quot;New&quot;))\r\n\t\t\t\tnewModel.addElement(order);\r\n\t\t\telse if (order.getType().equals(&quot;Cancelled&quot;))\r\n\t\t\t\tcancelModel.addElement(order);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tString actionCommand = ((JButton) e.getSource()).getActionCommand();\r\n\t\t\r\n\t\tswitch (actionCommand) {\r\n\t\tcase &quot;moveRight&quot;:\r\n\t\t\tint newIndex = newList.getSelectedIndex();\r\n\t\t\tSystem.out.println(newList.getSelectedValue());\r\n\t\t\tbreak;\r\n\t\tcase &quot;moveLeft&quot;:\r\n\t\t\tint cancelIndex = cancelledList.getSelectedIndex();\r\n\t\t\tSystem.out.println(cancelledList.getSelectedValue());\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Can&#39;t use getSelectedIndex() because list is null","body":"<p>I am working on a school project and am trying to get the position and values of a selected item in a list. When attempting to do so, I get the error 'Cannot invoke &quot;javax.swing.JList.getSelectedIndex()&quot; because &quot;this.newList&quot; is null'. I'm pretty sure this has to do with the cell renderer not actually adding the item to the list, but am unsure how to fix it.</p>\n<pre><code>\nclass OrderHandlePanel extends JPanel implements ActionListener {\n\nprivate DefaultListModel newModel, cancelModel;\nprivate JButton right, left;\nprivate JList newList, cancelledList;\n\nOrderHandlePanel() {\n\n        newModel = new DefaultListModel();\n\n        setLayout(new GridLayout(1,3));\n        JPanel newOrders = new JPanel(new GridLayout(3,1));\n        JLabel newOrder = new JLabel(&quot;New Order&quot;);\n        JLabel orderAmount = new JLabel(&quot;Ordered Amt: &quot;);\n        JList newList = new JList(newModel);\n        newList.setCellRenderer(new listCellRenderer());\n        JScrollPane newScrollPane = new JScrollPane(newList);\n\n        JPanel buttons = new JPanel();\n        JButton right = new JButton(&quot;=&gt;&quot;);\n        JButton left = new JButton(&quot;&lt;=&quot;);\n\n        newOrders.add(newOrder);\n        newOrders.add(newScrollPane);\n        newOrders.add(orderAmount);\n        right.addActionListener(this);\n        left.addActionListener(this);\n        right.setActionCommand(&quot;moveRight&quot;);\n        left.setActionCommand(&quot;moveLeft&quot;);\n        buttons.add(right);\n        buttons.add(left);\n\n        add(newOrders);\n        add(buttons);\n}\n\n    private class listCellRenderer extends DefaultListCellRenderer {\n        public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n            super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n            Order order = (Order) value;\n            String orderText = &quot;&lt;html&gt;Name: &quot; + order.getName() \n                + &quot;&lt;br/&gt;Quantity: &quot; + order.getQuantity() \n                + &quot;&lt;br/&gt;Price&quot; + order.getPrice() \n                + &quot;&lt;br/&gt;Total Cost: &quot; + order.getTotalCost()\n                + &quot;&lt;br/&gt; &quot;;\n            setText(orderText);\n            return this;\n        }\n    }\n\n    public void update() {\n        newModel.clear();\n        cancelModel.clear();\n        for (byte i = 0; i &lt; OrderContainer.getPosition(); i++) {\n            Order order = OrderContainer.getOrder(i);\n            if (order.getType().equals(&quot;New&quot;))\n                newModel.addElement(order);\n            else if (order.getType().equals(&quot;Cancelled&quot;))\n                cancelModel.addElement(order);\n        }\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String actionCommand = ((JButton) e.getSource()).getActionCommand();\n        \n        switch (actionCommand) {\n        case &quot;moveRight&quot;:\n            int newIndex = newList.getSelectedIndex();\n            System.out.println(newList.getSelectedValue());\n            break;\n        case &quot;moveLeft&quot;:\n            int cancelIndex = cancelledList.getSelectedIndex();\n            System.out.println(cancelledList.getSelectedValue());\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","javafx","multi-module"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1634665682,"creation_date":1629228632,"answer_id":68823040,"question_id":68818710,"body_markdown":"**Packaging via `mvn package` using the `maven-jar-plugin` is not enough**\r\n\r\n`mvn package`, by default, is just going to package the jar for your application code, it isn&#39;t going to include all of the dependant library code (which is why the dependent code cannot be found when you attempt to run your application).  \r\n\r\nYou could package your application code and dependant libraries using an assembly, as detailed in https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven, though that approach is not the only one to solve your problem.  \r\n\r\n**You need to build some kind of runtime image**\r\n\r\nThere are numerous options for building runtime images and I don&#39;t know your requirements, so I can&#39;t recommend what you should do instead.  Example options are:\r\n\r\n 1. A zip/tar of your application plus libraries in a separate directory.\r\n 2. The creation of a single jar that includes all dependant code. \r\n 3. Either of solutions 1 or 2, plus the inclusion of a packaged JRE.\r\n 4. A runtime image with your code and libraries which also uses just the custom runtime portions of the JRE and JavaFX modules you need (using jlink).\r\n 5. A native installer for either 3 or 4 (using jpackage + a native installer creation tool, e.g. WIX, RPM, DEB installer creators).\r\n\r\nThe last method (native installer), is the packaging, distribution, and installation method I would recommend for most non-trivial applications.\r\n\r\n**You need to research how to do this**\r\n\r\nTo get your solution, you will need to do your own research, and, once you have chosen an approach and toolset, you could create a new question regarding the implementation of that approach, if you continue to have difficulties.\r\n\r\n**Related resources**\r\n\r\n * https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\r\n * [openjfx Runtime images documentation](https://openjfx.io/openjfx-docs/)\r\n * [maven shade plugin](https://maven.apache.org/plugins/maven-shade-plugin/)\r\n * https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\r\n * [openjfx JavaFX maven plugin](https://github.com/openjfx/javafx-maven-plugin)\r\n * [badass runtime plugin](https://github.com/beryx/badass-runtime-plugin)\r\n * [badass jlink plugin](https://github.com/beryx/badass-jlink-plugin)\r\n * [jlink guide](https://www.baeldung.com/jlink)\r\n * [jpackage script](https://github.com/dlemmermann/JPackageScriptFX)\r\n * [JEP 392: packaging tool](https://openjdk.java.net/jeps/392)\r\n\r\n**Warning for shaded jars**\r\n\r\nIf you bundle all JavaFX code into a single jar using the maven shade plugin, you will get a warning like the following when you run your application from Java 16+:\r\n\r\n```WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @28c71909&#39;```\r\n\r\nThis indicates that such a configuration is not supported, and may (and probably will) break in future and perhaps current JavaFX platform revisions. Thus, shaded jars that include JavaFX platform code are not recommended by me, even though such jars might currently work for your deployments.  \r\n\r\nJavaFX 11+ is built to be used as a set of modules. Configurations are not supported if they do not run the JavaFX platform off of the module path but instead run the platform code off of the classpath (as a shaded jar would).","title":"Multi-module JavaFX maven project packaging issue","body":"<p><strong>Packaging via <code>mvn package</code> using the <code>maven-jar-plugin</code> is not enough</strong></p>\n<p><code>mvn package</code>, by default, is just going to package the jar for your application code, it isn't going to include all of the dependant library code (which is why the dependent code cannot be found when you attempt to run your application).</p>\n<p>You could package your application code and dependant libraries using an assembly, as detailed in <a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\">How can I create an executable JAR with dependencies using Maven?</a>, though that approach is not the only one to solve your problem.</p>\n<p><strong>You need to build some kind of runtime image</strong></p>\n<p>There are numerous options for building runtime images and I don't know your requirements, so I can't recommend what you should do instead.  Example options are:</p>\n<ol>\n<li>A zip/tar of your application plus libraries in a separate directory.</li>\n<li>The creation of a single jar that includes all dependant code.</li>\n<li>Either of solutions 1 or 2, plus the inclusion of a packaged JRE.</li>\n<li>A runtime image with your code and libraries which also uses just the custom runtime portions of the JRE and JavaFX modules you need (using jlink).</li>\n<li>A native installer for either 3 or 4 (using jpackage + a native installer creation tool, e.g. WIX, RPM, DEB installer creators).</li>\n</ol>\n<p>The last method (native installer), is the packaging, distribution, and installation method I would recommend for most non-trivial applications.</p>\n<p><strong>You need to research how to do this</strong></p>\n<p>To get your solution, you will need to do your own research, and, once you have chosen an approach and toolset, you could create a new question regarding the implementation of that approach, if you continue to have difficulties.</p>\n<p><strong>Related resources</strong></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\">How can I create an executable JAR with dependencies using Maven?</a></li>\n<li><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx Runtime images documentation</a></li>\n<li><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven shade plugin</a></li>\n<li><a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">Maven Shade JavaFX runtime components are missing</a></li>\n<li><a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"nofollow noreferrer\">openjfx JavaFX maven plugin</a></li>\n<li><a href=\"https://github.com/beryx/badass-runtime-plugin\" rel=\"nofollow noreferrer\">badass runtime plugin</a></li>\n<li><a href=\"https://github.com/beryx/badass-jlink-plugin\" rel=\"nofollow noreferrer\">badass jlink plugin</a></li>\n<li><a href=\"https://www.baeldung.com/jlink\" rel=\"nofollow noreferrer\">jlink guide</a></li>\n<li><a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">jpackage script</a></li>\n<li><a href=\"https://openjdk.java.net/jeps/392\" rel=\"nofollow noreferrer\">JEP 392: packaging tool</a></li>\n</ul>\n<p><strong>Warning for shaded jars</strong></p>\n<p>If you bundle all JavaFX code into a single jar using the maven shade plugin, you will get a warning like the following when you run your application from Java 16+:</p>\n<p><code>WARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @28c71909'</code></p>\n<p>This indicates that such a configuration is not supported, and may (and probably will) break in future and perhaps current JavaFX platform revisions. Thus, shaded jars that include JavaFX platform code are not recommended by me, even though such jars might currently work for your deployments.</p>\n<p>JavaFX 11+ is built to be used as a set of modules. Configurations are not supported if they do not run the JavaFX platform off of the module path but instead run the platform code off of the classpath (as a shaded jar would).</p>\n"}],"owner":{"account_id":11015618,"reputation":82,"user_id":8091561,"display_name":"Daniel Yonkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1442,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68823040,"answer_count":1,"score":3,"last_activity_date":1634665682,"creation_date":1629208670,"question_id":68818710,"body_markdown":"This is an attempt to create a multi-module JavaFX application with maven.\r\n\r\nGiven the following structure of the project:\r\n```\r\nproject\r\n|  pom1.xml\r\n|_____ Word Generator (Folder)\r\n      |  pom2.xml\r\n      |_____logic (folder)\r\n            |  WordGenerator\r\n|_____UI (folder)\r\n      |  pom3.xml\r\n      |_____marty  \r\n            |  App\r\n            |  PrimaryController\r\n            |  SecondaryController\r\n```\r\nWe have the following structure of the pom files in order of the scheme above:\r\n\r\n**pom1.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.games.marty&lt;/groupId&gt;\r\n    &lt;artifactId&gt;words&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;0.1&lt;/version&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;UI&lt;/module&gt;\r\n        &lt;module&gt;Word Generator&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;16&lt;/source&gt;\r\n                        &lt;target&gt;16&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**pom2.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;words&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.games.marty&lt;/groupId&gt;\r\n        &lt;version&gt;0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;word.generator&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;16&lt;/source&gt;\r\n                        &lt;target&gt;16&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;!-- Build an executable JAR --&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                &lt;mainClass&gt;org.games.marty.logic.WordGenerator&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**pom3.xml**\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;artifactId&gt;UI&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;words&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.games.marty&lt;/groupId&gt;\r\n        &lt;version&gt;0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.games.marty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;word.generator&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;16&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;org.games.marty.App&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;org.games.marty.App&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe way we have attempted to build the application in order for the UI to have access to the WordGenerator logic is to maven `package` the result from the pom1.xml directive\r\n\r\nWe get the above error as mentioned earlier:\r\n```\r\nError: Could not find or load main class org.games.marty.App\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\r\n```\r\n\r\nAs far as my understanding goes, the JavaFX dependencies are installed throught maven and should be available but they are missing?","title":"Multi-module JavaFX maven project packaging issue","body":"<p>This is an attempt to create a multi-module JavaFX application with maven.</p>\n<p>Given the following structure of the project:</p>\n<pre><code>project\n|  pom1.xml\n|_____ Word Generator (Folder)\n      |  pom2.xml\n      |_____logic (folder)\n            |  WordGenerator\n|_____UI (folder)\n      |  pom3.xml\n      |_____marty  \n            |  App\n            |  PrimaryController\n            |  SecondaryController\n</code></pre>\n<p>We have the following structure of the pom files in order of the scheme above:</p>\n<p><strong>pom1.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.games.marty&lt;/groupId&gt;\n    &lt;artifactId&gt;words&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;UI&lt;/module&gt;\n        &lt;module&gt;Word Generator&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;16&lt;/source&gt;\n                        &lt;target&gt;16&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>pom2.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;words&lt;/artifactId&gt;\n        &lt;groupId&gt;org.games.marty&lt;/groupId&gt;\n        &lt;version&gt;0.1&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;word.generator&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;16&lt;/source&gt;\n                        &lt;target&gt;16&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;!-- Build an executable JAR --&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                                &lt;mainClass&gt;org.games.marty.logic.WordGenerator&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>pom3.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;UI&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;words&lt;/artifactId&gt;\n        &lt;groupId&gt;org.games.marty&lt;/groupId&gt;\n        &lt;version&gt;0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.games.marty&lt;/groupId&gt;\n            &lt;artifactId&gt;word.generator&lt;/artifactId&gt;\n            &lt;version&gt;0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;16&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;org.games.marty.App&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.games.marty.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The way we have attempted to build the application in order for the UI to have access to the WordGenerator logic is to maven <code>package</code> the result from the pom1.xml directive</p>\n<p>We get the above error as mentioned earlier:</p>\n<pre><code>Error: Could not find or load main class org.games.marty.App\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\n</code></pre>\n<p>As far as my understanding goes, the JavaFX dependencies are installed throught maven and should be available but they are missing?</p>\n"},{"tags":["java","android","kotlin","zooming","uigesturerecognizer"],"answers":[{"tags":[],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634665404,"creation_date":1634665404,"answer_id":69635465,"question_id":69635408,"body_markdown":"Zoomy provides a solution for that: \r\n\r\n&gt; Because Zoomy works by attaching a View.OnTouchListener to the registered View, View.OnClickListener can not be set along with Zoomy, so a TapListener, LongPressListener and DoubleTapListener are provided to ensure the View still can listen for gestures. A ZoomListener is also provided if you are interested in zoom events.\r\n\r\nIn Code:\r\n\r\n```\r\nZoomy.Builder builder = new Zoomy.Builder(this)\r\n                    .target(mZoomableView)\r\n                    .tapListener(new TapListener() {\r\n                        @Override\r\n                        public void onTap(View v) {\r\n                            //View tapped, do stuff\r\n                        }\r\n                    })\r\n                     .longPressListener(new LongPressListener() {\r\n                        @Override\r\n                        public void onLongPress(View v) {\r\n                            //View long pressed, do stuff\r\n                        }\r\n                    }).doubleTapListener(new DoubleTapListener() {\r\n                        @Override\r\n                        public void onDoubleTap(View v) {\r\n                            //View double tapped, do stuff\r\n                        }\r\n                    })\r\n                    .zoomListener(new ZoomListener() {\r\n                        @Override\r\n                        public void onViewStartedZooming(View view) {\r\n                            //View started zooming\r\n                        }\r\n\r\n                        @Override\r\n                        public void onViewEndedZooming(View view) {\r\n                            //View ended zooming\r\n                        }\r\n                    });   \r\n```","title":"Android: Use GestureDetector and Zoomy at the same time","body":"<p>Zoomy provides a solution for that:</p>\n<blockquote>\n<p>Because Zoomy works by attaching a View.OnTouchListener to the registered View, View.OnClickListener can not be set along with Zoomy, so a TapListener, LongPressListener and DoubleTapListener are provided to ensure the View still can listen for gestures. A ZoomListener is also provided if you are interested in zoom events.</p>\n</blockquote>\n<p>In Code:</p>\n<pre><code>Zoomy.Builder builder = new Zoomy.Builder(this)\n                    .target(mZoomableView)\n                    .tapListener(new TapListener() {\n                        @Override\n                        public void onTap(View v) {\n                            //View tapped, do stuff\n                        }\n                    })\n                     .longPressListener(new LongPressListener() {\n                        @Override\n                        public void onLongPress(View v) {\n                            //View long pressed, do stuff\n                        }\n                    }).doubleTapListener(new DoubleTapListener() {\n                        @Override\n                        public void onDoubleTap(View v) {\n                            //View double tapped, do stuff\n                        }\n                    })\n                    .zoomListener(new ZoomListener() {\n                        @Override\n                        public void onViewStartedZooming(View view) {\n                            //View started zooming\n                        }\n\n                        @Override\n                        public void onViewEndedZooming(View view) {\n                            //View ended zooming\n                        }\n                    });   \n</code></pre>\n"}],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69635465,"answer_count":1,"score":0,"last_activity_date":1634665404,"creation_date":1634665100,"question_id":69635408,"body_markdown":"I use a GestureListener on an image to detect a Double Tap.\r\n\r\n```\r\n            holder.image.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    return holder.myDoubleTapDetector.onTouchEvent(event);\r\n                }\r\n            });\r\n```\r\n\r\nAnd I use the library [Zoomy][1] to make the images zoomable.\r\n\r\n```\r\n            Zoomy.Builder builder = new Zoomy.Builder(mActivity).target(holder.image);\r\n            builder.register();\r\n```\r\n\r\nBoth work perfectly fine for them alone. \r\n\r\nBut adding both at the same time does **not** work! Only the one that was added last works.\r\n\r\nHow can I have both of them working?\r\n\r\n\r\n  [1]: https://github.com/imablanco/Zoomy","title":"Android: Use GestureDetector and Zoomy at the same time","body":"<p>I use a GestureListener on an image to detect a Double Tap.</p>\n<pre><code>            holder.image.setOnTouchListener(new View.OnTouchListener() {\n                @Override\n                public boolean onTouch(View v, MotionEvent event) {\n                    return holder.myDoubleTapDetector.onTouchEvent(event);\n                }\n            });\n</code></pre>\n<p>And I use the library <a href=\"https://github.com/imablanco/Zoomy\" rel=\"nofollow noreferrer\">Zoomy</a> to make the images zoomable.</p>\n<pre><code>            Zoomy.Builder builder = new Zoomy.Builder(mActivity).target(holder.image);\n            builder.register();\n</code></pre>\n<p>Both work perfectly fine for them alone.</p>\n<p>But adding both at the same time does <strong>not</strong> work! Only the one that was added last works.</p>\n<p>How can I have both of them working?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1634582543,"post_id":69620628,"comment_id":123058970,"body_markdown":"Not having an exact answer, but just think it through: each Publisher or Subscribe must be registered somewhere. Each registration will take up a certain amount of memory. So one limiting factor must be the amount of available memory to your JVM.","body":"Not having an exact answer, but just think it through: each Publisher or Subscribe must be registered somewhere. Each registration will take up a certain amount of memory. So one limiting factor must be the amount of available memory to your JVM."}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634665032,"creation_date":1634638231,"answer_id":69628959,"question_id":69620628,"body_markdown":"You can create as many publishers as you like - nothing will happen until you subscribe (for a standard cold publisher at least), so until that point they&#39;re just like any other POJO. Obviously you have to have enough heap space, but that&#39;s about it.\r\n\r\nIf you&#39;re asking about the upper limit of active publishers (i.e. once you&#39;ve subscribed) - that&#39;s a little more complex. In a traditional per-thread model the upper limit is generally the number of threads you can context switch between (often a few thousand.) Reactive frameworks essentially remove that limit by only using one event loop, which means the practical limit is often given by one of:\r\n\r\n - I/O bandwidth. If you have so many requests you don&#39;t have the network bandwidth to respond to them all in a timely fashion (or at all), then this is your limit.\r\n - CPU cycles. If you have plenty of network bandwidth, but your publishers are performing CPU intensive operations, then this is likely to be what you run into first - while you no longer have the overhead of context switching, it still takes a certain amount of CPU cycles to process each request, and you only have a finite resource here.\r\n\r\nIn reality though, both of the above differ per setup - so the only real way to know what limit you&#39;ll run into, and when you&#39;ll run into it, is to benchmark your application &amp; hardware to find out.","title":"Is there an upper limit on the number of Publishers or Subscribers you can have in a Reactor Java Application?","body":"<p>You can create as many publishers as you like - nothing will happen until you subscribe (for a standard cold publisher at least), so until that point they're just like any other POJO. Obviously you have to have enough heap space, but that's about it.</p>\n<p>If you're asking about the upper limit of active publishers (i.e. once you've subscribed) - that's a little more complex. In a traditional per-thread model the upper limit is generally the number of threads you can context switch between (often a few thousand.) Reactive frameworks essentially remove that limit by only using one event loop, which means the practical limit is often given by one of:</p>\n<ul>\n<li>I/O bandwidth. If you have so many requests you don't have the network bandwidth to respond to them all in a timely fashion (or at all), then this is your limit.</li>\n<li>CPU cycles. If you have plenty of network bandwidth, but your publishers are performing CPU intensive operations, then this is likely to be what you run into first - while you no longer have the overhead of context switching, it still takes a certain amount of CPU cycles to process each request, and you only have a finite resource here.</li>\n</ul>\n<p>In reality though, both of the above differ per setup - so the only real way to know what limit you'll run into, and when you'll run into it, is to benchmark your application &amp; hardware to find out.</p>\n"}],"owner":{"account_id":2597640,"reputation":836,"user_id":2250934,"accept_rate":64,"display_name":"Hexy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69628959,"answer_count":1,"score":1,"last_activity_date":1634665032,"creation_date":1634580397,"question_id":69620628,"body_markdown":"In a Reactor Java based application we free up threads by creating Publishers to be subscribed on later.\r\n\r\nCan I create _unlimited_ number of Publishers to scale my Application? What are the constraints for creating Publishers. ","title":"Is there an upper limit on the number of Publishers or Subscribers you can have in a Reactor Java Application?","body":"<p>In a Reactor Java based application we free up threads by creating Publishers to be subscribed on later.</p>\n<p>Can I create <em>unlimited</em> number of Publishers to scale my Application? What are the constraints for creating Publishers.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634664015,"creation_date":1634664015,"answer_id":69635235,"question_id":69634967,"body_markdown":"Why continue to receive messages if the DB is down?\r\n\r\nSimply configure the listener container to keep retrying the current record until the DB is available again.\r\n\r\n```java\r\n@Bean\r\nListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;?, ?&gt;&gt; listenerContainerCustomizer() {\r\n    return (container, topic, group) -&gt; {\r\n        container.setErrorHandler(...);\r\n    };\r\n}\r\n```\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek-to-current\r\n","title":"spring cloud stream kafka binder resetting a kafka topic(multiple partitions) offset to an arbitrary number programatically","body":"<p>Why continue to receive messages if the DB is down?</p>\n<p>Simply configure the listener container to keep retrying the current record until the DB is available again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;?, ?&gt;&gt; listenerContainerCustomizer() {\n    return (container, topic, group) -&gt; {\n        container.setErrorHandler(...);\n    };\n}\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek-to-current\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek-to-current</a></p>\n"}],"owner":{"account_id":16362432,"reputation":155,"user_id":11817672,"display_name":"APK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634664015,"creation_date":1634662795,"question_id":69634967,"body_markdown":"I have a requirement to reset offset to a number.\r\n\r\n**Detailed requirement** : My application is consuming messages from kafka topic and dumping it in DB, let&#39;s say DB goes down while processing the consumed messages(offset=10) and till the time DB was down the application consumed messages till offset 20.\r\n \r\nNow DB comes up again while processing the 20th offset message, now I want to reset the offset to 10 again so that I can save the data in database.\r\n\r\nCan I achieve that programatically (spring boot) ? \r\nI am using spring cloud stream binder kafka.","title":"spring cloud stream kafka binder resetting a kafka topic(multiple partitions) offset to an arbitrary number programatically","body":"<p>I have a requirement to reset offset to a number.</p>\n<p><strong>Detailed requirement</strong> : My application is consuming messages from kafka topic and dumping it in DB, let's say DB goes down while processing the consumed messages(offset=10) and till the time DB was down the application consumed messages till offset 20.</p>\n<p>Now DB comes up again while processing the 20th offset message, now I want to reset the offset to 10 again so that I can save the data in database.</p>\n<p>Can I achieve that programatically (spring boot) ?\nI am using spring cloud stream binder kafka.</p>\n"},{"tags":["java","arrays","json","mongodb","escaping"],"comments":[{"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"score":1,"creation_date":1383002080,"post_id":19646139,"comment_id":29172371,"body_markdown":"Does your `items` array actually contains literal strings `&quot;foo&quot;` and `&quot;bar&quot;`? It the quotes are part of the string, they will be escaped, and it&#39;s a proper behavior.","body":"Does your <code>items</code> array actually contains literal strings <code>&quot;foo&quot;</code> and <code>&quot;bar&quot;</code>? It the quotes are part of the string, they will be escaped, and it&#39;s a proper behavior."},{"owner":{"account_id":3503588,"reputation":895,"user_id":2929693,"display_name":"D. Visser"},"score":0,"creation_date":1383033907,"post_id":19646139,"comment_id":29181816,"body_markdown":"@PawelVeselov Well, I&#39;ll be darned. While debugging, I outputted the results to the console and completely missed the fact they had quotes around them. You, sir, just provided me with the answer. Tip of the hat!","body":"@PawelVeselov Well, I&#39;ll be darned. While debugging, I outputted the results to the console and completely missed the fact they had quotes around them. You, sir, just provided me with the answer. Tip of the hat!"},{"owner":{"account_id":2052845,"reputation":15850,"user_id":2074608,"accept_rate":100,"display_name":"Qantas 94 Heavy"},"score":1,"creation_date":1383182834,"post_id":19646139,"comment_id":29257531,"body_markdown":"If that fixed your issue, ask @PawelVeselov to provide that as an answer, or if he doesn&#39;t, post it yourself.","body":"If that fixed your issue, ask @PawelVeselov to provide that as an answer, or if he doesn&#39;t, post it yourself."}],"answers":[{"tags":[],"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1383209547,"creation_date":1383209547,"answer_id":19702033,"question_id":19646139,"body_markdown":"You shouldn&#39;t attempt to prevent Mongo driver from escaping the string literals. Escaping is done to ensure that the final json or bson is syntactically correct. AFAIK, it&#39;s not possible to alter how Mongo driver formats final messages to the server, which is reasonable since it&#39;s properly implementing server protocol.\r\n\r\nIn your particular case, your intent was to use string literals `foo` and `bar`, yet your data contained literals `&quot;foo&quot;` and `&quot;bar&quot;` instead, causing the logical problems you were observing.","title":"How do I prevent Java&#39;s Mongo driver from escaping quotes in queries","body":"<p>You shouldn't attempt to prevent Mongo driver from escaping the string literals. Escaping is done to ensure that the final json or bson is syntactically correct. AFAIK, it's not possible to alter how Mongo driver formats final messages to the server, which is reasonable since it's properly implementing server protocol.</p>\n\n<p>In your particular case, your intent was to use string literals <code>foo</code> and <code>bar</code>, yet your data contained literals <code>\"foo\"</code> and <code>\"bar\"</code> instead, causing the logical problems you were observing.</p>\n"},{"tags":[],"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634663461,"creation_date":1634663461,"answer_id":69635099,"question_id":19646139,"body_markdown":"Accepted answer is correct, \r\n\r\nFor the similar case I applied following trick, if anybody need a solution for quoted expressions I&#39;m dropping below my solution.\r\n\r\n\r\n    BasicDBObject objectJsonKey = BasicDBObject.parse(quotedStrKey);\r\n    BasicDBObject filterCondition = new BasicDBObject(&quot;_id&quot;, objectJsonKey);\r\n\r\n\r\n`quotedStrKey` is my compound json object `_id` with double quotes `&quot;`","title":"How do I prevent Java&#39;s Mongo driver from escaping quotes in queries","body":"<p>Accepted answer is correct,</p>\n<p>For the similar case I applied following trick, if anybody need a solution for quoted expressions I'm dropping below my solution.</p>\n<pre><code>BasicDBObject objectJsonKey = BasicDBObject.parse(quotedStrKey);\nBasicDBObject filterCondition = new BasicDBObject(&quot;_id&quot;, objectJsonKey);\n</code></pre>\n<p><code>quotedStrKey</code> is my compound json object <code>_id</code> with double quotes <code>&quot;</code></p>\n"}],"owner":{"account_id":3503588,"reputation":895,"user_id":2929693,"display_name":"D. Visser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3161,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":19702033,"answer_count":2,"score":4,"last_activity_date":1634663461,"creation_date":1382998811,"question_id":19646139,"body_markdown":"## The case ##\r\n\r\nSo I&#39;m trying to execute a query to a Mongo database using Java. In shell, the query I&#39;m talking about looks like this:\r\n\r\n    db.myCollection.find({ &quot;array&quot; : { &quot;$in&quot; : [ &quot;foo&quot; , &quot;bar&quot; ]}});\r\n\r\nThe query is put together in Java like so:\r\n\r\n    DBCursor cursor = myCollection.find(new BasicDBObject(&quot;array&quot;, new BasicDBObject(&quot;$in&quot;, items)));\r\n\r\nHere, variable **items** is defined as a String[], which is passed from somewhere else. It can hold any value, but in this example it contains the following elements:\r\n\r\n    &quot;foo&quot;, &quot;bar&quot;;\r\n\r\n## The problem ##\r\n\r\nThis is where the problem starts. Calling\r\n\r\n    cursor.getQuery()\r\n\r\nreturns\r\n\r\n    { &quot;array&quot; : { &quot;$in&quot; : [ &quot;\\&quot;foo\\&quot;&quot; , &quot;\\&quot;bar\\&quot;&quot; ]}}\r\n\r\nwhich won&#39;t give back any results. As you can see, the Mongo driver for Java added quotes and escaped them.\r\n\r\n## I tried ##\r\n\r\n1. Copying the array, and making sure everything is trimmed off. Then pass it to the query.\r\n\r\n        String[] test = new String[items.length];\r\n        for(int i = 0; i &lt; items.length; i++){\r\n            test[i] = items[i].trim();\r\n        }\r\n\r\n Didn&#39;t work.\r\n\r\n2. Now here&#39;s some real magic for y&#39;all! I tried initializing the string just before the query like this:\r\n\r\n        String[] items = new String[]{ &quot;foo&quot;, &quot;bar&quot; };\r\n\r\n When I initialize it like that, Mongo doesn&#39;t escape the quotes and the query works.\r\n\r\n\r\n----------\r\n\r\n\r\nSo I&#39;d like to know what kind of trickery this is. And how I could solve this.\r\n\r\nThank you all for reading!","title":"How do I prevent Java&#39;s Mongo driver from escaping quotes in queries","body":"<h2>The case</h2>\n\n<p>So I'm trying to execute a query to a Mongo database using Java. In shell, the query I'm talking about looks like this:</p>\n\n<pre><code>db.myCollection.find({ \"array\" : { \"$in\" : [ \"foo\" , \"bar\" ]}});\n</code></pre>\n\n<p>The query is put together in Java like so:</p>\n\n<pre><code>DBCursor cursor = myCollection.find(new BasicDBObject(\"array\", new BasicDBObject(\"$in\", items)));\n</code></pre>\n\n<p>Here, variable <strong>items</strong> is defined as a String[], which is passed from somewhere else. It can hold any value, but in this example it contains the following elements:</p>\n\n<pre><code>\"foo\", \"bar\";\n</code></pre>\n\n<h2>The problem</h2>\n\n<p>This is where the problem starts. Calling</p>\n\n<pre><code>cursor.getQuery()\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>{ \"array\" : { \"$in\" : [ \"\\\"foo\\\"\" , \"\\\"bar\\\"\" ]}}\n</code></pre>\n\n<p>which won't give back any results. As you can see, the Mongo driver for Java added quotes and escaped them.</p>\n\n<h2>I tried</h2>\n\n<ol>\n<li><p>Copying the array, and making sure everything is trimmed off. Then pass it to the query.</p>\n\n<pre><code>String[] test = new String[items.length];\nfor(int i = 0; i &lt; items.length; i++){\n    test[i] = items[i].trim();\n}\n</code></pre>\n\n<p>Didn't work.</p></li>\n<li><p>Now here's some real magic for y'all! I tried initializing the string just before the query like this:</p>\n\n<pre><code>String[] items = new String[]{ \"foo\", \"bar\" };\n</code></pre>\n\n<p>When I initialize it like that, Mongo doesn't escape the quotes and the query works.</p></li>\n</ol>\n\n<hr>\n\n<p>So I'd like to know what kind of trickery this is. And how I could solve this.</p>\n\n<p>Thank you all for reading!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1634662911,"post_id":69634969,"comment_id":123084067,"body_markdown":"Because you only match a single digit without any sign in front and do not escape `^`. `&quot;-?\\\\d+x\\\\^-?\\\\d+&quot;` can work for you.","body":"Because you only match a single digit without any sign in front and do not escape <code>^</code>. <code>&quot;-?\\\\d+x\\\\^-?\\\\d+&quot;</code> can work for you."},{"owner":{"account_id":5705996,"reputation":588,"user_id":7966156,"display_name":"Nova"},"score":0,"creation_date":1634663087,"post_id":69634969,"comment_id":123084131,"body_markdown":"That worked! If you throw that in an answer and quickly explain the -? syntax (I&#39;m unfamiliar), I&#39;ll give you the checkmark!","body":"That worked! If you throw that in an answer and quickly explain the -? syntax (I&#39;m unfamiliar), I&#39;ll give you the checkmark!"},{"owner":{"account_id":22751505,"reputation":550,"user_id":16911595,"display_name":"Nir H."},"score":1,"creation_date":1634663154,"post_id":69634969,"comment_id":123084156,"body_markdown":"Another approach: split the string on &quot;x^&quot; and verify that you get two substrings and that you can convert each of them to an integer. If everything goes fine, then the original string was valid.","body":"Another approach: split the string on &quot;x^&quot; and verify that you get two substrings and that you can convert each of them to an integer. If everything goes fine, then the original string was valid."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1634663413,"post_id":69634969,"comment_id":123084236,"body_markdown":"`-?` means that a literal `-` character can be there, but it doesn&#39;t have to be (`?` means it&#39;s optional).  Wiktor has added it so that your negative numbers still match.","body":"<code>-?</code> means that a literal <code>-</code> character can be there, but it doesn&#39;t have to be (<code>?</code> means it&#39;s optional).  Wiktor has added it so that your negative numbers still match."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634663456,"creation_date":1634663456,"answer_id":69635097,"question_id":69634969,"body_markdown":"You only match a single digit (not whole numbers) without any sign in front (it seems you want to match optional `-` chars in front of the numbers). You also failed to escape the `^` char that is a special regex metacharacter denoting the start of a string (or line if `Pattern.MULTILINE` option is used).\r\n\r\nYou can use\r\n```java\r\nPattern p = Pattern.compile(&quot;-?\\\\d+x\\\\^-?\\\\d+&quot;);\r\nSystem.out.println(p.matcher(&quot;14x^-12&quot;).matches());\r\n```\r\nThe pattern matches\r\n\r\n - `-?` - an optional `-`\r\n - `\\d+` - one or more digits\r\n - `x` - an `x`\r\n  -`\\^` - a `^` char\r\n - `-?` - an optional `-`\r\n - `\\d+` - one or more digits\r\n\r\nTo support numbers with fractions, you might further tweak the regex:\r\n```java\r\nPattern p = Pattern.compile(&quot;-?\\\\d+(?:\\\\.\\\\d+)?x\\\\^-?\\\\d+(?:\\\\.\\\\d+)?&quot;);\r\nPattern p = Pattern.compile(&quot;-?\\\\d*\\\\.?\\\\d+x\\\\^-?\\\\d*\\\\.?\\\\d+&quot;);\r\n```\r\nAlso, see https://stackoverflow.com/q/638565/3832970.","title":"How to check if a String with integers matches a specific pattern in Java?","body":"<p>You only match a single digit (not whole numbers) without any sign in front (it seems you want to match optional <code>-</code> chars in front of the numbers). You also failed to escape the <code>^</code> char that is a special regex metacharacter denoting the start of a string (or line if <code>Pattern.MULTILINE</code> option is used).</p>\n<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;-?\\\\d+x\\\\^-?\\\\d+&quot;);\nSystem.out.println(p.matcher(&quot;14x^-12&quot;).matches());\n</code></pre>\n<p>The pattern matches</p>\n<ul>\n<li><code>-?</code> - an optional <code>-</code></li>\n<li><code>\\d+</code> - one or more digits</li>\n<li><code>x</code> - an <code>x</code>\n-<code>\\^</code> - a <code>^</code> char</li>\n<li><code>-?</code> - an optional <code>-</code></li>\n<li><code>\\d+</code> - one or more digits</li>\n</ul>\n<p>To support numbers with fractions, you might further tweak the regex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;-?\\\\d+(?:\\\\.\\\\d+)?x\\\\^-?\\\\d+(?:\\\\.\\\\d+)?&quot;);\nPattern p = Pattern.compile(&quot;-?\\\\d*\\\\.?\\\\d+x\\\\^-?\\\\d*\\\\.?\\\\d+&quot;);\n</code></pre>\n<p>Also, see <a href=\"https://stackoverflow.com/q/638565/3832970\">Parsing scientific notation sensibly?</a>.</p>\n"}],"owner":{"account_id":5705996,"reputation":588,"user_id":7966156,"display_name":"Nova"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69635097,"answer_count":1,"score":1,"last_activity_date":1634663456,"creation_date":1634662809,"question_id":69634969,"body_markdown":"I only want Strings with a very specific format to be allowed in my methods.\r\nThe format is &quot;Intx^Int&quot;. Here are some concrete examples:\r\n\r\n- &quot;5x^2&quot;\r\n- &quot;-21x^5&quot;\r\n- &quot;14x^-12&quot;\r\n\r\nI tried the following code, but it doesn&#39;t seem to work correctly:\r\n\r\n```java\r\nimport java.util.regex.Pattern;\r\n\r\nPattern p = Pattern.compile(&quot;\\\\dx^\\\\d&quot;);\r\nSystem.out.println(p.matcher(&quot;14x^-12&quot;).matches());\r\n\r\n```","title":"How to check if a String with integers matches a specific pattern in Java?","body":"<p>I only want Strings with a very specific format to be allowed in my methods.\nThe format is &quot;Intx^Int&quot;. Here are some concrete examples:</p>\n<ul>\n<li>&quot;5x^2&quot;</li>\n<li>&quot;-21x^5&quot;</li>\n<li>&quot;14x^-12&quot;</li>\n</ul>\n<p>I tried the following code, but it doesn't seem to work correctly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Pattern;\n\nPattern p = Pattern.compile(&quot;\\\\dx^\\\\d&quot;);\nSystem.out.println(p.matcher(&quot;14x^-12&quot;).matches());\n\n</code></pre>\n"},{"tags":["java","performance","javaagents","contextclassloader"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1634667936,"post_id":69635010,"comment_id":123085758,"body_markdown":"Exact java version?","body":"Exact java version?"},{"owner":{"account_id":20095995,"reputation":45,"user_id":14735526,"display_name":"Amarnath Reddy"},"score":0,"creation_date":1634727436,"post_id":69635010,"comment_id":123101258,"body_markdown":"1.8.0_275 and saw this on 11.0.10 also. So i think its not about version. I am using URLClassloader and trying to load the class. This cannot happen until the current classloader is parent to itself. I am clearly setting the current context classloader as the parent. Any thoughts ?","body":"1.8.0_275 and saw this on 11.0.10 also. So i think its not about version. I am using URLClassloader and trying to load the class. This cannot happen until the current classloader is parent to itself. I am clearly setting the current context classloader as the parent. Any thoughts ?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1634741722,"post_id":69635010,"comment_id":123107983,"body_markdown":"The version is important to make sense of the line number.","body":"The version is important to make sense of the line number."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1634743064,"post_id":69635010,"comment_id":123108642,"body_markdown":"Looks like this is Java 11: https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/lang/ClassLoader.java#L576. What java agent is attached?","body":"Looks like this is Java 11: <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/lang/ClassLoader.java#L576\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk11u/blob/master/src/java.base/share/&hellip;</a>. What java agent is attached?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634800726,"post_id":69635010,"comment_id":123124311,"body_markdown":"This is an interesting question. An [MCVE](https://stackoverflow.com/help/mcve) would be helpful.","body":"This is an interesting question. An <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> would be helpful."}],"owner":{"account_id":20095995,"reputation":45,"user_id":14735526,"display_name":"Amarnath Reddy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634663032,"creation_date":1634663032,"question_id":69635010,"body_markdown":"I have these filling up in the catalina log file causing disk space issues when javaagent is attached. I have no idea from where there are getting triggered. What could be the reason ?\r\n\r\n```\r\njava.lang.StackOverflowError\r\nat java.base/java.util.concurrent.ConcurrentHashMap.putIfAbsent(ConcurrentHashMap.java:1541)\r\nat java.base/java.lang.ClassLoader.getClassLoadingLock(ClassLoader.java:668)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:569)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:576)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:576)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:576)\r\n...........\r\n```","title":"java.lang.StackOverflowError when java.lang.ClassLoader.loadClass(ClassLoader.java:569)","body":"<p>I have these filling up in the catalina log file causing disk space issues when javaagent is attached. I have no idea from where there are getting triggered. What could be the reason ?</p>\n<pre><code>java.lang.StackOverflowError\nat java.base/java.util.concurrent.ConcurrentHashMap.putIfAbsent(ConcurrentHashMap.java:1541)\nat java.base/java.lang.ClassLoader.getClassLoadingLock(ClassLoader.java:668)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:569)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:576)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:576)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:576)\n...........\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12182300,"reputation":368,"user_id":8893384,"display_name":"Kathan Patel"},"score":0,"creation_date":1634740904,"post_id":69633872,"comment_id":123107603,"body_markdown":"Does my answer answered your query?","body":"Does my answer answered your query?"},{"owner":{"account_id":14854808,"reputation":21,"user_id":12005763,"display_name":"Mikkel Ontberg"},"score":0,"creation_date":1634751202,"post_id":69633872,"comment_id":123111882,"body_markdown":"It did perfectly","body":"It did perfectly"},{"owner":{"account_id":12182300,"reputation":368,"user_id":8893384,"display_name":"Kathan Patel"},"score":0,"creation_date":1634759902,"post_id":69633872,"comment_id":123115281,"body_markdown":"It will be helpful if you upvote the answer.","body":"It will be helpful if you upvote the answer."}],"answers":[{"tags":[],"owner":{"account_id":12182300,"reputation":368,"user_id":8893384,"display_name":"Kathan Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634662939,"creation_date":1634658937,"answer_id":69634091,"question_id":69633872,"body_markdown":"Mikkel, \r\nYour approach with storing data using shared preferences is perfect but I have some suggestions which can make this solution better and robust.\r\n\r\n - First of all, you should check the sharePreference value inside a splash screen. Which checks for the login flag and launch the LoginActivity if a user is not logged in and launch the HomeActivity if a user is logged in.\r\n\r\n - Second, I would suggest using [Androidx DataStore][1], which is a better version of shared preference and it can be asynchronous API so you can use it safely on the UI thread.\r\n\r\n - Don&#39;t forget to close your main activity after user login using the below code.\r\n\r\n        Intent intent = new Intent(this,MainActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        startActivity(intent);\r\n        finish();\r\n\r\nIf you need an example to handle this stuff better here is the [github-sample][2] which can be very helpful.\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/datastore\r\n  [2]: https://github.com/probelalkhan/android-login-signup-tutorial","title":"How to properly close login page?","body":"<p>Mikkel,\nYour approach with storing data using shared preferences is perfect but I have some suggestions which can make this solution better and robust.</p>\n<ul>\n<li><p>First of all, you should check the sharePreference value inside a splash screen. Which checks for the login flag and launch the LoginActivity if a user is not logged in and launch the HomeActivity if a user is logged in.</p>\n</li>\n<li><p>Second, I would suggest using <a href=\"https://developer.android.com/jetpack/androidx/releases/datastore\" rel=\"nofollow noreferrer\">Androidx DataStore</a>, which is a better version of shared preference and it can be asynchronous API so you can use it safely on the UI thread.</p>\n</li>\n<li><p>Don't forget to close your main activity after user login using the below code.</p>\n<pre><code> Intent intent = new Intent(this,MainActivity.class);\n intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n startActivity(intent);\n finish();\n</code></pre>\n</li>\n</ul>\n<p>If you need an example to handle this stuff better here is the <a href=\"https://github.com/probelalkhan/android-login-signup-tutorial\" rel=\"nofollow noreferrer\">github-sample</a> which can be very helpful.</p>\n"},{"tags":[],"owner":{"account_id":23081580,"reputation":21,"user_id":17193779,"display_name":"Nina Gos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634661086,"creation_date":1634661086,"answer_id":69634605,"question_id":69633872,"body_markdown":"**This is wrong:**\r\n \r\n     Intent intent = new Intent(this,MainActivity.class);\r\n     intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n     finish();\r\n     startActivity(intent);\r\n\r\nYou should use **&quot;startActivity&quot;** before **&quot;finish()&quot;**\r\n\r\n**Correctly:**\r\n\r\n     Intent intent = new Intent(this,MainActivity.class);\r\n     intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n     startActivity(intent);\r\n     finish();\r\n  ","title":"How to properly close login page?","body":"<p><strong>This is wrong:</strong></p>\n<pre><code> Intent intent = new Intent(this,MainActivity.class);\n intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n finish();\n startActivity(intent);\n</code></pre>\n<p>You should use <strong>&quot;startActivity&quot;</strong> before <strong>&quot;finish()&quot;</strong></p>\n<p><strong>Correctly:</strong></p>\n<pre><code> Intent intent = new Intent(this,MainActivity.class);\n intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n startActivity(intent);\n finish();\n</code></pre>\n"}],"owner":{"account_id":14854808,"reputation":21,"user_id":12005763,"display_name":"Mikkel Ontberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69634091,"answer_count":2,"score":2,"last_activity_date":1634662939,"creation_date":1634658079,"question_id":69633872,"body_markdown":"For example, first activity of app is `MainActiviy` which is basically 2 text fields (login and password) with a button. Pressing a button tells the database these text fields&#39; data so it can tell the program if the user is in database and password is correct.\r\n\r\nWhat I&#39;m used to is to create a bool flag field saved in `SharedPreference` so the program knows i already logged in my app recently so it can open my second activity, but it seems like wrong and weird solution.\r\n\r\nSo, how do I properly login into my app in theory?\r\n","title":"How to properly close login page?","body":"<p>For example, first activity of app is <code>MainActiviy</code> which is basically 2 text fields (login and password) with a button. Pressing a button tells the database these text fields' data so it can tell the program if the user is in database and password is correct.</p>\n<p>What I'm used to is to create a bool flag field saved in <code>SharedPreference</code> so the program knows i already logged in my app recently so it can open my second activity, but it seems like wrong and weird solution.</p>\n<p>So, how do I properly login into my app in theory?</p>\n"},{"tags":["java","annotations","javapoet"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634662903,"creation_date":1634662903,"answer_id":69634987,"question_id":69634875,"body_markdown":"JavaPoet emits source code, nothing else.  It can&#39;t consume the source code of an existing class.\r\n\r\nYou could emit a method with it and insert it into the body of a class some other way, but that&#39;s as good as it gets.","title":"Is it possible to just add method to class with Java Poet?","body":"<p>JavaPoet emits source code, nothing else.  It can't consume the source code of an existing class.</p>\n<p>You could emit a method with it and insert it into the body of a class some other way, but that's as good as it gets.</p>\n"}],"owner":{"account_id":19851183,"reputation":58,"user_id":14541639,"display_name":"Kristjan Bulič"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69634987,"answer_count":1,"score":0,"last_activity_date":1634662903,"creation_date":1634662298,"question_id":69634875,"body_markdown":"I am wondering if is it possible to add method to class without having to rewrite whole class again using Java Poet?\r\n\r\nThanks","title":"Is it possible to just add method to class with Java Poet?","body":"<p>I am wondering if is it possible to add method to class without having to rewrite whole class again using Java Poet?</p>\n<p>Thanks</p>\n"},{"tags":["java","class","object","oop"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1634660788,"post_id":69634451,"comment_id":123083214,"body_markdown":"Objects are an instance of a class. A class is a template, a description of the characteristics and behaviour of something. An object is an specific case of that something. Both of  your examples are static methods being called. Normally, methods must be called on an instance of a class (that is to say, on an object). Static methods can be called without instantiating a class, as they represent behaviour common to all possible instances of a class.","body":"Objects are an instance of a class. A class is a template, a description of the characteristics and behaviour of something. An object is an specific case of that something. Both of  your examples are static methods being called. Normally, methods must be called on an instance of a class (that is to say, on an object). Static methods can be called without instantiating a class, as they represent behaviour common to all possible instances of a class."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634661937,"post_id":69634451,"comment_id":123083663,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":9294664,"reputation":18,"user_id":6902008,"display_name":"John Henry "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634662612,"creation_date":1634661715,"answer_id":69634736,"question_id":69634451,"body_markdown":"&quot;Objects&quot; usually refers to instances of classes but sometimes the terms classes and objects are used interchangeably so that might be what is happening here with your professor. There are Integer, Float, etc, classes which you can instantiate to make Integer, float, etc objects. \r\nSo for example:\r\n\r\n    Integer num = new Integer(5); //&quot;Integer&quot; is the class and you are instantiating that class to make an Integer object called &quot;num&quot;\r\n    int n = Integer.parseInt(&quot;5&quot;); //&quot;Integer&quot; is the class and you are calling the static method of that class &quot;parseInt&quot; which returns an int \r\n\r\nThe Math class is a class that you cannot instantiate because it doesn&#39;t have a constructor. It just has static methods that you can call. Since you can&#39;t instantiate it as an object it is not technically proper to refer to it as an object. \r\n","title":"Are Wrapper Classes considered Objects? Or are they just Class? (JAVA)","body":"<p>&quot;Objects&quot; usually refers to instances of classes but sometimes the terms classes and objects are used interchangeably so that might be what is happening here with your professor. There are Integer, Float, etc, classes which you can instantiate to make Integer, float, etc objects.\nSo for example:</p>\n<pre><code>Integer num = new Integer(5); //&quot;Integer&quot; is the class and you are instantiating that class to make an Integer object called &quot;num&quot;\nint n = Integer.parseInt(&quot;5&quot;); //&quot;Integer&quot; is the class and you are calling the static method of that class &quot;parseInt&quot; which returns an int \n</code></pre>\n<p>The Math class is a class that you cannot instantiate because it doesn't have a constructor. It just has static methods that you can call. Since you can't instantiate it as an object it is not technically proper to refer to it as an object.</p>\n"}],"owner":{"account_id":23081689,"reputation":37,"user_id":17193876,"display_name":"Punish_me_er"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69634736,"answer_count":1,"score":-1,"last_activity_date":1634662612,"creation_date":1634660425,"question_id":69634451,"body_markdown":"I kept on searching for answers about this and I am unfortunate.\r\n\r\nI&#39;m just a little confused as my professor is teaching me something that contradicts what I learned from online.\r\n\r\nInteger, Double, Float, Character etc. are wrapper &#39;Classes&#39; from what I know. Yet, my college professor keep referring to it as Object. May I also include that he calls Math an object too.\r\n\r\nHere&#39;s some example on how he says it:\r\n\r\n&quot;To get the absolute value of an int, we need to call the abs() method from Math *object*&quot;\r\n\r\nor\r\n\r\n&quot;In *Integer.parseInt()*, Integer is an *object* while parseInt() is the method.&quot;\r\n\r\nSo, can Wrapper classes be referred to as objects?\r\n\r\nSorry if this is supposed to be something easy to understand. I&#39;m just confused &#39;cause iirc those he referred to as objects are called Classes.","title":"Are Wrapper Classes considered Objects? Or are they just Class? (JAVA)","body":"<p>I kept on searching for answers about this and I am unfortunate.</p>\n<p>I'm just a little confused as my professor is teaching me something that contradicts what I learned from online.</p>\n<p>Integer, Double, Float, Character etc. are wrapper 'Classes' from what I know. Yet, my college professor keep referring to it as Object. May I also include that he calls Math an object too.</p>\n<p>Here's some example on how he says it:</p>\n<p>&quot;To get the absolute value of an int, we need to call the abs() method from Math <em>object</em>&quot;</p>\n<p>or</p>\n<p>&quot;In <em>Integer.parseInt()</em>, Integer is an <em>object</em> while parseInt() is the method.&quot;</p>\n<p>So, can Wrapper classes be referred to as objects?</p>\n<p>Sorry if this is supposed to be something easy to understand. I'm just confused 'cause iirc those he referred to as objects are called Classes.</p>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":2,"creation_date":1480447438,"post_id":40874111,"comment_id":68963356,"body_markdown":"What does it even mean to add two dates together?","body":"What does it even mean to add two dates together?"},{"owner":{"account_id":402857,"reputation":13631,"user_id":770270,"accept_rate":75,"display_name":"tnw"},"score":0,"creation_date":1480447569,"post_id":40874111,"comment_id":68963434,"body_markdown":"Have you tried anything? This is clearly homework which we are not going to do for you.","body":"Have you tried anything? This is clearly homework which we are not going to do for you."},{"owner":{"account_id":9748007,"reputation":1,"user_id":7227287,"display_name":"kden9798"},"score":0,"creation_date":1480447624,"post_id":40874111,"comment_id":68963461,"body_markdown":"like: (01-01-1000)+(01-01-1000) = (02-02-2000)","body":"like: (01-01-1000)+(01-01-1000) = (02-02-2000)"},{"owner":{"account_id":9748007,"reputation":1,"user_id":7227287,"display_name":"kden9798"},"score":0,"creation_date":1480447670,"post_id":40874111,"comment_id":68963490,"body_markdown":"It is indeed homework. I am not expecting you to do it for me but I just cannot get my head around it. Maybe if you have an idea you might try and explain it to me so I can do it myself?","body":"It is indeed homework. I am not expecting you to do it for me but I just cannot get my head around it. Maybe if you have an idea you might try and explain it to me so I can do it myself?"},{"owner":{"account_id":402857,"reputation":13631,"user_id":770270,"accept_rate":75,"display_name":"tnw"},"score":0,"creation_date":1480447709,"post_id":40874111,"comment_id":68963510,"body_markdown":"Presumably you have some base code with the date object? You&#39;ll need to convert your date into some summable unit like days as you said. Not sure how else to guide you without doing it for you.","body":"Presumably you have some base code with the date object? You&#39;ll need to convert your date into some summable unit like days as you said. Not sure how else to guide you without doing it for you."},{"owner":{"account_id":9748007,"reputation":1,"user_id":7227287,"display_name":"kden9798"},"score":0,"creation_date":1480447956,"post_id":40874111,"comment_id":68963640,"body_markdown":"Yes I have a way of converting a date into summable days but I cannot figure out how to convert it back into a date","body":"Yes I have a way of converting a date into summable days but I cannot figure out how to convert it back into a date"},{"owner":{"account_id":74561,"reputation":4982,"user_id":214178,"accept_rate":100,"display_name":"artdanil"},"score":1,"creation_date":1480448035,"post_id":40874111,"comment_id":68963681,"body_markdown":"A good place to start (regarding questions on SO in general, not dates) is to read [How to ask questions?](http://stackoverflow.com/help/how-to-ask) article.","body":"A good place to start (regarding questions on SO in general, not dates) is to read <a href=\"http://stackoverflow.com/help/how-to-ask\">How to ask questions?</a> article."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1480458295,"post_id":40874111,"comment_id":68968850,"body_markdown":"@kden9798 Post further info (such as being homework) as edits to your Question rather than as Comments. Also, your example of adding two dates makes no sense, has no meaning. Think through your problem (the business rules) thoroughly before you start programming.","body":"@kden9798 Post further info (such as being homework) as edits to your Question rather than as Comments. Also, your example of adding two dates makes no sense, has no meaning. Think through your problem (the business rules) thoroughly before you start programming."}],"answers":[{"tags":[],"owner":{"account_id":5891339,"reputation":1,"user_id":4637859,"display_name":"Arthur Vidal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480448917,"creation_date":1480448917,"answer_id":40874558,"question_id":40874111,"body_markdown":"If your are working with Java 7, it is easier to code with Calendar.\r\nIt comes with the JDK.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html","title":"How to add dates in java without any libraries","body":"<p>If your are working with Java 7, it is easier to code with Calendar.\nIt comes with the JDK.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html</a></p>\n"},{"tags":[],"owner":{"account_id":22397210,"reputation":13,"user_id":16608289,"display_name":"Aniket"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634661992,"creation_date":1634661992,"answer_id":69634802,"question_id":40874111,"body_markdown":"    public class Date {\r\n\tprivate int day;\r\n\tprivate int month;\r\n\tpublic int year;\r\n\t\r\n\tprivate int [] noOfDays = {0,31,28,31,30,31,30,31,31,30,31,30,31};\r\n\t\t\t\r\n\tpublic int getDay() {\r\n\t\treturn day;\r\n\t}\r\n\tpublic void setDate(int tmpDay, int tmpMonth, int tmpYear) \r\n\t{\r\n\t\tif(tmpYear &gt; 2200 || tmpYear &lt; 1900)\r\n\t\t\tyear = 2021;\r\n\t\telse\r\n\t\t\tyear = tmpYear;\r\n\t\tif(tmpMonth &gt; 12 || tmpMonth &lt; 1)\r\n\t\t\tmonth = 1;\r\n\t\telse month = tmpMonth;\r\n\t\t\r\n\t\tif(isLeapYear(tmpYear))\r\n\t\t\tnoOfDays[2]=29;\r\n\t\telse\r\n\t\t\tnoOfDays[2]=28;\r\n\t\t\r\n\t\tif(tmpDay &gt; noOfDays[month] || tmpDay &lt; 1)\r\n\t\t\tday=1;\r\n\t\telse\r\n\t\t\tday = tmpDay;\r\n\t}\r\n\t\r\n\tpublic boolean isLeapYear(int tmpYear)\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\tpublic void addDays(int noOfDaysToAdd)\r\n\t{\r\n\t\tfor(int iTemp=0; iTemp &lt; noOfDaysToAdd; iTemp++)\r\n\t\t{\r\n\t\t\tday++;\r\n\t\t\tif(day &gt; noOfDays[month])\r\n\t\t\t{\r\n\t\t\t\tday = 1;\r\n\t\t\t\tmonth++;\r\n\t\t\t\tif(month &gt; 12)\r\n\t\t\t\t{\r\n\t\t\t\t\tmonth = 1;\r\n\t\t\t\t\tyear++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nSomething like this to addDays in a Date, I believe you can write a method to addMonths, addYears &amp; a main class without any help.","title":"How to add dates in java without any libraries","body":"<pre><code>public class Date {\nprivate int day;\nprivate int month;\npublic int year;\n\nprivate int [] noOfDays = {0,31,28,31,30,31,30,31,31,30,31,30,31};\n        \npublic int getDay() {\n    return day;\n}\npublic void setDate(int tmpDay, int tmpMonth, int tmpYear) \n{\n    if(tmpYear &gt; 2200 || tmpYear &lt; 1900)\n        year = 2021;\n    else\n        year = tmpYear;\n    if(tmpMonth &gt; 12 || tmpMonth &lt; 1)\n        month = 1;\n    else month = tmpMonth;\n    \n    if(isLeapYear(tmpYear))\n        noOfDays[2]=29;\n    else\n        noOfDays[2]=28;\n    \n    if(tmpDay &gt; noOfDays[month] || tmpDay &lt; 1)\n        day=1;\n    else\n        day = tmpDay;\n}\n\npublic boolean isLeapYear(int tmpYear)\n{\n    return true;\n}\npublic void addDays(int noOfDaysToAdd)\n{\n    for(int iTemp=0; iTemp &lt; noOfDaysToAdd; iTemp++)\n    {\n        day++;\n        if(day &gt; noOfDays[month])\n        {\n            day = 1;\n            month++;\n            if(month &gt; 12)\n            {\n                month = 1;\n                year++;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Something like this to addDays in a Date, I believe you can write a method to addMonths, addYears &amp; a main class without any help.</p>\n"}],"owner":{"account_id":9748007,"reputation":1,"user_id":7227287,"display_name":"kden9798"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1634661992,"creation_date":1480447309,"question_id":40874111,"body_markdown":"I have a Date-Object that consists of (day,month,year) and I need to write methods to add days, months or entire dates to a first date without using any libraries. I kind of figured it has to do with converting a date to all days since a certain point and converting back but I just can&#39;t figure it out.\r\n\r\nThanks in advance","title":"How to add dates in java without any libraries","body":"<p>I have a Date-Object that consists of (day,month,year) and I need to write methods to add days, months or entire dates to a first date without using any libraries. I kind of figured it has to do with converting a date to all days since a certain point and converting back but I just can't figure it out.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1634659063,"post_id":69634092,"comment_id":123082474,"body_markdown":"`if (a[i].isLocalShipment()) { local += [i].calcCost(); }`","body":"<code>if (a[i].isLocalShipment()) { local += [i].calcCost(); }</code>"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1634662424,"post_id":69634092,"comment_id":123083861,"body_markdown":"1. You get `NullPointerException` in `a[i].isLocalShipment()` -- array `a` is empty and contains only `null` values.  In array `arr` only one element is populated.  Do you need to get the cost only for `r1`? 2. In setter `setFromAddress` nothing is saved. 3. Strings have to be compared using [`equals` NOT `==`](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java).","body":"1. You get <code>NullPointerException</code> in <code>a[i].isLocalShipment()</code> -- array <code>a</code> is empty and contains only <code>null</code> values.  In array <code>arr</code> only one element is populated.  Do you need to get the cost only for <code>r1</code>? 2. In setter <code>setFromAddress</code> nothing is saved. 3. Strings have to be compared using <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\"><code>equals</code> NOT <code>==</code></a>."}],"owner":{"account_id":22639875,"reputation":3,"user_id":16816205,"display_name":"O H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634661959,"creation_date":1634658939,"question_id":69634092,"body_markdown":"Assuming that the array is populated with 20 shipments, calculate the total cost of local shipments in the array.\r\n\r\nI tried to create a for loop and then call out the method `calcCost()` and `+=` it to the variable local so it would save the values I guess\r\n\r\nI&#39;m pretty sure the way I wrote the code is wrong so if someone could help me with it that would be great! \r\n```java\r\npackage question;\r\n\r\npublic class TestShipment {\r\n\r\n    public static void main(String[] args) {\r\n   \r\n        Shipment r1 = new Shipment(\r\n            new Parcel(&quot;scientific calculator  &quot; , 250),\r\n            new Address(&quot;Dubai&quot;,&quot;05512345678&quot;),\r\n            new Address(&quot;Dubai&quot;,&quot;0505432123&quot;),\r\n            &quot;Salim&quot;\r\n        );\r\n        System.out.println(r1);\r\n        \r\n        Shipment[] arr = new Shipment[100];\r\n        arr[5] = r1;\r\n        \r\n        Shipment[] a = new Shipment[20];\r\n        \r\n        double local = 0;\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            if (a[i].isLocalShipment()) {\r\n                System.out.println(a[i].calcCost());\r\n            }\r\n        }\r\n    }\r\n}\r\n```     \r\n```java\r\npublic class Shipment {\r\n    public Parcel item;\r\n    private Address fromAddress;\r\n    private Address toAddress;\r\n    public String senderName;\r\n\r\n    public Shipment(Parcel i, Address f, Address t, String name) {\r\n        item = i;\r\n        fromAddress = f;\r\n        toAddress = t;\r\n        senderName = name;\r\n    }\r\n\r\n    //setter \r\n    public void setFromAddress(String c, String p) {\r\n        c =  fromAddress.getCity(); \r\n        p =  fromAddress.getPhone();\r\n    }\r\n\r\n    public boolean isLocalShipment() {\r\n        boolean v = false;\r\n        if (fromAddress.getCity() == toAddress.getCity()) {\r\n            v = true;\r\n        } else {\r\n            v = false;\r\n        }\r\n        return v;\r\n    }\r\n\r\n    public double calcCost() {\r\n        double cost = 0;\r\n        if (fromAddress.getCity() == toAddress.getCity()) {\r\n            cost = 5;\r\n        } else {\r\n            cost = 15;\r\n        }\r\n        if(item.weight &gt; 0 &amp;&amp; item.weight &lt;= 200) {\r\n            cost += 5.5;\r\n        }\r\n        if(item.weight &gt; 200) {\r\n            cost += 10.5;\r\n        }\r\n        return cost = cost * (1 + 0.5); //fix the tax \r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;From: &quot; + senderName + &quot;\\nTo: &quot; + toAddress \r\n            + &quot;\\nParcel: &quot; + item.desc+item.weight + &quot;\\ncost: &quot; + calcCost();\r\n    }\r\n}\r\n```\r\n","title":"How to use array of objects in this context?","body":"<p>Assuming that the array is populated with 20 shipments, calculate the total cost of local shipments in the array.</p>\n<p>I tried to create a for loop and then call out the method <code>calcCost()</code> and <code>+=</code> it to the variable local so it would save the values I guess</p>\n<p>I'm pretty sure the way I wrote the code is wrong so if someone could help me with it that would be great!</p>\n<pre class=\"lang-java prettyprint-override\"><code>package question;\n\npublic class TestShipment {\n\n    public static void main(String[] args) {\n   \n        Shipment r1 = new Shipment(\n            new Parcel(&quot;scientific calculator  &quot; , 250),\n            new Address(&quot;Dubai&quot;,&quot;05512345678&quot;),\n            new Address(&quot;Dubai&quot;,&quot;0505432123&quot;),\n            &quot;Salim&quot;\n        );\n        System.out.println(r1);\n        \n        Shipment[] arr = new Shipment[100];\n        arr[5] = r1;\n        \n        Shipment[] a = new Shipment[20];\n        \n        double local = 0;\n        for (int i = 0; i &lt; a.length; i++) {\n            if (a[i].isLocalShipment()) {\n                System.out.println(a[i].calcCost());\n            }\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Shipment {\n    public Parcel item;\n    private Address fromAddress;\n    private Address toAddress;\n    public String senderName;\n\n    public Shipment(Parcel i, Address f, Address t, String name) {\n        item = i;\n        fromAddress = f;\n        toAddress = t;\n        senderName = name;\n    }\n\n    //setter \n    public void setFromAddress(String c, String p) {\n        c =  fromAddress.getCity(); \n        p =  fromAddress.getPhone();\n    }\n\n    public boolean isLocalShipment() {\n        boolean v = false;\n        if (fromAddress.getCity() == toAddress.getCity()) {\n            v = true;\n        } else {\n            v = false;\n        }\n        return v;\n    }\n\n    public double calcCost() {\n        double cost = 0;\n        if (fromAddress.getCity() == toAddress.getCity()) {\n            cost = 5;\n        } else {\n            cost = 15;\n        }\n        if(item.weight &gt; 0 &amp;&amp; item.weight &lt;= 200) {\n            cost += 5.5;\n        }\n        if(item.weight &gt; 200) {\n            cost += 10.5;\n        }\n        return cost = cost * (1 + 0.5); //fix the tax \n    }\n\n    public String toString() {\n        return &quot;From: &quot; + senderName + &quot;\\nTo: &quot; + toAddress \n            + &quot;\\nParcel: &quot; + item.desc+item.weight + &quot;\\ncost: &quot; + calcCost();\n    }\n}\n</code></pre>\n"},{"tags":["java","upload","uri"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634661358,"creation_date":1634661358,"answer_id":69634663,"question_id":69634340,"body_markdown":"That does not look like a valid `file:` URL. On Windows you could try to check if a file is accessible from a remote server if `dir` works in `CMD.EXE`. For example, try UNC pathname:\r\n\r\n    dir \\\\IP_OR_HOSTNAME\\NAMEOFSHARE\\path\\etc\\filename.xyz\r\n\r\n**If** that works - and that rather depends on whether the remote server is serving that filesystem as `NAMEOFSHARE` - then the equivalent `file:` encoding of above would be:\r\n\r\n    String u = new File(&quot;\\\\\\\\IP_OR_HOSTNAME\\\\NAMEOFSHARE\\\\path\\\\etc\\\\filename.xyz&quot;).toURL().toString();\r\n    ==&gt; &quot;file://IP_OR_HOSTNAME/NAMEOFSHARE/path/etc/filename.xyz&quot;\r\n\r\n","title":"Contents and format of URI when uploading or downloading file","body":"<p>That does not look like a valid <code>file:</code> URL. On Windows you could try to check if a file is accessible from a remote server if <code>dir</code> works in <code>CMD.EXE</code>. For example, try UNC pathname:</p>\n<pre><code>dir \\\\IP_OR_HOSTNAME\\NAMEOFSHARE\\path\\etc\\filename.xyz\n</code></pre>\n<p><strong>If</strong> that works - and that rather depends on whether the remote server is serving that filesystem as <code>NAMEOFSHARE</code> - then the equivalent <code>file:</code> encoding of above would be:</p>\n<pre><code>String u = new File(&quot;\\\\\\\\IP_OR_HOSTNAME\\\\NAMEOFSHARE\\\\path\\\\etc\\\\filename.xyz&quot;).toURL().toString();\n==&gt; &quot;file://IP_OR_HOSTNAME/NAMEOFSHARE/path/etc/filename.xyz&quot;\n</code></pre>\n"}],"owner":{"account_id":13678259,"reputation":19,"user_id":9869203,"display_name":"HLGallon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634661358,"creation_date":1634659927,"question_id":69634340,"body_markdown":"I have an application which is an API on a server (say 192.168.0.2), to which files (of any format) can be uploaded or from which they can be downloaded.\r\n\r\nIf an application on another machine on the network (say 192.196.0.3) wants to upload a file to the API, it passes the information in a JSON Object e.g. { &quot;FILE_LOCATION&quot;:&quot;file:/192.168.0.3/c:/testDocs/testFile.docx&quot; }\r\n\r\nThe code in the api goes roughly:\r\n\r\n    private static void doPost (HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\r\n    {\r\n        String errorMessage = &quot;&quot;;\r\n        try\r\n        {\r\n            String src = request.getParameter (&quot;src&quot;);\r\n            Object obj = jsonParser.parse (src);\r\n            JSONObject jsonObj = (JSONObject) obj;\r\n\r\n            String fileLocation = (String) jsonObj.get (&quot;FILE_LOCATION&quot;);\r\n            URI uri = new URI (fileLocation);\r\n            URL url = uri.toURL ();    // get URL from your uri object\r\n            URLConnection urlConnection = url.openConnection ();\r\n            InputStream is = urlConnection.getInputStream ();\r\n\r\n            System.out.println (&quot;InputStream = &quot; + is);\r\n            if (is != null)\r\n            {\r\n                // create output file, output stream etc\r\n            }\r\n        }\r\n        catch (Exception e)\r\n        {\r\n    \t    errorMessage = e.getMessage ();\r\n            System.out.println (e.getClass().getName () + &quot; : &quot; + errorMessage);\r\n        }\r\n\r\n        PrintWriter pw = response.getWriter ();\r\n        pw.append (errorMessage);\r\n    }\r\n\r\nThe system log invariably shows something like:\r\n&quot;java.io.FileNotFoundException : 192.168.0.3/c:/testDocs/testFile.docx (No such file or directory)&quot;\r\n\r\nWhat am I doing wrong? I am convinced that the fault lies in the way I have constructed the String which will be used to create the URI.\r\n","title":"Contents and format of URI when uploading or downloading file","body":"<p>I have an application which is an API on a server (say 192.168.0.2), to which files (of any format) can be uploaded or from which they can be downloaded.</p>\n<p>If an application on another machine on the network (say 192.196.0.3) wants to upload a file to the API, it passes the information in a JSON Object e.g. { &quot;FILE_LOCATION&quot;:&quot;file:/192.168.0.3/c:/testDocs/testFile.docx&quot; }</p>\n<p>The code in the api goes roughly:</p>\n<pre><code>private static void doPost (HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\n{\n    String errorMessage = &quot;&quot;;\n    try\n    {\n        String src = request.getParameter (&quot;src&quot;);\n        Object obj = jsonParser.parse (src);\n        JSONObject jsonObj = (JSONObject) obj;\n\n        String fileLocation = (String) jsonObj.get (&quot;FILE_LOCATION&quot;);\n        URI uri = new URI (fileLocation);\n        URL url = uri.toURL ();    // get URL from your uri object\n        URLConnection urlConnection = url.openConnection ();\n        InputStream is = urlConnection.getInputStream ();\n\n        System.out.println (&quot;InputStream = &quot; + is);\n        if (is != null)\n        {\n            // create output file, output stream etc\n        }\n    }\n    catch (Exception e)\n    {\n        errorMessage = e.getMessage ();\n        System.out.println (e.getClass().getName () + &quot; : &quot; + errorMessage);\n    }\n\n    PrintWriter pw = response.getWriter ();\n    pw.append (errorMessage);\n}\n</code></pre>\n<p>The system log invariably shows something like:\n&quot;java.io.FileNotFoundException : 192.168.0.3/c:/testDocs/testFile.docx (No such file or directory)&quot;</p>\n<p>What am I doing wrong? I am convinced that the fault lies in the way I have constructed the String which will be used to create the URI.</p>\n"},{"tags":["java","colors"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1634653020,"post_id":69627445,"comment_id":123079558,"body_markdown":"You have told us what your requirements are, and you have shown your code.  That’s good.  Now we just need to know what problem you’re having with it.  What result did you expect?  What result are you seeing instead?","body":"You have told us what your requirements are, and you have shown your code.  That’s good.  Now we just need to know what problem you’re having with it.  What result did you expect?  What result are you seeing instead?"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634661115,"creation_date":1634661115,"answer_id":69634612,"question_id":69627445,"body_markdown":"I assume the question is in the title, how to display your nice HTML.\r\n\r\nInstead of\r\n\r\n     System.out.println(&quot;&lt;html&gt;\\r\\n&lt;body&gt;\\r\\n&lt;tt&gt;\\r\\n&quot;);\r\n     System.out.println(txt);\r\n     System.out.println(&quot;\\r\\n&lt;/tt&gt;\\r\\n&lt;/body&gt;\\r\\n&lt;/html&gt;&quot;);\r\n\r\nMake txt the complete HTML content.\r\n\r\n     txt = &quot;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;/&gt;&lt;/head&gt;\\r\\n&quot;\r\n         + &quot;&lt;body&gt;\\r\\n&lt;tt&gt;\\r\\n&quot; \r\n         + txt + &quot;\\r\\n&lt;/tt&gt;\\r\\n&lt;/body&gt;\\r\\n&lt;/html&gt;&quot;;\r\n\r\nI added the charset UTF-8.\r\n\r\nThen save the HTML:\r\n\r\n    Path htmlPath = Paths.get(args[0] + &quot;.html&quot;); // Or a temporary file:\r\n    Path htmlPath = Files.createTempFile(&quot;nice-&quot;, &quot;.html&quot;);\r\n    Files.writeString(htmlPath, txt);\r\n\r\n\r\nNow let the operating system open (display) it:\r\n\r\n    Desktop.getDesktop().browse(htmlPath.toUri());","title":"How to Enable the display?","body":"<p>I assume the question is in the title, how to display your nice HTML.</p>\n<p>Instead of</p>\n<pre><code> System.out.println(&quot;&lt;html&gt;\\r\\n&lt;body&gt;\\r\\n&lt;tt&gt;\\r\\n&quot;);\n System.out.println(txt);\n System.out.println(&quot;\\r\\n&lt;/tt&gt;\\r\\n&lt;/body&gt;\\r\\n&lt;/html&gt;&quot;);\n</code></pre>\n<p>Make txt the complete HTML content.</p>\n<pre><code> txt = &quot;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;/&gt;&lt;/head&gt;\\r\\n&quot;\n     + &quot;&lt;body&gt;\\r\\n&lt;tt&gt;\\r\\n&quot; \n     + txt + &quot;\\r\\n&lt;/tt&gt;\\r\\n&lt;/body&gt;\\r\\n&lt;/html&gt;&quot;;\n</code></pre>\n<p>I added the charset UTF-8.</p>\n<p>Then save the HTML:</p>\n<pre><code>Path htmlPath = Paths.get(args[0] + &quot;.html&quot;); // Or a temporary file:\nPath htmlPath = Files.createTempFile(&quot;nice-&quot;, &quot;.html&quot;);\nFiles.writeString(htmlPath, txt);\n</code></pre>\n<p>Now let the operating system open (display) it:</p>\n<pre><code>Desktop.getDesktop().browse(htmlPath.toUri());\n</code></pre>\n"}],"owner":{"account_id":23077066,"reputation":3,"user_id":17189879,"display_name":"BrYan Hsieh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69634612,"answer_count":1,"score":0,"last_activity_date":1634661115,"creation_date":1634632034,"question_id":69627445,"body_markdown":"How to do setting:\r\n\r\n1. Enable the display of &amp;nbsp; &amp;lt; and &amp;gt; (that you use in your Java source codes) as &amp;nbsp; &amp;lt; and &amp;gt; respectively, not as a white space &#39; &#39;, &lt; and &gt;; \r\n\r\n2. Color String literals in String markers &quot;...&quot; with gray and ensure double slashes &quot;//&quot; in any String literal to have the right color gray, not green;\r\n\r\n3. Color comment blocks in between /* ... */ with green. \r\n\r\n\r\n        import java.io.*; \r\n    \r\n        class java2colorHTML { \r\n        \r\n        public static String [] modifiers = {&quot;class&quot;, &quot;public&quot;, &quot;private&quot;, &quot;static&quot;, &quot;void&quot;, &quot;int&quot;, &quot;long&quot;, }; \r\n        public static String [] other_keywords  = {&quot;import&quot;, &quot;throws&quot;, &quot;new&quot;, &quot;null&quot;, &quot;true&quot;, &quot;false&quot;, &quot;for&quot;, &quot;while&quot;, &quot;do&quot;, &quot;if&quot;, &quot;else&quot;, &quot;break&quot;, &quot;return&quot;, &quot;continue&quot;,}; // still need to collect many many more\r\n        \r\n        public static void main(String [] args) throws IOException { \r\n        // running: java java2colorHTML &lt;fn.java&gt;\r\n    \r\n        String txt = myIO.readFile(args[0]); \r\n            \r\n            txt = txt.replace(&quot;&lt;&quot;, &quot;&amp;lt;&quot;);\r\n            txt = txt.replace(&quot;&gt;&quot;, &quot;&amp;gt;&quot;); // need to be done before &quot;&lt;br&gt;&quot; gets in!        \r\n            txt = txt.replace(&quot;\\r\\n|\\n&quot;, &quot;&lt;br&gt;&quot;); // line break        \r\n            txt = txt.replace(&quot; &quot;, &quot;&amp;nbsp;&quot;);\r\n            txt = txt.replace(&quot;\\t&quot;, &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;); // unicode &#39;\\u0009&#39; for tab\r\n            \r\n            for (String w : modifiers) { \r\n                txt = txt.replaceAll(w + &quot;&amp;nbsp;&quot;, &quot;&lt;font color=\\&quot;#aa33ff\\&quot;&gt;&quot; + w + &quot;&lt;/font&gt;&amp;nbsp;&quot;);\r\n                // txt = txt.replaceAll(&quot; &quot; +w, &quot;&lt;font color=\\&quot;#9933ee\\&quot;&gt; &quot; + w + &quot;&lt;/font&gt;&quot;);\r\n            }\r\n            for (String w : other_keywords) {\r\n                txt = txt.replaceAll(w + &quot;&amp;nbsp;&quot;, &quot;&lt;font color=\\&quot;#3333ff\\&quot;&gt;&quot; + w + &quot;&lt;/font&gt;&amp;nbsp;&quot;);\r\n                txt = txt.replaceAll(&quot;&amp;nbsp;&quot; + w, &quot;&amp;nbsp;&lt;font color=\\&quot;#3333ff\\&quot;&gt;&quot; + w + &quot;&lt;/font&gt;&quot;);\r\n                txt = txt.replaceAll(&quot;\\\\(&quot; + w + &quot;\\\\)&quot;, &quot;(&lt;font color=\\&quot;#3333ff\\&quot;&gt;&quot; + w + &quot;&lt;/font&gt;)&quot;);\r\n            }\r\n    \r\n            int bgn = 0;\r\n            while (true) { // colour comment lines, if any\r\n                bgn = txt.indexOf(&quot;\\&quot;&quot;, bgn == 0 ? 0 : bgn+1); // get next bgn\r\n                if (bgn == -1) break; // if no more literal strings\r\n                int end = txt.indexOf(&quot;\\&quot;&quot;, bgn+1); //find line break after bgn\r\n    \r\n                String str_Literals = txt.substring(bgn+1, end); // get current literal strings quote to the end\r\n                str_Literals = str_Literals.replaceAll(&quot;&lt;/*[^&lt;&gt;]+&gt;&quot;, &quot;&quot;); // remove embedded font tags, if any\r\n                str_Literals = &quot;&lt;font color= \\&quot;#a3a3a3\\&quot;&gt;&quot; + str_Literals + &quot;&lt;/font&gt;&quot;; // coloring the literals\r\n                txt = txt.substring(0, bgn) + str_Literals + \r\n                      txt.substring(end);\r\n                bgn += str_Literals.length(); // set bgn to the end of current literals\r\n                                              // avoid a bug here, because txt has been changed!\r\n    \r\n            }\r\n    \r\n        \r\n            bgn = 0;\r\n            while (true) { // color comment lines, if any\r\n                bgn = txt.indexOf(&quot;//&quot;, bgn == 0 ? 0 : bgn+1); // get next bgn\r\n                if (bgn == -1) break; // if no more comment\r\n                int end = txt.indexOf(&quot;&lt;br&gt;&quot;, bgn); // find line break after bgn\r\n                String comment = txt.substring(bgn, end); // get current comment\r\n                comment = comment.replaceAll(&quot;&lt;/*[^&lt;&gt;]+&gt;&quot;, &quot;&quot;); // remove embedded font tags, if any\r\n                comment = &quot;&lt;font color=\\&quot;#009900\\&quot;&gt;&quot; + comment + &quot;&lt;/font&gt;&quot;; // coloring a comment\r\n                txt = txt.substring(0, bgn) + comment +\r\n                      txt.substring(end);\r\n                bgn += comment.length(); // set bgn to the end of current comment\r\n                                         // avoid a bug here, because txt has been changed!\r\n            }\r\n    \r\n            System.out.println(&quot;&lt;html&gt;\\r\\n&lt;body&gt;\\r\\n&lt;tt&gt;\\r\\n&quot;);\r\n            System.out.println(txt);\r\n            System.out.println(&quot;\\r\\n&lt;/tt&gt;\\r\\n&lt;/body&gt;\\r\\n&lt;/html&gt;&quot;);\r\n           \r\n        }\r\n       } ","title":"How to Enable the display?","body":"<p>How to do setting:</p>\n<ol>\n<li><p>Enable the display of   &lt; and &gt; (that you use in your Java source codes) as   &lt; and &gt; respectively, not as a white space ' ', &lt; and &gt;;</p>\n</li>\n<li><p>Color String literals in String markers &quot;...&quot; with gray and ensure double slashes &quot;//&quot; in any String literal to have the right color gray, not green;</p>\n</li>\n<li><p>Color comment blocks in between /* ... */ with green.</p>\n<pre><code> import java.io.*; \n\n class java2colorHTML { \n\n public static String [] modifiers = {&quot;class&quot;, &quot;public&quot;, &quot;private&quot;, &quot;static&quot;, &quot;void&quot;, &quot;int&quot;, &quot;long&quot;, }; \n public static String [] other_keywords  = {&quot;import&quot;, &quot;throws&quot;, &quot;new&quot;, &quot;null&quot;, &quot;true&quot;, &quot;false&quot;, &quot;for&quot;, &quot;while&quot;, &quot;do&quot;, &quot;if&quot;, &quot;else&quot;, &quot;break&quot;, &quot;return&quot;, &quot;continue&quot;,}; // still need to collect many many more\n\n public static void main(String [] args) throws IOException { \n // running: java java2colorHTML &lt;fn.java&gt;\n\n String txt = myIO.readFile(args[0]); \n\n     txt = txt.replace(&quot;&lt;&quot;, &quot;&amp;lt;&quot;);\n     txt = txt.replace(&quot;&gt;&quot;, &quot;&amp;gt;&quot;); // need to be done before &quot;&lt;br&gt;&quot; gets in!        \n     txt = txt.replace(&quot;\\r\\n|\\n&quot;, &quot;&lt;br&gt;&quot;); // line break        \n     txt = txt.replace(&quot; &quot;, &quot;&amp;nbsp;&quot;);\n     txt = txt.replace(&quot;\\t&quot;, &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;); // unicode '\\u0009' for tab\n\n     for (String w : modifiers) { \n         txt = txt.replaceAll(w + &quot;&amp;nbsp;&quot;, &quot;&lt;font color=\\&quot;#aa33ff\\&quot;&gt;&quot; + w + &quot;&lt;/font&gt;&amp;nbsp;&quot;);\n         // txt = txt.replaceAll(&quot; &quot; +w, &quot;&lt;font color=\\&quot;#9933ee\\&quot;&gt; &quot; + w + &quot;&lt;/font&gt;&quot;);\n     }\n     for (String w : other_keywords) {\n         txt = txt.replaceAll(w + &quot;&amp;nbsp;&quot;, &quot;&lt;font color=\\&quot;#3333ff\\&quot;&gt;&quot; + w + &quot;&lt;/font&gt;&amp;nbsp;&quot;);\n         txt = txt.replaceAll(&quot;&amp;nbsp;&quot; + w, &quot;&amp;nbsp;&lt;font color=\\&quot;#3333ff\\&quot;&gt;&quot; + w + &quot;&lt;/font&gt;&quot;);\n         txt = txt.replaceAll(&quot;\\\\(&quot; + w + &quot;\\\\)&quot;, &quot;(&lt;font color=\\&quot;#3333ff\\&quot;&gt;&quot; + w + &quot;&lt;/font&gt;)&quot;);\n     }\n\n     int bgn = 0;\n     while (true) { // colour comment lines, if any\n         bgn = txt.indexOf(&quot;\\&quot;&quot;, bgn == 0 ? 0 : bgn+1); // get next bgn\n         if (bgn == -1) break; // if no more literal strings\n         int end = txt.indexOf(&quot;\\&quot;&quot;, bgn+1); //find line break after bgn\n\n         String str_Literals = txt.substring(bgn+1, end); // get current literal strings quote to the end\n         str_Literals = str_Literals.replaceAll(&quot;&lt;/*[^&lt;&gt;]+&gt;&quot;, &quot;&quot;); // remove embedded font tags, if any\n         str_Literals = &quot;&lt;font color= \\&quot;#a3a3a3\\&quot;&gt;&quot; + str_Literals + &quot;&lt;/font&gt;&quot;; // coloring the literals\n         txt = txt.substring(0, bgn) + str_Literals + \n               txt.substring(end);\n         bgn += str_Literals.length(); // set bgn to the end of current literals\n                                       // avoid a bug here, because txt has been changed!\n\n     }\n\n\n     bgn = 0;\n     while (true) { // color comment lines, if any\n         bgn = txt.indexOf(&quot;//&quot;, bgn == 0 ? 0 : bgn+1); // get next bgn\n         if (bgn == -1) break; // if no more comment\n         int end = txt.indexOf(&quot;&lt;br&gt;&quot;, bgn); // find line break after bgn\n         String comment = txt.substring(bgn, end); // get current comment\n         comment = comment.replaceAll(&quot;&lt;/*[^&lt;&gt;]+&gt;&quot;, &quot;&quot;); // remove embedded font tags, if any\n         comment = &quot;&lt;font color=\\&quot;#009900\\&quot;&gt;&quot; + comment + &quot;&lt;/font&gt;&quot;; // coloring a comment\n         txt = txt.substring(0, bgn) + comment +\n               txt.substring(end);\n         bgn += comment.length(); // set bgn to the end of current comment\n                                  // avoid a bug here, because txt has been changed!\n     }\n\n     System.out.println(&quot;&lt;html&gt;\\r\\n&lt;body&gt;\\r\\n&lt;tt&gt;\\r\\n&quot;);\n     System.out.println(txt);\n     System.out.println(&quot;\\r\\n&lt;/tt&gt;\\r\\n&lt;/body&gt;\\r\\n&lt;/html&gt;&quot;);\n\n }\n} \n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","eclipse","maven","struts2","classnotfoundexception"],"comments":[{"owner":{"account_id":3193004,"reputation":2220,"user_id":2696865,"accept_rate":86,"display_name":"Laurent B"},"score":0,"creation_date":1517915644,"post_id":48641655,"comment_id":84279803,"body_markdown":"Possible duplicate of [Exception starting filter struts2 java.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter](https://stackoverflow.com/questions/23421278/exception-starting-filter-struts2-java-lang-classnotfoundexception-org-apache-s)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/23421278/exception-starting-filter-struts2-java-lang-classnotfoundexception-org-apache-s\">Exception starting filter struts2 java.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExec&zwnj;&#8203;uteFilter</a>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1517936648,"post_id":48641655,"comment_id":84294084,"body_markdown":"@Laurent This is different problem.","body":"@Laurent This is different problem."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1518014078,"post_id":48641655,"comment_id":84330229,"body_markdown":"This is illegible; please indent XML properly so we can actually read it.","body":"This is illegible; please indent XML properly so we can actually read it."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628613261,"creation_date":1517934626,"answer_id":48647648,"question_id":48641655,"body_markdown":"The filter class has moved to the parent package.\r\n\r\nYou should change the filter package location of the `StrutsPrepareAndExecuteFilter` in your web deployment descriptor.\r\n\r\n```xml\r\n&lt;filter-class&gt;\r\n \torg.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter\r\n&lt;/filter-class&gt;\r\n```\r\n\r\n","title":"Getting exception while starting Tomcat server 9.0","body":"<p>The filter class has moved to the parent package.</p>\n<p>You should change the filter package location of the <code>StrutsPrepareAndExecuteFilter</code> in your web deployment descriptor.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter-class&gt;\n    org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter\n&lt;/filter-class&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12891390,"reputation":108,"user_id":9323264,"display_name":"Mrunmay Deswandikar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517986243,"creation_date":1517936608,"answer_id":48648251,"question_id":48641655,"body_markdown":"From Maven pom.xml it seems you have library of Struts2.5 and you are using DTD of 2.1. So try updating the the two changes provided. Thanks\r\n\r\nReplace your first line of struts2.xml i.e &lt;!DOCTYPE with this\r\n\r\n    &lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n\r\nand in web.xml replace the filter with this\r\n\r\n    &lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n    \t&lt;/filter&gt;\r\n\r\n","title":"Getting exception while starting Tomcat server 9.0","body":"<p>From Maven pom.xml it seems you have library of Struts2.5 and you are using DTD of 2.1. So try updating the the two changes provided. Thanks</p>\n\n<p>Replace your first line of struts2.xml i.e \n\n<pre><code>&lt;!DOCTYPE struts PUBLIC\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.5//EN\"\n    \"http://struts.apache.org/dtds/struts-2.5.dtd\"&gt;\n</code></pre>\n\n<p>and in web.xml replace the filter with this</p>\n\n<pre><code>&lt;filter&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n</code></pre>\n"}],"owner":{"account_id":12569705,"reputation":5,"user_id":9144211,"accept_rate":38,"display_name":"Sai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1243,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48648251,"answer_count":2,"score":-1,"last_activity_date":1634661031,"creation_date":1517915495,"question_id":48641655,"body_markdown":"    Exception is :  `SEVERE: Exception starting filter [struts2]\r\n     java.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1275)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1104)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:540)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:521)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:150)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:104)\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4491)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5131)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1425)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1415)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:839)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1425)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1415)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:258)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:770)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:671)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)`\r\n\r\nI kept the `struts.xml` file under resource folder of project directory.\r\n\r\n**My `struts.xml` is:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE struts PUBLIC &quot;-//Apache Software Foundation//DTD Struts \r\n    Configuration 2.1//EN&quot; &quot;http://struts.apache.org/dtds/struts-2.1.dtd&quot;&gt;\r\n    &lt;struts&gt;\r\n    &lt;package name=&quot;abc&quot; extends=&quot;struts-default&quot;&gt;\r\n    &lt;action name=&quot;login&quot;&gt;\r\n    &lt;result &gt;login.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n    &lt;action name=&quot;loginprocess&quot; class=&quot;com.javatpoint.Login&quot;&gt;\r\n    &lt;result name=&quot;success&quot;  &gt;loginsuccess.jsp&lt;/result&gt;\r\n    &lt;result name=&quot;error&quot; &gt;loginerror.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n    &lt;action name=&quot;logout&quot; class=&quot;com.javatpoint.Login&quot; method=&quot;logout&quot;&gt;\r\n    &lt;result name=&quot;success&quot; &gt;logoutsuccess.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n    &lt;action name=&quot;profile&quot; class=&quot;com.javatpoint.Profile&quot;&gt;\r\n    &lt;result name=&quot;success&quot; &gt;profilesuccess.jsp&lt;/result&gt;\r\n    &lt;result name=&quot;error&quot; &gt;profileerror.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n    &lt;/package&gt;\r\n    &lt;/struts&gt;\r\n\r\nDoes it mandatory to add listener class in the `web.xml`?\r\n\r\n**`web.xml` is :**\r\n\r\n    &lt;!DOCTYPE web-app PUBLIC\r\n    &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n    &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n    &lt;web-app&gt;\t\r\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n    &lt;filter&gt;\r\n  \t&lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n  \t&lt;filter-class&gt;\r\n \torg.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\r\n  \t&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n  \t&lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n  \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n **`pom.xml` is:**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com&lt;/groupId&gt;\r\n    &lt;artifactId&gt;StrutsLogin&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;StrutsLogin Maven Webapp&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.struts/struts2-core --&gt;\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.5.10.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jsp-api --&gt;\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n\t&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n    &lt;build&gt;\r\n    &lt;finalName&gt;StrutsLogin&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n   \r\nThe above code is from basic tutorial. While I&#39;m executing the JSP files I&#39;m getting 404 error. While I&#39;m starting the Tomcat server I&#39;m getting the exception shown above.\r\n\r\nAfter changing the things from comments like: I changed `&lt;filter-class&gt;` in `web.xml` and DTD in `struts.xml`.\r\n\r\nNow I&#39;m getting internal server error:\r\n \r\n\r\n    HTTP Status 500 – Internal Server Error\r\n    Type Exception Report\r\n    Message Illegal char &lt;:&gt; at index 3: \r\n    jar:file: \r\n    \\D:\\Sworkspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtp\r\n    webapps\\StrutsLogin\\WEB-INF\\lib\\struts2-core-2.5.10.1.jar\r\n    Description The server encountered an unexpected condition that prevented \r\n    it from fulfilling the request.\r\n    Exception\r\n    java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 3: \r\n    jar:file:\\D:\\Sworkspace \r\n    \\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\\r\n    StrutsLogin\\WEB-INF\\lib\\struts2-core-2.5.10.1.jar\r\n\tjava.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n\tjava.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n\tjava.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n\tjava.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\r\n\tjava.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:229)\r\n\tjava.base/java.io.File.toPath(File.java:2300)\r\n\tjava.base/java.util.zip.ZipFile$Source.get(ZipFile.java:951)\r\n\tjava.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:216)\r\n\tjava.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:148)\r\n\tjava.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:324)\r\n\tjava.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:295)\r\n\tjava.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:234)\r\n\tcom.opensymphony.xwork2.util.fs.JarEntryRevision.needsReloading(JarEntryRevision.java:73)\r\n\tcom.opensymphony.xwork2.util.fs.DefaultFileManager.fileNeedsReloading(DefaultFileManager.java:62)\r\n\tcom.opensymphony.xwork2.config.providers.XmlConfigurationProvider.needsReload(XmlConfigurationProvider.java:425)\r\n\torg.apache.struts2.config.StrutsXmlConfigurationProvider.needsReload(StrutsXmlConfigurationProvider.java:163)\r\n\tcom.opensymphony.xwork2.config.ConfigurationManager.needReloadContainerProviders(ConfigurationManager.java:212)\r\n\tcom.opensymphony.xwork2.config.ConfigurationManager.conditionalReload(ConfigurationManager.java:178)\r\n\tcom.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:73)\r\n\torg.apache.struts2.dispatcher.Dispatcher.getContainer(Dispatcher.java:906)\r\n\torg.apache.struts2.dispatcher.ExecuteOperations.executeStaticResourceRequest(ExecuteOperations.java:59)\r\n\torg.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:130)\r\n    Note The full stack trace of the root cause is available in the server logs.\r\n    Apache Tomcat/9.0.2\r\n\r\nNow it is working fine. I changed struts2-core version in Maven dependency.\r\n  ","title":"Getting exception while starting Tomcat server 9.0","body":"<pre><code>Exception is :  `SEVERE: Exception starting filter [struts2]\n java.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1275)\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1104)\nat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:540)\nat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:521)\nat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:150)\nat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:256)\nat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:104)\nat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4491)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5131)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1425)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1415)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:839)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1425)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1415)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:258)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:770)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:671)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)`\n</code></pre>\n<p>I kept the <code>struts.xml</code> file under resource folder of project directory.</p>\n<p><strong>My <code>struts.xml</code> is:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE struts PUBLIC &quot;-//Apache Software Foundation//DTD Struts \nConfiguration 2.1//EN&quot; &quot;http://struts.apache.org/dtds/struts-2.1.dtd&quot;&gt;\n&lt;struts&gt;\n&lt;package name=&quot;abc&quot; extends=&quot;struts-default&quot;&gt;\n&lt;action name=&quot;login&quot;&gt;\n&lt;result &gt;login.jsp&lt;/result&gt;\n&lt;/action&gt;\n&lt;action name=&quot;loginprocess&quot; class=&quot;com.javatpoint.Login&quot;&gt;\n&lt;result name=&quot;success&quot;  &gt;loginsuccess.jsp&lt;/result&gt;\n&lt;result name=&quot;error&quot; &gt;loginerror.jsp&lt;/result&gt;\n&lt;/action&gt;\n&lt;action name=&quot;logout&quot; class=&quot;com.javatpoint.Login&quot; method=&quot;logout&quot;&gt;\n&lt;result name=&quot;success&quot; &gt;logoutsuccess.jsp&lt;/result&gt;\n&lt;/action&gt;\n&lt;action name=&quot;profile&quot; class=&quot;com.javatpoint.Profile&quot;&gt;\n&lt;result name=&quot;success&quot; &gt;profilesuccess.jsp&lt;/result&gt;\n&lt;result name=&quot;error&quot; &gt;profileerror.jsp&lt;/result&gt;\n&lt;/action&gt;\n&lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<p>Does it mandatory to add listener class in the <code>web.xml</code>?</p>\n<p><strong><code>web.xml</code> is :</strong></p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n&lt;web-app&gt;   \n&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n&lt;filter&gt;\n&lt;filter-name&gt;struts2&lt;/filter-name&gt;\n&lt;filter-class&gt;\norg.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\n&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n&lt;filter-name&gt;struts2&lt;/filter-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong><code>pom.xml</code> is:</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com&lt;/groupId&gt;\n&lt;artifactId&gt;StrutsLogin&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;StrutsLogin Maven Webapp&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;junit&lt;/groupId&gt;\n&lt;artifactId&gt;junit&lt;/artifactId&gt;\n&lt;version&gt;3.8.1&lt;/version&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.apache.struts/struts2-core --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n&lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\n&lt;version&gt;2.5.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jsp-api --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n&lt;version&gt;2.0&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;properties&gt;\n&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n&lt;finalName&gt;StrutsLogin&lt;/finalName&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The above code is from basic tutorial. While I'm executing the JSP files I'm getting 404 error. While I'm starting the Tomcat server I'm getting the exception shown above.</p>\n<p>After changing the things from comments like: I changed <code>&lt;filter-class&gt;</code> in <code>web.xml</code> and DTD in <code>struts.xml</code>.</p>\n<p>Now I'm getting internal server error:</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\nMessage Illegal char &lt;:&gt; at index 3: \njar:file: \n\\D:\\Sworkspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtp\nwebapps\\StrutsLogin\\WEB-INF\\lib\\struts2-core-2.5.10.1.jar\nDescription The server encountered an unexpected condition that prevented \nit from fulfilling the request.\nException\njava.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 3: \njar:file:\\D:\\Sworkspace \n\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\\nStrutsLogin\\WEB-INF\\lib\\struts2-core-2.5.10.1.jar\njava.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\njava.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\njava.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\njava.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\njava.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:229)\njava.base/java.io.File.toPath(File.java:2300)\njava.base/java.util.zip.ZipFile$Source.get(ZipFile.java:951)\njava.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:216)\njava.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:148)\njava.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:324)\njava.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:295)\njava.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:234)\ncom.opensymphony.xwork2.util.fs.JarEntryRevision.needsReloading(JarEntryRevision.java:73)\ncom.opensymphony.xwork2.util.fs.DefaultFileManager.fileNeedsReloading(DefaultFileManager.java:62)\ncom.opensymphony.xwork2.config.providers.XmlConfigurationProvider.needsReload(XmlConfigurationProvider.java:425)\norg.apache.struts2.config.StrutsXmlConfigurationProvider.needsReload(StrutsXmlConfigurationProvider.java:163)\ncom.opensymphony.xwork2.config.ConfigurationManager.needReloadContainerProviders(ConfigurationManager.java:212)\ncom.opensymphony.xwork2.config.ConfigurationManager.conditionalReload(ConfigurationManager.java:178)\ncom.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:73)\norg.apache.struts2.dispatcher.Dispatcher.getContainer(Dispatcher.java:906)\norg.apache.struts2.dispatcher.ExecuteOperations.executeStaticResourceRequest(ExecuteOperations.java:59)\norg.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:130)\nNote The full stack trace of the root cause is available in the server logs.\nApache Tomcat/9.0.2\n</code></pre>\n<p>Now it is working fine. I changed struts2-core version in Maven dependency.</p>\n"},{"tags":["java","oop","polymorphism"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1588825821,"post_id":61649573,"comment_id":109050475,"body_markdown":"*Polymorphism* goes with a unified API combined with adapted implementation. If &quot;being authorized&quot; is an attribute of just one kind of customer then maybe this is not the place to count on the benefits of polymorphism. At the same time, you should ask yourself, *is being authorized really a question for minor clients only?* Does it not apply to *all customers*, with `true` being the default answer?","body":"<i>Polymorphism</i> goes with a unified API combined with adapted implementation. If &quot;being authorized&quot; is an attribute of just one kind of customer then maybe this is not the place to count on the benefits of polymorphism. At the same time, you should ask yourself, <i>is being authorized really a question for minor clients only?</i> Does it not apply to <i>all customers</i>, with <code>true</code> being the default answer?"},{"owner":{"display_name":"user13192625"},"score":0,"creation_date":1588827499,"post_id":61649573,"comment_id":109050877,"body_markdown":"@ernest_k the specific case is merely hypothetical, I think a better example might be a system that has different type of loyalty programs, like gold, platinum, silver and such. different programs would have access to different types of methods, but they&#39;d all be children of a &quot;customer&quot; class","body":"@ernest_k the specific case is merely hypothetical, I think a better example might be a system that has different type of loyalty programs, like gold, platinum, silver and such. different programs would have access to different types of methods, but they&#39;d all be children of a &quot;customer&quot; class"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":1,"creation_date":1588829210,"post_id":61649573,"comment_id":109051322,"body_markdown":"The problem here is that MinorCustomer shouldn&#39;t properly be a subclass of Customer. Typically a subclass is less restricted than the superclass.","body":"The problem here is that MinorCustomer shouldn&#39;t properly be a subclass of Customer. Typically a subclass is less restricted than the superclass."}],"answers":[{"tags":[],"owner":{"account_id":4056001,"reputation":109,"user_id":3334013,"display_name":"Tek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1588831782,"creation_date":1588826205,"answer_id":61649987,"question_id":61649573,"body_markdown":"You need to add isAuthrorized property in Customer class.\r\n\r\nand logic should like this\r\n\r\n        Customer cust = new Customer(...);\r\n        if(cust.getAge() &gt; 18){\r\n          //skip authorization\r\n          cust.isAuthrorized = true;\r\n        }else{\r\n          authorize.user(cust);\r\n          //set isAuthrorized in authorization class based on user authentication fail or not\r\n        }\r\n","title":"How to correctly use polymorphism to call methods of the right class in Java","body":"<p>You need to add isAuthrorized property in Customer class.</p>\n\n<p>and logic should like this</p>\n\n<pre><code>    Customer cust = new Customer(...);\n    if(cust.getAge() &gt; 18){\n      //skip authorization\n      cust.isAuthrorized = true;\n    }else{\n      authorize.user(cust);\n      //set isAuthrorized in authorization class based on user authentication fail or not\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588826459,"creation_date":1588826459,"answer_id":61650029,"question_id":61649573,"body_markdown":"Create a `CustomerFactory` that gives a customer of the appropriate type based on an age parameter instead.\r\n\r\nRelying on the principle that\r\n\r\n```\r\nclass Customer { }\r\nclass MinorCustomer extends Customer { }\r\n```\r\n...then an implementation of your factory could be:\r\n\r\n```\r\nclass CustomerFactory {\r\n    public static Customer createInstance(final int age) {\r\n        if(age &lt; 18) {\r\n            return new MinorCustomer();\r\n        } else {\r\n            return new Customer();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n...which can then be used in your code like so.\r\n\r\n```\r\nCustomer cust = CustomerFactory.createInstance(17);\r\n```\r\n\r\nYou can enforce `instanceof` checks in methods that *require* that the `Customer` is not a `MinorCustomer`, or you can do an age check on the customer since you can get that information for free anyway.","title":"How to correctly use polymorphism to call methods of the right class in Java","body":"<p>Create a <code>CustomerFactory</code> that gives a customer of the appropriate type based on an age parameter instead.</p>\n\n<p>Relying on the principle that</p>\n\n<pre><code>class Customer { }\nclass MinorCustomer extends Customer { }\n</code></pre>\n\n<p>...then an implementation of your factory could be:</p>\n\n<pre><code>class CustomerFactory {\n    public static Customer createInstance(final int age) {\n        if(age &lt; 18) {\n            return new MinorCustomer();\n        } else {\n            return new Customer();\n        }\n    }\n}\n</code></pre>\n\n<p>...which can then be used in your code like so.</p>\n\n<pre><code>Customer cust = CustomerFactory.createInstance(17);\n</code></pre>\n\n<p>You can enforce <code>instanceof</code> checks in methods that <em>require</em> that the <code>Customer</code> is not a <code>MinorCustomer</code>, or you can do an age check on the customer since you can get that information for free anyway.</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588829102,"creation_date":1588829102,"answer_id":61650470,"question_id":61649573,"body_markdown":"You&#39;re missing a key concept here: that a customer is a customer. Whether it&#39;s minor, gold, major, silver, credible, bankrupt; it&#39;s a customer. This is part of basic OOP object identification, in my opinion.\r\n\r\nBehind these sentences that state the obvious is a fundamental concept: you must have a definition of &quot;customer&quot; and whatever you call customer must meet it, although it may remain free to choose &quot;how&quot; they meet it.\r\n\r\nNow, to make that practical: if you have a `Customer` class that is extended by `MinorCustomer` and other sub-classes, you need to declare the common behavior that&#39;s applicable to all customers in the `Customer` class. Polymorphism hinges on this. If a &quot;customer&quot; knows of nothing like &quot;is authorized&quot;, then you can&#39;t introduce polymorphic &quot;is authorized&quot; behavior.\r\n\r\nTo use an example:\r\n\r\n\tclass Customer {\r\n\t\tfinal int getAge() {\r\n\t\t\t//return\r\n\t\t}\r\n\t\tboolean isAuthorized() {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tclass MinorCustomer extends Customer {\r\n\t\tprivate boolean parentPresent;\r\n\t\t\r\n\t\t@Override\r\n\t\tboolean isAuthorized() {\r\n\t\t\treturn this.parentPresent;\r\n\t\t}\r\n\t} \r\n\r\nIn the above code, the &quot;definition&quot; of a &quot;customer&quot; includes the concept of &quot;being authorized&quot;. A &quot;minor customer&quot;, however, is free to choose &quot;how&quot; it meets that definition.\r\n\r\nIt&#39;s as simple as that, you need your `Customer` API to declare the `isAuthorized()` method, and have that overridden in `MinorCustomer`. This, of course, may be inadequate for your design; and that&#39;s fine: it would simply mean that the place is not right for polymorphic behavior (and perhaps also that the inheritance relationship should be questioned).\r\n&lt;br/&gt;And you can extend this reasoning to other examples as well, the parent-to-child relationship must include the declaration of behavior in the parent for polymorphism to be applicable.\r\n\r\nAs for the mechanics of cleanly creating related objects, [Makoto&#39;s post][1] gives a good approach.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61650029/5761558","title":"How to correctly use polymorphism to call methods of the right class in Java","body":"<p>You're missing a key concept here: that a customer is a customer. Whether it's minor, gold, major, silver, credible, bankrupt; it's a customer. This is part of basic OOP object identification, in my opinion.</p>\n\n<p>Behind these sentences that state the obvious is a fundamental concept: you must have a definition of \"customer\" and whatever you call customer must meet it, although it may remain free to choose \"how\" they meet it.</p>\n\n<p>Now, to make that practical: if you have a <code>Customer</code> class that is extended by <code>MinorCustomer</code> and other sub-classes, you need to declare the common behavior that's applicable to all customers in the <code>Customer</code> class. Polymorphism hinges on this. If a \"customer\" knows of nothing like \"is authorized\", then you can't introduce polymorphic \"is authorized\" behavior.</p>\n\n<p>To use an example:</p>\n\n<pre><code>class Customer {\n    final int getAge() {\n        //return\n    }\n    boolean isAuthorized() {\n        return true;\n    }\n}\nclass MinorCustomer extends Customer {\n    private boolean parentPresent;\n\n    @Override\n    boolean isAuthorized() {\n        return this.parentPresent;\n    }\n} \n</code></pre>\n\n<p>In the above code, the \"definition\" of a \"customer\" includes the concept of \"being authorized\". A \"minor customer\", however, is free to choose \"how\" it meets that definition.</p>\n\n<p>It's as simple as that, you need your <code>Customer</code> API to declare the <code>isAuthorized()</code> method, and have that overridden in <code>MinorCustomer</code>. This, of course, may be inadequate for your design; and that's fine: it would simply mean that the place is not right for polymorphic behavior (and perhaps also that the inheritance relationship should be questioned).\n<br/>And you can extend this reasoning to other examples as well, the parent-to-child relationship must include the declaration of behavior in the parent for polymorphism to be applicable.</p>\n\n<p>As for the mechanics of cleanly creating related objects, <a href=\"https://stackoverflow.com/a/61650029/5761558\">Makoto's post</a> gives a good approach.</p>\n"},{"tags":[],"owner":{"account_id":23081672,"reputation":1,"user_id":17193862,"display_name":"tkalyoncuoglu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634660876,"creation_date":1634660876,"answer_id":69634551,"question_id":61649573,"body_markdown":"Sample in C#\r\n\r\n     abstract class Customer\r\n    {\r\n        public string Name { get; private set; }\r\n\r\n        public string Surname { get; private set; }\r\n\r\n        public string Id { get; private set; }\r\n\r\n        public Customer(string id, string name, string surname)\r\n        {\r\n            Id = id;\r\n\r\n            Name = name;\r\n\r\n            Surname = surname;\r\n        }\r\n        public abstract bool IsAuthorized();\r\n    }\r\n\r\n    class MajorCustomer : Customer\r\n    {\r\n        public MajorCustomer(string id, string name, string surname):base(id, name, surname)\r\n        {\r\n                \r\n        }\r\n        public override bool IsAuthorized()\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    class MinorCustomer : Customer\r\n    {\r\n        public MinorCustomer(string id, string name, string surname) : base(id, name, surname)\r\n        {\r\n\r\n        }\r\n        public override bool IsAuthorized()\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    class Factory\r\n    {\r\n        public static Customer CreateCustomer(int age, string id, string name, string surname)\r\n        {\r\n            if (age &lt; 18)\r\n            {\r\n                return new MinorCustomer(id, name, surname);\r\n            }\r\n            else\r\n            {\r\n                return new MajorCustomer(id, name, surname);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            Customer customer = Factory.CreateCustomer(21, &quot;15612342&quot;, &quot;Bob&quot;, &quot;Snow&quot;);\r\n\r\n            if(customer.IsAuthorized())\r\n            {\r\n                Console.WriteLine(&quot;Customer is authorized&quot;);\r\n            }\r\n            else\r\n            {\r\n                Console.WriteLine(&quot;Customer is not authorized&quot;);\r\n            }\r\n        }\r\n    }","title":"How to correctly use polymorphism to call methods of the right class in Java","body":"<p>Sample in C#</p>\n<pre><code> abstract class Customer\n{\n    public string Name { get; private set; }\n\n    public string Surname { get; private set; }\n\n    public string Id { get; private set; }\n\n    public Customer(string id, string name, string surname)\n    {\n        Id = id;\n\n        Name = name;\n\n        Surname = surname;\n    }\n    public abstract bool IsAuthorized();\n}\n\nclass MajorCustomer : Customer\n{\n    public MajorCustomer(string id, string name, string surname):base(id, name, surname)\n    {\n            \n    }\n    public override bool IsAuthorized()\n    {\n        return true;\n    }\n}\n\nclass MinorCustomer : Customer\n{\n    public MinorCustomer(string id, string name, string surname) : base(id, name, surname)\n    {\n\n    }\n    public override bool IsAuthorized()\n    {\n        return false;\n    }\n}\n\nclass Factory\n{\n    public static Customer CreateCustomer(int age, string id, string name, string surname)\n    {\n        if (age &lt; 18)\n        {\n            return new MinorCustomer(id, name, surname);\n        }\n        else\n        {\n            return new MajorCustomer(id, name, surname);\n        }\n    }\n}\n\n\n\n\n\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        Customer customer = Factory.CreateCustomer(21, &quot;15612342&quot;, &quot;Bob&quot;, &quot;Snow&quot;);\n\n        if(customer.IsAuthorized())\n        {\n            Console.WriteLine(&quot;Customer is authorized&quot;);\n        }\n        else\n        {\n            Console.WriteLine(&quot;Customer is not authorized&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user13192625"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1634660876,"creation_date":1588823379,"question_id":61649573,"body_markdown":"Suppose that I have a movie theater registration system.\r\n\r\nAnd that I have a parent `Customer` class and a child `MinorCustomer` class.\r\n\r\n`MinorCustomer` has a `isAuthorized()` method, ***which is not present in Customer***, that returns true or false, meant to be called if the selected movie is not for unaccompanied minors\r\n\r\nNow, when instantiating the classes to store the information in a data structure (whichever), I run into the issue that I cannot call `isAuthorized()` in the event that the client is a minor.\r\n\r\nThis is all hypothetical so there&#39;s no program with this code, but assuming the case would be\r\n\r\n    Customer cust = new Customer()\r\n    if(cust.getAge() &lt; 18) {\r\n        cust = (MinorCustomer) cust;\r\n        cust.isAuthorized();\r\n    }\r\n\r\nHowever, that code would not be valid, since it would still consider `cust` to be an instance of `Customer`, not `MinorCustomer`. I know that I could simply use an if statement to determine if I want to create a new instance of Customer/Minor depending on the age, but I&#39;d like to take advantage of polymorphism to seamlessly change the type without having to write more rigid code.","title":"How to correctly use polymorphism to call methods of the right class in Java","body":"<p>Suppose that I have a movie theater registration system.</p>\n\n<p>And that I have a parent <code>Customer</code> class and a child <code>MinorCustomer</code> class.</p>\n\n<p><code>MinorCustomer</code> has a <code>isAuthorized()</code> method, <strong><em>which is not present in Customer</em></strong>, that returns true or false, meant to be called if the selected movie is not for unaccompanied minors</p>\n\n<p>Now, when instantiating the classes to store the information in a data structure (whichever), I run into the issue that I cannot call <code>isAuthorized()</code> in the event that the client is a minor.</p>\n\n<p>This is all hypothetical so there's no program with this code, but assuming the case would be</p>\n\n<pre><code>Customer cust = new Customer()\nif(cust.getAge() &lt; 18) {\n    cust = (MinorCustomer) cust;\n    cust.isAuthorized();\n}\n</code></pre>\n\n<p>However, that code would not be valid, since it would still consider <code>cust</code> to be an instance of <code>Customer</code>, not <code>MinorCustomer</code>. I know that I could simply use an if statement to determine if I want to create a new instance of Customer/Minor depending on the age, but I'd like to take advantage of polymorphism to seamlessly change the type without having to write more rigid code.</p>\n"},{"tags":["java","spring-boot","basic-authentication"],"comments":[{"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"score":1,"creation_date":1634662682,"post_id":69634492,"comment_id":123083970,"body_markdown":"Maybe this helps? https://stackoverflow.com/a/52606913/3761628","body":"Maybe this helps? <a href=\"https://stackoverflow.com/a/52606913/3761628\">stackoverflow.com/a/52606913/3761628</a>"}],"owner":{"account_id":1538531,"reputation":3761,"user_id":1433826,"accept_rate":51,"display_name":"reiley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634660609,"creation_date":1634660609,"question_id":69634492,"body_markdown":"In my spring boot application we&#39;ve currently 2 types of accesses, `permitAll` for a handful of URIs stored in `String[] ALLOWED_WITHOUT_AUTHENTICATION`.\r\n\r\nFor rest (/**), we&#39;ve applied `oauth2Login`. Then we added a `securityContext`.\r\n\r\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n      \r\n      .and().authorizeRequests().antMatchers(ALLOWED_WITHOUT_AUTHENTICATION).permitAll()\r\n    \r\n      .and().authorizeRequests()\r\n      .antMatchers(&quot;/**&quot;).authenticated()\r\n      .and().oauth2Login().userInfoEndpoint().oidcUserService(myOidcUserService).customUserType(MyOidcUser.class, &quot;customUser&quot;)\r\n      .and().defaultSuccessUrl(authSuccessURL, true).failureUrl(userNotAuthenticatedURL)\r\n      .and().securityContext().securityContextRepository(new CookieSecurityContextRepository(myAuthCookieHelper))\r\n      .and().exceptionHandling().authenticationEntryPoint(getAuthenticationEntryPoint());\r\n\r\nNow I want to added basic authentication for few URIs stored in `String[] AUTHENTICATED_WITH_BASIC_AUTH`.\r\n\r\nSo I&#39;ve written below code :\r\n\r\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n      \r\n      .and().authorizeRequests().antMatchers(ALLOWED_WITHOUT_AUTHENTICATION).permitAll()\r\n    \r\n      .and().authorizeRequests()\r\n      .antMatchers(Constants.AUTHENTICATED_WITH_BASIC_AUTH).authenticated()\r\n      .and().httpBasic().authenticationEntryPoint(myBasicAuthenticationEntryPoint())\r\n      .and().exceptionHandling().accessDeniedPage(&quot;/403&quot;)\r\n    \r\n      .and().authorizeRequests()\r\n      .antMatchers(&quot;/**&quot;).authenticated()\r\n      .and().oauth2Login().userInfoEndpoint().oidcUserService(myOidcUserService).customUserType(MyOidcUser.class, &quot;customUser&quot;)\r\n      .and().defaultSuccessUrl(authSuccessURL, true).failureUrl(userNotAuthenticatedURL)\r\n      .and().securityContext().securityContextRepository(new CookieSecurityContextRepository(myAuthCookieHelper))\r\n      .and().exceptionHandling().authenticationEntryPoint(getAuthenticationEntryPoint());\r\n\r\n\r\nBut I do not want to apply `securityContext` to URIs which are authenticated with basic auth.\r\n\r\nHow can I segregate these two?","title":"Add Basic Auth with oauth2Login","body":"<p>In my spring boot application we've currently 2 types of accesses, <code>permitAll</code> for a handful of URIs stored in <code>String[] ALLOWED_WITHOUT_AUTHENTICATION</code>.</p>\n<p>For rest (/**), we've applied <code>oauth2Login</code>. Then we added a <code>securityContext</code>.</p>\n<pre><code>http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n  \n  .and().authorizeRequests().antMatchers(ALLOWED_WITHOUT_AUTHENTICATION).permitAll()\n\n  .and().authorizeRequests()\n  .antMatchers(&quot;/**&quot;).authenticated()\n  .and().oauth2Login().userInfoEndpoint().oidcUserService(myOidcUserService).customUserType(MyOidcUser.class, &quot;customUser&quot;)\n  .and().defaultSuccessUrl(authSuccessURL, true).failureUrl(userNotAuthenticatedURL)\n  .and().securityContext().securityContextRepository(new CookieSecurityContextRepository(myAuthCookieHelper))\n  .and().exceptionHandling().authenticationEntryPoint(getAuthenticationEntryPoint());\n</code></pre>\n<p>Now I want to added basic authentication for few URIs stored in <code>String[] AUTHENTICATED_WITH_BASIC_AUTH</code>.</p>\n<p>So I've written below code :</p>\n<pre><code>http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n  \n  .and().authorizeRequests().antMatchers(ALLOWED_WITHOUT_AUTHENTICATION).permitAll()\n\n  .and().authorizeRequests()\n  .antMatchers(Constants.AUTHENTICATED_WITH_BASIC_AUTH).authenticated()\n  .and().httpBasic().authenticationEntryPoint(myBasicAuthenticationEntryPoint())\n  .and().exceptionHandling().accessDeniedPage(&quot;/403&quot;)\n\n  .and().authorizeRequests()\n  .antMatchers(&quot;/**&quot;).authenticated()\n  .and().oauth2Login().userInfoEndpoint().oidcUserService(myOidcUserService).customUserType(MyOidcUser.class, &quot;customUser&quot;)\n  .and().defaultSuccessUrl(authSuccessURL, true).failureUrl(userNotAuthenticatedURL)\n  .and().securityContext().securityContextRepository(new CookieSecurityContextRepository(myAuthCookieHelper))\n  .and().exceptionHandling().authenticationEntryPoint(getAuthenticationEntryPoint());\n</code></pre>\n<p>But I do not want to apply <code>securityContext</code> to URIs which are authenticated with basic auth.</p>\n<p>How can I segregate these two?</p>\n"},{"tags":["java","jexl"],"answers":[{"tags":[],"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634660509,"creation_date":1620183637,"answer_id":67394630,"question_id":66498157,"body_markdown":"I&#39;m new to Apache JEXL, but I&#39;ve found these ways:\r\n\r\n### 1. Use multi-line strings\r\n\r\n    var paramA = &#39;AAAA&#39;;\r\n    var paramB = &#39;BBBB&#39;;\r\n    var command = `${paramA}\r\n    ${paramB}`;\r\n    return command;\r\n\r\nThe literal newline in the multi-line string format (delimited with backticks) will be preserved.  Use variable substitution to bring in your other variables.\r\n\r\n### 2. Use the context to inject newline as a variable\r\n\r\nIn your Java code, populate the context:\r\n\r\n    var jexlContext = new MapContext(); \r\n    jexlContext.set(&quot;newline&quot;, &quot;\\n&quot;);\r\n\r\nThen use it in your script:\r\n\r\n    var paramA = &#39;AAAA&#39;;\r\n    var paramB = &#39;BBBB&#39;;\r\n    var command = paramA + newline + paramB;\r\n    return command;\r\n\r\n### 3. Use Java-style Unicode escapes\r\n\r\nThis is a feature that existed but was undocumented prior to version 3.2 ([JEXL-331][JEXL-331]).  You can use a Java-style Unicode escape inside a string literal.  The hexadecimal value of `\\n` is 0x0a, so use:\r\n\r\n    var command = paramA + &#39;\\u000a&#39; + paramB;\r\n\r\n[JEXL-331]: https://issues.apache.org/jira/browse/JEXL-331","title":"Line break in JEXL String","body":"<p>I'm new to Apache JEXL, but I've found these ways:</p>\n<h3>1. Use multi-line strings</h3>\n<pre><code>var paramA = 'AAAA';\nvar paramB = 'BBBB';\nvar command = `${paramA}\n${paramB}`;\nreturn command;\n</code></pre>\n<p>The literal newline in the multi-line string format (delimited with backticks) will be preserved.  Use variable substitution to bring in your other variables.</p>\n<h3>2. Use the context to inject newline as a variable</h3>\n<p>In your Java code, populate the context:</p>\n<pre><code>var jexlContext = new MapContext(); \njexlContext.set(&quot;newline&quot;, &quot;\\n&quot;);\n</code></pre>\n<p>Then use it in your script:</p>\n<pre><code>var paramA = 'AAAA';\nvar paramB = 'BBBB';\nvar command = paramA + newline + paramB;\nreturn command;\n</code></pre>\n<h3>3. Use Java-style Unicode escapes</h3>\n<p>This is a feature that existed but was undocumented prior to version 3.2 (<a href=\"https://issues.apache.org/jira/browse/JEXL-331\" rel=\"nofollow noreferrer\">JEXL-331</a>).  You can use a Java-style Unicode escape inside a string literal.  The hexadecimal value of <code>\\n</code> is 0x0a, so use:</p>\n<pre><code>var command = paramA + '\\u000a' + paramB;\n</code></pre>\n"}],"owner":{"account_id":4750475,"reputation":113,"user_id":3938978,"display_name":"cackoa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67394630,"answer_count":1,"score":3,"last_activity_date":1634660509,"creation_date":1614970804,"question_id":66498157,"body_markdown":"I&#39;m using JEXL in Java in standard way:\r\n\r\n    var script = new JexlBuilder().create().createScript(jexlScript);\r\n    var jexlContext = new MapContext(); \r\n    var returnString = (String) script.execute(jexlContext));\r\n\r\nLet&#39;s say that jexScript looks like:\r\n```\r\nvar paramA = &#39;AAAA&#39;;\r\nvar paramB = &#39;BBBB&#39;;\r\nvar command = paramA + &#39;\\n&#39; + paramB;\r\nreturn command;\r\n```\r\n\r\nOutput is: \r\n```\r\nAAAA\\nBBBB\r\n```\r\n\r\nMy question is: How to introduce **new line** char to properly format this text? Or any other way to get new line separation in String creating in Jexl.","title":"Line break in JEXL String","body":"<p>I'm using JEXL in Java in standard way:</p>\n<pre><code>var script = new JexlBuilder().create().createScript(jexlScript);\nvar jexlContext = new MapContext(); \nvar returnString = (String) script.execute(jexlContext));\n</code></pre>\n<p>Let's say that jexScript looks like:</p>\n<pre><code>var paramA = 'AAAA';\nvar paramB = 'BBBB';\nvar command = paramA + '\\n' + paramB;\nreturn command;\n</code></pre>\n<p>Output is:</p>\n<pre><code>AAAA\\nBBBB\n</code></pre>\n<p>My question is: How to introduce <strong>new line</strong> char to properly format this text? Or any other way to get new line separation in String creating in Jexl.</p>\n"},{"tags":["java","spring","apache-kafka","spring-cloud-stream","micrometer"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634585863,"creation_date":1634585863,"answer_id":69621681,"question_id":69576779,"body_markdown":"See `offset.retention.minutes`. https://kafka.apache.org/documentation/#brokerconfigs_offsets.retention.minutes\r\n\r\nIt is 7 days by default, meaning the offsets are retained for 7 days after the last consumer left the group (with recent broker versions - since 2.1 if I recall correctly).\r\n\r\nWhen the offsets are removed, it is as if the group never consumed anything from the topic/partition and, if started again, it will receive all the records in the topic/partition.\r\n\r\n","title":"Using metric spring_cloud_stream_binder_kafka_offset for kafka lag","body":"<p>See <code>offset.retention.minutes</code>. <a href=\"https://kafka.apache.org/documentation/#brokerconfigs_offsets.retention.minutes\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#brokerconfigs_offsets.retention.minutes</a></p>\n<p>It is 7 days by default, meaning the offsets are retained for 7 days after the last consumer left the group (with recent broker versions - since 2.1 if I recall correctly).</p>\n<p>When the offsets are removed, it is as if the group never consumed anything from the topic/partition and, if started again, it will receive all the records in the topic/partition.</p>\n"}],"owner":{"account_id":17810331,"reputation":49,"user_id":12935101,"display_name":"Victor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634660492,"creation_date":1634242031,"question_id":69576779,"body_markdown":"I have an application consuming kafka messages for a long time without any restart.\r\nAlso I have a dash that monitors the consumer lag by the property &quot;**spring_cloud_stream_binder_kafka_offset**&quot;.\r\n\r\nWhen I had to restart it recently, I realized that some topics that I haven&#39;t sent messages for more than a month, started reporting some &quot;strange values&quot; on the same metric.\r\nI ran the following command to check the lags on the topic and then I realized this topic with &quot;strange values&quot; the column current-offset was empty &quot;-&quot;, but i&#39;m sure that this messages were processed in the past.\r\n\r\n```\r\nkafka-consumer-groups --bootstrap-server &lt;server&gt; --group group-test --describe --offsets --command-config \r\n```\r\n\r\n|GROUP       |TOPIC   |PARTITION  |CURRENT-OFFSET  |LOG-END-OFFSET  |LAG| \r\n|------------|--------|-----------|----------------|----------------|---| \r\n|group-test  |TEST\t  |1          |6468            |6468            |0  | \r\n|group-test  |TEST \t  |2          |6396            |6396            |0  | \r\n|group-test  |TEST1   |0          |-               |88              |-  | \r\n|group-test  |TEST1   |1          |-               |78              |-  | \r\n\r\nAs I know, and I might be wrong, that this information about the current offset is stored inside a kafka topic.\r\nThis topic also have an expire within 7 days since nothing is consumed.\r\n\r\nMy doubt is this: As the current offset has been &quot;cleand up&quot;, shouldnt the property &quot;**spring_cloud_stream_binder_kafka_offset**&quot; reflects somehow this? Because its leading to some misunderstanding about the metric, since I don&#39;t have this lag.\r\n\r\n\r\n**** **UPDATE** ****\r\n\r\nDescribed a little more about the situation.\r\n\r\nWhen the MS started again, and the name of the consumer is the same, its not processing this messages that its understanding as lag.\r\nWhat I mean, the MS is up and running, with the same consumer name, the topic is configured to be monitored and nothing is consumed. I have other topics inside this same MS that are processing correctly.\r\nAn extra point, is that I use the confluent cloud to check this lag and there the information show no lag, as I expected.\r\n\r\nWhat I realized is that for some specific partition that received another message, the currently offset gets its value updated with the LOG-END-OFFSET and everything works fine.\r\n\r\nMy doubt is really about how this metric works with this situation, it seems to loose its reference and shows everything is lag.","title":"Using metric spring_cloud_stream_binder_kafka_offset for kafka lag","body":"<p>I have an application consuming kafka messages for a long time without any restart.\nAlso I have a dash that monitors the consumer lag by the property &quot;<strong>spring_cloud_stream_binder_kafka_offset</strong>&quot;.</p>\n<p>When I had to restart it recently, I realized that some topics that I haven't sent messages for more than a month, started reporting some &quot;strange values&quot; on the same metric.\nI ran the following command to check the lags on the topic and then I realized this topic with &quot;strange values&quot; the column current-offset was empty &quot;-&quot;, but i'm sure that this messages were processed in the past.</p>\n<pre><code>kafka-consumer-groups --bootstrap-server &lt;server&gt; --group group-test --describe --offsets --command-config \n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>GROUP</th>\n<th>TOPIC</th>\n<th>PARTITION</th>\n<th>CURRENT-OFFSET</th>\n<th>LOG-END-OFFSET</th>\n<th>LAG</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>group-test</td>\n<td>TEST</td>\n<td>1</td>\n<td>6468</td>\n<td>6468</td>\n<td>0</td>\n</tr>\n<tr>\n<td>group-test</td>\n<td>TEST</td>\n<td>2</td>\n<td>6396</td>\n<td>6396</td>\n<td>0</td>\n</tr>\n<tr>\n<td>group-test</td>\n<td>TEST1</td>\n<td>0</td>\n<td>-</td>\n<td>88</td>\n<td>-</td>\n</tr>\n<tr>\n<td>group-test</td>\n<td>TEST1</td>\n<td>1</td>\n<td>-</td>\n<td>78</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>As I know, and I might be wrong, that this information about the current offset is stored inside a kafka topic.\nThis topic also have an expire within 7 days since nothing is consumed.</p>\n<p>My doubt is this: As the current offset has been &quot;cleand up&quot;, shouldnt the property &quot;<strong>spring_cloud_stream_binder_kafka_offset</strong>&quot; reflects somehow this? Because its leading to some misunderstanding about the metric, since I don't have this lag.</p>\n<p>**** <strong>UPDATE</strong> ****</p>\n<p>Described a little more about the situation.</p>\n<p>When the MS started again, and the name of the consumer is the same, its not processing this messages that its understanding as lag.\nWhat I mean, the MS is up and running, with the same consumer name, the topic is configured to be monitored and nothing is consumed. I have other topics inside this same MS that are processing correctly.\nAn extra point, is that I use the confluent cloud to check this lag and there the information show no lag, as I expected.</p>\n<p>What I realized is that for some specific partition that received another message, the currently offset gets its value updated with the LOG-END-OFFSET and everything works fine.</p>\n<p>My doubt is really about how this metric works with this situation, it seems to loose its reference and shows everything is lag.</p>\n"},{"tags":["java","google-cloud-firestore","triggers","gcloud"],"owner":{"account_id":15788363,"reputation":121,"user_id":11392384,"display_name":"EnglishBanana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634660454,"creation_date":1634659823,"question_id":69634314,"body_markdown":"I&#39;m trying to parse the response from a Firestore trigger that runs when there is a change to the database. I&#39;m following this documentation: https://cloud.google.com/functions/docs/calling/cloud-firestore. In this case, just any new entries, which falls underneath the &quot;value&quot; attribute. I&#39;ve attempted to use BackgroundFunction&lt;DocumentEventData&gt; because DocumentEventData contains all the fields in that object but that throws an error with the serialization of the date. \r\n\r\n```\r\npublic class myFunction implements BackgroundFunction&lt;DocumentEventData&gt; {\r\n\r\n    private static final Gson gson = new Gson();\r\n\r\n    @Override\r\n    public void accept(DocumentEventData payload, Context context) throws Exception {\r\n        System.out.println(&quot;Event Received: &quot; + payload);\r\n    }\r\n}\r\n```\r\n\r\nI get the following error: \r\n```\r\nFailed to execute com.ford.avllc.taas.statecoordinator.StateChangeProcessor\r\ncom.google.gson.JsonSyntaxException: java.lang.IllegalStateException: \r\nExpected BEGIN_OBJECT but was STRING at path $.value.createTime\r\n```\r\n\r\nIs there a way to parse this via the BackgroundFunction&lt;DocumentEventData&gt; type without having to use an ObjectMapper with specific properties? \r\n\r\nI say that because the workaround I&#39;m doing is using an object mapper with a RawBackgroundFunction which returns a String, which I then convert via ObjectMapper to DocumentEventData.\r\n\r\nEdit: Ironically following Google&#39;s documentation word by word leads to the same result using GSON.","title":"Google Cloud Firestore Trigger on Database Changes BackgroundFunctions Not Parsing Correctly","body":"<p>I'm trying to parse the response from a Firestore trigger that runs when there is a change to the database. I'm following this documentation: <a href=\"https://cloud.google.com/functions/docs/calling/cloud-firestore\" rel=\"nofollow noreferrer\">https://cloud.google.com/functions/docs/calling/cloud-firestore</a>. In this case, just any new entries, which falls underneath the &quot;value&quot; attribute. I've attempted to use BackgroundFunction because DocumentEventData contains all the fields in that object but that throws an error with the serialization of the date.</p>\n<pre><code>public class myFunction implements BackgroundFunction&lt;DocumentEventData&gt; {\n\n    private static final Gson gson = new Gson();\n\n    @Override\n    public void accept(DocumentEventData payload, Context context) throws Exception {\n        System.out.println(&quot;Event Received: &quot; + payload);\n    }\n}\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>Failed to execute com.ford.avllc.taas.statecoordinator.StateChangeProcessor\ncom.google.gson.JsonSyntaxException: java.lang.IllegalStateException: \nExpected BEGIN_OBJECT but was STRING at path $.value.createTime\n</code></pre>\n<p>Is there a way to parse this via the BackgroundFunction type without having to use an ObjectMapper with specific properties?</p>\n<p>I say that because the workaround I'm doing is using an object mapper with a RawBackgroundFunction which returns a String, which I then convert via ObjectMapper to DocumentEventData.</p>\n<p>Edit: Ironically following Google's documentation word by word leads to the same result using GSON.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1634655978,"post_id":69633201,"comment_id":123080999,"body_markdown":"See https://towardsdatascience.com/difference-between-nfd-nfc-nfkd-and-nfkc-explained-with-python-code-e2631f96ae6c and the links it has to Wiki and UAX#15: _&quot;TL;DR: use NFKC method&quot;_.","body":"See <a href=\"https://towardsdatascience.com/difference-between-nfd-nfc-nfkd-and-nfkc-explained-with-python-code-e2631f96ae6c\" rel=\"nofollow noreferrer\">towardsdatascience.com/&hellip;</a> and the links it has to Wiki and UAX#15: <i>&quot;TL;DR: use NFKC method&quot;</i>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1634689516,"post_id":69633201,"comment_id":123091141,"body_markdown":"It’s literally the first hyperlink on [the documentation for Normalizer](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html).","body":"It’s literally the first hyperlink on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">the documentation for Normalizer</a>."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634660448,"creation_date":1634656787,"answer_id":69633559,"question_id":69633201,"body_markdown":"- **D**=Decomposed `e` `&#180;`\r\n- **C**=Composed `&#233;`  \r\n\r\nThe K is for ligatures, one letter `ﬃ`(ffi) or 3: f f i.\r\n\r\nThis is mentioned in the [javadoc][1]:\r\n\r\n&gt; Characters with accents or other adornments can be encoded in several\r\n&gt; different ways in Unicode. For example, take the character A-acute. In\r\n&gt; Unicode, this can be encoded as a single character (the &quot;composed&quot;\r\n&gt; form):\r\n&gt; \r\n&gt;       U+00C1    LATIN CAPITAL LETTER A WITH ACUTE or as two separate characters (the &quot;decomposed&quot; form):\r\n&gt;       U+0041    LATIN CAPITAL LETTER A\r\n&gt;       U+0301    COMBINING ACUTE ACCENT To a user of your program, however, both of these sequences should be treated as the same\r\n&gt; &quot;user-level&quot; character &quot;A with acute accent&quot;. When you are searching\r\n&gt; or comparing text, you must ensure that these two sequences are\r\n&gt; treated as equivalent. In addition, you must handle characters with\r\n&gt; more than one accent. Sometimes the order of a character&#39;s combining\r\n&gt; accents is significant, while in other cases accent sequences in\r\n&gt; different orders are really equivalent. Similarly, the string &quot;ffi&quot;\r\n&gt; can be encoded as three separate letters:\r\n&gt; \r\n&gt;       U+0066    LATIN SMALL LETTER F\r\n&gt;       U+0066    LATIN SMALL LETTER F\r\n&gt;       U+0069    LATIN SMALL LETTER I or as the single character\r\n&gt;       U+FB03    LATIN SMALL LIGATURE FFI\r\n\r\nSo in your case you want NFKD, full decomposition.\r\n\r\n    s = Normalizer.normalize(s, Normalizer.Form.NFD).replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;);\r\n\r\nThe latter `replaceAll`just removes the _combining diacritical marks_, the zero-width accents `&#180;`. There are still problematic latin letters like\r\n\r\n- `ŀ` Polish small L with strike-through\r\n- `ı` Turkish small I without dot\r\n- `İ` Turkish capital I with dot\r\n\r\nBut might already been doing a non-ASCII replace.\r\n\r\nOf course nowadays one might have [Unicode URLs][2] to some degree, sites with special characters.\r\nAnd with some care those characters would not get mangled.\r\n\r\nAn other use of normalisation in decomposed form is for sorting country names alphabetically: `&#214;sterreich` (Austria in German) before `P`.\r\n\r\n-------------------\r\n***Some Details***\r\n\r\nThe K stands for &quot;compatibility&quot; and hence is important.\r\n\r\nOne can have more than one accent (zero-width _combining diacritical mark_) at a letter.\r\n\r\nOne can have a String with both composed and decomposed letters.\r\n\r\nSo actually NFC does: Canonical decomposition, followed by canonical composition. So in order to do a good composition it is best to first decompose which does the Normalizer for you.\r\n\r\nComposition also has its use; for instance it is guaranteed canonical (single norming form), and is compact for `String.codePointAt`.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/text/Normalizer.html\r\n  [2]: https://eurid.eu/en/register-a-eu-domain/domain-names-with-special-characters-idns/","title":"Unicode normalization forms Explanation (Java)","body":"<ul>\n<li><strong>D</strong>=Decomposed <code>e</code> <code>´</code></li>\n<li><strong>C</strong>=Composed <code>é</code></li>\n</ul>\n<p>The K is for ligatures, one letter <code>ﬃ</code>(ffi) or 3: f f i.</p>\n<p>This is mentioned in the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>Characters with accents or other adornments can be encoded in several\ndifferent ways in Unicode. For example, take the character A-acute. In\nUnicode, this can be encoded as a single character (the &quot;composed&quot;\nform):</p>\n<pre><code>  U+00C1    LATIN CAPITAL LETTER A WITH ACUTE or as two separate characters (the &quot;decomposed&quot; form):\n  U+0041    LATIN CAPITAL LETTER A\n  U+0301    COMBINING ACUTE ACCENT To a user of your program, however, both of these sequences should be treated as the same\n</code></pre>\n<p>&quot;user-level&quot; character &quot;A with acute accent&quot;. When you are searching\nor comparing text, you must ensure that these two sequences are\ntreated as equivalent. In addition, you must handle characters with\nmore than one accent. Sometimes the order of a character's combining\naccents is significant, while in other cases accent sequences in\ndifferent orders are really equivalent. Similarly, the string &quot;ffi&quot;\ncan be encoded as three separate letters:</p>\n<pre><code>  U+0066    LATIN SMALL LETTER F\n  U+0066    LATIN SMALL LETTER F\n  U+0069    LATIN SMALL LETTER I or as the single character\n  U+FB03    LATIN SMALL LIGATURE FFI\n</code></pre>\n</blockquote>\n<p>So in your case you want NFKD, full decomposition.</p>\n<pre><code>s = Normalizer.normalize(s, Normalizer.Form.NFD).replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;);\n</code></pre>\n<p>The latter <code>replaceAll</code>just removes the <em>combining diacritical marks</em>, the zero-width accents <code>´</code>. There are still problematic latin letters like</p>\n<ul>\n<li><code>ŀ</code> Polish small L with strike-through</li>\n<li><code>ı</code> Turkish small I without dot</li>\n<li><code>İ</code> Turkish capital I with dot</li>\n</ul>\n<p>But might already been doing a non-ASCII replace.</p>\n<p>Of course nowadays one might have <a href=\"https://eurid.eu/en/register-a-eu-domain/domain-names-with-special-characters-idns/\" rel=\"nofollow noreferrer\">Unicode URLs</a> to some degree, sites with special characters.\nAnd with some care those characters would not get mangled.</p>\n<p>An other use of normalisation in decomposed form is for sorting country names alphabetically: <code>Österreich</code> (Austria in German) before <code>P</code>.</p>\n<hr />\n<p><em><strong>Some Details</strong></em></p>\n<p>The K stands for &quot;compatibility&quot; and hence is important.</p>\n<p>One can have more than one accent (zero-width <em>combining diacritical mark</em>) at a letter.</p>\n<p>One can have a String with both composed and decomposed letters.</p>\n<p>So actually NFC does: Canonical decomposition, followed by canonical composition. So in order to do a good composition it is best to first decompose which does the Normalizer for you.</p>\n<p>Composition also has its use; for instance it is guaranteed canonical (single norming form), and is compact for <code>String.codePointAt</code>.</p>\n"}],"owner":{"account_id":15546839,"reputation":578,"user_id":11215765,"display_name":"Zouhair Dre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69633559,"answer_count":1,"score":2,"last_activity_date":1634660448,"creation_date":1634655501,"question_id":69633201,"body_markdown":"I&#39;m using `Normalizer.normalize(url, Normalizer.Form.NFD)` to avoid having characters like `&#233;` in my url, and I do not understand the meaning of the `Normalizer.Form` consts (NFC, NFD, NFKC, and NFKD) or when to use each one.\r\n\r\nI consulted the documentation but this did not help at all.\r\n[![enter image description here][1]][1]\r\n\r\nDoes anyone have any idea on this topic?\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/jiRiQ.png","title":"Unicode normalization forms Explanation (Java)","body":"<p>I'm using <code>Normalizer.normalize(url, Normalizer.Form.NFD)</code> to avoid having characters like <code>é</code> in my url, and I do not understand the meaning of the <code>Normalizer.Form</code> consts (NFC, NFD, NFKC, and NFKD) or when to use each one.</p>\n<p>I consulted the documentation but this did not help at all.\n<a href=\"https://i.stack.imgur.com/jiRiQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jiRiQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone have any idea on this topic?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","jasper-reports","textfield"],"answers":[{"tags":[],"owner":{"account_id":17351398,"reputation":1,"user_id":12569821,"display_name":"hotcat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634660293,"creation_date":1634659951,"answer_id":69634350,"question_id":69620202,"body_markdown":"I solved my problem, the method I chose is 1.\r\nFinally, I thought that the time to change the height of the TextField is when filling in the data, so I should try the JasperPrint obtained after the execution of JasperFillManager.fillReport to get the height of the component.\r\n\r\nThe following is part of the code I executed.\r\n```\r\n   JRDesignTextField textField = new JRDesignTextField();\r\n   textField.setWidth(183);\r\n   textField.setHeight(38);\r\n   textField.setStyle(normalStyle);\r\n   textField.setStretchWithOverflow(true);\r\n   JRDesignExpression expression = new JRDesignExpression();\r\n   expression.setText(&quot;$P{MyText}&quot;);\r\n   textField.setExpression(expression);\r\n\r\n   //Omitted\r\n\r\n   JRDesignBand band = new JRDesignBand();\r\n   band.addElement(textField);\r\n   ((JRDesignSection) jasperDesign.getDetailSection()).addBand(band);\r\n   \r\n   //Omitted\r\n\r\n   Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\r\n   params.put(&quot;MyText&quot;, myText);\r\n   JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\r\n   JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params,  new \r\n   JREmptyDataSource());\r\n   List&lt;JRPrintPage&gt; pages = jasperPrint.getPages();\r\n   int height = pages.get(0).getElements().get(0).getHeight();\r\n```\r\n","title":"How to get the stretched height of JasperReport&#39;s 5.9.0 TextField with help of JasperReports API?","body":"<p>I solved my problem, the method I chose is 1.\nFinally, I thought that the time to change the height of the TextField is when filling in the data, so I should try the JasperPrint obtained after the execution of JasperFillManager.fillReport to get the height of the component.</p>\n<p>The following is part of the code I executed.</p>\n<pre><code>   JRDesignTextField textField = new JRDesignTextField();\n   textField.setWidth(183);\n   textField.setHeight(38);\n   textField.setStyle(normalStyle);\n   textField.setStretchWithOverflow(true);\n   JRDesignExpression expression = new JRDesignExpression();\n   expression.setText(&quot;$P{MyText}&quot;);\n   textField.setExpression(expression);\n\n   //Omitted\n\n   JRDesignBand band = new JRDesignBand();\n   band.addElement(textField);\n   ((JRDesignSection) jasperDesign.getDetailSection()).addBand(band);\n   \n   //Omitted\n\n   Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\n   params.put(&quot;MyText&quot;, myText);\n   JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\n   JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params,  new \n   JREmptyDataSource());\n   List&lt;JRPrintPage&gt; pages = jasperPrint.getPages();\n   int height = pages.get(0).getElements().get(0).getHeight();\n</code></pre>\n"}],"owner":{"account_id":17351398,"reputation":1,"user_id":12569821,"display_name":"hotcat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634660293,"creation_date":1634578137,"question_id":69620202,"body_markdown":"I encountered a problem, how to calculate the required height of the text in the TextField with &quot;Stretch with Overflow&quot; attribute in Java.\r\n\r\nI have been trying for a whole day, but I still don&#39;t have a better idea. I have two ideas.\r\n1. The first is to put the text in the TextFiled and get the height, but the obtained height is always the original height of the TextField.\r\n2. The second is to put the TextField into JRDesignBand and get the next Band Y-axis height, but I don&#39;t know how to achieve it.\r\n\r\nI need to calculate the height accurately to achieve a strict report format, so I really need to use this method. Thank you very much for your help.\r\n\r\nThe following snippet code I tried.\r\n\r\n    JRDesignTextField textField = new JRDesignTextField();\r\n    textField.setWidth(183);\r\n    textField.setHeight(38);\r\n    textField.setStyle(normalStyle);\r\n    textField.setStretchWithOverflow(true);\r\n    textField.setExpression(expression);\r\n    System.err.println(&quot;TextField Height: &quot; + textField.getHeight());","title":"How to get the stretched height of JasperReport&#39;s 5.9.0 TextField with help of JasperReports API?","body":"<p>I encountered a problem, how to calculate the required height of the text in the TextField with &quot;Stretch with Overflow&quot; attribute in Java.</p>\n<p>I have been trying for a whole day, but I still don't have a better idea. I have two ideas.</p>\n<ol>\n<li>The first is to put the text in the TextFiled and get the height, but the obtained height is always the original height of the TextField.</li>\n<li>The second is to put the TextField into JRDesignBand and get the next Band Y-axis height, but I don't know how to achieve it.</li>\n</ol>\n<p>I need to calculate the height accurately to achieve a strict report format, so I really need to use this method. Thank you very much for your help.</p>\n<p>The following snippet code I tried.</p>\n<pre><code>JRDesignTextField textField = new JRDesignTextField();\ntextField.setWidth(183);\ntextField.setHeight(38);\ntextField.setStyle(normalStyle);\ntextField.setStretchWithOverflow(true);\ntextField.setExpression(expression);\nSystem.err.println(&quot;TextField Height: &quot; + textField.getHeight());\n</code></pre>\n"},{"tags":["java","inheritance","annotations","polymorphism","abstract-class"],"comments":[{"owner":{"account_id":21712627,"reputation":386,"user_id":16312980,"display_name":"Ryan"},"score":0,"creation_date":1634363585,"post_id":69593036,"comment_id":123008981,"body_markdown":"You should format your question properly","body":"You should format your question properly"},{"owner":{"account_id":22298635,"reputation":9,"user_id":16524253,"display_name":"kingo"},"score":0,"creation_date":1634363925,"post_id":69593036,"comment_id":123009033,"body_markdown":"my question how i can print the info because right now my program is assigning null values to the variables however I&#39;m inputting values to them and in the college class when i call the print method its not outputting anything except the title so if you run the program you will understand what i mean hopefully this explanation helps","body":"my question how i can print the info because right now my program is assigning null values to the variables however I&#39;m inputting values to them and in the college class when i call the print method its not outputting anything except the title so if you run the program you will understand what i mean hopefully this explanation helps"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634372476,"post_id":69593036,"comment_id":123010416,"body_markdown":"The purpose of formatting is to make it easier for other people to read your code.  If you **want** people to help you, then it is in your own interest to do that.","body":"The purpose of formatting is to make it easier for other people to read your code.  If you <b>want</b> people to help you, then it is in your own interest to do that."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1634379227,"post_id":69593036,"comment_id":123011757,"body_markdown":"As far as I can see, you never assign anything to the `students` array.","body":"As far as I can see, you never assign anything to the <code>students</code> array."},{"owner":{"account_id":22298635,"reputation":9,"user_id":16524253,"display_name":"kingo"},"score":0,"creation_date":1634385575,"post_id":69593036,"comment_id":123013045,"body_markdown":"@StephenC how can i format it","body":"@StephenC how can i format it"},{"owner":{"account_id":22298635,"reputation":9,"user_id":16524253,"display_name":"kingo"},"score":0,"creation_date":1634385700,"post_id":69593036,"comment_id":123013068,"body_markdown":"@tgdavies where? i think i assigned marks and numStudents to it","body":"@tgdavies where? i think i assigned marks and numStudents to it"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634386029,"post_id":69593036,"comment_id":123013154,"body_markdown":"There is help on formatting in the EDIT view.  Also read this: https://stackoverflow.com/help/formatting","body":"There is help on formatting in the EDIT view.  Also read this: <a href=\"https://stackoverflow.com/help/formatting\">stackoverflow.com/help/formatting</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634386300,"post_id":69593036,"comment_id":123013208,"body_markdown":"I don&#39;t think you did either.  The array is allocated, but nothing assigns anything to an array cell of `students`.  It looks like the objects in `fts` and `pts` just get thrown away ...","body":"I don&#39;t think you did either.  The array is allocated, but nothing assigns anything to an array cell of <code>students</code>.  It looks like the objects in <code>fts</code> and <code>pts</code> just get thrown away ..."},{"owner":{"account_id":22298635,"reputation":9,"user_id":16524253,"display_name":"kingo"},"score":0,"creation_date":1634388806,"post_id":69593036,"comment_id":123013806,"body_markdown":"@StephenC i tried making my question better i did some spacing between the classes. And how do you think i should assign anything to the array cell of students I&#39;m trying to fix it but still I&#39;m not getting the desired results.","body":"@StephenC i tried making my question better i did some spacing between the classes. And how do you think i should assign anything to the array cell of students I&#39;m trying to fix it but still I&#39;m not getting the desired results."},{"owner":{"account_id":22298635,"reputation":9,"user_id":16524253,"display_name":"kingo"},"score":0,"creation_date":1634389017,"post_id":69593036,"comment_id":123013866,"body_markdown":"@StephenC And for the objects fts and pts I think they are working in that part. I think the problems are in the print methods in the college and student classes.","body":"@StephenC And for the objects fts and pts I think they are working in that part. I think the problems are in the print methods in the college and student classes."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634391733,"post_id":69593036,"comment_id":123014389,"body_markdown":"&quot;And how do you think i should assign anything to the array cell of students I&#39;m trying to fix it but still I&#39;m not getting the desired results.&quot; - You should assign the `fts` and `pts` to cells in the array.   The problem is NOT in the print methods.","body":"&quot;And how do you think i should assign anything to the array cell of students I&#39;m trying to fix it but still I&#39;m not getting the desired results.&quot; - You should assign the <code>fts</code> and <code>pts</code> to cells in the array.   The problem is NOT in the print methods."},{"owner":{"account_id":22298635,"reputation":9,"user_id":16524253,"display_name":"kingo"},"score":0,"creation_date":1634392059,"post_id":69593036,"comment_id":123014455,"body_markdown":"@StephenC can you tell me how I can do that I&#39;m not understanding what you mean.","body":"@StephenC can you tell me how I can do that I&#39;m not understanding what you mean."},{"owner":{"account_id":22298635,"reputation":9,"user_id":16524253,"display_name":"kingo"},"score":0,"creation_date":1634392173,"post_id":69593036,"comment_id":123014478,"body_markdown":"@StephenC the array type is int and the fts and pts types is as their classes FullltimeStudent and PartTimeStudent","body":"@StephenC the array type is int and the fts and pts types is as their classes FullltimeStudent and PartTimeStudent"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634443246,"creation_date":1634393394,"answer_id":69596370,"question_id":69593036,"body_markdown":"Lets work this through, starting with the `printStudentDetails()`\r\n\r\nYou say that nothing is being output (presumably ... other than the title).\r\n\r\n        for (int i = 0; i &lt; numStudents; i++) {\r\n            if (students[i] != null) \r\n                students[i].printInfo();\r\n        }\r\n\r\nQ: Why would that print nothing?\r\n\r\nA: Two possible reasons:\r\n\r\n 1. Because `numStudents` is zero.\r\n 2. Because `students[i]` is `null` ... for all `i`.\r\n\r\nSo lets take a look at the code above:\r\n\r\n    Student [] students;\r\n    int numStudents;\r\n    College(){}\r\n    \r\n    College(String name, int num) {\r\n        this.name = name;\r\n        students = new Student[num];\r\n    }\r\n\r\nIn English, when a `College` is created, `student` is initialized to an array of `Student` objects whose length will be `num`.  The elements of that array will all be `null`.  The value `numStudents` will be zero.\r\n\r\n(Is this ringing any bells yet?)\r\n\r\nSo lets then look at `ReadStudentDetails` code where the student information is read.  \r\n\r\n    int type = sc.nextInt();\r\n    if (type == 1) {    \r\n        FulltimeStudent fts = new FulltimeStudent();\r\n        fts.readInfo();\r\n    }\r\n    ...\r\n\r\nQ: What happens to the `FulltimeStudent` object?\r\n\r\nA: You read information into it, and then .... nothing.  The `fts` variable goes out of scope and nothing will be able to see / use the object you just created.\r\n\r\nQ: How does it get into the `student` array?  \r\n\r\nA: It doesn&#39;t!!\r\n\r\nQ: Why is `numStudents` **still** zero&lt;sup&gt;1&lt;/sup&gt;?  Why is `students` still all `nulls`?\r\n\r\nA: Because your code hasn&#39;t changed either of them ... when it created the `Student` object!!  Or anywhere else.\r\n\r\nQ: So what **should** it do?\r\n\r\nA: It should:\r\n\r\n1. Check that `numStudents` is less than `students.length`.\r\n2. Assign the reference in `fts` to `students[numStudents]`.\r\n3. Increment `numStudents` by one.\r\n\r\nReading through the rest of the method there are 3 other places where you are doing the same thing ... more or less.  Similar correcions are required in each case.\r\n\r\n&lt;sup&gt;1 - In fact, I noticed that *right at the end* of the `ReadStudentDetails` method you are incrementing `numStudents` ... ONCE.  So the variable will be one rather than zero.  But you didn&#39;t put any of the students into `students`, so there won&#39;t be anything there to print.&lt;/sup&gt;\r\n\r\n-----------------------\r\n\r\nThe Lessons to Learn\r\n-------------------\r\n\r\nThe main lesson here is that an application does what you (the programmer) tell it to do (in the code).  Nothing more.  Nothing less.  If you don&#39;t tell it to assign something ... it won&#39;t.\r\n\r\nSo if you want to figure out why your application is not working, you need to carefully read what you told it to do in code.  **Carefully**.  Then compare what you are seeing (e.g. output, exceptions ... or no output) with the code.  And apply some reasoning to the problem.\r\n\r\n&gt; I saw behavior X.  What are the circumstances that could give rise to that behavior?  What can I deduce about the state of the program?  Can I confirm that some other way?  (By adding trace print statements to print out variables.  By using my IDE&#39;s debugger.  By looking at other evidence.)\r\n\r\nThen work backwards ... to figure out how / why the circumstances or state that you can observe or hypothesize *could* have happened ... until you reach the point where you have identified the flaw (bug) in your code.\r\n\r\nI recommend that you take the time to read these:\r\n\r\n  - [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)\r\n  - [Rubber Duck Debugging](https://rubberduckdebugging.com/)\r\n\r\n---------------\r\n\r\nI will also note that there are other bugs in your code ... but I&#39;m not going to point them out.  Also, there a lot of style errors in the code as you have written it.  I don&#39;t know if you assignment will be marked on coding style, but if it is you should (IMO) lose most of the style marks.  Make sure that you fix them before you submit the assignment.  (And I&#39;m not going to point them out.  Check your lecture notes, etcetera.)\r\n","title":"assigning values to the variables","body":"<p>Lets work this through, starting with the <code>printStudentDetails()</code></p>\n<p>You say that nothing is being output (presumably ... other than the title).</p>\n<pre><code>    for (int i = 0; i &lt; numStudents; i++) {\n        if (students[i] != null) \n            students[i].printInfo();\n    }\n</code></pre>\n<p>Q: Why would that print nothing?</p>\n<p>A: Two possible reasons:</p>\n<ol>\n<li>Because <code>numStudents</code> is zero.</li>\n<li>Because <code>students[i]</code> is <code>null</code> ... for all <code>i</code>.</li>\n</ol>\n<p>So lets take a look at the code above:</p>\n<pre><code>Student [] students;\nint numStudents;\nCollege(){}\n\nCollege(String name, int num) {\n    this.name = name;\n    students = new Student[num];\n}\n</code></pre>\n<p>In English, when a <code>College</code> is created, <code>student</code> is initialized to an array of <code>Student</code> objects whose length will be <code>num</code>.  The elements of that array will all be <code>null</code>.  The value <code>numStudents</code> will be zero.</p>\n<p>(Is this ringing any bells yet?)</p>\n<p>So lets then look at <code>ReadStudentDetails</code> code where the student information is read.</p>\n<pre><code>int type = sc.nextInt();\nif (type == 1) {    \n    FulltimeStudent fts = new FulltimeStudent();\n    fts.readInfo();\n}\n...\n</code></pre>\n<p>Q: What happens to the <code>FulltimeStudent</code> object?</p>\n<p>A: You read information into it, and then .... nothing.  The <code>fts</code> variable goes out of scope and nothing will be able to see / use the object you just created.</p>\n<p>Q: How does it get into the <code>student</code> array?</p>\n<p>A: It doesn't!!</p>\n<p>Q: Why is <code>numStudents</code> <strong>still</strong> zero<sup>1</sup>?  Why is <code>students</code> still all <code>nulls</code>?</p>\n<p>A: Because your code hasn't changed either of them ... when it created the <code>Student</code> object!!  Or anywhere else.</p>\n<p>Q: So what <strong>should</strong> it do?</p>\n<p>A: It should:</p>\n<ol>\n<li>Check that <code>numStudents</code> is less than <code>students.length</code>.</li>\n<li>Assign the reference in <code>fts</code> to <code>students[numStudents]</code>.</li>\n<li>Increment <code>numStudents</code> by one.</li>\n</ol>\n<p>Reading through the rest of the method there are 3 other places where you are doing the same thing ... more or less.  Similar correcions are required in each case.</p>\n<p><sup>1 - In fact, I noticed that <em>right at the end</em> of the <code>ReadStudentDetails</code> method you are incrementing <code>numStudents</code> ... ONCE.  So the variable will be one rather than zero.  But you didn't put any of the students into <code>students</code>, so there won't be anything there to print.</sup></p>\n<hr />\n<h2>The Lessons to Learn</h2>\n<p>The main lesson here is that an application does what you (the programmer) tell it to do (in the code).  Nothing more.  Nothing less.  If you don't tell it to assign something ... it won't.</p>\n<p>So if you want to figure out why your application is not working, you need to carefully read what you told it to do in code.  <strong>Carefully</strong>.  Then compare what you are seeing (e.g. output, exceptions ... or no output) with the code.  And apply some reasoning to the problem.</p>\n<blockquote>\n<p>I saw behavior X.  What are the circumstances that could give rise to that behavior?  What can I deduce about the state of the program?  Can I confirm that some other way?  (By adding trace print statements to print out variables.  By using my IDE's debugger.  By looking at other evidence.)</p>\n</blockquote>\n<p>Then work backwards ... to figure out how / why the circumstances or state that you can observe or hypothesize <em>could</em> have happened ... until you reach the point where you have identified the flaw (bug) in your code.</p>\n<p>I recommend that you take the time to read these:</p>\n<ul>\n<li><a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a></li>\n<li><a href=\"https://rubberduckdebugging.com/\" rel=\"nofollow noreferrer\">Rubber Duck Debugging</a></li>\n</ul>\n<hr />\n<p>I will also note that there are other bugs in your code ... but I'm not going to point them out.  Also, there a lot of style errors in the code as you have written it.  I don't know if you assignment will be marked on coding style, but if it is you should (IMO) lose most of the style marks.  Make sure that you fix them before you submit the assignment.  (And I'm not going to point them out.  Check your lecture notes, etcetera.)</p>\n"}],"owner":{"account_id":22298635,"reputation":9,"user_id":16524253,"display_name":"kingo"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1634660149,"creation_date":1634363330,"question_id":69593036,"body_markdown":"hello in my projework and almost finished everything bu ran into a sm it so any help will be appreciated.\r\nIt class and in my classes i cannot access the variables for some reasons and they are not printing\r\nsabcdahwidawidaowidawiodhwaidadihqwdoihqwdoihodihwdiohqwdoihqwdioqwddddddddddddddddddddddddddddd\r\ni am having troubles in my project?\r\nhow i can fix this??\r\ncan someone please help????\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.\r\n    public abs\r\n\tpublic String fi\r\n\tpub\r\n\tpublic \r\n\tPer\r\n\t\r\n\t}\r\n\tpublic voo() {\t\r\n\t\tSystem.out.printlmber);\r\n\t}\t\r\n    }\r\n\r\n\r\n\r\n    \r\n    \r\n\tpublic vo\r\n    }\r\n\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    public cl\r\n\tpublic double gpa;\r\n\tStuScanner(System.in);\r\n\t\tSystem.out\r\n\t\tprogramNam\r\n\t\tSystem.out.printer: &quot;);\r\n\t\tst\r\n\t\tSystem.out.print(&quot;Enter first name: &quot;);\r\n\t\tfirstName = sc.next();\r\n\t\tSystem.out.print(&quot;Enter last name: &quot;);\r\n\t\tlas\r\n\t\tSystem.out.print(&quot;Enter: &quot;);\r\n\t\tema\r\n\t\tSystem.out.print(&quot;Enter phone number: &quot;);\r\n\t\tphoneN\r\n\t   {\r\n\t\tScanner sc =m.in);\r\n\t\tSys(&quot;Enrses: &quot;);\r\n\t\r\n\t\tdoubl\r\n\t\tfor(i\r\n\t\t\tSystem.out.print(&quot;&quot;&quot;:&quot;);\r\n\t\t\tma\r\n\t\t}\r\n\r\n\t\tca\t\r\n\t   }\r\n\t   @Override\r\n\t    public void calculateGPA(double\r\n\t\tfor(int i=0; i &lt; m\r\n\t \r\n\t   publiInfo() {\r\n\t\tSystem.out.printf(&quot;%25d  \r\n    ,programName ;\r\n\t}\r\n     }\r\n\r\n\r\n\r\n\r\n    import jr;\r\n    publ\r\n\tdoub\r\n\t\tSystem.out.\r\n\t}\r\n\r\n\tpublic void printInfo() {\t\r\n\t\tsuper.pr\r\n\t\tSystem.out.printf(&quot;%25d |\\n&quot;\t\r\n\t}\r\n    }\r\n\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    public class Par\t\r\n\td\r\n\tParttimeStud\r\n\t@Override\r\n\tpublic void rea\r\n\t\tScanner sc = new \r\n\t\tSystem.out.println(&quot;Ent cous:&quot;);\r\n\t\tcourseFeesTotal\r\n\t\tSystem.out.prir credit hours:&quot;);\r\n\t\tcid printInfo() {\t\r\n\t\tsuper.printInfo\r\n    import java.uti\r\n    public class College {\r\n\tSt\r\n\tS\r\n\tCollege\r\n\tpublic void pri\r\n\t\tSystem.out.print\r\n\t\tfo\r\n\t);\r\n\t\tSystem.out.printf(&quot;%n%15s  | %15s  | %15s  | %15s  | %15s  | %15s  | %15s  | %15s  |\\n&quot;\r\n     &quot;Programr\r\n\t}\r\n\tpublic void ReadStudls() {\r\n\t\tScanner sc =ystem.in)\r\n\t\tSystem.out.printlnStud&quot;);\r\n\t\tSystem.out.print&quot;);\r\n\t\tint type = sc);\r\n\t\tif (type == 1) {\t\r\n\t\t\tFulltimeStudent ftewdent();\r\n\t\t\tfts.readInfo();\r\n\t\t}\r\n\t\telse\r\n\t\t\tParttimeSs = new nt(\r\n\t\t}\r\n\t\telse if (type 2) { \r\n\tnter ***&quot;);\r\n\t\t}\r\n\t\twhile (type &lt;1 || type &gt;2){\r\n\t\t\tSystem.out.prinime S\r\n\t\t\tSystem.out.print(&quot;En\r\n\t\r\n\t\t\t}\r\n\t\t\telse}\r\n\t\t\telse if (type &lt;1 || type &gt;2) { \r\n\tpublic void printStude{\r\n\t\tif (\r\n\t\t\tSystem&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tprintTitle();\r\n\t\t\tfor (intnts {\r\n\t\t\t\tif (stud \r\n\t\t\t\t\tsi]();\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n     public class ColltemTest {\r\n\tpublic static voing[] args) {\t\r\n\t\tScanner sc = new Sc\r\n\t\tSystem.out.prine\r\n\t\tString name = s\r\n\t\tSystem.out.prin\r\n\t\tint ;\t\r\n\t\tCollege c = newudents);\t\t\r\n\t\t\r\n\t\tdo {\r\n\t\t\tSystem.out.printent \\n2 os \\\r\n      \\\r\n\t\t\toption = \r\n\t\t\t\tc.ReadStudentDeta\r\n\t\t\telse if \r\n\t\t}while(optihilewning \r\n      until option 3 is cho\r\n\t}\r\n    \r\n\r\n\r\n","title":"assigning values to the variables","body":"<p>hello in my projework and almost finished everything bu ran into a sm it so any help will be appreciated.\nIt class and in my classes i cannot access the variables for some reasons and they are not printing\nsabcdahwidawidaowidawiodhwaidadihqwdoihqwdoihodihwdiohqwdoihqwdioqwddddddddddddddddddddddddddddd\ni am having troubles in my project?\nhow i can fix this??\ncan someone please help????</p>\n<pre><code>import java.util.\npublic abs\npublic String fi\npub\npublic \nPer\n\n}\npublic voo() {  \n    System.out.printlmber);\n}   \n}\n\n\n\n\n\npublic vo\n}\n\n\n\n\nimport java.util.Scanner;\npublic cl\npublic double gpa;\nStuScanner(System.in);\n    System.out\n    programNam\n    System.out.printer: &quot;);\n    st\n    System.out.print(&quot;Enter first name: &quot;);\n    firstName = sc.next();\n    System.out.print(&quot;Enter last name: &quot;);\n    las\n    System.out.print(&quot;Enter: &quot;);\n    ema\n    System.out.print(&quot;Enter phone number: &quot;);\n    phoneN\n   {\n    Scanner sc =m.in);\n    Sys(&quot;Enrses: &quot;);\n\n    doubl\n    for(i\n        System.out.print(&quot;&quot;&quot;:&quot;);\n        ma\n    }\n\n    ca  \n   }\n   @Override\n    public void calculateGPA(double\n    for(int i=0; i &lt; m\n \n   publiInfo() {\n    System.out.printf(&quot;%25d  \n,programName ;\n}\n }\n\n\n\n\nimport jr;\npubl\ndoub\n    System.out.\n}\n\npublic void printInfo() {   \n    super.pr\n    System.out.printf(&quot;%25d |\\n&quot;    \n}\n}\n\n\n\n\nimport java.util.Scanner;\npublic class Par    \nd\nParttimeStud\n@Override\npublic void rea\n    Scanner sc = new \n    System.out.println(&quot;Ent cous:&quot;);\n    courseFeesTotal\n    System.out.prir credit hours:&quot;);\n    cid printInfo() {   \n    super.printInfo\nimport java.uti\npublic class College {\nSt\nS\nCollege\npublic void pri\n    System.out.print\n    fo\n);\n    System.out.printf(&quot;%n%15s  | %15s  | %15s  | %15s  | %15s  | %15s  | %15s  | %15s  |\\n&quot;\n &quot;Programr\n}\npublic void ReadStudls() {\n    Scanner sc =ystem.in)\n    System.out.printlnStud&quot;);\n    System.out.print&quot;);\n    int type = sc);\n    if (type == 1) {    \n        FulltimeStudent ftewdent();\n        fts.readInfo();\n    }\n    else\n        ParttimeSs = new nt(\n    }\n    else if (type 2) { \nnter ***&quot;);\n    }\n    while (type &lt;1 || type &gt;2){\n        System.out.prinime S\n        System.out.print(&quot;En\n\n        }\n        else}\n        else if (type &lt;1 || type &gt;2) { \npublic void printStude{\n    if (\n        System&quot;);\n    }\n    else {\n        printTitle();\n        for (intnts {\n            if (stud \n                si]();\n        }\n    \n}\n}\n\n\n\n\nimport java.util.Scanner;\n public class ColltemTest {\npublic static voing[] args) {   \n    Scanner sc = new Sc\n    System.out.prine\n    String name = s\n    System.out.prin\n    int ;   \n    College c = newudents);     \n    \n    do {\n        System.out.printent \\n2 os \\\n  \\\n        option = \n            c.ReadStudentDeta\n        else if \n    }while(optihilewning \n  until option 3 is cho\n}\n</code></pre>\n"},{"tags":["java","jls"],"comments":[{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1653688120,"post_id":69634299,"comment_id":127920136,"body_markdown":"It looks like [javac manually breaks the loop](https://github.com/openjdk/jdk/blob/0f2113cee79b9645105b4753c7d7eacb83b872c2/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L1587).","body":"It looks like <a href=\"https://github.com/openjdk/jdk/blob/0f2113cee79b9645105b4753c7d7eacb83b872c2/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L1587\" rel=\"nofollow noreferrer\">javac manually breaks the loop</a>."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1654385620,"post_id":69634299,"comment_id":128078874,"body_markdown":"It is also nice to know [that I am not insane](https://bugs.openjdk.java.net/browse/JDK-8078016).","body":"It is also nice to know <a href=\"https://bugs.openjdk.java.net/browse/JDK-8078016\" rel=\"nofollow noreferrer\">that I am not insane</a>."}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634659743,"creation_date":1634659743,"question_id":69634299,"body_markdown":"(This is not a basic recursion question, nor is it a question about how to work with `ParameterizedType`. This is a question concerning the application of some algorithms in the Java Language Specification to types of various kinds.)\r\n\r\n[The Java Language Specification, &#167;4.10.2, says what a parameterized type&#39;s _direct supertypes_ are](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.10.2).  (This also involves [notions of type containment](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.5.1) and [capture conversion](https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10); more below.)\r\n\r\nThere are two cases:\r\n1. The parameterized type has no wildcard type arguments.\r\n2. The parameterized type has at least one wildcard type argument.\r\n\r\nIn Case 1, to get a parameterized type&#39;s direct supertypes, you proceed (among other paths) by figuring out [what types contain the parameterized type&#39;s type arguments](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.5.1).  (These amount to a bunch of wildcards that can contain the argument itself, along with the argument itself.  So in `Iterable&lt;Object&gt;`, `Object`&#39;s containing types are `?`, `? super Object` and `Object` itself.)\r\n\r\nSo your wildcard-free parameterized type&#39;s direct supertypes end up being itself and a bunch of wildcarded flavors of it.\r\n\r\nIn Case 2, the first thing you do to your wildcard-containing parameterized type is [apply capture conversion to it](https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10) and you end up with a wildcard-free parameterized type suitable for running through Case 1.\r\n\r\nNow, to get _all_ supertypes of any type, not just the direct ones, you [apply the direct supertype relation reflexively and transitively to it](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.10).\r\n\r\nWith what I&#39;ve outlined above, in the case of parameterized types, doesn&#39;t this result in an infinite loop, even if you keep track of types you&#39;ve already &quot;seen&quot; as you ordinarily do when &quot;doing recursion&quot; (i.e. in a set of some kind)?\r\n\r\nThat is: suppose you&#39;re trying to get _all_ supertypes, not just the direct ones, of `Iterable&lt;?&gt;`:\r\n* You start by finding its direct supertypes.\r\n  * By definition you enter Case 2 because the type is parameterized with a wildcard.\r\n  * You apply capture conversion so you can enter Case 1.\r\n  * Now you are working with `Iterable&lt;CAP extends Object&gt;` as if that were the type you had been working with all along.\r\n  * You enter Case 1 because it doesn&#39;t have any wildcards in it.\r\n  * You figure out what the containing types of `CAP extends Object` are.\r\n    * They are ([&#167;5.1.10](https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10)):\r\n      * `?`\r\n      * `? extends CAP extends Object`\r\n      * `? super CAP extends Object`\r\n      * `CAP extends Object` \r\n  * So the direct supertypes of the parameterized type `Iterable&lt;?&gt;` are:\r\n    * `Iterable` (the raw type)\r\n    * `Object` (because `Iterable` is an interface with no direct superinterfaces)\r\n    * `Iterable&lt;?&gt;` (containing type)\r\n    * `Iterable&lt;? extends CAP extends Object&gt;` (containing type)\r\n    * `Iterable&lt;? super CAP extends Object&gt;` (containing type)\r\n    * `Iterable&lt;CAP extends Object` (containing type)\r\n* Now run the direct supertype relation over these (the &quot;transitive&quot; part)\r\n* You get an infinite loop because one of the containing types is `Iterable&lt;? extends CAP extends Object&gt;` (applying capture conversion to that results in `Iterable&lt;CAP extends CAP extends Object&gt;`, so one of its supertypes is `Iterable&lt;? extends CAP extends CAP...` you get the idea).\r\n\r\nWhat is the proper way of breaking this loop, or am I overlooking some condition somewhere that says, effectively, the containing types of a fresh type variable are simply itself?","title":"How do I avoid infinite loops while calculating a parameterized type&#39;s supertypes?","body":"<p>(This is not a basic recursion question, nor is it a question about how to work with <code>ParameterizedType</code>. This is a question concerning the application of some algorithms in the Java Language Specification to types of various kinds.)</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.10.2\" rel=\"nofollow noreferrer\">The Java Language Specification, §4.10.2, says what a parameterized type's <em>direct supertypes</em> are</a>.  (This also involves <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.5.1\" rel=\"nofollow noreferrer\">notions of type containment</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10\" rel=\"nofollow noreferrer\">capture conversion</a>; more below.)</p>\n<p>There are two cases:</p>\n<ol>\n<li>The parameterized type has no wildcard type arguments.</li>\n<li>The parameterized type has at least one wildcard type argument.</li>\n</ol>\n<p>In Case 1, to get a parameterized type's direct supertypes, you proceed (among other paths) by figuring out <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.5.1\" rel=\"nofollow noreferrer\">what types contain the parameterized type's type arguments</a>.  (These amount to a bunch of wildcards that can contain the argument itself, along with the argument itself.  So in <code>Iterable&lt;Object&gt;</code>, <code>Object</code>'s containing types are <code>?</code>, <code>? super Object</code> and <code>Object</code> itself.)</p>\n<p>So your wildcard-free parameterized type's direct supertypes end up being itself and a bunch of wildcarded flavors of it.</p>\n<p>In Case 2, the first thing you do to your wildcard-containing parameterized type is <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10\" rel=\"nofollow noreferrer\">apply capture conversion to it</a> and you end up with a wildcard-free parameterized type suitable for running through Case 1.</p>\n<p>Now, to get <em>all</em> supertypes of any type, not just the direct ones, you <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.10\" rel=\"nofollow noreferrer\">apply the direct supertype relation reflexively and transitively to it</a>.</p>\n<p>With what I've outlined above, in the case of parameterized types, doesn't this result in an infinite loop, even if you keep track of types you've already &quot;seen&quot; as you ordinarily do when &quot;doing recursion&quot; (i.e. in a set of some kind)?</p>\n<p>That is: suppose you're trying to get <em>all</em> supertypes, not just the direct ones, of <code>Iterable&lt;?&gt;</code>:</p>\n<ul>\n<li>You start by finding its direct supertypes.\n<ul>\n<li>By definition you enter Case 2 because the type is parameterized with a wildcard.</li>\n<li>You apply capture conversion so you can enter Case 1.</li>\n<li>Now you are working with <code>Iterable&lt;CAP extends Object&gt;</code> as if that were the type you had been working with all along.</li>\n<li>You enter Case 1 because it doesn't have any wildcards in it.</li>\n<li>You figure out what the containing types of <code>CAP extends Object</code> are.\n<ul>\n<li>They are (<a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10\" rel=\"nofollow noreferrer\">§5.1.10</a>):\n<ul>\n<li><code>?</code></li>\n<li><code>? extends CAP extends Object</code></li>\n<li><code>? super CAP extends Object</code></li>\n<li><code>CAP extends Object</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>So the direct supertypes of the parameterized type <code>Iterable&lt;?&gt;</code> are:\n<ul>\n<li><code>Iterable</code> (the raw type)</li>\n<li><code>Object</code> (because <code>Iterable</code> is an interface with no direct superinterfaces)</li>\n<li><code>Iterable&lt;?&gt;</code> (containing type)</li>\n<li><code>Iterable&lt;? extends CAP extends Object&gt;</code> (containing type)</li>\n<li><code>Iterable&lt;? super CAP extends Object&gt;</code> (containing type)</li>\n<li><code>Iterable&lt;CAP extends Object</code> (containing type)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Now run the direct supertype relation over these (the &quot;transitive&quot; part)</li>\n<li>You get an infinite loop because one of the containing types is <code>Iterable&lt;? extends CAP extends Object&gt;</code> (applying capture conversion to that results in <code>Iterable&lt;CAP extends CAP extends Object&gt;</code>, so one of its supertypes is <code>Iterable&lt;? extends CAP extends CAP...</code> you get the idea).</li>\n</ul>\n<p>What is the proper way of breaking this loop, or am I overlooking some condition somewhere that says, effectively, the containing types of a fresh type variable are simply itself?</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":15476883,"reputation":43,"user_id":11165326,"display_name":"haochao2016"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634659650,"creation_date":1634659650,"answer_id":69634276,"question_id":64133052,"body_markdown":"there is a configuration in spark, spark.task.maxFailures default is 4. so spark retry the task when it&#39;s failed.  and the Taskrunner will update the task status to driver. and driver will forward this status to taskschedulerimpl. in your case, only executor OOM and DiskBlockManager shutdown, but the driver is alive. i think the executor is alive as well. and will retry the task with same taskSetManager. the failed times of this task arrive 4 times, this stage will be cancelled, and executor will be killed.","title":"Spark keeps submitting tasks to dead executor","body":"<p>there is a configuration in spark, spark.task.maxFailures default is 4. so spark retry the task when it's failed.  and the Taskrunner will update the task status to driver. and driver will forward this status to taskschedulerimpl. in your case, only executor OOM and DiskBlockManager shutdown, but the driver is alive. i think the executor is alive as well. and will retry the task with same taskSetManager. the failed times of this task arrive 4 times, this stage will be cancelled, and executor will be killed.</p>\n"}],"owner":{"account_id":15940211,"reputation":21,"user_id":11502189,"display_name":"Kapil Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634659650,"creation_date":1601451837,"question_id":64133052,"body_markdown":"i am working on apache spark and i am facing a very weird issue. One of the executors fail because of OOM and its shut down hooks clear all the storage (memory and disk) but apparently driver keeps submitting the failed tasks on the same executor due to PROCESS_LOCAL tasks.\r\n\r\nNow that the storage on that machine is cleared, all the retried tasks also fail causing the whole stage to fail (after 4 retries)\r\n\r\nWhat i don&#39;t understand is, how couldn&#39;t driver know that the executor is in shut down and will not be able to execute any tasks.\r\n\r\nConfiguration:\r\n\r\n- heartbeat interval: 60s \r\n\r\n- Network timeout: 600s\r\n\r\nLogs to confirm that executor is accepting tasks post shutdown\r\n```java\r\n20/09/29 20:26:32 ERROR [Executor task launch worker for task 138513] Executor: Exception in task 6391.0 in stage 17.0 (TID 138513)\r\njava.lang.OutOfMemoryError: Java heap space\r\n20/09/29 20:26:32 ERROR [Executor task launch worker for task 138513] SparkUncaughtExceptionHandler: Uncaught exception in thread Thread[Executor task launch worker for task 138513,5,main]\r\njava.lang.OutOfMemoryError: Java heap space\r\n20/09/29 20:26:32 INFO [pool-8-thread-1] DiskBlockManager: Shutdown hook called\r\n20/09/29 20:26:35 ERROR [Executor task launch worker for task 138295] Executor: Exception in task 6239.0 in stage 17.0 (TID 138295)\r\njava.io.FileNotFoundException: /storage/1/spark/spark-ba168da6-dc11-4e15-bd95-1e58198c81e7/executor-8dea198c-741a-4733-8fbb-df57241acdd5/blockmgr-1fc6b30a-c24e-4bb2-a133-5e411cef810f/35/temp_shuffle_b5df90ac-78de-48e3-9c2d-891f8b2ce1fa (No such file or directory)\r\n20/09/29 20:26:36 ERROR [Executor task launch worker for task 139484] Executor: Exception in task 6587.0 in stage 17.0 (TID 139484)\r\norg.apache.spark.SparkException: Block rdd_3861_6587 was not found even though it&#39;s read-locked\r\n20/09/29 20:26:42 WARN [Thread-2] ShutdownHookManager: ShutdownHook &#39;$anon$2&#39; timeout, java.util.concurrent.TimeoutException\r\njava.util.concurrent.TimeoutException: null\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:205) ~[?:1.8.0_172]\r\n20/09/29 20:26:44 ERROR [Executor task launch worker for task 140256] Executor: Exception in task 6576.3 in stage 17.0 (TID 140256)\r\njava.io.FileNotFoundException: /storage/1/spark/spark-ba168da6-dc11-4e15-bd95-1e58198c81e7/executor-8dea198c-741a-4733-8fbb-df57241acdd5/blockmgr-1fc6b30a-c24e-4bb2-a133-5e411cef810f/30/rdd_3861_6576 (No such file or directory)\r\n20/09/29 20:26:44 INFO [dispatcher-event-loop-0] Executor: Executor is trying to kill task 6866.1 in stage 17.0 (TID 140329), reason: stage cancelled\r\n20/09/29 20:26:47 INFO [pool-8-thread-1] ShutdownHookManager: Shutdown hook called\r\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: stopping client from cache: org.apache.hadoop.ipc.Client@3117bde5\r\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: stopping client from cache: org.apache.hadoop.ipc.Client@3117bde5\r\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: removing client from cache: org.apache.hadoop.ipc.Client@3117bde5\r\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3117bde5\r\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: Stopping client\r\n20/09/29 20:26:47 DEBUG [Thread-2] ShutdownHookManager: ShutdownHookManger complete shutdown\r\n20/09/29 20:26:55 INFO [dispatcher-event-loop-14] CoarseGrainedExecutorBackend: Got assigned task 141510\r\n20/09/29 20:26:55 INFO [Executor task launch worker for task 141510] Executor: Running task 545.1 in stage 26.0 (TID 141510)\r\n```\r\n(I have trimmed down the stack traces as those are just spark RDD shuffle read methods)\r\n\r\nIf we check the timestamps, then shutdown started at `20/09/29 20:26:32` and ended at `20/09/29 20:26:47`, in between this duration, driver sent all the retried tasks to the same executor and they all failed causing stage cancellation. \r\n\r\ncan someone help me understand this behavior ? Also let me know if anything else is required \r\n","title":"Spark keeps submitting tasks to dead executor","body":"<p>i am working on apache spark and i am facing a very weird issue. One of the executors fail because of OOM and its shut down hooks clear all the storage (memory and disk) but apparently driver keeps submitting the failed tasks on the same executor due to PROCESS_LOCAL tasks.</p>\n<p>Now that the storage on that machine is cleared, all the retried tasks also fail causing the whole stage to fail (after 4 retries)</p>\n<p>What i don't understand is, how couldn't driver know that the executor is in shut down and will not be able to execute any tasks.</p>\n<p>Configuration:</p>\n<ul>\n<li><p>heartbeat interval: 60s</p>\n</li>\n<li><p>Network timeout: 600s</p>\n</li>\n</ul>\n<p>Logs to confirm that executor is accepting tasks post shutdown</p>\n<pre class=\"lang-java prettyprint-override\"><code>20/09/29 20:26:32 ERROR [Executor task launch worker for task 138513] Executor: Exception in task 6391.0 in stage 17.0 (TID 138513)\njava.lang.OutOfMemoryError: Java heap space\n20/09/29 20:26:32 ERROR [Executor task launch worker for task 138513] SparkUncaughtExceptionHandler: Uncaught exception in thread Thread[Executor task launch worker for task 138513,5,main]\njava.lang.OutOfMemoryError: Java heap space\n20/09/29 20:26:32 INFO [pool-8-thread-1] DiskBlockManager: Shutdown hook called\n20/09/29 20:26:35 ERROR [Executor task launch worker for task 138295] Executor: Exception in task 6239.0 in stage 17.0 (TID 138295)\njava.io.FileNotFoundException: /storage/1/spark/spark-ba168da6-dc11-4e15-bd95-1e58198c81e7/executor-8dea198c-741a-4733-8fbb-df57241acdd5/blockmgr-1fc6b30a-c24e-4bb2-a133-5e411cef810f/35/temp_shuffle_b5df90ac-78de-48e3-9c2d-891f8b2ce1fa (No such file or directory)\n20/09/29 20:26:36 ERROR [Executor task launch worker for task 139484] Executor: Exception in task 6587.0 in stage 17.0 (TID 139484)\norg.apache.spark.SparkException: Block rdd_3861_6587 was not found even though it's read-locked\n20/09/29 20:26:42 WARN [Thread-2] ShutdownHookManager: ShutdownHook '$anon$2' timeout, java.util.concurrent.TimeoutException\njava.util.concurrent.TimeoutException: null\n    at java.util.concurrent.FutureTask.get(FutureTask.java:205) ~[?:1.8.0_172]\n20/09/29 20:26:44 ERROR [Executor task launch worker for task 140256] Executor: Exception in task 6576.3 in stage 17.0 (TID 140256)\njava.io.FileNotFoundException: /storage/1/spark/spark-ba168da6-dc11-4e15-bd95-1e58198c81e7/executor-8dea198c-741a-4733-8fbb-df57241acdd5/blockmgr-1fc6b30a-c24e-4bb2-a133-5e411cef810f/30/rdd_3861_6576 (No such file or directory)\n20/09/29 20:26:44 INFO [dispatcher-event-loop-0] Executor: Executor is trying to kill task 6866.1 in stage 17.0 (TID 140329), reason: stage cancelled\n20/09/29 20:26:47 INFO [pool-8-thread-1] ShutdownHookManager: Shutdown hook called\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: stopping client from cache: org.apache.hadoop.ipc.Client@3117bde5\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: stopping client from cache: org.apache.hadoop.ipc.Client@3117bde5\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: removing client from cache: org.apache.hadoop.ipc.Client@3117bde5\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3117bde5\n20/09/29 20:26:47 DEBUG [pool-8-thread-1] Client: Stopping client\n20/09/29 20:26:47 DEBUG [Thread-2] ShutdownHookManager: ShutdownHookManger complete shutdown\n20/09/29 20:26:55 INFO [dispatcher-event-loop-14] CoarseGrainedExecutorBackend: Got assigned task 141510\n20/09/29 20:26:55 INFO [Executor task launch worker for task 141510] Executor: Running task 545.1 in stage 26.0 (TID 141510)\n</code></pre>\n<p>(I have trimmed down the stack traces as those are just spark RDD shuffle read methods)</p>\n<p>If we check the timestamps, then shutdown started at <code>20/09/29 20:26:32</code> and ended at <code>20/09/29 20:26:47</code>, in between this duration, driver sent all the retried tasks to the same executor and they all failed causing stage cancellation.</p>\n<p>can someone help me understand this behavior ? Also let me know if anything else is required</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634659599,"creation_date":1634659599,"answer_id":69634259,"question_id":69633868,"body_markdown":"A good old iterator should do:\r\n\r\n```\r\nfor (Iterator&lt;Integer&gt; it = measurements.iterator(); it.hasNext();) {\r\n    if (it.next() &lt; 10) {\r\n        it.remove();\r\n        if (it.hasNext()) { // ensures no failure if `it` was at last element\r\n            it.next();\r\n            it.remove();\r\n        }\r\n    }\r\n}\r\n```","title":"How to remove an element and the element after that in an ArrayList if the value of the element is less than a specific integer?","body":"<p>A good old iterator should do:</p>\n<pre><code>for (Iterator&lt;Integer&gt; it = measurements.iterator(); it.hasNext();) {\n    if (it.next() &lt; 10) {\n        it.remove();\n        if (it.hasNext()) { // ensures no failure if `it` was at last element\n            it.next();\n            it.remove();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user16937037"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69634259,"answer_count":1,"score":1,"last_activity_date":1634659599,"creation_date":1634658069,"question_id":69633868,"body_markdown":"I have this program where I need to remove the value from an ArrayList and the value after that if the value is less than 10. \r\n\r\n**Here is an example:**\r\n\r\nOriginal ArrayList:\r\n\r\n[20, 40, 15, 4, 25, 50, 45]\r\n\r\nModified ArrayList: (if the value is less than 10)\r\n\r\n[20, 40, 15, 50, 45] - **(Removed 4 and 25 because 4 is less than 10)**\r\n\r\nI have made a program that remove the value that is less than 10, but I can&#39;t figure out how to remove the second value as well.\r\n\r\nI have tried to create a variable boolean restart that is set to true if the for-each loop removes the value that is less than 10. But I&#39;m stuck.\r\n\r\nHere is my code:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n        int numberOfMeasurements = sc.nextInt();\r\n        boolean restart = false;\r\n\r\n        ArrayList&lt;Integer&gt; measurements = new ArrayList&lt;Integer&gt;();\r\n\r\n        for(int i = 0; i &lt; numberOfMeasurements; i++) { \r\n            measurements.add(sc.nextInt());\r\n        }\r\n\r\n        ArrayList&lt;Integer&gt; measurementsTwo = new ArrayList&lt;&gt;();\r\n        for (int i : measurements) {\r\n            if (i &gt; 10) {\r\n                measurementsTwo.add(i);\r\n                restart = true;\r\n            }\r\n        }\r\n        measurements = measurementsTwo;\r\n\r\n        System.out.println(measurements);\r\n\r\nIf the description is imprecise just say it, and I will try to clarify my problem.","title":"How to remove an element and the element after that in an ArrayList if the value of the element is less than a specific integer?","body":"<p>I have this program where I need to remove the value from an ArrayList and the value after that if the value is less than 10.</p>\n<p><strong>Here is an example:</strong></p>\n<p>Original ArrayList:</p>\n<p>[20, 40, 15, 4, 25, 50, 45]</p>\n<p>Modified ArrayList: (if the value is less than 10)</p>\n<p>[20, 40, 15, 50, 45] - <strong>(Removed 4 and 25 because 4 is less than 10)</strong></p>\n<p>I have made a program that remove the value that is less than 10, but I can't figure out how to remove the second value as well.</p>\n<p>I have tried to create a variable boolean restart that is set to true if the for-each loop removes the value that is less than 10. But I'm stuck.</p>\n<p>Here is my code:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\n\n    int numberOfMeasurements = sc.nextInt();\n    boolean restart = false;\n\n    ArrayList&lt;Integer&gt; measurements = new ArrayList&lt;Integer&gt;();\n\n    for(int i = 0; i &lt; numberOfMeasurements; i++) { \n        measurements.add(sc.nextInt());\n    }\n\n    ArrayList&lt;Integer&gt; measurementsTwo = new ArrayList&lt;&gt;();\n    for (int i : measurements) {\n        if (i &gt; 10) {\n            measurementsTwo.add(i);\n            restart = true;\n        }\n    }\n    measurements = measurementsTwo;\n\n    System.out.println(measurements);\n</code></pre>\n<p>If the description is imprecise just say it, and I will try to clarify my problem.</p>\n"},{"tags":["java","hibernate","maven","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1518148124,"post_id":48697867,"comment_id":84395573,"body_markdown":"Libraries that do low-level manipulation of bytecode tend to be fragile between versions, and that&#39;s a difference of 0.10. You should generally try not to specify versions with Boot, since it provides a list of known-good versions, unless you have a particular reason.","body":"Libraries that do low-level manipulation of bytecode tend to be fragile between versions, and that&#39;s a difference of 0.10. You should generally try not to specify versions with Boot, since it provides a list of known-good versions, unless you have a particular reason."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518143601,"creation_date":1518143601,"answer_id":48697904,"question_id":48697867,"body_markdown":"The `javassist` library should be included on the classpath that has \r\n\r\n    javassist.bytecode.ClassFile","title":"Error creating bean with name entityManagerFactory with Hibernate 5.2.13.Final","body":"<p>The <code>javassist</code> library should be included on the classpath that has </p>\n\n<pre><code>javassist.bytecode.ClassFile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3008303,"reputation":1000,"user_id":4148965,"display_name":"Kamal Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1518148520,"creation_date":1518146388,"answer_id":48698253,"question_id":48697867,"body_markdown":"Hibernate usage Javaassist for byte code manipulation. Add one more dependency entry for `javaassist` in your POM file:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.javassist/javassist --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;version&gt;3.22.0-GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Update**\r\nAs per your comment, the hibernate version 5.2.13 is may be using `javaassist`from older group, so you will have to use\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javassist/javassist --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n       &lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn your case the error might have propagated because of the jar issue. You can try by removing the `javaassist` directory from `.m2/repository` and also from `.m2/repository/org/javaassist`.\r\n\r\nA bug ticket was created in spring boot starter at github on the same at https://github.com/springframeworkguru/springbootwebapp/issues/24\r\n \r\n\r\nHope this helps!!\r\n\r\n\r\n","title":"Error creating bean with name entityManagerFactory with Hibernate 5.2.13.Final","body":"<p>Hibernate usage Javaassist for byte code manipulation. Add one more dependency entry for <code>javaassist</code> in your POM file:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.javassist/javassist --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.22.0-GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Update</strong>\nAs per your comment, the hibernate version 5.2.13 is may be using <code>javaassist</code>from older group, so you will have to use</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javassist/javassist --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n   &lt;version&gt;3.12.1.GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In your case the error might have propagated because of the jar issue. You can try by removing the <code>javaassist</code> directory from <code>.m2/repository</code> and also from <code>.m2/repository/org/javaassist</code>.</p>\n\n<p>A bug ticket was created in spring boot starter at github on the same at <a href=\"https://github.com/springframeworkguru/springbootwebapp/issues/24\" rel=\"nofollow noreferrer\">https://github.com/springframeworkguru/springbootwebapp/issues/24</a></p>\n\n<p>Hope this helps!!</p>\n"}],"owner":{"account_id":9140511,"reputation":561,"user_id":6798510,"display_name":"Taurus Dang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2217,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48698253,"answer_count":2,"score":4,"last_activity_date":1634659319,"creation_date":1518143281,"question_id":48697867,"body_markdown":"I was recently running a spring-boot application with no trouble until the `hibernate-core` dependency came to version 5.2.13.Final. It is strange and the difference with other question with a similar title is that if I just overwrite the version of `hibernate-core` dependency back to 5.2.12.Final, things will be right. \r\n\r\nSo I just wondering the reason why version 5.2.13.Final goes wrong, and how to fix this if I hope to stick dependencies up-to-date. \r\n\r\n**Here is my `pom.xml`:**\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n   \t\t \t&lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t   \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-integration-ftp&lt;/artifactId&gt;\r\n        \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;  \r\n   \t\t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;  \r\n   \t\t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;  \r\n   \t\t\t&lt;version&gt;3.6&lt;/version&gt;  \r\n\t\t&lt;/dependency&gt;  \r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;  \r\n\t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \r\n\t            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;  \r\n\t            &lt;configuration&gt;  \r\n\t                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;              \r\n\t            &lt;/configuration&gt;  \r\n\t        &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t      &lt;configuration&gt;\r\n\t\t        &lt;descriptorRefs&gt;\r\n\t\t          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t        &lt;/descriptorRefs&gt;\r\n\t\t        &lt;archive&gt;\r\n\t\t          &lt;manifest&gt;\r\n\t\t            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n\t\t          &lt;/manifest&gt;\r\n\t\t        &lt;/archive&gt;\r\n\t\t      &lt;/configuration&gt;\r\n\t\t    &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n\r\n**and error message:**\r\n\r\n    2018-02-09 10:10:11.214  INFO 17228 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.13.Final}\r\n    2018-02-09 10:10:11.217  INFO 17228 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2018-02-09 10:10:11.303  INFO 17228 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    2018-02-09 10:10:11.345  WARN 17228 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\r\n    2018-02-09 10:10:11.346  INFO 17228 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2018-02-09 10:10:11.351  INFO 17228 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2018-02-09 10:10:11.355  INFO 17228 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2018-02-09 10:10:11.374  INFO 17228 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-02-09 10:10:11.386 ERROR 17228 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1085) ~[spring-context-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\r\n    \tat com.cmhk.alarmmap.AlarmMapApplication.main(AlarmMapApplication.java:27) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]\r\n    \tat org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:496) [spring-boot-maven-plugin-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]\r\n    Caused by: java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\r\n    \tat org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:61) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:47) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:143) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.visitArchive(ExplodedArchiveDescriptor.java:54) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.boot.archive.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:47) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.boot.model.process.internal.ScanningCoordinator.coordinateScan(ScanningCoordinator.java:75) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:98) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:229) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:164) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:388) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1769) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\r\n    \t... 22 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javassist.bytecode.ClassFile\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_151]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_151]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_151]\r\n    \t... 41 common frames omitted\r\n    \r\n    [WARNING] \r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:496)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1085)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1234)\r\n    \tat com.cmhk.alarmmap.AlarmMapApplication.main(AlarmMapApplication.java:27)\r\n    \t... 6 more\r\n    Caused by: java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\r\n    \tat org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:61)\r\n    \tat org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:47)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:143)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.visitArchive(ExplodedArchiveDescriptor.java:54)\r\n    \tat org.hibernate.boot.archive.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:47)\r\n    \tat org.hibernate.boot.model.process.internal.ScanningCoordinator.coordinateScan(ScanningCoordinator.java:75)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:98)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:229)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:164)\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:388)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1769)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706)\r\n    \t... 22 more\r\n    Caused by: java.lang.ClassNotFoundException: javassist.bytecode.ClassFile\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 41 more\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 10.416 s\r\n    [INFO] Finished at: 2018-02-09T10:10:11+08:00\r\n    [INFO] Final Memory: 45M/347M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.0.0.BUILD-SNAPSHOT:run (default-cli) on project alarm-map: An exception occurred while running. null: InvocationTargetException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile: javassist.bytecode.ClassFile -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.0.0.BUILD-SNAPSHOT:run (default-cli) on project alarm-map: An exception occurred while running. null\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: An exception occurred while running. null\r\n    \tat org.springframework.boot.maven.AbstractRunMojo$IsolatedThreadGroup.rethrowUncaughtException(AbstractRunMojo.java:464)\r\n    \tat org.springframework.boot.maven.RunMojo.runWithMavenJvm(RunMojo.java:95)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo.run(AbstractRunMojo.java:221)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo.execute(AbstractRunMojo.java:178)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n    \t... 20 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:496)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1085)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1234)\r\n    \tat com.cmhk.alarmmap.AlarmMapApplication.main(AlarmMapApplication.java:27)\r\n    \t... 6 more\r\n    Caused by: java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\r\n    \tat org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:61)\r\n    \tat org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:47)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:143)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\r\n    \tat org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.visitArchive(ExplodedArchiveDescriptor.java:54)\r\n    \tat org.hibernate.boot.archive.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:47)\r\n    \tat org.hibernate.boot.model.process.internal.ScanningCoordinator.coordinateScan(ScanningCoordinator.java:75)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:98)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:229)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:164)\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:388)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1769)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706)\r\n    \t... 22 more\r\n    Caused by: java.lang.ClassNotFoundException: javassist.bytecode.ClassFile\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 41 more\r\n    [ERROR] \r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n**EDIT:**\r\n\r\nUPDATE: After recieved two valueful answers, I found another strange thing. \r\n\r\nIf I add\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javassist&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nto my `pom.xml`, the error is gone. But if I use \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.22.0-GA&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nthe error will come out again. \r\n\r\n-----\r\n\r\nUPDATE: after a few hours\r\n\r\nI followed suggestion from Kamal Singh to delete `.m2/repository` manually, and rebuild my environment and application with the latest `hibernate-core` and `org.javassist 3.22.0-GA`. Now everything goes fine. \r\n","title":"Error creating bean with name entityManagerFactory with Hibernate 5.2.13.Final","body":"<p>I was recently running a spring-boot application with no trouble until the <code>hibernate-core</code> dependency came to version 5.2.13.Final. It is strange and the difference with other question with a similar title is that if I just overwrite the version of <code>hibernate-core</code> dependency back to 5.2.12.Final, things will be right.</p>\n<p>So I just wondering the reason why version 5.2.13.Final goes wrong, and how to fix this if I hope to stick dependencies up-to-date.</p>\n<p><strong>Here is my <code>pom.xml</code>:</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-ftp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;  \n        &lt;groupId&gt;commons-net&lt;/groupId&gt;  \n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;  \n        &lt;version&gt;3.6&lt;/version&gt;  \n    &lt;/dependency&gt;  \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;  \n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;  \n            &lt;configuration&gt;  \n                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;              \n            &lt;/configuration&gt;  \n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;repositories&gt;\n\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n<p><strong>and error message:</strong></p>\n<pre><code>2018-02-09 10:10:11.214  INFO 17228 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.13.Final}\n2018-02-09 10:10:11.217  INFO 17228 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2018-02-09 10:10:11.303  INFO 17228 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\n2018-02-09 10:10:11.345  WARN 17228 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\n2018-02-09 10:10:11.346  INFO 17228 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2018-02-09 10:10:11.351  INFO 17228 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2018-02-09 10:10:11.355  INFO 17228 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2018-02-09 10:10:11.374  INFO 17228 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-02-09 10:10:11.386 ERROR 17228 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1085) ~[spring-context-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) [spring-boot-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\n    at com.cmhk.alarmmap.AlarmMapApplication.main(AlarmMapApplication.java:27) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:496) [spring-boot-maven-plugin-2.0.0.BUILD-SNAPSHOT.jar:2.0.0.BUILD-SNAPSHOT]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]\nCaused by: java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\n    at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:61) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:47) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:143) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.visitArchive(ExplodedArchiveDescriptor.java:54) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.boot.archive.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:47) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.boot.model.process.internal.ScanningCoordinator.coordinateScan(ScanningCoordinator.java:75) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:98) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:229) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:164) ~[hibernate-core-5.2.13.Final.jar:5.2.13.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:388) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1769) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706) ~[spring-beans-5.0.3.RELEASE.jar:5.0.3.RELEASE]\n    ... 22 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javassist.bytecode.ClassFile\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_151]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_151]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_151]\n    ... 41 common frames omitted\n\n[WARNING] \njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:496)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1085)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234)\n    at com.cmhk.alarmmap.AlarmMapApplication.main(AlarmMapApplication.java:27)\n    ... 6 more\nCaused by: java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\n    at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:61)\n    at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:47)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:143)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.visitArchive(ExplodedArchiveDescriptor.java:54)\n    at org.hibernate.boot.archive.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:47)\n    at org.hibernate.boot.model.process.internal.ScanningCoordinator.coordinateScan(ScanningCoordinator.java:75)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:98)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:229)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:164)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:388)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1769)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706)\n    ... 22 more\nCaused by: java.lang.ClassNotFoundException: javassist.bytecode.ClassFile\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 41 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 10.416 s\n[INFO] Finished at: 2018-02-09T10:10:11+08:00\n[INFO] Final Memory: 45M/347M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.0.0.BUILD-SNAPSHOT:run (default-cli) on project alarm-map: An exception occurred while running. null: InvocationTargetException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile: javassist.bytecode.ClassFile -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.0.0.BUILD-SNAPSHOT:run (default-cli) on project alarm-map: An exception occurred while running. null\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.MojoExecutionException: An exception occurred while running. null\n    at org.springframework.boot.maven.AbstractRunMojo$IsolatedThreadGroup.rethrowUncaughtException(AbstractRunMojo.java:464)\n    at org.springframework.boot.maven.RunMojo.runWithMavenJvm(RunMojo.java:95)\n    at org.springframework.boot.maven.AbstractRunMojo.run(AbstractRunMojo.java:221)\n    at org.springframework.boot.maven.AbstractRunMojo.execute(AbstractRunMojo.java:178)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 20 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:496)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1085)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234)\n    at com.cmhk.alarmmap.AlarmMapApplication.main(AlarmMapApplication.java:27)\n    ... 6 more\nCaused by: java.lang.NoClassDefFoundError: javassist/bytecode/ClassFile\n    at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:61)\n    at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:47)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:143)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.processDirectory(ExplodedArchiveDescriptor.java:118)\n    at org.hibernate.boot.archive.internal.ExplodedArchiveDescriptor.visitArchive(ExplodedArchiveDescriptor.java:54)\n    at org.hibernate.boot.archive.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:47)\n    at org.hibernate.boot.model.process.internal.ScanningCoordinator.coordinateScan(ScanningCoordinator.java:75)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:98)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:229)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:164)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:388)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1769)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706)\n    ... 22 more\nCaused by: java.lang.ClassNotFoundException: javassist.bytecode.ClassFile\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 41 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>UPDATE: After recieved two valueful answers, I found another strange thing.</p>\n<p>If I add</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.12.1.GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to my <code>pom.xml</code>, the error is gone. But if I use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.22.0-GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the error will come out again.</p>\n<hr />\n<p>UPDATE: after a few hours</p>\n<p>I followed suggestion from Kamal Singh to delete <code>.m2/repository</code> manually, and rebuild my environment and application with the latest <code>hibernate-core</code> and <code>org.javassist 3.22.0-GA</code>. Now everything goes fine.</p>\n"},{"tags":["java","file-io","zip","gzip"],"answers":[{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1284485360,"creation_date":1284485048,"answer_id":3711331,"question_id":3711282,"body_markdown":"There may be a library somewhere to make this easy.\r\n\r\nHowever, if there isn&#39;t, you can still do it the hard way with the [java.util.zip classes][1]... using  [`ZipFile`][2] or [`ZipInputStream`][3], along with [`ZipEntry`][4] for zip.\r\n\r\n[`GZIPInputStream`][5] can wrap a `FileInputStream` for gzip, keeping in mind that gzip only works on single files.\r\n\r\nBoth types of InputStreams also have their respective OutputStreams.\r\n\r\nUnfortunately, although I know of these classes, I&#39;ve never actually *used* them, so I can&#39;t advise you any more than that.\r\n\r\nEdit: The Zip functions do not appear to have any method for adding new files to a zip file without recreating the entire thing.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/zip/package-summary.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/zip/ZipFile.html\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/zip/ZipInputStream.html\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/util/zip/ZipEntry.html\r\n  [5]: http://download.oracle.com/javase/6/docs/api/java/util/zip/GZIPInputStream.html","title":"Working with Zip and GZip files in Java","body":"<p>There may be a library somewhere to make this easy.</p>\n\n<p>However, if there isn't, you can still do it the hard way with the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/zip/package-summary.html\" rel=\"nofollow noreferrer\">java.util.zip classes</a>... using  <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/zip/ZipFile.html\" rel=\"nofollow noreferrer\"><code>ZipFile</code></a> or <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/zip/ZipInputStream.html\" rel=\"nofollow noreferrer\"><code>ZipInputStream</code></a>, along with <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/zip/ZipEntry.html\" rel=\"nofollow noreferrer\"><code>ZipEntry</code></a> for zip.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/zip/GZIPInputStream.html\" rel=\"nofollow noreferrer\"><code>GZIPInputStream</code></a> can wrap a <code>FileInputStream</code> for gzip, keeping in mind that gzip only works on single files.</p>\n\n<p>Both types of InputStreams also have their respective OutputStreams.</p>\n\n<p>Unfortunately, although I know of these classes, I've never actually <em>used</em> them, so I can't advise you any more than that.</p>\n\n<p>Edit: The Zip functions do not appear to have any method for adding new files to a zip file without recreating the entire thing.</p>\n"},{"tags":[],"owner":{"account_id":25410,"reputation":20977,"user_id":65299,"accept_rate":72,"display_name":"Aaron Novstrup"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1634658988,"creation_date":1284487319,"answer_id":3711598,"question_id":3711282,"body_markdown":"Note that TrueZip, the library suggested below, has been superseded by [TrueVFS.](http://truevfs.net/)\r\n\r\n----\r\n\r\nI&#39;ve found the [TrueZIP library](https://christian-schlichtherle.bitbucket.io/truezip/) useful.  It allows you to treat archive files as if they&#39;re just another file system and use the familiar Java I/O APIs.\r\n\r\nUnlike the `java.util.zip` API, TrueZIP provides random access to the contents of the archive, so file size should not be a concern. If I remember correctly, it will detect archive files and not try to redundantly compress them when you put them into an archive.\r\n\r\nQuoting the TrueZIP page:\r\n\r\n&gt; The TrueZIP API provides drop-in replacements for the well-known classes `File`, `FileInputStream` and `FileOutputStream`. This design makes TrueZIP very simple to use: All that is required to archive-enable most client applications is to add a few import statements for the package `de.schlichtherle.io` and add some type casts where required.\r\n&gt;\r\n&gt; Now you can simply address archive files like directories in a path name. For example, the path name `&quot;archive.zip/readme&quot;` addresses the archive entry `readme` within the ZIP file `archive.zip`. Note that file name suffixes are fully configurable and TrueZIP automatically detects false positives and reverts back to treat them like ordinary files or directories. This works recursively, so an archive file may even be enclosed in another archive file, like in `outer.zip/inner.zip/readme`.\r\n","title":"Working with Zip and GZip files in Java","body":"<p>Note that TrueZip, the library suggested below, has been superseded by <a href=\"http://truevfs.net/\" rel=\"nofollow noreferrer\">TrueVFS.</a></p>\n<hr />\n<p>I've found the <a href=\"https://christian-schlichtherle.bitbucket.io/truezip/\" rel=\"nofollow noreferrer\">TrueZIP library</a> useful.  It allows you to treat archive files as if they're just another file system and use the familiar Java I/O APIs.</p>\n<p>Unlike the <code>java.util.zip</code> API, TrueZIP provides random access to the contents of the archive, so file size should not be a concern. If I remember correctly, it will detect archive files and not try to redundantly compress them when you put them into an archive.</p>\n<p>Quoting the TrueZIP page:</p>\n<blockquote>\n<p>The TrueZIP API provides drop-in replacements for the well-known classes <code>File</code>, <code>FileInputStream</code> and <code>FileOutputStream</code>. This design makes TrueZIP very simple to use: All that is required to archive-enable most client applications is to add a few import statements for the package <code>de.schlichtherle.io</code> and add some type casts where required.</p>\n<p>Now you can simply address archive files like directories in a path name. For example, the path name <code>&quot;archive.zip/readme&quot;</code> addresses the archive entry <code>readme</code> within the ZIP file <code>archive.zip</code>. Note that file name suffixes are fully configurable and TrueZIP automatically detects false positives and reverts back to treat them like ordinary files or directories. This works recursively, so an archive file may even be enclosed in another archive file, like in <code>outer.zip/inner.zip/readme</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1284493719,"creation_date":1284493719,"answer_id":3712347,"question_id":3711282,"body_markdown":"Don&#39;t hold all this uncompressed data in memory, or you might run out of heap space. You need to stream the data out to file when uncompressing and then stream it back in from file when you want to create your final zip file.\r\n\r\nI haven&#39;t done zipped files before, but here is an example which shows how to uncompress a *gzipped* file:\r\n\r\n    import java.io.*;\r\n    import java.util.zip.*;\r\n    \r\n    //unzipping a gzipped file\r\n    GZIPInputStream in = null;\r\n    OutputStream out = null;\r\n    try {\r\n       in = new GZIPInputStream(new FileInputStream(&quot;file.txt.gz&quot;));\r\n       out = new FileOutputStream(&quot;file.txt&quot;);\r\n       byte[] buf = new byte[1024 * 4];\r\n       int len;\r\n       while ((len = in.read(buf)) &gt; 0) {\r\n           out.write(buf, 0, len);\r\n       }\r\n    }\r\n    catch (IOException e) {\r\n       e.printStackTrace();\r\n    }\r\n    finally {\r\n       if (in != null)\r\n           try {\r\n               in.close();\r\n           }\r\n           catch (IOException ignore) {\r\n           }\r\n       if (out != null)\r\n           try {\r\n               out.close();\r\n           }\r\n           catch (IOException ignore) {\r\n           }\r\n    }","title":"Working with Zip and GZip files in Java","body":"<p>Don't hold all this uncompressed data in memory, or you might run out of heap space. You need to stream the data out to file when uncompressing and then stream it back in from file when you want to create your final zip file.</p>\n\n<p>I haven't done zipped files before, but here is an example which shows how to uncompress a <em>gzipped</em> file:</p>\n\n<pre><code>import java.io.*;\nimport java.util.zip.*;\n\n//unzipping a gzipped file\nGZIPInputStream in = null;\nOutputStream out = null;\ntry {\n   in = new GZIPInputStream(new FileInputStream(\"file.txt.gz\"));\n   out = new FileOutputStream(\"file.txt\");\n   byte[] buf = new byte[1024 * 4];\n   int len;\n   while ((len = in.read(buf)) &gt; 0) {\n       out.write(buf, 0, len);\n   }\n}\ncatch (IOException e) {\n   e.printStackTrace();\n}\nfinally {\n   if (in != null)\n       try {\n           in.close();\n       }\n       catch (IOException ignore) {\n       }\n   if (out != null)\n       try {\n           out.close();\n       }\n       catch (IOException ignore) {\n       }\n}\n</code></pre>\n"}],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24200,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":3711598,"answer_count":3,"score":17,"last_activity_date":1634658988,"creation_date":1284484684,"question_id":3711282,"body_markdown":"It&#39;s been a while since I&#39;ve done Java I/O, and I&#39;m not aware of the latest &quot;right&quot; ways to work with Zip and GZip files. I don&#39;t necessarily need a full working demo - I&#39;m primarily looking for the right interfaces and methods to be using. Yes, I could look up any random tutorial on this, but performance is an issue (these files can get pretty big) and I do care about using the best tool for the job.\r\n\r\nThe basic process I&#39;ll be implementing:\r\n\r\n- Download a bunch of files (that might be zipped, gzipped, or both) to a temp folder.\r\n- Add all the extracted files to a new zip file in a temp folder.\r\n\r\nThe input files might be compressed and archived more than once. For example, the &quot;full extraction&quot; should take any of the following inputs (I&#39;m not in control of these), and leave behind `foo.txt`:\r\n\r\n - `foo.txt.gz`\r\n - `foo.txt.zip`\r\n - `foo.txt.gz.zip`\r\n - `foo.txt.zip.gz`\r\n - ...\r\n - `foo.txt.gz.gz.gz.zip.gz.zip.zip.gz.gz`\r\n - ...\r\n\r\nThen, I might be left with `foo.txt`, `bar.mp3`, `baz.exe` - so I would just add them all to a new zip file with some generic name.\r\n\r\n&lt;h3&gt;Questions:&lt;/h3&gt;\r\n- With file size being a potential concern, which (interfaces/classes/methods) should I use to *quickly*:\r\n - extract zip files?\r\n - extract gzip files?\r\n - write zip files?\r\n- Am I better off keeping the individual extracted files in memory before writing back to the disk? Or,\r\n- Do potentially large files make that a bad idea?","title":"Working with Zip and GZip files in Java","body":"<p>It's been a while since I've done Java I/O, and I'm not aware of the latest \"right\" ways to work with Zip and GZip files. I don't necessarily need a full working demo - I'm primarily looking for the right interfaces and methods to be using. Yes, I could look up any random tutorial on this, but performance is an issue (these files can get pretty big) and I do care about using the best tool for the job.</p>\n\n<p>The basic process I'll be implementing:</p>\n\n<ul>\n<li>Download a bunch of files (that might be zipped, gzipped, or both) to a temp folder.</li>\n<li>Add all the extracted files to a new zip file in a temp folder.</li>\n</ul>\n\n<p>The input files might be compressed and archived more than once. For example, the \"full extraction\" should take any of the following inputs (I'm not in control of these), and leave behind <code>foo.txt</code>:</p>\n\n<ul>\n<li><code>foo.txt.gz</code></li>\n<li><code>foo.txt.zip</code></li>\n<li><code>foo.txt.gz.zip</code></li>\n<li><code>foo.txt.zip.gz</code></li>\n<li>...</li>\n<li><code>foo.txt.gz.gz.gz.zip.gz.zip.zip.gz.gz</code></li>\n<li>...</li>\n</ul>\n\n<p>Then, I might be left with <code>foo.txt</code>, <code>bar.mp3</code>, <code>baz.exe</code> - so I would just add them all to a new zip file with some generic name.</p>\n\n<h3>Questions:</h3>\n\n<ul>\n<li>With file size being a potential concern, which (interfaces/classes/methods) should I use to <em>quickly</em>:\n\n<ul>\n<li>extract zip files?</li>\n<li>extract gzip files?</li>\n<li>write zip files?</li>\n</ul></li>\n<li>Am I better off keeping the individual extracted files in memory before writing back to the disk? Or,</li>\n<li>Do potentially large files make that a bad idea?</li>\n</ul>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"score":1,"creation_date":1634649639,"post_id":69557142,"comment_id":123077941,"body_markdown":"Could you just create the content first and after this going back to the content and insert these pages?","body":"Could you just create the content first and after this going back to the content and insert these pages?"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634658789,"creation_date":1634658789,"answer_id":69634047,"question_id":69557142,"body_markdown":"You can use named destinations for this task. You can create a link to a `PdfStringDestination` with a name of your choice and later, when you have the target page, create an explicit destination and add it to the document for your chosen name using `PdfDocument.addNamedDestination`.\r\n\r\nFor example:\r\n\r\n```java\r\ntry (   PdfDocument pdfDocument = new PdfDocument(new PdfWriter(...));\r\n        Document document = new Document(pdfDocument)   )\r\n{\r\n    String destinationName = &quot;MyForwardDestination&quot;;\r\n\r\n    for (int page = 1; page &lt;= 50; page++) {\r\n        document.add(new Paragraph().setFontSize(100).add(String.valueOf(page)));\r\n        switch (page) {\r\n        case 1:\r\n            document.add(new Paragraph(new Link(&quot;Click here for a forward jump&quot;, new PdfStringDestination(destinationName)).setFontSize(20)));\r\n            break;\r\n        case 42:\r\n            pdfDocument.addNamedDestination(destinationName, PdfExplicitDestination.createFit(pdfDocument.getLastPage()).getPdfObject());\r\n            break;\r\n        }\r\n        if (page &lt; 50)\r\n            document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n    }\r\n}\r\n```\r\n*([CreateLink][1] test `testCreateForwardLink`)*\r\n\r\nThis generates a 50 page PDF with a link on page 1 targeting page 42, and the link was added to page 1 long before page 42 was created.\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-itext7/blob/master/src/test/java/mkl/testarea/itext7/annotate/CreateLink.java#L76","title":"How do I create a forward link to a specific page which does not yet exists when I generate the link","body":"<p>You can use named destinations for this task. You can create a link to a <code>PdfStringDestination</code> with a name of your choice and later, when you have the target page, create an explicit destination and add it to the document for your chosen name using <code>PdfDocument.addNamedDestination</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (   PdfDocument pdfDocument = new PdfDocument(new PdfWriter(...));\n        Document document = new Document(pdfDocument)   )\n{\n    String destinationName = &quot;MyForwardDestination&quot;;\n\n    for (int page = 1; page &lt;= 50; page++) {\n        document.add(new Paragraph().setFontSize(100).add(String.valueOf(page)));\n        switch (page) {\n        case 1:\n            document.add(new Paragraph(new Link(&quot;Click here for a forward jump&quot;, new PdfStringDestination(destinationName)).setFontSize(20)));\n            break;\n        case 42:\n            pdfDocument.addNamedDestination(destinationName, PdfExplicitDestination.createFit(pdfDocument.getLastPage()).getPdfObject());\n            break;\n        }\n        if (page &lt; 50)\n            document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/test/java/mkl/testarea/itext7/annotate/CreateLink.java#L76\" rel=\"nofollow noreferrer\">CreateLink</a> test <code>testCreateForwardLink</code>)</em></p>\n<p>This generates a 50 page PDF with a link on page 1 targeting page 42, and the link was added to page 1 long before page 42 was created.</p>\n"}],"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69634047,"answer_count":1,"score":2,"last_activity_date":1634658789,"creation_date":1634134503,"question_id":69557142,"body_markdown":"How do I generate some text, which links forward to an other page in the pdf file I am generating?\r\n\r\nI have the code below which generate working pdf links, bit it require that the page I link to, exists in the pdf file at the time I generate the link. Is there any way to avoid this problem?\r\n\r\nMy use case is that I am generating the table of content, which is in the beginning of the pdf file, but it need to link to the content pages, which don&#39;t yet exists when I generate the table of content.\r\n\r\n\r\n\r\n    int linkToPdfPage=42;\r\n    PdfArray array = new PdfArray();\r\n    array.add(pdfDocument.getPage(linkToPdfPage).getPdfObject());\r\n    array.add(PdfName.Fit);\r\n    PdfDestination dest2 = PdfDestination.makeDestination(array);\r\n    Link newLink=new Link(&quot;Link text&quot;, PdfAction.createGoTo(dest2));\r\n    newLink.getLinkAnnotation().setBorder(new PdfArray(new int[]{0,0,0}));\r\n\r\n","title":"How do I create a forward link to a specific page which does not yet exists when I generate the link","body":"<p>How do I generate some text, which links forward to an other page in the pdf file I am generating?</p>\n<p>I have the code below which generate working pdf links, bit it require that the page I link to, exists in the pdf file at the time I generate the link. Is there any way to avoid this problem?</p>\n<p>My use case is that I am generating the table of content, which is in the beginning of the pdf file, but it need to link to the content pages, which don't yet exists when I generate the table of content.</p>\n<pre><code>int linkToPdfPage=42;\nPdfArray array = new PdfArray();\narray.add(pdfDocument.getPage(linkToPdfPage).getPdfObject());\narray.add(PdfName.Fit);\nPdfDestination dest2 = PdfDestination.makeDestination(array);\nLink newLink=new Link(&quot;Link text&quot;, PdfAction.createGoTo(dest2));\nnewLink.getLinkAnnotation().setBorder(new PdfArray(new int[]{0,0,0}));\n</code></pre>\n"},{"tags":["java","apache-poi","xlsx","digital-signature","docx"],"comments":[{"owner":{"account_id":18687930,"reputation":325,"user_id":13622993,"display_name":"Nakarukatoshi Uzumaki"},"score":0,"creation_date":1634658778,"post_id":69633722,"comment_id":123082360,"body_markdown":"Does this webpage help you? [Apache POI - Encryption support](http://poi.apache.org/encryption.html)","body":"Does this webpage help you? <a href=\"http://poi.apache.org/encryption.html\" rel=\"nofollow noreferrer\">Apache POI - Encryption support</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1634658931,"post_id":69633722,"comment_id":123082414,"body_markdown":"i find the error message clear: (although it is &quot;the right&quot;) key has wrong &quot;format&quot; (`must be instance of RSAPrivate(Crt)Key or have PKCS#8 encoding`)! ... https://stackoverflow.com/q/906402/592355","body":"i find the error message clear: (although it is &quot;the right&quot;) key has wrong &quot;format&quot; (<code>must be instance of RSAPrivate(Crt)Key or have PKCS#8 encoding</code>)! ... <a href=\"https://stackoverflow.com/q/906402/592355\">stackoverflow.com/q/906402/592355</a>"},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1634669041,"post_id":69633722,"comment_id":123086141,"body_markdown":"1st idea: if it&#39;s not a PKCS#8 encoded or RSA private key - what is it?\n2nd: &quot;Grave error&quot; looks like j2ee ... please try your code standalone and not as part of a web application first\n3rd: if you want support on this, you could provide me a dummy keystore with the same error and I could try to get it running (for contact see my profile)\n4th: if all fails, you could check with the developers of [eID applet](https://github.com/e-Contract/eid-applet), which was POIs base ... or give aspose a try ... which I wouldn&#39;t ;)","body":"1st idea: if it&#39;s not a PKCS#8 encoded or RSA private key - what is it? 2nd: &quot;Grave error&quot; looks like j2ee ... please try your code standalone and not as part of a web application first 3rd: if you want support on this, you could provide me a dummy keystore with the same error and I could try to get it running (for contact see my profile) 4th: if all fails, you could check with the developers of <a href=\"https://github.com/e-Contract/eid-applet\" rel=\"nofollow noreferrer\">eID applet</a>, which was POIs base ... or give aspose a try ... which I wouldn&#39;t ;)"},{"owner":{"account_id":13386014,"reputation":873,"user_id":9659885,"display_name":"Bharat Vasant"},"score":0,"creation_date":1634707057,"post_id":69633722,"comment_id":123093809,"body_markdown":"For handling browser side (in case of web application), refer to answer: https://stackoverflow.com/a/55676351/9659885  On server side you may use any platform and pdf library of your choice.","body":"For handling browser side (in case of web application), refer to answer: <a href=\"https://stackoverflow.com/a/55676351/9659885\">stackoverflow.com/a/55676351/9659885</a>  On server side you may use any platform and pdf library of your choice."}],"owner":{"account_id":13761658,"reputation":61,"user_id":9931245,"display_name":"Ariel Ballestero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634658440,"creation_date":1634657444,"question_id":69633722,"body_markdown":"I am working on a project with a requirement that needs to sign non PDF files like .docx, .xlsx, etc. I made a research of libraries and ways to sign these files, I found the Apache POI library and a sample code to sign files. After making some changes in the code to adapt with the project (it&#39;s important to say that the private key is the same that I use to sign PDF files with itext library) this is the resulting code:\r\n\r\n    PrivateKey key = (PrivateKey) ks.getKey(alias, pass);\r\n    X509Certificate certificado = (X509Certificate) ks.getCertificate(alias);\r\n    \r\n    SignatureConfig signatureConfig = new SignatureConfig();\r\n    signatureConfig.setKey(key);\r\n    signatureConfig.setSigningCertificateChain(Collections.singletonList(certificado));\r\n    OPCPackage pkg = OPCPackage.open(&quot;DOCUMENT.docx&quot;, PackageAccess.READ_WRITE);\r\n    signatureConfig.setOpcPackage(pkg);\r\n    \r\n    SignatureInfo si = new SignatureInfo();\r\n    si.setSignatureConfig(signatureConfig);\r\n    si.confirmSignature();\r\n    boolean b = si.verifySignature();\r\n    assert (b);\r\n    pkg.close();\r\n\r\nHowever, I am getting the following exception when the code calls the confirmSignature() method:\r\n\r\n    GRAVE: ERROR-----------------------------org.apache.poi.EncryptedDocumentException: java.security.InvalidKeyException: Private keys must be instance of RSAPrivate(Crt)Key or have PKCS#8 encoding\r\n   \r\n\r\nThe exception says that there is a problem with the Private Key, but like I said before is the same key for PDF files. The return value of the method key.getAlgorithm() is &quot;RSA&quot;.\r\n\r\nAny idea what may be the problem? or any other library to sign non pdf documents. ","title":"Digitally sign non PDF files using Apache POI","body":"<p>I am working on a project with a requirement that needs to sign non PDF files like .docx, .xlsx, etc. I made a research of libraries and ways to sign these files, I found the Apache POI library and a sample code to sign files. After making some changes in the code to adapt with the project (it's important to say that the private key is the same that I use to sign PDF files with itext library) this is the resulting code:</p>\n<pre><code>PrivateKey key = (PrivateKey) ks.getKey(alias, pass);\nX509Certificate certificado = (X509Certificate) ks.getCertificate(alias);\n\nSignatureConfig signatureConfig = new SignatureConfig();\nsignatureConfig.setKey(key);\nsignatureConfig.setSigningCertificateChain(Collections.singletonList(certificado));\nOPCPackage pkg = OPCPackage.open(&quot;DOCUMENT.docx&quot;, PackageAccess.READ_WRITE);\nsignatureConfig.setOpcPackage(pkg);\n\nSignatureInfo si = new SignatureInfo();\nsi.setSignatureConfig(signatureConfig);\nsi.confirmSignature();\nboolean b = si.verifySignature();\nassert (b);\npkg.close();\n</code></pre>\n<p>However, I am getting the following exception when the code calls the confirmSignature() method:</p>\n<pre><code>GRAVE: ERROR-----------------------------org.apache.poi.EncryptedDocumentException: java.security.InvalidKeyException: Private keys must be instance of RSAPrivate(Crt)Key or have PKCS#8 encoding\n</code></pre>\n<p>The exception says that there is a problem with the Private Key, but like I said before is the same key for PDF files. The return value of the method key.getAlgorithm() is &quot;RSA&quot;.</p>\n<p>Any idea what may be the problem? or any other library to sign non pdf documents.</p>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634492417,"creation_date":1634492417,"answer_id":69607010,"question_id":69606805,"body_markdown":"There are some problems with your json string which you need to fix before attempting to parse it, the uri value quotation is not closed, and there is an additional comma after the result object, after fixing both you end up with the functional json text\r\n\r\n    {\r\n      &quot;cssvalidation&quot;: {\r\n        &quot;uri&quot;: &quot;https://www.mywebsite.com&quot;,\r\n        &quot;checkedby&quot;: &quot;http://www.w3.org/2005/07/css-validator&quot;,\r\n        &quot;csslevel&quot;: &quot;css3&quot;,\r\n        &quot;date&quot;: &quot;2021-10-17T05:07:38Z&quot;,\r\n        &quot;timestamp&quot;: &quot;1634490458519&quot;,\r\n        &quot;validity&quot;: false,\r\n        &quot;result&quot;: {\r\n          &quot;errorcount&quot;: 7,\r\n          &quot;warningcount&quot;: 350\r\n        }\r\n      }\r\n    }\r\n\r\nyou can parse it with the JsonParser and get its elements in the following way\r\n\r\n\tJsonObject root = JsonParser.parseString(resp).getAsJsonObject();\t\t\r\n\tJsonObject cssValidation = root.get(&quot;cssvalidation&quot;).getAsJsonObject();\t\t\r\n\tString uri = cssValidation.get(&quot;uri&quot;).getAsString();\t\r\n\t\r\n\tSystem.out.println(uri);\r\n\r\nAnd you will get the following output\r\n\r\n    https://www.mywebsite.com","title":"How to read this json with GSON","body":"<p>There are some problems with your json string which you need to fix before attempting to parse it, the uri value quotation is not closed, and there is an additional comma after the result object, after fixing both you end up with the functional json text</p>\n<pre><code>{\n  &quot;cssvalidation&quot;: {\n    &quot;uri&quot;: &quot;https://www.mywebsite.com&quot;,\n    &quot;checkedby&quot;: &quot;http://www.w3.org/2005/07/css-validator&quot;,\n    &quot;csslevel&quot;: &quot;css3&quot;,\n    &quot;date&quot;: &quot;2021-10-17T05:07:38Z&quot;,\n    &quot;timestamp&quot;: &quot;1634490458519&quot;,\n    &quot;validity&quot;: false,\n    &quot;result&quot;: {\n      &quot;errorcount&quot;: 7,\n      &quot;warningcount&quot;: 350\n    }\n  }\n}\n</code></pre>\n<p>you can parse it with the JsonParser and get its elements in the following way</p>\n<pre><code>JsonObject root = JsonParser.parseString(resp).getAsJsonObject();       \nJsonObject cssValidation = root.get(&quot;cssvalidation&quot;).getAsJsonObject();     \nString uri = cssValidation.get(&quot;uri&quot;).getAsString();    \n\nSystem.out.println(uri);\n</code></pre>\n<p>And you will get the following output</p>\n<pre><code>https://www.mywebsite.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6399701,"reputation":2116,"user_id":4962858,"display_name":"francis duvivier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634495307,"creation_date":1634495307,"answer_id":69607433,"question_id":69606805,"body_markdown":"You seem to be doing it right, but your Java object property keys need to match up exactly with the keys in the JSON.\r\n\r\nSpecifically, the name of the property `validation` needs to changed to `cssvalidation`, so like this:\r\n\r\n```\r\nGson gson = new Gson();\r\nApiResponse apiResponse = gson.fromJson(response.body().string(), ApiResponse.class);\r\n\r\n    public class ApiResponse {\r\n        private CssValidation cssvalidation;\r\n\r\n    }\r\n\r\n    public class CssValidation{\r\n        public String uri;\r\n        public String getUri() {\r\n            return uri;\r\n        }\r\n    }\r\n```\r\nAlso, if the given JSON string is really what you get, then your JSON needs to be fixed, as pointed out by [Lukas Ownen&#39;s answer](https://stackoverflow.com/a/69607010/4962858)","title":"How to read this json with GSON","body":"<p>You seem to be doing it right, but your Java object property keys need to match up exactly with the keys in the JSON.</p>\n<p>Specifically, the name of the property <code>validation</code> needs to changed to <code>cssvalidation</code>, so like this:</p>\n<pre><code>Gson gson = new Gson();\nApiResponse apiResponse = gson.fromJson(response.body().string(), ApiResponse.class);\n\n    public class ApiResponse {\n        private CssValidation cssvalidation;\n\n    }\n\n    public class CssValidation{\n        public String uri;\n        public String getUri() {\n            return uri;\n        }\n    }\n</code></pre>\n<p>Also, if the given JSON string is really what you get, then your JSON needs to be fixed, as pointed out by <a href=\"https://stackoverflow.com/a/69607010/4962858\">Lukas Ownen's answer</a></p>\n"}],"owner":{"account_id":3671989,"reputation":105,"user_id":3058963,"accept_rate":75,"display_name":"user3058963"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69607433,"answer_count":2,"score":0,"last_activity_date":1634658284,"creation_date":1634491072,"question_id":69606805,"body_markdown":"I am trying to consume a json through an api using Google&#39;s GSON library to be able to recover the data.\r\nI would like to be able to obtain the data of the CssValidation and Result key but it took hours and I have not been able to get it.\r\n\r\n    {\r\n      &quot;cssvalidation&quot;: {\r\n        &quot;uri&quot;: &quot;https://www.mywebsite.com&quot;,\r\n        &quot;checkedby&quot;: &quot;http://www.w3.org/2005/07/css-validator&quot;,\r\n        &quot;csslevel&quot;: &quot;css3&quot;,\r\n        &quot;date&quot;: &quot;2021-10-17T05:07:38Z&quot;,\r\n        &quot;timestamp&quot;: &quot;1634490458519&quot;,\r\n        &quot;validity&quot;: false,\r\n        &quot;result&quot;: {\r\n          &quot;errorcount&quot;: 7,\r\n          &quot;warningcount&quot;: 350\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nMy code in java is this:\r\n\r\n    Gson gson = new Gson();\r\n    ApiResponse apiResponse = gson.fromJson(response.body().string(), ApiResponse.class);\r\n    \r\n        public class ApiResponse {\r\n            private CssValidation validation;\r\n    \r\n        }\r\n    \r\n        public class CssValidation{\r\n            public String uri;\r\n            public String getUri() {\r\n                return uri;\r\n            }\r\n        }\r\n\r\n","title":"How to read this json with GSON","body":"<p>I am trying to consume a json through an api using Google's GSON library to be able to recover the data.\nI would like to be able to obtain the data of the CssValidation and Result key but it took hours and I have not been able to get it.</p>\n<pre><code>{\n  &quot;cssvalidation&quot;: {\n    &quot;uri&quot;: &quot;https://www.mywebsite.com&quot;,\n    &quot;checkedby&quot;: &quot;http://www.w3.org/2005/07/css-validator&quot;,\n    &quot;csslevel&quot;: &quot;css3&quot;,\n    &quot;date&quot;: &quot;2021-10-17T05:07:38Z&quot;,\n    &quot;timestamp&quot;: &quot;1634490458519&quot;,\n    &quot;validity&quot;: false,\n    &quot;result&quot;: {\n      &quot;errorcount&quot;: 7,\n      &quot;warningcount&quot;: 350\n    }\n  }\n}\n</code></pre>\n<p>My code in java is this:</p>\n<pre><code>Gson gson = new Gson();\nApiResponse apiResponse = gson.fromJson(response.body().string(), ApiResponse.class);\n\n    public class ApiResponse {\n        private CssValidation validation;\n\n    }\n\n    public class CssValidation{\n        public String uri;\n        public String getUri() {\n            return uri;\n        }\n    }\n</code></pre>\n"},{"tags":["java","jvm","jls"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1634595992,"post_id":69623174,"comment_id":123062804,"body_markdown":"Take a look at the behavior of AOT compilers like Graal.","body":"Take a look at the behavior of AOT compilers like Graal."},{"owner":{"account_id":3380147,"reputation":4427,"user_id":2880970,"accept_rate":88,"display_name":"stiemannkj1"},"score":0,"creation_date":1634596173,"post_id":69623174,"comment_id":123062844,"body_markdown":"@boneill, I don’t believe reflection works in AOT compilers like Graal (although I could be mistaken), so I think the point would be moot there since there’s probably no safe way to check if `Optional` is available. I’m not really worried about AOT for this question though.","body":"@boneill, I don’t believe reflection works in AOT compilers like Graal (although I could be mistaken), so I think the point would be moot there since there’s probably no safe way to check if <code>Optional</code> is available. I’m not really worried about AOT for this question though."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1634621166,"post_id":69623174,"comment_id":123066651,"body_markdown":"Your question ends with &quot;...will never be loaded?&quot; So, the reason I suggested AOT compilers is because all classes are effectively loaded in advance. Perhaps the question needs to be clarified a bit.","body":"Your question ends with &quot;...will never be loaded?&quot; So, the reason I suggested AOT compilers is because all classes are effectively loaded in advance. Perhaps the question needs to be clarified a bit."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1634647023,"post_id":69623174,"comment_id":123076626,"body_markdown":"@stiemannkj1 &quot;*I don’t believe reflection works in AOT compilers like Graal*&quot; - At least for GraalVM, this is not true. [GraalVM supports reflection](https://www.graalvm.org/reference-manual/native-image/Reflection/), although some additional configuration might be required.","body":"@stiemannkj1 &quot;<i>I don’t believe reflection works in AOT compilers like Graal</i>&quot; - At least for GraalVM, this is not true. <a href=\"https://www.graalvm.org/reference-manual/native-image/Reflection/\" rel=\"nofollow noreferrer\">GraalVM supports reflection</a>, although some additional configuration might be required."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634657914,"creation_date":1634657914,"answer_id":69633840,"question_id":69623174,"body_markdown":"There is no guaranty that the class doesn’t get loaded.\r\n\r\nConsider [JLS,&#160;&#167;5.4]:\r\n\r\n&gt; This specification allows an implementation flexibility as to when linking activities (and, because of recursion, loading) take place, provided that all of the following properties are maintained:\r\n&gt; \r\n&gt; …\r\n&gt; \r\n&gt; For example, a Java Virtual Machine implementation may choose a &quot;lazy&quot; linkage strategy, where each symbolic reference in a class or interface (other than the symbolic references above) is resolved individually when it is used. Alternatively, an implementation may choose an &quot;eager&quot; linkage strategy, where all symbolic references are resolved at once when the class or interface is being verified.\r\n\r\nEven the HotSpot&#160;JVM, which uses lazy class loading, may attempt to load the class earlier than expected, i.e. outside that unused code path, due to subtle aspects of the code, which may require the verifier to load a class, as discussed in https://stackoverflow.com/q/34259275/2711488\r\n\r\nIn other words, even with this JVM implementation, small changes to the code may suddenly make it fail when the class is absent.\r\n\r\n[JLS,&#160;&#167;5.4]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html#jvms-5.4","title":"Is it specified in the JVM/JLS that classes in unused code paths will never be loaded?","body":"<p>There is no guaranty that the class doesn’t get loaded.</p>\n<p>Consider <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html#jvms-5.4\" rel=\"noreferrer\">JLS, §5.4</a>:</p>\n<blockquote>\n<p>This specification allows an implementation flexibility as to when linking activities (and, because of recursion, loading) take place, provided that all of the following properties are maintained:</p>\n<p>…</p>\n<p>For example, a Java Virtual Machine implementation may choose a &quot;lazy&quot; linkage strategy, where each symbolic reference in a class or interface (other than the symbolic references above) is resolved individually when it is used. Alternatively, an implementation may choose an &quot;eager&quot; linkage strategy, where all symbolic references are resolved at once when the class or interface is being verified.</p>\n</blockquote>\n<p>Even the HotSpot JVM, which uses lazy class loading, may attempt to load the class earlier than expected, i.e. outside that unused code path, due to subtle aspects of the code, which may require the verifier to load a class, as discussed in <a href=\"https://stackoverflow.com/q/34259275/2711488\">When is a Java Class loaded?</a></p>\n<p>In other words, even with this JVM implementation, small changes to the code may suddenly make it fail when the class is absent.</p>\n"}],"owner":{"account_id":3380147,"reputation":4427,"user_id":2880970,"accept_rate":88,"display_name":"stiemannkj1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69633840,"answer_count":1,"score":3,"last_activity_date":1634657914,"creation_date":1634595676,"question_id":69623174,"body_markdown":"Given the following class using Java 8 `Optional`:\r\n\r\n```\r\nfinal class Main {\r\n    public static void main(final String[] args) {\r\n        System.out.println(Optional.of(&quot;test&quot;).get());\r\n    }\r\n}\r\n```\r\n\r\nIf I compile the code with a Java 8 compiler targeting Java 7 bytecode:\r\n\r\n```\r\njavac -target 1.7 -source 1.7 Main.java\r\n```\r\n\r\nWhen I run with a Java 7 JVM, `main` throws a `NoClassDefFoundError` wrapping a `ClassNotFoundException` for `java.util.Optional` as expected.\r\n\r\nHowever if I check for the availability of the `Optional` class (via reflection) prior to using it:\r\n\r\n```\r\nfinal class Main {\r\n    public static void main(final String[] args) {\r\n        if (isOptionalAvailable()) {\r\n            System.out.println(Optional.of(&quot;test&quot;).get());\r\n        } else {\r\n            System.out.println(&quot;Optional not found.&quot;);\r\n        }\r\n    }\r\n\r\n    private static boolean isOptionalAvailable() {\r\n        try {\r\n            Class.forName(&quot;java.util.Optional&quot;);\r\n            return true;\r\n        } catch (ClassNotFoundException e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I run with a Java 7 JVM, it does not throw any errors:\r\n\r\n```\r\nOptional not found.\r\n```\r\n\r\nWhat I’m trying to find out is if this behavior is required by the JVM or JLS specifications. It seems like the behavior is consistent across Oracle, IBM, and OpenJDK, but I couldn’t seem to find any requirements in the specs that classes used locally in methods must be lazily loaded.\r\n\r\nI looked through [&quot;Chapter 5. Loading, Linking, and Initializing&quot;](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html) of the JVM Spec and [&quot;15.12.4. Run-Time Evaluation of Method Invocation&quot;](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.4) in the JLS.\r\n\r\nFor my second example, could there be a JVM impl that eagerly loads `Optional` even though it only exists in an unused code path? Am I missing the section of the spec(s) that requires this behavior or is it just a common implementation detail?","title":"Is it specified in the JVM/JLS that classes in unused code paths will never be loaded?","body":"<p>Given the following class using Java 8 <code>Optional</code>:</p>\n<pre><code>final class Main {\n    public static void main(final String[] args) {\n        System.out.println(Optional.of(&quot;test&quot;).get());\n    }\n}\n</code></pre>\n<p>If I compile the code with a Java 8 compiler targeting Java 7 bytecode:</p>\n<pre><code>javac -target 1.7 -source 1.7 Main.java\n</code></pre>\n<p>When I run with a Java 7 JVM, <code>main</code> throws a <code>NoClassDefFoundError</code> wrapping a <code>ClassNotFoundException</code> for <code>java.util.Optional</code> as expected.</p>\n<p>However if I check for the availability of the <code>Optional</code> class (via reflection) prior to using it:</p>\n<pre><code>final class Main {\n    public static void main(final String[] args) {\n        if (isOptionalAvailable()) {\n            System.out.println(Optional.of(&quot;test&quot;).get());\n        } else {\n            System.out.println(&quot;Optional not found.&quot;);\n        }\n    }\n\n    private static boolean isOptionalAvailable() {\n        try {\n            Class.forName(&quot;java.util.Optional&quot;);\n            return true;\n        } catch (ClassNotFoundException e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>When I run with a Java 7 JVM, it does not throw any errors:</p>\n<pre><code>Optional not found.\n</code></pre>\n<p>What I’m trying to find out is if this behavior is required by the JVM or JLS specifications. It seems like the behavior is consistent across Oracle, IBM, and OpenJDK, but I couldn’t seem to find any requirements in the specs that classes used locally in methods must be lazily loaded.</p>\n<p>I looked through <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html\" rel=\"nofollow noreferrer\">&quot;Chapter 5. Loading, Linking, and Initializing&quot;</a> of the JVM Spec and <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.4\" rel=\"nofollow noreferrer\">&quot;15.12.4. Run-Time Evaluation of Method Invocation&quot;</a> in the JLS.</p>\n<p>For my second example, could there be a JVM impl that eagerly loads <code>Optional</code> even though it only exists in an unused code path? Am I missing the section of the spec(s) that requires this behavior or is it just a common implementation detail?</p>\n"},{"tags":["java","file","pdf","itext"],"comments":[{"owner":{"account_id":6702549,"reputation":1560,"user_id":5168582,"accept_rate":86,"display_name":"Mateusz Sobczak"},"score":0,"creation_date":1634019811,"post_id":69530994,"comment_id":122907052,"body_markdown":"@KJ thank you for your answer. Do you know how to change it? I set ISO-8859-1 but now questions marks are displayed.","body":"@KJ thank you for your answer. Do you know how to change it? I set ISO-8859-1 but now questions marks are displayed."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":1,"creation_date":1634757207,"post_id":69530994,"comment_id":123114283,"body_markdown":"If it works locally but not on the server, it will be hard to help you since the community needs a self-reproducible code sample. It&#39;s up to you to debug/find out differences between your local environment and your server environment. Meanwhile I strongly recommend switching to iText 7 since iText 5 (and `XMLWorkerHelper` is an iText 5 class) has been deprecated years ago)","body":"If it works locally but not on the server, it will be hard to help you since the community needs a self-reproducible code sample. It&#39;s up to you to debug/find out differences between your local environment and your server environment. Meanwhile I strongly recommend switching to iText 7 since iText 5 (and <code>XMLWorkerHelper</code> is an iText 5 class) has been deprecated years ago)"},{"owner":{"account_id":6702549,"reputation":1560,"user_id":5168582,"accept_rate":86,"display_name":"Mateusz Sobczak"},"score":0,"creation_date":1634846006,"post_id":69530994,"comment_id":123143601,"body_markdown":"@AlexeySubach I can&#39;t find itext ver 7 from maven repo only ver 5 is available","body":"@AlexeySubach I can&#39;t find itext ver 7 from maven repo only ver 5 is available"},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":1,"creation_date":1634847091,"post_id":69530994,"comment_id":123143935,"body_markdown":"Can you take a look at https://kb.itextpdf.com/home/it7kb/installation-guidelines/installing-itext-7-for-java ?","body":"Can you take a look at <a href=\"https://kb.itextpdf.com/home/it7kb/installation-guidelines/installing-itext-7-for-java\" rel=\"nofollow noreferrer\">kb.itextpdf.com/home/it7kb/installation-guidelines/&hellip;</a> ?"}],"owner":{"account_id":6702549,"reputation":1560,"user_id":5168582,"accept_rate":86,"display_name":"Mateusz Sobczak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634657778,"creation_date":1633977385,"question_id":69530994,"body_markdown":"I have a problem with Polish/Czech letters. I want to generate a PDF from html with Polish/Czech letters, but in Linux it doesn&#39;t generate these letters. It just skips it like it doesn&#39;t exist. My code looks like this:  \r\n\r\n\r\n    ByteArrayInputStream(process.getBytes(Charset.forName(&quot;UTF-8&quot;)));\r\n    \r\n    XMLWorkerHelper.getInstance().parseXHtml(pdfWriter, document, inputStream, Charset.forName(&quot;UTF-8&quot;));\r\n\r\nI think something is missing on the server side, because locally everything works properly.\r\n\r\nThanks in advance for any help.\r\n","title":"ITextpdf doesn&#39;t work with Polish/Czech letters from html","body":"<p>I have a problem with Polish/Czech letters. I want to generate a PDF from html with Polish/Czech letters, but in Linux it doesn't generate these letters. It just skips it like it doesn't exist. My code looks like this:</p>\n<pre><code>ByteArrayInputStream(process.getBytes(Charset.forName(&quot;UTF-8&quot;)));\n\nXMLWorkerHelper.getInstance().parseXHtml(pdfWriter, document, inputStream, Charset.forName(&quot;UTF-8&quot;));\n</code></pre>\n<p>I think something is missing on the server side, because locally everything works properly.</p>\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","operating-system","memory-address","instruction-set","program-counter"],"comments":[{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1634653689,"post_id":69632588,"comment_id":123079916,"body_markdown":"Java **is not C**, you do **not** work with memory, addresses, registers.","body":"Java <b>is not C</b>, you do <b>not</b> work with memory, addresses, registers."},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1634656721,"post_id":69632588,"comment_id":123081360,"body_markdown":"Your question is unclear anyway, and would still be so if posted in the C tag:(    Are you trying to design some kind of emulator?","body":"Your question is unclear anyway, and would still be so if posted in the C tag:(    Are you trying to design some kind of emulator?"},{"owner":{"account_id":17096212,"reputation":11,"user_id":12371149,"display_name":"Noel Powell"},"score":0,"creation_date":1634657036,"post_id":69632588,"comment_id":123081517,"body_markdown":"yes its an emulator","body":"yes its an emulator"},{"owner":{"account_id":17096212,"reputation":11,"user_id":12371149,"display_name":"Noel Powell"},"score":0,"creation_date":1634657091,"post_id":69632588,"comment_id":123081553,"body_markdown":"to clear up the confusion I am basically asking how to write a fetch function in java","body":"to clear up the confusion I am basically asking how to write a fetch function in java"},{"owner":{"account_id":216101,"reputation":24294,"user_id":471129,"display_name":"Erik Eidt"},"score":0,"creation_date":1634657658,"post_id":69632588,"comment_id":123081868,"body_markdown":"What instruction set are you emulating?  You&#39;ll need to simulate both the CPU and memory.  How to represent memory depends upon the instruction set.  For LC-3 for example, an array of unsigned short will work but for MIPS you might want an array of bytes, since that is a byte addressable machine.","body":"What instruction set are you emulating?  You&#39;ll need to simulate both the CPU and memory.  How to represent memory depends upon the instruction set.  For LC-3 for example, an array of unsigned short will work but for MIPS you might want an array of bytes, since that is a byte addressable machine."},{"owner":{"account_id":17096212,"reputation":11,"user_id":12371149,"display_name":"Noel Powell"},"score":0,"creation_date":1634659291,"post_id":69632588,"comment_id":123082580,"body_markdown":"its 16 bits for the instruction set","body":"its 16 bits for the instruction set"}],"owner":{"account_id":17096212,"reputation":11,"user_id":12371149,"display_name":"Noel Powell"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1634657437,"creation_date":1634653178,"question_id":69632588,"body_markdown":"\r\nHow do i get the fetch cycle working  if i have to get the instruction address from memory and assign it to some area of ram? I am just starting to learn the language java any suggestions?\r\nI want to get the address from the instruction and add the required ram to it I would like to know if i am on the right track.\r\n\r\nHow do i get the fetch cycle working  if i have to get the instruction address from memory and assign it to some area of ram? I am just starting to learn the language java any suggestions?\r\nI want to get the address from the instruction and add the required ram to it I would like to know if i am on the right track.\r\n\r\n```\r\n public int fetch(){\r\n        program_counter =0;\r\n\r\n        memory_address= 00000011100;\r\n\r\n        instruction_register = 000110001;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n        \r\n        \r\n        System.out.println(&quot;Processor is now fetching..&quot;);\r\n        return 1;\r\n    } \r\n```","title":"How do I get the results of a fetch cycle in java based on an operating system? I am newbie to java I am looking for some advice","body":"<p>How do i get the fetch cycle working  if i have to get the instruction address from memory and assign it to some area of ram? I am just starting to learn the language java any suggestions?\nI want to get the address from the instruction and add the required ram to it I would like to know if i am on the right track.</p>\n<p>How do i get the fetch cycle working  if i have to get the instruction address from memory and assign it to some area of ram? I am just starting to learn the language java any suggestions?\nI want to get the address from the instruction and add the required ram to it I would like to know if i am on the right track.</p>\n<pre><code> public int fetch(){\n        program_counter =0;\n\n        memory_address= 00000011100;\n\n        instruction_register = 000110001;\n\n\n\n\n\n\n\n\n        \n        \n        \n        System.out.println(&quot;Processor is now fetching..&quot;);\n        return 1;\n    } \n</code></pre>\n"},{"tags":["javascript","python","java","webautomation","playwright"],"answers":[{"tags":[],"owner":{"account_id":8703850,"reputation":2628,"user_id":6512681,"display_name":"Max Schmitt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634657437,"creation_date":1634657437,"answer_id":69633718,"question_id":69596102,"body_markdown":"[`page.goto`][1] returns the `Response` of the page where its navigating to. So you can do something like that:\r\n\r\n```py\r\nfrom playwright.sync_api import sync_playwright\r\n\r\nwith sync_playwright() as p:\r\n    browser = p.chromium.launch()\r\n    page = browser.new_page()\r\n\r\n    response = page.goto(&quot;http://whatsmyuseragent.org/&quot;)\r\n    assert response.ok\r\n\r\n    browser.close()\r\n```\r\n\r\n  [1]: https://playwright.dev/python/docs/api/class-page/#page-goto","title":"How to check response in Playwright","body":"<p><a href=\"https://playwright.dev/python/docs/api/class-page/#page-goto\" rel=\"nofollow noreferrer\"><code>page.goto</code></a> returns the <code>Response</code> of the page where its navigating to. So you can do something like that:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from playwright.sync_api import sync_playwright\n\nwith sync_playwright() as p:\n    browser = p.chromium.launch()\n    page = browser.new_page()\n\n    response = page.goto(&quot;http://whatsmyuseragent.org/&quot;)\n    assert response.ok\n\n    browser.close()\n</code></pre>\n"}],"owner":{"account_id":15778307,"reputation":1,"user_id":11385484,"display_name":"Gentrit Hoxha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634657437,"creation_date":1634391550,"question_id":69596102,"body_markdown":"I have I question about Playwright. When I make a request to a website with `&quot;page.goto(&quot;example_url.com&quot;)&quot; ` \r\nUsing `page.on(&quot;response&quot;, lambda res: print(res.status))`\r\nIt returns to me more than one response.\r\nMy question is how do I deal with this kind of situation to determine if the page has responded to me successfully.","title":"How to check response in Playwright","body":"<p>I have I question about Playwright. When I make a request to a website with <code>&quot;page.goto(&quot;example_url.com&quot;)&quot; </code>\nUsing <code>page.on(&quot;response&quot;, lambda res: print(res.status))</code>\nIt returns to me more than one response.\nMy question is how do I deal with this kind of situation to determine if the page has responded to me successfully.</p>\n"},{"tags":["java","maven","tomcat","jakarta-ee","vaadin"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1634657114,"creation_date":1631057976,"answer_id":69095515,"question_id":69095183,"body_markdown":"# Tomcat implements only a small subset of Java EE\r\n\r\nApache Tomcat and Eclipse Jetty are two competing implementations of the Servlet, JavaServer Pages, and a very few other specifications defined in Java EE. But Java EE defines dozens more specs that are *not* implemented in these products. Both of these products are quite popular, as they deliver just enough of Java EE to meet the needs of many people.\r\n\r\nSo you cannot specify the full Java EE API in your POM. Tomcat lacks an implementation for most of that API.\r\n\r\nFor more details, see [my Answer][1] to the Question, [Java EE Web Profile vs Java EE Full Platform][2]. Look especially for my section, *Servlet-oriented (Tomcat &amp; Jetty)*. \r\n\r\nYou can indeed build Vaadin web apps using only Tomcat or Jetty. I have delivered such apps myself, running very well when deployed to Apache Tomcat. And some of the default POMs for Vaadin include a Maven action to run Jetty within your IDE. We use that in the *Steps* section below.\r\n\r\nLooking at the URL in your first sentence, I see you started your project by downloading the Skeleton Starter for CDI. “CDI” is [*Contexts and Dependency Injection*][3], one of the many Java EE specs not implemented by Tomcat. Thus the POM being set for full Java EE API. \r\n\r\n➥ You can download a different Skeleton Starter without CDI, and without the full Java EE API.\r\n\r\nYou said:\r\n\r\n&gt;new to all of this and struggling quite a bit so any help is really greatly appreciated! :)\r\n\r\nYes, tooling for [web apps][4], [web containers][5], [Maven][6]/[Gradle][7], Vaadin, Java, [Servlets][8], and [IDE][9]s is complicated, fussy, frustrating, and annoying. And even worse, all of that is constantly changing! All I can say is be persistent, be stubborn, and keep at it. And search Stack Overflow repeatedly — many issues and aspects have been covered here, some of it by me with my own trials and tribulations. \r\n\r\n# Steps\r\n\r\nHere is an outline of steps, but not really an entire tutorial. \r\n\r\nBe sure to check for tutorials on the Vaadin.com site, as well as on YouTube. In particular, Marcus Hellberg has been posting good tutorials lately. Also, if you really get stuck, the Vaadin Ltd company sells consulting and training services. \r\n\r\nIf you have a Mac with Apple Silicon (M1 chip) rather than Intel, be sure you have [Rosetta 2](https://en.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2) installed. Installing an Intel-only app such as *Unicode Checker* will prompt the installation. The issue here is that Vaadin employs some JavaScript tools (*Node.js* &amp; *npm*) that are still Intel-only, even now, a year later, in late 2021. \r\n\r\n## Download *skeleton-starter-flow-14*\r\n\r\nOn the [Start page][10] at Vaadin.com, click the [link further down][11] for downloading a plain Java starter. On the next page, look for that ***Vaadin 14 - plain Java*** block. Notice that we do *not* want the *Vaadin 14 - Spring Boot* block, nor the *Vaadin 14 - CDI* block. \r\n\r\nThe link in that block downloads *skeleton-starter-flow-14* folder. You may change the name, and relocate that folder to the usual place for your IDE projects. \r\n\r\n## First run\r\n\r\nOpen that downloaded folder in your IDE. Wait a moment as Maven does its thing, unpacking, downloading, etc. In the mean time, read the *README.md* page.\r\n\r\nAfter Maven quiets, build the project as-is. You IDE likely has a way to invoke Maven in its GUI. IntelliJ for example has a *Maven* tool pane. There we should run `clean`, then `install`. \r\n\r\nIf you get an error &quot;No valid Maven installation found.&quot;, see [this Question][12], and [this Answer][13] instructing you to switch &quot;Maven wrapper&quot; setting to &quot;Bundled Maven&quot;. Yes, this is one of the many stupid speed bumps in all this tooling.\r\n\r\nIf you get an error &quot;Cannot access defaults field of Properties&quot;, see [this Question][14] with [this Answer][15], leading to [this Maven documentation page][16] telling you what to add to your POM. Yes, another of the many stupid speed bumps in tooling. Make Maven reprocess the POM —&#160;in IntelliJ this means clicking the tiny floating little windoid with a tiny Maven logo. \r\n\r\nWhen you get your `clean` &amp; `install` to run successfully, then you are ready to run the web app. In IntelliJ, I go to that Maven tool pane, then navigate to *Project base for Vaadin* &gt; *Plugins* &gt; *jetty* &gt; *jetty:run*. Wait a few minutes, especially the first time as more items may need to be downloaded, and various tools utilized by Vaadin must run. \r\n\r\nEventually you will see a message on the console stating &quot;Started Jetty Server&quot;. This means you can switch to your web browser, and point to `http://localhost:8080/`. There you should see the sample app, prompting for your name, with a &quot;Say hello&quot; button. Try that field and button, to make sure it all works. \r\n\r\nNow go back to the IDE. Stop the Jetty web container. In IntelliJ, I click the red square icon in upper right corner of the overall window.\r\n\r\n## Java 16\r\n\r\n**Update:** Java 16 is now at end-of-life. I recommend you move to Java 17, the current Long-Term Support (LTS) version. \r\n\r\nYou want to use Java 16, so we need to go back to our POM again. Replace these two lines:\r\n\r\n```xml\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n```\r\n\r\n… with:\r\n\r\n```xml\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n```\r\n\r\nOr with this &quot;release&quot; tag that works in later versions of Maven tooling:\r\n\r\n```xml\r\n        &lt;maven.compiler.release&gt;16&lt;/maven.compiler.release&gt;\r\n```\r\n\r\nSave the POM file. Make Maven reload this edited POM. In IntelliJ this means clicking the tiny floating little windoid with a tiny Maven logo. \r\n\r\nDo another Maven `clean` &amp; `install` for good measure.\r\n\r\nYou might update:\r\n\r\n```xml\r\n        &lt;jetty.version&gt;9.4.43.v20210629&lt;/jetty.version&gt;\r\n```\r\n\r\n… or:\r\n\r\n```xml\r\n        &lt;jetty.version&gt;10.0.6&lt;/jetty.version&gt;\r\n```\r\n\r\n… as well as the following items. Your IDE may be able to look up latest version numbers. In IntelliJ, delete the version number and press Control+Space (on macOS, if I recall correctly). \r\n\r\n```xml\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n```xml\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n```\r\n\r\nSave the edits to your POM. Make your IDE reprocess that POM. Do another Maven `clean` &amp; `install`. Maybe ask the IDE to rebuild the project, for good luck. Then run the web app with that `jetty:run` action. Point your web browser to `http://localhost:8080/`. And your app should run again.\r\n\r\n## Example POM\r\n\r\nHere is my finalized POM.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project-base&lt;/artifactId&gt;\r\n    &lt;name&gt;Project base for Vaadin&lt;/name&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\r\n        &lt;vaadin.version&gt;14.6.8&lt;/vaadin.version&gt;\r\n        &lt;jetty.version&gt;9.4.43.v20210629&lt;/jetty.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n\r\n        &lt;!-- Main Maven repository --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;!-- Maven Central repository requires https:// to access --&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;!-- Webjars are only needed when running in Vaadin 13 compatibility mode --&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.vaadin.webjar&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.insites&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.polymer&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.polymerelements&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.webcomponents&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Added to provide logging output as Vaadin uses --&gt;\r\n        &lt;!-- the unbound SLF4J no-operation (NOP) logger implementation --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;!-- Basil added--&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n        &lt;defaultGoal&gt;jetty:run&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- Basil added--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- Jetty plugin for easy testing without a server --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- If using IntelliJ IDEA with autocompilation, this\r\n                    might cause lots of unnecessary compilations in the\r\n                    background.--&gt;\r\n                    &lt;scanIntervalSeconds&gt;2&lt;/scanIntervalSeconds&gt;\r\n                    &lt;!-- Use war output directory to get the webpack files --&gt;\r\n                    &lt;webAppConfig&gt;\r\n                        &lt;allowDuplicateFragmentNames&gt;true&lt;/allowDuplicateFragmentNames&gt;\r\n                    &lt;/webAppConfig&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;!--\r\n                Take care of synchronizing java dependencies and imports in\r\n                package.json and main.js files.\r\n                It also creates webpack.config.js if not exists yet.\r\n            --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\r\n            &lt;/properties&gt;\r\n\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;flow-server-production-mode&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;it&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;scanIntervalSeconds&gt;0&lt;/scanIntervalSeconds&gt;\r\n                            &lt;stopPort&gt;8081&lt;/stopPort&gt;\r\n                            &lt;stopWait&gt;5&lt;/stopWait&gt;\r\n                            &lt;stopKey&gt;${project.artifactId}&lt;/stopKey&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;start-jetty&lt;/id&gt;\r\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;deploy-war&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;stop-jetty&lt;/id&gt;\r\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;stop&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## Tomcat\r\n\r\nIf running well, stop the Jetty server again. Now, we can try Tomcat 9.0.52. \r\n\r\nLook in the `target` folder of your project. You should find [WAR file][17], named something like `project-base-1.0-SNAPSHOT.war`. Copy that file to the `webapps` folder of Tomcat. Rename as desired, such as `demo.war`. \r\n\r\nStart Tomcat. Point your browser to `http://localhost:8080/`. You should see the &quot;Apache Tomcat/9.0.52&quot; page. \r\n\r\nPoint your browser to `http://localhost:8080/demo/` with `demo` matching your name on the WAR file. You should see the example Vaadin app running. Voil&#224;!\r\n\r\nHopefully that helps you along a bit further in your Vaadin work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44132306/642706\r\n  [2]: https://stackoverflow.com/q/24239978/642706\r\n  [3]: http://cdi-spec.org/\r\n  [4]: https://en.wikipedia.org/wiki/Web_application\r\n  [5]: https://en.wikipedia.org/wiki/Web_container\r\n  [6]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [7]: https://en.wikipedia.org/wiki/Gradle\r\n  [8]: https://en.wikipedia.org/wiki/Jakarta_Servlet\r\n  [9]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [10]: https://start.vaadin.com/welcome\r\n  [11]: https://vaadin.com/start#tech-stack-examples\r\n  [12]: https://stackoverflow.com/q/20031182/642706\r\n  [13]: https://stackoverflow.com/a/68712395/642706\r\n  [14]: https://stackoverflow.com/q/67221463/642706\r\n  [15]: https://stackoverflow.com/a/67227797/642706\r\n  [16]: https://maven.apache.org/plugins/maven-war-plugin/plugin-info.html\r\n  [17]: https://en.wikipedia.org/wiki/WAR_(file_format)","title":"Can&#39;t get a helloworld type of program to work using JDK16.0.2, JavaEE8.0.1, TomCat9.0.52, Vaadin14.6.8","body":"<h1>Tomcat implements only a small subset of Java EE</h1>\n<p>Apache Tomcat and Eclipse Jetty are two competing implementations of the Servlet, JavaServer Pages, and a very few other specifications defined in Java EE. But Java EE defines dozens more specs that are <em>not</em> implemented in these products. Both of these products are quite popular, as they deliver just enough of Java EE to meet the needs of many people.</p>\n<p>So you cannot specify the full Java EE API in your POM. Tomcat lacks an implementation for most of that API.</p>\n<p>For more details, see <a href=\"https://stackoverflow.com/a/44132306/642706\">my Answer</a> to the Question, <a href=\"https://stackoverflow.com/q/24239978/642706\">Java EE Web Profile vs Java EE Full Platform</a>. Look especially for my section, <em>Servlet-oriented (Tomcat &amp; Jetty)</em>.</p>\n<p>You can indeed build Vaadin web apps using only Tomcat or Jetty. I have delivered such apps myself, running very well when deployed to Apache Tomcat. And some of the default POMs for Vaadin include a Maven action to run Jetty within your IDE. We use that in the <em>Steps</em> section below.</p>\n<p>Looking at the URL in your first sentence, I see you started your project by downloading the Skeleton Starter for CDI. “CDI” is <a href=\"http://cdi-spec.org/\" rel=\"nofollow noreferrer\"><em>Contexts and Dependency Injection</em></a>, one of the many Java EE specs not implemented by Tomcat. Thus the POM being set for full Java EE API.</p>\n<p>➥ You can download a different Skeleton Starter without CDI, and without the full Java EE API.</p>\n<p>You said:</p>\n<blockquote>\n<p>new to all of this and struggling quite a bit so any help is really greatly appreciated! :)</p>\n</blockquote>\n<p>Yes, tooling for <a href=\"https://en.wikipedia.org/wiki/Web_application\" rel=\"nofollow noreferrer\">web apps</a>, <a href=\"https://en.wikipedia.org/wiki/Web_container\" rel=\"nofollow noreferrer\">web containers</a>, <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a>/<a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>, Vaadin, Java, <a href=\"https://en.wikipedia.org/wiki/Jakarta_Servlet\" rel=\"nofollow noreferrer\">Servlets</a>, and <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>s is complicated, fussy, frustrating, and annoying. And even worse, all of that is constantly changing! All I can say is be persistent, be stubborn, and keep at it. And search Stack Overflow repeatedly — many issues and aspects have been covered here, some of it by me with my own trials and tribulations.</p>\n<h1>Steps</h1>\n<p>Here is an outline of steps, but not really an entire tutorial.</p>\n<p>Be sure to check for tutorials on the Vaadin.com site, as well as on YouTube. In particular, Marcus Hellberg has been posting good tutorials lately. Also, if you really get stuck, the Vaadin Ltd company sells consulting and training services.</p>\n<p>If you have a Mac with Apple Silicon (M1 chip) rather than Intel, be sure you have <a href=\"https://en.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2\" rel=\"nofollow noreferrer\">Rosetta 2</a> installed. Installing an Intel-only app such as <em>Unicode Checker</em> will prompt the installation. The issue here is that Vaadin employs some JavaScript tools (<em>Node.js</em> &amp; <em>npm</em>) that are still Intel-only, even now, a year later, in late 2021.</p>\n<h2>Download <em>skeleton-starter-flow-14</em></h2>\n<p>On the <a href=\"https://start.vaadin.com/welcome\" rel=\"nofollow noreferrer\">Start page</a> at Vaadin.com, click the <a href=\"https://vaadin.com/start#tech-stack-examples\" rel=\"nofollow noreferrer\">link further down</a> for downloading a plain Java starter. On the next page, look for that <em><strong>Vaadin 14 - plain Java</strong></em> block. Notice that we do <em>not</em> want the <em>Vaadin 14 - Spring Boot</em> block, nor the <em>Vaadin 14 - CDI</em> block.</p>\n<p>The link in that block downloads <em>skeleton-starter-flow-14</em> folder. You may change the name, and relocate that folder to the usual place for your IDE projects.</p>\n<h2>First run</h2>\n<p>Open that downloaded folder in your IDE. Wait a moment as Maven does its thing, unpacking, downloading, etc. In the mean time, read the <em>README.md</em> page.</p>\n<p>After Maven quiets, build the project as-is. You IDE likely has a way to invoke Maven in its GUI. IntelliJ for example has a <em>Maven</em> tool pane. There we should run <code>clean</code>, then <code>install</code>.</p>\n<p>If you get an error &quot;No valid Maven installation found.&quot;, see <a href=\"https://stackoverflow.com/q/20031182/642706\">this Question</a>, and <a href=\"https://stackoverflow.com/a/68712395/642706\">this Answer</a> instructing you to switch &quot;Maven wrapper&quot; setting to &quot;Bundled Maven&quot;. Yes, this is one of the many stupid speed bumps in all this tooling.</p>\n<p>If you get an error &quot;Cannot access defaults field of Properties&quot;, see <a href=\"https://stackoverflow.com/q/67221463/642706\">this Question</a> with <a href=\"https://stackoverflow.com/a/67227797/642706\">this Answer</a>, leading to <a href=\"https://maven.apache.org/plugins/maven-war-plugin/plugin-info.html\" rel=\"nofollow noreferrer\">this Maven documentation page</a> telling you what to add to your POM. Yes, another of the many stupid speed bumps in tooling. Make Maven reprocess the POM — in IntelliJ this means clicking the tiny floating little windoid with a tiny Maven logo.</p>\n<p>When you get your <code>clean</code> &amp; <code>install</code> to run successfully, then you are ready to run the web app. In IntelliJ, I go to that Maven tool pane, then navigate to <em>Project base for Vaadin</em> &gt; <em>Plugins</em> &gt; <em>jetty</em> &gt; <em>jetty:run</em>. Wait a few minutes, especially the first time as more items may need to be downloaded, and various tools utilized by Vaadin must run.</p>\n<p>Eventually you will see a message on the console stating &quot;Started Jetty Server&quot;. This means you can switch to your web browser, and point to <code>http://localhost:8080/</code>. There you should see the sample app, prompting for your name, with a &quot;Say hello&quot; button. Try that field and button, to make sure it all works.</p>\n<p>Now go back to the IDE. Stop the Jetty web container. In IntelliJ, I click the red square icon in upper right corner of the overall window.</p>\n<h2>Java 16</h2>\n<p><strong>Update:</strong> Java 16 is now at end-of-life. I recommend you move to Java 17, the current Long-Term Support (LTS) version.</p>\n<p>You want to use Java 16, so we need to go back to our POM again. Replace these two lines:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>… with:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>Or with this &quot;release&quot; tag that works in later versions of Maven tooling:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;maven.compiler.release&gt;16&lt;/maven.compiler.release&gt;\n</code></pre>\n<p>Save the POM file. Make Maven reload this edited POM. In IntelliJ this means clicking the tiny floating little windoid with a tiny Maven logo.</p>\n<p>Do another Maven <code>clean</code> &amp; <code>install</code> for good measure.</p>\n<p>You might update:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;jetty.version&gt;9.4.43.v20210629&lt;/jetty.version&gt;\n</code></pre>\n<p>… or:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;jetty.version&gt;10.0.6&lt;/jetty.version&gt;\n</code></pre>\n<p>… as well as the following items. Your IDE may be able to look up latest version numbers. In IntelliJ, delete the version number and press Control+Space (on macOS, if I recall correctly).</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;4.4.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n</code></pre>\n<p>Save the edits to your POM. Make your IDE reprocess that POM. Do another Maven <code>clean</code> &amp; <code>install</code>. Maybe ask the IDE to rebuild the project, for good luck. Then run the web app with that <code>jetty:run</code> action. Point your web browser to <code>http://localhost:8080/</code>. And your app should run again.</p>\n<h2>Example POM</h2>\n<p>Here is my finalized POM.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project-base&lt;/artifactId&gt;\n    &lt;name&gt;Project base for Vaadin&lt;/name&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n\n        &lt;vaadin.version&gt;14.6.8&lt;/vaadin.version&gt;\n        &lt;jetty.version&gt;9.4.43.v20210629&lt;/jetty.version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n\n        &lt;!-- Main Maven repository --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;!-- Maven Central repository requires https:// to access --&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Webjars are only needed when running in Vaadin 13 compatibility mode --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.webjar&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.insites&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.polymer&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.polymerelements&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.webcomponents&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Added to provide logging output as Vaadin uses --&gt;\n        &lt;!-- the unbound SLF4J no-operation (NOP) logger implementation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;4.4.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;!-- Basil added--&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;defaultGoal&gt;jetty:run&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;!-- Basil added--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Jetty plugin for easy testing without a server --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jetty.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- If using IntelliJ IDEA with autocompilation, this\n                    might cause lots of unnecessary compilations in the\n                    background.--&gt;\n                    &lt;scanIntervalSeconds&gt;2&lt;/scanIntervalSeconds&gt;\n                    &lt;!-- Use war output directory to get the webpack files --&gt;\n                    &lt;webAppConfig&gt;\n                        &lt;allowDuplicateFragmentNames&gt;true&lt;/allowDuplicateFragmentNames&gt;\n                    &lt;/webAppConfig&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;!--\n                Take care of synchronizing java dependencies and imports in\n                package.json and main.js files.\n                It also creates webpack.config.js if not exists yet.\n            --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\n            &lt;/properties&gt;\n\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;flow-server-production-mode&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;it&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                        &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${jetty.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;scanIntervalSeconds&gt;0&lt;/scanIntervalSeconds&gt;\n                            &lt;stopPort&gt;8081&lt;/stopPort&gt;\n                            &lt;stopWait&gt;5&lt;/stopWait&gt;\n                            &lt;stopKey&gt;${project.artifactId}&lt;/stopKey&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;start-jetty&lt;/id&gt;\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;deploy-war&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;stop-jetty&lt;/id&gt;\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;stop&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Tomcat</h2>\n<p>If running well, stop the Jetty server again. Now, we can try Tomcat 9.0.52.</p>\n<p>Look in the <code>target</code> folder of your project. You should find <a href=\"https://en.wikipedia.org/wiki/WAR_(file_format)\" rel=\"nofollow noreferrer\">WAR file</a>, named something like <code>project-base-1.0-SNAPSHOT.war</code>. Copy that file to the <code>webapps</code> folder of Tomcat. Rename as desired, such as <code>demo.war</code>.</p>\n<p>Start Tomcat. Point your browser to <code>http://localhost:8080/</code>. You should see the &quot;Apache Tomcat/9.0.52&quot; page.</p>\n<p>Point your browser to <code>http://localhost:8080/demo/</code> with <code>demo</code> matching your name on the WAR file. You should see the example Vaadin app running. Voilà!</p>\n<p>Hopefully that helps you along a bit further in your Vaadin work.</p>\n"}],"owner":{"account_id":10648501,"reputation":77,"user_id":7840331,"display_name":"LuckyTriple Smile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69095515,"answer_count":1,"score":2,"last_activity_date":1634657114,"creation_date":1631054297,"question_id":69095183,"body_markdown":"I start the project by downloading this: https://github.com/vaadin/skeleton-starter-flow-cdi/archive/v14.zip\r\n\r\nEdit pom.xml a bit by deleting tomEE plugin info as I want to run it separately. I also add a maven-war plugin info dependency so that I could compile with Java16. And change default build parameters to maven clean package instead of running tomee plugin. My pom.xml ends up looking like this:\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example.test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jee8tc9j16v14-6-8_hello001&lt;/artifactId&gt;\r\n    &lt;name&gt;JEE8TC9J16V14.6.8_hello001&lt;/name&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\r\n        &lt;!-- Dependencies --&gt;\r\n        &lt;vaadin.version&gt;14.6.8&lt;/vaadin.version&gt;\r\n\r\n        &lt;drivers.dir&gt;${project.basedir}/drivers&lt;/drivers.dir&gt;\r\n        &lt;drivers.downloader.phase&gt;pre-integration-test&lt;/drivers.downloader.phase&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;!-- Webjars are only needed when running in Vaadin 13 compatibility mode --&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.vaadin.webjar&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.insites&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.polymer&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.polymerelements&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars.bowergithub.webcomponents&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-cdi&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Added to provide logging output as Flow uses --&gt;\r\n        &lt;!-- the unbound SLF4J no-operation (NOP) logger implementation --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;clean package&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!--\r\n                Take care of synchronizing java dependencies and imports in\r\n                package.json and main.js files.\r\n                It also creates webpack.config.js if not exists yet.\r\n            --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n        \t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n      \t \t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n        \t&lt;/plugin&gt;\r\n            \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\r\n            &lt;/properties&gt;\r\n\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;flow-server-production-mode&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;it&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.22.2&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n                                &lt;!-- Pass location of downloaded webdrivers to the tests --&gt;\r\n                                &lt;webdriver.chrome.driver&gt;${webdriver.chrome.driver}&lt;/webdriver.chrome.driver&gt;\r\n                            &lt;/systemPropertyVariables&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.lazerycode.selenium&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;driver-binary-downloader-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0.17&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;onlyGetDriversForHostOperatingSystem&gt;true\r\n                            &lt;/onlyGetDriversForHostOperatingSystem&gt;\r\n                            &lt;rootStandaloneServerDirectory&gt;\r\n                                ${project.basedir}/drivers/driver\r\n                            &lt;/rootStandaloneServerDirectory&gt;\r\n                            &lt;downloadedZipFileDirectory&gt;\r\n                                ${project.basedir}/drivers/driver_zips\r\n                            &lt;/downloadedZipFileDirectory&gt;\r\n                            &lt;customRepositoryMap&gt;\r\n                                ${project.basedir}/drivers.xml\r\n                            &lt;/customRepositoryMap&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;!-- use phase &quot;none&quot; to skip download step --&gt;\r\n                                &lt;phase&gt;${drivers.downloader.phase}&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;selenium&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI leave everything else the same and then deploy the built .war file via tomcat GUI (http://localhost:8080/manager/html).  \r\nVisiting http://localhost:8080/jee8tc9j16v14-6-8_hello001-1.0-SNAPSHOT/ returns this:\r\n```\r\nHTTP Status 500 – Internal Server Error\r\nType Exception Report\r\n\r\nMessage Error instantiating servlet class [com.vaadin.cdi.CdiVaadinServlet]\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: Error instantiating servlet class [com.vaadin.cdi.CdiVaadinServlet]\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:831)\r\nRoot Cause\r\n\r\njava.lang.NoClassDefFoundError: javax/enterprise/inject/spi/BeanManager\r\n\tjava.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n\tjava.base/java.lang.Class.privateGetDeclaredFields(Class.java:3229)\r\n\tjava.base/java.lang.Class.getDeclaredFields(Class.java:2335)\r\n\torg.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:831)\r\nRoot Cause\r\n\r\njava.lang.ClassNotFoundException: javax.enterprise.inject.spi.BeanManager\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\r\n\tjava.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n\tjava.base/java.lang.Class.privateGetDeclaredFields(Class.java:3229)\r\n\tjava.base/java.lang.Class.getDeclaredFields(Class.java:2335)\r\n\torg.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:831)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n\r\nApache Tomcat/9.0.52\r\n```\r\n\r\nMaybe someone knows what might cause these issues? Maybe I&#39;m deploying it wrong? Maybe TomCat9 can&#39;t be used with this dependency?\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nSorry if the question seems trivial. I&#39;m really new to all of this and struggling quite a bit so any help is really greatly appreciated! :)","title":"Can&#39;t get a helloworld type of program to work using JDK16.0.2, JavaEE8.0.1, TomCat9.0.52, Vaadin14.6.8","body":"<p>I start the project by downloading this: <a href=\"https://github.com/vaadin/skeleton-starter-flow-cdi/archive/v14.zip\" rel=\"nofollow noreferrer\">https://github.com/vaadin/skeleton-starter-flow-cdi/archive/v14.zip</a></p>\n<p>Edit pom.xml a bit by deleting tomEE plugin info as I want to run it separately. I also add a maven-war plugin info dependency so that I could compile with Java16. And change default build parameters to maven clean package instead of running tomee plugin. My pom.xml ends up looking like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example.test&lt;/groupId&gt;\n    &lt;artifactId&gt;jee8tc9j16v14-6-8_hello001&lt;/artifactId&gt;\n    &lt;name&gt;JEE8TC9J16V14.6.8_hello001&lt;/name&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n\n        &lt;!-- Dependencies --&gt;\n        &lt;vaadin.version&gt;14.6.8&lt;/vaadin.version&gt;\n\n        &lt;drivers.dir&gt;${project.basedir}/drivers&lt;/drivers.dir&gt;\n        &lt;drivers.downloader.phase&gt;pre-integration-test&lt;/drivers.downloader.phase&gt;\n    &lt;/properties&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Webjars are only needed when running in Vaadin 13 compatibility mode --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.webjar&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.insites&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.polymer&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.polymerelements&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars.bowergithub.webcomponents&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-cdi&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Added to provide logging output as Flow uses --&gt;\n        &lt;!-- the unbound SLF4J no-operation (NOP) logger implementation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;clean package&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;!--\n                Take care of synchronizing java dependencies and imports in\n                package.json and main.js files.\n                It also creates webpack.config.js if not exists yet.\n            --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\n            &lt;/properties&gt;\n\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;flow-server-production-mode&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;it&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.22.2&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                            &lt;systemPropertyVariables&gt;\n                                &lt;!-- Pass location of downloaded webdrivers to the tests --&gt;\n                                &lt;webdriver.chrome.driver&gt;${webdriver.chrome.driver}&lt;/webdriver.chrome.driver&gt;\n                            &lt;/systemPropertyVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.lazerycode.selenium&lt;/groupId&gt;\n                        &lt;artifactId&gt;driver-binary-downloader-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.0.17&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;onlyGetDriversForHostOperatingSystem&gt;true\n                            &lt;/onlyGetDriversForHostOperatingSystem&gt;\n                            &lt;rootStandaloneServerDirectory&gt;\n                                ${project.basedir}/drivers/driver\n                            &lt;/rootStandaloneServerDirectory&gt;\n                            &lt;downloadedZipFileDirectory&gt;\n                                ${project.basedir}/drivers/driver_zips\n                            &lt;/downloadedZipFileDirectory&gt;\n                            &lt;customRepositoryMap&gt;\n                                ${project.basedir}/drivers.xml\n                            &lt;/customRepositoryMap&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;!-- use phase &quot;none&quot; to skip download step --&gt;\n                                &lt;phase&gt;${drivers.downloader.phase}&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;selenium&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I leave everything else the same and then deploy the built .war file via tomcat GUI (http://localhost:8080/manager/html).<br />\nVisiting http://localhost:8080/jee8tc9j16v14-6-8_hello001-1.0-SNAPSHOT/ returns this:</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\n\nMessage Error instantiating servlet class [com.vaadin.cdi.CdiVaadinServlet]\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njavax.servlet.ServletException: Error instantiating servlet class [com.vaadin.cdi.CdiVaadinServlet]\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:831)\nRoot Cause\n\njava.lang.NoClassDefFoundError: javax/enterprise/inject/spi/BeanManager\n    java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3229)\n    java.base/java.lang.Class.getDeclaredFields(Class.java:2335)\n    org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:831)\nRoot Cause\n\njava.lang.ClassNotFoundException: javax.enterprise.inject.spi.BeanManager\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\n    java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3229)\n    java.base/java.lang.Class.getDeclaredFields(Class.java:2335)\n    org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:831)\nNote The full stack trace of the root cause is available in the server logs.\n\nApache Tomcat/9.0.52\n</code></pre>\n<p>Maybe someone knows what might cause these issues? Maybe I'm deploying it wrong? Maybe TomCat9 can't be used with this dependency?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n    &lt;version&gt;8.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Sorry if the question seems trivial. I'm really new to all of this and struggling quite a bit so any help is really greatly appreciated! :)</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"score":0,"creation_date":1628181105,"post_id":68668418,"comment_id":121358395,"body_markdown":"It looks OK to me, although I&#39;d make the observation you should be returning some  thing more specific then Object, and  `List&lt;LinkedHashMap` should probably reduced to `List&lt;Map&gt;`. In later version of Java you have `list.of()` which might be helpful (although it is null hostile)","body":"It looks OK to me, although I&#39;d make the observation you should be returning some  thing more specific then Object, and  <code>List&lt;LinkedHashMap</code> should probably reduced to <code>List&lt;Map&gt;</code>. In later version of Java you have <code>list.of()</code> which might be helpful (although it is null hostile)"},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1628183032,"post_id":68668418,"comment_id":121359131,"body_markdown":"why `LinkedHashMap` if you have single element inside? this sounds like [XY problem](https://xyproblem.info/).","body":"why <code>LinkedHashMap</code> if you have single element inside? this sounds like <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1628199556,"post_id":68668418,"comment_id":121364592,"body_markdown":"This does not look okay to me, since *raw types* are used. You shouldn&#39;t use them, instead, provide all necessary type arguments.","body":"This does not look okay to me, since <i>raw types</i> are used. You shouldn&#39;t use them, instead, provide all necessary type arguments."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634656981,"creation_date":1634656981,"answer_id":69633609,"question_id":68668418,"body_markdown":"Here a couple of helper methods could be implemented to create a map using a `Supplier&lt;Map&gt;`, populate it with a default key-value and return the map.\r\n\r\nAs for list, there is method `Arrays.asList` to create a list from object(s), which may be used as is if a fixed-size list is fine, or can be wrapped into `new ArrayList&lt;&gt;(Arrays.asList(...))` to create a fully mutable list.\r\n\r\n```java\r\nprivate static &lt;K, V&gt; Map&lt;K, V&gt; createMap(K key, V value) {\r\n    return createMap(key, value, LinkedHashMap::new);\r\n}\r\n\r\nprivate static &lt;K, V&gt; Map&lt;K, V&gt; createMap(K key, V value, Supplier&lt;Map&lt;K, V&gt;&gt; mapSupplier) {\r\n    Map&lt;K, V&gt; map = mapSupplier.get();\r\n    map.put(key, value);\r\n\r\n    return map;\r\n}\r\n```\r\nThen `getData` may be rewritten as follows (also, fixed the raw `Object` in return type):\r\n```java\r\npublic Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; getData() {\r\n    return createMap(&quot;links&quot;, new ArrayList&lt;&gt;(\r\n            Arrays.asList(null, createMap(&quot;href&quot;, &quot;http://SomeLink&quot;))\r\n    ));\r\n}\r\n```\r\nTest\r\n```\r\nSystem.out.println(new MyClass().getData());\r\n```\r\nOutput:\r\n```\r\n{links=[null, {href=http://SomeLink}]}\r\n```\r\n----\r\nFor exercise purpose, a couple of &quot;lambdas&quot; may be defined to refer `createMap` method with specific type of arguments:\r\n```java\r\nBiFunction&lt;String, String, Map&lt;String, String&gt;&gt; innerMapSupplier = (k, v) -&gt; MyClass.createMap(k, v);\r\nBiFunction&lt;String, List&lt;Map&lt;String, String&gt;&gt;, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; resultMapSupplier = (k, v) -&gt; MyClass.createMap(k, v);\r\n\r\nSystem.out.println(\r\n    resultMapSupplier.apply(&quot;links&quot;, Arrays.asList(\r\n        null, \r\n        innerMapSupplier.apply(&quot;href&quot;, &quot;http://SomeLink&quot;)\r\n    ))\r\n);\r\n```","title":"Add HashMap into list then add generated list to new HashMap using a lambda expression","body":"<p>Here a couple of helper methods could be implemented to create a map using a <code>Supplier&lt;Map&gt;</code>, populate it with a default key-value and return the map.</p>\n<p>As for list, there is method <code>Arrays.asList</code> to create a list from object(s), which may be used as is if a fixed-size list is fine, or can be wrapped into <code>new ArrayList&lt;&gt;(Arrays.asList(...))</code> to create a fully mutable list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;K, V&gt; Map&lt;K, V&gt; createMap(K key, V value) {\n    return createMap(key, value, LinkedHashMap::new);\n}\n\nprivate static &lt;K, V&gt; Map&lt;K, V&gt; createMap(K key, V value, Supplier&lt;Map&lt;K, V&gt;&gt; mapSupplier) {\n    Map&lt;K, V&gt; map = mapSupplier.get();\n    map.put(key, value);\n\n    return map;\n}\n</code></pre>\n<p>Then <code>getData</code> may be rewritten as follows (also, fixed the raw <code>Object</code> in return type):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; getData() {\n    return createMap(&quot;links&quot;, new ArrayList&lt;&gt;(\n            Arrays.asList(null, createMap(&quot;href&quot;, &quot;http://SomeLink&quot;))\n    ));\n}\n</code></pre>\n<p>Test</p>\n<pre><code>System.out.println(new MyClass().getData());\n</code></pre>\n<p>Output:</p>\n<pre><code>{links=[null, {href=http://SomeLink}]}\n</code></pre>\n<hr />\n<p>For exercise purpose, a couple of &quot;lambdas&quot; may be defined to refer <code>createMap</code> method with specific type of arguments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BiFunction&lt;String, String, Map&lt;String, String&gt;&gt; innerMapSupplier = (k, v) -&gt; MyClass.createMap(k, v);\nBiFunction&lt;String, List&lt;Map&lt;String, String&gt;&gt;, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; resultMapSupplier = (k, v) -&gt; MyClass.createMap(k, v);\n\nSystem.out.println(\n    resultMapSupplier.apply(&quot;links&quot;, Arrays.asList(\n        null, \n        innerMapSupplier.apply(&quot;href&quot;, &quot;http://SomeLink&quot;)\n    ))\n);\n</code></pre>\n"}],"owner":{"account_id":2371690,"reputation":799,"user_id":2076174,"accept_rate":56,"display_name":"rakesh_parashar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634656981,"creation_date":1628173395,"question_id":68668418,"body_markdown":"I have the below code, which works fine.\r\nIn this code, its adding an element in LinkedHashMap, this Map is then added to a new list, and finally, that list is added into another LinkedHashMap. \r\nI am trying to find a better short way using java8 to make it more simple and short, any suggestion? \r\n\r\n    private Object getData() {\r\n            LinkedHashMap&lt;String, String&gt; secondLevelMap = new LinkedHashMap&lt;&gt;();\r\n            secondLevelMap.put(&quot;href&quot;, &quot;http://SomeLink&quot;);\r\n            List&lt;LinkedHashMap&gt; firstLevelList = new ArrayList&lt;&gt;(2);\r\n            firstLevelList.add(null);\r\n            firstLevelList.add(secondLevelMap);\r\n            LinkedHashMap&lt;String, List&lt;LinkedHashMap&gt;&gt; firstLevelMap = new LinkedHashMap&lt;&gt;();\r\n            firstLevelMap.put(&quot;links&quot;, firstLevelList);\r\n            return firstLevelMap;\r\n        }\r\n\r\n","title":"Add HashMap into list then add generated list to new HashMap using a lambda expression","body":"<p>I have the below code, which works fine.\nIn this code, its adding an element in LinkedHashMap, this Map is then added to a new list, and finally, that list is added into another LinkedHashMap.\nI am trying to find a better short way using java8 to make it more simple and short, any suggestion?</p>\n<pre><code>private Object getData() {\n        LinkedHashMap&lt;String, String&gt; secondLevelMap = new LinkedHashMap&lt;&gt;();\n        secondLevelMap.put(&quot;href&quot;, &quot;http://SomeLink&quot;);\n        List&lt;LinkedHashMap&gt; firstLevelList = new ArrayList&lt;&gt;(2);\n        firstLevelList.add(null);\n        firstLevelList.add(secondLevelMap);\n        LinkedHashMap&lt;String, List&lt;LinkedHashMap&gt;&gt; firstLevelMap = new LinkedHashMap&lt;&gt;();\n        firstLevelMap.put(&quot;links&quot;, firstLevelList);\n        return firstLevelMap;\n    }\n</code></pre>\n"},{"tags":["java","javafx","rgb","bufferedimage","16-bit"],"comments":[{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":1,"creation_date":1634657080,"post_id":69633324,"comment_id":123081545,"body_markdown":"Display? You cannot do it. No screen can handle 16-bit per channel, so do not expect much support. Many graphical programs support 16bit per channel, but as internal representation (useful for calculation without losing much data). Note: often linear RGB with half precision floats.","body":"Display? You cannot do it. No screen can handle 16-bit per channel, so do not expect much support. Many graphical programs support 16bit per channel, but as internal representation (useful for calculation without losing much data). Note: often linear RGB with half precision floats."},{"owner":{"account_id":22218087,"reputation":47,"user_id":16456213,"display_name":"LauGroupie95"},"score":0,"creation_date":1634712643,"post_id":69633324,"comment_id":123095242,"body_markdown":"What a pity @GiacomoCatenazzi, I wasn&#39;t aware about this fact. \nSo, I suppose I&#39;ll have to give up and simply use images with 8bit per channel.. Thank you","body":"What a pity @GiacomoCatenazzi, I wasn&#39;t aware about this fact.  So, I suppose I&#39;ll have to give up and simply use images with 8bit per channel.. Thank you"},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":1,"creation_date":1634720152,"post_id":69633324,"comment_id":123098241,"body_markdown":"Some professional screens can do 10-bit or 12-bit per channel, but usually with poor software support (but within professional programs) (and it is done to keep actual images, and to get extra bits for extra gamut and HDR. In any case, if I remember correctly, we can distinguish (human eye) around 1000 shades of greys (so around 10-bit), and no screens have no good black, so with 8-bit you do not lose much information.","body":"Some professional screens can do 10-bit or 12-bit per channel, but usually with poor software support (but within professional programs) (and it is done to keep actual images, and to get extra bits for extra gamut and HDR. In any case, if I remember correctly, we can distinguish (human eye) around 1000 shades of greys (so around 10-bit), and no screens have no good black, so with 8-bit you do not lose much information."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1634724549,"post_id":69633324,"comment_id":123100125,"body_markdown":"The conversion &quot;Image img = SwingFXUtils.toFXImage(bm, null);&quot; would kill all these extra bits anyway, so why bother.","body":"The conversion &quot;Image img = SwingFXUtils.toFXImage(bm, null);&quot; would kill all these extra bits anyway, so why bother."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1634734911,"post_id":69633324,"comment_id":123104503,"body_markdown":"You can see [my answer here](https://stackoverflow.com/a/20267282/1428606) for how to create an RGB `BufferedImage`with 16 bits per channel (48 bits per pixel). It doesn&#39;t make sense to use `setRGB` in this case, as it only supports 8 bits per channel. You need to access the raster/`short` backing array directly. But in any case, I&#39;m afraid @mipa is correct. I don&#39;t think JavaFX has support for 16 bits per channel images. It&#39;s probably faster/easier to just use a standard type and the upper 8 bits of each channel for a plain 24 bit image.","body":"You can see <a href=\"https://stackoverflow.com/a/20267282/1428606\">my answer here</a> for how to create an RGB <code>BufferedImage</code>with 16 bits per channel (48 bits per pixel). It doesn&#39;t make sense to use <code>setRGB</code> in this case, as it only supports 8 bits per channel. You need to access the raster/<code>short</code> backing array directly. But in any case, I&#39;m afraid @mipa is correct. I don&#39;t think JavaFX has support for 16 bits per channel images. It&#39;s probably faster/easier to just use a standard type and the upper 8 bits of each channel for a plain 24 bit image."},{"owner":{"account_id":22218087,"reputation":47,"user_id":16456213,"display_name":"LauGroupie95"},"score":0,"creation_date":1635238614,"post_id":69633324,"comment_id":123236503,"body_markdown":"Thank you everybody, I just did some toy examples in JavaFX during my university studies and now that I&#39;m working hardly with images and their manipulation to create a software for my thesis, it seems that my knowledge base is actually very poor! Fortunately, there are people like you that share their experience and knowledge for free, so thank you again!","body":"Thank you everybody, I just did some toy examples in JavaFX during my university studies and now that I&#39;m working hardly with images and their manipulation to create a software for my thesis, it seems that my knowledge base is actually very poor! Fortunately, there are people like you that share their experience and knowledge for free, so thank you again!"}],"owner":{"account_id":22218087,"reputation":47,"user_id":16456213,"display_name":"LauGroupie95"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634656480,"creation_date":1634655939,"question_id":69633324,"body_markdown":"I&#39;m using JavaFX and I have a 16bit grayscale image that I&#39;m able to show with the following code:\r\n\r\n``` \r\npublic Image createNewImageFromArrayPixels(int[][] pixels) {\t\t\r\n\t\tint width = pixels.length;\r\n\t\tint height = pixels[0].length;\r\n\t\t\r\n\t\tint[] buffer = from2DArrayTo1DArray(pixels);\r\n\t\t\r\n\t\tColorModel colorModel = new ComponentColorModel(\r\n\t            ColorSpace.getInstance(ColorSpace.CS_GRAY),\t//we have grayscale images\r\n\t            new int[]{16}, \t\t\t\t\t\t\t\t//bit depth: 16 bit per pixel\r\n\t            false,\r\n\t            false,\r\n\t            Transparency.OPAQUE,\r\n\t            DataBuffer.TYPE_INT);\t\t\t\t\t\t//every pixel has an integer intensity\r\n\t            \r\n\t\tWritableRaster raster = colorModel.createCompatibleWritableRaster(height, width);\r\n\t\tDataBufferInt buff = (DataBufferInt) raster.getDataBuffer();\r\n\t    \r\n\t    int[] bufferData = buff.getData();\r\n\t    System.arraycopy(buffer, 0, bufferData, 0, (buffer.length &lt; bufferData.length ? buffer.length : bufferData.length));\r\n\t    \r\n\t    BufferedImage bm = new BufferedImage(colorModel, raster, colorModel.isAlphaPremultiplied(), null);\r\n\t\tImage img = SwingFXUtils.toFXImage(bm, null);\r\n\t\t\r\n\t\treturn img;\r\n\t} \r\n ```\r\n\r\nNow I want to transform it in a 48bit RGB image (16bit per channel), but I can&#39;t understand how.\r\n \r\nAt the moment I&#39;m able to create a RGB 24bit image (8 bit per channel) by taking the int value of a pixel from the grayscale image and building manually the bytes that will compose the pixels with the following code:\r\n\r\n```\r\nprivate Image createRGBImageFromGrayPixels(int[][] pixels) {\r\n\t\t\r\n\t\tint width = pixels.length;\r\n\t\tint height = pixels[0].length;\r\n\t\t\r\n\t\tBufferedImage bm = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB); \r\n\r\n\t\tfor (int y = 0; y &lt; height; y++) {\r\n\t\t\tfor (int x = 0; x &lt; width; x++) {\r\n\t\t\t\t\r\n\t\t\t\tint converted = from16to8(pixels[y][x]);\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;original &quot; + pixels[y][x] + &quot; = &quot; + converted + &quot; = &quot; + from8to16(converted));\r\n\t\t\t\t\r\n\t\t\t\tint rgb = converted;\r\n\t\t        rgb = (rgb &lt;&lt; 8) + converted; \r\n\t\t        rgb = (rgb &lt;&lt; 8) + converted;\r\n\t\t       \r\n\t\t        bm.setRGB(x, y, rgb);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tImage img = SwingFXUtils.toFXImage(bm, null);\r\n\t\t\r\n\t\treturn img;\r\n\t}\r\n\r\nprivate int from16to8(int value) {\r\n\t\t\r\n\t\tint originalStart = 0;\r\n\t\tint originalEnd = 65535;\r\n\t\t\r\n\t\tint newStart = 0;\r\n\t\tint newEnd = 255; \r\n\t\t\r\n\t\tdouble scale = (double)(newEnd - newStart) / (originalEnd - originalStart);\r\n\t\tdouble res = newStart + ((value - originalStart) * scale);\r\n\t\tSystem.out.println(res);\r\n\t\tint result = Math.round(Math.round(res));\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n```\r\n\r\nSimilarly, I&#39;m also able to create the same structure for 16bits obtaining the desired rgb value, but it is a long and is not accepted by the setRGB() method, so I&#39;m not able to create the bufferedImage, whose type I can&#39;t specify. \r\n\r\nCan anyone help me with this final steps, please? Thank you in advance.\r\n\r\n```\r\nprivate Image createRGBImageFromGrayPixels_16(int[][] pixels) {\r\n\t\t\r\n\t\tint width = pixels.length;\r\n\t\tint height = pixels[0].length;\r\n\t\t\r\n\t\tBufferedImage bm = new BufferedImage(width, height, BufferedImage...); //BufferedImage.TYPE ???\r\n\r\n\t\tfor (int y = 0; y &lt; height; y++) {\r\n\t\t\tfor (int x = 0; x &lt; width; x++) {\r\n\t\t\t\t\r\n\t\t\t\tlong rgb = pixels[y][x];\r\n\t\t        rgb = (rgb &lt;&lt; 16) + pixels[y][x]; \r\n\t\t        rgb = (rgb &lt;&lt; 16) + pixels[y][x];\r\n\t\t        \r\n\t\t        System.out.println(pixels[y][x] + &quot;\\t-&gt;\\t&quot; + rgb);\r\n\t\t        System.out.println();\r\n\t\t        \r\n\t\t        bm.setRGB(x, y, rgb); //ERROR: long type for rgb is not accepted!\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tImage img = SwingFXUtils.toFXImage(bm, null);\r\n\t\t\r\n\t\treturn img;\r\n\t}\r\n```\r\n\r\nIf needed, I can also install external jar libraries (obviously, only if opersource) that can help me achieving this goal.","title":"How to display a 48 bit RGB image (16 bit per channel) in JavaFX?","body":"<p>I'm using JavaFX and I have a 16bit grayscale image that I'm able to show with the following code:</p>\n<pre><code>public Image createNewImageFromArrayPixels(int[][] pixels) {        \n        int width = pixels.length;\n        int height = pixels[0].length;\n        \n        int[] buffer = from2DArrayTo1DArray(pixels);\n        \n        ColorModel colorModel = new ComponentColorModel(\n                ColorSpace.getInstance(ColorSpace.CS_GRAY), //we have grayscale images\n                new int[]{16},                              //bit depth: 16 bit per pixel\n                false,\n                false,\n                Transparency.OPAQUE,\n                DataBuffer.TYPE_INT);                       //every pixel has an integer intensity\n                \n        WritableRaster raster = colorModel.createCompatibleWritableRaster(height, width);\n        DataBufferInt buff = (DataBufferInt) raster.getDataBuffer();\n        \n        int[] bufferData = buff.getData();\n        System.arraycopy(buffer, 0, bufferData, 0, (buffer.length &lt; bufferData.length ? buffer.length : bufferData.length));\n        \n        BufferedImage bm = new BufferedImage(colorModel, raster, colorModel.isAlphaPremultiplied(), null);\n        Image img = SwingFXUtils.toFXImage(bm, null);\n        \n        return img;\n    } \n</code></pre>\n<p>Now I want to transform it in a 48bit RGB image (16bit per channel), but I can't understand how.</p>\n<p>At the moment I'm able to create a RGB 24bit image (8 bit per channel) by taking the int value of a pixel from the grayscale image and building manually the bytes that will compose the pixels with the following code:</p>\n<pre><code>private Image createRGBImageFromGrayPixels(int[][] pixels) {\n        \n        int width = pixels.length;\n        int height = pixels[0].length;\n        \n        BufferedImage bm = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB); \n\n        for (int y = 0; y &lt; height; y++) {\n            for (int x = 0; x &lt; width; x++) {\n                \n                int converted = from16to8(pixels[y][x]);\n                \n                System.out.println(&quot;original &quot; + pixels[y][x] + &quot; = &quot; + converted + &quot; = &quot; + from8to16(converted));\n                \n                int rgb = converted;\n                rgb = (rgb &lt;&lt; 8) + converted; \n                rgb = (rgb &lt;&lt; 8) + converted;\n               \n                bm.setRGB(x, y, rgb);\n            }\n        }\n        \n        Image img = SwingFXUtils.toFXImage(bm, null);\n        \n        return img;\n    }\n\nprivate int from16to8(int value) {\n        \n        int originalStart = 0;\n        int originalEnd = 65535;\n        \n        int newStart = 0;\n        int newEnd = 255; \n        \n        double scale = (double)(newEnd - newStart) / (originalEnd - originalStart);\n        double res = newStart + ((value - originalStart) * scale);\n        System.out.println(res);\n        int result = Math.round(Math.round(res));\n        \n        return result;\n    }\n</code></pre>\n<p>Similarly, I'm also able to create the same structure for 16bits obtaining the desired rgb value, but it is a long and is not accepted by the setRGB() method, so I'm not able to create the bufferedImage, whose type I can't specify.</p>\n<p>Can anyone help me with this final steps, please? Thank you in advance.</p>\n<pre><code>private Image createRGBImageFromGrayPixels_16(int[][] pixels) {\n        \n        int width = pixels.length;\n        int height = pixels[0].length;\n        \n        BufferedImage bm = new BufferedImage(width, height, BufferedImage...); //BufferedImage.TYPE ???\n\n        for (int y = 0; y &lt; height; y++) {\n            for (int x = 0; x &lt; width; x++) {\n                \n                long rgb = pixels[y][x];\n                rgb = (rgb &lt;&lt; 16) + pixels[y][x]; \n                rgb = (rgb &lt;&lt; 16) + pixels[y][x];\n                \n                System.out.println(pixels[y][x] + &quot;\\t-&gt;\\t&quot; + rgb);\n                System.out.println();\n                \n                bm.setRGB(x, y, rgb); //ERROR: long type for rgb is not accepted!\n            }\n        }\n        \n        Image img = SwingFXUtils.toFXImage(bm, null);\n        \n        return img;\n    }\n</code></pre>\n<p>If needed, I can also install external jar libraries (obviously, only if opersource) that can help me achieving this goal.</p>\n"},{"tags":["java","jvm","javapackager"],"comments":[{"owner":{"account_id":13773045,"reputation":717,"user_id":9939999,"display_name":"Raj"},"score":0,"creation_date":1538645560,"post_id":52643097,"comment_id":92219069,"body_markdown":"did you try -argument arg\n\n    An unnamed argument to be inserted into the JNLP file as an &lt;fx:argument&gt; element.","body":"did you try -argument arg      An unnamed argument to be inserted into the JNLP file as an &lt;fx:argument&gt; element."},{"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"score":1,"creation_date":1538647282,"post_id":52643097,"comment_id":92220122,"body_markdown":"Yes, argument works. I&#39;m not using a JNLP so that&#39;s why I thought it would not apply to my case.","body":"Yes, argument works. I&#39;m not using a JNLP so that&#39;s why I thought it would not apply to my case."}],"answers":[{"tags":[],"owner":{"account_id":2265731,"reputation":667,"user_id":2599910,"accept_rate":0,"display_name":"Pandey Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538646294,"creation_date":1538646294,"answer_id":52643653,"question_id":52643097,"body_markdown":"This may help you.\r\n\r\nSources : \r\nhttps://docs.oracle.com/javafx/2/deployment/javafx_ant_task_reference002.htm\r\n\r\nhttps://docs.oracle.com/javafx/2/deployment/javafx_ant_task_reference002.htm#CACIJFHB\r\n\r\n     &lt;fx:application name=&quot;Sample app&quot;\r\n        mainClass=&quot;test.MyApplication&quot;&gt;\r\n      &lt;!-- unnamed arguments --&gt;\r\n      &lt;fx:argument&gt;Something&lt;/fx:argument&gt;\r\n      &lt;!-- value with spaces that are generated at build time --&gt;\r\n      &lt;fx:argument&gt;JRE version: ${java.version}&lt;/fx:argument&gt;\r\n      &lt;!-- example of value using a special character --&gt;\r\n      &lt;fx:argument&gt;true &amp;amp; false&lt;/fx:argument&gt;\r\n     &lt;/fx:application&gt; ","title":"How to pass program arguments to java packager?","body":"<p>This may help you.</p>\n\n<p>Sources : \n<a href=\"https://docs.oracle.com/javafx/2/deployment/javafx_ant_task_reference002.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javafx/2/deployment/javafx_ant_task_reference002.htm</a></p>\n\n<p><a href=\"https://docs.oracle.com/javafx/2/deployment/javafx_ant_task_reference002.htm#CACIJFHB\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javafx/2/deployment/javafx_ant_task_reference002.htm#CACIJFHB</a></p>\n\n<pre><code> &lt;fx:application name=\"Sample app\"\n    mainClass=\"test.MyApplication\"&gt;\n  &lt;!-- unnamed arguments --&gt;\n  &lt;fx:argument&gt;Something&lt;/fx:argument&gt;\n  &lt;!-- value with spaces that are generated at build time --&gt;\n  &lt;fx:argument&gt;JRE version: ${java.version}&lt;/fx:argument&gt;\n  &lt;!-- example of value using a special character --&gt;\n  &lt;fx:argument&gt;true &amp;amp; false&lt;/fx:argument&gt;\n &lt;/fx:application&gt; \n</code></pre>\n"}],"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634656437,"creation_date":1538644324,"question_id":52643097,"body_markdown":"I&#39;m trying to create a native executable out of a .jar file I have locally. All looks fine except that I&#39;m currently executing the jar file with an argument (`abc`):\r\n\r\n    java -Dappbase=http://localhost:80/getdown/xyz/ -jar getdown-1.7.1.jar abc\r\n\r\nThis is what I&#39;m using to generate my native image:\r\n\r\n    javapackager \\\r\n      -deploy -BjvmProperties=appbase=http://localhost:80/getdown/xyz/ \\\r\n      -native \\\r\n      -outdir result \\\r\n      -outfile sample \\\r\n      -srcfiles getdown-1.7.1.jar \\\r\n      -appclass com.threerings.getdown.launcher.GetdownApp\r\n\r\nHow to signal `javapackager` that I&#39;d like it to run `com.threerings.getdown.launcher.GetdownApp` with `abc` as an argument?\r\n\r\nThanks","title":"How to pass program arguments to java packager?","body":"<p>I'm trying to create a native executable out of a .jar file I have locally. All looks fine except that I'm currently executing the jar file with an argument (<code>abc</code>):</p>\n\n<pre><code>java -Dappbase=http://localhost:80/getdown/xyz/ -jar getdown-1.7.1.jar abc\n</code></pre>\n\n<p>This is what I'm using to generate my native image:</p>\n\n<pre><code>javapackager \\\n  -deploy -BjvmProperties=appbase=http://localhost:80/getdown/xyz/ \\\n  -native \\\n  -outdir result \\\n  -outfile sample \\\n  -srcfiles getdown-1.7.1.jar \\\n  -appclass com.threerings.getdown.launcher.GetdownApp\n</code></pre>\n\n<p>How to signal <code>javapackager</code> that I'd like it to run <code>com.threerings.getdown.launcher.GetdownApp</code> with <code>abc</code> as an argument?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","memory-management","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":1122035,"reputation":744,"user_id":1110183,"accept_rate":56,"display_name":"Alex van den Hoogen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324511491,"creation_date":1324511491,"answer_id":8597878,"question_id":8595797,"body_markdown":"There is a &#39;feature&#39; in the Bitmap class of Android that keeps Bitmaps out of your VM heap size, which in turn means that you have even less space for Bitmaps.\r\n\r\nThe only way to solve OutOfMemory exceptions that are related to Bitmaps, you&#39;ll have to free resources using `Bitmap.Recycle();` after you have finished using this Bitmap. And use `Runtime.gc()` to flush the Garbage Collector. \r\n\r\nMy personal opinion is that this sucks and that Bitmaps should also be included in your app&#39;s VM heap size, but that&#39;s just not the case in Android.","title":"Android Resources Class Memory Usage","body":"<p>There is a 'feature' in the Bitmap class of Android that keeps Bitmaps out of your VM heap size, which in turn means that you have even less space for Bitmaps.</p>\n\n<p>The only way to solve OutOfMemory exceptions that are related to Bitmaps, you'll have to free resources using <code>Bitmap.Recycle();</code> after you have finished using this Bitmap. And use <code>Runtime.gc()</code> to flush the Garbage Collector. </p>\n\n<p>My personal opinion is that this sucks and that Bitmaps should also be included in your app's VM heap size, but that's just not the case in Android.</p>\n"},{"tags":[],"owner":{"account_id":134691,"reputation":8445,"user_id":336983,"accept_rate":88,"display_name":"nebkat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1324833477,"creation_date":1324833477,"answer_id":8630602,"question_id":8595797,"body_markdown":"Turns out it was a problem in CyanogenMod. It has been fixed now.","title":"Android Resources Class Memory Usage","body":"<p>Turns out it was a problem in CyanogenMod. It has been fixed now.</p>\n"}],"owner":{"account_id":134691,"reputation":8445,"user_id":336983,"accept_rate":88,"display_name":"nebkat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8630602,"answer_count":2,"score":2,"last_activity_date":1634656331,"creation_date":1324498664,"question_id":8595797,"body_markdown":"I&#39;m making modifications to the Android 4.0 launcher and I have been running into many OutOfMemoryErrors. Since the 4.0.3 update it got much worse (or started, it seems before it was fine, but I never got to test properly) and I have tried many many things to fix it. The error is also in the stock launcher without my modifications. \r\n\r\nI looked at the heap hprof in the Eclipse Memory Analyzer and noticed that the system Resources class was taking 50% of the memory. Almost all of it was Bitmaps including some bitmaps that were 1mb 512x512px. Since my phone is 400x800, I don&#39;t see why it would have a resource at that resolution. Then there were there more than 800 other bitmaps as well but these were more reasonable sizes. \r\n\r\nThe app doesn&#39;t contain 800 resources, so is it possible that these are from other packages? I know the app does load icons and widget previews from other apps, but that still isn&#39;t up to 800 and even if it is part of them, why is it still being kept in memory? \r\n\r\nI have uploaded the hprof file to http://176.31.247.124/nebkat/heap.hprof if it is needed.\r\n\r\n","title":"Android Resources Class Memory Usage","body":"<p>I'm making modifications to the Android 4.0 launcher and I have been running into many OutOfMemoryErrors. Since the 4.0.3 update it got much worse (or started, it seems before it was fine, but I never got to test properly) and I have tried many many things to fix it. The error is also in the stock launcher without my modifications. </p>\n\n<p>I looked at the heap hprof in the Eclipse Memory Analyzer and noticed that the system Resources class was taking 50% of the memory. Almost all of it was Bitmaps including some bitmaps that were 1mb 512x512px. Since my phone is 400x800, I don't see why it would have a resource at that resolution. Then there were there more than 800 other bitmaps as well but these were more reasonable sizes. </p>\n\n<p>The app doesn't contain 800 resources, so is it possible that these are from other packages? I know the app does load icons and widget previews from other apps, but that still isn't up to 800 and even if it is part of them, why is it still being kept in memory? </p>\n\n<p>I have uploaded the hprof file to <a href=\"http://176.31.247.124/nebkat/heap.hprof\" rel=\"nofollow\">http://176.31.247.124/nebkat/heap.hprof</a> if it is needed.</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":2747887,"reputation":1764,"user_id":2367906,"accept_rate":73,"display_name":"adnan_e"},"score":0,"creation_date":1634653555,"post_id":69632568,"comment_id":123079835,"body_markdown":"Do you need the domains to be filtered sequentially?","body":"Do you need the domains to be filtered sequentially?"},{"owner":{"account_id":1136557,"reputation":4563,"user_id":1121521,"accept_rate":83,"display_name":"message"},"score":0,"creation_date":1634653672,"post_id":69632568,"comment_id":123079904,"body_markdown":"@adnan_e not really, I can filter them out in any order.","body":"@adnan_e not really, I can filter them out in any order."}],"answers":[{"tags":[],"owner":{"account_id":2747887,"reputation":1764,"user_id":2367906,"accept_rate":73,"display_name":"adnan_e"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634655621,"creation_date":1634653818,"answer_id":69632747,"question_id":69632568,"body_markdown":"You might want to wrap that synchronous call in a `Mono.fromCallable` which yields 0-1 items depending on whether the condition is met or not.\r\n\r\n```\r\nMono&lt;T&gt; checkDomain(T domain) {\r\n   // consider adding (if appropriate) subscribeOn to switch to another scheduler suitable for this, such as parallel() perhaps\r\n   return Mono.fromCallable(() -&gt; {\r\n      boolean filterMatches = ... your blocking HTTP request ...\r\n      return filterMatches;\r\n   }).flatMap(filterMatches -&gt; filterMatches ? Mono.just(domain) : Mono.empty());\r\n}\r\n...\r\n\r\nclient.fetchDomainList() // Flux&lt;DomainListResponse&gt;\r\n    .flatMap(response -&gt; Flux.fromIterable(response.getDomainList()))\r\n    // we are mapping 1 domain to 0-1 domain, depending on whether the condition is met.\r\n    .delayElements(/* your Duration */)\r\n    .flatMap(domain -&gt; checkDomain(domain)) \r\n```\r\n\r\nDocs for `Flux.delayElements`:\r\n\r\n\t/**\r\n\t * Delay each of this {@link Flux} elements ({@link Subscriber#onNext} signals)\r\n\t * by a given {@link Duration}. Signals are delayed and continue on the\r\n\t * {@link Schedulers#parallel() parallel} default Scheduler, but empty sequences or\r\n\t * immediate error signals are not delayed.\r\n\t *\r\n\t * &lt;p&gt;\r\n\t * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/delayElements.svg&quot; alt=&quot;&quot;&gt;\r\n\t *\r\n\t * @param delay duration by which to delay each {@link Subscriber#onNext} signal\r\n\t * @return a delayed {@link Flux}\r\n\t * @see #delaySubscription(Duration) delaySubscription to introduce a delay at the beginning of the sequence only\r\n\t */\r\n\tpublic final Flux&lt;T&gt; delayElements(Duration delay) {\r\n\t\treturn delayElements(delay, Schedulers.parallel());\r\n\t}\r\n\r\n\r\nI made a small PoC to test this out myself and came up with the following\r\n```\r\n    static Mono&lt;Integer&gt; verifyDomain(Integer t) {\r\n        return Mono.fromCallable(() -&gt; {\r\n            Thread.sleep(100); // simulate HTTP request\r\n            return t % 2 == 0; // is even?\r\n        }).flatMap(condition -&gt; condition ? Mono.just(t) : Mono.empty());\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Flux.fromStream(Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10))\r\n                .delayElements(Duration.ofSeconds(5))\r\n                .flatMap(i -&gt; verifyDomain(i))\r\n                .subscribe(i -&gt; System.out.println(LocalDateTime.now() + &quot; - &quot; + i));\r\n\r\n        Thread.sleep(100000); // just to stay alive\r\n    }\r\n```\r\n\r\nAnd the output is as expected:\r\n```\r\n2021-10-19T16:58:28.644437500 - 2\r\n2021-10-19T16:58:38.898397500 - 4\r\n2021-10-19T16:58:49.130059 - 6\r\n2021-10-19T16:58:59.376111100 - 8\r\n2021-10-19T16:59:09.603982600 - 10\r\n```","title":"Process List&lt;String&gt; with synchronous delay after flatMap?","body":"<p>You might want to wrap that synchronous call in a <code>Mono.fromCallable</code> which yields 0-1 items depending on whether the condition is met or not.</p>\n<pre><code>Mono&lt;T&gt; checkDomain(T domain) {\n   // consider adding (if appropriate) subscribeOn to switch to another scheduler suitable for this, such as parallel() perhaps\n   return Mono.fromCallable(() -&gt; {\n      boolean filterMatches = ... your blocking HTTP request ...\n      return filterMatches;\n   }).flatMap(filterMatches -&gt; filterMatches ? Mono.just(domain) : Mono.empty());\n}\n...\n\nclient.fetchDomainList() // Flux&lt;DomainListResponse&gt;\n    .flatMap(response -&gt; Flux.fromIterable(response.getDomainList()))\n    // we are mapping 1 domain to 0-1 domain, depending on whether the condition is met.\n    .delayElements(/* your Duration */)\n    .flatMap(domain -&gt; checkDomain(domain)) \n</code></pre>\n<p>Docs for <code>Flux.delayElements</code>:</p>\n<pre><code>/**\n * Delay each of this {@link Flux} elements ({@link Subscriber#onNext} signals)\n * by a given {@link Duration}. Signals are delayed and continue on the\n * {@link Schedulers#parallel() parallel} default Scheduler, but empty sequences or\n * immediate error signals are not delayed.\n *\n * &lt;p&gt;\n * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/delayElements.svg&quot; alt=&quot;&quot;&gt;\n *\n * @param delay duration by which to delay each {@link Subscriber#onNext} signal\n * @return a delayed {@link Flux}\n * @see #delaySubscription(Duration) delaySubscription to introduce a delay at the beginning of the sequence only\n */\npublic final Flux&lt;T&gt; delayElements(Duration delay) {\n    return delayElements(delay, Schedulers.parallel());\n}\n</code></pre>\n<p>I made a small PoC to test this out myself and came up with the following</p>\n<pre><code>    static Mono&lt;Integer&gt; verifyDomain(Integer t) {\n        return Mono.fromCallable(() -&gt; {\n            Thread.sleep(100); // simulate HTTP request\n            return t % 2 == 0; // is even?\n        }).flatMap(condition -&gt; condition ? Mono.just(t) : Mono.empty());\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        Flux.fromStream(Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10))\n                .delayElements(Duration.ofSeconds(5))\n                .flatMap(i -&gt; verifyDomain(i))\n                .subscribe(i -&gt; System.out.println(LocalDateTime.now() + &quot; - &quot; + i));\n\n        Thread.sleep(100000); // just to stay alive\n    }\n</code></pre>\n<p>And the output is as expected:</p>\n<pre><code>2021-10-19T16:58:28.644437500 - 2\n2021-10-19T16:58:38.898397500 - 4\n2021-10-19T16:58:49.130059 - 6\n2021-10-19T16:58:59.376111100 - 8\n2021-10-19T16:59:09.603982600 - 10\n</code></pre>\n"}],"owner":{"account_id":1136557,"reputation":4563,"user_id":1121521,"accept_rate":83,"display_name":"message"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69632747,"answer_count":1,"score":-1,"last_activity_date":1634655875,"creation_date":1634653111,"question_id":69632568,"body_markdown":"Hey I just started to dive into reactive programming and I can&#39;t figure out how to process a `List&lt;String&gt;` in a synchronous way after `flatMap`.\r\n\r\nWhat I am trying to achieve:\r\n\r\n1. Get domain list from external service \r\n2. Filter out existing domains in database\r\n3. Make another http request to external service to get domain info. These calls **should** be executed in a **synchronous** way with `Duration.ofSeconds(new Random().nextInt(5))` delay applied one after another, like `Thread.sleep` and not in parallel way.\r\n4. Store new domain data into database \r\n\r\n```\r\nclient.fetchDomainList() // Flux&lt;DomainListResponse&gt;\r\n.flatMap(response -&gt; Flux.fromIterable(response.getDomainList()))\r\n.filter(hostname -&gt; ! domainRepository.existsByHostname(hostname))\r\n.collectList()\r\n\r\n// this next bit is sketchy. \r\n// flatMap will doesn&#39;t work here (in my mind) \r\n// because it will apply delay in parallel way\r\n.map(list -&gt; Flux.fromIterable(list)\r\n\t.map(hostname -&gt; client.fetchDomainInfo(hostname)\r\n\t\t.delayElements(Duration.ofSeconds(new Random().nextInt(3))))\r\n\t.map(domainInfoResponse -&gt; {\r\n\t\treturn new Domain();\r\n\t})\r\n)\r\n\r\n.flatMap(s -&gt; { // s -&gt; Flux&lt;Domain&gt; here. Should be simply Domain\r\n // save into database?\r\n})\r\n```","title":"Process List&lt;String&gt; with synchronous delay after flatMap?","body":"<p>Hey I just started to dive into reactive programming and I can't figure out how to process a <code>List&lt;String&gt;</code> in a synchronous way after <code>flatMap</code>.</p>\n<p>What I am trying to achieve:</p>\n<ol>\n<li>Get domain list from external service</li>\n<li>Filter out existing domains in database</li>\n<li>Make another http request to external service to get domain info. These calls <strong>should</strong> be executed in a <strong>synchronous</strong> way with <code>Duration.ofSeconds(new Random().nextInt(5))</code> delay applied one after another, like <code>Thread.sleep</code> and not in parallel way.</li>\n<li>Store new domain data into database</li>\n</ol>\n<pre><code>client.fetchDomainList() // Flux&lt;DomainListResponse&gt;\n.flatMap(response -&gt; Flux.fromIterable(response.getDomainList()))\n.filter(hostname -&gt; ! domainRepository.existsByHostname(hostname))\n.collectList()\n\n// this next bit is sketchy. \n// flatMap will doesn't work here (in my mind) \n// because it will apply delay in parallel way\n.map(list -&gt; Flux.fromIterable(list)\n    .map(hostname -&gt; client.fetchDomainInfo(hostname)\n        .delayElements(Duration.ofSeconds(new Random().nextInt(3))))\n    .map(domainInfoResponse -&gt; {\n        return new Domain();\n    })\n)\n\n.flatMap(s -&gt; { // s -&gt; Flux&lt;Domain&gt; here. Should be simply Domain\n // save into database?\n})\n</code></pre>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":1,"creation_date":1634654010,"post_id":69632602,"comment_id":123080076,"body_markdown":"Finally, it depends on your business case.","body":"Finally, it depends on your business case."},{"owner":{"account_id":20231397,"reputation":97,"user_id":14837848,"display_name":"MakeTheErrorDie"},"score":0,"creation_date":1634654140,"post_id":69632602,"comment_id":123080135,"body_markdown":"Storing Encrypted passwords would be the main use case","body":"Storing Encrypted passwords would be the main use case"},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1634655430,"post_id":69632602,"comment_id":123080758,"body_markdown":"You should never store passwords. Not even if they are encrypted. You should hash the password using a salt (which should be different for each user) and use a one-way algorithm to create something like a hash. Store the hash. Do the same, when you authenticate the user and compare the hashes.","body":"You should never store passwords. Not even if they are encrypted. You should hash the password using a salt (which should be different for each user) and use a one-way algorithm to create something like a hash. Store the hash. Do the same, when you authenticate the user and compare the hashes."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634655401,"creation_date":1634655401,"answer_id":69633179,"question_id":69632602,"body_markdown":"Encrypted data is a sack of bytes. It has no structure and cannot be rendered as text.\r\n\r\nThe obvious way to store it is __as a sack of bytes__: Take your encrypted data, open a `FileOutputStream` / `Files.newOutputStream`, and write it. Verbatim.\r\n\r\nHaving encrypted data in a `.txt` file is silly. CSV is even crazier. __It has no structure__ - if you can detect anything other than random noise in encrypted data, then it wasn&#39;t encrypted (perhaps &#39;slightly obfuscated in a way any serious hacker is not going to get fazed by in the slightest&#39;, and lets not call that &#39;encryption&#39;).\r\n\r\nYou can&#39;t compress it, either (if you want to compress data, compress first, __then__ encrypt it. If you encrypt something, and if you then compress it and it gets smaller, your encryption algorithm is broken!) - hence, just, start writing.\r\n\r\n\r\nIf you need to transfer encrypted data across a channel that does not allow bytes, only text, then generally the text it allows is also problematic if you use wonky characters or encodings and is limited in that e.g. quotes aren&#39;t allowed either. The industry standard solution to this problem is to take any bunch of  bytes and convert it to safe ASCII characters using Base64. Note that this is inefficient: An input of X bytes becomes a base64 string of (X*4/3) bytes, e.g. it grows by 33% percent, for no reason.\r\n\r\nThis is a good idea if you need to send this stuff in emails, you want people to be able to open the file in an editor and copy/paste it into a web form, it needs to go in a `data-x=&quot;&quot;` attribute of an HTML document, you want to send it in an HTTP header, etcetera.\r\n\r\n&gt; for text files - if there are multiple data columns per item, would the data storing look like this?;\r\n\r\nIt really sounds like you have some structured data, such as a bunch of data representing a person, say:\r\n\r\n```\r\n{\r\n  &quot;dob&quot;: &quot;2000-01-01&quot;,\r\n  &quot;name&quot;: &quot;Joey Bloggs&quot;,\r\n  &quot;parents&quot;: [\r\n    &quot;Anna Bloggs&quot;,\r\n    &quot;Jane Bloggs&quot;],\r\n  &quot;hobbies&quot;: [\r\n    {&quot;name&quot;: &quot;Painting&quot;, &quot;started&quot;: &quot;2020-05-01&quot;}\r\n  ]\r\n}\r\n```\r\n\r\nand you want to encrypt this by keeping the structure but just encryping each &#39;value&#39; in it. Something like:\r\n\r\n```\r\n{\r\n  &quot;dob&quot;: &quot;AJDNDA21489234JDASD9234&quot;,\r\n  &quot;name&quot;: &quot;FDJFFDJADIDN235AFSFDS1243&quot;,\r\n  &quot;parents&quot;: [\r\n    &quot;SDJDDHRCDODFJF234&quot;,\r\n    &quot;D234ADFS9IT9CX&quot;],\r\n ... and so on\r\n}\r\n```\r\n\r\n__This is a very bad idea__. The structure alone gives me loads of information (I don&#39;t know who this is, but I do know they have 1 hobby and 2 parents. I even know something about roughly how &#39;long&#39; the names of the parents are!).\r\n\r\nJust take the entire blob and encrypt _the whole thing_.\r\n","title":"best way to store aes encrypted data","body":"<p>Encrypted data is a sack of bytes. It has no structure and cannot be rendered as text.</p>\n<p>The obvious way to store it is <strong>as a sack of bytes</strong>: Take your encrypted data, open a <code>FileOutputStream</code> / <code>Files.newOutputStream</code>, and write it. Verbatim.</p>\n<p>Having encrypted data in a <code>.txt</code> file is silly. CSV is even crazier. <strong>It has no structure</strong> - if you can detect anything other than random noise in encrypted data, then it wasn't encrypted (perhaps 'slightly obfuscated in a way any serious hacker is not going to get fazed by in the slightest', and lets not call that 'encryption').</p>\n<p>You can't compress it, either (if you want to compress data, compress first, <strong>then</strong> encrypt it. If you encrypt something, and if you then compress it and it gets smaller, your encryption algorithm is broken!) - hence, just, start writing.</p>\n<p>If you need to transfer encrypted data across a channel that does not allow bytes, only text, then generally the text it allows is also problematic if you use wonky characters or encodings and is limited in that e.g. quotes aren't allowed either. The industry standard solution to this problem is to take any bunch of  bytes and convert it to safe ASCII characters using Base64. Note that this is inefficient: An input of X bytes becomes a base64 string of (X*4/3) bytes, e.g. it grows by 33% percent, for no reason.</p>\n<p>This is a good idea if you need to send this stuff in emails, you want people to be able to open the file in an editor and copy/paste it into a web form, it needs to go in a <code>data-x=&quot;&quot;</code> attribute of an HTML document, you want to send it in an HTTP header, etcetera.</p>\n<blockquote>\n<p>for text files - if there are multiple data columns per item, would the data storing look like this?;</p>\n</blockquote>\n<p>It really sounds like you have some structured data, such as a bunch of data representing a person, say:</p>\n<pre><code>{\n  &quot;dob&quot;: &quot;2000-01-01&quot;,\n  &quot;name&quot;: &quot;Joey Bloggs&quot;,\n  &quot;parents&quot;: [\n    &quot;Anna Bloggs&quot;,\n    &quot;Jane Bloggs&quot;],\n  &quot;hobbies&quot;: [\n    {&quot;name&quot;: &quot;Painting&quot;, &quot;started&quot;: &quot;2020-05-01&quot;}\n  ]\n}\n</code></pre>\n<p>and you want to encrypt this by keeping the structure but just encryping each 'value' in it. Something like:</p>\n<pre><code>{\n  &quot;dob&quot;: &quot;AJDNDA21489234JDASD9234&quot;,\n  &quot;name&quot;: &quot;FDJFFDJADIDN235AFSFDS1243&quot;,\n  &quot;parents&quot;: [\n    &quot;SDJDDHRCDODFJF234&quot;,\n    &quot;D234ADFS9IT9CX&quot;],\n ... and so on\n}\n</code></pre>\n<p><strong>This is a very bad idea</strong>. The structure alone gives me loads of information (I don't know who this is, but I do know they have 1 hobby and 2 parents. I even know something about roughly how 'long' the names of the parents are!).</p>\n<p>Just take the entire blob and encrypt <em>the whole thing</em>.</p>\n"}],"owner":{"account_id":20231397,"reputation":97,"user_id":14837848,"display_name":"MakeTheErrorDie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69633179,"answer_count":1,"score":0,"last_activity_date":1634655401,"creation_date":1634653231,"question_id":69632602,"body_markdown":"What is the best/secure/easy to implement way to (locally) store data which has been encrypted using AES encryption? \r\nThere doesn&#39;t seem to be a proper guide or standard way to store the data, but after looking at some projects that use AES encryption, these seem to be the formats that come most:\r\n\r\n - XML\r\n - Text files\r\n - csv\r\n\r\n\r\nfor csv - the AES encrypted data might contain &#39;,&#39; commas which could be cause problems for csvs\r\n\r\nfor text files - if there are multiple data columns per item, would the data storing look like this?;\r\n```\r\nitem directory\r\n|\r\n|__ item&#39;s encrypted key1.txt\r\n|\r\n|__ item&#39;s encrypted key2.txt\r\n```\r\n\r\nWhen decrypting the data should the program decrypt the actual file or get the content of the file  to memory and then decrypt it?\r\n\r\nThe first way seems to be unsecure, if the applications for some reason crashes after the files have been decrypted then the data will be exposed also it will cause problems when reluaching and trying to decrypt already decrypted data.\r\n\r\nWhich is the best way to store the data? and how should writing the data be implemented (preferably java)\r\n","title":"best way to store aes encrypted data","body":"<p>What is the best/secure/easy to implement way to (locally) store data which has been encrypted using AES encryption?\nThere doesn't seem to be a proper guide or standard way to store the data, but after looking at some projects that use AES encryption, these seem to be the formats that come most:</p>\n<ul>\n<li>XML</li>\n<li>Text files</li>\n<li>csv</li>\n</ul>\n<p>for csv - the AES encrypted data might contain ',' commas which could be cause problems for csvs</p>\n<p>for text files - if there are multiple data columns per item, would the data storing look like this?;</p>\n<pre><code>item directory\n|\n|__ item's encrypted key1.txt\n|\n|__ item's encrypted key2.txt\n</code></pre>\n<p>When decrypting the data should the program decrypt the actual file or get the content of the file  to memory and then decrypt it?</p>\n<p>The first way seems to be unsecure, if the applications for some reason crashes after the files have been decrypted then the data will be exposed also it will cause problems when reluaching and trying to decrypt already decrypted data.</p>\n<p>Which is the best way to store the data? and how should writing the data be implemented (preferably java)</p>\n"},{"tags":["java","java-8","completable-future"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1634405102,"post_id":69597870,"comment_id":123017723,"body_markdown":"What do you mean by &quot;fails&quot;? Exception? Or successful invocation with a response considered failure?","body":"What do you mean by &quot;fails&quot;? Exception? Or successful invocation with a response considered failure?"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1634405600,"post_id":69597870,"comment_id":123017854,"body_markdown":"@ernest_k to be more specific , by fail I mean 500 internal server error","body":"@ernest_k to be more specific , by fail I mean 500 internal server error"},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1634406126,"post_id":69597870,"comment_id":123018002,"body_markdown":"As said in my other comment, you can&#39;t : if you don&#39;t want to call service2 and service3 if service1 fails, that means you have the result of service1 first. Which means a clear relation : you call service1 then service2 then service3.","body":"As said in my other comment, you can&#39;t : if you don&#39;t want to call service2 and service3 if service1 fails, that means you have the result of service1 first. Which means a clear relation : you call service1 then service2 then service3."},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1634406317,"post_id":69597870,"comment_id":123018060,"body_markdown":"@NoDataFound agree, but lets see if we can have some workaround this issue","body":"@NoDataFound agree, but lets see if we can have some workaround this issue"}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634405599,"creation_date":1634405599,"answer_id":69598034,"question_id":69597870,"body_markdown":"You could use the `thenApplyAsync` function:\r\n\r\n    ResponseHolder holder = CompletableFuture.supplyAsync(ResponseHolder::new)\r\n      .thenApplyAsync(h -&gt; h.setResponse1(webServiceCall1()))\r\n      .thenApplyAsync(h -&gt; h.setResponse2(webServiceCall2()))\r\n      .thenApplyAsync(h -&gt; h.setResponse3(webServiceCall3()))\r\n      .get() // may fail\r\n    ;\r\n\r\n\r\n\r\nAnd the `ResponseHolder` class:\r\n\r\n    public class ResponseHolder {\r\n      private Response1 response1;\r\n      private Response2 response2;\r\n      private Response3 response3;\r\n      // for each responseX:\r\n      public ResponseHolder setResponse1(Response1 response1) {\r\n        this.response1 = response1;\r\n        return this;\r\n      }\r\n    }\r\n","title":"stop other service calls if using Completable future to call multiple services if any of service fails","body":"<p>You could use the <code>thenApplyAsync</code> function:</p>\n<pre><code>ResponseHolder holder = CompletableFuture.supplyAsync(ResponseHolder::new)\n  .thenApplyAsync(h -&gt; h.setResponse1(webServiceCall1()))\n  .thenApplyAsync(h -&gt; h.setResponse2(webServiceCall2()))\n  .thenApplyAsync(h -&gt; h.setResponse3(webServiceCall3()))\n  .get() // may fail\n;\n</code></pre>\n<p>And the <code>ResponseHolder</code> class:</p>\n<pre><code>public class ResponseHolder {\n  private Response1 response1;\n  private Response2 response2;\n  private Response3 response3;\n  // for each responseX:\n  public ResponseHolder setResponse1(Response1 response1) {\n    this.response1 = response1;\n    return this;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634406929,"creation_date":1634406929,"answer_id":69598231,"question_id":69597870,"body_markdown":"&gt; How we can avoid this &amp; still keep webservice calls parallel &amp; still\r\n&gt; fail safe at the same time ??\r\n\r\nYou can&#39;t.\r\n\r\nYou&#39;ve **already started** the processing of web service calls 2 and 3 by the time that you hear of the failure of service call 1 (for example). It&#39;s too late to not call them.\r\n\r\nIf you must call service 2 only after service call 1 succeeds, then you have to wait until you know that service call 1 has succeeded.\r\n\r\nYou&#39;re otherwise asking for a fortune-teller: call services 2 and 3 now, if service 1 will succeed at some future time.\r\n\r\nThe best you can do is to provide a way to cancel the service calls while they&#39;re in progress (i.e., tell them to quit at the next convenient point) but that might be more trouble than it&#39;s worth to get right.\r\n","title":"stop other service calls if using Completable future to call multiple services if any of service fails","body":"<blockquote>\n<p>How we can avoid this &amp; still keep webservice calls parallel &amp; still\nfail safe at the same time ??</p>\n</blockquote>\n<p>You can't.</p>\n<p>You've <strong>already started</strong> the processing of web service calls 2 and 3 by the time that you hear of the failure of service call 1 (for example). It's too late to not call them.</p>\n<p>If you must call service 2 only after service call 1 succeeds, then you have to wait until you know that service call 1 has succeeded.</p>\n<p>You're otherwise asking for a fortune-teller: call services 2 and 3 now, if service 1 will succeed at some future time.</p>\n<p>The best you can do is to provide a way to cancel the service calls while they're in progress (i.e., tell them to quit at the next convenient point) but that might be more trouble than it's worth to get right.</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634655339,"creation_date":1634480564,"answer_id":69605276,"question_id":69597870,"body_markdown":"\r\n - `webServiceCall1()` will fire off no matter what\r\n - `webServiceCall2()` will check `webServiceCall1()`\r\n   - Check to see if a response status has been returned yet for 1\r\n     - If the response status is 200, go ahead and fire\r\n     - If the response status is not 200, do not make a call\r\n     - If the response status has not been returned yet, go ahead and make the call anyways - essentially, we are assuming it will succeed\r\n - `webServiceCall3` will check both `webServiceCall1()` and `webServiceCall2()`\r\n\r\nI want to highlight though - if `webServiceCall1()` has not completed by the time we attempt to do `webServiceCall2()`, then we are ***assuming*** that `webServiceCall1()` has returned and is successful with a 200 response code. If it ends up that `webServiceCall1()` is ***not*** successful even after assuming it was, then we will have made a pointless call to `webServiceCall2()` (and potentially `webServiceCall3()`), so be aware of that.\r\n\r\nMy solution ***ONLY*** covers the edge case of `webServiceCall1()` firing off and failing so quickly that we get our response back before we have a chance to check it in the 2nd CompletableFuture. Same for `webServiceCall2()` and the 3rd CompletableFuture. In both of these situations, we will have optimized out 1 or 2 calls from occurring. But don&#39;t assume that that will happen ***EVERY*** time `webServiceCall1()` or `webServiceCall2()` fails.\r\n\r\n```\r\nCompletableFuture&lt;Response1&gt; future1 = CompletableFuture.supplyAsync(() -&gt; webServiceCall1());\r\n\r\nCompletableFuture&lt;Response2&gt; future2 = CompletableFuture.supplyAsync(() -&gt; (performServiceCheck(future1) ? webServiceCall2() : null));\r\n\r\nCompletableFuture&lt;Response3&gt; future3 = CompletableFuture.supplyAsync(() -&gt; (performServiceCheck(future1, future2) ? webServiceCall3() : null));\r\n```\r\n\r\n```\r\nprivate boolean performServiceCheck(CompletableFuture&lt;?&gt; ...futures) {\r\n    \r\n    boolean result = true;\r\n    \r\n    for (CompletableFuture&lt;?&gt; future : futures) {\r\n        if (future.isDone() &amp;&amp; is200(future.get())) {\r\n            result = result &amp;&amp; true;\r\n        } else if (future.isDone() &amp;&amp; !is200(future.get())) {\r\n            result = result &amp;&amp; false;\r\n        } else if (!future.isDone()) {\r\n            result = result &amp;&amp; true;\r\n        }\r\n    }\r\n    \r\n    return result;\r\n    \r\n}\r\n```","title":"stop other service calls if using Completable future to call multiple services if any of service fails","body":"<ul>\n<li><code>webServiceCall1()</code> will fire off no matter what</li>\n<li><code>webServiceCall2()</code> will check <code>webServiceCall1()</code>\n<ul>\n<li>Check to see if a response status has been returned yet for 1\n<ul>\n<li>If the response status is 200, go ahead and fire</li>\n<li>If the response status is not 200, do not make a call</li>\n<li>If the response status has not been returned yet, go ahead and make the call anyways - essentially, we are assuming it will succeed</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><code>webServiceCall3</code> will check both <code>webServiceCall1()</code> and <code>webServiceCall2()</code></li>\n</ul>\n<p>I want to highlight though - if <code>webServiceCall1()</code> has not completed by the time we attempt to do <code>webServiceCall2()</code>, then we are <em><strong>assuming</strong></em> that <code>webServiceCall1()</code> has returned and is successful with a 200 response code. If it ends up that <code>webServiceCall1()</code> is <em><strong>not</strong></em> successful even after assuming it was, then we will have made a pointless call to <code>webServiceCall2()</code> (and potentially <code>webServiceCall3()</code>), so be aware of that.</p>\n<p>My solution <em><strong>ONLY</strong></em> covers the edge case of <code>webServiceCall1()</code> firing off and failing so quickly that we get our response back before we have a chance to check it in the 2nd CompletableFuture. Same for <code>webServiceCall2()</code> and the 3rd CompletableFuture. In both of these situations, we will have optimized out 1 or 2 calls from occurring. But don't assume that that will happen <em><strong>EVERY</strong></em> time <code>webServiceCall1()</code> or <code>webServiceCall2()</code> fails.</p>\n<pre><code>CompletableFuture&lt;Response1&gt; future1 = CompletableFuture.supplyAsync(() -&gt; webServiceCall1());\n\nCompletableFuture&lt;Response2&gt; future2 = CompletableFuture.supplyAsync(() -&gt; (performServiceCheck(future1) ? webServiceCall2() : null));\n\nCompletableFuture&lt;Response3&gt; future3 = CompletableFuture.supplyAsync(() -&gt; (performServiceCheck(future1, future2) ? webServiceCall3() : null));\n</code></pre>\n<pre><code>private boolean performServiceCheck(CompletableFuture&lt;?&gt; ...futures) {\n    \n    boolean result = true;\n    \n    for (CompletableFuture&lt;?&gt; future : futures) {\n        if (future.isDone() &amp;&amp; is200(future.get())) {\n            result = result &amp;&amp; true;\n        } else if (future.isDone() &amp;&amp; !is200(future.get())) {\n            result = result &amp;&amp; false;\n        } else if (!future.isDone()) {\n            result = result &amp;&amp; true;\n        }\n    }\n    \n    return result;\n    \n}\n</code></pre>\n"}],"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":69605276,"answer_count":3,"score":-1,"last_activity_date":1634655339,"creation_date":1634404308,"question_id":69597870,"body_markdown":"I am using completable future to invoke multiple service calls.\r\n\r\n    CompletableFuture&lt;Response1&gt; future1 = CompletableFuture.supplyAsync(() -&gt; webServiceCall1());\r\n    CompletableFuture&lt;Response2&gt; future2 = CompletableFuture.supplyAsync(() -&gt; webServiceCall2());\r\n    CompletableFuture&lt;Response3&gt; future3 = CompletableFuture.supplyAsync(() -&gt; webServiceCall3());\r\n\r\nAnd then I am using :\r\n\r\n    Response1 response1 = future1.get();\r\n    Response2 response2 = future2.get();\r\n    Response3 response3 = future3.get();\r\n    // do further processing on the response\r\n\r\nWell why am i using this kind of code ??? by doing that I am able to improve performance. If service1 succeeds with 200 &amp; takes 3 sec of time ,  service2 succeeds with 200 &amp; takes 3 sec of time ,  service3 succeeds with 200 &amp; takes 3 sec of time , so calling them one after other will take overall 9 secs of time. But if I use what I have written above, all of them will be executing parallel &amp; will finish around in 3 secs of time.\r\n\r\nnow issue is that if webservice1 fails, then hit to webservice2 &amp; webservice3 will not be needed. but in my scenario, since the code is written in such a way that it calls webservice2 &amp; webservice3, even if webservice1 fails. \r\n\r\nHow we can avoid this &amp; still keep webservice calls parallel &amp; still fail safe at the same time ??\r\n\r\nLet me rephrase myself -- How we can keep the overall performance of this code high (considering benchmark of somewhere around 3 secs) &amp; still fail safe at the same time ??","title":"stop other service calls if using Completable future to call multiple services if any of service fails","body":"<p>I am using completable future to invoke multiple service calls.</p>\n<pre><code>CompletableFuture&lt;Response1&gt; future1 = CompletableFuture.supplyAsync(() -&gt; webServiceCall1());\nCompletableFuture&lt;Response2&gt; future2 = CompletableFuture.supplyAsync(() -&gt; webServiceCall2());\nCompletableFuture&lt;Response3&gt; future3 = CompletableFuture.supplyAsync(() -&gt; webServiceCall3());\n</code></pre>\n<p>And then I am using :</p>\n<pre><code>Response1 response1 = future1.get();\nResponse2 response2 = future2.get();\nResponse3 response3 = future3.get();\n// do further processing on the response\n</code></pre>\n<p>Well why am i using this kind of code ??? by doing that I am able to improve performance. If service1 succeeds with 200 &amp; takes 3 sec of time ,  service2 succeeds with 200 &amp; takes 3 sec of time ,  service3 succeeds with 200 &amp; takes 3 sec of time , so calling them one after other will take overall 9 secs of time. But if I use what I have written above, all of them will be executing parallel &amp; will finish around in 3 secs of time.</p>\n<p>now issue is that if webservice1 fails, then hit to webservice2 &amp; webservice3 will not be needed. but in my scenario, since the code is written in such a way that it calls webservice2 &amp; webservice3, even if webservice1 fails.</p>\n<p>How we can avoid this &amp; still keep webservice calls parallel &amp; still fail safe at the same time ??</p>\n<p>Let me rephrase myself -- How we can keep the overall performance of this code high (considering benchmark of somewhere around 3 secs) &amp; still fail safe at the same time ??</p>\n"},{"tags":["java","android","kotlin","material-design"],"comments":[{"owner":{"account_id":19789979,"reputation":604,"user_id":14493188,"display_name":"MaLa"},"score":0,"creation_date":1608998702,"post_id":65458008,"comment_id":115727038,"body_markdown":"Have you tried [this](https://stackoverflow.com/a/65274302/14493188)? I just tested and `android:background=&quot;@null&quot;` works for me. You can add a list of answers that you have tried so that we do not need to ask what you have tried.","body":"Have you tried <a href=\"https://stackoverflow.com/a/65274302/14493188\">this</a>? I just tested and <code>android:background=&quot;@null&quot;</code> works for me. You can add a list of answers that you have tried so that we do not need to ask what you have tried."},{"owner":{"account_id":19069850,"reputation":514,"user_id":14575901,"display_name":"michaelgrigoryan25"},"score":0,"creation_date":1608998843,"post_id":65458008,"comment_id":115727085,"body_markdown":"Yeah I did. It just removed the background completely. I mean the gray background","body":"Yeah I did. It just removed the background completely. I mean the gray background"},{"owner":{"account_id":19789979,"reputation":604,"user_id":14493188,"display_name":"MaLa"},"score":0,"creation_date":1608998911,"post_id":65458008,"comment_id":115727100,"body_markdown":"Did you add `android:background=&quot;@null&quot;` to the `&lt;com.google.android.material.textfield.TextInputEditText`?","body":"Did you add <code>android:background=&quot;@null&quot;</code> to the <code>&lt;com.google.android.material.textfield.TextInputEditText</code>?"},{"owner":{"account_id":19069850,"reputation":514,"user_id":14575901,"display_name":"michaelgrigoryan25"},"score":0,"creation_date":1608998984,"post_id":65458008,"comment_id":115727118,"body_markdown":"I tried adding for both container and the edittext. Same thing happened","body":"I tried adding for both container and the edittext. Same thing happened"},{"owner":{"account_id":19789979,"reputation":604,"user_id":14493188,"display_name":"MaLa"},"score":0,"creation_date":1608999021,"post_id":65458008,"comment_id":115727135,"body_markdown":"Add the xml so I can test it","body":"Add the xml so I can test it"},{"owner":{"account_id":19069850,"reputation":514,"user_id":14575901,"display_name":"michaelgrigoryan25"},"score":0,"creation_date":1608999085,"post_id":65458008,"comment_id":115727152,"body_markdown":"Done. I have updated the post","body":"Done. I have updated the post"},{"owner":{"account_id":19789979,"reputation":604,"user_id":14493188,"display_name":"MaLa"},"score":0,"creation_date":1608999234,"post_id":65458008,"comment_id":115727201,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/226445/discussion-between-matias-lappalainen-and-michael-grigoryan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/226445/discussion-between-matias-lappalainen-and-michael-grigoryan\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":203535,"reputation":1119,"user_id":451243,"display_name":"saiful103a"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1609001225,"creation_date":1609001225,"answer_id":65458571,"question_id":65458008,"body_markdown":"As stated in the material design guideline, this is activation indicator of TextInputLayout.\r\n\r\nCheck [Activation indicator attributes][1] for details.\r\n\r\nOne solution is to override some of those attributes inside your app.\r\n\r\nOr you can do something like this:\r\n\r\n```\r\n&lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;@dimen/_10sdp&quot;\r\n            style=&quot;?colorOnPrimary&quot;\r\n            app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n            app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n            app:startIconContentDescription=&quot;Heading&quot;\r\n            app:boxStrokeWidth=&quot;0dp&quot;\r\n            app:boxStrokeWidthFocused=&quot;0dp&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputEditText\r\n        android:id=&quot;@+id/input_heading&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fontFamily=&quot;@font/ubuntubold&quot;\r\n        android:hint=&quot;Heading&quot;\r\n        android:inputType=&quot;text&quot; /&gt;\r\n\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\n\r\nCheck ```app:boxStrokeWidth=&quot;0dp&quot;``` and ```app:boxStrokeWidthFocused=&quot;0dp&quot;```\r\n\r\n  [1]: https://material.io/components/text-fields/android#filled-text-field","title":"How to remove the underline under TextInputLayout in Android Material Design?","body":"<p>As stated in the material design guideline, this is activation indicator of TextInputLayout.</p>\n<p>Check <a href=\"https://material.io/components/text-fields/android#filled-text-field\" rel=\"noreferrer\">Activation indicator attributes</a> for details.</p>\n<p>One solution is to override some of those attributes inside your app.</p>\n<p>Or you can do something like this:</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;@dimen/_10sdp&quot;\n            style=&quot;?colorOnPrimary&quot;\n            app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n            app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n            app:startIconContentDescription=&quot;Heading&quot;\n            app:boxStrokeWidth=&quot;0dp&quot;\n            app:boxStrokeWidthFocused=&quot;0dp&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/input_heading&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fontFamily=&quot;@font/ubuntubold&quot;\n        android:hint=&quot;Heading&quot;\n        android:inputType=&quot;text&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>Check <code>app:boxStrokeWidth=&quot;0dp&quot;</code> and <code>app:boxStrokeWidthFocused=&quot;0dp&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":10116681,"reputation":302,"user_id":7668053,"display_name":"Alberto S&#225;ez Vela"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634655032,"creation_date":1634655032,"answer_id":69633074,"question_id":65458008,"body_markdown":"To remove the underline you should create a theme and a style for your TextInputLayout\r\n\r\n    &lt;style name=&quot;MyTheme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;textInputStyle&quot;&gt;@style/Widget.SearchBarTheme.TextInputLayout&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Widget.MyTheme.TextInputLayout&quot; parent=&quot;Widget.MaterialComponents.TextInputLayout.FilledBox&quot;&gt;\r\n        &lt;item name=&quot;boxStrokeWidth&quot;&gt;0dp&lt;/item&gt;\r\n        &lt;item name=&quot;boxStrokeWidthFocused&quot;&gt;0dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAfter that, asign that theme to the view\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/ily&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:hintEnabled=&quot;false&quot;\r\n        android:theme=&quot;@style/MyTheme&quot;\r\n        &gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/etx&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:hint=&quot;Whatever you want&quot;\r\n            android:paddingTop=&quot;8dp&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;","title":"How to remove the underline under TextInputLayout in Android Material Design?","body":"<p>To remove the underline you should create a theme and a style for your TextInputLayout</p>\n<pre><code>&lt;style name=&quot;MyTheme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;textInputStyle&quot;&gt;@style/Widget.SearchBarTheme.TextInputLayout&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;Widget.MyTheme.TextInputLayout&quot; parent=&quot;Widget.MaterialComponents.TextInputLayout.FilledBox&quot;&gt;\n    &lt;item name=&quot;boxStrokeWidth&quot;&gt;0dp&lt;/item&gt;\n    &lt;item name=&quot;boxStrokeWidthFocused&quot;&gt;0dp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>After that, asign that theme to the view</p>\n<pre><code>    &lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/ily&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:hintEnabled=&quot;false&quot;\n    android:theme=&quot;@style/MyTheme&quot;\n    &gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/etx&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:inputType=&quot;text&quot;\n        android:hint=&quot;Whatever you want&quot;\n        android:paddingTop=&quot;8dp&quot;/&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":19069850,"reputation":514,"user_id":14575901,"display_name":"michaelgrigoryan25"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2830,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65458571,"answer_count":2,"score":3,"last_activity_date":1634655032,"creation_date":1608997249,"question_id":65458008,"body_markdown":"I was trying to remove the underline from a material design component named `TextInputLayout`. I have tried several different answers from SO which didn&#39;t work out for me so I decided to ask my own question. \r\n\r\n**How can I remove this underline?**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a24vB.png\r\n\r\nXML:\r\n\r\n```xml\r\n&lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;@dimen/_10sdp&quot;\r\n            style=&quot;?colorOnPrimary&quot;\r\n            app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\r\n            app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\r\n            app:startIconContentDescription=&quot;Heading&quot;&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:id=&quot;@+id/input_heading&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/ubuntubold&quot;\r\n                android:hint=&quot;Heading&quot;\r\n                android:inputType=&quot;text&quot; /&gt;\r\n\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```","title":"How to remove the underline under TextInputLayout in Android Material Design?","body":"<p>I was trying to remove the underline from a material design component named <code>TextInputLayout</code>. I have tried several different answers from SO which didn't work out for me so I decided to ask my own question.</p>\n<p><strong>How can I remove this underline?</strong></p>\n<p><a href=\"https://i.stack.imgur.com/a24vB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a24vB.png\" alt=\"enter image description here\" /></a></p>\n<p>XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.textfield.TextInputLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;@dimen/_10sdp&quot;\n            style=&quot;?colorOnPrimary&quot;\n            app:boxCornerRadiusTopEnd=&quot;@dimen/_5sdp&quot;\n            app:boxCornerRadiusTopStart=&quot;@dimen/_5sdp&quot;\n            app:startIconContentDescription=&quot;Heading&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/input_heading&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/ubuntubold&quot;\n                android:hint=&quot;Heading&quot;\n                android:inputType=&quot;text&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n"},{"tags":["java","button","layout","textfield","vaadin8"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1630073132,"post_id":68954549,"comment_id":121863764,"body_markdown":"Include small example code","body":"Include small example code"}],"answers":[{"tags":[],"owner":{"account_id":14441985,"reputation":495,"user_id":10432309,"display_name":"schaphekar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630094419,"creation_date":1630094419,"answer_id":68958809,"question_id":68954549,"body_markdown":"Assuming you want the button to align with the box of the TextField (rather than the caption of the field), and the two components are in the same Horizontal Layout, you can use the following:\r\n\r\n```\r\nbuttonName.getElement().getStyle().set(&quot;margin-top&quot;, &quot;auto&quot;);\r\n```","title":"Vaadin Component Alignent","body":"<p>Assuming you want the button to align with the box of the TextField (rather than the caption of the field), and the two components are in the same Horizontal Layout, you can use the following:</p>\n<pre><code>buttonName.getElement().getStyle().set(&quot;margin-top&quot;, &quot;auto&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634654998,"creation_date":1634654998,"answer_id":69633064,"question_id":68954549,"body_markdown":"You can use `com.vaadin.ui.Alignment` for basic alignment needs within ordered layouts. For example:\r\n\r\n`horizontalLayout.setComponentAlignment(button, Alignment.BOTTOM_LEFT);`\r\n\r\nThe default alignment is `TOP_LEFT`.","title":"Vaadin Component Alignent","body":"<p>You can use <code>com.vaadin.ui.Alignment</code> for basic alignment needs within ordered layouts. For example:</p>\n<p><code>horizontalLayout.setComponentAlignment(button, Alignment.BOTTOM_LEFT);</code></p>\n<p>The default alignment is <code>TOP_LEFT</code>.</p>\n"}],"owner":{"account_id":22418071,"reputation":31,"user_id":16625823,"display_name":"Rajashri Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1634654998,"creation_date":1630072182,"question_id":68954549,"body_markdown":"\r\nI have 3 text fields in vertical layout and \r\nI want to place a button at the right of the 3rd text field in HorizontalLayout,\r\nbut what happens is the button is placed in alignment with a caption of the text field.\r\nHow I solved this issue in Vaadin 8?","title":"Vaadin Component Alignent","body":"<p>I have 3 text fields in vertical layout and\nI want to place a button at the right of the 3rd text field in HorizontalLayout,\nbut what happens is the button is placed in alignment with a caption of the text field.\nHow I solved this issue in Vaadin 8?</p>\n"},{"tags":["java","apache","solr","solrj"],"comments":[{"owner":{"account_id":56080,"reputation":22425,"user_id":167980,"accept_rate":100,"display_name":"Paige Cook"},"score":3,"creation_date":1354921762,"post_id":13770154,"comment_id":18934931,"body_markdown":"Have you looked at - http://wiki.apache.org/solr/SpatialSearch#Returning_the_distance","body":"Have you looked at - <a href=\"http://wiki.apache.org/solr/SpatialSearch#Returning_the_distance\" rel=\"nofollow noreferrer\">wiki.apache.org/solr/SpatialSearch#Returning_the_distance</a>"},{"owner":{"account_id":380363,"reputation":622,"user_id":734321,"accept_rate":40,"display_name":"Sanket"},"score":0,"creation_date":1355203558,"post_id":13770154,"comment_id":19006430,"body_markdown":"i tried this query from there &amp;sort=min(geodist(store,37.7,-122.4),geodist(store,39.7,-105))%20asc\n\nThe max distance it gives is 1.0 which is not the actual distance i guess.","body":"i tried this query from there &amp;sort=min(geodist(store,37.7,-122.4),geodist(store,39.7,-105&zwnj;&#8203;))%20asc  The max distance it gives is 1.0 which is not the actual distance i guess."}],"answers":[{"tags":[],"owner":{"account_id":1056956,"reputation":5781,"user_id":1059446,"accept_rate":89,"display_name":"Aleksandr Kravets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634654746,"creation_date":1634654746,"answer_id":69633001,"question_id":13770154,"body_markdown":"To return distance you should add `geodist()` function to `fl` field list query field like that:\r\n\r\n    query.set(&quot;fl&quot;,&quot;*,distance:geodist()&quot;)\r\n\r\n&quot;distance&quot; is the field name to return `geodist()` result in.\r\n","title":"Solr query to calculate geo distance between two points","body":"<p>To return distance you should add <code>geodist()</code> function to <code>fl</code> field list query field like that:</p>\n<pre><code>query.set(&quot;fl&quot;,&quot;*,distance:geodist()&quot;)\n</code></pre>\n<p>&quot;distance&quot; is the field name to return <code>geodist()</code> result in.</p>\n"}],"owner":{"account_id":380363,"reputation":622,"user_id":734321,"accept_rate":40,"display_name":"Sanket"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2210,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1634654746,"creation_date":1354910338,"question_id":13770154,"body_markdown":"I have latitude and longitude of two business locations and want to calculate the distance between them. How do i do it using solr query.\r\n\r\nI got the query to get all the nearest locations from a point ( latitude , longitude ).\r\n\r\nBut want a query to get distance between two points.\r\n\r\nBelow is the sample code snippet to get the locations from a point\r\n\r\n// sample location    \r\n\r\n    location = new double[]{lat, long}; \r\n\r\n    SolrQuery query = new SolrQuery(&quot;{!func}geodist()&quot;);  \r\n    query.set(&quot;fq&quot;,&quot;query&quot;);  \r\n    query.set(&quot;sfield&quot;, &quot;location&quot;);  \r\n    query.set(&quot;pt&quot;, location );  \r\n    query.setSortField(&quot;score&quot;, ORDER.asc);  \r\n    query.setFields(&quot;score&quot;, &quot;id&quot;);  \r\n    SolrDocumentList list = solrServer.query(query).getResults();  \r\n\r\n","title":"Solr query to calculate geo distance between two points","body":"<p>I have latitude and longitude of two business locations and want to calculate the distance between them. How do i do it using solr query.</p>\n\n<p>I got the query to get all the nearest locations from a point ( latitude , longitude ).</p>\n\n<p>But want a query to get distance between two points.</p>\n\n<p>Below is the sample code snippet to get the locations from a point</p>\n\n<p>// sample location    </p>\n\n<pre><code>location = new double[]{lat, long}; \n\nSolrQuery query = new SolrQuery(\"{!func}geodist()\");  \nquery.set(\"fq\",\"query\");  \nquery.set(\"sfield\", \"location\");  \nquery.set(\"pt\", location );  \nquery.setSortField(\"score\", ORDER.asc);  \nquery.setFields(\"score\", \"id\");  \nSolrDocumentList list = solrServer.query(query).getResults();  \n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":4,"creation_date":1621101410,"post_id":67549736,"comment_id":119396119,"body_markdown":"*&quot;I feel confident using spring with XML&quot;* ... you shouldn&#39;t. Using XML for Spring is a thing of the past.","body":"<i>&quot;I feel confident using spring with XML&quot;</i> ... you shouldn&#39;t. Using XML for Spring is a thing of the past."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1621101506,"post_id":67549736,"comment_id":119396143,"body_markdown":"The [`@Value`  annotation](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html) is used to pull a value from another source, e.g. `application.yml`. If you want to assing a constant value, just set the fields to that value or create a bean producer method that creattes a bean with this specific values.","body":"The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"nofollow noreferrer\"><code>@Value</code>  annotation</a> is used to pull a value from another source, e.g. <code>application.yml</code>. If you want to assing a constant value, just set the fields to that value or create a bean producer method that creattes a bean with this specific values."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1621101524,"post_id":67549736,"comment_id":119396151,"body_markdown":"(1) Use constructors rather than field injection whenever possible. (2) Autowiring is for _application structure_ and should be used for service objects but not value objects like `Point`.","body":"(1) Use constructors rather than field injection whenever possible. (2) Autowiring is for <i>application structure</i> and should be used for service objects but not value objects like <code>Point</code>."}],"answers":[{"tags":[],"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1621104089,"creation_date":1621104089,"answer_id":67550165,"question_id":67549736,"body_markdown":"[**@Value**][1]\r\n\r\n&gt; Annotation used at the field or method/constructor parameter level\r\n&gt; that indicates a default value expression for the annotated element.\r\n&gt; Typically used for expression-driven or property-driven dependency\r\n&gt; injection. Also supported for dynamic resolution of handler method\r\n&gt; arguments — for example, in Spring MVC.\r\n&gt; \r\n&gt; A common use case is to inject values using #{systemProperties.myProp}\r\n&gt; style SpEL (Spring Expression Language) expressions. Alternatively,\r\n&gt; \r\n&gt; The actual value expression such as #{systemProperties.myProp} or property placeholder &gt; such as ${my.app.myProp}.\r\n\r\n**Usage**\r\n\r\nYou can define the value of your property using the application.properties or application.yml and you can access the value using the `@Value`\r\n\r\n**application.properties**\r\n\r\n    point.x = 10\r\n    point.y = 20\r\n\r\nAccess value using the `@Value` as below\r\n\r\n    @Value(&quot;${point.x}&quot;)\r\n    private String x;\r\n    \r\n    @Value(&quot;${point.y}&quot;)\r\n    private String y;\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html","title":"How to use Spring @Value annotation to set values?","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"noreferrer\"><strong>@Value</strong></a></p>\n<blockquote>\n<p>Annotation used at the field or method/constructor parameter level\nthat indicates a default value expression for the annotated element.\nTypically used for expression-driven or property-driven dependency\ninjection. Also supported for dynamic resolution of handler method\narguments — for example, in Spring MVC.</p>\n<p>A common use case is to inject values using #{systemProperties.myProp}\nstyle SpEL (Spring Expression Language) expressions. Alternatively,</p>\n<p>The actual value expression such as #{systemProperties.myProp} or property placeholder &gt; such as ${my.app.myProp}.</p>\n</blockquote>\n<p><strong>Usage</strong></p>\n<p>You can define the value of your property using the application.properties or application.yml and you can access the value using the <code>@Value</code></p>\n<p><strong>application.properties</strong></p>\n<pre><code>point.x = 10\npoint.y = 20\n</code></pre>\n<p>Access value using the <code>@Value</code> as below</p>\n<pre><code>@Value(&quot;${point.x}&quot;)\nprivate String x;\n\n@Value(&quot;${point.y}&quot;)\nprivate String y;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6226834,"reputation":1,"user_id":4844784,"display_name":"Hossein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634654694,"creation_date":1634654694,"answer_id":69632982,"question_id":67549736,"body_markdown":"First, it is not a good practice to use harcoded values within the code block. You may provide it as an external source to your software/application. \r\n\r\nThe value you determine in `@Value` annotation is supposed to be obtained from another source, e.g., application.yml . However, you can hardcode a desired value as well, but as a fallback default value against the external source.\r\n\r\n    @Value(&quot;${point.x:12}&quot;)\r\n    private int x;\r\n    @Value(&quot;${point.y:14}&quot;)\r\n    private int y;\r\n\r\nHere, if you provide the external source, it will have precedence over the hardcoded default value!\r\n","title":"How to use Spring @Value annotation to set values?","body":"<p>First, it is not a good practice to use harcoded values within the code block. You may provide it as an external source to your software/application.</p>\n<p>The value you determine in <code>@Value</code> annotation is supposed to be obtained from another source, e.g., application.yml . However, you can hardcode a desired value as well, but as a fallback default value against the external source.</p>\n<pre><code>@Value(&quot;${point.x:12}&quot;)\nprivate int x;\n@Value(&quot;${point.y:14}&quot;)\nprivate int y;\n</code></pre>\n<p>Here, if you provide the external source, it will have precedence over the hardcoded default value!</p>\n"}],"owner":{"account_id":21605463,"reputation":67,"user_id":15932971,"display_name":"SHIV1198"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3574,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1634654694,"creation_date":1621101281,"question_id":67549736,"body_markdown":"I recently started learning Spring core framework. I feel confident using spring with XML but wanted to try only annotation-based programs but now I am stuck on this @Value annotation.\r\n\r\nI have a class Line extending Shape interface which uses the Point object as a dependency. The Point object has two ints x and y which I am trying to set values using @Value but on running the program the values always come as null.\r\nI have tried making a lot of changes in driver class or appconfig but still not getting it.\r\n\r\nPoint.class\r\n\r\n        @Component\r\n        public class Point {\r\n    \t@Value(&quot;10&quot;)\r\n    \tint x;\r\n    \t@Value(&quot;20&quot;)\r\n    \tint y;    \t\r\n    \t\t\r\n    \tpublic Point(int x, int y) {\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t}\r\n    \tpublic int getX() {\r\n    \t\treturn x;\r\n    \t}    \t\r\n    \tpublic void setX(int x) {\r\n    \t\tthis.x = x;\r\n    \t}    \t\r\n    \tpublic int getY() {\r\n    \t\treturn y;\r\n    \t}\r\n    \tpublic void setY(int y) {\r\n    \t\tthis.y = y;\r\n    \t}   \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Point [x=&quot; + x + &quot;, y=&quot; + y + &quot;]&quot;;\r\n    \t}\t\r\n    }\r\n\r\nLine.class\r\n\r\n    @Component\r\n    public class Line implements Shape {\r\n    \tprivate int size;\r\n    \tprivate String type;\r\n    \t@Autowired\r\n    \tPoint pointA;  \r\n    \t@Autowired\r\n    \tPoint pointB;   \t\r\n    \t\r\n    \tpublic Line() {\r\n    \t}\r\n    \tpublic Line(int size, String type, Point pointA, Point pointB) {\r\n    \t\tsuper();\r\n    \t\tthis.size = size;\r\n    \t\tthis.type = type;\r\n    \t\tthis.pointA = pointA;\r\n    \t\tthis.pointB = pointB;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Triangle [size=&quot; + size + &quot;, type=&quot; + type + &quot;, pointA=&quot; + pointA + &quot;, pointB=&quot; + pointB + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \t/*\r\n             getters and setters.....\r\n        */\r\n    }\r\n\r\nApplicationConfig.class   \r\n\r\n        @ComponentScan\r\n        @Configuration\r\n        public class ApplicationConfig {   \t\r\n        \t  \r\n        \t  @Bean \r\n              public Line line() { return new Line(); }\r\n        \t  \r\n        \t  @Bean \r\n              public Point point() { return new Point(); } \t \r\n        \t \r\n        }\r\n\r\nDrawingApp.class\r\n\r\n    public class DrawingApp {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\t\t\r\n    \t\tApplicationContext context = new AnnotationConfigApplicationContext(ApplicationConfig.class); \r\n    \r\n    \t\tShape line = context.getBean(Line.class);\r\n    \t\tSystem.out.println(line);\r\n    \t\t\r\n    \t}\r\n\r\nMy output is always like this even though i have set values of x &amp; y as 10 and 20 respectively:\r\n\r\n    Line [size=0, type=null, pointA=Point [x=0, y=0], pointB=Point [x=0, y=0]]\r\n\r\nHow can I set the values of the point object Using annotations?","title":"How to use Spring @Value annotation to set values?","body":"<p>I recently started learning Spring core framework. I feel confident using spring with XML but wanted to try only annotation-based programs but now I am stuck on this @Value annotation.</p>\n<p>I have a class Line extending Shape interface which uses the Point object as a dependency. The Point object has two ints x and y which I am trying to set values using @Value but on running the program the values always come as null.\nI have tried making a lot of changes in driver class or appconfig but still not getting it.</p>\n<p>Point.class</p>\n<pre><code>    @Component\n    public class Point {\n    @Value(&quot;10&quot;)\n    int x;\n    @Value(&quot;20&quot;)\n    int y;      \n        \n    public Point(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n    public int getX() {\n        return x;\n    }       \n    public void setX(int x) {\n        this.x = x;\n    }       \n    public int getY() {\n        return y;\n    }\n    public void setY(int y) {\n        this.y = y;\n    }       \n    @Override\n    public String toString() {\n        return &quot;Point [x=&quot; + x + &quot;, y=&quot; + y + &quot;]&quot;;\n    }   \n}\n</code></pre>\n<p>Line.class</p>\n<pre><code>@Component\npublic class Line implements Shape {\n    private int size;\n    private String type;\n    @Autowired\n    Point pointA;  \n    @Autowired\n    Point pointB;       \n    \n    public Line() {\n    }\n    public Line(int size, String type, Point pointA, Point pointB) {\n        super();\n        this.size = size;\n        this.type = type;\n        this.pointA = pointA;\n        this.pointB = pointB;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Triangle [size=&quot; + size + &quot;, type=&quot; + type + &quot;, pointA=&quot; + pointA + &quot;, pointB=&quot; + pointB + &quot;]&quot;;\n    }\n\n    /*\n         getters and setters.....\n    */\n}\n</code></pre>\n<p>ApplicationConfig.class</p>\n<pre><code>    @ComponentScan\n    @Configuration\n    public class ApplicationConfig {    \n          \n          @Bean \n          public Line line() { return new Line(); }\n          \n          @Bean \n          public Point point() { return new Point(); }   \n         \n    }\n</code></pre>\n<p>DrawingApp.class</p>\n<pre><code>public class DrawingApp {\n\n    public static void main(String[] args) {\n                \n        ApplicationContext context = new AnnotationConfigApplicationContext(ApplicationConfig.class); \n\n        Shape line = context.getBean(Line.class);\n        System.out.println(line);\n        \n    }\n</code></pre>\n<p>My output is always like this even though i have set values of x &amp; y as 10 and 20 respectively:</p>\n<pre><code>Line [size=0, type=null, pointA=Point [x=0, y=0], pointB=Point [x=0, y=0]]\n</code></pre>\n<p>How can I set the values of the point object Using annotations?</p>\n"},{"tags":["java","junit","quarkus"],"comments":[{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1634635202,"post_id":69617030,"comment_id":123071597,"body_markdown":"can you run your build with debug traces as share de complete log?","body":"can you run your build with debug traces as share de complete log?"},{"owner":{"account_id":16137151,"reputation":127,"user_id":11649327,"display_name":"so1999"},"score":0,"creation_date":1634650253,"post_id":69617030,"comment_id":123078202,"body_markdown":"@JavierToja oops I cannot attach the big log - SO has character limits. As mentioned, only 2.3.0 crashes, while 2.2.3 is fine. What part do you need to see?","body":"@JavierToja oops I cannot attach the big log - SO has character limits. As mentioned, only 2.3.0 crashes, while 2.2.3 is fine. What part do you need to see?"},{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":1,"creation_date":1634651167,"post_id":69617030,"comment_id":123078654,"body_markdown":"I was hopping to see if you use some devservices or other containers that might be starting early than the quarkus app durint test phase using the port.","body":"I was hopping to see if you use some devservices or other containers that might be starting early than the quarkus app durint test phase using the port."},{"owner":{"account_id":16137151,"reputation":127,"user_id":11649327,"display_name":"so1999"},"score":0,"creation_date":1634654632,"post_id":69617030,"comment_id":123080363,"body_markdown":"Thank you @JavierToja but I will just skip 2.3.0 as 2.4.0.CR1 looks fine again.","body":"Thank you @JavierToja but I will just skip 2.3.0 as 2.4.0.CR1 looks fine again."}],"answers":[{"tags":[],"owner":{"account_id":16137151,"reputation":127,"user_id":11649327,"display_name":"so1999"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634654585,"creation_date":1634654585,"answer_id":69632955,"question_id":69617030,"body_markdown":"The newest Quarkus version - 2.4.0.CR1 at this moment - doesn&#39;t show this issue anymore (issue didn&#39;t exist in 2.2.3.Final) so I will just skip 2.3.0.Final.","title":"Quarkus jUnit cannot start - address already in use","body":"<p>The newest Quarkus version - 2.4.0.CR1 at this moment - doesn't show this issue anymore (issue didn't exist in 2.2.3.Final) so I will just skip 2.3.0.Final.</p>\n"}],"owner":{"account_id":16137151,"reputation":127,"user_id":11649327,"display_name":"so1999"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634654585,"creation_date":1634563895,"question_id":69617030,"body_markdown":"I have three Quarkus 2.3.0.Final projects (all with AWS Lambda) which until lately worked fine. One of them I didn&#39;t touch in weeks and now I noticed it cannot start any jUnit tests (stack trace below) anymore. All projects share the exactly same library versions, same application.properties, the test port 8081 is never occupied (also 8080 or whatever else), yet two project tests work fine, and one project fails before even trying to run the single unit tests (I cleaned and rebuilt the project, no use). \r\n\r\nI noticed that indeed, it tries to bind TWICE to localhost:8081 but I cannot tell why. Here&#39;s the stacktrace.\r\n\r\nLater edit: if I revert to Quarkus 2.2.3.Final it works fine. Back to 2.3.0.Final, again error.\r\n\r\n    java.lang.RuntimeException: java.lang.RuntimeException: Failed to start quarkus\r\n        at io.quarkus.test.junit.QuarkusTestExtension.throwBootFailureException(QuarkusTestExtension.java:574)\r\n        at io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:647)\r\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n        at org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:73)\r\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:355)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:302)\r\n        at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:280)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n        at java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n        at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n        at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n    Caused by: java.lang.RuntimeException: Failed to start quarkus\r\n        at io.quarkus.runner.ApplicationImpl.doStart(ApplicationImpl.zig:780)\r\n        at io.quarkus.runtime.Application.start(Application.java:101)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.runner.bootstrap.StartupActionImpl.run(StartupActionImpl.java:231)\r\n        at io.quarkus.test.junit.QuarkusTestExtension.doJavaStart(QuarkusTestExtension.java:241)\r\n        at io.quarkus.test.junit.QuarkusTestExtension.ensureStarted(QuarkusTestExtension.java:551)\r\n        at io.quarkus.test.junit.QuarkusTestExtension.beforeAll(QuarkusTestExtension.java:589)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$10(ClassBasedTestDescriptor.java:381)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:381)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:205)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:80)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n        ... 35 more\r\n    Caused by: java.lang.RuntimeException: Unable to start HTTP server\r\n        at io.quarkus.vertx.http.runtime.VertxHttpRecorder.doServerStart(VertxHttpRecorder.java:549)\r\n        at io.quarkus.vertx.http.runtime.VertxHttpRecorder.startServer(VertxHttpRecorder.java:254)\r\n        at io.quarkus.deployment.steps.VertxHttpProcessor$openSocket-2064782366.deploy_0(VertxHttpProcessor$openSocket-2064782366.zig:166)\r\n        at io.quarkus.deployment.steps.VertxHttpProcessor$openSocket-2064782366.deploy(VertxHttpProcessor$openSocket-2064782366.zig:40)\r\n        at io.quarkus.runner.ApplicationImpl.doStart(ApplicationImpl.zig:689)\r\n        ... 50 more\r\n    Caused by: java.util.concurrent.ExecutionException: java.net.BindException: Address already in use: bind\r\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n        at io.quarkus.vertx.http.runtime.VertxHttpRecorder.doServerStart(VertxHttpRecorder.java:515)\r\n        ... 54 more\r\n    Caused by: java.net.BindException: Address already in use: bind\r\n        at java.base/sun.nio.ch.Net.bind0(Native Method)\r\n        at java.base/sun.nio.ch.Net.bind(Net.java:455)\r\n        at java.base/sun.nio.ch.Net.bind(Net.java:447)\r\n        at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)\r\n        at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:134)\r\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:506)\r\n        at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:491)\r\n        at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)\r\n        at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)\r\n        at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasksFrom(SingleThreadEventExecutor.java:425)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:374)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:488)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n","title":"Quarkus jUnit cannot start - address already in use","body":"<p>I have three Quarkus 2.3.0.Final projects (all with AWS Lambda) which until lately worked fine. One of them I didn't touch in weeks and now I noticed it cannot start any jUnit tests (stack trace below) anymore. All projects share the exactly same library versions, same application.properties, the test port 8081 is never occupied (also 8080 or whatever else), yet two project tests work fine, and one project fails before even trying to run the single unit tests (I cleaned and rebuilt the project, no use).</p>\n<p>I noticed that indeed, it tries to bind TWICE to localhost:8081 but I cannot tell why. Here's the stacktrace.</p>\n<p>Later edit: if I revert to Quarkus 2.2.3.Final it works fine. Back to 2.3.0.Final, again error.</p>\n<pre><code>java.lang.RuntimeException: java.lang.RuntimeException: Failed to start quarkus\n    at io.quarkus.test.junit.QuarkusTestExtension.throwBootFailureException(QuarkusTestExtension.java:574)\n    at io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:647)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:73)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:355)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:302)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:280)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.RuntimeException: Failed to start quarkus\n    at io.quarkus.runner.ApplicationImpl.doStart(ApplicationImpl.zig:780)\n    at io.quarkus.runtime.Application.start(Application.java:101)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.runner.bootstrap.StartupActionImpl.run(StartupActionImpl.java:231)\n    at io.quarkus.test.junit.QuarkusTestExtension.doJavaStart(QuarkusTestExtension.java:241)\n    at io.quarkus.test.junit.QuarkusTestExtension.ensureStarted(QuarkusTestExtension.java:551)\n    at io.quarkus.test.junit.QuarkusTestExtension.beforeAll(QuarkusTestExtension.java:589)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$10(ClassBasedTestDescriptor.java:381)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:381)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:205)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:80)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    ... 35 more\nCaused by: java.lang.RuntimeException: Unable to start HTTP server\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder.doServerStart(VertxHttpRecorder.java:549)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder.startServer(VertxHttpRecorder.java:254)\n    at io.quarkus.deployment.steps.VertxHttpProcessor$openSocket-2064782366.deploy_0(VertxHttpProcessor$openSocket-2064782366.zig:166)\n    at io.quarkus.deployment.steps.VertxHttpProcessor$openSocket-2064782366.deploy(VertxHttpProcessor$openSocket-2064782366.zig:40)\n    at io.quarkus.runner.ApplicationImpl.doStart(ApplicationImpl.zig:689)\n    ... 50 more\nCaused by: java.util.concurrent.ExecutionException: java.net.BindException: Address already in use: bind\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder.doServerStart(VertxHttpRecorder.java:515)\n    ... 54 more\nCaused by: java.net.BindException: Address already in use: bind\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\n    at java.base/sun.nio.ch.Net.bind(Net.java:455)\n    at java.base/sun.nio.ch.Net.bind(Net.java:447)\n    at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)\n    at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:134)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:506)\n    at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:491)\n    at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)\n    at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)\n    at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasksFrom(SingleThreadEventExecutor.java:425)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:374)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:488)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1634657894,"post_id":69632882,"comment_id":123082001,"body_markdown":"I don&#39;t believe that you get the same error with the second query because there is no thirdShift selected.","body":"I don&#39;t believe that you get the same error with the second query because there is no thirdShift selected."}],"owner":{"account_id":19821205,"reputation":185,"user_id":14517741,"display_name":"LosmiNCL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634654341,"creation_date":1634654341,"question_id":69632882,"body_markdown":"I have 2 Entities: Order DTO and TopUperShiftDTO. I have a query where I sum values from OrderDTO (and TopUperShiftDTO through JOIN) and I want to use that summed values as arguments in the constructor for my non-entity TotalIngamePerDayDTO.\r\n\r\nI was following this suggestion from &quot;codemonkey&quot; from this thread: https://stackoverflow.com/questions/49225739/namednativequery-with-sqlresultsetmapping-for-non-entity\r\n\r\nMy Entity OrderDTO (I didn&#39;t wrote here getters and setters, but they exist):\r\n\r\n    \r\n        @Entity\r\n        @Table(name = &quot;client_order&quot;)\r\n        @SqlResultSetMapping(name = &quot;perDay&quot;, classes = {\r\n        \t\t@ConstructorResult(targetClass = TotalIngamePerDayDTO.class,\r\n        \t\t\t\tcolumns = {@ColumnResult(name = &quot;date&quot;), @ColumnResult(name = &quot;thirdShift&quot;),\r\n        \t\t\t\t\t\t@ColumnResult(name = &quot;firstShift&quot;), @ColumnResult(name = &quot;secondShift&quot;),\r\n        \t\t\t\t\t\t@ColumnResult(name = &quot;china&quot;), @ColumnResult(name = &quot;spent&quot;),\r\n        \t\t\t\t\t\t@ColumnResult(name = &quot;totalOrders&quot;), @ColumnResult(name = &quot;totalPoints&quot;),\r\n        \t\t\t\t\t\t@ColumnResult(name = &quot;totalIngame&quot;)})\r\n        })\r\n        @NamedNativeQuery(name = &quot;OrderDTO.getTotalIngamePerDayDTO&quot;, resultSetMapping = &quot;perDay&quot;, \r\n        query = &quot;SELECT date,&quot;\r\n        \t\t+ &quot; COALESCE(SUM(CASE WHEN (top_uper_shift.shift_start &gt;= :thirdShiftStart) THEN ingame ELSE 0 END), 0), &quot;\r\n        \t\t+ &quot; COALESCE(SUM(CASE WHEN (top_uper_shift.shift_start &gt;= :firstShiftStart) THEN ingame ELSE 0 END), 0), &quot;\r\n        \t\t+ &quot; COALESCE(SUM(CASE WHEN (top_uper_shift.shift_start &gt;= :secondShiftStart) THEN ingame ELSE 0 END), 0), &quot;\r\n        \t\t+ &quot; COALESCE(SUM(CASE WHEN (platform = &#39;China&#39;) THEN ingame ELSE 0 END), 0), &quot;\r\n        \t\t+ &quot; COALESCE(SUM(CASE WHEN (platform != &#39;China&#39;) THEN ingame ELSE 0 END), 0), &quot;\r\n        \t\t+ &quot; COUNT(order_id), &quot;\r\n        \t\t+ &quot; COALESCE(SUM(CASE WHEN(platform = &#39;Google Points&#39;) THEN ingame ELSE 0 END), 0),&quot;\r\n        \t\t+ &quot; COALESCE(SUM(ingame), 0)&quot;\r\n        \t\t+ &quot; FROM client_order INNER JOIN top_uper_shift ON client_order.top_uper_shift_shift_id = top_uper_shift.shift_id &quot;\r\n        \t\t+ &quot; WHERE top_uper_shift.shift_start BETWEEN :thirdShiftStart AND :secondShiftStart &quot;)\r\n        public class OrderDTO\r\n        {\r\n        \t@Id\r\n        \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        \t@Column(name = &quot;order_id&quot;)\r\n        \tprivate int orderId;\r\n        \t@Column(name = &quot;date&quot;)\r\n        \tprivate LocalDate date;\r\n        \t@Column(name = &quot;time&quot;)\r\n        \tprivate LocalTime time;\r\n        \t@Column(name = &quot;order_type&quot;)\r\n        \tprivate String orderType;\r\n        \t@Column(name = &quot;platform&quot;)\r\n        \tprivate String platform;\r\n        \t@Column(name = &quot;payment&quot;)\r\n        \tprivate String payment;\r\n        \t@Column(name = &quot;ingame&quot;)\r\n        \tprivate BigDecimal ingame;\r\n        \t@Column(name = &quot;money&quot;)\r\n        \tprivate BigDecimal money;\r\n        \t@Column(name = &quot;currency&quot;)\r\n        \tprivate String currency;\r\n        \t@Column(name = &quot;amazon_coins&quot;)\r\n        \tprivate int amazonCoins;\r\n        \t@Column(name = &quot;deposit&quot;)\r\n        \tprivate BigDecimal deposit;\r\n        \t@Column(name = &quot;notes&quot;)\r\n        \tprivate String notes;\r\n        \t@ManyToOne(fetch = FetchType.LAZY)\r\n        \tprivate ClientDTO client;\r\n        \t@ManyToOne(fetch = FetchType.LAZY)\r\n        \tprivate TopUperShiftDTO topUperShift;\r\n        \t@ManyToOne\r\n        \tprivate SellerDTO seller;\r\n        \t\r\n        \tpublic OrderDTO()\r\n        \t{\r\n        \t\tthis.ingame = BigDecimal.ZERO;\r\n        \t\tthis.money = BigDecimal.ZERO;\r\n        \t\tthis.amazonCoins = 0;\r\n        \t\tthis.deposit = BigDecimal.ZERO;\r\n        \t}\r\n        \t\r\n        }\r\n\r\nTotalIngamePerDayDTO:\r\n\r\n    package com.KingDogeTeam.DTO;\r\n    \r\n    import java.math.BigDecimal;\r\n    import java.time.LocalDate;\r\n    \r\n    \r\n    \r\n    public class TotalIngamePerDayDTO\r\n    {\r\n    \tprivate LocalDate date;\r\n    \tprivate BigDecimal thirdShift;\r\n    \tprivate BigDecimal firstShift;\r\n    \tprivate BigDecimal secondShift;\r\n    \tprivate BigDecimal china;\r\n    \tprivate BigDecimal spent;\r\n    \tprivate int totalOrders;\r\n    \tprivate BigDecimal totalPoints;\r\n    \tprivate BigDecimal totalIngame;\r\n    \t\r\n    \tpublic TotalIngamePerDayDTO(){}\r\n    \r\n    \tpublic TotalIngamePerDayDTO(LocalDate date, BigDecimal thirdShift, BigDecimal firstShift, BigDecimal secondShift, BigDecimal china, \r\n    \t\t\tBigDecimal spent, int totalOrders,  BigDecimal totalPoints, BigDecimal totalIngame)\r\n    \t{\r\n    \t\tthis.date = date;\r\n    \t\tthis.thirdShift = thirdShift;\r\n    \t\tthis.firstShift = firstShift;\r\n    \t\tthis.secondShift = secondShift;\r\n    \t\tthis.china = china;\r\n    \t\tthis.spent = spent;\r\n    \t\tthis.totalOrders = totalOrders;\r\n    \t\tthis.totalPoints = totalPoints;\r\n    \t\tthis.totalIngame = totalIngame;\r\n    \t}\r\n    }\r\n\r\nIOrderRepository:\r\n\r\n    \r\n    @Repository\r\n    public interface IOrderRepository extends JpaRepository&lt;OrderDTO, Integer&gt;\r\n    {\r\n    \tTotalIngamePerDayDTO getTotalIngamePerDayDTO(LocalDateTime thirdShiftStart, LocalDateTime firstShiftStart, LocalDateTime secondShiftStart);\r\n    }\r\n\r\nI&#39;ve got java.sql.SQLException: Column &#39;thirdShift&#39; not found.\r\nFull trace stack:\r\n\r\n    java.sql.SQLException: Column &#39;thirdShift&#39; not found.\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.23.jar:8.0.23]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.23.jar:8.0.23]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.23.jar:8.0.23]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.23.jar:8.0.23]\r\n    \tat com.mysql.cj.jdbc.result.ResultSetImpl.findColumn(ResultSetImpl.java:575) ~[mysql-connector-java-8.0.23.jar:8.0.23]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyResultSet.findColumn(HikariProxyResultSet.java) ~[HikariCP-3.4.5.jar:na]\r\n    \tat org.hibernate.loader.custom.JdbcResultMetadata.resolveColumnPosition(JdbcResultMetadata.java:51) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.custom.ScalarResultColumnProcessor.performDiscovery(ScalarResultColumnProcessor.java:42) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.custom.ConstructorResultColumnProcessor.performDiscovery(ConstructorResultColumnProcessor.java:40) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.custom.CustomLoader.autoDiscoverTypes(CustomLoader.java:494) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.preprocessResultSet(Loader.java:2349) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:2305) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2056) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2018) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2849) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2831) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2663) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2658) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2141) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1172) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1593) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1641) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.4.jar:2.5.4]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.4.jar:2.5.4]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.4.jar:2.5.4]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.4.jar:2.5.4]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.4.jar:2.5.4]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat jdk.proxy5/jdk.proxy5.$Proxy176.getTotalIngamePerDayDTO(Unknown Source) ~[na:na]\r\n    \tat com.KingDogeTeam.Services.TotalIngamePerDayService.getTotalIngamePerDay(TotalIngamePerDayService.java:98) ~[classes/:na]\r\n    \tat com.KingDogeTeam.Controllers.InGameDashboardController.ingamePerDayDashboard(InGameDashboardController.java:218) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.45.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.45.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.4.6.jar:5.4.6]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:141) ~[spring-session-core-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82) ~[spring-session-core-2.4.3.jar:2.4.3]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\r\nI&#39;ve also tried before with constructor with hql query, but I got the same error:\r\n\r\n    //\t\tString hql = &quot; SELECT new com.KingDogeTeam.DTO.TotalIngamePerDayDTO(:date, &quot;\r\n    //\t\t\t\t+ &quot; CAST(COALESCE(SUM(CASE WHEN (o.topUperShift.shiftStart &gt;= :thirdShiftStart) THEN o.ingame ELSE 0 END), 0) AS double), &quot;\r\n    //\t\t\t\t+ &quot; CAST(COALESCE(SUM(CASE WHEN (o.topUperShift.shiftStart &gt;= :firstShiftStart) THEN o.ingame ELSE 0 END), 0) AS double),&quot;\r\n    //\t\t\t\t+ &quot; CAST(COALESCE(SUM(CASE WHEN (o.topUperShift.shiftStart &gt;= :secondShiftStart) THEN o.ingame ELSE 0 END), 0) AS double), &quot;\r\n    //\t\t\t\t+ &quot; CAST(COALESCE(SUM(CASE WHEN o.platform = &#39;China&#39; THEN o.ingame ELSE 0 END), 0) AS double), &quot;\r\n    //\t\t\t\t+ &quot; CAST(COALESCE(SUM(CASE WHEN o.platform != &#39;China&#39; THEN o.ingame ELSE 0 END), 0) AS double), &quot;\r\n    //\t\t\t\t+ &quot; CAST(COUNT(o.orderId) AS int), &quot;\r\n    //\t\t\t\t+ &quot; CAST(COALESCE(SUM(CASE WHEN o.platform = &#39;Google Points&#39; THEN o.ingame ELSE 0 END), 0) AS int),&quot;\r\n    //\t\t\t\t+ &quot; CAST(COALESCE(SUM(o.ingame), 0) AS double)) &quot;\r\n    //\t\t\t\t+ &quot; FROM OrderDTO o WHERE (o.topUperShift.shiftStart BETWEEN :thirdShiftStart AND :secondShiftStart) &quot;;","title":"java.sql.SQLException: Column not found for non-entity object","body":"<p>I have 2 Entities: Order DTO and TopUperShiftDTO. I have a query where I sum values from OrderDTO (and TopUperShiftDTO through JOIN) and I want to use that summed values as arguments in the constructor for my non-entity TotalIngamePerDayDTO.</p>\n<p>I was following this suggestion from &quot;codemonkey&quot; from this thread: <a href=\"https://stackoverflow.com/questions/49225739/namednativequery-with-sqlresultsetmapping-for-non-entity\">@NamedNativeQuery with @SqlResultSetMapping for non-entity</a></p>\n<p>My Entity OrderDTO (I didn't wrote here getters and setters, but they exist):</p>\n<pre><code>    @Entity\n    @Table(name = &quot;client_order&quot;)\n    @SqlResultSetMapping(name = &quot;perDay&quot;, classes = {\n            @ConstructorResult(targetClass = TotalIngamePerDayDTO.class,\n                    columns = {@ColumnResult(name = &quot;date&quot;), @ColumnResult(name = &quot;thirdShift&quot;),\n                            @ColumnResult(name = &quot;firstShift&quot;), @ColumnResult(name = &quot;secondShift&quot;),\n                            @ColumnResult(name = &quot;china&quot;), @ColumnResult(name = &quot;spent&quot;),\n                            @ColumnResult(name = &quot;totalOrders&quot;), @ColumnResult(name = &quot;totalPoints&quot;),\n                            @ColumnResult(name = &quot;totalIngame&quot;)})\n    })\n    @NamedNativeQuery(name = &quot;OrderDTO.getTotalIngamePerDayDTO&quot;, resultSetMapping = &quot;perDay&quot;, \n    query = &quot;SELECT date,&quot;\n            + &quot; COALESCE(SUM(CASE WHEN (top_uper_shift.shift_start &gt;= :thirdShiftStart) THEN ingame ELSE 0 END), 0), &quot;\n            + &quot; COALESCE(SUM(CASE WHEN (top_uper_shift.shift_start &gt;= :firstShiftStart) THEN ingame ELSE 0 END), 0), &quot;\n            + &quot; COALESCE(SUM(CASE WHEN (top_uper_shift.shift_start &gt;= :secondShiftStart) THEN ingame ELSE 0 END), 0), &quot;\n            + &quot; COALESCE(SUM(CASE WHEN (platform = 'China') THEN ingame ELSE 0 END), 0), &quot;\n            + &quot; COALESCE(SUM(CASE WHEN (platform != 'China') THEN ingame ELSE 0 END), 0), &quot;\n            + &quot; COUNT(order_id), &quot;\n            + &quot; COALESCE(SUM(CASE WHEN(platform = 'Google Points') THEN ingame ELSE 0 END), 0),&quot;\n            + &quot; COALESCE(SUM(ingame), 0)&quot;\n            + &quot; FROM client_order INNER JOIN top_uper_shift ON client_order.top_uper_shift_shift_id = top_uper_shift.shift_id &quot;\n            + &quot; WHERE top_uper_shift.shift_start BETWEEN :thirdShiftStart AND :secondShiftStart &quot;)\n    public class OrderDTO\n    {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;order_id&quot;)\n        private int orderId;\n        @Column(name = &quot;date&quot;)\n        private LocalDate date;\n        @Column(name = &quot;time&quot;)\n        private LocalTime time;\n        @Column(name = &quot;order_type&quot;)\n        private String orderType;\n        @Column(name = &quot;platform&quot;)\n        private String platform;\n        @Column(name = &quot;payment&quot;)\n        private String payment;\n        @Column(name = &quot;ingame&quot;)\n        private BigDecimal ingame;\n        @Column(name = &quot;money&quot;)\n        private BigDecimal money;\n        @Column(name = &quot;currency&quot;)\n        private String currency;\n        @Column(name = &quot;amazon_coins&quot;)\n        private int amazonCoins;\n        @Column(name = &quot;deposit&quot;)\n        private BigDecimal deposit;\n        @Column(name = &quot;notes&quot;)\n        private String notes;\n        @ManyToOne(fetch = FetchType.LAZY)\n        private ClientDTO client;\n        @ManyToOne(fetch = FetchType.LAZY)\n        private TopUperShiftDTO topUperShift;\n        @ManyToOne\n        private SellerDTO seller;\n        \n        public OrderDTO()\n        {\n            this.ingame = BigDecimal.ZERO;\n            this.money = BigDecimal.ZERO;\n            this.amazonCoins = 0;\n            this.deposit = BigDecimal.ZERO;\n        }\n        \n    }\n</code></pre>\n<p>TotalIngamePerDayDTO:</p>\n<pre><code>package com.KingDogeTeam.DTO;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDate;\n\n\n\npublic class TotalIngamePerDayDTO\n{\n    private LocalDate date;\n    private BigDecimal thirdShift;\n    private BigDecimal firstShift;\n    private BigDecimal secondShift;\n    private BigDecimal china;\n    private BigDecimal spent;\n    private int totalOrders;\n    private BigDecimal totalPoints;\n    private BigDecimal totalIngame;\n    \n    public TotalIngamePerDayDTO(){}\n\n    public TotalIngamePerDayDTO(LocalDate date, BigDecimal thirdShift, BigDecimal firstShift, BigDecimal secondShift, BigDecimal china, \n            BigDecimal spent, int totalOrders,  BigDecimal totalPoints, BigDecimal totalIngame)\n    {\n        this.date = date;\n        this.thirdShift = thirdShift;\n        this.firstShift = firstShift;\n        this.secondShift = secondShift;\n        this.china = china;\n        this.spent = spent;\n        this.totalOrders = totalOrders;\n        this.totalPoints = totalPoints;\n        this.totalIngame = totalIngame;\n    }\n}\n</code></pre>\n<p>IOrderRepository:</p>\n<pre><code>@Repository\npublic interface IOrderRepository extends JpaRepository&lt;OrderDTO, Integer&gt;\n{\n    TotalIngamePerDayDTO getTotalIngamePerDayDTO(LocalDateTime thirdShiftStart, LocalDateTime firstShiftStart, LocalDateTime secondShiftStart);\n}\n</code></pre>\n<p>I've got java.sql.SQLException: Column 'thirdShift' not found.\nFull trace stack:</p>\n<pre><code>java.sql.SQLException: Column 'thirdShift' not found.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.23.jar:8.0.23]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.23.jar:8.0.23]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.23.jar:8.0.23]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.23.jar:8.0.23]\n    at com.mysql.cj.jdbc.result.ResultSetImpl.findColumn(ResultSetImpl.java:575) ~[mysql-connector-java-8.0.23.jar:8.0.23]\n    at com.zaxxer.hikari.pool.HikariProxyResultSet.findColumn(HikariProxyResultSet.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.loader.custom.JdbcResultMetadata.resolveColumnPosition(JdbcResultMetadata.java:51) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.custom.ScalarResultColumnProcessor.performDiscovery(ScalarResultColumnProcessor.java:42) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.custom.ConstructorResultColumnProcessor.performDiscovery(ConstructorResultColumnProcessor.java:40) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.custom.CustomLoader.autoDiscoverTypes(CustomLoader.java:494) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.preprocessResultSet(Loader.java:2349) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2305) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2056) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2018) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2849) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2831) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2663) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2658) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2141) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1172) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1593) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1641) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.4.jar:2.5.4]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.4.jar:2.5.4]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.4.jar:2.5.4]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.4.jar:2.5.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.4.jar:2.5.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.6.jar:5.3.6]\n    at jdk.proxy5/jdk.proxy5.$Proxy176.getTotalIngamePerDayDTO(Unknown Source) ~[na:na]\n    at com.KingDogeTeam.Services.TotalIngamePerDayService.getTotalIngamePerDay(TotalIngamePerDayService.java:98) ~[classes/:na]\n    at com.KingDogeTeam.Controllers.InGameDashboardController.ingamePerDayDashboard(InGameDashboardController.java:218) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.6.jar:5.3.6]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.6.jar:5.3.6]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.6.jar:5.3.6]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.6.jar:5.3.6]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060) ~[spring-webmvc-5.3.6.jar:5.3.6]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.6.jar:5.3.6]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.6.jar:5.3.6]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.6.jar:5.3.6]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.45.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.6.jar:5.3.6]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.45.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.4.6.jar:5.4.6]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:141) ~[spring-session-core-2.4.3.jar:2.4.3]\n    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82) ~[spring-session-core-2.4.3.jar:2.4.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.6.jar:5.3.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n</code></pre>\n<p>I've also tried before with constructor with hql query, but I got the same error:</p>\n<pre><code>//      String hql = &quot; SELECT new com.KingDogeTeam.DTO.TotalIngamePerDayDTO(:date, &quot;\n//              + &quot; CAST(COALESCE(SUM(CASE WHEN (o.topUperShift.shiftStart &gt;= :thirdShiftStart) THEN o.ingame ELSE 0 END), 0) AS double), &quot;\n//              + &quot; CAST(COALESCE(SUM(CASE WHEN (o.topUperShift.shiftStart &gt;= :firstShiftStart) THEN o.ingame ELSE 0 END), 0) AS double),&quot;\n//              + &quot; CAST(COALESCE(SUM(CASE WHEN (o.topUperShift.shiftStart &gt;= :secondShiftStart) THEN o.ingame ELSE 0 END), 0) AS double), &quot;\n//              + &quot; CAST(COALESCE(SUM(CASE WHEN o.platform = 'China' THEN o.ingame ELSE 0 END), 0) AS double), &quot;\n//              + &quot; CAST(COALESCE(SUM(CASE WHEN o.platform != 'China' THEN o.ingame ELSE 0 END), 0) AS double), &quot;\n//              + &quot; CAST(COUNT(o.orderId) AS int), &quot;\n//              + &quot; CAST(COALESCE(SUM(CASE WHEN o.platform = 'Google Points' THEN o.ingame ELSE 0 END), 0) AS int),&quot;\n//              + &quot; CAST(COALESCE(SUM(o.ingame), 0) AS double)) &quot;\n//              + &quot; FROM OrderDTO o WHERE (o.topUperShift.shiftStart BETWEEN :thirdShiftStart AND :secondShiftStart) &quot;;\n</code></pre>\n"},{"tags":["java","spring-boot","deployment","google-cloud-platform","google-compute-engine"],"answers":[{"tags":[],"owner":{"account_id":14695586,"reputation":726,"user_id":10613071,"display_name":"Altaf Ansari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634654164,"creation_date":1580368699,"answer_id":59980868,"question_id":59980802,"body_markdown":"Here is the very good blog written on [How to deploy Spring Boot app in Google Cloud Compute Engine with embedded tomcat?](https://javaaltaf.blogspot.com/2020/01/deploy-spring-boot-in-google-cloud-compute-engine.html). I am just briefing here.\r\n\r\n&gt;If you want to use an embedded tomcat server then PM2 is the best tool for managing the deployment in Compute Engine. PM2 is a process manager for the JavaScript runtime Node.js. Actually without PM2 also you can deploy Spring Boot app directly by executing command ```mvn spring--boot:run``` but the problem is when you exit the terminal then your server will also go down. Here you can use excute the command in background by using ```setsid mvn spring-boot:run```. This will execute your Spring Boot app in background but when you need to restart the server then you will the error like **Web server failed to start. Port 8080 was already in use**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHence you need to kill the existing running app by finding what is the processId. This is somehow a headache. Hence I will also recommend you to use PM2. To install PM2 you can use these commands in ubuntu.\r\n```\r\ncurl -sL https://deb.nodesource.com/setup_10.x -o nodesource_setup.sh\r\nsudo bash nodesource_setup.sh\r\nsudo apt-get install nodejs\r\nsudo npm install -g pm2\r\n```\r\nIf you want test your Spring Boot application, you can clone or pull the project from your Github repository or you can clone the **spring-boot-test** project from here.\r\n```\r\ngit clone https://github.com/altafjava/spring-boot-test.git\r\ncd spring-boot-test/\r\n```\r\nYou will have to create one .sh file which will be used by the PM2 to restart the server. In your .sh file you need to write the command which is used to execute the spring boot project that is nothing but ```mvn spring-boot:run```\r\n```\r\necho &quot;mvn spring-boot:run&quot;&gt;server.sh\r\nchmod +x server.sh\r\n```\r\nFinally, restart the server by using the command ```pm2 restart server```. You can even check the logs on runtime by using ```pm2 logs```.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zSA1s.png","title":"How to deploy Spring Boot application in Google Cloud Compute Engine?","body":"<p>Here is the very good blog written on <a href=\"https://javaaltaf.blogspot.com/2020/01/deploy-spring-boot-in-google-cloud-compute-engine.html\" rel=\"nofollow noreferrer\">How to deploy Spring Boot app in Google Cloud Compute Engine with embedded tomcat?</a>. I am just briefing here.</p>\n<blockquote>\n<p>If you want to use an embedded tomcat server then PM2 is the best tool for managing the deployment in Compute Engine. PM2 is a process manager for the JavaScript runtime Node.js. Actually without PM2 also you can deploy Spring Boot app directly by executing command <code>mvn spring--boot:run</code> but the problem is when you exit the terminal then your server will also go down. Here you can use excute the command in background by using <code>setsid mvn spring-boot:run</code>. This will execute your Spring Boot app in background but when you need to restart the server then you will the error like <strong>Web server failed to start. Port 8080 was already in use</strong></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/zSA1s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zSA1s.png\" alt=\"enter image description here\" /></a></p>\n<p>Hence you need to kill the existing running app by finding what is the processId. This is somehow a headache. Hence I will also recommend you to use PM2. To install PM2 you can use these commands in ubuntu.</p>\n<pre><code>curl -sL https://deb.nodesource.com/setup_10.x -o nodesource_setup.sh\nsudo bash nodesource_setup.sh\nsudo apt-get install nodejs\nsudo npm install -g pm2\n</code></pre>\n<p>If you want test your Spring Boot application, you can clone or pull the project from your Github repository or you can clone the <strong>spring-boot-test</strong> project from here.</p>\n<pre><code>git clone https://github.com/altafjava/spring-boot-test.git\ncd spring-boot-test/\n</code></pre>\n<p>You will have to create one .sh file which will be used by the PM2 to restart the server. In your .sh file you need to write the command which is used to execute the spring boot project that is nothing but <code>mvn spring-boot:run</code></p>\n<pre><code>echo &quot;mvn spring-boot:run&quot;&gt;server.sh\nchmod +x server.sh\n</code></pre>\n<p>Finally, restart the server by using the command <code>pm2 restart server</code>. You can even check the logs on runtime by using <code>pm2 logs</code>.</p>\n"}],"owner":{"account_id":15198623,"reputation":23,"user_id":10967234,"display_name":"Diane Curry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59980868,"answer_count":1,"score":2,"last_activity_date":1634654164,"creation_date":1580368371,"question_id":59980802,"body_markdown":"I am a new to ```Google Cloud platform```. I want to deploy my ```Spring Boot``` project in ```Compute Engine``` because deploying in **App Engine** costs more than the **Compute Engine**. There are a lot of videos/articles are available in YouTube/Websites for deploying in App Engine but I did not find any tutorial on deploying Spring Boot app in Compute Engine.","title":"How to deploy Spring Boot application in Google Cloud Compute Engine?","body":"<p>I am a new to <code>Google Cloud platform</code>. I want to deploy my <code>Spring Boot</code> project in <code>Compute Engine</code> because deploying in <strong>App Engine</strong> costs more than the <strong>Compute Engine</strong>. There are a lot of videos/articles are available in YouTube/Websites for deploying in App Engine but I did not find any tutorial on deploying Spring Boot app in Compute Engine.</p>\n"},{"tags":["java","android","android-dialogfragment","android-timepicker"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1423330070,"post_id":28384782,"comment_id":45107957,"body_markdown":"What if you invoke `NumberPicker mMinuteSpinner = (NumberPicker) findViewById(field.getInt(timePicker));` instead? And perhaps `Field field = TimePicker.class.getField(&quot;minute&quot;)`.","body":"What if you invoke <code>NumberPicker mMinuteSpinner = (NumberPicker) findViewById(field.getInt(timePicker));</code> instead? And perhaps <code>Field field = TimePicker.class.getField(&quot;minute&quot;)</code>."},{"owner":{"account_id":1975371,"reputation":1728,"user_id":1773265,"accept_rate":100,"display_name":"Slim"},"score":0,"creation_date":1423330258,"post_id":28384782,"comment_id":45108013,"body_markdown":"@AndyTurner `Cannot resolve symbol &#39;timePicker&#39;`","body":"@AndyTurner <code>Cannot resolve symbol &#39;timePicker&#39;</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1423330295,"post_id":28384782,"comment_id":45108029,"body_markdown":"`this.timePicker` then.","body":"<code>this.timePicker</code> then."},{"owner":{"account_id":1975371,"reputation":1728,"user_id":1773265,"accept_rate":100,"display_name":"Slim"},"score":0,"creation_date":1423330581,"post_id":28384782,"comment_id":45108121,"body_markdown":"@AndyTurner `this.timePicker` is returning null and the `field` change says `java.lang.NoSuchFieldException: minute`","body":"@AndyTurner <code>this.timePicker</code> is returning null and the <code>field</code> change says <code>java.lang.NoSuchFieldException: minute</code>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1423328392,"creation_date":1423328392,"answer_id":28384853,"question_id":28384782,"body_markdown":"    NumberPicker mMinuteSpinner = (NumberPicker) timePicker\r\n                    .findViewById(field.getInt(null));\r\n\r\nis presumably returning `null`.","title":"Why am I getting a a null object reference error?","body":"<pre><code>NumberPicker mMinuteSpinner = (NumberPicker) timePicker\n                .findViewById(field.getInt(null));\n</code></pre>\n\n<p>is presumably returning <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":1662830,"reputation":409,"user_id":1530779,"display_name":"user1530779"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423329344,"creation_date":1423329344,"answer_id":28385018,"question_id":28384782,"body_markdown":"android.widget.NumberPicker.setMinValue(int) on a null object reference\r\nso it says its being called on null object that means mMinuteSpinner is null for sure the JVM doesn&#39;t go wrong dude just debug your code If you need help i&#39;ll help you debug\r\n\r\nNumberPicker mMinuteSpinner = (NumberPicker) timePicker\r\n                    .findViewById(field.getInt(null));\r\n\r\n            mMinuteSpinner.setMinValue(0);\r\n ","title":"Why am I getting a a null object reference error?","body":"<p>android.widget.NumberPicker.setMinValue(int) on a null object reference\nso it says its being called on null object that means mMinuteSpinner is null for sure the JVM doesn't go wrong dude just debug your code If you need help i'll help you debug</p>\n\n<p>NumberPicker mMinuteSpinner = (NumberPicker) timePicker\n                    .findViewById(field.getInt(null));</p>\n\n<pre><code>        mMinuteSpinner.setMinValue(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8341430,"reputation":1,"user_id":6266635,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461848397,"creation_date":1461846935,"answer_id":36914883,"question_id":28384782,"body_markdown":"    LayoutInflater l = getLayoutInflater();\r\n    final View v = l.inflate(R.layout.create_alarm_dialog, null);\r\n    \r\n    //get the number pickers\r\n    NumberPicker hoursNP = (NumberPicker) v.findViewById(R.id.hours);\r\n\r\nThis is how I did mine, I&#39;m guessing you need to specify the view so it knows where to look for the ID. Sorry I&#39;m also a noob at android and this is my first stackover flow post. I hope this helps.","title":"Why am I getting a a null object reference error?","body":"<pre><code>LayoutInflater l = getLayoutInflater();\nfinal View v = l.inflate(R.layout.create_alarm_dialog, null);\n\n//get the number pickers\nNumberPicker hoursNP = (NumberPicker) v.findViewById(R.id.hours);\n</code></pre>\n\n<p>This is how I did mine, I'm guessing you need to specify the view so it knows where to look for the ID. Sorry I'm also a noob at android and this is my first stackover flow post. I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":9060939,"reputation":427,"user_id":6747484,"display_name":"Lakshman Jodhawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634653665,"creation_date":1634653665,"answer_id":69632708,"question_id":28384782,"body_markdown":"  \r\n      mMinuteSpinner.setMinValue(0);\r\n\r\nFatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.NumberPicker.setMinValue(int)&#39; on a null object reference\r\n\r\n&gt; Blockquote\r\n\r\n\r\nStill crash in android version 11 API level 30 like Oppo, Samsung, Realme, OnePlus, etc. mobile devices","title":"Why am I getting a a null object reference error?","body":"<pre><code>  mMinuteSpinner.setMinValue(0);\n</code></pre>\n<p>Fatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.NumberPicker.setMinValue(int)' on a null object reference</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<p>Still crash in android version 11 API level 30 like Oppo, Samsung, Realme, OnePlus, etc. mobile devices</p>\n"}],"owner":{"account_id":1975371,"reputation":1728,"user_id":1773265,"accept_rate":100,"display_name":"Slim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28384853,"answer_count":4,"score":0,"last_activity_date":1634653665,"creation_date":1423327943,"question_id":28384782,"body_markdown":"I am trying to show a custom minute interval in the time picker, so here is what I&#39;m trying to do.\r\nIn my MainActivity I have this method(called on a button click),which is opening a d`DialogFragment`:\r\n\r\n    public void showTimePickerDialog(View v) {\r\n            DialogFragment newFragment = new TimePickerFragment();\r\n            newFragment.show(getSupportFragmentManager(), &quot;timePicker&quot;);\r\n        }\r\n\r\nHere is the `TimePickerFragment`:\r\n\r\n    public class TimePickerFragment extends DialogFragment\r\n            implements DurationTimePickDialog.OnTimeSetListener {\r\n    \r\n    \r\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n            // Use the current time as the default values for the picker\r\n            final Calendar c = Calendar.getInstance();\r\n            int hour = c.get(Calendar.HOUR_OF_DAY);\r\n            int minute = 0;\r\n    \r\n            // Create a new instance of CustomTimePickerDialog and return it\r\n            return new CustomTimePickerDialog(getActivity(), this, hour, minute,\r\n                    DateFormat.is24HourFormat(getActivity()));\r\n        }\r\n    \r\n        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n    \r\n            String realMinute= &quot;&quot;;\r\n    \r\n            switch (minute) {\r\n                case 1:\r\n                    realMinute = &quot;01&quot;;\r\n                    break;\r\n                case 2:\r\n                    realMinute = &quot;02&quot;;\r\n                    break;\r\n                case 3:\r\n                    realMinute = &quot;03&quot;;\r\n                    break;\r\n                case 4:\r\n                    realMinute = &quot;04&quot;;\r\n                    break;\r\n                case 5:\r\n                    realMinute = &quot;05&quot;;\r\n                    break;\r\n                case 6:\r\n                    realMinute = &quot;06&quot;;\r\n                    break;\r\n                case 7:\r\n                    realMinute = &quot;07&quot;;\r\n                    break;\r\n                case 8:\r\n                    realMinute = &quot;08&quot;;\r\n                    break;\r\n                case 9:\r\n                    realMinute = &quot;09&quot;;\r\n                    break;\r\n                default:\r\n                    realMinute = String.valueOf(minute);\r\n                    break;\r\n            }\r\n    \r\n            final String selectedDate = String.valueOf(hourOfDay) + &quot;:&quot; + realMinute;\r\n            EditText selectedTimeTxt = (EditText) getActivity().findViewById(R.id.selectedTime);\r\n            selectedTimeTxt.setText(selectedDate);\r\n        }\r\n    }\r\n\r\nAs you can see I&#39;m using a customized class called `CustomTimePickerDialog` in order to show the dialog with the 10 minute interval. Here the code is:\r\n\r\n    public class CustomTimePickerDialog extends TimePickerDialog {\r\n    \r\n        private final static int TIME_PICKER_INTERVAL = 5;\r\n        private TimePicker timePicker;\r\n        private final OnTimeSetListener callback;\r\n    \r\n        public CustomTimePickerDialog(Context context, OnTimeSetListener callBack,\r\n                                      int hourOfDay, int minute, boolean is24HourView) {\r\n            super(context, callBack, hourOfDay, minute / TIME_PICKER_INTERVAL,\r\n                    is24HourView);\r\n            this.callback = callBack;\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(DialogInterface dialog, int which) {\r\n            if (callback != null &amp;&amp; timePicker != null) {\r\n                timePicker.clearFocus();\r\n                callback.onTimeSet(timePicker, timePicker.getCurrentHour(),\r\n                        timePicker.getCurrentMinute() * TIME_PICKER_INTERVAL);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n        }\r\n    \r\n        @Override\r\n        public void onAttachedToWindow() {\r\n            super.onAttachedToWindow();\r\n            try {\r\n                Class&lt;?&gt; classForid = Class.forName(&quot;com.android.internal.R$id&quot;);\r\n                Field timePickerField = classForid.getField(&quot;timePicker&quot;);\r\n                this.timePicker = (TimePicker) findViewById(timePickerField\r\n                        .getInt(null));\r\n                Field field = classForid.getField(&quot;minute&quot;);\r\n    \r\n                NumberPicker mMinuteSpinner = (NumberPicker) timePicker\r\n                        .findViewById(field.getInt(null));\r\n                mMinuteSpinner.setMinValue(0);\r\n                mMinuteSpinner.setMaxValue((60 / TIME_PICKER_INTERVAL) - 1);\r\n                List&lt;String&gt; displayedValues = new ArrayList&lt;String&gt;();\r\n                for (int i = 0; i &lt; 60; i += TIME_PICKER_INTERVAL) {\r\n                    displayedValues.add(String.format(&quot;%02d&quot;, i));\r\n                }\r\n                mMinuteSpinner.setDisplayedValues(displayedValues\r\n                        .toArray(new String[0]));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThe problem is that I&#39;m getting this strange for me error:\r\n\r\n`java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.NumberPicker.setMinValue(int)&#39; on a null object reference` regarding this line: `mMinuteSpinner.setMinValue(0);` - in the `CustomTimePickerDialog` class.\r\n\r\nI know that I&#39;m messing the things here(probably in the `TimePickerFragment` class), but as an android and java beginner I&#39;m not able to spot my mistake.\r\n\r\nCan you give me a clue?","title":"Why am I getting a a null object reference error?","body":"<p>I am trying to show a custom minute interval in the time picker, so here is what I'm trying to do.\nIn my MainActivity I have this method(called on a button click),which is opening a d<code>DialogFragment</code>:</p>\n\n<pre><code>public void showTimePickerDialog(View v) {\n        DialogFragment newFragment = new TimePickerFragment();\n        newFragment.show(getSupportFragmentManager(), \"timePicker\");\n    }\n</code></pre>\n\n<p>Here is the <code>TimePickerFragment</code>:</p>\n\n<pre><code>public class TimePickerFragment extends DialogFragment\n        implements DurationTimePickDialog.OnTimeSetListener {\n\n\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        // Use the current time as the default values for the picker\n        final Calendar c = Calendar.getInstance();\n        int hour = c.get(Calendar.HOUR_OF_DAY);\n        int minute = 0;\n\n        // Create a new instance of CustomTimePickerDialog and return it\n        return new CustomTimePickerDialog(getActivity(), this, hour, minute,\n                DateFormat.is24HourFormat(getActivity()));\n    }\n\n    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n\n        String realMinute= \"\";\n\n        switch (minute) {\n            case 1:\n                realMinute = \"01\";\n                break;\n            case 2:\n                realMinute = \"02\";\n                break;\n            case 3:\n                realMinute = \"03\";\n                break;\n            case 4:\n                realMinute = \"04\";\n                break;\n            case 5:\n                realMinute = \"05\";\n                break;\n            case 6:\n                realMinute = \"06\";\n                break;\n            case 7:\n                realMinute = \"07\";\n                break;\n            case 8:\n                realMinute = \"08\";\n                break;\n            case 9:\n                realMinute = \"09\";\n                break;\n            default:\n                realMinute = String.valueOf(minute);\n                break;\n        }\n\n        final String selectedDate = String.valueOf(hourOfDay) + \":\" + realMinute;\n        EditText selectedTimeTxt = (EditText) getActivity().findViewById(R.id.selectedTime);\n        selectedTimeTxt.setText(selectedDate);\n    }\n}\n</code></pre>\n\n<p>As you can see I'm using a customized class called <code>CustomTimePickerDialog</code> in order to show the dialog with the 10 minute interval. Here the code is:</p>\n\n<pre><code>public class CustomTimePickerDialog extends TimePickerDialog {\n\n    private final static int TIME_PICKER_INTERVAL = 5;\n    private TimePicker timePicker;\n    private final OnTimeSetListener callback;\n\n    public CustomTimePickerDialog(Context context, OnTimeSetListener callBack,\n                                  int hourOfDay, int minute, boolean is24HourView) {\n        super(context, callBack, hourOfDay, minute / TIME_PICKER_INTERVAL,\n                is24HourView);\n        this.callback = callBack;\n    }\n\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        if (callback != null &amp;&amp; timePicker != null) {\n            timePicker.clearFocus();\n            callback.onTimeSet(timePicker, timePicker.getCurrentHour(),\n                    timePicker.getCurrentMinute() * TIME_PICKER_INTERVAL);\n        }\n    }\n\n    @Override\n    protected void onStop() {\n    }\n\n    @Override\n    public void onAttachedToWindow() {\n        super.onAttachedToWindow();\n        try {\n            Class&lt;?&gt; classForid = Class.forName(\"com.android.internal.R$id\");\n            Field timePickerField = classForid.getField(\"timePicker\");\n            this.timePicker = (TimePicker) findViewById(timePickerField\n                    .getInt(null));\n            Field field = classForid.getField(\"minute\");\n\n            NumberPicker mMinuteSpinner = (NumberPicker) timePicker\n                    .findViewById(field.getInt(null));\n            mMinuteSpinner.setMinValue(0);\n            mMinuteSpinner.setMaxValue((60 / TIME_PICKER_INTERVAL) - 1);\n            List&lt;String&gt; displayedValues = new ArrayList&lt;String&gt;();\n            for (int i = 0; i &lt; 60; i += TIME_PICKER_INTERVAL) {\n                displayedValues.add(String.format(\"%02d\", i));\n            }\n            mMinuteSpinner.setDisplayedValues(displayedValues\n                    .toArray(new String[0]));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>The problem is that I'm getting this strange for me error:</p>\n\n<p><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.NumberPicker.setMinValue(int)' on a null object reference</code> regarding this line: <code>mMinuteSpinner.setMinValue(0);</code> - in the <code>CustomTimePickerDialog</code> class.</p>\n\n<p>I know that I'm messing the things here(probably in the <code>TimePickerFragment</code> class), but as an android and java beginner I'm not able to spot my mistake.</p>\n\n<p>Can you give me a clue?</p>\n"},{"tags":["java","jwt","rsa"],"comments":[{"owner":{"account_id":5889708,"reputation":6453,"user_id":4636715,"accept_rate":100,"display_name":"vahdet"},"score":0,"creation_date":1520259703,"post_id":49112385,"comment_id":85230034,"body_markdown":"Welcome! Have you followed the solution suggested here: https://stackoverflow.com/a/39624577/4636715","body":"Welcome! Have you followed the solution suggested here: <a href=\"https://stackoverflow.com/a/39624577/4636715\">stackoverflow.com/a/39624577/4636715</a>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1520261115,"post_id":49112385,"comment_id":85230914,"body_markdown":"@vahdet: That solution is complete nonsense.","body":"@vahdet: That solution is complete nonsense."},{"owner":{"account_id":9228603,"reputation":125,"user_id":6855526,"display_name":"Doyyan"},"score":0,"creation_date":1520273086,"post_id":49112385,"comment_id":85238734,"body_markdown":"@vahdet - Yes, it actually works to this part Jwts.parser().setSigningKey(secretKey).   It fails at parseClaimsJws(keySec.getTokenString());","body":"@vahdet - Yes, it actually works to this part Jwts.parser().setSigningKey(secretKey).   It fails at parseClaimsJws(keySec.getTokenString());"},{"owner":{"account_id":9228603,"reputation":125,"user_id":6855526,"display_name":"Doyyan"},"score":0,"creation_date":1520344660,"post_id":49112385,"comment_id":85269748,"body_markdown":"Found the solution http://xacmlinfo.org/2015/03/19/validate-and-process-jwt-tokens-with-java/","body":"Found the solution <a href=\"http://xacmlinfo.org/2015/03/19/validate-and-process-jwt-tokens-with-java/\" rel=\"nofollow noreferrer\">xacmlinfo.org/2015/03/19/&hellip;</a>"}],"owner":{"account_id":9228603,"reputation":125,"user_id":6855526,"display_name":"Doyyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7208,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1634653509,"creation_date":1520259156,"question_id":49112385,"body_markdown":"I&#39;m trying to decode a JWT token from my OAUTH server and I&#39;m using examples from the following [website](https://stormpath.com/blog/token-auth-for-java).\r\n\r\nI have tried quite a lot self designed solutions but can&#39;t solve an issue, I can&#39;t decode a RSA public key signed JWT.\r\n\r\nThe following code \r\n\r\n    Jwts.parser().setSigningKey(&quot;&lt;&lt;Oauth server RSA public key&gt;&gt;&quot;).parseClaimsJws(keySec.getTokenString());\r\n\r\nI get the following Exception\r\n\r\n    java.lang.IllegalArgumentException: Key bytes cannot be specified for RSA signatures.  Please specify a PublicKey or PrivateKey instance.\r\n\r\n","title":"Key bytes cannot be specified for RSA signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>I'm trying to decode a JWT token from my OAUTH server and I'm using examples from the following <a href=\"https://stormpath.com/blog/token-auth-for-java\" rel=\"noreferrer\">website</a>.</p>\n\n<p>I have tried quite a lot self designed solutions but can't solve an issue, I can't decode a RSA public key signed JWT.</p>\n\n<p>The following code </p>\n\n<pre><code>Jwts.parser().setSigningKey(\"&lt;&lt;Oauth server RSA public key&gt;&gt;\").parseClaimsJws(keySec.getTokenString());\n</code></pre>\n\n<p>I get the following Exception</p>\n\n<pre><code>java.lang.IllegalArgumentException: Key bytes cannot be specified for RSA signatures.  Please specify a PublicKey or PrivateKey instance.\n</code></pre>\n"},{"tags":["java","android","android-studio","file"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634653620,"post_id":69632521,"comment_id":123079875,"body_markdown":"No not because directory is hidden but because you use an Android 11 device.","body":"No not because directory is hidden but because you use an Android 11 device."},{"owner":{"account_id":11873112,"reputation":1073,"user_id":8688810,"display_name":"Dan Baruch"},"score":1,"creation_date":1634653646,"post_id":69632521,"comment_id":123079886,"body_markdown":"If you are running on Android 11 or above, then no, not possible.\nIf you are running on Android 10 or below, it should be readable with appropriate permissions. For example, requestLegacyExternalStorage for Android 10 to allow you to read from other app&#39;s folders.","body":"If you are running on Android 11 or above, then no, not possible. If you are running on Android 10 or below, it should be readable with appropriate permissions. For example, requestLegacyExternalStorage for Android 10 to allow you to read from other app&#39;s folders."}],"owner":{"account_id":23080410,"reputation":1,"user_id":17192772,"display_name":"L-Shin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634653378,"creation_date":1634652947,"question_id":69632521,"body_markdown":"I want to list files on this directory:\r\nstorage/emulated/0/Android/media/com.whatsapp/WhatsApp/Media/.Statuses/\r\nthis is my code:\r\n```\r\nFile folder = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Android/media/com.whatsapp/WhatsApp/Media/.Statuses&quot;);\r\nFile[] files = folder.listFiles();\r\n```\r\nThere are 5 files in the directory, but `files.length()` returns 0. I guess it&#39;s because the Statuses Folder is `Hidden`. \r\n\r\nWhen I tried this code for a normal folder it worked well, but it doesn&#39;t work for hidden folders. Can you help me?\r\n","title":"Is there any way to access hidden files android?","body":"<p>I want to list files on this directory:\nstorage/emulated/0/Android/media/com.whatsapp/WhatsApp/Media/.Statuses/\nthis is my code:</p>\n<pre><code>File folder = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Android/media/com.whatsapp/WhatsApp/Media/.Statuses&quot;);\nFile[] files = folder.listFiles();\n</code></pre>\n<p>There are 5 files in the directory, but <code>files.length()</code> returns 0. I guess it's because the Statuses Folder is <code>Hidden</code>.</p>\n<p>When I tried this code for a normal folder it worked well, but it doesn't work for hidden folders. Can you help me?</p>\n"},{"tags":["java","c#",".net-5"],"answers":[{"tags":[],"owner":{"account_id":4365279,"reputation":14457,"user_id":3561275,"display_name":"omajid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634569178,"creation_date":1634569178,"answer_id":69618273,"question_id":69617895,"body_markdown":"IV and Nonce mean the same thing.\r\n\r\nThe IV is the second argument to GCMParameterSpec here:\r\n\r\n    GCMParameterSpec gcmParams = new GCMParameterSpec(128, cipherKey.substring(0, 16).getBytes());\r\n\r\n.NET calls this Nonce.","title":"Convert Java AES/GCM/NoPadding algorithm to C#","body":"<p>IV and Nonce mean the same thing.</p>\n<p>The IV is the second argument to GCMParameterSpec here:</p>\n<pre><code>GCMParameterSpec gcmParams = new GCMParameterSpec(128, cipherKey.substring(0, 16).getBytes());\n</code></pre>\n<p>.NET calls this Nonce.</p>\n"},{"tags":[],"owner":{"account_id":7992459,"reputation":266,"user_id":6029923,"display_name":"Corey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634653305,"creation_date":1634653305,"answer_id":69632620,"question_id":69617895,"body_markdown":"I was able to use BouncyCastle to convert this to C#:\r\n\r\n    using Org.BouncyCastle.Crypto.Parameters;\r\n    using Org.BouncyCastle.Security;\r\n    using System;\r\n    using System.Security.Cryptography;\r\n    using System.Text;\r\n    \r\n    namespace ConsoleApp3\r\n    {\r\n        class Program\r\n        {\r\n            static void Main(string[] args)\r\n            {\r\n                string inputText = &quot;Password&quot;;\r\n                string msgId = &quot;1234567890123456&quot;;\r\n    \r\n                string value = Encrypt(inputText, msgId);\r\n                Console.WriteLine(value);\r\n            }\r\n    \r\n            public static string Encrypt(string plainText, string msgId)\r\n            {\r\n                const byte GcmTagSize = 16;\r\n    \r\n                byte[] hashKey;\r\n                byte[] secretKey = Encoding.ASCII.GetBytes(msgId);\r\n    \r\n                using (var hasher = SHA512.Create())\r\n                {\r\n                    byte[] digestSeed = hasher.ComputeHash(secretKey);\r\n                    hashKey = new byte[16];\r\n                    Array.Copy(digestSeed, hashKey, hashKey.Length);\r\n                }\r\n    \r\n                var keyParameter = new KeyParameter(hashKey);\r\n                var keyParameters = new AeadParameters(keyParameter, GcmTagSize * 8, secretKey);\r\n    \r\n                var cipher = CipherUtilities.GetCipher(&quot;AES/GCM/NoPadding&quot;);\r\n                cipher.Init(true, keyParameters);\r\n    \r\n                var plainTextData = Encoding.ASCII.GetBytes(plainText);\r\n                var cipherText = cipher.DoFinal(plainTextData);\r\n    \r\n                return Convert.ToBase64String(cipherText);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Convert Java AES/GCM/NoPadding algorithm to C#","body":"<p>I was able to use BouncyCastle to convert this to C#:</p>\n<pre><code>using Org.BouncyCastle.Crypto.Parameters;\nusing Org.BouncyCastle.Security;\nusing System;\nusing System.Security.Cryptography;\nusing System.Text;\n\nnamespace ConsoleApp3\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string inputText = &quot;Password&quot;;\n            string msgId = &quot;1234567890123456&quot;;\n\n            string value = Encrypt(inputText, msgId);\n            Console.WriteLine(value);\n        }\n\n        public static string Encrypt(string plainText, string msgId)\n        {\n            const byte GcmTagSize = 16;\n\n            byte[] hashKey;\n            byte[] secretKey = Encoding.ASCII.GetBytes(msgId);\n\n            using (var hasher = SHA512.Create())\n            {\n                byte[] digestSeed = hasher.ComputeHash(secretKey);\n                hashKey = new byte[16];\n                Array.Copy(digestSeed, hashKey, hashKey.Length);\n            }\n\n            var keyParameter = new KeyParameter(hashKey);\n            var keyParameters = new AeadParameters(keyParameter, GcmTagSize * 8, secretKey);\n\n            var cipher = CipherUtilities.GetCipher(&quot;AES/GCM/NoPadding&quot;);\n            cipher.Init(true, keyParameters);\n\n            var plainTextData = Encoding.ASCII.GetBytes(plainText);\n            var cipherText = cipher.DoFinal(plainTextData);\n\n            return Convert.ToBase64String(cipherText);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7992459,"reputation":266,"user_id":6029923,"display_name":"Corey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69618273,"answer_count":2,"score":0,"last_activity_date":1634653305,"creation_date":1634567428,"question_id":69617895,"body_markdown":"I&#39;m trying to convert this java code:\r\n\r\n    package ffsd;\r\n    \r\n    import java.security.MessageDigest;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class GatewayEncryptUtil {\r\n      public static String encrypt(String plainText, String key) throws Exception {\r\n        return new String(Base64.getEncoder().encode(doCrypt(plainText.getBytes(), 1, key)));\r\n      }\r\n      \r\n      public static byte[] doCrypt(byte[] inputText, int operation, String key) throws Exception {\r\n        MessageDigest mDigest = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n        byte[] secretKey = key.getBytes();\r\n        byte[] digestSeed = mDigest.digest(secretKey);\r\n        byte[] hashKey = Arrays.copyOf(digestSeed, 16);\r\n        \r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        SecretKeySpec skspec = new SecretKeySpec(hashKey, &quot;AES&quot;);\r\n        String cipherKey = new String(secretKey);\r\n        GCMParameterSpec gcmParams = new GCMParameterSpec(128, cipherKey.substring(0, 16).getBytes());\r\n        cipher.init(operation, skspec, gcmParams);\r\n        return cipher.doFinal(inputText);\r\n      }\r\n      \r\n      public static void main(String[] args) {\r\n        try {\r\n          System.out.println(encrypt(&quot;Password&quot;, &quot;1234567890123456&quot;));\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        } \r\n      }\r\n    }\r\n\r\nto C# .NET 5.0 using the new AesGcm class:\r\n\r\n    using System;\r\n    using System.Security.Cryptography;\r\n    using System.Text;\r\n    \r\n    namespace ConsoleApp3\r\n    {\r\n        class Program\r\n        {\r\n            static void Main(string[] args)\r\n            {\r\n                string inputText = &quot;Password&quot;;\r\n                string msgId = &quot;1234567890123456&quot;;\r\n    \r\n                byte[] hashKey;\r\n                byte[] secretKey = Encoding.ASCII.GetBytes(msgId);\r\n    \r\n                using (var hasher = SHA512.Create())\r\n                {\r\n                    byte[] digestSeed = hasher.ComputeHash(secretKey);\r\n                    hashKey = new byte[16];\r\n                    Array.Copy(digestSeed, hashKey, hashKey.Length);\r\n                }\r\n    \r\n                using (var aesGcm = new AesGcm(hashKey))\r\n                {\r\n                    byte[] nonce = new byte[AesGcm.NonceByteSizes.MaxSize];\r\n                    byte[] plainText = Encoding.ASCII.GetBytes(inputText);\r\n                    byte[] authTag = new byte[AesGcm.TagByteSizes.MaxSize];\r\n                    byte[] cipherText = new byte[plainText.Length];\r\n    \r\n                    aesGcm.Encrypt(nonce, plainText, cipherText, authTag);\r\n                    string cipherTextBase64 = Convert.ToBase64String(cipherText);\r\n                    string authTagBase64 = Convert.ToBase64String(authTag);\r\n    \r\n                    Console.WriteLine(cipherTextBase64);\r\n                    Console.WriteLine(authTagBase64);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nBut I don&#39;t know what the nonce is supposed to be. Not seeing that in the java code anywhere. Can anyone give me any pointers to this?\r\nThe result of the java code is: &quot;gc1zTHlIPQusN5e+Rjq+veDoIYdU1nCQ&quot;\r\nmine is obviously incomplete and not coming close.","title":"Convert Java AES/GCM/NoPadding algorithm to C#","body":"<p>I'm trying to convert this java code:</p>\n<pre><code>package ffsd;\n\nimport java.security.MessageDigest;\nimport java.util.Arrays;\nimport java.util.Base64;\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class GatewayEncryptUtil {\n  public static String encrypt(String plainText, String key) throws Exception {\n    return new String(Base64.getEncoder().encode(doCrypt(plainText.getBytes(), 1, key)));\n  }\n  \n  public static byte[] doCrypt(byte[] inputText, int operation, String key) throws Exception {\n    MessageDigest mDigest = MessageDigest.getInstance(&quot;SHA-512&quot;);\n    byte[] secretKey = key.getBytes();\n    byte[] digestSeed = mDigest.digest(secretKey);\n    byte[] hashKey = Arrays.copyOf(digestSeed, 16);\n    \n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    SecretKeySpec skspec = new SecretKeySpec(hashKey, &quot;AES&quot;);\n    String cipherKey = new String(secretKey);\n    GCMParameterSpec gcmParams = new GCMParameterSpec(128, cipherKey.substring(0, 16).getBytes());\n    cipher.init(operation, skspec, gcmParams);\n    return cipher.doFinal(inputText);\n  }\n  \n  public static void main(String[] args) {\n    try {\n      System.out.println(encrypt(&quot;Password&quot;, &quot;1234567890123456&quot;));\n    } catch (Exception e) {\n      e.printStackTrace();\n    } \n  }\n}\n</code></pre>\n<p>to C# .NET 5.0 using the new AesGcm class:</p>\n<pre><code>using System;\nusing System.Security.Cryptography;\nusing System.Text;\n\nnamespace ConsoleApp3\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string inputText = &quot;Password&quot;;\n            string msgId = &quot;1234567890123456&quot;;\n\n            byte[] hashKey;\n            byte[] secretKey = Encoding.ASCII.GetBytes(msgId);\n\n            using (var hasher = SHA512.Create())\n            {\n                byte[] digestSeed = hasher.ComputeHash(secretKey);\n                hashKey = new byte[16];\n                Array.Copy(digestSeed, hashKey, hashKey.Length);\n            }\n\n            using (var aesGcm = new AesGcm(hashKey))\n            {\n                byte[] nonce = new byte[AesGcm.NonceByteSizes.MaxSize];\n                byte[] plainText = Encoding.ASCII.GetBytes(inputText);\n                byte[] authTag = new byte[AesGcm.TagByteSizes.MaxSize];\n                byte[] cipherText = new byte[plainText.Length];\n\n                aesGcm.Encrypt(nonce, plainText, cipherText, authTag);\n                string cipherTextBase64 = Convert.ToBase64String(cipherText);\n                string authTagBase64 = Convert.ToBase64String(authTag);\n\n                Console.WriteLine(cipherTextBase64);\n                Console.WriteLine(authTagBase64);\n            }\n        }\n    }\n}\n</code></pre>\n<p>But I don't know what the nonce is supposed to be. Not seeing that in the java code anywhere. Can anyone give me any pointers to this?\nThe result of the java code is: &quot;gc1zTHlIPQusN5e+Rjq+veDoIYdU1nCQ&quot;\nmine is obviously incomplete and not coming close.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634653246,"creation_date":1634652819,"answer_id":69632480,"question_id":69632244,"body_markdown":"Add a `@Mapping` attribute above your `userToUserDto` method:\r\n\r\n    @Mapping(source = &quot;job.idJob&quot;, target = &quot;jobId&quot;)\r\n    UserDto userToUserDto(User user);\r\n\r\nNote that `source = &quot;job.idJob&quot;` refers to the field `idJob` of the field `job` in the `User` source object, and `target = &quot;jobId&quot;` to the field `jobId` of the `UserDto` target object.\r\n\r\nSee the [MapStruct Reference Guide](https://mapstruct.org/documentation/stable/reference/html/) for more detailed information on how to use MapStruct.","title":"Mapstruct: how to convert a integer in a object to a integer","body":"<p>Add a <code>@Mapping</code> attribute above your <code>userToUserDto</code> method:</p>\n<pre><code>@Mapping(source = &quot;job.idJob&quot;, target = &quot;jobId&quot;)\nUserDto userToUserDto(User user);\n</code></pre>\n<p>Note that <code>source = &quot;job.idJob&quot;</code> refers to the field <code>idJob</code> of the field <code>job</code> in the <code>User</code> source object, and <code>target = &quot;jobId&quot;</code> to the field <code>jobId</code> of the <code>UserDto</code> target object.</p>\n<p>See the <a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"nofollow noreferrer\">MapStruct Reference Guide</a> for more detailed information on how to use MapStruct.</p>\n"}],"owner":{"account_id":13330803,"reputation":321,"user_id":12388549,"display_name":"Rodrigo R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1066,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69632480,"answer_count":1,"score":0,"last_activity_date":1634653246,"creation_date":1634651933,"question_id":69632244,"body_markdown":"How can i use Java Mapstruct to map a User to UserDto?\r\n\r\n    public class User {\r\n    \tprivate Integer idUser;\r\n        private Job job;\r\n    }\r\n    \r\n    public class Job {\r\n        private Integer idJob;\r\n        private String name;\r\n    }\r\n    \r\n    public class UserDto {\r\n        private Integer idUser;\r\n        private Integer jobId;\r\n    }\r\n\r\nDo a simple method like below didn&#39;t work because it&#39;s not mapping user.job.user atribute to userDto.jobId atribute\r\n\r\n    UserDto userToUserDto(User user);\r\n\r\nThat&#39;s is a usual problem when you need to pass a ORM entity to a DTO","title":"Mapstruct: how to convert a integer in a object to a integer","body":"<p>How can i use Java Mapstruct to map a User to UserDto?</p>\n<pre><code>public class User {\n    private Integer idUser;\n    private Job job;\n}\n\npublic class Job {\n    private Integer idJob;\n    private String name;\n}\n\npublic class UserDto {\n    private Integer idUser;\n    private Integer jobId;\n}\n</code></pre>\n<p>Do a simple method like below didn't work because it's not mapping user.job.user atribute to userDto.jobId atribute</p>\n<pre><code>UserDto userToUserDto(User user);\n</code></pre>\n<p>That's is a usual problem when you need to pass a ORM entity to a DTO</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1634635091,"post_id":69628096,"comment_id":123071544,"body_markdown":"1. `testId` is your sort key - what is your partition key? 2. *few identical items under tests* - identical in terms of what? duration? 3. does this need to be universal aka. change all dupes (by duration I presume)? will you know the IDs of the dupes beforehand? if not, you will need to get the item first to then check for dupes; we need more info please :)","body":"1. <code>testId</code> is your sort key - what is your partition key? 2. <i>few identical items under tests</i> - identical in terms of what? duration? 3. does this need to be universal aka. change all dupes (by duration I presume)? will you know the IDs of the dupes beforehand? if not, you will need to get the item first to then check for dupes; we need more info please :)"},{"owner":{"account_id":16682392,"reputation":574,"user_id":12057138,"display_name":"PloniStacker"},"score":0,"creation_date":1634638767,"post_id":69628096,"comment_id":123073165,"body_markdown":"My partition key is userId and its mostly identical on all items. I mean identical as far as keys, they all share duration, typeId, interval and quantity. By dups you mean duplications? Yes, duration (the key of which value I&#39;d like to update) is always the same on all three objects under &quot;tests&quot;. I can always get the item as json and then update it using jason path but there must be an elegant way to do this using Table.updateItem","body":"My partition key is userId and its mostly identical on all items. I mean identical as far as keys, they all share duration, typeId, interval and quantity. By dups you mean duplications? Yes, duration (the key of which value I&#39;d like to update) is always the same on all three objects under &quot;tests&quot;. I can always get the item as json and then update it using jason path but there must be an elegant way to do this using Table.updateItem"},{"owner":{"account_id":16060849,"reputation":2089,"user_id":11591758,"display_name":"lynkfox"},"score":0,"creation_date":1634647520,"post_id":69628096,"comment_id":123076900,"body_markdown":"if this is your intent, you might consider a different dynamo strategy. Perhaps PK of test name, SK of the date of the tests (if you are running the test more than once a day, or some other value that would result in many tests together that you could search against) and then each atribute is a Map type attribute with the attribute name of the test ID, containing the json of the test.","body":"if this is your intent, you might consider a different dynamo strategy. Perhaps PK of test name, SK of the date of the tests (if you are running the test more than once a day, or some other value that would result in many tests together that you could search against) and then each atribute is a Map type attribute with the attribute name of the test ID, containing the json of the test."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634652699,"creation_date":1634638857,"answer_id":69629101,"question_id":69628096,"body_markdown":"Based on my understanding of DynamoDb and Expressions, is that you need to tell dynamodb to drill into the attribute you want.\r\n\r\nYour code is telling it to update Duration...but where is Duration?  It is not at the top level of the item.  \r\n\r\nSee if this would work:\r\n\r\n\r\n    Table table = dynamoDB.getTable(tableName);\r\n        Map&lt;String, String&gt; expressionAttributeNames = new HashMap&lt;String, String&gt;();\r\n    expressionAttributeNames.put(&quot;#Dur&quot;, &quot;duration&quot;);\r\n    expressionAttributeNames.put(&quot;#Test&quot;, &quot;Tests&quot;);\r\n\r\n\r\n    Map&lt;String, Object&gt; expressionAttributeValues = new HashMap&lt;String, Object&gt;();\r\n    expressionAttributeValues.put(&quot;:val1&quot;, &quot;2222&quot;);\r\n\r\n    UpdateItemOutcome outcome =  table.updateItem(\r\n            &quot;testId&quot;,         \r\n             &quot;1234&quot;,           \r\n            &quot;set #Test.#Dur :val1&quot;, \r\n            expressionAttributeNames,\r\n            expressionAttributeValues);\r\n\r\n\r\n=== Edited === \r\n\r\n    ValueMap valueMap = new ValueMap().withNumber(&quot;:dur&quot;, 2222));\r\n    \r\n    UpdateItemSpec updateItemSpec = new UpdateItemSpec()\r\n          .withPrimaryKey(&quot;key&quot;, year)\r\n          .withUpdateExpression(&quot;set Tests.duration = :dur&quot;)\r\n          .withValueMap(valueMap)\r\n          .withReturnValues(ReturnValue.UPDATED_NEW);\r\n    \r\n    UpdateItemOutcome updateItemOutcome = table.updateItem(updateItemSpec);\r\n\r\n\r\n=== Edited ====\r\n\r\n    UpdateItemSpec updateItemSpec = new UpdateItemSpec()\r\n        .withPrimaryKey(&quot;key&quot;, &quot;primaryKey&quot;)\r\n        .withUpdateExpression(&quot;set Tests.#duration = :value&quot;)\r\n        .withNameMap(new NameMap().with(&quot;#duration&quot;, &quot;duration&quot;))\r\n        .withValueMap(new ValueMap().withNumber(&quot;:value&quot;, 2222))\r\n        .withReturnValues(ReturnValue.UPDATED_NEW);\r\n\r\n","title":"AWS Java SDK DynamoDB update expression for a &quot;complex&quot; item","body":"<p>Based on my understanding of DynamoDb and Expressions, is that you need to tell dynamodb to drill into the attribute you want.</p>\n<p>Your code is telling it to update Duration...but where is Duration?  It is not at the top level of the item.</p>\n<p>See if this would work:</p>\n<pre><code>Table table = dynamoDB.getTable(tableName);\n    Map&lt;String, String&gt; expressionAttributeNames = new HashMap&lt;String, String&gt;();\nexpressionAttributeNames.put(&quot;#Dur&quot;, &quot;duration&quot;);\nexpressionAttributeNames.put(&quot;#Test&quot;, &quot;Tests&quot;);\n\n\nMap&lt;String, Object&gt; expressionAttributeValues = new HashMap&lt;String, Object&gt;();\nexpressionAttributeValues.put(&quot;:val1&quot;, &quot;2222&quot;);\n\nUpdateItemOutcome outcome =  table.updateItem(\n        &quot;testId&quot;,         \n         &quot;1234&quot;,           \n        &quot;set #Test.#Dur :val1&quot;, \n        expressionAttributeNames,\n        expressionAttributeValues);\n</code></pre>\n<p>=== Edited ===</p>\n<pre><code>ValueMap valueMap = new ValueMap().withNumber(&quot;:dur&quot;, 2222));\n\nUpdateItemSpec updateItemSpec = new UpdateItemSpec()\n      .withPrimaryKey(&quot;key&quot;, year)\n      .withUpdateExpression(&quot;set Tests.duration = :dur&quot;)\n      .withValueMap(valueMap)\n      .withReturnValues(ReturnValue.UPDATED_NEW);\n\nUpdateItemOutcome updateItemOutcome = table.updateItem(updateItemSpec);\n</code></pre>\n<p>=== Edited ====</p>\n<pre><code>UpdateItemSpec updateItemSpec = new UpdateItemSpec()\n    .withPrimaryKey(&quot;key&quot;, &quot;primaryKey&quot;)\n    .withUpdateExpression(&quot;set Tests.#duration = :value&quot;)\n    .withNameMap(new NameMap().with(&quot;#duration&quot;, &quot;duration&quot;))\n    .withValueMap(new ValueMap().withNumber(&quot;:value&quot;, 2222))\n    .withReturnValues(ReturnValue.UPDATED_NEW);\n</code></pre>\n"}],"owner":{"account_id":16682392,"reputation":574,"user_id":12057138,"display_name":"PloniStacker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634652699,"creation_date":1634634776,"question_id":69628096,"body_markdown":"So I have the following item where **testId** is the sort key:\r\n\r\n    {\r\n     &quot;userId&quot;: &quot;admin&quot;,\r\n     &quot;testId&quot;: &quot;1234&quot;,\r\n     &quot;picture&quot;: &quot;abstract&quot;,\r\n     &quot;numOfUsers&quot;: 1,\r\n     &quot;Tests&quot;: [\r\n      {\r\n       &quot;duration&quot;: 1234,\r\n       &quot;typeId&quot;: &quot;2345&quot;,\r\n       &quot;interval&quot;: 450000,\r\n       &quot;quantity&quot;: 333333\r\n      },\r\n      {\r\n       &quot;duration&quot;: 1234,\r\n       &quot;typeId&quot;: &quot;6789&quot;,\r\n       &quot;interval&quot;: 450000,\r\n       &quot;quantity&quot;: 333333\r\n      },\r\n      {\r\n       &quot;duration&quot;: 1234,\r\n       &quot;typeId&quot;: &quot;2020&quot;,\r\n       &quot;interval&quot;: 450000,\r\n       &quot;quantity&quot;: 333333\r\n      }\r\n     ]\r\n    }\r\n\r\nAs you can see, there are a few identical items under tests. My question is how do I update all of them with the same value? What I mean by that is that, for example, I would like to update duration on all three objects from 1234 to 2222.\r\n\r\nHere is the code I&#39;ve tested: \r\n\r\n        Table table = dynamoDB.getTable(tableName);\r\n        Map&lt;String, String&gt; expressionAttributeNames = new HashMap&lt;String, String&gt;();\r\n        expressionAttributeNames.put(&quot;#A&quot;, &quot;Duration&quot;);\r\n\r\n        Map&lt;String, Object&gt; expressionAttributeValues = new HashMap&lt;String, Object&gt;();\r\n        expressionAttributeValues.put(&quot;:val1&quot;, &quot;2222&quot;);\r\n\r\n        UpdateItemOutcome outcome =  table.updateItem(\r\n                &quot;testId&quot;,         \r\n                 &quot;1234&quot;,           \r\n                &quot;set #A :val1&quot;, \r\n                expressionAttributeNames,\r\n                expressionAttributeValues);\r\n\r\nAny help would be appreciated :) \r\n","title":"AWS Java SDK DynamoDB update expression for a &quot;complex&quot; item","body":"<p>So I have the following item where <strong>testId</strong> is the sort key:</p>\n<pre><code>{\n &quot;userId&quot;: &quot;admin&quot;,\n &quot;testId&quot;: &quot;1234&quot;,\n &quot;picture&quot;: &quot;abstract&quot;,\n &quot;numOfUsers&quot;: 1,\n &quot;Tests&quot;: [\n  {\n   &quot;duration&quot;: 1234,\n   &quot;typeId&quot;: &quot;2345&quot;,\n   &quot;interval&quot;: 450000,\n   &quot;quantity&quot;: 333333\n  },\n  {\n   &quot;duration&quot;: 1234,\n   &quot;typeId&quot;: &quot;6789&quot;,\n   &quot;interval&quot;: 450000,\n   &quot;quantity&quot;: 333333\n  },\n  {\n   &quot;duration&quot;: 1234,\n   &quot;typeId&quot;: &quot;2020&quot;,\n   &quot;interval&quot;: 450000,\n   &quot;quantity&quot;: 333333\n  }\n ]\n}\n</code></pre>\n<p>As you can see, there are a few identical items under tests. My question is how do I update all of them with the same value? What I mean by that is that, for example, I would like to update duration on all three objects from 1234 to 2222.</p>\n<p>Here is the code I've tested:</p>\n<pre><code>    Table table = dynamoDB.getTable(tableName);\n    Map&lt;String, String&gt; expressionAttributeNames = new HashMap&lt;String, String&gt;();\n    expressionAttributeNames.put(&quot;#A&quot;, &quot;Duration&quot;);\n\n    Map&lt;String, Object&gt; expressionAttributeValues = new HashMap&lt;String, Object&gt;();\n    expressionAttributeValues.put(&quot;:val1&quot;, &quot;2222&quot;);\n\n    UpdateItemOutcome outcome =  table.updateItem(\n            &quot;testId&quot;,         \n             &quot;1234&quot;,           \n            &quot;set #A :val1&quot;, \n            expressionAttributeNames,\n            expressionAttributeValues);\n</code></pre>\n<p>Any help would be appreciated :)</p>\n"},{"tags":["java","android","unit-testing","jvm","xmlpullparser"],"answers":[{"tags":[],"owner":{"account_id":6306504,"reputation":4207,"user_id":4899439,"accept_rate":87,"display_name":"Eric Leibenguth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1436344960,"creation_date":1436344960,"answer_id":31287631,"question_id":31272732,"body_markdown":"I managed to go around this problem by using [Robolectric][1] in Android-Studio. I followed [this tutorial][2], and stumbled upon [this other problem][3].\r\n\r\nNow it works fine except [I can&#39;t see the standard output][4] when running tests.\r\n\r\n\r\n  [1]: http://robolectric.org/getting-started/\r\n  [2]: http://www.vogella.com/tutorials/Robolectric/article.html\r\n  [3]: https://stackoverflow.com/questions/31285965/java-lang-nosuchmethoderror-java-lang-system-arraycopy-using-xmlpullparser-with\r\n  [4]: https://stackoverflow.com/questions/31275976/gradle-dsl-method-not-found-test","title":"Unit testing with Android XmlPullParser on the JVM","body":"<p>I managed to go around this problem by using <a href=\"http://robolectric.org/getting-started/\" rel=\"nofollow noreferrer\">Robolectric</a> in Android-Studio. I followed <a href=\"http://www.vogella.com/tutorials/Robolectric/article.html\" rel=\"nofollow noreferrer\">this tutorial</a>, and stumbled upon <a href=\"https://stackoverflow.com/questions/31285965/java-lang-nosuchmethoderror-java-lang-system-arraycopy-using-xmlpullparser-with\">this other problem</a>.</p>\n\n<p>Now it works fine except <a href=\"https://stackoverflow.com/questions/31275976/gradle-dsl-method-not-found-test\">I can't see the standard output</a> when running tests.</p>\n"},{"tags":[],"owner":{"account_id":8568143,"reputation":1,"user_id":6420016,"display_name":"K7coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634652105,"creation_date":1634652105,"answer_id":69632290,"question_id":31272732,"body_markdown":"Just like previous comment, I think [Robolectric](http://robolectric.org/) is the way to go.\r\n\r\nI think a code sample could be the welcome so here is mine:\r\n\r\nAdd the dependancy to you build.gradle :\r\nIf you&#39;re using android support lib : `testImplementation &#39;org.robolectric:robolectric:3.8&#39;` (AndroidX starts at 4.0)\r\n\r\nFor other versions : https://mvnrepository.com/artifact/org.robolectric/robolectric\r\n\r\n\r\nThen in test : (This is Kotlin btw)\r\n\r\n    @RunWith(RobolectricTestRunner::class)\r\n    class XmlParserRelTest {\r\n      private lateinit var xmlParserClass : XmlParserClass \r\n\r\n      @Before\r\n      internal fun setUp() {\r\n          xmlParserClass = XmlParserRel(Xml.newPullParser())\r\n      }\r\n\r\n      @Test\r\n      fun validFile_parseRelFile_contentIsPresent() {\r\n          val inputStream = getFileInputStream(&quot;test.xml&quot;)\r\n\r\n          val xmlOutput = xmlParserClass.parseRelFile(inputStream )\r\n        \r\n          assertThat(xmlOutput.attribute1).isEqualTo(&quot;something&quot;)\r\n      }\r\n    }\r\n\r\n","title":"Unit testing with Android XmlPullParser on the JVM","body":"<p>Just like previous comment, I think <a href=\"http://robolectric.org/\" rel=\"nofollow noreferrer\">Robolectric</a> is the way to go.</p>\n<p>I think a code sample could be the welcome so here is mine:</p>\n<p>Add the dependancy to you build.gradle :\nIf you're using android support lib : <code>testImplementation 'org.robolectric:robolectric:3.8'</code> (AndroidX starts at 4.0)</p>\n<p>For other versions : <a href=\"https://mvnrepository.com/artifact/org.robolectric/robolectric\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.robolectric/robolectric</a></p>\n<p>Then in test : (This is Kotlin btw)</p>\n<pre><code>@RunWith(RobolectricTestRunner::class)\nclass XmlParserRelTest {\n  private lateinit var xmlParserClass : XmlParserClass \n\n  @Before\n  internal fun setUp() {\n      xmlParserClass = XmlParserRel(Xml.newPullParser())\n  }\n\n  @Test\n  fun validFile_parseRelFile_contentIsPresent() {\n      val inputStream = getFileInputStream(&quot;test.xml&quot;)\n\n      val xmlOutput = xmlParserClass.parseRelFile(inputStream )\n    \n      assertThat(xmlOutput.attribute1).isEqualTo(&quot;something&quot;)\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6306504,"reputation":4207,"user_id":4899439,"accept_rate":87,"display_name":"Eric Leibenguth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1884,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":31287631,"answer_count":2,"score":6,"last_activity_date":1634652105,"creation_date":1436282340,"question_id":31272732,"body_markdown":"I&#39;m trying to set-up unit test cases for my application. \r\n\r\nA critical part of the app parses XML files with `org.xmlpull.v1.XmlPullParser`. As this part is low-level, isolated and independant from activities, context, views, etc., I really wanted to make it run locally on the JVM, to avoid having to plug or emulate a device all the time.\r\n\r\nHowever when running something like this on the JVM:\r\n\r\n    XmlPullParser parser = Xml.newPullParser();\r\n    parser.setInput(in, null);\r\n    ...\r\n\r\nI get the famous:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Stub!\r\n    \tat android.util.Xml.newPullParser(Xml.java:15)\r\n        ...\r\n\r\nIs there a way around this?","title":"Unit testing with Android XmlPullParser on the JVM","body":"<p>I'm trying to set-up unit test cases for my application. </p>\n\n<p>A critical part of the app parses XML files with <code>org.xmlpull.v1.XmlPullParser</code>. As this part is low-level, isolated and independant from activities, context, views, etc., I really wanted to make it run locally on the JVM, to avoid having to plug or emulate a device all the time.</p>\n\n<p>However when running something like this on the JVM:</p>\n\n<pre><code>XmlPullParser parser = Xml.newPullParser();\nparser.setInput(in, null);\n...\n</code></pre>\n\n<p>I get the famous:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: Stub!\n    at android.util.Xml.newPullParser(Xml.java:15)\n    ...\n</code></pre>\n\n<p>Is there a way around this?</p>\n"},{"tags":["java","colors","random"],"answers":[{"tags":[],"owner":{"account_id":3430,"reputation":35419,"user_id":4950,"accept_rate":92,"display_name":"Rob Stevenson-Leggett"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1419221538,"creation_date":1290436013,"answer_id":4246400,"question_id":4246351,"body_markdown":"If you don&#39;t want it to look horrible I&#39;d suggest defining a list of colours in an array and then using a random number generator to pick one.\r\n\r\nIf you want a truly random colour you can just generate 3 random numbers from 0 to 255 and then use the Color(int,int,int) constructor to create a new Color instance.\r\n\r\n    Random randomGenerator = new Random();\r\n    int red = randomGenerator.nextInt(256);\r\n    int green = randomGenerator.nextInt(256);\r\n    int blue = randomGenerator.nextInt(256);\r\n    \r\n    Color randomColour = new Color(red,green,blue);\r\n\r\n","title":"Creating random colour in Java?","body":"<p>If you don't want it to look horrible I'd suggest defining a list of colours in an array and then using a random number generator to pick one.</p>\n\n<p>If you want a truly random colour you can just generate 3 random numbers from 0 to 255 and then use the Color(int,int,int) constructor to create a new Color instance.</p>\n\n<pre><code>Random randomGenerator = new Random();\nint red = randomGenerator.nextInt(256);\nint green = randomGenerator.nextInt(256);\nint blue = randomGenerator.nextInt(256);\n\nColor randomColour = new Color(red,green,blue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63517,"reputation":11633,"user_id":187986,"accept_rate":79,"display_name":"Jason Nichols"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290436042,"creation_date":1290436042,"answer_id":4246407,"question_id":4246351,"body_markdown":"You can instantiate a color with three floats (r, g, b), each between 0.0 and 1.0: http://download.oracle.com/javase/6/docs/api/java/awt/Color.html#Color(float,%20float,%20float).\r\n\r\nUsing Java&#39;s Random class you can easily instantiate a new random color as such:\r\n\r\n    Random r = new Random();\r\n    Color randomColor = new Color(r.nextFloat(), r.nextFloat(), r.nextFloat());\r\n\r\nI can&#39;t guarantee they&#39;ll all be pretty, but they&#39;ll be random =)","title":"Creating random colour in Java?","body":"<p>You can instantiate a color with three floats (r, g, b), each between 0.0 and 1.0: <a href=\"http://download.oracle.com/javase/6/docs/api/java/awt/Color.html#Color(float,%20float,%20float\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/awt/Color.html#Color(float,%20float,%20float</a>).</p>\n\n<p>Using Java's Random class you can easily instantiate a new random color as such:</p>\n\n<pre><code>Random r = new Random();\nColor randomColor = new Color(r.nextFloat(), r.nextFloat(), r.nextFloat());\n</code></pre>\n\n<p>I can't guarantee they'll all be pretty, but they'll be random =)</p>\n"},{"tags":[],"owner":{"account_id":191287,"reputation":21385,"user_id":431780,"accept_rate":79,"display_name":"Greg"},"down_vote_count":3,"up_vote_count":132,"is_accepted":true,"score":129,"last_activity_date":1437761423,"creation_date":1290436097,"answer_id":4246418,"question_id":4246351,"body_markdown":"Use the random library:\r\n\r\n    import java.util.Random;\r\n\r\nThen create a random generator:\r\n\r\n    Random rand = new Random();\r\n\r\nAs colours are separated into red green and blue, you can create a new random colour by creating random primary colours:\r\n\r\n    // Java &#39;Color&#39; class takes 3 floats, from 0 to 1.\r\n    float r = rand.nextFloat();\r\n    float g = rand.nextFloat();\r\n    float b = rand.nextFloat();\r\n\r\nThen to finally create the colour, pass the primary colours into the constructor:\r\n\r\n    Color randomColor = new Color(r, g, b);\r\n\r\n\r\n\r\n---\r\n\r\n\r\nYou can also create different random effects using this method, such as creating random colours with more emphasis on certain colours ... pass in less green and blue to produce a &quot;pinker&quot; random colour.\r\n\r\n    // Will produce a random colour with more red in it (usually &quot;pink-ish&quot;)\r\n    float r = rand.nextFloat();\r\n    float g = rand.nextFloat() / 2f;\r\n    float b = rand.nextFloat() / 2f;\r\n\r\nOr to ensure that only &quot;light&quot; colours are generated, you can generate colours that are always &gt; 0.5 of each colour element:\r\n\r\n    // Will produce only bright / light colours:\r\n    float r = rand.nextFloat() / 2f + 0.5;\r\n    float g = rand.nextFloat() / 2f + 0.5;\r\n    float b = rand.nextFloat() / 2f + 0.5;\r\n\r\nThere are various other colour functions that can be used with the `Color` class, such as making the colour brighter:\r\n\r\n    randomColor.brighter();\r\n\r\nAn overview of the `Color` class can be read here: http://download.oracle.com/javase/6/docs/api/java/awt/Color.html ","title":"Creating random colour in Java?","body":"<p>Use the random library:</p>\n\n<pre><code>import java.util.Random;\n</code></pre>\n\n<p>Then create a random generator:</p>\n\n<pre><code>Random rand = new Random();\n</code></pre>\n\n<p>As colours are separated into red green and blue, you can create a new random colour by creating random primary colours:</p>\n\n<pre><code>// Java 'Color' class takes 3 floats, from 0 to 1.\nfloat r = rand.nextFloat();\nfloat g = rand.nextFloat();\nfloat b = rand.nextFloat();\n</code></pre>\n\n<p>Then to finally create the colour, pass the primary colours into the constructor:</p>\n\n<pre><code>Color randomColor = new Color(r, g, b);\n</code></pre>\n\n<hr>\n\n<p>You can also create different random effects using this method, such as creating random colours with more emphasis on certain colours ... pass in less green and blue to produce a \"pinker\" random colour.</p>\n\n<pre><code>// Will produce a random colour with more red in it (usually \"pink-ish\")\nfloat r = rand.nextFloat();\nfloat g = rand.nextFloat() / 2f;\nfloat b = rand.nextFloat() / 2f;\n</code></pre>\n\n<p>Or to ensure that only \"light\" colours are generated, you can generate colours that are always > 0.5 of each colour element:</p>\n\n<pre><code>// Will produce only bright / light colours:\nfloat r = rand.nextFloat() / 2f + 0.5;\nfloat g = rand.nextFloat() / 2f + 0.5;\nfloat b = rand.nextFloat() / 2f + 0.5;\n</code></pre>\n\n<p>There are various other colour functions that can be used with the <code>Color</code> class, such as making the colour brighter:</p>\n\n<pre><code>randomColor.brighter();\n</code></pre>\n\n<p>An overview of the <code>Color</code> class can be read here: <a href=\"http://download.oracle.com/javase/6/docs/api/java/awt/Color.html\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/api/java/awt/Color.html</a> </p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1290436222,"creation_date":1290436222,"answer_id":4246446,"question_id":4246351,"body_markdown":"Sure. Just generate a color using random RGB values. Like:\r\n\r\n    public Color randomColor()\r\n    {\r\n      Random random=new Random(); // Probably really put this somewhere where it gets executed only once\r\n      int red=random.nextInt(256);\r\n      int green=random.nextInt(256);\r\n      int blue=random.nextInt(256);\r\n      return new Color(red, green, blue);\r\n    }\r\n\r\nYou might want to vary up the generation of the random numbers if you don&#39;t like the colors it comes up with. I&#39;d guess these will tend to be fairly dark.","title":"Creating random colour in Java?","body":"<p>Sure. Just generate a color using random RGB values. Like:</p>\n\n<pre><code>public Color randomColor()\n{\n  Random random=new Random(); // Probably really put this somewhere where it gets executed only once\n  int red=random.nextInt(256);\n  int green=random.nextInt(256);\n  int blue=random.nextInt(256);\n  return new Color(red, green, blue);\n}\n</code></pre>\n\n<p>You might want to vary up the generation of the random numbers if you don't like the colors it comes up with. I'd guess these will tend to be fairly dark.</p>\n"},{"tags":[],"owner":{"account_id":134312,"reputation":11572,"user_id":336355,"display_name":"Ishtar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290440222,"creation_date":1290440222,"answer_id":4247116,"question_id":4246351,"body_markdown":"You seem to want light random colors. Not sure what you mean exactly with light. But if you want random &#39;rainbow colors&#39;, try this\r\n\r\n    Random r = new Random();\r\n    Color c = Color.getHSBColor(r.nextFloat(),//random hue, color\r\n                    1.0,//full saturation, 1.0 for &#39;colorful&#39; colors, 0.0 for grey\r\n                    1.0 //1.0 for bright, 0.0 for black\r\n                    );\r\n\r\nSearch for HSB color model for more information.","title":"Creating random colour in Java?","body":"<p>You seem to want light random colors. Not sure what you mean exactly with light. But if you want random 'rainbow colors', try this</p>\n\n<pre><code>Random r = new Random();\nColor c = Color.getHSBColor(r.nextFloat(),//random hue, color\n                1.0,//full saturation, 1.0 for 'colorful' colors, 0.0 for grey\n                1.0 //1.0 for bright, 0.0 for black\n                );\n</code></pre>\n\n<p>Search for HSB color model for more information.</p>\n"},{"tags":[],"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1290440707,"creation_date":1290440707,"answer_id":4247219,"question_id":4246351,"body_markdown":"If you want pleasing, pastel colors, it is best to use the HLS system.\r\n\r\n    final float hue = random.nextFloat();\r\n    // Saturation between 0.1 and 0.3\r\n    final float saturation = (random.nextInt(2000) + 1000) / 10000f;\r\n    final float luminance = 0.9f;\r\n    final Color color = Color.getHSBColor(hue, saturation, luminance);","title":"Creating random colour in Java?","body":"<p>If you want pleasing, pastel colors, it is best to use the HLS system.</p>\n\n<pre><code>final float hue = random.nextFloat();\n// Saturation between 0.1 and 0.3\nfinal float saturation = (random.nextInt(2000) + 1000) / 10000f;\nfinal float luminance = 0.9f;\nfinal Color color = Color.getHSBColor(hue, saturation, luminance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1149623,"reputation":516,"user_id":1131605,"display_name":"Komplot"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1325750048,"creation_date":1325750048,"answer_id":8739276,"question_id":4246351,"body_markdown":"Copy paste this for bright pastel rainbow colors \r\n\r\n    int R = (int)(Math.random()*256);\r\n    int G = (int)(Math.random()*256);\r\n    int B= (int)(Math.random()*256);\r\n    Color color = new Color(R, G, B); //random color, but can be bright or dull\r\n    \r\n    //to get rainbow, pastel colors\r\n    Random random = new Random();\r\n    final float hue = random.nextFloat();\r\n    final float saturation = 0.9f;//1.0 for brilliant, 0.0 for dull\r\n    final float luminance = 1.0f; //1.0 for brighter, 0.0 for black\r\n    color = Color.getHSBColor(hue, saturation, luminance);","title":"Creating random colour in Java?","body":"<p>Copy paste this for bright pastel rainbow colors </p>\n\n<pre><code>int R = (int)(Math.random()*256);\nint G = (int)(Math.random()*256);\nint B= (int)(Math.random()*256);\nColor color = new Color(R, G, B); //random color, but can be bright or dull\n\n//to get rainbow, pastel colors\nRandom random = new Random();\nfinal float hue = random.nextFloat();\nfinal float saturation = 0.9f;//1.0 for brilliant, 0.0 for dull\nfinal float luminance = 1.0f; //1.0 for brighter, 0.0 for black\ncolor = Color.getHSBColor(hue, saturation, luminance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2197735,"reputation":60,"user_id":1942990,"display_name":"user1942990"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1384699122,"creation_date":1370724849,"answer_id":17003757,"question_id":4246351,"body_markdown":"    package com.adil.util;\r\n\r\n    /**\r\n    * The Class RandomColor.\r\n    *\r\n    * @author Adil OUIDAD\r\n    * @URL : http://kizana.fr\r\n    */\r\n    public class RandomColor {\t\t\r\n\t    /**\r\n \t    * Gets the random color.\r\n \t    *\r\n \t    * @return the random color\r\n \t    */\r\n \t    public static String getRandomColor() {\r\n             String[] letters = {&quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;};\r\n             String color = &quot;#&quot;;\r\n             for (int i = 0; i &lt; 6; i++ ) {\r\n                color += letters[(int) Math.round(Math.random() * 15)];\r\n             }\r\n             return color;\r\n        }\r\n    }\r\n","title":"Creating random colour in Java?","body":"<pre><code>package com.adil.util;\n\n/**\n* The Class RandomColor.\n*\n* @author Adil OUIDAD\n* @URL : http://kizana.fr\n*/\npublic class RandomColor {      \n    /**\n    * Gets the random color.\n    *\n    * @return the random color\n    */\n    public static String getRandomColor() {\n         String[] letters = {\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"};\n         String color = \"#\";\n         for (int i = 0; i &lt; 6; i++ ) {\n            color += letters[(int) Math.round(Math.random() * 15)];\n         }\n         return color;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1384699567,"creation_date":1384699567,"answer_id":20032024,"question_id":4246351,"body_markdown":"A one-liner for random RGB values:\r\n\r\n    new Color((int)(Math.random() * 0x1000000))","title":"Creating random colour in Java?","body":"<p>A one-liner for random RGB values:</p>\n\n<pre><code>new Color((int)(Math.random() * 0x1000000))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1333564,"reputation":1235,"user_id":1276856,"accept_rate":78,"display_name":"Shaun Wild"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1392118308,"creation_date":1392118308,"answer_id":21700660,"question_id":4246351,"body_markdown":"I know it&#39;s a bit late for this answer, but I&#39;ve not seen anyone else put this.\r\n\r\nLike Greg said, you want to use the Random class\r\n\r\n    Random rand = new Random();\r\n\r\nbut the difference I&#39;m going to say is simple do this:\r\n\r\n    Color color = new Color(rand.nextInt(0xFFFFFF));\r\n\r\nAnd it&#39;s as simple as that! no need to generate lots of different floats.","title":"Creating random colour in Java?","body":"<p>I know it's a bit late for this answer, but I've not seen anyone else put this.</p>\n\n<p>Like Greg said, you want to use the Random class</p>\n\n<pre><code>Random rand = new Random();\n</code></pre>\n\n<p>but the difference I'm going to say is simple do this:</p>\n\n<pre><code>Color color = new Color(rand.nextInt(0xFFFFFF));\n</code></pre>\n\n<p>And it's as simple as that! no need to generate lots of different floats.</p>\n"},{"tags":[],"owner":{"account_id":1042649,"reputation":37922,"user_id":1048340,"accept_rate":100,"display_name":"Jared Rummler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461970528,"creation_date":1421657646,"answer_id":28020858,"question_id":4246351,"body_markdown":"Here is a method for getting a random color:\r\n\r\n    private static Random sRandom;\r\n\r\n    public static synchronized int randomColor() {\r\n        if (sRandom == null) {\r\n            sRandom = new Random();\r\n        }\r\n        return 0xff000000 + 256 * 256 * sRandom.nextInt(256) + 256 * sRandom.nextInt(256)\r\n                + sRandom.nextInt(256);\r\n    }\r\n\r\nBenefits:\r\n\r\n - Get the integer representation which can be used with `java.awt.Color` or `android.graphics.Color`\r\n - Keep a static reference to `Random`.","title":"Creating random colour in Java?","body":"<p>Here is a method for getting a random color:</p>\n\n<pre><code>private static Random sRandom;\n\npublic static synchronized int randomColor() {\n    if (sRandom == null) {\n        sRandom = new Random();\n    }\n    return 0xff000000 + 256 * 256 * sRandom.nextInt(256) + 256 * sRandom.nextInt(256)\n            + sRandom.nextInt(256);\n}\n</code></pre>\n\n<p>Benefits:</p>\n\n<ul>\n<li>Get the integer representation which can be used with <code>java.awt.Color</code> or <code>android.graphics.Color</code></li>\n<li>Keep a static reference to <code>Random</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":480568,"reputation":7345,"user_id":893872,"display_name":"Durul Dalkanat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1451321106,"creation_date":1451321106,"answer_id":34497346,"question_id":4246351,"body_markdown":"    import android.graphics.Color;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class ColorDiagram {\r\n        // Member variables (properties about the object)\r\n        public String[] mColors = {\r\n                &quot;#39add1&quot;, // light blue\r\n                &quot;#3079ab&quot;, // dark blue\r\n                &quot;#c25975&quot;, // mauve\r\n                &quot;#e15258&quot;, // red\r\n                &quot;#f9845b&quot;, // orange\r\n                &quot;#838cc7&quot;, // lavender\r\n                &quot;#7d669e&quot;, // purple\r\n                &quot;#53bbb4&quot;, // aqua\r\n                &quot;#51b46d&quot;, // green\r\n                &quot;#e0ab18&quot;, // mustard\r\n                &quot;#637a91&quot;, // dark gray\r\n                &quot;#f092b0&quot;, // pink\r\n                &quot;#b7c0c7&quot;  // light gray\r\n        };\r\n    \r\n        // Method (abilities: things the object can do)\r\n        public int getColor() {\r\n            String color = &quot;&quot;;\r\n    \r\n            // Randomly select a fact\r\n            Random randomGenerator = new Random(); // Construct a new Random number generator\r\n            int randomNumber = randomGenerator.nextInt(mColors.length);\r\n    \r\n            color = mColors[randomNumber];\r\n            int colorAsInt = Color.parseColor(color);\r\n    \r\n            return colorAsInt;\r\n        }\r\n    }\r\n\r\n","title":"Creating random colour in Java?","body":"<pre><code>import android.graphics.Color;\n\nimport java.util.Random;\n\npublic class ColorDiagram {\n    // Member variables (properties about the object)\n    public String[] mColors = {\n            \"#39add1\", // light blue\n            \"#3079ab\", // dark blue\n            \"#c25975\", // mauve\n            \"#e15258\", // red\n            \"#f9845b\", // orange\n            \"#838cc7\", // lavender\n            \"#7d669e\", // purple\n            \"#53bbb4\", // aqua\n            \"#51b46d\", // green\n            \"#e0ab18\", // mustard\n            \"#637a91\", // dark gray\n            \"#f092b0\", // pink\n            \"#b7c0c7\"  // light gray\n    };\n\n    // Method (abilities: things the object can do)\n    public int getColor() {\n        String color = \"\";\n\n        // Randomly select a fact\n        Random randomGenerator = new Random(); // Construct a new Random number generator\n        int randomNumber = randomGenerator.nextInt(mColors.length);\n\n        color = mColors[randomNumber];\n        int colorAsInt = Color.parseColor(color);\n\n        return colorAsInt;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11597050,"reputation":494,"user_id":8495479,"accept_rate":50,"display_name":"Deepak Kumbhar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1515763895,"creation_date":1515763895,"answer_id":48227323,"question_id":4246351,"body_markdown":"I have used this simple and clever way for creating random color in Java,\r\n\r\n    Random random = new Random();\r\n    \t\tSystem.out.println(String.format(&quot;#%06x&quot;, random.nextInt(256*256*256)));\r\n\r\nWhere **#%06x** gives you zero-padded hex (always 6 characters long).","title":"Creating random colour in Java?","body":"<p>I have used this simple and clever way for creating random color in Java,</p>\n\n<pre><code>Random random = new Random();\n        System.out.println(String.format(\"#%06x\", random.nextInt(256*256*256)));\n</code></pre>\n\n<p>Where <strong>#%06x</strong> gives you zero-padded hex (always 6 characters long).</p>\n"}],"owner":{"account_id":239111,"reputation":1585,"user_id":508468,"accept_rate":66,"display_name":"Elton.fd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280790,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":4246418,"answer_count":13,"score":72,"last_activity_date":1634651890,"creation_date":1290435776,"question_id":4246351,"body_markdown":"I want to draw random coloured points on a JPanel in a Java application. Is there any method to create random colours?","title":"Creating random colour in Java?","body":"<p>I want to draw random coloured points on a JPanel in a Java application. Is there any method to create random colours?</p>\n"},{"tags":["java","performance","groovy","performance-testing","beanshell"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1509975588,"post_id":47137956,"comment_id":81225772,"body_markdown":"When you say it takes a very long time, are you executing this in a loop?","body":"When you say it takes a very long time, are you executing this in a loop?"},{"owner":{"account_id":10324607,"reputation":1937,"user_id":7616442,"accept_rate":75,"display_name":"Mehdi Bouzidi"},"score":0,"creation_date":1509975667,"post_id":47137956,"comment_id":81225819,"body_markdown":"Yes, **100&#39;000** iterations @DodgyCodeException","body":"Yes, <b>100&#39;000</b> iterations @DodgyCodeException"},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":2,"creation_date":1509976367,"post_id":47137956,"comment_id":81226267,"body_markdown":"Are you repeatedly compiling the script in each iteration? It&#39;s not the script itself that is taking time to run; it&#39;s the compiling of it. I think it&#39;s because Groovy compiles it into Java bytecode and then runs it, while Beanshell just rus the actual script as it interprets it.","body":"Are you repeatedly compiling the script in each iteration? It&#39;s not the script itself that is taking time to run; it&#39;s the compiling of it. I think it&#39;s because Groovy compiles it into Java bytecode and then runs it, while Beanshell just rus the actual script as it interprets it."},{"owner":{"account_id":10324607,"reputation":1937,"user_id":7616442,"accept_rate":75,"display_name":"Mehdi Bouzidi"},"score":0,"creation_date":1509976716,"post_id":47137956,"comment_id":81226487,"body_markdown":"@DodgyCodeException Updated my question with the **Main** method","body":"@DodgyCodeException Updated my question with the <b>Main</b> method"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1509978187,"creation_date":1509977000,"answer_id":47138714,"question_id":47137956,"body_markdown":"You better use [Groovy][1] 2 compiled statically feature\r\n\r\n&gt;Since version 2, Groovy can also be compiled statically, offering type inference, and performance near that of Java\r\n\r\nIn your case for each iteration call same script outside of the loop:\r\n\r\n    compiledScript = ((Compilable) scriptEngine).compile(script);\r\n    compiledScript.eval(binding);\r\n\r\nAlso script can be marked as [CompileStatic][2], for example:\r\n\r\n    import groovy.transform.CompileStatic\r\n    \r\n    @CompileStatic\r\n    int squarePlusOne(int num) {\r\n       num * num + 1\r\n    }\r\n    \r\n    assert squarePlusOne(3) == 10 \r\n\r\n[1]:https://en.wikipedia.org/wiki/Groovy_(programming_language)\r\n\r\n[2]:http://groovy-lang.org/releasenotes/groovy-2.0.html","title":"Great difference in Time Execution Groovy vs Beanshell","body":"<p>You better use <a href=\"https://en.wikipedia.org/wiki/Groovy_(programming_language)\" rel=\"nofollow noreferrer\">Groovy</a> 2 compiled statically feature</p>\n\n<blockquote>\n  <p>Since version 2, Groovy can also be compiled statically, offering type inference, and performance near that of Java</p>\n</blockquote>\n\n<p>In your case for each iteration call same script outside of the loop:</p>\n\n<pre><code>compiledScript = ((Compilable) scriptEngine).compile(script);\ncompiledScript.eval(binding);\n</code></pre>\n\n<p>Also script can be marked as <a href=\"http://groovy-lang.org/releasenotes/groovy-2.0.html\" rel=\"nofollow noreferrer\">CompileStatic</a>, for example:</p>\n\n<pre><code>import groovy.transform.CompileStatic\n\n@CompileStatic\nint squarePlusOne(int num) {\n   num * num + 1\n}\n\nassert squarePlusOne(3) == 10 \n</code></pre>\n"}],"owner":{"account_id":10324607,"reputation":1937,"user_id":7616442,"accept_rate":75,"display_name":"Mehdi Bouzidi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1281,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47138714,"answer_count":1,"score":4,"last_activity_date":1634651887,"creation_date":1509974431,"question_id":47137956,"body_markdown":"I&#39;m interpreting a same script in both Groovy and Beanshell.\r\n\r\nGroovy takes a very long time(26 mins 25 secs), while Beanshell takes only 20 secs.\r\n\r\nI&#39;m very astonished by the difference and I don&#39;t understand why, Is Beanshell is better? Am I using Groovy is wrong?\r\n\r\n**Groovy code**:\r\n\r\n    public  void calcule_irg(double salaire) throws Throwable{\r\n            Binding binding = new Binding();\r\n            binding.setVariable(&quot;MNT_943&quot;, 0);\r\n           String script=&quot;double formule_irg(Double salaireSoumis) {\\n&quot; +\r\n    &quot;    int salaire = salaireSoumis.intValue();\\n&quot; +\r\n    &quot;    salaire = salaire / 10 * 10;\\n&quot; +\r\n    &quot;                \\n&quot; +\r\n    &quot;    Double impots = 0.0;\\n&quot; +\r\n    &quot;                \\n&quot; +\r\n    &quot;    if (salaire &gt;= 15000 &amp;&amp; salaire &lt;= 22500) {\\n&quot; +\r\n    &quot;        impots = ((salaire - 10000) * 0.2) - 1000.0;\\n&quot; +\r\n    &quot;    } else if (salaire &gt; 22500 &amp;&amp; salaire &lt;= 30000) {\\n&quot; +\r\n    &quot;        impots = ((salaire - 10000) * 0.2);\\n&quot; +\r\n    &quot;        impots = impots - (impots * 0.4);\\n&quot; +\r\n    &quot;    } else if (salaire &gt;= 30001 &amp;&amp; salaire &lt;= 120000) {\\n&quot; +\r\n    &quot;        impots = 2500 + ((salaire - 30000) * 0.3);\\n&quot; +\r\n    &quot;    } else if (salaire &gt;= 120001) {\\n&quot; +\r\n    &quot;        impots = 29500 + ((salaire - 120000) * 0.35);\\n&quot; +\r\n    &quot;    } else {\\n&quot; +\r\n    &quot;        impots = 0.0;\\n&quot; +\r\n    &quot;    }\\n&quot; +\r\n    &quot;                \\n&quot; +\r\n    \r\n    &quot;    return impots.intValue();\\n&quot; +\r\n    &quot;} \\n&quot; +\r\n    &quot;\\n&quot; +\r\n    &quot;MNT_943 = formule_irg(&quot;+salaire+&quot;) ;\\n&quot;;\r\n            GroovyShell shell = new GroovyShell(binding);\r\n            shell.evaluate(script);\r\n            \r\n            Double   value =(Double) shell.getVariable(&quot;MNT_943&quot;);\r\n       \r\n        }\r\n\r\n**Beanshell code**:\r\n \r\n\r\n    public  void calcule_irg(double salaire) throws EvalError {\r\n               Interpreter i = new Interpreter();  // Construct an interpreter\r\n           \r\n            // Eval a statement and get the result\r\n             String script=&quot;double formule_irg(Double salaireSoumis) {\\n&quot; +\r\n    &quot;    int salaire = salaireSoumis.intValue();\\n&quot; +\r\n    &quot;    salaire = salaire / 10 * 10;\\n&quot; +\r\n    &quot;                \\n&quot; +\r\n    &quot;    Double impots = 0.0;\\n&quot; +\r\n    &quot;                \\n&quot; +\r\n    &quot;    if (salaire &gt;= 15000 &amp;&amp; salaire &lt;= 22500) {\\n&quot; +\r\n    &quot;        impots = ((salaire - 10000) * 0.2) - 1000.0;\\n&quot; +\r\n    &quot;    } else if (salaire &gt; 22500 &amp;&amp; salaire &lt;= 30000) {\\n&quot; +\r\n    &quot;        impots = ((salaire - 10000) * 0.2);\\n&quot; +\r\n    &quot;        impots = impots - (impots * 0.4);\\n&quot; +\r\n    &quot;    } else if (salaire &gt;= 30001 &amp;&amp; salaire &lt;= 120000) {\\n&quot; +\r\n    &quot;        impots = 2500 + ((salaire - 30000) * 0.3);\\n&quot; +\r\n    &quot;    } else if (salaire &gt;= 120001) {\\n&quot; +\r\n    &quot;        impots = 29500 + ((salaire - 120000) * 0.35);\\n&quot; +\r\n    &quot;    } else {\\n&quot; +\r\n    &quot;        impots = 0.0;\\n&quot; +\r\n    &quot;    }\\n&quot; +\r\n    &quot;                \\n&quot; +\r\n    \r\n    &quot;    return impots.intValue();\\n&quot; +\r\n    &quot;} \\n&quot; +\r\n    &quot;\\n&quot; +\r\n    &quot;MNT_943 = formule_irg(&quot;+salaire+&quot;) ;\\n&quot;;\r\n            i.eval(script);\r\n        \r\n          }\r\n\r\n**Main**:\r\n\r\n   \r\n\r\n     public static void main(String[] args) throws Throwable{\r\n                \r\n                Groovy g=new Groovy();// The function mentioned below is defined in a class named Groovy\r\n                Beanshell s=new Beanshell();// The function mentioned below is defined in a class named Beanshell\r\n                \r\n                \r\n                String fileName = &quot;c://salaires100K.txt&quot;;\r\n                \r\n                //read file into stream, try-with-resources\r\n                try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {//This file contains 100&#39;000 Salary, means 100&#39;000 lines\r\n                    \r\n                    stream.forEach( n-&gt;{\r\n                        try {\r\n                          g.calcule_irg(Double.parseDouble(n));//I use either this \r\n                          //s.calcule_irg(Double.parseDouble(n));//Or this\r\n                        } catch (Throwable ex) {\r\n                            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                        }\r\n                    });\r\n                    \r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                \r\n            }","title":"Great difference in Time Execution Groovy vs Beanshell","body":"<p>I'm interpreting a same script in both Groovy and Beanshell.</p>\n\n<p>Groovy takes a very long time(26 mins 25 secs), while Beanshell takes only 20 secs.</p>\n\n<p>I'm very astonished by the difference and I don't understand why, Is Beanshell is better? Am I using Groovy is wrong?</p>\n\n<p><strong>Groovy code</strong>:</p>\n\n<pre><code>public  void calcule_irg(double salaire) throws Throwable{\n        Binding binding = new Binding();\n        binding.setVariable(\"MNT_943\", 0);\n       String script=\"double formule_irg(Double salaireSoumis) {\\n\" +\n\"    int salaire = salaireSoumis.intValue();\\n\" +\n\"    salaire = salaire / 10 * 10;\\n\" +\n\"                \\n\" +\n\"    Double impots = 0.0;\\n\" +\n\"                \\n\" +\n\"    if (salaire &gt;= 15000 &amp;&amp; salaire &lt;= 22500) {\\n\" +\n\"        impots = ((salaire - 10000) * 0.2) - 1000.0;\\n\" +\n\"    } else if (salaire &gt; 22500 &amp;&amp; salaire &lt;= 30000) {\\n\" +\n\"        impots = ((salaire - 10000) * 0.2);\\n\" +\n\"        impots = impots - (impots * 0.4);\\n\" +\n\"    } else if (salaire &gt;= 30001 &amp;&amp; salaire &lt;= 120000) {\\n\" +\n\"        impots = 2500 + ((salaire - 30000) * 0.3);\\n\" +\n\"    } else if (salaire &gt;= 120001) {\\n\" +\n\"        impots = 29500 + ((salaire - 120000) * 0.35);\\n\" +\n\"    } else {\\n\" +\n\"        impots = 0.0;\\n\" +\n\"    }\\n\" +\n\"                \\n\" +\n\n\"    return impots.intValue();\\n\" +\n\"} \\n\" +\n\"\\n\" +\n\"MNT_943 = formule_irg(\"+salaire+\") ;\\n\";\n        GroovyShell shell = new GroovyShell(binding);\n        shell.evaluate(script);\n\n        Double   value =(Double) shell.getVariable(\"MNT_943\");\n\n    }\n</code></pre>\n\n<p><strong>Beanshell code</strong>:</p>\n\n<pre><code>public  void calcule_irg(double salaire) throws EvalError {\n           Interpreter i = new Interpreter();  // Construct an interpreter\n\n        // Eval a statement and get the result\n         String script=\"double formule_irg(Double salaireSoumis) {\\n\" +\n\"    int salaire = salaireSoumis.intValue();\\n\" +\n\"    salaire = salaire / 10 * 10;\\n\" +\n\"                \\n\" +\n\"    Double impots = 0.0;\\n\" +\n\"                \\n\" +\n\"    if (salaire &gt;= 15000 &amp;&amp; salaire &lt;= 22500) {\\n\" +\n\"        impots = ((salaire - 10000) * 0.2) - 1000.0;\\n\" +\n\"    } else if (salaire &gt; 22500 &amp;&amp; salaire &lt;= 30000) {\\n\" +\n\"        impots = ((salaire - 10000) * 0.2);\\n\" +\n\"        impots = impots - (impots * 0.4);\\n\" +\n\"    } else if (salaire &gt;= 30001 &amp;&amp; salaire &lt;= 120000) {\\n\" +\n\"        impots = 2500 + ((salaire - 30000) * 0.3);\\n\" +\n\"    } else if (salaire &gt;= 120001) {\\n\" +\n\"        impots = 29500 + ((salaire - 120000) * 0.35);\\n\" +\n\"    } else {\\n\" +\n\"        impots = 0.0;\\n\" +\n\"    }\\n\" +\n\"                \\n\" +\n\n\"    return impots.intValue();\\n\" +\n\"} \\n\" +\n\"\\n\" +\n\"MNT_943 = formule_irg(\"+salaire+\") ;\\n\";\n        i.eval(script);\n\n      }\n</code></pre>\n\n<p><strong>Main</strong>:</p>\n\n<pre><code> public static void main(String[] args) throws Throwable{\n\n            Groovy g=new Groovy();// The function mentioned below is defined in a class named Groovy\n            Beanshell s=new Beanshell();// The function mentioned below is defined in a class named Beanshell\n\n\n            String fileName = \"c://salaires100K.txt\";\n\n            //read file into stream, try-with-resources\n            try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {//This file contains 100'000 Salary, means 100'000 lines\n\n                stream.forEach( n-&gt;{\n                    try {\n                      g.calcule_irg(Double.parseDouble(n));//I use either this \n                      //s.calcule_irg(Double.parseDouble(n));//Or this\n                    } catch (Throwable ex) {\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                    }\n                });\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n</code></pre>\n"},{"tags":["java","android","imgur","networkonmainthread"],"comments":[{"owner":{"account_id":4532473,"reputation":3004,"user_id":3682535,"accept_rate":92,"display_name":"rupinderjeet"},"score":1,"creation_date":1634649223,"post_id":69631484,"comment_id":123077753,"body_markdown":"Execute `upload()` function in a background thread. Or, use something like [Retrofit](https://github.com/square/retrofit) to create your API requests. [related docs](https://developer.android.com/reference/android/os/NetworkOnMainThreadException)","body":"Execute <code>upload()</code> function in a background thread. Or, use something like <a href=\"https://github.com/square/retrofit\" rel=\"nofollow noreferrer\">Retrofit</a> to create your API requests. <a href=\"https://developer.android.com/reference/android/os/NetworkOnMainThreadException\" rel=\"nofollow noreferrer\">related docs</a>"},{"owner":{"account_id":16014011,"reputation":340,"user_id":11557264,"display_name":"Shardul Birje"},"score":0,"creation_date":1634649365,"post_id":69631484,"comment_id":123077813,"body_markdown":"@rupinderjeet I&#39;m sorry but what&#39;s a background thread?","body":"@rupinderjeet I&#39;m sorry but what&#39;s a background thread?"},{"owner":{"account_id":4532473,"reputation":3004,"user_id":3682535,"accept_rate":92,"display_name":"rupinderjeet"},"score":1,"creation_date":1634649641,"post_id":69631484,"comment_id":123077942,"body_markdown":"Main thread is responsible for drawing your UI (activities, fragments, views). Android doesn&#39;t allow you to execute network requests on this thread because these requests will block Main thread. So, instead, we use a background thread that can execute CPU or I/O tasks without effecting app&#39;s UI and animations. [Read this blog post](https://www.androiddesignpatterns.com/2012/06/app-force-close-honeycomb-ics.html) to know why.","body":"Main thread is responsible for drawing your UI (activities, fragments, views). Android doesn&#39;t allow you to execute network requests on this thread because these requests will block Main thread. So, instead, we use a background thread that can execute CPU or I/O tasks without effecting app&#39;s UI and animations. <a href=\"https://www.androiddesignpatterns.com/2012/06/app-force-close-honeycomb-ics.html\" rel=\"nofollow noreferrer\">Read this blog post</a> to know why."}],"answers":[{"tags":[],"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634651738,"creation_date":1634651241,"answer_id":69632047,"question_id":69631484,"body_markdown":"Run your upload() function on background thread:\r\n    \r\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n                        if (result.getResultCode() == Activity.RESULT_OK) {\r\n                            //Bitmap part\r\n                            Intent data = result.getData();\r\n                            Bitmap captureImage=(Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                            //Base-64 part \r\n                            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                            captureImage.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\r\n                            byte[] byteArray = byteArrayOutputStream .toByteArray();\r\n                            String encoded = Base64.encodeToString(byteArray, Base64.DEFAULT);\r\n\r\n    new Thread(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n        upload(encoded);  //background stuff\r\n        runOnUiThread(new Runnable() {\r\n            public void run() {\r\n                // do onPostExecute stuff\r\n            }\r\n        });\r\n    }\r\n    }).start();                        \r\n                            //profilePic.setImageBitmap(captureImage);\r\n                        }\r\n                    }\r\n                })\r\n\r\nNote:The above solution is not the best way of doing async task.The best option is Rxjava/RxAndroid for asynchronous task.","title":"Error while uploading images to Imgur with api in Android","body":"<p>Run your upload() function on background thread:</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        //Bitmap part\n                        Intent data = result.getData();\n                        Bitmap captureImage=(Bitmap) data.getExtras().get(&quot;data&quot;);\n                        //Base-64 part \n                        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                        captureImage.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\n                        byte[] byteArray = byteArrayOutputStream .toByteArray();\n                        String encoded = Base64.encodeToString(byteArray, Base64.DEFAULT);\n\nnew Thread(new Runnable() {\n@Override\npublic void run() {\n    upload(encoded);  //background stuff\n    runOnUiThread(new Runnable() {\n        public void run() {\n            // do onPostExecute stuff\n        }\n    });\n}\n}).start();                        \n                        //profilePic.setImageBitmap(captureImage);\n                    }\n                }\n            })\n</code></pre>\n<p>Note:The above solution is not the best way of doing async task.The best option is Rxjava/RxAndroid for asynchronous task.</p>\n"}],"owner":{"account_id":16014011,"reputation":340,"user_id":11557264,"display_name":"Shardul Birje"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69632047,"answer_count":1,"score":0,"last_activity_date":1634651738,"creation_date":1634649173,"question_id":69631484,"body_markdown":"I am working with the Imgur API for uploading images. The image is clicked using a camera and stored as a bitmap which is further converted into Base-64 String.\r\n\r\nI&#39;m then passing the Base-64 string to a function which should upload the image to Imgur. But the code returns the Error: \r\n``android.os.NetworkOnMainThreadException``\r\n\r\nImage capture and convert to Base-64:\r\n\r\n```java\r\nActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n                        if (result.getResultCode() == Activity.RESULT_OK) {\r\n                            //Bitmap part\r\n                            Intent data = result.getData();\r\n                            Bitmap captureImage=(Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                            //Base-64 part \r\n                            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                            captureImage.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\r\n                            byte[] byteArray = byteArrayOutputStream .toByteArray();\r\n                            String encoded = Base64.encodeToString(byteArray, Base64.DEFAULT);\r\n\r\n                            upload(encoded);\r\n                            //profilePic.setImageBitmap(captureImage);\r\n                        }\r\n                    }\r\n                });\r\n        imageButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //Camera Capture\r\n                Intent intent=new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                someActivityResultLauncher.launch(intent);\r\n            }\r\n        });\r\n\r\n```\r\n\r\n\r\nCode to upload:\r\n```java\r\npublic void upload(String encoded){\r\n        OkHttpClient client = new OkHttpClient().newBuilder()\r\n                .build();\r\n        MediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\r\n        RequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n                .addFormDataPart(&quot;image&quot;,encoded)\r\n                .build();\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://api.imgur.com/3/image&quot;)\r\n                .method(&quot;POST&quot;, body)\r\n                .addHeader(&quot;Authorization&quot;, &quot;Client-ID {{MY_ID}}&quot;)\r\n                .build();\r\n        try {\r\n            Response response = client.newCall(request).execute();\r\n            Log.wtf(&quot;RESPONSE&quot;,&quot;&quot;+response);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;m using Android Studio and running the app on an AVD (API-30) if that matters.","title":"Error while uploading images to Imgur with api in Android","body":"<p>I am working with the Imgur API for uploading images. The image is clicked using a camera and stored as a bitmap which is further converted into Base-64 String.</p>\n<p>I'm then passing the Base-64 string to a function which should upload the image to Imgur. But the code returns the Error:\n<code>android.os.NetworkOnMainThreadException</code></p>\n<p>Image capture and convert to Base-64:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\n                    @Override\n                    public void onActivityResult(ActivityResult result) {\n                        if (result.getResultCode() == Activity.RESULT_OK) {\n                            //Bitmap part\n                            Intent data = result.getData();\n                            Bitmap captureImage=(Bitmap) data.getExtras().get(&quot;data&quot;);\n                            //Base-64 part \n                            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                            captureImage.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\n                            byte[] byteArray = byteArrayOutputStream .toByteArray();\n                            String encoded = Base64.encodeToString(byteArray, Base64.DEFAULT);\n\n                            upload(encoded);\n                            //profilePic.setImageBitmap(captureImage);\n                        }\n                    }\n                });\n        imageButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //Camera Capture\n                Intent intent=new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                someActivityResultLauncher.launch(intent);\n            }\n        });\n\n</code></pre>\n<p>Code to upload:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void upload(String encoded){\n        OkHttpClient client = new OkHttpClient().newBuilder()\n                .build();\n        MediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\n        RequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\n                .addFormDataPart(&quot;image&quot;,encoded)\n                .build();\n        Request request = new Request.Builder()\n                .url(&quot;https://api.imgur.com/3/image&quot;)\n                .method(&quot;POST&quot;, body)\n                .addHeader(&quot;Authorization&quot;, &quot;Client-ID {{MY_ID}}&quot;)\n                .build();\n        try {\n            Response response = client.newCall(request).execute();\n            Log.wtf(&quot;RESPONSE&quot;,&quot;&quot;+response);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I'm using Android Studio and running the app on an AVD (API-30) if that matters.</p>\n"},{"tags":["java","android","kotlin","nao-robot","pepper"],"answers":[{"tags":[],"owner":{"account_id":4744969,"reputation":2149,"user_id":3836562,"display_name":"Victor Pal&#233;ologue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634651640,"creation_date":1634651640,"answer_id":69632159,"question_id":69375997,"body_markdown":"The API about engagement zones has not been ported to the Qi SDK.\r\nHowever it is not so hard to re-implement it.\r\n[The documentation][1] describes them as follows:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI found [this function `isInArc`][3] that you can use with the position of the human&#39;s head relative to the robot:\r\n\r\n```kotlin\r\nfun zoneOfHuman(human: Human, robotFrame: Frame): Int {\r\n  val headFrame = human.headFrame\r\n  val timedTransform = headFrame.computeTransform(robotFrame)\r\n  val transform = timedTransform.transform\r\n  return if (isInArc(transform, 1.5, PI / 2)) 1\r\n    else if (isInArc(transform, 2.5, PI / 2)) 2\r\n    else 3\r\n}\r\n```\r\n\r\nNow you can call that regularly using a Kotlin [`timer`][4] on the human you are interested in, typically [the one that Pepper already engages autonomously][5]. Actually you can start an interaction quite reliably without caring about the zones that much.\r\n\r\n  [1]: https://developer.softbankrobotics.com/nao6/naoqi-developer-guide/naoqi-apis/naoqi-people-perception/alengagementzones\r\n  [2]: https://i.stack.imgur.com/jXaJ0.png\r\n  [3]: https://github.com/aldebaran/pddl-playground-for-pepper/blob/badec9952039d69afb4347ef147dc7d2399c5b99/app/src/main/java/com/softbankrobotics/pddl/pddlplaygroundforpepper/qisdk/TransformUtils.kt#L11\r\n  [4]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.concurrent/timer.html\r\n  [5]: https://developer.softbankrobotics.com/pepper-qisdk/api/perceptions/reference/human#getting-the-human-engaged-by-pepper","title":"Are the ALEngagementZones API still usable in QiSDK (Pepper with NAOqi 2.9.5)?","body":"<p>The API about engagement zones has not been ported to the Qi SDK.\nHowever it is not so hard to re-implement it.\n<a href=\"https://developer.softbankrobotics.com/nao6/naoqi-developer-guide/naoqi-apis/naoqi-people-perception/alengagementzones\" rel=\"nofollow noreferrer\">The documentation</a> describes them as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/jXaJ0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXaJ0.png\" alt=\"enter image description here\" /></a></p>\n<p>I found <a href=\"https://github.com/aldebaran/pddl-playground-for-pepper/blob/badec9952039d69afb4347ef147dc7d2399c5b99/app/src/main/java/com/softbankrobotics/pddl/pddlplaygroundforpepper/qisdk/TransformUtils.kt#L11\" rel=\"nofollow noreferrer\">this function <code>isInArc</code></a> that you can use with the position of the human's head relative to the robot:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun zoneOfHuman(human: Human, robotFrame: Frame): Int {\n  val headFrame = human.headFrame\n  val timedTransform = headFrame.computeTransform(robotFrame)\n  val transform = timedTransform.transform\n  return if (isInArc(transform, 1.5, PI / 2)) 1\n    else if (isInArc(transform, 2.5, PI / 2)) 2\n    else 3\n}\n</code></pre>\n<p>Now you can call that regularly using a Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.concurrent/timer.html\" rel=\"nofollow noreferrer\"><code>timer</code></a> on the human you are interested in, typically <a href=\"https://developer.softbankrobotics.com/pepper-qisdk/api/perceptions/reference/human#getting-the-human-engaged-by-pepper\" rel=\"nofollow noreferrer\">the one that Pepper already engages autonomously</a>. Actually you can start an interaction quite reliably without caring about the zones that much.</p>\n"}],"owner":{"account_id":22894221,"reputation":23,"user_id":17033964,"display_name":"Yannic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69632159,"answer_count":1,"score":1,"last_activity_date":1634651640,"creation_date":1632916950,"question_id":69375997,"body_markdown":"Is it possible to somehow use the Engagement Zones of NAOqi 2.5 or anything similar in the newer NAOqi 2.9.5 in Android? Or is there any way to still continuously detect people in front of Pepper or close to it?\r\nCurrently, I am trying to use human awareness for that purpose, but there are no preset zones, and most of the time, Pepper does not recognize anyone.","title":"Are the ALEngagementZones API still usable in QiSDK (Pepper with NAOqi 2.9.5)?","body":"<p>Is it possible to somehow use the Engagement Zones of NAOqi 2.5 or anything similar in the newer NAOqi 2.9.5 in Android? Or is there any way to still continuously detect people in front of Pepper or close to it?\nCurrently, I am trying to use human awareness for that purpose, but there are no preset zones, and most of the time, Pepper does not recognize anyone.</p>\n"},{"tags":["java","loops","for-loop","nested-loops","shapes"],"owner":{"account_id":22826139,"reputation":11,"user_id":16975389,"display_name":"ArkBlue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634650764,"creation_date":1634648540,"question_id":69631319,"body_markdown":"The goal is to create a program where it will print a hollow shape. The user input will be the number of hollow shapes in a square.\r\n\r\nI made this program where this should be the output. [1][1] [2][2] [3][3] \r\n\r\nAs of now. this program can give the right output if the input is less than or equal to 6. Any idea how can I make this limitless? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tEZVe.png\r\n  [2]: https://i.stack.imgur.com/apgKW.png\r\n  [3]: https://i.stack.imgur.com/rQJ51.png\r\n\r\n\r\n```java\r\npackage tester;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Tester {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        int ui, sideL;\r\n\r\n        System.out.println(&quot;(Note: The number should be greater than or equal to 1: &quot;);\r\n        System.out.println(&quot;Enter a number: &quot;);\r\n\r\n        ui = input.nextInt();\r\n\r\n        sideL = (ui * (ui - 1)) + 1;\r\n\r\n        if (ui &gt;= 1) {\r\n\r\n            for (int a = 1; a &lt;= sideL; a++) {\r\n                for (int b = 1; b &lt;= sideL; b++) {\r\n                    if (a == 1 ||\r\n                        b == 1 ||\r\n                        a == ui ||\r\n                        b == ui ||\r\n                        a == sideL ||\r\n                        b == sideL ||\r\n                        a == ui + (ui - 1) ||\r\n                        b == ui + (ui - 1) ||\r\n                        a == ui - 1 + (ui + (ui - 1)) ||\r\n                        b == ui - 1 + (ui + (ui - 1)) ||\r\n                        a == ui - 1 + (ui - 1 + (ui + (ui - 1))) ||\r\n                        b == ui - 1 + (ui - 1 + (ui + (ui - 1))) ||\r\n                        a == ui - 1 + (ui - 1 + (ui - 1 + (ui + (ui - 1)))) ||\r\n                        b == ui - 1 + (ui - 1 + (ui - 1 + (ui + (ui - 1))))) {\r\n\r\n                        System.out.print(&quot;* &quot;);\r\n\r\n                    } else {\r\n                        System.out.print(&quot;  &quot;);\r\n                    }\r\n                }\r\n                System.out.println();\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Invalid input!&quot;);\r\n        }\r\n    }\r\n} \r\n```\r\n","title":"Creating a hollow shape using nested for loops (Java)","body":"<p>The goal is to create a program where it will print a hollow shape. The user input will be the number of hollow shapes in a square.</p>\n<p>I made this program where this should be the output. <a href=\"https://i.stack.imgur.com/tEZVe.png\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://i.stack.imgur.com/apgKW.png\" rel=\"nofollow noreferrer\">2</a> <a href=\"https://i.stack.imgur.com/rQJ51.png\" rel=\"nofollow noreferrer\">3</a></p>\n<p>As of now. this program can give the right output if the input is less than or equal to 6. Any idea how can I make this limitless?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package tester;\n\nimport java.util.Scanner;\n\npublic class Tester {\n\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        int ui, sideL;\n\n        System.out.println(&quot;(Note: The number should be greater than or equal to 1: &quot;);\n        System.out.println(&quot;Enter a number: &quot;);\n\n        ui = input.nextInt();\n\n        sideL = (ui * (ui - 1)) + 1;\n\n        if (ui &gt;= 1) {\n\n            for (int a = 1; a &lt;= sideL; a++) {\n                for (int b = 1; b &lt;= sideL; b++) {\n                    if (a == 1 ||\n                        b == 1 ||\n                        a == ui ||\n                        b == ui ||\n                        a == sideL ||\n                        b == sideL ||\n                        a == ui + (ui - 1) ||\n                        b == ui + (ui - 1) ||\n                        a == ui - 1 + (ui + (ui - 1)) ||\n                        b == ui - 1 + (ui + (ui - 1)) ||\n                        a == ui - 1 + (ui - 1 + (ui + (ui - 1))) ||\n                        b == ui - 1 + (ui - 1 + (ui + (ui - 1))) ||\n                        a == ui - 1 + (ui - 1 + (ui - 1 + (ui + (ui - 1)))) ||\n                        b == ui - 1 + (ui - 1 + (ui - 1 + (ui + (ui - 1))))) {\n\n                        System.out.print(&quot;* &quot;);\n\n                    } else {\n                        System.out.print(&quot;  &quot;);\n                    }\n                }\n                System.out.println();\n            }\n        } else {\n            System.out.println(&quot;Invalid input!&quot;);\n        }\n    }\n} \n</code></pre>\n"},{"tags":["java","class","inheritance","static"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1634645397,"post_id":69630464,"comment_id":123075912,"body_markdown":"I think in the case you comment, you need split your class in two, one with the functionality you need, and other with the variable, just seeing what you post, you can&#39;t simply move your class into another and extend.","body":"I think in the case you comment, you need split your class in two, one with the functionality you need, and other with the variable, just seeing what you post, you can&#39;t simply move your class into another and extend."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1634645492,"post_id":69630464,"comment_id":123075947,"body_markdown":"@AL Any example please instead of trying to explain something only words?","body":"@AL Any example please instead of trying to explain something only words?"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1634645579,"post_id":69630464,"comment_id":123075987,"body_markdown":"It seems like what you’re doing needs to be stateful? But things like services and Util classes should not have conversational state because they’re typically used concurrently by different users. Having shared state for either case seems wrong.","body":"It seems like what you’re doing needs to be stateful? But things like services and Util classes should not have conversational state because they’re typically used concurrently by different users. Having shared state for either case seems wrong."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1634646213,"post_id":69630464,"comment_id":123076266,"body_markdown":"Generally speaking, if you have a class named `Util` or `XUtil` which is just filled to the brim with a haphazard collection of static methods, that&#39;s crappy design. There are times when it&#39;s the most proper way to go, but it is rare. Case in point: `java.util.Collections` (which is a &#39;Utils&#39; class, just not named that way) has `sort`... but these days so does `list` itself which is where it should have lived in the first place.","body":"Generally speaking, if you have a class named <code>Util</code> or <code>XUtil</code> which is just filled to the brim with a haphazard collection of static methods, that&#39;s crappy design. There are times when it&#39;s the most proper way to go, but it is rare. Case in point: <code>java.util.Collections</code> (which is a &#39;Utils&#39; class, just not named that way) has <code>sort</code>... but these days so does <code>list</code> itself which is where it should have lived in the first place."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1634648772,"post_id":69630464,"comment_id":123077521,"body_markdown":"@NathanHughes What about the approach that Cris posted as answer? Is that a proper way?","body":"@NathanHughes What about the approach that Cris posted as answer? Is that a proper way?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1634648790,"post_id":69630464,"comment_id":123077531,"body_markdown":"@rzwitserloot What are you mentioning?","body":"@rzwitserloot What are you mentioning?"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1634654741,"post_id":69630464,"comment_id":123080414,"body_markdown":"Kris’ answer is good. Except having his object as an instance member of the service is questionable as I said before.","body":"Kris’ answer is good. Except having his object as an instance member of the service is questionable as I said before."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1634656144,"post_id":69630464,"comment_id":123081079,"body_markdown":"Also see https://stackoverflow.com/questions/40996614/whats-the-best-practice-for-creating-stateless-utility-classes-in-java.","body":"Also see <a href=\"https://stackoverflow.com/questions/40996614/whats-the-best-practice-for-creating-stateless-utility-classes-in-java\" title=\"whats the best practice for creating stateless utility classes in java\">stackoverflow.com/questions/40996614/&hellip;</a>."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1634656287,"post_id":69630464,"comment_id":123081154,"body_markdown":"But what is the context here ? Is this a web app deployed in a cluster? Is it a desktop application ? Or something else?","body":"But what is the context here ? Is this a web app deployed in a cluster? Is it a desktop application ? Or something else?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1634656955,"post_id":69630464,"comment_id":123081484,"body_markdown":"@NathanHughes Which instance member do you mean?","body":"@NathanHughes Which instance member do you mean?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1634656977,"post_id":69630464,"comment_id":123081495,"body_markdown":"@NathanHughes It is a web app.","body":"@NathanHughes It is a web app."}],"answers":[{"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634646530,"creation_date":1634645480,"answer_id":69630586,"question_id":69630464,"body_markdown":"One of the good approaches will be to delegate those properties as a separate object. See below:\r\n```java\r\npublic class WorkSheet{\r\n     private XSSFWorkbook workbook;\r\n     private XSSFSheet sheet;\r\n     private AtomicInteger rowCount;\r\n     public WorkSheet(String title) {\r\n       this.workbook = new XSSFWorkbook();\r\n       this.sheet = workbook.createSheet(title);\r\n       this.rowCount = new AtomicInteger(0);\r\n   }\r\n   public XSSFWorkbook getWorkbook() {\r\n     return workbook;\r\n   }\r\n   public XSSFSheet getSheet() {\r\n     return sheet;\r\n   }\r\n   public AtomicInteger getRowCount() {\r\n     return rowCount;\r\n   }  \r\n }\r\n```\r\n\r\n```java\r\npublic class DataServiceImpl implements DataService {\r\n\r\n    private static final String SHEET_TITLE = &quot;export.permission.sheetTitle&quot;;\r\n    private WorkSheet workSheet;\r\n    \r\n    @Override\r\n    public MultipartFile export() throws IOException {\r\n\r\n        workSheet = new WorkSheet(SHEET_TITLE);\r\n        // code omitted for brevity\r\n        \r\n        //then use like workSheet.getSheet()\r\n    } \r\n}\r\n```\r\n\r\nNow you can use that object anywhere you need.","title":"Moving shared methods to a Util class in Java?","body":"<p>One of the good approaches will be to delegate those properties as a separate object. See below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WorkSheet{\n     private XSSFWorkbook workbook;\n     private XSSFSheet sheet;\n     private AtomicInteger rowCount;\n     public WorkSheet(String title) {\n       this.workbook = new XSSFWorkbook();\n       this.sheet = workbook.createSheet(title);\n       this.rowCount = new AtomicInteger(0);\n   }\n   public XSSFWorkbook getWorkbook() {\n     return workbook;\n   }\n   public XSSFSheet getSheet() {\n     return sheet;\n   }\n   public AtomicInteger getRowCount() {\n     return rowCount;\n   }  \n }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataServiceImpl implements DataService {\n\n    private static final String SHEET_TITLE = &quot;export.permission.sheetTitle&quot;;\n    private WorkSheet workSheet;\n    \n    @Override\n    public MultipartFile export() throws IOException {\n\n        workSheet = new WorkSheet(SHEET_TITLE);\n        // code omitted for brevity\n        \n        //then use like workSheet.getSheet()\n    } \n}\n</code></pre>\n<p>Now you can use that object anywhere you need.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634650717,"creation_date":1634644958,"question_id":69630464,"body_markdown":"I have the following service implementation:\r\n\r\n```\r\npublic class DataServiceImpl implements DataService {\r\n\r\n    private static final String SHEET_TITLE = &quot;export.permission.sheetTitle&quot;;\r\n\r\n    private XSSFWorkbook workbook;\r\n    private XSSFSheet sheet;\r\n    private AtomicInteger rowCount;\r\n\r\n    @Override\r\n    public MultipartFile export() throws IOException {\r\n\r\n        createSheet(SHEET_TITLE);\r\n\r\n        // code omitted for brevity\r\n    }\r\n\r\n    private void createSheet(String title) {\r\n        workbook = new XSSFWorkbook();\r\n        sheet = workbook.createSheet(title);\r\n        rowCount = new AtomicInteger(0);\r\n    }\r\n}\r\n```\r\n\r\nIn this class, I have some methods e.g. `createSheet` and I want to move this method to a `Util` class, because other similar class will also use this method. \r\n\r\nHowever, as some variables e.g. `workbook`, `sheet`, `rowCount` are used in the other method in this service, I don&#39;t know if I should pass these variables to the Util method `createSheet` and then return from it, or another proper way. So, how should I move `createSheet` method to my Util class and use it from different classes? \r\n\r\n**Update:** I also have the following methods. Shoul I move them Util class? Or should I create a class for `createMultipartFile()` method just as `createSheet()` method and move only `writeTitles()` method to Util class?\r\n\r\n\r\n```\r\nprivate MultipartFile createMultipartFile(String title, String extension) throws IOException {\r\n    File outputFile = File.createTempFile(TextBundleUtil.read(title), extension);    \r\n    workbook.write(outputStream);\r\n\r\n    final FileInputStream input = new FileInputStream(outputFile);\r\n\r\n    final String fileName = TextBundleUtil.read(title).concat(extension);\r\n    return new MockMultipartFile(fileName,\r\n            fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\r\n}\r\n\r\n\r\nprivate static void writeTitles(Row row, List&lt;String&gt; titles, XSSFCellStyle style) {\r\n    for (int i = 0; i &lt; titles.size(); i++) {\r\n        Cell cell = row.createCell(i);\r\n        cell.setCellValue(titles.get(i));\r\n        cell.setCellStyle(style);\r\n    }\r\n}\r\n```","title":"Moving shared methods to a Util class in Java?","body":"<p>I have the following service implementation:</p>\n<pre><code>public class DataServiceImpl implements DataService {\n\n    private static final String SHEET_TITLE = &quot;export.permission.sheetTitle&quot;;\n\n    private XSSFWorkbook workbook;\n    private XSSFSheet sheet;\n    private AtomicInteger rowCount;\n\n    @Override\n    public MultipartFile export() throws IOException {\n\n        createSheet(SHEET_TITLE);\n\n        // code omitted for brevity\n    }\n\n    private void createSheet(String title) {\n        workbook = new XSSFWorkbook();\n        sheet = workbook.createSheet(title);\n        rowCount = new AtomicInteger(0);\n    }\n}\n</code></pre>\n<p>In this class, I have some methods e.g. <code>createSheet</code> and I want to move this method to a <code>Util</code> class, because other similar class will also use this method.</p>\n<p>However, as some variables e.g. <code>workbook</code>, <code>sheet</code>, <code>rowCount</code> are used in the other method in this service, I don't know if I should pass these variables to the Util method <code>createSheet</code> and then return from it, or another proper way. So, how should I move <code>createSheet</code> method to my Util class and use it from different classes?</p>\n<p><strong>Update:</strong> I also have the following methods. Shoul I move them Util class? Or should I create a class for <code>createMultipartFile()</code> method just as <code>createSheet()</code> method and move only <code>writeTitles()</code> method to Util class?</p>\n<pre><code>private MultipartFile createMultipartFile(String title, String extension) throws IOException {\n    File outputFile = File.createTempFile(TextBundleUtil.read(title), extension);    \n    workbook.write(outputStream);\n\n    final FileInputStream input = new FileInputStream(outputFile);\n\n    final String fileName = TextBundleUtil.read(title).concat(extension);\n    return new MockMultipartFile(fileName,\n            fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\n}\n\n\nprivate static void writeTitles(Row row, List&lt;String&gt; titles, XSSFCellStyle style) {\n    for (int i = 0; i &lt; titles.size(); i++) {\n        Cell cell = row.createCell(i);\n        cell.setCellValue(titles.get(i));\n        cell.setCellStyle(style);\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","file","upload"],"answers":[{"tags":[],"owner":{"account_id":11371379,"reputation":721,"user_id":8336869,"display_name":"Piaget Hadzizi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634645433,"creation_date":1634645433,"answer_id":69630578,"question_id":69629937,"body_markdown":"try creating a unique file name for every file, eg:\r\n```\r\nString destination = &quot;C:\\\\Users\\\\anar.memmedov\\\\Desktop\\\\app\\\\&quot; + System.nanoTime()+&quot;_&quot;+filePath.getOriginalFilename();\r\n","title":"How can I upload a file multiple times?","body":"<p>try creating a unique file name for every file, eg:</p>\n<pre><code>String destination = &quot;C:\\\\Users\\\\anar.memmedov\\\\Desktop\\\\app\\\\&quot; + System.nanoTime()+&quot;_&quot;+filePath.getOriginalFilename();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634650342,"creation_date":1634650342,"answer_id":69631808,"question_id":69629937,"body_markdown":"\r\n\r\nI changed some things and worked, and it looks like this\r\n   \r\n\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH-mm-ss&quot;);\r\n        \r\n                        String destination = &quot;C:\\\\Users\\\\anar.memmedov\\\\Desktop\\\\app\\\\&quot; + &quot;_&quot; + LocalDateTime.now().format(dateTimeFormatter) + &quot;_&quot; + filePath.getOriginalFilename();","title":"How can I upload a file multiple times?","body":"<p>I changed some things and worked, and it looks like this</p>\n<pre><code>DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH-mm-ss&quot;);\n    \n                    String destination = &quot;C:\\\\Users\\\\anar.memmedov\\\\Desktop\\\\app\\\\&quot; + &quot;_&quot; + LocalDateTime.now().format(dateTimeFormatter) + &quot;_&quot; + filePath.getOriginalFilename();\n</code></pre>\n"}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69630578,"answer_count":2,"score":0,"last_activity_date":1634650342,"creation_date":1634642766,"question_id":69629937,"body_markdown":"This is my code, I am here accept excell file and read it .After than I read of excell file of row values and insert them to database,which to the appropriate columns. At the end, I put the file in the folder that I have determined on the computer. But I am having a problem here,When I want to download the file with the same name a few times in the api, it shows that I only uploaded first time it to the folder at first,but it prints the values to the database. I can&#39;t make any logic about it, what do you think I can do here? \r\n\r\n\r\n     @Override\r\n        public ResponseEntity&lt;? extends Response&gt; acceptExcelFileAndSenderName(MultipartFile filePath, String senderName) throws IOException {\r\n            String fileName = filePath.getOriginalFilename();\r\n            if (fileName.substring(fileName.length() - 5).equals(&quot;.xlsx&quot;)) {\r\n                try (InputStream excelFile = filePath.getInputStream()) {\r\n                    String phoneNumber = &quot;&quot;;\r\n                    String textMessage = &quot;&quot;;\r\n                    Workbook workbook = new XSSFWorkbook(excelFile);\r\n                    Sheet datatypeSheet = workbook.getSheetAt(0);\r\n                    Iterator&lt;Row&gt; iterator = datatypeSheet.iterator();\r\n                    while (iterator.hasNext()) {\r\n                        Row currentRow = iterator.next();\r\n                        Iterator&lt;Cell&gt; cellIterator = currentRow.iterator();\r\n    \r\n                        while (cellIterator.hasNext()) {\r\n    \r\n                            Cell currentCell = cellIterator.next();\r\n                            if (currentCell.getCellType() == CellType.NUMERIC) {\r\n                                phoneNumber = NumberToTextConverter.toText(currentCell.getNumericCellValue());\r\n                            } else if (currentCell.getCellType() == CellType.STRING) {\r\n                                textMessage = String.valueOf(currentCell.getStringCellValue());\r\n                            }\r\n    \r\n                        }\r\n                        FileDetail fileDetail = new FileDetail();\r\n                        fileDetail.setPhoneNumber(phoneNumber);\r\n                        fileDetail.setTextMessage(textMessage);\r\n                        fileDetail.setSender(senderName);\r\n                        this.fileDetailRepository.save(fileDetail);\r\n                    }\r\n                    excelFile.close();\r\n    \r\n                    String destination = &quot;C:\\\\Users\\\\anar.memmedov\\\\Desktop\\\\app\\\\&quot; + filePath.getOriginalFilename();\r\n                    File file1 = new File(destination);\r\n                    filePath.transferTo(file1);\r\n                    return new ResponseEntity&lt;&gt;(new SuccessResponse(MessageCase.FILE_SUCCESSFULLY_WRITTEN_TO_DATABASE.getMessage(), 200), HttpStatus.OK);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return new ResponseEntity&lt;&gt;(new ErrorResponse(MessageCase.FAILED_HAPPEND_WHEN_FILE_WRITTEN_TO_DATABASE.getMessage(), 400), HttpStatus.BAD_REQUEST);\r\n        }","title":"How can I upload a file multiple times?","body":"<p>This is my code, I am here accept excell file and read it .After than I read of excell file of row values and insert them to database,which to the appropriate columns. At the end, I put the file in the folder that I have determined on the computer. But I am having a problem here,When I want to download the file with the same name a few times in the api, it shows that I only uploaded first time it to the folder at first,but it prints the values to the database. I can't make any logic about it, what do you think I can do here?</p>\n<pre><code> @Override\n    public ResponseEntity&lt;? extends Response&gt; acceptExcelFileAndSenderName(MultipartFile filePath, String senderName) throws IOException {\n        String fileName = filePath.getOriginalFilename();\n        if (fileName.substring(fileName.length() - 5).equals(&quot;.xlsx&quot;)) {\n            try (InputStream excelFile = filePath.getInputStream()) {\n                String phoneNumber = &quot;&quot;;\n                String textMessage = &quot;&quot;;\n                Workbook workbook = new XSSFWorkbook(excelFile);\n                Sheet datatypeSheet = workbook.getSheetAt(0);\n                Iterator&lt;Row&gt; iterator = datatypeSheet.iterator();\n                while (iterator.hasNext()) {\n                    Row currentRow = iterator.next();\n                    Iterator&lt;Cell&gt; cellIterator = currentRow.iterator();\n\n                    while (cellIterator.hasNext()) {\n\n                        Cell currentCell = cellIterator.next();\n                        if (currentCell.getCellType() == CellType.NUMERIC) {\n                            phoneNumber = NumberToTextConverter.toText(currentCell.getNumericCellValue());\n                        } else if (currentCell.getCellType() == CellType.STRING) {\n                            textMessage = String.valueOf(currentCell.getStringCellValue());\n                        }\n\n                    }\n                    FileDetail fileDetail = new FileDetail();\n                    fileDetail.setPhoneNumber(phoneNumber);\n                    fileDetail.setTextMessage(textMessage);\n                    fileDetail.setSender(senderName);\n                    this.fileDetailRepository.save(fileDetail);\n                }\n                excelFile.close();\n\n                String destination = &quot;C:\\\\Users\\\\anar.memmedov\\\\Desktop\\\\app\\\\&quot; + filePath.getOriginalFilename();\n                File file1 = new File(destination);\n                filePath.transferTo(file1);\n                return new ResponseEntity&lt;&gt;(new SuccessResponse(MessageCase.FILE_SUCCESSFULLY_WRITTEN_TO_DATABASE.getMessage(), 200), HttpStatus.OK);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return new ResponseEntity&lt;&gt;(new ErrorResponse(MessageCase.FAILED_HAPPEND_WHEN_FILE_WRITTEN_TO_DATABASE.getMessage(), 400), HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n"},{"tags":["java","http","http-headers","inputstream","outputstream"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1634648833,"post_id":69631130,"comment_id":123077552,"body_markdown":"Please provide a [mcve] with a full stack trace.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with a full stack trace."}],"answers":[{"tags":[],"owner":{"account_id":12264752,"reputation":2360,"user_id":8951571,"display_name":"Daniel Campos Olivares"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1634650025,"creation_date":1634650025,"answer_id":69631725,"question_id":69631130,"body_markdown":"From the documentation of `URLConnection::connect()`\r\n\r\n&gt; Opens a communications link to the resource referenced by this URL, if such a connection has not already been established.\r\n&gt;\r\n&gt; If the connect method is called when the connection has already been opened (indicated by the connected field having the value true), the call is ignored.\r\n&gt;\r\n&gt; URLConnection objects go through two phases: first they are created, then they are connected. After being created, and before being connected, various options can be specified (e.g., doInput and UseCaches). After connecting, it is an error to try to set them. Operations that depend on being connected, like getContentLength, will implicitly perform the connection, if necessary\r\n\r\nSo basically you&#39;re requiring to write in the `OutputStream` **after** you have manually opened the connection to the resource, without taking care of which flags or settings are set on that process. That won&#39;t work.\r\n\r\nActually, you shouldn&#39;t even call the method `connect()` by yourself, since the methods that depend on being connected, like `getInputStream()` and `getOutputStream()` **already will perform the connection if they need to**.\r\n\r\nRemove the line `conn.connect()`.","title":"java.net.ProtocolException: where is input being read?","body":"<p>From the documentation of <code>URLConnection::connect()</code></p>\n<blockquote>\n<p>Opens a communications link to the resource referenced by this URL, if such a connection has not already been established.</p>\n<p>If the connect method is called when the connection has already been opened (indicated by the connected field having the value true), the call is ignored.</p>\n<p>URLConnection objects go through two phases: first they are created, then they are connected. After being created, and before being connected, various options can be specified (e.g., doInput and UseCaches). After connecting, it is an error to try to set them. Operations that depend on being connected, like getContentLength, will implicitly perform the connection, if necessary</p>\n</blockquote>\n<p>So basically you're requiring to write in the <code>OutputStream</code> <strong>after</strong> you have manually opened the connection to the resource, without taking care of which flags or settings are set on that process. That won't work.</p>\n<p>Actually, you shouldn't even call the method <code>connect()</code> by yourself, since the methods that depend on being connected, like <code>getInputStream()</code> and <code>getOutputStream()</code> <strong>already will perform the connection if they need to</strong>.</p>\n<p>Remove the line <code>conn.connect()</code>.</p>\n"}],"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69631725,"answer_count":1,"score":-1,"last_activity_date":1634650025,"creation_date":1634647697,"question_id":69631130,"body_markdown":"I&#39;ve looked at multiple posts with this issue, and most/all of them have code that tries to create an inputstream before an outputstream. I get that. I didn&#39;t think I was doing that here. Where is my inputstream being created before the error?\r\n\r\n    URL url = new URL(myURL);\r\n    HttpURLConnection conn=(HttpURLConnection)url.openConnection();\r\n    conn.setRequestMethod(&quot;POST&quot;);\r\n    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    conn.setDoOutput(true);\r\n    \r\n    // Grab, configure json input as myInput\r\n    // ...\r\n    byte[] input = myInput.getBytes();\r\n    \r\n    conn.connect();\r\n    \r\n    // Write as post body\r\n    try(OutputStream os = conn.getOutputStream()) {\r\n        os.write(input);\t// &lt;-- java.net.ProtocolException Error &quot;Cannot write output after reading input&quot; here\r\n    }\r\n\r\n    // Attempt to read response using InputStream\r\n    // ...\r\n\r\n","title":"java.net.ProtocolException: where is input being read?","body":"<p>I've looked at multiple posts with this issue, and most/all of them have code that tries to create an inputstream before an outputstream. I get that. I didn't think I was doing that here. Where is my inputstream being created before the error?</p>\n<pre><code>URL url = new URL(myURL);\nHttpURLConnection conn=(HttpURLConnection)url.openConnection();\nconn.setRequestMethod(&quot;POST&quot;);\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\nconn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\nconn.setDoOutput(true);\n\n// Grab, configure json input as myInput\n// ...\nbyte[] input = myInput.getBytes();\n\nconn.connect();\n\n// Write as post body\ntry(OutputStream os = conn.getOutputStream()) {\n    os.write(input);    // &lt;-- java.net.ProtocolException Error &quot;Cannot write output after reading input&quot; here\n}\n\n// Attempt to read response using InputStream\n// ...\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":13236116,"reputation":43,"user_id":9558216,"display_name":"Pat&#39;s"},"score":0,"creation_date":1634217354,"post_id":69571401,"comment_id":122969745,"body_markdown":"@GaryRussell : Please help on the same","body":"@GaryRussell : Please help on the same"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634650022,"creation_date":1634584880,"answer_id":69621464,"question_id":69571401,"body_markdown":"Just remove the `.dltHandlerMethod(XYZ.class, &quot;xyz&quot;)`.\r\n\r\n__EDIT__\r\n\r\nThis will still create a default DLT handler which will just log the record.\r\n\r\nYou can either use a different group in the &quot;other&quot; consumer, or you can manually start the containers (except the DLT container). \r\n\r\nSet `autoStartup=&quot;false&quot;` on the `@KafkaListener`; then add this...\r\n\r\n```java\r\n@Bean\r\nApplicationRunner runner(KafkaListenerEndpointRegistry registry) {\r\n\treturn args -&gt; {\r\n\t\tregistry.getListenerContainerIds().forEach(id -&gt; {\r\n\t\t\tif (!id.endsWith(&quot;-dlt&quot;)) {\r\n\t\t\t\tregistry.getListenerContainer(id).start();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n}\r\n```","title":"DLT message consumption","body":"<p>Just remove the <code>.dltHandlerMethod(XYZ.class, &quot;xyz&quot;)</code>.</p>\n<p><strong>EDIT</strong></p>\n<p>This will still create a default DLT handler which will just log the record.</p>\n<p>You can either use a different group in the &quot;other&quot; consumer, or you can manually start the containers (except the DLT container).</p>\n<p>Set <code>autoStartup=&quot;false&quot;</code> on the <code>@KafkaListener</code>; then add this...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nApplicationRunner runner(KafkaListenerEndpointRegistry registry) {\n    return args -&gt; {\n        registry.getListenerContainerIds().forEach(id -&gt; {\n            if (!id.endsWith(&quot;-dlt&quot;)) {\n                registry.getListenerContainer(id).start();\n            }\n        });\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":13236116,"reputation":43,"user_id":9558216,"display_name":"Pat&#39;s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634650022,"creation_date":1634217316,"question_id":69571401,"body_markdown":"We are using Spring kafka 2.7 non blocking retry mechanism. During the Spring Kafka Retry Mechanism, the kafka listenser consumes the messages from main topic, retry topic and DLT Topic,\r\nWe want the listener to consume from main and retry topic only. \r\n\r\nIs there a easy way to do the setup?\r\n\r\nAs we dont want the same consumer to process the DLT messages. The DLT would also be consumed by another process, to send notification for requests.\r\n\r\n```\r\n// our configuration\r\n\r\n @Bean\r\n  public ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; kafkaListenerContainerFactory() {\r\n\r\n    ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory\r\n        = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    factory.setConsumerFactory(consumerFactory());\r\n    return factory;\r\n  }\r\n\r\n\r\n@Bean\r\n  public RetryTopicConfiguration retryTopicConfiguration(KafkaTemplate&lt;String, Object&gt; template) {\r\n\r\n    List&lt;Class&lt;? extends Throwable&gt;&gt; throwableList = Arrays.asList(IllegalArgumentException.class,\r\n        IllegalAccessException.class);\r\n\r\n    return RetryTopicConfigurationBuilder\r\n        .newInstance()\r\n        .dltHandlerMethod(XYZ.class, &quot;xyz&quot;)\r\n        .exponentialBackoff(delayMs, backoffMultiplier, maxIntervalInMs)\r\n        .maxAttempts(retryAttempt)\r\n        .notRetryOn(throwableList)\r\n        .doNotAutoCreateRetryTopics()\r\n        .listenerFactory(kafkaListenerContainerFactory())\r\n        .setTopicSuffixingStrategy(TopicSuffixingStrategy.SUFFIX_WITH_INDEX_VALUE)\r\n        .create(template);\r\n  }\r\n\r\n```\r\n\r\n","title":"DLT message consumption","body":"<p>We are using Spring kafka 2.7 non blocking retry mechanism. During the Spring Kafka Retry Mechanism, the kafka listenser consumes the messages from main topic, retry topic and DLT Topic,\nWe want the listener to consume from main and retry topic only.</p>\n<p>Is there a easy way to do the setup?</p>\n<p>As we dont want the same consumer to process the DLT messages. The DLT would also be consumed by another process, to send notification for requests.</p>\n<pre><code>// our configuration\n\n @Bean\n  public ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; kafkaListenerContainerFactory() {\n\n    ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory\n        = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n  }\n\n\n@Bean\n  public RetryTopicConfiguration retryTopicConfiguration(KafkaTemplate&lt;String, Object&gt; template) {\n\n    List&lt;Class&lt;? extends Throwable&gt;&gt; throwableList = Arrays.asList(IllegalArgumentException.class,\n        IllegalAccessException.class);\n\n    return RetryTopicConfigurationBuilder\n        .newInstance()\n        .dltHandlerMethod(XYZ.class, &quot;xyz&quot;)\n        .exponentialBackoff(delayMs, backoffMultiplier, maxIntervalInMs)\n        .maxAttempts(retryAttempt)\n        .notRetryOn(throwableList)\n        .doNotAutoCreateRetryTopics()\n        .listenerFactory(kafkaListenerContainerFactory())\n        .setTopicSuffixingStrategy(TopicSuffixingStrategy.SUFFIX_WITH_INDEX_VALUE)\n        .create(template);\n  }\n\n</code></pre>\n"},{"tags":["java","azure","unit-testing","mockito","powermockito"],"comments":[{"owner":{"account_id":23019163,"reputation":1,"user_id":17140419,"display_name":"Chinni"},"score":0,"creation_date":1634542301,"post_id":69551594,"comment_id":123042948,"body_markdown":"Issues we are facing in ElasticRepositoryTest class: \n----&gt;whenever we are using @RunWith(MockitoJUnitRunner.class), we are facing the below exceptions as,\n\n    Exception 1 : NullPointerException\n       --&gt; from ElasticRepositoryTest class the above exception hitting at line \n\t   PowerMockito.doNothing().when(client).indexAsync(Mockito.any(), Mockito.any(), Mockito.any());","body":"Issues we are facing in ElasticRepositoryTest class:  ----&gt;whenever we are using @RunWith(MockitoJUnitRunner.class), we are facing the below exceptions as,      Exception 1 : NullPointerException        --&gt; from ElasticRepositoryTest class the above exception hitting at line  \t   PowerMockito.doNothing().when(client).indexAsync(Mockito.any&zwnj;&#8203;(), Mockito.any(), Mockito.any());"},{"owner":{"account_id":23019163,"reputation":1,"user_id":17140419,"display_name":"Chinni"},"score":0,"creation_date":1634542328,"post_id":69551594,"comment_id":123042964,"body_markdown":"Exception 2 : You cannot use argument matchers outside of verification or stubbing.\n\n--&gt; whenever we are using @RunWith(PowerMockRunner.class) even though \n all lines of code got executed successfully but the execution is not getting stopped. and we are forcefully stopping the execution.\n \n please provide your valuable suggestions on this, help is much appreciated.","body":"Exception 2 : You cannot use argument matchers outside of verification or stubbing.  --&gt; whenever we are using @RunWith(PowerMockRunner.class) even though   all lines of code got executed successfully but the execution is not getting stopped. and we are forcefully stopping the execution.    please provide your valuable suggestions on this, help is much appreciated."},{"owner":{"display_name":"user1773603"},"score":0,"creation_date":1634545034,"post_id":69551594,"comment_id":123043870,"body_markdown":"Edit your question to add how this problem could be reproduce and more details about the workaround.","body":"Edit your question to add how this problem could be reproduce and more details about the workaround."},{"owner":{"account_id":23019163,"reputation":1,"user_id":17140419,"display_name":"Chinni"},"score":0,"creation_date":1634636205,"post_id":69551594,"comment_id":123072054,"body_markdown":"The test got executed successfullly, after adding @PowerMockIgnore({&quot;javax.net.ssl.*&quot;}). Thanks for your time.","body":"The test got executed successfullly, after adding @PowerMockIgnore({&quot;javax.net.ssl.*&quot;}). Thanks for your time."}],"answers":[{"tags":[],"owner":{"display_name":"user1773603"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634649891,"creation_date":1634649891,"answer_id":69631682,"question_id":69551594,"body_markdown":"Adding `@PowerMockIgnore({&quot;javax.net.ssl.*&quot;})` annotation to your Test method will ignore above exception.","title":"Getting &quot;Null Pointer Exception&quot; and &quot;You cannot use argument matchers outside of verification or Stubbing&quot; using indexAsync method in resthighlevelcl","body":"<p>Adding <code>@PowerMockIgnore({&quot;javax.net.ssl.*&quot;})</code> annotation to your Test method will ignore above exception.</p>\n"}],"owner":{"account_id":23019163,"reputation":1,"user_id":17140419,"display_name":"Chinni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634649891,"creation_date":1634111365,"question_id":69551594,"body_markdown":"    @Repository\r\n    public class ElasticRepository {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(ElasticRepository.class);\r\n    \r\n        @Autowired\r\n        private ElasticSearchConfig elasticSearchConfig;\r\n    \r\n        @Autowired\r\n        private ObjectMapper mapper;\r\n    \r\n        @Autowired\r\n        private RestHighLevelClient client;\r\n    \r\n    \r\n        public void ingest(UnifiedOrder unifiedClubOrder) throws ElasticsearchException, JsonProcessingException {\r\n            IndexRequest indexRequest = new IndexRequest(elasticSearchConfig.elasticSearchIndex)\r\n                    .id(unifiedClubOrder.getOrderNo())\r\n                    .source(mapper.writeValueAsString(unifiedClubOrder), XContentType.JSON)\r\n                    .version(unifiedClubOrder.getModifyTs().getTime())\r\n                    .versionType(VersionType.EXTERNAL_GTE);\r\n            ActionListener&lt;IndexResponse&gt; listener = new ActionListener&lt;IndexResponse&gt;() {\r\n                @Override\r\n                public void onResponse(IndexResponse indexResponse) {\r\n                    System.out.println(&quot;Posted Successfully in ES Index :: &quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Exception e) {\r\n                    System.out.println(&quot;Failed to post in ES Index :: &quot;);\r\n                    IndexRequest errorIndexRequest = new IndexRequest(elasticSearchConfig.elasticSearchErrorIndex)\r\n                            .id(unifiedClubOrder.getOrderNo())\r\n                            .source(e.getMessage(), XContentType.JSON)\r\n                            .version(unifiedClubOrder.getModifyTs().getTime())\r\n                            .versionType(VersionType.EXTERNAL_GTE);\r\n                    ActionListener&lt;IndexResponse&gt; errorIndexListener = new ActionListener&lt;IndexResponse&gt;() {\r\n                        @Override\r\n                        public void onResponse(IndexResponse indexResponse) {\r\n                            System.out.println(&quot;Posted Successfully in ES Error Index :: &quot;);\r\n                        }\r\n                        @Override\r\n                        public void onFailure(Exception e) {\r\n                            System.out.println(&quot;Failed to post in ES Error Index :: &quot;);\r\n                        }\r\n                    };\r\n                    client.indexAsync(errorIndexRequest, RequestOptions.DEFAULT, errorIndexListener);\r\n                }\r\n            };\r\n            client.indexAsync(indexRequest, RequestOptions.DEFAULT, listener);\r\n        }\r\n    }\r\n\r\n==================================================================================\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @PrepareForTest({RestHighLevelClient.class})\r\n    public class ElasticRepositoryTest {\r\n    \r\n    \t@Mock\r\n        private RestHighLevelClient client;\r\n    \r\n        @Mock\r\n        private ObjectMapper objectMapper;\r\n    \r\n        @Mock\r\n        private ElasticSearchConfig elasticSearchConfig;\r\n    \r\n        @InjectMocks\r\n        private ElasticRepository elasticRepository;\r\n    \r\n        @Test\r\n        public void ingest_Test() throws Exception {\r\n            UnifiedOrder unifiedClubOrder = new UnifiedOrder();\r\n            unifiedClubOrder.setOrderNo(&quot;12345&quot;);\r\n            unifiedClubOrder.setStatus(&quot;purchase&quot;);\r\n            unifiedClubOrder.setModifyTs(new Date());\r\n            when(objectMapper.writeValueAsString(unifiedClubOrder)).thenReturn(new ObjectMapper().writeValueAsString(unifiedClubOrder));\r\n            elasticSearchConfig.elasticSearchIndex = &quot;test&quot;;\r\n            IndexRequest indexRequest = new IndexRequest(elasticSearchConfig.elasticSearchIndex)\r\n                   .id(unifiedClubOrder.getOrderNo())\r\n                    .source(objectMapper.writeValueAsString(unifiedClubOrder), XContentType.JSON)\r\n                    .version(unifiedClubOrder.getModifyTs().getTime())                \r\n    \t\t\t\t.versionType(VersionType.EXTERNAL_GTE);        \r\n    \t\t\t\tPowerMockito.whenNew(IndexRequest.class).withAnyArguments().thenReturn(indexRequest);\r\n            ArgumentCaptor&lt;IndexRequest&gt; argumentCaptorIndexRequest = ArgumentCaptor.forClass(IndexRequest.class);\r\n            PowerMockito.doNothing().when(client).indexAsync(Mockito.any(), Mockito.any(),\r\n                    Mockito.any());\r\n            elasticRepository.ingest(unifiedClubOrder);\r\n            verify(client).indexAsync(argumentCaptorIndexRequest.capture(), Mockito.any(), Mockito.any());\r\n    \t\tassertTrue(argumentCaptorIndexRequest.getValue() instanceof IndexRequest);\r\n    \t\tassertEquals(&quot;12345&quot;, ((IndexRequest) argumentCaptorIndexRequest.getValue()));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n===========================================================================================\r\n\r\n===============Detailed Exception are below =====================================\r\n\r\n\r\n    java.lang.NullPointerException\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequestAsync(RestHighLevelClient.java:1525)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequestAsyncAndParseEntity(RestHighLevelClient.java:1498)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.indexAsync(RestHighLevelClient.java:832)\r\n    \tat com.sams.mth.club.ingestion.repository.ElasticRepositoryTest.ingest_OnResponse_Test1(ElasticRepositoryTest.java:80)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\r\n    \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\r\n    \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n==================================================================================================\r\n\r\n\r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n    Misplaced or misused argument matcher detected here:\r\n    \r\n    -&gt; at com.sams.mth.club.ingestion.repository.ElasticRepositoryTest.ingest_OnResponse_Test1(ElasticRepositoryTest.java:80)\r\n    -&gt; at com.sams.mth.club.ingestion.repository.ElasticRepositoryTest.ingest_OnResponse_Test1(ElasticRepositoryTest.java:80)\r\n    -&gt; at com.sams.mth.club.ingestion.repository.ElasticRepositoryTest.ingest_OnResponse_Test1(ElasticRepositoryTest.java:81)\r\n    \r\n    You cannot use argument matchers outside of verification or stubbing.\r\n    Examples of correct usage of argument matchers:\r\n        when(mock.get(anyInt())).thenReturn(null);\r\n        doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\r\n        verify(mock).someMethod(contains(&quot;foo&quot;))\r\n    \r\n    This message may appear after an NullPointerException if the last matcher is returning an object \r\n    like any() but the stubbed method signature expect a primitive argument, in this case,\r\n    use primitive alternatives.\r\n        when(mock.get(any())); // bad use, will raise NPE\r\n        when(mock.get(anyInt())); // correct usage use\r\n    \r\n    Also, this error might show up because you use argument matchers with methods that cannot be mocked.\r\n    Following methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\r\n    Mocking methods declared on non-public parent classes is not supported.\r\n    \r\n    \r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1$1.testFinished(DefaultInternalRunner.java:70)\r\n    \tat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:56)\r\n    \tat org.junit.runner.notification.RunNotifier$7.notifyListener(RunNotifier.java:190)\r\n    \tat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\r\n    \tat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:187)\r\n    \tat org.junit.internal.runners.model.EachTestNotifier.fireTestFinished(EachTestNotifier.java:38)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:331)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\r\n    \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\r\n    \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting &quot;Null Pointer Exception&quot; and &quot;You cannot use argument matchers outside of verification or Stubbing&quot; using indexAsync method in resthighlevelcl","body":"<pre><code>@Repository\npublic class ElasticRepository {\n\n    private static final Logger LOG = LoggerFactory.getLogger(ElasticRepository.class);\n\n    @Autowired\n    private ElasticSearchConfig elasticSearchConfig;\n\n    @Autowired\n    private ObjectMapper mapper;\n\n    @Autowired\n    private RestHighLevelClient client;\n\n\n    public void ingest(UnifiedOrder unifiedClubOrder) throws ElasticsearchException, JsonProcessingException {\n        IndexRequest indexRequest = new IndexRequest(elasticSearchConfig.elasticSearchIndex)\n                .id(unifiedClubOrder.getOrderNo())\n                .source(mapper.writeValueAsString(unifiedClubOrder), XContentType.JSON)\n                .version(unifiedClubOrder.getModifyTs().getTime())\n                .versionType(VersionType.EXTERNAL_GTE);\n        ActionListener&lt;IndexResponse&gt; listener = new ActionListener&lt;IndexResponse&gt;() {\n            @Override\n            public void onResponse(IndexResponse indexResponse) {\n                System.out.println(&quot;Posted Successfully in ES Index :: &quot;);\n            }\n\n            @Override\n            public void onFailure(Exception e) {\n                System.out.println(&quot;Failed to post in ES Index :: &quot;);\n                IndexRequest errorIndexRequest = new IndexRequest(elasticSearchConfig.elasticSearchErrorIndex)\n                        .id(unifiedClubOrder.getOrderNo())\n                        .source(e.getMessage(), XContentType.JSON)\n                        .version(unifiedClubOrder.getModifyTs().getTime())\n                        .versionType(VersionType.EXTERNAL_GTE);\n                ActionListener&lt;IndexResponse&gt; errorIndexListener = new ActionListener&lt;IndexResponse&gt;() {\n                    @Override\n                    public void onResponse(IndexResponse indexResponse) {\n                        System.out.println(&quot;Posted Successfully in ES Error Index :: &quot;);\n                    }\n                    @Override\n                    public void onFailure(Exception e) {\n                        System.out.println(&quot;Failed to post in ES Error Index :: &quot;);\n                    }\n                };\n                client.indexAsync(errorIndexRequest, RequestOptions.DEFAULT, errorIndexListener);\n            }\n        };\n        client.indexAsync(indexRequest, RequestOptions.DEFAULT, listener);\n    }\n}\n</code></pre>\n<p>==================================================================================</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@PrepareForTest({RestHighLevelClient.class})\npublic class ElasticRepositoryTest {\n\n    @Mock\n    private RestHighLevelClient client;\n\n    @Mock\n    private ObjectMapper objectMapper;\n\n    @Mock\n    private ElasticSearchConfig elasticSearchConfig;\n\n    @InjectMocks\n    private ElasticRepository elasticRepository;\n\n    @Test\n    public void ingest_Test() throws Exception {\n        UnifiedOrder unifiedClubOrder = new UnifiedOrder();\n        unifiedClubOrder.setOrderNo(&quot;12345&quot;);\n        unifiedClubOrder.setStatus(&quot;purchase&quot;);\n        unifiedClubOrder.setModifyTs(new Date());\n        when(objectMapper.writeValueAsString(unifiedClubOrder)).thenReturn(new ObjectMapper().writeValueAsString(unifiedClubOrder));\n        elasticSearchConfig.elasticSearchIndex = &quot;test&quot;;\n        IndexRequest indexRequest = new IndexRequest(elasticSearchConfig.elasticSearchIndex)\n               .id(unifiedClubOrder.getOrderNo())\n                .source(objectMapper.writeValueAsString(unifiedClubOrder), XContentType.JSON)\n                .version(unifiedClubOrder.getModifyTs().getTime())                \n                .versionType(VersionType.EXTERNAL_GTE);        \n                PowerMockito.whenNew(IndexRequest.class).withAnyArguments().thenReturn(indexRequest);\n        ArgumentCaptor&lt;IndexRequest&gt; argumentCaptorIndexRequest = ArgumentCaptor.forClass(IndexRequest.class);\n        PowerMockito.doNothing().when(client).indexAsync(Mockito.any(), Mockito.any(),\n                Mockito.any());\n        elasticRepository.ingest(unifiedClubOrder);\n        verify(client).indexAsync(argumentCaptorIndexRequest.capture(), Mockito.any(), Mockito.any());\n        assertTrue(argumentCaptorIndexRequest.getValue() instanceof IndexRequest);\n        assertEquals(&quot;12345&quot;, ((IndexRequest) argumentCaptorIndexRequest.getValue()));\n    }\n\n}\n</code></pre>\n<p>===========================================================================================</p>\n<p>===============Detailed Exception are below =====================================</p>\n<pre><code>java.lang.NullPointerException\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAsync(RestHighLevelClient.java:1525)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAsyncAndParseEntity(RestHighLevelClient.java:1498)\n    at org.elasticsearch.client.RestHighLevelClient.indexAsync(RestHighLevelClient.java:832)\n    at com.sams.mth.club.ingestion.repository.ElasticRepositoryTest.ingest_OnResponse_Test1(ElasticRepositoryTest.java:80)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\n    at org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\n    at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\n    at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>==================================================================================================</p>\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nMisplaced or misused argument matcher detected here:\n\n-&gt; at com.sams.mth.club.ingestion.repository.ElasticRepositoryTest.ingest_OnResponse_Test1(ElasticRepositoryTest.java:80)\n-&gt; at com.sams.mth.club.ingestion.repository.ElasticRepositoryTest.ingest_OnResponse_Test1(ElasticRepositoryTest.java:80)\n-&gt; at com.sams.mth.club.ingestion.repository.ElasticRepositoryTest.ingest_OnResponse_Test1(ElasticRepositoryTest.java:81)\n\nYou cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\n    when(mock.get(anyInt())).thenReturn(null);\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\n    verify(mock).someMethod(contains(&quot;foo&quot;))\n\nThis message may appear after an NullPointerException if the last matcher is returning an object \nlike any() but the stubbed method signature expect a primitive argument, in this case,\nuse primitive alternatives.\n    when(mock.get(any())); // bad use, will raise NPE\n    when(mock.get(anyInt())); // correct usage use\n\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\nMocking methods declared on non-public parent classes is not supported.\n\n\n    at org.mockito.internal.runners.DefaultInternalRunner$1$1.testFinished(DefaultInternalRunner.java:70)\n    at org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:56)\n    at org.junit.runner.notification.RunNotifier$7.notifyListener(RunNotifier.java:190)\n    at org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\n    at org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:187)\n    at org.junit.internal.runners.model.EachTestNotifier.fireTestFinished(EachTestNotifier.java:38)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:331)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\n    at org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\n    at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\n    at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":6937186,"reputation":1164,"user_id":5324721,"display_name":"Kumar Ashutosh"},"score":0,"creation_date":1634146672,"post_id":69559933,"comment_id":122950048,"body_markdown":"Does this answer your question? [Wrong ordering in generated table in jpa](https://stackoverflow.com/questions/1298322/wrong-ordering-in-generated-table-in-jpa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1298322/wrong-ordering-in-generated-table-in-jpa\">Wrong ordering in generated table in jpa</a>"},{"owner":{"account_id":3613461,"reputation":46,"user_id":3013931,"display_name":"mazenbr"},"score":0,"creation_date":1634147539,"post_id":69559933,"comment_id":122950347,"body_markdown":"@KumarAshutosh no, I am looking to the ordering of the actual data","body":"@KumarAshutosh no, I am looking to the ordering of the actual data"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1634152530,"post_id":69559933,"comment_id":122951994,"body_markdown":"Try using the @OrderBy annotation","body":"Try using the @OrderBy annotation"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634649571,"creation_date":1634649571,"answer_id":69631595,"question_id":69559933,"body_markdown":"There is no way to do this out of the box, but you can implement this yourself if you want. Just query for the count of objects right before persisting and set the count + 1 as value for that order column. Make sure that the order column is declared as being unique i.e. with a unique constraint.\r\n\r\nNote that your requirement is pretty exotic and will likely require some kind of table lock or retry mechanism if you have high concurrency.\r\n\r\nIMO you should ask whoever gave you this requirement what the goal is that should be achieved. I bet that you will find out you don&#39;t need this after all.","title":"Is there a way to maintain an order column using jpa hibernate?","body":"<p>There is no way to do this out of the box, but you can implement this yourself if you want. Just query for the count of objects right before persisting and set the count + 1 as value for that order column. Make sure that the order column is declared as being unique i.e. with a unique constraint.</p>\n<p>Note that your requirement is pretty exotic and will likely require some kind of table lock or retry mechanism if you have high concurrency.</p>\n<p>IMO you should ask whoever gave you this requirement what the goal is that should be achieved. I bet that you will find out you don't need this after all.</p>\n"}],"owner":{"account_id":3613461,"reputation":46,"user_id":3013931,"display_name":"mazenbr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634649571,"creation_date":1634146522,"question_id":69559933,"body_markdown":"I am trying to have a table with an &quot;order&quot; column to allow rearranging the order of data. Is this possible using jpa? Maybe something similar to @OrderColumn but on the table itself.\r\n\r\nBasically I want to add a new column called &quot;order&quot; that saves the order the records. If a record is added, it would automatically get a &quot;order&quot; value. If a record was deleted, the &quot;order&quot; of the remaining would be automatically updated. Additionally if possible, to rearrange the orders by moving one record to an lower &quot;order&quot; and it would push the others ","title":"Is there a way to maintain an order column using jpa hibernate?","body":"<p>I am trying to have a table with an &quot;order&quot; column to allow rearranging the order of data. Is this possible using jpa? Maybe something similar to @OrderColumn but on the table itself.</p>\n<p>Basically I want to add a new column called &quot;order&quot; that saves the order the records. If a record is added, it would automatically get a &quot;order&quot; value. If a record was deleted, the &quot;order&quot; of the remaining would be automatically updated. Additionally if possible, to rearrange the orders by moving one record to an lower &quot;order&quot; and it would push the others</p>\n"},{"tags":["java","apache-poi","xls"],"comments":[{"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"score":0,"creation_date":1564578711,"post_id":57291519,"comment_id":101077507,"body_markdown":"Try `data.put(&quot;2&quot;, new Object[]{ &quot;00078&quot;, &quot;Pankaj&quot;, &quot;Kumar&quot; });` add quotes, you have it as a number there currently.","body":"Try <code>data.put(&quot;2&quot;, new Object[]{ &quot;00078&quot;, &quot;Pankaj&quot;, &quot;Kumar&quot; });</code> add quotes, you have it as a number there currently."},{"owner":{"account_id":13342877,"reputation":23,"user_id":9630571,"display_name":"Ankit Chaudhary"},"score":0,"creation_date":1564579153,"post_id":57291519,"comment_id":101077782,"body_markdown":"Great advice @Adder it worked. Now I wonder how did I not see it. But the problem is that the place I&#39;m implementing this has object with this number as Integer type in it.","body":"Great advice @Adder it worked. Now I wonder how did I not see it. But the problem is that the place I&#39;m implementing this has object with this number as Integer type in it."},{"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"score":0,"creation_date":1564579485,"post_id":57291519,"comment_id":101077989,"body_markdown":"See [pad a string](https://stackoverflow.com/questions/388461/how-can-i-pad-a-string-in-java) for how to pad a string - or just use a while loop to prepend zeroes till the width is reached.","body":"See <a href=\"https://stackoverflow.com/questions/388461/how-can-i-pad-a-string-in-java\">pad a string</a> for how to pad a string - or just use a while loop to prepend zeroes till the width is reached."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1564579667,"post_id":57291519,"comment_id":101078114,"body_markdown":"`00078` as integer is removes automatically leading zeros. `00078` is the same as `78`. If you want leading zeros, store the value as String in java, or add them at a later point, but also as string","body":"<code>00078</code> as integer is removes automatically leading zeros. <code>00078</code> is the same as <code>78</code>. If you want leading zeros, store the value as String in java, or add them at a later point, but also as string"},{"owner":{"account_id":13342877,"reputation":23,"user_id":9630571,"display_name":"Ankit Chaudhary"},"score":0,"creation_date":1564587406,"post_id":57291519,"comment_id":101083096,"body_markdown":"I successfully wrote a xls file with 00078 value but, when I edit the cell and then defocus, it goes back to 78.","body":"I successfully wrote a xls file with 00078 value but, when I edit the cell and then defocus, it goes back to 78."}],"answers":[{"tags":[],"owner":{"account_id":2067193,"reputation":1380,"user_id":1842487,"display_name":"Saurav Kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564579447,"creation_date":1564579447,"answer_id":57291864,"question_id":57291519,"body_markdown":"I guess writing this would have caused **compilation error** -\r\n\r\n&gt; Integer number too large\r\n\r\n```\r\ndata.put(&quot;2&quot;, new Object[]{ 00078, &quot;Pankaj&quot;, &quot;Kumar&quot; }); \r\n```\r\n\r\n\r\nIn comments Adder has said it rightly \r\n\r\n```\r\ndata.put(&quot;2&quot;, new Object[]{ &quot;00078&quot;, &quot;Pankaj&quot;, &quot;Kumar&quot; });\r\n```\r\n\r\nThis should solve the problem.","title":"Excel sheet removing zero(s) for number starting with zero(s)","body":"<p>I guess writing this would have caused <strong>compilation error</strong> -</p>\n\n<blockquote>\n  <p>Integer number too large</p>\n</blockquote>\n\n<pre><code>data.put(\"2\", new Object[]{ 00078, \"Pankaj\", \"Kumar\" }); \n</code></pre>\n\n<p>In comments Adder has said it rightly </p>\n\n<pre><code>data.put(\"2\", new Object[]{ \"00078\", \"Pankaj\", \"Kumar\" });\n</code></pre>\n\n<p>This should solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564770790,"creation_date":1564770790,"answer_id":57331819,"question_id":57291519,"body_markdown":"If a `ID` must have leading zeros, then data type of this `ID` must be `String`. Numbers do not have leading zeros. The number 000123 is mathematically exactly the same as 123.\r\n\r\nAdditional in case of `Excel` the cells containing this `ID` values should have cell styles of `Text` format. And to prevent changing the cell style to number style by editing the cell, additional the cell style should be quote prefixed. Else editing the cell may lead to the case that 000123 changes to 123 again.\r\n\r\nThe following code shows a complete example where the `ID` column is protected that way.\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.util.GregorianCalendar;\r\n    \r\n    class CreateExcelSheetFromDataObjectArray {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      Object[][] data = new Object[][]{\r\n       new Object[]{&quot;ID&quot;, &quot;NAME&quot;, &quot;LASTNAME&quot;, &quot;AMOUNT&quot;, &quot;DATE&quot;},\r\n       new Object[]{&quot;000123&quot;, &quot;John&quot;, &quot;Doe&quot;, 1234.56, new GregorianCalendar(2019, 0, 1) },\r\n       new Object[]{&quot;000456&quot;, &quot;Jane&quot;, &quot;Stiles&quot;, 7890.12, new GregorianCalendar(2019, 1, 11) },\r\n       new Object[]{&quot;000789&quot;, &quot;Mary&quot;, &quot;Major&quot;, 3456.78, new GregorianCalendar(2019, 2, 22) }\r\n      };\r\n    \r\n      String filePath = &quot;./Excel&quot;;\r\n    \r\n      String wantedXLFormat = \r\n       //&quot;XSSF&quot;;\r\n       &quot;HSSF&quot;;\r\n    \r\n      try (Workbook workbook = (&quot;XSSF&quot;.equals(wantedXLFormat))?new XSSFWorkbook():new HSSFWorkbook(); \r\n           FileOutputStream fileout = new FileOutputStream(filePath + ((&quot;XSSF&quot;.equals(wantedXLFormat))?&quot;.xlsx&quot;:&quot;.xls&quot;)) ) {\r\n    \r\n       DataFormat dataFormat = workbook.createDataFormat();\r\n       CellStyle dateStyle = workbook.createCellStyle();\r\n       dateStyle.setDataFormat(dataFormat.getFormat(&quot;DDDD, MMMM, DD, YYYY&quot;));\r\n       CellStyle numberStyle = workbook.createCellStyle();\r\n       numberStyle.setDataFormat(dataFormat.getFormat(&quot;#,##0.00 \\&quot; Coins\\&quot;&quot;));\r\n    \r\n       // the cell style for the ID column has Text format and is quote prefixed\r\n       CellStyle idStyle = workbook.createCellStyle();\r\n       idStyle.setDataFormat(dataFormat.getFormat(&quot;@&quot;));\r\n       idStyle.setQuotePrefixed(true);\r\n    \r\n       Sheet sheet = workbook.createSheet(); \r\n    \r\n       for (int r = 0; r &lt; data.length; r++) {\r\n        Row row = sheet.createRow(r);\r\n        for (int c = 0; c &lt; data[0].length; c++) {\r\n         Cell cell = row.createCell(c);\r\n    \r\n         if (r == 0) cell.setCellValue((String)data[r][c]); // the header row, all columns are strings\r\n    \r\n         if (r &gt; 0 &amp;&amp; c == 0) { // the ID column\r\n          cell.setCellValue((String)data[r][c]);\r\n          cell.setCellStyle(idStyle);\r\n         } else if (r &gt; 0 &amp;&amp; c == 3) { // the number column\r\n          cell.setCellValue((Double)data[r][c]);\r\n          cell.setCellStyle(numberStyle);\r\n         } else if (r &gt; 0 &amp;&amp; c == 4) { // the date column\r\n          cell.setCellValue((GregorianCalendar)data[r][c]);\r\n          cell.setCellStyle(dateStyle);\r\n         } else if (r &gt; 0) { // all other columns are strings\r\n          cell.setCellValue((String)data[r][c]);\r\n         }\r\n        }\r\n       }\r\n    \r\n       for (int c = 0; c &lt; data[0].length; c++) {\r\n        sheet.autoSizeColumn(c);\r\n       }\r\n      \r\n       workbook.write(fileout);\r\n      }\r\n     }\r\n    }\r\n\r\n\r\n The code works tested using `apache poi 4.1.0`.","title":"Excel sheet removing zero(s) for number starting with zero(s)","body":"<p>If a <code>ID</code> must have leading zeros, then data type of this <code>ID</code> must be <code>String</code>. Numbers do not have leading zeros. The number 000123 is mathematically exactly the same as 123.</p>\n\n<p>Additional in case of <code>Excel</code> the cells containing this <code>ID</code> values should have cell styles of <code>Text</code> format. And to prevent changing the cell style to number style by editing the cell, additional the cell style should be quote prefixed. Else editing the cell may lead to the case that 000123 changes to 123 again.</p>\n\n<p>The following code shows a complete example where the <code>ID</code> column is protected that way.</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.util.GregorianCalendar;\n\nclass CreateExcelSheetFromDataObjectArray {\n\n public static void main(String[] args) throws Exception {\n\n  Object[][] data = new Object[][]{\n   new Object[]{\"ID\", \"NAME\", \"LASTNAME\", \"AMOUNT\", \"DATE\"},\n   new Object[]{\"000123\", \"John\", \"Doe\", 1234.56, new GregorianCalendar(2019, 0, 1) },\n   new Object[]{\"000456\", \"Jane\", \"Stiles\", 7890.12, new GregorianCalendar(2019, 1, 11) },\n   new Object[]{\"000789\", \"Mary\", \"Major\", 3456.78, new GregorianCalendar(2019, 2, 22) }\n  };\n\n  String filePath = \"./Excel\";\n\n  String wantedXLFormat = \n   //\"XSSF\";\n   \"HSSF\";\n\n  try (Workbook workbook = (\"XSSF\".equals(wantedXLFormat))?new XSSFWorkbook():new HSSFWorkbook(); \n       FileOutputStream fileout = new FileOutputStream(filePath + ((\"XSSF\".equals(wantedXLFormat))?\".xlsx\":\".xls\")) ) {\n\n   DataFormat dataFormat = workbook.createDataFormat();\n   CellStyle dateStyle = workbook.createCellStyle();\n   dateStyle.setDataFormat(dataFormat.getFormat(\"DDDD, MMMM, DD, YYYY\"));\n   CellStyle numberStyle = workbook.createCellStyle();\n   numberStyle.setDataFormat(dataFormat.getFormat(\"#,##0.00 \\\" Coins\\\"\"));\n\n   // the cell style for the ID column has Text format and is quote prefixed\n   CellStyle idStyle = workbook.createCellStyle();\n   idStyle.setDataFormat(dataFormat.getFormat(\"@\"));\n   idStyle.setQuotePrefixed(true);\n\n   Sheet sheet = workbook.createSheet(); \n\n   for (int r = 0; r &lt; data.length; r++) {\n    Row row = sheet.createRow(r);\n    for (int c = 0; c &lt; data[0].length; c++) {\n     Cell cell = row.createCell(c);\n\n     if (r == 0) cell.setCellValue((String)data[r][c]); // the header row, all columns are strings\n\n     if (r &gt; 0 &amp;&amp; c == 0) { // the ID column\n      cell.setCellValue((String)data[r][c]);\n      cell.setCellStyle(idStyle);\n     } else if (r &gt; 0 &amp;&amp; c == 3) { // the number column\n      cell.setCellValue((Double)data[r][c]);\n      cell.setCellStyle(numberStyle);\n     } else if (r &gt; 0 &amp;&amp; c == 4) { // the date column\n      cell.setCellValue((GregorianCalendar)data[r][c]);\n      cell.setCellStyle(dateStyle);\n     } else if (r &gt; 0) { // all other columns are strings\n      cell.setCellValue((String)data[r][c]);\n     }\n    }\n   }\n\n   for (int c = 0; c &lt; data[0].length; c++) {\n    sheet.autoSizeColumn(c);\n   }\n\n   workbook.write(fileout);\n  }\n }\n}\n</code></pre>\n\n<p>The code works tested using <code>apache poi 4.1.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":7849399,"reputation":860,"user_id":5933317,"display_name":"Kapil Thakkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634649464,"creation_date":1634649464,"answer_id":69631572,"question_id":57291519,"body_markdown":"You just need to prepend = sign before data.\r\nEx: `=&quot;00082&quot;`\r\n\r\n    &quot;=&quot; + &quot;\\&quot;0000882\\&quot;&quot;","title":"Excel sheet removing zero(s) for number starting with zero(s)","body":"<p>You just need to prepend = sign before data.\nEx: <code>=&quot;00082&quot;</code></p>\n<pre><code>&quot;=&quot; + &quot;\\&quot;0000882\\&quot;&quot;\n</code></pre>\n"}],"owner":{"account_id":13342877,"reputation":23,"user_id":9630571,"display_name":"Ankit Chaudhary"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3040,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1634649464,"creation_date":1564578517,"question_id":57291519,"body_markdown":"I need to write `CSV`/`Xls` file with a column having numbers like `00078`, but even after writing the number as a string, excel sheet displays it as `78`.\r\n\r\n**I have tried** `apache poi` library and try setting cell type to String.\r\n```java\r\nHSSFWorkbook workbook = new HSSFWorkbook(); \r\n\r\n// Create a blank sheet \r\nHSSFSheet sheet = workbook.createSheet(&quot;student Details&quot;); \r\n\r\n// This data needs to be written (Object[]) \r\nMap&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;(); \r\ndata.put(&quot;1&quot;, new Object[]{ &quot;ID&quot;, &quot;NAME&quot;, &quot;LASTNAME&quot; }); \r\ndata.put(&quot;2&quot;, new Object[]{ 00078, &quot;Pankaj&quot;, &quot;Kumar&quot; }); \r\n\r\n// Iterate over data and write to sheet \r\nSet&lt;String&gt; keyset = data.keySet(); \r\nint rownum = 0; \r\nfor (String key : keyset) { \r\n\t// this creates a new row in the sheet \r\n\tRow row = sheet.createRow(rownum++); \r\n\tObject[] objArr = data.get(key); \r\n\tint cellnum = 0; \r\n\tfor (Object obj : objArr) { \r\n\t\t// this line creates a cell in the next column of that row \r\n\t\tCell cell = row.createCell(cellnum++); \r\n\t\tif (obj instanceof String) \r\n\t\t\tcell.setCellValue((String)obj); \r\n\t\telse if (obj instanceof Integer){\r\n\t\t\tcell.setCellType(Cell.CELL_TYPE_STRING);\r\n\t\t\tcell.setCellValue(String.valueOf(obj));\r\n\t\t}\r\n\t} \r\n} \r\n```\r\nI expect the column to treat `00078` as a String and display the same.","title":"Excel sheet removing zero(s) for number starting with zero(s)","body":"<p>I need to write <code>CSV</code>/<code>Xls</code> file with a column having numbers like <code>00078</code>, but even after writing the number as a string, excel sheet displays it as <code>78</code>.</p>\n\n<p><strong>I have tried</strong> <code>apache poi</code> library and try setting cell type to String.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>HSSFWorkbook workbook = new HSSFWorkbook(); \n\n// Create a blank sheet \nHSSFSheet sheet = workbook.createSheet(\"student Details\"); \n\n// This data needs to be written (Object[]) \nMap&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;(); \ndata.put(\"1\", new Object[]{ \"ID\", \"NAME\", \"LASTNAME\" }); \ndata.put(\"2\", new Object[]{ 00078, \"Pankaj\", \"Kumar\" }); \n\n// Iterate over data and write to sheet \nSet&lt;String&gt; keyset = data.keySet(); \nint rownum = 0; \nfor (String key : keyset) { \n    // this creates a new row in the sheet \n    Row row = sheet.createRow(rownum++); \n    Object[] objArr = data.get(key); \n    int cellnum = 0; \n    for (Object obj : objArr) { \n        // this line creates a cell in the next column of that row \n        Cell cell = row.createCell(cellnum++); \n        if (obj instanceof String) \n            cell.setCellValue((String)obj); \n        else if (obj instanceof Integer){\n            cell.setCellType(Cell.CELL_TYPE_STRING);\n            cell.setCellValue(String.valueOf(obj));\n        }\n    } \n} \n</code></pre>\n\n<p>I expect the column to treat <code>00078</code> as a String and display the same.</p>\n"},{"tags":["java","python","python-3.x","junit"],"answers":[{"tags":[],"owner":{"account_id":5078348,"reputation":747,"user_id":4075169,"accept_rate":60,"display_name":"Kahsius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634649456,"creation_date":1634649456,"answer_id":69631568,"question_id":68301737,"body_markdown":"I&#39;ve managed to extract tests results with a combination of surefire XML reports along with the `lxml` python module. To use the intermediate XML reports seems to be the easiest yet the most efficient method.","title":"Retrieve JUnit tests results with python","body":"<p>I've managed to extract tests results with a combination of surefire XML reports along with the <code>lxml</code> python module. To use the intermediate XML reports seems to be the easiest yet the most efficient method.</p>\n"}],"owner":{"account_id":5078348,"reputation":747,"user_id":4075169,"accept_rate":60,"display_name":"Kahsius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69631568,"answer_count":1,"score":0,"last_activity_date":1634649456,"creation_date":1625747654,"question_id":68301737,"body_markdown":"I&#39;m looking for a way to run JUnit tests and get the results (whatever the format or the structure) in python. My first guess has been to use JPype, but I would like to know if you know any simpler solution ?","title":"Retrieve JUnit tests results with python","body":"<p>I'm looking for a way to run JUnit tests and get the results (whatever the format or the structure) in python. My first guess has been to use JPype, but I would like to know if you know any simpler solution ?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":1,"creation_date":1634136926,"post_id":69557550,"comment_id":122946262,"body_markdown":"Because you dont want 99.9% of the repositories suffer from a bad design choice of the remaining 0.1%","body":"Because you dont want 99.9% of the repositories suffer from a bad design choice of the remaining 0.1%"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634649046,"creation_date":1634649046,"answer_id":69631447,"question_id":69557550,"body_markdown":"The requirement for the JPA id is that it is a primary key i.e. uniquely identifies the row. If you do not follow this, bad things will happen. You can have a composite primary key though, as it seems your row is identified by multiple columns. Look into `@Embeddable`/`@EmbeddedId` mappings for this purpose.","title":"Why does &#39;delete()&#39; method in CrudRepository require entity with unique id?","body":"<p>The requirement for the JPA id is that it is a primary key i.e. uniquely identifies the row. If you do not follow this, bad things will happen. You can have a composite primary key though, as it seems your row is identified by multiple columns. Look into <code>@Embeddable</code>/<code>@EmbeddedId</code> mappings for this purpose.</p>\n"}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634649046,"creation_date":1634136092,"question_id":69557550,"body_markdown":"In the description of the ```delete``` method in ```org.springframework.data.repository,CrudRepository``` interface it is written only that it deletes a given entity and that it accepts entity object itself. \r\n\r\nIt specifies nothing about entity&#39;s id needing to be unique.\r\n\r\nHowever, this method works only when entity has an unique id. If the table may have multiple rows with the same id, this method fails when entity whose id is not unique is attempted to be deleted (at least in my case).\r\n\r\nNow I understand that it is a very bad thing that an id is not unique in the table, but, in theory, it should work since this method accepts the entire entity as a parameter, and every entity (when all its columns are combined) in my table is unique. There are no two identical rows in a table since table has an unique constraint on a combination of all its columns.\r\n\r\nSure, there are other methods, like ```deleteById``` which would fail since they only accept id as a parameter and not the whole entity and since id is not unique, Spring does not know which entity to delete. Sure.\r\n\r\nBut why ```delete``` method fails when it should be able to distinguish between entities with the same id since it accepts the whole entitiy as a parameter (thus giving it access to all other columns of the entity and not just the id column)?","title":"Why does &#39;delete()&#39; method in CrudRepository require entity with unique id?","body":"<p>In the description of the <code>delete</code> method in <code>org.springframework.data.repository,CrudRepository</code> interface it is written only that it deletes a given entity and that it accepts entity object itself.</p>\n<p>It specifies nothing about entity's id needing to be unique.</p>\n<p>However, this method works only when entity has an unique id. If the table may have multiple rows with the same id, this method fails when entity whose id is not unique is attempted to be deleted (at least in my case).</p>\n<p>Now I understand that it is a very bad thing that an id is not unique in the table, but, in theory, it should work since this method accepts the entire entity as a parameter, and every entity (when all its columns are combined) in my table is unique. There are no two identical rows in a table since table has an unique constraint on a combination of all its columns.</p>\n<p>Sure, there are other methods, like <code>deleteById</code> which would fail since they only accept id as a parameter and not the whole entity and since id is not unique, Spring does not know which entity to delete. Sure.</p>\n<p>But why <code>delete</code> method fails when it should be able to distinguish between entities with the same id since it accepts the whole entitiy as a parameter (thus giving it access to all other columns of the entity and not just the id column)?</p>\n"},{"tags":["java","unit-testing","spring-mvc","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":2164314,"reputation":963,"user_id":3753021,"accept_rate":40,"display_name":"DivDiff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1440167979,"creation_date":1440167979,"answer_id":32143156,"question_id":31862575,"body_markdown":"It turns out that a couple of things were wrong here:\r\n\r\nI didn&#39;t need to use the .requestAttr() calls for the date objects. I simply added string representations of the dates to the call as query parameters like so:\r\n\r\n    private String end = &quot;2015-12-31T23:59:59.999Z&quot;;\r\n    private String start = &quot;2012-01-01T00:00:00.000Z&quot;;\r\n    \r\n    ResultActions ra = mvc.perform(MockMvcRequestBuilders.get(&quot;/rest/hits/&quot; + modelId + &quot;/0&quot; + &quot;?startDate=&quot; + start + &quot;&amp;endDate=&quot; + end).with(user(user)));\r\n\r\nAlso, passing in Date objects caused an issue because their format of the string representation was wrong. Rookie mistake.","title":"How to pass date objects as request parameters through Spring MockMvc","body":"<p>It turns out that a couple of things were wrong here:</p>\n\n<p>I didn't need to use the .requestAttr() calls for the date objects. I simply added string representations of the dates to the call as query parameters like so:</p>\n\n<pre><code>private String end = \"2015-12-31T23:59:59.999Z\";\nprivate String start = \"2012-01-01T00:00:00.000Z\";\n\nResultActions ra = mvc.perform(MockMvcRequestBuilders.get(\"/rest/hits/\" + modelId + \"/0\" + \"?startDate=\" + start + \"&amp;endDate=\" + end).with(user(user)));\n</code></pre>\n\n<p>Also, passing in Date objects caused an issue because their format of the string representation was wrong. Rookie mistake.</p>\n"},{"tags":[],"owner":{"account_id":4757952,"reputation":49,"user_id":3846202,"display_name":"Guilherme Gambeti"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1463448839,"creation_date":1463448839,"answer_id":37265738,"question_id":31862575,"body_markdown":"I know it&#39;s too late to answer, but just for future someone&#39;s search.\r\n\r\nIn order to solve this problem you can use `get(URL).param` instead:\r\n\r\n    mvc.perform(MockMvcRequestBuilders.get(&quot;/rest/tickets/&quot; + ticketName + &quot;/&quot; + categoryName).param(&quot;startDate&quot;, new Date())\r\n                .param(&quot;endDate&quot;, new Date()).with(user(user)));","title":"How to pass date objects as request parameters through Spring MockMvc","body":"<p>I know it's too late to answer, but just for future someone's search.</p>\n\n<p>In order to solve this problem you can use <code>get(URL).param</code> instead:</p>\n\n<pre><code>mvc.perform(MockMvcRequestBuilders.get(\"/rest/tickets/\" + ticketName + \"/\" + categoryName).param(\"startDate\", new Date())\n            .param(\"endDate\", new Date()).with(user(user)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634648790,"creation_date":1634648790,"answer_id":69631375,"question_id":31862575,"body_markdown":"It seems that MockMVC is stupid.\r\nThis doesn&#39;t work\r\n```\r\n this.mockMvc.perform(get()\r\n                .queryParam(&quot;startDate&quot;,&quot;2011-01-01&quot;)\r\n                .queryParam(&quot;endDate&quot;, &quot;2000-11-31&quot;)\r\n```\r\n\r\nYou have to hardCode the Date DIRECTLY in URL, like so:\r\n```\r\nMockHttpServletRequestBuilder mockHttpServletRequestBuilder = get(CONFIRMATION_API_GET+&quot;?startDate=2019-09-12&amp;endDate=2019-10-13&quot;);\r\n```","title":"How to pass date objects as request parameters through Spring MockMvc","body":"<p>It seems that MockMVC is stupid.\nThis doesn't work</p>\n<pre><code> this.mockMvc.perform(get()\n                .queryParam(&quot;startDate&quot;,&quot;2011-01-01&quot;)\n                .queryParam(&quot;endDate&quot;, &quot;2000-11-31&quot;)\n</code></pre>\n<p>You have to hardCode the Date DIRECTLY in URL, like so:</p>\n<pre><code>MockHttpServletRequestBuilder mockHttpServletRequestBuilder = get(CONFIRMATION_API_GET+&quot;?startDate=2019-09-12&amp;endDate=2019-10-13&quot;);\n</code></pre>\n"}],"owner":{"account_id":2164314,"reputation":963,"user_id":3753021,"accept_rate":40,"display_name":"DivDiff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10976,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32143156,"answer_count":3,"score":2,"last_activity_date":1634648790,"creation_date":1438883574,"question_id":31862575,"body_markdown":"I have a unit test that uses Spring&#39;s MockMvc testing framework to hit a REST endpoint. The rest endpoint requires that two string path variables be sent, along with two `java.util.Date` objects which are passed as **@RequestParameters**. When I run the test, it fails because the Date objects are either not present, or can&#39;t be serialized from a string JSON representation to a Date object. For the record, execution fails before hitting the end point listed in the `.perform()`, so this problem is not coming from the code being tested. It&#39;s coming from the test.\r\n\r\nHere&#39;s my test:\r\n\r\n        @Test\r\n\t    public void testGetHitsForCell() {\r\n\t\tString categoryName = &quot;categoryName&quot;;\r\n\r\n\t\ttry {\r\n\r\n\t\t    String startDateJson = gson.toJson(new Date());\r\n\t\t    String endDateJson = gson.toJson(new Date());\r\n\t\t    ResultActions ra = mvc.perform(MockMvcRequestBuilders.get(&quot;/rest/tickets/&quot; + ticketName + &quot;/&quot; + categoryName).requestAttr(&quot;startDate&quot;, new Date())\r\n\t\t            .requestAttr(&quot;endDate&quot;, new Date()).with(user(user)));\r\n\t\t    MvcResult aResult = ra.andReturn();\r\n\t\t    MockHttpServletResponse response = aResult.getResponse();\r\n\r\n\t\t    assertTrue(response.getContentType().equals(&quot;application/json;charset=UTF-8&quot;));\r\n\t\t    assertTrue(gson.fromJson(response.getContentAsString(), PaginatedResults.class) instanceof PaginatedResults);\r\n\t\t} catch (Exception e) {\r\n\t\t    e.printStackTrace();\r\n\t\t    fail(e.getMessage());\r\n\t\t}\r\n\r\nThe endpoint looks like this:\r\n\r\n    /rest/ticket/{ticketName}/{categoryName}?startDate=2015-07-21T14%3A26%3A51.972-0400&amp;endDate=2015-08-04T14%3A26%3A51.972-0400\r\n\r\nThis is the exception that the MockMvc throws:\r\n\r\n&gt; org.springframework.web.bind.MissingServletRequestParameterException: Required Date parameter &#39;startDate&#39; is not present\r\n\r\nMy test application context looks like this:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\t\txmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n\t\txsi:schemaLocation=&quot;\r\n\thttp://www.springframework.org/schema/beans\r\n\thttp://www.springframework.org/schema/beans/spring-beans.xsd\r\n\thttp://www.springframework.org/schema/context\r\n\thttp://www.springframework.org/schema/context/spring-context.xsd\r\n\thttp://www.springframework.org/schema/mvc\r\n\thttp://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n\thttp://www.springframework.org/schema/util\r\n\thttp://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;\r\n\r\n\r\n\t\t&lt;import resource=&quot;classpath:propertiesPlaceholder.xml&quot; /&gt;\r\n\t\t&lt;import resource=&quot;classpath:cache.xml&quot; /&gt;\r\n\t\t&lt;import resource=&quot;classpath:mongo-context.xml&quot; /&gt;\r\n\t\t&lt;import resource=&quot;classpath:securityContext.xml&quot; /&gt;\r\n\t\t&lt;import resource=&quot;classpath:service-commons.xml&quot; /&gt;\r\n\t\r\n\t\t&lt;import resource=&quot;classpath:mockUserProviderContext.xml&quot; /&gt;\r\n\r\n\t\t&lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n\t\t&lt;mvc:annotation-driven&gt;\r\n\t\t\t&lt;mvc:message-converters register-defaults=&quot;true&quot;&gt;\r\n\t\t\t\t&lt;!-- Use the Jackson mapper defined above to serialize dates appropriately --&gt;\r\n\t\t\t\t&lt;bean\r\n\t\t\t\t\tclass=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;objectMapper&quot; ref=&quot;jacksonObjectMapper&quot; /&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t&lt;/mvc:message-converters&gt;\r\n\t\t&lt;/mvc:annotation-driven&gt;\r\n\r\n\t\t&lt;mvc:default-servlet-handler/&gt;\r\n\t\t&lt;!-- Jackson Mapper --&gt;\r\n\t\t&lt;bean name=&quot;jacksonObjectMapper&quot;\r\n\t\t\tclass=&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;&gt;\r\n\t\t\t&lt;property name=&quot;featuresToDisable&quot;&gt;\r\n\t\t\t\t&lt;array&gt;\r\n\t\t\t\t\t&lt;util:constant\r\n\t\t\t\t\t\tstatic-field=&quot;com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATES_AS_TIMESTAMPS&quot; /&gt;\r\n\t\t\t\t\t&lt;util:constant\r\n\t\t\t\t\t\tstatic-field=&quot;com.fasterxml.jackson.databind.SerializationFeature.FAIL_ON_EMPTY_BEANS&quot; /&gt;\r\n\t\t\t\t&lt;/array&gt;\r\n\t\t\t&lt;/property&gt;\r\n\t\t&lt;/bean&gt;\r\n\t\r\n\r\n\t\t&lt;!-- SimpleDateFormat for Jackson to use for formatting Date objects --&gt;\r\n\t\t&lt;bean id=&quot;standardDateFormat&quot; class=&quot;java.text.SimpleDateFormat&quot;&gt;\r\n\t\t\t&lt;constructor-arg index=&quot;0&quot; value=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot; /&gt;\r\n\t\t&lt;/bean&gt;\r\n\r\n\t\t&lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving \r\n\t\t\tup static resources in the ${webappRoot}/resources directory --&gt;\r\n\t\t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n\t \r\n\t\t&lt;context:component-scan base-package=&quot;ticketApp&quot; /&gt;\r\n\t\t&lt;context:component-scan base-package=&quot;mongodb.dao.TicketDao&quot; /&gt;\r\n\t\t&lt;context:component-scan base-package=&quot;service.commons.*&quot; /&gt;\r\n\t\r\n\t&lt;/beans&gt;\r\n\r\nWhat can I do to correctly pass these Date objects to the above rest endpoint?","title":"How to pass date objects as request parameters through Spring MockMvc","body":"<p>I have a unit test that uses Spring's MockMvc testing framework to hit a REST endpoint. The rest endpoint requires that two string path variables be sent, along with two <code>java.util.Date</code> objects which are passed as <strong>@RequestParameters</strong>. When I run the test, it fails because the Date objects are either not present, or can't be serialized from a string JSON representation to a Date object. For the record, execution fails before hitting the end point listed in the <code>.perform()</code>, so this problem is not coming from the code being tested. It's coming from the test.</p>\n\n<p>Here's my test:</p>\n\n<pre><code>    @Test\n    public void testGetHitsForCell() {\n    String categoryName = \"categoryName\";\n\n    try {\n\n        String startDateJson = gson.toJson(new Date());\n        String endDateJson = gson.toJson(new Date());\n        ResultActions ra = mvc.perform(MockMvcRequestBuilders.get(\"/rest/tickets/\" + ticketName + \"/\" + categoryName).requestAttr(\"startDate\", new Date())\n                .requestAttr(\"endDate\", new Date()).with(user(user)));\n        MvcResult aResult = ra.andReturn();\n        MockHttpServletResponse response = aResult.getResponse();\n\n        assertTrue(response.getContentType().equals(\"application/json;charset=UTF-8\"));\n        assertTrue(gson.fromJson(response.getContentAsString(), PaginatedResults.class) instanceof PaginatedResults);\n    } catch (Exception e) {\n        e.printStackTrace();\n        fail(e.getMessage());\n    }\n</code></pre>\n\n<p>The endpoint looks like this:</p>\n\n<pre><code>/rest/ticket/{ticketName}/{categoryName}?startDate=2015-07-21T14%3A26%3A51.972-0400&amp;endDate=2015-08-04T14%3A26%3A51.972-0400\n</code></pre>\n\n<p>This is the exception that the MockMvc throws:</p>\n\n<blockquote>\n  <p>org.springframework.web.bind.MissingServletRequestParameterException: Required Date parameter 'startDate' is not present</p>\n</blockquote>\n\n<p>My test application context looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:util=\"http://www.springframework.org/schema/util\"\n    xsi:schemaLocation=\"\nhttp://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context.xsd\nhttp://www.springframework.org/schema/mvc\nhttp://www.springframework.org/schema/mvc/spring-mvc.xsd\nhttp://www.springframework.org/schema/util\nhttp://www.springframework.org/schema/util/spring-util.xsd\"&gt;\n\n\n    &lt;import resource=\"classpath:propertiesPlaceholder.xml\" /&gt;\n    &lt;import resource=\"classpath:cache.xml\" /&gt;\n    &lt;import resource=\"classpath:mongo-context.xml\" /&gt;\n    &lt;import resource=\"classpath:securityContext.xml\" /&gt;\n    &lt;import resource=\"classpath:service-commons.xml\" /&gt;\n\n    &lt;import resource=\"classpath:mockUserProviderContext.xml\" /&gt;\n\n    &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n    &lt;mvc:annotation-driven&gt;\n        &lt;mvc:message-converters register-defaults=\"true\"&gt;\n            &lt;!-- Use the Jackson mapper defined above to serialize dates appropriately --&gt;\n            &lt;bean\n                class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n                &lt;property name=\"objectMapper\" ref=\"jacksonObjectMapper\" /&gt;\n            &lt;/bean&gt;\n        &lt;/mvc:message-converters&gt;\n    &lt;/mvc:annotation-driven&gt;\n\n    &lt;mvc:default-servlet-handler/&gt;\n    &lt;!-- Jackson Mapper --&gt;\n    &lt;bean name=\"jacksonObjectMapper\"\n        class=\"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean\"&gt;\n        &lt;property name=\"featuresToDisable\"&gt;\n            &lt;array&gt;\n                &lt;util:constant\n                    static-field=\"com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATES_AS_TIMESTAMPS\" /&gt;\n                &lt;util:constant\n                    static-field=\"com.fasterxml.jackson.databind.SerializationFeature.FAIL_ON_EMPTY_BEANS\" /&gt;\n            &lt;/array&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n\n    &lt;!-- SimpleDateFormat for Jackson to use for formatting Date objects --&gt;\n    &lt;bean id=\"standardDateFormat\" class=\"java.text.SimpleDateFormat\"&gt;\n        &lt;constructor-arg index=\"0\" value=\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving \n        up static resources in the ${webappRoot}/resources directory --&gt;\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n    &lt;context:component-scan base-package=\"ticketApp\" /&gt;\n    &lt;context:component-scan base-package=\"mongodb.dao.TicketDao\" /&gt;\n    &lt;context:component-scan base-package=\"service.commons.*\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>What can I do to correctly pass these Date objects to the above rest endpoint?</p>\n"},{"tags":["java","spring","spring-integration","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634648772,"creation_date":1633956393,"answer_id":69526440,"question_id":69511643,"body_markdown":"1. Since you need a count down latch, you need a new interceptor each time (or use an `AtomicReference` with a new latch each time). You can call `removeInterceptor`.\r\n\r\n2. There is also a remote filter. \r\n\r\nHowever, for scenarios like this, it&#39;s much easier to use an outbound gateway with a GET command rather than using the async inbound channel adapter.\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-outbound-gateway\r\n\r\n__EDIT__\r\n\r\nExample:\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class So69511643Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So69511643Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tDefaultSftpSessionFactory sf(@Value(&quot;${host}&quot;) String host, @Value(&quot;${username}&quot;) String user,\r\n\t\t\t@Value(&quot;${pw}&quot;) String pw) {\r\n\r\n\t\tDefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();\r\n\t\tsf.setHost(host);\r\n\t\tsf.setUser(user);\r\n\t\tsf.setPassword(pw);\r\n\t\tsf.setAllowUnknownKeys(true);\r\n\t\treturn sf;\r\n\t}\r\n\r\n\t@Bean\r\n\tIntegrationFlow flow(DefaultSftpSessionFactory sf) {\r\n\t\treturn IntegrationFlows.from(Gate.class)\r\n\t\t\t\t.handle(Sftp.outboundGateway(sf, Command.GET, &quot;payload&quot;)\r\n\t\t\t\t\t\t.localDirectoryExpression(&quot;&#39;/tmp&#39;&quot;))\r\n\t\t\t\t.transform(new FileToStringTransformer())\r\n\t\t\t\t.transform(Transformers.fromJson(Foo.class))\r\n\t\t\t\t.get();\r\n\t}\r\n\r\n}\r\n\r\ninterface Gate {\r\n\r\n\tFoo getFoo(String filename);\r\n\r\n}\r\n\r\n@Component\r\n@DependsOn(&quot;flow&quot;)\r\nclass Scheduler {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(So69511643Application.class);\r\n\r\n\t@Autowired\r\n\tGate gate;\r\n\r\n\t@Scheduled(cron = &quot;0 * * * * *&quot;)\r\n\tpublic void sched() {\r\n\t\tlog.info(&quot;Fetched: {}&quot;, this.gate.getFoo(&quot;foo/bar.json&quot;));\r\n\t\tnew File(&quot;/tmp/bar.json&quot;).delete();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n__EDIT2__\r\n\r\nExample using `.route` for fetch and delete:\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class So69511643Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So69511643Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tDefaultSftpSessionFactory sf(@Value(&quot;${host}&quot;) String host, @Value(&quot;${username}&quot;) String user,\r\n\t\t\t@Value(&quot;${pw}&quot;) String pw, @Value(&quot;${pk}&quot;) Resource pk) {\r\n\r\n\t\tDefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();\r\n\t\tsf.setHost(host);\r\n\t\tsf.setUser(user);\r\n//\t\tsf.setPassword(pw);\r\n\t\tsf.setPrivateKey(pk);\r\n\t\tsf.setAllowUnknownKeys(true);\r\n\t\treturn sf;\r\n\t}\r\n\r\n\t@Bean\r\n\tIntegrationFlow flow(DefaultSftpSessionFactory sf) {\r\n\t\treturn f -&gt; f\r\n\t\t\t\t.log()\r\n\t\t\t\t.route(Message.class, m -&gt; m.getHeaders().get(&quot;method&quot;, String.class), r -&gt; r\r\n\t\t\t\t\t\t.subFlowMapping(&quot;getFoo&quot;, f1 -&gt; f1\r\n\t\t\t\t\t\t\t.handle(Sftp.outboundGateway(sf, Command.GET, &quot;payload&quot;)\r\n\t\t\t\t\t\t\t\t\t.localDirectoryExpression(&quot;&#39;/tmp&#39;&quot;))\r\n\t\t\t\t\t\t\t.transform(new FileToStringTransformer())\r\n\t\t\t\t\t\t\t.transform(Transformers.fromJson(Foo.class)))\r\n\t\t\t\t\t\t.subFlowMapping(&quot;remove&quot;, f2 -&gt; f2\r\n\t\t\t\t\t\t\t\t.handle(Sftp.outboundGateway(sf, Command.RM, &quot;payload&quot;))));\r\n\t}\r\n\r\n}\r\n\r\n@MessagingGateway(defaultRequestChannel = &quot;flow.input&quot;,\r\n\t\tdefaultHeaders = @GatewayHeader(name = &quot;method&quot;, expression = &quot;#gatewayMethod.name&quot;))\r\ninterface Gate {\r\n\r\n\tFoo getFoo(String filename);\r\n\r\n\tboolean remove(String filename);\r\n\r\n}\r\n\r\n@Component\r\n@DependsOn(&quot;flow&quot;)\r\nclass Scheduler {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(So69511643Application.class);\r\n\r\n\t@Autowired\r\n\tGate gate;\r\n\r\n\t@Scheduled(cron = &quot;0 * * * * *&quot;)\r\n\tpublic void sched() {\r\n\t\tlog.info(&quot;Fetched: {}&quot;, this.gate.getFoo(&quot;foo/bar.json&quot;));\r\n\t\tnew File(&quot;/tmp/bar.json&quot;).delete();\r\n\t\tlog.info(&quot;Deleted {}&quot;, this.gate.remove(&quot;foo/bar.json&quot;));\r\n\t}\r\n\r\n}\r\n```\r\n\r\n__EDIT3__\r\n\r\nThe above example defines the gateway proxy using an annotation only - you can&#39;t mix configuration between annotations and DSL. The following shows the same thing with the configuration of the gateway proxy using only the DSL.\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class So69511643Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So69511643Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tDefaultSftpSessionFactory sf(@Value(&quot;${host}&quot;) String host, @Value(&quot;${username}&quot;) String user,\r\n\t\t\t@Value(&quot;${pw}&quot;) String pw, @Value(&quot;${pk}&quot;) Resource pk) {\r\n\r\n\t\tDefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();\r\n\t\tsf.setHost(host);\r\n\t\tsf.setUser(user);\r\n//\t\tsf.setPassword(pw);\r\n\t\tsf.setPrivateKey(pk);\r\n\t\tsf.setAllowUnknownKeys(true);\r\n\t\treturn sf;\r\n\t}\r\n\r\n\t@Bean\r\n\tIntegrationFlow flow(DefaultSftpSessionFactory sf) {\r\n\t\treturn IntegrationFlows.from(Gate.class, g -&gt; g\r\n\t\t\t\t\t\t.header(&quot;method&quot;, args -&gt; args.getMethod().getName()))\r\n\t\t\t\t.log()\r\n\t\t\t\t.route(Message.class, m -&gt; m.getHeaders().get(&quot;method&quot;, String.class), r -&gt; r\r\n\t\t\t\t\t\t.subFlowMapping(&quot;getFoo&quot;, f1 -&gt; f1\r\n\t\t\t\t\t\t\t.handle(Sftp.outboundGateway(sf, Command.GET, &quot;payload&quot;)\r\n\t\t\t\t\t\t\t\t\t.localDirectoryExpression(&quot;&#39;/tmp&#39;&quot;))\r\n\t\t\t\t\t\t\t.transform(new FileToStringTransformer())\r\n\t\t\t\t\t\t\t.transform(Transformers.fromJson(Foo.class)))\r\n\t\t\t\t\t\t.subFlowMapping(&quot;remove&quot;, f2 -&gt; f2\r\n\t\t\t\t\t\t\t\t.handle(Sftp.outboundGateway(sf, Command.RM, &quot;payload&quot;))))\r\n\t\t\t\t.get();\r\n\t}\r\n\r\n}\r\n\r\ninterface Gate {\r\n\r\n\tFoo getFoo(String filename);\r\n\r\n\tboolean remove(String filename);\r\n\r\n}\r\n\r\n@Component\r\n@DependsOn(&quot;flow&quot;)\r\nclass Scheduler {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(So69511643Application.class);\r\n\r\n\t@Autowired\r\n\tGate gate;\r\n\r\n\t@Scheduled(cron = &quot;0 * * * * *&quot;)\r\n\tpublic void sched() {\r\n\t\tlog.info(&quot;Fetched: {}&quot;, this.gate.getFoo(&quot;foo/bar.json&quot;));\r\n\t\tnew File(&quot;/tmp/bar.json&quot;).delete();\r\n\t\tlog.info(&quot;Deleted {}&quot;, this.gate.remove(&quot;foo/bar.json&quot;));\r\n\t}\r\n\r\n}\r\n```","title":"How do I force the SftpInboundAdapter to connect and get a file every time a task is executed?","body":"<ol>\n<li><p>Since you need a count down latch, you need a new interceptor each time (or use an <code>AtomicReference</code> with a new latch each time). You can call <code>removeInterceptor</code>.</p>\n</li>\n<li><p>There is also a remote filter.</p>\n</li>\n</ol>\n<p>However, for scenarios like this, it's much easier to use an outbound gateway with a GET command rather than using the async inbound channel adapter.</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-outbound-gateway\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-outbound-gateway</a></p>\n<p><strong>EDIT</strong></p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableScheduling\npublic class So69511643Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So69511643Application.class, args);\n    }\n\n    @Bean\n    DefaultSftpSessionFactory sf(@Value(&quot;${host}&quot;) String host, @Value(&quot;${username}&quot;) String user,\n            @Value(&quot;${pw}&quot;) String pw) {\n\n        DefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();\n        sf.setHost(host);\n        sf.setUser(user);\n        sf.setPassword(pw);\n        sf.setAllowUnknownKeys(true);\n        return sf;\n    }\n\n    @Bean\n    IntegrationFlow flow(DefaultSftpSessionFactory sf) {\n        return IntegrationFlows.from(Gate.class)\n                .handle(Sftp.outboundGateway(sf, Command.GET, &quot;payload&quot;)\n                        .localDirectoryExpression(&quot;'/tmp'&quot;))\n                .transform(new FileToStringTransformer())\n                .transform(Transformers.fromJson(Foo.class))\n                .get();\n    }\n\n}\n\ninterface Gate {\n\n    Foo getFoo(String filename);\n\n}\n\n@Component\n@DependsOn(&quot;flow&quot;)\nclass Scheduler {\n\n    private static final Logger log = LoggerFactory.getLogger(So69511643Application.class);\n\n    @Autowired\n    Gate gate;\n\n    @Scheduled(cron = &quot;0 * * * * *&quot;)\n    public void sched() {\n        log.info(&quot;Fetched: {}&quot;, this.gate.getFoo(&quot;foo/bar.json&quot;));\n        new File(&quot;/tmp/bar.json&quot;).delete();\n    }\n\n}\n</code></pre>\n<p><strong>EDIT2</strong></p>\n<p>Example using <code>.route</code> for fetch and delete:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableScheduling\npublic class So69511643Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So69511643Application.class, args);\n    }\n\n    @Bean\n    DefaultSftpSessionFactory sf(@Value(&quot;${host}&quot;) String host, @Value(&quot;${username}&quot;) String user,\n            @Value(&quot;${pw}&quot;) String pw, @Value(&quot;${pk}&quot;) Resource pk) {\n\n        DefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();\n        sf.setHost(host);\n        sf.setUser(user);\n//      sf.setPassword(pw);\n        sf.setPrivateKey(pk);\n        sf.setAllowUnknownKeys(true);\n        return sf;\n    }\n\n    @Bean\n    IntegrationFlow flow(DefaultSftpSessionFactory sf) {\n        return f -&gt; f\n                .log()\n                .route(Message.class, m -&gt; m.getHeaders().get(&quot;method&quot;, String.class), r -&gt; r\n                        .subFlowMapping(&quot;getFoo&quot;, f1 -&gt; f1\n                            .handle(Sftp.outboundGateway(sf, Command.GET, &quot;payload&quot;)\n                                    .localDirectoryExpression(&quot;'/tmp'&quot;))\n                            .transform(new FileToStringTransformer())\n                            .transform(Transformers.fromJson(Foo.class)))\n                        .subFlowMapping(&quot;remove&quot;, f2 -&gt; f2\n                                .handle(Sftp.outboundGateway(sf, Command.RM, &quot;payload&quot;))));\n    }\n\n}\n\n@MessagingGateway(defaultRequestChannel = &quot;flow.input&quot;,\n        defaultHeaders = @GatewayHeader(name = &quot;method&quot;, expression = &quot;#gatewayMethod.name&quot;))\ninterface Gate {\n\n    Foo getFoo(String filename);\n\n    boolean remove(String filename);\n\n}\n\n@Component\n@DependsOn(&quot;flow&quot;)\nclass Scheduler {\n\n    private static final Logger log = LoggerFactory.getLogger(So69511643Application.class);\n\n    @Autowired\n    Gate gate;\n\n    @Scheduled(cron = &quot;0 * * * * *&quot;)\n    public void sched() {\n        log.info(&quot;Fetched: {}&quot;, this.gate.getFoo(&quot;foo/bar.json&quot;));\n        new File(&quot;/tmp/bar.json&quot;).delete();\n        log.info(&quot;Deleted {}&quot;, this.gate.remove(&quot;foo/bar.json&quot;));\n    }\n\n}\n</code></pre>\n<p><strong>EDIT3</strong></p>\n<p>The above example defines the gateway proxy using an annotation only - you can't mix configuration between annotations and DSL. The following shows the same thing with the configuration of the gateway proxy using only the DSL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableScheduling\npublic class So69511643Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So69511643Application.class, args);\n    }\n\n    @Bean\n    DefaultSftpSessionFactory sf(@Value(&quot;${host}&quot;) String host, @Value(&quot;${username}&quot;) String user,\n            @Value(&quot;${pw}&quot;) String pw, @Value(&quot;${pk}&quot;) Resource pk) {\n\n        DefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();\n        sf.setHost(host);\n        sf.setUser(user);\n//      sf.setPassword(pw);\n        sf.setPrivateKey(pk);\n        sf.setAllowUnknownKeys(true);\n        return sf;\n    }\n\n    @Bean\n    IntegrationFlow flow(DefaultSftpSessionFactory sf) {\n        return IntegrationFlows.from(Gate.class, g -&gt; g\n                        .header(&quot;method&quot;, args -&gt; args.getMethod().getName()))\n                .log()\n                .route(Message.class, m -&gt; m.getHeaders().get(&quot;method&quot;, String.class), r -&gt; r\n                        .subFlowMapping(&quot;getFoo&quot;, f1 -&gt; f1\n                            .handle(Sftp.outboundGateway(sf, Command.GET, &quot;payload&quot;)\n                                    .localDirectoryExpression(&quot;'/tmp'&quot;))\n                            .transform(new FileToStringTransformer())\n                            .transform(Transformers.fromJson(Foo.class)))\n                        .subFlowMapping(&quot;remove&quot;, f2 -&gt; f2\n                                .handle(Sftp.outboundGateway(sf, Command.RM, &quot;payload&quot;))))\n                .get();\n    }\n\n}\n\ninterface Gate {\n\n    Foo getFoo(String filename);\n\n    boolean remove(String filename);\n\n}\n\n@Component\n@DependsOn(&quot;flow&quot;)\nclass Scheduler {\n\n    private static final Logger log = LoggerFactory.getLogger(So69511643Application.class);\n\n    @Autowired\n    Gate gate;\n\n    @Scheduled(cron = &quot;0 * * * * *&quot;)\n    public void sched() {\n        log.info(&quot;Fetched: {}&quot;, this.gate.getFoo(&quot;foo/bar.json&quot;));\n        new File(&quot;/tmp/bar.json&quot;).delete();\n        log.info(&quot;Deleted {}&quot;, this.gate.remove(&quot;foo/bar.json&quot;));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69526440,"answer_count":1,"score":0,"last_activity_date":1634648772,"creation_date":1633829344,"question_id":69511643,"body_markdown":"This is my scenario: I get every month a file to `my.sftp.server.de` with event data as JSON. The file has always exactly the same name. I know when the file is provided.\r\n\r\nThe file then shall be fetched, processed, removed and backuped with another filename showing the timestamp of procession. This is done with a subscribed MessageHandler `deleteLocalFileService`.\r\n\r\nHere are my Spring Integration classes:\r\n\r\n    @Autowired\r\n    private Executor taskExecutor;\r\n    \r\n    private ConcurrentMap&lt;String, String&gt; metadata = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    @Bean\r\n    public SessionFactory&lt;LsEntry&gt; sftpSessionFactory(TransferChannel transferChannel) {\r\n    \tLOG.debug(&quot;sftpSessionFactory&quot;);\r\n    \tDefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();\r\n    \t...\r\n    \treturn new CachingSessionFactory&lt;LsEntry&gt;(sf);\r\n    }\r\n    \r\n    @Bean\r\n    public IntegrationFlow sftpInboundFlow(TransferContext context) {\r\n    \tLOG.debug(&quot;sftpInboundFlow&quot;);\r\n    \treturn IntegrationFlows\r\n    \t\t.from(Sftp.inboundAdapter(sftpSessionFactory(context.getChannel()))\r\n    \t\t\t\t.preserveTimestamp(context.isPreserveTimestamp())\r\n    \t\t\t\t.remoteDirectory(context.getRemoteDir())\r\n    \t\t\t\t.regexFilter(context.getRemoteFilename())\r\n    \t\t\t\t.deleteRemoteFiles(context.isRemoteRemove())\r\n    \t\t\t\t.autoCreateLocalDirectory(context.isAutoCreateLocalDir())\r\n    \t\t\t\t.localFilenameExpression(context.getLocalFilename())\r\n    \t\t\t\t.localDirectory(new File(context.getLocalDir()))\r\n    \t\t\t\t.localFilter(new FileSystemPersistentAcceptOnceFileListFilter(\r\n    \t\t\t\t\t\tnew SimpleMetadataStore(metadata), &quot;&quot;)),\r\n    \t\t\te -&gt; e.id(&quot;sftpInboundAdapter&quot;)\r\n    \t\t\t\t.autoStartup(false)\r\n    \t\t\t\t.poller(Pollers.fixedDelay(15000).taskExecutor(taskExecutor))\r\n    \t\t\t)\r\n    \t\t.transform(Transformers.fromJson(Event[].class))\r\n    \t\t.channel(&quot;sftpInputChannel&quot;)\r\n    \t\t.get();\r\n    }\r\n    \r\n    @Bean\r\n    public PublishSubscribeChannel sftpInputChannel() {\r\n    \tLOG.debug(&quot;sftpInputChannel&quot;);\r\n    \treturn new PublishSubscribeChannel();\r\n    }\r\n    \r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;sftpInputChannel&quot;)\r\n    public MessageHandler handler() {\r\n    \tLOG.debug(&quot;MessageHandler-handler&quot;);\r\n    \treturn new MessageHandler() {\r\n    \t\t@Override\r\n    \t\tpublic void handleMessage(Message&lt;?&gt; message) throws MessagingException {\r\n    \t\t\tLOG.debug(&quot;handleMessage message={}&quot;, message);\r\n    \t\t}\r\n    \t};\r\n    }\r\n    \r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;sftpInputChannel&quot;)\r\n    public MessageHandler deleteLocalFileService() {\r\n    \tLOG.debug(&quot;MessageHandler-deleteLocalFileService&quot;);\r\n    \treturn new MessageHandler() {\r\n    \t\t@Override\r\n    \t\tpublic void handleMessage(Message&lt;?&gt; message) throws MessagingException {\r\n    \t\t\tFile f1 = (File) message.getHeaders().get(&quot;file_originalFile&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\t// create backup copy in another directory\r\n    \t\t\t\t// (otherwise the remote and local filters avoid fetch of the (new) file again)\r\n    \t\t\t\tFile f2 = new File(&quot;/home/app/sftp-inbound-work/EventData.txt.SAVE.&quot; +\r\n    \t\t\t\t\t\tLocalDateTime.now().format(ISO_LOCAL_DATE_TIME));\r\n    \t\t\t\tFileUtil.copyFile(f1, f2);\r\n    \t\t\t\tLOG.debug(&quot;deleteLocalFileService backup={} created&quot;, f2);\r\n    \r\n    \t\t\t\t// remove received file\r\n    \t\t\t\tif (!f1.delete()) {\r\n    \t\t\t\t\tthrow new MessagingException(&quot;Could not remove local file, &quot; + f1.getName());\r\n    \t\t\t\t};\r\n    \t\t\t\tmetadata.clear();\r\n    \t\t\t\tLOG.debug(&quot;deleteLocalFileService file={} removed&quot;, f1);\r\n    \t\t\t}\r\n    \t\t\tcatch (IOException io) {\r\n    \t\t\t\tLOG.error(&quot;Exception copying local file {}&quot;, io);\r\n    \t\t\t\tthrow new MessagingException(&quot;Could not backup local file, &quot; + f1.getName());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    }\r\n    \r\n    @Bean\r\n    public MessageChannel controlChannel() {\r\n    \tLOG.debug(&quot;controlChannel&quot;);\r\n    \treturn new DirectChannel();\r\n    }\r\n    \r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;controlChannel&quot;)\r\n    public ExpressionControlBusFactoryBean controlBus() {\r\n    \tLOG.debug(&quot;controlBus&quot;);\r\n    \tExpressionControlBusFactoryBean expressionControlBusFactoryBean = new ExpressionControlBusFactoryBean();\r\n    \treturn expressionControlBusFactoryBean;\r\n    }\r\n\r\nBecause I know when the event data file is provided from a external source, I have a method `runAsTask` which is executed as Spring Scheduler Task. The method adds a ChannelInterceptor to get the content of the file, then starts the Spring Integration ensemble via a ControlChannel message and finally get and return the event data from the received file.\r\n\r\nHere is the task method with its heart: the `getFile()` method:\r\n\r\n    private static final int FILE_GET_TIMEOUT_SEC = 30;\r\n\r\n    @Autowired\r\n    AbstractMessageChannel sftpInputChannel;\r\n    \r\n    @Autowired\r\n    MessageChannel controlChannel;\r\n    \r\n    @Scheduled(cron = &quot;${com.harry.potter.job.tasks.harry-potter-events-task.frequency}&quot;)\r\n    public void runAsTask() {\r\n    \r\n    \tif (env.isEnabled()) {\r\n    \t\tLOG.info(&quot;runAsTask: Storing Event Data, frequency={}&quot;, env.getFrequency());\r\n    \t\tjobLOG.info(&quot;---------------------------------------------------------------&quot;);\r\n    \t\tjobLOG.info(&quot;Job started: Storing Event Data&quot;);\r\n    \t} else {\r\n    \t\tLOG.debug(&quot;runAsTask&quot;);\r\n    \t\tLOG.debug(&quot;runAsTask {} not enabled: Storing Event Data, aborted.&quot;, jobId);\r\n    \t\treturn;\r\n    \t}\r\n    \r\n    \ttry {\r\n    \t\tevents = getFile();\r\n    \r\n    \t\t/* processing of the event data */\r\n    \t\t\r\n    \t\tjobLOG.info(&quot;Okay, send okay mail&quot;);\r\n    \t\tsendOkayMail();\r\n    \r\n    \t} catch (Exception e) {\r\n    \t\tLOG.error(&quot;{} failed! Exception: {}&quot;, jobId, e);\r\n    \t\tjobLOG.info(&quot;Job has errors, send error mail&quot;);\r\n    \t\tsendErrorMail();\r\n    \t} finally {\r\n    \t\tLOG.info(&quot;{} finished&quot;, jobId);\r\n    \t\tjobLOG.info(&quot;Job finished&quot;);\r\n    \t}\r\n    }\r\n    \r\n    public List&lt;Event&gt; getFile() {\r\n    \tLOG.debug(&quot;getFile&quot;);\r\n    \r\n    \tfinal List&lt;Event&gt; events = new ArrayList&lt;&gt;();\r\n    \r\n    \tCountDownLatch latch = new CountDownLatch(1);\r\n    \r\n    \tsftpInputChannel.addInterceptor(new ChannelInterceptor() {\r\n    \t\t// capture the message and count down the latch\r\n    \t\t@Override\r\n    \t\tpublic void postSend(Message&lt;?&gt; message, MessageChannel channel, boolean sent) {\r\n    \t\t\tLOG.debug(&quot;postSend channel={}, sent={}&quot;, channel.toString(), sent);\r\n    \t\t\tLOG.trace(&quot;postSend message={}&quot;, message.getPayload());\r\n    \r\n    \t\t\t// read and transform the content\r\n    \t\t\tArrays.stream((Event[]) message.getPayload()).forEach(e -&gt; events.add(e));\r\n    \r\n    \t\t\t// signal: work has done\r\n    \t\t\tlatch.countDown();\r\n    \t\t\tChannelInterceptor.super.postSend(message, channel, sent);\r\n    \t\t}\r\n    \t\t\r\n    \t});\r\n    \r\n    \tboolean sent = controlChannel.send(new GenericMessage&lt;&gt;(&quot;@sftpInboundAdapter.start()&quot;));\r\n    \tLOG.debug(&quot;getFile &#39;Start&#39; control message sent successfully={}&quot;, sent);\r\n    \r\n    \ttry {\r\n    \t\tLOG.debug(&quot;getFile, waiting for the file to be received, timeout={}s&quot;, FILE_GET_TIMEOUT_SEC);\r\n    \t\tif (latch.await(FILE_GET_TIMEOUT_SEC, TimeUnit.SECONDS)) {\r\n    \t\t\treturn events;\r\n    \t\t}\r\n    \t}\r\n    \tcatch (InterruptedException e) {\r\n    \t\tLOG.warn(&quot;getFile, job was interrupted&quot;);\r\n    \t}\r\n    \r\n    \tthrow new IllegalStateException(&quot;expected file not available&quot;);\r\n    }\r\n\r\n**There are two problems**:\r\n\r\n1. The `ChannelInterceptor` is added multiple times (see in the LOG `postSend channel=bean &#39;sftpInputChannel&#39; ...`). Where should I add the interceptor to just have one? Or how can I check if an interceptor already was added?\r\n\r\n2. The file is fetched from SFTP just the first time (see the `com.jcraft.jsch` lines in the LOG). All subsequent task cycles no more negociation with the SFTP host occured. To fetch the file every cycle I was told to use a `SimpleMetadataStore` for the `LocalDirectoryFilter` backed by a Map and clear this map after processing the file, which I do. What do I have to change to have the file fetched from SFTP each time the task is running? \r\n\r\nHere is the LOG having started the task for two times:\r\n\r\n    2021-10-09 01:35:52.688  INFO [] --- [http-nio-8080-exec-220]  c.h.potter.job.MyJobApplication          : The following profiles are active: test,cdsclient\r\n    2021-10-09 01:35:53.960  WARN [] --- [http-nio-8080-exec-220]  o.s.boot.actuate.endpoint.EndpointId     : Endpoint ID &#39;service-registry&#39; contains invalid characters, please migrate to a valid format.\r\n    2021-10-09 01:35:54.141  INFO [] --- [http-nio-8080-exec-220]  o.s.cloud.context.scope.GenericScope     : BeanFactory id=301a6a9f-3809-32e6-b15b-e640dd198297\r\n    2021-10-09 01:35:54.149  INFO [] --- [http-nio-8080-exec-220]  faultConfiguringBeanFactoryPostProcessor : No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\r\n    2021-10-09 01:35:54.155  INFO [] --- [http-nio-8080-exec-220]  faultConfiguringBeanFactoryPostProcessor : No bean named &#39;taskScheduler&#39; has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.\r\n    2021-10-09 01:35:54.160  INFO [] --- [http-nio-8080-exec-220]  faultConfiguringBeanFactoryPostProcessor : No bean named &#39;integrationHeaderChannelRegistry&#39; has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\r\n    2021-10-09 01:35:54.282  INFO [] --- [http-nio-8080-exec-220]  trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.integration.config.IntegrationManagementConfiguration&#39; of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2021-10-09 01:35:54.300  INFO [] --- [http-nio-8080-exec-220]  trationDelegate$BeanPostProcessorChecker : Bean &#39;integrationChannelResolver&#39; of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2021-10-09 01:35:54.301  INFO [] --- [http-nio-8080-exec-220]  trationDelegate$BeanPostProcessorChecker : Bean &#39;integrationDisposableAutoCreatedBeans&#39; of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2021-10-09 01:35:54.363  INFO [] --- [http-nio-8080-exec-220]  w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1668 ms\r\n    2021-10-09 01:35:54.967  WARN [] --- [http-nio-8080-exec-220]  c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.\r\n    2021-10-09 01:35:54.967  INFO [] --- [http-nio-8080-exec-220]  c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\r\n    2021-10-09 01:35:54.981  INFO [] --- [http-nio-8080-exec-220]  c.netflix.config.DynamicPropertyFactory  : DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@db52778f\r\n    2021-10-09 01:35:55.158 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : sftpInputChannel\r\n    2021-10-09 01:35:55.224 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : controlChannel\r\n    2021-10-09 01:35:55.476 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : transferChannel\r\n    2021-10-09 01:35:55.477 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : transferContext\r\n    2021-10-09 01:35:55.477 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : sftpSessionFactory\r\n    2021-10-09 01:35:55.486 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : sftpInboundFlow\r\n    2021-10-09 01:35:55.587 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : MessageHandler-handler\r\n    2021-10-09 01:35:55.588 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : MessageHandler-deleteLocalFileService\r\n    2021-10-09 01:35:55.589 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : controlBus\r\n    2021-10-09 01:35:56.271  INFO [] --- [http-nio-8080-exec-220]  o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService &#39;taskScheduler&#39;\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the &#39;errorChannel&#39; channel\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application-1.errorChannel&#39; has 1 subscriber(s).\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;_org.springframework.integration.errorLogger&#39;\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {json-to-object-transformer} as a subscriber to the &#39;sftpInboundFlow.channel#0&#39; channel\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.integration.channel.DirectChannel    : Channel &#39;application-1.sftpInboundFlow.channel#0&#39; has 1 subscriber(s).\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;sftpInboundFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0&#39;; defined in: &#39;class path resource [com/harry/potter/job/config/sftpConfiguration.class]&#39;; from source: &#39;bean method sftpInboundFlow&#39;\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:sftpConfiguration.handler.serviceActivator} as a subscriber to the &#39;sftpInputChannel&#39; channel\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application-1.sftpInputChannel&#39; has 1 subscriber(s).\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;sftpConfiguration.handler.serviceActivator&#39;\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:sftpConfiguration.deleteLocalFileService.serviceActivator} as a subscriber to the &#39;sftpInputChannel&#39; channel\r\n    2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application-1.sftpInputChannel&#39; has 2 subscriber(s).\r\n    2021-10-09 01:35:56.336  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;sftpConfiguration.deleteLocalFileService.serviceActivator&#39;\r\n    2021-10-09 01:35:56.336  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:sftpConfiguration.controlBus.serviceActivator} as a subscriber to the &#39;controlChannel&#39; channel\r\n    2021-10-09 01:35:56.336  INFO [] --- [http-nio-8080-exec-220]  o.s.integration.channel.DirectChannel    : Channel &#39;application-1.controlChannel&#39; has 1 subscriber(s).\r\n    2021-10-09 01:35:56.336  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;sftpConfiguration.controlBus.serviceActivator&#39;\r\n    2021-10-09 01:35:56.344  INFO [] --- [http-nio-8080-exec-220]  o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING\r\n    2021-10-09 01:35:56.380  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1\r\n    2021-10-09 01:35:56.449  INFO [] --- [http-nio-8080-exec-220]  c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson\r\n    2021-10-09 01:35:56.449  INFO [] --- [http-nio-8080-exec-220]  c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson\r\n    2021-10-09 01:35:56.550  INFO [] --- [http-nio-8080-exec-220]  c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml\r\n    2021-10-09 01:35:56.550  INFO [] --- [http-nio-8080-exec-220]  c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml\r\n    2021-10-09 01:35:56.722  INFO [] --- [http-nio-8080-exec-220]  c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration\r\n    2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Disable delta property : false\r\n    2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null\r\n    2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false\r\n    2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Application is null : false\r\n    2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true\r\n    2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Application version is -1: true\r\n    2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server\r\n    2021-10-09 01:35:56.953  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : The response status is 200\r\n    2021-10-09 01:35:56.955  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Not registering with Eureka server per configuration\r\n    2021-10-09 01:35:56.958  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1633736156957 with initial instances count: 69\r\n    2021-10-09 01:35:56.959  INFO [] --- [http-nio-8080-exec-220]  o.s.c.n.e.s.EurekaServiceRegistry        : Registering application MyJob with eureka with status UP\r\n    2021-10-09 01:35:56.986  INFO [] --- [http-nio-8080-exec-220]  c.h.potter.job.MyJobApplication          : Started MyJobApplication in 5.36 seconds (JVM running for 996008.867)\r\n    2021-10-09 01:36:00.000  INFO [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : runAsTask: Storing Event Data, frequency=0/30 * * * * *\r\n    2021-10-09 01:36:00.001  INFO [] --- [pool-240-thread-1]  job-MyJob                                : ---------------------------------------------------------------\r\n    2021-10-09 01:36:00.001  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Job started: Storing Event Data\r\n    2021-10-09 01:36:00.001 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile\r\n    2021-10-09 01:36:00.031  INFO [] --- [pool-240-thread-1]  o.s.i.e.SourcePollingChannelAdapter      : started bean &#39;sftpInboundAdapter&#39;; defined in: &#39;class path resource [com/harry/potter/job/config/sftpConfiguration.class]&#39;; from source: &#39;bean method sftpInboundFlow&#39;\r\n    2021-10-09 01:36:00.033 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile &#39;Start&#39; control message sent successfully=true\r\n    2021-10-09 01:36:00.033 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile, waiting for the file to be received, timeout=60s\r\n    2021-10-09 01:36:00.055  INFO [] --- [pool-240-thread-2]  com.jcraft.jsch                          : Connecting to my.sftp.server.de     port 22\r\n    2021-10-09 01:36:00.057  INFO [] --- [pool-240-thread-2]  com.jcraft.jsch                          : Connection established\r\n    ...\r\n    2021-10-09 01:36:00.158  INFO [] --- [pool-240-thread-2]  o.s.i.s.s.DefaultSftpSessionFactory      : The authenticity of host &#39;my.sftp.server.de&#39; can&#39;t be established.\r\n    RSA key fingerprint is 4d:fe:f9:35:08:20:2e:76:76:55:7a:1d:5d:5d:1c:90.\r\n    Are you sure you want to continue connecting?\r\n    2021-10-09 01:36:00.158  WARN [] --- [pool-240-thread-2]  com.jcraft.jsch                          : Permanently added &#39;my.sftp.server.de&#39; (RSA) to the list of known hosts.\r\n    ...\r\n    2021-10-09 01:36:00.385  INFO [] --- [pool-240-thread-2]  com.jcraft.jsch                          : Authentication succeeded (publickey).\r\n    2021-10-09 01:36:00.447 DEBUG [] --- [pool-240-thread-2]  c.l.c.c.c.sftpConfiguration              : handleMessage message=GenericMessage [payload=[Lcom.harry.potter.job.miscellaneous.Event;@24b4484b, headers={file_remoteHostPort=my.sftp.server.de:22, file_name=EventData.txt, file_remoteDirectory=/data, file_originalFile=/home/app/sftp-inbound-work/EventData.txt, id=fa7b1773-d522-9f0f-e8ed-8fcf3bebe23a, file_relativePath=EventData.txt, file_remoteFile=EventData.txt, timestamp=1633736160447}]\r\n    2021-10-09 01:36:00.447 DEBUG [] --- [pool-240-thread-2]  c.l.c.c.c.sftpConfiguration              : deleteLocalFileService file=/home/app/sftp-inbound-work/EventData.txt removed\r\n    2021-10-09 01:36:00.447 DEBUG [] --- [pool-240-thread-2]  c.l.c.job.MyJobTask                      : postSend channel=bean &#39;sftpInputChannel&#39;; defined in: &#39;class path resource [com/harry/potter/job/config/sftpConfiguration.class]&#39;; from source: &#39;org.springframework.core.type.classreading.SimpleMethodMetadata@1de2b65c&#39;, sent=true\r\n    2021-10-09 01:36:00.448 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : createEvents\r\n    2021-10-09 01:36:01.384  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Okay, send okay mail\r\n    2021-10-09 01:36:01.384 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : sendOkayMail\r\n    2021-10-09 01:36:01.512  INFO [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : MyJob finished\r\n    2021-10-09 01:36:01.512  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Job finished\r\n    2021-10-09 01:36:30.001  INFO [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : runAsTask: Storing Event Data, frequency=0/30 * * * * *\r\n    2021-10-09 01:36:30.001  INFO [] --- [pool-240-thread-1]  job-MyJob                                : ---------------------------------------------------------------\r\n    2021-10-09 01:36:30.001  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Job started: Storing Event Data\r\n    2021-10-09 01:36:30.001 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile\r\n    2021-10-09 01:36:30.002 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile &#39;Start&#39; control message sent successfully=true\r\n    2021-10-09 01:36:30.002 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile, waiting for the file to be received, timeout=60s\r\n    2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-3]  c.l.c.c.c.sftpConfiguration              : handleMessage message=GenericMessage [payload=[Lcom.harry.potter.job.miscellaneous.Event;@b2cd829f, headers={file_remoteHostPort=my.sftp.server.de:22, file_name=EventData.txt, file_remoteDirectory=/data, file_originalFile=/home/app/sftp-inbound-work/EventData.txt, id=e6558e48-db84-fd2f-2195-c43d3e245127, file_relativePath=EventData.txt, file_remoteFile=EventData.txt, timestamp=1633736190062}]\r\n    2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-3]  c.l.c.c.c.sftpConfiguration              : deleteLocalFileService file=/home/app/sftp-inbound-work/EventData.txt removed\r\n    2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-3]  c.l.c.job.MyJobTask                      : postSend channel=bean &#39;sftpInputChannel&#39;; defined in: &#39;class path resource [com/harry/potter/job/config/sftpConfiguration.class]&#39;; from source: &#39;org.springframework.core.type.classreading.SimpleMethodMetadata@1de2b65c&#39;, sent=true\r\n    2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-3]  c.l.c.job.MyJobTask                      : postSend channel=bean &#39;sftpInputChannel&#39;; defined in: &#39;class path resource [com/harry/potter/job/config/sftpConfiguration.class]&#39;; from source: &#39;org.springframework.core.type.classreading.SimpleMethodMetadata@1de2b65c&#39;, sent=true\r\n    2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : createEvents\r\n    2021-10-09 01:36:30.394  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Okay, send okay mail\r\n    2021-10-09 01:36:30.395 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : sendOkayMail\r\n    2021-10-09 01:36:30.457  INFO [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : MyJob finished\r\n    2021-10-09 01:36:30.457  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Job finished\r\n    ...\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.e.SourcePollingChannelAdapter      : stopped bean &#39;sftpInboundAdapter&#39;; defined in: &#39;class path resource [com/harry/potter/job/config/sftpConfiguration.class]&#39;; from source: &#39;bean method sftpInboundFlow&#39;\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {json-to-object-transformer} as a subscriber to the &#39;sftpInboundFlow.channel#0&#39; channel\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.integration.channel.DirectChannel    : Channel &#39;application-1.sftpInboundFlow.channel#0&#39; has 0 subscriber(s).\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean &#39;sftpInboundFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0&#39;; defined in: &#39;class path resource [com/harry/potter/job/config/sftpConfiguration.class]&#39;; from source: &#39;bean method sftpInboundFlow&#39;\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the &#39;errorChannel&#39; channel\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application-1.errorChannel&#39; has 0 subscriber(s).\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean &#39;_org.springframework.integration.errorLogger&#39;\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:sftpConfiguration.handler.serviceActivator} as a subscriber to the &#39;sftpInputChannel&#39; channel\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application-1.sftpInputChannel&#39; has 1 subscriber(s).\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean &#39;sftpConfiguration.handler.serviceActivator&#39;\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:sftpConfiguration.deleteLocalFileService.serviceActivator} as a subscriber to the &#39;sftpInputChannel&#39; channel\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application-1.sftpInputChannel&#39; has 0 subscriber(s).\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean &#39;sftpConfiguration.deleteLocalFileService.serviceActivator&#39;\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:sftpConfiguration.controlBus.serviceActivator} as a subscriber to the &#39;controlChannel&#39; channel\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.integration.channel.DirectChannel    : Channel &#39;application-1.controlChannel&#39; has 0 subscriber(s).\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean &#39;sftpConfiguration.controlBus.serviceActivator&#39;\r\n    2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService &#39;taskScheduler&#39;\r\n\r\n","title":"How do I force the SftpInboundAdapter to connect and get a file every time a task is executed?","body":"<p>This is my scenario: I get every month a file to <code>my.sftp.server.de</code> with event data as JSON. The file has always exactly the same name. I know when the file is provided.</p>\n<p>The file then shall be fetched, processed, removed and backuped with another filename showing the timestamp of procession. This is done with a subscribed MessageHandler <code>deleteLocalFileService</code>.</p>\n<p>Here are my Spring Integration classes:</p>\n<pre><code>@Autowired\nprivate Executor taskExecutor;\n\nprivate ConcurrentMap&lt;String, String&gt; metadata = new ConcurrentHashMap&lt;&gt;();\n\n@Bean\npublic SessionFactory&lt;LsEntry&gt; sftpSessionFactory(TransferChannel transferChannel) {\n    LOG.debug(&quot;sftpSessionFactory&quot;);\n    DefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();\n    ...\n    return new CachingSessionFactory&lt;LsEntry&gt;(sf);\n}\n\n@Bean\npublic IntegrationFlow sftpInboundFlow(TransferContext context) {\n    LOG.debug(&quot;sftpInboundFlow&quot;);\n    return IntegrationFlows\n        .from(Sftp.inboundAdapter(sftpSessionFactory(context.getChannel()))\n                .preserveTimestamp(context.isPreserveTimestamp())\n                .remoteDirectory(context.getRemoteDir())\n                .regexFilter(context.getRemoteFilename())\n                .deleteRemoteFiles(context.isRemoteRemove())\n                .autoCreateLocalDirectory(context.isAutoCreateLocalDir())\n                .localFilenameExpression(context.getLocalFilename())\n                .localDirectory(new File(context.getLocalDir()))\n                .localFilter(new FileSystemPersistentAcceptOnceFileListFilter(\n                        new SimpleMetadataStore(metadata), &quot;&quot;)),\n            e -&gt; e.id(&quot;sftpInboundAdapter&quot;)\n                .autoStartup(false)\n                .poller(Pollers.fixedDelay(15000).taskExecutor(taskExecutor))\n            )\n        .transform(Transformers.fromJson(Event[].class))\n        .channel(&quot;sftpInputChannel&quot;)\n        .get();\n}\n\n@Bean\npublic PublishSubscribeChannel sftpInputChannel() {\n    LOG.debug(&quot;sftpInputChannel&quot;);\n    return new PublishSubscribeChannel();\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;sftpInputChannel&quot;)\npublic MessageHandler handler() {\n    LOG.debug(&quot;MessageHandler-handler&quot;);\n    return new MessageHandler() {\n        @Override\n        public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\n            LOG.debug(&quot;handleMessage message={}&quot;, message);\n        }\n    };\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;sftpInputChannel&quot;)\npublic MessageHandler deleteLocalFileService() {\n    LOG.debug(&quot;MessageHandler-deleteLocalFileService&quot;);\n    return new MessageHandler() {\n        @Override\n        public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\n            File f1 = (File) message.getHeaders().get(&quot;file_originalFile&quot;);\n            try {\n                // create backup copy in another directory\n                // (otherwise the remote and local filters avoid fetch of the (new) file again)\n                File f2 = new File(&quot;/home/app/sftp-inbound-work/EventData.txt.SAVE.&quot; +\n                        LocalDateTime.now().format(ISO_LOCAL_DATE_TIME));\n                FileUtil.copyFile(f1, f2);\n                LOG.debug(&quot;deleteLocalFileService backup={} created&quot;, f2);\n\n                // remove received file\n                if (!f1.delete()) {\n                    throw new MessagingException(&quot;Could not remove local file, &quot; + f1.getName());\n                };\n                metadata.clear();\n                LOG.debug(&quot;deleteLocalFileService file={} removed&quot;, f1);\n            }\n            catch (IOException io) {\n                LOG.error(&quot;Exception copying local file {}&quot;, io);\n                throw new MessagingException(&quot;Could not backup local file, &quot; + f1.getName());\n            }\n        }\n    };\n}\n\n@Bean\npublic MessageChannel controlChannel() {\n    LOG.debug(&quot;controlChannel&quot;);\n    return new DirectChannel();\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;controlChannel&quot;)\npublic ExpressionControlBusFactoryBean controlBus() {\n    LOG.debug(&quot;controlBus&quot;);\n    ExpressionControlBusFactoryBean expressionControlBusFactoryBean = new ExpressionControlBusFactoryBean();\n    return expressionControlBusFactoryBean;\n}\n</code></pre>\n<p>Because I know when the event data file is provided from a external source, I have a method <code>runAsTask</code> which is executed as Spring Scheduler Task. The method adds a ChannelInterceptor to get the content of the file, then starts the Spring Integration ensemble via a ControlChannel message and finally get and return the event data from the received file.</p>\n<p>Here is the task method with its heart: the <code>getFile()</code> method:</p>\n<pre><code>private static final int FILE_GET_TIMEOUT_SEC = 30;\n\n@Autowired\nAbstractMessageChannel sftpInputChannel;\n\n@Autowired\nMessageChannel controlChannel;\n\n@Scheduled(cron = &quot;${com.harry.potter.job.tasks.harry-potter-events-task.frequency}&quot;)\npublic void runAsTask() {\n\n    if (env.isEnabled()) {\n        LOG.info(&quot;runAsTask: Storing Event Data, frequency={}&quot;, env.getFrequency());\n        jobLOG.info(&quot;---------------------------------------------------------------&quot;);\n        jobLOG.info(&quot;Job started: Storing Event Data&quot;);\n    } else {\n        LOG.debug(&quot;runAsTask&quot;);\n        LOG.debug(&quot;runAsTask {} not enabled: Storing Event Data, aborted.&quot;, jobId);\n        return;\n    }\n\n    try {\n        events = getFile();\n\n        /* processing of the event data */\n        \n        jobLOG.info(&quot;Okay, send okay mail&quot;);\n        sendOkayMail();\n\n    } catch (Exception e) {\n        LOG.error(&quot;{} failed! Exception: {}&quot;, jobId, e);\n        jobLOG.info(&quot;Job has errors, send error mail&quot;);\n        sendErrorMail();\n    } finally {\n        LOG.info(&quot;{} finished&quot;, jobId);\n        jobLOG.info(&quot;Job finished&quot;);\n    }\n}\n\npublic List&lt;Event&gt; getFile() {\n    LOG.debug(&quot;getFile&quot;);\n\n    final List&lt;Event&gt; events = new ArrayList&lt;&gt;();\n\n    CountDownLatch latch = new CountDownLatch(1);\n\n    sftpInputChannel.addInterceptor(new ChannelInterceptor() {\n        // capture the message and count down the latch\n        @Override\n        public void postSend(Message&lt;?&gt; message, MessageChannel channel, boolean sent) {\n            LOG.debug(&quot;postSend channel={}, sent={}&quot;, channel.toString(), sent);\n            LOG.trace(&quot;postSend message={}&quot;, message.getPayload());\n\n            // read and transform the content\n            Arrays.stream((Event[]) message.getPayload()).forEach(e -&gt; events.add(e));\n\n            // signal: work has done\n            latch.countDown();\n            ChannelInterceptor.super.postSend(message, channel, sent);\n        }\n        \n    });\n\n    boolean sent = controlChannel.send(new GenericMessage&lt;&gt;(&quot;@sftpInboundAdapter.start()&quot;));\n    LOG.debug(&quot;getFile 'Start' control message sent successfully={}&quot;, sent);\n\n    try {\n        LOG.debug(&quot;getFile, waiting for the file to be received, timeout={}s&quot;, FILE_GET_TIMEOUT_SEC);\n        if (latch.await(FILE_GET_TIMEOUT_SEC, TimeUnit.SECONDS)) {\n            return events;\n        }\n    }\n    catch (InterruptedException e) {\n        LOG.warn(&quot;getFile, job was interrupted&quot;);\n    }\n\n    throw new IllegalStateException(&quot;expected file not available&quot;);\n}\n</code></pre>\n<p><strong>There are two problems</strong>:</p>\n<ol>\n<li><p>The <code>ChannelInterceptor</code> is added multiple times (see in the LOG <code>postSend channel=bean 'sftpInputChannel' ...</code>). Where should I add the interceptor to just have one? Or how can I check if an interceptor already was added?</p>\n</li>\n<li><p>The file is fetched from SFTP just the first time (see the <code>com.jcraft.jsch</code> lines in the LOG). All subsequent task cycles no more negociation with the SFTP host occured. To fetch the file every cycle I was told to use a <code>SimpleMetadataStore</code> for the <code>LocalDirectoryFilter</code> backed by a Map and clear this map after processing the file, which I do. What do I have to change to have the file fetched from SFTP each time the task is running?</p>\n</li>\n</ol>\n<p>Here is the LOG having started the task for two times:</p>\n<pre><code>2021-10-09 01:35:52.688  INFO [] --- [http-nio-8080-exec-220]  c.h.potter.job.MyJobApplication          : The following profiles are active: test,cdsclient\n2021-10-09 01:35:53.960  WARN [] --- [http-nio-8080-exec-220]  o.s.boot.actuate.endpoint.EndpointId     : Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.\n2021-10-09 01:35:54.141  INFO [] --- [http-nio-8080-exec-220]  o.s.cloud.context.scope.GenericScope     : BeanFactory id=301a6a9f-3809-32e6-b15b-e640dd198297\n2021-10-09 01:35:54.149  INFO [] --- [http-nio-8080-exec-220]  faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\n2021-10-09 01:35:54.155  INFO [] --- [http-nio-8080-exec-220]  faultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.\n2021-10-09 01:35:54.160  INFO [] --- [http-nio-8080-exec-220]  faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\n2021-10-09 01:35:54.282  INFO [] --- [http-nio-8080-exec-220]  trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-10-09 01:35:54.300  INFO [] --- [http-nio-8080-exec-220]  trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-10-09 01:35:54.301  INFO [] --- [http-nio-8080-exec-220]  trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-10-09 01:35:54.363  INFO [] --- [http-nio-8080-exec-220]  w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1668 ms\n2021-10-09 01:35:54.967  WARN [] --- [http-nio-8080-exec-220]  c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.\n2021-10-09 01:35:54.967  INFO [] --- [http-nio-8080-exec-220]  c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\n2021-10-09 01:35:54.981  INFO [] --- [http-nio-8080-exec-220]  c.netflix.config.DynamicPropertyFactory  : DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@db52778f\n2021-10-09 01:35:55.158 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : sftpInputChannel\n2021-10-09 01:35:55.224 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : controlChannel\n2021-10-09 01:35:55.476 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : transferChannel\n2021-10-09 01:35:55.477 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : transferContext\n2021-10-09 01:35:55.477 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : sftpSessionFactory\n2021-10-09 01:35:55.486 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : sftpInboundFlow\n2021-10-09 01:35:55.587 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : MessageHandler-handler\n2021-10-09 01:35:55.588 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : MessageHandler-deleteLocalFileService\n2021-10-09 01:35:55.589 DEBUG [] --- [http-nio-8080-exec-220]  c.l.c.c.c.sftpConfiguration              : controlBus\n2021-10-09 01:35:56.271  INFO [] --- [http-nio-8080-exec-220]  o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.channel.PublishSubscribeChannel    : Channel 'application-1.errorChannel' has 1 subscriber(s).\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {json-to-object-transformer} as a subscriber to the 'sftpInboundFlow.channel#0' channel\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.integration.channel.DirectChannel    : Channel 'application-1.sftpInboundFlow.channel#0' has 1 subscriber(s).\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean 'sftpInboundFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0'; defined in: 'class path resource [com/harry/potter/job/config/sftpConfiguration.class]'; from source: 'bean method sftpInboundFlow'\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:sftpConfiguration.handler.serviceActivator} as a subscriber to the 'sftpInputChannel' channel\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.channel.PublishSubscribeChannel    : Channel 'application-1.sftpInputChannel' has 1 subscriber(s).\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean 'sftpConfiguration.handler.serviceActivator'\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:sftpConfiguration.deleteLocalFileService.serviceActivator} as a subscriber to the 'sftpInputChannel' channel\n2021-10-09 01:35:56.335  INFO [] --- [http-nio-8080-exec-220]  o.s.i.channel.PublishSubscribeChannel    : Channel 'application-1.sftpInputChannel' has 2 subscriber(s).\n2021-10-09 01:35:56.336  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean 'sftpConfiguration.deleteLocalFileService.serviceActivator'\n2021-10-09 01:35:56.336  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:sftpConfiguration.controlBus.serviceActivator} as a subscriber to the 'controlChannel' channel\n2021-10-09 01:35:56.336  INFO [] --- [http-nio-8080-exec-220]  o.s.integration.channel.DirectChannel    : Channel 'application-1.controlChannel' has 1 subscriber(s).\n2021-10-09 01:35:56.336  INFO [] --- [http-nio-8080-exec-220]  o.s.i.endpoint.EventDrivenConsumer       : started bean 'sftpConfiguration.controlBus.serviceActivator'\n2021-10-09 01:35:56.344  INFO [] --- [http-nio-8080-exec-220]  o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING\n2021-10-09 01:35:56.380  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1\n2021-10-09 01:35:56.449  INFO [] --- [http-nio-8080-exec-220]  c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson\n2021-10-09 01:35:56.449  INFO [] --- [http-nio-8080-exec-220]  c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson\n2021-10-09 01:35:56.550  INFO [] --- [http-nio-8080-exec-220]  c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml\n2021-10-09 01:35:56.550  INFO [] --- [http-nio-8080-exec-220]  c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml\n2021-10-09 01:35:56.722  INFO [] --- [http-nio-8080-exec-220]  c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration\n2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Disable delta property : false\n2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null\n2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false\n2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Application is null : false\n2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true\n2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Application version is -1: true\n2021-10-09 01:35:56.743  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server\n2021-10-09 01:35:56.953  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : The response status is 200\n2021-10-09 01:35:56.955  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Not registering with Eureka server per configuration\n2021-10-09 01:35:56.958  INFO [] --- [http-nio-8080-exec-220]  com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1633736156957 with initial instances count: 69\n2021-10-09 01:35:56.959  INFO [] --- [http-nio-8080-exec-220]  o.s.c.n.e.s.EurekaServiceRegistry        : Registering application MyJob with eureka with status UP\n2021-10-09 01:35:56.986  INFO [] --- [http-nio-8080-exec-220]  c.h.potter.job.MyJobApplication          : Started MyJobApplication in 5.36 seconds (JVM running for 996008.867)\n2021-10-09 01:36:00.000  INFO [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : runAsTask: Storing Event Data, frequency=0/30 * * * * *\n2021-10-09 01:36:00.001  INFO [] --- [pool-240-thread-1]  job-MyJob                                : ---------------------------------------------------------------\n2021-10-09 01:36:00.001  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Job started: Storing Event Data\n2021-10-09 01:36:00.001 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile\n2021-10-09 01:36:00.031  INFO [] --- [pool-240-thread-1]  o.s.i.e.SourcePollingChannelAdapter      : started bean 'sftpInboundAdapter'; defined in: 'class path resource [com/harry/potter/job/config/sftpConfiguration.class]'; from source: 'bean method sftpInboundFlow'\n2021-10-09 01:36:00.033 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile 'Start' control message sent successfully=true\n2021-10-09 01:36:00.033 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile, waiting for the file to be received, timeout=60s\n2021-10-09 01:36:00.055  INFO [] --- [pool-240-thread-2]  com.jcraft.jsch                          : Connecting to my.sftp.server.de     port 22\n2021-10-09 01:36:00.057  INFO [] --- [pool-240-thread-2]  com.jcraft.jsch                          : Connection established\n...\n2021-10-09 01:36:00.158  INFO [] --- [pool-240-thread-2]  o.s.i.s.s.DefaultSftpSessionFactory      : The authenticity of host 'my.sftp.server.de' can't be established.\nRSA key fingerprint is 4d:fe:f9:35:08:20:2e:76:76:55:7a:1d:5d:5d:1c:90.\nAre you sure you want to continue connecting?\n2021-10-09 01:36:00.158  WARN [] --- [pool-240-thread-2]  com.jcraft.jsch                          : Permanently added 'my.sftp.server.de' (RSA) to the list of known hosts.\n...\n2021-10-09 01:36:00.385  INFO [] --- [pool-240-thread-2]  com.jcraft.jsch                          : Authentication succeeded (publickey).\n2021-10-09 01:36:00.447 DEBUG [] --- [pool-240-thread-2]  c.l.c.c.c.sftpConfiguration              : handleMessage message=GenericMessage [payload=[Lcom.harry.potter.job.miscellaneous.Event;@24b4484b, headers={file_remoteHostPort=my.sftp.server.de:22, file_name=EventData.txt, file_remoteDirectory=/data, file_originalFile=/home/app/sftp-inbound-work/EventData.txt, id=fa7b1773-d522-9f0f-e8ed-8fcf3bebe23a, file_relativePath=EventData.txt, file_remoteFile=EventData.txt, timestamp=1633736160447}]\n2021-10-09 01:36:00.447 DEBUG [] --- [pool-240-thread-2]  c.l.c.c.c.sftpConfiguration              : deleteLocalFileService file=/home/app/sftp-inbound-work/EventData.txt removed\n2021-10-09 01:36:00.447 DEBUG [] --- [pool-240-thread-2]  c.l.c.job.MyJobTask                      : postSend channel=bean 'sftpInputChannel'; defined in: 'class path resource [com/harry/potter/job/config/sftpConfiguration.class]'; from source: 'org.springframework.core.type.classreading.SimpleMethodMetadata@1de2b65c', sent=true\n2021-10-09 01:36:00.448 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : createEvents\n2021-10-09 01:36:01.384  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Okay, send okay mail\n2021-10-09 01:36:01.384 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : sendOkayMail\n2021-10-09 01:36:01.512  INFO [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : MyJob finished\n2021-10-09 01:36:01.512  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Job finished\n2021-10-09 01:36:30.001  INFO [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : runAsTask: Storing Event Data, frequency=0/30 * * * * *\n2021-10-09 01:36:30.001  INFO [] --- [pool-240-thread-1]  job-MyJob                                : ---------------------------------------------------------------\n2021-10-09 01:36:30.001  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Job started: Storing Event Data\n2021-10-09 01:36:30.001 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile\n2021-10-09 01:36:30.002 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile 'Start' control message sent successfully=true\n2021-10-09 01:36:30.002 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : getFile, waiting for the file to be received, timeout=60s\n2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-3]  c.l.c.c.c.sftpConfiguration              : handleMessage message=GenericMessage [payload=[Lcom.harry.potter.job.miscellaneous.Event;@b2cd829f, headers={file_remoteHostPort=my.sftp.server.de:22, file_name=EventData.txt, file_remoteDirectory=/data, file_originalFile=/home/app/sftp-inbound-work/EventData.txt, id=e6558e48-db84-fd2f-2195-c43d3e245127, file_relativePath=EventData.txt, file_remoteFile=EventData.txt, timestamp=1633736190062}]\n2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-3]  c.l.c.c.c.sftpConfiguration              : deleteLocalFileService file=/home/app/sftp-inbound-work/EventData.txt removed\n2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-3]  c.l.c.job.MyJobTask                      : postSend channel=bean 'sftpInputChannel'; defined in: 'class path resource [com/harry/potter/job/config/sftpConfiguration.class]'; from source: 'org.springframework.core.type.classreading.SimpleMethodMetadata@1de2b65c', sent=true\n2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-3]  c.l.c.job.MyJobTask                      : postSend channel=bean 'sftpInputChannel'; defined in: 'class path resource [com/harry/potter/job/config/sftpConfiguration.class]'; from source: 'org.springframework.core.type.classreading.SimpleMethodMetadata@1de2b65c', sent=true\n2021-10-09 01:36:30.062 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : createEvents\n2021-10-09 01:36:30.394  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Okay, send okay mail\n2021-10-09 01:36:30.395 DEBUG [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : sendOkayMail\n2021-10-09 01:36:30.457  INFO [] --- [pool-240-thread-1]  c.l.c.job.MyJobTask                      : MyJob finished\n2021-10-09 01:36:30.457  INFO [] --- [pool-240-thread-1]  job-MyJob                                : Job finished\n...\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.e.SourcePollingChannelAdapter      : stopped bean 'sftpInboundAdapter'; defined in: 'class path resource [com/harry/potter/job/config/sftpConfiguration.class]'; from source: 'bean method sftpInboundFlow'\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {json-to-object-transformer} as a subscriber to the 'sftpInboundFlow.channel#0' channel\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.integration.channel.DirectChannel    : Channel 'application-1.sftpInboundFlow.channel#0' has 0 subscriber(s).\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'sftpInboundFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0'; defined in: 'class path resource [com/harry/potter/job/config/sftpConfiguration.class]'; from source: 'bean method sftpInboundFlow'\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.channel.PublishSubscribeChannel    : Channel 'application-1.errorChannel' has 0 subscriber(s).\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:sftpConfiguration.handler.serviceActivator} as a subscriber to the 'sftpInputChannel' channel\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.channel.PublishSubscribeChannel    : Channel 'application-1.sftpInputChannel' has 1 subscriber(s).\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'sftpConfiguration.handler.serviceActivator'\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:sftpConfiguration.deleteLocalFileService.serviceActivator} as a subscriber to the 'sftpInputChannel' channel\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.channel.PublishSubscribeChannel    : Channel 'application-1.sftpInputChannel' has 0 subscriber(s).\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'sftpConfiguration.deleteLocalFileService.serviceActivator'\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:sftpConfiguration.controlBus.serviceActivator} as a subscriber to the 'controlChannel' channel\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.integration.channel.DirectChannel    : Channel 'application-1.controlChannel' has 0 subscriber(s).\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'sftpConfiguration.controlBus.serviceActivator'\n2021-10-09 01:38:43.697  INFO [] --- [Catalina-utility-2]  o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19897462,"reputation":70,"user_id":14578278,"display_name":"Gabri"},"score":0,"creation_date":1634118658,"post_id":69553039,"comment_id":122938162,"body_markdown":"You are repeating data inside the table and that&#39;s a bad practice. Maybe create another table named &#39;room_changes&#39; and add the changes of every room there to have a record of every one?","body":"You are repeating data inside the table and that&#39;s a bad practice. Maybe create another table named &#39;room_changes&#39; and add the changes of every room there to have a record of every one?"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634648720,"creation_date":1634648720,"answer_id":69631362,"question_id":69553039,"body_markdown":"How about this mapping?\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;hotels&quot;)\r\npublic class Hotel { \r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   private Long id;\r\n\r\n   @Column(name = &quot;hotel_id, nullable = false, unique = true)\r\n   private Long hotelId;\r\n\r\n   @OneToMany(mappedBy = &quot;hotel&quot;)\r\n   private Set&lt;RoomType&gt; roomTypes;\r\n\r\n   ...\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;room_types&quot;)\r\npublic class RoomType {\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   private Long id;\r\n\r\n   @ManyToOne\r\n   @JoinColumn(name = &quot;hotel_id&quot;, referencedColumn = &quot;hotel_id&quot;)\r\n   private Hotel hotel;\r\n   ...\r\n}\r\n```","title":"How to implement One-To-Many relationship between non-primary keys?","body":"<p>How about this mapping?</p>\n<pre><code>@Entity\n@Table(name = &quot;hotels&quot;)\npublic class Hotel { \n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n\n   @Column(name = &quot;hotel_id, nullable = false, unique = true)\n   private Long hotelId;\n\n   @OneToMany(mappedBy = &quot;hotel&quot;)\n   private Set&lt;RoomType&gt; roomTypes;\n\n   ...\n}\n\n@Entity\n@Table(name = &quot;room_types&quot;)\npublic class RoomType {\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n\n   @ManyToOne\n   @JoinColumn(name = &quot;hotel_id&quot;, referencedColumn = &quot;hotel_id&quot;)\n   private Hotel hotel;\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":19177463,"reputation":375,"user_id":14009894,"display_name":"jimmayhem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634648720,"creation_date":1634117643,"question_id":69553039,"body_markdown":"I have three tables/entities: hotels, room types and rooms. Each hotel has multiple room types (single, double, etc), and each room type has multiple rooms associated.      \r\n\r\n```\r\nCREATE TABLE hotels(\r\n   id BIGSERIAL PRIMARY KEY,\r\n   hotel_id UUID NOT NULL\r\n);\r\n\r\nCREATE TABLE room_types(\r\n   id BIGSERIAL PRIMARY KEY,\r\n   hotel_id UUID NOT NULL,\r\n   room_type_id UUID NOT NULL,\r\n   FOREIGN KEY(hotel_id) REFERENCES hotels(hotel_id)\r\n);\r\n\r\nCREATE TABLE rooms(\r\n   id BIGSERIAL PRIMARY KEY,\r\n   room_type_id UUID NOT NULL,\r\n   room_id UUID NOT NULL,\r\n   FOREIGN KEY(room_type_id) REFERENCES room_types(room_type_id)\r\n);\r\n```\r\nMoreover, my assignment is to create these tables in a way that they reflect history of changes of each entity, for example\r\n```\r\nhotels\r\n---------------------------------\r\n| id | hotel_id | hotel_name\r\n---------------------------------\r\n| 1  | 501      | &#39;Grand Royale&#39; \r\n| 2  | 501      | &#39;Grand-Royale&#39;    -- change name\r\n| 3  | 501      | &#39;Grand Royale 5*&#39; -- change name\r\n| 4  | 256      | &#39;Ocean Blue&#39;\r\n\r\nroom_types\r\n-----------------------------------------------------\r\n| id | hotel_id | room_type_id   | room_name\r\n-----------------------------------------------------\r\n| 1  | 501      | 44             | &#39;Single&#39;\r\n| 2  | 501      | 44             | &#39;Single Standard&#39; -- change name\r\n\r\n\r\n\r\n```\r\nSame applies to room types and rooms. So I have primary key `id` which only reflects the number of a record, while every property (name, price, address, etc) can change. The only thing that doesn&#39;t change are unique ids `hotel_id`, `room_type_id` and `room_id`\r\n\r\nI was able to do all of these while using plain java.sql.*, but now I need to rework the project with Spring Data JPA and Hibernate, and I am totally lost on how to map it\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;hotels&quot;)\r\npublic class Hotel { \r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   private Long id;\r\n\r\n   @OneToMany(mappedBy = &quot;hotel&quot;)\r\n   private Set&lt;RoomType&gt; roomTypes; // ???\r\n\r\n   ...\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;room_types&quot;)\r\npublic class RoomType {\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   private Long id;\r\n\r\n   @ManyToOne\r\n   @JoinColumn(name = &quot;hotel_id&quot;, referencedColumn = &quot;id&quot;) // ???\r\n   private Hotel hotel;\r\n   ...\r\n}\r\n\r\n```","title":"How to implement One-To-Many relationship between non-primary keys?","body":"<p>I have three tables/entities: hotels, room types and rooms. Each hotel has multiple room types (single, double, etc), and each room type has multiple rooms associated.</p>\n<pre><code>CREATE TABLE hotels(\n   id BIGSERIAL PRIMARY KEY,\n   hotel_id UUID NOT NULL\n);\n\nCREATE TABLE room_types(\n   id BIGSERIAL PRIMARY KEY,\n   hotel_id UUID NOT NULL,\n   room_type_id UUID NOT NULL,\n   FOREIGN KEY(hotel_id) REFERENCES hotels(hotel_id)\n);\n\nCREATE TABLE rooms(\n   id BIGSERIAL PRIMARY KEY,\n   room_type_id UUID NOT NULL,\n   room_id UUID NOT NULL,\n   FOREIGN KEY(room_type_id) REFERENCES room_types(room_type_id)\n);\n</code></pre>\n<p>Moreover, my assignment is to create these tables in a way that they reflect history of changes of each entity, for example</p>\n<pre><code>hotels\n---------------------------------\n| id | hotel_id | hotel_name\n---------------------------------\n| 1  | 501      | 'Grand Royale' \n| 2  | 501      | 'Grand-Royale'    -- change name\n| 3  | 501      | 'Grand Royale 5*' -- change name\n| 4  | 256      | 'Ocean Blue'\n\nroom_types\n-----------------------------------------------------\n| id | hotel_id | room_type_id   | room_name\n-----------------------------------------------------\n| 1  | 501      | 44             | 'Single'\n| 2  | 501      | 44             | 'Single Standard' -- change name\n\n\n\n</code></pre>\n<p>Same applies to room types and rooms. So I have primary key <code>id</code> which only reflects the number of a record, while every property (name, price, address, etc) can change. The only thing that doesn't change are unique ids <code>hotel_id</code>, <code>room_type_id</code> and <code>room_id</code></p>\n<p>I was able to do all of these while using plain java.sql.*, but now I need to rework the project with Spring Data JPA and Hibernate, and I am totally lost on how to map it</p>\n<pre><code>@Entity\n@Table(name = &quot;hotels&quot;)\npublic class Hotel { \n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n\n   @OneToMany(mappedBy = &quot;hotel&quot;)\n   private Set&lt;RoomType&gt; roomTypes; // ???\n\n   ...\n}\n\n@Entity\n@Table(name = &quot;room_types&quot;)\npublic class RoomType {\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n\n   @ManyToOne\n   @JoinColumn(name = &quot;hotel_id&quot;, referencedColumn = &quot;id&quot;) // ???\n   private Hotel hotel;\n   ...\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1451992137,"post_id":34610219,"comment_id":56965425,"body_markdown":"Post your String.xml file","body":"Post your String.xml file"},{"owner":{"account_id":3772408,"reputation":35021,"user_id":3134215,"accept_rate":42,"display_name":"Ravi"},"score":0,"creation_date":1451992256,"post_id":34610219,"comment_id":56965502,"body_markdown":"Reinstall your app once","body":"Reinstall your app once"}],"answers":[{"tags":[],"owner":{"account_id":3833424,"reputation":2806,"user_id":3178395,"accept_rate":43,"display_name":"Drilon Blakqori"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1451992212,"creation_date":1451992212,"answer_id":34610270,"question_id":34610219,"body_markdown":"go to your  values/strings.xml and change this\r\n\r\n    &lt;string name=&quot;app_name&quot;&gt;Splash&lt;/string&gt;\r\nto\r\n\r\n    &lt;string name=&quot;app_name&quot;&gt;YourName&lt;/string&gt;","title":"Change App Name in Android Studio","body":"<p>go to your  values/strings.xml and change this</p>\n\n<pre><code>&lt;string name=\"app_name\"&gt;Splash&lt;/string&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;string name=\"app_name\"&gt;YourName&lt;/string&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5043336,"reputation":13459,"user_id":4407266,"accept_rate":95,"display_name":"Aditya Vyas-Lakhan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451992259,"creation_date":1451992259,"answer_id":34610289,"question_id":34610219,"body_markdown":"you can change your name form string.xml\r\n\r\nlike this\r\n\r\n    &lt;string name=&quot;app_name&quot;&gt;Your App Name&lt;/string&gt;","title":"Change App Name in Android Studio","body":"<p>you can change your name form string.xml</p>\n\n<p>like this</p>\n\n<pre><code>&lt;string name=\"app_name\"&gt;Your App Name&lt;/string&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451992884,"creation_date":1451992884,"answer_id":34610492,"question_id":34610219,"body_markdown":"You can change the name of your app by making changes in your strings.xml,\r\n\r\n`&lt;string name=&quot;app_name&quot;&gt;Your App Name&lt;/string&gt;`\r\nAnd make sure that it is linked to the `label` attribute of `application` tag in your `manifest` file.\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; &gt;\r\n    ...\r\n    &lt;/application&gt;\r\n\r\n","title":"Change App Name in Android Studio","body":"<p>You can change the name of your app by making changes in your strings.xml,</p>\n\n<p><code>&lt;string name=\"app_name\"&gt;Your App Name&lt;/string&gt;</code>\nAnd make sure that it is linked to the <code>label</code> attribute of <code>application</code> tag in your <code>manifest</code> file.</p>\n\n<pre><code>&lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n...\n&lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5763342,"reputation":2260,"user_id":4549000,"accept_rate":50,"display_name":"Krishna Satwaji Khandagale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451993277,"creation_date":1451993277,"answer_id":34610624,"question_id":34610219,"body_markdown":"What it takes is your launcher activities label. Hence go to your manifest check its label and change it to whatever you want.\r\n\r\n     &lt;activity\r\n            android:name=&quot;.YourStartActivity&quot;\r\n            android:label=&quot;@string/your_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\nCreate your_name string in strings.xml . Should work . Hope it helps.","title":"Change App Name in Android Studio","body":"<p>What it takes is your launcher activities label. Hence go to your manifest check its label and change it to whatever you want.</p>\n\n<pre><code> &lt;activity\n        android:name=\".YourStartActivity\"\n        android:label=\"@string/your_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>Create your_name string in strings.xml . Should work . Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":5629490,"reputation":684,"user_id":4456809,"accept_rate":67,"display_name":"whd.nsr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451993654,"creation_date":1451993654,"answer_id":34610751,"question_id":34610219,"body_markdown":"change the title of the LAUNCHER activity, in your case the SplashActivity, so put he title you want int the title_activity_splash resource.","title":"Change App Name in Android Studio","body":"<p>change the title of the LAUNCHER activity, in your case the SplashActivity, so put he title you want int the title_activity_splash resource.</p>\n"},{"tags":[],"owner":{"account_id":7574727,"reputation":61,"user_id":5747463,"display_name":"ianmanda"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1451996631,"creation_date":1451996631,"answer_id":34611659,"question_id":34610219,"body_markdown":"You need to check 2 things here\r\n\r\n1. Your Android Mainifest show have something like this\r\n\r\n    &lt;activity\r\n        android:name=&quot;.YourStartActivity&quot;\r\n        android:label=&quot;@string/app_name&quot; &gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\nand navigate to Strings under Values, ensure you find this line inside your code\r\n\r\n    &lt;string name=&quot;app_name&quot;&gt;Your App Name HERE&lt;/string&gt;\r\n\r\n\r\nSo the String you are referencing to is &quot;app_name&quot;","title":"Change App Name in Android Studio","body":"<p>You need to check 2 things here</p>\n\n<ol>\n<li><p>Your Android Mainifest show have something like this</p>\n\n<p>\n    \n        </p>\n\n<pre><code>    &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n\n<p></p></li>\n</ol>\n\n<p>and navigate to Strings under Values, ensure you find this line inside your code</p>\n\n<pre><code>&lt;string name=\"app_name\"&gt;Your App Name HERE&lt;/string&gt;\n</code></pre>\n\n<p>So the String you are referencing to is \"app_name\"</p>\n"},{"tags":[],"owner":{"account_id":22349976,"reputation":1,"user_id":16568305,"display_name":"Jishnuraj K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627869595,"creation_date":1627750848,"answer_id":68604168,"question_id":34610219,"body_markdown":"Edit the value of `android:label=&quot;appname&quot;` inside the `&lt;application&gt;` in the manifest page.","title":"Change App Name in Android Studio","body":"<p>Edit the value of <code>android:label=&quot;appname&quot;</code> inside the <code>&lt;application&gt;</code> in the manifest page.</p>\n"},{"tags":[],"owner":{"account_id":22124039,"reputation":31,"user_id":16376750,"display_name":"Abhigyaan Bhardwaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634648531,"creation_date":1634648531,"answer_id":69631316,"question_id":34610219,"body_markdown":"Go to the res folder &gt; values &gt; strings. xml and change the app_name to your new name. Done!","title":"Change App Name in Android Studio","body":"<p>Go to the res folder &gt; values &gt; strings. xml and change the app_name to your new name. Done!</p>\n"}],"owner":{"account_id":6590531,"reputation":109,"user_id":5091870,"display_name":"Mahfuz Ahmed likhon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33241,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"answer_count":8,"score":8,"last_activity_date":1634648531,"creation_date":1451992073,"question_id":34610219,"body_markdown":"guy&#39;s there is a problem with android studio.I make a splash screen in Manifest then I run the app in emulator the app name is splash.see the screnshot.\r\n[ScreenShot1][1]\r\n\r\n[Screenshot][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v4HA6.png\r\n  [2]: https://i.stack.imgur.com/ty1fT.png\r\n\r\n    &lt;resources&gt;\r\n        &lt;string name=&quot;app_name&quot;&gt;Times Table&lt;/string&gt;\r\n        &lt;string name=&quot;action_settings&quot;&gt;Settings&lt;/string&gt;\r\n        &lt;string name=&quot;title_activity_splash&quot;&gt;Splash&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\nneed help.\r\n\r\n","title":"Change App Name in Android Studio","body":"<p>guy's there is a problem with android studio.I make a splash screen in Manifest then I run the app in emulator the app name is splash.see the screnshot.\n<a href=\"https://i.stack.imgur.com/v4HA6.png\" rel=\"noreferrer\">ScreenShot1</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ty1fT.png\" rel=\"noreferrer\">Screenshot</a></p>\n\n<pre><code>&lt;resources&gt;\n    &lt;string name=\"app_name\"&gt;Times Table&lt;/string&gt;\n    &lt;string name=\"action_settings\"&gt;Settings&lt;/string&gt;\n    &lt;string name=\"title_activity_splash\"&gt;Splash&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>need help.</p>\n"},{"tags":["java","tomcat","web.xml"],"comments":[{"owner":{"account_id":1072306,"reputation":385,"user_id":1071287,"accept_rate":38,"display_name":"Rohi"},"score":0,"creation_date":1530782339,"post_id":51187333,"comment_id":89356853,"body_markdown":"could you show the directory structure of your project?","body":"could you show the directory structure of your project?"},{"owner":{"account_id":13900003,"reputation":21,"user_id":10035809,"display_name":"rachel"},"score":0,"creation_date":1530786398,"post_id":51187333,"comment_id":89359458,"body_markdown":"Yes, i&#39;ve added","body":"Yes, i&#39;ve added"},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1530786438,"post_id":51187333,"comment_id":89359476,"body_markdown":"Shouldn&#39;t you use `war` plugin?","body":"Shouldn&#39;t you use <code>war</code> plugin?"},{"owner":{"account_id":13900003,"reputation":21,"user_id":10035809,"display_name":"rachel"},"score":0,"creation_date":1530786781,"post_id":51187333,"comment_id":89359716,"body_markdown":"war is for standalone tomcat, is&#39;nt it? anyway, i&#39;ve tried and there is no change","body":"war is for standalone tomcat, is&#39;nt it? anyway, i&#39;ve tried and there is no change"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1530822518,"post_id":51187333,"comment_id":89380471,"body_markdown":"@rachel That message **&quot;No global web.xml found&quot;** is only an **INFO** message, not an error. What happens if you open http://localhost:8080/ anyway? See https://engineeernitesh.blogspot.com/2017/06/create-java-web-application-using.html  (I&#39;m not understanding what is actually failing for you.)","body":"@rachel That message <b>&quot;No global web.xml found&quot;</b> is only an <b>INFO</b> message, not an error. What happens if you open <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a> anyway? See <a href=\"https://engineeernitesh.blogspot.com/2017/06/create-java-web-application-using.html\" rel=\"nofollow noreferrer\">engineeernitesh.blogspot.com/2017/06/&hellip;</a>  (I&#39;m not understanding what is actually failing for you.)"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1634658950,"post_id":51187333,"comment_id":123082424,"body_markdown":"This problem was probably similar to [this question](https://stackoverflow.com/q/66828015/11748454): since there is no `getConnector()` call, no connector is created and the server is unreachable.","body":"This problem was probably similar to <a href=\"https://stackoverflow.com/q/66828015/11748454\">this question</a>: since there is no <code>getConnector()</code> call, no connector is created and the server is unreachable."}],"answers":[{"tags":[],"owner":{"account_id":13900003,"reputation":21,"user_id":10035809,"display_name":"rachel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530794310,"creation_date":1530794310,"answer_id":51191525,"question_id":51187333,"body_markdown":"Changing to tomcat embedded 8.0.52 solved the problem ","title":"Failed to load web.xml in tomcat embedded 9","body":"<p>Changing to tomcat embedded 8.0.52 solved the problem </p>\n"}],"owner":{"account_id":13900003,"reputation":21,"user_id":10035809,"display_name":"rachel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2478,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634648234,"creation_date":1530781510,"question_id":51187333,"body_markdown":"I hava problem with running a project with tomcat embedded 9.\r\nMy web.xml tacken from the tomcat web.xml example.\r\n\r\nThis is my gradel:\r\n\r\n    plugins {\r\n      id &#39;java&#39;\r\n      id &#39;idea&#39;\r\n    }\r\n    \r\n    group &#39;com.example&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n      mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    // https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core\r\n      compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-core&#39;, version: &#39;9.0.10&#39;\r\n\r\n      // https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper\r\n      compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-jasper&#39;, version: &#39;8.0.52&#39;\r\n      // https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-logging-juli\r\n      compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-logging-juli&#39;, version: &#39;8.0.52&#39;\r\n        \r\n      // https://mvnrepository.com/artifact/org.glassfish.jersey.containers/jersey-container-servlet\r\n      compile group: &#39;org.glassfish.jersey.containers&#39;, name: &#39;jersey-container-servlet&#39;, version: &#39;2.27&#39;\r\n      // https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-server\r\n      compile group: &#39;org.glassfish.jersey.core&#39;, name: &#39;jersey-server&#39;, version: &#39;2.27&#39;\r\n    \r\n      // https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2\r\n      compile group: &#39;org.glassfish.jersey.inject&#39;, name: &#39;jersey-hk2&#39;, version: &#39;2.27&#39;\r\n    \r\n      testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    }\r\n\r\nThe main\r\n\r\n    import javax.servlet.ServletException;\r\n    \r\n    import org.apache.catalina.LifecycleException;\r\n    import org.apache.catalina.startup.Tomcat;\r\n    import org.apache.catalina.Context;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.glassfish.jersey.servlet.ServletContainer;\r\n    import java.io.File;\r\n    import java.net.MalformedURLException;\r\n    \r\n    public class Main {\r\n    \r\n      public static void main(String[] args) throws Exception, LifecycleException {\r\n        new Main().start();\r\n      }\r\n    \r\n      public void start() throws ServletException, LifecycleException,\r\n                                 MalformedURLException {\r\n    \r\n        // Define a folder to hold web application contents.\r\n        String webappDirLocation = &quot;WebContent/&quot;;\r\n        Tomcat tomcat = new Tomcat();\r\n    \r\n        // Define port number for the web application\r\n        String webPort = System.getenv(&quot;PORT&quot;);\r\n        if (webPort == null || webPort.isEmpty()) {\r\n          webPort = &quot;8080&quot;;\r\n        }\r\n        // Bind the port to Tomcat server\r\n        tomcat.setPort(Integer.valueOf(webPort));\r\n    \r\n        // Define a web application context.\r\n        Context context = tomcat.addWebapp(&quot;/tomcatembedded&quot;, new File(\r\n            webappDirLocation).getAbsolutePath());\r\n    \r\n        // Define and bind web.xml file location.\r\n        File configFile = new File(webappDirLocation + &quot;WEB-INF/web.xml&quot;);\r\n        context.setConfigFile(configFile.toURI().toURL());\r\n    \r\n        tomcat.start();\r\n        tomcat.getServer().await();\r\n      }\r\n    \r\n    }\r\n\r\nAnd the web.xml where the servlet and servlet-mapping are comented out, as i just try to load the web.xml correctly\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n                          http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n             version=&quot;4.0&quot;&gt;\r\n    \r\n      &lt;!--&lt;servlet&gt;--&gt;\r\n        &lt;!--&lt;servlet-name&gt;REST Servlet&lt;/servlet-name&gt;--&gt;\r\n        &lt;!--&lt;servlet-class&gt;--&gt;\r\n          &lt;!--org.glassfish.jersey.servlet.ServletContainer--&gt;\r\n        &lt;!--&lt;/servlet-class&gt;--&gt;\r\n        &lt;!--&lt;init-param&gt;--&gt;\r\n          &lt;!--&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;--&gt;\r\n          &lt;!--&lt;param-value&gt;com.example.resources&lt;/param-value&gt;--&gt;\r\n        &lt;!--&lt;/init-param&gt;--&gt;\r\n    \r\n        &lt;!--&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;--&gt;\r\n      &lt;!--&lt;/servlet&gt;--&gt;\r\n      &lt;!--&lt;servlet-mapping&gt;--&gt;\r\n        &lt;!--&lt;servlet-name&gt;REST Servlet&lt;/servlet-name&gt;--&gt;\r\n        &lt;!--&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;--&gt;\r\n      &lt;!--&lt;/servlet-mapping&gt;--&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\nWhen running main i get\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\java.exe&quot; -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:50567,suspend=y,server=n -Dvisualvm.id=64887079117098 -javaagent:C:\\Users\\sb30123\\.IntelliJIdea2018.1\\system\\groovyHotSwap\\gragent.jar -javaagent:C:\\Users\\sb30123\\.IntelliJIdea2018.1\\system\\captureAgent\\debugger-agent.jar=file:/C:/Users/sb30123/AppData/Local/Temp/capture.props -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\jfxrt.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\nashorn.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\sunpkcs11.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\zipfs.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\javaws.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\jfxswt.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\management-agent.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\plugin.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar;C:\\repositories\\embedded_tomcat_example\\out\\production\\classes;C:\\repositories\\embedded_tomcat_example\\out\\production\\resources;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-core\\9.0.10\\fbf9dbc97babe8425332e6baf3925e8f726f3d7b\\tomcat-embed-core-9.0.10.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-jasper\\9.0.10\\761ea6f3b09c163f3710f5e811693c0e7a66b5e8\\tomcat-embed-jasper-9.0.10.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-logging-juli\\9.0.0.M6\\2b083aa89d92ce10356158da1e643f8a8e890b49\\tomcat-embed-logging-juli-9.0.0.M6.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.containers\\jersey-container-servlet\\2.27\\aa97ee9f6528706d1d7214f39a404297903a7598\\jersey-container-servlet-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.core\\jersey-server\\2.27\\92c158af89e6749b20134c3182935046a49a1662\\jersey-server-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.inject\\jersey-hk2\\2.27\\9ea08f93ee7045a36926954536ad385ac03b753f\\jersey-hk2-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat\\tomcat-annotations-api\\9.0.10\\18836b46b76d385615a738d5136fdbdaf9b0f32c\\tomcat-annotations-api-9.0.10.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-el\\9.0.10\\7811474c12b6b3156a4b2c9d85d957c9542a7fd5\\tomcat-embed-el-9.0.10.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.eclipse.jdt\\ecj\\3.13.102\\d8061c14ff6388664299403791ae6bec487c12d7\\ecj-3.13.102.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.containers\\jersey-container-servlet-core\\2.27\\81e24b17ff7cee96a1c830fe63aa1215176c009c\\jersey-container-servlet-core-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.core\\jersey-common\\2.27\\f20d4304a476a92001930d75747adcc232dbe779\\jersey-common-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\javax.ws.rs\\javax.ws.rs-api\\2.1\\426a0862406536e690c7caa8bb6ed32191986fac\\javax.ws.rs-api-2.1.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.core\\jersey-client\\2.27\\66dd6a62a981c0f186d96048fe11e9ddeca3ae28\\jersey-client-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.media\\jersey-media-jaxb\\2.27\\106f2237ee03493185d9d915c9a1c011df716a2a\\jersey-media-jaxb-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\javax.annotation\\javax.annotation-api\\1.2\\479c1e06db31c432330183f5cae684163f186146\\javax.annotation-api-1.2.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2.external\\javax.inject\\2.5.0-b42\\98e0b7dcef77dc04809f0603868140a1c60bea71\\javax.inject-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\javax.validation\\validation-api\\1.1.0.Final\\8613ae82954779d518631e05daa73a6a954817d5\\validation-api-1.1.0.Final.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2\\hk2-locator\\2.5.0-b42\\9d6edc0cb226401a8316e67d81bfc37cb626ef91\\hk2-locator-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2\\osgi-resource-locator\\1.0.1\\4ed2b2d4738aed5786cfa64cba5a332779c4c708\\osgi-resource-locator-1.0.1.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2.external\\aopalliance-repackaged\\2.5.0-b42\\e74beab6ca12e9e745eb47ca61729d9452b96f0c\\aopalliance-repackaged-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2\\hk2-api\\2.5.0-b42\\7fd4e3d0f2cb37c80ad0dedee3f5ee69503eaf52\\hk2-api-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2\\hk2-utils\\2.5.0-b42\\102a344e1728825e865a8986d7605602aba3c3b6\\hk2-utils-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.javassist\\javassist\\3.22.0-CR2\\44eaf0990dea92f4bca4b9931b2239c0e8756ee7\\javassist-3.22.0-CR2.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\javax.inject\\javax.inject\\1\\6975da39a7040257bd51d21a231b76c915872d38\\javax.inject-1.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2018.1.4\\lib\\idea_rt.jar&quot; com.example.Main\r\n    Connected to the target VM, address: &#39;127.0.0.1:50567&#39;, transport: &#39;socket&#39;\r\n    Jul 05, 2018 11:57:24 AM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service [Tomcat]\r\n    Jul 05, 2018 11:57:24 AM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/9.0.10\r\n    Jul 05, 2018 11:57:24 AM org.apache.tomcat.util.digester.Digester endElement\r\n    WARNING:   No rules found matching &#39;web-app&#39;.\r\n    Jul 05, 2018 11:57:25 AM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\r\n    INFO: No global web.xml found\r\n\r\n\r\n*******Edit According to @Rohi &#39;s comment*******************\r\n\r\nThe project&#39;s structer is\r\n\r\n    embedded_tomcat_example\r\n    |-src\r\n    |  |-com\r\n    |  |  |-example\r\n    |  |  |  |-Main.java\r\n    |-WebContent\r\n    |  |-WEB-INF\r\n    |  |  |-web.xml\r\n\r\nSomeone can see the problem?\r\n","title":"Failed to load web.xml in tomcat embedded 9","body":"<p>I hava problem with running a project with tomcat embedded 9.\nMy web.xml tacken from the tomcat web.xml example.</p>\n\n<p>This is my gradel:</p>\n\n<pre><code>plugins {\n  id 'java'\n  id 'idea'\n}\n\ngroup 'com.example'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n  mavenCentral()\n}\n\ndependencies {\n// https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core\n  compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-core', version: '9.0.10'\n\n  // https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper\n  compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-jasper', version: '8.0.52'\n  // https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-logging-juli\n  compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-logging-juli', version: '8.0.52'\n\n  // https://mvnrepository.com/artifact/org.glassfish.jersey.containers/jersey-container-servlet\n  compile group: 'org.glassfish.jersey.containers', name: 'jersey-container-servlet', version: '2.27'\n  // https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-server\n  compile group: 'org.glassfish.jersey.core', name: 'jersey-server', version: '2.27'\n\n  // https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2\n  compile group: 'org.glassfish.jersey.inject', name: 'jersey-hk2', version: '2.27'\n\n  testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n\n<p>The main</p>\n\n<pre><code>import javax.servlet.ServletException;\n\nimport org.apache.catalina.LifecycleException;\nimport org.apache.catalina.startup.Tomcat;\nimport org.apache.catalina.Context;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.servlet.ServletContainer;\nimport java.io.File;\nimport java.net.MalformedURLException;\n\npublic class Main {\n\n  public static void main(String[] args) throws Exception, LifecycleException {\n    new Main().start();\n  }\n\n  public void start() throws ServletException, LifecycleException,\n                             MalformedURLException {\n\n    // Define a folder to hold web application contents.\n    String webappDirLocation = \"WebContent/\";\n    Tomcat tomcat = new Tomcat();\n\n    // Define port number for the web application\n    String webPort = System.getenv(\"PORT\");\n    if (webPort == null || webPort.isEmpty()) {\n      webPort = \"8080\";\n    }\n    // Bind the port to Tomcat server\n    tomcat.setPort(Integer.valueOf(webPort));\n\n    // Define a web application context.\n    Context context = tomcat.addWebapp(\"/tomcatembedded\", new File(\n        webappDirLocation).getAbsolutePath());\n\n    // Define and bind web.xml file location.\n    File configFile = new File(webappDirLocation + \"WEB-INF/web.xml\");\n    context.setConfigFile(configFile.toURI().toURL());\n\n    tomcat.start();\n    tomcat.getServer().await();\n  }\n\n}\n</code></pre>\n\n<p>And the web.xml where the servlet and servlet-mapping are comented out, as i just try to load the web.xml correctly</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee\n                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n         version=\"4.0\"&gt;\n\n  &lt;!--&lt;servlet&gt;--&gt;\n    &lt;!--&lt;servlet-name&gt;REST Servlet&lt;/servlet-name&gt;--&gt;\n    &lt;!--&lt;servlet-class&gt;--&gt;\n      &lt;!--org.glassfish.jersey.servlet.ServletContainer--&gt;\n    &lt;!--&lt;/servlet-class&gt;--&gt;\n    &lt;!--&lt;init-param&gt;--&gt;\n      &lt;!--&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;--&gt;\n      &lt;!--&lt;param-value&gt;com.example.resources&lt;/param-value&gt;--&gt;\n    &lt;!--&lt;/init-param&gt;--&gt;\n\n    &lt;!--&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;--&gt;\n  &lt;!--&lt;/servlet&gt;--&gt;\n  &lt;!--&lt;servlet-mapping&gt;--&gt;\n    &lt;!--&lt;servlet-name&gt;REST Servlet&lt;/servlet-name&gt;--&gt;\n    &lt;!--&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;--&gt;\n  &lt;!--&lt;/servlet-mapping&gt;--&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>When running main i get</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\java.exe\" -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:50567,suspend=y,server=n -Dvisualvm.id=64887079117098 -javaagent:C:\\Users\\sb30123\\.IntelliJIdea2018.1\\system\\groovyHotSwap\\gragent.jar -javaagent:C:\\Users\\sb30123\\.IntelliJIdea2018.1\\system\\captureAgent\\debugger-agent.jar=file:/C:/Users/sb30123/AppData/Local/Temp/capture.props -Dfile.encoding=UTF-8 -classpath \"C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\jfxrt.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\nashorn.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\sunpkcs11.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\ext\\zipfs.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\javaws.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\jfxswt.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\management-agent.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\plugin.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar;C:\\repositories\\embedded_tomcat_example\\out\\production\\classes;C:\\repositories\\embedded_tomcat_example\\out\\production\\resources;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-core\\9.0.10\\fbf9dbc97babe8425332e6baf3925e8f726f3d7b\\tomcat-embed-core-9.0.10.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-jasper\\9.0.10\\761ea6f3b09c163f3710f5e811693c0e7a66b5e8\\tomcat-embed-jasper-9.0.10.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-logging-juli\\9.0.0.M6\\2b083aa89d92ce10356158da1e643f8a8e890b49\\tomcat-embed-logging-juli-9.0.0.M6.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.containers\\jersey-container-servlet\\2.27\\aa97ee9f6528706d1d7214f39a404297903a7598\\jersey-container-servlet-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.core\\jersey-server\\2.27\\92c158af89e6749b20134c3182935046a49a1662\\jersey-server-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.inject\\jersey-hk2\\2.27\\9ea08f93ee7045a36926954536ad385ac03b753f\\jersey-hk2-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat\\tomcat-annotations-api\\9.0.10\\18836b46b76d385615a738d5136fdbdaf9b0f32c\\tomcat-annotations-api-9.0.10.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.tomcat.embed\\tomcat-embed-el\\9.0.10\\7811474c12b6b3156a4b2c9d85d957c9542a7fd5\\tomcat-embed-el-9.0.10.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.eclipse.jdt\\ecj\\3.13.102\\d8061c14ff6388664299403791ae6bec487c12d7\\ecj-3.13.102.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.containers\\jersey-container-servlet-core\\2.27\\81e24b17ff7cee96a1c830fe63aa1215176c009c\\jersey-container-servlet-core-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.core\\jersey-common\\2.27\\f20d4304a476a92001930d75747adcc232dbe779\\jersey-common-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\javax.ws.rs\\javax.ws.rs-api\\2.1\\426a0862406536e690c7caa8bb6ed32191986fac\\javax.ws.rs-api-2.1.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.core\\jersey-client\\2.27\\66dd6a62a981c0f186d96048fe11e9ddeca3ae28\\jersey-client-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.jersey.media\\jersey-media-jaxb\\2.27\\106f2237ee03493185d9d915c9a1c011df716a2a\\jersey-media-jaxb-2.27.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\javax.annotation\\javax.annotation-api\\1.2\\479c1e06db31c432330183f5cae684163f186146\\javax.annotation-api-1.2.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2.external\\javax.inject\\2.5.0-b42\\98e0b7dcef77dc04809f0603868140a1c60bea71\\javax.inject-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\javax.validation\\validation-api\\1.1.0.Final\\8613ae82954779d518631e05daa73a6a954817d5\\validation-api-1.1.0.Final.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2\\hk2-locator\\2.5.0-b42\\9d6edc0cb226401a8316e67d81bfc37cb626ef91\\hk2-locator-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2\\osgi-resource-locator\\1.0.1\\4ed2b2d4738aed5786cfa64cba5a332779c4c708\\osgi-resource-locator-1.0.1.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2.external\\aopalliance-repackaged\\2.5.0-b42\\e74beab6ca12e9e745eb47ca61729d9452b96f0c\\aopalliance-repackaged-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2\\hk2-api\\2.5.0-b42\\7fd4e3d0f2cb37c80ad0dedee3f5ee69503eaf52\\hk2-api-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.glassfish.hk2\\hk2-utils\\2.5.0-b42\\102a344e1728825e865a8986d7605602aba3c3b6\\hk2-utils-2.5.0-b42.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\org.javassist\\javassist\\3.22.0-CR2\\44eaf0990dea92f4bca4b9931b2239c0e8756ee7\\javassist-3.22.0-CR2.jar;C:\\Users\\sb30123\\.gradle\\caches\\modules-2\\files-2.1\\javax.inject\\javax.inject\\1\\6975da39a7040257bd51d21a231b76c915872d38\\javax.inject-1.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2018.1.4\\lib\\idea_rt.jar\" com.example.Main\nConnected to the target VM, address: '127.0.0.1:50567', transport: 'socket'\nJul 05, 2018 11:57:24 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nJul 05, 2018 11:57:24 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/9.0.10\nJul 05, 2018 11:57:24 AM org.apache.tomcat.util.digester.Digester endElement\nWARNING:   No rules found matching 'web-app'.\nJul 05, 2018 11:57:25 AM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\nINFO: No global web.xml found\n</code></pre>\n\n<p>*******Edit According to @Rohi 's comment*******************</p>\n\n<p>The project's structer is</p>\n\n<pre><code>embedded_tomcat_example\n|-src\n|  |-com\n|  |  |-example\n|  |  |  |-Main.java\n|-WebContent\n|  |-WEB-INF\n|  |  |-web.xml\n</code></pre>\n\n<p>Someone can see the problem?</p>\n"},{"tags":["java","swing","jlist"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1575200513,"post_id":59125109,"comment_id":104478899,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html#mutable. You won&#39;t be able to add an element to your JList since its model is not mutable. I strongly advise not to use wysiwyg tools to create your UI, at least not until you&#39;re able to write all the code by yourself (which will force you to read the tutorials and the documentation, and understand the fundamental swing concepts like models and components)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html#mutable\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>. You won&#39;t be able to add an element to your JList since its model is not mutable. I strongly advise not to use wysiwyg tools to create your UI, at least not until you&#39;re able to write all the code by yourself (which will force you to read the tutorials and the documentation, and understand the fundamental swing concepts like models and components)"},{"owner":{"account_id":6942471,"reputation":5067,"user_id":5328289,"accept_rate":62,"display_name":"M.E."},"score":0,"creation_date":1575200925,"post_id":59125109,"comment_id":104478971,"body_markdown":"While I think I understand that, I would like to understand how to do this following the normal flow of adding a component using Netbeans UI builder, which does not define (or I do not know where to define it at least) a DefaultListModel, isn&#39;t it possibel to retrieve it somehow?","body":"While I think I understand that, I would like to understand how to do this following the normal flow of adding a component using Netbeans UI builder, which does not define (or I do not know where to define it at least) a DefaultListModel, isn&#39;t it possibel to retrieve it somehow?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1575201019,"post_id":59125109,"comment_id":104478990,"body_markdown":"I can&#39;t help with that. I don&#39;t use NetBeans, and even if I did, I would use the text editor to write code.","body":"I can&#39;t help with that. I don&#39;t use NetBeans, and even if I did, I would use the text editor to write code."},{"owner":{"account_id":6942471,"reputation":5067,"user_id":5328289,"accept_rate":62,"display_name":"M.E."},"score":0,"creation_date":1575201034,"post_id":59125109,"comment_id":104478996,"body_markdown":"Is building a modern layout UI in Java Swing by not using a builder the recommended way to go?","body":"Is building a modern layout UI in Java Swing by not using a builder the recommended way to go?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1575201197,"post_id":59125109,"comment_id":104479028,"body_markdown":"It&#39;s been a long time I haven&#39;t written a rich client app in Java, but AFAIK, &quot;modern UI&quot; and &quot;swing&quot; are already quite contradictory. JavaFX is the new thing, AFAIK. But anyway, it wouldn&#39;t be the recommended way by me. Others of course might have a different opinion.","body":"It&#39;s been a long time I haven&#39;t written a rich client app in Java, but AFAIK, &quot;modern UI&quot; and &quot;swing&quot; are already quite contradictory. JavaFX is the new thing, AFAIK. But anyway, it wouldn&#39;t be the recommended way by me. Others of course might have a different opinion."},{"owner":{"account_id":6942471,"reputation":5067,"user_id":5328289,"accept_rate":62,"display_name":"M.E."},"score":0,"creation_date":1575201944,"post_id":59125109,"comment_id":104479210,"body_markdown":"I agree that modern and Swing does not match, I did not use the right term. Substitute modern by complex. I have been trying to manually layout components for a long time and it has been when I started to use the Netbeans UI builder when I was actually able to do complex layouts. Doing complex layouts by hand it is actually pretty difficult as some layouts were simply not designed to do that, not only in Swing but in any other toolkit layout technology. Regarding JavaFX I do not need it and it is heavier than Swing. As far as I know Java Swing is not deprecated.","body":"I agree that modern and Swing does not match, I did not use the right term. Substitute modern by complex. I have been trying to manually layout components for a long time and it has been when I started to use the Netbeans UI builder when I was actually able to do complex layouts. Doing complex layouts by hand it is actually pretty difficult as some layouts were simply not designed to do that, not only in Swing but in any other toolkit layout technology. Regarding JavaFX I do not need it and it is heavier than Swing. As far as I know Java Swing is not deprecated."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1575202260,"post_id":59125109,"comment_id":104479281,"body_markdown":"GroupLayout has specifically been designed to be used by GUI designers, and not by human developers. But there are other layout managers which have been designed to be used by human developers.","body":"GroupLayout has specifically been designed to be used by GUI designers, and not by human developers. But there are other layout managers which have been designed to be used by human developers."},{"owner":{"account_id":6942471,"reputation":5067,"user_id":5328289,"accept_rate":62,"display_name":"M.E."},"score":0,"creation_date":1575202437,"post_id":59125109,"comment_id":104479327,"body_markdown":"With your inputs and other answer which was deleted (it actually was helpful) I managed to add a DefaultListModel manually at the class constructor and then add the element to the model. Now it works.   `private DefaultListModel jList1Model;\n     ... \n    \n    jList1Model = new DefaultListModel();\n    jList1.setModel(jList1Model);\n     ... \n    \n    jList1.addElement(textToAddToList);`","body":"With your inputs and other answer which was deleted (it actually was helpful) I managed to add a DefaultListModel manually at the class constructor and then add the element to the model. Now it works.   <code>private DefaultListModel jList1Model;      ...           jList1Model = new DefaultListModel();     jList1.setModel(jList1Model);      ...           jList1.addElement(textToAddToList);</code>"}],"answers":[{"tags":[],"owner":{"account_id":6942471,"reputation":5067,"user_id":5328289,"accept_rate":62,"display_name":"M.E."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575202731,"creation_date":1575202731,"answer_id":59125416,"question_id":59125109,"body_markdown":"This works:\r\n\r\nDefine a model in your class:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private DefaultListModel jList1Model;\r\n\r\n\r\nAssign the model to the jList item in the constructor:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    jList1Model = new DefaultListModel();\r\n    jList1.setModel(jList1Model);\r\n\r\nAdd item to the model and not to the jList in the action method (or wherever you want to add an item):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    jList1.addElement(textToAddToList);\r\n\r\n","title":"Add Item to an existing Java Swing jList (added to a JFrame using Netbeans UI)","body":"<p>This works:</p>\n\n<p>Define a model in your class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private DefaultListModel jList1Model;\n</code></pre>\n\n<p>Assign the model to the jList item in the constructor:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>jList1Model = new DefaultListModel();\njList1.setModel(jList1Model);\n</code></pre>\n\n<p>Add item to the model and not to the jList in the action method (or wherever you want to add an item):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>jList1.addElement(textToAddToList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23076337,"reputation":1,"user_id":17189229,"display_name":"Sasana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634648078,"creation_date":1634626900,"answer_id":69626337,"question_id":59125109,"body_markdown":"You must consistently use DefaultListModel.\r\n\r\n    DefaultListModel listmodel = new DefaultListModel();\r\n    JList list = new JList(listmodel);\r\n\r\nYou can not initialise the model with array of string like this:\r\n\r\n    String items[] = String[]{&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;};\r\n    listmode.addAll(items);//error\r\n\r\nBut you must initialise with a collection like this:\r\n\r\n    ArrayList&lt;String&gt; items = new ArrayList&lt;String&gt;(Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;));\r\n\r\nThen in actionPerformed(....) you can add this:\r\n    \r\n    DefaultListModel defModel = (DefaultListModel)jList1.getModel();\r\n    defModel.addElement(&quot;new Element&quot;);\r\n\r\n","title":"Add Item to an existing Java Swing jList (added to a JFrame using Netbeans UI)","body":"<p>You must consistently use DefaultListModel.</p>\n<pre><code>DefaultListModel listmodel = new DefaultListModel();\nJList list = new JList(listmodel);\n</code></pre>\n<p>You can not initialise the model with array of string like this:</p>\n<pre><code>String items[] = String[]{&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;};\nlistmode.addAll(items);//error\n</code></pre>\n<p>But you must initialise with a collection like this:</p>\n<pre><code>ArrayList&lt;String&gt; items = new ArrayList&lt;String&gt;(Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;));\n</code></pre>\n<p>Then in actionPerformed(....) you can add this:</p>\n<pre><code>DefaultListModel defModel = (DefaultListModel)jList1.getModel();\ndefModel.addElement(&quot;new Element&quot;);\n</code></pre>\n"}],"owner":{"account_id":6942471,"reputation":5067,"user_id":5328289,"accept_rate":62,"display_name":"M.E."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634648078,"creation_date":1575200167,"question_id":59125109,"body_markdown":"I am using for first time jList elements in my UI.\r\nAll UI is being designed using Netbeans UI builder.\r\n\r\nI am under Java 8 in case it is relevant.\r\n\r\nI am trying to add elements to list.\r\n\r\n**This is a screenshot of the JFrame in action:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**This is the desired action:**\r\n\r\nAfter pressing `jButton1` the contents of `jTextfield1` will be added as additional item, to `jList1`.\r\n\r\n**This is the excerpt of the button action, including the both things I have tried unsucessfully:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n\r\n        String textToAddToList = this.jTextField1.getText();\r\n        \r\n        //this.jList1.add(textToAddToList);   &lt;&lt;-- this does not work as add method requires a second paramenter Component which I do not understand.\r\n\r\n        //this.jList1.setListData(String [])   &lt;&lt;-- I have used this with a different list because I have the whole list at once, but I do not know how to add a single item with this method either. \r\n    }                                        \r\n\r\n\r\n**This is my full replicable code:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    \r\n    /**\r\n     *\r\n     * @author me\r\n     */\r\n    public class JFrame1 extends javax.swing.JFrame {\r\n    \r\n        /**\r\n         * Creates new form JFrame1\r\n         */\r\n        public JFrame1() {\r\n            initComponents();\r\n        }\r\n    \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            jScrollPane1 = new javax.swing.JScrollPane();\r\n            jList1 = new javax.swing.JList&lt;&gt;();\r\n            jButton1 = new javax.swing.JButton();\r\n            jTextField1 = new javax.swing.JTextField();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            jList1.setModel(new javax.swing.AbstractListModel&lt;String&gt;() {\r\n                String[] strings = { &quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot;, &quot;Item 5&quot; };\r\n                public int getSize() { return strings.length; }\r\n                public String getElementAt(int i) { return strings[i]; }\r\n            });\r\n            jScrollPane1.setViewportView(jList1);\r\n    \r\n            jButton1.setText(&quot;jButton1&quot;);\r\n            jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    jButton1ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            jTextField1.setText(&quot;jTextField1&quot;);\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addComponent(jScrollPane1)\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addComponent(jTextField1, javax.swing.GroupLayout.DEFAULT_SIZE, 313, Short.MAX_VALUE)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(jButton1)))\r\n                    .addContainerGap())\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(jButton1)\r\n                        .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n            String textToAddToList = this.jTextField1.getText();\r\n            \r\n            //this.jList1.add(textToAddToList);\r\n        }                                        \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String args[]) {\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(JFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(JFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(JFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(JFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n    \r\n            /* Create and display the form */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new JFrame1().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JButton jButton1;\r\n        private javax.swing.JList&lt;String&gt; jList1;\r\n        private javax.swing.JScrollPane jScrollPane1;\r\n        private javax.swing.JTextField jTextField1;\r\n        // End of variables declaration                   \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PUMHY.png","title":"Add Item to an existing Java Swing jList (added to a JFrame using Netbeans UI)","body":"<p>I am using for first time jList elements in my UI.\nAll UI is being designed using Netbeans UI builder.</p>\n\n<p>I am under Java 8 in case it is relevant.</p>\n\n<p>I am trying to add elements to list.</p>\n\n<p><strong>This is a screenshot of the JFrame in action:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/PUMHY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PUMHY.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>This is the desired action:</strong></p>\n\n<p>After pressing <code>jButton1</code> the contents of <code>jTextfield1</code> will be added as additional item, to <code>jList1</code>.</p>\n\n<p><strong>This is the excerpt of the button action, including the both things I have tried unsucessfully:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n    String textToAddToList = this.jTextField1.getText();\n\n    //this.jList1.add(textToAddToList);   &lt;&lt;-- this does not work as add method requires a second paramenter Component which I do not understand.\n\n    //this.jList1.setListData(String [])   &lt;&lt;-- I have used this with a different list because I have the whole list at once, but I do not know how to add a single item with this method either. \n}                                        \n</code></pre>\n\n<p><strong>This is my full replicable code:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\n/**\n *\n * @author me\n */\npublic class JFrame1 extends javax.swing.JFrame {\n\n    /**\n     * Creates new form JFrame1\n     */\n    public JFrame1() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // &lt;editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\"&gt;                          \n    private void initComponents() {\n\n        jScrollPane1 = new javax.swing.JScrollPane();\n        jList1 = new javax.swing.JList&lt;&gt;();\n        jButton1 = new javax.swing.JButton();\n        jTextField1 = new javax.swing.JTextField();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jList1.setModel(new javax.swing.AbstractListModel&lt;String&gt;() {\n            String[] strings = { \"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\", \"Item 5\" };\n            public int getSize() { return strings.length; }\n            public String getElementAt(int i) { return strings[i]; }\n        });\n        jScrollPane1.setViewportView(jList1);\n\n        jButton1.setText(\"jButton1\");\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jTextField1.setText(\"jTextField1\");\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jScrollPane1)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jTextField1, javax.swing.GroupLayout.DEFAULT_SIZE, 313, Short.MAX_VALUE)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton1)))\n                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jButton1)\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        String textToAddToList = this.jTextField1.getText();\n\n        //this.jList1.add(textToAddToList);\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=\"collapsed\" desc=\" Look and feel setting code (optional) \"&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (\"Nimbus\".equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(JFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(JFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(JFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(JFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new JFrame1().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JList&lt;String&gt; jList1;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JTextField jTextField1;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","sql-order-by"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634647958,"creation_date":1634647958,"answer_id":69631194,"question_id":69552113,"body_markdown":"Instead of sorting on the database I would recommend you to use a `SortedSet` instead and make the class comparable.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;INT_PACKAGE&quot;)\r\npublic class IntPackage {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n\r\n    @ManyToMany(cascade = { CascadeType.ALL })\r\n    @JoinTable(name = &quot;PACKAGE_ACTION_MAPPING&quot;, joinColumns = {\r\n            @JoinColumn(name = &quot;PACKAGE_ID&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;ACTION_ID&quot;) })\r\n    private SortedSet&lt;IntAction&gt; actions;\r\n\r\n    //getters setters\r\n}\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;INT_ACTION&quot;)\r\npublic class IntAction implements Comparable&lt;IntAction&gt; {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;actions&quot;)\r\n    private List&lt;IntPackage&gt; intPackage;\r\n\r\n    //getter setters\r\n\r\n    public int compareTo(IntAction other) {\r\n        return Integer.compare(id, other.id);\r\n    }\r\n}\r\n```","title":"How to use orderby on ID of mapping/third table in @ManyToMany relation in hibernate","body":"<p>Instead of sorting on the database I would recommend you to use a <code>SortedSet</code> instead and make the class comparable.</p>\n<pre><code>@Entity\n@Table(name = &quot;INT_PACKAGE&quot;)\npublic class IntPackage {\n    @Id\n    private Long id;\n    private String name;\n\n    @ManyToMany(cascade = { CascadeType.ALL })\n    @JoinTable(name = &quot;PACKAGE_ACTION_MAPPING&quot;, joinColumns = {\n            @JoinColumn(name = &quot;PACKAGE_ID&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;ACTION_ID&quot;) })\n    private SortedSet&lt;IntAction&gt; actions;\n\n    //getters setters\n}\n\n\n@Entity\n@Table(name = &quot;INT_ACTION&quot;)\npublic class IntAction implements Comparable&lt;IntAction&gt; {\n    @Id\n    private Long id;\n    private String name;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;actions&quot;)\n    private List&lt;IntPackage&gt; intPackage;\n\n    //getter setters\n\n    public int compareTo(IntAction other) {\n        return Integer.compare(id, other.id);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4903002,"reputation":1493,"user_id":3950587,"accept_rate":100,"display_name":"Shailesh Vikram Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69631194,"answer_count":1,"score":1,"last_activity_date":1634647958,"creation_date":1634113592,"question_id":69552113,"body_markdown":"I have two main tables and one mapping table for many to many relationship. I want to apply @OrderBy(&quot;ID ASC&quot;) on PACKAGE_ACTION_MAPPING table Id column. But when I use @OrderBy(&quot;ID ASC&quot;), sorting is applied on Int_Action Id column instead of PACKAGE_ACTION_MAPPING Id column.\r\n\r\n    CREATE TABLE INT_PACKAGE (\r\n      ID BIGINT PRIMARY KEY AUTOINCREMENT,\r\n      NAME VARCHAR (32) NOT NULL\r\n    );\r\n    \r\n    CREATE TABLE INT_ACTION (\r\n      ID BIGINT PRIMARY KEY AUTOINCREMENT,\r\n      NAME VARCHAR (32) NOT NULL\r\n    );\r\n    \r\n    CREATE TABLE PACKAGE_ACTION_MAPPING (\r\n      ID BIGINT PRIMARY KEY AUTOINCREMENT,\r\n      PACKAGE_ID BIGINT REFERENCES INT_PACKAGE(ID),\r\n      ACTION_ID BIGINT REFERENCES INT_ACTION(ID)\r\n    );\r\n\r\nEntity class in Java:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;INT_PACKAGE&quot;)\r\n    public class IntPackage {\r\n    \t@Id\r\n    \tprivate Long id;\r\n    \tprivate String name;\r\n    \r\n    \t@ManyToMany(cascade = { CascadeType.ALL })\r\n    \t@JoinTable(name = &quot;PACKAGE_ACTION_MAPPING&quot;, joinColumns = {\r\n    \t\t\t@JoinColumn(name = &quot;PACKAGE_ID&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;ACTION_ID&quot;) })\r\n    \t@OrderBy(&quot;ID ASC&quot;)\r\n    \tprivate List&lt;IntAction&gt; actions;\r\n    \r\n    \t//getters setters\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;INT_ACTION&quot;)\r\n    public class IntAction {\r\n    \t@Id\r\n    \tprivate Long id;\r\n    \tprivate String name;\r\n    \r\n    \t@JsonIgnore\r\n    \t@ManyToMany(mappedBy = &quot;actions&quot;)\r\n    \tprivate List&lt;IntPackage&gt; intPackage;\r\n    \r\n    \t//getter setters\r\n    }\r\n\r\nPlease suggest some way to achieve it.","title":"How to use orderby on ID of mapping/third table in @ManyToMany relation in hibernate","body":"<p>I have two main tables and one mapping table for many to many relationship. I want to apply @OrderBy(&quot;ID ASC&quot;) on PACKAGE_ACTION_MAPPING table Id column. But when I use @OrderBy(&quot;ID ASC&quot;), sorting is applied on Int_Action Id column instead of PACKAGE_ACTION_MAPPING Id column.</p>\n<pre><code>CREATE TABLE INT_PACKAGE (\n  ID BIGINT PRIMARY KEY AUTOINCREMENT,\n  NAME VARCHAR (32) NOT NULL\n);\n\nCREATE TABLE INT_ACTION (\n  ID BIGINT PRIMARY KEY AUTOINCREMENT,\n  NAME VARCHAR (32) NOT NULL\n);\n\nCREATE TABLE PACKAGE_ACTION_MAPPING (\n  ID BIGINT PRIMARY KEY AUTOINCREMENT,\n  PACKAGE_ID BIGINT REFERENCES INT_PACKAGE(ID),\n  ACTION_ID BIGINT REFERENCES INT_ACTION(ID)\n);\n</code></pre>\n<p>Entity class in Java:</p>\n<pre><code>@Entity\n@Table(name = &quot;INT_PACKAGE&quot;)\npublic class IntPackage {\n    @Id\n    private Long id;\n    private String name;\n\n    @ManyToMany(cascade = { CascadeType.ALL })\n    @JoinTable(name = &quot;PACKAGE_ACTION_MAPPING&quot;, joinColumns = {\n            @JoinColumn(name = &quot;PACKAGE_ID&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;ACTION_ID&quot;) })\n    @OrderBy(&quot;ID ASC&quot;)\n    private List&lt;IntAction&gt; actions;\n\n    //getters setters\n}\n\n\n@Entity\n@Table(name = &quot;INT_ACTION&quot;)\npublic class IntAction {\n    @Id\n    private Long id;\n    private String name;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;actions&quot;)\n    private List&lt;IntPackage&gt; intPackage;\n\n    //getter setters\n}\n</code></pre>\n<p>Please suggest some way to achieve it.</p>\n"},{"tags":["java","arrays","object","types","arraylist"],"comments":[{"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"score":1,"creation_date":1298255624,"post_id":5061640,"comment_id":5668438,"body_markdown":"There are 2 methods with the same name &#39;toArray()&#39; in ArrayList. Starting from 1.5, the second method takes typed array. Are you looking for solution for pre-1.5?","body":"There are 2 methods with the same name &#39;toArray()&#39; in ArrayList. Starting from 1.5, the second method takes typed array. Are you looking for solution for pre-1.5?"},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1534130939,"post_id":5061640,"comment_id":90584093,"body_markdown":"Related: https://stackoverflow.com/questions/174093","body":"Related: <a href=\"https://stackoverflow.com/questions/174093\">stackoverflow.com/questions/174093</a>"}],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1385356337,"creation_date":1298254528,"answer_id":5061671,"question_id":5061640,"body_markdown":"    arrayList.toArray(new Custom[0]);\r\n\r\n[http://download.oracle.com/javase/7/docs/api/java/util/ArrayList.html#toArray%28java.lang.Object\\[\\]%29][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/util/ArrayList.html#toArray%28java.lang.Object%5B%5D%29","title":"make arrayList.toArray() return more specific types","body":"<pre><code>arrayList.toArray(new Custom[0]);\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/7/docs/api/java/util/ArrayList.html#toArray%28java.lang.Object%5B%5D%29\" rel=\"noreferrer\">http://download.oracle.com/javase/7/docs/api/java/util/ArrayList.html#toArray%28java.lang.Object[]%29</a></p>\n"},{"tags":[],"owner":{"account_id":137377,"reputation":39554,"user_id":341508,"accept_rate":88,"display_name":"limc"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1298254610,"creation_date":1298254610,"answer_id":5061680,"question_id":5061640,"body_markdown":"It doesn&#39;t really need to return `Object[]`, for example:-\r\n\r\n\t\tList&lt;Custom&gt; list = new ArrayList&lt;Custom&gt;();\r\n\t\tlist.add(new Custom(1));\r\n\t\tlist.add(new Custom(2));\r\n\t\t\r\n\t\tCustom[] customs = new Custom[list.size()];\r\n\t\tlist.toArray(customs);\r\n\t\t\r\n\t\tfor (Custom custom : customs) {\r\n\t\t\tSystem.out.println(custom);\r\n\t\t}\r\n\r\nHere&#39;s my `Custom` class:-\r\n\r\n    public class Custom {\r\n    \tprivate int\ti;\r\n    \r\n    \tpublic Custom(int i) {\r\n    \t\tthis.i = i;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn String.valueOf(i);\r\n    \t}\r\n    }\r\n\r\n","title":"make arrayList.toArray() return more specific types","body":"<p>It doesn't really need to return <code>Object[]</code>, for example:-</p>\n\n<pre><code>    List&lt;Custom&gt; list = new ArrayList&lt;Custom&gt;();\n    list.add(new Custom(1));\n    list.add(new Custom(2));\n\n    Custom[] customs = new Custom[list.size()];\n    list.toArray(customs);\n\n    for (Custom custom : customs) {\n        System.out.println(custom);\n    }\n</code></pre>\n\n<p>Here's my <code>Custom</code> class:-</p>\n\n<pre><code>public class Custom {\n    private int i;\n\n    public Custom(int i) {\n        this.i = i;\n    }\n\n    @Override\n    public String toString() {\n        return String.valueOf(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37250,"reputation":12091,"user_id":106463,"display_name":"Mihai Toader"},"down_vote_count":1,"up_vote_count":356,"is_accepted":true,"score":355,"last_activity_date":1534131091,"creation_date":1298254772,"answer_id":5061692,"question_id":5061640,"body_markdown":"Like this:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n    String[] a = list.toArray(new String[0]);\r\n\r\nBefore Java6 it was recommended to write:\r\n                \r\n    String[] a = list.toArray(new String[list.size()]);\r\n\r\nbecause the internal implementation would realloc a properly sized array anyway so you were better doing it upfront. Since Java6 the empty array is preferred, see https://stackoverflow.com/questions/174093\r\n\r\nIf your list is not properly typed you need to do a cast before calling toArray. Like this:\r\n\r\n        List l = new ArrayList&lt;String&gt;();\r\n\r\n        String[] a = ((List&lt;String&gt;)l).toArray(new String[l.size()]);\r\n\r\n\r\n\r\n","title":"make arrayList.toArray() return more specific types","body":"<p>Like this:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\nString[] a = list.toArray(new String[0]);\n</code></pre>\n\n<p>Before Java6 it was recommended to write:</p>\n\n<pre><code>String[] a = list.toArray(new String[list.size()]);\n</code></pre>\n\n<p>because the internal implementation would realloc a properly sized array anyway so you were better doing it upfront. Since Java6 the empty array is preferred, see <a href=\"https://stackoverflow.com/questions/174093\">.toArray(new MyClass[0]) or .toArray(new MyClass[myList.size()])?</a></p>\n\n<p>If your list is not properly typed you need to do a cast before calling toArray. Like this:</p>\n\n<pre><code>    List l = new ArrayList&lt;String&gt;();\n\n    String[] a = ((List&lt;String&gt;)l).toArray(new String[l.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1787349,"reputation":5866,"user_id":1628527,"accept_rate":22,"display_name":"Ashvitha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454388165,"creation_date":1454388165,"answer_id":35145205,"question_id":5061640,"body_markdown":"I got the answer...this seems to be working perfectly fine\r\n\r\n    public int[] test ( int[]b )\r\n    {\r\n        ArrayList&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\r\n        Object[] returnArrayObject = l.toArray();\r\n        int returnArray[] = new int[returnArrayObject.length];\r\n        for (int i = 0; i &lt; returnArrayObject.length; i++){\r\n             returnArray[i] = (Integer)  returnArrayObject[i];\r\n        }\r\n    \r\n        return returnArray;\r\n    }","title":"make arrayList.toArray() return more specific types","body":"<p>I got the answer...this seems to be working perfectly fine</p>\n\n<pre><code>public int[] test ( int[]b )\n{\n    ArrayList&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\n    Object[] returnArrayObject = l.toArray();\n    int returnArray[] = new int[returnArrayObject.length];\n    for (int i = 0; i &lt; returnArrayObject.length; i++){\n         returnArray[i] = (Integer)  returnArrayObject[i];\n    }\n\n    return returnArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3209,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608308391,"creation_date":1489673661,"answer_id":42836559,"question_id":5061640,"body_markdown":" \r\n\r\n     public static &lt;E&gt; E[] arrayListToTypedArray(List&lt;E&gt; list) {\r\n    \r\n        if (list == null) {\r\n          return null;\r\n        }\r\n        int noItems = list.size();\r\n        if (noItems == 0) {\r\n          return null;\r\n        }\r\n    \r\n        E[] listAsTypedArray;\r\n        E typeHelper = list.get(0);\r\n    \r\n        try {\r\n          Object o = Array.newInstance(typeHelper.getClass(), noItems);\r\n          listAsTypedArray = (E[]) o;\r\n          for (int i = 0; i &lt; noItems; i++) {\r\n            Array.set(listAsTypedArray, i, list.get(i));\r\n          }\r\n        } catch (Exception e) {\r\n          return null;\r\n        }\r\n    \r\n        return listAsTypedArray;\r\n      }","title":"make arrayList.toArray() return more specific types","body":"<pre><code> public static &lt;E&gt; E[] arrayListToTypedArray(List&lt;E&gt; list) {\n\n    if (list == null) {\n      return null;\n    }\n    int noItems = list.size();\n    if (noItems == 0) {\n      return null;\n    }\n\n    E[] listAsTypedArray;\n    E typeHelper = list.get(0);\n\n    try {\n      Object o = Array.newInstance(typeHelper.getClass(), noItems);\n      listAsTypedArray = (E[]) o;\n      for (int i = 0; i &lt; noItems; i++) {\n        Array.set(listAsTypedArray, i, list.get(i));\n      }\n    } catch (Exception e) {\n      return null;\n    }\n\n    return listAsTypedArray;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1742849,"reputation":1391,"user_id":1593759,"display_name":"giltsl"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1634647918,"creation_date":1601467032,"answer_id":64137104,"question_id":5061640,"body_markdown":"A shorter version of converting List to Array of specific type (for example Long):\r\n\r\n    Long[] myArray = myList.toArray(Long[]::new);\r\n\r\n  \r\n\r\n(available from java 11)","title":"make arrayList.toArray() return more specific types","body":"<p>A shorter version of converting List to Array of specific type (for example Long):</p>\n<pre><code>Long[] myArray = myList.toArray(Long[]::new);\n</code></pre>\n<p>(available from java 11)</p>\n"}],"owner":{"account_id":160561,"reputation":14464,"user_id":380714,"accept_rate":97,"display_name":"kamikaze_pilot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196545,"favorite_count":0,"down_vote_count":0,"up_vote_count":230,"accepted_answer_id":5061692,"answer_count":6,"score":230,"last_activity_date":1634647918,"creation_date":1298254030,"question_id":5061640,"body_markdown":"So, normally `ArrayList.toArray()` would return a type of `Object[]`....but supposed it&#39;s an \r\n`Arraylist` of object `Custom`, how do I make `toArray()` to return a type of `Custom[]` rather than `Object[]`?\r\n","title":"make arrayList.toArray() return more specific types","body":"<p>So, normally <code>ArrayList.toArray()</code> would return a type of <code>Object[]</code>....but supposed it's an \n<code>Arraylist</code> of object <code>Custom</code>, how do I make <code>toArray()</code> to return a type of <code>Custom[]</code> rather than <code>Object[]</code>?</p>\n"},{"tags":["java","amazon-web-services","rest"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1634646763,"post_id":69630827,"comment_id":123076498,"body_markdown":"That is not going to work since your local client is not reachable form the internet unless you set it up in a special way. Is your local client connected to the VPC e.g. using a VPN?","body":"That is not going to work since your local client is not reachable form the internet unless you set it up in a special way. Is your local client connected to the VPC e.g. using a VPN?"},{"owner":{"account_id":8663586,"reputation":1,"user_id":6484988,"display_name":"dharapu shivaji"},"score":0,"creation_date":1634647154,"post_id":69630827,"comment_id":123076710,"body_markdown":"No @luk2302 , it is not connected to the VPC . Is there any way we can connect and get the response back . And also will it be the same way if the client is in on premise.","body":"No @luk2302 , it is not connected to the VPC . Is there any way we can connect and get the response back . And also will it be the same way if the client is in on premise."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1634647447,"post_id":69630827,"comment_id":123076866,"body_markdown":"You need to bind your client to your machine&#39;s actual ip (I&#39;ve used `-B 0.0.0.0` on Wildfly, not sure what framework you&#39;re using) and use that ip in the callback. However, that still might require some more setup, e.g. if you&#39;re using NAT etc. - it all depends on your environment. &quot;Will it be the same way if the client is in on premise.&quot; - it might be a different network configuration since the on premise network might be different but binding the application to the mchine&#39;s external IP address should work the same. Always make it configurable in any case.","body":"You need to bind your client to your machine&#39;s actual ip (I&#39;ve used <code>-B 0.0.0.0</code> on Wildfly, not sure what framework you&#39;re using) and use that ip in the callback. However, that still might require some more setup, e.g. if you&#39;re using NAT etc. - it all depends on your environment. &quot;Will it be the same way if the client is in on premise.&quot; - it might be a different network configuration since the on premise network might be different but binding the application to the mchine&#39;s external IP address should work the same. Always make it configurable in any case."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1634647537,"post_id":69630827,"comment_id":123076910,"body_markdown":"And all firewalls in between need to be configured to let the request through...","body":"And all firewalls in between need to be configured to let the request through..."},{"owner":{"account_id":3211463,"reputation":638,"user_id":2711384,"display_name":"Zag"},"score":0,"creation_date":1634648861,"post_id":69630827,"comment_id":123077566,"body_markdown":"You could conceivably set up a redirection on your AWS-based application to tell it that localhost should redirect to some real URL, probably just an IP address.  However, that would mean you&#39;d have to set up your developer&#39;s machine to be targetable from the outside by that IP address.  Then what&#39;s going to happen if another developer hits the AWS application?  It&#39;s going to send the response to the one it&#39;s been told localhost redirects to.  From your response to luk2302, I suspect a better solution is to have the clients poll for when the data is ready rather than to use a webhook.","body":"You could conceivably set up a redirection on your AWS-based application to tell it that localhost should redirect to some real URL, probably just an IP address.  However, that would mean you&#39;d have to set up your developer&#39;s machine to be targetable from the outside by that IP address.  Then what&#39;s going to happen if another developer hits the AWS application?  It&#39;s going to send the response to the one it&#39;s been told localhost redirects to.  From your response to luk2302, I suspect a better solution is to have the clients poll for when the data is ready rather than to use a webhook."}],"answers":[{"tags":[],"owner":{"account_id":12264752,"reputation":2360,"user_id":8951571,"display_name":"Daniel Campos Olivares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634647914,"creation_date":1634647914,"answer_id":69631181,"question_id":69630827,"body_markdown":"That will never work.\r\n\r\nYou&#39;re passing a solution URL to the application in AWS and you&#39;re expecting it to answer to that URL. Basically AWS will use a DNS Server to resolve the given URL and it will send a response to the given IP.\r\n\r\nIf you send `localhost` as URL to AWS, it will try to resolve it as well, but since `localhost` is already defined in `/etc/hosts` as `127.0.0.1`, it will just directly send the request to itself.\r\n\r\nYou can do what you want, but it&#39;s going to be a little bit more messy than just sending an URL.\r\n\r\nFirst of all, you need to configure your router to forward all the incoming traffic from internet to that client that you&#39;re talking about. Afterwards, you&#39;d require to check which is the public IP of your machine and provide that to the AWS service.\r\n\r\nFor example, let&#39;s suppose that I&#39;m using that aforementioned AWS service and I have already configured my router so all the incoming requests to the public IP are redirected to my machine in an arbitrary port (5000 for example).\r\n\r\n1. I need to acquire my public IP, one easy way would be by a GET request to `ifconfig.me`\r\n2. I provide that URL to the AWS Container, for example by PathParams: https://myawscontainer.aws.com/serviceA?solutionURL=[HERE_GOES_MY_IP]\r\n3. After the task in the container is done, the AWS Container would request to [HERE_GOES_MY_IP]:80, or any other port, depending on how have you configured the container to perform the requests afterwards.\r\n4. If I have configured my router to forward any request in the port 80 to my machine in the port 5000, I&#39;ll receive the AWS request on my local machine on the configured port.\r\n\r\nOf course you could get a domain pointing to your public IP if that one is static, or even set up dynamic DNS within the router with Open Source solutions as `pfSense`.","title":"How to get the response from AWS to localhost client?","body":"<p>That will never work.</p>\n<p>You're passing a solution URL to the application in AWS and you're expecting it to answer to that URL. Basically AWS will use a DNS Server to resolve the given URL and it will send a response to the given IP.</p>\n<p>If you send <code>localhost</code> as URL to AWS, it will try to resolve it as well, but since <code>localhost</code> is already defined in <code>/etc/hosts</code> as <code>127.0.0.1</code>, it will just directly send the request to itself.</p>\n<p>You can do what you want, but it's going to be a little bit more messy than just sending an URL.</p>\n<p>First of all, you need to configure your router to forward all the incoming traffic from internet to that client that you're talking about. Afterwards, you'd require to check which is the public IP of your machine and provide that to the AWS service.</p>\n<p>For example, let's suppose that I'm using that aforementioned AWS service and I have already configured my router so all the incoming requests to the public IP are redirected to my machine in an arbitrary port (5000 for example).</p>\n<ol>\n<li>I need to acquire my public IP, one easy way would be by a GET request to <code>ifconfig.me</code></li>\n<li>I provide that URL to the AWS Container, for example by PathParams: <a href=\"https://myawscontainer.aws.com/serviceA?solutionURL=%5BHERE_GOES_MY_IP%5D\" rel=\"nofollow noreferrer\">https://myawscontainer.aws.com/serviceA?solutionURL=[HERE_GOES_MY_IP]</a></li>\n<li>After the task in the container is done, the AWS Container would request to [HERE_GOES_MY_IP]:80, or any other port, depending on how have you configured the container to perform the requests afterwards.</li>\n<li>If I have configured my router to forward any request in the port 80 to my machine in the port 5000, I'll receive the AWS request on my local machine on the configured port.</li>\n</ol>\n<p>Of course you could get a domain pointing to your public IP if that one is static, or even set up dynamic DNS within the router with Open Source solutions as <code>pfSense</code>.</p>\n"}],"owner":{"account_id":8663586,"reputation":1,"user_id":6484988,"display_name":"dharapu shivaji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1634647914,"creation_date":1634646519,"question_id":69630827,"body_markdown":"If my application is running on AWS as ECS containers and it will be sending the response back to the url which we will be passing it as a solution url . My question is if we are passing localhost (client is running on local machine ) url in solution url , which network configurations we need to change to get the response back ?","title":"How to get the response from AWS to localhost client?","body":"<p>If my application is running on AWS as ECS containers and it will be sending the response back to the url which we will be passing it as a solution url . My question is if we are passing localhost (client is running on local machine ) url in solution url , which network configurations we need to change to get the response back ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":4,"creation_date":1634547913,"post_id":69613390,"comment_id":123044935,"body_markdown":"How do you know the second time is the day after given that you only got hour and minute?","body":"How do you know the second time is the day after given that you only got hour and minute?"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":6,"creation_date":1634547919,"post_id":69613390,"comment_id":123044940,"body_markdown":"This is the heart of your problem: *&quot;The times are represented by 2 integers(hour, minute)&quot;*. The [`java.time`](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package contains pretty much everything you need to work with dates and times, so use that instead.","body":"This is the heart of your problem: <i>&quot;The times are represented by 2 integers(hour, minute)&quot;</i>. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> package contains pretty much everything you need to work with dates and times, so use that instead."},{"owner":{"account_id":13551078,"reputation":143,"user_id":9775908,"display_name":"K.Vu"},"score":0,"creation_date":1634548191,"post_id":69613390,"comment_id":123045035,"body_markdown":"You can use the `LocalDateTime.of(...).getNano()` function in the `java.time` for two dates and compute the difference.","body":"You can use the <code>LocalDateTime.of(...).getNano()</code> function in the <code>java.time</code> for two dates and compute the difference."},{"owner":{"account_id":22296697,"reputation":42,"user_id":16522597,"display_name":"איתן רבינוביץ"},"score":0,"creation_date":1634548322,"post_id":69613390,"comment_id":123045076,"body_markdown":"@RickyMo if the second time is before the first time then its the day after. RobbyCornelissen I think that the date classes are very clumsy to use","body":"@RickyMo if the second time is before the first time then its the day after. RobbyCornelissen I think that the date classes are very clumsy to use"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1634548733,"post_id":69613390,"comment_id":123045244,"body_markdown":"@איתןרבינוביץ Now you have stated the condition, you can implement the checking. `if(h2 &lt; h1 || (h2 == h1 &amp;&amp; m2 &lt; m1)){ //second time is before firs time } else { //second time is after first time }`","body":"@איתןרבינוביץ Now you have stated the condition, you can implement the checking. <code>if(h2 &lt; h1 || (h2 == h1 &amp;&amp; m2 &lt; m1)){ &#47;&#47;second time is before firs time } else { &#47;&#47;second time is after first time }</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1634548921,"post_id":69613390,"comment_id":123045303,"body_markdown":"If you managed to solve the problem, then do not edit your question, but post an answer with your solution.","body":"If you managed to solve the problem, then do not edit your question, but post an answer with your solution."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1634575403,"post_id":69613390,"comment_id":123056475,"body_markdown":"Be aware that without a date and a time zone, you cannot account for anomalies such as DayLight Saving (DST) cut-overs when a day is not 24 hours long. A day can be 23, 25, 23.5, or other number of hours long.","body":"Be aware that without a date and a time zone, you cannot account for anomalies such as DayLight Saving (DST) cut-overs when a day is not 24 hours long. A day can be 23, 25, 23.5, or other number of hours long."}],"answers":[{"tags":[],"owner":{"account_id":18382811,"reputation":51,"user_id":13390551,"display_name":"MrSpeedy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634549004,"creation_date":1634548214,"answer_id":69613492,"question_id":69613390,"body_markdown":"Your approach would only work in a single 24 hour cycle as you are passing in two hour integers and subtracting them. So if you are calculating the amount of milliseconds from 13:00 to 14:00 tomorrow the second time input needs to be 25:00 as 24 hours have passed. Another way you can approach this is by using java dates and taking out the hour from the day you want to start and finish.\r\n","title":"Calculate number of milliseconds between two times","body":"<p>Your approach would only work in a single 24 hour cycle as you are passing in two hour integers and subtracting them. So if you are calculating the amount of milliseconds from 13:00 to 14:00 tomorrow the second time input needs to be 25:00 as 24 hours have passed. Another way you can approach this is by using java dates and taking out the hour from the day you want to start and finish.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1634647741,"creation_date":1634548591,"answer_id":69613583,"question_id":69613390,"body_markdown":"As Robby already [said][1] in the comments, you should use classes from the `java.time` package. With the classes `LocalTime` and `Duration`, you could get the milliseconds between two points in time.\r\n\r\n```java\r\nLocalTime t0 = LocalTime.of(14, 0);\r\nLocalTime t1 = LocalTime.of(13, 0);\r\nDuration d = Duration.between(t0, t1);\r\nif (d.isNegative()) {\r\n\td = d.plusDays(1);\r\n}\r\nSystem.out.println(d.toMillis());\r\n```\r\n\r\nA `Duration` is a, well, duration: the amount of time between two points in time. If the second time lies before the first, then the duration is negative. In such case, we need to add 1 day to the duration.\r\n\r\nNow we have an amount of time represented by the `Duration` class. This class contains many methods to convert it to a certain time unit. In our case, `toMillis()` is exactly what we need.\r\n\r\n[&lt;kbd&gt;Online demo&lt;/kbd&gt;][2]\r\n\r\nInstead of `d.isNegative()`, you can also use `t1.isBefore(t0)`, if you think it&#39;s more expressive.\r\n\r\n---\r\n\r\nNote: I think this is not as half as clumsy as doing the math yourself.\r\n\r\n  [1]: https://stackoverflow.com/questions/69613390/calculate-number-of-milliseconds-between-two-times/69613583#comment123044940_69613390\r\n  [2]: https://ideone.com/jq3y9m","title":"Calculate number of milliseconds between two times","body":"<p>As Robby already <a href=\"https://stackoverflow.com/questions/69613390/calculate-number-of-milliseconds-between-two-times/69613583#comment123044940_69613390\">said</a> in the comments, you should use classes from the <code>java.time</code> package. With the classes <code>LocalTime</code> and <code>Duration</code>, you could get the milliseconds between two points in time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalTime t0 = LocalTime.of(14, 0);\nLocalTime t1 = LocalTime.of(13, 0);\nDuration d = Duration.between(t0, t1);\nif (d.isNegative()) {\n    d = d.plusDays(1);\n}\nSystem.out.println(d.toMillis());\n</code></pre>\n<p>A <code>Duration</code> is a, well, duration: the amount of time between two points in time. If the second time lies before the first, then the duration is negative. In such case, we need to add 1 day to the duration.</p>\n<p>Now we have an amount of time represented by the <code>Duration</code> class. This class contains many methods to convert it to a certain time unit. In our case, <code>toMillis()</code> is exactly what we need.</p>\n<p><a href=\"https://ideone.com/jq3y9m\" rel=\"nofollow noreferrer\"><kbd>Online demo</kbd></a></p>\n<p>Instead of <code>d.isNegative()</code>, you can also use <code>t1.isBefore(t0)</code>, if you think it's more expressive.</p>\n<hr />\n<p>Note: I think this is not as half as clumsy as doing the math yourself.</p>\n"}],"owner":{"account_id":22296697,"reputation":42,"user_id":16522597,"display_name":"איתן רבינוביץ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1634647741,"creation_date":1634547776,"question_id":69613390,"body_markdown":"I&#39;m trying to calculate how many milliseconds between two times (for example between 13:00 to 13:01 there are 60000 milliseconds).\r\nThe times are represented by 2 integers (hour, minute).\r\n\r\nI wrote this function:\r\n\r\n    public static long millisBetweenTimes(int h1, int m1, int h2, int m2) { //hour1, minute1, hour2, minute2\r\n\t\t  long millis;\r\n\t\t  millis = (h2 - h1) * (60 * 60000);\r\n\t\t  if (m &lt; tm)\r\n\t\t    millis += (m2 - m1) * 60000;\r\n\t\t  else\r\n\t\t    millis -= (m1 - m2) * 60000;\r\n\t\t  return millis;\r\n    }\r\n\r\nHowever, this won&#39;t work when the second time is the day after (e.g. how many milliseconds between 14:00 Sunday to 13:00 Monday?)\r\n","title":"Calculate number of milliseconds between two times","body":"<p>I'm trying to calculate how many milliseconds between two times (for example between 13:00 to 13:01 there are 60000 milliseconds).\nThe times are represented by 2 integers (hour, minute).</p>\n<p>I wrote this function:</p>\n<pre><code>public static long millisBetweenTimes(int h1, int m1, int h2, int m2) { //hour1, minute1, hour2, minute2\n      long millis;\n      millis = (h2 - h1) * (60 * 60000);\n      if (m &lt; tm)\n        millis += (m2 - m1) * 60000;\n      else\n        millis -= (m1 - m2) * 60000;\n      return millis;\n}\n</code></pre>\n<p>However, this won't work when the second time is the day after (e.g. how many milliseconds between 14:00 Sunday to 13:00 Monday?)</p>\n"},{"tags":["java","regex","intellij-idea","junit"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634647733,"creation_date":1634647325,"answer_id":69631040,"question_id":69630550,"body_markdown":"Use `.*` with a negative look behind at the end for IT tests and a negative look ahead at the start for the front end tests:\r\n\r\n    ^(?!T\\\\d+_).*(?&lt;!IT)$\r\n\r\nSee [live demo][1].\r\n\r\nThe look arounds mean:\r\n\r\n - `^(?!T\\\\d+_)` “start is not followed by T then digits then underscore”\r\n - `(?&lt;!IT)$` “the characters preceding end are not IT”\r\n\r\nYou can vary the first look ahead to be more or less restrictive as suits you.\r\n\r\n  [1]: https://rubular.com/r/g4VwjEXoo2mvur","title":"Run all unit tests in IntelliJ with RegEx pattern that excludes two different kinds of tests","body":"<p>Use <code>.*</code> with a negative look behind at the end for IT tests and a negative look ahead at the start for the front end tests:</p>\n<pre><code>^(?!T\\\\d+_).*(?&lt;!IT)$\n</code></pre>\n<p>See <a href=\"https://rubular.com/r/g4VwjEXoo2mvur\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>The look arounds mean:</p>\n<ul>\n<li><code>^(?!T\\\\d+_)</code> “start is not followed by T then digits then underscore”</li>\n<li><code>(?&lt;!IT)$</code> “the characters preceding end are not IT”</li>\n</ul>\n<p>You can vary the first look ahead to be more or less restrictive as suits you.</p>\n"}],"owner":{"account_id":12893656,"reputation":21,"user_id":9324771,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634647733,"creation_date":1634645296,"question_id":69630550,"body_markdown":"I want to add a Run Configuration in IntelliJ IDEA which allows me to only run unit tests and ignores two other types of tests present in the project: integration tests and frontend tests.\r\nThe integration tests in our project follow the naming pattern `NameOfTestClassIT`, whereas the frontend tests follow the naming pattern `T00_00_NameOfTestClass`.\r\nI&#39;ve found a nice solution [here][1] to exclude integration tests from being executed and I wanted to extend the RegEx `^(?!.*IT$).*$` with an alternation to exclude the other naming pattern as well.\r\n\r\nI tried a lot of different combinations and it resulted in this RegEx: `^(?!(.*IT$)|T[0-9]{2}).*$`\r\n\r\nI tried to use a RegEx checker to prove that the expression works, and it works perfectly. But when I execute the Run Configuration with this pattern, integration tests are skipped, but not so the frontend tests. Are there any limitations set by IntelliJ that it simply doesn&#39;t work or is my RegEx not doing what it should?\r\n\r\nI would be glad if someone could help me on that!\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13104357/excluding-tests-from-being-run-in-intellij","title":"Run all unit tests in IntelliJ with RegEx pattern that excludes two different kinds of tests","body":"<p>I want to add a Run Configuration in IntelliJ IDEA which allows me to only run unit tests and ignores two other types of tests present in the project: integration tests and frontend tests.\nThe integration tests in our project follow the naming pattern <code>NameOfTestClassIT</code>, whereas the frontend tests follow the naming pattern <code>T00_00_NameOfTestClass</code>.\nI've found a nice solution <a href=\"https://stackoverflow.com/questions/13104357/excluding-tests-from-being-run-in-intellij\">here</a> to exclude integration tests from being executed and I wanted to extend the RegEx <code>^(?!.*IT$).*$</code> with an alternation to exclude the other naming pattern as well.</p>\n<p>I tried a lot of different combinations and it resulted in this RegEx: <code>^(?!(.*IT$)|T[0-9]{2}).*$</code></p>\n<p>I tried to use a RegEx checker to prove that the expression works, and it works perfectly. But when I execute the Run Configuration with this pattern, integration tests are skipped, but not so the frontend tests. Are there any limitations set by IntelliJ that it simply doesn't work or is my RegEx not doing what it should?</p>\n<p>I would be glad if someone could help me on that!</p>\n"},{"tags":["java","spring-boot","autowired","thread-local-storage"],"answers":[{"tags":[],"owner":{"account_id":5758078,"reputation":11,"user_id":4545315,"display_name":"Venkatesan K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590259161,"creation_date":1590259161,"answer_id":61976916,"question_id":60884958,"body_markdown":"Getting instance of TenantStore from org.springframework.context.ApplicationContext\r\n\r\nFirst implement ApplicationContextAware like as below\r\n\r\n    @Component\r\n    public class ApplicationContextUtil implements ApplicationContextAware {\r\n\tprivate static ApplicationContext context;\r\n\t@Override\r\n\tpublic void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n\t\tcontext = applicationContext;\r\n\t}\r\n\tpublic static ApplicationContext context() {\r\n\t\treturn context;\r\n\t}\r\n    }\r\n\r\nAnd your MyCacheService Will be like this:\r\n\r\n    public class MyCacheService {\r\n    public void myCacheMethod(String text) {\r\n        TenantStore tenantStore = ApplicationContextUtil.context().getBean(TenantStore.class);\r\n        System.out.println(tenantStore.getName());\r\n    }\r\n    }","title":"Autowired object populated using ThreadLocalTargetSource does not populate for every class","body":"<p>Getting instance of TenantStore from org.springframework.context.ApplicationContext</p>\n\n<p>First implement ApplicationContextAware like as below</p>\n\n<pre><code>@Component\npublic class ApplicationContextUtil implements ApplicationContextAware {\nprivate static ApplicationContext context;\n@Override\npublic void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n    context = applicationContext;\n}\npublic static ApplicationContext context() {\n    return context;\n}\n}\n</code></pre>\n\n<p>And your MyCacheService Will be like this:</p>\n\n<pre><code>public class MyCacheService {\npublic void myCacheMethod(String text) {\n    TenantStore tenantStore = ApplicationContextUtil.context().getBean(TenantStore.class);\n    System.out.println(tenantStore.getName());\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15586524,"reputation":1970,"user_id":11244881,"display_name":"SKumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634647711,"creation_date":1627062219,"answer_id":68503234,"question_id":60884958,"body_markdown":"I noticed similar behaviour. I fixed the issue by adding a bean dependancy\r\n\r\n    @Service\r\n    @DependsOn(&quot;proxiedThreadLocalTargetSource&quot;) // asks Spring to first load proxy bean \r\n    public class MyCacheService {\r\n\r\nwhere `proxiedThreadLocalTargetSource` bean is defined like in the OP&#39;s example -\r\n\r\n      @Primary\r\n      @Bean(name = &quot;proxiedThreadLocalTargetSource&quot;)\r\n      public ProxyFactoryBean proxiedThreadLocalTargetSource(ThreadLocalTargetSource threadLocalTargetSource) {\r\n        ProxyFactoryBean result = new ProxyFactoryBean();\r\n        result.setTargetSource(threadLocalTargetSource);\r\n        return result;\r\n      }\r\n\r\nSo, by adding the dependancy, Spring knows that it should load `MyCacheService` bean after the `proxiedThreadLocalTargetSource`. Without this dependancy, I noticed that `TenantStore` got injected instead of the proxy bean.","title":"Autowired object populated using ThreadLocalTargetSource does not populate for every class","body":"<p>I noticed similar behaviour. I fixed the issue by adding a bean dependancy</p>\n<pre><code>@Service\n@DependsOn(&quot;proxiedThreadLocalTargetSource&quot;) // asks Spring to first load proxy bean \npublic class MyCacheService {\n</code></pre>\n<p>where <code>proxiedThreadLocalTargetSource</code> bean is defined like in the OP's example -</p>\n<pre><code>  @Primary\n  @Bean(name = &quot;proxiedThreadLocalTargetSource&quot;)\n  public ProxyFactoryBean proxiedThreadLocalTargetSource(ThreadLocalTargetSource threadLocalTargetSource) {\n    ProxyFactoryBean result = new ProxyFactoryBean();\n    result.setTargetSource(threadLocalTargetSource);\n    return result;\n  }\n</code></pre>\n<p>So, by adding the dependancy, Spring knows that it should load <code>MyCacheService</code> bean after the <code>proxiedThreadLocalTargetSource</code>. Without this dependancy, I noticed that <code>TenantStore</code> got injected instead of the proxy bean.</p>\n"}],"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634647711,"creation_date":1585307937,"question_id":60884958,"body_markdown":"My Spring Boot application implements the ``TenantStore`` example for storing data in ``ThreadLocalTargetSource`` detailed in [this link][1]\r\n\r\n    @Bean(destroyMethod = &quot;destroy&quot;)\r\n\tpublic ThreadLocalTargetSource threadLocalTenantStore() {\r\n\t\tThreadLocalTargetSource result = new ThreadLocalTargetSource();\r\n\t\tresult.setTargetBeanName(&quot;tenantStore&quot;);\r\n\t\treturn result;\r\n\t}\r\n\r\nThe working example allows for the ``TenantStore`` object to be set and injected by the Spring Framework.  My version of the ``TenantFilter`` class described in that article sets the properties of the ``TenantStore`` object whenever a Servlet request is made\r\n\r\n    @Autowired\r\n\tprivate TenantStore tenantStore;\r\n\r\n    @Override\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\ttry {\r\n\r\n\t\t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n\t\t\tif (authentication != null) {\r\n\t\t\t\tString token = (String) request.getAttribute(ACCESS_TOKEN_VALUE);\r\n\r\n\t\t\t\tif (token != null) {\r\n\t\t\t\t\tOAuth2AccessToken oAuth2AccessToken = tokenStore.readAccessToken(token);\r\n\r\n\t\t\t\t\tif (oAuth2AccessToken.getAdditionalInformation() != null) {\r\n                        String tenantName = (String) oAuth2AccessToken.getAdditionalInformation().get(&quot;tenant&quot;);\r\n\t\t\t\t        storeTenantInThread(tenantName);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n            chain.doFilter(request, response);\r\n\r\n\t\t} catch (ResourceNotFoundException e) {\r\n\t\t\tlog.error(e.getMessage());\r\n\t\t} finally {\r\n\t\t\tclearTenant();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void storeTenantInThread(String tenantName) {\r\n\t\ttenantStore.setName(tenantName);\r\n\t}\r\n\r\n\tprivate void clearTenant() {\r\n\t\ttenantStore.clear();\r\n\t}\r\n    \r\nI then have a number of services where ``TenantStore`` is autowired and in each of these services the ``TenantStore`` contains the information that was populated in the ``doFilter()`` method.  Except for one class.  For some reason the properties of the ``TenantStore`` in this class are still null.  The name of the class affected is ``MyCacheService`` and the architecture is as follows:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/here&quot;)\r\n    public class MyController {\r\n    \r\n        @Autowired\r\n        private MyService myService\r\n        \r\n        @GetMapping\r\n        public ResponseEntity myGetMethod(@RequestParam(&quot;text&quot;) String text) {\r\n            myService.myMethod(text);\r\n            return new ResponseEntity(Http.OK);\r\n        }\r\n\r\n    }\r\n\r\n    @Service\r\n    public class MyService {\r\n    \r\n        @Autowired\r\n        private TenantStore tenantStore;\r\n        \r\n        @Autowired\r\n        private MyOtherService myOtherService;\r\n        \r\n        public void myMethod(String text) {\r\n            System.out.println(tenantStore.getName()); //works - prints name\r\n            myOtherService.myOtherMethod(text);\r\n        }\r\n        \r\n    }\r\n\r\n    @Service\r\n    public class MyOtherService {\r\n    \r\n        @Autowired\r\n        private TenantStore tenantStore;\r\n        \r\n        @Autowired\r\n        private Map&lt;String, MyComponent&gt; myComponents;\r\n        \r\n        public void myOtherMethod(String text) {\r\n            System.out.println(tenantStore.getName()); //works - prints name\r\n            MyComponent useThisComponent = myComponents.get(&quot;componentName&quot;);\r\n            useThisComponent.myComponentMethod(text);\r\n        }\r\n    \r\n    }\r\n\r\n    @Component(&quot;componentName&quot;)\r\n    public class MyComponent {\r\n    \r\n        @Autowired\r\n        private TenantStore tenantStore;\r\n        \r\n        @Autowired\r\n        private MyCacheService myCacheService;\r\n        \r\n        public void myComponentMethod(String text) {\r\n            System.out.println(tenantStore.getName()); //works - prints name\r\n            entityAliasCacheService.myCacheMethod(String text);\r\n        }\r\n    \r\n    }\r\n\r\n    @Service\r\n    public class MyCacheService {\r\n    \r\n        @Autowired\r\n        private TenantStore tenantStore;\r\n        \r\n        public void myCacheMethod(String text) {\r\n            System.out.println(tenantStore.getName()); //DOES NOT WORK - tenantStore object is not null but the name property is\r\n        }\r\n    }\r\n\r\n\r\nFrom what I can guess, for some reason the ``TenantStore`` in ``MyCacheService`` is being populated in a different thread, though I&#39;ve no idea why.\r\n\r\n\r\n  [1]: https://dzone.com/articles/an-alternative-approach-to-threadlocal-using-sprin-1","title":"Autowired object populated using ThreadLocalTargetSource does not populate for every class","body":"<p>My Spring Boot application implements the <code>TenantStore</code> example for storing data in <code>ThreadLocalTargetSource</code> detailed in <a href=\"https://dzone.com/articles/an-alternative-approach-to-threadlocal-using-sprin-1\" rel=\"nofollow noreferrer\">this link</a></p>\n\n<pre><code>@Bean(destroyMethod = \"destroy\")\npublic ThreadLocalTargetSource threadLocalTenantStore() {\n    ThreadLocalTargetSource result = new ThreadLocalTargetSource();\n    result.setTargetBeanName(\"tenantStore\");\n    return result;\n}\n</code></pre>\n\n<p>The working example allows for the <code>TenantStore</code> object to be set and injected by the Spring Framework.  My version of the <code>TenantFilter</code> class described in that article sets the properties of the <code>TenantStore</code> object whenever a Servlet request is made</p>\n\n<pre><code>@Autowired\nprivate TenantStore tenantStore;\n\n@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n        throws IOException, ServletException {\n    try {\n\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n\n        if (authentication != null) {\n            String token = (String) request.getAttribute(ACCESS_TOKEN_VALUE);\n\n            if (token != null) {\n                OAuth2AccessToken oAuth2AccessToken = tokenStore.readAccessToken(token);\n\n                if (oAuth2AccessToken.getAdditionalInformation() != null) {\n                    String tenantName = (String) oAuth2AccessToken.getAdditionalInformation().get(\"tenant\");\n                    storeTenantInThread(tenantName);\n                }\n            }\n        }\n\n        chain.doFilter(request, response);\n\n    } catch (ResourceNotFoundException e) {\n        log.error(e.getMessage());\n    } finally {\n        clearTenant();\n    }\n}\n\nprivate void storeTenantInThread(String tenantName) {\n    tenantStore.setName(tenantName);\n}\n\nprivate void clearTenant() {\n    tenantStore.clear();\n}\n</code></pre>\n\n<p>I then have a number of services where <code>TenantStore</code> is autowired and in each of these services the <code>TenantStore</code> contains the information that was populated in the <code>doFilter()</code> method.  Except for one class.  For some reason the properties of the <code>TenantStore</code> in this class are still null.  The name of the class affected is <code>MyCacheService</code> and the architecture is as follows:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/here\")\npublic class MyController {\n\n    @Autowired\n    private MyService myService\n\n    @GetMapping\n    public ResponseEntity myGetMethod(@RequestParam(\"text\") String text) {\n        myService.myMethod(text);\n        return new ResponseEntity(Http.OK);\n    }\n\n}\n\n@Service\npublic class MyService {\n\n    @Autowired\n    private TenantStore tenantStore;\n\n    @Autowired\n    private MyOtherService myOtherService;\n\n    public void myMethod(String text) {\n        System.out.println(tenantStore.getName()); //works - prints name\n        myOtherService.myOtherMethod(text);\n    }\n\n}\n\n@Service\npublic class MyOtherService {\n\n    @Autowired\n    private TenantStore tenantStore;\n\n    @Autowired\n    private Map&lt;String, MyComponent&gt; myComponents;\n\n    public void myOtherMethod(String text) {\n        System.out.println(tenantStore.getName()); //works - prints name\n        MyComponent useThisComponent = myComponents.get(\"componentName\");\n        useThisComponent.myComponentMethod(text);\n    }\n\n}\n\n@Component(\"componentName\")\npublic class MyComponent {\n\n    @Autowired\n    private TenantStore tenantStore;\n\n    @Autowired\n    private MyCacheService myCacheService;\n\n    public void myComponentMethod(String text) {\n        System.out.println(tenantStore.getName()); //works - prints name\n        entityAliasCacheService.myCacheMethod(String text);\n    }\n\n}\n\n@Service\npublic class MyCacheService {\n\n    @Autowired\n    private TenantStore tenantStore;\n\n    public void myCacheMethod(String text) {\n        System.out.println(tenantStore.getName()); //DOES NOT WORK - tenantStore object is not null but the name property is\n    }\n}\n</code></pre>\n\n<p>From what I can guess, for some reason the <code>TenantStore</code> in <code>MyCacheService</code> is being populated in a different thread, though I've no idea why.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","spring-tool-suite","eclipse-marketplace"],"answers":[{"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634647573,"creation_date":1634647573,"answer_id":69631106,"question_id":69565588,"body_markdown":"Spring Tools 3 (Standalone Edition) 3.9.14 is not supported anymore and is not compatible with the latest Eclipse 2021-09 release. The entry on the Eclipse marketplace is flagged as available for Eclipse 2020-09 as the latest.\r\n\r\nWe do provide Spring Tools 3 distribution builds for newer Eclipse versions, but since they are not supported anymore for a long time now, those are not well tested. If you urgently need that version, you can get them from here: https://github.com/spring-projects/toolsuite-distribution/wiki/Spring-Tool-Suite-3\r\n\r\nNevertheless, I highly recommend to use Spring Tools 4 for Eclipse instead - and file an issue if you are missing a specific feature from Spring Tools 3 in there and prevents you from upgrading.","title":"spring tools 3(standalone) 3.9.14 version release An internal error occurred during: &quot;Loading Spring static imports into Eclipse code assist favorite","body":"<p>Spring Tools 3 (Standalone Edition) 3.9.14 is not supported anymore and is not compatible with the latest Eclipse 2021-09 release. The entry on the Eclipse marketplace is flagged as available for Eclipse 2020-09 as the latest.</p>\n<p>We do provide Spring Tools 3 distribution builds for newer Eclipse versions, but since they are not supported anymore for a long time now, those are not well tested. If you urgently need that version, you can get them from here: <a href=\"https://github.com/spring-projects/toolsuite-distribution/wiki/Spring-Tool-Suite-3\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/toolsuite-distribution/wiki/Spring-Tool-Suite-3</a></p>\n<p>Nevertheless, I highly recommend to use Spring Tools 4 for Eclipse instead - and file an issue if you are missing a specific feature from Spring Tools 3 in there and prevents you from upgrading.</p>\n"}],"owner":{"account_id":21571689,"reputation":17,"user_id":15904495,"display_name":"LEARNER OLY ASKING "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2026,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69631106,"answer_count":1,"score":-1,"last_activity_date":1634647573,"creation_date":1634190081,"question_id":69565588,"body_markdown":"I installed spring tool 3 standalone from Eclipse marketplace after restart getting this error i got this error when i start my eclipse, I get the errors,\r\n```\r\nAn internal error occurred during: &quot;Initializing Java Tooling&quot;.\r\norg/eclipse/jdt/core/search/SearchPattern$AjcClosure1\r\n```\r\nand\r\n```\r\nAn internal error occurred during: &quot;Loading Spring static imports into Eclipse code assist favourites&quot;\r\n.org/eclipse/jdt/internal/compiler/parser/Scanner$AjcClosure1\r\n```\r\n\r\nI am using Eclipse latest 2021-09 and java version 16","title":"spring tools 3(standalone) 3.9.14 version release An internal error occurred during: &quot;Loading Spring static imports into Eclipse code assist favorite","body":"<p>I installed spring tool 3 standalone from Eclipse marketplace after restart getting this error i got this error when i start my eclipse, I get the errors,</p>\n<pre><code>An internal error occurred during: &quot;Initializing Java Tooling&quot;.\norg/eclipse/jdt/core/search/SearchPattern$AjcClosure1\n</code></pre>\n<p>and</p>\n<pre><code>An internal error occurred during: &quot;Loading Spring static imports into Eclipse code assist favourites&quot;\n.org/eclipse/jdt/internal/compiler/parser/Scanner$AjcClosure1\n</code></pre>\n<p>I am using Eclipse latest 2021-09 and java version 16</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634646308,"creation_date":1634646308,"answer_id":69630785,"question_id":69605594,"body_markdown":"Normally no, **HOWEVER** it&#39;s usually a really bad idea just to swap out a library without testing your application, so recompiling isn&#39;t really extra work.\r\n\r\nAlso now-a-days Java programs usually use a dependency building tool such as Maven or Gradle, and when you update a library using that, then the program is recompiled anyway. ","title":"If a library provider changes an operation I don&#39;t use, must I recompile my progra, that uses that class?","body":"<p>Normally no, <strong>HOWEVER</strong> it's usually a really bad idea just to swap out a library without testing your application, so recompiling isn't really extra work.</p>\n<p>Also now-a-days Java programs usually use a dependency building tool such as Maven or Gradle, and when you update a library using that, then the program is recompiled anyway.</p>\n"}],"owner":{"account_id":7102366,"reputation":151,"user_id":7389057,"display_name":"CElliott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69630785,"answer_count":1,"score":1,"last_activity_date":1634647502,"creation_date":1634482945,"question_id":69605594,"body_markdown":"Suppose a class in a Java library advertises three operations op1, op2, and op3 in an interface. My program uses op1 through an import. The library maintainer changes op2 and op3, but my program only depends on op1. Must I recompile my program that uses op1 before I can run the program again?","title":"If a library provider changes an operation I don&#39;t use, must I recompile my progra, that uses that class?","body":"<p>Suppose a class in a Java library advertises three operations op1, op2, and op3 in an interface. My program uses op1 through an import. The library maintainer changes op2 and op3, but my program only depends on op1. Must I recompile my program that uses op1 before I can run the program again?</p>\n"},{"tags":["java","macos","selenium","applescript","selenide"],"comments":[{"owner":{"account_id":4391642,"reputation":532,"user_id":3579815,"display_name":"user3579815"},"score":0,"creation_date":1633357199,"post_id":69382890,"comment_id":122731375,"body_markdown":"When I learned AppleScript I moved away from selenium. Trying on Big Sur, I&#39;ve no problems accessing either the regular Chrome window versus the one launched by selenium web driver. How are you not able to access the selenium window, does the window not exist when accessed via AS or are the UI elements (buttons) not accessible for click?","body":"When I learned AppleScript I moved away from selenium. Trying on Big Sur, I&#39;ve no problems accessing either the regular Chrome window versus the one launched by selenium web driver. How are you not able to access the selenium window, does the window not exist when accessed via AS or are the UI elements (buttons) not accessible for click?"},{"owner":{"account_id":22898254,"reputation":1,"user_id":17037441,"display_name":"xakrurychle"},"score":0,"creation_date":1634161119,"post_id":69382890,"comment_id":122954727,"body_markdown":"I wasn&#39;t able to anyhow differentiate between a regular Chrome window and the one selenium driver controls. I ran the webdriver, opened UI Inspector on Mac, viewed the IDs and names of the buttons I wanted to click on running the applescript, did the same for regular Chrome session and compared those two. The results were identical, hence the reason I was unable to successfully run the command. Any idea how to correct this?","body":"I wasn&#39;t able to anyhow differentiate between a regular Chrome window and the one selenium driver controls. I ran the webdriver, opened UI Inspector on Mac, viewed the IDs and names of the buttons I wanted to click on running the applescript, did the same for regular Chrome session and compared those two. The results were identical, hence the reason I was unable to successfully run the command. Any idea how to correct this?"},{"owner":{"account_id":4391642,"reputation":532,"user_id":3579815,"display_name":"user3579815"},"score":0,"creation_date":1634530799,"post_id":69382890,"comment_id":123040144,"body_markdown":"I see, so you needed to differentiate between the two types of browser windows. I would check the difference in the UI elements, IIRC selenium driver-launched window has got less UI components (not sure which UI elements are missing) perhaps that can be used as a distinguishing factor.","body":"I see, so you needed to differentiate between the two types of browser windows. I would check the difference in the UI elements, IIRC selenium driver-launched window has got less UI components (not sure which UI elements are missing) perhaps that can be used as a distinguishing factor."}],"answers":[{"tags":[],"owner":{"account_id":1359794,"reputation":836,"user_id":1297371,"accept_rate":44,"display_name":"yashaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634647351,"creation_date":1634647351,"answer_id":69631045,"question_id":69382890,"body_markdown":"As I see, the original complexity on the way to achieve the goal is \r\n\r\n&gt; the file is a hidden input field\r\n\r\n&gt; and appears only after clicking on the area where the file is supposed to be &quot;drag&amp;dropped&quot; or loaded from the system;\r\n\r\nI.e. – the hidden file. Correct me if am wrong:)\r\n\r\nBut this should not be the problem, because the Selenium WebDriver&#39;s sendKeys command works with hidden elements of input tag with type=file. So just simple  sendKeys should pass. The Selenide&#39;s uploadFromClassPath command is based on the original sendKeys - so it should pass too. \r\n\r\nHere is a simple test that shows that uploading file does not depend on visibility of input element:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import static com.codeborne.selenide.Condition.hidden;\r\n    import static com.codeborne.selenide.Condition.text;\r\n    import static com.codeborne.selenide.Selenide.*;\r\n    import static com.codeborne.selenide.Selenide.$;\r\n    \r\n    public class TheInternetTest {\r\n        @Test\r\n        void fileUpload() {\r\n            // GIVEN\r\n            open(&quot;https://the-internet.herokuapp.com/upload&quot;);\r\n            executeJavaScript(\r\n                    &quot;document.getElementById(&#39;file-upload&#39;).style.display = &#39;none&#39;&quot;\r\n            );\r\n            $(&quot;#file-upload&quot;).shouldBe(hidden);\r\n    \r\n            // WHEN\r\n            $(&quot;#file-upload&quot;).uploadFromClasspath(&quot;temp.txt&quot;);\r\n            $(&quot;#file-submit&quot;).click();\r\n    \r\n            // THEN\r\n            $(&quot;#uploaded-files&quot;).shouldHave(text(&quot;temp.txt&quot;));\r\n        }\r\n    }\r\n\r\nCheck the full working project with this code here: https://github.com/yashaka/selenide-file-upload-demo/blob/main/src/test/java/TheInternetTest.java\r\n\r\nP.S. \r\nThe common best practice when writing Web UI Tests is &quot;find the simple way to reach the goal instead of the best way in context of real user simulation&quot;. That&#39;s why we try to bypass all windows that are out of control for application under test. So my recommendation would be - forget apple script, and work with the input file directly through selenium webdriver. ","title":"How to use applescript to close upload dialog window from chromedriver instance?","body":"<p>As I see, the original complexity on the way to achieve the goal is</p>\n<blockquote>\n<p>the file is a hidden input field</p>\n</blockquote>\n<blockquote>\n<p>and appears only after clicking on the area where the file is supposed to be &quot;drag&amp;dropped&quot; or loaded from the system;</p>\n</blockquote>\n<p>I.e. – the hidden file. Correct me if am wrong:)</p>\n<p>But this should not be the problem, because the Selenium WebDriver's sendKeys command works with hidden elements of input tag with type=file. So just simple  sendKeys should pass. The Selenide's uploadFromClassPath command is based on the original sendKeys - so it should pass too.</p>\n<p>Here is a simple test that shows that uploading file does not depend on visibility of input element:</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport static com.codeborne.selenide.Condition.hidden;\nimport static com.codeborne.selenide.Condition.text;\nimport static com.codeborne.selenide.Selenide.*;\nimport static com.codeborne.selenide.Selenide.$;\n\npublic class TheInternetTest {\n    @Test\n    void fileUpload() {\n        // GIVEN\n        open(&quot;https://the-internet.herokuapp.com/upload&quot;);\n        executeJavaScript(\n                &quot;document.getElementById('file-upload').style.display = 'none'&quot;\n        );\n        $(&quot;#file-upload&quot;).shouldBe(hidden);\n\n        // WHEN\n        $(&quot;#file-upload&quot;).uploadFromClasspath(&quot;temp.txt&quot;);\n        $(&quot;#file-submit&quot;).click();\n\n        // THEN\n        $(&quot;#uploaded-files&quot;).shouldHave(text(&quot;temp.txt&quot;));\n    }\n}\n</code></pre>\n<p>Check the full working project with this code here: <a href=\"https://github.com/yashaka/selenide-file-upload-demo/blob/main/src/test/java/TheInternetTest.java\" rel=\"nofollow noreferrer\">https://github.com/yashaka/selenide-file-upload-demo/blob/main/src/test/java/TheInternetTest.java</a></p>\n<p>P.S.\nThe common best practice when writing Web UI Tests is &quot;find the simple way to reach the goal instead of the best way in context of real user simulation&quot;. That's why we try to bypass all windows that are out of control for application under test. So my recommendation would be - forget apple script, and work with the input file directly through selenium webdriver.</p>\n"}],"owner":{"account_id":22898254,"reputation":1,"user_id":17037441,"display_name":"xakrurychle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634647351,"creation_date":1632946807,"question_id":69382890,"body_markdown":"I have a selenium test (selenide to be precise) where the scenario requires a file upload.\r\nThe element to which I&#39;m uploading the file is **a hidden input field** which is located at the end of DOM;\r\n\r\n```&lt;input type=&quot;file&quot; style=&quot;height: 0; width: 0; visibility: hidden;&quot; tabindex=&quot;-1&quot; accept=&quot;*&quot;&gt;```\r\n\r\nand appears only after clicking on the area where the file is supposed to be &quot;drag&amp;dropped&quot; or loaded from the system;\r\n\r\n```&lt;a class=&quot;browse&quot; ref=&quot;fileBrowse&quot; href=&quot;#&quot;&gt;select files...&lt;/a&gt;```\r\n\r\nthat means I am unable to use any method I&#39;ve known until now without the need to click the element first - e.g., sendKeys, uploadFile, uploadFromClassPath, etc. However, the moment I click the element, a dialog window appears. After loading the file, the window won&#39;t close and I have yet to find a robust solution to close that window.\r\n\r\n[Situation how the dialog window looks within the macOS and chrome setup][1]\r\n\r\nI am using macOS and chrome, which means I cannot use &quot;autoIT&quot;, and I was not able to run &quot;sikuliX&quot; either to create a simple screenshot script.\r\n\r\nI was able, however, to scramble up an applescript using Automator which worked fine provided we omit the web driver&#39;s instance existence. Meaning; if I run the script from the console, setting the website exactly as the automated test would find it - it works... Unfortunately, it does not work once the test instantiates and runs within the webdriver.\r\n\r\nI have two questions I hope someone with more experience could answer:\r\n\r\n**1) How to make the applescript use the webdriver&#39;s instance and not the regular chrome window - should this be solved somehow, it&#39;s a pretty neat solution**\r\n\r\n**2) Any other idea on how to close the upload dialog window?**\r\n\r\nThe applescript\r\n\r\n```#!/usr/bin/env osascript\r\n\r\non run {input, parameters}\r\n\t-- Click “Google Chrome” in the Dock.\r\n\tdelay 6.006100\r\n\tset timeoutSeconds to 2.000000\r\n\tset uiScript to &quot;click UI Element \\&quot;Google Chrome\\&quot; of list 1 of application process \\&quot;Dock\\&quot;&quot;\r\n\tmy doWithTimeout( uiScript, timeoutSeconds )\r\n\treturn input\r\n\r\n\t-- Click the &#210;Cancel&#211; button.\r\n\tdelay 3.763318\r\n\tset timeoutSeconds to 2.0\r\n\tset uiScript to &quot;click UI Element \\&quot;Cancel\\&quot; of sheet 1 of window \\&quot;PowerFLOW portal - Google Chrome\\&quot; of application process \\&quot;Chrome\\&quot;&quot;\r\n\tmy doWithTimeout(uiScript, timeoutSeconds)\r\n\treturn input\r\nend run\r\n\r\non doWithTimeout(uiScript, timeoutSeconds)\r\n\tset endDate to (current date) + timeoutSeconds\r\n\trepeat\r\n\t\ttry\r\n\t\t\trun script &quot;tell application \\&quot;System Events\\&quot;\r\n&quot; &amp; uiScript &amp; &quot;\r\nend tell&quot;\r\n\t\t\texit repeat\r\n\t\ton error errorMessage\r\n\t\t\tif ((current date) &gt; endDate) then\r\n\t\t\t\terror &quot;Can not &quot; &amp; uiScript\r\n\t\t\tend if\r\n\t\tend try\r\n\tend repeat\r\nend doWithTimeout\r\n```\r\n\r\nthe code used to run the script within the test\r\n\r\n```if (System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;mac&quot;)) {\r\n      try {\r\n        new ProcessBuilder(&quot;/path/to/the/script&quot;).start();\r\n      } catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n```\r\nBesides trying to use the applescript, I&#39;ve tried &quot;java robot class&quot; but I wasn&#39;t able to close the dialog window. \r\n\r\nUsing the snippet below, the uncommented part escapes the entire chrome window (the window goes &quot;grey&quot;/inactive) and not the dialog window, which honestly surprised me, as I have thought the dialog window was the main working window at that moment. \r\n\r\nThe part that is commented works, but as you can imagine, it is useless, should the test be run on any other machine as the coordinates are specific to my machine only. \r\n\r\n```\r\ntry {\r\n        Robot robot = new Robot();\r\n        //robot.mouseMove(906, 526);\r\n        //robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n        //robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n\r\n        robot.keyPress(KeyEvent.VK_ESCAPE);\r\n        robot.keyRelease(KeyEvent.VK_ESCAPE);\r\n    } catch (AWTException e) {\r\n        e.printStackTrace();\r\n      }\r\n```\r\n\r\nThe method itself looks just about like this\r\n\r\n```\r\n$$x(&quot;#ElementsCollection&quot;)\r\n        .findBy(&quot;text1&quot;)\r\n        .scrollIntoView(true)\r\n        .find(byXpath(&quot;#xpath&quot;)).val(&quot;text2&quot;)\r\n        .find(byXpath(&quot;#xpath&quot;) //this is the location of the &lt;a&gt; element mentioned above that needs to be clicked in order for &lt;input type file&gt; element to appear\r\n        .click();\r\n\r\n$x(&quot;//input[@type=\\&quot;file\\&quot;]&quot;).sendKeys(&quot;/path/to/the/uploadedFile&quot;);\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZmbFr.png","title":"How to use applescript to close upload dialog window from chromedriver instance?","body":"<p>I have a selenium test (selenide to be precise) where the scenario requires a file upload.\nThe element to which I'm uploading the file is <strong>a hidden input field</strong> which is located at the end of DOM;</p>\n<p><code>&lt;input type=&quot;file&quot; style=&quot;height: 0; width: 0; visibility: hidden;&quot; tabindex=&quot;-1&quot; accept=&quot;*&quot;&gt;</code></p>\n<p>and appears only after clicking on the area where the file is supposed to be &quot;drag&amp;dropped&quot; or loaded from the system;</p>\n<p><code>&lt;a class=&quot;browse&quot; ref=&quot;fileBrowse&quot; href=&quot;#&quot;&gt;select files...&lt;/a&gt;</code></p>\n<p>that means I am unable to use any method I've known until now without the need to click the element first - e.g., sendKeys, uploadFile, uploadFromClassPath, etc. However, the moment I click the element, a dialog window appears. After loading the file, the window won't close and I have yet to find a robust solution to close that window.</p>\n<p><a href=\"https://i.stack.imgur.com/ZmbFr.png\" rel=\"nofollow noreferrer\">Situation how the dialog window looks within the macOS and chrome setup</a></p>\n<p>I am using macOS and chrome, which means I cannot use &quot;autoIT&quot;, and I was not able to run &quot;sikuliX&quot; either to create a simple screenshot script.</p>\n<p>I was able, however, to scramble up an applescript using Automator which worked fine provided we omit the web driver's instance existence. Meaning; if I run the script from the console, setting the website exactly as the automated test would find it - it works... Unfortunately, it does not work once the test instantiates and runs within the webdriver.</p>\n<p>I have two questions I hope someone with more experience could answer:</p>\n<p><strong>1) How to make the applescript use the webdriver's instance and not the regular chrome window - should this be solved somehow, it's a pretty neat solution</strong></p>\n<p><strong>2) Any other idea on how to close the upload dialog window?</strong></p>\n<p>The applescript</p>\n<pre><code>\non run {input, parameters}\n    -- Click “Google Chrome” in the Dock.\n    delay 6.006100\n    set timeoutSeconds to 2.000000\n    set uiScript to &quot;click UI Element \\&quot;Google Chrome\\&quot; of list 1 of application process \\&quot;Dock\\&quot;&quot;\n    my doWithTimeout( uiScript, timeoutSeconds )\n    return input\n\n    -- Click the ÒCancelÓ button.\n    delay 3.763318\n    set timeoutSeconds to 2.0\n    set uiScript to &quot;click UI Element \\&quot;Cancel\\&quot; of sheet 1 of window \\&quot;PowerFLOW portal - Google Chrome\\&quot; of application process \\&quot;Chrome\\&quot;&quot;\n    my doWithTimeout(uiScript, timeoutSeconds)\n    return input\nend run\n\non doWithTimeout(uiScript, timeoutSeconds)\n    set endDate to (current date) + timeoutSeconds\n    repeat\n        try\n            run script &quot;tell application \\&quot;System Events\\&quot;\n&quot; &amp; uiScript &amp; &quot;\nend tell&quot;\n            exit repeat\n        on error errorMessage\n            if ((current date) &gt; endDate) then\n                error &quot;Can not &quot; &amp; uiScript\n            end if\n        end try\n    end repeat\nend doWithTimeout\n</code></pre>\n<p>the code used to run the script within the test</p>\n<pre><code>      try {\n        new ProcessBuilder(&quot;/path/to/the/script&quot;).start();\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n    }\n</code></pre>\n<p>Besides trying to use the applescript, I've tried &quot;java robot class&quot; but I wasn't able to close the dialog window.</p>\n<p>Using the snippet below, the uncommented part escapes the entire chrome window (the window goes &quot;grey&quot;/inactive) and not the dialog window, which honestly surprised me, as I have thought the dialog window was the main working window at that moment.</p>\n<p>The part that is commented works, but as you can imagine, it is useless, should the test be run on any other machine as the coordinates are specific to my machine only.</p>\n<pre><code>try {\n        Robot robot = new Robot();\n        //robot.mouseMove(906, 526);\n        //robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n        //robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n\n        robot.keyPress(KeyEvent.VK_ESCAPE);\n        robot.keyRelease(KeyEvent.VK_ESCAPE);\n    } catch (AWTException e) {\n        e.printStackTrace();\n      }\n</code></pre>\n<p>The method itself looks just about like this</p>\n<pre><code>$$x(&quot;#ElementsCollection&quot;)\n        .findBy(&quot;text1&quot;)\n        .scrollIntoView(true)\n        .find(byXpath(&quot;#xpath&quot;)).val(&quot;text2&quot;)\n        .find(byXpath(&quot;#xpath&quot;) //this is the location of the &lt;a&gt; element mentioned above that needs to be clicked in order for &lt;input type file&gt; element to appear\n        .click();\n\n$x(&quot;//input[@type=\\&quot;file\\&quot;]&quot;).sendKeys(&quot;/path/to/the/uploadedFile&quot;);\n</code></pre>\n"},{"tags":["java","jar","talend","executable-jar"],"answers":[{"tags":[],"owner":{"account_id":14494833,"reputation":11,"user_id":10469762,"display_name":"Vasilis R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634647181,"creation_date":1634647181,"answer_id":69630995,"question_id":69048037,"body_markdown":"To whom may be interested, I found a solution for my question. In order to achieve this, you have to **build** your job (as a standalone job) and then unzip the compressed file that comes out. In that file you will find everything you need so as to **run the project using the terminal and enter the content parameters** (if any).","title":"Talend Open Studio JAR Properties","body":"<p>To whom may be interested, I found a solution for my question. In order to achieve this, you have to <strong>build</strong> your job (as a standalone job) and then unzip the compressed file that comes out. In that file you will find everything you need so as to <strong>run the project using the terminal and enter the content parameters</strong> (if any).</p>\n"}],"owner":{"account_id":14494833,"reputation":11,"user_id":10469762,"display_name":"Vasilis R."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634647181,"creation_date":1630686364,"question_id":69048037,"body_markdown":"I need to export a JAR file from my Talend Open Studio project. In this project, I have inserted my connection properties to connect to MariaDB. This JAR file has to be executed by other people with different credentials in their database. Could they insert their properties dynamically to connect to their environment and execute my project? Also, which is more preferable, to export it as a JAR or executable JAR.","title":"Talend Open Studio JAR Properties","body":"<p>I need to export a JAR file from my Talend Open Studio project. In this project, I have inserted my connection properties to connect to MariaDB. This JAR file has to be executed by other people with different credentials in their database. Could they insert their properties dynamically to connect to their environment and execute my project? Also, which is more preferable, to export it as a JAR or executable JAR.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1634031057,"post_id":69538116,"comment_id":122911115,"body_markdown":"Depends on what you want to happen: should it be possible to save/create new addresses along with the entity? Should it be possible to delete them?","body":"Depends on what you want to happen: should it be possible to save/create new addresses along with the entity? Should it be possible to delete them?"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634647179,"creation_date":1634647179,"answer_id":69630994,"question_id":69538116,"body_markdown":"The CascadeType refers to the operation that should cascade over to the object of an attribute. If you call `EntityManager.persist`, it will cascade to attributes with `CascadeType.PERSIST`, for `EntityManager.merge` it is `CascadeType.MERGE`, for `EntityManager.remove` it is `CascadeType.REMOVE`, for `EntityManager.refresh` it is `CascadeType.REFRESH` and finally for `EntityManager.detach` it is `CascadeType.DETACH` and finally.\r\n\r\nA cascade type for saving i.e. PERSIST/MERGE controls if changes done to an `Address` entity, that is reachable through that attribute, should be flushed during the respective operation. Since you don&#39;t want this instance to be changeable at all, these cascade types make no sense at all and since it is immutable, also REFRESH makes no sense.\r\n\r\nTo guarantee that no changes happen, you will have to encapsulate the entity properly by e.g. using field access and not expose setters.","title":"What cascadeType should I use for an immutable hibernate entity?","body":"<p>The CascadeType refers to the operation that should cascade over to the object of an attribute. If you call <code>EntityManager.persist</code>, it will cascade to attributes with <code>CascadeType.PERSIST</code>, for <code>EntityManager.merge</code> it is <code>CascadeType.MERGE</code>, for <code>EntityManager.remove</code> it is <code>CascadeType.REMOVE</code>, for <code>EntityManager.refresh</code> it is <code>CascadeType.REFRESH</code> and finally for <code>EntityManager.detach</code> it is <code>CascadeType.DETACH</code> and finally.</p>\n<p>A cascade type for saving i.e. PERSIST/MERGE controls if changes done to an <code>Address</code> entity, that is reachable through that attribute, should be flushed during the respective operation. Since you don't want this instance to be changeable at all, these cascade types make no sense at all and since it is immutable, also REFRESH makes no sense.</p>\n<p>To guarantee that no changes happen, you will have to encapsulate the entity properly by e.g. using field access and not expose setters.</p>\n"}],"owner":{"account_id":5494271,"reputation":2925,"user_id":4365948,"accept_rate":80,"display_name":"Heschoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69630994,"answer_count":1,"score":1,"last_activity_date":1634647179,"creation_date":1634030884,"question_id":69538116,"body_markdown":"What cascade type should I use for a hibernate entity attribute whose fields can&#39;t be modified, but that can be reassigned to a new instance?\r\n\r\nExample\r\n```\r\n    @ManyToOne(cascade = { CascadeType.REFRESH })\r\n    @JoinColumn(name = &quot;ADDRESS_ID&quot;, nullable = true)\r\n    private Address address;\r\n```\r\nWe can assign a new address to the current object, but we can&#39;t modify the fields of an existing address since the Addresses should be immutable in the database. We should be able to create new addresses along with the entity but not to delete them.\r\nWhat CascadeType should we use?","title":"What cascadeType should I use for an immutable hibernate entity?","body":"<p>What cascade type should I use for a hibernate entity attribute whose fields can't be modified, but that can be reassigned to a new instance?</p>\n<p>Example</p>\n<pre><code>    @ManyToOne(cascade = { CascadeType.REFRESH })\n    @JoinColumn(name = &quot;ADDRESS_ID&quot;, nullable = true)\n    private Address address;\n</code></pre>\n<p>We can assign a new address to the current object, but we can't modify the fields of an existing address since the Addresses should be immutable in the database. We should be able to create new addresses along with the entity but not to delete them.\nWhat CascadeType should we use?</p>\n"},{"tags":["macos","java"],"comments":[{"owner":{"account_id":5392696,"reputation":195,"user_id":4294729,"display_name":"Michael Gao"},"score":0,"creation_date":1425201579,"post_id":28779190,"comment_id":45858772,"body_markdown":"Now I know why I always failed to change JDK version. Previously I have been added java 1.7 path in my ~/.bash_profile and include in PATH. Now I remove that line and I could change now.","body":"Now I know why I always failed to change JDK version. Previously I have been added java 1.7 path in my ~/.bash_profile and include in PATH. Now I remove that line and I could change now."}],"answers":[{"tags":[],"owner":{"account_id":1227634,"reputation":2538,"user_id":1192906,"display_name":"andrus_a"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1425110303,"creation_date":1425110303,"answer_id":28779493,"question_id":28779190,"body_markdown":"To set Java to 1.8 for your **shell environment**, put this in your ~/.bash_profile:\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\r\n","title":"set mac jdk version to 1.8","body":"<p>To set Java to 1.8 for your <strong>shell environment</strong>, put this in your ~/.bash_profile:</p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10173640,"reputation":91,"user_id":7513111,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1589300240,"creation_date":1589300240,"answer_id":61756651,"question_id":28779190,"body_markdown":"    Solution without 3rd party tools:\r\nleave all JDKs at their default location, under /Library/Java/JavaVirtualMachines. The system will pick the highest version by default.\r\nTo exclude a JDK from being picked by default, rename its Contents/Info.plist to Info.plist.disabled. That JDK can still be used when $JAVA_HOME points to it, or explicitly referenced in a script or configuration. It will simply be ignored by system&#39;s java command.\r\nSystem launcher will use the JDK with highest version among those that have an Info.plist file.\r\n\r\nWhen working in a shell with alternate JDK, pick your method among existing answers (jenv, or custom aliases/scripts around /usr/libexec/java_home, etc).","title":"set mac jdk version to 1.8","body":"<pre><code>Solution without 3rd party tools:\n</code></pre>\n\n<p>leave all JDKs at their default location, under /Library/Java/JavaVirtualMachines. The system will pick the highest version by default.\nTo exclude a JDK from being picked by default, rename its Contents/Info.plist to Info.plist.disabled. That JDK can still be used when $JAVA_HOME points to it, or explicitly referenced in a script or configuration. It will simply be ignored by system's java command.\nSystem launcher will use the JDK with highest version among those that have an Info.plist file.</p>\n\n<p>When working in a shell with alternate JDK, pick your method among existing answers (jenv, or custom aliases/scripts around /usr/libexec/java_home, etc).</p>\n"}],"owner":{"account_id":5392696,"reputation":195,"user_id":4294729,"display_name":"Michael Gao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42615,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":28779493,"answer_count":2,"score":17,"last_activity_date":1634647097,"creation_date":1425107612,"question_id":28779190,"body_markdown":"I have searched several ways to change JDK version on mac.\r\n\r\n    $/usr/libexec/java_home\r\nAnd I got\r\n        \r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home\r\n\r\nI tried\r\n\r\n    $export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home\r\n\r\nalso tried\r\n\r\n    /usr/libexec/java_home 1.8.0_31 --exec javac -version\r\n\r\nthen I run\r\n\r\n    $echo $JAVA_HOME\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home\r\n\r\nthen I re-check java -version\r\n\r\n    $java -version\r\n    java version &quot;1.7.0_67&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_67-b01)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.65-b04, mixed mode)\r\n\r\n\r\nHow I can really change java -version on my mac.","title":"set mac jdk version to 1.8","body":"<p>I have searched several ways to change JDK version on mac.</p>\n\n<pre><code>$/usr/libexec/java_home\n</code></pre>\n\n<p>And I got</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home\n</code></pre>\n\n<p>I tried</p>\n\n<pre><code>$export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home\n</code></pre>\n\n<p>also tried</p>\n\n<pre><code>/usr/libexec/java_home 1.8.0_31 --exec javac -version\n</code></pre>\n\n<p>then I run</p>\n\n<pre><code>$echo $JAVA_HOME\n</code></pre>\n\n<p>/Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home</p>\n\n<p>then I re-check java -version</p>\n\n<pre><code>$java -version\njava version \"1.7.0_67\"\nJava(TM) SE Runtime Environment (build 1.7.0_67-b01)\nJava HotSpot(TM) 64-Bit Server VM (build 24.65-b04, mixed mode)\n</code></pre>\n\n<p>How I can really change java -version on my mac.</p>\n"},{"tags":["java","ant","gitlab"],"comments":[{"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1634559991,"post_id":69615971,"comment_id":123049644,"body_markdown":"What Java version do you have installed and in your `$PATH`?","body":"What Java version do you have installed and in your <code>$PATH</code>?"},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":1,"creation_date":1634560071,"post_id":69615971,"comment_id":123049696,"body_markdown":"On my local computer it&#39;s Java 11, but how is this related since I&#39;m building this on gitlab virtual machine, using the .gitlab-ci.yml?","body":"On my local computer it&#39;s Java 11, but how is this related since I&#39;m building this on gitlab virtual machine, using the .gitlab-ci.yml?"},{"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1634560680,"post_id":69615971,"comment_id":123049977,"body_markdown":"I meant what Java version does Gitlab&#39;s runner have. You could add a call to `java -version` as the first step of the `script` tag to provide this info","body":"I meant what Java version does Gitlab&#39;s runner have. You could add a call to <code>java -version</code> as the first step of the <code>script</code> tag to provide this info"},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":0,"creation_date":1634560848,"post_id":69615971,"comment_id":123050055,"body_markdown":"It says `java version &quot;14.0.1&quot;`","body":"It says <code>java version &quot;14.0.1&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634562539,"creation_date":1634562539,"answer_id":69616693,"question_id":69615971,"body_markdown":"According to the information provided in the comments, you have Java 14.0.1 on your GitLab runner. Since this Java version is used to launch ant and its tasks, it cannot compile code with a &quot;17&quot; target version.\r\n\r\nTo make a long story short, you&#39;ll need a newer Java version on your runner.\r\n\r\nThe simplest way of doing this is probably by using a pre-built image that contains it:\r\n\r\n```yaml\r\ndeploy_Default:\r\n  stage: deploy\r\n  image: openjdk:17\r\n  script:\r\n    - sh -x doc.sh &quot;$CTP_NAME&quot; &quot;$(cat CTP_VERSION)&quot;\r\n    - sh -x deploy.sh &quot;$CTP_NAME&quot; &quot;$(cat CTP_VERSION)&quot; &quot;$PROFILE_VERSION&quot; &quot;$PROFILE_NAME&quot;\r\n```\r\n\r\nIf that&#39;s not a possibility, you could explicitly install it in the before script stage:\r\n\r\n```yaml\r\ndefault:\r\n  before_script:\r\n    - wget -qO - https://adoptopenjdk.jfrog.io/adoptopenjdk/api/gpg/key/public | sudo apt-key add -\r\n    - sudo add-apt-repository --yes https://adoptopenjdk.jfrog.io/adoptopenjdk/deb/\r\n    - sudo apt-get update -qq &amp;&amp; sudo apt-get install -y adoptopenjdk-17-hotspot latex209-bin texlive-latex-base texlive-latex-extra ant\r\n    - ant all -f src/build.xml\r\n```","title":"Gitlab ant.java.version is 11 but I want to build the project using another version","body":"<p>According to the information provided in the comments, you have Java 14.0.1 on your GitLab runner. Since this Java version is used to launch ant and its tasks, it cannot compile code with a &quot;17&quot; target version.</p>\n<p>To make a long story short, you'll need a newer Java version on your runner.</p>\n<p>The simplest way of doing this is probably by using a pre-built image that contains it:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>deploy_Default:\n  stage: deploy\n  image: openjdk:17\n  script:\n    - sh -x doc.sh &quot;$CTP_NAME&quot; &quot;$(cat CTP_VERSION)&quot;\n    - sh -x deploy.sh &quot;$CTP_NAME&quot; &quot;$(cat CTP_VERSION)&quot; &quot;$PROFILE_VERSION&quot; &quot;$PROFILE_NAME&quot;\n</code></pre>\n<p>If that's not a possibility, you could explicitly install it in the before script stage:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>default:\n  before_script:\n    - wget -qO - https://adoptopenjdk.jfrog.io/adoptopenjdk/api/gpg/key/public | sudo apt-key add -\n    - sudo add-apt-repository --yes https://adoptopenjdk.jfrog.io/adoptopenjdk/deb/\n    - sudo apt-get update -qq &amp;&amp; sudo apt-get install -y adoptopenjdk-17-hotspot latex209-bin texlive-latex-base texlive-latex-extra ant\n    - ant all -f src/build.xml\n</code></pre>\n"}],"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69616693,"answer_count":1,"score":1,"last_activity_date":1634646974,"creation_date":1634559665,"question_id":69615971,"body_markdown":"So I&#39;m using gitlab and I have a java project that&#39;s built on gitlab VM using a .gitlab-ci-yml file.&lt;Br&gt;&lt;br&gt;\r\nI have this problem where we have to change the java version the project is build with (current java 11).&lt;br&gt;&lt;br&gt;\r\n\r\nSo adding in `build.xml` this: ```&lt;echo message=&quot;ant.java.version = ${ant.java.version}&quot; /&gt;``` will print `11`.&lt;br&gt;&lt;br&gt;\r\nI&#39;ve tried to change it specifying in `javac` the `source` and `target` but if the `target` is not specified, it will not build it using another java version, and if it is specified, it will return an error:&lt;br&gt;\r\n[![enter image description here][1]][1]&lt;br&gt;\r\nAlso using `\r\n\t&lt;property name=&quot;ant.build.javac.target&quot; value=&quot;17&quot; /&gt;` will return the same error.&lt;br&gt;\r\nSo I&#39;m not sure if basically adding my own `ant` tool and `java` version into the package and force it to use that one will work, I don&#39;t know how to do this.&lt;br&gt;&lt;Br&gt;\r\n\r\nHere is the build.xml file and also the .gitlab-ci.yml\r\n\r\n\r\n**UPDATE**: `.gitlab-ci.yml` was updated. Now the error seems to be the following, having the below `.gilab-ci.yml` file:\r\n`Unable to locate package adoptopenjdk-17-hotspot`&lt;br&gt;\r\n**build.xml**\r\n```\r\n&lt;project name=&quot;ClinicalTrialProcessor&quot; default=&quot;all&quot; basedir=&quot;.&quot;&gt;\r\n\r\n\t&lt;property name=&quot;build&quot; value=&quot;${basedir}/build&quot;/&gt;\r\n\t&lt;property name=&quot;source&quot; value=&quot;${basedir}/source&quot;/&gt;\r\n\t&lt;property name=&quot;java&quot; value=&quot;${source}/java&quot;/&gt;\r\n\t&lt;property name=&quot;files&quot; value=&quot;${source}/files&quot;/&gt;\r\n\t&lt;property name=&quot;resources&quot; value=&quot;${source}/resources&quot;/&gt;\r\n\t&lt;property name=&quot;config&quot; value=&quot;${source}/config&quot;/&gt;\r\n\t&lt;property name=&quot;installer&quot; value=&quot;org/rsna/installer&quot;/&gt;\r\n\t&lt;property name=&quot;launcher&quot; value=&quot;org/rsna/launcher&quot;/&gt;\r\n\t&lt;property name=&quot;runner&quot; value=&quot;org/rsna/runner&quot;/&gt;\r\n\t&lt;property name=&quot;libraries&quot; value=&quot;${basedir}/libraries&quot;/&gt;\r\n\t&lt;property name=&quot;products&quot; value=&quot;${basedir}/products&quot;/&gt;\r\n\t&lt;property name=&quot;documentation&quot; value=&quot;${basedir}/documentation&quot;/&gt;\r\n\t&lt;property name=&quot;title&quot; value=&quot;CTP&quot;/&gt;\r\n\t&lt;property name=&quot;copyright&quot; value=&quot;Copyright 2013 Radiological Society of North America&quot;/&gt;\r\n\t&lt;property name=&quot;ant.build.javac.target&quot; value=&quot;17&quot; /&gt;\r\n\r\n\t&lt;path id=&quot;classpath&quot;&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/util.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/dcm4che.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/getopt.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/log4j.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/edtftpj.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/jdbm.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/commons-compress-1.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/jai_imageio.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/pixelmed_codec.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/email/activation.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/email/javax.mail.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/ftp/commons-logging-1.2.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/ftp/commons-net-3.3.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/ftp/commons-vfs2-2.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement location=&quot;${libraries}/ftp/jsch-0.1.53.jar&quot;/&gt;\r\n                &lt;fileset dir=&quot;${libraries}/aws/third-party&quot; includes=&quot;**/*.jar&quot;/&gt;\r\n                &lt;fileset dir=&quot;${libraries}/aws/lib&quot; includes=&quot;**/*.jar&quot;/&gt;\r\n              &lt;/path&gt;\r\n\r\n\t&lt;target name=&quot;clean&quot;&gt;\r\n\t\t&lt;delete dir=&quot;${build}&quot; failonerror=&quot;false&quot;/&gt;\r\n\t\t&lt;delete dir=&quot;${documentation}&quot; failonerror=&quot;false&quot;/&gt;\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;init&quot;&gt;\r\n\t\t&lt;tstamp&gt;\r\n\t\t\t&lt;format property=&quot;today&quot; pattern=&quot;yyyy.MM.dd&quot;/&gt;\r\n\t\t\t&lt;format property=&quot;now&quot; pattern=&quot;HH:mm:ss z&quot;/&gt;\r\n\t\t&lt;/tstamp&gt;\r\n\t\t&lt;echo message=&quot;Time now ${now}&quot;/&gt;\r\n\t\t&lt;echo message=&quot;ant.java.version = 17&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;${build}&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${products}&quot;/&gt;\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;compile&quot; depends=&quot;init&quot;&gt;\r\n\t\t&lt;javac destdir=&quot;${build}&quot; optimize=&quot;on&quot;\r\n\t\t\t\tsource=&quot;17&quot;\r\n\t\t\t\tclasspathref=&quot;classpath&quot;\r\n\t\t\t\tincludeantruntime=&quot;false&quot;\r\n\t\t\t\tdebug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\r\n\t\t\t&lt;src path=&quot;${java}&quot;/&gt;\r\n\t\t\t&lt;!-- &lt;compilerarg value=&quot;-Xlint:unchecked&quot;/&gt; --&gt;\r\n\t\t\t&lt;compilerarg line=&quot;--add-exports java.base/com.sun.crypto.provider=ALL-UNNAMED&quot;/&gt;\r\n\t\t&lt;/javac&gt;\r\n\t&lt;/target&gt;\r\n\r\n\r\n\t&lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;\r\n\t\t&lt;mkdir dir=&quot;${build}/CTP&quot;/&gt;\r\n\r\n\r\n\r\n\t\t&lt;jar jarfile=&quot;${build}/CTP/Launcher.jar&quot;&gt;\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Main-Class&quot; value=&quot;org.rsna.launcher.Launcher&quot;/&gt;\r\n\t            &lt;attribute name=&quot;Date&quot; value=&quot;${today} at ${now}&quot;/&gt;\r\n\t            &lt;attribute name=&quot;Java-Version&quot; value=&quot;17&quot;/&gt;\r\n                    &lt;attribute name=&quot;Class-Path&quot; value=&quot;libraries/util.jar libraries/log4j.jar libraries/aws/lib/aws-java-sdk-1.11.483-javadoc.jar libraries/aws/lib/aws-java-sdk-1.11.483-sources.jar libraries/aws/lib/aws-java-sdk-1.11.483.jar libraries/aws/third-party/lib/aspectjrt-1.8.2.jar libraries/aws/third-party/lib/aspectjweaver.jar libraries/aws/third-party/lib/aws-swf-build-tools-1.1.jar libraries/aws/third-party/lib/commons-codec-1.10.jar libraries/aws/third-party/lib/commons-logging-1.1.3.jar libraries/aws/third-party/lib/freemarker-2.3.9.jar libraries/aws/third-party/lib/httpclient-4.5.5.jar libraries/aws/third-party/lib/httpcore-4.4.9.jar libraries/aws/third-party/lib/ion-java-1.0.2.jar libraries/aws/third-party/lib/jackson-annotations-2.6.0.jar libraries/aws/third-party/lib/jackson-core-2.6.7.jar libraries/aws/third-party/lib/jackson-databind-2.6.7.2.jar libraries/aws/third-party/lib/jackson-dataformat-cbor-2.6.7.jar libraries/aws/third-party/lib/javax.mail-api-1.4.6.jar libraries/aws/third-party/lib/jmespath-java-1.11.483.jar libraries/aws/third-party/lib/joda-time-2.8.1.jar libraries/aws/third-party/lib/netty-buffer-4.1.17.Final.jar libraries/aws/third-party/lib/netty-codec-4.1.17.Final.jar libraries/aws/third-party/lib/netty-codec-http-4.1.17.Final.jar libraries/aws/third-party/lib/netty-common-4.1.17.Final.jar libraries/aws/third-party/lib/netty-handler-4.1.17.Final.jar libraries/aws/third-party/lib/netty-resolver-4.1.17.Final.jar libraries/aws/third-party/lib/netty-transport-4.1.17.Final.jar libraries/aws/third-party/lib/spring-beans-3.0.7.RELEASE.jar libraries/aws/third-party/lib/spring-context-3.0.7.RELEASE.jar libraries/aws/third-party/lib/spring-core-3.0.7.RELEASE.jar libraries/aws/third-party/lib/spring-test-3.0.7.RELEASE.jar&quot; /&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t\t&lt;fileset dir=&quot;${build}&quot;\r\n\t\t\t\tincludes=&quot;${launcher}/**&quot; /&gt;\r\n\t\t&lt;/jar&gt;\r\n\r\n\t\t&lt;jar jarfile=&quot;${build}/CTP/Runner.jar&quot;&gt;\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Main-Class&quot; value=&quot;org.rsna.runner.Runner&quot;/&gt;\r\n\t            &lt;attribute name=&quot;Date&quot; value=&quot;${today} at ${now}&quot;/&gt;\r\n\t            &lt;attribute name=&quot;Java-Version&quot; value=&quot;17&quot;/&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t\t&lt;fileset dir=&quot;${build}&quot;\r\n\t\t\t\tincludes=&quot;${runner}/**&quot; /&gt;\r\n\t\t&lt;/jar&gt;\r\n\r\n\t\t&lt;copy overwrite=&quot;true&quot; todir=&quot;${build}&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${resources}&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\r\n\t\t&lt;jar jarfile=&quot;${libraries}/CTP.jar&quot;&gt;\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Main-Class&quot; value=&quot;org.rsna.ctp.ClinicalTrialProcessor&quot;/&gt;\r\n\t            &lt;attribute name=&quot;Date&quot; value=&quot;${today} at ${now}&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Java-Version&quot; value=&quot;17&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Class-Path&quot; value=&quot;util.jar log4j.jar&quot;/&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t\t&lt;fileset dir=&quot;${build}&quot;\r\n\t\t\t\tincludes=&quot;**&quot;\r\n\t\t\t\texcludes=&quot;${installer}/**, ${launcher}/**, ${runner}/** CTP/Launcher.jar CTP/Runner.jar&quot; /&gt;\r\n\t\t&lt;/jar&gt;\r\n\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;installer&quot; depends=&quot;jar&quot;&gt;\r\n\t\t&lt;mkdir dir=&quot;${build}/CTP/libraries&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build}/CTP/libraries/email&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build}/config&quot;/&gt;\r\n\r\n\t\t&lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${files}&quot; includes=&quot;**&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${libraries}&quot; includes=&quot;*.*&quot; excludes=&quot;jai_imageio.jar&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries/email&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${libraries}/email&quot; includes=&quot;*.*&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries/aws&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${libraries}/aws&quot; includes=&quot;**/*.jar&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries/ftp&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${libraries}/ftp&quot; includes=&quot;*.*&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries/imageio&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${libraries}/imageio&quot; includes=&quot;*.*&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/config&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${config}&quot; includes=&quot;*.*&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\r\n\t\t&lt;jar destfile=&quot;${products}/CTP-installer.jar&quot;&gt;\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Main-Class&quot; value=&quot;org.rsna.installer.Installer&quot;/&gt;\r\n\t            &lt;attribute name=&quot;Date&quot; value=&quot;${today} at ${now}&quot;/&gt;\r\n\t            &lt;attribute name=&quot;Java-Version&quot; value=&quot;17&quot;/&gt;\r\n            \t&lt;attribute name=&quot;Description&quot; value=&quot;CTP for clinical trials&quot;/&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t\t&lt;fileset dir=&quot;${build}&quot;\r\n\t\t\t\tincludes=&quot;${installer}/Installer** CTP/** config/**&quot;/&gt;\r\n\t\t&lt;/jar&gt;\r\n\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;javadocs&quot;&gt;\r\n\t\t&lt;mkdir dir=&quot;${documentation}&quot;/&gt;\r\n\t\t&lt;javadoc destdir=&quot;${documentation}&quot; sourcepath=&quot;${java}&quot; classpathref=&quot;classpath&quot;\r\n\t\t\t\t doctitle=&quot;${title}&quot; windowtitle=&quot;${title}&quot; bottom=&quot;${copyright}&quot;&gt;\r\n\t\t\t&lt;package name=&quot;org.*&quot;/&gt;\r\n\t\t&lt;/javadoc&gt;\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;all&quot; depends=&quot;clean, installer, javadocs&quot;&gt;\r\n\t\t&lt;tstamp&gt;\r\n\t\t\t&lt;format property=&quot;end&quot; pattern=&quot;HH:mm:ss&quot;/&gt;\r\n\t\t&lt;/tstamp&gt;\r\n\t\t&lt;echo message=&quot;Time now ${end}&quot;/&gt;\r\n\t&lt;/target&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**.gitlab-ci.yml**\r\n```\r\nstages:\r\n  - deploy\r\n\r\ndefault:\r\n  before_script:\r\n    - sudo apt update\r\n    - sudo apt install -y software-properties-common\r\n    - sudo apt-get install ca-certificates\r\n    - sudo add-apt-repository --yes &quot;deb https://adoptopenjdk.jfrog.io/adoptopenjdk/deb/ bionic main&quot;\r\n    - sudo apt-get update -qq &amp;&amp; sudo apt-get install -y adoptopenjdk-17-hotspot latex209-bin texlive-latex-base texlive-latex-extra ant\r\n    - ant all -f src/build.xml\r\n    - sudo apt-get update -qq &amp;&amp; sudo apt-get install -y latex209-bin texlive-latex-base texlive-latex-extra ant\r\n    - ant all -f src/build.xml\r\n    \r\ndeploy_Default:\r\n  stage: deploy\r\n  script:\r\n    - sh -x doc.sh &quot;$CTP_NAME&quot; &quot;$(cat CTP_VERSION)&quot;\r\n    - sh -x deploy.sh &quot;$CTP_NAME&quot; &quot;$(cat CTP_VERSION)&quot; &quot;$PROFILE_VERSION&quot; &quot;$PROFILE_NAME&quot;\r\n  artifacts:\r\n    paths:\r\n      - &quot;${CTP_NAME}_$(cat CTP_VERSION).zip&quot;\r\n  only:\r\n    - master\r\n    - tags\r\n    - ptname_mapping\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/EAWKe.png","title":"Gitlab ant.java.version is 11 but I want to build the project using another version","body":"<p>So I'm using gitlab and I have a java project that's built on gitlab VM using a .gitlab-ci-yml file.<Br><br>\nI have this problem where we have to change the java version the project is build with (current java 11).<br><br></p>\n<p>So adding in <code>build.xml</code> this: <code>&lt;echo message=&quot;ant.java.version = ${ant.java.version}&quot; /&gt;</code> will print <code>11</code>.<br><br>\nI've tried to change it specifying in <code>javac</code> the <code>source</code> and <code>target</code> but if the <code>target</code> is not specified, it will not build it using another java version, and if it is specified, it will return an error:<br>\n<a href=\"https://i.stack.imgur.com/EAWKe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EAWKe.png\" alt=\"enter image description here\" /></a><br>\nAlso using <code> &lt;property name=&quot;ant.build.javac.target&quot; value=&quot;17&quot; /&gt;</code> will return the same error.<br>\nSo I'm not sure if basically adding my own <code>ant</code> tool and <code>java</code> version into the package and force it to use that one will work, I don't know how to do this.<br><Br></p>\n<p>Here is the build.xml file and also the .gitlab-ci.yml</p>\n<p><strong>UPDATE</strong>: <code>.gitlab-ci.yml</code> was updated. Now the error seems to be the following, having the below <code>.gilab-ci.yml</code> file:\n<code>Unable to locate package adoptopenjdk-17-hotspot</code><br>\n<strong>build.xml</strong></p>\n<pre><code>&lt;project name=&quot;ClinicalTrialProcessor&quot; default=&quot;all&quot; basedir=&quot;.&quot;&gt;\n\n    &lt;property name=&quot;build&quot; value=&quot;${basedir}/build&quot;/&gt;\n    &lt;property name=&quot;source&quot; value=&quot;${basedir}/source&quot;/&gt;\n    &lt;property name=&quot;java&quot; value=&quot;${source}/java&quot;/&gt;\n    &lt;property name=&quot;files&quot; value=&quot;${source}/files&quot;/&gt;\n    &lt;property name=&quot;resources&quot; value=&quot;${source}/resources&quot;/&gt;\n    &lt;property name=&quot;config&quot; value=&quot;${source}/config&quot;/&gt;\n    &lt;property name=&quot;installer&quot; value=&quot;org/rsna/installer&quot;/&gt;\n    &lt;property name=&quot;launcher&quot; value=&quot;org/rsna/launcher&quot;/&gt;\n    &lt;property name=&quot;runner&quot; value=&quot;org/rsna/runner&quot;/&gt;\n    &lt;property name=&quot;libraries&quot; value=&quot;${basedir}/libraries&quot;/&gt;\n    &lt;property name=&quot;products&quot; value=&quot;${basedir}/products&quot;/&gt;\n    &lt;property name=&quot;documentation&quot; value=&quot;${basedir}/documentation&quot;/&gt;\n    &lt;property name=&quot;title&quot; value=&quot;CTP&quot;/&gt;\n    &lt;property name=&quot;copyright&quot; value=&quot;Copyright 2013 Radiological Society of North America&quot;/&gt;\n    &lt;property name=&quot;ant.build.javac.target&quot; value=&quot;17&quot; /&gt;\n\n    &lt;path id=&quot;classpath&quot;&gt;\n        &lt;pathelement location=&quot;${libraries}/util.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/dcm4che.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/getopt.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/log4j.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/edtftpj.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/jdbm.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/commons-compress-1.0.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/jai_imageio.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/pixelmed_codec.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/email/activation.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/email/javax.mail.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/ftp/commons-logging-1.2.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/ftp/commons-net-3.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/ftp/commons-vfs2-2.0.jar&quot;/&gt;\n        &lt;pathelement location=&quot;${libraries}/ftp/jsch-0.1.53.jar&quot;/&gt;\n                &lt;fileset dir=&quot;${libraries}/aws/third-party&quot; includes=&quot;**/*.jar&quot;/&gt;\n                &lt;fileset dir=&quot;${libraries}/aws/lib&quot; includes=&quot;**/*.jar&quot;/&gt;\n              &lt;/path&gt;\n\n    &lt;target name=&quot;clean&quot;&gt;\n        &lt;delete dir=&quot;${build}&quot; failonerror=&quot;false&quot;/&gt;\n        &lt;delete dir=&quot;${documentation}&quot; failonerror=&quot;false&quot;/&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;init&quot;&gt;\n        &lt;tstamp&gt;\n            &lt;format property=&quot;today&quot; pattern=&quot;yyyy.MM.dd&quot;/&gt;\n            &lt;format property=&quot;now&quot; pattern=&quot;HH:mm:ss z&quot;/&gt;\n        &lt;/tstamp&gt;\n        &lt;echo message=&quot;Time now ${now}&quot;/&gt;\n        &lt;echo message=&quot;ant.java.version = 17&quot; /&gt;\n        &lt;mkdir dir=&quot;${build}&quot;/&gt;\n        &lt;mkdir dir=&quot;${products}&quot;/&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;compile&quot; depends=&quot;init&quot;&gt;\n        &lt;javac destdir=&quot;${build}&quot; optimize=&quot;on&quot;\n                source=&quot;17&quot;\n                classpathref=&quot;classpath&quot;\n                includeantruntime=&quot;false&quot;\n                debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\n            &lt;src path=&quot;${java}&quot;/&gt;\n            &lt;!-- &lt;compilerarg value=&quot;-Xlint:unchecked&quot;/&gt; --&gt;\n            &lt;compilerarg line=&quot;--add-exports java.base/com.sun.crypto.provider=ALL-UNNAMED&quot;/&gt;\n        &lt;/javac&gt;\n    &lt;/target&gt;\n\n\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;\n        &lt;mkdir dir=&quot;${build}/CTP&quot;/&gt;\n\n\n\n        &lt;jar jarfile=&quot;${build}/CTP/Launcher.jar&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;org.rsna.launcher.Launcher&quot;/&gt;\n                &lt;attribute name=&quot;Date&quot; value=&quot;${today} at ${now}&quot;/&gt;\n                &lt;attribute name=&quot;Java-Version&quot; value=&quot;17&quot;/&gt;\n                    &lt;attribute name=&quot;Class-Path&quot; value=&quot;libraries/util.jar libraries/log4j.jar libraries/aws/lib/aws-java-sdk-1.11.483-javadoc.jar libraries/aws/lib/aws-java-sdk-1.11.483-sources.jar libraries/aws/lib/aws-java-sdk-1.11.483.jar libraries/aws/third-party/lib/aspectjrt-1.8.2.jar libraries/aws/third-party/lib/aspectjweaver.jar libraries/aws/third-party/lib/aws-swf-build-tools-1.1.jar libraries/aws/third-party/lib/commons-codec-1.10.jar libraries/aws/third-party/lib/commons-logging-1.1.3.jar libraries/aws/third-party/lib/freemarker-2.3.9.jar libraries/aws/third-party/lib/httpclient-4.5.5.jar libraries/aws/third-party/lib/httpcore-4.4.9.jar libraries/aws/third-party/lib/ion-java-1.0.2.jar libraries/aws/third-party/lib/jackson-annotations-2.6.0.jar libraries/aws/third-party/lib/jackson-core-2.6.7.jar libraries/aws/third-party/lib/jackson-databind-2.6.7.2.jar libraries/aws/third-party/lib/jackson-dataformat-cbor-2.6.7.jar libraries/aws/third-party/lib/javax.mail-api-1.4.6.jar libraries/aws/third-party/lib/jmespath-java-1.11.483.jar libraries/aws/third-party/lib/joda-time-2.8.1.jar libraries/aws/third-party/lib/netty-buffer-4.1.17.Final.jar libraries/aws/third-party/lib/netty-codec-4.1.17.Final.jar libraries/aws/third-party/lib/netty-codec-http-4.1.17.Final.jar libraries/aws/third-party/lib/netty-common-4.1.17.Final.jar libraries/aws/third-party/lib/netty-handler-4.1.17.Final.jar libraries/aws/third-party/lib/netty-resolver-4.1.17.Final.jar libraries/aws/third-party/lib/netty-transport-4.1.17.Final.jar libraries/aws/third-party/lib/spring-beans-3.0.7.RELEASE.jar libraries/aws/third-party/lib/spring-context-3.0.7.RELEASE.jar libraries/aws/third-party/lib/spring-core-3.0.7.RELEASE.jar libraries/aws/third-party/lib/spring-test-3.0.7.RELEASE.jar&quot; /&gt;\n            &lt;/manifest&gt;\n            &lt;fileset dir=&quot;${build}&quot;\n                includes=&quot;${launcher}/**&quot; /&gt;\n        &lt;/jar&gt;\n\n        &lt;jar jarfile=&quot;${build}/CTP/Runner.jar&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;org.rsna.runner.Runner&quot;/&gt;\n                &lt;attribute name=&quot;Date&quot; value=&quot;${today} at ${now}&quot;/&gt;\n                &lt;attribute name=&quot;Java-Version&quot; value=&quot;17&quot;/&gt;\n            &lt;/manifest&gt;\n            &lt;fileset dir=&quot;${build}&quot;\n                includes=&quot;${runner}/**&quot; /&gt;\n        &lt;/jar&gt;\n\n        &lt;copy overwrite=&quot;true&quot; todir=&quot;${build}&quot;&gt;\n            &lt;fileset dir=&quot;${resources}&quot;/&gt;\n        &lt;/copy&gt;\n\n        &lt;jar jarfile=&quot;${libraries}/CTP.jar&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;org.rsna.ctp.ClinicalTrialProcessor&quot;/&gt;\n                &lt;attribute name=&quot;Date&quot; value=&quot;${today} at ${now}&quot;/&gt;\n                &lt;attribute name=&quot;Java-Version&quot; value=&quot;17&quot;/&gt;\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;util.jar log4j.jar&quot;/&gt;\n            &lt;/manifest&gt;\n            &lt;fileset dir=&quot;${build}&quot;\n                includes=&quot;**&quot;\n                excludes=&quot;${installer}/**, ${launcher}/**, ${runner}/** CTP/Launcher.jar CTP/Runner.jar&quot; /&gt;\n        &lt;/jar&gt;\n\n    &lt;/target&gt;\n\n    &lt;target name=&quot;installer&quot; depends=&quot;jar&quot;&gt;\n        &lt;mkdir dir=&quot;${build}/CTP/libraries&quot;/&gt;\n        &lt;mkdir dir=&quot;${build}/CTP/libraries/email&quot;/&gt;\n        &lt;mkdir dir=&quot;${build}/config&quot;/&gt;\n\n        &lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP&quot;&gt;\n            &lt;fileset dir=&quot;${files}&quot; includes=&quot;**&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries&quot;&gt;\n            &lt;fileset dir=&quot;${libraries}&quot; includes=&quot;*.*&quot; excludes=&quot;jai_imageio.jar&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries/email&quot;&gt;\n            &lt;fileset dir=&quot;${libraries}/email&quot; includes=&quot;*.*&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries/aws&quot;&gt;\n            &lt;fileset dir=&quot;${libraries}/aws&quot; includes=&quot;**/*.jar&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries/ftp&quot;&gt;\n            &lt;fileset dir=&quot;${libraries}/ftp&quot; includes=&quot;*.*&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/CTP/libraries/imageio&quot;&gt;\n            &lt;fileset dir=&quot;${libraries}/imageio&quot; includes=&quot;*.*&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;copy overwrite=&quot;true&quot; todir=&quot;${build}/config&quot;&gt;\n            &lt;fileset dir=&quot;${config}&quot; includes=&quot;*.*&quot;/&gt;\n        &lt;/copy&gt;\n\n        &lt;jar destfile=&quot;${products}/CTP-installer.jar&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;org.rsna.installer.Installer&quot;/&gt;\n                &lt;attribute name=&quot;Date&quot; value=&quot;${today} at ${now}&quot;/&gt;\n                &lt;attribute name=&quot;Java-Version&quot; value=&quot;17&quot;/&gt;\n                &lt;attribute name=&quot;Description&quot; value=&quot;CTP for clinical trials&quot;/&gt;\n            &lt;/manifest&gt;\n            &lt;fileset dir=&quot;${build}&quot;\n                includes=&quot;${installer}/Installer** CTP/** config/**&quot;/&gt;\n        &lt;/jar&gt;\n\n    &lt;/target&gt;\n\n    &lt;target name=&quot;javadocs&quot;&gt;\n        &lt;mkdir dir=&quot;${documentation}&quot;/&gt;\n        &lt;javadoc destdir=&quot;${documentation}&quot; sourcepath=&quot;${java}&quot; classpathref=&quot;classpath&quot;\n                 doctitle=&quot;${title}&quot; windowtitle=&quot;${title}&quot; bottom=&quot;${copyright}&quot;&gt;\n            &lt;package name=&quot;org.*&quot;/&gt;\n        &lt;/javadoc&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;all&quot; depends=&quot;clean, installer, javadocs&quot;&gt;\n        &lt;tstamp&gt;\n            &lt;format property=&quot;end&quot; pattern=&quot;HH:mm:ss&quot;/&gt;\n        &lt;/tstamp&gt;\n        &lt;echo message=&quot;Time now ${end}&quot;/&gt;\n    &lt;/target&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>.gitlab-ci.yml</strong></p>\n<pre><code>stages:\n  - deploy\n\ndefault:\n  before_script:\n    - sudo apt update\n    - sudo apt install -y software-properties-common\n    - sudo apt-get install ca-certificates\n    - sudo add-apt-repository --yes &quot;deb https://adoptopenjdk.jfrog.io/adoptopenjdk/deb/ bionic main&quot;\n    - sudo apt-get update -qq &amp;&amp; sudo apt-get install -y adoptopenjdk-17-hotspot latex209-bin texlive-latex-base texlive-latex-extra ant\n    - ant all -f src/build.xml\n    - sudo apt-get update -qq &amp;&amp; sudo apt-get install -y latex209-bin texlive-latex-base texlive-latex-extra ant\n    - ant all -f src/build.xml\n    \ndeploy_Default:\n  stage: deploy\n  script:\n    - sh -x doc.sh &quot;$CTP_NAME&quot; &quot;$(cat CTP_VERSION)&quot;\n    - sh -x deploy.sh &quot;$CTP_NAME&quot; &quot;$(cat CTP_VERSION)&quot; &quot;$PROFILE_VERSION&quot; &quot;$PROFILE_NAME&quot;\n  artifacts:\n    paths:\n      - &quot;${CTP_NAME}_$(cat CTP_VERSION).zip&quot;\n  only:\n    - master\n    - tags\n    - ptname_mapping\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","tomcat"],"comments":[{"owner":{"account_id":10769785,"reputation":341,"user_id":7923565,"display_name":"Markus Schreiber"},"score":0,"creation_date":1574180581,"post_id":58902284,"comment_id":104135632,"body_markdown":"Can you be a bit more speciffic ? Are you looking for conceptional information (e.g. like provided in https://stackoverflow.com/questions/28040529/what-is-the-difference-between-servlet-container-and-spring-container) or are you looking for technical topics (e.g. https://stackoverflow.com/questions/27509861/how-spring-ioc-container-interacts-with-tomcat-container)","body":"Can you be a bit more speciffic ? Are you looking for conceptional information (e.g. like provided in <a href=\"https://stackoverflow.com/questions/28040529/what-is-the-difference-between-servlet-container-and-spring-container\" title=\"what is the difference between servlet container and spring container\">stackoverflow.com/questions/28040529/&hellip;</a>) or are you looking for technical topics (e.g. <a href=\"https://stackoverflow.com/questions/27509861/how-spring-ioc-container-interacts-with-tomcat-container\" title=\"how spring ioc container interacts with tomcat container\">stackoverflow.com/questions/27509861/&hellip;</a>)"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1574184125,"post_id":58902284,"comment_id":104137753,"body_markdown":"Your question is off-topic: It&#39;s seeking recommendations for books, software libraries, or other off-site resources. The Spring documentation is what you should read.","body":"Your question is off-topic: It&#39;s seeking recommendations for books, software libraries, or other off-site resources. The Spring documentation is what you should read."},{"owner":{"account_id":1107109,"reputation":325,"user_id":1098309,"display_name":"Noa"},"score":0,"creation_date":1574347788,"post_id":58902284,"comment_id":104208402,"body_markdown":"I can recommend this course for you. https://www.udemy.com/course/spring-framework-5-beginner-to-guru/","body":"I can recommend this course for you. <a href=\"https://www.udemy.com/course/spring-framework-5-beginner-to-guru/\" rel=\"nofollow noreferrer\">udemy.com/course/spring-framework-5-beginner-to-guru</a>"},{"owner":{"account_id":13570044,"reputation":412,"user_id":9789035,"display_name":"Gabriel Garc&#237;a Garrido"},"score":0,"creation_date":1574761602,"post_id":58902284,"comment_id":104336678,"body_markdown":"udemy is your best opportunity. There are hundreds of courses about that.","body":"udemy is your best opportunity. There are hundreds of courses about that."}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1574247996,"creation_date":1574239080,"answer_id":58949947,"question_id":58902284,"body_markdown":"Spring is (a big) java framework and Hibernate is layer over database, Tomcat is a Servlet/JSP container, so it&#39;s very broad subject\r\n\r\nThe right way is to use [Spring boot][1] to add Hibernate\r\n\r\n&gt;     &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nThis dependency includes JPA API, JPA Implementation, JDBC and other needed libraries. **Since the default JPA implementation is Hibernate, this dependency is actually enough to bring it in as well**\r\n\r\nAdd [Tomcat as an embedded server][2]\r\n\r\n&gt;     &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&gt;Starter Tomcat brings in all the dependencies need to run Tomcat as an embedded server.\r\n\r\n\r\n[2]:https://www.springboottutorial.com/spring-boot-with-embedded-servers-tomcat-jetty\r\n\r\n[1]:https://www.baeldung.com/spring-boot-hibernate","title":"Hibernate + Spring + Tomcat","body":"<p>Spring is (a big) java framework and Hibernate is layer over database, Tomcat is a Servlet/JSP container, so it's very broad subject</p>\n\n<p>The right way is to use <a href=\"https://www.baeldung.com/spring-boot-hibernate\" rel=\"nofollow noreferrer\">Spring boot</a> to add Hibernate</p>\n\n<blockquote>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n  <p>This dependency includes JPA API, JPA Implementation, JDBC and other needed libraries. <strong>Since the default JPA implementation is Hibernate, this dependency is actually enough to bring it in as well</strong></p>\n</blockquote>\n\n<p>Add <a href=\"https://www.springboottutorial.com/spring-boot-with-embedded-servers-tomcat-jetty\" rel=\"nofollow noreferrer\">Tomcat as an embedded server</a></p>\n\n<blockquote>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n  &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n  <p>Starter Tomcat brings in all the dependencies need to run Tomcat as an embedded server.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14728767,"reputation":295,"user_id":10636790,"display_name":"Tapan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1574412011,"creation_date":1574412011,"answer_id":58990416,"question_id":58902284,"body_markdown":"Since you have basic knowledge in Spring+Hibernate+Tomcat\r\n\r\nSpring Projects provides very details documentation with examples:\r\n\r\n - [Spring COre][1]\r\n - [Spring Testing][2]\r\n - [Data Access][3]\r\n - [Web on Servlet Stack][4]\r\n - [Integration][5]\r\n - [Language Support][6]\r\n - [Web on Reactive Stack][7]\r\n - [Spring Boot][8]\r\n - [Spring Data][9]\r\n - [Spring Security][10]\r\n - Rest of the project and its details you will get from [Spring Projects][11]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/testing.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/data-access.html\r\n  [4]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/integration.html\r\n  [6]: https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/languages.html\r\n  [7]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html\r\n  [8]: https://docs.spring.io/spring-boot/docs/2.2.1.RELEASE/reference/html/\r\n  [9]: https://spring.io/projects/spring-data\r\n  [10]: https://docs.spring.io/spring-security/site/docs/5.2.2.BUILD-SNAPSHOT/reference/htmlsingle/\r\n  [11]: https://spring.io/projects","title":"Hibernate + Spring + Tomcat","body":"<p>Since you have basic knowledge in Spring+Hibernate+Tomcat</p>\n\n<p>Spring Projects provides very details documentation with examples:</p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html\" rel=\"nofollow noreferrer\">Spring COre</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/testing.html\" rel=\"nofollow noreferrer\">Spring Testing</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/data-access.html\" rel=\"nofollow noreferrer\">Data Access</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html\" rel=\"nofollow noreferrer\">Web on Servlet Stack</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/integration.html\" rel=\"nofollow noreferrer\">Integration</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/languages.html\" rel=\"nofollow noreferrer\">Language Support</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html\" rel=\"nofollow noreferrer\">Web on Reactive Stack</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.2.1.RELEASE/reference/html/\" rel=\"nofollow noreferrer\">Spring Boot</a></li>\n<li><a href=\"https://spring.io/projects/spring-data\" rel=\"nofollow noreferrer\">Spring Data</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/site/docs/5.2.2.BUILD-SNAPSHOT/reference/htmlsingle/\" rel=\"nofollow noreferrer\">Spring Security</a></li>\n<li>Rest of the project and its details you will get from <a href=\"https://spring.io/projects\" rel=\"nofollow noreferrer\">Spring Projects</a></li>\n</ul>\n"}],"owner":{"account_id":6222710,"reputation":350,"user_id":4841911,"accept_rate":80,"display_name":"isco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1634646827,"creation_date":1574005874,"question_id":58902284,"body_markdown":"I&#39;m looking for some literature (Books or tutorials) that goes into great details about how those components work together. I know there are a lot of articles that show how to quickly set up an application, but that&#39;s not what I&#39;m looking for.\r\n \r\nI already have a basic understanding and would like to expand it.\r\n\r\nThank you very much for you help","title":"Hibernate + Spring + Tomcat","body":"<p>I'm looking for some literature (Books or tutorials) that goes into great details about how those components work together. I know there are a lot of articles that show how to quickly set up an application, but that's not what I'm looking for.</p>\n\n<p>I already have a basic understanding and would like to expand it.</p>\n\n<p>Thank you very much for you help</p>\n"},{"tags":["java","out-of-memory","weblogic"],"answers":[{"tags":[],"owner":{"account_id":17129550,"reputation":61,"user_id":12395944,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634646785,"creation_date":1634646785,"answer_id":69630903,"question_id":69623208,"body_markdown":"I figure out that was the problem. We&#39;re using a library called cfg4j-core and whenever a run the code below it creates a new thead using java.util.Timer.\r\n\r\nIt was supposed to cache the properties by 30 seconds, but it seems that is not working.\r\n\r\nIn result the number of threads created always increase and it finishes with OutOfMemory.\r\n\r\n```\r\n\t\tConfigFilesProvider configFilesProvider = new FilesPropertiesProvider(locations);\r\n\t\tConfigurationProvider configurationProvider = new ConfigurationProviderBuilder()\r\n\t\t\t.withConfigurationSource(new FilesConfigurationSource(configFilesProvider))\r\n\t\t\t.withReloadStrategy(new PeriodicalReloadStrategy(cacheSeconds, TimeUnit.SECONDS))\r\n\t\t\t.build();\r\n\t\treturn configurationProvider.bind(&quot;config&quot;, SystemProperties.class);\r\n\r\n```","title":"Why too many threads in weblogic with TIMED_WAITING status for &quot;java.util.TimerThread.run&quot;","body":"<p>I figure out that was the problem. We're using a library called cfg4j-core and whenever a run the code below it creates a new thead using java.util.Timer.</p>\n<p>It was supposed to cache the properties by 30 seconds, but it seems that is not working.</p>\n<p>In result the number of threads created always increase and it finishes with OutOfMemory.</p>\n<pre><code>        ConfigFilesProvider configFilesProvider = new FilesPropertiesProvider(locations);\n        ConfigurationProvider configurationProvider = new ConfigurationProviderBuilder()\n            .withConfigurationSource(new FilesConfigurationSource(configFilesProvider))\n            .withReloadStrategy(new PeriodicalReloadStrategy(cacheSeconds, TimeUnit.SECONDS))\n            .build();\n        return configurationProvider.bind(&quot;config&quot;, SystemProperties.class);\n\n</code></pre>\n"}],"owner":{"account_id":17129550,"reputation":61,"user_id":12395944,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634646785,"creation_date":1634595964,"question_id":69623208,"body_markdown":"I&#39;m facing java.lang.OutOfMemoryError: unable to create new native thread\r\n\r\nTheses errors occurs with some frequency always in two stacks:\r\n\r\nFirst\r\n\r\n```\r\njava.lang.OutOfMemoryError: unable to create new native thread\r\n        at java.lang.Thread.start0(Native Method)\r\n        at java.lang.Thread.start(Thread.java:714)\r\n        at org.springframework.core.task.SimpleAsyncTaskExecutor.doExecute(SimpleAsyncTaskExecutor.java:213)\r\n        at org.springframework.core.task.SimpleAsyncTaskExecutor.execute(SimpleAsyncTaskExecutor.java:171)\r\n        at org.springframework.core.task.SimpleAsyncTaskExecutor.submit(SimpleAsyncTaskExecutor.java:185)\r\n        at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.doSubmit(AsyncExecutionAspectSupport.java:189)\r\n        at org.springframework.aop.interceptor.AsyncExecutionInterceptor.invoke(AsyncExecutionInterceptor.java:123)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)\r\n\r\n```\r\n\r\nSecond\r\n```\r\njava.lang.OutOfMemoryError: unable to create new native thread\r\n        at java.lang.Thread.start0(Native Method)\r\n        at java.lang.Thread.start(Thread.java:714)\r\n        at java.util.Timer.&lt;init&gt;(Timer.java:160)\r\n        at java.util.Timer.&lt;init&gt;(Timer.java:132)\r\n        at org.cfg4j.source.reload.strategy.PeriodicalReloadStrategy.&lt;init&gt;(PeriodicalReloadStrategy.java:58)\r\n```\r\n\r\n\r\nThe number of threads is about 9287 threads:\r\n\r\n```\r\njstack &lt;pid&gt; | grep &quot;java.lang.Thread.State&quot; | wc -l\r\n9287\r\n```\r\n\r\n98% of the threads are in the TIMED_WAITING below\r\n```\r\njstack &lt;pid&gt; | grep &quot;at java.util.TimerThread.mainLoop&quot; | wc -l\r\n9114\r\n```\r\n\r\n```\r\n&quot;Timer-5962&quot; daemon prio=10 tid=0x00007f4c10769000 nid=0x1a6a1 in Object.wait() [0x00007f4bc62ae000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        at java.util.TimerThread.mainLoop(Timer.java:552)\r\n        - locked &lt;0x00000006d0297f28&gt; (a java.util.TaskQueue)\r\n        at java.util.TimerThread.run(Timer.java:505)\r\n```\r\n\r\nAs I have 10.000 threads * 256k  + heap of 4 GB, so I have at least about 6.5 GB of memory consumed. With 4 nodes I&#39;m reaching the size limit of RAM memory of my server. So I think it is the cause of OutOfMemory.\r\n\r\nNote: the server has no thread limitation\r\n\r\n\r\nWhy do I have so many threads with TIMED_WAITING in java.util.TimerThread.run stack? Are my applications causing it or is it weblogic server fault? How can I figure out the source of this stack trace?\r\n\r\n\r\n\r\n\r\n","title":"Why too many threads in weblogic with TIMED_WAITING status for &quot;java.util.TimerThread.run&quot;","body":"<p>I'm facing java.lang.OutOfMemoryError: unable to create new native thread</p>\n<p>Theses errors occurs with some frequency always in two stacks:</p>\n<p>First</p>\n<pre><code>java.lang.OutOfMemoryError: unable to create new native thread\n        at java.lang.Thread.start0(Native Method)\n        at java.lang.Thread.start(Thread.java:714)\n        at org.springframework.core.task.SimpleAsyncTaskExecutor.doExecute(SimpleAsyncTaskExecutor.java:213)\n        at org.springframework.core.task.SimpleAsyncTaskExecutor.execute(SimpleAsyncTaskExecutor.java:171)\n        at org.springframework.core.task.SimpleAsyncTaskExecutor.submit(SimpleAsyncTaskExecutor.java:185)\n        at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.doSubmit(AsyncExecutionAspectSupport.java:189)\n        at org.springframework.aop.interceptor.AsyncExecutionInterceptor.invoke(AsyncExecutionInterceptor.java:123)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)\n\n</code></pre>\n<p>Second</p>\n<pre><code>java.lang.OutOfMemoryError: unable to create new native thread\n        at java.lang.Thread.start0(Native Method)\n        at java.lang.Thread.start(Thread.java:714)\n        at java.util.Timer.&lt;init&gt;(Timer.java:160)\n        at java.util.Timer.&lt;init&gt;(Timer.java:132)\n        at org.cfg4j.source.reload.strategy.PeriodicalReloadStrategy.&lt;init&gt;(PeriodicalReloadStrategy.java:58)\n</code></pre>\n<p>The number of threads is about 9287 threads:</p>\n<pre><code>jstack &lt;pid&gt; | grep &quot;java.lang.Thread.State&quot; | wc -l\n9287\n</code></pre>\n<p>98% of the threads are in the TIMED_WAITING below</p>\n<pre><code>jstack &lt;pid&gt; | grep &quot;at java.util.TimerThread.mainLoop&quot; | wc -l\n9114\n</code></pre>\n<pre><code>&quot;Timer-5962&quot; daemon prio=10 tid=0x00007f4c10769000 nid=0x1a6a1 in Object.wait() [0x00007f4bc62ae000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        at java.util.TimerThread.mainLoop(Timer.java:552)\n        - locked &lt;0x00000006d0297f28&gt; (a java.util.TaskQueue)\n        at java.util.TimerThread.run(Timer.java:505)\n</code></pre>\n<p>As I have 10.000 threads * 256k  + heap of 4 GB, so I have at least about 6.5 GB of memory consumed. With 4 nodes I'm reaching the size limit of RAM memory of my server. So I think it is the cause of OutOfMemory.</p>\n<p>Note: the server has no thread limitation</p>\n<p>Why do I have so many threads with TIMED_WAITING in java.util.TimerThread.run stack? Are my applications causing it or is it weblogic server fault? How can I figure out the source of this stack trace?</p>\n"},{"tags":["java","c#","windows","docker"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1634495285,"post_id":69560574,"comment_id":123034212,"body_markdown":"How are you using docker? I mean, are you using Docker for Windows, for instance? How did you set the amount of memory for your containers?","body":"How are you using docker? I mean, are you using Docker for Windows, for instance? How did you set the amount of memory for your containers?"},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1634538390,"post_id":69560574,"comment_id":123041610,"body_markdown":"Docker do not reserve memory ... is the process inside the docker-container using so much memory?","body":"Docker do not reserve memory ... is the process inside the docker-container using so much memory?"},{"owner":{"account_id":1954232,"reputation":2165,"user_id":1757644,"accept_rate":99,"display_name":"Rafał Developer"},"score":0,"creation_date":1634544124,"post_id":69560574,"comment_id":123043553,"body_markdown":"@jccampanero I edited my post and I added how I added memory. Yes, I use Docker for Windows Instances. I assign value and I tried spawn docker.","body":"@jccampanero I edited my post and I added how I added memory. Yes, I use Docker for Windows Instances. I assign value and I tried spawn docker."},{"owner":{"account_id":1954232,"reputation":2165,"user_id":1757644,"accept_rate":99,"display_name":"Rafał Developer"},"score":0,"creation_date":1634544284,"post_id":69560574,"comment_id":123043602,"body_markdown":"@akop yes instance docker for windows use only 12GB, not 50GB which I assigned I don`t understand the limit if my VM is super powerful :)","body":"@akop yes instance docker for windows use only 12GB, not 50GB which I assigned I don`t understand the limit if my VM is super powerful :)"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1634546811,"post_id":69560574,"comment_id":123044528,"body_markdown":"Thank you very much for the feedback @RafałDeveloper. If you are using Docker for Windows, the product itself can be limiting the resources available to your docker container. Please, see [this related SO question](https://stackoverflow.com/questions/44533319/how-to-assign-more-memory-to-docker-container), and the [docker for windows documentation](https://docs.docker.com/desktop/windows/#resources). Perhaps the problem can be solved by just increasing the amount of memory available for the product. Sorry if I missed something, I am not used to using the docker rest API.","body":"Thank you very much for the feedback @RafałDeveloper. If you are using Docker for Windows, the product itself can be limiting the resources available to your docker container. Please, see <a href=\"https://stackoverflow.com/questions/44533319/how-to-assign-more-memory-to-docker-container\">this related SO question</a>, and the <a href=\"https://docs.docker.com/desktop/windows/#resources\" rel=\"nofollow noreferrer\">docker for windows documentation</a>. Perhaps the problem can be solved by just increasing the amount of memory available for the product. Sorry if I missed something, I am not used to using the docker rest API."},{"owner":{"account_id":1954232,"reputation":2165,"user_id":1757644,"accept_rate":99,"display_name":"Rafał Developer"},"score":0,"creation_date":1634549319,"post_id":69560574,"comment_id":123045475,"body_markdown":"@jccampanero I think the related question is old (4 years) and this does not fix my problem","body":"@jccampanero I think the related question is old (4 years) and this does not fix my problem"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1634550518,"post_id":69560574,"comment_id":123045933,"body_markdown":"Thank you for the feedback @RafałDeveloper. Yes, but I think in some way is still valid. Please, could you see [this other related question](https://stackoverflow.com/questions/67425618/incrementing-gb-of-ram-for-docker-container-in-windows)? I am not sure, but it may vibe of help. Certainly, some configuration is limiting your resources.","body":"Thank you for the feedback @RafałDeveloper. Yes, but I think in some way is still valid. Please, could you see <a href=\"https://stackoverflow.com/questions/67425618/incrementing-gb-of-ram-for-docker-container-in-windows\">this other related question</a>? I am not sure, but it may vibe of help. Certainly, some configuration is limiting your resources."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1634550796,"post_id":69560574,"comment_id":123046063,"body_markdown":"Please, see this other [related SO question](https://stackoverflow.com/questions/66172375/docker-desktop-is-using-12-gb-ram-to-run-one-container-with-24-mb-ram) as well, I think that it is related with the link provided in the previous comment related to the fact of using and configuring wls. I hope it helps.","body":"Please, see this other <a href=\"https://stackoverflow.com/questions/66172375/docker-desktop-is-using-12-gb-ram-to-run-one-container-with-24-mb-ram\">related SO question</a> as well, I think that it is related with the link provided in the previous comment related to the fact of using and configuring wls. I hope it helps."},{"owner":{"account_id":1954232,"reputation":2165,"user_id":1757644,"accept_rate":99,"display_name":"Rafał Developer"},"score":0,"creation_date":1634552758,"post_id":69560574,"comment_id":123046826,"body_markdown":"@jccampanero to be honest :) I tested this before I added the question :)","body":"@jccampanero to be honest :) I tested this before I added the question :)"},{"owner":{"account_id":1954232,"reputation":2165,"user_id":1757644,"accept_rate":99,"display_name":"Rafał Developer"},"score":0,"creation_date":1634552947,"post_id":69560574,"comment_id":123046915,"body_markdown":"@jccampanero, to be honest, I think maybe the problem is related to process isolation and there is some limit but I didn`t find the answer.","body":"@jccampanero, to be honest, I think maybe the problem is related to process isolation and there is some limit but I didn`t find the answer."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1634571999,"post_id":69560574,"comment_id":123055225,"body_markdown":"Sorry for the late reply @RafałDeveloper. Well, maybe, indeed. Could the OOM be caused by your application itself? Perhaps you have enough resources, but the application itself or the .netcore runtime is causing the OOM error. Please, try doing a postmortem inspection of your docker container logs, maybe it can be valuable. As the container is killed, you can still access its logs with `docker logs &lt;container id&gt;`. You can find the container id by running `docker ps --all` in your machine. Please, could you try?","body":"Sorry for the late reply @RafałDeveloper. Well, maybe, indeed. Could the OOM be caused by your application itself? Perhaps you have enough resources, but the application itself or the .netcore runtime is causing the OOM error. Please, try doing a postmortem inspection of your docker container logs, maybe it can be valuable. As the container is killed, you can still access its logs with <code>docker logs &lt;container id&gt;</code>. You can find the container id by running <code>docker ps --all</code> in your machine. Please, could you try?"},{"owner":{"account_id":1954232,"reputation":2165,"user_id":1757644,"accept_rate":99,"display_name":"Rafał Developer"},"score":0,"creation_date":1634573575,"post_id":69560574,"comment_id":123055837,"body_markdown":"@jccampanero I will try tomorrow I didn`t know logs were available after kill :)","body":"@jccampanero I will try tomorrow I didn`t know logs were available after kill :)"},{"owner":{"account_id":1954232,"reputation":2165,"user_id":1757644,"accept_rate":99,"display_name":"Rafał Developer"},"score":0,"creation_date":1634643014,"post_id":69560574,"comment_id":123074770,"body_markdown":"@jccampanero can you give your last answer as an answer not comment","body":"@jccampanero can you give your last answer as an answer not comment"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1634646820,"post_id":69560574,"comment_id":123076522,"body_markdown":"Of course @RafałDeveloper, thank you. I hope it means that the problem has been fixed.","body":"Of course @RafałDeveloper, thank you. I hope it means that the problem has been fixed."},{"owner":{"account_id":1954232,"reputation":2165,"user_id":1757644,"accept_rate":99,"display_name":"Rafał Developer"},"score":0,"creation_date":1634657436,"post_id":69560574,"comment_id":123081747,"body_markdown":"@jccampanero thanks for your time yes some times one small puzzle can fix huge problem","body":"@jccampanero thanks for your time yes some times one small puzzle can fix huge problem"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1634664480,"post_id":69560574,"comment_id":123084598,"body_markdown":"You are very welcome @RafałDeveloper. I am very happy to hear that the answer was helpful.","body":"You are very welcome @RafałDeveloper. I am very happy to hear that the answer was helpful."}],"answers":[{"tags":[],"owner":{"account_id":293130,"reputation":238888,"user_id":596285,"accept_rate":100,"display_name":"BMitch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634559227,"creation_date":1634559227,"answer_id":69615871,"question_id":69560574,"body_markdown":"The storage-opt:\r\n\r\n```\r\n&quot;storage-opt&quot;: [ &quot;dm.basesize=40G&quot; ],\r\n```\r\n\r\nwill have no effect. It is used for device mapper which isn&#39;t used by default in any current version of docker and previously only applied to RedHat based systems that didn&#39;t have aufs/overlay support. With overlay2, docker will allow the container to use all the storage available in /var/lib/docker unless you set the container filesystem to read-only.\r\n\r\nFrom the rest of the question, it&#39;s not clear whether you&#39;re trying to limit memory (RAM) or storage (disk). These are not the same thing. It&#39;s also not clear whether these are native Windows containers or Linux containers running in the embedded VM.\r\n\r\nAssuming you want to limit the memory of a Linux container, simply start the container with the `--memory` or `-m` option set to your desired limit. E.g.:\r\n\r\n```\r\ndocker run -m 30g some_image\r\n```\r\n\r\nThis is a limit, it doesn&#39;t allocate the memory, but limits the container and will kill it with an OOM error if the container attempts to exceed it.\r\n\r\nWhen docker is run from within Docker Desktop, you also need to set the memory and/or disk allocated to the embedded VM. Any container or process within that VM is then limited based on the capacity of the VM itself. Setting these varies by how you have installed Docker and details for this are found in [Docker&#39;s documentation](https://docs.docker.com/desktop/windows/#resources).","title":"docker windows not use assign ram memory","body":"<p>The storage-opt:</p>\n<pre><code>&quot;storage-opt&quot;: [ &quot;dm.basesize=40G&quot; ],\n</code></pre>\n<p>will have no effect. It is used for device mapper which isn't used by default in any current version of docker and previously only applied to RedHat based systems that didn't have aufs/overlay support. With overlay2, docker will allow the container to use all the storage available in /var/lib/docker unless you set the container filesystem to read-only.</p>\n<p>From the rest of the question, it's not clear whether you're trying to limit memory (RAM) or storage (disk). These are not the same thing. It's also not clear whether these are native Windows containers or Linux containers running in the embedded VM.</p>\n<p>Assuming you want to limit the memory of a Linux container, simply start the container with the <code>--memory</code> or <code>-m</code> option set to your desired limit. E.g.:</p>\n<pre><code>docker run -m 30g some_image\n</code></pre>\n<p>This is a limit, it doesn't allocate the memory, but limits the container and will kill it with an OOM error if the container attempts to exceed it.</p>\n<p>When docker is run from within Docker Desktop, you also need to set the memory and/or disk allocated to the embedded VM. Any container or process within that VM is then limited based on the capacity of the VM itself. Setting these varies by how you have installed Docker and details for this are found in <a href=\"https://docs.docker.com/desktop/windows/#resources\" rel=\"nofollow noreferrer\">Docker's documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634646768,"creation_date":1634646768,"answer_id":69630896,"question_id":69560574,"body_markdown":"As stated in the different comments, you may have enough resources but maybe the application itself, or the .netcore runtime, is causing the out of memory error.\r\n\r\nPlease, try doing a postmortem inspection of your docker container logs and try finding some related problems, I think it can be valuable.\r\n\r\nAs the container is killed and not removed, you can still access its logs with:\r\n\r\n```shell\r\ndocker logs &lt;container id&gt;\r\n```\r\n\r\nYou can find the container id by running:\r\n\r\n```shell\r\ndocker ps --all\r\n```","title":"docker windows not use assign ram memory","body":"<p>As stated in the different comments, you may have enough resources but maybe the application itself, or the .netcore runtime, is causing the out of memory error.</p>\n<p>Please, try doing a postmortem inspection of your docker container logs and try finding some related problems, I think it can be valuable.</p>\n<p>As the container is killed and not removed, you can still access its logs with:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>docker logs &lt;container id&gt;\n</code></pre>\n<p>You can find the container id by running:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>docker ps --all\n</code></pre>\n"}],"owner":{"account_id":1954232,"reputation":2165,"user_id":1757644,"accept_rate":99,"display_name":"Rafał Developer"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69630896,"answer_count":2,"score":1,"last_activity_date":1634646768,"creation_date":1634149784,"question_id":69560574,"body_markdown":"I set docker memory correct - use 50GB but using only 12.64 isolation - a process\r\n\r\nWhere I made mistake?\r\n\r\ndemon.json\r\n\r\n    {\r\n      &quot;registry-mirrors&quot;: [],\r\n      &quot;insecure-registries&quot;: [],\r\n      &quot;debug&quot;: true,\r\n      &quot;experimental&quot;: false,\r\n      &quot;storage-opt&quot;: [ &quot;dm.basesize=40G&quot; ],\r\n      &quot;hosts&quot;: [&quot;tcp://10.0.0.32:2376&quot;, &quot;npipe://&quot;]\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nkill moment\r\n\r\n[![enter image description here][2]][2]\r\n\r\nusing\r\n\r\n    using Docker.DotNet;\r\n    using Docker.DotNet.Models;\r\n\r\nset memory \r\n\r\n     return await client.Containers.CreateContainerAsync(\r\n                    new CreateContainerParameters\r\n                    {\r\n                        Env = environmentVariables,\r\n                        Name = containerName,\r\n                        Image = imageName,\r\n                        ExposedPorts = new Dictionary&lt;string, EmptyStruct&gt;\r\n                        {\r\n                            {\r\n                                &quot;80&quot;, default(EmptyStruct)\r\n                            }\r\n                        },\r\n                        HostConfig = new HostConfig\r\n                        {\r\n                            Memory = containerMemory,\r\n                            Isolation = &quot;process&quot;, //Memory = containerMemory,\r\n                            CPUCount = numberOfCores,\r\n                            PortBindings = new Dictionary&lt;string, IList&lt;PortBinding&gt;&gt;\r\n                            {\r\n                                {\r\n                                    &quot;80&quot;,\r\n                                    new List&lt;PortBinding&gt;\r\n                                    {\r\n                                        new PortBinding { HostPort = port.ToString(CultureInfo.InvariantCulture) }\r\n                                    }\r\n                                }\r\n                            },\r\n                            PublishAllPorts = true\r\n                        }\r\n                    }).ConfigureAwait(false);\r\n\r\n\r\nIn the new docker, I can not set a memory ram limit for the machine. I think the resources in the comments are much older than the current docker version. \r\n \r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nThis not worked I added this at beginning \r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a7mlV.png\r\n  [2]: https://i.stack.imgur.com/em7Li.png\r\n  [3]: https://i.stack.imgur.com/1hILj.png\r\n  [4]: https://i.stack.imgur.com/FCh52.png\r\n  [5]: https://i.stack.imgur.com/7XRTa.png","title":"docker windows not use assign ram memory","body":"<p>I set docker memory correct - use 50GB but using only 12.64 isolation - a process</p>\n<p>Where I made mistake?</p>\n<p>demon.json</p>\n<pre><code>{\n  &quot;registry-mirrors&quot;: [],\n  &quot;insecure-registries&quot;: [],\n  &quot;debug&quot;: true,\n  &quot;experimental&quot;: false,\n  &quot;storage-opt&quot;: [ &quot;dm.basesize=40G&quot; ],\n  &quot;hosts&quot;: [&quot;tcp://10.0.0.32:2376&quot;, &quot;npipe://&quot;]\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/a7mlV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a7mlV.png\" alt=\"enter image description here\" /></a></p>\n<p>kill moment</p>\n<p><a href=\"https://i.stack.imgur.com/em7Li.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/em7Li.png\" alt=\"enter image description here\" /></a></p>\n<p>using</p>\n<pre><code>using Docker.DotNet;\nusing Docker.DotNet.Models;\n</code></pre>\n<p>set memory</p>\n<pre><code> return await client.Containers.CreateContainerAsync(\n                new CreateContainerParameters\n                {\n                    Env = environmentVariables,\n                    Name = containerName,\n                    Image = imageName,\n                    ExposedPorts = new Dictionary&lt;string, EmptyStruct&gt;\n                    {\n                        {\n                            &quot;80&quot;, default(EmptyStruct)\n                        }\n                    },\n                    HostConfig = new HostConfig\n                    {\n                        Memory = containerMemory,\n                        Isolation = &quot;process&quot;, //Memory = containerMemory,\n                        CPUCount = numberOfCores,\n                        PortBindings = new Dictionary&lt;string, IList&lt;PortBinding&gt;&gt;\n                        {\n                            {\n                                &quot;80&quot;,\n                                new List&lt;PortBinding&gt;\n                                {\n                                    new PortBinding { HostPort = port.ToString(CultureInfo.InvariantCulture) }\n                                }\n                            }\n                        },\n                        PublishAllPorts = true\n                    }\n                }).ConfigureAwait(false);\n</code></pre>\n<p>In the new docker, I can not set a memory ram limit for the machine. I think the resources in the comments are much older than the current docker version.</p>\n<p><a href=\"https://i.stack.imgur.com/1hILj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1hILj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/FCh52.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FCh52.png\" alt=\"enter image description here\" /></a></p>\n<p>This not worked I added this at beginning\n<a href=\"https://i.stack.imgur.com/7XRTa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7XRTa.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","exception"],"comments":[{"owner":{"account_id":3274311,"reputation":673,"user_id":2756832,"display_name":"Kandy"},"score":0,"creation_date":1572515178,"post_id":58640396,"comment_id":103586681,"body_markdown":"what DB your are using and can you tell driver name also or show your db config code","body":"what DB your are using and can you tell driver name also or show your db config code"},{"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"score":0,"creation_date":1572521865,"post_id":58640396,"comment_id":103590344,"body_markdown":"@Kandy Added answer above","body":"@Kandy Added answer above"},{"owner":{"account_id":3274311,"reputation":673,"user_id":2756832,"display_name":"Kandy"},"score":0,"creation_date":1572526131,"post_id":58640396,"comment_id":103592679,"body_markdown":"port is missing in your datasource like jdbc:postgresql://localhost:5432/postgres and otherwise steps are correct","body":"port is missing in your datasource like jdbc:postgresql://localhost:5432/postgres and otherwise steps are correct"},{"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"score":0,"creation_date":1572531619,"post_id":58640396,"comment_id":103595774,"body_markdown":"@Kandy It did not help","body":"@Kandy It did not help"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572515254,"creation_date":1572515254,"answer_id":58640563,"question_id":58640396,"body_markdown":"This is an [hibernate issue][1], which is consider harmless \r\n\r\n&gt;This error is mostly harmless but is creating a lot of confusion to users upgrading to Spring Boot 2.0 which has gone GA, suddenly seeing exceptions in the log which weren&#39;t there before.\r\n\r\nI&#39;s fixed from version 5.4.0.CR1\r\n\r\n\r\n[1]:https://hibernate.atlassian.net/plugins/servlet/mobile?originPath=%2Fbrowse%2FHHH-12368#issue/HHH-12368","title":"There is a problem with InvocationTargetException","body":"<p>This is an <a href=\"https://hibernate.atlassian.net/plugins/servlet/mobile?originPath=%2Fbrowse%2FHHH-12368#issue/HHH-12368\" rel=\"nofollow noreferrer\">hibernate issue</a>, which is consider harmless </p>\n\n<blockquote>\n  <p>This error is mostly harmless but is creating a lot of confusion to users upgrading to Spring Boot 2.0 which has gone GA, suddenly seeing exceptions in the log which weren't there before.</p>\n</blockquote>\n\n<p>I's fixed from version 5.4.0.CR1</p>\n"}],"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58640563,"answer_count":1,"score":1,"last_activity_date":1634646757,"creation_date":1572514635,"question_id":58640396,"body_markdown":"The full program code is here: [Click here][1]\r\n\r\nWhen starting up, I get the following exception:\r\n\r\n       java.lang.reflect.InvocationTargetException: null&lt;20 internal calls&gt;\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:388) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1769) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1085) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat com.example.sweater3.Application.main(Application.java:10) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_212]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_212]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    Caused by: java.sql.SQLFeatureNotSupportedException: Метод org.postgresql.jdbc.PgConnection.createClob() ещё не реализован\r\n    \tat org.postgresql.Driver.notImplemented(Driver.java:683) ~[postgresql-42.2.1.jar:42.2.1]\r\n    \tat org.postgresql.jdbc.PgConnection.createClob(PgConnection.java:1252) ~[postgresql-42.2.1.jar:42.2.1]\r\n    \t... 49 common frames omitted\r\n\r\nPlease tell me how to solve this problem? And why does it arise?\r\n\r\n\r\n**Response to comments:**\r\n\r\n&gt; 1. @Kandy [&quot;what DB your are using and can you tell driver name also or show your db config code&quot;][2]\r\n\r\n\r\nI am using Postgresql .\r\n\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sweater3&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nand config application.properties\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost/sweater2\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=root\r\n    spring.jpa.generate-ddl=true\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58631828/problem-with-annotation-autowired-how-to-decide/58631848?noredirect=1#comment103571031_58631848\r\n  [2]: https://stackoverflow.com/questions/58640396/there-is-a-problem-with-invocationtargetexception#comment103586681_58640396\r\n","title":"There is a problem with InvocationTargetException","body":"<p>The full program code is here: <a href=\"https://stackoverflow.com/questions/58631828/problem-with-annotation-autowired-how-to-decide/58631848?noredirect=1#comment103571031_58631848\">Click here</a></p>\n\n<p>When starting up, I get the following exception:</p>\n\n<pre><code>   java.lang.reflect.InvocationTargetException: null&lt;20 internal calls&gt;\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:388) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1769) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) [spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1085) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at com.example.sweater3.Application.main(Application.java:10) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_212]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_212]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nCaused by: java.sql.SQLFeatureNotSupportedException: Метод org.postgresql.jdbc.PgConnection.createClob() ещё не реализован\n    at org.postgresql.Driver.notImplemented(Driver.java:683) ~[postgresql-42.2.1.jar:42.2.1]\n    at org.postgresql.jdbc.PgConnection.createClob(PgConnection.java:1252) ~[postgresql-42.2.1.jar:42.2.1]\n    ... 49 common frames omitted\n</code></pre>\n\n<p>Please tell me how to solve this problem? And why does it arise?</p>\n\n<p><strong>Response to comments:</strong></p>\n\n<blockquote>\n  <ol>\n  <li>@Kandy <a href=\"https://stackoverflow.com/questions/58640396/there-is-a-problem-with-invocationtargetexception#comment103586681_58640396\">\"what DB your are using and can you tell driver name also or show your db config code\"</a></li>\n  </ol>\n</blockquote>\n\n<p>I am using Postgresql .</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sweater3&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>and config application.properties</p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost/sweater2\nspring.datasource.username=postgres\nspring.datasource.password=root\nspring.jpa.generate-ddl=true\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jndi"],"comments":[{"owner":{"display_name":"user4477122"},"score":0,"creation_date":1552298523,"post_id":55097697,"comment_id":96941612,"body_markdown":"Possible duplicate of [Spring boot embedded tomcat logs](https://stackoverflow.com/questions/48312851/spring-boot-embedded-tomcat-logs)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/48312851/spring-boot-embedded-tomcat-logs\">Spring boot embedded tomcat logs</a>"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1552301427,"post_id":55097697,"comment_id":96943295,"body_markdown":"@ArunKumar I&#39;m not using Spring boot","body":"@ArunKumar I&#39;m not using Spring boot"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1552301654,"post_id":55097697,"comment_id":96943421,"body_markdown":"@ArunKumar I don&#39;t need `log4j-jul` library, `spring.jndi.ignore=true` fix my issue (not found in post)","body":"@ArunKumar I don&#39;t need <code>log4j-jul</code> library, <code>spring.jndi.ignore=true</code> fix my issue (not found in post)"}],"answers":[{"tags":[],"owner":{"account_id":8081835,"reputation":852,"user_id":6090738,"display_name":"Van_Cleff"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1552292952,"creation_date":1552292952,"answer_id":55097841,"question_id":55097697,"body_markdown":"It&#39;s a good read: [what is JNDI?][1]\r\n\r\n&gt; Basic use of JNDI is to allows distributed applications to look up\r\n&gt; services in an abstract, resource-independent way.\r\n&gt; \r\n\r\n-----------\r\n\r\n**To disable JNDI**\r\n\r\n \r\n\r\ncreate a `spring.properties` file in `src/main/resources` (ignore if already created) and add this value `spring.jndi.ignore=true` \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21227726/6090738","title":"Remove JNDI from Spring initialization","body":"<p>It's a good read: <a href=\"https://stackoverflow.com/a/21227726/6090738\">what is JNDI?</a></p>\n\n<blockquote>\n  <p>Basic use of JNDI is to allows distributed applications to look up\n  services in an abstract, resource-independent way.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>To disable JNDI</strong></p>\n\n<p>create a <code>spring.properties</code> file in <code>src/main/resources</code> (ignore if already created) and add this value <code>spring.jndi.ignore=true</code> </p>\n"}],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11160,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55097841,"answer_count":1,"score":5,"last_activity_date":1634646729,"creation_date":1552292339,"question_id":55097697,"body_markdown":"I&#39;m loading Spring application in maven tomcat plugin. I&#39;m not using Spring boot.\r\n\r\nOn loading I&#39;m getting debug logs of failing to load JNDI properties, for example:\r\n\r\n    \r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server_useforwardheaders]\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiPropertySource - JNDI lookup for name [server_useforwardheaders] threw NamingException with message: Name [server_useforwardheaders] is not bound in this Context. Unable to find [server_useforwardheaders].. Returning null.\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/server.USE-FORWARD-HEADERS]\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/server.USE-FORWARD-HEADERS] not found - trying original name [server.USE-FORWARD-HEADERS]. javax.naming.NameNotFoundException: Name [server.USE-FORWARD-HEADERS] is not bound in this Context. Unable to find [server.USE-FORWARD-HEADERS].\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server.USE-FORWARD-HEADERS]\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiPropertySource - JNDI lookup for name [server.USE-FORWARD-HEADERS] threw NamingException with message: Name [server.USE-FORWARD-HEADERS] is not bound in this Context. Unable to find [server.USE-FORWARD-HEADERS].. Returning null.\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/server_USE-FORWARD-HEADERS]\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/server_USE-FORWARD-HEADERS] not found - trying original name [server_USE-FORWARD-HEADERS]. javax.naming.NameNotFoundException: Name [server_USE-FORWARD-HEADERS] is not bound in this Context. Unable to find [server_USE-FORWARD-HEADERS].\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server_USE-FORWARD-HEADERS]\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiPropertySource - JNDI lookup for name [server_USE-FORWARD-HEADERS] threw NamingException with message: Name [server_USE-FORWARD-HEADERS] is not bound in this Context. Unable to find [server_USE-FORWARD-HEADERS].. Returning null.\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/server.USE_FORWARD_HEADERS]\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/server.USE_FORWARD_HEADERS] not found - trying original name [server.USE_FORWARD_HEADERS]. javax.naming.NameNotFoundException: Name [server.USE_FORWARD_HEADERS] is not bound in this Context. Unable to find [server.USE_FORWARD_HEADERS].\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server.USE_FORWARD_HEADERS]\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiPropertySource - JNDI lookup for name [server.USE_FORWARD_HEADERS] threw NamingException with message: Name [server.USE_FORWARD_HEADERS] is not bound in this Context. Unable to find [server.USE_FORWARD_HEADERS].. Returning null.\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/server_USE_FORWARD_HEADERS]\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/server_USE_FORWARD_HEADERS] not found - trying original name [server_USE_FORWARD_HEADERS]. javax.naming.NameNotFoundException: Name [server_USE_FORWARD_HEADERS] is not bound in this Context. Unable to find [server_USE_FORWARD_HEADERS].\r\n    [localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server_USE_FORWARD_HEADERS]\r\n\r\nCan I disable/ignore JNDI in my spring projects?","title":"Remove JNDI from Spring initialization","body":"<p>I'm loading Spring application in maven tomcat plugin. I'm not using Spring boot.</p>\n\n<p>On loading I'm getting debug logs of failing to load JNDI properties, for example:</p>\n\n<pre><code>[localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server_useforwardheaders]\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiPropertySource - JNDI lookup for name [server_useforwardheaders] threw NamingException with message: Name [server_useforwardheaders] is not bound in this Context. Unable to find [server_useforwardheaders].. Returning null.\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/server.USE-FORWARD-HEADERS]\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/server.USE-FORWARD-HEADERS] not found - trying original name [server.USE-FORWARD-HEADERS]. javax.naming.NameNotFoundException: Name [server.USE-FORWARD-HEADERS] is not bound in this Context. Unable to find [server.USE-FORWARD-HEADERS].\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server.USE-FORWARD-HEADERS]\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiPropertySource - JNDI lookup for name [server.USE-FORWARD-HEADERS] threw NamingException with message: Name [server.USE-FORWARD-HEADERS] is not bound in this Context. Unable to find [server.USE-FORWARD-HEADERS].. Returning null.\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/server_USE-FORWARD-HEADERS]\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/server_USE-FORWARD-HEADERS] not found - trying original name [server_USE-FORWARD-HEADERS]. javax.naming.NameNotFoundException: Name [server_USE-FORWARD-HEADERS] is not bound in this Context. Unable to find [server_USE-FORWARD-HEADERS].\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server_USE-FORWARD-HEADERS]\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiPropertySource - JNDI lookup for name [server_USE-FORWARD-HEADERS] threw NamingException with message: Name [server_USE-FORWARD-HEADERS] is not bound in this Context. Unable to find [server_USE-FORWARD-HEADERS].. Returning null.\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/server.USE_FORWARD_HEADERS]\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/server.USE_FORWARD_HEADERS] not found - trying original name [server.USE_FORWARD_HEADERS]. javax.naming.NameNotFoundException: Name [server.USE_FORWARD_HEADERS] is not bound in this Context. Unable to find [server.USE_FORWARD_HEADERS].\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server.USE_FORWARD_HEADERS]\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiPropertySource - JNDI lookup for name [server.USE_FORWARD_HEADERS] threw NamingException with message: Name [server.USE_FORWARD_HEADERS] is not bound in this Context. Unable to find [server.USE_FORWARD_HEADERS].. Returning null.\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/server_USE_FORWARD_HEADERS]\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/server_USE_FORWARD_HEADERS] not found - trying original name [server_USE_FORWARD_HEADERS]. javax.naming.NameNotFoundException: Name [server_USE_FORWARD_HEADERS] is not bound in this Context. Unable to find [server_USE_FORWARD_HEADERS].\n[localhost-startStop-1] DEBUG org.springframework.jndi.JndiTemplate - Looking up JNDI object with name [server_USE_FORWARD_HEADERS]\n</code></pre>\n\n<p>Can I disable/ignore JNDI in my spring projects?</p>\n"},{"tags":["java","mysql","reactjs","spring-boot","axios"],"comments":[{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1634643970,"post_id":69629561,"comment_id":123075223,"body_markdown":"Update your JSON which you are trying to post. and also update the respective classes.","body":"Update your JSON which you are trying to post. and also update the respective classes."}],"answers":[{"tags":[],"owner":{"account_id":16609602,"reputation":115,"user_id":12003033,"display_name":"wizdemonizer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634646722,"creation_date":1634646722,"answer_id":69630882,"question_id":69629561,"body_markdown":"Error have been fixed . I removed the qs.stringify method from Axios post parameter , then I changed the backend code (Endpoint) to consume only JSON_Values. ","title":"InvalidPropertyException: Invalid property &#39;customer[id]&#39; of bean class","body":"<p>Error have been fixed . I removed the qs.stringify method from Axios post parameter , then I changed the backend code (Endpoint) to consume only JSON_Values.</p>\n"}],"owner":{"account_id":16609602,"reputation":115,"user_id":12003033,"display_name":"wizdemonizer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634646722,"creation_date":1634641143,"question_id":69629561,"body_markdown":"It is a React/Springboot project , when trying to send data to the endpoint from React form , I get the error message and all other fields are null . The customer entity has been merged with the Investment entity using @ManyToOne annotation. \r\n\r\nThis is the entity \r\n\r\n```\r\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\r\npublic class Investment \r\n\r\n   {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(name = &quot;AccountNumber&quot;, updatable = false, nullable = false)\r\n    private int accountNumber;\r\n    private String category;\r\n\tprivate BigDecimal principal;\r\n\t//private BigDecimal netInvestmentAmount;\r\n\tprivate BigDecimal currentInterest;\r\n\tprivate BigDecimal maturityInterest;\r\n\tprivate String tenure;\r\n\tprivate String marketer;\r\n\tprivate String investmentPackage;\r\n\t@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n\tprivate LocalDate startDate;\r\n\t@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n\tprivate LocalDate maturityDate;\r\n\tprivate Integer rate;\r\n\tprivate final float wht = (float) 10/100;\r\n\tprivate String whtStatus;\r\n\tprivate final float  preLiquidationCharges = (float) 25/100;\r\n\t@Enumerated(EnumType .STRING)\r\n\tprivate InvestmentStatus status;\r\n\t\r\n\t@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @ManyToOne(targetEntity = Customer.class, \r\n\tcascade = CascadeType.MERGE, fetch = FetchType.LAZY )\r\n\t@JoinColumn(name=&quot;customer_fk_id&quot;) \r\n\tprivate Customer customer_id ;\r\n\r\n```\r\n\r\nThis is the Controller class where the createInvestment endpoint is being managed \r\n\r\n```\r\n\r\n@PostMapping(value=&quot;/createInvestment&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n    public @ResponseBody Investment CreateInvestment (Investment investment)  \r\n    {\r\n       return investmentService.CreateInvestment(investment);\r\n   \r\n    }\r\n\r\n```\r\nThis is the react Form, it contains only some fields from the entity, the rest fields are to be null till an update action is done. If the axios parameter beside the BaseURL is changed to Json.Stringify it does not throw the error but all values going to the database are Null . \r\n\r\n```\r\n axios.post(&quot;http://localhost:8080/createInvestment&quot;, qs.stringify(this.state.form_input))\r\n              .then(response =&gt; {\r\n\r\n              })\r\n              .catch(error =&gt; {\r\n\r\n                console.log(error)\r\n\r\n              })\r\n          }\r\n```\r\nThis is the error stack trace .I had to cut some out as it is very long .\r\n\r\n```\r\norg.springframework.beans.InvalidPropertyException: Invalid property &#39;customer[id]&#39; of bean class [com.bethsaida.org.models.Investment]: Property referenced in indexed property path &#39;customer[id]&#39; is neither an array nor a List nor a Map; returned value was [Customer [id=null, firstName=null, lastName=null, gender=null, Address=null, maritalStatus=null, category=null, motherMaidenName=null, idType=null, idNumber=null, marketer=null, phoneNumber=null, email=null, dateOfBirth=null, registrationDate=null, investment=null]]\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.processKeyedProperty(AbstractNestablePropertyAccessor.java:377) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue(AbstractNestablePropertyAccessor.java:275) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue(AbstractNestablePropertyAccessor.java:266) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:104) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.validation.DataBinder.applyPropertyValues(DataBinder.java:851) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.validation.DataBinder.doBind(DataBinder.java:747) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.bind.WebDataBinder.doBind(WebDataBinder.java:198) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.bind.ServletRequestDataBinder.bind(ServletRequestDataBinder.java:118) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.bindRequestParameters(ServletModelAttributeMethodProcessor.java:158) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:171) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.50.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.50.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.50.jar:9.0.50]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:147) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat com.bethsaida.org.security.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:81) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.3.jar:2.5.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\r\n```\r\n\r\n\r\n","title":"InvalidPropertyException: Invalid property &#39;customer[id]&#39; of bean class","body":"<p>It is a React/Springboot project , when trying to send data to the endpoint from React form , I get the error message and all other fields are null . The customer entity has been merged with the Investment entity using @ManyToOne annotation.</p>\n<p>This is the entity</p>\n<pre><code>@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\npublic class Investment \n\n   {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;AccountNumber&quot;, updatable = false, nullable = false)\n    private int accountNumber;\n    private String category;\n    private BigDecimal principal;\n    //private BigDecimal netInvestmentAmount;\n    private BigDecimal currentInterest;\n    private BigDecimal maturityInterest;\n    private String tenure;\n    private String marketer;\n    private String investmentPackage;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate startDate;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate maturityDate;\n    private Integer rate;\n    private final float wht = (float) 10/100;\n    private String whtStatus;\n    private final float  preLiquidationCharges = (float) 25/100;\n    @Enumerated(EnumType .STRING)\n    private InvestmentStatus status;\n    \n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n    @ManyToOne(targetEntity = Customer.class, \n    cascade = CascadeType.MERGE, fetch = FetchType.LAZY )\n    @JoinColumn(name=&quot;customer_fk_id&quot;) \n    private Customer customer_id ;\n\n</code></pre>\n<p>This is the Controller class where the createInvestment endpoint is being managed</p>\n<pre><code>\n@PostMapping(value=&quot;/createInvestment&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_FORM_URLENCODED_VALUE})\n    public @ResponseBody Investment CreateInvestment (Investment investment)  \n    {\n       return investmentService.CreateInvestment(investment);\n   \n    }\n\n</code></pre>\n<p>This is the react Form, it contains only some fields from the entity, the rest fields are to be null till an update action is done. If the axios parameter beside the BaseURL is changed to Json.Stringify it does not throw the error but all values going to the database are Null .</p>\n<pre><code> axios.post(&quot;http://localhost:8080/createInvestment&quot;, qs.stringify(this.state.form_input))\n              .then(response =&gt; {\n\n              })\n              .catch(error =&gt; {\n\n                console.log(error)\n\n              })\n          }\n</code></pre>\n<p>This is the error stack trace .I had to cut some out as it is very long .</p>\n<pre><code>org.springframework.beans.InvalidPropertyException: Invalid property 'customer[id]' of bean class [com.bethsaida.org.models.Investment]: Property referenced in indexed property path 'customer[id]' is neither an array nor a List nor a Map; returned value was [Customer [id=null, firstName=null, lastName=null, gender=null, Address=null, maritalStatus=null, category=null, motherMaidenName=null, idType=null, idNumber=null, marketer=null, phoneNumber=null, email=null, dateOfBirth=null, registrationDate=null, investment=null]]\n    at org.springframework.beans.AbstractNestablePropertyAccessor.processKeyedProperty(AbstractNestablePropertyAccessor.java:377) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue(AbstractNestablePropertyAccessor.java:275) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue(AbstractNestablePropertyAccessor.java:266) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:104) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.validation.DataBinder.applyPropertyValues(DataBinder.java:851) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.validation.DataBinder.doBind(DataBinder.java:747) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.web.bind.WebDataBinder.doBind(WebDataBinder.java:198) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.bind.ServletRequestDataBinder.bind(ServletRequestDataBinder.java:118) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.bindRequestParameters(ServletModelAttributeMethodProcessor.java:158) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:171) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.50.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.50.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:147) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at com.bethsaida.org.security.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:81) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.3.jar:2.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3971637,"reputation":407,"user_id":3276094,"display_name":"AndyMan"},"score":0,"creation_date":1574629370,"post_id":59021208,"comment_id":104289875,"body_markdown":"Are you suggesting it is an Intellij or system set up issue? Create a command line project from scratch, run it,","body":"Are you suggesting it is an Intellij or system set up issue? Create a command line project from scratch, run it,"},{"owner":{"account_id":7376336,"reputation":1678,"user_id":5614800,"accept_rate":44,"display_name":"Carmine Tambascia"},"score":0,"creation_date":1574634264,"post_id":59021208,"comment_id":104291091,"body_markdown":"the error is simply telling you that in that directory there is not the java.exe you are calling","body":"the error is simply telling you that in that directory there is not the java.exe you are calling"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1574636341,"creation_date":1574636341,"answer_id":59023270,"question_id":59021208,"body_markdown":"Make sure you&#39;ve downloaded, installed and configured JDK as described in [this document](https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html).\r\n\r\nDon&#39;t use the JetBrains Runtime to build and run your own apps, you need to use a JDK.","title":"IntelliJ - run program","body":"<p>Make sure you've downloaded, installed and configured JDK as described in <a href=\"https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html\" rel=\"nofollow noreferrer\">this document</a>.</p>\n\n<p>Don't use the JetBrains Runtime to build and run your own apps, you need to use a JDK.</p>\n"},{"tags":[],"owner":{"account_id":13145379,"reputation":403,"user_id":9495573,"display_name":"pvma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597916215,"creation_date":1597916215,"answer_id":63502302,"question_id":59021208,"body_markdown":"This happened to me when I uninstalled my java from Program files because I need to use a java that is not an installer based. So I just followed this other [post][1] and it worked for me\r\n\r\n  [1]: https://stackoverflow.com/questions/48290050/errorjava-cannot-run-program-createprocess-error-2-the-system-cannot-find-the/48290154","title":"IntelliJ - run program","body":"<p>This happened to me when I uninstalled my java from Program files because I need to use a java that is not an installer based. So I just followed this other <a href=\"https://stackoverflow.com/questions/48290050/errorjava-cannot-run-program-createprocess-error-2-the-system-cannot-find-the/48290154\">post</a> and it worked for me</p>\n"},{"tags":[],"owner":{"account_id":3732221,"reputation":566,"user_id":4361933,"accept_rate":0,"display_name":"&#214;MER TAŞCI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634646709,"creation_date":1634646709,"answer_id":69630879,"question_id":59021208,"body_markdown":"I solved this issue by editing VM Options in Intellij Idea.\r\nIn Intellij go to Help -&gt; Edit Custom VM Options, then append the below line.\r\n`-Djdk.lang.Process.allowAmbiguousCommands=true`   ","title":"IntelliJ - run program","body":"<p>I solved this issue by editing VM Options in Intellij Idea.\nIn Intellij go to Help -&gt; Edit Custom VM Options, then append the below line.\n<code>-Djdk.lang.Process.allowAmbiguousCommands=true</code></p>\n"}],"owner":{"account_id":15544634,"reputation":25,"user_id":11214282,"display_name":"Moran Mahabi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2094,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59023270,"answer_count":3,"score":1,"last_activity_date":1634646709,"creation_date":1574621416,"question_id":59021208,"body_markdown":"I&#39;m using IntelliJ.\r\nWhen I try to run the Main.java I receive an error:\r\n\r\nError:Cannot run program &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\jbr\\bin\\java.exe&quot; (in directory &quot;C:\\Users\\moran\\.IntelliJIdea2019.2\\system\\compile-server&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\r\nCan you help?\r\n","title":"IntelliJ - run program","body":"<p>I'm using IntelliJ.\nWhen I try to run the Main.java I receive an error:</p>\n\n<p>Error:Cannot run program \"C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\jbr\\bin\\java.exe\" (in directory \"C:\\Users\\moran.IntelliJIdea2019.2\\system\\compile-server\"): CreateProcess error=2, The system cannot find the file specified</p>\n\n<p>Can you help?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8063,"page":1929,"page_size":100}
