{"items":[{"tags":["java","arrays","indexing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1356434527,"post_id":14030157,"comment_id":19379355,"body_markdown":"`for(i=0;i&lt;=n-1;i++) ..`","body":"<code>for(i=0;i&lt;=n-1;i++) ..</code>"},{"owner":{"account_id":9148,"reputation":16366,"user_id":16784,"accept_rate":82,"display_name":"Confusion"},"score":0,"creation_date":1356434650,"post_id":14030157,"comment_id":19379385,"body_markdown":"I&#39;m going to guess you didn&#39;t only change 1 to 0, but you also changed something else, which caused the result to be 0. Otherwise changing 1 to 0 would produce the correct result (except that you would also need to change `n` to `n-1` or `&lt;=` to `&lt;`, but that wouldn&#39;t result in 0, but an IndexOutOfBoundsException).","body":"I&#39;m going to guess you didn&#39;t only change 1 to 0, but you also changed something else, which caused the result to be 0. Otherwise changing 1 to 0 would produce the correct result (except that you would also need to change <code>n</code> to <code>n-1</code> or <code>&lt;=</code> to <code>&lt;</code>, but that wouldn&#39;t result in 0, but an IndexOutOfBoundsException)."},{"owner":{"account_id":158651,"reputation":2608,"user_id":377438,"accept_rate":70,"display_name":"Chandana"},"score":0,"creation_date":1356435031,"post_id":14030157,"comment_id":19379467,"body_markdown":"Best option is remove the array length form arguments.","body":"Best option is remove the array length form arguments."},{"owner":{"account_id":158651,"reputation":2608,"user_id":377438,"accept_rate":70,"display_name":"Chandana"},"score":0,"creation_date":1356435091,"post_id":14030157,"comment_id":19379489,"body_markdown":"`for(i=1;i&lt;=S.length;i++){\n result = result + S[i-1];\n}`","body":"<code>for(i=1;i&lt;=S.length;i++){  result = result + S[i-1]; }</code>"}],"answers":[{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453648939,"creation_date":1356434567,"answer_id":14030178,"question_id":14030157,"body_markdown":"Well, Array indexes Start with `zero`,The only way i think of is by decrementing the value of i while getting the value.\r\n\r\n    int[] s = {10,7,11,5,13,8}; \r\n     \r\n    for(i=1;i&lt;=n;i++){\r\n        result = result + S[i-1];\r\n    }","title":"How do I index the array to start as 1 rather than 0?","body":"<p>Well, Array indexes Start with <code>zero</code>,The only way i think of is by decrementing the value of i while getting the value.</p>\n\n<pre><code>int[] s = {10,7,11,5,13,8}; \n\nfor(i=1;i&lt;=n;i++){\n    result = result + S[i-1];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":6,"creation_date":1356434628,"post_id":14030181,"comment_id":19379378,"body_markdown":"*&quot;But if you don&#39;t want to do that, you could always..&quot;*  ..do something unnecessary and wasteful.","body":"<i>&quot;But if you don&#39;t want to do that, you could always..&quot;</i>  ..do something unnecessary and wasteful."},{"owner":{"account_id":15897,"reputation":49261,"user_id":34065,"accept_rate":100,"display_name":"schnaader"},"score":0,"creation_date":1356434647,"post_id":14030181,"comment_id":19379384,"body_markdown":"Change the condition to `i&lt;n` or `i&lt;=n-1`, please.","body":"Change the condition to <code>i&lt;n</code> or <code>i&lt;=n-1</code>, please."},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1356434704,"post_id":14030181,"comment_id":19379396,"body_markdown":"@RohitJain How could this raise an ArrayIndexOutOfBoundsException?","body":"@RohitJain How could this raise an ArrayIndexOutOfBoundsException?"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1356434751,"post_id":14030181,"comment_id":19379402,"body_markdown":"@11684.. `i &lt;= n` condition will lead to the access of `array[n]`. Now you see.","body":"@11684.. <code>i &lt;= n</code> condition will lead to the access of <code>array[n]</code>. Now you see."},{"owner":{"account_id":539735,"reputation":9286,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"score":0,"creation_date":1356434760,"post_id":14030181,"comment_id":19379404,"body_markdown":"@Andrew Totally agree .If you want the sum, change the for loop. Why to start the array with 0.","body":"@Andrew Totally agree .If you want the sum, change the for loop. Why to start the array with 0."},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1356434801,"post_id":14030181,"comment_id":19379421,"body_markdown":"@RohitJain I didn&#39;t see that, I assume it was a normal for-loop apart from ther `int i= 0;` part","body":"@RohitJain I didn&#39;t see that, I assume it was a normal for-loop apart from ther <code>int i= 0;</code> part"},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1356434881,"post_id":14030181,"comment_id":19379436,"body_markdown":"@vikiiii We don&#39;t know the context of the OP&#39;s problem, perhaps he&#39;s not allowed to change the for-loop because it is homework or some kind of exercise, so I said `you SHOULD change the for-loop...` which should suggest that that is the best option.","body":"@vikiiii We don&#39;t know the context of the OP&#39;s problem, perhaps he&#39;s not allowed to change the for-loop because it is homework or some kind of exercise, so I said <code>you SHOULD change the for-loop...</code> which should suggest that that is the best option."},{"owner":{"account_id":2119896,"reputation":99,"user_id":1883386,"accept_rate":67,"display_name":"user1883386"},"score":0,"creation_date":1356445574,"post_id":14030181,"comment_id":19381646,"body_markdown":"Thank you very much....first time on stackoverflow !! Great Feedback and help guys !!","body":"Thank you very much....first time on stackoverflow !! Great Feedback and help guys !!"},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1356612862,"post_id":14030181,"comment_id":19422952,"body_markdown":"@user1883386 then welcome to SO! But could you accept an answer (click the checkmark to the left of an answer) to mark this question as solved and give the answerer his/her earned reputation?","body":"@user1883386 then welcome to SO! But could you accept an answer (click the checkmark to the left of an answer) to mark this question as solved and give the answerer his/her earned reputation?"}],"tags":[],"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453648925,"creation_date":1356434579,"answer_id":14030181,"question_id":14030157,"body_markdown":"Instead of changing the array you should change the for-loop:\r\n\r\n    for(i=0;i&lt;n;i++)\r\n\r\nBut if you don&#39;t want to do that, you could always make the first element 0:\r\n\r\n    int[] array = {0, 10,7,11,5,13,8};","title":"How do I index the array to start as 1 rather than 0?","body":"<p>Instead of changing the array you should change the for-loop:</p>\n\n<pre><code>for(i=0;i&lt;n;i++)\n</code></pre>\n\n<p>But if you don't want to do that, you could always make the first element 0:</p>\n\n<pre><code>int[] array = {0, 10,7,11,5,13,8};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1356434775,"creation_date":1356434775,"answer_id":14030198,"question_id":14030157,"body_markdown":"I wouldn&#39;t pass the length in, because:\r\n\r\n- it&#39;s redundant - `array.length` tells you the length if you want to know it\r\n- you don&#39;t need to know the length anyway, because there&#39;s a better way to iterate over an array\r\n\r\nInstead, just iterate through the whole array passed in using a [foreach loop][1]:\r\n\r\n    public static int sum(int[] array) {\r\n        int result = 0;\r\n        for (int i : array)\r\n            result += i;\r\n        return result;\r\n    }\r\n\r\nDoing this results in a lot less code, which in turn is easier to read and understand.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html","title":"How do I index the array to start as 1 rather than 0?","body":"<p>I wouldn't pass the length in, because:</p>\n\n<ul>\n<li>it's redundant - <code>array.length</code> tells you the length if you want to know it</li>\n<li>you don't need to know the length anyway, because there's a better way to iterate over an array</li>\n</ul>\n\n<p>Instead, just iterate through the whole array passed in using a <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\">foreach loop</a>:</p>\n\n<pre><code>public static int sum(int[] array) {\n    int result = 0;\n    for (int i : array)\n        result += i;\n    return result;\n}\n</code></pre>\n\n<p>Doing this results in a lot less code, which in turn is easier to read and understand.</p>\n"},{"tags":[],"owner":{"account_id":435858,"reputation":143,"user_id":822674,"accept_rate":17,"display_name":"Markus Rossler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356434903,"creation_date":1356434903,"answer_id":14030212,"question_id":14030157,"body_markdown":"just think about, what it counts on 0 (otherwise on 1):\r\n\r\ncase 0: (n = length = 6)\r\n0, 1, 2, 3, 4, 5, 6\r\n\r\ncase 1: (n = 6)\r\n1, 2, 3, 4, 5, 6\r\n\r\nliterally filled positions in array:\r\n0, 1, 2, 3, 4, 5\r\n\r\nin either case, element 6 is not in array so there is an error. in case 1 you &quot;forget&quot; to count the first element with index 0.\r\n\r\nthats why you have to write:\r\nfor (i = 0; i &lt;= n-1; i++)","title":"How do I index the array to start as 1 rather than 0?","body":"<p>just think about, what it counts on 0 (otherwise on 1):</p>\n\n<p>case 0: (n = length = 6)\n0, 1, 2, 3, 4, 5, 6</p>\n\n<p>case 1: (n = 6)\n1, 2, 3, 4, 5, 6</p>\n\n<p>literally filled positions in array:\n0, 1, 2, 3, 4, 5</p>\n\n<p>in either case, element 6 is not in array so there is an error. in case 1 you \"forget\" to count the first element with index 0.</p>\n\n<p>thats why you have to write:\nfor (i = 0; i &lt;= n-1; i++)</p>\n"},{"tags":[],"owner":{"account_id":5986393,"reputation":75,"user_id":4703856,"display_name":"Surfer Buddha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505422320,"creation_date":1505422320,"answer_id":46228034,"question_id":14030157,"body_markdown":"Just go ahead and set the for loop at a plus 1 value so that the 0 array value accurately reflects the relative index!\r\n\r\n\t\r\n\r\n    for (int i = 0; i &lt; helloArray.length; i++) {\r\n    \t\t\t\r\n    \t\t\tif (i == max) {\r\n    \t\t\t\tSystem.out.println(helloArray[i]);\r\n    \t\t\t\tSystem.out.println(&quot;=&quot;);\r\n    \t\t        System.out.println(i+1);\r\n    \t\t    }\r\n    \t","title":"How do I index the array to start as 1 rather than 0?","body":"<p>Just go ahead and set the for loop at a plus 1 value so that the 0 array value accurately reflects the relative index!</p>\n\n<pre><code>for (int i = 0; i &lt; helloArray.length; i++) {\n\n            if (i == max) {\n                System.out.println(helloArray[i]);\n                System.out.println(\"=\");\n                System.out.println(i+1);\n            }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15062967,"reputation":50571,"user_id":10871073,"display_name":"Adrian Mole"},"score":0,"creation_date":1679832387,"post_id":75793372,"comment_id":133787829,"body_markdown":"Please add some explanation as to how your code works and how/why you think it is better than the other answers, some of which were posted over 10 years ago.","body":"Please add some explanation as to how your code works and how/why you think it is better than the other answers, some of which were posted over 10 years ago."}],"tags":[],"owner":{"account_id":28068026,"reputation":1,"user_id":21441140,"display_name":"mickey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679332740,"creation_date":1679332681,"answer_id":75793372,"question_id":14030157,"body_markdown":"        public class Main {\r\n    \r\n       public static void main(String[]args) {\r\n           int[] array = {10,7,11,5,13,8}; \r\n           sum(array.length,array);\r\n       }\r\n    \r\n       public static int sum(int n, int[] S) {\r\n           int i;\r\n           int result;\r\n    \r\n           result = 0;\r\n           for(i=1;i&lt;n;i+=2)//try changing the value of i++ to i+=2\r\n               result = result + S[i];\r\n               \r\n    \r\n            System.out.println(result);\r\n             return result;\r\n       }    \r\n    }","title":"How do I index the array to start as 1 rather than 0?","body":"<pre><code>    public class Main {\n\n   public static void main(String[]args) {\n       int[] array = {10,7,11,5,13,8}; \n       sum(array.length,array);\n   }\n\n   public static int sum(int n, int[] S) {\n       int i;\n       int result;\n\n       result = 0;\n       for(i=1;i&lt;n;i+=2)//try changing the value of i++ to i+=2\n           result = result + S[i];\n           \n\n        System.out.println(result);\n         return result;\n   }    \n}\n</code></pre>\n"}],"owner":{"account_id":2119896,"reputation":99,"user_id":1883386,"accept_rate":67,"display_name":"user1883386"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36341,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1679332740,"creation_date":1356434435,"question_id":14030157,"body_markdown":"In this case the program is supposed to add all the arrays together. However if I entered 1 in the sum method parameter it would start counting from 7 onwards but if I put 0 it outputs 0. \r\n\r\n    public class sList {\r\n\t\r\n\t   public static void main(String[]args) {\r\n\t\t   int[] array = {10,7,11,5,13,8}; // How do I make it read the value 10 as 1 in the array?\r\n\t\t   sum(array.length,array);\r\n\t   }\r\n\r\n\t   public static int sum(int n, int[] S) {\r\n\t\t   int i;\r\n\t\t   int result;\r\n\t\t\r\n\t\t   result = 0;\r\n\t\t   for(i=1;i&lt;=n;i++)\r\n\t\t\t   result = result + S[i];\r\n\t\t\r\n\t\t   System.out.println(result);\r\n\t\t   return result;\r\n\t   }\t\r\n    }","title":"How do I index the array to start as 1 rather than 0?","body":"<p>In this case the program is supposed to add all the arrays together. However if I entered 1 in the sum method parameter it would start counting from 7 onwards but if I put 0 it outputs 0. </p>\n\n<pre><code>public class sList {\n\n   public static void main(String[]args) {\n       int[] array = {10,7,11,5,13,8}; // How do I make it read the value 10 as 1 in the array?\n       sum(array.length,array);\n   }\n\n   public static int sum(int n, int[] S) {\n       int i;\n       int result;\n\n       result = 0;\n       for(i=1;i&lt;=n;i++)\n           result = result + S[i];\n\n       System.out.println(result);\n       return result;\n   }    \n}\n</code></pre>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679332452,"creation_date":1679331970,"answer_id":75793253,"question_id":75793097,"body_markdown":"You need to provide a constructor with the right amount and types of parameters as returned by your `testValues()` method, then you assign the values as fields and use those fields in your test.\r\n\r\nFor each set of values returned by the `@Parameterized.Parameters` method, and each `@Test` annotated method, the `Parameterized` test runner will create a new instance of your test class, with the set of  values, and the run the test method (this means that if you have 5 sets of values and 3 test-methods, it will create 5 * 3 instances of your test class).\r\n\r\nSo, change your code to:\r\n\r\n```\r\n@RunWith(Parameterized.class)\r\npublic class ParamaterizedTest {\r\n\r\n  private final double testDouble;\r\n  private final boolean expectedResult;\r\n\r\n  public ParameterizedTest(double testDouble, boolean expectedResult) {\r\n    this.testDouble = testDouble;\r\n    this.expectedResult = expectedResult;\r\n  }\r\n\r\n  @Parameterized.Parameters\r\n  public static Collection testValues() {\r\n    return Arrays.asList(new Object[][] {\r\n        { 18.5, true },\r\n        { 16.5, false },\r\n        { 19.5, true },\r\n        { 15.5, false },\r\n        { 20.5, true }\r\n    });\r\n  }\r\n\r\n  @Test\r\n  public void testinputBiggerThanExpected(){\r\n    Double expected = 17.5;\r\n    assertEquals(expectedResult, expected &lt; testDouble);\r\n  }\r\n}\r\n```\r\n\r\nSee also the JUnit 4 documentation on [Parameterized tests][1].\r\n\r\nAs an aside, you&#39;re currently using JUnit 4, and the way of using parameterized tests in JUnit 5 is both simpler and more powerful. I recommend switching. See the JUnit 5 User Guide, section [Parameterized Tests][2] for more information.\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/Parameterized-tests\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests","title":"How to test multiple testValues with True or False behind it","body":"<p>You need to provide a constructor with the right amount and types of parameters as returned by your <code>testValues()</code> method, then you assign the values as fields and use those fields in your test.</p>\n<p>For each set of values returned by the <code>@Parameterized.Parameters</code> method, and each <code>@Test</code> annotated method, the <code>Parameterized</code> test runner will create a new instance of your test class, with the set of  values, and the run the test method (this means that if you have 5 sets of values and 3 test-methods, it will create 5 * 3 instances of your test class).</p>\n<p>So, change your code to:</p>\n<pre><code>@RunWith(Parameterized.class)\npublic class ParamaterizedTest {\n\n  private final double testDouble;\n  private final boolean expectedResult;\n\n  public ParameterizedTest(double testDouble, boolean expectedResult) {\n    this.testDouble = testDouble;\n    this.expectedResult = expectedResult;\n  }\n\n  @Parameterized.Parameters\n  public static Collection testValues() {\n    return Arrays.asList(new Object[][] {\n        { 18.5, true },\n        { 16.5, false },\n        { 19.5, true },\n        { 15.5, false },\n        { 20.5, true }\n    });\n  }\n\n  @Test\n  public void testinputBiggerThanExpected(){\n    Double expected = 17.5;\n    assertEquals(expectedResult, expected &lt; testDouble);\n  }\n}\n</code></pre>\n<p>See also the JUnit 4 documentation on <a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"nofollow noreferrer\">Parameterized tests</a>.</p>\n<p>As an aside, you're currently using JUnit 4, and the way of using parameterized tests in JUnit 5 is both simpler and more powerful. I recommend switching. See the JUnit 5 User Guide, section <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">Parameterized Tests</a> for more information.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679332245,"post_id":75793290,"comment_id":133699189,"body_markdown":"Your answer uses the JUnit 5 way of parameterized tests, but the question uses the JUnit 4 way of parameterized test. Unless the OP is willing to switch to JUnit 5, this will not work for them. I would also highly recommend that you point this out explicitly in your answer, otherwise it is just confusing.","body":"Your answer uses the JUnit 5 way of parameterized tests, but the question uses the JUnit 4 way of parameterized test. Unless the OP is willing to switch to JUnit 5, this will not work for them. I would also highly recommend that you point this out explicitly in your answer, otherwise it is just confusing."},{"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"score":0,"creation_date":1679333212,"post_id":75793290,"comment_id":133699451,"body_markdown":"When I execute the fist code code example I receive the error `org.junit.jupiter.api.extension.ParameterResolutionException: Error converting parameter at index 0: No implicit conversion to convert object of type java.lang.Double to type java.lang.Float`","body":"When I execute the fist code code example I receive the error <code>org.junit.jupiter.api.extension.ParameterResolutionException&zwnj;&#8203;: Error converting parameter at index 0: No implicit conversion to convert object of type java.lang.Double to type java.lang.Float</code>"},{"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"score":0,"creation_date":1679333857,"post_id":75793290,"comment_id":133699656,"body_markdown":"I changed it `testinputBiggerThanExpected(double floatValue` However the test cases fail, at test case 16.5 and 15.5. Because 15.5 and 16.5 is smaller than 17.5 and both 16.5 and 15.5 have false behind it, so if false (because it&#39;s smaller) and false (because behind 16.5, there is false) and false false is true: this case should be evaluated true and all the five testcases should pass","body":"I changed it <code>testinputBiggerThanExpected(double floatValue</code> However the test cases fail, at test case 16.5 and 15.5. Because 15.5 and 16.5 is smaller than 17.5 and both 16.5 and 15.5 have false behind it, so if false (because it&#39;s smaller) and false (because behind 16.5, there is false) and false false is true: this case should be evaluated true and all the five testcases should pass"}],"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679332472,"creation_date":1679332166,"answer_id":75793290,"question_id":75793097,"body_markdown":"You can first migrate to JUnit5. Your test method `testinputBiggerThanExpected` should use `@ParameterizedTest` annotation instead of `@Test`. Read this [link][1].\r\n\r\n    public class ParamaterizedTest {\r\n    \r\n      public static Collection testValues() {\r\n        return Arrays.asList(new Object[][] {\r\n            { 18.5, true },\r\n            { 16.5, false },\r\n            { 19.5, true },\r\n            { 15.5, false },\r\n            { 20.5, true }\r\n        });\r\n      }\r\n    \r\n      @ParameterizedTest\r\n      @MethodSource(&quot;testValues&quot;)\r\n      public void testinputBiggerThanExpected(float floatValue, boolean booleanValue){\r\n        Double expected = 17.5;\r\n        assertTrue(expected &lt; floatValue);\r\n      }\r\n    }\r\n\r\nor a more simple approach:\r\n\r\n    public class ParamaterizedTest {\r\n    \r\n      @ParameterizedTest\r\n      @ValueSource(floats = { 18.5, 16.5, 19.5, 15.5, 20.5 })\r\n      public void testinputBiggerThanExpected(float floatValue) {\r\n        Double expected = 17.5;\r\n        assertTrue(expected &lt; floatValue);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/parameterized-tests-junit-5","title":"How to test multiple testValues with True or False behind it","body":"<p>You can first migrate to JUnit5. Your test method <code>testinputBiggerThanExpected</code> should use <code>@ParameterizedTest</code> annotation instead of <code>@Test</code>. Read this <a href=\"https://www.baeldung.com/parameterized-tests-junit-5\" rel=\"nofollow noreferrer\">link</a>.</p>\n<pre><code>public class ParamaterizedTest {\n\n  public static Collection testValues() {\n    return Arrays.asList(new Object[][] {\n        { 18.5, true },\n        { 16.5, false },\n        { 19.5, true },\n        { 15.5, false },\n        { 20.5, true }\n    });\n  }\n\n  @ParameterizedTest\n  @MethodSource(&quot;testValues&quot;)\n  public void testinputBiggerThanExpected(float floatValue, boolean booleanValue){\n    Double expected = 17.5;\n    assertTrue(expected &lt; floatValue);\n  }\n}\n</code></pre>\n<p>or a more simple approach:</p>\n<pre><code>public class ParamaterizedTest {\n\n  @ParameterizedTest\n  @ValueSource(floats = { 18.5, 16.5, 19.5, 15.5, 20.5 })\n  public void testinputBiggerThanExpected(float floatValue) {\n    Double expected = 17.5;\n    assertTrue(expected &lt; floatValue);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75793290,"answer_count":2,"score":2,"last_activity_date":1679332472,"creation_date":1679330956,"question_id":75793097,"body_markdown":"I want that the method public void testinputBiggerThan() is performed with all testvalue in the method public static Collection testValues().\r\n\r\n\r\nSo I want to give multiple parameters with a true or false condition of that testValue and than this been evaluated inside `AssertTrue`\r\n\r\n\r\n```\r\n@RunWith(Parameterized.class)\r\npublic class ParamaterizedTest {\r\n\r\n\r\n  @Parameterized.Parameters\r\n  public static Collection testValues() {\r\n    return Arrays.asList(new Object[][] {\r\n        { 18.5, true },\r\n        { 16.5, false },\r\n        { 19.5, true },\r\n        { 15.5, false },\r\n        { 20.5, true }\r\n    });\r\n  }\r\n\r\n  @Test\r\n  public void testinputBiggerThanExpected(){\r\n    Double expected = 17.5;\r\n    AssertTrue(expected &lt; //how do I get here all the values testValues() and evaluated whether this is the case 18.5 is (true because 18.5 is bigger than 17.5)&amp; true in testValues()=true, etc );\r\n\r\n  }\r\n}\r\n```","title":"How to test multiple testValues with True or False behind it","body":"<p>I want that the method public void testinputBiggerThan() is performed with all testvalue in the method public static Collection testValues().</p>\n<p>So I want to give multiple parameters with a true or false condition of that testValue and than this been evaluated inside <code>AssertTrue</code></p>\n<pre><code>@RunWith(Parameterized.class)\npublic class ParamaterizedTest {\n\n\n  @Parameterized.Parameters\n  public static Collection testValues() {\n    return Arrays.asList(new Object[][] {\n        { 18.5, true },\n        { 16.5, false },\n        { 19.5, true },\n        { 15.5, false },\n        { 20.5, true }\n    });\n  }\n\n  @Test\n  public void testinputBiggerThanExpected(){\n    Double expected = 17.5;\n    AssertTrue(expected &lt; //how do I get here all the values testValues() and evaluated whether this is the case 18.5 is (true because 18.5 is bigger than 17.5)&amp; true in testValues()=true, etc );\n\n  }\n}\n</code></pre>\n"},{"tags":["java","sql","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":1,"creation_date":1363087211,"post_id":15036233,"comment_id":21700007,"body_markdown":"Are your database mappings in XML or annotations?","body":"Are your database mappings in XML or annotations?"},{"owner":{"account_id":323163,"reputation":2243,"user_id":643011,"accept_rate":75,"display_name":"user643011"},"score":0,"creation_date":1363094201,"post_id":15036233,"comment_id":21704574,"body_markdown":"I have a `hibernate.cfg.xml` with mappings. The entitity classes are annotated.\nThen when I know the databese url I also supply a properties string at EnitityManagerFactory creation. It is built like this:\n`Map&lt;String, String&gt; properties = new HashMap&lt;String, String&gt;();\n\tproperties.put(&quot;javax.persistence.jdbc.url&quot;, JDBC.PREFIX + dbFile.getAbsolutePath());`\nI am open to change this, if I speeds up the creation of EntityManagerFactory. Any suggestions?","body":"I have a <code>hibernate.cfg.xml</code> with mappings. The entitity classes are annotated. Then when I know the databese url I also supply a properties string at EnitityManagerFactory creation. It is built like this: <code>Map&lt;String, String&gt; properties = new HashMap&lt;String, String&gt;(); \tproperties.put(&quot;javax.persistence.jdbc.url&quot;, JDBC.PREFIX + dbFile.getAbsolutePath());</code> I am open to change this, if I speeds up the creation of EntityManagerFactory. Any suggestions?"},{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1363097171,"post_id":15036233,"comment_id":21706679,"body_markdown":"in that case you&#39;ll get a performance improvement if you move away from annotations and _only_ use xml to define your mappings. Scanning classes and looking for annotations is slower than just reading xml","body":"in that case you&#39;ll get a performance improvement if you move away from annotations and <i>only</i> use xml to define your mappings. Scanning classes and looking for annotations is slower than just reading xml"},{"owner":{"account_id":120391,"reputation":3335,"user_id":312808,"accept_rate":85,"display_name":"Alex"},"score":0,"creation_date":1363097630,"post_id":15036233,"comment_id":21706985,"body_markdown":"In this case, the platform is very important. Are you using Hibernate for a desktop application? Aren&#39;t you using a client-server architecture? If you do very often database opennings and closings, maybe a client-server application would satisfy your needs to overcome these delays.","body":"In this case, the platform is very important. Are you using Hibernate for a desktop application? Aren&#39;t you using a client-server architecture? If you do very often database opennings and closings, maybe a client-server application would satisfy your needs to overcome these delays."},{"owner":{"account_id":2413064,"reputation":1724,"user_id":2107731,"accept_rate":76,"display_name":"Claude"},"score":3,"creation_date":1363097647,"post_id":15036233,"comment_id":21707000,"body_markdown":"Can you nail down what is done in these 5 seconds - connecting, reading database metadata, parsing class files, generating class proxies, building meta model? At least with EclipseLink there is the option to build the meta model as well as the class proxy at compile time, not at runtime. Maybe there is a similar option in Hibernate.","body":"Can you nail down what is done in these 5 seconds - connecting, reading database metadata, parsing class files, generating class proxies, building meta model? At least with EclipseLink there is the option to build the meta model as well as the class proxy at compile time, not at runtime. Maybe there is a similar option in Hibernate."},{"owner":{"account_id":2413064,"reputation":1724,"user_id":2107731,"accept_rate":76,"display_name":"Claude"},"score":0,"creation_date":1363097968,"post_id":15036233,"comment_id":21707225,"body_markdown":"By the way: of course you can pool `EntityManagerFactory` instances. But be aware that you don&#39;t exhaust your resources: they may have connection pools with open connections.","body":"By the way: of course you can pool <code>EntityManagerFactory</code> instances. But be aware that you don&#39;t exhaust your resources: they may have connection pools with open connections."},{"owner":{"account_id":323163,"reputation":2243,"user_id":643011,"accept_rate":75,"display_name":"user643011"},"score":0,"creation_date":1363271874,"post_id":15036233,"comment_id":21791579,"body_markdown":"@Michael: Good suggestion! I did add an update with more Information and JProfiler profiling to the original question.","body":"@Michael: Good suggestion! I did add an update with more Information and JProfiler profiling to the original question."},{"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"score":2,"creation_date":1363272034,"post_id":15036233,"comment_id":21791705,"body_markdown":"@user643011 fyi, using the &#39;Set as root&#39; command in JProfiler makes it way easier to filter out the noise in a big call tree stack.","body":"@user643011 fyi, using the &#39;Set as root&#39; command in JProfiler makes it way easier to filter out the noise in a big call tree stack."}],"answers":[{"comments":[{"owner":{"account_id":323163,"reputation":2243,"user_id":643011,"accept_rate":75,"display_name":"user643011"},"score":1,"creation_date":1363697508,"post_id":15392862,"comment_id":21945240,"body_markdown":"Worked nicely! Using `DeferredConnectionProvider` we setup an `EntityManagerFactoryPool`. Opening the db is sub 1 second now.","body":"Worked nicely! Using <code>DeferredConnectionProvider</code> we setup an <code>EntityManagerFactoryPool</code>. Opening the db is sub 1 second now."}],"tags":[],"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1363198833,"creation_date":1363197261,"answer_id":15392862,"question_id":15036233,"body_markdown":"You should be able to do this by implementing your own `ConnectionProvider` as a decorator around a real `ConnectionProvider`. \r\n\r\nThe key observation here is that the `ConnectionProvider` isn&#39;t used until an `EntityManager` is created (see comment in `supportsAggressiveRelease()` for a caveat to that).  So you can create a `DeferredConnectionProvider` class, and use it to construct the `EntityManagerFactory`, but then wait for user input, and do the deferred initialization before actually creating any `EntityManager` instances.  I&#39;m written this as a wrapper around `ConnectionPoolImpl`, but you should be able to use any other implementation of `ConnectionProvider` as the base.\r\n\r\n    public class DeferredConnectionProvider implements ConnectionProvider {\r\n        \r\n        private Properties configuredProps;\r\n        private ConnectionProviderImpl realConnectionProvider;\r\n        \r\n        @Override\r\n        public void configure(Properties props) throws HibernateException {\r\n            configuredProps = props;\r\n        }\r\n        \r\n        public void finalConfiguration(String jdbcUrl, String userName, String password) {\r\n            configuredProps.setProperty(Environment.URL, jdbcUrl);\r\n            configuredProps.setProperty(Environment.USER, userName);\r\n            configuredProps.setProperty(Environment.PASS, password);\r\n            \r\n            realConnectionProvider = new ConnectionProviderImpl();\r\n            realConnectionProvider.configure(configuredProps);\r\n        }\r\n        \r\n        private void assertConfigured() {\r\n            if (realConnectionProvider == null) {\r\n                throw new IllegalStateException(&quot;Not configured yet!&quot;);\r\n            }\r\n        }        \r\n\r\n        @Override\r\n        public Connection getConnection() throws SQLException {\r\n            assertConfigured();\r\n            \r\n            return realConnectionProvider.getConnection();\r\n        }\r\n        \r\n        @Override\r\n        public void closeConnection(Connection conn) throws SQLException {\r\n            assertConfigured();\r\n            \r\n            realConnectionProvider.closeConnection(conn);\r\n        }\r\n        \r\n        @Override\r\n        public void close() throws HibernateException {\r\n            assertConfigured();\r\n            \r\n            realConnectionProvider.close();\r\n        }\r\n        \r\n        @Override\r\n        public boolean supportsAggressiveRelease() {\r\n            // This gets called during EntityManagerFactory construction, but it&#39;s \r\n            // just a flag so you should be able to either do this, or return\r\n            // true/false depending on the actual provider.\r\n            return new ConnectionProviderImpl().supportsAggressiveRelease();\r\n        }\r\n    }\r\n\r\na rough example of how to use it:\r\n\r\n\r\n        // Get an EntityManagerFactory with the following property set:\r\n        //     properties.put(Environment.CONNECTION_PROVIDER, DeferredConnectionProvider.class.getName());\r\n        HibernateEntityManagerFactory factory = (HibernateEntityManagerFactory) entityManagerFactory;\r\n        \r\n        // ...do user input of connection info...\r\n        \r\n        SessionFactoryImpl sessionFactory = (SessionFactoryImpl) factory.getSessionFactory();\r\n        DeferredConnectionProvider connectionProvider = (DeferredConnectionProvider) sessionFactory.getSettings()\r\n                        .getConnectionProvider();\r\n        \r\n        connectionProvider.finalConfiguration(jdbcUrl, userName, password);\r\n\r\nYou could put the initial set up of the `EntityManagerFactory` on a separate thread or something, so that the user never has to wait for it.  Then the only thing they&#39;ll wait for, after specifying the connection info, is the setting up of the connection pool, which should be fairly quick compared to parsing the object model.\r\n","title":"Hibernate faster EntityManagerFactory creation","body":"<p>You should be able to do this by implementing your own <code>ConnectionProvider</code> as a decorator around a real <code>ConnectionProvider</code>. </p>\n\n<p>The key observation here is that the <code>ConnectionProvider</code> isn't used until an <code>EntityManager</code> is created (see comment in <code>supportsAggressiveRelease()</code> for a caveat to that).  So you can create a <code>DeferredConnectionProvider</code> class, and use it to construct the <code>EntityManagerFactory</code>, but then wait for user input, and do the deferred initialization before actually creating any <code>EntityManager</code> instances.  I'm written this as a wrapper around <code>ConnectionPoolImpl</code>, but you should be able to use any other implementation of <code>ConnectionProvider</code> as the base.</p>\n\n<pre><code>public class DeferredConnectionProvider implements ConnectionProvider {\n\n    private Properties configuredProps;\n    private ConnectionProviderImpl realConnectionProvider;\n\n    @Override\n    public void configure(Properties props) throws HibernateException {\n        configuredProps = props;\n    }\n\n    public void finalConfiguration(String jdbcUrl, String userName, String password) {\n        configuredProps.setProperty(Environment.URL, jdbcUrl);\n        configuredProps.setProperty(Environment.USER, userName);\n        configuredProps.setProperty(Environment.PASS, password);\n\n        realConnectionProvider = new ConnectionProviderImpl();\n        realConnectionProvider.configure(configuredProps);\n    }\n\n    private void assertConfigured() {\n        if (realConnectionProvider == null) {\n            throw new IllegalStateException(\"Not configured yet!\");\n        }\n    }        \n\n    @Override\n    public Connection getConnection() throws SQLException {\n        assertConfigured();\n\n        return realConnectionProvider.getConnection();\n    }\n\n    @Override\n    public void closeConnection(Connection conn) throws SQLException {\n        assertConfigured();\n\n        realConnectionProvider.closeConnection(conn);\n    }\n\n    @Override\n    public void close() throws HibernateException {\n        assertConfigured();\n\n        realConnectionProvider.close();\n    }\n\n    @Override\n    public boolean supportsAggressiveRelease() {\n        // This gets called during EntityManagerFactory construction, but it's \n        // just a flag so you should be able to either do this, or return\n        // true/false depending on the actual provider.\n        return new ConnectionProviderImpl().supportsAggressiveRelease();\n    }\n}\n</code></pre>\n\n<p>a rough example of how to use it:</p>\n\n<pre><code>    // Get an EntityManagerFactory with the following property set:\n    //     properties.put(Environment.CONNECTION_PROVIDER, DeferredConnectionProvider.class.getName());\n    HibernateEntityManagerFactory factory = (HibernateEntityManagerFactory) entityManagerFactory;\n\n    // ...do user input of connection info...\n\n    SessionFactoryImpl sessionFactory = (SessionFactoryImpl) factory.getSessionFactory();\n    DeferredConnectionProvider connectionProvider = (DeferredConnectionProvider) sessionFactory.getSettings()\n                    .getConnectionProvider();\n\n    connectionProvider.finalConfiguration(jdbcUrl, userName, password);\n</code></pre>\n\n<p>You could put the initial set up of the <code>EntityManagerFactory</code> on a separate thread or something, so that the user never has to wait for it.  Then the only thing they'll wait for, after specifying the connection info, is the setting up of the connection pool, which should be fairly quick compared to parsing the object model.</p>\n"},{"comments":[{"owner":{"account_id":323163,"reputation":2243,"user_id":643011,"accept_rate":75,"display_name":"user643011"},"score":0,"creation_date":1363272271,"post_id":15401884,"comment_id":21791863,"body_markdown":"The application reads an application format, that basicly builds on 1 SQLite database in a zip file, on local storage (no WLAN involved). We designed it, so it builds on proven technology (SQLite) and is easy to process. It is not possible to know the database url before the user openes the file. I have amended the original question with more information. Thanks for the suggestions so far!","body":"The application reads an application format, that basicly builds on 1 SQLite database in a zip file, on local storage (no WLAN involved). We designed it, so it builds on proven technology (SQLite) and is easy to process. It is not possible to know the database url before the user openes the file. I have amended the original question with more information. Thanks for the suggestions so far!"},{"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"score":0,"creation_date":1363319543,"post_id":15401884,"comment_id":21813474,"body_markdown":"It builds (or at least initialises from scratch) a database instance from a zip file once or multiple times for each user login session??  Well, seems that would be the majority of your 6 second wait - probably little to do with JPA.","body":"It builds (or at least initialises from scratch) a database instance from a zip file once or multiple times for each user login session??  Well, seems that would be the majority of your 6 second wait - probably little to do with JPA."},{"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"score":0,"creation_date":1363319956,"post_id":15401884,"comment_id":21813576,"body_markdown":"A dynamically-initialised-client-database-instance-per-user pattern is most unusual and obviously has a startup delay.  Any reason why you couldn&#39;t share a pre-initialised common instance already loaded with necessary data?","body":"A dynamically-initialised-client-database-instance-per-user pattern is most unusual and obviously has a startup delay.  Any reason why you couldn&#39;t share a pre-initialised common instance already loaded with necessary data?"},{"owner":{"account_id":323163,"reputation":2243,"user_id":643011,"accept_rate":75,"display_name":"user643011"},"score":0,"creation_date":1363349707,"post_id":15401884,"comment_id":21826646,"body_markdown":"Guys, I will reiterate this because I think I was not clear about this. It&#39;s not Java EE with a client server architecture. It&#39;s an offline desktop application that reads user files. Those application files are basicly SQLite database files plus some blobs zipped to a single file. We do initialize the database once per file open, not multiple times. There is no &quot;session&quot;. It&#39;s a desktop application. We are already using a precreated database template for new files. Thanks!","body":"Guys, I will reiterate this because I think I was not clear about this. It&#39;s not Java EE with a client server architecture. It&#39;s an offline desktop application that reads user files. Those application files are basicly SQLite database files plus some blobs zipped to a single file. We do initialize the database once per file open, not multiple times. There is no &quot;session&quot;. It&#39;s a desktop application. We are already using a precreated database template for new files. Thanks!"},{"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"score":1,"creation_date":1363420469,"post_id":15401884,"comment_id":21853626,"body_markdown":"Thanks for clarification.  Have appended my post.","body":"Thanks for clarification.  Have appended my post."}],"tags":[],"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363436947,"creation_date":1363238997,"answer_id":15401884,"question_id":15036233,"body_markdown":"&gt; *Can I turn off some EntityManagerFactory features to get an instance faster?*\r\n\r\nDon&#39;t believe so.  EMFs don&#39;t really have too many features, other than initializing a JDBC connection/pool.\r\n\r\n&gt; *Or is it possible to create some of the EntityManagerFactory lazily to\r\n&gt; speed up cration?*\r\n\r\nRather than creating the EMF lazily, when the user will notice the performance hit, I suggest you should head in the opposite direction - create the EMF proactively before the user actually needs it.  Create it once, up-front, possibly in a separate thread during application initialisation (or at least as soon as you know about your database).  Reuse it throughout the existence of your application/database.\r\n\r\n&gt; *Can I somehow create the EntityManagerFactory object before knowing the database url?*\r\n\r\nNo - it creates a JDBC connection.\r\n\r\nI think a better question is:  why does your application *dynamically* discover database connection URLs?  Are you saying your databases are created/made available on-the-fly and there&#39;s no way to anticipate in advance the connection parameters.  That really is to be avoided.\r\n\r\n\r\n&gt; *By doing so, can I pool EntityManagerFactorys for later use?*\r\n\r\nNo, you can&#39;t pool EMFs.  It&#39;s the connections that you can pool.\r\n\r\n&gt; *Any other idea how to create the EntityManagerFactory faster?*\r\n\r\nI agree - 6 seconds is too slow for initialisation of EMFs.  \r\n\r\nI suspect it&#39;s more to do with your selected database technology than JPA/JDBC/JVM.  My guess is that maybe your database is initialising itself as you connect.  Are you using Access?  What DB are you using?  \r\n\r\nAre you connecting to a database remotely located?  Over a WAN? Is network speed/latency good?\r\n\r\nAre the client PCs limited in performance?\r\n\r\n**EDIT: Added after comments**\r\n\r\nImplementing your own ConnectionProvider as a decorator around a real ConnectionProvider will not speed up the user&#39;s experience at all.  The database instance still needs to be initialised, the EMF &amp; EM created and the JDBC connection still needs to be subsequently established.\r\n\r\nOptions: \r\n\r\n 1. Share a common preloaded DB instance: seems not possible for your business scenario (although JSE technology supports this and also supports client-server design).  \r\n 2. Change to a DB with a faster startup: Derby (a.k.a. Java DB) is included in modern JVMs and has a startup time of about 1.5 seconds (cold) and 0.7 seconds (warm - data pre-loaded). \r\n 3. In many (most?) scenarios, the fastest solution would be to load data directly into in-memory java objects using JAXB with STAX.  Subsequently, use in-memory cached data (particularly using smart structures like maps, hashing and arraylists).  Just as JPA can map POJO classes to database tables &amp; columns, so JAXB can map POJO classes to XML schema &amp; work with XML doc instances.  If you have very complex queries using SQL set-based logic with multiple joins and strong use of DB indexes, this would be less desirable. \r\n\r\n(2) would probably give the best improvement for limited effort.  \r\nAdditionally: \r\n - try to unzip the data files during deployment rather than during app usage.\r\n - initialize the EMF in a startup thread that runs in parallel to the UI startup - try to start the DB initializing as one of the very first steps of the app (that means connecting to the actual instance using JDBC).\r\n\r\n\r\n","title":"Hibernate faster EntityManagerFactory creation","body":"<blockquote>\n  <p><em>Can I turn off some EntityManagerFactory features to get an instance faster?</em></p>\n</blockquote>\n\n<p>Don't believe so.  EMFs don't really have too many features, other than initializing a JDBC connection/pool.</p>\n\n<blockquote>\n  <p><em>Or is it possible to create some of the EntityManagerFactory lazily to\n  speed up cration?</em></p>\n</blockquote>\n\n<p>Rather than creating the EMF lazily, when the user will notice the performance hit, I suggest you should head in the opposite direction - create the EMF proactively before the user actually needs it.  Create it once, up-front, possibly in a separate thread during application initialisation (or at least as soon as you know about your database).  Reuse it throughout the existence of your application/database.</p>\n\n<blockquote>\n  <p><em>Can I somehow create the EntityManagerFactory object before knowing the database url?</em></p>\n</blockquote>\n\n<p>No - it creates a JDBC connection.</p>\n\n<p>I think a better question is:  why does your application <em>dynamically</em> discover database connection URLs?  Are you saying your databases are created/made available on-the-fly and there's no way to anticipate in advance the connection parameters.  That really is to be avoided.</p>\n\n<blockquote>\n  <p><em>By doing so, can I pool EntityManagerFactorys for later use?</em></p>\n</blockquote>\n\n<p>No, you can't pool EMFs.  It's the connections that you can pool.</p>\n\n<blockquote>\n  <p><em>Any other idea how to create the EntityManagerFactory faster?</em></p>\n</blockquote>\n\n<p>I agree - 6 seconds is too slow for initialisation of EMFs.  </p>\n\n<p>I suspect it's more to do with your selected database technology than JPA/JDBC/JVM.  My guess is that maybe your database is initialising itself as you connect.  Are you using Access?  What DB are you using?  </p>\n\n<p>Are you connecting to a database remotely located?  Over a WAN? Is network speed/latency good?</p>\n\n<p>Are the client PCs limited in performance?</p>\n\n<p><strong>EDIT: Added after comments</strong></p>\n\n<p>Implementing your own ConnectionProvider as a decorator around a real ConnectionProvider will not speed up the user's experience at all.  The database instance still needs to be initialised, the EMF &amp; EM created and the JDBC connection still needs to be subsequently established.</p>\n\n<p>Options: </p>\n\n<ol>\n<li>Share a common preloaded DB instance: seems not possible for your business scenario (although JSE technology supports this and also supports client-server design).  </li>\n<li>Change to a DB with a faster startup: Derby (a.k.a. Java DB) is included in modern JVMs and has a startup time of about 1.5 seconds (cold) and 0.7 seconds (warm - data pre-loaded). </li>\n<li>In many (most?) scenarios, the fastest solution would be to load data directly into in-memory java objects using JAXB with STAX.  Subsequently, use in-memory cached data (particularly using smart structures like maps, hashing and arraylists).  Just as JPA can map POJO classes to database tables &amp; columns, so JAXB can map POJO classes to XML schema &amp; work with XML doc instances.  If you have very complex queries using SQL set-based logic with multiple joins and strong use of DB indexes, this would be less desirable. </li>\n</ol>\n\n<p>(2) would probably give the best improvement for limited effort.<br>\nAdditionally: \n - try to unzip the data files during deployment rather than during app usage.\n - initialize the EMF in a startup thread that runs in parallel to the UI startup - try to start the DB initializing as one of the very first steps of the app (that means connecting to the actual instance using JDBC).</p>\n"}],"owner":{"account_id":323163,"reputation":2243,"user_id":643011,"accept_rate":75,"display_name":"user643011"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6710,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"accepted_answer_id":15392862,"answer_count":2,"score":26,"last_activity_date":1679332225,"creation_date":1361585480,"question_id":15036233,"body_markdown":"In my desktop application new databases get opened quite often. I use `Hibernate`/`JPA` as an ORM.\r\nThe problem is, creating the `EntityManagerFactory` is quite slow, taking about 5-6 Seconds on a fast machine. I know that the `EntityManagerFactory` is supposed to be heavyweight but this is just too slow for a desktop application where the user expects the new database to be opened quickly.\r\n\r\n 1. Can I turn off some EntityManagerFactory features to get an instance\r\n        faster? Or is it possible to create some of the EntityManagerFactory lazily to speed up creation?\r\n\r\n 2. Can I somehow create the EntityManagerFactory object before\r\n        knowing the database url? I would be happy to turn off all\r\n        validation for this to be possible.\r\n\r\n 3. By doing so, can I pool EntityManagerFactorys for later use?\r\n\r\n 4. Any other idea how to create the EntityManagerFactory faster?\r\n\r\n**Update with more Information and JProfiler profiling**\r\n\r\nThe desktop application can open saved files. Our application document file format consists of 1 SQLite database + and some binary data in a ZIP file. When opening a document, the ZIP gets extracted and the db is opened with Hibernate. The databases all have the same schema, but different data obviously.\r\n\r\nIt seems that the first time I open a file it takes significantly longer than the following times.\r\nI profiled the first and second run with JProfiler and compared the results.\r\n\r\n1st Run:\r\n\r\n    create EMF: 4385ms\r\n        build EMF: 3090ms\r\n        EJB3Configuration configure: 900ms\r\n        EJB3Configuration &lt;clinit&gt;: 380ms\r\n\r\n![calltree1.png](https://www.dropbox.com/s/z1edviqmw3bz2h9/calltree1.PNG?dl=1).\r\n\r\n2nd Run:\r\n\r\n    create EMF: 1275ms\r\n        build EMF: 970ms\r\n        EJB3Configuration configure: 305ms\r\n        EJB3Configuration &lt;clinit&gt;: not visible, probably 0ms\r\n\r\n![compare_calltree.png](https://www.dropbox.com/s/3rlt8pde4r87b93/compare_calltree.PNG?dl=1).\r\n\r\nIn the Call tree comparison you can see that some methods are significantly faster (DatabaseManager.&lt;init&gt; as starting point):\r\n\r\n    create EMF: -3120ms\r\n        Hibernate create EMF: -3110ms\r\n            EJB3Configuration configure: -595ms\r\n            EJB3Configuration &lt;clinit&gt;: -380ms\r\n            build EMF: -2120ms\r\n                buildSessionFactory: -1945ms\r\n                    secondPassCompile: -425ms\r\n                    buildSettings: -346ms\r\n                    SessionFactoryImpl.&lt;init&gt;: -1040ms\r\n\r\nThe Hot spot comparison now has the interesting results:\r\n\r\n![screenshot compare_hotspot.png](https://www.dropbox.com/s/y24tpwgm6pq99a7/compare_hotspot.PNG?dl=1).\r\n\r\n    ClassLoader.loadClass: -1686ms\r\n    XMLSchemaFactory.newSchema: -184ms\r\n    ClassFile.&lt;init&gt;: -109ms\r\n\r\nI am not sure if it is the loading of Hibernate classes or my Entity classes.\r\n\r\nA first improvement would be to create an EMF as soon as the application starts just to initialize all necessary classes (I have an empty db file as a prototype already shipped with my Application). @sharakan thank you for your answer, maybe a DeferredConnectionProvider would already be a solution for this problem.\r\n\r\nI will try the DeferredConnectionProvider next! But we might be able to speed it up even further. Do you have any more suggestions? ","title":"Hibernate faster EntityManagerFactory creation","body":"<p>In my desktop application new databases get opened quite often. I use <code>Hibernate</code>/<code>JPA</code> as an ORM.\nThe problem is, creating the <code>EntityManagerFactory</code> is quite slow, taking about 5-6 Seconds on a fast machine. I know that the <code>EntityManagerFactory</code> is supposed to be heavyweight but this is just too slow for a desktop application where the user expects the new database to be opened quickly.</p>\n<ol>\n<li><p>Can I turn off some EntityManagerFactory features to get an instance\nfaster? Or is it possible to create some of the EntityManagerFactory lazily to speed up creation?</p>\n</li>\n<li><p>Can I somehow create the EntityManagerFactory object before\nknowing the database url? I would be happy to turn off all\nvalidation for this to be possible.</p>\n</li>\n<li><p>By doing so, can I pool EntityManagerFactorys for later use?</p>\n</li>\n<li><p>Any other idea how to create the EntityManagerFactory faster?</p>\n</li>\n</ol>\n<p><strong>Update with more Information and JProfiler profiling</strong></p>\n<p>The desktop application can open saved files. Our application document file format consists of 1 SQLite database + and some binary data in a ZIP file. When opening a document, the ZIP gets extracted and the db is opened with Hibernate. The databases all have the same schema, but different data obviously.</p>\n<p>It seems that the first time I open a file it takes significantly longer than the following times.\nI profiled the first and second run with JProfiler and compared the results.</p>\n<p>1st Run:</p>\n<pre><code>create EMF: 4385ms\n    build EMF: 3090ms\n    EJB3Configuration configure: 900ms\n    EJB3Configuration &lt;clinit&gt;: 380ms\n</code></pre>\n<p><img src=\"https://www.dropbox.com/s/z1edviqmw3bz2h9/calltree1.PNG?dl=1\" alt=\"calltree1.png\" />.</p>\n<p>2nd Run:</p>\n<pre><code>create EMF: 1275ms\n    build EMF: 970ms\n    EJB3Configuration configure: 305ms\n    EJB3Configuration &lt;clinit&gt;: not visible, probably 0ms\n</code></pre>\n<p><img src=\"https://www.dropbox.com/s/3rlt8pde4r87b93/compare_calltree.PNG?dl=1\" alt=\"compare_calltree.png\" />.</p>\n<p>In the Call tree comparison you can see that some methods are significantly faster (DatabaseManager. as starting point):</p>\n<pre><code>create EMF: -3120ms\n    Hibernate create EMF: -3110ms\n        EJB3Configuration configure: -595ms\n        EJB3Configuration &lt;clinit&gt;: -380ms\n        build EMF: -2120ms\n            buildSessionFactory: -1945ms\n                secondPassCompile: -425ms\n                buildSettings: -346ms\n                SessionFactoryImpl.&lt;init&gt;: -1040ms\n</code></pre>\n<p>The Hot spot comparison now has the interesting results:</p>\n<p><img src=\"https://www.dropbox.com/s/y24tpwgm6pq99a7/compare_hotspot.PNG?dl=1\" alt=\"screenshot compare_hotspot.png\" />.</p>\n<pre><code>ClassLoader.loadClass: -1686ms\nXMLSchemaFactory.newSchema: -184ms\nClassFile.&lt;init&gt;: -109ms\n</code></pre>\n<p>I am not sure if it is the loading of Hibernate classes or my Entity classes.</p>\n<p>A first improvement would be to create an EMF as soon as the application starts just to initialize all necessary classes (I have an empty db file as a prototype already shipped with my Application). @sharakan thank you for your answer, maybe a DeferredConnectionProvider would already be a solution for this problem.</p>\n<p>I will try the DeferredConnectionProvider next! But we might be able to speed it up even further. Do you have any more suggestions?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1679329714,"post_id":75792864,"comment_id":133698444,"body_markdown":"try native query with option true","body":"try native query with option true"},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1679330598,"post_id":75792864,"comment_id":133698685,"body_markdown":"Can you provide more details? What&#39;s the entire block snippet that calls `findById`? How do you treat the result `ThingType` object?","body":"Can you provide more details? What&#39;s the entire block snippet that calls <code>findById</code>? How do you treat the result <code>ThingType</code> object?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1679330751,"post_id":75792864,"comment_id":133698724,"body_markdown":"`FetchType.EAGER` places a requirement on the persistence provider, but `FetchType.LAZY` is only a hint.  The conditions, if any, under which a persistence provider will avoid fetching a lazy relationship before it is accessed are specific to the persistence provider.","body":"<code>FetchType.EAGER</code> places a requirement on the persistence provider, but <code>FetchType.LAZY</code> is only a hint.  The conditions, if any, under which a persistence provider will avoid fetching a lazy relationship before it is accessed are specific to the persistence provider."},{"owner":{"account_id":10908524,"reputation":108,"user_id":8018614,"display_name":"Badhusha"},"score":0,"creation_date":1679332222,"post_id":75792864,"comment_id":133699179,"body_markdown":"@DEV, I tried adding native query to true. Still didn&#39;t help","body":"@DEV, I tried adding native query to true. Still didn&#39;t help"},{"owner":{"account_id":10908524,"reputation":108,"user_id":8018614,"display_name":"Badhusha"},"score":0,"creation_date":1679332522,"post_id":75792864,"comment_id":133699254,"body_markdown":"@JohnBollinger, are you saying that Spring Data JPA will behave like this ?","body":"@JohnBollinger, are you saying that Spring Data JPA will behave like this ?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1679332813,"post_id":75792864,"comment_id":133699338,"body_markdown":"I don&#39;t think Spring provides its own JPA persistence provider, so I think I&#39;m saying that the behavior is outside of Spring&#39;s direct control.  More directly, I&#39;m saying that there is no combination of annotations that can *ensure* that the queries actually hitting your database are of the form you say you want.  Even if you found one that worked for you, it might stop working in the future when you change some component of the system.  So if you need that behavior, you should rely on something else, such as a native query.","body":"I don&#39;t think Spring provides its own JPA persistence provider, so I think I&#39;m saying that the behavior is outside of Spring&#39;s direct control.  More directly, I&#39;m saying that there is no combination of annotations that can <i>ensure</i> that the queries actually hitting your database are of the form you say you want.  Even if you found one that worked for you, it might stop working in the future when you change some component of the system.  So if you need that behavior, you should rely on something else, such as a native query."},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1679333112,"post_id":75792864,"comment_id":133699416,"body_markdown":"@Badhusha what&#39;s the exact query that you get and what do you expect as alternative?","body":"@Badhusha what&#39;s the exact query that you get and what do you expect as alternative?"}],"owner":{"account_id":10908524,"reputation":108,"user_id":8018614,"display_name":"Badhusha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679332134,"creation_date":1679329522,"question_id":75792864,"body_markdown":"I have an spring-boot application which has entities with @OneToMany association.\r\n\r\n**ThingType.java**\r\n\r\n    @Entity\r\n    public class ThingType {\r\n     @Id\r\n     private String thingTypeId;\r\n     \r\n     @OneToMany(orphanRemoval=true,mappedBy=&quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\r\n     private List&lt;Thing&gt; things;\r\n    }\r\n\r\n**Thing.java**\r\n\r\n    @Entity\r\n    public class Thing {\r\n     @Id\r\n     private String thingId;\r\n\r\n     @ManyToOne(fetch = FetchType.LAZY,optional = false)\r\n     @JoinColumn(name = &quot;thingType&quot;,nullable = false)\r\n     @JsonIgnore\r\n     private ThingType thingType;\r\n    }\r\n\r\n**ThingTypeRepository.java**\r\n\r\n    @Repository\r\n    public interface ThingTypeRepository {\r\n     @Override\r\n     Optional&lt;ThingType&gt; findById(String s);\r\n\r\n     @Query(&quot;select t from ThingType t where t.thingTypeId = ?1&quot;)\r\n     Optional&lt;ThingType&gt; findThingTypeById(@NonNull String thingTypeId);\r\n    }\r\n\r\nInitially I was using the **findById** method to get a single **ThingType**. It was executing a join between the tables, instead of a simple select query.\r\n\r\nAfter referring to this [question][1] I added *option=false* to **@ManyToOne** annotation &amp; *nullable=false* to **@JoinColumn** in the **Thing.java**. Though It was still executing the join query.\r\nLater I wrote one method with **@Query** annotation, still it is executing the join query.\r\n\r\nWhat might be the solution for this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43949099/spring-data-jpa-unnecessary-left-join\r\n\r\n**Updated Question**\r\n\r\n**ThingTypeController.java**\r\n\r\n    @Autowired\r\n    private ThingTypeService thingTypeService;\r\n\r\n    @RestController\r\n    public class ThingController{\r\n     @GetMapping(&quot;/{id}&quot;)\r\n     public ResponseEntity&lt;Object&gt; getThing(@PathVariable(&quot;id&quot;) id){\r\n      ThingType thingType = thingTypeService.getThingType(thingTypeId);\r\n      return ResponseEntity.status(HttpStatus.OK).body(thingType);\r\n     }\r\n    }\r\n\r\n**ThingTypeService.java**\r\n\r\n    @Service\r\n    public class ThingService{\r\n     @Autowired\r\n     private ThingTypeRepository thingTypeRepository;\r\n\r\n     public ThingType getThingType(String thingTypeId) {\r\n        ThingType thingType = thingTypeRepository.findThingTypeById(thingTypeId).orElse(null);\r\n        if(thingType == null){\r\n            throw new ResultNotFoundException();\r\n        }\r\n        return thingType;\r\n     }\r\n    }","title":"Unnecessary Join Queries in Spring Data JPA : PostgreSQL","body":"<p>I have an spring-boot application which has entities with @OneToMany association.</p>\n<p><strong>ThingType.java</strong></p>\n<pre><code>@Entity\npublic class ThingType {\n @Id\n private String thingTypeId;\n \n @OneToMany(orphanRemoval=true,mappedBy=&quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\n private List&lt;Thing&gt; things;\n}\n</code></pre>\n<p><strong>Thing.java</strong></p>\n<pre><code>@Entity\npublic class Thing {\n @Id\n private String thingId;\n\n @ManyToOne(fetch = FetchType.LAZY,optional = false)\n @JoinColumn(name = &quot;thingType&quot;,nullable = false)\n @JsonIgnore\n private ThingType thingType;\n}\n</code></pre>\n<p><strong>ThingTypeRepository.java</strong></p>\n<pre><code>@Repository\npublic interface ThingTypeRepository {\n @Override\n Optional&lt;ThingType&gt; findById(String s);\n\n @Query(&quot;select t from ThingType t where t.thingTypeId = ?1&quot;)\n Optional&lt;ThingType&gt; findThingTypeById(@NonNull String thingTypeId);\n}\n</code></pre>\n<p>Initially I was using the <strong>findById</strong> method to get a single <strong>ThingType</strong>. It was executing a join between the tables, instead of a simple select query.</p>\n<p>After referring to this <a href=\"https://stackoverflow.com/questions/43949099/spring-data-jpa-unnecessary-left-join\">question</a> I added <em>option=false</em> to <strong>@ManyToOne</strong> annotation &amp; <em>nullable=false</em> to <strong>@JoinColumn</strong> in the <strong>Thing.java</strong>. Though It was still executing the join query.\nLater I wrote one method with <strong>@Query</strong> annotation, still it is executing the join query.</p>\n<p>What might be the solution for this.</p>\n<p><strong>Updated Question</strong></p>\n<p><strong>ThingTypeController.java</strong></p>\n<pre><code>@Autowired\nprivate ThingTypeService thingTypeService;\n\n@RestController\npublic class ThingController{\n @GetMapping(&quot;/{id}&quot;)\n public ResponseEntity&lt;Object&gt; getThing(@PathVariable(&quot;id&quot;) id){\n  ThingType thingType = thingTypeService.getThingType(thingTypeId);\n  return ResponseEntity.status(HttpStatus.OK).body(thingType);\n }\n}\n</code></pre>\n<p><strong>ThingTypeService.java</strong></p>\n<pre><code>@Service\npublic class ThingService{\n @Autowired\n private ThingTypeRepository thingTypeRepository;\n\n public ThingType getThingType(String thingTypeId) {\n    ThingType thingType = thingTypeRepository.findThingTypeById(thingTypeId).orElse(null);\n    if(thingType == null){\n        throw new ResultNotFoundException();\n    }\n    return thingType;\n }\n}\n</code></pre>\n"},{"tags":["java","file","download","google-chrome-headless","serenity"],"owner":{"account_id":27114486,"reputation":3,"user_id":20659089,"display_name":"Santa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679332098,"creation_date":1679332098,"question_id":75793278,"body_markdown":"In serenity Framework how to give download path in project file instead of local download  and to run in head less mode \r\n \r\nUsing chrome.switch or Chrome_preferences in serenity.conf \r\n\r\n\r\n\r\nIn serenity Framework usingjava selenium how to give download path in project file instead of local download  and to run in head less mode \r\n \r\nUsing chrome.switch or Chrome_preferences in serenity.conf \r\n\r\n\r\n\r\nTried :\r\n\r\n$(documentsDownloadLink).click();\r\n\r\nchrome_preferences.download.default_directory &quot;src/test/java/testdata/excel/downloads&quot; \r\n\r\nBut downloaded in Local My Downloads \r\nI wanted to download it in this path  \r\n\r\n&quot;src/test/java/testdata/excel/downloads&quot; \r\n\r\n\r\n\r\nWhat to do in Conf file to download  a file in our own path.\r\n","title":"In serenity Framework with Java selenium how to give download path in project file instead of local download and to run in head less mode","body":"<p>In serenity Framework how to give download path in project file instead of local download  and to run in head less mode</p>\n<p>Using chrome.switch or Chrome_preferences in serenity.conf</p>\n<p>In serenity Framework usingjava selenium how to give download path in project file instead of local download  and to run in head less mode</p>\n<p>Using chrome.switch or Chrome_preferences in serenity.conf</p>\n<p>Tried :</p>\n<p>$(documentsDownloadLink).click();</p>\n<p>chrome_preferences.download.default_directory &quot;src/test/java/testdata/excel/downloads&quot;</p>\n<p>But downloaded in Local My Downloads\nI wanted to download it in this path</p>\n<p>&quot;src/test/java/testdata/excel/downloads&quot;</p>\n<p>What to do in Conf file to download  a file in our own path.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1334781747,"post_id":10217489,"comment_id":13124363,"body_markdown":"This is a Java question that really has nothing to do with Android specifically.","body":"This is a Java question that really has nothing to do with Android specifically."},{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":0,"creation_date":1334782312,"post_id":10217489,"comment_id":13124582,"body_markdown":"I understand the interest in this question, but for any real-world purpose, I&#39;d strongly suggest to profile code before optimizing it.","body":"I understand the interest in this question, but for any real-world purpose, I&#39;d strongly suggest to profile code before optimizing it."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1334784020,"post_id":10217489,"comment_id":13125238,"body_markdown":"@PhilippReichart - It makes perfect sense to ask whether one coding style has an inherent performance advantage over another. Also, profiling has its limits. If you&#39;re coding for Android, your code is likely to run on a wide variety of platforms, some of which might have a JIT compiler, some of which will not, and some of which do not even exist yet.","body":"@PhilippReichart - It makes perfect sense to ask whether one coding style has an inherent performance advantage over another. Also, profiling has its limits. If you&#39;re coding for Android, your code is likely to run on a wide variety of platforms, some of which might have a JIT compiler, some of which will not, and some of which do not even exist yet."},{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":0,"creation_date":1334784209,"post_id":10217489,"comment_id":13125308,"body_markdown":"@TedHopp I agree. I just want to caution people not to prematurely optimize, which usually is worse than loosing a cycle here or there.","body":"@TedHopp I agree. I just want to caution people not to prematurely optimize, which usually is worse than loosing a cycle here or there."}],"answers":[{"comments":[{"owner":{"account_id":5469552,"reputation":241,"user_id":4349300,"display_name":"Justin Case"},"score":1,"creation_date":1464775995,"post_id":10217534,"comment_id":62618538,"body_markdown":"&quot;Android docs&quot; is a broken link. Here is the new one: https://developer.android.com/training/articles/perf-tips.html#Loops. It adds a small correction to what Ted said about fastest loop - its not the fastest for devices without JIT (&quot;foreach&quot; is the fastest, and &quot;foreach&quot; is indistinguishable from &quot;Ted&#39;s fastes loop&quot; on devices with JIT).","body":"&quot;Android docs&quot; is a broken link. Here is the new one: <a href=\"https://developer.android.com/training/articles/perf-tips.html#Loops\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/perf-tips.html#Loops</a>&zwnj;&#8203;. It adds a small correction to what Ted said about fastest loop - its not the fastest for devices without JIT (&quot;foreach&quot; is the fastest, and &quot;foreach&quot; is indistinguishable from &quot;Ted&#39;s fastes loop&quot; on devices with JIT)."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1464799008,"post_id":10217534,"comment_id":62635767,"body_markdown":"@JustinCase - Thanks for tracking down the new location (and the new info). I&#39;ve update the link in the answer itself.","body":"@JustinCase - Thanks for tracking down the new location (and the new info). I&#39;ve update the link in the answer itself."},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1679323133,"post_id":10217534,"comment_id":133696427,"body_markdown":"The &quot;new&quot; link is broken... List.size() just gets a cached value. It&#39;s stupid to cache it again. I don&#39;t think any serious documentary has ever said otherwise, because it has never been otherwise.","body":"The &quot;new&quot; link is broken... List.size() just gets a cached value. It&#39;s stupid to cache it again. I don&#39;t think any serious documentary has ever said otherwise, because it has never been otherwise."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1679332079,"post_id":10217534,"comment_id":133699135,"body_markdown":"@TheincredibleJan - I changed the link to an archived version at the Wayback Machine (archive.org). That will probably be a bit more stable &#128512;. As to `List.size()` - yes, it retrieves a cached value, but caching it in a local variable eliminates a function call and allows other local optimizations.","body":"@TheincredibleJan - I changed the link to an archived version at the Wayback Machine (archive.org). That will probably be a bit more stable . As to <code>List.size()</code> - yes, it retrieves a cached value, but caching it in a local variable eliminates a function call and allows other local optimizations."}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":4,"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1679331723,"creation_date":1334781322,"answer_id":10217534,"question_id":10217489,"body_markdown":"In the first example, `map.values()` will be evaluated once. According to the [Section 14.4.2 of the Java Language Specification][1], it is equivalent to:\r\n\r\n    for (Iterator&lt;Object&gt; i = map.values().iterator(); i.hasNext(); ) {\r\n        Object object = i.next();\r\n        // do something with object\r\n    }\r\n\r\nIn the second, `aList.size()` will be called every time the test is evaluated. For readability, it would be better to code it as:\r\n\r\n    for (Object object : aList) {\r\n        // do something with object\r\n    }\r\n\r\nHowever, per the Android docs (on a page no longer available that I could find, but [archived here][2]) this will be slower. Assuming that you aren&#39;t changing the list size inside the loop, &lt;strike&gt;the fastest&lt;/strike&gt; another way would be to pull out the list size ahead of the loop:\r\n\r\n    final int size = aList.size();\r\n    for (int i = 0; i &lt; size; i++)\r\n    {\r\n        object = aList.get(i);\r\n        //do something with i\r\n    }\r\n\r\nThis will be substantially faster (the Android docs linked to above say by a factor of 3) if `aList` happens to be an `ArrayList`, but is likely to be slower (possibly by a lot) for a `LinkedList`. It all depends on exactly what kind of `List` implementation class `aList` is.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\r\n  [2]: https://web.archive.org/web/20210224091125/https://developer.android.com/training/articles/perf-tips","title":"methods in foreach and for loops in java","body":"<p>In the first example, <code>map.values()</code> will be evaluated once. According to the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\" rel=\"nofollow noreferrer\">Section 14.4.2 of the Java Language Specification</a>, it is equivalent to:</p>\n<pre><code>for (Iterator&lt;Object&gt; i = map.values().iterator(); i.hasNext(); ) {\n    Object object = i.next();\n    // do something with object\n}\n</code></pre>\n<p>In the second, <code>aList.size()</code> will be called every time the test is evaluated. For readability, it would be better to code it as:</p>\n<pre><code>for (Object object : aList) {\n    // do something with object\n}\n</code></pre>\n<p>However, per the Android docs (on a page no longer available that I could find, but <a href=\"https://web.archive.org/web/20210224091125/https://developer.android.com/training/articles/perf-tips\" rel=\"nofollow noreferrer\">archived here</a>) this will be slower. Assuming that you aren't changing the list size inside the loop, <strike>the fastest</strike> another way would be to pull out the list size ahead of the loop:</p>\n<pre><code>final int size = aList.size();\nfor (int i = 0; i &lt; size; i++)\n{\n    object = aList.get(i);\n    //do something with i\n}\n</code></pre>\n<p>This will be substantially faster (the Android docs linked to above say by a factor of 3) if <code>aList</code> happens to be an <code>ArrayList</code>, but is likely to be slower (possibly by a lot) for a <code>LinkedList</code>. It all depends on exactly what kind of <code>List</code> implementation class <code>aList</code> is.</p>\n"}],"owner":{"account_id":395232,"reputation":7759,"user_id":758074,"accept_rate":89,"display_name":"Kevin Westwood"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92718,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":10217534,"answer_count":1,"score":29,"last_activity_date":1679331723,"creation_date":1334781147,"question_id":10217489,"body_markdown":"My question is regarding optimization in java using the Android compiler.  Will map.values() in the following be called every iteration, or will the Android compiler optimize it out.\r\n\r\n    LinkedHashMap&lt;String, Object&gt; map;\r\n\r\n    for (Object object : map.values())\r\n    {\r\n       //do something with object\r\n    }\r\n\r\nLikewise here is another example.  will aList.size() be called every iteration?\r\n\r\n    List&lt;Object&gt; aList;\r\n\r\n    for (int i = 0; i &lt; aList.size(); i++)\r\n    {\r\n        object = aList.get(i);\r\n        //do something with i\r\n    }\r\n\r\nAnd after all this, does it really matter if it calls the methods every iteration?  Does Map.values(), and List.size() do much of anything?","title":"methods in foreach and for loops in java","body":"<p>My question is regarding optimization in java using the Android compiler.  Will map.values() in the following be called every iteration, or will the Android compiler optimize it out.</p>\n\n<pre><code>LinkedHashMap&lt;String, Object&gt; map;\n\nfor (Object object : map.values())\n{\n   //do something with object\n}\n</code></pre>\n\n<p>Likewise here is another example.  will aList.size() be called every iteration?</p>\n\n<pre><code>List&lt;Object&gt; aList;\n\nfor (int i = 0; i &lt; aList.size(); i++)\n{\n    object = aList.get(i);\n    //do something with i\n}\n</code></pre>\n\n<p>And after all this, does it really matter if it calls the methods every iteration?  Does Map.values(), and List.size() do much of anything?</p>\n"},{"tags":["java","kotlin","visual-studio-code","gradle"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1679333492,"post_id":75793208,"comment_id":133699555,"body_markdown":"this could be caused by something as simple as missing the `@JvmStatic` annotation in the Kotlin object. Can&#39;t tell without seeing the code though. Also, if you think that your issue might be caused by VSCode, did you try another dev environment? IntelliJ would be a good start, if not to switch to it, to at least confirm that the issue is caused by the IDE and not by the code.","body":"this could be caused by something as simple as missing the <code>@JvmStatic</code> annotation in the Kotlin object. Can&#39;t tell without seeing the code though. Also, if you think that your issue might be caused by VSCode, did you try another dev environment? IntelliJ would be a good start, if not to switch to it, to at least confirm that the issue is caused by the IDE and not by the code."},{"owner":{"account_id":14570649,"reputation":513,"user_id":10524046,"display_name":"Henrik VT"},"score":0,"creation_date":1679336670,"post_id":75793208,"comment_id":133700370,"body_markdown":"I do have IntelliJ and it does work there. However, IntelliJ is a heavy piece of software and is not feasible for many of us to install.","body":"I do have IntelliJ and it does work there. However, IntelliJ is a heavy piece of software and is not feasible for many of us to install."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1679387342,"post_id":75793208,"comment_id":133708082,"body_markdown":"Whether to install the extension [Kotlin Language](https://marketplace.visualstudio.com/items?itemName=mathiasfrohlich.Kotlin) / \n[Kotlin](https://marketplace.visualstudio.com/items?itemName=fwcd.kotlin)","body":"Whether to install the extension <a href=\"https://marketplace.visualstudio.com/items?itemName=mathiasfrohlich.Kotlin\" rel=\"nofollow noreferrer\">Kotlin Language</a> /  <a href=\"https://marketplace.visualstudio.com/items?itemName=fwcd.kotlin\" rel=\"nofollow noreferrer\">Kotlin</a>"},{"owner":{"account_id":14570649,"reputation":513,"user_id":10524046,"display_name":"Henrik VT"},"score":0,"creation_date":1679434142,"post_id":75793208,"comment_id":133721262,"body_markdown":"I have both of those installed.","body":"I have both of those installed."}],"owner":{"account_id":14570649,"reputation":513,"user_id":10524046,"display_name":"Henrik VT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679331651,"creation_date":1679331651,"question_id":75793208,"body_markdown":"I have a Java project which is built using Gradle. Recently, I decided to start using Kotlin for certain aspects, like rewriting Java Singleton classes using the Kotlin `object` keyword.  \r\nHowever, we use VSCode with the Java extension pack as our IDE. While **Gradle builds successfully**, we get errors in our java files saying that the import cannot be resolved and/or the the type cannot be resolved.  \r\nI&#39;ve found an [issue that addresses this][1], but it&#39;s been open since 2018 and there isn&#39;t a clear fix.  \r\nCan anyone recommend a fix that works for them?\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/issues/531#issuecomment-579416374","title":"Kotlin interop with Java in VSCode; Imports cannot be resolved","body":"<p>I have a Java project which is built using Gradle. Recently, I decided to start using Kotlin for certain aspects, like rewriting Java Singleton classes using the Kotlin <code>object</code> keyword.<br />\nHowever, we use VSCode with the Java extension pack as our IDE. While <strong>Gradle builds successfully</strong>, we get errors in our java files saying that the import cannot be resolved and/or the the type cannot be resolved.<br />\nI've found an <a href=\"https://github.com/redhat-developer/vscode-java/issues/531#issuecomment-579416374\" rel=\"nofollow noreferrer\">issue that addresses this</a>, but it's been open since 2018 and there isn't a clear fix.<br />\nCan anyone recommend a fix that works for them?</p>\n"},{"tags":["python","java","bash"],"comments":[{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1679065948,"post_id":75769145,"comment_id":133659518,"body_markdown":"`echo $RESULT` is inherently buggy -- see [I just assigned a variable, but `echo $variable` shows something different](https://stackoverflow.com/questions/29378566/i-just-assigned-a-variable-but-echo-variable-shows-something-else)","body":"<code>echo $RESULT</code> is inherently buggy -- see <a href=\"https://stackoverflow.com/questions/29378566/i-just-assigned-a-variable-but-echo-variable-shows-something-else\">I just assigned a variable, but <code>echo $variable</code> shows something different</a>"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1679066007,"post_id":75769145,"comment_id":133659540,"body_markdown":"(Also, if your call log numbers can possibly be anything other than strictly numeric, you&#39;ve got security problems here -- always escape strings before substituting them into places a shell will parse as code)","body":"(Also, if your call log numbers can possibly be anything other than strictly numeric, you&#39;ve got security problems here -- always escape strings before substituting them into places a shell will parse as code)"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1679066176,"post_id":75769145,"comment_id":133659588,"body_markdown":"Anyhow -- if I&#39;m reading this right, it looks like you&#39;re getting the channel&#39;s stdin, but you want its stdout. (Also, be mindful of stderr, though if the program you&#39;re calling is well-written it&#39;ll be diagnostics, logs, and other non-output content there). Anyhow -- by my read, `setExtOutputStream` determines where stderr will go, whereas `setOutputStream` determines where stdout will go; you care about both of those.","body":"Anyhow -- if I&#39;m reading this right, it looks like you&#39;re getting the channel&#39;s stdin, but you want its stdout. (Also, be mindful of stderr, though if the program you&#39;re calling is well-written it&#39;ll be diagnostics, logs, and other non-output content there). Anyhow -- by my read, <code>setExtOutputStream</code> determines where stderr will go, whereas <code>setOutputStream</code> determines where stdout will go; you care about both of those."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1679066290,"post_id":75769145,"comment_id":133659623,"body_markdown":"(also, `$1` needs to be `&quot;$1&quot;` if you don&#39;t want the shell to split it into words on characters in IFS -- whitespace by default -- and then expand each of those words as a glob; it&#39;s deeply undesirable as default behavior, but that&#39;s what following 1970s-era standards gets you, and it&#39;s arguably better than _not_ following 1970s standards -- at which point you end up with zsh, where anyone who uses it too much writes code that&#39;s wildly buggy when targeting any other shell).","body":"(also, <code>$1</code> needs to be <code>&quot;$1&quot;</code> if you don&#39;t want the shell to split it into words on characters in IFS -- whitespace by default -- and then expand each of those words as a glob; it&#39;s deeply undesirable as default behavior, but that&#39;s what following 1970s-era standards gets you, and it&#39;s arguably better than <i>not</i> following 1970s standards -- at which point you end up with zsh, where anyone who uses it too much writes code that&#39;s wildly buggy when targeting any other shell)."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1679066400,"post_id":75769145,"comment_id":133659660,"body_markdown":"Anyhow -- to _unambiguously_ print the value of your variable in bash, use `declare -p result`, or `printf &#39;RESULT=%q\\n&#39; &quot;$RESULT&quot;`","body":"Anyhow -- to <i>unambiguously</i> print the value of your variable in bash, use <code>declare -p result</code>, or <code>printf &#39;RESULT=%q\\n&#39; &quot;$RESULT&quot;</code>"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1679066668,"post_id":75769145,"comment_id":133659744,"body_markdown":"(also, think about using `set -x` when running your example transcript so we know which output corresponds with which command, which content is/isn&#39;t part of the prompt, etc; it&#39;s not clear to me right now how to interpret the newline before the `echo` command, for example -- you _could_ have typed it manually as a separator, it _could_ be content returned on stderr that evaded the capture, it _could_ be something else; don&#39;t make us guess).","body":"(also, think about using <code>set -x</code> when running your example transcript so we know which output corresponds with which command, which content is/isn&#39;t part of the prompt, etc; it&#39;s not clear to me right now how to interpret the newline before the <code>echo</code> command, for example -- you <i>could</i> have typed it manually as a separator, it <i>could</i> be content returned on stderr that evaded the capture, it <i>could</i> be something else; don&#39;t make us guess)."},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1679304514,"post_id":75769145,"comment_id":133691005,"body_markdown":"Thx Charles made the changes in the link you gave as regards the variable reference and output of the variable, still no change. Java just &quot;sees&quot; a blank line if the script is run via a BASH instance started from Java, if run straight in BASH on the terminal, it works correctly and prints both the line from Python and the one directly in bash. Java still just sees the bottom line, and a blank line above it - even with the blank line being the result of a printf call.","body":"Thx Charles made the changes in the link you gave as regards the variable reference and output of the variable, still no change. Java just &quot;sees&quot; a blank line if the script is run via a BASH instance started from Java, if run straight in BASH on the terminal, it works correctly and prints both the line from Python and the one directly in bash. Java still just sees the bottom line, and a blank line above it - even with the blank line being the result of a printf call."},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1679304646,"post_id":75769145,"comment_id":133691045,"body_markdown":"I&#39;ve also just tried to write the output I need to a file in BASH, by using &gt; filename.txt but the behaviour is the same - as long as the script is run in BASH, the filename.txt gets created on the filing system, if I run the script via a BASH instance started from Java, filename.txt does not get created.\n\nSomehow BASH behaves radically differently if run from Java as when run &quot;direct&quot; from the terminal, on the same BASH script using proper variable definition and printf to print that variable out.","body":"I&#39;ve also just tried to write the output I need to a file in BASH, by using &gt; filename.txt but the behaviour is the same - as long as the script is run in BASH, the filename.txt gets created on the filing system, if I run the script via a BASH instance started from Java, filename.txt does not get created.  Somehow BASH behaves radically differently if run from Java as when run &quot;direct&quot; from the terminal, on the same BASH script using proper variable definition and printf to print that variable out."}],"answers":[{"comments":[{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1679679429,"post_id":75790408,"comment_id":133770332,"body_markdown":"The `2&gt;&amp;1` lets you get away without `setExtOutputStream`, but it would be better if you _did_ read stderr from java instead of adding code to work around the fact that you don&#39;t.","body":"The <code>2&gt;&amp;1</code> lets you get away without <code>setExtOutputStream</code>, but it would be better if you <i>did</i> read stderr from java instead of adding code to work around the fact that you don&#39;t."}],"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679316205,"creation_date":1679316205,"answer_id":75790408,"question_id":75769145,"body_markdown":"Ok this has been solved.\r\n\r\nMore research revealed the following.\r\n\r\nThe bash script referenced above should call docker like this:\r\n\r\n```\r\nRESULT=&quot;$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -i --rm --name transcribe transcribe python /home/transcribe/transcribe.py &quot;$1&quot;)&quot;\r\n```\r\n\r\ne.g. the parameter\r\n\r\n```\r\n-it\r\n```\r\n\r\nto docker must ONLY be\r\n\r\n```\r\n-i\r\n```\r\n\r\nOtherwise docker tries to spawn a pseudo tty which does not work as I&#39;m calling it non-interactively (as I understand it.)\r\n\r\nI also had to add this to the top of the BASH script calling docker:\r\n\r\n```\r\nexec 2&gt;&amp;1\r\n```\r\n\r\nto unify STDOUT and STDERR to STDOUT only.\r\n\r\nAfter I did those, I suddenly saw the dockerised Python script&#39;s output appear in the Java program in the transcribeLines Java ArrayList as I needed.\r\n\r\nThe complete, correct, and working BASH script to do what I need therefore is:\r\n\r\n```\r\n#!/bin/bash\r\n\r\nexec 2&gt;&amp;1\r\n\r\ndeclare RESULT\r\n\r\nRESULT=&quot;$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -i --rm --name transcribe transcribe python /home/transcribe/transcribe.py &quot;$1&quot;)&quot;\r\n\r\nprintf &#39;%s\\n&#39; &quot;$RESULT&quot;\r\n```\r\n\r\nI then also had to do\r\n\r\nchmod 666 /var/run/docker.sock\r\n\r\nor I would get permission errors (yup, security sucks on that but this is a closed development server only with no user besides me. Will tackle security regarding this, sort out the group memberships, etc. before publishing to our company wide server.)\r\n\r\nThe Java and Python code is unchanged from my original post.\r\n\r\nEverything now works and the output from Python running inside Docker is accessible in Java when calling the above BASH script with valid parameters (the name of an .MP3 file in the correct docker-mounted folder, specified as the docker-mounted directory alias.)\r\n\r\nE. g. I needed to run docker without the &quot;t&quot; parameter, and unify STDOUT and STDERR in the BASH script, and make /var/run/docker.sock world read-writable.\r\n\r\nThanks to Charles Duffy for his comments.\r\n\r\nRegards\r\n\r\nStefan","title":"Difference between echoing static text and echoing a variable for Java JSch exec command","body":"<p>Ok this has been solved.</p>\n<p>More research revealed the following.</p>\n<p>The bash script referenced above should call docker like this:</p>\n<pre><code>RESULT=&quot;$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -i --rm --name transcribe transcribe python /home/transcribe/transcribe.py &quot;$1&quot;)&quot;\n</code></pre>\n<p>e.g. the parameter</p>\n<pre><code>-it\n</code></pre>\n<p>to docker must ONLY be</p>\n<pre><code>-i\n</code></pre>\n<p>Otherwise docker tries to spawn a pseudo tty which does not work as I'm calling it non-interactively (as I understand it.)</p>\n<p>I also had to add this to the top of the BASH script calling docker:</p>\n<pre><code>exec 2&gt;&amp;1\n</code></pre>\n<p>to unify STDOUT and STDERR to STDOUT only.</p>\n<p>After I did those, I suddenly saw the dockerised Python script's output appear in the Java program in the transcribeLines Java ArrayList as I needed.</p>\n<p>The complete, correct, and working BASH script to do what I need therefore is:</p>\n<pre><code>#!/bin/bash\n\nexec 2&gt;&amp;1\n\ndeclare RESULT\n\nRESULT=&quot;$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -i --rm --name transcribe transcribe python /home/transcribe/transcribe.py &quot;$1&quot;)&quot;\n\nprintf '%s\\n' &quot;$RESULT&quot;\n</code></pre>\n<p>I then also had to do</p>\n<p>chmod 666 /var/run/docker.sock</p>\n<p>or I would get permission errors (yup, security sucks on that but this is a closed development server only with no user besides me. Will tackle security regarding this, sort out the group memberships, etc. before publishing to our company wide server.)</p>\n<p>The Java and Python code is unchanged from my original post.</p>\n<p>Everything now works and the output from Python running inside Docker is accessible in Java when calling the above BASH script with valid parameters (the name of an .MP3 file in the correct docker-mounted folder, specified as the docker-mounted directory alias.)</p>\n<p>E. g. I needed to run docker without the &quot;t&quot; parameter, and unify STDOUT and STDERR in the BASH script, and make /var/run/docker.sock world read-writable.</p>\n<p>Thanks to Charles Duffy for his comments.</p>\n<p>Regards</p>\n<p>Stefan</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679331617,"creation_date":1679065397,"question_id":75769145,"body_markdown":"I have this bash script &quot;run_transcribe_py.sh&quot;:\r\n\r\n```\r\nRESULT=$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -it --rm --name transcribe transcribe python /home/transcribe/transcribe.py $1)\r\n\r\necho $RESULT\r\n\r\necho &quot;ABC&quot;\r\n```\r\n\r\nThe Python script run in the docker:\r\n\r\n```\r\nimport sys\r\n\r\ntranscript=&quot;abcdef&quot;\r\n\r\nprint(transcript)\r\n\r\n```\r\n\r\nIf I run the bash script in BASH:\r\n\r\n```\r\n# /bin/bash /usr/src/Projects/docker/transcribe/run_transcribe_py.sh /home/audio/102303160955qhhs5zq.mp3\r\nabcdef\r\nABC\r\n#\r\n```\r\n\r\nHowever, if run via a JSCh exec command from Java:\r\n\r\n```\r\npublic boolean commitTranscription(ArrayList&lt;transcriptionMetaData&gt; pRecordingsInfo) {\r\n        boolean retVal = false;\r\n\r\n        JSch localJsch = null;\r\n        localJsch = new JSch();\r\n\r\n        Session localSession = initJSch(localJsch, AppSettings.getPbxServer(), AppSettings.getPbxUser(), AppSettings.getPbxServerPassword(), AppSettings.getPbxPort());\r\n\r\n        try {\r\n            for (transcriptionMetaData iterateRecData : pRecordingsInfo) {\r\n                ArrayList&lt;String&gt; transcribeLines = new ArrayList&lt;String&gt;();\r\n\r\n                ChannelExec shellChannel = (ChannelExec) localSession.openChannel(&quot;exec&quot;);\r\n\r\n                try ( BufferedReader resultOfTranscription = new BufferedReader(new InputStreamReader(shellChannel.getInputStream()))) {\r\n                    shellChannel.setCommand(&quot;/bin/bash /usr/src/Projects/docker/transcribe/run_transcribe_py.sh /home/audio/&quot;\r\n                            + iterateRecData.getCallLogNo() + &quot;.mp3&quot;);\r\n                    shellChannel.connect((int) TimeUnit.SECONDS.toMillis(10));\r\n\r\n                    String resultLine = null;\r\n\r\n                    while ((resultLine = resultOfTranscription.readLine()) != null) {\r\n                        transcribeLines.add(resultLine);\r\n                    }\r\n\r\n                    iterateRecData.setTranscript(transcribeLines.toString());\r\n\r\n                    if (shellChannel != null) {\r\n                        if (shellChannel.isConnected()) {\r\n                            shellChannel.disconnect();\r\n                        }\r\n\r\n                        shellChannel = null;\r\n                    }\r\n                }\r\n\r\n                transcribeLines = null;\r\n            }\r\n        } catch (JSchException jex) {\r\n            localLogger.error((String) logEntryRefNumLocal.get()\r\n                    + &quot;JSch exception in commitTranscription() method in ExperimentalRecordingsTranscription. JSch exception: &quot; + jex.toString() + &quot;. Contact software support.&quot; + jex.getMessage(), jex);\r\n        } catch (RuntimeException rex) {\r\n            localLogger.error((String) logEntryRefNumLocal.get()\r\n                    + &quot;Runtime exception in commitTranscription() method in ExperimentalRecordingsTranscription. Runtime exception: &quot; + rex.toString() + &quot;. Contact software support.&quot; + rex.getMessage(), rex);\r\n        } catch (Exception ex) {\r\n            localLogger.error((String) logEntryRefNumLocal.get()\r\n                    + &quot;Exception in commitTranscription() method in ExperimentalRecordingsTranscription. Exception: &quot; + ex.toString() + &quot;. Contact software support.&quot; + ex.getMessage(), ex);\r\n        } finally {\r\n            if (localSession != null) {\r\n                if (localSession.isConnected()) {\r\n                    localSession.disconnect();\r\n                }\r\n\r\n                localSession = null;\r\n            }\r\n\r\n            localJsch = null;\r\n        }\r\n\r\n        return retVal;\r\n    }\r\n```\r\n\r\nJava literally sees\r\n\r\n```\r\n# \r\n\r\nABC\r\n#\r\n```\r\n\r\nThe output from the docker Python script (e. g. &quot;abcdef&quot;) is just blank in Java, while, if the script is run from BASH itself, both lines are present.\r\n\r\nWhy is this\r\n```\r\nRESULT=$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -it --rm --name transcribe transcribe python /home/transcribe/transcribe.py $1)\r\n\r\necho $RESULT\r\n```\r\ninvisble to Java only, but shows in BASH in the console, just above &quot;abc&quot;?\r\n\r\nAnybody got any idea?\r\n\r\nThanks!\r\n\r\nEDIT: From feedback from Charles Duffy (thanks Charles!) I&#39;ve changed my BASH script as referenced above to\r\n\r\n```\r\n#!/bin/bash\r\n\r\ndeclare RESULT\r\n\r\nRESULT=&quot;$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -it --rm --name transcribe transcribe python /home/transcribe/transcribe.py &quot;$1&quot;)&quot;\r\n\r\nprintf &#39;%s\\n&#39; &quot;$RESULT&quot;\r\n\r\necho &quot;ABC&quot;\r\n```\r\n\r\nThis still however, in Java results in the exact same blank output if the BASH script is called from the JsCH exec method:\r\n\r\n```\r\n\r\nABC\r\n```\r\n\r\nwhile running it straight in BASH results in\r\n\r\n```\r\nabcdef\r\nABC\r\n```\r\n\r\nI literally just want the &quot;abcdef&quot; to be &quot;visible&quot; to Java in the Java code above... so nothing changes even if I clean up the variable instantiation in BASH and the output of it via printf instead of echo as advised by the link Charles gave...\r\n\r\nEDIT: I also tried calling the dockerised Python instance directly from Java and skip BASH alltogether - behaviour remains exactly the same. Java never sees the output printed to stdout by docker from running the Python script inside docker.\r\n\r\nE. g.\r\n\r\n```\r\nshellChannel.setCommand(&quot;/bin/bash /usr/src/Projects/docker/transcribe/run_transcribe_py.sh /home/audio/&quot; + iterateRecData.getCallLogNo() + &quot;.mp3&quot;);\r\n```\r\n\r\nchanged to\r\n\r\n```\r\nshellChannel.setCommand(&quot;/usr/bin/docker run --mount type=bind,source=\\&quot;/usr/src/Projects/docker/transcribe/audio\\&quot;,target=/home/audio --mount type=bind,source=\\\\\\&quot;/usr/src/Projects/docker/transcribe\\\\\\&quot;,target=/home/transcribe -it --rm --name transcribe transcribe python /home/transcribe/transcribe.py &quot; + iterateRecData.getCallLogNo() + &quot;.mp3&quot;);\r\n```\r\n\r\nstill gives the same blank result. The Java BufferedReader never sees the output printed to stdout by Python running inside docker. If run from the terminal directly with the above commandline, result is as expected - the letters &quot;abcdef&quot; appears in the terminal.","title":"Difference between echoing static text and echoing a variable for Java JSch exec command","body":"<p>I have this bash script &quot;run_transcribe_py.sh&quot;:</p>\n<pre><code>RESULT=$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -it --rm --name transcribe transcribe python /home/transcribe/transcribe.py $1)\n\necho $RESULT\n\necho &quot;ABC&quot;\n</code></pre>\n<p>The Python script run in the docker:</p>\n<pre><code>import sys\n\ntranscript=&quot;abcdef&quot;\n\nprint(transcript)\n\n</code></pre>\n<p>If I run the bash script in BASH:</p>\n<pre><code># /bin/bash /usr/src/Projects/docker/transcribe/run_transcribe_py.sh /home/audio/102303160955qhhs5zq.mp3\nabcdef\nABC\n#\n</code></pre>\n<p>However, if run via a JSCh exec command from Java:</p>\n<pre><code>public boolean commitTranscription(ArrayList&lt;transcriptionMetaData&gt; pRecordingsInfo) {\n        boolean retVal = false;\n\n        JSch localJsch = null;\n        localJsch = new JSch();\n\n        Session localSession = initJSch(localJsch, AppSettings.getPbxServer(), AppSettings.getPbxUser(), AppSettings.getPbxServerPassword(), AppSettings.getPbxPort());\n\n        try {\n            for (transcriptionMetaData iterateRecData : pRecordingsInfo) {\n                ArrayList&lt;String&gt; transcribeLines = new ArrayList&lt;String&gt;();\n\n                ChannelExec shellChannel = (ChannelExec) localSession.openChannel(&quot;exec&quot;);\n\n                try ( BufferedReader resultOfTranscription = new BufferedReader(new InputStreamReader(shellChannel.getInputStream()))) {\n                    shellChannel.setCommand(&quot;/bin/bash /usr/src/Projects/docker/transcribe/run_transcribe_py.sh /home/audio/&quot;\n                            + iterateRecData.getCallLogNo() + &quot;.mp3&quot;);\n                    shellChannel.connect((int) TimeUnit.SECONDS.toMillis(10));\n\n                    String resultLine = null;\n\n                    while ((resultLine = resultOfTranscription.readLine()) != null) {\n                        transcribeLines.add(resultLine);\n                    }\n\n                    iterateRecData.setTranscript(transcribeLines.toString());\n\n                    if (shellChannel != null) {\n                        if (shellChannel.isConnected()) {\n                            shellChannel.disconnect();\n                        }\n\n                        shellChannel = null;\n                    }\n                }\n\n                transcribeLines = null;\n            }\n        } catch (JSchException jex) {\n            localLogger.error((String) logEntryRefNumLocal.get()\n                    + &quot;JSch exception in commitTranscription() method in ExperimentalRecordingsTranscription. JSch exception: &quot; + jex.toString() + &quot;. Contact software support.&quot; + jex.getMessage(), jex);\n        } catch (RuntimeException rex) {\n            localLogger.error((String) logEntryRefNumLocal.get()\n                    + &quot;Runtime exception in commitTranscription() method in ExperimentalRecordingsTranscription. Runtime exception: &quot; + rex.toString() + &quot;. Contact software support.&quot; + rex.getMessage(), rex);\n        } catch (Exception ex) {\n            localLogger.error((String) logEntryRefNumLocal.get()\n                    + &quot;Exception in commitTranscription() method in ExperimentalRecordingsTranscription. Exception: &quot; + ex.toString() + &quot;. Contact software support.&quot; + ex.getMessage(), ex);\n        } finally {\n            if (localSession != null) {\n                if (localSession.isConnected()) {\n                    localSession.disconnect();\n                }\n\n                localSession = null;\n            }\n\n            localJsch = null;\n        }\n\n        return retVal;\n    }\n</code></pre>\n<p>Java literally sees</p>\n<pre><code># \n\nABC\n#\n</code></pre>\n<p>The output from the docker Python script (e. g. &quot;abcdef&quot;) is just blank in Java, while, if the script is run from BASH itself, both lines are present.</p>\n<p>Why is this</p>\n<pre><code>RESULT=$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -it --rm --name transcribe transcribe python /home/transcribe/transcribe.py $1)\n\necho $RESULT\n</code></pre>\n<p>invisble to Java only, but shows in BASH in the console, just above &quot;abc&quot;?</p>\n<p>Anybody got any idea?</p>\n<p>Thanks!</p>\n<p>EDIT: From feedback from Charles Duffy (thanks Charles!) I've changed my BASH script as referenced above to</p>\n<pre><code>#!/bin/bash\n\ndeclare RESULT\n\nRESULT=&quot;$(/usr/bin/docker run --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe/audio&quot;,target=/home/audio --mount type=bind,source=&quot;/usr/src/Projects/docker/transcribe&quot;,target=/home/transcribe -it --rm --name transcribe transcribe python /home/transcribe/transcribe.py &quot;$1&quot;)&quot;\n\nprintf '%s\\n' &quot;$RESULT&quot;\n\necho &quot;ABC&quot;\n</code></pre>\n<p>This still however, in Java results in the exact same blank output if the BASH script is called from the JsCH exec method:</p>\n<pre><code>\nABC\n</code></pre>\n<p>while running it straight in BASH results in</p>\n<pre><code>abcdef\nABC\n</code></pre>\n<p>I literally just want the &quot;abcdef&quot; to be &quot;visible&quot; to Java in the Java code above... so nothing changes even if I clean up the variable instantiation in BASH and the output of it via printf instead of echo as advised by the link Charles gave...</p>\n<p>EDIT: I also tried calling the dockerised Python instance directly from Java and skip BASH alltogether - behaviour remains exactly the same. Java never sees the output printed to stdout by docker from running the Python script inside docker.</p>\n<p>E. g.</p>\n<pre><code>shellChannel.setCommand(&quot;/bin/bash /usr/src/Projects/docker/transcribe/run_transcribe_py.sh /home/audio/&quot; + iterateRecData.getCallLogNo() + &quot;.mp3&quot;);\n</code></pre>\n<p>changed to</p>\n<pre><code>shellChannel.setCommand(&quot;/usr/bin/docker run --mount type=bind,source=\\&quot;/usr/src/Projects/docker/transcribe/audio\\&quot;,target=/home/audio --mount type=bind,source=\\\\\\&quot;/usr/src/Projects/docker/transcribe\\\\\\&quot;,target=/home/transcribe -it --rm --name transcribe transcribe python /home/transcribe/transcribe.py &quot; + iterateRecData.getCallLogNo() + &quot;.mp3&quot;);\n</code></pre>\n<p>still gives the same blank result. The Java BufferedReader never sees the output printed to stdout by Python running inside docker. If run from the terminal directly with the above commandline, result is as expected - the letters &quot;abcdef&quot; appears in the terminal.</p>\n"},{"tags":["java","spring-boot","gradle","intellij-idea"],"comments":[{"owner":{"account_id":3107277,"reputation":1237,"user_id":2629813,"accept_rate":100,"display_name":"Akshatha S R"},"score":0,"creation_date":1569214013,"post_id":58055770,"comment_id":102509068,"body_markdown":"why can&#39;t you use spring-tool-suit(sts)?","body":"why can&#39;t you use spring-tool-suit(sts)?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1569241814,"post_id":58055770,"comment_id":102521345,"body_markdown":"There is no bundled support for Spring boot in Community edition: https://www.jetbrains.com/idea/features/editions_comparison_matrix.html","body":"There is no bundled support for Spring boot in Community edition: <a href=\"https://www.jetbrains.com/idea/features/editions_comparison_matrix.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/features/editions_comparison_matrix.html</a>"},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":1,"creation_date":1681360403,"post_id":58055770,"comment_id":134044552,"body_markdown":"I don&#39;t understand why IntelliJ is not giving us this feature for free in the Community Edition and **force** us to go to `https://start.spring.io/.` What&#39;s the rationale? If it&#39;s their profiler, fine, it makes 100% sense. Come on IntelliJ, you can do better ;-)","body":"I don&#39;t understand why IntelliJ is not giving us this feature for free in the Community Edition and <b>force</b> us to go to <code>https:&#47;&#47;start.spring.io&#47;.</code> What&#39;s the rationale? If it&#39;s their profiler, fine, it makes 100% sense. Come on IntelliJ, you can do better ;-)"}],"answers":[{"comments":[{"owner":{"account_id":5789427,"reputation":1449,"user_id":4567504,"display_name":"Hamza Khanzada"},"score":0,"creation_date":1625241445,"post_id":58055827,"comment_id":120583998,"body_markdown":"See my answer above if anybody is not able to find `Sprint Assistant` while searching in Plugins in IntelliJ IDEA Community.","body":"See my answer above if anybody is not able to find <code>Sprint Assistant</code> while searching in Plugins in IntelliJ IDEA Community."},{"owner":{"account_id":6567042,"reputation":3665,"user_id":5076266,"accept_rate":74,"display_name":"Thilina Sampath"},"score":0,"creation_date":1663296667,"post_id":58055827,"comment_id":130211157,"body_markdown":"Not compatible with the version of your running IDE (IntelliJ IDEA 2022.2.1)","body":"Not compatible with the version of your running IDE (IntelliJ IDEA 2022.2.1)"},{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":0,"creation_date":1663305974,"post_id":58055827,"comment_id":130212338,"body_markdown":"This plugin was last updated 4 years back. You can try using: https://plugins.jetbrains.com/plugin/18622-spring-boot-helper/","body":"This plugin was last updated 4 years back. You can try using: <a href=\"https://plugins.jetbrains.com/plugin/18622-spring-boot-helper/\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/plugin/18622-spring-boot-helper</a>"}],"tags":[],"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1605595437,"creation_date":1569214302,"answer_id":58055827,"question_id":58055770,"body_markdown":"You can install a plugin called `Spring Assistant`:\r\n[![Spring Assistant][1]][1]\r\nNow you can use the initializer as:\r\n[![Using initializer][2]][2]\r\nPersonally, however, I use Spring initializer at start.spring.io\r\n\r\n**EDIT: Adding run configuration**\r\n&lt;br /&gt;\r\nSelect **Edit Configuration** from the **Run** menu\r\n[![Run menu][3]][3]\r\nNow in the dialog box, lick on the `+` button and select `Application`.\r\n[![Run Configuration dialog][4]][4]\r\nNow you just need to provide the name of the main class. You could click on the browse button(`...`) to get a list of files having `main(...)`.\r\n[![Select class with main()][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pUpTV.png\r\n  [2]: https://i.stack.imgur.com/Y1goL.png\r\n  [3]: https://i.stack.imgur.com/1PVLX.png\r\n  [4]: https://i.stack.imgur.com/6xZCR.png\r\n  [5]: https://i.stack.imgur.com/kdJtB.png","title":"Spring Boot project in IntelliJ community edition","body":"<p>You can install a plugin called <code>Spring Assistant</code>:\n<a href=\"https://i.stack.imgur.com/pUpTV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pUpTV.png\" alt=\"Spring Assistant\" /></a>\nNow you can use the initializer as:\n<a href=\"https://i.stack.imgur.com/Y1goL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Y1goL.png\" alt=\"Using initializer\" /></a>\nPersonally, however, I use Spring initializer at start.spring.io</p>\n<p><strong>EDIT: Adding run configuration</strong>\n<br />\nSelect <strong>Edit Configuration</strong> from the <strong>Run</strong> menu\n<a href=\"https://i.stack.imgur.com/1PVLX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1PVLX.png\" alt=\"Run menu\" /></a>\nNow in the dialog box, lick on the <code>+</code> button and select <code>Application</code>.\n<a href=\"https://i.stack.imgur.com/6xZCR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6xZCR.png\" alt=\"Run Configuration dialog\" /></a>\nNow you just need to provide the name of the main class. You could click on the browse button(<code>...</code>) to get a list of files having <code>main(...)</code>.\n<a href=\"https://i.stack.imgur.com/kdJtB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kdJtB.png\" alt=\"Select class with main()\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12974704,"reputation":1256,"user_id":11872560,"display_name":"Dulaj Kulathunga"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1569218090,"creation_date":1569214616,"answer_id":58055866,"question_id":58055770,"body_markdown":"If you have done your spring project with  [SPRING IO][1]\r\n\r\nThen You can import it as maven project and follow this steps to import spring project \r\n\r\n1. Open IntelliJ IDEA \r\n\r\n2. You can see  Welcome screen, click Import Project.\r\nThe Select File \r\n\r\n3. Navigate to your Maven project and select \r\n\r\n\r\n4. Click OK.\r\n\r\n\r\n  [1]: https://start.spring.io","title":"Spring Boot project in IntelliJ community edition","body":"<p>If you have done your spring project with  <a href=\"https://start.spring.io\" rel=\"noreferrer\">SPRING IO</a></p>\n\n<p>Then You can import it as maven project and follow this steps to import spring project </p>\n\n<ol>\n<li><p>Open IntelliJ IDEA </p></li>\n<li><p>You can see  Welcome screen, click Import Project.\nThe Select File </p></li>\n<li><p>Navigate to your Maven project and select </p></li>\n<li><p>Click OK.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1569218779,"creation_date":1569218779,"answer_id":58056488,"question_id":58055770,"body_markdown":"Pretty simple, as both link you attached say you created your project with [Spring Initializr][1], and if it is a maven project, then follow these steps mentioned below:\r\n\r\n - click on **File** option\r\n - click **Open** option\r\n - navigate to your project and choose **pom.xml** file [it not a maven project, choose your configuration.xml file, if something else, just select the project folder]\r\n - press **Ok**. And you are done\r\n - now, open idea terminal and run **mvn clean install**(I assume you have installed maven) or, just **select project-&gt;right click-&gt;choose maven-&gt; click on Reimport maven option**. Now run **mvn clean build** All are set now.\r\n\r\n \r\n\r\n  [1]: https://start.spring.io/","title":"Spring Boot project in IntelliJ community edition","body":"<p>Pretty simple, as both link you attached say you created your project with <a href=\"https://start.spring.io/\" rel=\"noreferrer\">Spring Initializr</a>, and if it is a maven project, then follow these steps mentioned below:</p>\n\n<ul>\n<li>click on <strong>File</strong> option</li>\n<li>click <strong>Open</strong> option</li>\n<li>navigate to your project and choose <strong>pom.xml</strong> file [it not a maven project, choose your configuration.xml file, if something else, just select the project folder]</li>\n<li>press <strong>Ok</strong>. And you are done</li>\n<li>now, open idea terminal and run <strong>mvn clean install</strong>(I assume you have installed maven) or, just <strong>select project->right click->choose maven-> click on Reimport maven option</strong>. Now run <strong>mvn clean build</strong> All are set now.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2029881,"reputation":464,"user_id":1813888,"accept_rate":57,"display_name":""},"score":2,"creation_date":1626953590,"post_id":68228210,"comment_id":121031928,"body_markdown":"&quot;Plugin &#39;Spring Assistant&#39; (version 0.12.0) was explicitly marked as incompatible with the current version of the IDE&quot;","body":"&quot;Plugin &#39;Spring Assistant&#39; (version 0.12.0) was explicitly marked as incompatible with the current version of the IDE&quot;"},{"owner":{"account_id":10075506,"reputation":798,"user_id":7447765,"accept_rate":80,"display_name":"Muizz Mahdy"},"score":0,"creation_date":1628485285,"post_id":68228210,"comment_id":121423168,"body_markdown":"Any replacement since its incompatible with 2021?","body":"Any replacement since its incompatible with 2021?"}],"tags":[],"owner":{"account_id":5789427,"reputation":1449,"user_id":4567504,"display_name":"Hamza Khanzada"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625241370,"creation_date":1625241370,"answer_id":68228210,"question_id":58055770,"body_markdown":"Extending [@Prashant&#39;s answer][1]\r\n\r\nIf you are not able to find `Spring Assistant` plugin within IntelliJ Community Edition, Go to [Plugin&#39;s website][2] and then click on `GET` button, Choose Compatibility with `IntelliJ IDEA Community` and then click `Download`.\r\n\r\n[![Spring Assistant Plugin Website][3]][3] \r\n\r\nThe rest of the procedure remains the same as described by @Prashant.\r\n\r\nAlso if you want to change your Port, then select `Modify Options` and select `Add VM Options`, and paste\r\n\r\n&gt; -Dserver.port=8090\r\n\r\nin that VM Options textbox and then run the application.\r\n\r\n[![Modifying Configuration for port][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58055827/4567504\r\n  [2]: https://plugins.jetbrains.com/plugin/10229-spring-assistant\r\n  [3]: https://i.stack.imgur.com/QlQIz.png\r\n  [4]: https://i.stack.imgur.com/kh5Vx.png","title":"Spring Boot project in IntelliJ community edition","body":"<p>Extending <a href=\"https://stackoverflow.com/a/58055827/4567504\">@Prashant's answer</a></p>\n<p>If you are not able to find <code>Spring Assistant</code> plugin within IntelliJ Community Edition, Go to <a href=\"https://plugins.jetbrains.com/plugin/10229-spring-assistant\" rel=\"nofollow noreferrer\">Plugin's website</a> and then click on <code>GET</code> button, Choose Compatibility with <code>IntelliJ IDEA Community</code> and then click <code>Download</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/QlQIz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlQIz.png\" alt=\"Spring Assistant Plugin Website\" /></a></p>\n<p>The rest of the procedure remains the same as described by @Prashant.</p>\n<p>Also if you want to change your Port, then select <code>Modify Options</code> and select <code>Add VM Options</code>, and paste</p>\n<blockquote>\n<p>-Dserver.port=8090</p>\n</blockquote>\n<p>in that VM Options textbox and then run the application.</p>\n<p><a href=\"https://i.stack.imgur.com/kh5Vx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kh5Vx.png\" alt=\"Modifying Configuration for port\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663066313,"creation_date":1641750739,"answer_id":70644010,"question_id":58055770,"body_markdown":"\r\nJust go to the below mentioned:\r\n\r\nhttps://start.spring.io/\r\n\r\nFill the information regarding Project(Maven, Java, spring-version(Select version only\r\nhave digits(for eg:2.6.2))). Don&#39;t select &quot;snapshot&quot; version.\r\n\r\nFill project Metadata information and click on Generate file. It will create jar file. Unzip it and open your IntelliJ and select &quot;Open-&gt;select this Unzip folder and select &quot;pom.xml&quot; file inside this package and open as project.\r\n\r\n\r\n","title":"Spring Boot project in IntelliJ community edition","body":"<p>Just go to the below mentioned:</p>\n<p><a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a></p>\n<p>Fill the information regarding Project(Maven, Java, spring-version(Select version only\nhave digits(for eg:2.6.2))). Don't select &quot;snapshot&quot; version.</p>\n<p>Fill project Metadata information and click on Generate file. It will create jar file. Unzip it and open your IntelliJ and select &quot;Open-&gt;select this Unzip folder and select &quot;pom.xml&quot; file inside this package and open as project.</p>\n"},{"tags":[],"owner":{"account_id":10810178,"reputation":313,"user_id":13825846,"display_name":"Toshal Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1657648686,"creation_date":1657648686,"answer_id":72956557,"question_id":58055770,"body_markdown":"You can follow these steps.\r\n 1. Click on Add / Edit configuration\r\n    [![enter image description here][1]][1]\r\n\r\n\r\n\r\n 2. Then select configuration type as application.\r\n    [![enter image description here][2]][2]\r\n\r\n\r\n 3. Fill in appropriate details.\r\n    **Note**: In place of `&lt;no module&gt;` add directory / module in which the entry class is present. \r\n    [![enter image description here][3]][3] \r\n 4. Save the configuration and click on Run / Debug symbol shown in first screenshot.\r\n    \r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XId0C.png\r\n  [2]: https://i.stack.imgur.com/Ly4xn.png\r\n  [3]: https://i.stack.imgur.com/orCOQ.png","title":"Spring Boot project in IntelliJ community edition","body":"<p>You can follow these steps.</p>\n<ol>\n<li><p>Click on Add / Edit configuration\n<a href=\"https://i.stack.imgur.com/XId0C.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XId0C.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Then select configuration type as application.\n<a href=\"https://i.stack.imgur.com/Ly4xn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ly4xn.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Fill in appropriate details.\n<strong>Note</strong>: In place of <code>&lt;no module&gt;</code> add directory / module in which the entry class is present.\n<a href=\"https://i.stack.imgur.com/orCOQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/orCOQ.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Save the configuration and click on Run / Debug symbol shown in first screenshot.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26443994,"reputation":721,"user_id":20088068,"display_name":"Prajval Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673085367,"creation_date":1673085367,"answer_id":75039420,"question_id":58055770,"body_markdown":"Apart from the spring initialiser, in my experience no where else do you need an ultimate edition to work with spring boot, you can use [Spring Intialiser][1]\r\n\r\nBut there is a plugin as rightly mentioned by other [Spring assistant][2] which you can download from the plugin section which you can access from setting inside intellJ Idea.\r\n\r\n\r\n**For configuration instead of actually going in the edit configuration option of intellJ Idea you can just run the application and that would automatically have your configuration loaded and there onwards you can always use it.**\r\n\r\n\r\n  [1]: https://start.spring.io/\r\n  [2]: https://plugins.jetbrains.com/plugin/10229-spring-assistant","title":"Spring Boot project in IntelliJ community edition","body":"<p>Apart from the spring initialiser, in my experience no where else do you need an ultimate edition to work with spring boot, you can use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Intialiser</a></p>\n<p>But there is a plugin as rightly mentioned by other <a href=\"https://plugins.jetbrains.com/plugin/10229-spring-assistant\" rel=\"nofollow noreferrer\">Spring assistant</a> which you can download from the plugin section which you can access from setting inside intellJ Idea.</p>\n<p><strong>For configuration instead of actually going in the edit configuration option of intellJ Idea you can just run the application and that would automatically have your configuration loaded and there onwards you can always use it.</strong></p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679331349,"creation_date":1679328584,"answer_id":75792696,"question_id":58055770,"body_markdown":"As everyone else mentioned, use https://start.spring.io to start your Spring Boot project. Download and open in IntelliJ Community Edition.\r\n\r\nWhere you will face some difficulty is in running the project; - Ultimate Edition has a Spring Boot plugin that is missing in Community Edition.\r\n\r\nYou may get errors especially if your main folder of your project is one level higher than the root of your IntelliJ project.\r\n\r\nFor this, use the Maven run option.\r\n\r\n`Edit Configuration` and Click the `+` to create a new Maven configuration\r\n\r\n[![maven run][2]][2]\r\n\r\n[2]: https://i.stack.imgur.com/N99l8.png","title":"Spring Boot project in IntelliJ community edition","body":"<p>As everyone else mentioned, use <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> to start your Spring Boot project. Download and open in IntelliJ Community Edition.</p>\n<p>Where you will face some difficulty is in running the project; - Ultimate Edition has a Spring Boot plugin that is missing in Community Edition.</p>\n<p>You may get errors especially if your main folder of your project is one level higher than the root of your IntelliJ project.</p>\n<p>For this, use the Maven run option.</p>\n<p><code>Edit Configuration</code> and Click the <code>+</code> to create a new Maven configuration</p>\n<p><a href=\"https://i.stack.imgur.com/N99l8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N99l8.png\" alt=\"maven run\" /></a></p>\n"}],"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108812,"favorite_count":0,"down_vote_count":1,"up_vote_count":53,"answer_count":8,"score":52,"last_activity_date":1679331349,"creation_date":1569213842,"question_id":58055770,"body_markdown":"I am new to IntelliJ Community edition. Can anyone help me with creating spring boot project in intelliJ Community edition. For ultimate edition there is spring-boot initializer but I cannot find anything  for community edition. I followed this links but cannot find any solutions\r\n\r\n* &quot;[_Create Spring Boot Project with IntelliJ Community (FREE) Edition in 5 mins_][1]&quot;\r\n* &quot;[_Getting Started with SpringBoot in Intellij IDEA Community Edition_][2]&quot;\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=397QPCAjm0o\r\n  [2]: https://sivalabs.in/2016/09/getting-started-springboot-intellij-idea-community-edition/","title":"Spring Boot project in IntelliJ community edition","body":"<p>I am new to IntelliJ Community edition. Can anyone help me with creating spring boot project in intelliJ Community edition. For ultimate edition there is spring-boot initializer but I cannot find anything  for community edition. I followed this links but cannot find any solutions</p>\n<ul>\n<li>&quot;<a href=\"https://www.youtube.com/watch?v=397QPCAjm0o\" rel=\"noreferrer\"><em>Create Spring Boot Project with IntelliJ Community (FREE) Edition in 5 mins</em></a>&quot;</li>\n<li>&quot;<a href=\"https://sivalabs.in/2016/09/getting-started-springboot-intellij-idea-community-edition/\" rel=\"noreferrer\"><em>Getting Started with SpringBoot in Intellij IDEA Community Edition</em></a>&quot;</li>\n</ul>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1679332222,"post_id":75792991,"comment_id":133699178,"body_markdown":"Where do you declare `score` and it is `volatile`? Also: does `tranquilo` ever return true? Is the line `score=score+1;` ever executed?","body":"Where do you declare <code>score</code> and it is <code>volatile</code>? Also: does <code>tranquilo</code> ever return true? Is the line <code>score=score+1;</code> ever executed?"},{"owner":{"account_id":27973898,"reputation":23,"user_id":21363112,"display_name":"louisMay"},"score":0,"creation_date":1679332619,"post_id":75792991,"comment_id":133699281,"body_markdown":"Thank you very much @f1sh for answering. I declare score at the beginning like this: public int score;. I have made sure that tranquilo returns true sometimes and that line is executed. I haven&#180;t declared score as volatile? Would it be necessary?","body":"Thank you very much @f1sh for answering. I declare score at the beginning like this: public int score;. I have made sure that tranquilo returns true sometimes and that line is executed. I haven&#180;t declared score as volatile? Would it be necessary?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679333297,"post_id":75792991,"comment_id":133699489,"body_markdown":"You don&#39;t need to start threads just to sleep them. Use `postDelayed`. You also need to keep track of whatever you&#39;re starting so you can cancel it when the Activity or Fragment is destroyed. Otherwise you leak the whole Activity.","body":"You don&#39;t need to start threads just to sleep them. Use <code>postDelayed</code>. You also need to keep track of whatever you&#39;re starting so you can cancel it when the Activity or Fragment is destroyed. Otherwise you leak the whole Activity."},{"owner":{"account_id":27973898,"reputation":23,"user_id":21363112,"display_name":"louisMay"},"score":0,"creation_date":1679334325,"post_id":75792991,"comment_id":133699770,"body_markdown":"@Tenfour04 I have tried using postDelayed with handler instead of thread 2 and I still have the same problem.","body":"@Tenfour04 I have tried using postDelayed with handler instead of thread 2 and I still have the same problem."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679334766,"post_id":75792991,"comment_id":133699900,"body_markdown":"Are both these threads inner classes of the class that has the `score` variable? You don&#39;t need to mark `score` as `volatile` since you are only touching it on the main thread.","body":"Are both these threads inner classes of the class that has the <code>score</code> variable? You don&#39;t need to mark <code>score</code> as <code>volatile</code> since you are only touching it on the main thread."},{"owner":{"account_id":27973898,"reputation":23,"user_id":21363112,"display_name":"louisMay"},"score":0,"creation_date":1679335185,"post_id":75792991,"comment_id":133699991,"body_markdown":"@Tenfour04 Thread 1 is inside the class that has score variable but the other one isn&#180;t.","body":"@Tenfour04 Thread 1 is inside the class that has score variable but the other one isn&#180;t."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679337406,"post_id":75792991,"comment_id":133700533,"body_markdown":"...then it can&#39;t be looking at the same `score` variable, can it? Unless `score` is static and you have imported the member of the other class into the second Thread class&#39;s file.","body":"...then it can&#39;t be looking at the same <code>score</code> variable, can it? Unless <code>score</code> is static and you have imported the member of the other class into the second Thread class&#39;s file."}],"owner":{"account_id":27973898,"reputation":23,"user_id":21363112,"display_name":"louisMay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679330374,"creation_date":1679330374,"question_id":75792991,"body_markdown":"I have an integer variable which is &quot;score&quot;. I have two different threads as I show:\r\n\r\nThread 1:\r\n\r\n    class Hilo1 extends Thread {\r\n                @Override\r\n                public void run() {\r\n                    while (true) {\r\n                        try {\r\n                            Thread.sleep(30000);\r\n                            runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    Toast.makeText(Course.this, &quot;SCORE=&quot;+score, Toast.LENGTH_SHORT).show();\r\n                                    \r\n    \r\n                                }\r\n                            });\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nThread 2:\r\n\r\n    class Hilo2 extends Thread {\r\n            @Override\r\n            public void run() {\r\n                    try {\r\n                        Thread.sleep(movementTimeThread);\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                if(tranquilo(currentHeartRate,higherHeartRate,lowerHeartRate,changeInAcceleration)){\r\n                                    \r\n                                    score=score+1;\r\n    \r\n                                    /*textViewPuntuacion.setText(&quot;Puntuacion= &quot;);*/\r\n    \r\n                                }else {\r\n                                    vecesNoCalmado = vecesNoCalmado + 1;\r\n                                }\r\n    \r\n    \r\n                            }\r\n                        });\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n            }\r\n        }\r\n\r\nThe situation  is the following: the first thread occurs every 30 seconds and it evaluates something. It that evaluation is true, the second threads starts 20 seconds after that and it increases the variable &quot;score&quot;. The thing is that I have made sure that the evaluation is true so thread number 2 occurs and &quot;score&quot; is increased, but the next time thread number 1 occurs, &quot;score&quot; value is still 0. I don&#180;t kniow what I&#180;m doing wrong. Thank you.","title":"Not being able to modify a variable using two different threads in android using java","body":"<p>I have an integer variable which is &quot;score&quot;. I have two different threads as I show:</p>\n<p>Thread 1:</p>\n<pre><code>class Hilo1 extends Thread {\n            @Override\n            public void run() {\n                while (true) {\n                    try {\n                        Thread.sleep(30000);\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                Toast.makeText(Course.this, &quot;SCORE=&quot;+score, Toast.LENGTH_SHORT).show();\n                                \n\n                            }\n                        });\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>Thread 2:</p>\n<pre><code>class Hilo2 extends Thread {\n        @Override\n        public void run() {\n                try {\n                    Thread.sleep(movementTimeThread);\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            if(tranquilo(currentHeartRate,higherHeartRate,lowerHeartRate,changeInAcceleration)){\n                                \n                                score=score+1;\n\n                                /*textViewPuntuacion.setText(&quot;Puntuacion= &quot;);*/\n\n                            }else {\n                                vecesNoCalmado = vecesNoCalmado + 1;\n                            }\n\n\n                        }\n                    });\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n        }\n    }\n</code></pre>\n<p>The situation  is the following: the first thread occurs every 30 seconds and it evaluates something. It that evaluation is true, the second threads starts 20 seconds after that and it increases the variable &quot;score&quot;. The thing is that I have made sure that the evaluation is true so thread number 2 occurs and &quot;score&quot; is increased, but the next time thread number 1 occurs, &quot;score&quot; value is still 0. I dont kniow what Im doing wrong. Thank you.</p>\n"},{"tags":["java","python","c#"],"comments":[{"owner":{"account_id":239789,"reputation":29819,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"score":0,"creation_date":1595971607,"post_id":63141008,"comment_id":111658048,"body_markdown":"How on earth is this closed for asking for a recommendation for software/libraries? He&#39;s asking if python as a web client class that can do async calls to a REST service.","body":"How on earth is this closed for asking for a recommendation for software/libraries? He&#39;s asking if python as a web client class that can do async calls to a REST service."},{"owner":{"account_id":18694534,"reputation":4478,"user_id":13628163,"display_name":"Greg"},"score":1,"creation_date":1595971739,"post_id":63141008,"comment_id":111658099,"body_markdown":"have a look at asyncio (https://docs.python.org/3/library/asyncio.html) combined with aiohttp (https://docs.aiohttp.org/en/stable/)","body":"have a look at asyncio (<a href=\"https://docs.python.org/3/library/asyncio.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/asyncio.html</a>) combined with aiohttp (<a href=\"https://docs.aiohttp.org/en/stable/\" rel=\"nofollow noreferrer\">docs.aiohttp.org/en/stable</a>)"}],"answers":[{"comments":[{"owner":{"account_id":1182092,"reputation":146,"user_id":1156808,"display_name":"rborchert"},"score":0,"creation_date":1679330295,"post_id":67482010,"comment_id":133698605,"body_markdown":"asyncio does not let you make async web requests. As Greg mentioned in his comment, you have to use aiohttp.","body":"asyncio does not let you make async web requests. As Greg mentioned in his comment, you have to use aiohttp."}],"tags":[],"owner":{"account_id":20725412,"reputation":94,"user_id":15218767,"display_name":"Michiel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1620716788,"creation_date":1620716788,"answer_id":67482010,"question_id":63141008,"body_markdown":"you can use the Asyncio library \r\n\r\n    import asyncio\r\n    \r\n    async def wait_around(n, name):\r\n        for i in range(n):\r\n            print(f&quot;{name}: iteration {i}&quot;)\r\n            await asyncio.sleep(1.0)\r\n    \r\n    async def main():\r\n        await asyncio.gather(*[\r\n            wait_around(2, &quot;coroutine 0&quot;), wait_around(5, &quot;coroutine 1&quot;)\r\n        ])\r\n    \r\n    loop = asyncio.get_event_loop()\r\n    loop.run_until_complete(main())","title":"Does python have asynchronous web client requests (like C# async/await)? Or is each call fundamentally synchronous (like Java 1.8)?","body":"<p>you can use the Asyncio library</p>\n<pre><code>import asyncio\n\nasync def wait_around(n, name):\n    for i in range(n):\n        print(f&quot;{name}: iteration {i}&quot;)\n        await asyncio.sleep(1.0)\n\nasync def main():\n    await asyncio.gather(*[\n        wait_around(2, &quot;coroutine 0&quot;), wait_around(5, &quot;coroutine 1&quot;)\n    ])\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(main())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1182092,"reputation":146,"user_id":1156808,"display_name":"rborchert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679330187,"creation_date":1679330187,"answer_id":75792969,"question_id":63141008,"body_markdown":"&gt; What I&#39;m asking is if the python runtime has a web client class that can make async requests\r\n\r\nNo, the runtime itself does not have support for async web requests, and using asynchio as per the previous answer doesn&#39;t work for web requests.\r\n\r\nI know you said you weren&#39;t looking for library recommendations, but for completeness sake, the only way I&#39;ve seen to make async web requests from python is by using the \r\n[aiohttp package][1].\r\n\r\n\r\n  [1]: https://docs.aiohttp.org/en/stable/index.html","title":"Does python have asynchronous web client requests (like C# async/await)? Or is each call fundamentally synchronous (like Java 1.8)?","body":"<blockquote>\n<p>What I'm asking is if the python runtime has a web client class that can make async requests</p>\n</blockquote>\n<p>No, the runtime itself does not have support for async web requests, and using asynchio as per the previous answer doesn't work for web requests.</p>\n<p>I know you said you weren't looking for library recommendations, but for completeness sake, the only way I've seen to make async web requests from python is by using the\n<a href=\"https://docs.aiohttp.org/en/stable/index.html\" rel=\"nofollow noreferrer\">aiohttp package</a>.</p>\n"}],"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67482010,"answer_count":2,"score":0,"last_activity_date":1679330187,"creation_date":1595962599,"question_id":63141008,"body_markdown":"Im writing a Python client for a restful service so that I can make requests within a python application. There already exists a C# and a Java client and Im trying to figure out which of the two clients I should follow as a guide. So does python have asynchronous web client requests (like C# async/await)? Or is each call fundamentally synchronous (like Java 1.8)? I am not asking for a recommendation for a software library, programming language, etc. What I&#39;m asking is if the python runtime has a web client class that can make async requests like C#. Or if it&#39;s like Java 1.8 where all it has is the synchronous calls.","title":"Does python have asynchronous web client requests (like C# async/await)? Or is each call fundamentally synchronous (like Java 1.8)?","body":"<p>Im writing a Python client for a restful service so that I can make requests within a python application. There already exists a C# and a Java client and Im trying to figure out which of the two clients I should follow as a guide. So does python have asynchronous web client requests (like C# async/await)? Or is each call fundamentally synchronous (like Java 1.8)? I am not asking for a recommendation for a software library, programming language, etc. What I'm asking is if the python runtime has a web client class that can make async requests like C#. Or if it's like Java 1.8 where all it has is the synchronous calls.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679330204,"post_id":75792956,"comment_id":133698590,"body_markdown":"As far as I know there&#39;s no (good) way of doing this.  Also people experienced with Java and Spring will want the full stack trace, it&#39;s valuable and provides needed information.  Don&#39;t muck with this.","body":"As far as I know there&#39;s no (good) way of doing this.  Also people experienced with Java and Spring will want the full stack trace, it&#39;s valuable and provides needed information.  Don&#39;t muck with this."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1679330580,"post_id":75792956,"comment_id":133698681,"body_markdown":"Depending on the logging framework this can be customized. With log4j you can use [PatternConverters](https://logging.apache.org/log4j/2.x/manual/extending.html#PatternConverters) and manually exclude lines from the stacktrace, but you basically have to re-write the code that generates a stacktrace. Also it is not triggered for uncaught `Exceptions` afaik.","body":"Depending on the logging framework this can be customized. With log4j you can use <a href=\"https://logging.apache.org/log4j/2.x/manual/extending.html#PatternConverters\" rel=\"nofollow noreferrer\">PatternConverters</a> and manually exclude lines from the stacktrace, but you basically have to re-write the code that generates a stacktrace. Also it is not triggered for uncaught <code>Exceptions</code> afaik."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1679331190,"post_id":75792956,"comment_id":133698850,"body_markdown":"It sounds like a good idea, right up to the one time in a thousand where you want to determine or verify what the application server was doing that resulted in the exception.  Stack traces are developer-facing information.  Why go out of your way to hobble yourself?  Is it really that hard to scroll?","body":"It sounds like a good idea, right up to the one time in a thousand where you want to determine or verify what the application server was doing that resulted in the exception.  Stack traces are developer-facing information.  Why go out of your way to hobble yourself?  Is it really that hard to scroll?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1679331516,"post_id":75792956,"comment_id":133698969,"body_markdown":"@JohnBollinger to be fair I&#39;ve had this annoyance in the past and wrote a converter that omitted stack trace lines based on configurable java `package`s. I never regretted that. I don&#39;t have access to that code anymore though.","body":"@JohnBollinger to be fair I&#39;ve had this annoyance in the past and wrote a converter that omitted stack trace lines based on configurable java <code>package</code>s. I never regretted that. I don&#39;t have access to that code anymore though."},{"owner":{"account_id":14003687,"reputation":33,"user_id":10114495,"display_name":"dexter2415"},"score":0,"creation_date":1679331701,"post_id":75792956,"comment_id":133699025,"body_markdown":"@JohnBollinger it&#39;s to just save the log spacing which i wanted to try out, stack trace take lot of space with, in order to reduce cost, just trying to reduce the unnecessary ones like `org.apache.catalina.core.ApplicationFilterChain.internalDoFilter` as example","body":"@JohnBollinger it&#39;s to just save the log spacing which i wanted to try out, stack trace take lot of space with, in order to reduce cost, just trying to reduce the unnecessary ones like <code>org.apache.catalina.core.ApplicationFilterChain.internalDoFi&zwnj;&#8203;lter</code> as example"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1679331705,"post_id":75792956,"comment_id":133699027,"body_markdown":"Oh, I understand @f1sh.  I meant exactly what I said: it does sound like a good idea, right up until it bites you.  Which is rare, but does happen.","body":"Oh, I understand @f1sh.  I meant exactly what I said: it does sound like a good idea, right up until it bites you.  Which is rare, but does happen."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1679331806,"post_id":75792956,"comment_id":133699050,"body_markdown":"@dexter2415, if you have a lot of stack traces in your log then that is (one hopes) temporary.  Certainly something to be working on.  If you have only an occasional one, then it&#39;s unlikely to be worth any effort to reduce their size.","body":"@dexter2415, if you have a lot of stack traces in your log then that is (one hopes) temporary.  Certainly something to be working on.  If you have only an occasional one, then it&#39;s unlikely to be worth any effort to reduce their size."}],"owner":{"account_id":14003687,"reputation":33,"user_id":10114495,"display_name":"dexter2415"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679330121,"creation_date":1679330121,"question_id":75792956,"body_markdown":"Consider below code which is throwing NullPointerException whenever called\r\n\r\n```\r\npublic String getCheckStatus() {\r\n\r\n        String status = &quot;&quot;;\r\n\r\n        try {\r\n            status.charAt(0);\r\n        } catch (Exception e) {\r\n            throw new NullPointerException(&quot;status is null&quot;);\r\n        }\r\n\r\n        return status;\r\n    }\r\n```\r\n\r\nit is throwing NullpointerException also it will print stacktrace as below\r\n\r\n```\r\njava.lang.NullPointerException: status is null\r\n        at com.experiment.schedule.controller.CheckStatusController.getCheckStatus(CheckStatusController.java:17) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.6.jar:6.0.6]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.6.jar:6.0.6]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.6.jar:6.0.6]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.6.jar:6.0.6]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.6.jar:6.0.6]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.6.jar:6.0.6]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\nNow I don&#39;t know how to print stack trace with the necessary elements need excluding the unwanted traces related to spring/java internals  .Can anyone help me to print stack trace whichever is necessary?\r\n\r\n```\r\njava.lang.NullPointerException: status is null\r\n        at com.experiment.schedule.controller.CheckStatusController.getCheckStatus(CheckStatusController.java:17) ~[classes/:na]\r\n\r\n```\r\n\r\n","title":"Customise stack trace in Java","body":"<p>Consider below code which is throwing NullPointerException whenever called</p>\n<pre><code>public String getCheckStatus() {\n\n        String status = &quot;&quot;;\n\n        try {\n            status.charAt(0);\n        } catch (Exception e) {\n            throw new NullPointerException(&quot;status is null&quot;);\n        }\n\n        return status;\n    }\n</code></pre>\n<p>it is throwing NullpointerException also it will print stacktrace as below</p>\n<pre><code>java.lang.NullPointerException: status is null\n        at com.experiment.schedule.controller.CheckStatusController.getCheckStatus(CheckStatusController.java:17) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.6.jar:6.0.6]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.6.jar:6.0.6]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.6.jar:6.0.6]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.6.jar:6.0.6]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.6.jar:6.0.6]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.6.jar:6.0.6]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.6.jar:6.0.6]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.6.jar:6.0.6]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.6.jar:6.0.6]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.6.jar:6.0.6]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.6.jar:6.0.6]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.6.jar:6.0.6]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.6.jar:6.0.6]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.6.jar:6.0.6]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.6.jar:6.0.6]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.6.jar:6.0.6]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.6.jar:6.0.6]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Now I don't know how to print stack trace with the necessary elements need excluding the unwanted traces related to spring/java internals  .Can anyone help me to print stack trace whichever is necessary?</p>\n<pre><code>java.lang.NullPointerException: status is null\n        at com.experiment.schedule.controller.CheckStatusController.getCheckStatus(CheckStatusController.java:17) ~[classes/:na]\n\n</code></pre>\n"},{"tags":["java","maven","groovy"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1679307323,"post_id":75788923,"comment_id":133691863,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead [edit] your question to include the error messages as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead <a href=\"https://stackoverflow.com/posts/75788923/edit\">edit</a> your question to include the error messages as properly formatted text."},{"owner":{"account_id":5220009,"reputation":748,"user_id":5428469,"accept_rate":80,"display_name":"Magnus"},"score":0,"creation_date":1679307443,"post_id":75788923,"comment_id":133691892,"body_markdown":"I unsuccessfully tried copying the errors from the log (since they aren&#39;t written to the errors folder for some reason), do you want me to copy these by hand?","body":"I unsuccessfully tried copying the errors from the log (since they aren&#39;t written to the errors folder for some reason), do you want me to copy these by hand?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1679307467,"post_id":75788923,"comment_id":133691899,"body_markdown":"My guess is that there&#39;s some permission problem. Try deleting (or moving away, if you&#39;re overly cautious) the entire `target/` directory, as it should only ever contain stuff that&#39;s generated during build time anyway.","body":"My guess is that there&#39;s some permission problem. Try deleting (or moving away, if you&#39;re overly cautious) the entire <code>target&#47;</code> directory, as it should only ever contain stuff that&#39;s generated during build time anyway."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1679307568,"post_id":75788923,"comment_id":133691922,"body_markdown":"No, copying by hand is almost worse (definitely worse for you and also likely worse for us due to the high chance of typos that will be hard to figure out). I want you to [learn to copy it](https://superuser.com/questions/295370/how-to-copy-text-in-the-windows-command-line-cmd), instead.","body":"No, copying by hand is almost worse (definitely worse for you and also likely worse for us due to the high chance of typos that will be hard to figure out). I want you to <a href=\"https://superuser.com/questions/295370/how-to-copy-text-in-the-windows-command-line-cmd\">learn to copy it</a>, instead."},{"owner":{"account_id":5220009,"reputation":748,"user_id":5428469,"accept_rate":80,"display_name":"Magnus"},"score":1,"creation_date":1679313544,"post_id":75788923,"comment_id":133693452,"body_markdown":"@JoachimSauer Okay, so I changed the pictures for actual code samples and I tried deleting the targets folder, updated question with results.","body":"@JoachimSauer Okay, so I changed the pictures for actual code samples and I tried deleting the targets folder, updated question with results."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1679321510,"post_id":75788923,"comment_id":133695863,"body_markdown":"@Magnus,\ni bet your user do not have permission of target folder without claiming admin privilege. try to run cmd as administrator and then run your mvn command. check that target folder is not open with another application - for example if you have target folder open in windows explorer - it could not be deleted. PS: still nothing about groovy...","body":"@Magnus, i bet your user do not have permission of target folder without claiming admin privilege. try to run cmd as administrator and then run your mvn command. check that target folder is not open with another application - for example if you have target folder open in windows explorer - it could not be deleted. PS: still nothing about groovy..."},{"owner":{"account_id":5220009,"reputation":748,"user_id":5428469,"accept_rate":80,"display_name":"Magnus"},"score":0,"creation_date":1679321773,"post_id":75788923,"comment_id":133695945,"body_markdown":"@daggett I can&#39;t really do that without IT elevating my privileges or whatever. I&#39;ve already contacted them about that but it will probably take a while.","body":"@daggett I can&#39;t really do that without IT elevating my privileges or whatever. I&#39;ve already contacted them about that but it will probably take a while."},{"owner":{"account_id":5220009,"reputation":748,"user_id":5428469,"accept_rate":80,"display_name":"Magnus"},"score":0,"creation_date":1679322129,"post_id":75788923,"comment_id":133696073,"body_markdown":"@JoachimSauer Seeing as the first error messages and the error messages after deleting the Targe folder is distinct, should I create a separate question about the latter?","body":"@JoachimSauer Seeing as the first error messages and the error messages after deleting the Targe folder is distinct, should I create a separate question about the latter?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679323400,"post_id":75788923,"comment_id":133696534,"body_markdown":"I believe this is still fundamentally the same problem, so I don&#39;t think you need a new question, just [edit] it with any more details you find out. Unfortunately I don&#39;t have any more ideas for you.","body":"I believe this is still fundamentally the same problem, so I don&#39;t think you need a new question, just <a href=\"https://stackoverflow.com/posts/75788923/edit\">edit</a> it with any more details you find out. Unfortunately I don&#39;t have any more ideas for you."}],"owner":{"account_id":5220009,"reputation":748,"user_id":5428469,"accept_rate":80,"display_name":"Magnus"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679329410,"creation_date":1679306731,"question_id":75788923,"body_markdown":"I&#39;m supposed to convert this huge list of CSV files into PX files (as in &quot;PC Axis files&quot;). In order to do this, I&#39;m supposed to run a groovy script, which has been working for my predecessor without issues.\r\n\r\nI follow the instructions and place the CSV-files in the in-directory. I&#39;m supposed to just run the Windows Batch File in the folder below. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis does not work however, so I run the command prompt and change my directory to the folder above. I then type\r\n\r\n    mvn clean compile gplus:execute -Pprod\r\n\r\nAnd I get an error message complaining that a certain file (&quot;inputFiles.lst&quot;) can&#39;t be deleted.\r\n\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ se.fohm.pxweb ---\r\n    [INFO] Deleting C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.703 s\r\n    [INFO] Finished at: 2023-03-20T10:22:18+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project se.fohm.pxweb: Failed to clean project: Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\inputFiles.lst -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nSo I delete this file manually and it immediatly start complaining about another file\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ---------------------&lt; pxjobrunner:se.fohm.pxweb &gt;----------------------\r\n    [INFO] Building pxjobrunner 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ se.fohm.pxweb ---\r\n    [INFO] Deleting C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.750 s\r\n    [INFO] Finished at: 2023-03-20T10:23:31+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project se.fohm.pxweb: Failed to clean project: Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\createdFiles.lst -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\nIf i delete &quot;that&quot;, it starts complaining about not being able to delete the whole directory. If I delete &quot;that&quot; it starts to complain about the parent directory and so forth. \r\n\r\nI then try telling the command prompt to ignore these errors. I type\r\n\r\n    mvn clean compile gplus:execute -Pprod -Dmaven.clean.failOnError=false\r\n\r\nI am now rewarded with an absolutely huge list of files which fails to get deleted (I only include a sample due to lack of space):\r\n\r\n  \r\n\r\n      [INFO] Scanning for projects...\r\n        [INFO]\r\n        [INFO] ---------------------&lt; pxjobrunner:se.fohm.pxweb &gt;----------------------\r\n        [INFO] Building pxjobrunner 1.0-SNAPSHOT\r\n        [INFO] --------------------------------[ jar ]---------------------------------\r\n        [INFO]\r\n        [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ se.fohm.pxweb ---\r\n        [INFO] Deleting C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\\compile\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\MailClient.java\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\JobHelper.java\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\InjectionType.java\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\IndicatorHelper.java\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Indicator.java\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\FileUtils.java\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Constants.java\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Configuration.java\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\CommandHelper.java\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\r\n        [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\r\n        [WARNING] Failed to delete \r\n    \r\nAt the end of the log I find several other errors, seeming to claim folders can&#39;t be written to since access has been denied (again I can include only a sample):\r\n\r\n    \r\n\r\n    [INFO]\r\n        ------------------------------------------------------------------------ [INFO] BUILD FAILURE \r\n    [INFO]\r\n        ------------------------------------------------------------------------ [INFO] Total time:  02:06 min \r\n    [INFO] Finished at: 2023-03-20T10:52:42+01:00 \r\n    [INFO]\r\n    ------------------------------------------------------------------------ [ERROR] Failed to execute goal org.codehaus.gmavenplus:gmavenplus-plugin:1.5:generateStubs (default) on project se.fohm.pxweb: Error occurred while calling a method on a Groovy class from classpath.: InvocationTargetException: startup failed: [ERROR] General error during conversion: C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Configuration.java (Access is denied) \r\n    [ERROR] \r\n    [ERROR] java.io.FileNotFoundException: C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Configuration.java (Access is denied) [ERROR]         at java.io.FileOutputStream.open0(Native Method) [ERROR]         at java.io.FileOutputStream.open(FileOutputStream.java:270) [ERROR]       at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213) [ERROR]  at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:162) [ERROR]  at org.codehaus.groovy.tools.javac.JavaStubGenerator.generateClass(JavaStubGenerator.java:104) \r\n    [ERROR]         at org.codehaus.groovy.tools.javac.JavaStubCompilationUnit$2.call(JavaStubCompilationUnit.java:73) \r\n    [ERROR]         at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1055) \r\n    [ERROR]         at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:591) \r\n    [ERROR]         at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:569) \r\n    [ERROR]         at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:546) \r\n    [ERROR]         at org.codehaus.groovy.tools.javac.JavaStubCompilationUnit.compile(JavaStubCompilationUnit.java:93) \r\n    [ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n    [ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) \r\n    [ERROR]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \r\n    [ERROR]         at java.lang.reflect.Method.invoke(Method.java:498) [ERROR]         at org.codehaus.gmavenplus.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:118) \r\n    [ERROR]         at org.codehaus.gmavenplus.mojo.AbstractGenerateStubsMojo.doStubGeneration(AbstractGenerateStubsMojo.java:184) \r\n    [ERROR]         at org.codehaus.gmavenplus.mojo.GenerateStubsMojo.execute(GenerateStubsMojo.java:58) \r\n    [ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137) \r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210) \r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156) \r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148) \r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117) \r\n\r\n[UPDATE 1]\r\n\r\nIf I delete the entire target folder the script runs, but no px files are created in the out-folder. Near the end I find a note about non-valid indicators. \r\n\r\n    2023-03-20 12:16:27 INFO  JobHelper:? - 29 csv file(s)  found\r\n    2023-03-20 12:16:27 INFO  JobHelper:? - Indicators to be updated:a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,ea\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? - 0 valid indicators:\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? - 17 invalid indicators: g, n, e, b, h, c, j, f, i, o, ea, d, m, l, k, p, a\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [g: no set/ini file can be found for the indicator!, g: no header file can be found for the indicator!, g: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [n: no set/ini file can be found for the indicator!, n: no header file can be found for the indicator!, n: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [e: no set/ini file can be found for the indicator!, e: no header file can be found for the indicator!, e: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [b: no set/ini file can be found for the indicator!, b: no header file can be found for the indicator!, b: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [h: no set/ini file can be found for the indicator!, h: no header file can be found for the indicator!, h: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [c: no set/ini file can be found for the indicator!, c: no header file can be found for the indicator!, c: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [j: no set/ini file can be found for the indicator!, j: no header file can be found for the indicator!, j: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [f: no set/ini file can be found for the indicator!, f: no header file can be found for the indicator!, f: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [i: no set/ini file can be found for the indicator!, i: no header file can be found for the indicator!, i: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [o: no set/ini file can be found for the indicator!, o: no header file can be found for the indicator!, o: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [ea: no set/ini file can be found for the indicator!, ea: no header file can be found for the indicator!, ea: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [d: no set/ini file can be found for the indicator!, d: no header file can be found for the indicator!, d: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [m: no set/ini file can be found for the indicator!, m: no header file can be found for the indicator!, m: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [l: no set/ini file can be found for the indicator!, l: no header file can be found for the indicator!, l: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [k: no set/ini file can be found for the indicator!, k: no header file can be found for the indicator!, k: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [p: no set/ini file can be found for the indicator!, p: no header file can be found for the indicator!, p: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? -         [a: no set/ini file can be found for the indicator!, a: no header file can be found for the indicator!, a: no deployed px file path defined for the indicator!]\r\n    2023-03-20 12:16:27 DEBUG JobHelper:? - No valid indicator to update\r\n    2023-03-20 12:16:27 INFO  JobHelper:? - End of job\r\n    2023-03-20 12:16:27 INFO  JobHelper:? - List of erroneous files:\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  14.782 s\r\n    [INFO] Finished at: 2023-03-20T12:16:27+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n \r\n\r\nI don&#39;t code in groovy/maven/java at all, but I figure this might be a permission error somehow. I&#39;ve contacted IT in order to be able to run the command prompt in administrator mode and/or kick out my predecessor if he&#39;s still somehow logged into the system (According to some of [these answers][2], that might be an issue.\r\n\r\nApart from this I&#39;m not really sure what to do. Any ideas? \r\n\r\nI don&#39;t really have access (at least to my knowledge) to some kind of fancy point-and-click interface, I have access the command prompt and that&#39;s it.  \r\n\r\n\r\n[UPDATE 2]\r\n\r\nI managed to get administrator rights. That suppresses the first error, but the px-files still aren&#39;t generated. I get the same notes about invalid ini- and header files as above. \r\n\r\n  [1]: https://i.stack.imgur.com/T2Lia.png\r\n  [2]: https://stackoverflow.com/questions/19489720/maven-failed-to-clean-project-failed-to-delete-org-ow2-util-asm-asm-tree\r\n\r\n\r\n\r\n","title":"How to interpret these groovyscript/maven error messages","body":"<p>I'm supposed to convert this huge list of CSV files into PX files (as in &quot;PC Axis files&quot;). In order to do this, I'm supposed to run a groovy script, which has been working for my predecessor without issues.</p>\n<p>I follow the instructions and place the CSV-files in the in-directory. I'm supposed to just run the Windows Batch File in the folder below.</p>\n<p><a href=\"https://i.stack.imgur.com/T2Lia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T2Lia.png\" alt=\"enter image description here\" /></a></p>\n<p>This does not work however, so I run the command prompt and change my directory to the folder above. I then type</p>\n<pre><code>mvn clean compile gplus:execute -Pprod\n</code></pre>\n<p>And I get an error message complaining that a certain file (&quot;inputFiles.lst&quot;) can't be deleted.</p>\n<pre><code>[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ se.fohm.pxweb ---\n[INFO] Deleting C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.703 s\n[INFO] Finished at: 2023-03-20T10:22:18+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project se.fohm.pxweb: Failed to clean project: Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\inputFiles.lst -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>So I delete this file manually and it immediatly start complaining about another file</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ---------------------&lt; pxjobrunner:se.fohm.pxweb &gt;----------------------\n[INFO] Building pxjobrunner 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ se.fohm.pxweb ---\n[INFO] Deleting C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.750 s\n[INFO] Finished at: 2023-03-20T10:23:31+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project se.fohm.pxweb: Failed to clean project: Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\createdFiles.lst -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>If i delete &quot;that&quot;, it starts complaining about not being able to delete the whole directory. If I delete &quot;that&quot; it starts to complain about the parent directory and so forth.</p>\n<p>I then try telling the command prompt to ignore these errors. I type</p>\n<pre><code>mvn clean compile gplus:execute -Pprod -Dmaven.clean.failOnError=false\n</code></pre>\n<p>I am now rewarded with an absolutely huge list of files which fails to get deleted (I only include a sample due to lack of space):</p>\n<pre><code>  [INFO] Scanning for projects...\n    [INFO]\n    [INFO] ---------------------&lt; pxjobrunner:se.fohm.pxweb &gt;----------------------\n    [INFO] Building pxjobrunner 1.0-SNAPSHOT\n    [INFO] --------------------------------[ jar ]---------------------------------\n    [INFO]\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ se.fohm.pxweb ---\n    [INFO] Deleting C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\\compile\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\\maven-compiler-plugin\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\maven-status\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\MailClient.java\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\JobHelper.java\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\InjectionType.java\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\IndicatorHelper.java\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Indicator.java\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\FileUtils.java\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Constants.java\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Configuration.java\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\CommandHelper.java\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\n    [WARNING] Failed to delete C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\n    [WARNING] Failed to delete \n</code></pre>\n<p>At the end of the log I find several other errors, seeming to claim folders can't be written to since access has been denied (again I can include only a sample):</p>\n<pre><code>[INFO]\n    ------------------------------------------------------------------------ [INFO] BUILD FAILURE \n[INFO]\n    ------------------------------------------------------------------------ [INFO] Total time:  02:06 min \n[INFO] Finished at: 2023-03-20T10:52:42+01:00 \n[INFO]\n------------------------------------------------------------------------ [ERROR] Failed to execute goal org.codehaus.gmavenplus:gmavenplus-plugin:1.5:generateStubs (default) on project se.fohm.pxweb: Error occurred while calling a method on a Groovy class from classpath.: InvocationTargetException: startup failed: [ERROR] General error during conversion: C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Configuration.java (Access is denied) \n[ERROR] \n[ERROR] java.io.FileNotFoundException: C:\\Repos\\folkhalsodata\\pxjobbrunner\\groovy\\target\\generated-sources\\groovy-stubs\\main\\se\\fohm\\pxjob\\Configuration.java (Access is denied) [ERROR]         at java.io.FileOutputStream.open0(Native Method) [ERROR]         at java.io.FileOutputStream.open(FileOutputStream.java:270) [ERROR]       at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213) [ERROR]  at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:162) [ERROR]  at org.codehaus.groovy.tools.javac.JavaStubGenerator.generateClass(JavaStubGenerator.java:104) \n[ERROR]         at org.codehaus.groovy.tools.javac.JavaStubCompilationUnit$2.call(JavaStubCompilationUnit.java:73) \n[ERROR]         at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1055) \n[ERROR]         at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:591) \n[ERROR]         at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:569) \n[ERROR]         at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:546) \n[ERROR]         at org.codehaus.groovy.tools.javac.JavaStubCompilationUnit.compile(JavaStubCompilationUnit.java:93) \n[ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n[ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) \n[ERROR]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \n[ERROR]         at java.lang.reflect.Method.invoke(Method.java:498) [ERROR]         at org.codehaus.gmavenplus.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:118) \n[ERROR]         at org.codehaus.gmavenplus.mojo.AbstractGenerateStubsMojo.doStubGeneration(AbstractGenerateStubsMojo.java:184) \n[ERROR]         at org.codehaus.gmavenplus.mojo.GenerateStubsMojo.execute(GenerateStubsMojo.java:58) \n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137) \n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210) \n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156) \n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148) \n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117) \n</code></pre>\n<p>[UPDATE 1]</p>\n<p>If I delete the entire target folder the script runs, but no px files are created in the out-folder. Near the end I find a note about non-valid indicators.</p>\n<pre><code>2023-03-20 12:16:27 INFO  JobHelper:? - 29 csv file(s)  found\n2023-03-20 12:16:27 INFO  JobHelper:? - Indicators to be updated:a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,ea\n2023-03-20 12:16:27 DEBUG JobHelper:? - 0 valid indicators:\n2023-03-20 12:16:27 DEBUG JobHelper:? - 17 invalid indicators: g, n, e, b, h, c, j, f, i, o, ea, d, m, l, k, p, a\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [g: no set/ini file can be found for the indicator!, g: no header file can be found for the indicator!, g: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [n: no set/ini file can be found for the indicator!, n: no header file can be found for the indicator!, n: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [e: no set/ini file can be found for the indicator!, e: no header file can be found for the indicator!, e: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [b: no set/ini file can be found for the indicator!, b: no header file can be found for the indicator!, b: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [h: no set/ini file can be found for the indicator!, h: no header file can be found for the indicator!, h: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [c: no set/ini file can be found for the indicator!, c: no header file can be found for the indicator!, c: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [j: no set/ini file can be found for the indicator!, j: no header file can be found for the indicator!, j: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [f: no set/ini file can be found for the indicator!, f: no header file can be found for the indicator!, f: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [i: no set/ini file can be found for the indicator!, i: no header file can be found for the indicator!, i: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [o: no set/ini file can be found for the indicator!, o: no header file can be found for the indicator!, o: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [ea: no set/ini file can be found for the indicator!, ea: no header file can be found for the indicator!, ea: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [d: no set/ini file can be found for the indicator!, d: no header file can be found for the indicator!, d: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [m: no set/ini file can be found for the indicator!, m: no header file can be found for the indicator!, m: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [l: no set/ini file can be found for the indicator!, l: no header file can be found for the indicator!, l: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [k: no set/ini file can be found for the indicator!, k: no header file can be found for the indicator!, k: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [p: no set/ini file can be found for the indicator!, p: no header file can be found for the indicator!, p: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? -         [a: no set/ini file can be found for the indicator!, a: no header file can be found for the indicator!, a: no deployed px file path defined for the indicator!]\n2023-03-20 12:16:27 DEBUG JobHelper:? - No valid indicator to update\n2023-03-20 12:16:27 INFO  JobHelper:? - End of job\n2023-03-20 12:16:27 INFO  JobHelper:? - List of erroneous files:\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  14.782 s\n[INFO] Finished at: 2023-03-20T12:16:27+01:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>I don't code in groovy/maven/java at all, but I figure this might be a permission error somehow. I've contacted IT in order to be able to run the command prompt in administrator mode and/or kick out my predecessor if he's still somehow logged into the system (According to some of <a href=\"https://stackoverflow.com/questions/19489720/maven-failed-to-clean-project-failed-to-delete-org-ow2-util-asm-asm-tree\">these answers</a>, that might be an issue.</p>\n<p>Apart from this I'm not really sure what to do. Any ideas?</p>\n<p>I don't really have access (at least to my knowledge) to some kind of fancy point-and-click interface, I have access the command prompt and that's it.</p>\n<p>[UPDATE 2]</p>\n<p>I managed to get administrator rights. That suppresses the first error, but the px-files still aren't generated. I get the same notes about invalid ini- and header files as above.</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1369682242,"post_id":16779245,"comment_id":24176814,"body_markdown":"[This will provide you an adequate answer.](http://stackoverflow.com/a/16728381/1079354)","body":"<a href=\"http://stackoverflow.com/a/16728381/1079354\">This will provide you an adequate answer.</a>"},{"owner":{"account_id":6318774,"reputation":667,"user_id":4907720,"display_name":"Deepak"},"score":0,"creation_date":1469538629,"post_id":16779245,"comment_id":64569876,"body_markdown":"You can refer this link, providing the same knowledge:\nhttp://stackoverflow.com/questions/614818/what-is-the-difference-between-public-private-protected-and-nothing/614844#614844","body":"You can refer this link, providing the same knowledge: <a href=\"http://stackoverflow.com/questions/614818/what-is-the-difference-between-public-private-protected-and-nothing/614844#614844\" title=\"what is the difference between public private protected and nothing\">stackoverflow.com/questions/614818/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1369682164,"creation_date":1369682164,"answer_id":16779258,"question_id":16779245,"body_markdown":"&gt; I have noticed that if don&#39;t write public before a class its works same as like a public class.\r\n\r\nNo it doesn&#39;t. Unless it&#39;s public, the class won&#39;t be visible to other code which isn&#39;t in the same package. The default accessibility (which can&#39;t be specified explicitly) is that a class (or other member) is only visible to other code within the same package.\r\n\r\nYou should read the [Java Language Specification section 6.6][1] and the [Java Tutorial (Controlling Access to Members of a Class)][2] for more details.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"what is the difference between `public class` and just `class`?","body":"<blockquote>\n  <p>I have noticed that if don't write public before a class its works same as like a public class.</p>\n</blockquote>\n\n<p>No it doesn't. Unless it's public, the class won't be visible to other code which isn't in the same package. The default accessibility (which can't be specified explicitly) is that a class (or other member) is only visible to other code within the same package.</p>\n\n<p>You should read the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6\" rel=\"noreferrer\">Java Language Specification section 6.6</a> and the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">Java Tutorial (Controlling Access to Members of a Class)</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":600,"reputation":29352,"user_id":781,"accept_rate":96,"display_name":"Esteban Araya"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1369682223,"creation_date":1369682223,"answer_id":16779269,"question_id":16779245,"body_markdown":"Classes are `package private` by default (as outlined [here][1]) so it&#39;s not behaving the same way. You just think it is because you haven&#39;t tried to consume your class from a different package.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"what is the difference between `public class` and just `class`?","body":"<p>Classes are <code>package private</code> by default (as outlined <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">here</a>) so it's not behaving the same way. You just think it is because you haven't tried to consume your class from a different package.</p>\n"},{"comments":[{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":3,"creation_date":1540691202,"post_id":16779279,"comment_id":92956952,"body_markdown":"If the subject is a &#39;top&#39; level class, it cannnot be declared as either `private` or `protected`.","body":"If the subject is a &#39;top&#39; level class, it cannnot be declared as either <code>private</code> or <code>protected</code>."},{"owner":{"account_id":1018047,"reputation":36292,"user_id":1029146,"accept_rate":90,"display_name":"temporary_user_name"},"score":0,"creation_date":1547860247,"post_id":16779279,"comment_id":95350632,"body_markdown":"So that would mean that a private class can only ever operate completely independently, right?","body":"So that would mean that a private class can only ever operate completely independently, right?"}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":2,"down_vote_count":2,"up_vote_count":48,"is_accepted":true,"score":46,"last_activity_date":1369682266,"creation_date":1369682266,"answer_id":16779279,"question_id":16779245,"body_markdown":"`public`, `protected` and `private` are access modifiers. Public means that the subject may be accessed by any class, protected by subclass, private by the class itself, no modifier means &quot;package protected&quot;, so the subject may be accessed by classes from the same package. \r\n\r\nSubject is class, method, member variable. ","title":"what is the difference between `public class` and just `class`?","body":"<p><code>public</code>, <code>protected</code> and <code>private</code> are access modifiers. Public means that the subject may be accessed by any class, protected by subclass, private by the class itself, no modifier means \"package protected\", so the subject may be accessed by classes from the same package. </p>\n\n<p>Subject is class, method, member variable. </p>\n"},{"tags":[],"owner":{"account_id":554627,"reputation":342,"user_id":1554397,"accept_rate":50,"display_name":"Blocked"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369683221,"creation_date":1369683221,"answer_id":16779477,"question_id":16779245,"body_markdown":"For declarations of classes are avaible only two keywords: \r\n\r\n - **public** .Example: public class Student{//...}\r\n - private package(as default) .Example: class Note{//...} .It is visible only in his package.\r\n\r\nYou can use private and protected only if you declare an member inside of a class.\r\nExample:\r\n\r\n    public class Student{\r\n    protected Note note;\r\n    }\r\n\r\n","title":"what is the difference between `public class` and just `class`?","body":"<p>For declarations of classes are avaible only two keywords: </p>\n\n<ul>\n<li><strong>public</strong> .Example: public class Student{//...}</li>\n<li>private package(as default) .Example: class Note{//...} .It is visible only in his package.</li>\n</ul>\n\n<p>You can use private and protected only if you declare an member inside of a class.\nExample:</p>\n\n<pre><code>public class Student{\nprotected Note note;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242763,"reputation":851,"user_id":2326741,"accept_rate":100,"display_name":"The_301"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369686662,"creation_date":1369686662,"answer_id":16780185,"question_id":16779245,"body_markdown":"If you don&#39;t give an access modifier it&#39;s by default package private access. The class is not accessible outside of the package. Ideally the JLS should&#39;ve included a keyword for package access to avoid confusion and unintended consequences.\r\n\r\nSomething like,\r\n\r\n    default class Student{}\r\n\r\n","title":"what is the difference between `public class` and just `class`?","body":"<p>If you don't give an access modifier it's by default package private access. The class is not accessible outside of the package. Ideally the JLS should've included a keyword for package access to avoid confusion and unintended consequences.</p>\n\n<p>Something like,</p>\n\n<pre><code>default class Student{}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1679329165,"post_id":16785230,"comment_id":133698275,"body_markdown":"*At most* one. There can be zero.","body":"<i>At most</i> one. There can be zero."}],"tags":[],"owner":{"account_id":1628006,"reputation":1827,"user_id":1503080,"accept_rate":40,"display_name":"Asad"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679329190,"creation_date":1369722514,"answer_id":16785230,"question_id":16779245,"body_markdown":"There must be at most one public class per `.java` source file and the name of the file must match with this public class.","title":"what is the difference between `public class` and just `class`?","body":"<p>There must be at most one public class per <code>.java</code> source file and the name of the file must match with this public class.</p>\n"},{"tags":[],"owner":{"account_id":2781035,"reputation":1489,"user_id":2393593,"accept_rate":56,"display_name":"Morfidon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438021905,"creation_date":1438021905,"answer_id":31660622,"question_id":16779245,"body_markdown":"It works the same only because you are working with just probably one file and in the same package.\r\n\r\nIf you have more than one package then you have the problem. The class that doesn&#39;t have &quot;public&quot; before the name of class cannot be created in another package. You cannot use its constructor. You just cannot access it outside of the package that the class was created in.","title":"what is the difference between `public class` and just `class`?","body":"<p>It works the same only because you are working with just probably one file and in the same package.</p>\n\n<p>If you have more than one package then you have the problem. The class that doesn't have \"public\" before the name of class cannot be created in another package. You cannot use its constructor. You just cannot access it outside of the package that the class was created in.</p>\n"},{"tags":[],"owner":{"account_id":15535643,"reputation":1,"user_id":11207912,"display_name":"joe john"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553752789,"creation_date":1553752789,"answer_id":55391033,"question_id":16779245,"body_markdown":"No a normal class and a public class don&#39;t work the same .A class without a access modifier such as public is automatically set to default access.(No, you can&#39;t give default as access explicitly). If you create a default access class inside a package then that class cannot be accessed outside that package but public class can be accessed even outside that package","title":"what is the difference between `public class` and just `class`?","body":"<p>No a normal class and a public class don't work the same .A class without a access modifier such as public is automatically set to default access.(No, you can't give default as access explicitly). If you create a default access class inside a package then that class cannot be accessed outside that package but public class can be accessed even outside that package</p>\n"},{"comments":[{"owner":{"account_id":44499,"reputation":23474,"user_id":130659,"accept_rate":100,"display_name":"AlBlue"},"score":1,"creation_date":1610104862,"post_id":65627396,"comment_id":116032800,"body_markdown":"While the answer is not incorrect, it doesn&#39;t add any value to the other answers published here.","body":"While the answer is not incorrect, it doesn&#39;t add any value to the other answers published here."}],"tags":[],"owner":{"account_id":19576878,"reputation":21,"user_id":14326782,"display_name":"Abdulrazaq"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1610102017,"creation_date":1610102017,"answer_id":65627396,"question_id":16779245,"body_markdown":"A class not declared with any access modifier is automatically declared as DEFAULT at runtime \r\nWith these the class is accessible that same package  \r\nBut not any other package","title":"what is the difference between `public class` and just `class`?","body":"<p>A class not declared with any access modifier is automatically declared as DEFAULT at runtime\nWith these the class is accessible that same package<br />\nBut not any other package</p>\n"}],"owner":{"account_id":2075020,"reputation":4964,"user_id":1848639,"accept_rate":73,"display_name":"Tushar Monirul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115317,"favorite_count":0,"down_vote_count":1,"up_vote_count":58,"accepted_answer_id":16779279,"answer_count":9,"score":57,"last_activity_date":1679329190,"creation_date":1369682096,"question_id":16779245,"body_markdown":"I have noticed that if I don&#39;t write `public` before a class it works same as like a `public class`. I can&#39;t understand why so? It should show an error when I don&#39;t declare a class as `public`, `private` or `protected`. But it works fine. What is the reason? ","title":"what is the difference between `public class` and just `class`?","body":"<p>I have noticed that if I don't write <code>public</code> before a class it works same as like a <code>public class</code>. I can't understand why so? It should show an error when I don't declare a class as <code>public</code>, <code>private</code> or <code>protected</code>. But it works fine. What is the reason?</p>\n"},{"tags":["java","android"],"owner":{"account_id":19450360,"reputation":1,"user_id":14226917,"display_name":"Bimarsh Khatri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679328888,"creation_date":1679328865,"question_id":75792755,"body_markdown":"   I installed new electric Eel version of android studio. But whenever I try to run any project on this I just error message as shown below: \r\n\r\n\r\n \r\n\r\n\r\n***could not create a parent directory for lock file c:\\program files\\android\\android studio\\plugins\\gradle\\wrapper\\dists\\gradle-7.5-bin\\f1w0cc9nuo0eivz97x2xlu9sv\\gradle-7.5-bin.zip.lck***\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2jZJX.png","title":"Could not create parent directory in Android studio","body":"<p>I installed new electric Eel version of android studio. But whenever I try to run any project on this I just error message as shown below:</p>\n<p><em><strong>could not create a parent directory for lock file c:\\program files\\android\\android studio\\plugins\\gradle\\wrapper\\dists\\gradle-7.5-bin\\f1w0cc9nuo0eivz97x2xlu9sv\\gradle-7.5-bin.zip.lck</strong></em></p>\n"},{"tags":["java","homebrew","java-12"],"comments":[{"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"score":4,"creation_date":1570462831,"post_id":58272854,"comment_id":102912429,"body_markdown":"https://adoptopenjdk.net/releases.html#x64_mac","body":"<a href=\"https://adoptopenjdk.net/releases.html#x64_mac\" rel=\"nofollow noreferrer\">adoptopenjdk.net/releases.html#x64_mac</a>"},{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":1,"creation_date":1570462986,"post_id":58272854,"comment_id":102912516,"body_markdown":"Java 12 is [EOL](https://www.oracle.com/technetwork/java/java-se-support-roadmap.html#JavaSESupport).","body":"Java 12 is <a href=\"https://www.oracle.com/technetwork/java/java-se-support-roadmap.html#JavaSESupport\" rel=\"nofollow noreferrer\">EOL</a>."},{"owner":{"account_id":6586505,"reputation":907,"user_id":5089120,"accept_rate":85,"display_name":"Ruth"},"score":1,"creation_date":1570463223,"post_id":58272854,"comment_id":102912661,"body_markdown":"well eol or not I need it as java13 is not supported yet...","body":"well eol or not I need it as java13 is not supported yet..."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1570463596,"post_id":58272854,"comment_id":102912870,"body_markdown":"Java 13 will only be supported through March of 2020 - about 6 months.  Java 11 will be supported through at least September of 2022.  Be careful chasing the most recent release as you&#39;ll be dealing with a continuous stream of updates for Java and the tools around it.","body":"Java 13 will only be supported through March of 2020 - about 6 months.  Java 11 will be supported through at least September of 2022.  Be careful chasing the most recent release as you&#39;ll be dealing with a continuous stream of updates for Java and the tools around it."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1570542731,"post_id":58272854,"comment_id":102940304,"body_markdown":"Im not very familiar with Gradle.  How can Gradle not support Java 13 yet?  What will Gradle do differently if your JDK version is 13 instead of 12?","body":"Im not very familiar with Gradle.  How can Gradle not support Java 13 yet?  What will Gradle do differently if your JDK version is 13 instead of 12?"}],"answers":[{"comments":[{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":0,"creation_date":1570463739,"post_id":58273021,"comment_id":102912960,"body_markdown":"In addition to installing the JDKs listed here, you should also consider using a tool like JEnv https://www.jenv.be/ so you can more easily toggle between them at both a local and system-wide level. JEnv also lets to switch to other JDK releases too in case you need to use Coretto or even Oracle","body":"In addition to installing the JDKs listed here, you should also consider using a tool like JEnv <a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">jenv.be</a> so you can more easily toggle between them at both a local and system-wide level. JEnv also lets to switch to other JDK releases too in case you need to use Coretto or even Oracle"},{"owner":{"account_id":15424156,"reputation":8990,"user_id":11127383,"display_name":"Daniel Danielecki"},"score":0,"creation_date":1644570358,"post_id":58273021,"comment_id":125646534,"body_markdown":"`brew install cask adoptopenjdk12` as of 2021.","body":"<code>brew install cask adoptopenjdk12</code> as of 2021."},{"owner":{"account_id":11478578,"reputation":105,"user_id":8579340,"display_name":"Alfred Skaria"},"score":0,"creation_date":1659692241,"post_id":58273021,"comment_id":129359751,"body_markdown":"`brew install --cask adoptopenjdk12` as of 2022","body":"<code>brew install --cask adoptopenjdk12</code> as of 2022"}],"tags":[],"owner":{"account_id":6603722,"reputation":24395,"user_id":5101148,"display_name":"Simba"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1679328696,"creation_date":1570463337,"answer_id":58273021,"question_id":58272854,"body_markdown":"### Solution 1\r\n\r\nYou can get Java 12 from the [AdoptOpenJDK Homebrew tap](https://github.com/AdoptOpenJDK/homebrew-openjdk). (a tap is a formula repository) And the AdoptOpenJDK team maintains different versions of JDK in this repo.\r\n\r\n```shell\r\nbrew tap AdoptOpenJDK/openjdk\r\nbrew install --cask adoptopenjdk12\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n### Solution 2\r\n\r\n`java` is a formula defined in the repo [Homebrew-cask](https://github.com/Homebrew/homebrew-cask/search?o=desc&amp;q=java&amp;s=committer-date&amp;type=Commits). You can search and find the history file `java.rb` where Java 12 was defined within, and install Java 12 with the URL to that specific history file.\r\n\r\nThe following command installs vanilla OpenJDK (not the AdoptOpenJDK) 12.0.2.\r\n\r\n```shell\r\nbrew cask install https://raw.githubusercontent.com/Homebrew/homebrew-cask/26203ad42b40c4bc3baa2f6cfa8469f1245b7fbc/Casks/java.rb\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/mFL2B.png","title":"How do I install Java 12 on Mac OSX now that Java 13 is out?","body":"<h3>Solution 1</h3>\n<p>You can get Java 12 from the <a href=\"https://github.com/AdoptOpenJDK/homebrew-openjdk\" rel=\"nofollow noreferrer\">AdoptOpenJDK Homebrew tap</a>. (a tap is a formula repository) And the AdoptOpenJDK team maintains different versions of JDK in this repo.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>brew tap AdoptOpenJDK/openjdk\nbrew install --cask adoptopenjdk12\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mFL2B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mFL2B.png\" alt=\"enter image description here\" /></a></p>\n<h3>Solution 2</h3>\n<p><code>java</code> is a formula defined in the repo <a href=\"https://github.com/Homebrew/homebrew-cask/search?o=desc&amp;q=java&amp;s=committer-date&amp;type=Commits\" rel=\"nofollow noreferrer\">Homebrew-cask</a>. You can search and find the history file <code>java.rb</code> where Java 12 was defined within, and install Java 12 with the URL to that specific history file.</p>\n<p>The following command installs vanilla OpenJDK (not the AdoptOpenJDK) 12.0.2.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>brew cask install https://raw.githubusercontent.com/Homebrew/homebrew-cask/26203ad42b40c4bc3baa2f6cfa8469f1245b7fbc/Casks/java.rb\n</code></pre>\n"}],"owner":{"account_id":6586505,"reputation":907,"user_id":5089120,"accept_rate":85,"display_name":"Ruth"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8908,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"closed_date":1570463727,"accepted_answer_id":58273021,"answer_count":1,"score":3,"last_activity_date":1679328696,"creation_date":1570462722,"question_id":58272854,"body_markdown":"I cannot find Java 12 to install anymore, just Java 13. But Gradle does not support Java 13 yet, so I need to use 12 as an alternative for now. When I look in Homebrew using `brew search java` I find all sort of javas: Java 11, Java 6 (!) and Java, which used to be Java 12 but is now Java 13.\r\n\r\nAny idea how I can get Java 12?","title":"How do I install Java 12 on Mac OSX now that Java 13 is out?","body":"<p>I cannot find Java 12 to install anymore, just Java 13. But Gradle does not support Java 13 yet, so I need to use 12 as an alternative for now. When I look in Homebrew using <code>brew search java</code> I find all sort of javas: Java 11, Java 6 (!) and Java, which used to be Java 12 but is now Java 13.</p>\n\n<p>Any idea how I can get Java 12?</p>\n"},{"tags":["java","servlets","cookies","veracode","crlf-vulnerability"],"comments":[{"owner":{"display_name":"user4910279"},"score":1,"creation_date":1525121903,"post_id":50107932,"comment_id":87233536,"body_markdown":"You should remove `&#39;\\r&#39;` and `&#39;\\n&#39;` from `cookie`.  See [How to fix Improper Neutralization of CRLF Sequences in HTTP Headers (&#39;HTTP Response Splitting&#39;)](https://stackoverflow.com/questions/21993290/how-to-fix-improper-neutralization-of-crlf-sequences-in-http-headers-http-res)","body":"You should remove <code>&#39;\\r&#39;</code> and <code>&#39;\\n&#39;</code> from <code>cookie</code>.  See <a href=\"https://stackoverflow.com/questions/21993290/how-to-fix-improper-neutralization-of-crlf-sequences-in-http-headers-http-res\">How to fix Improper Neutralization of CRLF Sequences in HTTP Headers (&#39;HTTP Response Splitting&#39;)</a>"}],"answers":[{"tags":[],"owner":{"account_id":11794139,"reputation":664,"user_id":8629258,"display_name":"Sabesan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679328677,"creation_date":1679328677,"answer_id":75792718,"question_id":50107932,"body_markdown":"To prevent HTTP response splitting attacks, you can use the OWASP Encoder library to sanitize the cookie values in your code. First, add the following package to your Gradle project:\r\n```python\r\nimplementation &#39;org.owasp.encoder:encoder:1.2.3&#39;\r\n```\r\nIf you are using Maven, add the following dependency to your `pom.xml` file:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.owasp.encoder&lt;/groupId&gt;\r\n    &lt;artifactId&gt;encoder&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThen, in your Java code, import the `forJava()` method from the `org.owasp.encoder.Encode` class:\r\n\r\n```Java\r\nimport org.owasp.encoder.Encode.forJava;\r\n```\r\nNext, use the following code to sanitize your cookie values before adding them to the response:\r\n```Java\r\npublic void writeCookies() {\r\n    for (final Cookie cookie : cookies) {\r\n        // Sanitize the cookie value to remove CRLF characters\r\n        String sanitizedValue = forJava(cookie.getValue());\r\n\r\n        // Create a new cookie with the sanitized value\r\n        Cookie sanitizedCookie = new Cookie(cookie.getName(), sanitizedValue);\r\n        sanitizedCookie.setPath(cookie.getPath());\r\n        sanitizedCookie.setDomain(cookie.getDomain());\r\n        sanitizedCookie.setMaxAge(cookie.getMaxAge());\r\n        sanitizedCookie.setSecure(cookie.getSecure());\r\n        sanitizedCookie.setHttpOnly(cookie.isHttpOnly());\r\n\r\n        super.addCookie(sanitizedCookie);\r\n    }\r\n}\r\n```\r\nThis code loops through each cookie, sanitizes the value using the `forJava()` method, and creates a new cookie with the sanitized value. The new cookie is then added to the response using `super.addCookie()`.","title":"How to fix Improper Neutralization of CRLF Sequences in HTTP Headers","body":"<p>To prevent HTTP response splitting attacks, you can use the OWASP Encoder library to sanitize the cookie values in your code. First, add the following package to your Gradle project:</p>\n<pre class=\"lang-py prettyprint-override\"><code>implementation 'org.owasp.encoder:encoder:1.2.3'\n</code></pre>\n<p>If you are using Maven, add the following dependency to your <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.owasp.encoder&lt;/groupId&gt;\n    &lt;artifactId&gt;encoder&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then, in your Java code, import the <code>forJava()</code> method from the <code>org.owasp.encoder.Encode</code> class:</p>\n<pre><code>import org.owasp.encoder.Encode.forJava;\n</code></pre>\n<p>Next, use the following code to sanitize your cookie values before adding them to the response:</p>\n<pre><code>public void writeCookies() {\n    for (final Cookie cookie : cookies) {\n        // Sanitize the cookie value to remove CRLF characters\n        String sanitizedValue = forJava(cookie.getValue());\n\n        // Create a new cookie with the sanitized value\n        Cookie sanitizedCookie = new Cookie(cookie.getName(), sanitizedValue);\n        sanitizedCookie.setPath(cookie.getPath());\n        sanitizedCookie.setDomain(cookie.getDomain());\n        sanitizedCookie.setMaxAge(cookie.getMaxAge());\n        sanitizedCookie.setSecure(cookie.getSecure());\n        sanitizedCookie.setHttpOnly(cookie.isHttpOnly());\n\n        super.addCookie(sanitizedCookie);\n    }\n}\n</code></pre>\n<p>This code loops through each cookie, sanitizes the value using the <code>forJava()</code> method, and creates a new cookie with the sanitized value. The new cookie is then added to the response using <code>super.addCookie()</code>.</p>\n"}],"owner":{"account_id":6825737,"reputation":574,"user_id":5251510,"display_name":"Nicolas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679328677,"creation_date":1525121002,"question_id":50107932,"body_markdown":"After performing Vera code scan on my code, a flaw was reported saying &quot; Improper Neutralization of CRLF Sequences in HTTP Headers (&#39;HTTP Response Splitting - CWE ID 113&#39;) on the below code. How can I fix this code.\r\n\r\n    public void writeCookies() {\r\n    \t\t\tfor (final Cookie cookie : cookies) {\r\n    \t\t\t\tsuper.addCookie(cookie);\r\n    \t\t\t}\r\n\r\nHere I am trying to add the Cookie on **HttpServletResponseWrapper** object. The flaw code reported is super.addCookie(cookie). How to get rid of this finding. Please help.","title":"How to fix Improper Neutralization of CRLF Sequences in HTTP Headers","body":"<p>After performing Vera code scan on my code, a flaw was reported saying \" Improper Neutralization of CRLF Sequences in HTTP Headers ('HTTP Response Splitting - CWE ID 113') on the below code. How can I fix this code.</p>\n\n<pre><code>public void writeCookies() {\n            for (final Cookie cookie : cookies) {\n                super.addCookie(cookie);\n            }\n</code></pre>\n\n<p>Here I am trying to add the Cookie on <strong>HttpServletResponseWrapper</strong> object. The flaw code reported is super.addCookie(cookie). How to get rid of this finding. Please help.</p>\n"},{"tags":["java","apache-kafka","avro"],"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1681400540,"post_id":47268010,"comment_id":134053694,"body_markdown":"What is a `Syslog` class? There is a `SysLogMessage` in the schema so if you will generate class from it using for example `avro-maven-plugin` you&#39;ll can deserialize data to it.","body":"What is a <code>Syslog</code> class? There is a <code>SysLogMessage</code> in the schema so if you will generate class from it using for example <code>avro-maven-plugin</code> you&#39;ll can deserialize data to it."}],"answers":[{"tags":[],"owner":{"account_id":4912186,"reputation":6976,"user_id":3957182,"accept_rate":59,"display_name":"wandermonk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679328645,"creation_date":1510625043,"answer_id":47276527,"question_id":47268010,"body_markdown":"The issue is resolved by using the key, value of the GenericRecord\r\n\r\n    public class AvroConsumer&lt;T&gt; {\r\n    \r\n    \tprivate static Properties kafkaProps;\r\n    \r\n    \tstatic {\r\n    \t\tkafkaProps = new Properties();\r\n    \t\tkafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n    \t\tkafkaProps.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n    \t\tkafkaProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    \t\tkafkaProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\r\n    \t\tkafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;AvroConsumer-GroupOne&quot;);\r\n    \t}\r\n    \r\n    \tpublic void recieveRecord() throws IOException {\r\n           Schema.Parser parser = new Schema.Parser();\r\n    \t   final Schema schema = parser\r\n    \t\t\t\t\t\t.parse(AvroConsumer.class.getClassLoader().getResourceAsStream(&quot;syslog.avsc&quot;));\r\n            SpecificDatumReader&lt;T&gt; datumReader = new SpecificDatumReader&lt;&gt;(schema);\r\n    \t\ttry (KafkaConsumer&lt;String, byte[]&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(kafkaProps)) {\r\n    \t\t\tkafkaConsumer.subscribe(Arrays.asList(&quot;jason&quot;));\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tConsumerRecords&lt;String, byte[]&gt; records = kafkaConsumer.poll(100);\r\n    \t\t\t\trecords.forEach(record -&gt; {\r\n    \t\t\t\t\tByteArrayInputStream is = new ByteArrayInputStream(record.value());\r\n    \t\t\t\t\tBinaryDecoder binaryDecoder = DecoderFactory.get().binaryDecoder(is, null);\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tT log = datumReader.read(null, binaryDecoder);\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Value: &quot; + log);\r\n    \t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Avro serializer and deserializer with kafka java api","body":"<p>The issue is resolved by using the key, value of the GenericRecord</p>\n<pre><code>public class AvroConsumer&lt;T&gt; {\n\n    private static Properties kafkaProps;\n\n    static {\n        kafkaProps = new Properties();\n        kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        kafkaProps.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        kafkaProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        kafkaProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;AvroConsumer-GroupOne&quot;);\n    }\n\n    public void recieveRecord() throws IOException {\n       Schema.Parser parser = new Schema.Parser();\n       final Schema schema = parser\n                        .parse(AvroConsumer.class.getClassLoader().getResourceAsStream(&quot;syslog.avsc&quot;));\n        SpecificDatumReader&lt;T&gt; datumReader = new SpecificDatumReader&lt;&gt;(schema);\n        try (KafkaConsumer&lt;String, byte[]&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(kafkaProps)) {\n            kafkaConsumer.subscribe(Arrays.asList(&quot;jason&quot;));\n            while (true) {\n                ConsumerRecords&lt;String, byte[]&gt; records = kafkaConsumer.poll(100);\n                records.forEach(record -&gt; {\n                    ByteArrayInputStream is = new ByteArrayInputStream(record.value());\n                    BinaryDecoder binaryDecoder = DecoderFactory.get().binaryDecoder(is, null);\n                    try {\n                        T log = datumReader.read(null, binaryDecoder);\n                        System.out.println(&quot;Value: &quot; + log);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                });\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4912186,"reputation":6976,"user_id":3957182,"accept_rate":59,"display_name":"wandermonk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679328645,"creation_date":1510587340,"question_id":47268010,"body_markdown":"Kafka Avro serializer and deserializer is not working. I tried consuming the messages using the kafka console consumer and i could see the messages published.\r\n\r\n\r\n    public class AvroProducer&lt;T&gt; {\r\n    \r\n    \tprivate static Properties props;\r\n    \tstatic {\r\n    \t\tprops = new Properties();\r\n    \t\tprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;localhost:9092&quot;);\r\n    \t\tprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    \t\tprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ByteArraySerializer.class);\r\n    \t\tprops.put(ProducerConfig.CLIENT_ID_CONFIG, &quot;Kafka Avro Producer&quot;);\r\n    \t}\r\n    \t\r\n    \tprivate static KafkaProducer producer = new KafkaProducer&lt;&gt;(props);\r\n    \t\r\n    \tpublic byte[] createRecords(T pojo) throws IOException{\r\n    \t\tSchema.Parser parser = new Schema.Parser();\r\n    \t\tSchema schema = null;\r\n    \t\ttry {\r\n    \t\t\tschema = parser.parse(AvroProducer.class.getClassLoader().getResourceAsStream(&quot;syslog.avsc&quot;));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(e.getLocalizedMessage());\r\n    \t\t}\r\n    \t\t\r\n            final GenericData.Record record = new GenericData.Record(schema);\r\n            schema.getFields().forEach(r -&gt; record.put(r.name(), PropertyAccessorFactory.forDirectFieldAccess(pojo).getPropertyValue(r.name())));\r\n    \t\tSpecificDatumWriter&lt;GenericRecord&gt; writer = new SpecificDatumWriter&lt;&gt;(schema);\r\n    \t\ttry(ByteArrayOutputStream os = new ByteArrayOutputStream()){\r\n    \t\t\tBinaryEncoder encoder = EncoderFactory.get().binaryEncoder(os, null);\r\n    \t\t\t\r\n    \t\t\twriter.write(record, encoder);\r\n    \t\t\tencoder.flush();\r\n    \t\t\tbyte[] bytemessage = os.toByteArray();\r\n    \t\t\treturn bytemessage;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void sendMessage(byte[] bytemessage){\r\n    \t\tProducerRecord precord = new ProducerRecord&lt;StringSerializer, byte[]&gt;(&quot;jason&quot;, bytemessage);\r\n    \t\tproducer.send(precord);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n        public class AvroConsumer {\r\n    \t\r\n    \tprivate static Properties kafkaProps;\r\n    \r\n        static {\r\n        \tkafkaProps = new Properties();\r\n            kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n            kafkaProps.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n            kafkaProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            kafkaProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\r\n            kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;AvroConsumer-GroupOne&quot;);\r\n        }\r\n        \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static void recieveRecord() throws IOException{\r\n        \ttry (KafkaConsumer&lt;String,byte[]&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(kafkaProps)) {\r\n                kafkaConsumer.subscribe(Arrays.asList(&quot;jason&quot;));\r\n                while (true) {\r\n                    ConsumerRecords&lt;String,byte[]&gt; records = kafkaConsumer.poll(100);\r\n                    Schema.Parser parser = new Schema.Parser();\r\n            \t\tfinal Schema schema = parser.parse(AvroProducer.class.getClassLoader().getResourceAsStream(&quot;syslog.avsc&quot;));\r\n                    records.forEach(record -&gt; {\r\n                    \tSpecificDatumReader&lt;GenericRecord&gt; datumReader = new SpecificDatumReader&lt;&gt;(schema);\r\n                    \tByteArrayInputStream is = new ByteArrayInputStream(record.value());\r\n                        BinaryDecoder binaryDecoder = DecoderFactory.get().binaryDecoder(is, null);\r\n                        try {\r\n                            Syslog log = (Syslog) datumReader.read(null, binaryDecoder);\r\n                            \r\n                            System.out.println(&quot;Value: &quot; + log);\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nStack trace is as below.Please find the details. Can someone guide me with the right implementation. The problem seems to be with the casting record.how to access the value. How to read the data using the Specific Datum Reader.\r\n\r\n  \r\n\r\n    Exception in thread &quot;Thread-1&quot; java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.cisco.daas.kafka.Syslog\r\n    at com.cisco.daas.kafka.AvroConsumer.lambda$0(AvroConsumer.java:46)\r\n    at java.lang.Iterable.forEach(Unknown Source)\r\n    at com.cisco.daas.kafka.AvroConsumer.recieveRecord(AvroConsumer.java:41)\r\n    at com.cisco.daas.kafka.MainApp$1.run(MainApp.java:32)\r\n    at java.lang.Thread.run(Unknown Source)\r\n\r\nThis is the schema i am trying to parse\r\n\r\n    {\r\n    \t&quot;namespace&quot;: &quot;com.example.syslogmessage&quot;,\r\n    \t&quot;type&quot;: &quot;record&quot;,\r\n    \t&quot;name&quot;: &quot;SysLogMessage&quot;,\r\n    \t&quot;fields&quot;: [{\r\n    \t\t\t&quot;name&quot;: &quot;partyID&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;long&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;applianceID&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;message&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;severity&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;long&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;messageType&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;eventtime&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;long&quot;,\r\n    \t\t\t&quot;logicalType&quot;: &quot;timestamp-millis&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;ipaddress&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;hostname&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t}\r\n    \t]\r\n    }\r\n\r\n","title":"Avro serializer and deserializer with kafka java api","body":"<p>Kafka Avro serializer and deserializer is not working. I tried consuming the messages using the kafka console consumer and i could see the messages published.</p>\n\n<pre><code>public class AvroProducer&lt;T&gt; {\n\n    private static Properties props;\n    static {\n        props = new Properties();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\"localhost:9092\");\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ByteArraySerializer.class);\n        props.put(ProducerConfig.CLIENT_ID_CONFIG, \"Kafka Avro Producer\");\n    }\n\n    private static KafkaProducer producer = new KafkaProducer&lt;&gt;(props);\n\n    public byte[] createRecords(T pojo) throws IOException{\n        Schema.Parser parser = new Schema.Parser();\n        Schema schema = null;\n        try {\n            schema = parser.parse(AvroProducer.class.getClassLoader().getResourceAsStream(\"syslog.avsc\"));\n        } catch (IOException e) {\n            System.out.println(e.getLocalizedMessage());\n        }\n\n        final GenericData.Record record = new GenericData.Record(schema);\n        schema.getFields().forEach(r -&gt; record.put(r.name(), PropertyAccessorFactory.forDirectFieldAccess(pojo).getPropertyValue(r.name())));\n        SpecificDatumWriter&lt;GenericRecord&gt; writer = new SpecificDatumWriter&lt;&gt;(schema);\n        try(ByteArrayOutputStream os = new ByteArrayOutputStream()){\n            BinaryEncoder encoder = EncoderFactory.get().binaryEncoder(os, null);\n\n            writer.write(record, encoder);\n            encoder.flush();\n            byte[] bytemessage = os.toByteArray();\n            return bytemessage;\n        }\n\n    }\n\n    public static void sendMessage(byte[] bytemessage){\n        ProducerRecord precord = new ProducerRecord&lt;StringSerializer, byte[]&gt;(\"jason\", bytemessage);\n        producer.send(precord);\n    }\n}\n\n\n\n    public class AvroConsumer {\n\n    private static Properties kafkaProps;\n\n    static {\n        kafkaProps = new Properties();\n        kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n        kafkaProps.put(\"bootstrap.servers\", \"localhost:9092\");\n        kafkaProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        kafkaProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, \"AvroConsumer-GroupOne\");\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static void recieveRecord() throws IOException{\n        try (KafkaConsumer&lt;String,byte[]&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(kafkaProps)) {\n            kafkaConsumer.subscribe(Arrays.asList(\"jason\"));\n            while (true) {\n                ConsumerRecords&lt;String,byte[]&gt; records = kafkaConsumer.poll(100);\n                Schema.Parser parser = new Schema.Parser();\n                final Schema schema = parser.parse(AvroProducer.class.getClassLoader().getResourceAsStream(\"syslog.avsc\"));\n                records.forEach(record -&gt; {\n                    SpecificDatumReader&lt;GenericRecord&gt; datumReader = new SpecificDatumReader&lt;&gt;(schema);\n                    ByteArrayInputStream is = new ByteArrayInputStream(record.value());\n                    BinaryDecoder binaryDecoder = DecoderFactory.get().binaryDecoder(is, null);\n                    try {\n                        Syslog log = (Syslog) datumReader.read(null, binaryDecoder);\n\n                        System.out.println(\"Value: \" + log);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                });\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Stack trace is as below.Please find the details. Can someone guide me with the right implementation. The problem seems to be with the casting record.how to access the value. How to read the data using the Specific Datum Reader.</p>\n\n<pre><code>Exception in thread \"Thread-1\" java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.cisco.daas.kafka.Syslog\nat com.cisco.daas.kafka.AvroConsumer.lambda$0(AvroConsumer.java:46)\nat java.lang.Iterable.forEach(Unknown Source)\nat com.cisco.daas.kafka.AvroConsumer.recieveRecord(AvroConsumer.java:41)\nat com.cisco.daas.kafka.MainApp$1.run(MainApp.java:32)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>This is the schema i am trying to parse</p>\n\n<pre><code>{\n    \"namespace\": \"com.example.syslogmessage\",\n    \"type\": \"record\",\n    \"name\": \"SysLogMessage\",\n    \"fields\": [{\n            \"name\": \"partyID\",\n            \"type\": \"long\"\n        },\n        {\n            \"name\": \"applianceID\",\n            \"type\": \"string\"\n        },\n        {\n            \"name\": \"message\",\n            \"type\": \"string\"\n        },\n        {\n            \"name\": \"severity\",\n            \"type\": \"long\"\n        },\n        {\n            \"name\": \"messageType\",\n            \"type\": \"string\"\n        },\n        {\n            \"name\": \"eventtime\",\n            \"type\": \"long\",\n            \"logicalType\": \"timestamp-millis\"\n        },\n        {\n            \"name\": \"ipaddress\",\n            \"type\": \"string\"\n        },\n        {\n            \"name\": \"hostname\",\n            \"type\": \"string\"\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","groovy","zip","unzip"],"comments":[{"owner":{"account_id":40367,"reputation":798,"user_id":116973,"accept_rate":50,"display_name":"serverhorror"},"score":0,"creation_date":1476457816,"post_id":645847,"comment_id":67368829,"body_markdown":"Is this still a valid question/answer? What Groovy version is this referring too?","body":"Is this still a valid question/answer? What Groovy version is this referring too?"}],"answers":[{"comments":[{"owner":{"account_id":1093313,"reputation":989,"user_id":1087447,"accept_rate":67,"display_name":"Jazzschmidt"},"score":1,"creation_date":1504685697,"post_id":645852,"comment_id":79100625,"body_markdown":"Unfortunately, that article disappeared from the blog. Luckily [there is an archived version](https://web.archive.org/web/20151120062929/http://blog.xebia.com/2008/05/25/powerful-groovy/). But the [More Groovy Power](http://blog.xebia.com/more-groovy-power/) article is also good.","body":"Unfortunately, that article disappeared from the blog. Luckily <a href=\"https://web.archive.org/web/20151120062929/http://blog.xebia.com/2008/05/25/powerful-groovy/\" rel=\"nofollow noreferrer\">there is an archived version</a>. But the <a href=\"http://blog.xebia.com/more-groovy-power/\" rel=\"nofollow noreferrer\">More Groovy Power</a> article is also good."}],"tags":[],"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1679328641,"creation_date":1237033955,"answer_id":645852,"question_id":645847,"body_markdown":"AFAIK, there isn&#39;t a native way. But check out the article [Powerful Groovy][1] on how you&#39;d add a &lt;code&gt;.zip(...)&lt;/code&gt; method to File, which would be very close to what you&#39;re looking for. You&#39;d just need to make an &lt;code&gt;.unzip(...)&lt;/code&gt; method.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20151120062929/http://blog.xebia.com/2008/05/25/powerful-groovy/","title":"Unzip Archive with Groovy","body":"<p>AFAIK, there isn't a native way. But check out the article <a href=\"https://web.archive.org/web/20151120062929/http://blog.xebia.com/2008/05/25/powerful-groovy/\" rel=\"nofollow noreferrer\">Powerful Groovy</a> on how you'd add a <code>.zip(...)</code> method to File, which would be very close to what you're looking for. You'd just need to make an <code>.unzip(...)</code> method.</p>\n"},{"comments":[{"owner":{"account_id":346017,"reputation":1394,"user_id":679281,"display_name":"Tommy Strand"},"score":3,"creation_date":1351620121,"post_id":1280997,"comment_id":17879888,"body_markdown":"+1 for reminding me that groovy&#39;s .text replaces all the traditional java stream handling boiler plate.","body":"+1 for reminding me that groovy&#39;s .text replaces all the traditional java stream handling boiler plate."}],"tags":[],"owner":{"account_id":32846,"reputation":3058,"user_id":91444,"accept_rate":60,"display_name":"Chad Gorshing"},"comment_count":1,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1250303203,"creation_date":1250303203,"answer_id":1280997,"question_id":645847,"body_markdown":"Maybe Groovy doesn&#39;t have &#39;native&#39; support for zip files, but it is still pretty trivial to work with them.\r\n\r\nI&#39;m working with zip files and the following is some of the logic I&#39;m using:\r\n\r\n    def zipFile = new java.util.zip.ZipFile(new File(&#39;some.zip&#39;))\r\n\r\n    zipFile.entries().each {\r\n       println zipFile.getInputStream(it).text\r\n    }\r\n\r\nYou can add additional logic using a `findAll` method:\r\n\r\n    def zipFile = new java.util.zip.ZipFile(new File(&#39;some.zip&#39;))\r\n\r\n    zipFile.entries().findAll { !it.directory }.each {\r\n       println zipFile.getInputStream(it).text\r\n    }","title":"Unzip Archive with Groovy","body":"<p>Maybe Groovy doesn't have 'native' support for zip files, but it is still pretty trivial to work with them.</p>\n\n<p>I'm working with zip files and the following is some of the logic I'm using:</p>\n\n<pre><code>def zipFile = new java.util.zip.ZipFile(new File('some.zip'))\n\nzipFile.entries().each {\n   println zipFile.getInputStream(it).text\n}\n</code></pre>\n\n<p>You can add additional logic using a <code>findAll</code> method:</p>\n\n<pre><code>def zipFile = new java.util.zip.ZipFile(new File('some.zip'))\n\nzipFile.entries().findAll { !it.directory }.each {\n   println zipFile.getInputStream(it).text\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1220,"reputation":2646,"user_id":1622,"accept_rate":86,"display_name":"Dimitrios Mistriotis"},"score":0,"creation_date":1315904543,"post_id":2238489,"comment_id":8938027,"body_markdown":"@{Kirk G}. Do you know if following this approach, it is possible to make AntBuider quiet (not outputting to screen)?","body":"@{Kirk G}. Do you know if following this approach, it is possible to make AntBuider quiet (not outputting to screen)?"},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1337886717,"post_id":2238489,"comment_id":13960097,"body_markdown":"how do you use patterns here? how to unzip selective files?","body":"how do you use patterns here? how to unzip selective files?"},{"owner":{"account_id":272314,"reputation":649,"user_id":563328,"display_name":"Brad Lee"},"score":0,"creation_date":1408720900,"post_id":2238489,"comment_id":39710358,"body_markdown":"Note that ant.unzip is a simple wrapper around the existing ant unzip task.  The parameters you give are simply passed directly.  See https://ant.apache.org/manual/Tasks/unzip.html for more information.","body":"Note that ant.unzip is a simple wrapper around the existing ant unzip task.  The parameters you give are simply passed directly.  See <a href=\"https://ant.apache.org/manual/Tasks/unzip.html\" rel=\"nofollow noreferrer\">ant.apache.org/manual/Tasks/unzip.html</a> for more information."},{"owner":{"account_id":3816309,"reputation":9934,"user_id":3165602,"accept_rate":62,"display_name":"Oleg Sklyar"},"score":0,"creation_date":1499869951,"post_id":2238489,"comment_id":77094504,"body_markdown":"This approach is massively slow","body":"This approach is massively slow"}],"tags":[],"owner":{"account_id":98432,"reputation":503,"user_id":266444,"display_name":"Kirk G"},"comment_count":4,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1265819475,"creation_date":1265819475,"answer_id":2238489,"question_id":645847,"body_markdown":"In my experience, the best way to do this is to use the Antbuilder:\r\n\r\n    def ant = new AntBuilder()   // create an antbuilder\r\n\r\n    ant.unzip(  src:&quot;your-src.zip&quot;,\r\n                dest:&quot;your-dest-directory&quot;,\r\n                overwrite:&quot;false&quot; )\r\n\r\nThis way you aren&#39;t responsible for doing all the complicated stuff - ant takes care of it for you.  Obviously if you need something more granular then this isn&#39;t going to work, but for most &#39;just unzip this file&#39; scenarios this is really effective.\r\n\r\nTo use antbuilder, just include ant.jar and ant-launcher.jar in your classpath.\r\n\r\n","title":"Unzip Archive with Groovy","body":"<p>In my experience, the best way to do this is to use the Antbuilder:</p>\n\n<pre><code>def ant = new AntBuilder()   // create an antbuilder\n\nant.unzip(  src:\"your-src.zip\",\n            dest:\"your-dest-directory\",\n            overwrite:\"false\" )\n</code></pre>\n\n<p>This way you aren't responsible for doing all the complicated stuff - ant takes care of it for you.  Obviously if you need something more granular then this isn't going to work, but for most 'just unzip this file' scenarios this is really effective.</p>\n\n<p>To use antbuilder, just include ant.jar and ant-launcher.jar in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":625053,"reputation":11,"user_id":374109,"display_name":"Merlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1277287707,"creation_date":1277287707,"answer_id":3100673,"question_id":645847,"body_markdown":"This article expands on the AntBuilder example.\r\n\r\nhttp://preferisco.blogspot.com/2010/06/using-goovy-antbuilder-to-zip-unzip.html\r\n\r\nHowever, as a matter of principal - is there a way to find out all of the properties, closures, maps etc that can be used when researching a new facet in groovy/java?\r\nThere seem to be loads of really useful things, but how to unlock their hidden treasures? The NetBeans/Eclipse code-complete features now seem hopelessly limited in the new language richness that we have here. ","title":"Unzip Archive with Groovy","body":"<p>This article expands on the AntBuilder example.</p>\n\n<p><a href=\"http://preferisco.blogspot.com/2010/06/using-goovy-antbuilder-to-zip-unzip.html\" rel=\"nofollow noreferrer\">http://preferisco.blogspot.com/2010/06/using-goovy-antbuilder-to-zip-unzip.html</a></p>\n\n<p>However, as a matter of principal - is there a way to find out all of the properties, closures, maps etc that can be used when researching a new facet in groovy/java?\nThere seem to be loads of really useful things, but how to unlock their hidden treasures? The NetBeans/Eclipse code-complete features now seem hopelessly limited in the new language richness that we have here. </p>\n"},{"tags":[],"owner":{"account_id":155681,"reputation":7205,"user_id":372496,"accept_rate":86,"display_name":"Ganesh Krishnan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1373489345,"creation_date":1314238776,"answer_id":7184417,"question_id":645847,"body_markdown":"&lt;!-- language: groovy --&gt;\r\n\r\n    def zip(String s){\r\n        def targetStream = new ByteArrayOutputStream()\r\n        def zipStream = new GZIPOutputStream(targetStream)\r\n        zipStream.write(s.getBytes())\r\n        zipStream.close()\r\n        def zipped = targetStream.toByteArray()\r\n        targetStream.close()\r\n        return zipped.encodeBase64()\r\n    }","title":"Unzip Archive with Groovy","body":"<pre><code>def zip(String s){\n    def targetStream = new ByteArrayOutputStream()\n    def zipStream = new GZIPOutputStream(targetStream)\n    zipStream.write(s.getBytes())\n    zipStream.close()\n    def zipped = targetStream.toByteArray()\n    targetStream.close()\n    return zipped.encodeBase64()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340016401,"creation_date":1340016401,"answer_id":11081240,"question_id":645847,"body_markdown":"Unzip using AntBuilder is good way.  \r\nSecond option is use an third party library - I recommend [Zip4j][1]\r\n\r\n\r\n  [1]: http://www.lingala.net/zip4j/","title":"Unzip Archive with Groovy","body":"<p>Unzip using AntBuilder is good way.<br>\nSecond option is use an third party library - I recommend <a href=\"http://www.lingala.net/zip4j/\" rel=\"nofollow\">Zip4j</a></p>\n"},{"tags":[],"owner":{"account_id":19248,"reputation":4391,"user_id":44963,"accept_rate":75,"display_name":"Andre Steingress"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1366900116,"creation_date":1366900116,"answer_id":16217473,"question_id":645847,"body_markdown":"The Groovy common extension project provides this functionality for Groovy 2.0 and above: https://github.com/timyates/groovy-common-extensions","title":"Unzip Archive with Groovy","body":"<p>The Groovy common extension project provides this functionality for Groovy 2.0 and above: <a href=\"https://github.com/timyates/groovy-common-extensions\" rel=\"nofollow\">https://github.com/timyates/groovy-common-extensions</a></p>\n"},{"tags":[],"owner":{"account_id":43736,"reputation":9289,"user_id":127971,"display_name":"michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390846226,"creation_date":1390846226,"answer_id":21388389,"question_id":645847,"body_markdown":"Although taking the question a bit into another direction, I started off using Groovy for a DSL that I was building, but ended up using Gradle as a starting point to better handle a lot of the file-based tasks that I wanted to do (eg., unzip and untar files, execute other programs, etc). Gradle builds on what groovy can do, and can be extended further via plugins. \r\n\r\n\r\n    // build.gradle\r\n    task doUnTar &lt;&lt; {\r\n        copy {\r\n            // tarTree uses file ext to guess compression, or may be specific\r\n            from tarTree(resources.gzip(&#39;foo.tar.gz&#39;))\r\n            into getBuildDir()\r\n        }\r\n    }\r\n    \r\n    task doUnZip &lt;&lt; {\r\n        copy {\r\n            from zipTree(&#39;bar.zip&#39;)\r\n            into getBuildDir()\r\n        }\r\n    }\r\n\r\n\r\nThen, for example (this extracts the `bar.zip` and `foo.tgz` into the directory `build`):\r\n\r\n    $ gradle doUnZip\r\n    $ gradle doUnTar\r\n\r\n","title":"Unzip Archive with Groovy","body":"<p>Although taking the question a bit into another direction, I started off using Groovy for a DSL that I was building, but ended up using Gradle as a starting point to better handle a lot of the file-based tasks that I wanted to do (eg., unzip and untar files, execute other programs, etc). Gradle builds on what groovy can do, and can be extended further via plugins. </p>\n\n<pre><code>// build.gradle\ntask doUnTar &lt;&lt; {\n    copy {\n        // tarTree uses file ext to guess compression, or may be specific\n        from tarTree(resources.gzip('foo.tar.gz'))\n        into getBuildDir()\n    }\n}\n\ntask doUnZip &lt;&lt; {\n    copy {\n        from zipTree('bar.zip')\n        into getBuildDir()\n    }\n}\n</code></pre>\n\n<p>Then, for example (this extracts the <code>bar.zip</code> and <code>foo.tgz</code> into the directory <code>build</code>):</p>\n\n<pre><code>$ gradle doUnZip\n$ gradle doUnTar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9514861,"reputation":41,"user_id":7071632,"display_name":"Ravi Natesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479308917,"creation_date":1479274909,"answer_id":40624832,"question_id":645847,"body_markdown":"The below groovy methods will unzip into specific folder (C:\\folder). Hope this helps.\r\n\r\n    import org.apache.commons.io.FileUtils\r\n    import java.nio.file.Files\r\n    import java.nio.file.Paths\r\n    import java.util.zip.ZipFile\r\n\r\n    def unzipFile(File file) {\r\n        cleanupFolder()\r\n        def zipFile = new ZipFile(file)\r\n        zipFile.entries().each { it -&gt;\r\n            def path = Paths.get(&#39;c:\\\\folder\\\\&#39; + it.name)\r\n            if(it.directory){\r\n                Files.createDirectories(path)\r\n            }\r\n            else {\r\n                def parentDir = path.getParent()\r\n                if (!Files.exists(parentDir)) {\r\n                    Files.createDirectories(parentDir)\r\n                }\r\n                Files.copy(zipFile.getInputStream(it), path)\r\n            }\r\n        }\r\n    }\r\n\r\n    private cleanupFolder() {\r\n        FileUtils.deleteDirectory(new File(&#39;c:\\\\folder\\\\&#39;))\r\n    }","title":"Unzip Archive with Groovy","body":"<p>The below groovy methods will unzip into specific folder (C:\\folder). Hope this helps.</p>\n\n<pre><code>import org.apache.commons.io.FileUtils\nimport java.nio.file.Files\nimport java.nio.file.Paths\nimport java.util.zip.ZipFile\n\ndef unzipFile(File file) {\n    cleanupFolder()\n    def zipFile = new ZipFile(file)\n    zipFile.entries().each { it -&gt;\n        def path = Paths.get('c:\\\\folder\\\\' + it.name)\n        if(it.directory){\n            Files.createDirectories(path)\n        }\n        else {\n            def parentDir = path.getParent()\n            if (!Files.exists(parentDir)) {\n                Files.createDirectories(parentDir)\n            }\n            Files.copy(zipFile.getInputStream(it), path)\n        }\n    }\n}\n\nprivate cleanupFolder() {\n    FileUtils.deleteDirectory(new File('c:\\\\folder\\\\'))\n}\n</code></pre>\n"}],"owner":{"account_id":22567,"reputation":1819,"user_id":55800,"accept_rate":100,"display_name":"HaBaLeS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48159,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":645852,"answer_count":9,"score":31,"last_activity_date":1679328641,"creation_date":1237033734,"question_id":645847,"body_markdown":"is there a built-in support in Groovy to handle Zip files (the groovy way)? \r\n\r\nOr do i have to use Java&#39;s java.util.zip.ZipFile to process Zip files in Groovy ?","title":"Unzip Archive with Groovy","body":"<p>is there a built-in support in Groovy to handle Zip files (the groovy way)? </p>\n\n<p>Or do i have to use Java's java.util.zip.ZipFile to process Zip files in Groovy ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":5,"creation_date":1679328154,"post_id":75792594,"comment_id":133697997,"body_markdown":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question *as text*, [not as pictures of text](https://meta.stackoverflow.com/q/285551/328193).  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question <i>as text</i>, <a href=\"https://meta.stackoverflow.com/q/285551/328193\">not as pictures of text</a>.  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":4,"creation_date":1679328249,"post_id":75792594,"comment_id":133698020,"body_markdown":"Having said that... The error is just telling you that the method *must always* return a string.  What does the method currently return if the loop is never entered?  Nothing at all.  Add a `return` statement (or throw an exception) after the loop.","body":"Having said that... The error is just telling you that the method <i>must always</i> return a string.  What does the method currently return if the loop is never entered?  Nothing at all.  Add a <code>return</code> statement (or throw an exception) after the loop."},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1679328592,"post_id":75792594,"comment_id":133698114,"body_markdown":"Additionally, I think you meant to put your `return null;` after the loop rather than inside it. Currently it will only check the first element with the conditional statement and either return the value or null. It wont check any other elements.","body":"Additionally, I think you meant to put your <code>return null;</code> after the loop rather than inside it. Currently it will only check the first element with the conditional statement and either return the value or null. It wont check any other elements."}],"answers":[{"tags":[],"owner":{"account_id":8821317,"reputation":31,"user_id":6591086,"display_name":"Basic7x7"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679328637,"creation_date":1679328637,"answer_id":75792708,"question_id":75792594,"body_markdown":"I think you want to return `null` only if no number is found. So move the `return null` in line 49 to line 51 after the `}` of the for-loop.\r\n\r\nThe posted code never reaches `i=1`, because the loop always returns in the first iteration.\r\n\r\nThe error tells you, that cases exists where the method ends without a `return` statement. This is the case if `cpt=0`, for example.","title":"I recieve this error when i compile my java file: This method must return a result of type String","body":"<p>I think you want to return <code>null</code> only if no number is found. So move the <code>return null</code> in line 49 to line 51 after the <code>}</code> of the for-loop.</p>\n<p>The posted code never reaches <code>i=1</code>, because the loop always returns in the first iteration.</p>\n<p>The error tells you, that cases exists where the method ends without a <code>return</code> statement. This is the case if <code>cpt=0</code>, for example.</p>\n"}],"owner":{"account_id":28067280,"reputation":9,"user_id":21440479,"display_name":"Manal L"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1679933199,"answer_count":1,"score":-1,"last_activity_date":1679328637,"creation_date":1679328034,"question_id":75792594,"body_markdown":"[code source:](https://i.stack.imgur.com/ErbnX.png)\r\n\r\ni try both return and System.out.println() but nothing have changed,help please.","title":"I recieve this error when i compile my java file: This method must return a result of type String","body":"<p><a href=\"https://i.stack.imgur.com/ErbnX.png\" rel=\"nofollow noreferrer\">code source:</a></p>\n<p>i try both return and System.out.println() but nothing have changed,help please.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1427516587,"post_id":29313610,"comment_id":46820373,"body_markdown":"What build error it is throwing?","body":"What build error it is throwing?"},{"owner":{"account_id":216144,"reputation":1333,"user_id":471199,"accept_rate":75,"display_name":"mithrandir"},"score":0,"creation_date":1427516968,"post_id":29313610,"comment_id":46820435,"body_markdown":"It is giving errors with all the class references E.g. [ERROR]   symbol:   class Mapping\n  location: class DataLoadScenario","body":"It is giving errors with all the class references E.g. [ERROR]   symbol:   class Mapping   location: class DataLoadScenario"},{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1427518970,"post_id":29313610,"comment_id":46820753,"body_markdown":"Maven clean goal, clean everything. Run &quot;clean install&quot; it will first clean and then rebuild it.","body":"Maven clean goal, clean everything. Run &quot;clean install&quot; it will first clean and then rebuild it."}],"answers":[{"comments":[{"owner":{"account_id":216144,"reputation":1333,"user_id":471199,"accept_rate":75,"display_name":"mithrandir"},"score":0,"creation_date":1427523463,"post_id":29314142,"comment_id":46821421,"body_markdown":"Right. This is what I did finally !!","body":"Right. This is what I did finally !!"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1427553113,"post_id":29314142,"comment_id":46828405,"body_markdown":"Can be made simpler. Delete the project from your workspace in Eclipse. Remove all folders `.settings` and the files `.project`, `.classpath` . Afterwards import the full project new into Eclipse.","body":"Can be made simpler. Delete the project from your workspace in Eclipse. Remove all folders <code>.settings</code> and the files <code>.project</code>, <code>.classpath</code> . Afterwards import the full project new into Eclipse."}],"tags":[],"owner":{"account_id":2225983,"reputation":2712,"user_id":1964750,"accept_rate":59,"display_name":"ravindrab"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1427521933,"creation_date":1427521933,"answer_id":29314142,"question_id":29313610,"body_markdown":"Eclipse sometimes behave oddly. I have found recreating the project from scratch is the best way when encountered a scenario like this.\r\n\r\nTo create project from scratch. Use `maven archtype`. Follow the link [here][1].\r\n\r\nThen copy your current sources over to the newly created projects. \r\n\r\n\r\n  [1]: http://www.mkyong.com/maven/how-to-create-a-web-application-project-with-maven/","title":"Maven project structure corrupted","body":"<p>Eclipse sometimes behave oddly. I have found recreating the project from scratch is the best way when encountered a scenario like this.</p>\n\n<p>To create project from scratch. Use <code>maven archtype</code>. Follow the link <a href=\"http://www.mkyong.com/maven/how-to-create-a-web-application-project-with-maven/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Then copy your current sources over to the newly created projects. </p>\n"}],"owner":{"account_id":216144,"reputation":1333,"user_id":471199,"accept_rate":75,"display_name":"mithrandir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29314142,"answer_count":1,"score":0,"last_activity_date":1679328196,"creation_date":1427516082,"question_id":29313610,"body_markdown":"I am building a Java Web Project (JAX-RS). Initially the project had the right structure. However after doing a maven clean and maven update the structure of the project seems to be corrupted in Eclipse. \r\n\r\nInitially the layout was as follows:\r\n\r\n\t-Root\r\n\t\t--src/main/java\r\n\t\t--src/test/java\r\n\t\t--..\r\n\r\nAfter the clean-up the layout appears as:\r\n\r\n\t-Root\r\n\t\t--src\r\n\t\t\t--main.java.com..&lt;package1&gt;\r\n\t\t\t--main.java.com..&lt;package2&gt;\r\n\t\t\t--...\r\n\t\t--src/test/java\r\n\t\t--..\r\n\r\nAlso now the whole project no longer builds. Any ideas as to how this can be fixed ?\r\n\r\n","title":"Maven project structure corrupted","body":"<p>I am building a Java Web Project (JAX-RS). Initially the project had the right structure. However after doing a maven clean and maven update the structure of the project seems to be corrupted in Eclipse. </p>\n\n<p>Initially the layout was as follows:</p>\n\n<pre><code>-Root\n    --src/main/java\n    --src/test/java\n    --..\n</code></pre>\n\n<p>After the clean-up the layout appears as:</p>\n\n<pre><code>-Root\n    --src\n        --main.java.com..&lt;package1&gt;\n        --main.java.com..&lt;package2&gt;\n        --...\n    --src/test/java\n    --..\n</code></pre>\n\n<p>Also now the whole project no longer builds. Any ideas as to how this can be fixed ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":1,"creation_date":1679225754,"post_id":75781505,"comment_id":133679837,"body_markdown":"You shouldn&#39;t call `setContentView` twice, by the way - just once, with the XML view for the activity","body":"You shouldn&#39;t call <code>setContentView</code> twice, by the way - just once, with the XML view for the activity"}],"owner":{"account_id":15933892,"reputation":1,"user_id":11497545,"display_name":"Nasa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679327684,"creation_date":1679223476,"question_id":75781505,"body_markdown":"I am trying to implement a MapView in an empty activity page. I believe I have followed all the correct steps but when I try and go to the activity that contains the MapView the app immediately crashes and I get the following error.\r\n\r\n- `Attempt to invoke virtual method &#39;void com.google.android.gms.maps.MapView.onCreate(android.os.Bundle)&#39; on a null object reference`\r\n\r\nBelow is my On Create:\r\n\r\n```\r\n    public class Activity_Location_Services extends AppCompatActivity implements OnMapReadyCallback{\r\n\r\n\r\n    MapView mapView;\r\n\r\n    private GoogleMap mMap;\r\n\r\n    ActivityMapsBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setTitle(&quot;My Location Details&quot;);\r\n\r\n\r\n        setContentView(R.layout.activity_location_services);\r\n\r\n        setContentView(R.layout.activity_maps);\r\n\r\n        mapView = findViewById(R.id.mapView);\r\n        mapView.onCreate(savedInstanceState);\r\n        mapView.getMapAsync((OnMapReadyCallback) this);\r\n    }\r\n```\r\n\r\nand my On Map Ready:\r\n```\r\n\r\n     @Override\r\n     public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        // Add a marker in Sydney and move the camera\r\n        LatLng sydney = new LatLng(-34, 151);\r\n        mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\r\n    }\r\n\r\n```\r\n\r\nBelow is my `XML`as well:\r\n```\r\n\r\n    &lt;com.google.android.gms.maps.MapView\r\n    android:id=&quot;@+id/mapView&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;0dp&quot;\r\n    android:layout_marginStart=&quot;8dp&quot;\r\n    android:layout_marginTop=&quot;8dp&quot;\r\n    android:layout_marginEnd=&quot;8dp&quot;\r\n    android:layout_marginBottom=&quot;8dp&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    tools:context=&quot;.MapsActivity&quot;&gt;\r\n    &lt;/com.google.android.gms.maps.MapView&gt;\r\n\r\n```\r\nI wont include my `onStart`, `onStop` etc... but they are all there.\r\n\r\nAny help would be appreciated.\r\n\r\nI have tried all forum posts relating to this issue and my error has persisted.","title":"MapView crashes the app when I try and open the activity that it is contained within","body":"<p>I am trying to implement a MapView in an empty activity page. I believe I have followed all the correct steps but when I try and go to the activity that contains the MapView the app immediately crashes and I get the following error.</p>\n<ul>\n<li><code>Attempt to invoke virtual method 'void com.google.android.gms.maps.MapView.onCreate(android.os.Bundle)' on a null object reference</code></li>\n</ul>\n<p>Below is my On Create:</p>\n<pre><code>    public class Activity_Location_Services extends AppCompatActivity implements OnMapReadyCallback{\n\n\n    MapView mapView;\n\n    private GoogleMap mMap;\n\n    ActivityMapsBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setTitle(&quot;My Location Details&quot;);\n\n\n        setContentView(R.layout.activity_location_services);\n\n        setContentView(R.layout.activity_maps);\n\n        mapView = findViewById(R.id.mapView);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync((OnMapReadyCallback) this);\n    }\n</code></pre>\n<p>and my On Map Ready:</p>\n<pre><code>\n     @Override\n     public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        // Add a marker in Sydney and move the camera\n        LatLng sydney = new LatLng(-34, 151);\n        mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\n    }\n\n</code></pre>\n<p>Below is my <code>XML</code>as well:</p>\n<pre><code>\n    &lt;com.google.android.gms.maps.MapView\n    android:id=&quot;@+id/mapView&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:layout_marginStart=&quot;8dp&quot;\n    android:layout_marginTop=&quot;8dp&quot;\n    android:layout_marginEnd=&quot;8dp&quot;\n    android:layout_marginBottom=&quot;8dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    tools:context=&quot;.MapsActivity&quot;&gt;\n    &lt;/com.google.android.gms.maps.MapView&gt;\n\n</code></pre>\n<p>I wont include my <code>onStart</code>, <code>onStop</code> etc... but they are all there.</p>\n<p>Any help would be appreciated.</p>\n<p>I have tried all forum posts relating to this issue and my error has persisted.</p>\n"},{"tags":["java","hibernate","jakarta-ee","jpa-2.0","type-mismatch"],"answers":[{"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1505392421,"post_id":46216182,"comment_id":79400999,"body_markdown":"Actually, I cannot change those names in the Java source code as I&#39;m not allowed to change them in the SQL tables, they have to match :s","body":"Actually, I cannot change those names in the Java source code as I&#39;m not allowed to change them in the SQL tables, they have to match :s"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cdk"},"score":0,"creation_date":1505394483,"post_id":46216182,"comment_id":79402569,"body_markdown":"Well, you can give them differents names in Java and use the same name in the `@Column` annotation, but anyway this is not the point here, have changed the `@JoinColumns` configuration?","body":"Well, you can give them differents names in Java and use the same name in the <code>@Column</code> annotation, but anyway this is not the point here, have changed the <code>@JoinColumns</code> configuration?"}],"tags":[],"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cdk"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505383773,"creation_date":1505383452,"answer_id":46216182,"question_id":46159867,"body_markdown":"I think the problem comes from the `name` attribute used in your `@JoinColumn` mapping, in your `Two` class, where the value used for `name` is the same as `referencedColumnName`.\r\n\r\nIn fact `Two` class already has `P_ID` and `L_ID` attributes embedded from its `TwoPk` class, so when you will use the same names `name = &quot;P_ID&quot;` and `name = &quot;L_ID&quot;`, you can&#39;t map both class because these attributes are already in this `Entity` so you should specify different names:\r\n\r\n    @JoinColumns({\r\n        @JoinColumn(name = &quot;OneP_ID&quot;, referencedColumnName = &quot;P_ID&quot;, insertable = false, updatable = false),\r\n        @JoinColumn(name = &quot;OneL_ID&quot;, referencedColumnName = &quot;L_ID&quot;, insertable = false, updatable = false)})\r\n    @OneToOne(optional = false)\r\n    private One one;\r\n\r\n**Note:**\r\n\r\nIf you are using two differents classes for PKs, why are you using the same attributes names in both classes, it would better if you identified them with differents names in `OnePk` and `TwoPk` as :\r\n\r\nRespectively `oneDId` and `oneLId` in your `OnePk` class and `twoDId` and `twoLId` in your `TwoPk` class, this will make things better and easier to read, to identify and to map.","title":"&quot;org.hibernate.TypeMismatchException: Provided id of the wrong type&quot; when using @OneToOne for a bi-directional relation","body":"<p>I think the problem comes from the <code>name</code> attribute used in your <code>@JoinColumn</code> mapping, in your <code>Two</code> class, where the value used for <code>name</code> is the same as <code>referencedColumnName</code>.</p>\n\n<p>In fact <code>Two</code> class already has <code>P_ID</code> and <code>L_ID</code> attributes embedded from its <code>TwoPk</code> class, so when you will use the same names <code>name = \"P_ID\"</code> and <code>name = \"L_ID\"</code>, you can't map both class because these attributes are already in this <code>Entity</code> so you should specify different names:</p>\n\n<pre><code>@JoinColumns({\n    @JoinColumn(name = \"OneP_ID\", referencedColumnName = \"P_ID\", insertable = false, updatable = false),\n    @JoinColumn(name = \"OneL_ID\", referencedColumnName = \"L_ID\", insertable = false, updatable = false)})\n@OneToOne(optional = false)\nprivate One one;\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>If you are using two differents classes for PKs, why are you using the same attributes names in both classes, it would better if you identified them with differents names in <code>OnePk</code> and <code>TwoPk</code> as :</p>\n\n<p>Respectively <code>oneDId</code> and <code>oneLId</code> in your <code>OnePk</code> class and <code>twoDId</code> and <code>twoLId</code> in your <code>TwoPk</code> class, this will make things better and easier to read, to identify and to map.</p>\n"},{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":0,"creation_date":1679327262,"post_id":46281460,"comment_id":133697741,"body_markdown":"Using the same id class `OnePK` as primary key for classes `One` and `Two` implies that both tables have the identifier column names.","body":"Using the same id class <code>OnePK</code> as primary key for classes <code>One</code> and <code>Two</code> implies that both tables have the identifier column names."}],"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1505743854,"creation_date":1505743854,"answer_id":46281460,"question_id":46159867,"body_markdown":"At first, I increased the TTL connection timeout in Oracle UCP by calling [this method][1] in order to get rid of the `GenericJDBCException`. Some requests were taking too much time to execute whereas the time allowed to keep a connection in use was too low.\r\n\r\nSecondly, I used the same class named OnePK as the primary key of both classes One and Two.\r\n\r\nThirdly, I added `@XmlTransient` into the class Two before the method getOne() in order to fix the cycle in the XML serialization.\r\n\r\nFourthly, I modified my managers so that they call Two.setOne(final One one) in order to expose complete objects (instances of Two) for the source code calling the persistence layer without using the web services.\r\n\r\nAt last, I fixed some similar cases but with simpler primary keys composed of only one column by using `@MapsId`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E11882_01/java.112/e12826/oracle/ucp/jdbc/PoolDataSource.html#setTimeToLiveConnectionTimeout_int_","title":"&quot;org.hibernate.TypeMismatchException: Provided id of the wrong type&quot; when using @OneToOne for a bi-directional relation","body":"<p>At first, I increased the TTL connection timeout in Oracle UCP by calling <a href=\"https://docs.oracle.com/cd/E11882_01/java.112/e12826/oracle/ucp/jdbc/PoolDataSource.html#setTimeToLiveConnectionTimeout_int_\" rel=\"nofollow noreferrer\">this method</a> in order to get rid of the <code>GenericJDBCException</code>. Some requests were taking too much time to execute whereas the time allowed to keep a connection in use was too low.</p>\n\n<p>Secondly, I used the same class named OnePK as the primary key of both classes One and Two.</p>\n\n<p>Thirdly, I added <code>@XmlTransient</code> into the class Two before the method getOne() in order to fix the cycle in the XML serialization.</p>\n\n<p>Fourthly, I modified my managers so that they call Two.setOne(final One one) in order to expose complete objects (instances of Two) for the source code calling the persistence layer without using the web services.</p>\n\n<p>At last, I fixed some similar cases but with simpler primary keys composed of only one column by using <code>@MapsId</code>.</p>\n"},{"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1679440160,"post_id":75792481,"comment_id":133722363,"body_markdown":"Glad to know it works for you but it seems to be dirty, I don&#39;t exactly measure the consequences.","body":"Glad to know it works for you but it seems to be dirty, I don&#39;t exactly measure the consequences."}],"tags":[],"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679327402,"creation_date":1679327402,"answer_id":75792481,"question_id":46159867,"body_markdown":"I solved this issue by having one side of the relation with `@OneToOne` and the second side of the relation as `@ManyToOne`. The IDE may warn about mapping incoherence, but it works.","title":"&quot;org.hibernate.TypeMismatchException: Provided id of the wrong type&quot; when using @OneToOne for a bi-directional relation","body":"<p>I solved this issue by having one side of the relation with <code>@OneToOne</code> and the second side of the relation as <code>@ManyToOne</code>. The IDE may warn about mapping incoherence, but it works.</p>\n"}],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3037,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46281460,"answer_count":3,"score":2,"last_activity_date":1679327402,"creation_date":1505145780,"question_id":46159867,"body_markdown":"I don&#39;t succeed in using @OneToOne when the composite primary key is the same in both classes:\r\n\r\n    @Entity\r\n    public class One implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        @EmbeddedId\r\n        private OnePK onePK;\r\n        @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;one&quot;)\r\n        private Two two;\r\n        //... constructors, getters and setters\r\n    }\r\n\r\n    @Entity\r\n    public class Two implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        @EmbeddedId\r\n        private TwoPK twoPK;\r\n        @JoinColumns({\r\n            @JoinColumn(name = &quot;P_ID&quot;, referencedColumnName = &quot;P_ID&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;L_ID&quot;, referencedColumnName = &quot;L_ID&quot;, insertable = false, updatable = false)})\r\n        @OneToOne(optional = false)\r\n        private One one;\r\n        //... constructors, getters and setters\r\n    }\r\n\r\n    @Embeddable\r\n    public class OnePK implements Serializable {\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;P_ID&quot;)\r\n        private BigInteger dId;\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;L_ID&quot;)\r\n        private BigInteger lId;\r\n        //... constructors, getters and setters\r\n    }\r\n\r\n    @Embeddable\r\n    public class TwoPK implements Serializable {\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;P_ID&quot;)\r\n        private BigInteger dId;\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;L_ID&quot;)\r\n        private BigInteger lId;\r\n        //... constructors, getters and setters\r\n    }\r\n\r\nWhen I use the source code above as is, I get:\r\n\r\n&gt; 12:56:04,021 WARNING [org.apache.cxf.phase.PhaseInterceptorChain]\r\n&gt; (default task-83) Application\r\n&gt; {http://services.webservices.*****.******.com/}ObjectManagerService#{http://services.webservices.*****.******.com/}getAllObjects\r\n&gt; has thrown exception, unwinding now: org.apache.cxf.interceptor.Fault:\r\n&gt; java.lang.IllegalArgumentException:\r\n&gt; org.hibernate.TypeMismatchException: Provided id of the wrong type for\r\n&gt; class com.******.*****.**.********.Two. Expected: class\r\n&gt; com.******.*****.**.********.TwoPK, got class\r\n&gt; com.******.*****.**.********.OnePK \tat\r\n&gt; org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:162)\r\n&gt; \tat\r\n&gt; org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.createFault(AbstractJAXWSMethodInvoker.java:267)\r\n&gt; \tat\r\n&gt; \r\n\r\nWhen I use the same class (OnePK) as the primary key of both classes (One and Two), I get:\r\n\r\n&gt; 11:44:35,735 WARNING [org.apache.cxf.phase.PhaseInterceptorChain]\r\n&gt; (default task-83) Interceptor for\r\n&gt; {http://services.webservices.*****.******.com/}ObjectManagerService#{http://services.webservices.*****.******.com/}getAllObjects\r\n&gt; has thrown exception, unwinding now: org.apache.cxf.interceptor.Fault:\r\n&gt; Marshalling Error: A cycle is detected in the object graph. This will\r\n&gt; cause infinitely deep XML : One[ onePK=OnePK[ dId=3151, lId=426 ] ] -&gt;\r\n&gt; Two[ twoPK=OnePK[ dId=3151, lId=426 ] ] -&gt; One[ onePK=OnePK[ dId=3151,\r\n&gt; lId=426 ] ] \tat\r\n&gt; org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:266)\r\n&gt; \tat\r\n&gt; org.apache.cxf.jaxb.io.DataWriterImpl.write(DataWriterImpl.java:238)\r\n&gt; \tat\r\n&gt; org.apache.cxf.interceptor.AbstractOutDatabindingInterceptor.writeParts(AbstractOutDatabindingInterceptor.java:118)\r\n&gt; \tat\r\n\r\nUsing @PrimaryKeyJoinColumns didn&#39;t help, I used [this answer][1] and [this tutorial][2], I got the same error messages. Using @MapsId didn&#39;t help, I got &quot;org.hibernate.exception.GenericJDBCException: could not prepare statement&quot;. Maybe the root cause is [this unfixed bug of Hibernate][3]. The only workaround that I&#39;ve found consists in removing the very first occurrence of @OneToOne and the field &quot;two&quot; in the class &quot;One&quot; but the instance of Two contained by an instance of One no longer gets deleted when I delete this instance of One, that&#39;s why I used CascadeType.ALL.\r\n\r\nThis JPA source code is auto-generated by Netbeans 8. I&#39;m a bit out of options. Is there a way of making it work correctly? Is it really a limitation of Hibernate? Is there another implementation of JPA handling this case correctly?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10805591/458157\r\n  [2]: http://www.mkyong.com/hibernate/hibernate-one-to-one-relationship-example-annotation/\r\n  [3]: https://hibernate.atlassian.net/browse/HHH-3993\r\n  ","title":"&quot;org.hibernate.TypeMismatchException: Provided id of the wrong type&quot; when using @OneToOne for a bi-directional relation","body":"<p>I don't succeed in using @OneToOne when the composite primary key is the same in both classes:</p>\n\n<pre><code>@Entity\npublic class One implements Serializable {\n    private static final long serialVersionUID = 1L;\n    @EmbeddedId\n    private OnePK onePK;\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = \"one\")\n    private Two two;\n    //... constructors, getters and setters\n}\n\n@Entity\npublic class Two implements Serializable {\n    private static final long serialVersionUID = 1L;\n    @EmbeddedId\n    private TwoPK twoPK;\n    @JoinColumns({\n        @JoinColumn(name = \"P_ID\", referencedColumnName = \"P_ID\", insertable = false, updatable = false),\n        @JoinColumn(name = \"L_ID\", referencedColumnName = \"L_ID\", insertable = false, updatable = false)})\n    @OneToOne(optional = false)\n    private One one;\n    //... constructors, getters and setters\n}\n\n@Embeddable\npublic class OnePK implements Serializable {\n    @Basic(optional = false)\n    @Column(name = \"P_ID\")\n    private BigInteger dId;\n    @Basic(optional = false)\n    @Column(name = \"L_ID\")\n    private BigInteger lId;\n    //... constructors, getters and setters\n}\n\n@Embeddable\npublic class TwoPK implements Serializable {\n    @Basic(optional = false)\n    @Column(name = \"P_ID\")\n    private BigInteger dId;\n    @Basic(optional = false)\n    @Column(name = \"L_ID\")\n    private BigInteger lId;\n    //... constructors, getters and setters\n}\n</code></pre>\n\n<p>When I use the source code above as is, I get:</p>\n\n<blockquote>\n  <p>12:56:04,021 WARNING [org.apache.cxf.phase.PhaseInterceptorChain]\n  (default task-83) Application\n  {<a href=\"http://services.webservices\" rel=\"nofollow noreferrer\">http://services.webservices</a>.*****.******.com/}ObjectManagerService#{<a href=\"http://services.webservices\" rel=\"nofollow noreferrer\">http://services.webservices</a>.*****.******.com/}getAllObjects\n  has thrown exception, unwinding now: org.apache.cxf.interceptor.Fault:\n  java.lang.IllegalArgumentException:\n  org.hibernate.TypeMismatchException: Provided id of the wrong type for\n  class com.******.*****.<strong>.********.Two. Expected: class\n  com.******.*****.</strong>.********.TwoPK, got class\n  com.******.*****.**.********.OnePK    at\n  org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:162)\n    at\n  org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.createFault(AbstractJAXWSMethodInvoker.java:267)\n    at</p>\n</blockquote>\n\n<p>When I use the same class (OnePK) as the primary key of both classes (One and Two), I get:</p>\n\n<blockquote>\n  <p>11:44:35,735 WARNING [org.apache.cxf.phase.PhaseInterceptorChain]\n  (default task-83) Interceptor for\n  {<a href=\"http://services.webservices\" rel=\"nofollow noreferrer\">http://services.webservices</a>.*****.******.com/}ObjectManagerService#{<a href=\"http://services.webservices\" rel=\"nofollow noreferrer\">http://services.webservices</a>.*****.******.com/}getAllObjects\n  has thrown exception, unwinding now: org.apache.cxf.interceptor.Fault:\n  Marshalling Error: A cycle is detected in the object graph. This will\n  cause infinitely deep XML : One[ onePK=OnePK[ dId=3151, lId=426 ] ] ->\n  Two[ twoPK=OnePK[ dId=3151, lId=426 ] ] -> One[ onePK=OnePK[ dId=3151,\n  lId=426 ] ]   at\n  org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:266)\n    at\n  org.apache.cxf.jaxb.io.DataWriterImpl.write(DataWriterImpl.java:238)\n    at\n  org.apache.cxf.interceptor.AbstractOutDatabindingInterceptor.writeParts(AbstractOutDatabindingInterceptor.java:118)\n    at</p>\n</blockquote>\n\n<p>Using @PrimaryKeyJoinColumns didn't help, I used <a href=\"https://stackoverflow.com/a/10805591/458157\">this answer</a> and <a href=\"http://www.mkyong.com/hibernate/hibernate-one-to-one-relationship-example-annotation/\" rel=\"nofollow noreferrer\">this tutorial</a>, I got the same error messages. Using @MapsId didn't help, I got \"org.hibernate.exception.GenericJDBCException: could not prepare statement\". Maybe the root cause is <a href=\"https://hibernate.atlassian.net/browse/HHH-3993\" rel=\"nofollow noreferrer\">this unfixed bug of Hibernate</a>. The only workaround that I've found consists in removing the very first occurrence of @OneToOne and the field \"two\" in the class \"One\" but the instance of Two contained by an instance of One no longer gets deleted when I delete this instance of One, that's why I used CascadeType.ALL.</p>\n\n<p>This JPA source code is auto-generated by Netbeans 8. I'm a bit out of options. Is there a way of making it work correctly? Is it really a limitation of Hibernate? Is there another implementation of JPA handling this case correctly?</p>\n"},{"tags":["java","amazon-web-services","maven"],"comments":[{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1648873421,"post_id":71713849,"comment_id":126739730,"body_markdown":"share the main handler class which is implementing the `RequestHandler` interface.","body":"share the main handler class which is implementing the <code>RequestHandler</code> interface."}],"answers":[{"tags":[],"owner":{"account_id":3562886,"reputation":129,"user_id":7922545,"display_name":"izayoi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648883075,"creation_date":1648883075,"answer_id":71715537,"question_id":71713849,"body_markdown":"Please check following sample, save as `src\\main\\java\\com\\abc\\test\\TestServiceHandler.java` \r\n\r\n    package com.abc.test;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestStreamHandler;\r\n    import com.amazonaws.services.lambda.runtime.LambdaLogger;\r\n    \r\n    public class TestServiceHandler implements RequestStreamHandler {\r\n      \r\n      @Override\r\n      public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\r\n          LambdaLogger logger = context.getLogger();\r\n          logger.log(&quot;Started up&quot;);\r\n          return;\r\n      }\r\n    }\r\n\r\nCompile, and upload jar as you mentioned in question.\r\n\r\nIn aws lambda console code tab, under Runtime settings, Handler, edit it to `com.abc.test.TestServiceHandler` to call lambda.\r\n\r\nPoint from [here](https://stackoverflow.com/questions/55299255/what-interface-should-a-serverless-scheduled-java-function-implement) says use `RequestStreamHandler` instead of `RequestHandler` which [sample from doc](https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html) used. It looks like importent.\r\n","title":"SpringBoot AWS Lambda application deployment issue-Class not found: com.abc.test.TestServiceHandler","body":"<p>Please check following sample, save as <code>src\\main\\java\\com\\abc\\test\\TestServiceHandler.java</code></p>\n<pre><code>package com.abc.test;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestStreamHandler;\nimport com.amazonaws.services.lambda.runtime.LambdaLogger;\n\npublic class TestServiceHandler implements RequestStreamHandler {\n  \n  @Override\n  public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\n      LambdaLogger logger = context.getLogger();\n      logger.log(&quot;Started up&quot;);\n      return;\n  }\n}\n</code></pre>\n<p>Compile, and upload jar as you mentioned in question.</p>\n<p>In aws lambda console code tab, under Runtime settings, Handler, edit it to <code>com.abc.test.TestServiceHandler</code> to call lambda.</p>\n<p>Point from <a href=\"https://stackoverflow.com/questions/55299255/what-interface-should-a-serverless-scheduled-java-function-implement\">here</a> says use <code>RequestStreamHandler</code> instead of <code>RequestHandler</code> which <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html\" rel=\"nofollow noreferrer\">sample from doc</a> used. It looks like importent.</p>\n"},{"tags":[],"owner":{"account_id":5304401,"reputation":81,"user_id":4232872,"display_name":"Kodeffeminate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650905942,"creation_date":1650905942,"answer_id":72003111,"question_id":71713849,"body_markdown":"Turns out my issue is related to my local machine (mac) that I am building my JAR from.From what I have debugged,the architecture used to build the jar is causing issues when deployed on Lambda.\r\nBuilding the jar from windows machine did not cause any issues.\r\n\r\n","title":"SpringBoot AWS Lambda application deployment issue-Class not found: com.abc.test.TestServiceHandler","body":"<p>Turns out my issue is related to my local machine (mac) that I am building my JAR from.From what I have debugged,the architecture used to build the jar is causing issues when deployed on Lambda.\nBuilding the jar from windows machine did not cause any issues.</p>\n"},{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655649784,"creation_date":1655649784,"answer_id":72677786,"question_id":71713849,"body_markdown":"add this in your pom, you are missing thin layout plugin\r\n\r\n          &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot.experimental/spring-boot-thin-layout --&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-thin-layout&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0.28.RELEASE&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;","title":"SpringBoot AWS Lambda application deployment issue-Class not found: com.abc.test.TestServiceHandler","body":"<p>add this in your pom, you are missing thin layout plugin</p>\n<pre><code>      &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;dependencies&gt;\n                &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot.experimental/spring-boot-thin-layout --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-thin-layout&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.28.RELEASE&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19939841,"reputation":131,"user_id":14611777,"display_name":"Surajit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679327353,"creation_date":1679327353,"answer_id":75792464,"question_id":71713849,"body_markdown":"Class name should be Handler.\r\nYou can write this way....\r\n\r\npublic class Handler implements RequestStreamHandler {\r\n\r\n@Override\r\n  public void handleRequest(final InputStream inputStream, final OutputStream outputStream, Context context) {\r\n    LambdaLogger logger = context.getLogger();\r\n    \r\n  }\r\n}","title":"SpringBoot AWS Lambda application deployment issue-Class not found: com.abc.test.TestServiceHandler","body":"<p>Class name should be Handler.\nYou can write this way....</p>\n<p>public class Handler implements RequestStreamHandler {</p>\n<p>@Override\npublic void handleRequest(final InputStream inputStream, final OutputStream outputStream, Context context) {\nLambdaLogger logger = context.getLogger();</p>\n<p>}\n}</p>\n"}],"owner":{"account_id":5304401,"reputation":81,"user_id":4232872,"display_name":"Kodeffeminate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1679327353,"creation_date":1648857877,"question_id":71713849,"body_markdown":"Created a Spring boot application using Java 11 and trying to deploy in AWS Lambda.\r\nEncountering the following error in AWS Lambda. I see it is an issue with the way I am packaging the jar.\r\nAny help is greatly appreciated.\r\n\r\n    {\r\n      &quot;errorMessage&quot;: &quot;Class not found: com.abc.test.TestServiceHandler&quot;,\r\n      &quot;errorType&quot;: &quot;java.lang.ClassNotFoundException&quot;\r\n    }\r\n\r\nI am building the jar  using the following maven commands:\r\n\r\n   \r\n\r\n \r\n  \r\n\r\n - **mvn clean install**  \r\n - **&lt;p&gt;mvn package -P shade**\r\n\r\n\r\n\r\n \r\n\r\nBelow is my pom.xml\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.abc.test.store&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${revision}&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;Test-service&lt;/name&gt;\r\n    \t&lt;description&gt;Test Service&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;revision&gt;local-SNAPSHOT&lt;/revision&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;spring.boot.parent.version&gt;2.6.4&lt;/spring.boot.parent.version&gt;\r\n    \t\t&lt;commons.lang3.version&gt;3.12.0&lt;/commons.lang3.version&gt;\r\n    \t\t&lt;commons.collections.version&gt;4.4&lt;/commons.collections.version&gt;    \t\t&lt;aws.sdk.secretsmanager.version&gt;1.12.150&lt;/aws.sdk.secretsmanager.version&gt;\r\n    \t\t&lt;jacoco.version&gt;0.8.7&lt;/jacoco.version&gt;\r\n    \t\t&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-serverless-java-container-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${aws.sdk.secretsmanager.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${commons.lang3.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${commons.collections.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;sonar&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;sonar.coverage.exclusions&gt;\r\n    \t\t\t\t\t**/test/model/**/*,\r\n    \t\t\t\t&lt;/sonar.coverage.exclusions&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;sbmp&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t\t\t&lt;plugins&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t&lt;/build&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;shade&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t\t\t&lt;plugins&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;artifactSet&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;excludes&gt;    \t\t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;*:spring-boot-devtools&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/artifactSet&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t&lt;/build&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"SpringBoot AWS Lambda application deployment issue-Class not found: com.abc.test.TestServiceHandler","body":"<p>Created a Spring boot application using Java 11 and trying to deploy in AWS Lambda.\nEncountering the following error in AWS Lambda. I see it is an issue with the way I am packaging the jar.\nAny help is greatly appreciated.</p>\n<pre><code>{\n  &quot;errorMessage&quot;: &quot;Class not found: com.abc.test.TestServiceHandler&quot;,\n  &quot;errorType&quot;: &quot;java.lang.ClassNotFoundException&quot;\n}\n</code></pre>\n<p>I am building the jar  using the following maven commands:</p>\n<ul>\n<li><strong>mvn clean install</strong></li>\n<li><strong><p>mvn package -P shade</strong></li>\n</ul>\n<p>Below is my pom.xml</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.abc.test.store&lt;/groupId&gt;\n    &lt;artifactId&gt;test-service&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Test-service&lt;/name&gt;\n    &lt;description&gt;Test Service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;revision&gt;local-SNAPSHOT&lt;/revision&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;spring.boot.parent.version&gt;2.6.4&lt;/spring.boot.parent.version&gt;\n        &lt;commons.lang3.version&gt;3.12.0&lt;/commons.lang3.version&gt;\n        &lt;commons.collections.version&gt;4.4&lt;/commons.collections.version&gt;          &lt;aws.sdk.secretsmanager.version&gt;1.12.150&lt;/aws.sdk.secretsmanager.version&gt;\n        &lt;jacoco.version&gt;0.8.7&lt;/jacoco.version&gt;\n        &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n    &lt;/properties&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-serverless-java-container-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n            &lt;version&gt;${aws.sdk.secretsmanager.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons.lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;${commons.collections.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;sonar&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;sonar.coverage.exclusions&gt;\n                    **/test/model/**/*,\n                &lt;/sonar.coverage.exclusions&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;sbmp&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;shade&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;shade&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;artifactSet&gt;\n                                        &lt;excludes&gt;                                              &lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\n                                            &lt;exclude&gt;*:spring-boot-devtools&lt;/exclude&gt;\n                                        &lt;/excludes&gt;\n                                    &lt;/artifactSet&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","tuples","std-pair"],"comments":[{"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"score":10,"creation_date":1340847385,"post_id":156275,"comment_id":14763843,"body_markdown":"Why is `AbstractMap.SimpleEntry` convoluted?","body":"Why is <code>AbstractMap.SimpleEntry</code> convoluted?"},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1366305037,"post_id":156275,"comment_id":22969763,"body_markdown":"See my answer http://stackoverflow.com/a/16089164/173149 where I use **AbstractMap.SimpleImmutableEntry** without any problem (complicated example).","body":"See my answer <a href=\"http://stackoverflow.com/a/16089164/173149\">stackoverflow.com/a/16089164/173149</a> where I use <b>AbstractMap.SimpleImmutableEntry</b> without any problem (complicated example)."},{"owner":{"account_id":3253353,"reputation":157,"user_id":2743088,"accept_rate":50,"display_name":"haansn08"},"score":0,"creation_date":1407524672,"post_id":156275,"comment_id":39264078,"body_markdown":"`SimpleEntry` has three methods not inherited from `Object`. Why should it be &quot;convoluted&quot;?","body":"<code>SimpleEntry</code> has three methods not inherited from <code>Object</code>. Why should it be &quot;convoluted&quot;?"},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":29,"creation_date":1410789628,"post_id":156275,"comment_id":40445927,"body_markdown":"Because of the namig, arbitrary naming one key and one value.","body":"Because of the namig, arbitrary naming one key and one value."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1418764925,"post_id":156275,"comment_id":43458570,"body_markdown":"See also http://stackoverflow.com/questions/6271731/whats-the-best-way-to-return-a-pair-of-values-in-java","body":"See also <a href=\"http://stackoverflow.com/questions/6271731/whats-the-best-way-to-return-a-pair-of-values-in-java\" title=\"whats the best way to return a pair of values in java\">stackoverflow.com/questions/6271731/&hellip;</a>"},{"owner":{"account_id":533893,"reputation":6266,"user_id":1407170,"accept_rate":83,"display_name":"sffc"},"score":0,"creation_date":1445601137,"post_id":156275,"comment_id":54402044,"body_markdown":"If using Java 8, `import javafx.util.Pair` solves your problems.","body":"If using Java 8, <code>import javafx.util.Pair</code> solves your problems."},{"owner":{"account_id":2651660,"reputation":1129,"user_id":2306193,"display_name":"Cord Rehn"},"score":2,"creation_date":1464378035,"post_id":156275,"comment_id":62478702,"body_markdown":"@sffc JavaFX isn&#39;t on any of the default classpaths in JDK7, using it requires the JFX runtime libraries be added manually.","body":"@sffc JavaFX isn&#39;t on any of the default classpaths in JDK7, using it requires the JFX runtime libraries be added manually."},{"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"score":4,"creation_date":1473620884,"post_id":156275,"comment_id":66201738,"body_markdown":"@Enerccio: So, you actually state that &quot;first&quot; and &quot;second&quot; is not arbitrary, while &quot;key&quot; and &quot;value&quot; - is? Then this is one good reason for not having such class in SDK. There would be an everlasting dispute about &quot;proper&quot; naming.","body":"@Enerccio: So, you actually state that &quot;first&quot; and &quot;second&quot; is not arbitrary, while &quot;key&quot; and &quot;value&quot; - is? Then this is one good reason for not having such class in SDK. There would be an everlasting dispute about &quot;proper&quot; naming."}],"answers":[{"comments":[{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":1,"creation_date":1303577365,"post_id":156286,"comment_id":6603104,"body_markdown":"I&#39;m not sure a custom class would help in this case :)","body":"I&#39;m not sure a custom class would help in this case :)"},{"owner":{"account_id":24311,"reputation":25000,"user_id":61754,"accept_rate":60,"display_name":"Bennett McElwee"},"score":40,"creation_date":1322517723,"post_id":156286,"comment_id":10229980,"body_markdown":"&quot;The typical reason to do so is to iterate over maps&quot;. Really?","body":"&quot;The typical reason to do so is to iterate over maps&quot;. Really?"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":2,"down_vote_count":4,"up_vote_count":16,"is_accepted":false,"score":12,"last_activity_date":1222836839,"creation_date":1222836839,"answer_id":156286,"question_id":156275,"body_markdown":"It depends on what you want to use it for.  The typical reason to do so is to iterate over maps, for which you simply do this (Java 5+):\r\n\r\n    Map&lt;String, Object&gt; map = ... ; // just an example\r\n    for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n      System.out.printf(&quot;%s -&gt; %s\\n&quot;, entry.getKey(), entry.getValue());\r\n    }\r\n\r\n","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>It depends on what you want to use it for.  The typical reason to do so is to iterate over maps, for which you simply do this (Java 5+):</p>\n\n<pre><code>Map&lt;String, Object&gt; map = ... ; // just an example\nfor (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n  System.out.printf(\"%s -&gt; %s\\n\", entry.getKey(), entry.getValue());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1322637,"reputation":1597,"user_id":1268100,"accept_rate":67,"display_name":"Ian"},"score":184,"creation_date":1477387910,"post_id":156685,"comment_id":67734779,"body_markdown":"Gratzner is splitting hairs.  We&#39;re quite happy to return a single value as a primitive or built-in class without encapsulating it in a class. If we were to return a tuple of a dozen elements no one would disagree it should have its own class.  Somewhere in the middle is a (fuzzy) dividing line. I think our lizard brains can cope with Pairs easily enough.","body":"Gratzner is splitting hairs.  We&#39;re quite happy to return a single value as a primitive or built-in class without encapsulating it in a class. If we were to return a tuple of a dozen elements no one would disagree it should have its own class.  Somewhere in the middle is a (fuzzy) dividing line. I think our lizard brains can cope with Pairs easily enough."},{"owner":{"account_id":73090,"reputation":12400,"user_id":695591,"accept_rate":76,"display_name":"Cl&#233;ment"},"score":37,"creation_date":1480875651,"post_id":156685,"comment_id":69133127,"body_markdown":"I agree with Ian.  Java lets you return int; it doesn&#39;t force you to create an alias for int every time you use one.  Pairs are not very different.","body":"I agree with Ian.  Java lets you return int; it doesn&#39;t force you to create an alias for int every time you use one.  Pairs are not very different."},{"owner":{"account_id":188605,"reputation":5059,"user_id":427413,"accept_rate":71,"display_name":"marcus"},"score":5,"creation_date":1481676073,"post_id":156685,"comment_id":69470105,"body_markdown":"If we could unpack a pair directly to your local variables, or forward it to a method that takes two arguments, Pair would be a useful class. Since we can&#39;t unpack it like this, creating a meaningful class and keeping the values together doesn&#39;t look too bad. And, if you really want a pair despite the limitations, there&#39;s always Object[2] + casts :-)","body":"If we could unpack a pair directly to your local variables, or forward it to a method that takes two arguments, Pair would be a useful class. Since we can&#39;t unpack it like this, creating a meaningful class and keeping the values together doesn&#39;t look too bad. And, if you really want a pair despite the limitations, there&#39;s always Object[2] + casts :-)"},{"owner":{"account_id":1518433,"reputation":1029,"user_id":1418838,"display_name":"Haakon L&#248;tveit"},"score":0,"creation_date":1502444332,"post_id":156685,"comment_id":78222712,"body_markdown":"The thing is that if you disagree with Gratzner, then there&#39;s Pair implementations in several places. Apache Commons and Guava both have it IIRC. Use those. But to put something in the main Java libraries means that it&#39;s A Noble And Approved Way Of Doing Things (with capitalization) and since people don&#39;t agree on it, we shouldn&#39;t put it there. There&#39;s enough cruft in the old libs as is, let&#39;s not needlessly put more there.","body":"The thing is that if you disagree with Gratzner, then there&#39;s Pair implementations in several places. Apache Commons and Guava both have it IIRC. Use those. But to put something in the main Java libraries means that it&#39;s A Noble And Approved Way Of Doing Things (with capitalization) and since people don&#39;t agree on it, we shouldn&#39;t put it there. There&#39;s enough cruft in the old libs as is, let&#39;s not needlessly put more there."},{"owner":{"account_id":5140045,"reputation":112686,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":0,"creation_date":1522920566,"post_id":156685,"comment_id":86347564,"body_markdown":"I dont get the java &quot;noble and approved way&quot; thingy. Lets say I definitely dont want to create a new class then the easiest alternative is to use an array with two entries which is by far worse than a pair in terms of conveying semantics","body":"I dont get the java &quot;noble and approved way&quot; thingy. Lets say I definitely dont want to create a new class then the easiest alternative is to use an array with two entries which is by far worse than a pair in terms of conveying semantics"},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":0,"creation_date":1550389152,"post_id":156685,"comment_id":96245184,"body_markdown":"@user463035818 Each language has its purpose. Seems to me like you don&#39;t need java at all, but some other language that is not as constraint heavy and lets you hack around.","body":"@user463035818 Each language has its purpose. Seems to me like you don&#39;t need java at all, but some other language that is not as constraint heavy and lets you hack around."},{"owner":{"account_id":5140045,"reputation":112686,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":2,"creation_date":1550397566,"post_id":156685,"comment_id":96246861,"body_markdown":"@Dragas When i Need a Pair of values then that isnt Java...seriously?","body":"@Dragas When i Need a Pair of values then that isnt Java...seriously?"},{"owner":{"account_id":1590873,"reputation":7073,"user_id":1474211,"accept_rate":100,"display_name":"Mushtaq Jameel"},"score":0,"creation_date":1551184476,"post_id":156685,"comment_id":96540226,"body_markdown":"We use maps and list all the time in Java, if semantics were the most important aspect, then don&#39;t maps and list (being generic data types) obfuscate the meaning too, a Map&lt;String, Int&gt; and a Pair of Pair&lt;String,int&gt; looks similar","body":"We use maps and list all the time in Java, if semantics were the most important aspect, then don&#39;t maps and list (being generic data types) obfuscate the meaning too, a Map&lt;String, Int&gt; and a Pair of Pair&lt;String,int&gt; looks similar"}],"tags":[],"owner":{"account_id":10978,"reputation":80505,"user_id":20984,"accept_rate":97,"display_name":"Luc Touraille"},"comment_count":8,"down_vote_count":56,"up_vote_count":480,"is_accepted":true,"score":424,"last_activity_date":1409684264,"creation_date":1222849104,"answer_id":156685,"question_id":156275,"body_markdown":"In [a thread on `comp.lang.java.help`][1], Hunter Gratzner gives some arguments against the presence of a `Pair` construct in Java. The main argument is that a class `Pair` doesn&#39;t convey any semantics about the relationship between the two values (how do you know what &quot;first&quot; and &quot;second&quot; mean ?).\r\n\r\nA better practice is to write a very simple class, like the one Mike proposed, for each application you would have made of the `Pair` class. `Map.Entry` is an example of a pair that carry its meaning in its name.\r\n\r\nTo sum up, in my opinion it is better to have a class `Position(x,y)`, a class `Range(begin,end)` and a class `Entry(key,value)` rather than a generic `Pair(first,second)` that doesn&#39;t tell me anything about what it&#39;s supposed to do.\r\n\r\n  [1]: http://groups.google.com/group/comp.lang.java.help/browse_thread/thread/f8b63fc645c1b487/1d94be050cfc249b","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>In <a href=\"http://groups.google.com/group/comp.lang.java.help/browse_thread/thread/f8b63fc645c1b487/1d94be050cfc249b\" rel=\"noreferrer\">a thread on <code>comp.lang.java.help</code></a>, Hunter Gratzner gives some arguments against the presence of a <code>Pair</code> construct in Java. The main argument is that a class <code>Pair</code> doesn't convey any semantics about the relationship between the two values (how do you know what \"first\" and \"second\" mean ?).</p>\n\n<p>A better practice is to write a very simple class, like the one Mike proposed, for each application you would have made of the <code>Pair</code> class. <code>Map.Entry</code> is an example of a pair that carry its meaning in its name.</p>\n\n<p>To sum up, in my opinion it is better to have a class <code>Position(x,y)</code>, a class <code>Range(begin,end)</code> and a class <code>Entry(key,value)</code> rather than a generic <code>Pair(first,second)</code> that doesn't tell me anything about what it's supposed to do.</p>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":145,"creation_date":1251451266,"post_id":677248,"comment_id":1181418,"body_markdown":"You probably want to delete the setters, and make first and second final, thus making the pair immutable. (If someone changed the components after using them as a hash key, weird things will happen).","body":"You probably want to delete the setters, and make first and second final, thus making the pair immutable. (If someone changed the components after using them as a hash key, weird things will happen)."},{"owner":{"account_id":1078,"reputation":33615,"user_id":1431,"accept_rate":71,"display_name":"Juha Syrj&#228;l&#228;"},"score":22,"creation_date":1251793889,"post_id":677248,"comment_id":1198596,"body_markdown":"return &quot;(&quot; + first.toString() + &quot;, &quot; + second.toString() + &quot;)&quot; in toString() method may  throw NullPointerExceptions. This is better: return &quot;(&quot; + first + &quot;, &quot; + second + &quot;)&quot;;","body":"return &quot;(&quot; + first.toString() + &quot;, &quot; + second.toString() + &quot;)&quot; in toString() method may  throw NullPointerExceptions. This is better: return &quot;(&quot; + first + &quot;, &quot; + second + &quot;)&quot;;"},{"owner":{"account_id":85806,"reputation":1113,"user_id":239003,"accept_rate":75,"display_name":"sargas"},"score":6,"creation_date":1275093907,"post_id":677248,"comment_id":2987329,"body_markdown":"Also, either mark the pair as &quot;final&quot; or change the first line of equals to &#39;if (other != null &amp;&amp; this.getClass() == other.getClass())&#39;","body":"Also, either mark the pair as &quot;final&quot; or change the first line of equals to &#39;if (other != null &amp;&amp; this.getClass() == other.getClass())&#39;"},{"owner":{"account_id":32587,"reputation":1893,"user_id":90551,"accept_rate":88,"display_name":"Ibrahim"},"score":9,"creation_date":1276715365,"post_id":677248,"comment_id":3129096,"body_markdown":"Sorry for the random nooby question, but why do you have a call to super() in the constructor?","body":"Sorry for the random nooby question, but why do you have a call to super() in the constructor?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":6,"creation_date":1285873080,"post_id":677248,"comment_id":4071189,"body_markdown":"@Ibrahim: In this case, it&#39;s superfluous---the behaviour is exactly the same if you took the `super()` out. Normally I&#39;d just lop it off if it&#39;s optional, like it is here.","body":"@Ibrahim: In this case, it&#39;s superfluous---the behaviour is exactly the same if you took the <code>super()</code> out. Normally I&#39;d just lop it off if it&#39;s optional, like it is here."},{"owner":{"account_id":367682,"reputation":7816,"user_id":714009,"accept_rate":75,"display_name":"Daniel Lubarov"},"score":0,"creation_date":1309747109,"post_id":677248,"comment_id":7741592,"body_markdown":"It is optional, but only in the sense that the compiler will insert the call for you if you don&#39;t write it explicitly. Even when the super class is Object, there is a method `java/lang/Object/&lt;init&gt;()V` and it does need to be called.","body":"It is optional, but only in the sense that the compiler will insert the call for you if you don&#39;t write it explicitly. Even when the super class is Object, there is a method <code>java&#47;lang&#47;Object&#47;&lt;init&gt;()V</code> and it does need to be called."},{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":0,"creation_date":1354371630,"post_id":677248,"comment_id":18746501,"body_markdown":"`&amp;&amp; otherPair.first != null` and `&amp;&amp; otherPair.second != null` are reduntant (cause `this.first/sec == otherPair.first/sec` would be true if both were null)","body":"<code>&amp;&amp; otherPair.first != null</code> and <code>&amp;&amp; otherPair.second != null</code> are reduntant (cause <code>this.first&#47;sec == otherPair.first&#47;sec</code> would be true if both were null)"},{"owner":{"account_id":1483133,"reputation":3743,"user_id":1416629,"accept_rate":100,"display_name":"pratnala"},"score":0,"creation_date":1394638101,"post_id":677248,"comment_id":33980231,"body_markdown":"On the line where you write `Pair otherPair = (Pair) other`, Eclipse gives me a friendly warning saying, `References to generic type Pair&lt;A, B&gt; should be parameterized`. And it suggests to change `Pair` to `Pair&lt;?, ?&gt;` in both cases. Is that okay?","body":"On the line where you write <code>Pair otherPair = (Pair) other</code>, Eclipse gives me a friendly warning saying, <code>References to generic type Pair&lt;A, B&gt; should be parameterized</code>. And it suggests to change <code>Pair</code> to <code>Pair&lt;?, ?&gt;</code> in both cases. Is that okay?"},{"owner":{"account_id":2986490,"reputation":1381,"user_id":3897333,"display_name":"Paul Stelian"},"score":0,"creation_date":1573682231,"post_id":677248,"comment_id":103966127,"body_markdown":"Object.equals? That might be simpler than if (x == y)/if (x != null &amp;&amp; x.equals(y)) stuff.","body":"Object.equals? That might be simpler than if (x == y)/if (x != null &amp;&amp; x.equals(y)) stuff."}],"tags":[],"owner":{"account_id":2949,"reputation":6056,"user_id":4186,"accept_rate":82,"display_name":"arturh"},"comment_count":9,"down_vote_count":5,"up_vote_count":114,"is_accepted":false,"score":109,"last_activity_date":1251808966,"creation_date":1237899319,"answer_id":677248,"question_id":156275,"body_markdown":"HashMap compatible Pair class:\r\n\r\n    public class Pair&lt;A, B&gt; {\r\n    \tprivate A first;\r\n    \tprivate B second;\r\n\r\n    \tpublic Pair(A first, B second) {\r\n    \t\tsuper();\r\n    \t\tthis.first = first;\r\n    \t\tthis.second = second;\r\n    \t}\r\n   \t\r\n    \tpublic int hashCode() {\r\n    \t\tint hashFirst = first != null ? first.hashCode() : 0;\r\n    \t\tint hashSecond = second != null ? second.hashCode() : 0;\r\n    \t\t\r\n    \t\treturn (hashFirst + hashSecond) * hashSecond + hashFirst;\r\n    \t}\r\n    \t\r\n    \tpublic boolean equals(Object other) {\r\n    \t\tif (other instanceof Pair) {\r\n    \t\t\tPair otherPair = (Pair) other;\r\n    \t\t\treturn \r\n    \t\t\t((  this.first == otherPair.first ||\r\n    \t\t\t\t( this.first != null &amp;&amp; otherPair.first != null &amp;&amp;\r\n    \t\t\t\t  this.first.equals(otherPair.first))) &amp;&amp;\r\n    \t\t\t (\tthis.second == otherPair.second ||\r\n    \t\t\t\t( this.second != null &amp;&amp; otherPair.second != null &amp;&amp;\r\n    \t\t\t\t  this.second.equals(otherPair.second))) );\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn false;\r\n    \t}\r\n\r\n        public String toString()\r\n        { \r\n               return &quot;(&quot; + first + &quot;, &quot; + second + &quot;)&quot;; \r\n        }\r\n\r\n    \tpublic A getFirst() {\r\n    \t\treturn first;\r\n    \t}\r\n\r\n    \tpublic void setFirst(A first) {\r\n    \t\tthis.first = first;\r\n    \t}\r\n\r\n    \tpublic B getSecond() {\r\n    \t\treturn second;\r\n    \t}\r\n\r\n    \tpublic void setSecond(B second) {\r\n    \t\tthis.second = second;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>HashMap compatible Pair class:</p>\n\n<pre><code>public class Pair&lt;A, B&gt; {\n    private A first;\n    private B second;\n\n    public Pair(A first, B second) {\n        super();\n        this.first = first;\n        this.second = second;\n    }\n\n    public int hashCode() {\n        int hashFirst = first != null ? first.hashCode() : 0;\n        int hashSecond = second != null ? second.hashCode() : 0;\n\n        return (hashFirst + hashSecond) * hashSecond + hashFirst;\n    }\n\n    public boolean equals(Object other) {\n        if (other instanceof Pair) {\n            Pair otherPair = (Pair) other;\n            return \n            ((  this.first == otherPair.first ||\n                ( this.first != null &amp;&amp; otherPair.first != null &amp;&amp;\n                  this.first.equals(otherPair.first))) &amp;&amp;\n             (  this.second == otherPair.second ||\n                ( this.second != null &amp;&amp; otherPair.second != null &amp;&amp;\n                  this.second.equals(otherPair.second))) );\n        }\n\n        return false;\n    }\n\n    public String toString()\n    { \n           return \"(\" + first + \", \" + second + \")\"; \n    }\n\n    public A getFirst() {\n        return first;\n    }\n\n    public void setFirst(A first) {\n        this.first = first;\n    }\n\n    public B getSecond() {\n        return second;\n    }\n\n    public void setSecond(B second) {\n        this.second = second;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":93455,"reputation":5838,"user_id":255667,"accept_rate":76,"display_name":"Illarion Kovalchuk"},"score":2,"creation_date":1266498165,"post_id":2192715,"comment_id":2252750,"body_markdown":"Now I can say, that using Pair&lt;A,B&gt; makes code less informative, and implementing special objects instead of using Pair is much better","body":"Now I can say, that using Pair&lt;A,B&gt; makes code less informative, and implementing special objects instead of using Pair is much better"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1351972304,"post_id":2192715,"comment_id":17992193,"body_markdown":"Better or worse. Imagine you have a function combining its two arguments (e.g. merging graphs into one) and need to cache it. Here, `Pair` is optimal as there&#39;s no special semantics. Having a clear name for a clear concept is good, but looking for a name where &quot;first&quot; and &quot;second&quot; work well is not.","body":"Better or worse. Imagine you have a function combining its two arguments (e.g. merging graphs into one) and need to cache it. Here, <code>Pair</code> is optimal as there&#39;s no special semantics. Having a clear name for a clear concept is good, but looking for a name where &quot;first&quot; and &quot;second&quot; work well is not."}],"tags":[],"owner":{"account_id":93455,"reputation":5838,"user_id":255667,"accept_rate":76,"display_name":"Illarion Kovalchuk"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1265208250,"creation_date":1265208250,"answer_id":2192715,"question_id":156275,"body_markdown":"Pair would be a good stuff, to be a basic construction unit for a complex generics, for instance, this is from my code:\r\n\r\n    WeakHashMap&lt;Pair&lt;String, String&gt;, String&gt; map = ...\r\n\r\nIt is just the same as Haskell&#39;s Tuple","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Pair would be a good stuff, to be a basic construction unit for a complex generics, for instance, this is from my code:</p>\n\n<pre><code>WeakHashMap&lt;Pair&lt;String, String&gt;, String&gt; map = ...\n</code></pre>\n\n<p>It is just the same as Haskell's Tuple</p>\n"},{"comments":[{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":24,"creation_date":1330506622,"post_id":2347015,"comment_id":12022965,"body_markdown":"The Java-mockery would have been fine if you had pointed to the Apache Commong Lang, which contains a Pair class.","body":"The Java-mockery would have been fine if you had pointed to the Apache Commong Lang, which contains a Pair class."},{"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"score":6,"creation_date":1340847622,"post_id":2347015,"comment_id":14763884,"body_markdown":"Or you could just use `SimpleImmutableEntry`","body":"Or you could just use <code>SimpleImmutableEntry</code>"},{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":0,"creation_date":1510585971,"post_id":2347015,"comment_id":81485678,"body_markdown":"The most common IDEs will generate an appropriate HashCode()/equals for you.","body":"The most common IDEs will generate an appropriate HashCode()/equals for you."},{"owner":{"account_id":2028324,"reputation":10542,"user_id":1812732,"accept_rate":72,"display_name":"John Henckel"},"score":3,"creation_date":1510758072,"post_id":2347015,"comment_id":81571792,"body_markdown":"I agree.  &quot;Because this is Java&quot; is a good answer. Remember that the Java language is intentionally deprived of certain (cough c++) features that are confusing to the average programmer.  That is why Java does not allow you to redefine operators. Nor does it allow multiple inheritance. Bottom line is, if some stupid programmer is likely to abuse it, then Java will make it hard to do.","body":"I agree.  &quot;Because this is Java&quot; is a good answer. Remember that the Java language is intentionally deprived of certain (cough c++) features that are confusing to the average programmer.  That is why Java does not allow you to redefine operators. Nor does it allow multiple inheritance. Bottom line is, if some stupid programmer is likely to abuse it, then Java will make it hard to do."},{"owner":{"account_id":5914547,"reputation":1299,"user_id":4653746,"accept_rate":24,"display_name":"stillanoob"},"score":1,"creation_date":1532445390,"post_id":2347015,"comment_id":89972734,"body_markdown":"@JohnHenckel It&#39;s like an instructor putting easy questions on the exam because he wants everyone to succeed. Dumb.","body":"@JohnHenckel It&#39;s like an instructor putting easy questions on the exam because he wants everyone to succeed. Dumb."},{"owner":{"account_id":3252886,"reputation":13287,"user_id":2742717,"accept_rate":100,"display_name":"Swift - Friday Pie"},"score":0,"creation_date":1601216386,"post_id":2347015,"comment_id":113330890,"body_markdown":"@TimGoodman Gratzner in spartan outfit  shouting that while kicking a new student into the pit of standard name paths","body":"@TimGoodman Gratzner in spartan outfit  shouting that while kicking a new student into the pit of standard name paths"}],"tags":[],"owner":{"account_id":106022,"reputation":6504,"user_id":282636,"accept_rate":25,"display_name":"Andreas Krey"},"comment_count":6,"down_vote_count":36,"up_vote_count":203,"is_accepted":false,"score":167,"last_activity_date":1267267314,"creation_date":1267267314,"answer_id":2347015,"question_id":156275,"body_markdown":"This is Java. You have to make your own tailored Pair class with descriptive class and field names, and not to mind that you will reinvent the wheel by writing hashCode()/equals() or implementing Comparable again and again.","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>This is Java. You have to make your own tailored Pair class with descriptive class and field names, and not to mind that you will reinvent the wheel by writing hashCode()/equals() or implementing Comparable again and again.</p>\n"},{"comments":[{"owner":{"account_id":111215,"reputation":4304,"user_id":293933,"display_name":"Jarek Przyg&#243;dzki"},"score":10,"creation_date":1302032116,"post_id":3646398,"comment_id":6319527,"body_markdown":"I like static factory method `of`. It reminds of **Google Guava** immutable collections.","body":"I like static factory method <code>of</code>. It reminds of <b>Google Guava</b> immutable collections."},{"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"score":7,"creation_date":1303321009,"post_id":3646398,"comment_id":6559424,"body_markdown":"You are at some point casting `o1` to `Comparable`, even though nothing indicates it will actually implement that interface. If that is a requirement, the `FIRST` type parameter should be `FIRST extends Comparable&lt;?&gt;`.","body":"You are at some point casting <code>o1</code> to <code>Comparable</code>, even though nothing indicates it will actually implement that interface. If that is a requirement, the <code>FIRST</code> type parameter should be <code>FIRST extends Comparable&lt;?&gt;</code>."},{"owner":{"display_name":"user220878"},"score":0,"creation_date":1333032088,"post_id":3646398,"comment_id":12671907,"body_markdown":"I&#39;m not a java guy, so please forgive me for my ignorance, but what sort of helper classes were you thinking of in the TODO comments?","body":"I&#39;m not a java guy, so please forgive me for my ignorance, but what sort of helper classes were you thinking of in the TODO comments?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1333048108,"post_id":3646398,"comment_id":12678548,"body_markdown":"Can be any, like CompareableUtils or Comparables.","body":"Can be any, like CompareableUtils or Comparables."},{"owner":{"account_id":260035,"reputation":1345,"user_id":543353,"display_name":"Micha Zieliski"},"score":3,"creation_date":1372532296,"post_id":3646398,"comment_id":25235080,"body_markdown":"31 is a bad constant for hashCode. For example, if you use HashMap keyed by Pair&lt;Integer,Integer&gt; for 2D map, you will get many collisions. For example (a*65497)^b would be better suited.","body":"31 is a bad constant for hashCode. For example, if you use HashMap keyed by Pair&lt;Integer,Integer&gt; for 2D map, you will get many collisions. For example (a*65497)^b would be better suited."},{"owner":{"account_id":478130,"reputation":1570,"user_id":890016,"accept_rate":73,"display_name":"Mario Carneiro"},"score":0,"creation_date":1452626284,"post_id":3646398,"comment_id":57249911,"body_markdown":"@MichaZieliski I think the 31 is there because 31 is Eclipse&#39;s favorite prime number (appears when you use &quot;generate hashCode() and equals()&quot;. Computing a power would be too expensive for a general-use class like this though.","body":"@MichaZieliski I think the 31 is there because 31 is Eclipse&#39;s favorite prime number (appears when you use &quot;generate hashCode() and equals()&quot;. Computing a power would be too expensive for a general-use class like this though."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1452631141,"post_id":3646398,"comment_id":57252763,"body_markdown":"@MarioCarneiro Java String.hashCode() used 31 has a multiply prime long before eclipse was started.","body":"@MarioCarneiro Java String.hashCode() used 31 has a multiply prime long before eclipse was started."},{"owner":{"account_id":260035,"reputation":1345,"user_id":543353,"display_name":"Micha Zieliski"},"score":1,"creation_date":1452718995,"post_id":3646398,"comment_id":57299118,"body_markdown":"@MarioCarneiro ^ is xor, not power","body":"@MarioCarneiro ^ is xor, not power"},{"owner":{"account_id":260035,"reputation":1345,"user_id":543353,"display_name":"Micha Zieliski"},"score":0,"creation_date":1452719001,"post_id":3646398,"comment_id":57299120,"body_markdown":"@PeterLawrey the situation with strings is different - the alphabet size is typically smaller (char vs int)","body":"@PeterLawrey the situation with strings is different - the alphabet size is typically smaller (char vs int)"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":9,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1354377284,"creation_date":1283696845,"answer_id":3646398,"question_id":156275,"body_markdown":"Another way to implement Pair with.\r\n\r\n - Public immutable fields, i.e. simple data structure.\r\n - Comparable.\r\n - Simple hash and equals.\r\n - Simple factory so you don&#39;t have to provide the types. e.g. Pair.of(&quot;hello&quot;, 1);\r\n\r\n        public class Pair&lt;FIRST, SECOND&gt; implements Comparable&lt;Pair&lt;FIRST, SECOND&gt;&gt; {\r\n        \r\n        \tpublic final FIRST first;\r\n        \tpublic final SECOND second;\r\n        \r\n        \tprivate Pair(FIRST first, SECOND second) {\r\n        \t\tthis.first = first;\r\n        \t\tthis.second = second;\r\n        \t}\r\n        \r\n        \tpublic static &lt;FIRST, SECOND&gt; Pair&lt;FIRST, SECOND&gt; of(FIRST first,\r\n        \t\t\tSECOND second) {\r\n        \t\treturn new Pair&lt;FIRST, SECOND&gt;(first, second);\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic int compareTo(Pair&lt;FIRST, SECOND&gt; o) {\r\n        \t\tint cmp = compare(first, o.first);\r\n        \t\treturn cmp == 0 ? compare(second, o.second) : cmp;\r\n        \t}\r\n        \r\n        \t// todo move this to a helper class.\r\n        \tprivate static int compare(Object o1, Object o2) {\r\n        \t\treturn o1 == null ? o2 == null ? 0 : -1 : o2 == null ? +1\r\n        \t\t\t\t: ((Comparable) o1).compareTo(o2);\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic int hashCode() {\r\n        \t\treturn 31 * hashcode(first) + hashcode(second);\r\n        \t}\r\n        \r\n        \t// todo move this to a helper class.\r\n        \tprivate static int hashcode(Object o) {\r\n        \t\treturn o == null ? 0 : o.hashCode();\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic boolean equals(Object obj) {\r\n        \t\tif (!(obj instanceof Pair))\r\n        \t\t\treturn false;\r\n        \t\tif (this == obj)\r\n        \t\t\treturn true;\r\n        \t\treturn equal(first, ((Pair) obj).first)\r\n        \t\t\t\t&amp;&amp; equal(second, ((Pair) obj).second);\r\n        \t}\r\n        \r\n        \t// todo move this to a helper class.\r\n        \tprivate boolean equal(Object o1, Object o2) {\r\n        \t\treturn o1 == null ? o2 == null : (o1 == o2 || o1.equals(o2));\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic String toString() {\r\n        \t\treturn &quot;(&quot; + first + &quot;, &quot; + second + &#39;)&#39;;\r\n        \t}\r\n        }","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Another way to implement Pair with.</p>\n\n<ul>\n<li>Public immutable fields, i.e. simple data structure.</li>\n<li>Comparable.</li>\n<li>Simple hash and equals.</li>\n<li><p>Simple factory so you don't have to provide the types. e.g. Pair.of(\"hello\", 1);</p>\n\n<pre><code>public class Pair&lt;FIRST, SECOND&gt; implements Comparable&lt;Pair&lt;FIRST, SECOND&gt;&gt; {\n\n    public final FIRST first;\n    public final SECOND second;\n\n    private Pair(FIRST first, SECOND second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public static &lt;FIRST, SECOND&gt; Pair&lt;FIRST, SECOND&gt; of(FIRST first,\n            SECOND second) {\n        return new Pair&lt;FIRST, SECOND&gt;(first, second);\n    }\n\n    @Override\n    public int compareTo(Pair&lt;FIRST, SECOND&gt; o) {\n        int cmp = compare(first, o.first);\n        return cmp == 0 ? compare(second, o.second) : cmp;\n    }\n\n    // todo move this to a helper class.\n    private static int compare(Object o1, Object o2) {\n        return o1 == null ? o2 == null ? 0 : -1 : o2 == null ? +1\n                : ((Comparable) o1).compareTo(o2);\n    }\n\n    @Override\n    public int hashCode() {\n        return 31 * hashcode(first) + hashcode(second);\n    }\n\n    // todo move this to a helper class.\n    private static int hashcode(Object o) {\n        return o == null ? 0 : o.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (!(obj instanceof Pair))\n            return false;\n        if (this == obj)\n            return true;\n        return equal(first, ((Pair) obj).first)\n                &amp;&amp; equal(second, ((Pair) obj).second);\n    }\n\n    // todo move this to a helper class.\n    private boolean equal(Object o1, Object o2) {\n        return o1 == null ? o2 == null : (o1 == o2 || o1.equals(o2));\n    }\n\n    @Override\n    public String toString() {\n        return \"(\" + first + \", \" + second + ')';\n    }\n}\n</code></pre></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":2,"creation_date":1323939434,"post_id":3819342,"comment_id":10545427,"body_markdown":"Any dimension, yes. But: Cumbersome to create, and not type-safe.","body":"Any dimension, yes. But: Cumbersome to create, and not type-safe."},{"owner":{"account_id":19414861,"reputation":443,"user_id":14198583,"display_name":"Christopher"},"score":0,"creation_date":1640901993,"post_id":3819342,"comment_id":124688735,"body_markdown":"Object[] pair = {left, right}; // Not cumbersome.","body":"Object[] pair = {left, right}; // Not cumbersome."}],"tags":[],"owner":{"account_id":178688,"reputation":104,"user_id":410844,"display_name":"Testus"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1285742659,"creation_date":1285742659,"answer_id":3819342,"question_id":156275,"body_markdown":"Simple way Object [] - can be use as an dimention tuple","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Simple way Object [] - can be use as an dimention tuple</p>\n"},{"tags":[],"owner":{"account_id":685928,"reputation":69,"user_id":543762,"display_name":"MaxBuzz"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1292438408,"creation_date":1292438408,"answer_id":4453599,"question_id":156275,"body_markdown":"In my opinion, there is no Pair in Java because, if you want to add extra functionality directly on the pair (e.g. Comparable), you must bound the types. In C++, we just don&#39;t care, and if types composing a pair do not have `operator &lt;`, the `pair::operator &lt;` will not compile as well.\r\n\r\nAn example of Comparable with no bounding:\r\n\r\n    public class Pair&lt;F, S&gt; implements Comparable&lt;Pair&lt;? extends F, ? extends S&gt;&gt; {\r\n        public final F first;\r\n        public final S second;\r\n        /* ... */\r\n        public int compareTo(Pair&lt;? extends F, ? extends S&gt; that) {\r\n            int cf = compare(first, that.first);\r\n            return cf == 0 ? compare(second, that.second) : cf;\r\n        }\r\n        //Why null is decided to be less than everything?\r\n        private static int compare(Object l, Object r) {\r\n            if (l == null) {\r\n                return r == null ? 0 : -1;\r\n            } else {\r\n                return r == null ? 1 : ((Comparable) (l)).compareTo(r);\r\n            }\r\n        }\r\n    }\r\n    \r\n    /* ... */\r\n    \r\n    Pair&lt;Thread, HashMap&lt;String, Integer&gt;&gt; a = /* ... */;\r\n    Pair&lt;Thread, HashMap&lt;String, Integer&gt;&gt; b = /* ... */;\r\n    //Runtime error here instead of compile error!\r\n    System.out.println(a.compareTo(b));\r\n\r\n\r\nAn example of Comparable with compile-time check for whether type arguments are comparable:\r\n\r\n    public class Pair&lt;\r\n            F extends Comparable&lt;? super F&gt;, \r\n            S extends Comparable&lt;? super S&gt;\r\n    &gt; implements Comparable&lt;Pair&lt;? extends F, ? extends S&gt;&gt; {\r\n        public final F first;\r\n        public final S second;\r\n        /* ... */\r\n        public int compareTo(Pair&lt;? extends F, ? extends S&gt; that) {\r\n            int cf = compare(first, that.first);\r\n            return cf == 0 ? compare(second, that.second) : cf;\r\n        }\r\n        //Why null is decided to be less than everything?\r\n        private static &lt;\r\n                T extends Comparable&lt;? super T&gt;\r\n        &gt; int compare(T l, T r) {\r\n            if (l == null) {\r\n                return r == null ? 0 : -1;\r\n            } else {\r\n                return r == null ? 1 : l.compareTo(r);\r\n            }\r\n        }\r\n    }\r\n    \r\n    /* ... */\r\n    \r\n    //Will not compile because Thread is not Comparable&lt;? super Thread&gt;\r\n    Pair&lt;Thread, HashMap&lt;String, Integer&gt;&gt; a = /* ... */;\r\n    Pair&lt;Thread, HashMap&lt;String, Integer&gt;&gt; b = /* ... */;\r\n    System.out.println(a.compareTo(b));\r\n\r\nThis is good, but this time you may not use non-comparable types as type arguments in Pair.\r\nOne may use lots of Comparators for Pair in some utility class, but C++ people may not get it. Another way is to write lots of classes in a type hierarchy with different bounds on type arguments, but there are too many possible bounds and their combinations...","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>In my opinion, there is no Pair in Java because, if you want to add extra functionality directly on the pair (e.g. Comparable), you must bound the types. In C++, we just don't care, and if types composing a pair do not have <code>operator &lt;</code>, the <code>pair::operator &lt;</code> will not compile as well.</p>\n\n<p>An example of Comparable with no bounding:</p>\n\n<pre><code>public class Pair&lt;F, S&gt; implements Comparable&lt;Pair&lt;? extends F, ? extends S&gt;&gt; {\n    public final F first;\n    public final S second;\n    /* ... */\n    public int compareTo(Pair&lt;? extends F, ? extends S&gt; that) {\n        int cf = compare(first, that.first);\n        return cf == 0 ? compare(second, that.second) : cf;\n    }\n    //Why null is decided to be less than everything?\n    private static int compare(Object l, Object r) {\n        if (l == null) {\n            return r == null ? 0 : -1;\n        } else {\n            return r == null ? 1 : ((Comparable) (l)).compareTo(r);\n        }\n    }\n}\n\n/* ... */\n\nPair&lt;Thread, HashMap&lt;String, Integer&gt;&gt; a = /* ... */;\nPair&lt;Thread, HashMap&lt;String, Integer&gt;&gt; b = /* ... */;\n//Runtime error here instead of compile error!\nSystem.out.println(a.compareTo(b));\n</code></pre>\n\n<p>An example of Comparable with compile-time check for whether type arguments are comparable:</p>\n\n<pre><code>public class Pair&lt;\n        F extends Comparable&lt;? super F&gt;, \n        S extends Comparable&lt;? super S&gt;\n&gt; implements Comparable&lt;Pair&lt;? extends F, ? extends S&gt;&gt; {\n    public final F first;\n    public final S second;\n    /* ... */\n    public int compareTo(Pair&lt;? extends F, ? extends S&gt; that) {\n        int cf = compare(first, that.first);\n        return cf == 0 ? compare(second, that.second) : cf;\n    }\n    //Why null is decided to be less than everything?\n    private static &lt;\n            T extends Comparable&lt;? super T&gt;\n    &gt; int compare(T l, T r) {\n        if (l == null) {\n            return r == null ? 0 : -1;\n        } else {\n            return r == null ? 1 : l.compareTo(r);\n        }\n    }\n}\n\n/* ... */\n\n//Will not compile because Thread is not Comparable&lt;? super Thread&gt;\nPair&lt;Thread, HashMap&lt;String, Integer&gt;&gt; a = /* ... */;\nPair&lt;Thread, HashMap&lt;String, Integer&gt;&gt; b = /* ... */;\nSystem.out.println(a.compareTo(b));\n</code></pre>\n\n<p>This is good, but this time you may not use non-comparable types as type arguments in Pair.\nOne may use lots of Comparators for Pair in some utility class, but C++ people may not get it. Another way is to write lots of classes in a type hierarchy with different bounds on type arguments, but there are too many possible bounds and their combinations...</p>\n"},{"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"comment_count":0,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1389348007,"creation_date":1292596794,"answer_id":4471509,"question_id":156275,"body_markdown":"The shortest pair that I could come up with is the following, using [Lombok][1]:\r\n\r\n    @Data\r\n    @AllArgsConstructor(staticName = &quot;of&quot;)\r\n    public class Pair&lt;F, S&gt; {\r\n    \tprivate F first;\r\n    \tprivate S second;\r\n    }\r\n\r\nIt has all the benefits of [the answer from @arturh][2] (except the comparability), it has `hashCode`, `equals`, `toString` and a static constructor.\r\n\r\n\r\n  [1]: http://projectlombok.org/\r\n  [2]: https://stackoverflow.com/a/677248/383414","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>The shortest pair that I could come up with is the following, using <a href=\"http://projectlombok.org/\" rel=\"noreferrer\">Lombok</a>:</p>\n\n<pre><code>@Data\n@AllArgsConstructor(staticName = \"of\")\npublic class Pair&lt;F, S&gt; {\n    private F first;\n    private S second;\n}\n</code></pre>\n\n<p>It has all the benefits of <a href=\"https://stackoverflow.com/a/677248/383414\">the answer from @arturh</a> (except the comparability), it has <code>hashCode</code>, <code>equals</code>, <code>toString</code> and a static constructor.</p>\n"},{"comments":[{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1331647146,"post_id":5489476,"comment_id":12305786,"body_markdown":"The updated URL is http://commons.apache.org/lang/api-release/index.html?org/apache/commons/lang3/tuple/Pair.html since commons-lang3 is out of beta. This is even shorter than my own Lombok solution if you already use commons-lang 3.","body":"The updated URL is <a href=\"http://commons.apache.org/lang/api-release/index.html?org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow noreferrer\">commons.apache.org/lang/api-release/index.html?org/apache/&hellip;</a> since commons-lang3 is out of beta. This is even shorter than my own Lombok solution if you already use commons-lang 3."}],"tags":[],"owner":{"account_id":338652,"reputation":99,"user_id":667637,"display_name":"Peter Goetz"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1447187786,"creation_date":1301504014,"answer_id":5489476,"question_id":156275,"body_markdown":"As many others have already stated, it really depends on the use case if a Pair class is useful or not.\r\n\r\nI think for a private helper function it is totally legitimate to use a Pair class if that makes your code more readable and is not worth the effort of creating yet another value class with all its boiler plate code.\r\n\r\nOn the other hand, if your abstraction level requires you to clearly document the semantics of the class that contains two objects or values, then you should write a class for it. Usually that&#39;s the case if the data is a business object.\r\n\r\nAs always, it requires skilled judgement.\r\n\r\nFor your second question I recommend the Pair class from the Apache Commons libraries. Those might be considered as extended standard libraries for Java:\r\n\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\r\n\r\nYou might also want to have a look at Apache Commons&#39; [EqualsBuilder][1], [HashCodeBuilder][2] and [ToStringBuilder][3] which simplify writing value classes for your business objects.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\r\n  [3]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/ToStringBuilder.html","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>As many others have already stated, it really depends on the use case if a Pair class is useful or not.</p>\n\n<p>I think for a private helper function it is totally legitimate to use a Pair class if that makes your code more readable and is not worth the effort of creating yet another value class with all its boiler plate code.</p>\n\n<p>On the other hand, if your abstraction level requires you to clearly document the semantics of the class that contains two objects or values, then you should write a class for it. Usually that's the case if the data is a business object.</p>\n\n<p>As always, it requires skilled judgement.</p>\n\n<p>For your second question I recommend the Pair class from the Apache Commons libraries. Those might be considered as extended standard libraries for Java:</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html</a></p>\n\n<p>You might also want to have a look at Apache Commons' <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow\">EqualsBuilder</a>, <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow\">HashCodeBuilder</a> and <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/ToStringBuilder.html\" rel=\"nofollow\">ToStringBuilder</a> which simplify writing value classes for your business objects.</p>\n"},{"comments":[{"owner":{"account_id":126393,"reputation":2246,"user_id":322866,"accept_rate":87,"display_name":"amara"},"score":3,"creation_date":1304185447,"post_id":5734522,"comment_id":6711028,"body_markdown":"actually, check the bottom of each page: &quot;user contributions licensed under cc-wiki&quot;","body":"actually, check the bottom of each page: &quot;user contributions licensed under cc-wiki&quot;"},{"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"score":0,"creation_date":1304344067,"post_id":5734522,"comment_id":6731828,"body_markdown":"Ah, I hadn&#39;t noticed that. Thanks for the heads-up. In that case, use code as you see fit under that license.","body":"Ah, I hadn&#39;t noticed that. Thanks for the heads-up. In that case, use code as you see fit under that license."},{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":1,"creation_date":1354458393,"post_id":5734522,"comment_id":18763047,"body_markdown":"The question is about a C++ equivalent pair - which is ordered. Also I think that as long as one has a reference to Pair&#39;s object and those are mutable inserting Pairs in collections might lead to undefined behavior.","body":"The question is about a C++ equivalent pair - which is ordered. Also I think that as long as one has a reference to Pair&#39;s object and those are mutable inserting Pairs in collections might lead to undefined behavior."}],"tags":[],"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303322035,"creation_date":1303322035,"answer_id":5734522,"question_id":156275,"body_markdown":"I noticed all the Pair implementations being strewn around here attribute meaning to the order of the two values. When I think of a pair, I think of a combination of two items in which the order of the two is of no importance. Here&#39;s my implementation of an unordered pair, with `hashCode` and `equals` overrides to ensure the desired behaviour in collections. Also cloneable.\r\n\r\n\t/**\r\n\t * The class &lt;code&gt;Pair&lt;/code&gt; models a container for two objects wherein the\r\n\t * object order is of no consequence for equality and hashing. An example of\r\n\t * using Pair would be as the return type for a method that needs to return two\r\n\t * related objects. Another good use is as entries in a Set or keys in a Map\r\n\t * when only the unordered combination of two objects is of interest.&lt;p&gt;\r\n\t * The term &quot;object&quot; as being a one of a Pair can be loosely interpreted. A\r\n\t * Pair may have one or two &lt;code&gt;null&lt;/code&gt; entries as values. Both values\r\n\t * may also be the same object.&lt;p&gt;\r\n\t * Mind that the order of the type parameters T and U is of no importance. A\r\n\t * Pair&amp;lt;T, U&gt; can still return &lt;code&gt;true&lt;/code&gt; for method &lt;code&gt;equals&lt;/code&gt;\r\n\t * called with a Pair&amp;lt;U, T&gt; argument.&lt;p&gt;\r\n\t * Instances of this class are immutable, but the provided values might not be.\r\n\t * This means the consistency of equality checks and the hash code is only as\r\n\t * strong as that of the value types.&lt;p&gt;\r\n\t */\r\n\tpublic class Pair&lt;T, U&gt; implements Cloneable {\r\n\r\n\t\t/**\r\n\t\t * One of the two values, for the declared type T.\r\n\t\t */\r\n\t\tprivate final T object1;\r\n\t\t/**\r\n\t\t * One of the two values, for the declared type U.\r\n\t\t */\r\n\t\tprivate final U object2;\r\n\t\tprivate final boolean object1Null;\r\n\t\tprivate final boolean object2Null;\r\n\t\tprivate final boolean dualNull;\r\n\r\n\t\t/**\r\n\t\t * Constructs a new &lt;code&gt;Pair&amp;lt;T, U&amp;gt;&lt;/code&gt; with T object1 and U object2 as\r\n\t\t * its values. The order of the arguments is of no consequence. One or both of\r\n\t\t * the values may be &lt;code&gt;null&lt;/code&gt; and both values may be the same object.\r\n\t\t *\r\n\t\t * @param object1 T to serve as one value.\r\n\t\t * @param object2 U to serve as the other value.\r\n\t\t */\r\n\t\tpublic Pair(T object1, U object2) {\r\n\r\n\t\t\tthis.object1 = object1;\r\n\t\t\tthis.object2 = object2;\r\n\t\t\tobject1Null = object1 == null;\r\n\t\t\tobject2Null = object2 == null;\r\n\t\t\tdualNull = object1Null &amp;&amp; object2Null;\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Gets the value of this Pair provided as the first argument in the constructor.\r\n\t\t *\r\n\t\t * @return a value of this Pair.\r\n\t\t */\r\n\t\tpublic T getObject1() {\r\n\r\n\t\t\treturn object1;\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Gets the value of this Pair provided as the second argument in the constructor.\r\n\t\t *\r\n\t\t * @return a value of this Pair.\r\n\t\t */\r\n\t\tpublic U getObject2() {\r\n\r\n\t\t\treturn object2;\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns a shallow copy of this Pair. The returned Pair is a new instance\r\n\t\t * created with the same values as this Pair. The values themselves are not\r\n\t\t * cloned.\r\n\t\t *\r\n\t\t * @return a clone of this Pair.\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic Pair&lt;T, U&gt; clone() {\r\n\r\n\t\t\treturn new Pair&lt;T, U&gt;(object1, object2);\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Indicates whether some other object is &quot;equal&quot; to this one.\r\n\t\t * This Pair is considered equal to the object if and only if\r\n\t\t * &lt;ul&gt;\r\n\t\t * &lt;li&gt;the Object argument is not null,\r\n\t\t * &lt;li&gt;the Object argument has a runtime type Pair or a subclass,\r\n\t\t * &lt;/ul&gt;\r\n\t\t * AND\r\n\t\t * &lt;ul&gt;\r\n\t\t * &lt;li&gt;the Object argument refers to this pair\r\n\t\t * &lt;li&gt;OR this pair&#39;s values are both null and the other pair&#39;s values are both null\r\n\t\t * &lt;li&gt;OR this pair has one null value and the other pair has one null value and\r\n\t\t * the remaining non-null values of both pairs are equal\r\n\t\t * &lt;li&gt;OR both pairs have no null values and have value tuples &amp;lt;v1, v2&gt; of\r\n\t\t * this pair and &amp;lt;o1, o2&gt; of the other pair so that at least one of the\r\n\t\t * following statements is true:\r\n\t\t * &lt;ul&gt;\r\n\t\t * &lt;li&gt;v1 equals o1 and v2 equals o2\r\n\t\t * &lt;li&gt;v1 equals o2 and v2 equals o1\r\n\t\t * &lt;/ul&gt;\r\n\t\t * &lt;/ul&gt;\r\n\t\t * In any other case (such as when this pair has two null parts but the other\r\n\t\t * only one) this method returns false.&lt;p&gt;\r\n\t\t * The type parameters that were used for the other pair are of no importance.\r\n\t\t * A Pair&amp;lt;T, U&gt; can return &lt;code&gt;true&lt;/code&gt; for equality testing with\r\n\t\t * a Pair&amp;lt;T, V&gt; even if V is neither a super- nor subtype of U, should\r\n\t\t * the the value equality checks be positive or the U and V type values\r\n\t\t * are both &lt;code&gt;null&lt;/code&gt;. Type erasure for parameter types at compile\r\n\t\t * time means that type checks are delegated to calls of the &lt;code&gt;equals&lt;/code&gt;\r\n\t\t * methods on the values themselves.\r\n\t\t *\r\n\t\t * @param obj the reference object with which to compare.\r\n\t\t * @return true if the object is a Pair equal to this one.\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic boolean equals(Object obj) {\r\n\r\n\t\t\tif(obj == null)\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tif(this == obj)\r\n\t\t\t\treturn true;\r\n\r\n\t\t\tif(!(obj instanceof Pair&lt;?, ?&gt;))\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tfinal Pair&lt;?, ?&gt; otherPair = (Pair&lt;?, ?&gt;)obj;\r\n\r\n\t\t\tif(dualNull)\r\n\t\t\t\treturn otherPair.dualNull;\r\n\r\n\t\t\t//After this we&#39;re sure at least one part in this is not null\r\n\r\n\t\t\tif(otherPair.dualNull)\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t//After this we&#39;re sure at least one part in obj is not null\r\n\r\n\t\t\tif(object1Null) {\r\n\t\t\t\tif(otherPair.object1Null) //Yes: this and other both have non-null part2\r\n\t\t\t\t\treturn object2.equals(otherPair.object2);\r\n\t\t\t\telse if(otherPair.object2Null) //Yes: this has non-null part2, other has non-null part1\r\n\t\t\t\t\treturn object2.equals(otherPair.object1);\r\n\t\t\t\telse //Remaining case: other has no non-null parts\r\n\t\t\t\t\treturn false;\r\n\t\t\t} else if(object2Null) {\r\n\t\t\t\tif(otherPair.object2Null) //Yes: this and other both have non-null part1\r\n\t\t\t\t\treturn object1.equals(otherPair.object1);\r\n\t\t\t\telse if(otherPair.object1Null) //Yes: this has non-null part1, other has non-null part2\r\n\t\t\t\t\treturn object1.equals(otherPair.object2);\r\n\t\t\t\telse //Remaining case: other has no non-null parts\r\n\t\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\t//Transitive and symmetric requirements of equals will make sure\r\n\t\t\t\t//checking the following cases are sufficient\r\n\t\t\t\tif(object1.equals(otherPair.object1))\r\n\t\t\t\t\treturn object2.equals(otherPair.object2);\r\n\t\t\t\telse if(object1.equals(otherPair.object2))\r\n\t\t\t\t\treturn object2.equals(otherPair.object1);\r\n\t\t\t\telse\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns a hash code value for the pair. This is calculated as the sum\r\n\t\t * of the hash codes for the two values, wherein a value that is &lt;code&gt;null&lt;/code&gt;\r\n\t\t * contributes 0 to the sum. This implementation adheres to the contract for\r\n\t\t * &lt;code&gt;hashCode()&lt;/code&gt; as specified for &lt;code&gt;Object()&lt;/code&gt;. The returned\r\n\t\t * value hash code consistently remain the same for multiple invocations\r\n\t\t * during an execution of a Java application, unless at least one of the pair\r\n\t\t * values has its hash code changed. That would imply information used for \r\n\t\t * equals in the changed value(s) has also changed, which would carry that\r\n\t\t * change onto this class&#39; &lt;code&gt;equals&lt;/code&gt; implementation.\r\n\t\t *\r\n\t\t * @return a hash code for this Pair.\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic int hashCode() {\r\n\r\n\t\t\tint hashCode = object1Null ? 0 : object1.hashCode();\r\n\t\t\thashCode += (object2Null ? 0 : object2.hashCode());\r\n\t\t\treturn hashCode;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nThis implementation has been properly unit tested and the use in a Set and Map has been tried out.  \r\n\r\nNotice I&#39;m not claiming to release this in the public domain. This is code I&#39;ve just written for use in an application, so if you&#39;re going to use it, please refrain from making a direct copy and mess about with the comments and names a bit. Catch my drift?","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>I noticed all the Pair implementations being strewn around here attribute meaning to the order of the two values. When I think of a pair, I think of a combination of two items in which the order of the two is of no importance. Here's my implementation of an unordered pair, with <code>hashCode</code> and <code>equals</code> overrides to ensure the desired behaviour in collections. Also cloneable.</p>\n\n<pre><code>/**\n * The class &lt;code&gt;Pair&lt;/code&gt; models a container for two objects wherein the\n * object order is of no consequence for equality and hashing. An example of\n * using Pair would be as the return type for a method that needs to return two\n * related objects. Another good use is as entries in a Set or keys in a Map\n * when only the unordered combination of two objects is of interest.&lt;p&gt;\n * The term \"object\" as being a one of a Pair can be loosely interpreted. A\n * Pair may have one or two &lt;code&gt;null&lt;/code&gt; entries as values. Both values\n * may also be the same object.&lt;p&gt;\n * Mind that the order of the type parameters T and U is of no importance. A\n * Pair&amp;lt;T, U&gt; can still return &lt;code&gt;true&lt;/code&gt; for method &lt;code&gt;equals&lt;/code&gt;\n * called with a Pair&amp;lt;U, T&gt; argument.&lt;p&gt;\n * Instances of this class are immutable, but the provided values might not be.\n * This means the consistency of equality checks and the hash code is only as\n * strong as that of the value types.&lt;p&gt;\n */\npublic class Pair&lt;T, U&gt; implements Cloneable {\n\n    /**\n     * One of the two values, for the declared type T.\n     */\n    private final T object1;\n    /**\n     * One of the two values, for the declared type U.\n     */\n    private final U object2;\n    private final boolean object1Null;\n    private final boolean object2Null;\n    private final boolean dualNull;\n\n    /**\n     * Constructs a new &lt;code&gt;Pair&amp;lt;T, U&amp;gt;&lt;/code&gt; with T object1 and U object2 as\n     * its values. The order of the arguments is of no consequence. One or both of\n     * the values may be &lt;code&gt;null&lt;/code&gt; and both values may be the same object.\n     *\n     * @param object1 T to serve as one value.\n     * @param object2 U to serve as the other value.\n     */\n    public Pair(T object1, U object2) {\n\n        this.object1 = object1;\n        this.object2 = object2;\n        object1Null = object1 == null;\n        object2Null = object2 == null;\n        dualNull = object1Null &amp;&amp; object2Null;\n\n    }\n\n    /**\n     * Gets the value of this Pair provided as the first argument in the constructor.\n     *\n     * @return a value of this Pair.\n     */\n    public T getObject1() {\n\n        return object1;\n\n    }\n\n    /**\n     * Gets the value of this Pair provided as the second argument in the constructor.\n     *\n     * @return a value of this Pair.\n     */\n    public U getObject2() {\n\n        return object2;\n\n    }\n\n    /**\n     * Returns a shallow copy of this Pair. The returned Pair is a new instance\n     * created with the same values as this Pair. The values themselves are not\n     * cloned.\n     *\n     * @return a clone of this Pair.\n     */\n    @Override\n    public Pair&lt;T, U&gt; clone() {\n\n        return new Pair&lt;T, U&gt;(object1, object2);\n\n    }\n\n    /**\n     * Indicates whether some other object is \"equal\" to this one.\n     * This Pair is considered equal to the object if and only if\n     * &lt;ul&gt;\n     * &lt;li&gt;the Object argument is not null,\n     * &lt;li&gt;the Object argument has a runtime type Pair or a subclass,\n     * &lt;/ul&gt;\n     * AND\n     * &lt;ul&gt;\n     * &lt;li&gt;the Object argument refers to this pair\n     * &lt;li&gt;OR this pair's values are both null and the other pair's values are both null\n     * &lt;li&gt;OR this pair has one null value and the other pair has one null value and\n     * the remaining non-null values of both pairs are equal\n     * &lt;li&gt;OR both pairs have no null values and have value tuples &amp;lt;v1, v2&gt; of\n     * this pair and &amp;lt;o1, o2&gt; of the other pair so that at least one of the\n     * following statements is true:\n     * &lt;ul&gt;\n     * &lt;li&gt;v1 equals o1 and v2 equals o2\n     * &lt;li&gt;v1 equals o2 and v2 equals o1\n     * &lt;/ul&gt;\n     * &lt;/ul&gt;\n     * In any other case (such as when this pair has two null parts but the other\n     * only one) this method returns false.&lt;p&gt;\n     * The type parameters that were used for the other pair are of no importance.\n     * A Pair&amp;lt;T, U&gt; can return &lt;code&gt;true&lt;/code&gt; for equality testing with\n     * a Pair&amp;lt;T, V&gt; even if V is neither a super- nor subtype of U, should\n     * the the value equality checks be positive or the U and V type values\n     * are both &lt;code&gt;null&lt;/code&gt;. Type erasure for parameter types at compile\n     * time means that type checks are delegated to calls of the &lt;code&gt;equals&lt;/code&gt;\n     * methods on the values themselves.\n     *\n     * @param obj the reference object with which to compare.\n     * @return true if the object is a Pair equal to this one.\n     */\n    @Override\n    public boolean equals(Object obj) {\n\n        if(obj == null)\n            return false;\n\n        if(this == obj)\n            return true;\n\n        if(!(obj instanceof Pair&lt;?, ?&gt;))\n            return false;\n\n        final Pair&lt;?, ?&gt; otherPair = (Pair&lt;?, ?&gt;)obj;\n\n        if(dualNull)\n            return otherPair.dualNull;\n\n        //After this we're sure at least one part in this is not null\n\n        if(otherPair.dualNull)\n            return false;\n\n        //After this we're sure at least one part in obj is not null\n\n        if(object1Null) {\n            if(otherPair.object1Null) //Yes: this and other both have non-null part2\n                return object2.equals(otherPair.object2);\n            else if(otherPair.object2Null) //Yes: this has non-null part2, other has non-null part1\n                return object2.equals(otherPair.object1);\n            else //Remaining case: other has no non-null parts\n                return false;\n        } else if(object2Null) {\n            if(otherPair.object2Null) //Yes: this and other both have non-null part1\n                return object1.equals(otherPair.object1);\n            else if(otherPair.object1Null) //Yes: this has non-null part1, other has non-null part2\n                return object1.equals(otherPair.object2);\n            else //Remaining case: other has no non-null parts\n                return false;\n        } else {\n            //Transitive and symmetric requirements of equals will make sure\n            //checking the following cases are sufficient\n            if(object1.equals(otherPair.object1))\n                return object2.equals(otherPair.object2);\n            else if(object1.equals(otherPair.object2))\n                return object2.equals(otherPair.object1);\n            else\n                return false;\n        }\n\n    }\n\n    /**\n     * Returns a hash code value for the pair. This is calculated as the sum\n     * of the hash codes for the two values, wherein a value that is &lt;code&gt;null&lt;/code&gt;\n     * contributes 0 to the sum. This implementation adheres to the contract for\n     * &lt;code&gt;hashCode()&lt;/code&gt; as specified for &lt;code&gt;Object()&lt;/code&gt;. The returned\n     * value hash code consistently remain the same for multiple invocations\n     * during an execution of a Java application, unless at least one of the pair\n     * values has its hash code changed. That would imply information used for \n     * equals in the changed value(s) has also changed, which would carry that\n     * change onto this class' &lt;code&gt;equals&lt;/code&gt; implementation.\n     *\n     * @return a hash code for this Pair.\n     */\n    @Override\n    public int hashCode() {\n\n        int hashCode = object1Null ? 0 : object1.hashCode();\n        hashCode += (object2Null ? 0 : object2.hashCode());\n        return hashCode;\n\n    }\n\n}\n</code></pre>\n\n<p>This implementation has been properly unit tested and the use in a Set and Map has been tried out.  </p>\n\n<p>Notice I'm not claiming to release this in the public domain. This is code I've just written for use in an application, so if you're going to use it, please refrain from making a direct copy and mess about with the comments and names a bit. Catch my drift?</p>\n"},{"comments":[{"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"score":0,"creation_date":1323428500,"post_id":8444461,"comment_id":10437315,"body_markdown":"Oh, wow. Another one? Try using yours with more complex Generics - at some point, it will fail to infer the appropriate types. Plus, the following should be possible:\n`Pair&lt;Object, Object&gt; pair = Pair.createPair(&quot;abc&quot;, &quot;def&quot;)`\nbut I figure one needs to write `Pair.createPair((Object)&quot;abc&quot;, (Object)&quot;def&quot;)` with your code?","body":"Oh, wow. Another one? Try using yours with more complex Generics - at some point, it will fail to infer the appropriate types. Plus, the following should be possible: <code>Pair&lt;Object, Object&gt; pair = Pair.createPair(&quot;abc&quot;, &quot;def&quot;)</code> but I figure one needs to write <code>Pair.createPair((Object)&quot;abc&quot;, (Object)&quot;def&quot;)</code> with your code?"},{"owner":{"account_id":1087937,"reputation":1136,"user_id":1083225,"accept_rate":52,"display_name":"Bastiflew"},"score":0,"creation_date":1323430278,"post_id":8444461,"comment_id":10437738,"body_markdown":"you can replace the static method by this :\n\n\t`@SuppressWarnings(&quot;unchecked&quot;)\n\tpublic static &lt;K, V, X, Y&gt; Pair&lt;X, Y&gt; createPair(K key, V value) {\n\t\treturn new Pair&lt;X, Y&gt;((X) key, (Y) value);\n\t}`\n\nbut i don&#39;t know if it&#39;s a good practice","body":"you can replace the static method by this :  \t<code>@SuppressWarnings(&quot;unchecked&quot;) \tpublic static &lt;K, V, X, Y&gt; Pair&lt;X, Y&gt; createPair(K key, V value) { \t\treturn new Pair&lt;X, Y&gt;((X) key, (Y) value); \t}</code>  but i don&#39;t know if it&#39;s a good practice"},{"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"score":0,"creation_date":1323525441,"post_id":8444461,"comment_id":10455699,"body_markdown":"No, that will likely only screw up things even more. In my experience, at least one of the compilers (try java6, java7, javadoc and eclipse java compiler) will complain. The traditional `new Pair&lt;Object, Object&gt;(&quot;abc&quot;, &quot;def&quot;)` was the most reliable in my experiments.","body":"No, that will likely only screw up things even more. In my experience, at least one of the compilers (try java6, java7, javadoc and eclipse java compiler) will complain. The traditional <code>new Pair&lt;Object, Object&gt;(&quot;abc&quot;, &quot;def&quot;)</code> was the most reliable in my experiments."}],"tags":[],"owner":{"account_id":1087937,"reputation":1136,"user_id":1083225,"accept_rate":52,"display_name":"Bastiflew"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323428159,"creation_date":1323428159,"answer_id":8444461,"question_id":156275,"body_markdown":"    public class Pair&lt;K, V&gt; {\r\n    \r\n        private final K element0;\r\n        private final V element1;\r\n    \r\n        public static &lt;K, V&gt; Pair&lt;K, V&gt; createPair(K key, V value) {\r\n            return new Pair&lt;K, V&gt;(key, value);\r\n        }\r\n    \r\n        public Pair(K element0, V element1) {\r\n            this.element0 = element0;\r\n            this.element1 = element1;\r\n        }\r\n    \r\n        public K getElement0() {\r\n            return element0;\r\n        }\r\n    \r\n        public V getElement1() {\r\n            return element1;\r\n        }\r\n    \r\n    }\r\n\r\nusage :\r\n\r\n    Pair&lt;Integer, String&gt; pair = Pair.createPair(1, &quot;test&quot;);\r\n    pair.getElement0();\r\n    pair.getElement1();\r\nImmutable, only a pair !","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<pre><code>public class Pair&lt;K, V&gt; {\n\n    private final K element0;\n    private final V element1;\n\n    public static &lt;K, V&gt; Pair&lt;K, V&gt; createPair(K key, V value) {\n        return new Pair&lt;K, V&gt;(key, value);\n    }\n\n    public Pair(K element0, V element1) {\n        this.element0 = element0;\n        this.element1 = element1;\n    }\n\n    public K getElement0() {\n        return element0;\n    }\n\n    public V getElement1() {\n        return element1;\n    }\n\n}\n</code></pre>\n\n<p>usage :</p>\n\n<pre><code>Pair&lt;Integer, String&gt; pair = Pair.createPair(1, \"test\");\npair.getElement0();\npair.getElement1();\n</code></pre>\n\n<p>Immutable, only a pair !</p>\n"},{"tags":[],"owner":{"account_id":1151605,"reputation":11,"user_id":1133185,"display_name":"Lu&#237;s Cardoso"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325802177,"creation_date":1325802177,"answer_id":8750738,"question_id":156275,"body_markdown":"If anyone wants a dead-simple and easy to use version I made my available at [https://github.com/lfac-pt/Java-Pair][1]. Also, improvements are very much welcome!\r\n\r\n\r\n  [1]: https://github.com/lfac-pt/Java-Pair","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>If anyone wants a dead-simple and easy to use version I made my available at <a href=\"https://github.com/lfac-pt/Java-Pair\" rel=\"nofollow\">https://github.com/lfac-pt/Java-Pair</a>. Also, improvements are very much welcome!</p>\n"},{"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":7,"creation_date":1351971781,"post_id":9522297,"comment_id":17992016,"body_markdown":"Funny, but there are at least 5 more classes than I could ever imagine to use.","body":"Funny, but there are at least 5 more classes than I could ever imagine to use."},{"owner":{"account_id":2785615,"reputation":815,"user_id":2397109,"accept_rate":93,"display_name":"pr00thmatic"},"score":0,"creation_date":1387577190,"post_id":9522297,"comment_id":31026678,"body_markdown":"They doesnt come with the java standard library, do they?","body":"They doesnt come with the java standard library, do they?"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":3,"creation_date":1391098056,"post_id":9522297,"comment_id":32387539,"body_markdown":"@maaartinus At least 10 more than I would use.","body":"@maaartinus At least 10 more than I would use."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":7,"creation_date":1391098587,"post_id":9522297,"comment_id":32387927,"body_markdown":"@Boann: OK, I stay corrected. I used to use `Pair` and could imagine to use `Triplet` maybe once every 50 years. Now I use Lombok and create a tiny 4-line class every time I need a pair. So &quot;10 too much&quot; is exact.","body":"@Boann: OK, I stay corrected. I used to use <code>Pair</code> and could imagine to use <code>Triplet</code> maybe once every 50 years. Now I use Lombok and create a tiny 4-line class every time I need a pair. So &quot;10 too much&quot; is exact."},{"owner":{"account_id":429244,"reputation":10164,"user_id":812034,"accept_rate":64,"display_name":"Earth Engine"},"score":6,"creation_date":1443053826,"post_id":9522297,"comment_id":53343474,"body_markdown":"Do we need a `Bottom (0 element)` class? :)","body":"Do we need a <code>Bottom (0 element)</code> class? :)"},{"owner":{"account_id":121712,"reputation":5127,"user_id":315001,"accept_rate":88,"display_name":"arviman"},"score":2,"creation_date":1466334757,"post_id":9522297,"comment_id":63265386,"body_markdown":"Wow this is ugly. I know they&#39;re trying to make it explicit, but a Tuple with overloaded params like in C# would have been nicer.","body":"Wow this is ugly. I know they&#39;re trying to make it explicit, but a Tuple with overloaded params like in C# would have been nicer."},{"owner":{"account_id":233198,"reputation":712,"user_id":498531,"accept_rate":62,"display_name":"jpangamarca"},"score":0,"creation_date":1474387590,"post_id":9522297,"comment_id":66506139,"body_markdown":"Cant&#39; believe someone actually took the time to write that.","body":"Cant&#39; believe someone actually took the time to write that."},{"owner":{"account_id":2037371,"reputation":3159,"user_id":1819402,"accept_rate":74,"display_name":"MAGx2"},"score":0,"creation_date":1510745216,"post_id":9522297,"comment_id":81562612,"body_markdown":"Thanks for this link. In my opinion it is useful. Big plus is that this lib does not have any other dependencies.","body":"Thanks for this link. In my opinion it is useful. Big plus is that this lib does not have any other dependencies."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1539603091,"post_id":9522297,"comment_id":92548801,"body_markdown":"A unary (not zero-ary!) [`Unit`](https://en.wikipedia.org/wiki/Unit_type). And what for? They didn&#39;t even get their Latin right, why is it &quot;Pair&quot; and not &quot;Doublet&quot; or something... That&#39;s just stupid.","body":"A unary (not zero-ary!) <a href=\"https://en.wikipedia.org/wiki/Unit_type\" rel=\"nofollow noreferrer\"><code>Unit</code></a>. And what for? They didn&#39;t even get their Latin right, why is it &quot;Pair&quot; and not &quot;Doublet&quot; or something... That&#39;s just stupid."},{"owner":{"account_id":2332305,"reputation":4402,"user_id":2045384,"accept_rate":20,"display_name":"tsh"},"score":1,"creation_date":1595313514,"post_id":9522297,"comment_id":111423041,"body_markdown":"You know... You just need a `Pair`, and then you can write `Pair&lt;A, Pair&lt;B, Pair&lt;C, Pair&lt;D, Pair&lt;E, Pair&lt;F, Pair&lt;G, Pair&lt;H, Pair&lt;I, J&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;` when you need `Decade`.","body":"You know... You just need a <code>Pair</code>, and then you can write <code>Pair&lt;A, Pair&lt;B, Pair&lt;C, Pair&lt;D, Pair&lt;E, Pair&lt;F, Pair&lt;G, Pair&lt;H, Pair&lt;I, J&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> when you need <code>Decade</code>."},{"owner":{"account_id":6885180,"reputation":2566,"user_id":5290519,"accept_rate":100,"display_name":"NeoZoom.lua"},"score":0,"creation_date":1609535061,"post_id":9522297,"comment_id":115862614,"body_markdown":"@tsh: Did you say `Headache&lt;...&gt;`?","body":"@tsh: Did you say <code>Headache&lt;...&gt;</code>?"}],"tags":[],"owner":{"account_id":1060363,"reputation":669,"user_id":1062131,"accept_rate":86,"display_name":"cyberoblivion"},"comment_count":11,"down_vote_count":3,"up_vote_count":31,"is_accepted":false,"score":28,"last_activity_date":1330628537,"creation_date":1330628537,"answer_id":9522297,"question_id":156275,"body_markdown":"How about http://www.javatuples.org/index.html I have found it very useful.\r\n\r\nThe javatuples offers you tuple classes from one to ten elements:\r\n\r\n    Unit&lt;A&gt; (1 element)\r\n    Pair&lt;A,B&gt; (2 elements)\r\n    Triplet&lt;A,B,C&gt; (3 elements)\r\n    Quartet&lt;A,B,C,D&gt; (4 elements)\r\n    Quintet&lt;A,B,C,D,E&gt; (5 elements)\r\n    Sextet&lt;A,B,C,D,E,F&gt; (6 elements)\r\n    Septet&lt;A,B,C,D,E,F,G&gt; (7 elements)\r\n    Octet&lt;A,B,C,D,E,F,G,H&gt; (8 elements)\r\n    Ennead&lt;A,B,C,D,E,F,G,H,I&gt; (9 elements)\r\n    Decade&lt;A,B,C,D,E,F,G,H,I,J&gt; (10 elements)\r\n\r\n","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>How about <a href=\"http://www.javatuples.org/index.html\" rel=\"noreferrer\">http://www.javatuples.org/index.html</a> I have found it very useful.</p>\n\n<p>The javatuples offers you tuple classes from one to ten elements:</p>\n\n<pre><code>Unit&lt;A&gt; (1 element)\nPair&lt;A,B&gt; (2 elements)\nTriplet&lt;A,B,C&gt; (3 elements)\nQuartet&lt;A,B,C,D&gt; (4 elements)\nQuintet&lt;A,B,C,D,E&gt; (5 elements)\nSextet&lt;A,B,C,D,E,F&gt; (6 elements)\nSeptet&lt;A,B,C,D,E,F,G&gt; (7 elements)\nOctet&lt;A,B,C,D,E,F,G,H&gt; (8 elements)\nEnnead&lt;A,B,C,D,E,F,G,H,I&gt; (9 elements)\nDecade&lt;A,B,C,D,E,F,G,H,I,J&gt; (10 elements)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1319167,"reputation":529,"user_id":1265352,"display_name":"Matunos"},"comment_count":0,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1399278879,"creation_date":1331598095,"answer_id":9676701,"question_id":156275,"body_markdown":"Apache Commons Lang 3.0+ has a few Pair classes: \r\nhttp://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/package-summary.html","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Apache Commons Lang 3.0+ has a few Pair classes: \n<a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/package-summary.html\" rel=\"noreferrer\">http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/package-summary.html</a></p>\n"},{"comments":[{"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"score":0,"creation_date":1496317595,"post_id":13299709,"comment_id":75618377,"body_markdown":"What about `equals`, `hashCode` and `toString`?","body":"What about <code>equals</code>, <code>hashCode</code> and <code>toString</code>?"},{"owner":{"account_id":429244,"reputation":10164,"user_id":812034,"accept_rate":64,"display_name":"Earth Engine"},"score":0,"creation_date":1496320642,"post_id":13299709,"comment_id":75620636,"body_markdown":"well, this is just a minimal implementation. If you need more than that you can write some helper functions to make it easier, but still you need to write the code.","body":"well, this is just a minimal implementation. If you need more than that you can write some helper functions to make it easier, but still you need to write the code."},{"owner":{"account_id":429244,"reputation":10164,"user_id":812034,"accept_rate":64,"display_name":"Earth Engine"},"score":0,"creation_date":1496320922,"post_id":13299709,"comment_id":75620873,"body_markdown":"To implement `toString` you need more knowledge about the relationship between the two fields.","body":"To implement <code>toString</code> you need more knowledge about the relationship between the two fields."},{"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"score":0,"creation_date":1496322274,"post_id":13299709,"comment_id":75621923,"body_markdown":"My point is providing a `class` might be better than just an `interface` because it can implement these things.","body":"My point is providing a <code>class</code> might be better than just an <code>interface</code> because it can implement these things."}],"tags":[],"owner":{"account_id":429244,"reputation":10164,"user_id":812034,"accept_rate":64,"display_name":"Earth Engine"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1352419086,"creation_date":1352417288,"answer_id":13299709,"question_id":156275,"body_markdown":"According to the nature of Java language, I suppose people do not actually require a `Pair`, an interface is usually what they need. Here is an example:\r\n\r\n    interface Pair&lt;L, R&gt; {\r\n        public L getL();\r\n        public R getR();\r\n    }\r\n\r\nSo, when people want to return two values they can do the following:\r\n\r\n    ... //Calcuate the return value\r\n    final Integer v1 = result1;\r\n    final String v2 = result2;\r\n    return new Pair&lt;Integer, String&gt;(){\r\n        Integer getL(){ return v1; }\r\n        String getR(){ return v2; }\r\n    }\r\n\r\nThis is a pretty lightweight solution, and it answers the question &quot;What is the semantic of a `Pair&lt;L,R&gt;`?&quot;. The answer is, this is an interface build with two (may be different) types, and it has methods to return each of them. It is up to you to add further semantic to it. For example, if you are using Position and REALLY want to indicate it in you code, you can define `PositionX` and `PositionY` that contains `Integer`, to make up a `Pair&lt;PositionX,PositionY&gt;`. If JSR 308 is available, you may also use `Pair&lt;@PositionX Integer, @PositionY Ingeger&gt;` to simplify that.\r\n\r\nEDIT:\r\nOne thing I should indicate here is that the above definition explicitly relates the type parameter name and the method name. This is an answer to those argues that a `Pair` is lack of semantic information. Actually, the method `getL` means &quot;give me the element that correspond to the type of type parameter L&quot;, which do means something.\r\n\r\nEDIT:\r\nHere is a simple utility class that can make life easier:\r\n\r\n    class Pairs {\r\n        static &lt;L,R&gt; Pair&lt;L,R&gt; makePair(final L l, final R r){\r\n            return new Pair&lt;L,R&gt;(){\r\n                public L getL() { return l; }\r\n                public R getR() { return r; }\t\r\n            };\r\n        }\r\n    }\r\n\r\nusage:\r\n\r\n    return Pairs.makePair(new Integer(100), &quot;123&quot;);","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>According to the nature of Java language, I suppose people do not actually require a <code>Pair</code>, an interface is usually what they need. Here is an example:</p>\n\n<pre><code>interface Pair&lt;L, R&gt; {\n    public L getL();\n    public R getR();\n}\n</code></pre>\n\n<p>So, when people want to return two values they can do the following:</p>\n\n<pre><code>... //Calcuate the return value\nfinal Integer v1 = result1;\nfinal String v2 = result2;\nreturn new Pair&lt;Integer, String&gt;(){\n    Integer getL(){ return v1; }\n    String getR(){ return v2; }\n}\n</code></pre>\n\n<p>This is a pretty lightweight solution, and it answers the question \"What is the semantic of a <code>Pair&lt;L,R&gt;</code>?\". The answer is, this is an interface build with two (may be different) types, and it has methods to return each of them. It is up to you to add further semantic to it. For example, if you are using Position and REALLY want to indicate it in you code, you can define <code>PositionX</code> and <code>PositionY</code> that contains <code>Integer</code>, to make up a <code>Pair&lt;PositionX,PositionY&gt;</code>. If JSR 308 is available, you may also use <code>Pair&lt;@PositionX Integer, @PositionY Ingeger&gt;</code> to simplify that.</p>\n\n<p>EDIT:\nOne thing I should indicate here is that the above definition explicitly relates the type parameter name and the method name. This is an answer to those argues that a <code>Pair</code> is lack of semantic information. Actually, the method <code>getL</code> means \"give me the element that correspond to the type of type parameter L\", which do means something.</p>\n\n<p>EDIT:\nHere is a simple utility class that can make life easier:</p>\n\n<pre><code>class Pairs {\n    static &lt;L,R&gt; Pair&lt;L,R&gt; makePair(final L l, final R r){\n        return new Pair&lt;L,R&gt;(){\n            public L getL() { return l; }\n            public R getR() { return r; }   \n        };\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>return Pairs.makePair(new Integer(100), \"123\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3290972,"reputation":501,"user_id":2847743,"display_name":"Dan"},"score":0,"creation_date":1584231644,"post_id":13660918,"comment_id":107373919,"body_markdown":"As Java Integers are 32 bit, won&#39;t multiplying the first hashcode by 31 mean that it overflows? Would it not be better to perform an exclusive OR?","body":"As Java Integers are 32 bit, won&#39;t multiplying the first hashcode by 31 mean that it overflows? Would it not be better to perform an exclusive OR?"}],"tags":[],"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1510765788,"creation_date":1354376270,"answer_id":13660918,"question_id":156275,"body_markdown":"The biggest problem is probably that one can&#39;t ensure immutability on A and B (see https://stackoverflow.com/questions/13666444/java-ensure-that-type-parameters-are-immutable/13667623#13667623) so `hashCode()` may give inconsistent results for the same Pair *after* is inserted in a collection for instance (this would give undefined behavior, see [Defining equals in terms of mutable fields][3]). For a particular (non generic) Pair class the programmer may ensure immutability by carefully choosing A and B to be immutable.\r\n\r\nAnyway, clearing generic&#39;s warnings from @PeterLawrey&#39;s answer (java 1.7) :\r\n\r\n    public class Pair&lt;A extends Comparable&lt;? super A&gt;,\r\n    \t\t\t\t\tB extends Comparable&lt;? super B&gt;&gt;\r\n    \t\timplements Comparable&lt;Pair&lt;A, B&gt;&gt; {\r\n    \r\n    \tpublic final A first;\r\n    \tpublic final B second;\r\n    \r\n    \tprivate Pair(A first, B second) {\r\n    \t\tthis.first = first;\r\n    \t\tthis.second = second;\r\n    \t}\r\n    \r\n    \tpublic static &lt;A extends Comparable&lt;? super A&gt;,\r\n\t\t\t\t\t    B extends Comparable&lt;? super B&gt;&gt;\r\n    \t\t\tPair&lt;A, B&gt; of(A first, B second) {\r\n    \t\treturn new Pair&lt;A, B&gt;(first, second);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int compareTo(Pair&lt;A, B&gt; o) {\r\n    \t\tint cmp = o == null ? 1 : (this.first).compareTo(o.first);\r\n    \t\treturn cmp == 0 ? (this.second).compareTo(o.second) : cmp;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn 31 * hashcode(first) + hashcode(second);\r\n    \t}\r\n    \r\n    \t// TODO : move this to a helper class.\r\n    \tprivate static int hashcode(Object o) {\r\n    \t\treturn o == null ? 0 : o.hashCode();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (!(obj instanceof Pair))\r\n    \t\t\treturn false;\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\treturn equal(first, ((Pair&lt;?, ?&gt;) obj).first)\r\n    \t\t\t\t&amp;&amp; equal(second, ((Pair&lt;?, ?&gt;) obj).second);\r\n    \t}\r\n    \r\n    \t// TODO : move this to a helper class.\r\n    \tprivate boolean equal(Object o1, Object o2) {\r\n    \t\treturn o1 == o2 || (o1 != null &amp;&amp; o1.equals(o2));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;(&quot; + first + &quot;, &quot; + second + &#39;)&#39;;\r\n    \t}\r\n    }\r\n    \r\nAdditions/corrections much welcome :) In particular I am not quite sure about my use of `Pair&lt;?, ?&gt;`.\r\n\r\nFor more info on why this syntax see [Ensure that objects implement Comparable][1] and for a detailed explanation [How to implement a generic `max(Comparable a, Comparable b)` function in Java?][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3166935/281545\r\n  [2]: https://stackoverflow.com/a/6466779/281545\r\n  [3]: http://www.artima.com/lejava/articles/equality.html","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>The biggest problem is probably that one can't ensure immutability on A and B (see <a href=\"https://stackoverflow.com/questions/13666444/java-ensure-that-type-parameters-are-immutable/13667623#13667623\">How to ensure that type parameters are immutable</a>) so <code>hashCode()</code> may give inconsistent results for the same Pair <em>after</em> is inserted in a collection for instance (this would give undefined behavior, see <a href=\"http://www.artima.com/lejava/articles/equality.html\" rel=\"nofollow noreferrer\">Defining equals in terms of mutable fields</a>). For a particular (non generic) Pair class the programmer may ensure immutability by carefully choosing A and B to be immutable.</p>\n\n<p>Anyway, clearing generic's warnings from @PeterLawrey's answer (java 1.7) :</p>\n\n<pre><code>public class Pair&lt;A extends Comparable&lt;? super A&gt;,\n                    B extends Comparable&lt;? super B&gt;&gt;\n        implements Comparable&lt;Pair&lt;A, B&gt;&gt; {\n\n    public final A first;\n    public final B second;\n\n    private Pair(A first, B second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public static &lt;A extends Comparable&lt;? super A&gt;,\n                    B extends Comparable&lt;? super B&gt;&gt;\n            Pair&lt;A, B&gt; of(A first, B second) {\n        return new Pair&lt;A, B&gt;(first, second);\n    }\n\n    @Override\n    public int compareTo(Pair&lt;A, B&gt; o) {\n        int cmp = o == null ? 1 : (this.first).compareTo(o.first);\n        return cmp == 0 ? (this.second).compareTo(o.second) : cmp;\n    }\n\n    @Override\n    public int hashCode() {\n        return 31 * hashcode(first) + hashcode(second);\n    }\n\n    // TODO : move this to a helper class.\n    private static int hashcode(Object o) {\n        return o == null ? 0 : o.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (!(obj instanceof Pair))\n            return false;\n        if (this == obj)\n            return true;\n        return equal(first, ((Pair&lt;?, ?&gt;) obj).first)\n                &amp;&amp; equal(second, ((Pair&lt;?, ?&gt;) obj).second);\n    }\n\n    // TODO : move this to a helper class.\n    private boolean equal(Object o1, Object o2) {\n        return o1 == o2 || (o1 != null &amp;&amp; o1.equals(o2));\n    }\n\n    @Override\n    public String toString() {\n        return \"(\" + first + \", \" + second + ')';\n    }\n}\n</code></pre>\n\n<p>Additions/corrections much welcome :) In particular I am not quite sure about my use of <code>Pair&lt;?, ?&gt;</code>.</p>\n\n<p>For more info on why this syntax see <a href=\"https://stackoverflow.com/a/3166935/281545\">Ensure that objects implement Comparable</a> and for a detailed explanation <a href=\"https://stackoverflow.com/a/6466779/281545\">How to implement a generic <code>max(Comparable a, Comparable b)</code> function in Java?</a></p>\n"},{"comments":[{"owner":{"account_id":407232,"reputation":68901,"user_id":777186,"accept_rate":71,"display_name":"jogojapan"},"score":0,"creation_date":1356670020,"post_id":14064648,"comment_id":19440554,"body_markdown":"How does this answer the question?","body":"How does this answer the question?"},{"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"score":0,"creation_date":1356707966,"post_id":14064648,"comment_id":19452597,"body_markdown":"Many people are posting `Pair` code that is usable as a key in Maps, so I thought I&#39;d post a more direct approach. I&#39;ll update my post for context.","body":"Many people are posting <code>Pair</code> code that is usable as a key in Maps, so I thought I&#39;d post a more direct approach. I&#39;ll update my post for context."},{"owner":{"account_id":407232,"reputation":68901,"user_id":777186,"accept_rate":71,"display_name":"jogojapan"},"score":0,"creation_date":1356708773,"post_id":14064648,"comment_id":19452955,"body_markdown":"Where is the pair data structure in the code you are proposing?","body":"Where is the pair data structure in the code you are proposing?"},{"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"score":0,"creation_date":1356717891,"post_id":14064648,"comment_id":19456647,"body_markdown":"There is no pair at all, because this data structure obviates the need to create a pair as a hashing key. I decided to post because of the other answers - &quot;it depends on what you want to use [the pair] for.&quot;","body":"There is no pair at all, because this data structure obviates the need to create a pair as a hashing key. I decided to post because of the other answers - &quot;it depends on what you want to use [the pair] for.&quot;"},{"owner":{"account_id":407232,"reputation":68901,"user_id":777186,"accept_rate":71,"display_name":"jogojapan"},"score":0,"creation_date":1356755709,"post_id":14064648,"comment_id":19466074,"body_markdown":"No hard feelings, but I just don&#39;t think this answers the question. Using pairs to represent key/value in a hash is _one_ very special way of using it, but, firstly, this would rather be a counter argument to implementing a generalized pair data structure (because a &#39;hash-entry&#39; data structure would be more appropriate -- and that&#39;s exactly what Java&#39;s `HashMap.Entry` is), and secondly, your example isn&#39;t about key-values, but about _triples_ stored in a bindex-style map, and even the data structure that represents the triple isn&#39;t made explicit in your answer.","body":"No hard feelings, but I just don&#39;t think this answers the question. Using pairs to represent key/value in a hash is <i>one</i> very special way of using it, but, firstly, this would rather be a counter argument to implementing a generalized pair data structure (because a &#39;hash-entry&#39; data structure would be more appropriate -- and that&#39;s exactly what Java&#39;s <code>HashMap.Entry</code> is), and secondly, your example isn&#39;t about key-values, but about <i>triples</i> stored in a bindex-style map, and even the data structure that represents the triple isn&#39;t made explicit in your answer."},{"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"score":0,"creation_date":1356812949,"post_id":14064648,"comment_id":19478686,"body_markdown":"The pair in this case is not for a (key, value) pair. It&#39;s for a pair of objects that represent a unique key. It&#39;s definitely not the same as a `Map.Entry`. If you look at the other answers, there are a lot of proposed pairs that implement `equals` and `hashCode`, specifically for this purpose. The `Table` doesn&#39;t store a triple. It maps a pair of keys to a value and has lookup functions specifically for that purpose.","body":"The pair in this case is not for a (key, value) pair. It&#39;s for a pair of objects that represent a unique key. It&#39;s definitely not the same as a <code>Map.Entry</code>. If you look at the other answers, there are a lot of proposed pairs that implement <code>equals</code> and <code>hashCode</code>, specifically for this purpose. The <code>Table</code> doesn&#39;t store a triple. It maps a pair of keys to a value and has lookup functions specifically for that purpose."}],"tags":[],"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356813099,"creation_date":1356669601,"answer_id":14064648,"question_id":156275,"body_markdown":"Many people are posting `Pair` code that is usable as a key in a Map...If you&#39;re trying to use a pair as a hashing key (a common idiom), be sure to check out Guava&#39;s `Table&lt;R,C,V&gt;`: http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Table. They give the following example usage, for graph edges:\r\n\r\n    Table&lt;Vertex, Vertex, Double&gt; weightedGraph = HashBasedTable.create();\r\n    weightedGraph.put(v1, v2, 4);\r\n    weightedGraph.put(v1, v3, 20);\r\n    weightedGraph.put(v2, v3, 5);\r\n    \r\n    weightedGraph.row(v1); // returns a Map mapping v2 to 4, v3 to 20\r\n    weightedGraph.column(v3); // returns a Map mapping v1 to 20, v2 to 5\r\n\r\nA `Table` maps two keys to a single value, and provides efficient lookups for both types of keys alone as well. I&#39;ve started using this data structure instead of a `Map&lt;Pair&lt;K1,K2&gt;, V&gt;` in many parts of my code. There are array, tree, and other implementations for both dense and sparse uses, with the option of specifying your own intermediate map classes.\r\n","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Many people are posting <code>Pair</code> code that is usable as a key in a Map...If you're trying to use a pair as a hashing key (a common idiom), be sure to check out Guava's <code>Table&lt;R,C,V&gt;</code>: <a href=\"http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Table\" rel=\"nofollow\">http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Table</a>. They give the following example usage, for graph edges:</p>\n\n<pre><code>Table&lt;Vertex, Vertex, Double&gt; weightedGraph = HashBasedTable.create();\nweightedGraph.put(v1, v2, 4);\nweightedGraph.put(v1, v3, 20);\nweightedGraph.put(v2, v3, 5);\n\nweightedGraph.row(v1); // returns a Map mapping v2 to 4, v3 to 20\nweightedGraph.column(v3); // returns a Map mapping v1 to 20, v2 to 5\n</code></pre>\n\n<p>A <code>Table</code> maps two keys to a single value, and provides efficient lookups for both types of keys alone as well. I've started using this data structure instead of a <code>Map&lt;Pair&lt;K1,K2&gt;, V&gt;</code> in many parts of my code. There are array, tree, and other implementations for both dense and sparse uses, with the option of specifying your own intermediate map classes.</p>\n"},{"tags":[],"owner":{"account_id":91749,"reputation":2413,"user_id":251769,"display_name":"Swapneel Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363574884,"creation_date":1363574425,"answer_id":15468967,"question_id":156275,"body_markdown":"For programming languages like Java, the alternate data structure used by most programmers to represent pair like data-structures are two array, and data is accessed via the same index \r\n\r\nexample: http://www-igm.univ-mlv.fr/~lecroq/string/node8.html#SECTION0080\r\n\r\nThis isn&#39;t ideal as the data should be bound together, but also turn out to be pretty cheap. Also, if your use case demands storing co-ordinates then its better to build your own data structure. \r\n\r\nI&#39;ve something like this in my library\r\n\r\n\r\n    public class Pair&lt;First,Second&gt;{.. }\r\n","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>For programming languages like Java, the alternate data structure used by most programmers to represent pair like data-structures are two array, and data is accessed via the same index </p>\n\n<p>example: <a href=\"http://www-igm.univ-mlv.fr/~lecroq/string/node8.html#SECTION0080\" rel=\"nofollow\">http://www-igm.univ-mlv.fr/~lecroq/string/node8.html#SECTION0080</a></p>\n\n<p>This isn't ideal as the data should be bound together, but also turn out to be pretty cheap. Also, if your use case demands storing co-ordinates then its better to build your own data structure. </p>\n\n<p>I've something like this in my library</p>\n\n<pre><code>public class Pair&lt;First,Second&gt;{.. }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392671946,"creation_date":1392671946,"answer_id":21839459,"question_id":156275,"body_markdown":"Despite being syntactically similar, Java and C++ have very different paradigms. Writing C++ like Java is bad C++, and writing Java like C++ is bad Java.\r\n\r\nWith a reflection based IDE like Eclipse, writing the necessarily functionality of a &quot;pair&quot; class is quick and simple. Create class, define two fields, use the various &quot;Generate XX&quot; menu options to fill out the class in a matter of seconds. Maybe you&#39;d have to type a &quot;compareTo&quot; real quick if you wanted the Comparable interface.\r\n\r\nWith separate declaration / definition options in the language C++ code generators aren&#39;t so good, so hand writing little utility classes is more time consuming tedium. Because the pair is a template, you don&#39;t have to pay for functions you don&#39;t use, and the typedef facility allows assigning meaningful typenames to the code, so the objections about &quot;no semantics&quot; don&#39;t really hold up.","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Despite being syntactically similar, Java and C++ have very different paradigms. Writing C++ like Java is bad C++, and writing Java like C++ is bad Java.</p>\n\n<p>With a reflection based IDE like Eclipse, writing the necessarily functionality of a \"pair\" class is quick and simple. Create class, define two fields, use the various \"Generate XX\" menu options to fill out the class in a matter of seconds. Maybe you'd have to type a \"compareTo\" real quick if you wanted the Comparable interface.</p>\n\n<p>With separate declaration / definition options in the language C++ code generators aren't so good, so hand writing little utility classes is more time consuming tedium. Because the pair is a template, you don't have to pay for functions you don't use, and the typedef facility allows assigning meaningful typenames to the code, so the objections about \"no semantics\" don't really hold up.</p>\n"},{"comments":[{"owner":{"account_id":3435303,"reputation":952,"user_id":2878556,"accept_rate":86,"display_name":"Markus L"},"score":1,"creation_date":1509447880,"post_id":23468362,"comment_id":81013851,"body_markdown":"``Objects.equal(..)`` requires the Guava library.","body":"<code>Objects.equal(..)</code> requires the Guava library."},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":4,"creation_date":1539628695,"post_id":23468362,"comment_id":92562713,"body_markdown":"Change it to `Objects.equals(...)` which has been in Java since 2011 (1.7).","body":"Change it to <code>Objects.equals(...)</code> which has been in Java since 2011 (1.7)."}],"tags":[],"owner":{"account_id":399227,"reputation":4910,"user_id":764426,"accept_rate":0,"display_name":"sherpya"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1399279532,"creation_date":1399279532,"answer_id":23468362,"question_id":156275,"body_markdown":"android provides `Pair`class (http://developer.android.com/reference/android/util/Pair.html) , here the implementation:\r\n\r\n    public class Pair&lt;F, S&gt; {\r\n        public final F first;\r\n        public final S second;\r\n\r\n        public Pair(F first, S second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (!(o instanceof Pair)) {\r\n                return false;\r\n            }\r\n            Pair&lt;?, ?&gt; p = (Pair&lt;?, ?&gt;) o;\r\n            return Objects.equal(p.first, first) &amp;&amp; Objects.equal(p.second, second);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return (first == null ? 0 : first.hashCode()) ^ (second == null ? 0 : second.hashCode());\r\n        }\r\n\r\n        public static &lt;A, B&gt; Pair &lt;A, B&gt; create(A a, B b) {\r\n            return new Pair&lt;A, B&gt;(a, b);\r\n        }\r\n    }\r\n","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>android provides <code>Pair</code>class (<a href=\"http://developer.android.com/reference/android/util/Pair.html\">http://developer.android.com/reference/android/util/Pair.html</a>) , here the implementation:</p>\n\n<pre><code>public class Pair&lt;F, S&gt; {\n    public final F first;\n    public final S second;\n\n    public Pair(F first, S second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (!(o instanceof Pair)) {\n            return false;\n        }\n        Pair&lt;?, ?&gt; p = (Pair&lt;?, ?&gt;) o;\n        return Objects.equal(p.first, first) &amp;&amp; Objects.equal(p.second, second);\n    }\n\n    @Override\n    public int hashCode() {\n        return (first == null ? 0 : first.hashCode()) ^ (second == null ? 0 : second.hashCode());\n    }\n\n    public static &lt;A, B&gt; Pair &lt;A, B&gt; create(A a, B b) {\n        return new Pair&lt;A, B&gt;(a, b);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":233198,"reputation":712,"user_id":498531,"accept_rate":62,"display_name":"jpangamarca"},"score":2,"creation_date":1474387738,"post_id":23468385,"comment_id":66506230,"body_markdown":"Nobody should be using the JDK internal APIs, though.","body":"Nobody should be using the JDK internal APIs, though."}],"tags":[],"owner":{"account_id":248860,"reputation":2568,"user_id":524504,"accept_rate":75,"display_name":"masterxilo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399279609,"creation_date":1399279609,"answer_id":23468385,"question_id":156275,"body_markdown":"com.sun.tools.javac.util.Pair is an simple implementation of a pair. \r\nIt can be found in jdk1.7.0_51\\lib\\tools.jar.\r\n\r\nOther than the org.apache.commons.lang3.tuple.Pair, it&#39;s not just an interface.\r\n\r\n","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>com.sun.tools.javac.util.Pair is an simple implementation of a pair. \nIt can be found in jdk1.7.0_51\\lib\\tools.jar.</p>\n\n<p>Other than the org.apache.commons.lang3.tuple.Pair, it's not just an interface.</p>\n"},{"tags":[],"owner":{"account_id":243519,"reputation":426,"user_id":515755,"display_name":"Shahar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412613724,"creation_date":1412613724,"answer_id":26220832,"question_id":156275,"body_markdown":"You can use Google&#39;s AutoValue library - https://github.com/google/auto/tree/master/value.\r\n\r\nYou create a very small abstract class and annotate it with @AutoValue and the annotation processor generates a concrete class for you that has a value semantic.\r\n","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>You can use Google's AutoValue library - <a href=\"https://github.com/google/auto/tree/master/value\" rel=\"nofollow\">https://github.com/google/auto/tree/master/value</a>.</p>\n\n<p>You create a very small abstract class and annotate it with @AutoValue and the annotation processor generates a concrete class for you that has a value semantic.</p>\n"},{"comments":[{"owner":{"account_id":533893,"reputation":6266,"user_id":1407170,"accept_rate":83,"display_name":"sffc"},"score":1,"creation_date":1445601083,"post_id":29759958,"comment_id":54402015,"body_markdown":"The [implementation of hashCode in javafx.util.Pair](http://hg.openjdk.java.net/openjfx/8/master/rt/file/f89b7dc932af/modules/base/src/main/java/javafx/util/Pair.java#l91) can lead to collisions on trivial cases. Using it in HashMap/HashTable will still work since Java checks for equality of values in addition to hash codes, but it&#39;s something to be aware of.","body":"The <a href=\"http://hg.openjdk.java.net/openjfx/8/master/rt/file/f89b7dc932af/modules/base/src/main/java/javafx/util/Pair.java#l91\" rel=\"nofollow noreferrer\">implementation of hashCode in javafx.util.Pair</a> can lead to collisions on trivial cases. Using it in HashMap/HashTable will still work since Java checks for equality of values in addition to hash codes, but it&#39;s something to be aware of."},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1539629634,"post_id":29759958,"comment_id":92563204,"body_markdown":"That is a very standard and commonly-recommended hashCode implementation. Collisions should be expected by _any_ code that calls `hashCode()`. Note that Java itself doesn&#39;t call this method. It is for user code, including libraries.","body":"That is a very standard and commonly-recommended hashCode implementation. Collisions should be expected by <i>any</i> code that calls <code>hashCode()</code>. Note that Java itself doesn&#39;t call this method. It is for user code, including libraries."}],"tags":[],"owner":{"account_id":949428,"reputation":2798,"user_id":975904,"accept_rate":96,"display_name":"CarrKnight"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429571049,"creation_date":1429571049,"answer_id":29759958,"question_id":156275,"body_markdown":"JavaFX (which comes bundled with Java 8) has the Pair&lt; A,B &gt; class","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>JavaFX (which comes bundled with Java 8) has the Pair&lt; A,B > class</p>\n"},{"comments":[{"owner":{"account_id":53593,"reputation":11553,"user_id":160256,"display_name":"Keegan"},"score":1,"creation_date":1431711765,"post_id":30265566,"comment_id":48631358,"body_markdown":"OP is already aware of this option, and it was discussed at length.","body":"OP is already aware of this option, and it was discussed at length."}],"tags":[],"owner":{"account_id":6314278,"reputation":61,"user_id":4904835,"display_name":"Nikunj Bhagat"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1431711383,"creation_date":1431711383,"answer_id":30265566,"question_id":156275,"body_markdown":"[Map.Entry][1] interface come pretty close to c++ pair. Look at the concrete implementation, like [AbstractMap.SimpleEntry][2] and AbstractMap.SimpleImmutableEntry\r\nFirst item is getKey() and second is getValue().\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleEntry.html","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\">Map.Entry</a> interface come pretty close to c++ pair. Look at the concrete implementation, like <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"noreferrer\">AbstractMap.SimpleEntry</a> and AbstractMap.SimpleImmutableEntry\nFirst item is getKey() and second is getValue().</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445522341,"creation_date":1445521700,"answer_id":33282633,"question_id":156275,"body_markdown":"Here are some libraries that have multiple degrees of tuples for your convenience:\r\n\r\n- [JavaTuples][1]. Tuples from degree 1-10 is all it has. \r\n- [JavaSlang][2]. Tuples from degree 0-8 and lots of other functional goodies. \r\n- [jOO][3]. Tuples from degree 0-16 and some other functional goodies. (Disclaimer, I work for the maintainer company) \r\n- [Functional Java][4]. Tuples from degree 0-8 and lots of other functional goodies. \r\n\r\nOther libraries have been mentioned to contain at least the `Pair` tuple.\r\n\r\nSpecifically, in the context of functional programming which makes use of a lot of structural typing, rather than nominal typing ([as advocated in the accepted answer][5]), those libraries and their tuples come in very handy.\r\n\r\n\r\n  [1]: http://www.javatuples.org\r\n  [2]: http://javaslang.com\r\n  [3]: https://github.com/jOOQ/jOOL\r\n  [4]: http://www.functionaljava.org\r\n  [5]: https://stackoverflow.com/a/156685/521799","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Here are some libraries that have multiple degrees of tuples for your convenience:</p>\n\n<ul>\n<li><a href=\"http://www.javatuples.org\" rel=\"nofollow noreferrer\">JavaTuples</a>. Tuples from degree 1-10 is all it has. </li>\n<li><a href=\"http://javaslang.com\" rel=\"nofollow noreferrer\">JavaSlang</a>. Tuples from degree 0-8 and lots of other functional goodies. </li>\n<li><a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow noreferrer\">jOO</a>. Tuples from degree 0-16 and some other functional goodies. (Disclaimer, I work for the maintainer company) </li>\n<li><a href=\"http://www.functionaljava.org\" rel=\"nofollow noreferrer\">Functional Java</a>. Tuples from degree 0-8 and lots of other functional goodies. </li>\n</ul>\n\n<p>Other libraries have been mentioned to contain at least the <code>Pair</code> tuple.</p>\n\n<p>Specifically, in the context of functional programming which makes use of a lot of structural typing, rather than nominal typing (<a href=\"https://stackoverflow.com/a/156685/521799\">as advocated in the accepted answer</a>), those libraries and their tuples come in very handy.</p>\n"},{"comments":[{"owner":{"account_id":5185935,"reputation":1649,"user_id":4150337,"display_name":"Micha Dobi Dobrzaski"},"score":2,"creation_date":1588705580,"post_id":34976779,"comment_id":109000727,"body_markdown":"Bad news is that not everyone uses JavaFX","body":"Bad news is that not everyone uses JavaFX"}],"tags":[],"owner":{"account_id":4686489,"reputation":139,"user_id":3812854,"accept_rate":0,"display_name":"RAJAN_PARMAR"},"comment_count":1,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1626978995,"creation_date":1453644635,"answer_id":34976779,"question_id":156275,"body_markdown":"Good News JavaFX has a key value Pair. \r\n\r\nJust add JavaFX as a dependency and import `javafx.util.Pair`, and use simply as in C++.\r\n\r\n    Pair &lt;Key, Value&gt; \r\n\r\ne.g. \r\n\r\n    Pair &lt;Integer, Integer&gt; pr = new Pair&lt;Integer, Integer&gt;()\r\n\r\n    pr.get(key);// will return corresponding value\r\n","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Good News JavaFX has a key value Pair.</p>\n<p>Just add JavaFX as a dependency and import <code>javafx.util.Pair</code>, and use simply as in C++.</p>\n<pre><code>Pair &lt;Key, Value&gt; \n</code></pre>\n<p>e.g.</p>\n<pre><code>Pair &lt;Integer, Integer&gt; pr = new Pair&lt;Integer, Integer&gt;()\n\npr.get(key);// will return corresponding value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4820059,"reputation":331,"user_id":4465567,"display_name":"Dominik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453894135,"creation_date":1453894135,"answer_id":35036111,"question_id":156275,"body_markdown":"With new version of [Lombok][1] you can compile that cute class:\r\n\r\n    @Value(staticConstructor = &quot;of&quot;) public class Pair &lt;E&gt; {\r\n      E first, second;\r\n    }\r\n\r\nand use it like: `Pair&lt;Value&gt; pairOfValues = Pair.of(value1, value2);`\r\n\r\n  [1]: https://projectlombok.org/","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>With new version of <a href=\"https://projectlombok.org/\" rel=\"nofollow\">Lombok</a> you can compile that cute class:</p>\n\n<pre><code>@Value(staticConstructor = \"of\") public class Pair &lt;E&gt; {\n  E first, second;\n}\n</code></pre>\n\n<p>and use it like: <code>Pair&lt;Value&gt; pairOfValues = Pair.of(value1, value2);</code></p>\n"},{"comments":[{"owner":{"account_id":5197576,"reputation":61,"user_id":4158232,"display_name":"Subhash Karupusamy"},"score":0,"creation_date":1679326355,"post_id":35358753,"comment_id":133697495,"body_markdown":"If any value needs to be `null` this will not work.","body":"If any value needs to be <code>null</code> this will not work."}],"tags":[],"owner":{"account_id":7826141,"reputation":89,"user_id":5917590,"display_name":"Denis Arkharov"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1455268617,"creation_date":1455268617,"answer_id":35358753,"question_id":156275,"body_markdown":"    Collections.singletonMap(left, rigth);","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<pre><code>Collections.singletonMap(left, rigth);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457740675,"creation_date":1456957141,"answer_id":35759308,"question_id":156275,"body_markdown":"Brian Goetz, Paul Sandoz and Stuart Marks [explain why](https://youtu.be/ischZmi5oi4?t=33m22s) during QA session at Devoxx&#39;14.\r\n\r\nHaving generic pair class in standard library will turn into technical debt once [value types](http://openjdk.java.net/projects/valhalla/) introduced.\r\n\r\n*See also:* https://stackoverflow.com/questions/24328679/does-java-se-8-have-pairs-or-tuples/24336841#24336841","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Brian Goetz, Paul Sandoz and Stuart Marks <a href=\"https://youtu.be/ischZmi5oi4?t=33m22s\" rel=\"nofollow noreferrer\">explain why</a> during QA session at Devoxx'14.</p>\n\n<p>Having generic pair class in standard library will turn into technical debt once <a href=\"http://openjdk.java.net/projects/valhalla/\" rel=\"nofollow noreferrer\">value types</a> introduced.</p>\n\n<p><em>See also:</em> <a href=\"https://stackoverflow.com/questions/24328679/does-java-se-8-have-pairs-or-tuples/24336841#24336841\">Does Java SE 8 have Pairs or Tuples?</a></p>\n"},{"tags":[],"owner":{"account_id":5981656,"reputation":263,"user_id":4700500,"accept_rate":80,"display_name":"Sathyanarayanan Ganesan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460099611,"creation_date":1460099611,"answer_id":36493674,"question_id":156275,"body_markdown":"You can use javafx utility class, `Pair` which serves the same purpose as pair &lt;&gt; in c++. https://docs.oracle.com/javafx/2/api/javafx/util/Pair.html","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>You can use javafx utility class, <code>Pair</code> which serves the same purpose as pair &lt;> in c++. <a href=\"https://docs.oracle.com/javafx/2/api/javafx/util/Pair.html\" rel=\"noreferrer\">https://docs.oracle.com/javafx/2/api/javafx/util/Pair.html</a></p>\n"},{"comments":[{"owner":{"account_id":1518433,"reputation":1029,"user_id":1418838,"display_name":"Haakon L&#248;tveit"},"score":0,"creation_date":1502444259,"post_id":45154057,"comment_id":78222657,"body_markdown":"You ought to have an @lombok.Value annotation there and you get equals, hashCode, getters, private final on fields, and a toString method as well for free. At that point the Pair&lt;T,Z&gt; thing is strictly inferior, since it wouldn&#39;t handle primitive types well.","body":"You ought to have an @lombok.Value annotation there and you get equals, hashCode, getters, private final on fields, and a toString method as well for free. At that point the Pair&lt;T,Z&gt; thing is strictly inferior, since it wouldn&#39;t handle primitive types well."}],"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500327438,"creation_date":1500327438,"answer_id":45154057,"question_id":156275,"body_markdown":"The answer by @Andreas Krey is actually good.  Anything Java makes difficult, you probably shouldn&#39;t be doing.\r\n\r\nThe most common uses of Pair&#39;s in my experience have been multiple return values from a method and as VALUES in a hashmap (often indexed by strings).\r\n\r\nIn the latter case, I recently used a data structure, something like this:\r\n    \r\n    class SumHolder{MyObject trackedObject, double sum};\r\n\r\nThere is your entire &quot;Pair&quot; class, pretty much the same amount of code as a generic &quot;Pair&quot; but with the advantage of descriptive names.  It can be defined in-line right in the method it&#39;s used which will eliminate typical problems with public variables and the like.  In other words, it&#39;s absolutely better than a pair for this usage (due to the named members) and no worse.  \r\n\r\nIf you actually want a &quot;Pair&quot; for the key of a hashmap you are essentially creating a double-key index. I think this may be the one case where a &quot;Pair&quot; is significantly less code.  It&#39;s not really easier because you could have eclipse generate equals/hash on your little data class, but it would be a good deal more code. Here a Pair would be a quick fix, but if you need a double-indexed hash who&#39;s to say you don&#39;t need an n-indexed hash?  The data class solution will scale up, the Pair will not unless you nest them!\r\n\r\nSo the second case, returning from a method, is a bit harder.  Your class needs more visibility (the caller needs to see it too).  You can define it outside the method but inside the class exactly as above.  At that point your method should be able to return a MyClass.SumHolder object.  The caller gets to see the names of the returned objects, not just a &quot;Pair&quot;.  Note again that the &quot;Default&quot; security of package level is pretty good--it&#39;s restrictive enough that you shouldn&#39;t get yourself into too much trouble.  Better than a &quot;Pair&quot; object anyway.\r\n\r\nThe other case I can see a use for Pairs is a public api with return values for callers outside your current package.  For this I&#39;d just create a true object--preferably immutable. Eventually a caller will share this return value and having it mutable could be problematic. This is another case of the Pair object being worse--most pairs cannot be made immutable.\r\n\r\nAnother advantage to all these cases--the java class expands, my sum class needed a second sum and a &quot;Created&quot; flag by the time I was done, I would have had to throw away the Pair and gone with something else, but if the pair made sense, my class with 4 values still makes at least as much sense.","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>The answer by @Andreas Krey is actually good.  Anything Java makes difficult, you probably shouldn't be doing.</p>\n\n<p>The most common uses of Pair's in my experience have been multiple return values from a method and as VALUES in a hashmap (often indexed by strings).</p>\n\n<p>In the latter case, I recently used a data structure, something like this:</p>\n\n<pre><code>class SumHolder{MyObject trackedObject, double sum};\n</code></pre>\n\n<p>There is your entire \"Pair\" class, pretty much the same amount of code as a generic \"Pair\" but with the advantage of descriptive names.  It can be defined in-line right in the method it's used which will eliminate typical problems with public variables and the like.  In other words, it's absolutely better than a pair for this usage (due to the named members) and no worse.  </p>\n\n<p>If you actually want a \"Pair\" for the key of a hashmap you are essentially creating a double-key index. I think this may be the one case where a \"Pair\" is significantly less code.  It's not really easier because you could have eclipse generate equals/hash on your little data class, but it would be a good deal more code. Here a Pair would be a quick fix, but if you need a double-indexed hash who's to say you don't need an n-indexed hash?  The data class solution will scale up, the Pair will not unless you nest them!</p>\n\n<p>So the second case, returning from a method, is a bit harder.  Your class needs more visibility (the caller needs to see it too).  You can define it outside the method but inside the class exactly as above.  At that point your method should be able to return a MyClass.SumHolder object.  The caller gets to see the names of the returned objects, not just a \"Pair\".  Note again that the \"Default\" security of package level is pretty good--it's restrictive enough that you shouldn't get yourself into too much trouble.  Better than a \"Pair\" object anyway.</p>\n\n<p>The other case I can see a use for Pairs is a public api with return values for callers outside your current package.  For this I'd just create a true object--preferably immutable. Eventually a caller will share this return value and having it mutable could be problematic. This is another case of the Pair object being worse--most pairs cannot be made immutable.</p>\n\n<p>Another advantage to all these cases--the java class expands, my sum class needed a second sum and a \"Created\" flag by the time I was done, I would have had to throw away the Pair and gone with something else, but if the pair made sense, my class with 4 values still makes at least as much sense.</p>\n"},{"tags":[],"owner":{"account_id":179597,"reputation":2025,"user_id":412366,"accept_rate":59,"display_name":"Matt Broekhuis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542652107,"creation_date":1542652107,"answer_id":53380628,"question_id":156275,"body_markdown":"another terse lombok implementation\r\n\r\n    import lombok.Value;\r\n    \r\n    @Value(staticConstructor = &quot;of&quot;)\r\n    public class Pair&lt;F, S&gt; {\r\n        private final F first;\r\n        private final S second;\r\n    }","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>another terse lombok implementation</p>\n\n<pre><code>import lombok.Value;\n\n@Value(staticConstructor = \"of\")\npublic class Pair&lt;F, S&gt; {\n    private final F first;\n    private final S second;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426050,"reputation":18998,"user_id":807037,"accept_rate":66,"display_name":"Noel Yap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594170013,"creation_date":1594170013,"answer_id":62786015,"question_id":156275,"body_markdown":"Try [VAVR Tuples][1].\r\n\r\nNot only does vavr have a good set of tuple types, it has great support for functional programming, too.\r\n\r\n\r\n  [1]: https://www.vavr.io/vavr-docs/#_tuples","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Try <a href=\"https://www.vavr.io/vavr-docs/#_tuples\" rel=\"nofollow noreferrer\">VAVR Tuples</a>.</p>\n<p>Not only does vavr have a good set of tuple types, it has great support for functional programming, too.</p>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614405584,"creation_date":1614405584,"answer_id":66396046,"question_id":156275,"body_markdown":"Spring data has a Pair and can be used like below,\r\n\r\n\r\n    Pair&lt;S, T&gt; pair = Pair.of(S type data, T type data)","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Spring data has a Pair and can be used like below,</p>\n<pre><code>Pair&lt;S, T&gt; pair = Pair.of(S type data, T type data)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11390996,"reputation":300,"user_id":10334839,"display_name":"HomeworkHopper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631815888,"creation_date":1631815888,"answer_id":69213294,"question_id":156275,"body_markdown":"Although this question is over a decade old, I do feel the need to mention that, as of Java 14, [**Records**][1] can provide a very simple and light-weight solution to this problem without the need for any form of external library or dependencies.\r\n\r\nFor example, the following record class declaration would be all that&#39;s required in order to achieve the desired functionality:\r\n\r\n    record Pair&lt;K, V&gt;(K key, V value) { }\r\n\r\nSuch a record class could be used as so:\r\n\r\n    // Declare a pair object containing two integers\r\n    var integerIntegerPair = new Pair&lt;&gt;(1, 2);\r\n    \r\n    // Declare a pair object containing a String and an integer\r\n    var stringIntegerPair = new Pair&lt;&gt;(&quot;String&quot;, 20);\r\n\r\n    // Declare a pair object containing two other pairs!\r\n    var pairPairPair = new Pair&lt;&gt;(new Pair&lt;&gt;(1, 2), new Pair&lt;&gt;(&quot;String&quot;, 20));\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/language/records.html","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Although this question is over a decade old, I do feel the need to mention that, as of Java 14, <a href=\"https://docs.oracle.com/en/java/javase/14/language/records.html\" rel=\"nofollow noreferrer\"><strong>Records</strong></a> can provide a very simple and light-weight solution to this problem without the need for any form of external library or dependencies.</p>\n<p>For example, the following record class declaration would be all that's required in order to achieve the desired functionality:</p>\n<pre><code>record Pair&lt;K, V&gt;(K key, V value) { }\n</code></pre>\n<p>Such a record class could be used as so:</p>\n<pre><code>// Declare a pair object containing two integers\nvar integerIntegerPair = new Pair&lt;&gt;(1, 2);\n\n// Declare a pair object containing a String and an integer\nvar stringIntegerPair = new Pair&lt;&gt;(&quot;String&quot;, 20);\n\n// Declare a pair object containing two other pairs!\nvar pairPairPair = new Pair&lt;&gt;(new Pair&lt;&gt;(1, 2), new Pair&lt;&gt;(&quot;String&quot;, 20));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5197576,"reputation":61,"user_id":4158232,"display_name":"Subhash Karupusamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679326178,"creation_date":1679326178,"answer_id":75792234,"question_id":156275,"body_markdown":"Recommend to go with Apache commons `ImmutablePair`.\r\n\r\n```\r\nImmutablePair&lt;L, R&gt; immutablePairOfLandR = ImmutablePair.of(leftElementValue,rightElementValue);\r\n```\r\n\r\nDocumentation - https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/ImmutablePair.html","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Recommend to go with Apache commons <code>ImmutablePair</code>.</p>\n<pre><code>ImmutablePair&lt;L, R&gt; immutablePairOfLandR = ImmutablePair.of(leftElementValue,rightElementValue);\n</code></pre>\n<p>Documentation - <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/ImmutablePair.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/ImmutablePair.html</a></p>\n"}],"owner":{"account_id":7800,"reputation":83655,"user_id":13673,"accept_rate":100,"display_name":"David Segonds"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502529,"favorite_count":0,"down_vote_count":2,"up_vote_count":715,"accepted_answer_id":156685,"answer_count":37,"score":713,"last_activity_date":1679326178,"creation_date":1222836521,"question_id":156275,"body_markdown":"Is there a good reason why there is no `Pair&lt;L,R&gt;` in Java? What would be the equivalent of this C++ construct? I would rather avoid reimplementing my own.\r\n\r\nIt seems that **1.6** is providing something similar (`AbstractMap.SimpleEntry&lt;K,V&gt;`), but this looks quite convoluted.","title":"What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?","body":"<p>Is there a good reason why there is no <code>Pair&lt;L,R&gt;</code> in Java? What would be the equivalent of this C++ construct? I would rather avoid reimplementing my own.</p>\n\n<p>It seems that <strong>1.6</strong> is providing something similar (<code>AbstractMap.SimpleEntry&lt;K,V&gt;</code>), but this looks quite convoluted.</p>\n"},{"tags":["java","sql-server","spring","spring-boot","download"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1678687899,"post_id":75718498,"comment_id":133575054,"body_markdown":"*the file that I downloaded from the database is corrupted* - is it corrupted in the DB, or only when downloaded using your code?","body":"<i>the file that I downloaded from the database is corrupted</i> - is it corrupted in the DB, or only when downloaded using your code?"},{"owner":{"account_id":24187065,"reputation":123,"user_id":18146759,"display_name":"Zaydon Lim"},"score":0,"creation_date":1678688685,"post_id":75718498,"comment_id":133575161,"body_markdown":"when downloaded using code","body":"when downloaded using code"}],"answers":[{"tags":[],"owner":{"account_id":27962775,"reputation":11,"user_id":21354179,"display_name":"Aiden Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678689234,"creation_date":1678689234,"answer_id":75718635,"question_id":75718498,"body_markdown":"\r\n    @GetMapping(&quot;/download&quot;)\r\n    public void download(String path, HttpServletResponse response) throws IOException {\r\n        String filePath = fielUrl + &quot;\\\\&quot; + path;\r\n        File file = new File(filePath);\r\n\r\n        InputStream inputStream = new FileInputStream(filePath);\r\n        String filename = new File(filePath).getName();\r\n        response.setCharacterEncoding(&quot;utf-8&quot;);\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n\r\n        response.addHeader(&quot;content-disposition&quot;, &quot;attachment; filename=&quot; + URLEncoder.encode(filename, &quot;UTF-8&quot;));\r\n\r\n        ServletOutputStream outputStream = response.getOutputStream();\r\n\r\n        byte[] b = new byte[1024];\r\n        int len;\r\n       \r\n        while ((len = inputStream.read(b)) &gt; 0) {\r\n            outputStream.write(b, 0, len);\r\n        }\r\n        inputStream.close();\r\n    }\r\n\r\n\r\nYou can refer to my code.\r\nPay attention to setting the &quot;response&quot;.\r\n","title":"File Download Using Spring Boot and MSSQL","body":"<pre><code>@GetMapping(&quot;/download&quot;)\npublic void download(String path, HttpServletResponse response) throws IOException {\n    String filePath = fielUrl + &quot;\\\\&quot; + path;\n    File file = new File(filePath);\n\n    InputStream inputStream = new FileInputStream(filePath);\n    String filename = new File(filePath).getName();\n    response.setCharacterEncoding(&quot;utf-8&quot;);\n    response.setContentType(&quot;application/octet-stream&quot;);\n\n    response.addHeader(&quot;content-disposition&quot;, &quot;attachment; filename=&quot; + URLEncoder.encode(filename, &quot;UTF-8&quot;));\n\n    ServletOutputStream outputStream = response.getOutputStream();\n\n    byte[] b = new byte[1024];\n    int len;\n   \n    while ((len = inputStream.read(b)) &gt; 0) {\n        outputStream.write(b, 0, len);\n    }\n    inputStream.close();\n}\n</code></pre>\n<p>You can refer to my code.\nPay attention to setting the &quot;response&quot;.</p>\n"},{"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1678952566,"post_id":75750733,"comment_id":133633201,"body_markdown":"Why don&#39;t you write `data` directly to the output? Why use a `ByteArrayInputStream`?","body":"Why don&#39;t you write <code>data</code> directly to the output? Why use a <code>ByteArrayInputStream</code>?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1678955466,"post_id":75750733,"comment_id":133633915,"body_markdown":"And I don&#39;t think you need to call `close()` on the output stream. The servlet container does it for you.","body":"And I don&#39;t think you need to call <code>close()</code> on the output stream. The servlet container does it for you."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1678988755,"post_id":75750733,"comment_id":133644211,"body_markdown":"Thank you very much for the feedback @Olivier. I copied and pasted from the original code, but yes, I absolutely agree with you. Regarding whether to close or not the `ServletOutputStream`, I prefer to always close it explicitly to prevent any possible problem, although again I agree with you, the spec indicates that the servlet container  has that responsibility.","body":"Thank you very much for the feedback @Olivier. I copied and pasted from the original code, but yes, I absolutely agree with you. Regarding whether to close or not the <code>ServletOutputStream</code>, I prefer to always close it explicitly to prevent any possible problem, although again I agree with you, the spec indicates that the servlet container  has that responsibility."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678988361,"creation_date":1678920260,"answer_id":75750733,"question_id":75718498,"body_markdown":"I think the problem could be related to the way you are performing the file download:\r\n\r\n```java\r\n@RequestMapping(&quot;/downloadFile/{id}&quot;)\r\npublic String downloadFile(@PathVariable(&quot;id&quot;) String id,\r\n    HttpServletResponse res) throws IOException {\r\n    FileModel fm = tmDAO.getFile(id);\r\n    try {\r\n        File file = new File(fm.getName());\r\n        FileOutputStream fos = new FileOutputStream(file);\r\n        res.setContentLength(fm.getData().length);\r\n        res.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fm.getName());\r\n        fos.write(fm.getData(), 0, fm.getData().length);\r\n        fos.flush();\r\n        fos.close();\r\n    } catch (Exception e) {\r\n        System.out.println(e.getMessage());\r\n    }\r\n    return &quot;string&quot;;\r\n}\r\n```\r\n\r\nNote in your code that you are writing the obtained `FileModel` data to a `FileOutputStream`, but you should write that data to the `HttpServletResponse` underlying `OutputStream` instead. Please, consider the following modification in your code:\r\n\r\n```java\r\n@RequestMapping(&quot;/downloadFile/{id}&quot;)\r\npublic void downloadFile(\r\n    @PathVariable(&quot;id&quot;) String id,\r\n    HttpServletResponse res\r\n) throws IOException {\r\n    // Define an auxiliary InputStream: more on this later\r\n    InputStream in = null;\r\n    // Define a reference to the response OutputStream. We will initialize\r\n    // it later\r\n    OutputStream out = null;\r\n    try {\r\n        FileModel fm = tmDAO.getFile(id);\r\n        byte[] data = fm.getData();\r\n        // initialize the response content-type (perhaps with type?)\r\n        // and additional headers\r\n        res.setContentType(&quot;application/octet-stream&quot;);\r\n        res.setContentLength(data.length);\r\n        res.setHeader(&quot;Content-Disposition&quot;, \r\n             &quot;attachment; filename=&quot; + fm.getName());\r\n        \r\n        // write data to output\r\n\r\n        // This variable ideally should be defined as a constant\r\n        int BUFFER_SIZE = 4096;\r\n\r\n        byte[] buffer = new byte[BUFFER_SIZE];\r\n\r\n        in = new ByteArrayInputStream(data);\r\n        out = res.getOutputStream();\r\n\r\n        while(data.read(buffer, 0, BUFFER_SIZE) != -1) {\r\n\t        out.write(buffer, 0, BUFFER_SIZE);\r\n        }\r\n\r\n        out.flush();\r\n    } catch (Exception e) {\r\n        System.out.println(e.getMessage());\r\n    } finally {\r\n        // cleanup\r\n        if (in != null) {\r\n            try {\r\n                in.close(); \r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n\r\n        if (out != null) {\r\n            try {\r\n                out.close(); \r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    // there is no need to return anything\r\n}\r\n```\r\n\r\nIf you wish, this process could be greatly simplified using the handly [IOUtils](https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html) class from the [Apache Commons IO project](https://mvnrepository.com/artifact/commons-io/commons-io/2.11.0):\r\n\r\n```java\r\n@RequestMapping(&quot;/downloadFile/{id}&quot;)\r\npublic void downloadFile(\r\n    @PathVariable(&quot;id&quot;) String id,\r\n    HttpServletResponse res\r\n) throws IOException {\r\n    // Define a reference to the response OutputStream. We will initialize\r\n    // it later\r\n    OutputStream out = null;\r\n    try {\r\n        FileModel fm = tmDAO.getFile(id);\r\n        byte[] data = fm.getData();\r\n        // initialize the response content-type (perhaps with type?)\r\n        // and additional headers\r\n        res.setContentType(&quot;application/octet-stream&quot;);\r\n        res.setContentLength(data.length);\r\n        res.setHeader(&quot;Content-Disposition&quot;, \r\n             &quot;attachment; filename=&quot; + fm.getName());\r\n        \r\n        // write data to output\r\n        \r\n        out = res.getOutputStream();\r\n\r\n        // As suggested by @Olivier in this comments, we can\r\n        // get rid of the ByteArrayInputStream and use data directly\r\n        IOUtils.copy(data, out);\r\n\r\n        out.flush();\r\n    } catch (Exception e) {\r\n        System.out.println(e.getMessage());\r\n    } finally {\r\n        // cleanup\r\n        IOUtils.closeQuietly(out);\r\n    }\r\n\r\n    // there is no need to return anything\r\n}\r\n```\r\n\r\nSpring provides additional methods for dealing with writing `byte[]` to the wire but your solution is a simple and very good one. ","title":"File Download Using Spring Boot and MSSQL","body":"<p>I think the problem could be related to the way you are performing the file download:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/downloadFile/{id}&quot;)\npublic String downloadFile(@PathVariable(&quot;id&quot;) String id,\n    HttpServletResponse res) throws IOException {\n    FileModel fm = tmDAO.getFile(id);\n    try {\n        File file = new File(fm.getName());\n        FileOutputStream fos = new FileOutputStream(file);\n        res.setContentLength(fm.getData().length);\n        res.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fm.getName());\n        fos.write(fm.getData(), 0, fm.getData().length);\n        fos.flush();\n        fos.close();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n    return &quot;string&quot;;\n}\n</code></pre>\n<p>Note in your code that you are writing the obtained <code>FileModel</code> data to a <code>FileOutputStream</code>, but you should write that data to the <code>HttpServletResponse</code> underlying <code>OutputStream</code> instead. Please, consider the following modification in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/downloadFile/{id}&quot;)\npublic void downloadFile(\n    @PathVariable(&quot;id&quot;) String id,\n    HttpServletResponse res\n) throws IOException {\n    // Define an auxiliary InputStream: more on this later\n    InputStream in = null;\n    // Define a reference to the response OutputStream. We will initialize\n    // it later\n    OutputStream out = null;\n    try {\n        FileModel fm = tmDAO.getFile(id);\n        byte[] data = fm.getData();\n        // initialize the response content-type (perhaps with type?)\n        // and additional headers\n        res.setContentType(&quot;application/octet-stream&quot;);\n        res.setContentLength(data.length);\n        res.setHeader(&quot;Content-Disposition&quot;, \n             &quot;attachment; filename=&quot; + fm.getName());\n        \n        // write data to output\n\n        // This variable ideally should be defined as a constant\n        int BUFFER_SIZE = 4096;\n\n        byte[] buffer = new byte[BUFFER_SIZE];\n\n        in = new ByteArrayInputStream(data);\n        out = res.getOutputStream();\n\n        while(data.read(buffer, 0, BUFFER_SIZE) != -1) {\n            out.write(buffer, 0, BUFFER_SIZE);\n        }\n\n        out.flush();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    } finally {\n        // cleanup\n        if (in != null) {\n            try {\n                in.close(); \n            } catch (Throwable t) {\n                t.printStackTrace();\n            }\n        }\n\n        if (out != null) {\n            try {\n                out.close(); \n            } catch (Throwable t) {\n                t.printStackTrace();\n            }\n        }\n    }\n\n    // there is no need to return anything\n}\n</code></pre>\n<p>If you wish, this process could be greatly simplified using the handly <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html\" rel=\"nofollow noreferrer\">IOUtils</a> class from the <a href=\"https://mvnrepository.com/artifact/commons-io/commons-io/2.11.0\" rel=\"nofollow noreferrer\">Apache Commons IO project</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/downloadFile/{id}&quot;)\npublic void downloadFile(\n    @PathVariable(&quot;id&quot;) String id,\n    HttpServletResponse res\n) throws IOException {\n    // Define a reference to the response OutputStream. We will initialize\n    // it later\n    OutputStream out = null;\n    try {\n        FileModel fm = tmDAO.getFile(id);\n        byte[] data = fm.getData();\n        // initialize the response content-type (perhaps with type?)\n        // and additional headers\n        res.setContentType(&quot;application/octet-stream&quot;);\n        res.setContentLength(data.length);\n        res.setHeader(&quot;Content-Disposition&quot;, \n             &quot;attachment; filename=&quot; + fm.getName());\n        \n        // write data to output\n        \n        out = res.getOutputStream();\n\n        // As suggested by @Olivier in this comments, we can\n        // get rid of the ByteArrayInputStream and use data directly\n        IOUtils.copy(data, out);\n\n        out.flush();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    } finally {\n        // cleanup\n        IOUtils.closeQuietly(out);\n    }\n\n    // there is no need to return anything\n}\n</code></pre>\n<p>Spring provides additional methods for dealing with writing <code>byte[]</code> to the wire but your solution is a simple and very good one.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679326031,"creation_date":1679063045,"answer_id":75768748,"question_id":75718498,"body_markdown":"Below is how your `downloadFile` method should look like (since you are loading blob contents into memory there is nothing to optimize out)\r\n\r\n```java\r\n@RequestMapping(&quot;/downloadFile/{id}&quot;)\r\npublic ResponseEntity&lt;ByteArrayResource&gt; downloadFile(@PathVariable(&quot;id&quot;) String id) throws IOException {\r\n    FileModel fm = tmDAO.getFile(id);\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentDisposition(ContentDisposition.builder(&quot;attachment&quot;)\r\n      .filename(fm.getName(), StandardCharsets.UTF_8)\r\n      .build());\r\n    headers.setContentLength(fm.getData().length);\r\n    return new ResponseEntity&lt;&gt;(new ByteArrayResource(fm.getData()), headers, HttpStatus.OK);\r\n}\r\n```","title":"File Download Using Spring Boot and MSSQL","body":"<p>Below is how your <code>downloadFile</code> method should look like (since you are loading blob contents into memory there is nothing to optimize out)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/downloadFile/{id}&quot;)\npublic ResponseEntity&lt;ByteArrayResource&gt; downloadFile(@PathVariable(&quot;id&quot;) String id) throws IOException {\n    FileModel fm = tmDAO.getFile(id);\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentDisposition(ContentDisposition.builder(&quot;attachment&quot;)\n      .filename(fm.getName(), StandardCharsets.UTF_8)\n      .build());\n    headers.setContentLength(fm.getData().length);\n    return new ResponseEntity&lt;&gt;(new ByteArrayResource(fm.getData()), headers, HttpStatus.OK);\n}\n</code></pre>\n"}],"owner":{"account_id":24187065,"reputation":123,"user_id":18146759,"display_name":"Zaydon Lim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":75750733,"answer_count":3,"score":8,"last_activity_date":1679326031,"creation_date":1678687611,"question_id":75718498,"body_markdown":"I am working on uploading and downloading files using Spring Boot, JSP and MSSQL. I am able to run the upload and download function, BUT the file that I downloaded from the database is **corrupted**. Can anyone help me with this?\r\n\r\nthis is my spring version\r\n\r\n```\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.3-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n```\r\n\r\nmy controller\r\n\r\n```\r\n@RequestMapping(value = &quot;/uploadFile&quot;, method = RequestMethod.POST)\r\npublic ResponseEntity &lt; Object &gt; upload(@RequestPart(required = false) MultipartFile file) throws IOException {\r\n\ttry {\r\n\t\tif (file != null) {\r\n\t\t\ttmDAO.storeFile(file, tm);\r\n\t\t}\r\n\t\treturn new ResponseEntity &lt; Object &gt; (&quot;success&quot;, HttpStatus.OK);\r\n\t} catch (Exception e) {\r\n\t\tSystem.out.println(e.getMessage());\r\n\t}\r\n}\r\n\r\n@RequestMapping(&quot;/downloadFile/{id}&quot;)\r\npublic String downloadFile(@PathVariable(&quot;id&quot;) String id,\r\n\tHttpServletResponse res) throws IOException {\r\n\tFileModel fm = tmDAO.getFile(id);\r\n\ttry {\r\n\t\tFile file = new File(fm.getName());\r\n\t\tFileOutputStream fos = new FileOutputStream(file);\r\n\t\tres.setContentLength(fm.getData().length);\r\n\t\tres.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fm.getName());\r\n\t\tfos.write(fm.getData(), 0, fm.getData().length);\r\n\t\tfos.flush();\r\n\t\tfos.close();\r\n\t} catch (Exception e) {\r\n\t\tSystem.out.println(e.getMessage());\r\n\t}\r\n\treturn &quot;string&quot;;\r\n}\r\n```\r\n\r\nService\r\n\r\n```\r\n\t\r\n@Override\r\npublic FileModel storeFile(MultipartFile file, TeachingMaterial tm) throws IOException {\r\n\tString fileName = StringUtils.cleanPath(file.getOriginalFilename());\r\n\tFileModel fileModel = new FileModel(UUID.randomUUID().toString(), tm.getContributor(), fileName,\r\n\tfile.getContentType(), file.getBytes(), tm.getClassName(), tm.getSubjectName(), tm.getSlots());\r\n\treturn fileRepo.save(fileModel);\r\n}\r\n\r\n@Override\r\npublic FileModel getFile(String id) throws IOException {\r\n\tOptional &lt; FileModel &gt; fm = fileRepo.findById(id);\r\n\tif (fm.isPresent()) {\r\n\t\treturn fm.get();\r\n\t}\r\n\treturn null;\r\n}\r\n```\r\n\r\nFileModel.java\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;FILES&quot;)\r\npublic class FileModel {\r\n\t@Id\r\n\tprivate String id;\r\n\tprivate String contributor;\r\n\tprivate String name;\r\n\tprivate String type;\r\n\t@Lob\r\n\tprivate byte[] data;\r\n\tprivate String className;\r\n\tprivate String subjectName;\r\n\tprivate String slots;\r\n\r\n\tpublic FileModel() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic FileModel(String id, String contributor, String name, String type, byte[] data, String className,\r\n\t\t\tString subjectName, String slots) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.contributor = contributor;\r\n\t\tthis.name = name;\r\n\t\tthis.type = type;\r\n\t\tthis.data = data;\r\n\t\tthis.className = className;\r\n\t\tthis.subjectName = subjectName;\r\n\t\tthis.slots = slots;\r\n\t}\r\n**I skips the getters and setters for simplication**\r\n}\r\n```\r\n\r\nRecord in MSSQL\r\n\r\n[![enter image description here](https://i.stack.imgur.com/9kSk8.png)](https://i.stack.imgur.com/9kSk8.png)\r\n\r\nwhat I get after downloading the txt file\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Ptvk0.png)](https://i.stack.imgur.com/Ptvk0.png)\r\n\r\nthe original data should be\r\n\r\ntesting123\r\n\r\nabc\r\n\r\nCan anyone help me with this please?","title":"File Download Using Spring Boot and MSSQL","body":"<p>I am working on uploading and downloading files using Spring Boot, JSP and MSSQL. I am able to run the upload and download function, BUT the file that I downloaded from the database is <strong>corrupted</strong>. Can anyone help me with this?</p>\n<p>this is my spring version</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>my controller</p>\n<pre><code>@RequestMapping(value = &quot;/uploadFile&quot;, method = RequestMethod.POST)\npublic ResponseEntity &lt; Object &gt; upload(@RequestPart(required = false) MultipartFile file) throws IOException {\n    try {\n        if (file != null) {\n            tmDAO.storeFile(file, tm);\n        }\n        return new ResponseEntity &lt; Object &gt; (&quot;success&quot;, HttpStatus.OK);\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n}\n\n@RequestMapping(&quot;/downloadFile/{id}&quot;)\npublic String downloadFile(@PathVariable(&quot;id&quot;) String id,\n    HttpServletResponse res) throws IOException {\n    FileModel fm = tmDAO.getFile(id);\n    try {\n        File file = new File(fm.getName());\n        FileOutputStream fos = new FileOutputStream(file);\n        res.setContentLength(fm.getData().length);\n        res.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fm.getName());\n        fos.write(fm.getData(), 0, fm.getData().length);\n        fos.flush();\n        fos.close();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n    return &quot;string&quot;;\n}\n</code></pre>\n<p>Service</p>\n<pre><code>    \n@Override\npublic FileModel storeFile(MultipartFile file, TeachingMaterial tm) throws IOException {\n    String fileName = StringUtils.cleanPath(file.getOriginalFilename());\n    FileModel fileModel = new FileModel(UUID.randomUUID().toString(), tm.getContributor(), fileName,\n    file.getContentType(), file.getBytes(), tm.getClassName(), tm.getSubjectName(), tm.getSlots());\n    return fileRepo.save(fileModel);\n}\n\n@Override\npublic FileModel getFile(String id) throws IOException {\n    Optional &lt; FileModel &gt; fm = fileRepo.findById(id);\n    if (fm.isPresent()) {\n        return fm.get();\n    }\n    return null;\n}\n</code></pre>\n<p>FileModel.java</p>\n<pre><code>@Entity\n@Table(name = &quot;FILES&quot;)\npublic class FileModel {\n    @Id\n    private String id;\n    private String contributor;\n    private String name;\n    private String type;\n    @Lob\n    private byte[] data;\n    private String className;\n    private String subjectName;\n    private String slots;\n\n    public FileModel() {\n        super();\n    }\n\n    public FileModel(String id, String contributor, String name, String type, byte[] data, String className,\n            String subjectName, String slots) {\n        super();\n        this.id = id;\n        this.contributor = contributor;\n        this.name = name;\n        this.type = type;\n        this.data = data;\n        this.className = className;\n        this.subjectName = subjectName;\n        this.slots = slots;\n    }\n**I skips the getters and setters for simplication**\n}\n</code></pre>\n<p>Record in MSSQL</p>\n<p><a href=\"https://i.stack.imgur.com/9kSk8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9kSk8.png\" alt=\"enter image description here\" /></a></p>\n<p>what I get after downloading the txt file</p>\n<p><a href=\"https://i.stack.imgur.com/Ptvk0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ptvk0.png\" alt=\"enter image description here\" /></a></p>\n<p>the original data should be</p>\n<p>testing123</p>\n<p>abc</p>\n<p>Can anyone help me with this please?</p>\n"},{"tags":["java","gradle","github-actions","netflix-dgs","javaexec-gradle-plugin"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":1,"creation_date":1679037311,"post_id":75762214,"comment_id":133652165,"body_markdown":"Please include your relevant workflow in your question.","body":"Please include your relevant workflow in your question."},{"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"score":0,"creation_date":1679067012,"post_id":75762214,"comment_id":133659838,"body_markdown":"updated with action","body":"updated with action"}],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679325971,"creation_date":1679005993,"question_id":75762214,"body_markdown":"I&#39;m trying to run the main method of a class in my project as a Gradle task. The caveat is that this class has a dependency on a class that is generated by a different task(Netflix DGS generateJava)\r\n\r\nIt is my assumption that this should be as simple as adding a `dependsOn`:\r\n\r\n```gradle\r\ntask printJsonSchema(type: JavaExec) {\r\n\tdependsOn generateJava\r\n\tgroup = &quot;Execution&quot;\r\n\tdescription = &quot;Run schema printer task&quot;\r\n\tclasspath = sourceSets.main.runtimeClasspath\r\n\tmainClass = &#39;com.company.xyz_api.utils.JsonSchemaGenerator&#39;\r\n}\r\n```\r\n\r\nAnd this task works fine when I run it locally but refuses to work from within a GitHub Actions which fails during the compile step.\r\n\r\nGithub Action Logs:\r\n(I tried to exclude all the junk but let me know if this isn&#39;t enough and I can try to get the full log attached)\r\n\r\n```\r\nRun ./gradlew printJsonSchema\r\n...\r\n&gt; Task :xyz-api:generateJava\r\n...\r\nBuild cache key for task &#39;:xyz-api:generateJava&#39; is eb70be25b6f69b5bd5dae98232698061\r\nTask &#39;:xyz-api:generateJava&#39; is not up-to-date because:\r\n  No history is available.\r\n...\r\nStored cache entry for task &#39;:xyz-api:generateJava&#39; with cache key eb70be25b6f69b5bd5dae98232698061\r\n...\r\n:xyz-api:generateJava (Thread[included builds,5,main]) completed. Took 7.043 secs.\r\n...\r\n:xyz-api:compileJava (Thread[included builds,5,main]) started.\r\n...\r\nBuild cache key for task &#39;:xyz-api:compileJava&#39; is 677850935e99c0573c6d0134967c67e2\r\nTask &#39;:xyz-api:compileJava&#39; is not up-to-date because:\r\n  No history is available.\r\nThe input changes require a full rebuild for incremental task &#39;:xyz-api:compileJava&#39;.\r\n...\r\n:xyz-api:compileJava (Thread[included builds,5,main]) completed. Took 55.844 secs.\r\nimport com.company.gen.xyzapi.types.DealInternal;\r\n                                        ^\r\n1 error\r\n13 warnings\r\n```\r\n\r\nOne of the things I&#39;ve tried is trying to include the build folder in the classpath for the task but that doesn&#39;t seem to be related to compileJava failing\r\n\r\n```\r\nclasspath = sourceSets.main.runtimeClasspath + files(&quot;xyz-api/build/generated/sources/dgs-codegen/com/company/gen/types&quot;)\r\n```\r\n\r\naction:\r\n```\r\nname: Run Gradle Task\r\n\r\non: [push]\r\n\r\njobs:\r\n  gradle:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout code\r\n        uses: actions/checkout@v2\r\n      - name: Use JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          distribution: &#39;temurin&#39;\r\n          java-version: 17\r\n      - name: Run Gradle Task\r\n        run: ./gradlew printJsonSchema\r\n      - name: Store Schema File as ENV VAR\r\n        id: generate_output_file\r\n        run: |\r\n          schema_json=$(cat xyz-api/schema.json)\r\n          echo &quot;$schema_json&quot;  &gt;&gt; $GITHUB_OUTPUT\r\n```","title":"GitHub Actions: Gradle JavaExec with dependency from build output","body":"<p>I'm trying to run the main method of a class in my project as a Gradle task. The caveat is that this class has a dependency on a class that is generated by a different task(Netflix DGS generateJava)</p>\n<p>It is my assumption that this should be as simple as adding a <code>dependsOn</code>:</p>\n<pre><code>task printJsonSchema(type: JavaExec) {\n    dependsOn generateJava\n    group = &quot;Execution&quot;\n    description = &quot;Run schema printer task&quot;\n    classpath = sourceSets.main.runtimeClasspath\n    mainClass = 'com.company.xyz_api.utils.JsonSchemaGenerator'\n}\n</code></pre>\n<p>And this task works fine when I run it locally but refuses to work from within a GitHub Actions which fails during the compile step.</p>\n<p>Github Action Logs:\n(I tried to exclude all the junk but let me know if this isn't enough and I can try to get the full log attached)</p>\n<pre><code>Run ./gradlew printJsonSchema\n...\n&gt; Task :xyz-api:generateJava\n...\nBuild cache key for task ':xyz-api:generateJava' is eb70be25b6f69b5bd5dae98232698061\nTask ':xyz-api:generateJava' is not up-to-date because:\n  No history is available.\n...\nStored cache entry for task ':xyz-api:generateJava' with cache key eb70be25b6f69b5bd5dae98232698061\n...\n:xyz-api:generateJava (Thread[included builds,5,main]) completed. Took 7.043 secs.\n...\n:xyz-api:compileJava (Thread[included builds,5,main]) started.\n...\nBuild cache key for task ':xyz-api:compileJava' is 677850935e99c0573c6d0134967c67e2\nTask ':xyz-api:compileJava' is not up-to-date because:\n  No history is available.\nThe input changes require a full rebuild for incremental task ':xyz-api:compileJava'.\n...\n:xyz-api:compileJava (Thread[included builds,5,main]) completed. Took 55.844 secs.\nimport com.company.gen.xyzapi.types.DealInternal;\n                                        ^\n1 error\n13 warnings\n</code></pre>\n<p>One of the things I've tried is trying to include the build folder in the classpath for the task but that doesn't seem to be related to compileJava failing</p>\n<pre><code>classpath = sourceSets.main.runtimeClasspath + files(&quot;xyz-api/build/generated/sources/dgs-codegen/com/company/gen/types&quot;)\n</code></pre>\n<p>action:</p>\n<pre><code>name: Run Gradle Task\n\non: [push]\n\njobs:\n  gradle:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v2\n      - name: Use JDK 17\n        uses: actions/setup-java@v3\n        with:\n          distribution: 'temurin'\n          java-version: 17\n      - name: Run Gradle Task\n        run: ./gradlew printJsonSchema\n      - name: Store Schema File as ENV VAR\n        id: generate_output_file\n        run: |\n          schema_json=$(cat xyz-api/schema.json)\n          echo &quot;$schema_json&quot;  &gt;&gt; $GITHUB_OUTPUT\n</code></pre>\n"},{"tags":["java","spring-boot","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679325596,"creation_date":1679325596,"answer_id":75792130,"question_id":75780204,"body_markdown":"I tried the following line of code to launch the browser:\r\n\r\n \r\n\r\n    @Bean\r\n        public WebDriver getChromeDriver(){\r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n            chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n            return new ChromeDriver(chromeOptions);\r\n        }\r\n\r\n\r\nSelenium dependency version :4.1.2\r\nselenium-http-jdk-client version: 4.5.0\r\nIt worked for me. I hope it will be useful for someone.","title":"Failed to load application","body":"<p>I tried the following line of code to launch the browser:</p>\n<pre><code>@Bean\n    public WebDriver getChromeDriver(){\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n        return new ChromeDriver(chromeOptions);\n    }\n</code></pre>\n<p>Selenium dependency version :4.1.2\nselenium-http-jdk-client version: 4.5.0\nIt worked for me. I hope it will be useful for someone.</p>\n"}],"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679325596,"creation_date":1679202558,"question_id":75780204,"body_markdown":"```\r\nimport org.openqa.selenium.WebDriver;\r\n\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\n\r\n@Configuration\r\npublic class WebDriverLibrary {\r\n\r\n//    @Value(&quot;${remote.url}&quot;)\r\n//    public URL remoteUrl;\r\n\r\n    @Bean\r\n    public WebDriver getRemoteWebDriverForChrome() throws MalformedURLException {\r\n//        WebDriverManager.chromedriver().setup();\r\n//        return new RemoteWebDriver(remoteUrl, DesiredCapabilities.chrome());\r\n\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.setCapability(&quot;browserVersion&quot;, &quot;74&quot;);\r\n        chromeOptions.setCapability(&quot;platformName&quot;, &quot;Windows 10&quot;);\r\n        return new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), chromeOptions);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am getting the following error\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;landingPage&#39;: Unsatisfied dependency expressed through field &#39;webDriver&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;getRemoteWebDriverForChrome&#39; defined in class path resource [com/ksupwlt/stepcounttracker/libraries/WebDriverLibrary.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.openqa.selenium.WebDriver]: Factory method &#39;getRemoteWebDriverForChrome&#39; threw exception; nested exception is org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;DESKTOP-55B4PJT&#39;, ip: &#39;192.168.1.66&#39;\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.2&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver","title":"Failed to load application","body":"<pre><code>import org.openqa.selenium.WebDriver;\n\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n\n@Configuration\npublic class WebDriverLibrary {\n\n//    @Value(&quot;${remote.url}&quot;)\n//    public URL remoteUrl;\n\n    @Bean\n    public WebDriver getRemoteWebDriverForChrome() throws MalformedURLException {\n//        WebDriverManager.chromedriver().setup();\n//        return new RemoteWebDriver(remoteUrl, DesiredCapabilities.chrome());\n\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.setCapability(&quot;browserVersion&quot;, &quot;74&quot;);\n        chromeOptions.setCapability(&quot;platformName&quot;, &quot;Windows 10&quot;);\n        return new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), chromeOptions);\n\n    }\n\n}\n</code></pre>\n<p>I am getting the following error</p>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'landingPage': Unsatisfied dependency expressed through field 'webDriver'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'getRemoteWebDriverForChrome' defined in class path resource [com/ksupwlt/stepcounttracker/libraries/WebDriverLibrary.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.openqa.selenium.WebDriver]: Factory method 'getRemoteWebDriverForChrome' threw exception; nested exception is org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nHost info: host: 'DESKTOP-55B4PJT', ip: '192.168.1.66'\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver</p>\n"},{"tags":["java","sql","database","sqlite"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1679322999,"post_id":75791557,"comment_id":133696373,"body_markdown":"1st thing - change explorer settings to show filename extension || 2. check the extension of the files; if equal, there must be some special character in some name(s) (not visible; similar letters but different code , ...)","body":"1st thing - change explorer settings to show filename extension || 2. check the extension of the files; if equal, there must be some special character in some name(s) (not visible; similar letters but different code , ...)"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1679325508,"post_id":75791557,"comment_id":133697259,"body_markdown":"Due to https://meta.stackoverflow.com/questions/388759/why-should-i-tag-my-rdbms I added the tag &#39;sqlite&#39; to your question.","body":"Due to <a href=\"https://meta.stackoverflow.com/questions/388759/why-should-i-tag-my-rdbms\" title=\"why should i tag my rdbms\">meta.stackoverflow.com/questions/388759/&hellip;</a> I added the tag &#39;sqlite&#39; to your question."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679325400,"creation_date":1679325400,"answer_id":75792093,"question_id":75791557,"body_markdown":"It is a known issue with SQLite file extensions. There are plenty of them in use like *.db, *.sdb, *.sqlite, *.db3, *.s3db, .sqlite3 You name it.\r\n\r\nThe worst thing is - they are all valid. SQLite doesn&#39;t care about the extension. It checks only if the file is indeed a SQLite3 database by inspecting the magic number and the header.\r\n\r\n**The solution:**\r\n\r\nCheck exactly the extension of the existing file created with SQLiteStudio and use the same in your Java class.","title":"Java SQL Using existing database instead of creating a new one","body":"<p>It is a known issue with SQLite file extensions. There are plenty of them in use like *.db, *.sdb, *.sqlite, *.db3, *.s3db, .sqlite3 You name it.</p>\n<p>The worst thing is - they are all valid. SQLite doesn't care about the extension. It checks only if the file is indeed a SQLite3 database by inspecting the magic number and the header.</p>\n<p><strong>The solution:</strong></p>\n<p>Check exactly the extension of the existing file created with SQLiteStudio and use the same in your Java class.</p>\n"}],"owner":{"account_id":26218746,"reputation":46,"user_id":19896523,"display_name":"Thriest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75792093,"answer_count":1,"score":0,"last_activity_date":1679325479,"creation_date":1679322554,"question_id":75791557,"body_markdown":"I have created a database with the name &quot;kontakt.sqlite&quot; using sqlstudio in which a username and password are stored. Now I want to use this database in my Java project to create a simple login system, i.e. to check if the entered username and password are correct.\r\nOnly problem: When starting my program a new database with the name &quot;kontakt.sqlite&quot; is created instead of using the old one, therefore I get a SQL Missing database Exception. The path and the name of the database are correct, which is also proven by the fact that the new database is created in the correct location.\r\n\r\n```\r\npackage de.hannes.db.utils;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.Statement;\r\n\r\npublic class Database {\r\n\t//Variablen\r\n\tpublic static final String DB_NAME = &quot;kontakt.sqlite&quot;;\r\n\tpublic static final String PATH = &quot;C:\\\\Users\\\\49160\\\\eclipse-workspace-neu\\\\KontakteFXSQL\\\\src\\\\&quot;;\r\n\tpublic static final String CONNECTION_STRING = &quot;jdbc:sqlite:&quot; + PATH + DB_NAME;\r\n\tprivate Connection connection;\r\n\tprivate Statement statement;\r\n\t\r\n\t//Methoden\r\n\tpublic boolean open() {\r\n\t\ttry {\r\n\t\t\tconnection = DriverManager.getConnection(CONNECTION_STRING);\r\n\t\t\tstatement = connection.createStatement();\r\n\t\t\t\r\n\t\t\tif(connection != null &amp;&amp; statement !=null) {\r\n\t\t\t\tSystem.out.println(&quot;Connection successful&quot;);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Connection getConnection() {\r\n\t\treturn connection;\r\n\t}\r\n\r\n\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nThe method to query the user data:\r\n\r\n```\r\npublic class LoginModel {\r\n\tpublic boolean isLogin(String username, String password, Connection connection) throws Exception {\r\n\t\t\r\n\t\tPreparedStatement preparedStatement = null;\r\n\t\tResultSet resultSet = null;\r\n\t\t\r\n\t\tString sql = &quot;SELECT * FROM Login where username = ? and password = ? &quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tpreparedStatement = connection.prepareStatement(sql);\r\n\t\t\tpreparedStatement.setString(1, username);\r\n\t\t\tpreparedStatement.setString(2, password);\r\n\t\t\t\r\n\t\t\tresultSet = preparedStatement.executeQuery();\r\n\t\t\treturn true;\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t// Ein finally Block wird immer ausgef&#252;hrt!\r\n\t\tfinally {\r\n\t\t//\tpreparedStatement.close();\r\n\t\t//\tconnection.close();\r\n\t\t}\r\n\t\r\n\t}\r\n```\r\nThe problem is that this method accesses the &quot;newly created database&quot; and of course does not find a TABLE &quot;Login&quot; with the data in it. I don&#39;t understand why a new DB is created at all. The old one should be used.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/76uqY.png","title":"Java SQL Using existing database instead of creating a new one","body":"<p>I have created a database with the name &quot;kontakt.sqlite&quot; using sqlstudio in which a username and password are stored. Now I want to use this database in my Java project to create a simple login system, i.e. to check if the entered username and password are correct.\nOnly problem: When starting my program a new database with the name &quot;kontakt.sqlite&quot; is created instead of using the old one, therefore I get a SQL Missing database Exception. The path and the name of the database are correct, which is also proven by the fact that the new database is created in the correct location.</p>\n<pre><code>package de.hannes.db.utils;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.Statement;\n\npublic class Database {\n    //Variablen\n    public static final String DB_NAME = &quot;kontakt.sqlite&quot;;\n    public static final String PATH = &quot;C:\\\\Users\\\\49160\\\\eclipse-workspace-neu\\\\KontakteFXSQL\\\\src\\\\&quot;;\n    public static final String CONNECTION_STRING = &quot;jdbc:sqlite:&quot; + PATH + DB_NAME;\n    private Connection connection;\n    private Statement statement;\n    \n    //Methoden\n    public boolean open() {\n        try {\n            connection = DriverManager.getConnection(CONNECTION_STRING);\n            statement = connection.createStatement();\n            \n            if(connection != null &amp;&amp; statement !=null) {\n                System.out.println(&quot;Connection successful&quot;);\n            }\n            return true;\n        \n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    public Connection getConnection() {\n        return connection;\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/76uqY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76uqY.png\" alt=\"enter image description here\" /></a></p>\n<p>The method to query the user data:</p>\n<pre><code>public class LoginModel {\n    public boolean isLogin(String username, String password, Connection connection) throws Exception {\n        \n        PreparedStatement preparedStatement = null;\n        ResultSet resultSet = null;\n        \n        String sql = &quot;SELECT * FROM Login where username = ? and password = ? &quot;;\n        \n        try {\n            preparedStatement = connection.prepareStatement(sql);\n            preparedStatement.setString(1, username);\n            preparedStatement.setString(2, password);\n            \n            resultSet = preparedStatement.executeQuery();\n            return true;\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n        \n        // Ein finally Block wird immer ausgefhrt!\n        finally {\n        //  preparedStatement.close();\n        //  connection.close();\n        }\n    \n    }\n</code></pre>\n<p>The problem is that this method accesses the &quot;newly created database&quot; and of course does not find a TABLE &quot;Login&quot; with the data in it. I don't understand why a new DB is created at all. The old one should be used.</p>\n"},{"tags":["java","hibernate","jpa","entity","persist"],"comments":[{"owner":{"account_id":2354191,"reputation":2051,"user_id":2062388,"display_name":"Rushi Shah"},"score":28,"creation_date":1467113016,"post_id":13370221,"comment_id":63586228,"body_markdown":"In my case, I was setting id of an entity which I was trying to persist using Entity Manager. When, I removed the setter for id, it started working fine.","body":"In my case, I was setting id of an entity which I was trying to persist using Entity Manager. When, I removed the setter for id, it started working fine."},{"owner":{"account_id":4791763,"reputation":5956,"user_id":3870761,"accept_rate":75,"display_name":"sergioFC"},"score":3,"creation_date":1573718613,"post_id":13370221,"comment_id":103976272,"body_markdown":"In my case, I was not setting the id, but there were two users using the same account, one of them persisted an entity (correctly), and the error ocurred when the second one latter tried to persist the same entity, that was already persisted.","body":"In my case, I was not setting the id, but there were two users using the same account, one of them persisted an entity (correctly), and the error ocurred when the second one latter tried to persist the same entity, that was already persisted."}],"answers":[{"comments":[{"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"score":3,"creation_date":1352847872,"post_id":13370397,"comment_id":18255742,"body_markdown":"it&#39;s JPA, so I think the analogous method is .merge(), but that gives me the same exception. To be clear, Transaction is a new object, Account is not.","body":"it&#39;s JPA, so I think the analogous method is .merge(), but that gives me the same exception. To be clear, Transaction is a new object, Account is not."},{"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"score":0,"creation_date":1352848014,"post_id":13370397,"comment_id":18255785,"body_markdown":"@PaulSanwald Using `merge` on `transaction` object you get the same error?","body":"@PaulSanwald Using <code>merge</code> on <code>transaction</code> object you get the same error?"},{"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"score":0,"creation_date":1352848152,"post_id":13370397,"comment_id":18255829,"body_markdown":"actually, no, I mis-spoke. if I .merge(transaction), then transaction is not persisted at all.","body":"actually, no, I mis-spoke. if I .merge(transaction), then transaction is not persisted at all."},{"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"score":0,"creation_date":1352848309,"post_id":13370397,"comment_id":18255871,"body_markdown":"@PaulSanwald Hmm, are you sure that `transaction` was not persisted? How did you check. Note that `merge` is returning a reference to the persisted object.","body":"@PaulSanwald Hmm, are you sure that <code>transaction</code> was not persisted? How did you check. Note that <code>merge</code> is returning a reference to the persisted object."},{"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"score":0,"creation_date":1352848709,"post_id":13370397,"comment_id":18255989,"body_markdown":"the object returned by .merge() has a null id. also, I am doing a .findAll() afterwards, and my object isn&#39;t there.","body":"the object returned by .merge() has a null id. also, I am doing a .findAll() afterwards, and my object isn&#39;t there."},{"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"score":0,"creation_date":1352849605,"post_id":13370397,"comment_id":18256272,"body_markdown":"@PaulSanwald Can you try a `flush()` after `merge`?","body":"@PaulSanwald Can you try a <code>flush()</code> after <code>merge</code>?"},{"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"score":0,"creation_date":1352849948,"post_id":13370397,"comment_id":18256364,"body_markdown":"I tried this, and get a &quot;Not currently in a transaction&quot; exception.","body":"I tried this, and get a &quot;Not currently in a transaction&quot; exception."},{"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"score":0,"creation_date":1352850175,"post_id":13370397,"comment_id":18256428,"body_markdown":"@PaulSanwald Are in an active transaction? Can you show/isolate the code, to show the transaction also?","body":"@PaulSanwald Are in an active transaction? Can you show/isolate the code, to show the transaction also?"},{"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"score":0,"creation_date":1352900951,"post_id":13370397,"comment_id":18271753,"body_markdown":"the entityManager isn&#39;t in an active transaction after I call .persist (or .save). should it be?","body":"the entityManager isn&#39;t in an active transaction after I call .persist (or .save). should it be?"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1415655312,"post_id":13370397,"comment_id":42269318,"body_markdown":"@dan my jpa 2.0 `entity manager` does not have a `saveOrUpdate()` method.  What version of `entity manager` do I need to get in order to be able to use `saveOrUpdate()`?","body":"@dan my jpa 2.0 <code>entity manager</code> does not have a <code>saveOrUpdate()</code> method.  What version of <code>entity manager</code> do I need to get in order to be able to use <code>saveOrUpdate()</code>?"},{"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"score":0,"creation_date":1415660884,"post_id":13370397,"comment_id":42271783,"body_markdown":"@CodeMed Because the OP was using hibernate, I was suggesting the `saveOrUpdate`, available from the `Session`. If you are using only `jpa` you can use `merge` to `create` or `update` and entity.","body":"@CodeMed Because the OP was using hibernate, I was suggesting the <code>saveOrUpdate</code>, available from the <code>Session</code>. If you are using only <code>jpa</code> you can use <code>merge</code> to <code>create</code> or <code>update</code> and entity."}],"tags":[],"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"comment_count":11,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1352847754,"creation_date":1352847754,"answer_id":13370397,"question_id":13370221,"body_markdown":"Probably in this case you obtained your `account` object using the merge logic, and `persist` is used to persist new objects and it will complain if the hierarchy is having an already persisted object. You should use `saveOrUpdate` in such cases, instead of `persist`.","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>Probably in this case you obtained your <code>account</code> object using the merge logic, and <code>persist</code> is used to persist new objects and it will complain if the hierarchy is having an already persisted object. You should use <code>saveOrUpdate</code> in such cases, instead of <code>persist</code>.</p>\n"},{"comments":[{"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"score":2,"creation_date":1352848764,"post_id":13370499,"comment_id":18256004,"body_markdown":"yeah I don&#39;t think this is it, all the same, I added @JoinColumn(name = &quot;fromAccount_id&quot;, referencedColumnName = &quot;id&quot;) and it didn&#39;t work :).","body":"yeah I don&#39;t think this is it, all the same, I added @JoinColumn(name = &quot;fromAccount_id&quot;, referencedColumnName = &quot;id&quot;) and it didn&#39;t work :)."},{"owner":{"account_id":1751786,"reputation":2046,"user_id":1600696,"display_name":"NemesisX00"},"score":0,"creation_date":1352848885,"post_id":13370499,"comment_id":18256043,"body_markdown":"Yeah, I usually don&#39;t use a mapping xml file for mapping entities to tables, so I usually assume it&#39;s annotation based. But if I had to guess, you&#39;re using a hibernate.xml to map entities to tables, right?","body":"Yeah, I usually don&#39;t use a mapping xml file for mapping entities to tables, so I usually assume it&#39;s annotation based. But if I had to guess, you&#39;re using a hibernate.xml to map entities to tables, right?"},{"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"score":0,"creation_date":1352848959,"post_id":13370499,"comment_id":18256077,"body_markdown":"no, I&#39;m using spring data JPA, so it&#39;s all annotation based. I have a &quot;mappedBy&quot; annotation on the other side:     @OneToMany(cascade = {CascadeType.ALL},fetch= FetchType.EAGER, mappedBy = &quot;fromAccount&quot;)","body":"no, I&#39;m using spring data JPA, so it&#39;s all annotation based. I have a &quot;mappedBy&quot; annotation on the other side:     @OneToMany(cascade = {CascadeType.ALL},fetch= FetchType.EAGER, mappedBy = &quot;fromAccount&quot;)"}],"tags":[],"owner":{"account_id":1751786,"reputation":2046,"user_id":1600696,"display_name":"NemesisX00"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1352848332,"creation_date":1352848332,"answer_id":13370499,"question_id":13370221,"body_markdown":"In your entity definition, you&#39;re not specifying the [@JoinColumn][1] for the `Account` joined to a `Transaction`. You&#39;ll want something like this:\r\n\r\n    @Entity\r\n    public class Transaction {\r\n        @ManyToOne(cascade = {CascadeType.ALL},fetch= FetchType.EAGER)\r\n        @JoinColumn(name = &quot;accountId&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Account fromAccount;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/index.html?javax/persistence/Persistence.html\r\n\r\nEDIT: Well, I guess that would be useful if you were using the `@Table` annotation on your class. Heh. :)","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>In your entity definition, you're not specifying the <a href=\"http://docs.oracle.com/javaee/6/api/index.html?javax/persistence/Persistence.html\" rel=\"noreferrer\">@JoinColumn</a> for the <code>Account</code> joined to a <code>Transaction</code>. You'll want something like this:</p>\n\n<pre><code>@Entity\npublic class Transaction {\n    @ManyToOne(cascade = {CascadeType.ALL},fetch= FetchType.EAGER)\n    @JoinColumn(name = \"accountId\", referencedColumnName = \"id\")\n    private Account fromAccount;\n}\n</code></pre>\n\n<p>EDIT: Well, I guess that would be useful if you were using the <code>@Table</code> annotation on your class. Heh. :)</p>\n"},{"comments":[{"owner":{"account_id":175862,"reputation":6860,"user_id":406174,"accept_rate":100,"display_name":"Diego Plentz"},"score":2,"creation_date":1426013980,"post_id":13500921,"comment_id":46195136,"body_markdown":"ps: the @Id annotation is the one that hibernate uses to identify the access type.","body":"ps: the @Id annotation is the one that hibernate uses to identify the access type."},{"owner":{"account_id":7023980,"reputation":4823,"user_id":5382150,"accept_rate":86,"display_name":"Gilgamesz"},"score":2,"creation_date":1520972273,"post_id":13500921,"comment_id":85533679,"body_markdown":"The exception is : `detached entity passed to persist`\nWhy improving consistency makes that it works? Ok, consistency was repaired but object is still detached.","body":"The exception is : <code>detached entity passed to persist</code> Why improving consistency makes that it works? Ok, consistency was repaired but object is still detached."},{"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"score":0,"creation_date":1520994170,"post_id":13500921,"comment_id":85540934,"body_markdown":"@Gilgamesz, Bi-directional consistency is either satisfied or not. It is not a relative scale to improve. The question code has a Many-To-One bi-directional relationship which did not protect against the case when the Child Entity at the Target of the relationship is **detached**. I do see the answer which suggest `CascadeType.merge` had satisfied many people. Honestly, I used it myself provided that I invoke an `entityManager.find(child)` to ensure that it is in a **Managed state** by the Hibernate Runtime before invoking CRUD operations on the Parent Entity.","body":"@Gilgamesz, Bi-directional consistency is either satisfied or not. It is not a relative scale to improve. The question code has a Many-To-One bi-directional relationship which did not protect against the case when the Child Entity at the Target of the relationship is <b>detached</b>. I do see the answer which suggest <code>CascadeType.merge</code> had satisfied many people. Honestly, I used it myself provided that I invoke an <code>entityManager.find(child)</code> to ensure that it is in a <b>Managed state</b> by the Hibernate Runtime before invoking CRUD operations on the Parent Entity."},{"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"score":0,"creation_date":1520994565,"post_id":13500921,"comment_id":85541015,"body_markdown":"@Gilgamesz, You can not guarantee all fellow team members will follow the same practice though. Thus, I prefer my approach to protect my JPA mappings against other developers mis-understanding JPA exceptions and hacking a solution causing more damage!!!!!","body":"@Gilgamesz, You can not guarantee all fellow team members will follow the same practice though. Thus, I prefer my approach to protect my JPA mappings against other developers mis-understanding JPA exceptions and hacking a solution causing more damage!!!!!"},{"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"score":0,"creation_date":1520995270,"post_id":13500921,"comment_id":85541155,"body_markdown":"@Gilgamesz, I forgot to draw your attention to the example code I [linked in my answer.](https://github.com/SomMeri/org.meri.jpa.tutorial/blob/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice/SafePerson.java) . It shows how to safely deal with the hazard of a detached object.","body":"@Gilgamesz, I forgot to draw your attention to the example code I <a href=\"https://github.com/SomMeri/org.meri.jpa.tutorial/blob/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice/SafePerson.java\" rel=\"nofollow noreferrer\">linked in my answer.</a> . It shows how to safely deal with the hazard of a detached object."},{"owner":{"account_id":7023980,"reputation":4823,"user_id":5382150,"accept_rate":86,"display_name":"Gilgamesz"},"score":1,"creation_date":1521020012,"post_id":13500921,"comment_id":85550603,"body_markdown":"@Sam, thanks a lot for your explanation. But, I don&#39;t understand still. I see that without &#39;special&#39; setter the bi-directional relationship is not satisified. But, I don&#39;t see why object was detached.","body":"@Sam, thanks a lot for your explanation. But, I don&#39;t understand still. I see that without &#39;special&#39; setter the bi-directional relationship is not satisified. But, I don&#39;t see why object was detached."},{"owner":{"account_id":7023980,"reputation":4823,"user_id":5382150,"accept_rate":86,"display_name":"Gilgamesz"},"score":0,"creation_date":1521020074,"post_id":13500921,"comment_id":85550642,"body_markdown":"&quot;*The question code has a Many-To-One bi-directional relationship which **did not protect against the case when the Child Entity at the Target of the relationship is detached**. &quot;*\nI don&#39;t understand a highlighted part. Could you explain please?","body":"&quot;<i>The question code has a Many-To-One bi-directional relationship which <b>did not protect against the case when the Child Entity at the Target of the relationship is detached</b>. &quot;</i> I don&#39;t understand a highlighted part. Could you explain please?"},{"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"score":0,"creation_date":1521395567,"post_id":13500921,"comment_id":85701964,"body_markdown":"@Gilgamesz Thank you for your question. Here I [attach one link](https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/) as well as (a second link)[https://stackoverflow.com/a/30168342] . Both are authored by the reputed *Vlad Mihalcea*. I am sure your questions will be satisfied.","body":"@Gilgamesz Thank you for your question. Here I <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/\" rel=\"nofollow noreferrer\">attach one link</a> as well as (a second link)[<a href=\"https://stackoverflow.com/a/30168342]\">stackoverflow.com/a/30168342]</a> . Both are authored by the reputed <i>Vlad Mihalcea</i>. I am sure your questions will be satisfied."},{"owner":{"account_id":7023980,"reputation":4823,"user_id":5382150,"accept_rate":86,"display_name":"Gilgamesz"},"score":0,"creation_date":1521395883,"post_id":13500921,"comment_id":85702095,"body_markdown":"The second url is broken.","body":"The second url is broken."},{"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"score":0,"creation_date":1521406946,"post_id":13500921,"comment_id":85705685,"body_markdown":"@Gilgamesz [The second link](https://stackoverflow.com/a/30168342). Hope it helps","body":"@Gilgamesz <a href=\"https://stackoverflow.com/a/30168342\">The second link</a>. Hope it helps"},{"owner":{"account_id":3111325,"reputation":3304,"user_id":2632991,"accept_rate":42,"display_name":"El Mac"},"score":157,"creation_date":1526457015,"post_id":13500921,"comment_id":87746484,"body_markdown":"Please dont post an answer that answers solely with links.","body":"Please dont post an answer that answers solely with links."},{"owner":{"account_id":247690,"reputation":2591,"user_id":522578,"display_name":"Eugen Labun"},"score":12,"creation_date":1547937356,"post_id":13500921,"comment_id":95366718,"body_markdown":"Cannot see how this answer is related to the question at all?","body":"Cannot see how this answer is related to the question at all?"},{"owner":{"account_id":2098966,"reputation":343,"user_id":1867093,"display_name":"Senthil"},"score":0,"creation_date":1602334389,"post_id":13500921,"comment_id":113690692,"body_markdown":"I am going through [An example setter for the Many side](https://github.com/SomMeri/org.meri.jpa.tutorial/tree/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice) especially between SafePerson and [SafeTwitterAccount](https://github.com/SomMeri/org.meri.jpa.tutorial/blob/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice/SafeTwitterAccount.java). From SafeTwitterAccount.addFollower(SafePerson), the calls goes to SafePerson.startFollowingTwitter(account) and then back to SafeTwitterAccount.addFollower(this); Isn&#39;t that leads to infinite loop?","body":"I am going through <a href=\"https://github.com/SomMeri/org.meri.jpa.tutorial/tree/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice\" rel=\"nofollow noreferrer\">An example setter for the Many side</a> especially between SafePerson and <a href=\"https://github.com/SomMeri/org.meri.jpa.tutorial/blob/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice/SafeTwitterAccount.java\" rel=\"nofollow noreferrer\">SafeTwitterAccount</a>. From SafeTwitterAccount.addFollower(SafePerson), the calls goes to SafePerson.startFollowingTwitter(account) and then back to SafeTwitterAccount.addFollower(this); Isn&#39;t that leads to infinite loop?"},{"owner":{"account_id":4134489,"reputation":402,"user_id":3391431,"accept_rate":50,"display_name":"melwinpintoe"},"score":0,"creation_date":1607194004,"post_id":13500921,"comment_id":115197793,"body_markdown":"After about reading everything, and wondering whats going, this MERGE worked like bulls eye...","body":"After about reading everything, and wondering whats going, this MERGE worked like bulls eye..."},{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":0,"creation_date":1627034263,"post_id":13500921,"comment_id":121055266,"body_markdown":"poor quality answer.  No information is given without following links (which don&#39;t offer help readily either).","body":"poor quality answer.  No information is given without following links (which don&#39;t offer help readily either)."},{"owner":{"account_id":28380,"reputation":2314,"user_id":75787,"accept_rate":65,"display_name":"evilfred"},"score":1,"creation_date":1669672743,"post_id":13500921,"comment_id":131691586,"body_markdown":"low quality answer. just providing links to big webpages with no specifics about where exactly to work is pretty useless.","body":"low quality answer. just providing links to big webpages with no specifics about where exactly to work is pretty useless."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677965079,"post_id":13500921,"comment_id":133442558,"body_markdown":"**Voted down!..** Instead of giving a link that contains lots of unnecessary code, I would prefer to post just the related part.","body":"<b>Voted down!..</b> Instead of giving a link that contains lots of unnecessary code, I would prefer to post just the related part."}],"tags":[],"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"comment_count":17,"down_vote_count":23,"up_vote_count":177,"is_accepted":true,"score":154,"last_activity_date":1518734613,"creation_date":1353527110,"answer_id":13500921,"question_id":13370221,"body_markdown":"This is a typical bidirectional consistency problem. It is well discussed in [this link](http://meri-stuff.blogspot.com/2012/03/jpa-tutorial.html#RelationshipsBidirectionalOneToManyManyToOneConsistency) as well as [this link.](http://notesonjava.wordpress.com/2008/11/03/managing-the-bidirectional-relationship/)\r\n  \r\nAs per the articles in the previous 2 links you need to fix your setters in both sides of the bidirectional relationship. An example setter for the One side is in [this link.](https://github.com/SomMeri/org.meri.jpa.tutorial/blob/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice/SafePerson.java)\r\n\r\nAn example setter for the Many side is in [this link.](https://github.com/SomMeri/org.meri.jpa.tutorial/blob/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice/SafeTwitterAccount.java)\r\n\r\nAfter you correct your setters you want to declare the Entity access type to be &quot;Property&quot;. Best practice to declare &quot;Property&quot; access type is to move ALL the annotations from the member properties to the corresponding getters. A big word of caution is not to mix &quot;Field&quot; and &quot;Property&quot; access types within the entity class otherwise the behavior is undefined by the JSR-317 specifications.","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>This is a typical bidirectional consistency problem. It is well discussed in <a href=\"http://meri-stuff.blogspot.com/2012/03/jpa-tutorial.html#RelationshipsBidirectionalOneToManyManyToOneConsistency\" rel=\"noreferrer\">this link</a> as well as <a href=\"http://notesonjava.wordpress.com/2008/11/03/managing-the-bidirectional-relationship/\" rel=\"noreferrer\">this link.</a></p>\n\n<p>As per the articles in the previous 2 links you need to fix your setters in both sides of the bidirectional relationship. An example setter for the One side is in <a href=\"https://github.com/SomMeri/org.meri.jpa.tutorial/blob/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice/SafePerson.java\" rel=\"noreferrer\">this link.</a></p>\n\n<p>An example setter for the Many side is in <a href=\"https://github.com/SomMeri/org.meri.jpa.tutorial/blob/master/src/main/java/org/meri/jpa/relationships/entities/bestpractice/SafeTwitterAccount.java\" rel=\"noreferrer\">this link.</a></p>\n\n<p>After you correct your setters you want to declare the Entity access type to be \"Property\". Best practice to declare \"Property\" access type is to move ALL the annotations from the member properties to the corresponding getters. A big word of caution is not to mix \"Field\" and \"Property\" access types within the entity class otherwise the behavior is undefined by the JSR-317 specifications.</p>\n"},{"tags":[],"owner":{"account_id":88354,"reputation":194,"user_id":244431,"accept_rate":67,"display_name":"Yaocl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404575646,"creation_date":1404575646,"answer_id":24588126,"question_id":13370221,"body_markdown":"Maybe It is OpenJPA&#39;s bug, When rollback it reset the @Version field, but the pcVersionInit keep true. I have a AbstraceEntity which declared the @Version field. I can workaround it by reset the pcVersionInit field. But It is not a good idea. I think it not work when have cascade persist entity.\r\n\r\n\r\n\r\n        private static Field PC_VERSION_INIT = null;\r\n    \tstatic {\r\n    \t\ttry {\r\n    \t\t\tPC_VERSION_INIT = AbstractEntity.class.getDeclaredField(&quot;pcVersionInit&quot;);\r\n    \t\t\tPC_VERSION_INIT.setAccessible(true);\r\n    \t\t} catch (NoSuchFieldException | SecurityException e) {\r\n    \t\t}\r\n    \t}\r\n    \r\n        public T call(final EntityManager em) {\r\n    \t\t\t\tif (PC_VERSION_INIT != null &amp;&amp; isDetached(entity)) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tPC_VERSION_INIT.set(entity, false);\r\n    \t\t\t\t\t} catch (IllegalArgumentException | IllegalAccessException e) {\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tem.persist(entity);\r\n    \t\t\t\treturn entity;\r\n    \t\t\t}\r\n    \r\n    \t\t\t/**\r\n    \t\t\t * @param entity\r\n    \t\t\t * @param detached\r\n    \t\t\t * @return\r\n    \t\t\t */\r\n    \t\t\tprivate boolean isDetached(final Object entity) {\r\n    \t\t\t\tif (entity instanceof PersistenceCapable) {\r\n    \t\t\t\t\tPersistenceCapable pc = (PersistenceCapable) entity;\r\n    \t\t\t\t\tif (pc.pcIsDetached() == Boolean.TRUE) {\r\n    \t\t\t\t\t\treturn true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>Maybe It is OpenJPA's bug, When rollback it reset the @Version field, but the pcVersionInit keep true. I have a AbstraceEntity which declared the @Version field. I can workaround it by reset the pcVersionInit field. But It is not a good idea. I think it not work when have cascade persist entity.</p>\n\n<pre><code>    private static Field PC_VERSION_INIT = null;\n    static {\n        try {\n            PC_VERSION_INIT = AbstractEntity.class.getDeclaredField(\"pcVersionInit\");\n            PC_VERSION_INIT.setAccessible(true);\n        } catch (NoSuchFieldException | SecurityException e) {\n        }\n    }\n\n    public T call(final EntityManager em) {\n                if (PC_VERSION_INIT != null &amp;&amp; isDetached(entity)) {\n                    try {\n                        PC_VERSION_INIT.set(entity, false);\n                    } catch (IllegalArgumentException | IllegalAccessException e) {\n                    }\n                }\n                em.persist(entity);\n                return entity;\n            }\n\n            /**\n             * @param entity\n             * @param detached\n             * @return\n             */\n            private boolean isDetached(final Object entity) {\n                if (entity instanceof PersistenceCapable) {\n                    PersistenceCapable pc = (PersistenceCapable) entity;\n                    if (pc.pcIsDetached() == Boolean.TRUE) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":10,"creation_date":1443697425,"post_id":29235227,"comment_id":53601680,"body_markdown":"Surprisingly that one worked for me too. It makes no sense since CascadeType.ALL includes all other cascade types... WTF? I have spring 4.0.4, spring data jpa 1.8.0 and hibernate 4.X.. Does anyone have any thoughts why ALL doesn&#39;t work, but MERGE does?","body":"Surprisingly that one worked for me too. It makes no sense since CascadeType.ALL includes all other cascade types... WTF? I have spring 4.0.4, spring data jpa 1.8.0 and hibernate 4.X.. Does anyone have any thoughts why ALL doesn&#39;t work, but MERGE does?"},{"owner":{"account_id":508680,"reputation":739,"user_id":1064161,"display_name":"Gunslinger"},"score":31,"creation_date":1448552679,"post_id":29235227,"comment_id":55644036,"body_markdown":"@VadimKirilchuk This worked for me too and it makes total sense. Since Transaction is PERSISTED, it tries to PERSIST Account as well and that doesn&#39;t work since Account already is in the db. But with CascadeType.MERGE the Account is automatically merged instead.","body":"@VadimKirilchuk This worked for me too and it makes total sense. Since Transaction is PERSISTED, it tries to PERSIST Account as well and that doesn&#39;t work since Account already is in the db. But with CascadeType.MERGE the Account is automatically merged instead."},{"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"score":6,"creation_date":1473496398,"post_id":29235227,"comment_id":66172549,"body_markdown":"This can happen if you do not use transactions.","body":"This can happen if you do not use transactions."},{"owner":{"account_id":6558074,"reputation":3092,"user_id":5070158,"accept_rate":94,"display_name":"Andrii Plotnikov"},"score":1,"creation_date":1484741775,"post_id":29235227,"comment_id":70632895,"body_markdown":"another solution: try not to insert already persisted object :)","body":"another solution: try not to insert already persisted object :)"},{"owner":{"account_id":2266808,"reputation":6618,"user_id":1995258,"accept_rate":81,"display_name":"makkasi"},"score":4,"creation_date":1518424879,"post_id":29235227,"comment_id":84484393,"body_markdown":"Thank you man. It&#39;s not possible to avoid inserting of persisted object, if you have restriction for the reference key to be NOT NULL. So this is the only solution. Thank you again.","body":"Thank you man. It&#39;s not possible to avoid inserting of persisted object, if you have restriction for the reference key to be NOT NULL. So this is the only solution. Thank you again."},{"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"score":0,"creation_date":1545344178,"post_id":29235227,"comment_id":94600908,"body_markdown":"Thank you this solves my hib 5.3 error when saving a many to many relationship with additional fields in join table.","body":"Thank you this solves my hib 5.3 error when saving a many to many relationship with additional fields in join table."},{"owner":{"account_id":8692765,"reputation":327,"user_id":6505212,"display_name":"Rohith"},"score":0,"creation_date":1559248841,"post_id":29235227,"comment_id":99370766,"body_markdown":"Can someone explain to me why this worked? It worked for me but I could not understand the reasoning.","body":"Can someone explain to me why this worked? It worked for me but I could not understand the reasoning."},{"owner":{"account_id":3130920,"reputation":660,"user_id":2648723,"display_name":"fleed"},"score":0,"creation_date":1570634345,"post_id":29235227,"comment_id":102976458,"body_markdown":"This fixed it for me too when using Spring + Vaadin.","body":"This fixed it for me too when using Spring + Vaadin."},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1609387004,"post_id":29235227,"comment_id":115830961,"body_markdown":"This also worked for me, but wtf? I&#39;m either too stupid or it doesn&#39;t make any sense at all. For reference, I was using both `PERSIST` and `MERGE` but removed the `PERSIST` for it to work.","body":"This also worked for me, but wtf? I&#39;m either too stupid or it doesn&#39;t make any sense at all. For reference, I was using both <code>PERSIST</code> and <code>MERGE</code> but removed the <code>PERSIST</code> for it to work."},{"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"score":0,"creation_date":1620511350,"post_id":29235227,"comment_id":119223778,"body_markdown":"Thanks!   I wish I could also say &quot;this makes total sense&quot;, but Hibernate and JPA are so &quot;random&quot; when it comes to onetoone and manytomany, I give up.  Just give me something to try, and hey this worked.  Thanks.","body":"Thanks!   I wish I could also say &quot;this makes total sense&quot;, but Hibernate and JPA are so &quot;random&quot; when it comes to onetoone and manytomany, I give up.  Just give me something to try, and hey this worked.  Thanks."},{"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"score":0,"creation_date":1658273170,"post_id":29235227,"comment_id":129009531,"body_markdown":"The &quot;Aha&quot; moment. If I could resume this whole page question I&#39;d higlight with this sentence from @Gunslinger: **it tries to PERSIST Account as well and that doesn&#39;t work since Account already is in the db**","body":"The &quot;Aha&quot; moment. If I could resume this whole page question I&#39;d higlight with this sentence from @Gunslinger: <b>it tries to PERSIST Account as well and that doesn&#39;t work since Account already is in the db</b>"},{"owner":{"account_id":21127889,"reputation":129,"user_id":15532852,"display_name":"DoubleS"},"score":0,"creation_date":1687684503,"post_id":29235227,"comment_id":134968662,"body_markdown":"just to be clear. the use of `CascadeType.MERGE` is in both of the entities right?","body":"just to be clear. the use of <code>CascadeType.MERGE</code> is in both of the entities right?"}],"tags":[],"owner":{"account_id":5218728,"reputation":4262,"user_id":4172798,"display_name":"ochiWlad"},"comment_count":12,"down_vote_count":3,"up_vote_count":400,"is_accepted":false,"score":397,"last_activity_date":1516203623,"creation_date":1427207331,"answer_id":29235227,"question_id":13370221,"body_markdown":"The solution is simple, just use the `CascadeType.MERGE` instead of `CascadeType.PERSIST` or `CascadeType.ALL`. \r\n\r\nI have had the same problem and `CascadeType.MERGE` has worked for me.\r\n\r\nI hope you are sorted.","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>The solution is simple, just use the <code>CascadeType.MERGE</code> instead of <code>CascadeType.PERSIST</code> or <code>CascadeType.ALL</code>. </p>\n\n<p>I have had the same problem and <code>CascadeType.MERGE</code> has worked for me.</p>\n\n<p>I hope you are sorted.</p>\n"},{"comments":[{"owner":{"account_id":3241537,"reputation":1471,"user_id":2734445,"accept_rate":75,"display_name":"Senthil Arumugam SP"},"score":0,"creation_date":1466698456,"post_id":31384439,"comment_id":63437329,"body_markdown":"I m facing same issue., i have used the `@Transaction(readonly=false)` at the service layer., still i m getting the same issue,","body":"I m facing same issue., i have used the <code>@Transaction(readonly=false)</code> at the service layer., still i m getting the same issue,"},{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":1,"creation_date":1496686474,"post_id":31384439,"comment_id":75751255,"body_markdown":"I can&#39;t say I fully understand why things work this way but placing the persist method and view to Entity mapping together inside an Transactional annotation fixed my issue so thanks.","body":"I can&#39;t say I fully understand why things work this way but placing the persist method and view to Entity mapping together inside an Transactional annotation fixed my issue so thanks."},{"owner":{"account_id":9056565,"reputation":1855,"user_id":6744670,"accept_rate":100,"display_name":"Aleksei Maide"},"score":1,"creation_date":1538375171,"post_id":31384439,"comment_id":92105964,"body_markdown":"This is actually a better solution than the most upvoted one.","body":"This is actually a better solution than the most upvoted one."},{"owner":{"account_id":21176438,"reputation":239,"user_id":15571652,"display_name":"Yu Tian Toby"},"score":1,"creation_date":1648114292,"post_id":31384439,"comment_id":126543842,"body_markdown":"we shall manage our persistence context to keep our entities in managed state rather than working around to change the entity itself.","body":"we shall manage our persistence context to keep our entities in managed state rather than working around to change the entity itself."}],"tags":[],"owner":{"account_id":320703,"reputation":4309,"user_id":639119,"display_name":"Zds"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1538407591,"creation_date":1436793309,"answer_id":31384439,"question_id":13370221,"body_markdown":"Using merge is risky and tricky, so it&#39;s a dirty workaround in your case. You need to remember at least that when you pass an entity object to merge, it _stops_ being attached to the transaction and instead a new, now-attached entity is returned. This means that if anyone has the old entity object still in their possession, changes to it are silently ignored and thrown away on commit.\r\n\r\nYou are not showing the complete code here, so I cannot double-check your transaction pattern. One way to get to a situation like this is if you don&#39;t have a transaction active when executing the merge and persist. In that case persistence provider is expected to open a new transaction for every JPA operation you perform and immediately commit and close it before the call returns. If this is the case, the merge would be run in a first transaction and then after the merge method returns, the transaction is completed and closed and the returned entity is now detached. The persist below it would then open a second transaction, and trying to refer to an entity that is detached, giving an exception. Always wrap your code inside a transaction unless you know very well what you are doing.\r\n\r\nUsing container-managed transaction it would look something like this. Do note: this assumes the method is inside a session bean and called via Local or Remote interface.\r\n\r\n\t@TransactionAttribute(TransactionAttributeType.REQUIRED)\r\n\tpublic void storeAccount(Account account) {\r\n\t\t...\r\n\r\n\t\tif (account.getId()!=null) {\r\n\t\t\taccount = entityManager.merge(account);\r\n\t\t}\r\n\r\n\t\tTransaction transaction = new Transaction(account,&quot;other stuff&quot;);\r\n\r\n\t\tentityManager.persist(account);\r\n\t}\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>Using merge is risky and tricky, so it's a dirty workaround in your case. You need to remember at least that when you pass an entity object to merge, it <em>stops</em> being attached to the transaction and instead a new, now-attached entity is returned. This means that if anyone has the old entity object still in their possession, changes to it are silently ignored and thrown away on commit.</p>\n\n<p>You are not showing the complete code here, so I cannot double-check your transaction pattern. One way to get to a situation like this is if you don't have a transaction active when executing the merge and persist. In that case persistence provider is expected to open a new transaction for every JPA operation you perform and immediately commit and close it before the call returns. If this is the case, the merge would be run in a first transaction and then after the merge method returns, the transaction is completed and closed and the returned entity is now detached. The persist below it would then open a second transaction, and trying to refer to an entity that is detached, giving an exception. Always wrap your code inside a transaction unless you know very well what you are doing.</p>\n\n<p>Using container-managed transaction it would look something like this. Do note: this assumes the method is inside a session bean and called via Local or Remote interface.</p>\n\n<pre><code>@TransactionAttribute(TransactionAttributeType.REQUIRED)\npublic void storeAccount(Account account) {\n    ...\n\n    if (account.getId()!=null) {\n        account = entityManager.merge(account);\n    }\n\n    Transaction transaction = new Transaction(account,\"other stuff\");\n\n    entityManager.persist(account);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679325391,"creation_date":1466169454,"answer_id":37882596,"question_id":13370221,"body_markdown":"Even if your annotations are declared correctly to properly manage the one-to-many relationship you may still encounter this precise exception.  When adding a new child object, `Transaction`, to an attached data model you&#39;ll need to manage the primary key value - *unless you&#39;re not supposed to*.  If you supply a primary key value for a child entity declared as follows before calling `persist(T)`, you&#39;ll encounter this exception.\r\n\r\n    @Entity\r\n    public class Transaction {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    ....\r\n\r\nIn this case, the annotations are declaring that the database will manage the generation of the entity&#39;s primary key values upon insertion.  Providing one yourself (such as through the Id&#39;s setter) causes this exception.\r\n\r\nAlternatively, but effectively the same, this annotation declaration results in the same exception:\r\n\r\n    @Entity\r\n    public class Transaction {\r\n   \t    @Id\r\n        @org.hibernate.annotations.GenericGenerator(name=&quot;system-uuid&quot;, strategy=&quot;uuid&quot;)\r\n        @GeneratedValue(generator=&quot;system-uuid&quot;)\r\n        private Long id;\r\n    ....\r\n\r\nSo, don&#39;t set the `id` value in your application code when it&#39;s already being managed.","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>Even if your annotations are declared correctly to properly manage the one-to-many relationship you may still encounter this precise exception.  When adding a new child object, <code>Transaction</code>, to an attached data model you'll need to manage the primary key value - <em>unless you're not supposed to</em>.  If you supply a primary key value for a child entity declared as follows before calling <code>persist(T)</code>, you'll encounter this exception.</p>\n<pre><code>@Entity\npublic class Transaction {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n....\n</code></pre>\n<p>In this case, the annotations are declaring that the database will manage the generation of the entity's primary key values upon insertion.  Providing one yourself (such as through the Id's setter) causes this exception.</p>\n<p>Alternatively, but effectively the same, this annotation declaration results in the same exception:</p>\n<pre><code>@Entity\npublic class Transaction {\n    @Id\n    @org.hibernate.annotations.GenericGenerator(name=&quot;system-uuid&quot;, strategy=&quot;uuid&quot;)\n    @GeneratedValue(generator=&quot;system-uuid&quot;)\n    private Long id;\n....\n</code></pre>\n<p>So, don't set the <code>id</code> value in your application code when it's already being managed.</p>\n"},{"tags":[],"owner":{"account_id":1760367,"reputation":4807,"user_id":1607660,"accept_rate":70,"display_name":"FazoM"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470351823,"creation_date":1470351823,"answer_id":38778707,"question_id":13370221,"body_markdown":"If nothing helps and you are still getting this exception, review your `equals()` methods - and don&#39;t include child collection in it. Especially if you have deep structure of embedded collections (e.g. A contains Bs, B contains Cs, etc.).\r\n\r\nIn example of `Account -&gt; Transactions`:\r\n\r\n      public class Account {\r\n      \r\n        private Long id;\r\n        private String accountName;\r\n        private Set&lt;Transaction&gt; transactions;\r\n        \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n          if (this == obj)\r\n            return true;\r\n          if (obj == null)\r\n            return false;\r\n          if (!(obj instanceof Account))\r\n            return false;\r\n          Account other = (Account) obj;\r\n          return Objects.equals(this.id, other.id)\r\n              &amp;&amp; Objects.equals(this.accountName, other.accountName)\r\n              &amp;&amp; Objects.equals(this.transactions, other.transactions); // &lt;--- REMOVE THIS!\r\n        }\r\n      }\r\n\r\nIn above example remove transactions from `equals()` checks. This is because hibernate will imply that you are not trying to update old object, but you pass a new object to persist, whenever you change element on the child collection.  \r\nOf course this solutions will not fit all applications and you should carefully design what you want to include in the `equals` and `hashCode` methods.\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>If nothing helps and you are still getting this exception, review your <code>equals()</code> methods - and don't include child collection in it. Especially if you have deep structure of embedded collections (e.g. A contains Bs, B contains Cs, etc.).</p>\n\n<p>In example of <code>Account -&gt; Transactions</code>:</p>\n\n<pre><code>  public class Account {\n\n    private Long id;\n    private String accountName;\n    private Set&lt;Transaction&gt; transactions;\n\n    @Override\n    public boolean equals(Object obj) {\n      if (this == obj)\n        return true;\n      if (obj == null)\n        return false;\n      if (!(obj instanceof Account))\n        return false;\n      Account other = (Account) obj;\n      return Objects.equals(this.id, other.id)\n          &amp;&amp; Objects.equals(this.accountName, other.accountName)\n          &amp;&amp; Objects.equals(this.transactions, other.transactions); // &lt;--- REMOVE THIS!\n    }\n  }\n</code></pre>\n\n<p>In above example remove transactions from <code>equals()</code> checks. This is because hibernate will imply that you are not trying to update old object, but you pass a new object to persist, whenever you change element on the child collection.<br>\nOf course this solutions will not fit all applications and you should carefully design what you want to include in the <code>equals</code> and <code>hashCode</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":2512061,"reputation":931,"user_id":2184291,"display_name":"stakahop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504178391,"creation_date":1503923375,"answer_id":45919045,"question_id":13370221,"body_markdown":"You need to set Transaction for every Account.\r\n\r\n    foreach(Account account : accounts){\r\n        account.setTransaction(transactionObj);\r\n    }\r\n    \r\nOr it colud be enough (if appropriate) to set ids to null on many side.\r\n    \r\n    // list of existing accounts\r\n    List&lt;Account&gt; accounts = new ArrayList&lt;&gt;(transactionObj.getAccounts());\r\n\r\n    foreach(Account account : accounts){\r\n        account.setId(null);\r\n    }\r\n\r\n    transactionObj.setAccounts(accounts);\r\n    \r\n    // just persist transactionObj using EntityManager merge() method.","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>You need to set Transaction for every Account.</p>\n\n<pre><code>foreach(Account account : accounts){\n    account.setTransaction(transactionObj);\n}\n</code></pre>\n\n<p>Or it colud be enough (if appropriate) to set ids to null on many side.</p>\n\n<pre><code>// list of existing accounts\nList&lt;Account&gt; accounts = new ArrayList&lt;&gt;(transactionObj.getAccounts());\n\nforeach(Account account : accounts){\n    account.setId(null);\n}\n\ntransactionObj.setAccounts(accounts);\n\n// just persist transactionObj using EntityManager merge() method.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":371657,"reputation":2612,"user_id":720297,"accept_rate":73,"display_name":"Aldian"},"score":2,"creation_date":1530697644,"post_id":47833439,"comment_id":89323925,"body_markdown":"Good advice! But only if id is generated. In case it is assigned it is normal to set the id.","body":"Good advice! But only if id is generated. In case it is assigned it is normal to set the id."},{"owner":{"account_id":36031,"reputation":665,"user_id":102469,"accept_rate":48,"display_name":"Anyul Rivas"},"score":0,"creation_date":1534859521,"post_id":47833439,"comment_id":90850540,"body_markdown":"this worked for me. Also, you can use `TestEntityManager.persistAndFlush()` in order to make an instance managed and persistent then synchronize the persistence context to the underlying database. Returns the original source entity","body":"this worked for me. Also, you can use <code>TestEntityManager.persistAndFlush()</code> in order to make an instance managed and persistent then synchronize the persistence context to the underlying database. Returns the original source entity"},{"owner":{"account_id":1128460,"reputation":2054,"user_id":1115122,"accept_rate":56,"display_name":"anshulkatta"},"score":1,"creation_date":1634060953,"post_id":47833439,"comment_id":122923598,"body_markdown":"this worked like charm","body":"this worked like charm"}],"tags":[],"owner":{"account_id":11407644,"reputation":843,"user_id":8362671,"accept_rate":60,"display_name":"Angad Bansode"},"comment_count":3,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1513344798,"creation_date":1513344798,"answer_id":47833439,"question_id":13370221,"body_markdown":"Don&#39;t pass id(pk)  to persist method or try save() method instead of persist().","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>Don't pass id(pk)  to persist method or try save() method instead of persist().</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1535052122,"post_id":51987335,"comment_id":90935402,"body_markdown":"Hi James and welcome, you should try and avoid code only answers. Please indicate how this solves the problem stated in the question (and when it is applicable or not, API level etc.).","body":"Hi James and welcome, you should try and avoid code only answers. Please indicate how this solves the problem stated in the question (and when it is applicable or not, API level etc.)."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1535058528,"post_id":51987335,"comment_id":90938301,"body_markdown":"VLQ reviewers: see https://meta.stackoverflow.com/questions/260411/reviewing-low-quality-posts-answers-without-explanation.  code-only answers do not merit deletion, the appropriate action is to select &quot;Looks OK&quot;.","body":"VLQ reviewers: see <a href=\"https://meta.stackoverflow.com/questions/260411/reviewing-low-quality-posts-answers-without-explanation\" title=\"reviewing low quality posts answers without explanation\">meta.stackoverflow.com/questions/260411/&hellip;</a>.  code-only answers do not merit deletion, the appropriate action is to select &quot;Looks OK&quot;."}],"tags":[],"owner":{"account_id":10488980,"reputation":1243,"user_id":7731521,"display_name":"James Siva"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535031960,"creation_date":1535031960,"answer_id":51987335,"question_id":13370221,"body_markdown":"    cascadeType.MERGE,fetch= FetchType.LAZY","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<pre><code>cascadeType.MERGE,fetch= FetchType.LAZY\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1544964,"reputation":1153,"user_id":1438692,"accept_rate":83,"display_name":"Vikky"},"score":0,"creation_date":1567167207,"post_id":54271569,"comment_id":101893118,"body_markdown":"Just want to add, if your intention is really to save the child along with parent and also delete parent along with child, like person(parent) and address(child) along with addressId autogenerated by DB then before calling save on Person, just make a call to save on address in your transaction method. This way it would be saved along with id also generated by DB. No impact on performance as Hibenate still makes 2 queries, we are just changing the order of queries.","body":"Just want to add, if your intention is really to save the child along with parent and also delete parent along with child, like person(parent) and address(child) along with addressId autogenerated by DB then before calling save on Person, just make a call to save on address in your transaction method. This way it would be saved along with id also generated by DB. No impact on performance as Hibenate still makes 2 queries, we are just changing the order of queries."},{"owner":{"account_id":13059268,"reputation":2333,"user_id":9437031,"display_name":"Dhwanil Patel"},"score":0,"creation_date":1580987478,"post_id":54271569,"comment_id":106282599,"body_markdown":"If we can&#39;t pass anything then what default value it take for all case.","body":"If we can&#39;t pass anything then what default value it take for all case."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1638888856,"post_id":54271569,"comment_id":124204094,"body_markdown":"awesome explanation @Eugen Labun.","body":"awesome explanation @Eugen Labun."}],"tags":[],"owner":{"account_id":247690,"reputation":2591,"user_id":522578,"display_name":"Eugen Labun"},"comment_count":3,"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1552038765,"creation_date":1547933452,"answer_id":54271569,"question_id":13370221,"body_markdown":"**Remove cascading from the child entity `Transaction`**, it should be just:\r\n\r\n    @Entity class Transaction {\r\n        @ManyToOne // no cascading here!\r\n        private Account account;\r\n    }\r\n\r\n(`FetchType.EAGER` can be removed as well as it&#39;s the default for `@ManyToOne`)\r\n\r\n**That&#39;s all!**\r\n\r\nWhy? By saying &quot;cascade ALL&quot; on the child entity `Transaction` you require that every DB operation gets propagated to the parent entity `Account`. If you then do `persist(transaction)`, `persist(account)` will be invoked as well. \r\n\r\nBut only transient (new) entities may be passed to `persist` (`Transaction` in this case). The detached (or other non-transient state) ones may not (`Account` in this case, as it&#39;s already in DB). \r\n\r\nTherefore you get the exception _&quot;detached entity passed to persist&quot;_. The `Account` entity is meant! Not the `Transaction` you call `persist` on.\r\n\r\n---\r\n\r\nYou generally don&#39;t want to propagate from child to parent. Unfortunately there are many code examples in books (even in good ones) and through the net, which do exactly that. I don&#39;t know, why... Perhaps sometimes simply copied over and over without much thinking... \r\n\r\nGuess what happens if you call `remove(transaction)` still having &quot;cascade ALL&quot; in that @ManyToOne? The `account` (btw, with all other transactions!) will be deleted from the DB as well. But that wasn&#39;t your intention, was it?\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p><strong>Remove cascading from the child entity <code>Transaction</code></strong>, it should be just:</p>\n\n<pre><code>@Entity class Transaction {\n    @ManyToOne // no cascading here!\n    private Account account;\n}\n</code></pre>\n\n<p>(<code>FetchType.EAGER</code> can be removed as well as it's the default for <code>@ManyToOne</code>)</p>\n\n<p><strong>That's all!</strong></p>\n\n<p>Why? By saying \"cascade ALL\" on the child entity <code>Transaction</code> you require that every DB operation gets propagated to the parent entity <code>Account</code>. If you then do <code>persist(transaction)</code>, <code>persist(account)</code> will be invoked as well. </p>\n\n<p>But only transient (new) entities may be passed to <code>persist</code> (<code>Transaction</code> in this case). The detached (or other non-transient state) ones may not (<code>Account</code> in this case, as it's already in DB). </p>\n\n<p>Therefore you get the exception <em>\"detached entity passed to persist\"</em>. The <code>Account</code> entity is meant! Not the <code>Transaction</code> you call <code>persist</code> on.</p>\n\n<hr>\n\n<p>You generally don't want to propagate from child to parent. Unfortunately there are many code examples in books (even in good ones) and through the net, which do exactly that. I don't know, why... Perhaps sometimes simply copied over and over without much thinking... </p>\n\n<p>Guess what happens if you call <code>remove(transaction)</code> still having \"cascade ALL\" in that @ManyToOne? The <code>account</code> (btw, with all other transactions!) will be deleted from the DB as well. But that wasn't your intention, was it?</p>\n"},{"tags":[],"owner":{"account_id":10516745,"reputation":341,"user_id":7750626,"display_name":"H.Ostwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551793007,"creation_date":1551793007,"answer_id":55004155,"question_id":13370221,"body_markdown":"In  my case I was committing transaction when **persist** method was used. \r\nOn changing **persist** to **save** method , it got resolved.","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>In  my case I was committing transaction when <strong>persist</strong> method was used. \nOn changing <strong>persist</strong> to <strong>save</strong> method , it got resolved.</p>\n"},{"tags":[],"owner":{"account_id":15832854,"reputation":707,"user_id":11423630,"display_name":"Shubham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566468533,"creation_date":1566468533,"answer_id":57606922,"question_id":13370221,"body_markdown":"If above solutions not work just one time comment the getter and setter methods of entity class and do not set the value of id.(Primary key)\r\nThen this will work.","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>If above solutions not work just one time comment the getter and setter methods of entity class and do not set the value of id.(Primary key)\nThen this will work.</p>\n"},{"tags":[],"owner":{"account_id":1386292,"reputation":47,"user_id":1318280,"display_name":"SateeshKasaboina"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671737245,"creation_date":1567330002,"answer_id":57744776,"question_id":13370221,"body_markdown":"```\r\n@OneToMany(mappedBy = &quot;xxxx&quot;, cascade={CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REMOVE})\r\n```\r\n\r\nworked for me.","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<pre><code>@OneToMany(mappedBy = &quot;xxxx&quot;, cascade={CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REMOVE})\n</code></pre>\n<p>worked for me.</p>\n"},{"comments":[{"owner":{"account_id":15865616,"reputation":299,"user_id":11447747,"display_name":"Faizan"},"score":0,"creation_date":1614600511,"post_id":57941556,"comment_id":117425649,"body_markdown":"Instead of managing, what about if we add the method with @Prepersist and in that method, just set the `this` reference in all child entities?   `void prePersist(){ transactions.foreach( t -&gt; t.setAccount(this))`","body":"Instead of managing, what about if we add the method with @Prepersist and in that method, just set the <code>this</code> reference in all child entities?   <code>void prePersist(){ transactions.foreach( t -&gt; t.setAccount(this))</code>"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1614603990,"post_id":57941556,"comment_id":117427068,"body_markdown":"@FaizanAhmad That&#39;s not going to cover the case when you add the child without adding it to the parent.","body":"@FaizanAhmad That&#39;s not going to cover the case when you add the child without adding it to the parent."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1610144418,"creation_date":1568527326,"answer_id":57941556,"question_id":13370221,"body_markdown":"Removing child association cascading\r\n---------------------------------------\r\n\r\nSo, you need to remove the `@CascadeType.ALL` from the `@ManyToOne` association. Child entities should not cascade to parent associations. Only parent entities should cascade to child entities.\r\n\r\n    @ManyToOne(fetch= FetchType.LAZY)\r\n    \r\nNotice that I set the `fetch` attribute to `FetchType.LAZY` because eager fetching is very bad for performance.\r\n\r\n\r\nSetting both sides of the association\r\n------------------------------------\r\n\r\nWhenever you have a bidirectional association, you need to synchronize both sides using `addChild` and `removeChild` methods in the parent entity:\r\n\r\n    public void addTransaction(Transaction transaction) {\r\n        transcations.add(transaction);\r\n        transaction.setAccount(this);\r\n    }\r\n \r\n    public void removeTransaction(Transaction transaction) {\r\n        transcations.remove(transaction);\r\n        transaction.setAccount(null);\r\n    }\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<h2>Removing child association cascading</h2>\n<p>So, you need to remove the <code>@CascadeType.ALL</code> from the <code>@ManyToOne</code> association. Child entities should not cascade to parent associations. Only parent entities should cascade to child entities.</p>\n<pre><code>@ManyToOne(fetch= FetchType.LAZY)\n</code></pre>\n<p>Notice that I set the <code>fetch</code> attribute to <code>FetchType.LAZY</code> because eager fetching is very bad for performance.</p>\n<h2>Setting both sides of the association</h2>\n<p>Whenever you have a bidirectional association, you need to synchronize both sides using <code>addChild</code> and <code>removeChild</code> methods in the parent entity:</p>\n<pre><code>public void addTransaction(Transaction transaction) {\n    transcations.add(transaction);\n    transaction.setAccount(this);\n}\n\npublic void removeTransaction(Transaction transaction) {\n    transcations.remove(transaction);\n    transaction.setAccount(null);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":239367,"reputation":13188,"user_id":508907,"accept_rate":62,"display_name":"ntg"},"score":0,"creation_date":1636561547,"post_id":58512351,"comment_id":123591572,"body_markdown":"Thanx! In my case, I had to split my `@Transactional` method to two separate `@Transactional` ones for this to work.","body":"Thanx! In my case, I had to split my <code>@Transactional</code> method to two separate <code>@Transactional</code> ones for this to work."},{"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"score":0,"creation_date":1674549248,"post_id":58512351,"comment_id":132731952,"body_markdown":"Thank You, the above mentioned data is accurate. We need to bind the save methods.","body":"Thank You, the above mentioned data is accurate. We need to bind the save methods."}],"tags":[],"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1571778578,"creation_date":1571778578,"answer_id":58512351,"question_id":13370221,"body_markdown":"My Spring Data JPA-based answer: I simply added a `@Transactional` annotation to my outer method. \r\n\r\n### Why it works\r\n\r\nThe child entity was immediately becoming detached because there was no active Hibernate Session context. Providing a Spring (Data JPA) transaction ensures a Hibernate Session is present.\r\n\r\n### Reference:\r\n\r\nhttps://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>My Spring Data JPA-based answer: I simply added a <code>@Transactional</code> annotation to my outer method. </p>\n\n<h3>Why it works</h3>\n\n<p>The child entity was immediately becoming detached because there was no active Hibernate Session context. Providing a Spring (Data JPA) transaction ensures a Hibernate Session is present.</p>\n\n<h3>Reference:</h3>\n\n<p><a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/\" rel=\"noreferrer\">https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/</a></p>\n"},{"comments":[{"owner":{"account_id":17188585,"reputation":134,"user_id":12442825,"display_name":"Marc Guillem"},"score":0,"creation_date":1641298253,"post_id":60929394,"comment_id":124763764,"body_markdown":"this is what are trying to avoid, at least i want to save sub-entities only doing a .save in the parent object","body":"this is what are trying to avoid, at least i want to save sub-entities only doing a .save in the parent object"}],"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585567048,"creation_date":1585567048,"answer_id":60929394,"question_id":13370221,"body_markdown":"Resolved by saving dependent object before the next.\r\n\r\nThis was happened to me because I was not setting Id (which was not auto generated). and trying to save with relation @ManytoOne\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>Resolved by saving dependent object before the next.</p>\n\n<p>This was happened to me because I was not setting Id (which was not auto generated). and trying to save with relation @ManytoOne</p>\n"},{"comments":[{"owner":{"account_id":6799109,"reputation":151,"user_id":5233117,"display_name":"Peter Petrekanics"},"score":1,"creation_date":1619644561,"post_id":66565079,"comment_id":118971161,"body_markdown":"This is the answer that helped me, thank you very much!!","body":"This is the answer that helped me, thank you very much!!"}],"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1615380347,"creation_date":1615380347,"answer_id":66565079,"question_id":13370221,"body_markdown":"An old question, but came across the same issue recently . Sharing my experience here.\r\n\r\nEntity\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;COURSE&quot;)\r\n    public class Course  {\r\n    \r\n    \t@Id\r\n        @GeneratedValue\r\n    \tprivate Long id;\r\n    }\r\n\r\nSaving the entity (JUnit)\r\n\r\n    Course course = new Course(10L, &quot;testcourse&quot;, &quot;DummyCourse&quot;);\r\n    testEntityManager.persist(course);\r\n\r\nFix\r\n\r\n    Course course = new Course(null, &quot;testcourse&quot;, &quot;DummyCourse&quot;);\r\n    testEntityManager.persist(course);\r\n\r\n\r\n**Conclusion :** If the entity class has @GeneratedValue for primary key (id), then ensure that you are not passing a value for the primary key (id)\r\n\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>An old question, but came across the same issue recently . Sharing my experience here.</p>\n<p>Entity</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;COURSE&quot;)\npublic class Course  {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n}\n</code></pre>\n<p>Saving the entity (JUnit)</p>\n<pre><code>Course course = new Course(10L, &quot;testcourse&quot;, &quot;DummyCourse&quot;);\ntestEntityManager.persist(course);\n</code></pre>\n<p>Fix</p>\n<pre><code>Course course = new Course(null, &quot;testcourse&quot;, &quot;DummyCourse&quot;);\ntestEntityManager.persist(course);\n</code></pre>\n<p><strong>Conclusion :</strong> If the entity class has @GeneratedValue for primary key (id), then ensure that you are not passing a value for the primary key (id)</p>\n"},{"tags":[],"owner":{"account_id":1737868,"reputation":2807,"user_id":1590011,"accept_rate":91,"display_name":"John Doe"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623647404,"creation_date":1623641198,"answer_id":67964477,"question_id":13370221,"body_markdown":"Here is my fix.\r\n\r\nBelow is my Entity. Mark that the id is annotated with @GeneratedValue(strategy = GenerationType.AUTO), which means that the id would be generated by the Hibernate. **Don&#39;t set it when entity object is created**. **As that will be auto generated by the Hibernate.** \r\nMind you if the entity id field is not marked with @GeneratedValue then not assigning the id a value manually is also a crime, which will be greeted with **IdentifierGenerationException: ids for this class must be manually assigned before calling save()** \r\n\r\n    @Entity\r\n    @Data\r\n    @NamedQuery(name = &quot;SimpleObject.findAll&quot;, query=&quot;Select s FROM SimpleObject s&quot;)\r\n    public class SimpleObject {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column\r\n        private String key;\r\n    \r\n        @Column\r\n        private String value;\r\n    \r\n    }\r\n\r\nAnd here is my main class.\r\n\r\n    public class SimpleObjectMain {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;Hello Hello From SimpleObjectMain&quot;);\r\n    \r\n            SimpleObject simpleObject = new SimpleObject();\r\n            simpleObject.setId(420L); // Not right, when id is a generated value then no need to set this.\r\n            simpleObject.setKey(&quot;Friend&quot;);\r\n            simpleObject.setValue(&quot;Bani&quot;);\r\n    \r\n            EntityManager entityManager = EntityManagerUtil.getEntityManager();\r\n            entityManager.getTransaction().begin();\r\n            entityManager.persist(simpleObject);\r\n            entityManager.getTransaction().commit();\r\n    \r\n            List&lt;SimpleObject&gt; simpleObjectList = entityManager.createNamedQuery(&quot;SimpleObject.findAll&quot;).getResultList();\r\n            for(SimpleObject simple : simpleObjectList){\r\n                System.out.println(simple);\r\n            }\r\n    \r\n            entityManager.close();\r\n            \r\n        }\r\n    }\r\n    \r\nWhen I tried saving that, it was throwing that \r\n\r\n    PersistentObjectException: detached entity passed to persist.\r\n\r\nAll I needed to fix was remove that id setting line for the simpleObject in the main method.\r\n\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>Here is my fix.</p>\n<p>Below is my Entity. Mark that the id is annotated with @GeneratedValue(strategy = GenerationType.AUTO), which means that the id would be generated by the Hibernate. <strong>Don't set it when entity object is created</strong>. <strong>As that will be auto generated by the Hibernate.</strong>\nMind you if the entity id field is not marked with @GeneratedValue then not assigning the id a value manually is also a crime, which will be greeted with <strong>IdentifierGenerationException: ids for this class must be manually assigned before calling save()</strong></p>\n<pre><code>@Entity\n@Data\n@NamedQuery(name = &quot;SimpleObject.findAll&quot;, query=&quot;Select s FROM SimpleObject s&quot;)\npublic class SimpleObject {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column\n    private String key;\n\n    @Column\n    private String value;\n\n}\n</code></pre>\n<p>And here is my main class.</p>\n<pre><code>public class SimpleObjectMain {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Hello Hello From SimpleObjectMain&quot;);\n\n        SimpleObject simpleObject = new SimpleObject();\n        simpleObject.setId(420L); // Not right, when id is a generated value then no need to set this.\n        simpleObject.setKey(&quot;Friend&quot;);\n        simpleObject.setValue(&quot;Bani&quot;);\n\n        EntityManager entityManager = EntityManagerUtil.getEntityManager();\n        entityManager.getTransaction().begin();\n        entityManager.persist(simpleObject);\n        entityManager.getTransaction().commit();\n\n        List&lt;SimpleObject&gt; simpleObjectList = entityManager.createNamedQuery(&quot;SimpleObject.findAll&quot;).getResultList();\n        for(SimpleObject simple : simpleObjectList){\n            System.out.println(simple);\n        }\n\n        entityManager.close();\n        \n    }\n}\n</code></pre>\n<p>When I tried saving that, it was throwing that</p>\n<pre><code>PersistentObjectException: detached entity passed to persist.\n</code></pre>\n<p>All I needed to fix was remove that id setting line for the simpleObject in the main method.</p>\n"},{"tags":[],"owner":{"account_id":1072602,"reputation":3808,"user_id":1071515,"accept_rate":93,"display_name":"tomaytotomato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634727296,"creation_date":1634727296,"answer_id":69644705,"question_id":13370221,"body_markdown":"Another reason I have encountered this issue is having Entities that aren&#39;t versioned by Hibernate in a transaction.\r\n\r\nAdd a `@Version` annotation to all mapped entities\r\n\r\n```\r\n@Entity\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Version\r\n    private Integer version;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;orders&quot;)\r\n    private CustomerOrders orders;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class CustomerOrders {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Version\r\n    private Integer version;\r\n\r\n    private BigDecimal value;\r\n\r\n}\r\n```\r\n\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>Another reason I have encountered this issue is having Entities that aren't versioned by Hibernate in a transaction.</p>\n<p>Add a <code>@Version</code> annotation to all mapped entities</p>\n<pre><code>@Entity\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Version\n    private Integer version;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;orders&quot;)\n    private CustomerOrders orders;\n\n}\n</code></pre>\n<pre><code>@Entity\npublic class CustomerOrders {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Version\n    private Integer version;\n\n    private BigDecimal value;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17644829,"reputation":671,"user_id":12806467,"display_name":"MrSolarius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648293612,"creation_date":1648293612,"answer_id":71627601,"question_id":13370221,"body_markdown":"This error comes from the JPA Lifecycle.\r\nTo solve, no need to use specific decorator. Just join the entity using merge like that : \r\n```java\r\nentityManager.merge(transaction);\r\n```\r\nAnd don&#39;t forget to correctly set up your getter and setter so your both side are sync.\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>This error comes from the JPA Lifecycle.\nTo solve, no need to use specific decorator. Just join the entity using merge like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.merge(transaction);\n</code></pre>\n<p>And don't forget to correctly set up your getter and setter so your both side are sync.</p>\n"},{"tags":[],"owner":{"account_id":4962325,"reputation":1304,"user_id":3992990,"accept_rate":63,"display_name":"Snickbrack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664269746,"creation_date":1664269746,"answer_id":73865031,"question_id":13370221,"body_markdown":"So I stumbled across this Question and Answers because I got the same Error but a very basic object with just Strings and Integers.\r\n\r\nBut in my case I was trying to set a Value to a Field which was annotated with `@Id`.\r\n\r\nSo if you are using `@Id` it seems that you can&#39;t create a new Object on a Class  and set an Id by yourself and persist it to Database. You should then leave the Id blank. I wasn&#39;t aware and maybe this helps anyone else.","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>So I stumbled across this Question and Answers because I got the same Error but a very basic object with just Strings and Integers.</p>\n<p>But in my case I was trying to set a Value to a Field which was annotated with <code>@Id</code>.</p>\n<p>So if you are using <code>@Id</code> it seems that you can't create a new Object on a Class  and set an Id by yourself and persist it to Database. You should then leave the Id blank. I wasn't aware and maybe this helps anyone else.</p>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674550088,"creation_date":1674550088,"answer_id":75219195,"question_id":13370221,"body_markdown":"The problem here is lack of control.\r\n\r\nWhen we use the CrudRepository/JPARepository save method we loose the transactional control.\r\n\r\nTo overcome this issue we have [Transaction Management][1]\r\n\r\n  [1]: https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\r\n\r\nI prefer the ```@Transactional``` mechanism\r\n\r\nimports \r\n```\r\nimport javax.transaction.Transactional;\r\n```\r\n\r\n\r\n\r\nEntire Source Code:\r\n```\r\npackage com.oracle.dto;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Data\r\n@ToString(exclude = {&quot;employee&quot;})\r\n@EqualsAndHashCode(exclude = {&quot;employee&quot;})\r\npublic class Project {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO,generator = &quot;ps&quot;)\r\n    @SequenceGenerator(name = &quot;ps&quot;,sequenceName = &quot;project_seq&quot;,initialValue = 1000,allocationSize = 1)\r\n    @Setter(AccessLevel.NONE)\r\n    @Column(name = &quot;project_id&quot;,updatable = false,nullable = false)\r\n    private Integer pId;\r\n    @Column(name=&quot;project_name&quot;,nullable = false,updatable = true)\r\n    private String projectName;\r\n    @Column(name=&quot;team_size&quot;,nullable = true,updatable = true)\r\n    private Integer teamSize;\r\n    @Column(name=&quot;start_date&quot;)\r\n    private Date startDate;\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(name=&quot;projectemp_join_table&quot;,\r\n        joinColumns = {@JoinColumn(name = &quot;project_id&quot;)},\r\n        inverseJoinColumns = {@JoinColumn(name=&quot;emp_id&quot;)}\r\n    )\r\n    private List&lt;Employee&gt; employees;\r\n}\r\n```\r\n\r\n```\r\npackage com.oracle.dto;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Data\r\n@EqualsAndHashCode(exclude = {&quot;projects&quot;})\r\n@ToString(exclude = {&quot;projects&quot;})\r\npublic class Employee {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO,generator = &quot;es&quot;)\r\n    @SequenceGenerator(name = &quot;es&quot;,sequenceName = &quot;emp_seq&quot;,allocationSize = 1,initialValue = 2000)\r\n    @Setter(AccessLevel.NONE)\r\n    @Column(name = &quot;emp_id&quot;,nullable = false,updatable = false)\r\n    private Integer eId;\r\n    @Column(name=&quot;fist_name&quot;)\r\n    private String firstName;\r\n    @Column(name=&quot;last_name&quot;)\r\n    private String lastName;\r\n    @ManyToMany(mappedBy = &quot;employees&quot;)\r\n    private List&lt;Project&gt; projects;\r\n}\r\n\r\n\r\n```\r\n\r\n```\r\npackage com.oracle.repo;\r\n\r\nimport com.oracle.dto.Employee;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface EmployeeRepo extends JpaRepository&lt;Employee,Integer&gt; {\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.oracle.repo;\r\n\r\nimport com.oracle.dto.Project;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface ProjectRepo extends JpaRepository&lt;Project,Integer&gt; {\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.oracle.services;\r\n\r\nimport com.oracle.dto.Employee;\r\nimport com.oracle.dto.Project;\r\nimport com.oracle.repo.ProjectRepo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.transaction.Transactional;\r\nimport java.util.Date;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class DBServices {\r\n    @Autowired\r\n    private ProjectRepo repo;\r\n    @Transactional\r\n    public void performActivity(){\r\n\r\n        Project p1 = new Project();\r\n        p1.setProjectName(&quot;Bank 2&quot;);\r\n        p1.setTeamSize(20);\r\n        p1.setStartDate(new Date(2020, 12, 22));\r\n\r\n        Project p2 = new Project();\r\n        p2.setProjectName(&quot;Bank 1&quot;);\r\n        p2.setTeamSize(21);\r\n        p2.setStartDate(new Date(2020, 12, 22));\r\n\r\n        Project p3 = new Project();\r\n        p3.setProjectName(&quot;Customs&quot;);\r\n        p3.setTeamSize(11);\r\n        p3.setStartDate(new Date(2010, 11, 20));\r\n\r\n        Employee e1 = new Employee();\r\n        e1.setFirstName(&quot;Pratik&quot;);\r\n        e1.setLastName(&quot;Gaurav&quot;);\r\n\r\n        Employee e2 = new Employee();\r\n        e2.setFirstName(&quot;Ankita&quot;);\r\n        e2.setLastName(&quot;Noopur&quot;);\r\n\r\n        Employee e3 = new Employee();\r\n        e3.setFirstName(&quot;Rudra&quot;);\r\n        e3.setLastName(&quot;Narayan&quot;);\r\n\r\n        List&lt;Employee&gt; empList1 = new LinkedList&lt;Employee&gt;();\r\n        empList1.add(e2);\r\n        empList1.add(e3);\r\n\r\n        List&lt;Employee&gt; empList2 = new LinkedList&lt;Employee&gt;();\r\n        empList2.add(e1);\r\n        empList2.add(e2);\r\n\r\n        List&lt;Project&gt; pl1=new LinkedList&lt;Project&gt;();\r\n        pl1.add(p1);\r\n        pl1.add(p2);\r\n\r\n        List&lt;Project&gt; pl2=new LinkedList&lt;Project&gt;();\r\n        pl2.add(p2);pl2.add(p3);\r\n\r\n        p1.setEmployees(empList1);\r\n        p2.setEmployees(empList2);\r\n\r\n        e1.setProjects(pl1);\r\n        e2.setProjects(pl2);\r\n\r\n        repo.save(p1);\r\n        repo.save(p2);\r\n        repo.save(p3);\r\n\r\n    }\r\n}\r\n\r\n```\r\n","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>The problem here is lack of control.</p>\n<p>When we use the CrudRepository/JPARepository save method we loose the transactional control.</p>\n<p>To overcome this issue we have <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">Transaction Management</a></p>\n<p>I prefer the <code>@Transactional</code> mechanism</p>\n<p>imports</p>\n<pre><code>import javax.transaction.Transactional;\n</code></pre>\n<p>Entire Source Code:</p>\n<pre><code>package com.oracle.dto;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.util.Date;\nimport java.util.List;\n\n@Entity\n@Data\n@ToString(exclude = {&quot;employee&quot;})\n@EqualsAndHashCode(exclude = {&quot;employee&quot;})\npublic class Project {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO,generator = &quot;ps&quot;)\n    @SequenceGenerator(name = &quot;ps&quot;,sequenceName = &quot;project_seq&quot;,initialValue = 1000,allocationSize = 1)\n    @Setter(AccessLevel.NONE)\n    @Column(name = &quot;project_id&quot;,updatable = false,nullable = false)\n    private Integer pId;\n    @Column(name=&quot;project_name&quot;,nullable = false,updatable = true)\n    private String projectName;\n    @Column(name=&quot;team_size&quot;,nullable = true,updatable = true)\n    private Integer teamSize;\n    @Column(name=&quot;start_date&quot;)\n    private Date startDate;\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name=&quot;projectemp_join_table&quot;,\n        joinColumns = {@JoinColumn(name = &quot;project_id&quot;)},\n        inverseJoinColumns = {@JoinColumn(name=&quot;emp_id&quot;)}\n    )\n    private List&lt;Employee&gt; employees;\n}\n</code></pre>\n<pre><code>package com.oracle.dto;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Data\n@EqualsAndHashCode(exclude = {&quot;projects&quot;})\n@ToString(exclude = {&quot;projects&quot;})\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO,generator = &quot;es&quot;)\n    @SequenceGenerator(name = &quot;es&quot;,sequenceName = &quot;emp_seq&quot;,allocationSize = 1,initialValue = 2000)\n    @Setter(AccessLevel.NONE)\n    @Column(name = &quot;emp_id&quot;,nullable = false,updatable = false)\n    private Integer eId;\n    @Column(name=&quot;fist_name&quot;)\n    private String firstName;\n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n    @ManyToMany(mappedBy = &quot;employees&quot;)\n    private List&lt;Project&gt; projects;\n}\n\n\n</code></pre>\n<pre><code>package com.oracle.repo;\n\nimport com.oracle.dto.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface EmployeeRepo extends JpaRepository&lt;Employee,Integer&gt; {\n}\n\n</code></pre>\n<pre><code>package com.oracle.repo;\n\nimport com.oracle.dto.Project;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface ProjectRepo extends JpaRepository&lt;Project,Integer&gt; {\n}\n\n</code></pre>\n<pre><code>package com.oracle.services;\n\nimport com.oracle.dto.Employee;\nimport com.oracle.dto.Project;\nimport com.oracle.repo.ProjectRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport javax.transaction.Transactional;\nimport java.util.Date;\nimport java.util.LinkedList;\nimport java.util.List;\n\n@Component\npublic class DBServices {\n    @Autowired\n    private ProjectRepo repo;\n    @Transactional\n    public void performActivity(){\n\n        Project p1 = new Project();\n        p1.setProjectName(&quot;Bank 2&quot;);\n        p1.setTeamSize(20);\n        p1.setStartDate(new Date(2020, 12, 22));\n\n        Project p2 = new Project();\n        p2.setProjectName(&quot;Bank 1&quot;);\n        p2.setTeamSize(21);\n        p2.setStartDate(new Date(2020, 12, 22));\n\n        Project p3 = new Project();\n        p3.setProjectName(&quot;Customs&quot;);\n        p3.setTeamSize(11);\n        p3.setStartDate(new Date(2010, 11, 20));\n\n        Employee e1 = new Employee();\n        e1.setFirstName(&quot;Pratik&quot;);\n        e1.setLastName(&quot;Gaurav&quot;);\n\n        Employee e2 = new Employee();\n        e2.setFirstName(&quot;Ankita&quot;);\n        e2.setLastName(&quot;Noopur&quot;);\n\n        Employee e3 = new Employee();\n        e3.setFirstName(&quot;Rudra&quot;);\n        e3.setLastName(&quot;Narayan&quot;);\n\n        List&lt;Employee&gt; empList1 = new LinkedList&lt;Employee&gt;();\n        empList1.add(e2);\n        empList1.add(e3);\n\n        List&lt;Employee&gt; empList2 = new LinkedList&lt;Employee&gt;();\n        empList2.add(e1);\n        empList2.add(e2);\n\n        List&lt;Project&gt; pl1=new LinkedList&lt;Project&gt;();\n        pl1.add(p1);\n        pl1.add(p2);\n\n        List&lt;Project&gt; pl2=new LinkedList&lt;Project&gt;();\n        pl2.add(p2);pl2.add(p3);\n\n        p1.setEmployees(empList1);\n        p2.setEmployees(empList2);\n\n        e1.setProjects(pl1);\n        e2.setProjects(pl2);\n\n        repo.save(p1);\n        repo.save(p2);\n        repo.save(p3);\n\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":689332,"favorite_count":0,"down_vote_count":0,"up_vote_count":339,"accepted_answer_id":13500921,"answer_count":24,"score":339,"last_activity_date":1679325391,"creation_date":1352846746,"question_id":13370221,"body_markdown":"I have a JPA-persisted object model that contains a many-to-one relationship: an `Account` has many `Transactions`. A `Transaction` has one `Account`.\r\n\r\nHere&#39;s a snippet of the code:\r\n\r\n    @Entity\r\n    public class Transaction {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @ManyToOne(cascade = {CascadeType.ALL},fetch= FetchType.EAGER)\r\n        private Account fromAccount;\r\n    ....\r\n\r\n    @Entity\r\n    public class Account {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        @OneToMany(cascade = {CascadeType.ALL},fetch= FetchType.EAGER, mappedBy = &quot;fromAccount&quot;)\r\n        private Set&lt;Transaction&gt; transactions;\r\n\r\n\r\nI am able to create an `Account` object, add transactions to it, and persist the `Account` object correctly. But, when I create a transaction, *using an existing already persisted Account*,  and persisting the *the Transaction*, I get an exception:\r\n\r\n&gt;Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.paulsanwald.Account\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:141) \r\n\r\nSo, I am able to persist an `Account` that contains transactions, but not a Transaction that has an `Account`. I thought this was because the `Account` might not be attached, but this code still gives me the same exception:\r\n\r\n    if (account.getId()!=null) {\r\n        account = entityManager.merge(account);\r\n    }\r\n    Transaction transaction = new Transaction(account,&quot;other stuff&quot;);\r\n     // the below fails with a &quot;detached entity&quot; message. why?\r\n    entityManager.persist(transaction);\r\n\r\nHow can I correctly save a `Transaction`, associated with an already persisted `Account` object?","title":"PersistentObjectException: detached entity passed to persist thrown by JPA and Hibernate","body":"<p>I have a JPA-persisted object model that contains a many-to-one relationship: an <code>Account</code> has many <code>Transactions</code>. A <code>Transaction</code> has one <code>Account</code>.</p>\n\n<p>Here's a snippet of the code:</p>\n\n<pre><code>@Entity\npublic class Transaction {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToOne(cascade = {CascadeType.ALL},fetch= FetchType.EAGER)\n    private Account fromAccount;\n....\n\n@Entity\npublic class Account {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @OneToMany(cascade = {CascadeType.ALL},fetch= FetchType.EAGER, mappedBy = \"fromAccount\")\n    private Set&lt;Transaction&gt; transactions;\n</code></pre>\n\n<p>I am able to create an <code>Account</code> object, add transactions to it, and persist the <code>Account</code> object correctly. But, when I create a transaction, <em>using an existing already persisted Account</em>,  and persisting the <em>the Transaction</em>, I get an exception:</p>\n\n<blockquote>\n  <p>Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.paulsanwald.Account\n          at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:141) </p>\n</blockquote>\n\n<p>So, I am able to persist an <code>Account</code> that contains transactions, but not a Transaction that has an <code>Account</code>. I thought this was because the <code>Account</code> might not be attached, but this code still gives me the same exception:</p>\n\n<pre><code>if (account.getId()!=null) {\n    account = entityManager.merge(account);\n}\nTransaction transaction = new Transaction(account,\"other stuff\");\n // the below fails with a \"detached entity\" message. why?\nentityManager.persist(transaction);\n</code></pre>\n\n<p>How can I correctly save a <code>Transaction</code>, associated with an already persisted <code>Account</code> object?</p>\n"},{"tags":["java","android","kotlin","broadcastreceiver","incoming-call"],"answers":[{"tags":[],"owner":{"account_id":24524840,"reputation":31,"user_id":18437413,"display_name":"Lnight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679324627,"creation_date":1679324627,"answer_id":75791958,"question_id":75778557,"body_markdown":"This works for me:\r\n\r\n```kotlin\r\nclass CustomPhoneStateReceiver(private val onResult: (String, String?, Uri?) -&gt; Unit) : BroadcastReceiver() {\r\n    override fun onReceive(context: Context, intent: Intent?) {\r\n        println(&quot;CustomPhoneStateReceiver onReceive&quot;)\r\n\r\n        val state = intent?.getStringExtra(TelephonyManager.EXTRA_STATE)\r\n        val incomingNumber = intent?.getStringExtra(&quot;incoming_number&quot;)\r\n\r\n        if (state == TelephonyManager.EXTRA_STATE_RINGING || state == TelephonyManager.EXTRA_STATE_OFFHOOK) {\r\n            println(&quot;TelephonyManager.CALL_STATE_RINGING onReceive -&gt; $incomingNumber&quot;)\r\n            incomingNumber?.let { number -&gt;\r\n                val (name, photoUri) = getCallerInfo(context, number)\r\n                onResult(number, name, photoUri)\r\n            }\r\n        }\r\n    }\r\n    private fun getCallerInfo(context: Context, phoneNumber: String): Pair&lt;String?, Uri?&gt; {\r\n        val uri = Uri.withAppendedPath(ContactsContract.PhoneLookup.CONTENT_FILTER_URI, Uri.encode(phoneNumber))\r\n        val projection = arrayOf(ContactsContract.PhoneLookup.DISPLAY_NAME, ContactsContract.PhoneLookup.PHOTO_URI)\r\n\r\n        context.contentResolver.query(uri, projection, null, null, null).use { cursor -&gt;\r\n            if (cursor?.moveToFirst() == true) {\r\n                val nameIndex = cursor.getColumnIndex(ContactsContract.PhoneLookup.DISPLAY_NAME)\r\n                val photoIndex = cursor.getColumnIndex(ContactsContract.PhoneLookup.PHOTO_URI)\r\n\r\n                val name = cursor.getString(nameIndex)\r\n                val photoUri = cursor.getString(photoIndex)?.let { Uri.parse(it) }\r\n                return Pair(name, photoUri)\r\n            }\r\n        }\r\n        val cancellationSignal = CancellationSignal()\r\n        val cursor = context.contentResolver.query(\r\n            CallLog.Calls.CONTENT_URI,\r\n            null,\r\n            CallLog.Calls.TYPE + &quot; = ?&quot;,\r\n            arrayOf(CallLog.Calls.INCOMING_TYPE.toString()),\r\n            CallLog.Calls.DATE + &quot; DESC&quot;,\r\n            cancellationSignal\r\n        )\r\n        if(cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n            val indexName = cursor.getColumnIndex(CallLog.Calls.CACHED_NAME)\r\n            val name = cursor.getString(if (indexName &lt; 0) 0 else indexName)\r\n            println(indexName)\r\n            val indexUri = cursor.getColumnIndex(CallLog.Calls.CACHED_PHOTO_URI)\r\n            val photoUri = cursor.getString(if (indexUri &lt; 0) 0 else indexUri)?.let { Uri.parse(it) }\r\n\r\n            cancellationSignal.cancel()\r\n            cursor.close()\r\n\r\n            return Pair(name, photoUri)\r\n        }\r\n\r\n\r\n        return Pair(null, null)\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd in MainActivity.kt:\r\n\r\n```kotlin\r\n// ...\r\n    private val onResult: (String, String?, Uri?) -&gt; Unit = { phone, name, photoUri -&gt;\r\n        println(&quot;onResult -&gt; $phone, $name, $photoUri &quot;)\r\n        val dataTv = findViewById&lt;TextView&gt;(R.id.data_tv)\r\n        val imageView = findViewById&lt;ImageView&gt;(R.id.imageView_screenshot)\r\n        val uriString = photoUri.toString().ifBlank { &quot;No photo&quot; }\r\n        val formattedName = name?.ifBlank { phone } ?: phone\r\n        dataTv.text = &quot;phone number: $phone\\ncallerName: $formattedName\\nimageUri: ${if(uriString == &quot;null&quot;) &quot;No photo&quot; else uriString}&quot;\r\n        requestMediaProjection()\r\n    }\r\n\r\n    private val receiver = CustomPhoneStateReceiver(onResult)\r\n\r\n override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        registerReceiver(receiver, IntentFilter(TelephonyManager.ACTION_PHONE_STATE_CHANGED))\r\n// ...\r\n}\r\n```","title":"Android detecting incoming calls and retrieving data","body":"<p>This works for me:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class CustomPhoneStateReceiver(private val onResult: (String, String?, Uri?) -&gt; Unit) : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent?) {\n        println(&quot;CustomPhoneStateReceiver onReceive&quot;)\n\n        val state = intent?.getStringExtra(TelephonyManager.EXTRA_STATE)\n        val incomingNumber = intent?.getStringExtra(&quot;incoming_number&quot;)\n\n        if (state == TelephonyManager.EXTRA_STATE_RINGING || state == TelephonyManager.EXTRA_STATE_OFFHOOK) {\n            println(&quot;TelephonyManager.CALL_STATE_RINGING onReceive -&gt; $incomingNumber&quot;)\n            incomingNumber?.let { number -&gt;\n                val (name, photoUri) = getCallerInfo(context, number)\n                onResult(number, name, photoUri)\n            }\n        }\n    }\n    private fun getCallerInfo(context: Context, phoneNumber: String): Pair&lt;String?, Uri?&gt; {\n        val uri = Uri.withAppendedPath(ContactsContract.PhoneLookup.CONTENT_FILTER_URI, Uri.encode(phoneNumber))\n        val projection = arrayOf(ContactsContract.PhoneLookup.DISPLAY_NAME, ContactsContract.PhoneLookup.PHOTO_URI)\n\n        context.contentResolver.query(uri, projection, null, null, null).use { cursor -&gt;\n            if (cursor?.moveToFirst() == true) {\n                val nameIndex = cursor.getColumnIndex(ContactsContract.PhoneLookup.DISPLAY_NAME)\n                val photoIndex = cursor.getColumnIndex(ContactsContract.PhoneLookup.PHOTO_URI)\n\n                val name = cursor.getString(nameIndex)\n                val photoUri = cursor.getString(photoIndex)?.let { Uri.parse(it) }\n                return Pair(name, photoUri)\n            }\n        }\n        val cancellationSignal = CancellationSignal()\n        val cursor = context.contentResolver.query(\n            CallLog.Calls.CONTENT_URI,\n            null,\n            CallLog.Calls.TYPE + &quot; = ?&quot;,\n            arrayOf(CallLog.Calls.INCOMING_TYPE.toString()),\n            CallLog.Calls.DATE + &quot; DESC&quot;,\n            cancellationSignal\n        )\n        if(cursor != null &amp;&amp; cursor.moveToFirst()) {\n            val indexName = cursor.getColumnIndex(CallLog.Calls.CACHED_NAME)\n            val name = cursor.getString(if (indexName &lt; 0) 0 else indexName)\n            println(indexName)\n            val indexUri = cursor.getColumnIndex(CallLog.Calls.CACHED_PHOTO_URI)\n            val photoUri = cursor.getString(if (indexUri &lt; 0) 0 else indexUri)?.let { Uri.parse(it) }\n\n            cancellationSignal.cancel()\n            cursor.close()\n\n            return Pair(name, photoUri)\n        }\n\n\n        return Pair(null, null)\n    }\n}\n\n</code></pre>\n<p>And in MainActivity.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// ...\n    private val onResult: (String, String?, Uri?) -&gt; Unit = { phone, name, photoUri -&gt;\n        println(&quot;onResult -&gt; $phone, $name, $photoUri &quot;)\n        val dataTv = findViewById&lt;TextView&gt;(R.id.data_tv)\n        val imageView = findViewById&lt;ImageView&gt;(R.id.imageView_screenshot)\n        val uriString = photoUri.toString().ifBlank { &quot;No photo&quot; }\n        val formattedName = name?.ifBlank { phone } ?: phone\n        dataTv.text = &quot;phone number: $phone\\ncallerName: $formattedName\\nimageUri: ${if(uriString == &quot;null&quot;) &quot;No photo&quot; else uriString}&quot;\n        requestMediaProjection()\n    }\n\n    private val receiver = CustomPhoneStateReceiver(onResult)\n\n override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        registerReceiver(receiver, IntentFilter(TelephonyManager.ACTION_PHONE_STATE_CHANGED))\n// ...\n}\n</code></pre>\n"}],"owner":{"account_id":24524840,"reputation":31,"user_id":18437413,"display_name":"Lnight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75791958,"answer_count":1,"score":-1,"last_activity_date":1679324627,"creation_date":1679172161,"question_id":75778557,"body_markdown":"I need to detect when calls come to the phone and get the name (what is shown when the call comes in, even if it is just a number or SPAM), number and photo.\r\n\r\nI tried to do [so](https://gist.github.com/ff760d3354fe0dafa8b9bcc3c1d76525), in the end I had the call detected only after acceptance and never had photo uri. I also tried [this](https://gist.github.com/EvgenyPlaksin/ea197a939b4861fe1213390ec4d529cd), but it doesn&#39;t work at all. \r\n\r\n**I want to find a not deprecated way to do this and also it should work on new android versions even if the phone is in silent mode** (this is important, I&#39;ve tried [this](https://stackoverflow.com/a/74093963/18437413) solution, but it doesn&#39;t work without a sound)\r\n\r\nI will be grateful for any help","title":"Android detecting incoming calls and retrieving data","body":"<p>I need to detect when calls come to the phone and get the name (what is shown when the call comes in, even if it is just a number or SPAM), number and photo.</p>\n<p>I tried to do <a href=\"https://gist.github.com/ff760d3354fe0dafa8b9bcc3c1d76525\" rel=\"nofollow noreferrer\">so</a>, in the end I had the call detected only after acceptance and never had photo uri. I also tried <a href=\"https://gist.github.com/EvgenyPlaksin/ea197a939b4861fe1213390ec4d529cd\" rel=\"nofollow noreferrer\">this</a>, but it doesn't work at all.</p>\n<p><strong>I want to find a not deprecated way to do this and also it should work on new android versions even if the phone is in silent mode</strong> (this is important, I've tried <a href=\"https://stackoverflow.com/a/74093963/18437413\">this</a> solution, but it doesn't work without a sound)</p>\n<p>I will be grateful for any help</p>\n"},{"tags":["java","spring","tomcat","spring-boot","tomcat8"],"comments":[{"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"score":1,"creation_date":1490707385,"post_id":43069209,"comment_id":73224918,"body_markdown":"As @luboskrnac said, it located inside of `catalina.out`. But, possibly, you launch tomcat using IDE, which create new tomcat instance inside of it, and in this case, tomcat log file will be somewhere in IDE directory. Also, in this case, you will be able to see logs inside of IDE. Also, possibly, you have many tomcat folders (instances) and you are launching tomcatA, and trying to search for logs in tomcatB. Once it happen with me.","body":"As @luboskrnac said, it located inside of <code>catalina.out</code>. But, possibly, you launch tomcat using IDE, which create new tomcat instance inside of it, and in this case, tomcat log file will be somewhere in IDE directory. Also, in this case, you will be able to see logs inside of IDE. Also, possibly, you have many tomcat folders (instances) and you are launching tomcatA, and trying to search for logs in tomcatB. Once it happen with me."}],"answers":[{"comments":[{"owner":{"account_id":4664612,"reputation":727,"user_id":5621266,"accept_rate":60,"display_name":"ShakibaZar"},"score":0,"creation_date":1491192683,"post_id":43070059,"comment_id":73426365,"body_markdown":"Where is that file?","body":"Where is that file?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1502677929,"post_id":43070059,"comment_id":78291029,"body_markdown":"@user5621266 By default, that file should be in your Tomcat folder &gt; logs, such as `~/apache-tomcat-8.5.20/logs/catalina.out`","body":"@user5621266 By default, that file should be in your Tomcat folder &gt; logs, such as <code>~&#47;apache-tomcat-8.5.20&#47;logs&#47;catalina.out</code>"}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490705375,"creation_date":1490705375,"answer_id":43070059,"question_id":43069209,"body_markdown":"It will most probably be in Tomcat&#39;s log file called `catalina.out`.","title":"where is server log","body":"<p>It will most probably be in Tomcat's log file called <code>catalina.out</code>.</p>\n"},{"tags":[],"owner":{"account_id":24541957,"reputation":1,"user_id":18452243,"display_name":"Vipxpert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679324464,"creation_date":1678888279,"answer_id":75745632,"question_id":43069209,"body_markdown":"Probably under: `C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\logs\\catalina` something something if the installation directory is set at default.","title":"where is server log","body":"<p>Probably under: <code>C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\logs\\catalina</code> something something if the installation directory is set at default.</p>\n"}],"owner":{"account_id":4664612,"reputation":727,"user_id":5621266,"accept_rate":60,"display_name":"ShakibaZar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2828,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679324464,"creation_date":1490703040,"question_id":43069209,"body_markdown":"In a Spring boot project when I run the project on tomcat webserver it gives below exception.\r\nThis is part of stacktrace, in last line it says &quot;See server log for details&quot;, but I can not find where server log is to look up for. I checked logs file (I mean this address: apache-tomcat-8.5.9\\logs) and this path is empty.\r\n\r\nNOTE: It was running successfully but I don&#39;t what changes make it not to run successfully anymore.\r\n\r\n    28-Mar-2017 16:25:35.336 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    28-Mar-2017 16:25:35.337 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal Context [] startup failed due to previous errors\r\n    [2017-03-28 04:25:35,375] Artifact cardservice:war exploded: Error during artifact deployment. See server log for details.","title":"where is server log","body":"<p>In a Spring boot project when I run the project on tomcat webserver it gives below exception.\nThis is part of stacktrace, in last line it says \"See server log for details\", but I can not find where server log is to look up for. I checked logs file (I mean this address: apache-tomcat-8.5.9\\logs) and this path is empty.</p>\n\n<p>NOTE: It was running successfully but I don't what changes make it not to run successfully anymore.</p>\n\n<pre><code>28-Mar-2017 16:25:35.336 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\n28-Mar-2017 16:25:35.337 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal Context [] startup failed due to previous errors\n[2017-03-28 04:25:35,375] Artifact cardservice:war exploded: Error during artifact deployment. See server log for details.\n</code></pre>\n"},{"tags":["java","git","gradle"],"comments":[{"owner":{"account_id":10847936,"reputation":84938,"user_id":7976758,"display_name":"phd"},"score":0,"creation_date":1679323267,"post_id":75791558,"comment_id":133696471,"body_markdown":"I doubt it&#39;s possible. Most tools know nothing about branches or commits, they work with files so these files have to be checked out. Do it in a separate [tag:git-worktree], clone or simply a copy of the working tree, then switch to the feature branch.","body":"I doubt it&#39;s possible. Most tools know nothing about branches or commits, they work with files so these files have to be checked out. Do it in a separate <a href=\"https://stackoverflow.com/questions/tagged/git-worktree\">git-worktree</a>, clone or simply a copy of the working tree, then switch to the feature branch."},{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":2,"creation_date":1679323618,"post_id":75791558,"comment_id":133696600,"body_markdown":"It&#39;s _not_ possible using a single worktree.... but you can create a new worktree using another branch.... when you are done, remove the worktree.","body":"It&#39;s <i>not</i> possible using a single worktree.... but you can create a new worktree using another branch.... when you are done, remove the worktree."}],"answers":[{"tags":[],"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679323323,"creation_date":1679323323,"answer_id":75791709,"question_id":75791558,"body_markdown":"There should be a place where you store files of that feature version for gradle to work with. So, technically, the answer is no. You can use other folder, or Continuous Integration solution like Jenkins. ","title":"Run Gradle in different Git branch without checking branch out","body":"<p>There should be a place where you store files of that feature version for gradle to work with. So, technically, the answer is no. You can use other folder, or Continuous Integration solution like Jenkins.</p>\n"}],"owner":{"account_id":24940758,"reputation":31,"user_id":18806702,"display_name":"hndrkk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679349004,"answer_count":1,"score":0,"last_activity_date":1679324245,"creation_date":1679322563,"question_id":75791558,"body_markdown":"Is it possible to run gradle on a specific git branch without switching to that branch?\r\n\r\nE.g. running gradle on a feature branch while having locally checkout out the main branch.","title":"Run Gradle in different Git branch without checking branch out","body":"<p>Is it possible to run gradle on a specific git branch without switching to that branch?</p>\n<p>E.g. running gradle on a feature branch while having locally checkout out the main branch.</p>\n"},{"tags":["java","eclipse","junit","ide","junit-jupiter"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1679324881,"post_id":75791862,"comment_id":133697052,"body_markdown":"Did you already add the location where the tests are as a source folder?","body":"Did you already add the location where the tests are as a source folder?"},{"owner":{"account_id":28039547,"reputation":1,"user_id":21417334,"display_name":"aili"},"score":0,"creation_date":1679325974,"post_id":75791862,"comment_id":133697394,"body_markdown":"Is source folder and package the same thing? I specified different pathes as source folder and package (source folder: ProjectName/.apt_generated_classes and package: /requests/getRequests) and tests are in source folder","body":"Is source folder and package the same thing? I specified different pathes as source folder and package (source folder: ProjectName/.apt_generated_classes and package: /requests/getRequests) and tests are in source folder"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679330610,"post_id":75791862,"comment_id":133698691,"body_markdown":"A source folder and a package is not the same thing. Everything starting with  `.` like `.apt_generated_classes` will be hidden by default. Click the filter icon and uncheck _.* resources_ to make `.apt_generated_classes` visible (according to the name I would guess it&#39;s an output folder containing .class files, not a source folder with .java files).","body":"A source folder and a package is not the same thing. Everything starting with  <code>.</code> like <code>.apt_generated_classes</code> will be hidden by default. Click the filter icon and uncheck <i>.* resources</i> to make <code>.apt_generated_classes</code> visible (according to the name I would guess it&#39;s an output folder containing .class files, not a source folder with .java files)."}],"owner":{"account_id":28039547,"reputation":1,"user_id":21417334,"display_name":"aili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679324134,"creation_date":1679324134,"question_id":75791862,"body_markdown":"I can&#39;t find generated JUnit test classes in project(and package) explorer packages. Although they can be found in source folder(.apt_generated_tests), but not in a specified package (com/example/testing/requests/getRequests) [But you can see here that package is written in the test class](https://i.stack.imgur.com/uwZLQ.png)\r\n   \r\n\r\nI have tried to refresh project(packages, folders), rebuild project, cleaned project several times. I also tried to restart project, I manually tried to close project and reopen, deleted from workspace and imported again. I can still write code and run unit tests in the test class, but can#t access them in packages. [only one file is visible](https://i.stack.imgur.com/gOJyk.png) ","title":"I can&#39;t find JUnit classes in specified packages in Project Explorer in eclipse","body":"<p>I can't find generated JUnit test classes in project(and package) explorer packages. Although they can be found in source folder(.apt_generated_tests), but not in a specified package (com/example/testing/requests/getRequests) <a href=\"https://i.stack.imgur.com/uwZLQ.png\" rel=\"nofollow noreferrer\">But you can see here that package is written in the test class</a></p>\n<p>I have tried to refresh project(packages, folders), rebuild project, cleaned project several times. I also tried to restart project, I manually tried to close project and reopen, deleted from workspace and imported again. I can still write code and run unit tests in the test class, but can#t access them in packages. <a href=\"https://i.stack.imgur.com/gOJyk.png\" rel=\"nofollow noreferrer\">only one file is visible</a></p>\n"},{"tags":["java","spring-boot","sqlite","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":362548,"reputation":170,"user_id":705795,"accept_rate":15,"display_name":"yaniv"},"score":0,"creation_date":1678269102,"post_id":75648160,"comment_id":133498516,"body_markdown":"hey ,\nuploaded a demo of the issue to github : https://github.com/yaniv33/sqllite","body":"hey , uploaded a demo of the issue to github : <a href=\"https://github.com/yaniv33/sqllite\" rel=\"nofollow noreferrer\">github.com/yaniv33/sqllite</a>"},{"owner":{"account_id":362548,"reputation":170,"user_id":705795,"accept_rate":15,"display_name":"yaniv"},"score":0,"creation_date":1678348286,"post_id":75648160,"comment_id":133515650,"body_markdown":"Seems like the github i commited was not set to public \nit is now :  github.com/yaniv33/sqllite","body":"Seems like the github i commited was not set to public  it is now :  github.com/yaniv33/sqllite"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1678694005,"post_id":75648160,"comment_id":133576083,"body_markdown":"I don&#39;t know much about SQLite, but `user` is usually a keyword in SQL, so try naming the table differently.","body":"I don&#39;t know much about SQLite, but <code>user</code> is usually a keyword in SQL, so try naming the table differently."},{"owner":{"account_id":362548,"reputation":170,"user_id":705795,"accept_rate":15,"display_name":"yaniv"},"score":0,"creation_date":1678702520,"post_id":75648160,"comment_id":133578240,"body_markdown":"Thanks Christian , tried it but the HTE_ prefix would appear on all tables created.. \nChanging the prefix did not help either since the prefix would only come after the HTE_ prefix","body":"Thanks Christian , tried it but the HTE_ prefix would appear on all tables created..  Changing the prefix did not help either since the prefix would only come after the HTE_ prefix"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1678715611,"post_id":75648160,"comment_id":133582185,"body_markdown":"The HTE tables are temporary tables which are pre-created for the purpose of multi-table updates/deletes. You can ignore these. hbm2ddl should emit other tables as well though.","body":"The HTE tables are temporary tables which are pre-created for the purpose of multi-table updates/deletes. You can ignore these. hbm2ddl should emit other tables as well though."},{"owner":{"account_id":362548,"reputation":170,"user_id":705795,"accept_rate":15,"display_name":"yaniv"},"score":0,"creation_date":1679306853,"post_id":75648160,"comment_id":133691727,"body_markdown":"but in the current setup i get &quot;no such table: user&quot; , i suspect it is due to the HTE_ prefix .. , how could i get a valid result to userRepository.findAll();","body":"but in the current setup i get &quot;no such table: user&quot; , i suspect it is due to the HTE_ prefix .. , how could i get a valid result to userRepository.findAll();"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679323752,"creation_date":1679323752,"answer_id":75791784,"question_id":75648160,"body_markdown":"Your database simply does not contain a table with that name. You have to create it or configure `spring.jpa.hibernate.ddl-auto=create-drop` for your application so that the schema is dropped/recreated automatically.","title":"Issue with hibernate 6 naming stategy with sqlite","body":"<p>Your database simply does not contain a table with that name. You have to create it or configure <code>spring.jpa.hibernate.ddl-auto=create-drop</code> for your application so that the schema is dropped/recreated automatically.</p>\n"}],"owner":{"account_id":362548,"reputation":170,"user_id":705795,"accept_rate":15,"display_name":"yaniv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679323752,"creation_date":1678088064,"question_id":75648160,"body_markdown":"I create table named user as such\r\n\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.Id;\r\n    \r\n    @Entity(name= &quot;User&quot;)\r\n    @Table(name = &quot;User&quot;)\r\n    public class User{\r\n    \r\n    \t@Id\r\n        @GeneratedValue\r\n    \tprivate Long id;\r\n    \tprivate String userName;\r\n    \r\n    \tpublic User() {\r\n    \t}\r\n\r\nbut when i attempt to retrieve info from it with a controller \r\n\r\n \r\n\r\n       @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n    \t@GetMapping(&quot;/getUsers&quot;)\r\n    \tpublic List&lt;User&gt; getUsers() {\r\n    \t\treturn userRepository.findAll();\r\n    \t}\r\n\r\ni get \r\nSQL Error: 1, SQLState: null\r\n[SQLITE_ERROR] SQL error or missing database (no such table: user)\r\n\r\nchecking the created database , i see the actual table name that was created  is HTE_user\r\n\r\n\r\ni m using \r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.xerial:sqlite-jdbc:3.8.11.2&#39;\r\n    implementation &#39;org.hibernate.orm:hibernate-community-dialects:6.1.6.Final&#39;\r\n\r\n\r\nany idea how to access the generated table correctly ? ","title":"Issue with hibernate 6 naming stategy with sqlite","body":"<p>I create table named user as such</p>\n<pre><code>import jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\n\n@Entity(name= &quot;User&quot;)\n@Table(name = &quot;User&quot;)\npublic class User{\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String userName;\n\n    public User() {\n    }\n</code></pre>\n<p>but when i attempt to retrieve info from it with a controller</p>\n<pre><code>   @Autowired\n    private UserRepository userRepository;\n\n    @GetMapping(&quot;/getUsers&quot;)\n    public List&lt;User&gt; getUsers() {\n        return userRepository.findAll();\n    }\n</code></pre>\n<p>i get\nSQL Error: 1, SQLState: null\n[SQLITE_ERROR] SQL error or missing database (no such table: user)</p>\n<p>checking the created database , i see the actual table name that was created  is HTE_user</p>\n<p>i m using</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.xerial:sqlite-jdbc:3.8.11.2'\nimplementation 'org.hibernate.orm:hibernate-community-dialects:6.1.6.Final'\n</code></pre>\n<p>any idea how to access the generated table correctly ?</p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"comments":[{"owner":{"account_id":20890136,"reputation":157,"user_id":15345700,"display_name":"Ray  Paras"},"score":0,"creation_date":1679314048,"post_id":75789444,"comment_id":133693593,"body_markdown":"try {\n            final Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/MyBakery?serverTimezone=UTC&quot;, &quot;root&quot;, &quot;&quot;);\n            final Statment = conn.createStatement();\n            final ResultSet rs = Statment.executeQuery(&quot;SELECT * FROM products&quot;);\n            table_products.setModel(DbUtils.resultSetToTableModel(rs));\n\n            }catch(SQLException e){\n                e.printStackTrace();\n            }\n\ni followed you said but it gives me error  &quot;java: &lt;identifier&gt; expected&quot;","body":"try {             final Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/MyBakery&zwnj;&#8203;?serverTimezone=UTC&quot;&zwnj;&#8203;, &quot;root&quot;, &quot;&quot;);             final Statment = conn.createStatement();             final ResultSet rs = Statment.executeQuery(&quot;SELECT * FROM products&quot;);             table_products.setModel(DbUtils.resultSetToTableModel(rs));              }catch(SQLException e){                 e.printStackTrace();             }  i followed you said but it gives me error  &quot;java: &lt;identifier&gt; expected&quot;"},{"owner":{"account_id":20890136,"reputation":157,"user_id":15345700,"display_name":"Ray  Paras"},"score":0,"creation_date":1679314156,"post_id":75789444,"comment_id":133693630,"body_markdown":"final Statment = conn.createStatement();  say java: &lt;identifier&gt; expected","body":"final Statment = conn.createStatement();  say java: &lt;identifier&gt; expected"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1679314702,"post_id":75789444,"comment_id":133693789,"body_markdown":"@RayParas I updated the last code snippet...","body":"@RayParas I updated the last code snippet..."},{"owner":{"account_id":20890136,"reputation":157,"user_id":15345700,"display_name":"Ray  Paras"},"score":0,"creation_date":1679315017,"post_id":75789444,"comment_id":133693889,"body_markdown":"i think the setModel is not working i copied your code and it gives cannot resolve method setModel.. the error message \n\n java: cannot find symbol\n  symbol:   method setModel(javax.swing.table.TableModel)\n  location: variable table_products of type javax.swing.JScrollPane \n\nsorry i am new on java programming","body":"i think the setModel is not working i copied your code and it gives cannot resolve method setModel.. the error message    java: cannot find symbol   symbol:   method setModel(javax.swing.table.TableModel)   location: variable table_products of type javax.swing.JScrollPane   sorry i am new on java programming"},{"owner":{"account_id":20890136,"reputation":157,"user_id":15345700,"display_name":"Ray  Paras"},"score":0,"creation_date":1679315064,"post_id":75789444,"comment_id":133693909,"body_markdown":"void table_products(){\n         try (final Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/MyBakery?serverTimezone=UTC&quot;, &quot;root&quot;, &quot;&quot;);\n              final Statement stmt = conn.createStatement();\n              final ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM products&quot;);) {\n              table_products.setModel(DbUtils.resultSetToTableModel(rs));\n         }\n    }","body":"void table_products(){          try (final Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/MyBakery&zwnj;&#8203;?serverTimezone=UTC&quot;&zwnj;&#8203;, &quot;root&quot;, &quot;&quot;);               final Statement stmt = conn.createStatement();               final ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM products&quot;);) {               table_products.setModel(DbUtils.resultSetToTableModel(rs));          }     }"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679316590,"post_id":75789444,"comment_id":133694341,"body_markdown":"Probably better to update the code as part of the question. Is it working for you now?","body":"Probably better to update the code as part of the question. Is it working for you now?"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1679317394,"post_id":75789444,"comment_id":133694578,"body_markdown":"@RayParas please update your question. Reading code from the comments is close to impossible...","body":"@RayParas please update your question. Reading code from the comments is close to impossible..."},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":1,"creation_date":1679317610,"post_id":75789444,"comment_id":133694653,"body_markdown":"From your error message it looks like `table_products` is of type `javax.swing.JScrollPane`. But the table model can only be set on a [`JTable`](https://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html#setModel(javax.swing.table.TableModel))","body":"From your error message it looks like <code>table_products</code> is of type <code>javax.swing.JScrollPane</code>. But the table model can only be set on a <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html#setModel(javax.swing.table.TableModel)\" rel=\"nofollow noreferrer\"><code>JTable</code></a>"},{"owner":{"account_id":20890136,"reputation":157,"user_id":15345700,"display_name":"Ray  Paras"},"score":0,"creation_date":1679324882,"post_id":75789444,"comment_id":133697054,"body_markdown":"okay i will close it, i will fix again","body":"okay i will close it, i will fix again"},{"owner":{"account_id":20890136,"reputation":157,"user_id":15345700,"display_name":"Ray  Paras"},"score":0,"creation_date":1679335946,"post_id":75789444,"comment_id":133700179,"body_markdown":"it&#39;s okay now thank you for your help and guide and tips","body":"it&#39;s okay now thank you for your help and guide and tips"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679336098,"post_id":75789444,"comment_id":133700225,"body_markdown":"Glad it&#39;s working, especially since I wrote part of it ;)","body":"Glad it&#39;s working, especially since I wrote part of it ;)"}],"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"comment_count":11,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679314679,"creation_date":1679309849,"answer_id":75789444,"question_id":75789265,"body_markdown":"Your problem is in\r\n\r\n```\r\nResultSet rs = stmt.executeQuery();\r\n```\r\n\r\nand not with `DbUtils.resultSetToTableModel`. As you&#39;re using a `PreparedStatement`, you should use this type, to make the IDE aware of the available methods:\r\n\r\n```\r\nPreparedStatement stmt = conn.prepareStatement(&quot;SELECT * FROM products&quot;);\r\n```\r\n\r\nUsing a `PreparedStatement` however is rather pointless in your code, as you&#39;re not providing any parameters and the statement is only executed once. Thus changing your code to this is probably the best solution:\r\n\r\n```\r\nStatement stmt = conn.createStatement();\r\nResultSet rs = stmt.executeQuery(&quot;SELECT * FROM products&quot;);\r\n```\r\n\r\nYou should furthermore avoid declaring variables like `conn` or `stmt` as class members unless you have a valid reason to do so. Additionally your code is missing proper resource handling as neither the DB connection nor the statements or the result are properly closed.\r\n\r\nAll in all this would be a proper implementation:\r\n\r\n\r\n```\r\ntry (final Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/MyBakery?serverTimezone=UTC&quot;, &quot;root&quot;, &quot;&quot;);\r\n     final Statement stmt = conn.createStatement();\r\n     final ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM products&quot;);) {\r\n    table_products.setModel(DbUtils.resultSetToTableModel(rs));\r\n}\r\n```\r\n\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#executeQuery(java.lang.String)\r\nhttps://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeQuery()","title":"Java Intellij - setModel(DbUtils.resultSetToTableModel(rs)) is not working","body":"<p>Your problem is in</p>\n<pre><code>ResultSet rs = stmt.executeQuery();\n</code></pre>\n<p>and not with <code>DbUtils.resultSetToTableModel</code>. As you're using a <code>PreparedStatement</code>, you should use this type, to make the IDE aware of the available methods:</p>\n<pre><code>PreparedStatement stmt = conn.prepareStatement(&quot;SELECT * FROM products&quot;);\n</code></pre>\n<p>Using a <code>PreparedStatement</code> however is rather pointless in your code, as you're not providing any parameters and the statement is only executed once. Thus changing your code to this is probably the best solution:</p>\n<pre><code>Statement stmt = conn.createStatement();\nResultSet rs = stmt.executeQuery(&quot;SELECT * FROM products&quot;);\n</code></pre>\n<p>You should furthermore avoid declaring variables like <code>conn</code> or <code>stmt</code> as class members unless you have a valid reason to do so. Additionally your code is missing proper resource handling as neither the DB connection nor the statements or the result are properly closed.</p>\n<p>All in all this would be a proper implementation:</p>\n<pre><code>try (final Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/MyBakery?serverTimezone=UTC&quot;, &quot;root&quot;, &quot;&quot;);\n     final Statement stmt = conn.createStatement();\n     final ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM products&quot;);) {\n    table_products.setModel(DbUtils.resultSetToTableModel(rs));\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#executeQuery(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#executeQuery(java.lang.String)</a>\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeQuery()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeQuery()</a></p>\n"}],"owner":{"account_id":20890136,"reputation":157,"user_id":15345700,"display_name":"Ray  Paras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75789444,"answer_count":1,"score":0,"last_activity_date":1679323706,"creation_date":1679308753,"question_id":75789265,"body_markdown":"I want to fetch the data in my database I am using `MYSQL` as my database and `intellij` for my  **GUI.**\r\nNow I have a problem the `setModel` is not working. I am getting errors.\r\n\r\n    java: method executeQuery in interface java.sql.Statement cannot be applied to given types;\r\n      required: java.lang.String\r\n      found: no arguments\r\n      reason: actual and formal argument lists differ in length\r\n\r\n\r\n I don&#39;t know if it&#39;s an outdated function or I coded wrong. I am using **JDK 1.8.0_202** and **Mysql-connector-j-8.0.32.jar** and **rs2xml.jar**\r\n\r\nHere is my code.\r\n\r\n    Connection conn;\r\n    Statement stmt;\r\n    \r\n         void table_products(){\r\n                try{\r\n        \r\n                    conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/MyBakery?serverTimezone=UTC&quot;, &quot;root&quot;, &quot;&quot;);\r\n                    stmt = conn.createStatement();\r\n                    Statement stmt = conn.prepareStatement(&quot;SELECT * FROM products&quot;);\r\n                    ResultSet rs = stmt.executeQuery();\r\n                    table_products.setModel(DbUtils.resultSetToTableModel(rs));\r\n        \r\n                }catch(SQLException e){\r\n                    e.printStackTrace();\r\n                }\r\n\r\n        }\r\n\r\n\r\nHere is the list of my import:\r\n\r\n\r\n        import net.proteanit.sql.DbUtils;\r\n        \r\n        import javax.swing.*;\r\n        import java.awt.*;\r\n        import java.awt.event.ActionEvent;\r\n        import java.awt.event.ActionListener;\r\n        import java.sql.*;\r\n    \r\nHere is my JFrame:\r\n    \r\n       public Product(JFrame parent){\r\n            super(parent);\r\n            setTitle(&quot;Bakery Inventory System&quot;);\r\n            setContentPane(registerPanel);\r\n            setMinimumSize(new Dimension(550,600));\r\n            setPreferredSize(new Dimension(320,200));\r\n            setModal(true);\r\n            setLocationRelativeTo(parent);\r\n            setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n    \r\n    \r\n            productAdd.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    registerProduct();\r\n                    dispose();\r\n                }\r\n            });\r\n            productCancel.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    dispose();\r\n                }\r\n            });\r\n    \r\n            setVisible(true);\r\n        }","title":"Java Intellij - setModel(DbUtils.resultSetToTableModel(rs)) is not working","body":"<p>I want to fetch the data in my database I am using <code>MYSQL</code> as my database and <code>intellij</code> for my  <strong>GUI.</strong>\nNow I have a problem the <code>setModel</code> is not working. I am getting errors.</p>\n<pre><code>java: method executeQuery in interface java.sql.Statement cannot be applied to given types;\n  required: java.lang.String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\n</code></pre>\n<p>I don't know if it's an outdated function or I coded wrong. I am using <strong>JDK 1.8.0_202</strong> and <strong>Mysql-connector-j-8.0.32.jar</strong> and <strong>rs2xml.jar</strong></p>\n<p>Here is my code.</p>\n<pre><code>Connection conn;\nStatement stmt;\n\n     void table_products(){\n            try{\n    \n                conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/MyBakery?serverTimezone=UTC&quot;, &quot;root&quot;, &quot;&quot;);\n                stmt = conn.createStatement();\n                Statement stmt = conn.prepareStatement(&quot;SELECT * FROM products&quot;);\n                ResultSet rs = stmt.executeQuery();\n                table_products.setModel(DbUtils.resultSetToTableModel(rs));\n    \n            }catch(SQLException e){\n                e.printStackTrace();\n            }\n\n    }\n</code></pre>\n<p>Here is the list of my import:</p>\n<pre><code>    import net.proteanit.sql.DbUtils;\n    \n    import javax.swing.*;\n    import java.awt.*;\n    import java.awt.event.ActionEvent;\n    import java.awt.event.ActionListener;\n    import java.sql.*;\n</code></pre>\n<p>Here is my JFrame:</p>\n<pre><code>   public Product(JFrame parent){\n        super(parent);\n        setTitle(&quot;Bakery Inventory System&quot;);\n        setContentPane(registerPanel);\n        setMinimumSize(new Dimension(550,600));\n        setPreferredSize(new Dimension(320,200));\n        setModal(true);\n        setLocationRelativeTo(parent);\n        setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n\n\n        productAdd.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                registerProduct();\n                dispose();\n            }\n        });\n        productCancel.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                dispose();\n            }\n        });\n\n        setVisible(true);\n    }\n</code></pre>\n"},{"tags":["java","sap-commerce-cloud","backoffice"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1679823914,"post_id":75791768,"comment_id":133786678,"body_markdown":"is above configuration available in production , please check property is configured in production or not?","body":"is above configuration available in production , please check property is configured in production or not?"}],"owner":{"account_id":19067830,"reputation":1,"user_id":13922621,"display_name":"Pritha Datta Biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679323658,"creation_date":1679323658,"question_id":75791768,"body_markdown":"I have set the values for the below properties\r\nbackoffice.cockpitng.reset.triggers=start,login  backoffice.cockpitng.reset.scope=widgets,cockpitConfig\r\n\r\nBut for production environment the automatic reset is not getting triggered. \r\nDoes it have something to do with loggin into backoffice through SAML. \r\n\r\nIt is working fine on localhost","title":"Hybris backoffice is not triggering automatic reset even though the following properties are set","body":"<p>I have set the values for the below properties\nbackoffice.cockpitng.reset.triggers=start,login  backoffice.cockpitng.reset.scope=widgets,cockpitConfig</p>\n<p>But for production environment the automatic reset is not getting triggered.\nDoes it have something to do with loggin into backoffice through SAML.</p>\n<p>It is working fine on localhost</p>\n"},{"tags":["java","json"],"answers":[{"comments":[{"owner":{"account_id":5117651,"reputation":599,"user_id":4102266,"accept_rate":100,"display_name":"Marcin Armatys"},"score":16,"creation_date":1518166935,"post_id":35128668,"comment_id":84402551,"body_markdown":"In Jackon 2.9 this annotation has name `@JsonUnwrapped`. See:\nhttp://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonUnwrapped.html","body":"In Jackon 2.9 this annotation has name <code>@JsonUnwrapped</code>. See: <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonUnwrapped.html\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-annotations/javadoc/2.9/com/&hellip;</a>"}],"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1579796390,"creation_date":1454323916,"answer_id":35128668,"question_id":35128383,"body_markdown":"**Might** be currently impossible.\r\n\r\nThis because Jackson currently supports `@JacksonUnwrapped` for the opposite case, but no `@JacksonWrapped`\r\n\r\nFeature request: https://github.com/FasterXML/jackson-annotations/issues/42","title":"Flattening nested attributes in Jackson","body":"<p><strong>Might</strong> be currently impossible.</p>\n\n<p>This because Jackson currently supports <code>@JacksonUnwrapped</code> for the opposite case, but no <code>@JacksonWrapped</code></p>\n\n<p>Feature request: <a href=\"https://github.com/FasterXML/jackson-annotations/issues/42\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-annotations/issues/42</a></p>\n"},{"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679323366,"creation_date":1679323366,"answer_id":75791718,"question_id":35128383,"body_markdown":"[Baeldung][1] suggests using a setter or deserializer.  The setter seems much easier so I will only include that solution.\r\n\r\nHere is the setter solution.  The quick code below does not prevent `NullPointerException`s due to unboxing the `Boolean`.\r\n\r\n    @JsonProperty(&quot;filter&quot;)\r\n    private void unpackNested(Map&lt;String,Object&gt; filter)\r\n    {\r\n        key1 = (String) filter.get(&quot;key1&quot;);\r\n        key2 = (Boolean) filter.get(&quot;key2&quot;);\r\n    }\r\n\r\n  [1]: https://www.baeldung.com/jackson-nested-values","title":"Flattening nested attributes in Jackson","body":"<p><a href=\"https://www.baeldung.com/jackson-nested-values\" rel=\"nofollow noreferrer\">Baeldung</a> suggests using a setter or deserializer.  The setter seems much easier so I will only include that solution.</p>\n<p>Here is the setter solution.  The quick code below does not prevent <code>NullPointerException</code>s due to unboxing the <code>Boolean</code>.</p>\n<pre><code>@JsonProperty(&quot;filter&quot;)\nprivate void unpackNested(Map&lt;String,Object&gt; filter)\n{\n    key1 = (String) filter.get(&quot;key1&quot;);\n    key2 = (Boolean) filter.get(&quot;key2&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21568,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":35128668,"answer_count":2,"score":16,"last_activity_date":1679323366,"creation_date":1454323043,"question_id":35128383,"body_markdown":"I have the need of defining a flat POJO that maps its (flat) attributes to a nested object in its JSON specification. Better explain with code\r\n\r\n\r\n    {\r\n        &quot;offset&quot;: 0,\r\n        &quot;pageSize&quot;: 10,\r\n        &quot;filter&quot;: {\r\n            &quot;key1&quot;:&quot;value1&quot;,\r\n            &quot;key2&quot;: true,\r\n            ....\r\n        }\r\n    }\r\n\r\nMy POJO shall look like the following:\r\n\r\n    public class Pojo {\r\n        private int offset;\r\n        private int pageSize;\r\n\r\n        private String key1;\r\n        private boolean key2;\r\n    }\r\n\r\n\r\nSo far I have tried annotating those `key` properties with `@JsonProperty` with its `value` attribute\r\n\r\n    @JsonProperty(&quot;filter.key1&quot;)\r\n    private String key1;\r\n\r\nBut when I went into the MVC controller those properties, though set in JSON, were null in the decoded POJO.\r\n\r\n\r\nHow can I fix this? What did I do wrong?\r\n\r\nI absolutely don&#39;t want to create nested subclasses","title":"Flattening nested attributes in Jackson","body":"<p>I have the need of defining a flat POJO that maps its (flat) attributes to a nested object in its JSON specification. Better explain with code</p>\n\n<pre><code>{\n    \"offset\": 0,\n    \"pageSize\": 10,\n    \"filter\": {\n        \"key1\":\"value1\",\n        \"key2\": true,\n        ....\n    }\n}\n</code></pre>\n\n<p>My POJO shall look like the following:</p>\n\n<pre><code>public class Pojo {\n    private int offset;\n    private int pageSize;\n\n    private String key1;\n    private boolean key2;\n}\n</code></pre>\n\n<p>So far I have tried annotating those <code>key</code> properties with <code>@JsonProperty</code> with its <code>value</code> attribute</p>\n\n<pre><code>@JsonProperty(\"filter.key1\")\nprivate String key1;\n</code></pre>\n\n<p>But when I went into the MVC controller those properties, though set in JSON, were null in the decoded POJO.</p>\n\n<p>How can I fix this? What did I do wrong?</p>\n\n<p>I absolutely don't want to create nested subclasses</p>\n"},{"tags":["java","forms","swing","jframe"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1679321320,"post_id":75791247,"comment_id":133695802,"body_markdown":"Please show the code that &quot;doesn&#39;t work.&quot;  It&#39;s much easier to help you if we can see what you are trying to do.  A [mcve] is practically required most of the time.","body":"Please show the code that &quot;doesn&#39;t work.&quot;  It&#39;s much easier to help you if we can see what you are trying to do.  A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is practically required most of the time."},{"owner":{"display_name":"user12540531"},"score":0,"creation_date":1679322174,"post_id":75791247,"comment_id":133696084,"body_markdown":"apologies. Please see the code above.","body":"apologies. Please see the code above."},{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1679322972,"post_id":75791247,"comment_id":133696359,"body_markdown":"your gridlayout has only 1 row and 1 column which mean it hold single element so either update the number of row or column within the constructor or use 0 for row to get max row or use 0 for column to get max column as mentioned here https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridLayout.html","body":"your gridlayout has only 1 row and 1 column which mean it hold single element so either update the number of row or column within the constructor or use 0 for row to get max row or use 0 for column to get max column as mentioned here <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridLayout.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java&zwnj;&#8203;/&hellip;</a>"},{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1679323191,"post_id":75791247,"comment_id":133696451,"body_markdown":"another point you setdefaultclose to exit only when you need to close the app but since this is a dialog or internal frame then use one of those constant WindowConstants.DO_NOTHING_ON_CLOSE&quot;,&quot;WindowConstants.HIDE_ON_CLOSE&quot;,&quot;WindowConstants.DISPOSE_ON_CLOSE","body":"another point you setdefaultclose to exit only when you need to close the app but since this is a dialog or internal frame then use one of those constant WindowConstants.DO_NOTHING_ON_CLOSE&quot;,&quot;WindowConstants.HIDE_O&zwnj;&#8203;N_CLOSE&quot;,&quot;WindowCons&zwnj;&#8203;tants.DISPOSE_ON_CLO&zwnj;&#8203;SE"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679323264,"creation_date":1679323264,"answer_id":75791697,"question_id":75791247,"body_markdown":"The tutorial shows how to use GridLayout.\r\n\r\n    GridLayout experimentLayout = new GridLayout(0,2);\r\n\r\nThe text says:\r\n\r\n&gt; Creates a grid layout with the specified number of rows and columns. All components in the layout are given equal size. One, but not both, of rows and cols can be zero, which means that any number of objects can be placed in a row or in a column.\r\n\r\nSo if you want a &quot;flexible&quot; layout then use a zero for the rows or the columns (but not for both) so you can add as many components as you&#39;d like.  The example I showed above has two columns and a flexible number of rows.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html","title":"How to add text panes and labels","body":"<p>The tutorial shows how to use GridLayout.</p>\n<pre><code>GridLayout experimentLayout = new GridLayout(0,2);\n</code></pre>\n<p>The text says:</p>\n<blockquote>\n<p>Creates a grid layout with the specified number of rows and columns. All components in the layout are given equal size. One, but not both, of rows and cols can be zero, which means that any number of objects can be placed in a row or in a column.</p>\n</blockquote>\n<p>So if you want a &quot;flexible&quot; layout then use a zero for the rows or the columns (but not for both) so you can add as many components as you'd like.  The example I showed above has two columns and a flexible number of rows.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html</a></p>\n"}],"owner":{"display_name":"user12540531"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679323264,"creation_date":1679321050,"question_id":75791247,"body_markdown":"I&#39;ve tried to create a JFrame windows form with a label and a text pane in that order, vertically down the form as opposed to beside one another.\r\n\r\nAny code I&#39;ve tried does not work, instead just loading the form and nothing else.\r\n\r\nKeep in mind I&#39;m opening this JFrame from another JFrame, pressing a JButton in order to open this &quot;form&quot;.\r\n\r\n```\r\n\tJLabel l1, l2;\r\n\tJTextField t1, t2;\r\n\t\r\n\tpublic DialogueBoxes(){\r\n\t\tsetSize(500,500);\r\n\t\tsetTitle(&quot;Gameplay Boxes&quot;);\r\n\t\t\r\n\t\tContainer c = getContentPane();\r\n\t\tc.setLayout(new GridLayout(1,1));\r\n\t\tc.add(l1);\r\n\t\tc.add(t1);\r\n\t\tc.add(l2);\r\n\t\tc.add(t2);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetVisible(true);\r\n\t\t\r\n\t}\r\n```","title":"How to add text panes and labels","body":"<p>I've tried to create a JFrame windows form with a label and a text pane in that order, vertically down the form as opposed to beside one another.</p>\n<p>Any code I've tried does not work, instead just loading the form and nothing else.</p>\n<p>Keep in mind I'm opening this JFrame from another JFrame, pressing a JButton in order to open this &quot;form&quot;.</p>\n<pre><code>    JLabel l1, l2;\n    JTextField t1, t2;\n    \n    public DialogueBoxes(){\n        setSize(500,500);\n        setTitle(&quot;Gameplay Boxes&quot;);\n        \n        Container c = getContentPane();\n        c.setLayout(new GridLayout(1,1));\n        c.add(l1);\n        c.add(t1);\n        c.add(l2);\n        c.add(t2);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n        \n    }\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1644806783,"post_id":71093698,"comment_id":125695921,"body_markdown":"I think this is an IDE bug. some run icons have this problem, the others not.","body":"I think this is an IDE bug. some run icons have this problem, the others not."}],"tags":[],"owner":{"account_id":6918132,"reputation":370,"user_id":5311614,"display_name":"Farkhad L."},"comment_count":1,"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1644683352,"creation_date":1644683352,"answer_id":71093698,"question_id":71076748,"body_markdown":"I have just had the exact problem. Just go to the Build menu and click on the rebuild project. ","title":"Error:Kotlin: Module was compiled with an incompatible version of Kotlin in a project of Spring Boot with Java not Kotlin not gradle","body":"<p>I have just had the exact problem. Just go to the Build menu and click on the rebuild project.</p>\n"},{"tags":[],"owner":{"account_id":9588131,"reputation":206,"user_id":7120065,"display_name":"CodeSun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679322964,"creation_date":1679322964,"answer_id":75791646,"question_id":71076748,"body_markdown":"Also check out Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Kotlin Compiler. Your Kotlin compiler version should be equal.","title":"Error:Kotlin: Module was compiled with an incompatible version of Kotlin in a project of Spring Boot with Java not Kotlin not gradle","body":"<p>Also check out Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Kotlin Compiler. Your Kotlin compiler version should be equal.</p>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10977,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71093698,"answer_count":2,"score":4,"last_activity_date":1679322964,"creation_date":1644566112,"question_id":71076748,"body_markdown":"Intellij IDEA and JDK 11, this is not an android project, not using Kotlin. It is a Spring Boot application generated with initilizer. Like this:\r\n&gt;\r\n&gt;https://start.spring.io/starter.zip?type=maven-project&amp;language=java&amp;bootVersion=2.6.3&amp;baseDir=demo&amp;groupId=com.example&amp;artifactId=demo&amp;name=multidatasource&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;packaging=jar&amp;javaVersion=11&amp;dependencies=lombok,data-jpa,mysql,webflux,data-rest\r\n\r\nThen I added service code in it. When built, it stopped for been missing error, after I fix them, it cannot be built at all, IDEA gives error:\r\n&gt;Information:Kotlin: kotlinc-jvm 1.3.41 (JRE 11.0.4+10-b304.77)\r\n&gt;\r\n&gt;Information:2/11/2022 3:20 PM - Build completed with 1 error and 0 warnings in 1 s 823 ms\r\n&gt;\r\n&gt;Error:Kotlin: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.5.1, expected version is 1.1.15.\r\n\r\n`pom.xml` remains the same as generated from above link. I checked IDEA module settings, nothing odd. \r\nAnd I `grep -rn kotlin *` in project folder, no matched result.\r\n\r\nThen I wonder if it is because dependency has kotlin confliction, so I start from a fresh download project, and run it successfully (it proves that kotlin problem is not because of dependencies); then I replace folder `src`, it run successfully too.\r\n\r\nHas anyone used a Spring Boot + Java + maven, and IDEA, and perhaps JDK11, and encountered the same error?\r\n\r\nThanks.\r\n\r\n[![Error][1]][1]\r\n\r\nupdates:\r\n**I think this is an Intellij IDEA bug, not all `run` has this problem**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pqb0d.png","title":"Error:Kotlin: Module was compiled with an incompatible version of Kotlin in a project of Spring Boot with Java not Kotlin not gradle","body":"<p>Intellij IDEA and JDK 11, this is not an android project, not using Kotlin. It is a Spring Boot application generated with initilizer. Like this:</p>\n<blockquote>\n<p>https://start.spring.io/starter.zip?type=maven-project&amp;language=java&amp;bootVersion=2.6.3&amp;baseDir=demo&amp;groupId=com.example&amp;artifactId=demo&amp;name=multidatasource&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;packaging=jar&amp;javaVersion=11&amp;dependencies=lombok,data-jpa,mysql,webflux,data-rest</p>\n</blockquote>\n<p>Then I added service code in it. When built, it stopped for been missing error, after I fix them, it cannot be built at all, IDEA gives error:</p>\n<blockquote>\n<p>Information:Kotlin: kotlinc-jvm 1.3.41 (JRE 11.0.4+10-b304.77)</p>\n<p>Information:2/11/2022 3:20 PM - Build completed with 1 error and 0 warnings in 1 s 823 ms</p>\n<p>Error:Kotlin: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.5.1, expected version is 1.1.15.</p>\n</blockquote>\n<p><code>pom.xml</code> remains the same as generated from above link. I checked IDEA module settings, nothing odd.\nAnd I <code>grep -rn kotlin *</code> in project folder, no matched result.</p>\n<p>Then I wonder if it is because dependency has kotlin confliction, so I start from a fresh download project, and run it successfully (it proves that kotlin problem is not because of dependencies); then I replace folder <code>src</code>, it run successfully too.</p>\n<p>Has anyone used a Spring Boot + Java + maven, and IDEA, and perhaps JDK11, and encountered the same error?</p>\n<p>Thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/Pqb0d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pqb0d.png\" alt=\"Error\" /></a></p>\n<p>updates:\n<strong>I think this is an Intellij IDEA bug, not all <code>run</code> has this problem</strong></p>\n"},{"tags":["java","spring","spring-boot","spring-security","integration-testing"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1679322728,"post_id":75791424,"comment_id":133696275,"body_markdown":"The workaround you mention is from 2017. Maybe things have changed in the meantime. Which boot version are you using? Have you inspected your condition evaluation report for your integration test startup via `debug: true` in your `application-test.yml`?","body":"The workaround you mention is from 2017. Maybe things have changed in the meantime. Which boot version are you using? Have you inspected your condition evaluation report for your integration test startup via <code>debug: true</code> in your <code>application-test.yml</code>?"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679323079,"post_id":75791424,"comment_id":133696402,"body_markdown":"I am using Spring Boot 3+. Probably changed and that&#39;s what I am asking. Sorry, but I could not understand &quot;Have you inspected your condition evaluation report for your integration test startup via debug: true in your application-test.yml&quot;. Could you explain a little bit more? Thanks.","body":"I am using Spring Boot 3+. Probably changed and that&#39;s what I am asking. Sorry, but I could not understand &quot;Have you inspected your condition evaluation report for your integration test startup via debug: true in your application-test.yml&quot;. Could you explain a little bit more? Thanks."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1679323624,"post_id":75791424,"comment_id":133696604,"body_markdown":"see https://www.baeldung.com/spring-boot-auto-configuration-report for example regarding the condition evaluation report","body":"see <a href=\"https://www.baeldung.com/spring-boot-auto-configuration-report\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-auto-configuration-report</a> for example regarding the condition evaluation report"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679323755,"post_id":75791424,"comment_id":133696648,"body_markdown":"Thanks a lot, I solved the problem by following https://www.baeldung.com/spring-security-integration-tests.","body":"Thanks a lot, I solved the problem by following <a href=\"https://www.baeldung.com/spring-security-integration-tests\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-integration-tests</a>."}],"answers":[{"comments":[{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679323209,"post_id":75791626,"comment_id":133696460,"body_markdown":"No, before applying this config I was getting error. So, just need to know how to secure request for Integration tests.","body":"No, before applying this config I was getting error. So, just need to know how to secure request for Integration tests."},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679323785,"post_id":75791626,"comment_id":133696657,"body_markdown":"I solved the problem via https://www.baeldung.com/spring-security-integration-tests. Sorry, I cannot vote up as I have not enough repo.","body":"I solved the problem via <a href=\"https://www.baeldung.com/spring-security-integration-tests\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-integration-tests</a>. Sorry, I cannot vote up as I have not enough repo."}],"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679322875,"creation_date":1679322875,"answer_id":75791626,"question_id":75791424,"body_markdown":"It might be `SecurityAutoConfiguration` and `SecurityFilterAutoConfiguration` beans might be getting automatically enabled by some other configuration in your project, such as a custom `WebSecurityConfigurerAdapter` or `SecurityConfigurerAdapter` implementation.\r\n\r\nYou can do check the logs during startup to see which auto-configuration classes are actually being applied.","title":"Cannot authenticate request for Spring Boot Integration Tests","body":"<p>It might be <code>SecurityAutoConfiguration</code> and <code>SecurityFilterAutoConfiguration</code> beans might be getting automatically enabled by some other configuration in your project, such as a custom <code>WebSecurityConfigurerAdapter</code> or <code>SecurityConfigurerAdapter</code> implementation.</p>\n<p>You can do check the logs during startup to see which auto-configuration classes are actually being applied.</p>\n"}],"owner":{"display_name":"user21431812"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679322875,"creation_date":1679321871,"question_id":75791424,"body_markdown":"I have followed the accepted workaround on [Spring Boot Authentication for Integration Tests](https://stackoverflow.com/questions/44467133/spring-boot-authentication-for-integration-tests) and apply the following approach to authenticate requests for Integration Tests:\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@Transactional\r\n@ActiveProfiles(&quot;test&quot;)\r\n@EnableAutoConfiguration(\r\n        exclude = {\r\n        SecurityAutoConfiguration.class,\r\n          SecurityFilterAutoConfiguration.class,\r\n        // FallbackWebSecurityAutoConfiguration.class, // cannot find this ref\r\n        OAuth2ClientAutoConfiguration.class\r\n})\r\nabstract public class IntegrationTest {\r\n\r\n    @Autowired\r\n    protected MockMvc mvc;\r\n\r\n    @MockBean\r\n    protected AuthService authService;\r\n\r\n    @MockBean\r\n    protected JwtUtils jwtUtils;\r\n```\r\n\r\nAnd test class:\r\n\r\n```\r\nclass ProductControllerTest extends IntegrationTest {\r\n\r\n    @Test\r\n    void findById() throws Exception {\r\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;Laptop&quot;)));\r\n    }\r\n```\r\n\r\nHowever, it does not make any sense and still gives &quot;AuthEntryPointJwt                        : Unauthorized error: Full authentication is required to access this resource&quot; error. \r\n\r\nI also tried to use second option via `application-test.yml`:\r\n\r\n```\r\nspring:  \r\n  autoconfigure:\r\n    exclude:\r\n      - org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration\r\n      - org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration\r\n      - org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration\r\n      - org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration\r\n\r\n```  ","title":"Cannot authenticate request for Spring Boot Integration Tests","body":"<p>I have followed the accepted workaround on <a href=\"https://stackoverflow.com/questions/44467133/spring-boot-authentication-for-integration-tests\">Spring Boot Authentication for Integration Tests</a> and apply the following approach to authenticate requests for Integration Tests:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@Transactional\n@ActiveProfiles(&quot;test&quot;)\n@EnableAutoConfiguration(\n        exclude = {\n        SecurityAutoConfiguration.class,\n          SecurityFilterAutoConfiguration.class,\n        // FallbackWebSecurityAutoConfiguration.class, // cannot find this ref\n        OAuth2ClientAutoConfiguration.class\n})\nabstract public class IntegrationTest {\n\n    @Autowired\n    protected MockMvc mvc;\n\n    @MockBean\n    protected AuthService authService;\n\n    @MockBean\n    protected JwtUtils jwtUtils;\n</code></pre>\n<p>And test class:</p>\n<pre><code>class ProductControllerTest extends IntegrationTest {\n\n    @Test\n    void findById() throws Exception {\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;Laptop&quot;)));\n    }\n</code></pre>\n<p>However, it does not make any sense and still gives &quot;AuthEntryPointJwt                        : Unauthorized error: Full authentication is required to access this resource&quot; error.</p>\n<p>I also tried to use second option via <code>application-test.yml</code>:</p>\n<pre><code>spring:  \n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration\n      - org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration\n      - org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration\n      - org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration\n\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"comments":[{"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"score":10,"creation_date":1380385906,"post_id":7438613,"comment_id":28185736,"body_markdown":"I&#39;d add `null != str &amp;&amp; ` at the beginning of the check.","body":"I&#39;d add <code>null != str &amp;&amp; </code> at the beginning of the check."},{"owner":{"account_id":638909,"reputation":5696,"user_id":414521,"accept_rate":97,"display_name":"SSpoke"},"score":15,"creation_date":1391925032,"post_id":7438613,"comment_id":32731042,"body_markdown":"you mean `str != null &amp;&amp;`!","body":"you mean <code>str != null &amp;&amp;</code>!"},{"owner":{"account_id":1811667,"reputation":20415,"user_id":1647597,"accept_rate":100,"display_name":"Marko"},"score":3,"creation_date":1403772102,"post_id":7438613,"comment_id":37790590,"body_markdown":"@SSpoke it&#39;s the same thing, yours is just a little nicer to read :)","body":"@SSpoke it&#39;s the same thing, yours is just a little nicer to read :)"},{"owner":{"account_id":638909,"reputation":5696,"user_id":414521,"accept_rate":97,"display_name":"SSpoke"},"score":6,"creation_date":1403810157,"post_id":7438613,"comment_id":37813579,"body_markdown":"@Marko lol yes since  it&#39;s the standard, feels odd when people make their own stuff up.","body":"@Marko lol yes since  it&#39;s the standard, feels odd when people make their own stuff up."},{"owner":{"account_id":389835,"reputation":12282,"user_id":749517,"accept_rate":80,"display_name":"Gyan aka Gary Buyn"},"score":0,"creation_date":1404077666,"post_id":7438613,"comment_id":37891978,"body_markdown":"@SSpoke @Marko I agree that yours is nicer to read SSpoke. The reason some people write it like VenomFangs did is that in some languages (I&#39;m looking at you C) will allow you to write `str = null` in an if statement but not `null = str` so putting the null first stops you from making that mistake.","body":"@SSpoke @Marko I agree that yours is nicer to read SSpoke. The reason some people write it like VenomFangs did is that in some languages (I&#39;m looking at you C) will allow you to write <code>str = null</code> in an if statement but not <code>null = str</code> so putting the null first stops you from making that mistake."},{"owner":{"account_id":4489466,"reputation":541,"user_id":3650944,"accept_rate":92,"display_name":"Adam Jensen"},"score":1,"creation_date":1406274289,"post_id":7438613,"comment_id":38777680,"body_markdown":"@GaryBuyn how does that stop you from making a mistake?","body":"@GaryBuyn how does that stop you from making a mistake?"},{"owner":{"account_id":389835,"reputation":12282,"user_id":749517,"accept_rate":80,"display_name":"Gyan aka Gary Buyn"},"score":35,"creation_date":1406334671,"post_id":7438613,"comment_id":38807046,"body_markdown":"@AdamJensen In C you could accidentally write `if (str = NULL)` which will not only always evaluate to false (NULL == 0 == false) but will also assign a value to `str` which is most likely not what you wanted to do. You could not write `if (NULL = str)` however because NULL is not a variable and cannot be assigned to. So, it is a safer convention to put the NULL on the left. This isn&#39;t an issue in Java though.","body":"@AdamJensen In C you could accidentally write <code>if (str = NULL)</code> which will not only always evaluate to false (NULL == 0 == false) but will also assign a value to <code>str</code> which is most likely not what you wanted to do. You could not write <code>if (NULL = str)</code> however because NULL is not a variable and cannot be assigned to. So, it is a safer convention to put the NULL on the left. This isn&#39;t an issue in Java though."},{"owner":{"account_id":1879420,"reputation":5451,"user_id":1699956,"accept_rate":83,"display_name":"Mangat Rai Modi"},"score":0,"creation_date":1414674861,"post_id":7438613,"comment_id":41910808,"body_markdown":"If I am right this will take O(n) time, i.e. JVM is going to scan the whole list, not O(1) as in C/C++, where they just move &#39;\\0&#39; value up?","body":"If I am right this will take O(n) time, i.e. JVM is going to scan the whole list, not O(1) as in C/C++, where they just move &#39;\\0&#39; value up?"},{"owner":{"account_id":3666751,"reputation":427,"user_id":3054986,"accept_rate":57,"display_name":"user3054986"},"score":0,"creation_date":1513857962,"post_id":7438613,"comment_id":82816749,"body_markdown":"@GaryBuyn C will warn you, or throw an error. see: -Wtautological-compare. So, it&#39;s completely save to use if( str = 0 ) these days...","body":"@GaryBuyn C will warn you, or throw an error. see: -Wtautological-compare. So, it&#39;s completely save to use if( str = 0 ) these days..."},{"owner":{"account_id":2793517,"reputation":3819,"user_id":2403253,"accept_rate":88,"display_name":"Justin Albano"},"score":1,"creation_date":1527090039,"post_id":7438613,"comment_id":87997784,"body_markdown":"`str.endsWith(&quot;x&quot;)` can also be used to find if the string `str` has a trailing `x`.","body":"<code>str.endsWith(&quot;x&quot;)</code> can also be used to find if the string <code>str</code> has a trailing <code>x</code>."},{"owner":{"account_id":4038832,"reputation":11673,"user_id":3322273,"accept_rate":73,"display_name":"SomethingSomething"},"score":0,"creation_date":1544011557,"post_id":7438613,"comment_id":94123245,"body_markdown":"@GaryBuyn the fact that numbers and null pointers are not interpreted as boolean expressions in Java saves you anyway.","body":"@GaryBuyn the fact that numbers and null pointers are not interpreted as boolean expressions in Java saves you anyway."},{"owner":{"account_id":4443960,"reputation":988,"user_id":3617811,"accept_rate":75,"display_name":"DraxDomax"},"score":0,"creation_date":1591192224,"post_id":7438613,"comment_id":109962097,"body_markdown":"[beginner java guy here] can you really do str = str.something() ? I mean, I can see that it works but surely this must go against the concept of String being immutable?","body":"[beginner java guy here] can you really do str = str.something() ? I mean, I can see that it works but surely this must go against the concept of String being immutable?"},{"owner":{"account_id":389835,"reputation":12282,"user_id":749517,"accept_rate":80,"display_name":"Gyan aka Gary Buyn"},"score":1,"creation_date":1592103591,"post_id":7438613,"comment_id":110302860,"body_markdown":"@DraxDomax In the example above, `str.substring(...)` creates a new `String` instance (it does not modify the original `String` instance). Then, the new `String` is assigned to the variable `str`, replacing the original (again, not modifying it). The original would then be garbage collected assuming there are no other references to it.","body":"@DraxDomax In the example above, <code>str.substring(...)</code> creates a new <code>String</code> instance (it does not modify the original <code>String</code> instance). Then, the new <code>String</code> is assigned to the variable <code>str</code>, replacing the original (again, not modifying it). The original would then be garbage collected assuming there are no other references to it."},{"owner":{"account_id":19894980,"reputation":453,"user_id":14576258,"display_name":"btm me"},"score":0,"creation_date":1652801915,"post_id":7438613,"comment_id":127692017,"body_markdown":"/data/user/0/com.app.imaged/cache/file_picker/Screenshot_2022-05-16-20-59-27-37.jpg || how to remove &quot; Screenshot_2022-05-16-20-59-27-37.jpg &quot; this only , last file name ? i need folder only","body":"/data/user/0/com.app.imaged/cache/file_picker/Screenshot_202&zwnj;&#8203;2-05-16-20-59-27-37.&zwnj;&#8203;jpg || how to remove &quot; Screenshot_2022-05-16-20-59-27-37.jpg &quot; this only , last file name ? i need folder only"},{"owner":{"account_id":18023325,"reputation":1762,"user_id":13099964,"display_name":"Raskul"},"score":0,"creation_date":1659947739,"post_id":7438613,"comment_id":129407296,"body_markdown":"It&#39;s obsolete now... `length()` is not a function anymore but the rest is working just replace `str.length()` with `str.length` and it will work well","body":"It&#39;s obsolete now... <code>length()</code> is not a function anymore but the rest is working just replace <code>str.length()</code> with <code>str.length</code> and it will work well"}],"tags":[],"owner":{"account_id":389835,"reputation":12282,"user_id":749517,"accept_rate":80,"display_name":"Gyan aka Gary Buyn"},"comment_count":15,"down_vote_count":3,"up_vote_count":802,"is_accepted":true,"score":799,"last_activity_date":1497220355,"creation_date":1316128885,"answer_id":7438613,"question_id":7438612,"body_markdown":"`replace` will replace all instances of a letter. All you need to do is use [`substring()`][1]:\r\n\r\n    public String method(String str) {\r\n        if (str != null &amp;&amp; str.length() &gt; 0 &amp;&amp; str.charAt(str.length() - 1) == &#39;x&#39;) {\r\n            str = str.substring(0, str.length() - 1);\r\n        }\r\n        return str;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)","title":"How to remove the last character from a string?","body":"<p><code>replace</code> will replace all instances of a letter. All you need to do is use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\" rel=\"noreferrer\"><code>substring()</code></a>:</p>\n\n<pre><code>public String method(String str) {\n    if (str != null &amp;&amp; str.length() &gt; 0 &amp;&amp; str.charAt(str.length() - 1) == 'x') {\n        str = str.substring(0, str.length() - 1);\n    }\n    return str;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":989904,"reputation":6498,"user_id":1007504,"accept_rate":90,"display_name":"Robert Allan Hennigan Leahy"},"score":4,"creation_date":1369061346,"post_id":7447481,"comment_id":23952286,"body_markdown":"What if the last character is a high/low surrogate pair?","body":"What if the last character is a high/low surrogate pair?"},{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":0,"creation_date":1528492743,"post_id":7447481,"comment_id":88544459,"body_markdown":"@RobertAllanHenniganLeahy I posted an [answer](https://stackoverflow.com/a/50768270/7098259) that handles that scenario.","body":"@RobertAllanHenniganLeahy I posted an <a href=\"https://stackoverflow.com/a/50768270/7098259\">answer</a> that handles that scenario."}],"tags":[],"owner":{"account_id":908826,"reputation":596,"user_id":943150,"display_name":"BobBobBob"},"comment_count":2,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1316188968,"creation_date":1316188968,"answer_id":7447481,"question_id":7438612,"body_markdown":"    public String removeLastChar(String s) {\r\n        if (s == null || s.length() == 0) {\r\n            return s;\r\n        }\r\n        return s.substring(0, s.length()-1);\r\n    }","title":"How to remove the last character from a string?","body":"<pre><code>public String removeLastChar(String s) {\n    if (s == null || s.length() == 0) {\n        return s;\n    }\n    return s.substring(0, s.length()-1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1499886,"reputation":2385,"user_id":1404898,"accept_rate":94,"display_name":"KDjava"},"score":10,"creation_date":1356171830,"post_id":14001872,"comment_id":19329362,"body_markdown":"The check for null and empty string should be considered.. @BobBobBob version is better","body":"The check for null and empty string should be considered.. @BobBobBob version is better"},{"owner":{"account_id":1066374,"reputation":31120,"user_id":1066828,"accept_rate":95,"display_name":"Fahim Parkar"},"score":1,"creation_date":1356174208,"post_id":14001872,"comment_id":19329791,"body_markdown":"@KDjava : above is valid with considering that valid string is passed. else I would have to add the try catch block also to check that string is correct...","body":"@KDjava : above is valid with considering that valid string is passed. else I would have to add the try catch block also to check that string is correct..."},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1373178252,"post_id":14001872,"comment_id":25456434,"body_markdown":"i added check for null string before `return str.substring(0,str.length()-1);` as improvement","body":"i added check for null string before <code>return str.substring(0,str.length()-1);</code> as improvement"},{"owner":{"account_id":2032285,"reputation":2727,"user_id":1815624,"accept_rate":71,"display_name":"CrandellWS"},"score":0,"creation_date":1461805597,"post_id":14001872,"comment_id":61370810,"body_markdown":"Thanks this source is in use at https://gist.github.com/CrandellWS/e254a215c54aa4be0400a3511a23f730","body":"Thanks this source is in use at <a href=\"https://gist.github.com/CrandellWS/e254a215c54aa4be0400a3511a23f730\" rel=\"nofollow noreferrer\">gist.github.com/CrandellWS/e254a215c54aa4be0400a3511a23f730</a>"},{"owner":{"account_id":3224397,"reputation":121,"user_id":2721076,"accept_rate":80,"display_name":"Ash18"},"score":0,"creation_date":1537183920,"post_id":14001872,"comment_id":91677623,"body_markdown":"@FahimParkar: Because it may be possible that last character is not the character that we want to remove. But as per the question, your answer is correct","body":"@FahimParkar: Because it may be possible that last character is not the character that we want to remove. But as per the question, your answer is correct"}],"tags":[],"owner":{"account_id":1066374,"reputation":31120,"user_id":1066828,"accept_rate":95,"display_name":"Fahim Parkar"},"comment_count":5,"down_vote_count":4,"up_vote_count":283,"is_accepted":false,"score":279,"last_activity_date":1679322432,"creation_date":1356170465,"answer_id":14001872,"question_id":7438612,"body_markdown":"Why not just one liner?\r\n\r\n\r\n    public static String removeLastChar(String str) {\r\n        return removeChars(str, 1);\r\n    }\r\n\r\n    public static String removeChars(String str, int numberOfCharactersToRemove) {\r\n    \tif(str != null &amp;&amp; !str.trim().isEmpty()) {\r\n        \treturn str.substring(0, str.length() - numberOfCharactersToRemove);\r\n    \t}\r\n    \treturn &quot;&quot;;\r\n    }\r\n\r\nFull Code\r\n    \r\n    public class Main\r\n    {\r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            String s1 = &quot;Remove Last CharacterY&quot;;\r\n            String s2 = &quot;Remove Last Character2&quot;;\r\n            String s3 = &quot;N&quot;;\r\n            String s4 = null;\r\n            String s5 = &quot;&quot;;\r\n            System.out.println(&quot;After removing s1==&quot; + removeLastChar(s1) + &quot;==&quot;);\r\n            System.out.println(&quot;After removing s2==&quot; + removeLastChar(s2) + &quot;==&quot;);\r\n            System.out.println(&quot;After removing s3==&quot; + removeLastChar(s3) + &quot;==&quot;);\r\n            System.out.println(&quot;After removing s4==&quot; + removeLastChar(s4) + &quot;==&quot;);\r\n            System.out.println(&quot;After removing s5==&quot; + removeLastChar(s5) + &quot;==&quot;);\r\n            }\r\n        \r\n        public static String removeLastChar(String str) {\r\n            return removeChars(str, 1);\r\n        }\r\n    \r\n        public static String removeChars(String str, int numberOfCharactersToRemove) {\r\n        \tif(str != null &amp;&amp; !str.trim().isEmpty()) {\r\n            \treturn str.substring(0, str.length() - numberOfCharactersToRemove);\r\n        \t}\r\n        \treturn &quot;&quot;;\r\n        }\r\n    }\r\n\r\n[Demo](https://ideone.com/Q6a3CC)\r\n-","title":"How to remove the last character from a string?","body":"<p>Why not just one liner?</p>\n<pre><code>public static String removeLastChar(String str) {\n    return removeChars(str, 1);\n}\n\npublic static String removeChars(String str, int numberOfCharactersToRemove) {\n    if(str != null &amp;&amp; !str.trim().isEmpty()) {\n        return str.substring(0, str.length() - numberOfCharactersToRemove);\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>Full Code</p>\n<pre><code>public class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String s1 = &quot;Remove Last CharacterY&quot;;\n        String s2 = &quot;Remove Last Character2&quot;;\n        String s3 = &quot;N&quot;;\n        String s4 = null;\n        String s5 = &quot;&quot;;\n        System.out.println(&quot;After removing s1==&quot; + removeLastChar(s1) + &quot;==&quot;);\n        System.out.println(&quot;After removing s2==&quot; + removeLastChar(s2) + &quot;==&quot;);\n        System.out.println(&quot;After removing s3==&quot; + removeLastChar(s3) + &quot;==&quot;);\n        System.out.println(&quot;After removing s4==&quot; + removeLastChar(s4) + &quot;==&quot;);\n        System.out.println(&quot;After removing s5==&quot; + removeLastChar(s5) + &quot;==&quot;);\n        }\n    \n    public static String removeLastChar(String str) {\n        return removeChars(str, 1);\n    }\n\n    public static String removeChars(String str, int numberOfCharactersToRemove) {\n        if(str != null &amp;&amp; !str.trim().isEmpty()) {\n            return str.substring(0, str.length() - numberOfCharactersToRemove);\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<h2><a href=\"https://ideone.com/Q6a3CC\" rel=\"noreferrer\">Demo</a></h2>\n"},{"comments":[{"owner":{"account_id":435100,"reputation":1975,"user_id":821491,"accept_rate":70,"display_name":"Tony H."},"score":0,"creation_date":1529626680,"post_id":15900408,"comment_id":88953860,"body_markdown":"Here&#39;s the JAR for the aforementioned StringUtils: https://commons.apache.org/proper/commons-lang/download_lang.cgi","body":"Here&#39;s the JAR for the aforementioned StringUtils: <a href=\"https://commons.apache.org/proper/commons-lang/download_lang.cgi\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/download_lang.cgi</a>"}],"tags":[],"owner":{"account_id":1341525,"reputation":1057,"user_id":1283099,"display_name":"Mart135688"},"comment_count":1,"down_vote_count":2,"up_vote_count":101,"is_accepted":false,"score":99,"last_activity_date":1495610992,"creation_date":1365506218,"answer_id":15900408,"question_id":7438612,"body_markdown":"The described problem and proposed solutions sometimes relate to removing separators. If this is your case, then have a look at Apache Commons StringUtils, it has a method called [removeEnd][1] which is very elegant.\r\n\r\nExample:\r\n\r\n    StringUtils.removeEnd(&quot;string 1|string 2|string 3|&quot;, &quot;|&quot;);\r\n\r\nWould result in:\r\n&quot;string 1|string 2|string 3&quot;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#removeEnd-java.lang.String-java.lang.String-","title":"How to remove the last character from a string?","body":"<p>The described problem and proposed solutions sometimes relate to removing separators. If this is your case, then have a look at Apache Commons StringUtils, it has a method called <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#removeEnd-java.lang.String-java.lang.String-\" rel=\"noreferrer\">removeEnd</a> which is very elegant.</p>\n\n<p>Example:</p>\n\n<pre><code>StringUtils.removeEnd(\"string 1|string 2|string 3|\", \"|\");\n</code></pre>\n\n<p>Would result in:\n\"string 1|string 2|string 3\"</p>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1369060843,"creation_date":1369060843,"answer_id":16651965,"question_id":7438612,"body_markdown":"    if (str.endsWith(&quot;x&quot;)) {\n      return str.substring(0, str.length() - 1);\n    }\n    return str;\n\n---\n\n&gt; For example, the word is &quot;admirer&quot;; after I run the method, I get &quot;admie.&quot; I want it to return the word admire.\n\nIn case you&#39;re trying to [stem](http://en.wikipedia.org/wiki/Stemming) English words\n\n&gt; Stemming is the process for reducing inflected (or sometimes derived) words to their stem, base or root formgenerally a written word form.\n&gt;\n&gt; ...\n&gt;\n&gt; A stemmer for English, for example, should identify the string &quot;cats&quot; (and possibly &quot;catlike&quot;, &quot;catty&quot; etc.) as based on the root &quot;cat&quot;, and &quot;stemmer&quot;, &quot;stemming&quot;, &quot;stemmed&quot; as based on &quot;stem&quot;. A stemming algorithm reduces the words &quot;fishing&quot;, &quot;fished&quot;, &quot;fish&quot;, and &quot;fisher&quot; to the root word, &quot;fish&quot;.\n\nhttps://stackoverflow.com/questions/5068790/difference-between-lucene-stemmers-englishstemmer-porterstemmer-lovinsstemmer outlines some Java options.","title":"How to remove the last character from a string?","body":"<pre><code>if (str.endsWith(&quot;x&quot;)) {\n  return str.substring(0, str.length() - 1);\n}\nreturn str;\n</code></pre>\n<hr />\n<blockquote>\n<p>For example, the word is &quot;admirer&quot;; after I run the method, I get &quot;admie.&quot; I want it to return the word admire.</p>\n</blockquote>\n<p>In case you're trying to <a href=\"http://en.wikipedia.org/wiki/Stemming\" rel=\"noreferrer\">stem</a> English words</p>\n<blockquote>\n<p>Stemming is the process for reducing inflected (or sometimes derived) words to their stem, base or root formgenerally a written word form.</p>\n<p>...</p>\n<p>A stemmer for English, for example, should identify the string &quot;cats&quot; (and possibly &quot;catlike&quot;, &quot;catty&quot; etc.) as based on the root &quot;cat&quot;, and &quot;stemmer&quot;, &quot;stemming&quot;, &quot;stemmed&quot; as based on &quot;stem&quot;. A stemming algorithm reduces the words &quot;fishing&quot;, &quot;fished&quot;, &quot;fish&quot;, and &quot;fisher&quot; to the root word, &quot;fish&quot;.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/questions/5068790/difference-between-lucene-stemmers-englishstemmer-porterstemmer-lovinsstemmer\">Difference between Lucene stemmers: EnglishStemmer, PorterStemmer, LovinsStemmer</a> outlines some Java options.</p>\n"},{"comments":[{"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"score":3,"creation_date":1468588579,"post_id":18460535,"comment_id":64202464,"body_markdown":"nice way, when you want/need to define exactly what you want to trim from the end of the string, not just X whatever chars","body":"nice way, when you want/need to define exactly what you want to trim from the end of the string, not just X whatever chars"}],"tags":[],"owner":{"account_id":1860033,"reputation":1349,"user_id":1684771,"display_name":"iddqd"},"comment_count":1,"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1377591954,"creation_date":1377591954,"answer_id":18460535,"question_id":7438612,"body_markdown":"Since we&#39;re on a subject, one can use regular expressions too\r\n   \r\n    &quot;aaabcd&quot;.replaceFirst(&quot;.$&quot;,&quot;&quot;); //=&gt; aaabc\t\r\n","title":"How to remove the last character from a string?","body":"<p>Since we're on a subject, one can use regular expressions too</p>\n\n<pre><code>\"aaabcd\".replaceFirst(\".$\",\"\"); //=&gt; aaabc  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3610890,"reputation":883,"user_id":3011871,"display_name":"Navaneeth"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1399617927,"creation_date":1385550593,"answer_id":20240856,"question_id":7438612,"body_markdown":"Use this:\r\n\r\n     if(string.endsWith(&quot;x&quot;)) {\r\n\r\n  \t\tstring= string.substring(0, string.length() - 1);\r\n     }","title":"How to remove the last character from a string?","body":"<p>Use this:</p>\n\n<pre><code> if(string.endsWith(\"x\")) {\n\n    string= string.substring(0, string.length() - 1);\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3613080,"reputation":2890,"user_id":3013633,"accept_rate":93,"display_name":"iaforek"},"score":2,"creation_date":1495027591,"post_id":20520098,"comment_id":75078735,"body_markdown":"If you want to remove the last character ONLY - this is the best answer!","body":"If you want to remove the last character ONLY - this is the best answer!"},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1553788780,"post_id":20520098,"comment_id":97524692,"body_markdown":"No it isn&#39;t, because &quot;use Java&quot; is a terrible answer to a Kotlin question.","body":"No it isn&#39;t, because &quot;use Java&quot; is a terrible answer to a Kotlin question."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":5,"creation_date":1553844900,"post_id":20520098,"comment_id":97544374,"body_markdown":"@MikkelL&#248;kke I don&#39;t know, but this question is not a Kotlin question in any case??","body":"@MikkelL&#248;kke I don&#39;t know, but this question is not a Kotlin question in any case??"}],"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"down_vote_count":4,"up_vote_count":45,"is_accepted":false,"score":41,"last_activity_date":1495610976,"creation_date":1386767592,"answer_id":20520098,"question_id":7438612,"body_markdown":"Don&#39;t try to reinvent the wheel, while others have already written libraries to perform string manipulation: \r\n[`org.apache.commons.lang3.StringUtils.chop()`][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#chop%28java.lang.String%29","title":"How to remove the last character from a string?","body":"<p>Don't try to reinvent the wheel, while others have already written libraries to perform string manipulation: \n<a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#chop%28java.lang.String%29\" rel=\"noreferrer\"><code>org.apache.commons.lang3.StringUtils.chop()</code></a></p>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386919183,"creation_date":1386919183,"answer_id":20561131,"question_id":7438612,"body_markdown":"    public String removeLastChar(String s) {\r\n        if (!Util.isEmpty(s)) {\r\n            s = s.substring(0, s.length()-1);\r\n        }\r\n        return s;\r\n    }","title":"How to remove the last character from a string?","body":"<pre><code>public String removeLastChar(String s) {\n    if (!Util.isEmpty(s)) {\n        s = s.substring(0, s.length()-1);\n    }\n    return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1636994,"reputation":5315,"user_id":1510222,"accept_rate":50,"display_name":"Arkadiusz Cieliski"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1389438248,"creation_date":1389437483,"answer_id":21061355,"question_id":7438612,"body_markdown":"removes last occurence of the &#39;xxx&#39;:\r\n\r\n        System.out.println(&quot;aaa xxx aaa xxx &quot;.replaceAll(&quot;xxx([^xxx]*)$&quot;, &quot;$1&quot;));\r\n\r\nremoves last occurrence of the &#39;xxx&#39; if it is last:\r\n\r\n        System.out.println(&quot;aaa xxx aaa  &quot;.replaceAll(&quot;xxx\\\\s*$&quot;, &quot;&quot;));\r\n\r\nyou can replace the &#39;xxx&#39; on what you want but watch out on special chars","title":"How to remove the last character from a string?","body":"<p>removes last occurence of the 'xxx':</p>\n\n<pre><code>    System.out.println(\"aaa xxx aaa xxx \".replaceAll(\"xxx([^xxx]*)$\", \"$1\"));\n</code></pre>\n\n<p>removes last occurrence of the 'xxx' if it is last:</p>\n\n<pre><code>    System.out.println(\"aaa xxx aaa  \".replaceAll(\"xxx\\\\s*$\", \"\"));\n</code></pre>\n\n<p>you can replace the 'xxx' on what you want but watch out on special chars</p>\n"},{"tags":[],"owner":{"account_id":3162068,"reputation":5916,"user_id":2672913,"accept_rate":88,"display_name":"Nick Louloudakis"},"comment_count":0,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1466092189,"creation_date":1408578920,"answer_id":25416292,"question_id":7438612,"body_markdown":"A one-liner answer (just a *funny alternative* - do not try this at home, and great answers already given):\r\n\r\n    public String removeLastChar(String s){return (s != null &amp;&amp; s.length() != 0) ? s.substring(0, s.length() - 1): s;}","title":"How to remove the last character from a string?","body":"<p>A one-liner answer (just a <em>funny alternative</em> - do not try this at home, and great answers already given):</p>\n\n<pre><code>public String removeLastChar(String s){return (s != null &amp;&amp; s.length() != 0) ? s.substring(0, s.length() - 1): s;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5734915,"reputation":21,"user_id":4529394,"display_name":"Oleksandr Paldypanida"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446192779,"creation_date":1429646359,"answer_id":29781957,"question_id":7438612,"body_markdown":"    // Remove n last characters  \r\n    // System.out.println(removeLast(&quot;Hello!!!333&quot;,3));\r\n\r\n    public String removeLast(String mes, int n) {\r\n        return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.length()&gt;n\r\n             ? mes.substring(0, mes.length()-n): mes;\r\n    }\r\n\r\n    // Leave substring before character/string  \r\n    // System.out.println(leaveBeforeChar(&quot;Hello!!!123&quot;, &quot;1&quot;));\r\n\r\n    public String leaveBeforeChar(String mes, String last) {\r\n        return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.lastIndexOf(last)!=-1\r\n             ? mes.substring(0, mes.lastIndexOf(last)): mes;\r\n    }","title":"How to remove the last character from a string?","body":"<pre><code>// Remove n last characters  \n// System.out.println(removeLast(\"Hello!!!333\",3));\n\npublic String removeLast(String mes, int n) {\n    return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.length()&gt;n\n         ? mes.substring(0, mes.length()-n): mes;\n}\n\n// Leave substring before character/string  \n// System.out.println(leaveBeforeChar(\"Hello!!!123\", \"1\"));\n\npublic String leaveBeforeChar(String mes, String last) {\n    return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.lastIndexOf(last)!=-1\n         ? mes.substring(0, mes.lastIndexOf(last)): mes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6605136,"reputation":41,"user_id":5102154,"display_name":"aeocom"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436519600,"creation_date":1436519600,"answer_id":31336903,"question_id":7438612,"body_markdown":"Look to StringBuilder Class :\r\n\r\n \t\tStringBuilder sb=new StringBuilder(&quot;toto,&quot;);\r\n\t\tSystem.out.println(sb.deleteCharAt(sb.length()-1));//display &quot;toto&quot;","title":"How to remove the last character from a string?","body":"<p>Look to StringBuilder Class :</p>\n\n<pre><code>    StringBuilder sb=new StringBuilder(\"toto,\");\n    System.out.println(sb.deleteCharAt(sb.length()-1));//display \"toto\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2631206,"reputation":221,"user_id":2277110,"display_name":"Moad Meftah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438334444,"creation_date":1438334444,"answer_id":31742558,"question_id":7438612,"body_markdown":"if you have special character like ; in json just use String.replace(&quot;;&quot;, &quot;&quot;) otherwise you must rewrite all character in string minus the last.","title":"How to remove the last character from a string?","body":"<p>if you have special character like ; in json just use String.replace(\";\", \"\") otherwise you must rewrite all character in string minus the last.</p>\n"},{"tags":[],"owner":{"account_id":5858037,"reputation":107,"user_id":4614697,"display_name":"Donoso"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1594984931,"creation_date":1445499499,"answer_id":33275640,"question_id":7438612,"body_markdown":"     string = string.substring(0, (string.length() - 1));\r\n\r\n\r\nI&#39;m using this in my code, it&#39;s easy and simple.\r\nit only works while the String is &gt; 0.\r\nI have it connected to a button and inside the following *if* statement \r\n\r\n\r\n    if (string.length() &gt; 0) {\r\n        string = string.substring(0, (string.length() - 1));\r\n    }\r\n","title":"How to remove the last character from a string?","body":"<pre><code> string = string.substring(0, (string.length() - 1));\n</code></pre>\n<p>I'm using this in my code, it's easy and simple.\nit only works while the String is &gt; 0.\nI have it connected to a button and inside the following <em>if</em> statement</p>\n<pre><code>if (string.length() &gt; 0) {\n    string = string.substring(0, (string.length() - 1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8341805,"reputation":7,"user_id":6266891,"display_name":"alagu raja"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1472627466,"creation_date":1472624678,"answer_id":39242157,"question_id":7438612,"body_markdown":"This is the one way to remove the last character in the string:\r\n\r\n    Scanner in = new Scanner(System.in);\r\n    String s = in.nextLine();\r\n    char array[] = s.toCharArray();\r\n    int l = array.length;\r\n    for (int i = 0; i &lt; l-1; i++) {\r\n        System.out.print(array[i]);\r\n    }\r\n","title":"How to remove the last character from a string?","body":"<p>This is the one way to remove the last character in the string:</p>\n\n<pre><code>Scanner in = new Scanner(System.in);\nString s = in.nextLine();\nchar array[] = s.toCharArray();\nint l = array.length;\nfor (int i = 0; i &lt; l-1; i++) {\n    System.out.print(array[i]);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8057826,"reputation":2194,"user_id":6568784,"accept_rate":90,"display_name":"baranskistad"},"score":0,"creation_date":1525392192,"post_id":40931439,"comment_id":87348543,"body_markdown":"Isn&#39;t this Java. LMAO","body":"Isn&#39;t this Java. LMAO"},{"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"score":0,"creation_date":1537261475,"post_id":40931439,"comment_id":91709886,"body_markdown":"Special behaviour of &#39;\\b&#39; is interpreted by string reader, text terminals etc.. otherwise it&#39;s just another ASCII character representation. https://stackoverflow.com/a/11891895/4589003","body":"Special behaviour of &#39;\\b&#39; is interpreted by string reader, text terminals etc.. otherwise it&#39;s just another ASCII character representation. <a href=\"https://stackoverflow.com/a/11891895/4589003\">stackoverflow.com/a/11891895/4589003</a>"}],"tags":[],"owner":{"account_id":5759553,"reputation":4140,"user_id":4546390,"accept_rate":67,"display_name":"Tilak Madichetti"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1480679023,"creation_date":1480679023,"answer_id":40931439,"question_id":7438612,"body_markdown":"Why not use the &lt;a href=&quot;https://docs.oracle.com/javase/tutorial/java/data/characters.html&quot;&gt;escape sequence&lt;/a&gt; ... !\r\n\r\n\r\n    System.out.println(str + &#39;\\b&#39;);\r\n\r\n\r\nLife is much easier now . XD ! ~ A readable one-liner","title":"How to remove the last character from a string?","body":"<p>Why not use the <a href=\"https://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"nofollow noreferrer\">escape sequence</a> ... !</p>\n\n<pre><code>System.out.println(str + '\\b');\n</code></pre>\n\n<p>Life is much easier now . XD ! ~ A readable one-liner</p>\n"},{"comments":[{"owner":{"account_id":3613080,"reputation":2890,"user_id":3013633,"accept_rate":93,"display_name":"iaforek"},"score":1,"creation_date":1495027801,"post_id":41175197,"comment_id":75078935,"body_markdown":"I wouldn&#39;t say this is the best answer - for simplicity use org.apache.commons.lang.StringUtils.chop() method. Yet, the trick with -1 is really nice and looking at the other answers is not really used / well known.","body":"I wouldn&#39;t say this is the best answer - for simplicity use org.apache.commons.lang.StringUtils.chop() method. Yet, the trick with -1 is really nice and looking at the other answers is not really used / well known."}],"tags":[],"owner":{"account_id":112789,"reputation":3335,"user_id":297376,"accept_rate":83,"display_name":"Kasturi"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1481845717,"creation_date":1481845717,"answer_id":41175197,"question_id":7438612,"body_markdown":"As far as the readability is concerned, I find this to be the most concise\r\n\r\n    StringUtils.substring(&quot;string&quot;, 0, -1);\r\n\r\nThe negative indexes can be used in Apache&#39;s StringUtils utility.\r\nAll negative numbers are treated from offset from the end of the string.","title":"How to remove the last character from a string?","body":"<p>As far as the readability is concerned, I find this to be the most concise</p>\n\n<pre><code>StringUtils.substring(\"string\", 0, -1);\n</code></pre>\n\n<p>The negative indexes can be used in Apache's StringUtils utility.\nAll negative numbers are treated from offset from the end of the string.</p>\n"},{"tags":[],"owner":{"account_id":11758064,"reputation":63,"user_id":8605113,"display_name":"Jacob Mehnert"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1578000750,"creation_date":1510110247,"answer_id":47170916,"question_id":7438612,"body_markdown":"I had to write code for a similar problem. One way that I was able to solve it used a recursive method of coding.\r\n\r\n    static String removeChar(String word, char charToRemove)\r\n    {\r\n        for(int i = 0; i &lt; word.lenght(); i++)\r\n        {\r\n            if(word.charAt(i) == charToRemove)\r\n            {\r\n                String newWord = word.substring(0, i) + word.substring(i + 1);\r\n                return removeChar(newWord, charToRemove);\r\n            }\r\n        }\r\n\r\n        return word;\r\n    }\r\n\r\nMost of the code I&#39;ve seen on this topic doesn&#39;t use recursion so hopefully I can help you or someone who has the same problem.","title":"How to remove the last character from a string?","body":"<p>I had to write code for a similar problem. One way that I was able to solve it used a recursive method of coding.</p>\n\n<pre><code>static String removeChar(String word, char charToRemove)\n{\n    for(int i = 0; i &lt; word.lenght(); i++)\n    {\n        if(word.charAt(i) == charToRemove)\n        {\n            String newWord = word.substring(0, i) + word.substring(i + 1);\n            return removeChar(newWord, charToRemove);\n        }\n    }\n\n    return word;\n}\n</code></pre>\n\n<p>Most of the code I've seen on this topic doesn't use recursion so hopefully I can help you or someone who has the same problem.</p>\n"},{"tags":[],"owner":{"account_id":4673617,"reputation":419,"user_id":3784758,"display_name":"Nadhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517324299,"creation_date":1517324299,"answer_id":48524408,"question_id":7438612,"body_markdown":"&lt;p&gt;Java 8&lt;/p&gt;   \r\n    \r\n    import java.util.Optional;\r\n    \r\n    public class Test\r\n    {\r\n      public static void main(String[] args) throws InterruptedException\r\n      {\r\n        System.out.println(removeLastChar(&quot;test-abc&quot;));\r\n      }\r\n    \r\n      public static String removeLastChar(String s) {\r\n        return Optional.ofNullable(s)\r\n          .filter(str -&gt; str.length() != 0)\r\n          .map(str -&gt; str.substring(0, str.length() - 1))\r\n          .orElse(s);\r\n        }\r\n    }\r\n&lt;p&gt;Output : test-ab&lt;/p&gt;\r\n","title":"How to remove the last character from a string?","body":"<p>Java 8</p>   \n\n<pre><code>import java.util.Optional;\n\npublic class Test\n{\n  public static void main(String[] args) throws InterruptedException\n  {\n    System.out.println(removeLastChar(\"test-abc\"));\n  }\n\n  public static String removeLastChar(String s) {\n    return Optional.ofNullable(s)\n      .filter(str -&gt; str.length() != 0)\n      .map(str -&gt; str.substring(0, str.length() - 1))\n      .orElse(s);\n    }\n}\n</code></pre>\n\n<p>Output : test-ab</p>\n"},{"tags":[],"owner":{"account_id":13655485,"reputation":17,"user_id":9852123,"display_name":"simon francis"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527370438,"creation_date":1527360554,"answer_id":50546036,"question_id":7438612,"body_markdown":"How to make the char in the recursion at the end:\r\n\r\n    public static String  removeChar(String word, char charToRemove)\r\n    \t{\r\n    \t\tString char_toremove=Character.toString(charToRemove);\r\n    \t\tfor(int i = 0; i &lt; word.length(); i++)\r\n    \t\t{\r\n    \t\t\tif(word.charAt(i) == charToRemove)\r\n    \t\t\t{\r\n    \t\t\t\tString newWord = word.substring(0, i) + word.substring(i + 1);\r\n    \t\t\t\treturn removeChar(newWord,charToRemove);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(word);\r\n    \t\treturn word;\r\n    \t}\r\n\r\n\r\n\r\n\r\nfor exemple:\r\n\r\n    removeChar (&quot;hello world, let&#39;s go!&quot;,&#39;l&#39;)  &quot;heo word, et&#39;s go!llll&quot;\r\n    removeChar(&quot;you should not go&quot;,&#39;o&#39;)  &quot;yu shuld nt goooo&quot;\r\n\r\n","title":"How to remove the last character from a string?","body":"<p>How to make the char in the recursion at the end:</p>\n\n<pre><code>public static String  removeChar(String word, char charToRemove)\n    {\n        String char_toremove=Character.toString(charToRemove);\n        for(int i = 0; i &lt; word.length(); i++)\n        {\n            if(word.charAt(i) == charToRemove)\n            {\n                String newWord = word.substring(0, i) + word.substring(i + 1);\n                return removeChar(newWord,charToRemove);\n            }\n        }\n        System.out.println(word);\n        return word;\n    }\n</code></pre>\n\n<p>for exemple:</p>\n\n<pre><code>removeChar (\"hello world, let's go!\",'l')  \"heo word, et's go!llll\"\nremoveChar(\"you should not go\",'o')  \"yu shuld nt goooo\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528492638,"creation_date":1528491283,"answer_id":50768270,"question_id":7438612,"body_markdown":"Here&#39;s an answer that works with codepoints outside of the Basic Multilingual Plane (Java 8+).\r\n\r\nUsing streams:\r\n\r\n\tpublic String method(String str) {\r\n\t\treturn str.codePoints()\r\n\t\t\t\t.limit(str.codePoints().count() - 1)\r\n\t\t\t\t.mapToObj(i-&gt;new String(Character.toChars(i)))\r\n\t\t\t\t.collect(Collectors.joining());\r\n\t}\r\n\r\nMore efficient maybe:\r\n\r\n\tpublic String method(String str) {\r\n\t\treturn str.isEmpty()? &quot;&quot;: str.substring(0, str.length() - Character.charCount(str.codePointBefore(str.length())));\r\n\t}\r\n","title":"How to remove the last character from a string?","body":"<p>Here's an answer that works with codepoints outside of the Basic Multilingual Plane (Java 8+).</p>\n\n<p>Using streams:</p>\n\n<pre><code>public String method(String str) {\n    return str.codePoints()\n            .limit(str.codePoints().count() - 1)\n            .mapToObj(i-&gt;new String(Character.toChars(i)))\n            .collect(Collectors.joining());\n}\n</code></pre>\n\n<p>More efficient maybe:</p>\n\n<pre><code>public String method(String str) {\n    return str.isEmpty()? \"\": str.substring(0, str.length() - Character.charCount(str.codePointBefore(str.length())));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5312458,"reputation":347,"user_id":4238275,"display_name":"Bachan Joseph"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1531239807,"creation_date":1531239807,"answer_id":51270120,"question_id":7438612,"body_markdown":"     // creating StringBuilder\r\n     StringBuilder builder = new StringBuilder(requestString);\r\n     // removing last character from String\r\n     builder.deleteCharAt(requestString.length() - 1);\r\n\r\n","title":"How to remove the last character from a string?","body":"<pre><code> // creating StringBuilder\n StringBuilder builder = new StringBuilder(requestString);\n // removing last character from String\n builder.deleteCharAt(requestString.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9296346,"reputation":1493,"user_id":6903132,"display_name":"Mahavir Jain"},"comment_count":0,"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1563195658,"creation_date":1548333124,"answer_id":54346771,"question_id":7438612,"body_markdown":"In Kotlin you can used dropLast() method of the string class.\r\nIt will drop the given number from string, return a new string\r\n\r\n    var string1 = &quot;Some Text&quot;\r\n    string1 = string1.dropLast(1)\r\n\r\n \r\n\r\n","title":"How to remove the last character from a string?","body":"<p>In Kotlin you can used dropLast() method of the string class.\nIt will drop the given number from string, return a new string</p>\n\n<pre><code>var string1 = \"Some Text\"\nstring1 = string1.dropLast(1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15153779,"reputation":1,"user_id":10935313,"display_name":"abd ak"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1549492720,"creation_date":1549492720,"answer_id":54563639,"question_id":7438612,"body_markdown":"u can do i\r\nhereString =  hereString.replace(hereString.chatAt(hereString.length() - 1) ,&#39; whitespeace&#39;); ","title":"How to remove the last character from a string?","body":"<p>u can do i\nhereString =  hereString.replace(hereString.chatAt(hereString.length() - 1) ,' whitespeace'); </p>\n"},{"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1565789332,"post_id":57322875,"comment_id":101461146,"body_markdown":"On a corner case : can this ever throw `IndexOutOfBoundsException` ? (e.g. is it possible that Character.isSurrogate returns true when there is actually no char before it, making `str.length()-cut` negative).","body":"On a corner case : can this ever throw <code>IndexOutOfBoundsException</code> ? (e.g. is it possible that Character.isSurrogate returns true when there is actually no char before it, making <code>str.length()-cut</code> negative)."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1565819365,"post_id":57322875,"comment_id":101473960,"body_markdown":"Yes, that&#39;s possible. It&#39;s an invalid string anyway, but still  it&#39;s possible, yes. One should then replace `2` by `Math.min(2, str.length())`.","body":"Yes, that&#39;s possible. It&#39;s an invalid string anyway, but still  it&#39;s possible, yes. One should then replace <code>2</code> by <code>Math.min(2, str.length())</code>."}],"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564735495,"creation_date":1564735495,"answer_id":57322875,"question_id":7438612,"body_markdown":"Most answers here forgot about [***surrogate pairs***][1].\r\n\r\nFor instance, the character &#120171; (codepoint U+1D56B) does not fit into a single `char`, so in order to be represented, it must form a surrogate pair of two chars.\r\n\r\nIf one simply applies the currently accepted answer (using `str.substring(0, str.length() - 1)`, one splices the surrogate pair, leading to unexpected results.\r\n\r\nOne should also include a check whether the last character is a surrogate pair:\r\n\r\n    public static String removeLastChar(String str) {\r\n        Objects.requireNonNull(str, &quot;The string should not be null&quot;);\r\n        if (str.isEmpty()) {\r\n            return str;\r\n        }\r\n\r\n\t\tchar lastChar = str.charAt(str.length() - 1);\r\n\t\tint cut = Character.isSurrogate(lastChar) ? 2 : 1;\r\n\t\treturn str.substring(0, str.length() - cut);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5903008/what-is-a-surrogate-pair-in-java","title":"How to remove the last character from a string?","body":"<p>Most answers here forgot about <a href=\"https://stackoverflow.com/questions/5903008/what-is-a-surrogate-pair-in-java\"><strong><em>surrogate pairs</em></strong></a>.</p>\n\n<p>For instance, the character  (codepoint U+1D56B) does not fit into a single <code>char</code>, so in order to be represented, it must form a surrogate pair of two chars.</p>\n\n<p>If one simply applies the currently accepted answer (using <code>str.substring(0, str.length() - 1)</code>, one splices the surrogate pair, leading to unexpected results.</p>\n\n<p>One should also include a check whether the last character is a surrogate pair:</p>\n\n<pre><code>public static String removeLastChar(String str) {\n    Objects.requireNonNull(str, \"The string should not be null\");\n    if (str.isEmpty()) {\n        return str;\n    }\n\n    char lastChar = str.charAt(str.length() - 1);\n    int cut = Character.isSurrogate(lastChar) ? 2 : 1;\n    return str.substring(0, str.length() - cut);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16277175,"reputation":36,"user_id":11754064,"display_name":"Syed Salman Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565168541,"creation_date":1565168541,"answer_id":57390676,"question_id":7438612,"body_markdown":"just replace the condition of &quot;if&quot; like this: \r\n\r\n    if(a.substring(a.length()-1).equals(&quot;x&quot;))&#39;\r\n\r\nthis will do the trick for you.","title":"How to remove the last character from a string?","body":"<p>just replace the condition of \"if\" like this: </p>\n\n<pre><code>if(a.substring(a.length()-1).equals(\"x\"))'\n</code></pre>\n\n<p>this will do the trick for you.</p>\n"},{"tags":[],"owner":{"account_id":6764866,"reputation":451,"user_id":5210164,"display_name":"Avinash Khadsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565788324,"creation_date":1565786720,"answer_id":57494995,"question_id":7438612,"body_markdown":"Suppose total length of my string=24\r\nI want to cut last character after position 14 to end, mean I want starting 14 to be there.\r\nSo I apply following solution.\r\n\r\n    String date = &quot;2019-07-31T22:00:00.000Z&quot;;\r\n    String result = date.substring(0, date.length() - 14);","title":"How to remove the last character from a string?","body":"<p>Suppose total length of my string=24\nI want to cut last character after position 14 to end, mean I want starting 14 to be there.\nSo I apply following solution.</p>\n\n<pre><code>String date = \"2019-07-31T22:00:00.000Z\";\nString result = date.substring(0, date.length() - 14);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9186160,"reputation":860,"user_id":6828297,"accept_rate":25,"display_name":"C Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574604431,"creation_date":1574604431,"answer_id":59018513,"question_id":7438612,"body_markdown":"    public String removeLastCharacter(String str){\r\n           String result = null;\r\n            if ((str != null) &amp;&amp; (str.length() &gt; 0)) {\r\n              return str.substring(0, str.length() - 1);\r\n            }\r\n            else{\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n    }","title":"How to remove the last character from a string?","body":"<pre><code>public String removeLastCharacter(String str){\n       String result = null;\n        if ((str != null) &amp;&amp; (str.length() &gt; 0)) {\n          return str.substring(0, str.length() - 1);\n        }\n        else{\n            return \"\";\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15942721,"reputation":23,"user_id":11504153,"display_name":"RoboC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579708160,"creation_date":1579708160,"answer_id":59863476,"question_id":7438612,"body_markdown":"Easy Peasy:\r\n\r\n    StringBuilder sb= new StringBuilder();\r\n    for(Entry&lt;String,String&gt; entry : map.entrySet()) {\r\n    \t\tsb.append(entry.getKey() + &quot;_&quot; + entry.getValue() + &quot;|&quot;);\r\n    }\r\n    String requiredString = sb.substring(0, sb.length() - 1);","title":"How to remove the last character from a string?","body":"<p>Easy Peasy:</p>\n\n<pre><code>StringBuilder sb= new StringBuilder();\nfor(Entry&lt;String,String&gt; entry : map.entrySet()) {\n        sb.append(entry.getKey() + \"_\" + entry.getValue() + \"|\");\n}\nString requiredString = sb.substring(0, sb.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12815740,"reputation":47,"user_id":9272445,"display_name":"klvnmarshall"},"comment_count":0,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1655072080,"creation_date":1584604946,"answer_id":60753037,"question_id":7438612,"body_markdown":"For kotlin check out\r\n```\r\nstring.dropLast(1)\r\n```","title":"How to remove the last character from a string?","body":"<p>For kotlin check out</p>\n<pre><code>string.dropLast(1)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6522954,"reputation":1831,"user_id":5046586,"display_name":"Aldo Canepa"},"score":1,"creation_date":1651091224,"post_id":64662820,"comment_id":127283048,"body_markdown":"Is `s[0..-1]` java?","body":"Is <code>s[0..-1]</code> java?"},{"owner":{"account_id":13495527,"reputation":549,"user_id":9736497,"display_name":"Alexandros Kourtis"},"score":0,"creation_date":1652734057,"post_id":64662820,"comment_id":127673334,"body_markdown":"bruh.. this is not java","body":"bruh.. this is not java"}],"tags":[],"owner":{"account_id":328547,"reputation":1186,"user_id":651562,"display_name":"tstempko"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1604406344,"creation_date":1604406344,"answer_id":64662820,"question_id":7438612,"body_markdown":"How can a simple task be made complicated. My solution is:\r\n\r\n    public String removeLastChar(String s) {\r\n        return s[0..-1]\r\n    }\r\n\r\nor \r\n\r\n    public String removeLastChar(String s) {\r\n        if (s.length() &gt; 0) {\r\n            return s[0..-1]\r\n        }\r\n        return s\r\n    }","title":"How to remove the last character from a string?","body":"<p>How can a simple task be made complicated. My solution is:</p>\n<pre><code>public String removeLastChar(String s) {\n    return s[0..-1]\n}\n</code></pre>\n<p>or</p>\n<pre><code>public String removeLastChar(String s) {\n    if (s.length() &gt; 0) {\n        return s[0..-1]\n    }\n    return s\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12502565,"reputation":258,"user_id":15815623,"display_name":"Denilson Anachury"},"score":0,"creation_date":1671480659,"post_id":66644836,"comment_id":132104305,"body_markdown":"I think that is not necessary to add an external library for a simple feature like this.","body":"I think that is not necessary to add an external library for a simple feature like this."}],"tags":[],"owner":{"account_id":2813516,"reputation":331,"user_id":2419239,"accept_rate":60,"display_name":"Baha&#39; Al-Khateib"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1615838214,"creation_date":1615838214,"answer_id":66644836,"question_id":7438612,"body_markdown":"Use StringUtils.Chop(Str) it also takes care of null and empty strings, u need to import common-io:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"How to remove the last character from a string?","body":"<p>Use StringUtils.Chop(Str) it also takes care of null and empty strings, u need to import common-io:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15830899,"reputation":503,"user_id":11422246,"display_name":"Vasanthakumar Jagannathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626755764,"creation_date":1626755764,"answer_id":68449595,"question_id":7438612,"body_markdown":"if we want to remove file extension of the given file,\r\n\r\n** Sample code\r\n\r\n     public static String removeNCharactersFromLast(String str,int n){\r\n        if (str != null &amp;&amp; (str.length() &gt; 0)) {\r\n            return str.substring(0, str.length() - n);\r\n        }\r\n\r\n        return &quot;&quot;;\r\n\r\n    }\r\n\r\n\r\n ","title":"How to remove the last character from a string?","body":"<p>if we want to remove file extension of the given file,</p>\n<p>** Sample code</p>\n<pre><code> public static String removeNCharactersFromLast(String str,int n){\n    if (str != null &amp;&amp; (str.length() &gt; 0)) {\n        return str.substring(0, str.length() - n);\n    }\n\n    return &quot;&quot;;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12502565,"reputation":258,"user_id":15815623,"display_name":"Denilson Anachury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671480774,"creation_date":1647290369,"answer_id":71473987,"question_id":7438612,"body_markdown":"Since Java 8 you can use Optional to avoid null pointer exceptions and use functional programming:\r\n\r\n    public String removeLastCharacter(String string) {\r\n        return Optional.ofNullable(string)\r\n            .filter(str -&gt; !str.isEmpty() &amp;&amp; !string.isBlank())\r\n            .map(str -&gt; str.substring(0, str.length() - 1))\r\n            .orElse(&quot;&quot;); // Should be another value that need if the {@param: string} is &quot;null&quot;\r\n    }\r\n","title":"How to remove the last character from a string?","body":"<p>Since Java 8 you can use Optional to avoid null pointer exceptions and use functional programming:</p>\n<pre><code>public String removeLastCharacter(String string) {\n    return Optional.ofNullable(string)\n        .filter(str -&gt; !str.isEmpty() &amp;&amp; !string.isBlank())\n        .map(str -&gt; str.substring(0, str.length() - 1))\n        .orElse(&quot;&quot;); // Should be another value that need if the {@param: string} is &quot;null&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1005158,"reputation":7158,"user_id":1019129,"accept_rate":51,"display_name":"sten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651955638,"creation_date":1651955638,"answer_id":72156169,"question_id":7438612,"body_markdown":"this is well known problem solved beautifully in Perl via chop() and chomp()\r\n\r\nlong answer here : [Java chop and chomp][1]\r\n\r\nhere is the code :\r\n\r\n      //removing trailing characters\r\n      public static String chomp(String str, Character repl) {\r\n        int ix = str.length();\r\n        for (int i=ix-1; i &gt;= 0; i-- ){\r\n          if (str.charAt(i) != repl) break;\r\n          ix = i;\r\n        }\r\n        return str.substring(0,ix);\r\n      }\r\n      \r\n      //hardcut  \r\n      public static String chop(String str) {\r\n        return str.substring(0,str.length()-1);\r\n      }\r\n\r\n  \r\n\r\n  [1]: https://myriad.website/java-chop-and-chomp/\r\n","title":"How to remove the last character from a string?","body":"<p>this is well known problem solved beautifully in Perl via chop() and chomp()</p>\n<p>long answer here : <a href=\"https://myriad.website/java-chop-and-chomp/\" rel=\"nofollow noreferrer\">Java chop and chomp</a></p>\n<p>here is the code :</p>\n<pre><code>  //removing trailing characters\n  public static String chomp(String str, Character repl) {\n    int ix = str.length();\n    for (int i=ix-1; i &gt;= 0; i-- ){\n      if (str.charAt(i) != repl) break;\n      ix = i;\n    }\n    return str.substring(0,ix);\n  }\n  \n  //hardcut  \n  public static String chop(String str) {\n    return str.substring(0,str.length()-1);\n  }\n</code></pre>\n"}],"owner":{"display_name":"duaprog137"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370362,"favorite_count":0,"down_vote_count":0,"up_vote_count":597,"accepted_answer_id":7438613,"answer_count":36,"score":597,"last_activity_date":1679322432,"creation_date":1316128563,"question_id":7438612,"body_markdown":"I want to remove the last character from a string. I&#39;ve tried doing this:\r\n\r\n    public String method(String str) {\r\n        if (str.charAt(str.length()-1)==&#39;x&#39;){\r\n            str = str.replace(str.substring(str.length()-1), &quot;&quot;);\r\n            return str;\r\n        } else{\r\n            return str;\r\n        }\r\n    }\r\n\r\nGetting the length of the string - 1 and replacing the last letter with nothing (deleting it), but every time I run the program, it deletes middle letters that are the same as the last letter.\r\n\r\nFor example, the word is &quot;admirer&quot;; after I run the method, I get &quot;admie.&quot; I want it to return the word admire.","title":"How to remove the last character from a string?","body":"<p>I want to remove the last character from a string. I've tried doing this:</p>\n\n<pre><code>public String method(String str) {\n    if (str.charAt(str.length()-1)=='x'){\n        str = str.replace(str.substring(str.length()-1), \"\");\n        return str;\n    } else{\n        return str;\n    }\n}\n</code></pre>\n\n<p>Getting the length of the string - 1 and replacing the last letter with nothing (deleting it), but every time I run the program, it deletes middle letters that are the same as the last letter.</p>\n\n<p>For example, the word is \"admirer\"; after I run the method, I get \"admie.\" I want it to return the word admire.</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"score":0,"creation_date":1679037898,"post_id":75764656,"comment_id":133652302,"body_markdown":"I am already frustrated with the very poor quality of the CSS reference guide, and now this :( not good","body":"I am already frustrated with the very poor quality of the CSS reference guide, and now this :( not good"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679041579,"post_id":75764656,"comment_id":133653152,"body_markdown":"I guess you saw [the answer on importing a jar](https://stackoverflow.com/questions/29444698/how-to-create-an-fxml-file-for-an-already-created-new-component-in-java-than-add/29444845#29444845).  Your sample custom control code looks ok to me.  It should be the only file in your imported jar, just one class file and nothing else (run `jar tvf` on the jar to check).  Make sure the byte code version compiled to &lt;= byte code version of your SceneBuilder Java runtime.  Run SceneBuilder from the command line and check the console output.","body":"I guess you saw <a href=\"https://stackoverflow.com/questions/29444698/how-to-create-an-fxml-file-for-an-already-created-new-component-in-java-than-add/29444845#29444845\">the answer on importing a jar</a>.  Your sample custom control code looks ok to me.  It should be the only file in your imported jar, just one class file and nothing else (run <code>jar tvf</code> on the jar to check).  Make sure the byte code version compiled to &lt;= byte code version of your SceneBuilder Java runtime.  Run SceneBuilder from the command line and check the console output."},{"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"score":0,"creation_date":1679044191,"post_id":75764656,"comment_id":133653753,"body_markdown":"Besides the manifest, it is the only file. I tried running SceneBuilder from console, and it didn&#39;t work with ```JAVAHOME (19.0.2)``` but it did work with it&#39;s own runtime JAVA (19). ```Error: Could not find or load main class... NoClassDefFoundError``` \nAnd there were no errors when importing.","body":"Besides the manifest, it is the only file. I tried running SceneBuilder from console, and it didn&#39;t work with <code>JAVAHOME (19.0.2)</code> but it did work with it&#39;s own runtime JAVA (19). <code>Error: Could not find or load main class... NoClassDefFoundError</code>  And there were no errors when importing."}],"answers":[{"tags":[],"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679321995,"creation_date":1679321995,"answer_id":75791443,"question_id":75764656,"body_markdown":"Ass @jewelsea suggested, \r\n\r\n&gt; Make sure the byte code version compiled to &lt;= byte code version of your SceneBuilder Java runtime\r\n\r\n19.0.2 is too new for Scenebuilder using 19.0.0. I though as long as the major version is not bigger than SceneBuilder&#39;s it will work, I was wrong.","title":"Custom Component not appearing in SceneBuilder import dialogue","body":"<p>Ass @jewelsea suggested,</p>\n<blockquote>\n<p>Make sure the byte code version compiled to &lt;= byte code version of your SceneBuilder Java runtime</p>\n</blockquote>\n<p>19.0.2 is too new for Scenebuilder using 19.0.0. I though as long as the major version is not bigger than SceneBuilder's it will work, I was wrong.</p>\n"}],"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75791443,"answer_count":1,"score":0,"last_activity_date":1679322094,"creation_date":1679037089,"question_id":75764656,"body_markdown":"When Importing Custom JavaFX Components into SceneBuilder, none of my UI compoments are displayed in the import dialog.\r\n\r\nMy Custom Component:\r\n```java\r\npackage co.za.hein;\r\n\r\nimport javafx.scene.control.Button;\r\n\r\npublic class TestButton extends Button {\r\n\r\n    public TestButton() {\r\n        super();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe import Dialog in Scenebuilder:\r\n[![enter image description here][1]][1]\r\n\r\nI compile my Component with ```java 19.0.2 2023-01-17``` and I am using the latest [SceneBuilder 19 version][2]. I&#39;ve tried including javafx dependencies in the jar, but no difference. There is also no stack trace when looking at the Jar analysis report, except when including all javafx dependencies. (All the errors are about jacafx not my component)\r\n\r\n### Extra Info:\r\nUsing VSCode, and compiling using built in ```export jar``` function.\r\n\r\nI am aware that there are many questions already on stackoverflow around importing Custom components into SceneBuilder, although it seems that none of them had a concise answer. I have provided the most simple example that just should work. There is no documentation I can find on creating Custom Components, only on importing them.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Dy4Y.png\r\n  [2]: https://gluonhq.com/products/scene-builder/","title":"Custom Component not appearing in SceneBuilder import dialogue","body":"<p>When Importing Custom JavaFX Components into SceneBuilder, none of my UI compoments are displayed in the import dialog.</p>\n<p>My Custom Component:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package co.za.hein;\n\nimport javafx.scene.control.Button;\n\npublic class TestButton extends Button {\n\n    public TestButton() {\n        super();\n    }\n\n}\n</code></pre>\n<p>The import Dialog in Scenebuilder:\n<a href=\"https://i.stack.imgur.com/8Dy4Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Dy4Y.png\" alt=\"enter image description here\" /></a></p>\n<p>I compile my Component with <code>java 19.0.2 2023-01-17</code> and I am using the latest <a href=\"https://gluonhq.com/products/scene-builder/\" rel=\"nofollow noreferrer\">SceneBuilder 19 version</a>. I've tried including javafx dependencies in the jar, but no difference. There is also no stack trace when looking at the Jar analysis report, except when including all javafx dependencies. (All the errors are about jacafx not my component)</p>\n<h3>Extra Info:</h3>\n<p>Using VSCode, and compiling using built in <code>export jar</code> function.</p>\n<p>I am aware that there are many questions already on stackoverflow around importing Custom components into SceneBuilder, although it seems that none of them had a concise answer. I have provided the most simple example that just should work. There is no documentation I can find on creating Custom Components, only on importing them.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679321517,"creation_date":1679317034,"answer_id":75790546,"question_id":75764102,"body_markdown":"The original exception object is not available, but information about the exception is available in message headers; either consume `Message&lt;String&gt; msg` in the DLT handler (and use `msg.getHeaders.get(...)`) or extract the headers individually, as shown in [this question](https://stackoverflow.com/questions/69229529/spring-kafka-dlthandler-annotated-method-is-not-receiving-headers-correctly-in)\r\n\r\n```java\r\n@DltHandler\r\nvoid handler(String message,\r\n        @Header(KafkaHeaders.ORIGINAL_OFFSET) byte[] offset,\r\n        @Header(KafkaHeaders.EXCEPTION_FQCN) String descException,\r\n        @Header(KafkaHeaders.EXCEPTION_STACKTRACE) String stacktrace,\r\n        @Header(KafkaHeaders.EXCEPTION_MESSAGE) String errorMessage) {\r\n    System.out.println(msg);\r\n    System.out.println(ByteBuffer.wrap(offset).getLong());\r\n    System.out.println(descException);\r\n    System.out.println(stacktrace);\r\n    System.out.println(errorMessage);\r\n}\r\n```","title":"Access Exception thrown during NonBlocking retry in DltHandler","body":"<p>The original exception object is not available, but information about the exception is available in message headers; either consume <code>Message&lt;String&gt; msg</code> in the DLT handler (and use <code>msg.getHeaders.get(...)</code>) or extract the headers individually, as shown in <a href=\"https://stackoverflow.com/questions/69229529/spring-kafka-dlthandler-annotated-method-is-not-receiving-headers-correctly-in\">this question</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@DltHandler\nvoid handler(String message,\n        @Header(KafkaHeaders.ORIGINAL_OFFSET) byte[] offset,\n        @Header(KafkaHeaders.EXCEPTION_FQCN) String descException,\n        @Header(KafkaHeaders.EXCEPTION_STACKTRACE) String stacktrace,\n        @Header(KafkaHeaders.EXCEPTION_MESSAGE) String errorMessage) {\n    System.out.println(msg);\n    System.out.println(ByteBuffer.wrap(offset).getLong());\n    System.out.println(descException);\n    System.out.println(stacktrace);\n    System.out.println(errorMessage);\n}\n</code></pre>\n"}],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75790546,"answer_count":1,"score":0,"last_activity_date":1679321976,"creation_date":1679031700,"question_id":75764102,"body_markdown":"I want to know if it is possible to get hold of the original exception thrown in the `@KafkaListener` method during DLT Processing, i.e in `@DltHandler` method.\r\n  \r\nFor example, I have a method like this \r\n\r\n    @KafkaListener(topics = &quot;message&quot;, groupId = &quot;1&quot;)\r\n    @RetryableTopic(attempts = &quot;3&quot;, backoff = @Backoff(value = 3000L))\r\n    public void readMessages(@Payload String message) {\r\n         // Some exception is thrown here\r\n    }\r\n\r\nI have a Dlt handler in the same class like this \r\n\r\n    @DltHandler\r\n    public void processDltMessages(String message) {\r\n        // I want to have a custom logic based on the exception thrown. \r\n        // How to know the exception thrown in the original method.\r\n    }","title":"Access Exception thrown during NonBlocking retry in DltHandler","body":"<p>I want to know if it is possible to get hold of the original exception thrown in the <code>@KafkaListener</code> method during DLT Processing, i.e in <code>@DltHandler</code> method.</p>\n<p>For example, I have a method like this</p>\n<pre><code>@KafkaListener(topics = &quot;message&quot;, groupId = &quot;1&quot;)\n@RetryableTopic(attempts = &quot;3&quot;, backoff = @Backoff(value = 3000L))\npublic void readMessages(@Payload String message) {\n     // Some exception is thrown here\n}\n</code></pre>\n<p>I have a Dlt handler in the same class like this</p>\n<pre><code>@DltHandler\npublic void processDltMessages(String message) {\n    // I want to have a custom logic based on the exception thrown. \n    // How to know the exception thrown in the original method.\n}\n</code></pre>\n"},{"tags":["java","web-services","security","soap-client"],"comments":[{"owner":{"account_id":6092730,"reputation":71,"user_id":4754524,"accept_rate":67,"display_name":"Ronald Calazans"},"score":0,"creation_date":1679316161,"post_id":71720105,"comment_id":133694230,"body_markdown":"I&#39;m also experiencing this exact problem :(, did anyone manage to solve it?","body":"I&#39;m also experiencing this exact problem :(, did anyone manage to solve it?"},{"owner":{"account_id":6092730,"reputation":71,"user_id":4754524,"accept_rate":67,"display_name":"Ronald Calazans"},"score":0,"creation_date":1679321839,"post_id":71720105,"comment_id":133695966,"body_markdown":"I found the solution for my case, I changed the url protocol from http to https, that way it started to work","body":"I found the solution for my case, I changed the url protocol from http to https, that way it started to work"}],"answers":[{"tags":[],"owner":{"account_id":6092730,"reputation":71,"user_id":4754524,"accept_rate":67,"display_name":"Ronald Calazans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679321861,"creation_date":1679321861,"answer_id":75791420,"question_id":71720105,"body_markdown":"I found the solution for my case, I changed the url protocol from http to https, that way it started to work","title":"Java client using SAAJ error: SEVERE: SAAJ0008: Bad Response while calling a soap webservice","body":"<p>I found the solution for my case, I changed the url protocol from http to https, that way it started to work</p>\n"}],"owner":{"account_id":24801743,"reputation":1,"user_id":18684058,"display_name":"Tanvi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679321861,"creation_date":1648923708,"question_id":71720105,"body_markdown":"While calling a Soap web service through Java code I am getting bad response 302 found.\r\nIf I hit same url through postman it gives a response.\r\n\r\nCan anyone provide a reason and a solution for this problem\r\n\r\nCODE:\r\n\r\n// Create SOAP Connection\r\n\r\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n    \r\n            SOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\n    \r\n    \r\n    \r\n            // Send SOAP Message to SOAP Server\r\n    \r\n            String url = &quot;http://localhost:8080/xyz&quot;;\r\n    \r\n            SOAPMessage soapResponse = null;\r\n    \r\n            try\r\n    \r\n            {\r\n    \r\n                soapResponse = soapConnection.call(createSOAPRequest(), url);\r\n    \r\n            }\r\n    \r\n            catch (SOAPException e)\r\n    \r\n            {\r\n    \r\n                // TODO Auto-generated catch block\r\n    \r\n                e.printStackTrace();\r\n    \r\n            }\r\n    \r\n            catch (Exception e)\r\n    \r\n            {\r\n    \r\n                // TODO Auto-generated catch block\r\n    \r\n                e.printStackTrace();\r\n    \r\n            }\r\n\r\nError:\r\n\r\nMar 01, 2022 8:29:10 PM com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection post\r\nSEVERE: SAAJ0008: Bad Response; Found\r\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (302Found\r\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.call(Unknown Source)\r\nat SeibelClient.main(SeibelClient.java:58)\r\nCaused by: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (400Bad request\r\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.post(Unknown Source)\r\n... 2 more\r\n\r\nCan anyone suggest a solution for this.\r\n\r\nAlso If I am hitting the url and the Soap message through postman it gives a response but while hitting through a java code it gives the above error.\r\n\r\nCan it be a security or a certificate issue.\r\n\r\nAlso 302 is a redirected code but as you can see in the error it does not gives a new location","title":"Java client using SAAJ error: SEVERE: SAAJ0008: Bad Response while calling a soap webservice","body":"<p>While calling a Soap web service through Java code I am getting bad response 302 found.\nIf I hit same url through postman it gives a response.</p>\n<p>Can anyone provide a reason and a solution for this problem</p>\n<p>CODE:</p>\n<p>// Create SOAP Connection</p>\n<pre><code>        SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n\n        SOAPConnection soapConnection = soapConnectionFactory.createConnection();\n\n\n\n        // Send SOAP Message to SOAP Server\n\n        String url = &quot;http://localhost:8080/xyz&quot;;\n\n        SOAPMessage soapResponse = null;\n\n        try\n\n        {\n\n            soapResponse = soapConnection.call(createSOAPRequest(), url);\n\n        }\n\n        catch (SOAPException e)\n\n        {\n\n            // TODO Auto-generated catch block\n\n            e.printStackTrace();\n\n        }\n\n        catch (Exception e)\n\n        {\n\n            // TODO Auto-generated catch block\n\n            e.printStackTrace();\n\n        }\n</code></pre>\n<p>Error:</p>\n<p>Mar 01, 2022 8:29:10 PM com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection post\nSEVERE: SAAJ0008: Bad Response; Found\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (302Found\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.call(Unknown Source)\nat SeibelClient.main(SeibelClient.java:58)\nCaused by: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (400Bad request\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.post(Unknown Source)\n... 2 more</p>\n<p>Can anyone suggest a solution for this.</p>\n<p>Also If I am hitting the url and the Soap message through postman it gives a response but while hitting through a java code it gives the above error.</p>\n<p>Can it be a security or a certificate issue.</p>\n<p>Also 302 is a redirected code but as you can see in the error it does not gives a new location</p>\n"},{"tags":["java","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1679323437,"post_id":75791402,"comment_id":133696542,"body_markdown":"the official docs recommend a simple structure under `src/test/java` - you can adapt those: https://github.com/karatelabs/karate#naming-conventions - I&#39;ll be curious to see answers from actual users","body":"the official docs recommend a simple structure under <code>src&#47;test&#47;java</code> - you can adapt those: <a href=\"https://github.com/karatelabs/karate#naming-conventions\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate#naming-conventions</a> - I&#39;ll be curious to see answers from actual users"}],"owner":{"account_id":17965359,"reputation":305,"user_id":13055352,"display_name":"happytohelp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679321770,"creation_date":1679321770,"question_id":75791402,"body_markdown":"I am trying to re-organize karate test cases to proper folder structure and wanted some suggestions on best practices if any.\r\n\r\nI have all requests under request folder without any subfolders and all util features in a utilFeatures package and the test cases are right under features without any packaging. \r\n```\r\nresources\r\n  features\r\n     requests\r\n     utilFeatures\r\n     *all tests under features directly without any folder*\r\n```\r\n\r\nSo now my requirement is changed and my code base has code for admin and user functionalities and because of that now I am thinking to separate folders in the process to organize it for simplicity and usage. \r\n\r\nSo any suggestions on how to do this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to package karate api testing test cases properly?","body":"<p>I am trying to re-organize karate test cases to proper folder structure and wanted some suggestions on best practices if any.</p>\n<p>I have all requests under request folder without any subfolders and all util features in a utilFeatures package and the test cases are right under features without any packaging.</p>\n<pre><code>resources\n  features\n     requests\n     utilFeatures\n     *all tests under features directly without any folder*\n</code></pre>\n<p>So now my requirement is changed and my code base has code for admin and user functionalities and because of that now I am thinking to separate folders in the process to organize it for simplicity and usage.</p>\n<p>So any suggestions on how to do this?</p>\n"},{"tags":["java","spring-boot","api","hibernate"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1679323104,"post_id":75791371,"comment_id":133696412,"body_markdown":"You can create a rest client library to retrieve the data from the external table via, iterate through the external data and compare it with the internal data to determine which rows need to be inserted, updated, or deleted.","body":"You can create a rest client library to retrieve the data from the external table via, iterate through the external data and compare it with the internal data to determine which rows need to be inserted, updated, or deleted."},{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1679323726,"post_id":75791371,"comment_id":133696637,"body_markdown":"If you have only 1200 items, consider using a data structure inside your app, like List&lt;ModelClass&gt;. Well, it depends on data you have, if it is a 2Gb BLOB in one cell, then, you know :)...  Other solution can be a in memory NoSQL DB, like Redis to store API responses.","body":"If you have only 1200 items, consider using a data structure inside your app, like List&lt;ModelClass&gt;. Well, it depends on data you have, if it is a 2Gb BLOB in one cell, then, you know :)...  Other solution can be a in memory NoSQL DB, like Redis to store API responses."}],"owner":{"account_id":28066223,"reputation":1,"user_id":21439576,"display_name":"Burrito "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679321634,"creation_date":1679321634,"question_id":75791371,"body_markdown":"I have an internal table that needs to be maintained and kept in sync with an external table which I can only access via a rest API. After getting the API data if the internal table doesnt contain a row for the unique identifier I insert a row. If it exists but something has changed I do an update. And if the internal table has a row that is no longer in the response data I delete it. My initial thought is build a temp table containing all the rest data and then do an insert where not exists, update where different, and delete from master where not in temp. Drop temp table at the end. The core app is Java spring boot data JPA so thats what Im using. Is there a cleaner way to do this? The data set isnt expected to be huge. Less than 1200 rows expected.  \r\n\r\nI have a model class and had also thought about just comparing the objects from db and the rest data but not sure if thats a better approach or something different. ","title":"Compare data from API response to oracle table","body":"<p>I have an internal table that needs to be maintained and kept in sync with an external table which I can only access via a rest API. After getting the API data if the internal table doesnt contain a row for the unique identifier I insert a row. If it exists but something has changed I do an update. And if the internal table has a row that is no longer in the response data I delete it. My initial thought is build a temp table containing all the rest data and then do an insert where not exists, update where different, and delete from master where not in temp. Drop temp table at the end. The core app is Java spring boot data JPA so thats what Im using. Is there a cleaner way to do this? The data set isnt expected to be huge. Less than 1200 rows expected.</p>\n<p>I have a model class and had also thought about just comparing the objects from db and the rest data but not sure if thats a better approach or something different.</p>\n"},{"tags":["java","inheritance"],"answers":[{"tags":[],"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388231696,"creation_date":1388231696,"answer_id":20814231,"question_id":20814209,"body_markdown":"You have defined your `setDestination` as a `private` \r\n\r\n    private void setDestination(String destination) \r\n\r\nSo you cannot access it via inheritance. Either change it to `protected` or `public. Learn more info on Access modifiers [here.][1]\r\n\r\n\r\n  [1]: http://javapapers.com/core-java/access-modifiers-in-java-explain/","title":"Calling a method from a superclass","body":"<p>You have defined your <code>setDestination</code> as a <code>private</code> </p>\n\n<pre><code>private void setDestination(String destination) \n</code></pre>\n\n<p>So you cannot access it via inheritance. Either change it to <code>protected</code> or `public. Learn more info on Access modifiers <a href=\"http://javapapers.com/core-java/access-modifiers-in-java-explain/\" rel=\"nofollow\">here.</a></p>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1388231700,"creation_date":1388231700,"answer_id":20814233,"question_id":20814209,"body_markdown":"It&#39;s a `private` method. You cannot access private methods. Change it to protected.\r\n\r\nYou can access private members with in the class only.\r\n\r\n\r\n       Modifier\tClass\tPackage\tSubclass\tWorld\r\n        ---------------------------------------------\r\n        public\t    Y\t   Y    \tY\t        Y\r\n        protected\tY      Y\t    Y\t        N\r\n        no modifier\tY      Y\t    N\t        N\r\n        private\t    Y\t   N\t    N\t        N\r\n\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n","title":"Calling a method from a superclass","body":"<p>It's a <code>private</code> method. You cannot access private methods. Change it to protected.</p>\n\n<p>You can access private members with in the class only.</p>\n\n<pre><code>   Modifier Class   Package Subclass    World\n    ---------------------------------------------\n    public      Y      Y        Y           Y\n    protected   Y      Y        Y           N\n    no modifier Y      Y        N           N\n    private     Y      N        N           N\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html</a></p>\n"},{"tags":[],"owner":{"account_id":2570915,"reputation":3265,"user_id":3075488,"accept_rate":84,"display_name":"Sitansu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388233256,"creation_date":1388231740,"answer_id":20814243,"question_id":20814209,"body_markdown":"The private methods are not inherited  , a superclass reference calls its own private method.\r\n\r\nuse  `private void setDestination(String destination)` instead of\r\n\r\n     public void setDestination(String destination) \r\n\r\n\r\n","title":"Calling a method from a superclass","body":"<p>The private methods are not inherited  , a superclass reference calls its own private method.</p>\n\n<p>use  <code>private void setDestination(String destination)</code> instead of</p>\n\n<pre><code> public void setDestination(String destination) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3381498,"reputation":1603,"user_id":2838451,"accept_rate":100,"display_name":"Sanjay Bhimani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388232606,"creation_date":1388232606,"answer_id":20814370,"question_id":20814209,"body_markdown":"private Modifier can&#39;t access from outside of class. ","title":"Calling a method from a superclass","body":"<p>private Modifier can't access from outside of class. </p>\n"},{"tags":[],"owner":{"account_id":23802521,"reputation":1,"user_id":17812511,"display_name":"mishatim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679321166,"creation_date":1679319831,"answer_id":75791029,"question_id":20814209,"body_markdown":"Additionally to the previous answers, the `destination` class member is declared `private`.  As such it will not be accessible to any subclass if called directly (as in arrived() and getStatus() methods of Taxi class).\r\n\r\nEither declare the `destination` as protected or change modifier of getDestination() to public or protected and use the method instead of direct access of the class member - as others mentioned earlier.","title":"Calling a method from a superclass","body":"<p>Additionally to the previous answers, the <code>destination</code> class member is declared <code>private</code>.  As such it will not be accessible to any subclass if called directly (as in arrived() and getStatus() methods of Taxi class).</p>\n<p>Either declare the <code>destination</code> as protected or change modifier of getDestination() to public or protected and use the method instead of direct access of the class member - as others mentioned earlier.</p>\n"}],"owner":{"account_id":3631465,"reputation":33,"user_id":3027484,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20814233,"answer_count":5,"score":3,"last_activity_date":1679321166,"creation_date":1388231561,"question_id":20814209,"body_markdown":"Hi. I am trying to call a method from a superclass via a subclass but keep getting an error.\r\nThe method I am trying to call is `setDestination()` however the compiler keeps giving me the error &quot;cannot find symbol - method setDestination(java.lang.string)&quot; my lecturer says that this is a simple miss match of the parameters of the method call and the method, but I have both method parameters as of type `String` so I am a little confused.\r\n\r\nMy code is:\r\n\r\nSuperclass Vehicle:\r\n\r\n         public class Vehicle\r\n         {\r\n         // A unique ID for this vehicle\r\n         private String id; \r\n         // The next destination of this Vehicle.\r\n         private String destination;\r\n\r\n         /**\r\n         * Constructor for objects of class Vehicle\r\n         */\r\n         public Vehicle(String id)\r\n         {\r\n             destination = null;\r\n         }\r\n\r\n         /**\r\n         * Return the ID of the Vehicle.\r\n         * @return The ID of the Vehicle.\r\n         */\r\n         public String getID()\r\n         {\r\n            return id;\r\n         }\r\n\r\n         /**\r\n         * Return the destination of the Vehicle.\r\n         * @return The destination of the Vehicle.\r\n         */\r\n         public String getDestination()\r\n         {\r\n             return destination;\r\n         }\r\n     \r\n         /**\r\n         * Set the intented destination of the Vehicle.\r\n         * @param destination The intended destination.\r\n         */\r\n         private void setDestination(String destination)\r\n         {\r\n             this.destination = destination;\r\n         }\r\n    }\r\n\r\nsubclass `Taxi`:\r\n\r\n    public class Taxi extends Vehicle\r\n    {\r\n        // The location of this taxi.\r\n        private String location;\r\n        // Whether it is free or not.\r\n        private boolean free;\r\n\r\n       /** \r\n        * Constructor for objects of class Taxi.\r\n        * @param base The name of the company&#39;s base.\r\n        * @param id This taxi&#39;s unique id.\r\n        */\r\n        public Taxi(String base, String id)\r\n        {\r\n             super(id);\r\n             location = base;\r\n             free = true;\r\n        }\r\n     \r\n       /**\r\n        * Book this taxi to the given destination.\r\n        * The status of the taxi will no longer be free.\r\n        * @param destination The taxi&#39;s destination.\r\n        */\r\n        public void book(String destination)\r\n        {\r\n            setDestination(destination);\r\n            free = false;\r\n        }\r\n\r\n       /**\r\n        * Return the status of this taxi.\r\n        * @return The status.\r\n        */\r\n        public String getStatus()\r\n        {   \r\n            return getID() + &quot; at &quot; + location + &quot; headed for &quot; +\r\n            destination;\r\n        }\r\n     \r\n        /**\r\n         * Return the location of the taxi.\r\n         * @return The location of the taxi.\r\n         */\r\n         public String getLocation()\r\n         {\r\n             return location;\r\n         }\r\n     \r\n         /**\r\n         * Indicate that this taxi has arrived at its destination.\r\n         * As a result, it will be free.\r\n         */\r\n         public void arrived()\r\n         {\r\n             location = destination;\r\n             destination = null;\r\n             free = true;\r\n         }\r\n     }\r\n\r\nAny help much appreciated.","title":"Calling a method from a superclass","body":"<p>Hi. I am trying to call a method from a superclass via a subclass but keep getting an error.\nThe method I am trying to call is <code>setDestination()</code> however the compiler keeps giving me the error \"cannot find symbol - method setDestination(java.lang.string)\" my lecturer says that this is a simple miss match of the parameters of the method call and the method, but I have both method parameters as of type <code>String</code> so I am a little confused.</p>\n\n<p>My code is:</p>\n\n<p>Superclass Vehicle:</p>\n\n<pre><code>     public class Vehicle\n     {\n     // A unique ID for this vehicle\n     private String id; \n     // The next destination of this Vehicle.\n     private String destination;\n\n     /**\n     * Constructor for objects of class Vehicle\n     */\n     public Vehicle(String id)\n     {\n         destination = null;\n     }\n\n     /**\n     * Return the ID of the Vehicle.\n     * @return The ID of the Vehicle.\n     */\n     public String getID()\n     {\n        return id;\n     }\n\n     /**\n     * Return the destination of the Vehicle.\n     * @return The destination of the Vehicle.\n     */\n     public String getDestination()\n     {\n         return destination;\n     }\n\n     /**\n     * Set the intented destination of the Vehicle.\n     * @param destination The intended destination.\n     */\n     private void setDestination(String destination)\n     {\n         this.destination = destination;\n     }\n}\n</code></pre>\n\n<p>subclass <code>Taxi</code>:</p>\n\n<pre><code>public class Taxi extends Vehicle\n{\n    // The location of this taxi.\n    private String location;\n    // Whether it is free or not.\n    private boolean free;\n\n   /** \n    * Constructor for objects of class Taxi.\n    * @param base The name of the company's base.\n    * @param id This taxi's unique id.\n    */\n    public Taxi(String base, String id)\n    {\n         super(id);\n         location = base;\n         free = true;\n    }\n\n   /**\n    * Book this taxi to the given destination.\n    * The status of the taxi will no longer be free.\n    * @param destination The taxi's destination.\n    */\n    public void book(String destination)\n    {\n        setDestination(destination);\n        free = false;\n    }\n\n   /**\n    * Return the status of this taxi.\n    * @return The status.\n    */\n    public String getStatus()\n    {   \n        return getID() + \" at \" + location + \" headed for \" +\n        destination;\n    }\n\n    /**\n     * Return the location of the taxi.\n     * @return The location of the taxi.\n     */\n     public String getLocation()\n     {\n         return location;\n     }\n\n     /**\n     * Indicate that this taxi has arrived at its destination.\n     * As a result, it will be free.\n     */\n     public void arrived()\n     {\n         location = destination;\n         destination = null;\n         free = true;\n     }\n }\n</code></pre>\n\n<p>Any help much appreciated.</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679301748,"post_id":75787651,"comment_id":133690281,"body_markdown":"By the way: neither thread even needs to be suspended for a potential problem to occur, since almost all modern systems have multiple cores, code on multiple threads can *actually* run in parallel (as opposed to timesliced on single-core systems).","body":"By the way: neither thread even needs to be suspended for a potential problem to occur, since almost all modern systems have multiple cores, code on multiple threads can <i>actually</i> run in parallel (as opposed to timesliced on single-core systems)."}],"answers":[{"comments":[{"owner":{"account_id":15813540,"reputation":3,"user_id":11409913,"display_name":"Unicorn"},"score":0,"creation_date":1679305804,"post_id":75788067,"comment_id":133691388,"body_markdown":"Thanks for ur reply. I don&#39;t think I explained it well though, what confused me is that since `cache.getFactors()` is not atomic, what if a thread gets suspended when executing `cache.getFactors()`, like right after `lastNumber == null` in the method, then another thread changes the `cache` field, then the first one comes back to examine `!lastNumber.equals(i)`, in this moment which cache object is the first thread working with.","body":"Thanks for ur reply. I don&#39;t think I explained it well though, what confused me is that since <code>cache.getFactors()</code> is not atomic, what if a thread gets suspended when executing <code>cache.getFactors()</code>, like right after <code>lastNumber == null</code> in the method, then another thread changes the <code>cache</code> field, then the first one comes back to examine <code>!lastNumber.equals(i)</code>, in this moment which cache object is the first thread working with."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1679306880,"post_id":75788067,"comment_id":133691733,"body_markdown":"I think I understand what you mean, and maybe *I haven&#39;t explained well*, because if `cache` changes at any time during that call, it doesn&#39;t matter: a single thread will always *either* see *only* the old value or *only* the new value. Since `cache` isn&#39;t read from more than once, there&#39;s no risk of it being inconsistent. Your code might be doing &quot;unnecessary work&quot; (if multiple threads try to create a cache for the same values at the same time and overwrite each others work), but it won&#39;t ever produce incorrect results. &quot;atomic&quot; only matters when you do multiple operations on mutable state.","body":"I think I understand what you mean, and maybe <i>I haven&#39;t explained well</i>, because if <code>cache</code> changes at any time during that call, it doesn&#39;t matter: a single thread will always <i>either</i> see <i>only</i> the old value or <i>only</i> the new value. Since <code>cache</code> isn&#39;t read from more than once, there&#39;s no risk of it being inconsistent. Your code might be doing &quot;unnecessary work&quot; (if multiple threads try to create a cache for the same values at the same time and overwrite each others work), but it won&#39;t ever produce incorrect results. &quot;atomic&quot; only matters when you do multiple operations on mutable state."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679316820,"post_id":75788067,"comment_id":133694407,"body_markdown":"@Unicorn you dont access the `cache` variable inside the `getFactors()` method; you use a predefined symbol named `this` which contains a copy of the reference used for the invocation. The reference stored in `this` does never change during the invocation. As said by Joachim Sauer, the `cache` variable is read once for the invocation and that read operation *is* atomic.","body":"@Unicorn you dont access the <code>cache</code> variable inside the <code>getFactors()</code> method; you use a predefined symbol named <code>this</code> which contains a copy of the reference used for the invocation. The reference stored in <code>this</code> does never change during the invocation. As said by Joachim Sauer, the <code>cache</code> variable is read once for the invocation and that read operation <i>is</i> atomic."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1679317281,"post_id":75788067,"comment_id":133694538,"body_markdown":"If what Holger describes is the source of the confusion, then the answer by Solomon Slow might shed some light onto the issue.","body":"If what Holger describes is the source of the confusion, then the answer by Solomon Slow might shed some light onto the issue."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679301682,"creation_date":1679301682,"answer_id":75788067,"question_id":75787651,"body_markdown":"Since `OneValueCache` itself is thread-safe, there&#39;s really only two possible results when calling `cache.getFactors()` while another thread is potentially changing `cache`:\r\n\r\n - either the thread read `cache` from memory &quot;before&quot; the other thread updates it and it gets the old value *or*\r\n - the thread reads `cache` from memory &quot;after&quot; the other thread updates it and it gets the new value.\r\n\r\nBut since `cache` is never assigned `null` and all instances of `OneValueCache` behave correctly (an instance might not have cached the &quot;desired&quot; value, but if it doesn&#39;t it&#39;ll correctly return `null` which is handled correctly in `service()`) nothing will break: the code doesn&#39;t rely on `cache` having the same value more than once (which is a common source of race conditions), as it only reads it once.","title":"What happens in java when a thread gets suspended in the middle of invoking a method on a field while another thread changes the field?","body":"<p>Since <code>OneValueCache</code> itself is thread-safe, there's really only two possible results when calling <code>cache.getFactors()</code> while another thread is potentially changing <code>cache</code>:</p>\n<ul>\n<li>either the thread read <code>cache</code> from memory &quot;before&quot; the other thread updates it and it gets the old value <em>or</em></li>\n<li>the thread reads <code>cache</code> from memory &quot;after&quot; the other thread updates it and it gets the new value.</li>\n</ul>\n<p>But since <code>cache</code> is never assigned <code>null</code> and all instances of <code>OneValueCache</code> behave correctly (an instance might not have cached the &quot;desired&quot; value, but if it doesn't it'll correctly return <code>null</code> which is handled correctly in <code>service()</code>) nothing will break: the code doesn't rely on <code>cache</code> having the same value more than once (which is a common source of race conditions), as it only reads it once.</p>\n"},{"comments":[{"owner":{"account_id":15813540,"reputation":3,"user_id":11409913,"display_name":"Unicorn"},"score":0,"creation_date":1679306373,"post_id":75788073,"comment_id":133691584,"body_markdown":"Thanks for your reply. But what confused me is that isn&#39;t `cache.getFactors()` **not atomic**. what happens if a thread was in the middle of executing `getFactors()` and gets suspended, then another thread changes the`cache` field, then the first thread comes back continue to execute `getFactors()`, then will this be a problem?","body":"Thanks for your reply. But what confused me is that isn&#39;t <code>cache.getFactors()</code> <b>not atomic</b>. what happens if a thread was in the middle of executing <code>getFactors()</code> and gets suspended, then another thread changes the<code>cache</code> field, then the first thread comes back continue to execute <code>getFactors()</code>, then will this be a problem?"}],"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679301720,"creation_date":1679301720,"answer_id":75788073,"question_id":75787651,"body_markdown":"The reason is that if one thread updates `cache`, while another is reading it, the second thread will either see a reference to the old or new instance of `OneValueCache` (this is guaranteed by the volatile variable). And because `OneValueCache` is immutable, is not that the values could change under the rug.\r\n\r\nThere could be one problem though. Imagine that service calls `getFactors` twice.\r\n```\r\n    public void service(int sec) {\r\n        BigInteger[] one = cache.getFactors(i, sec);\r\n        [...]\r\n        BigInteger[] two = cache.getFactors(i, sec);\r\n    }\r\n```\r\nIn this case the underlying cached value could have changed. If that&#39;s a bad thing, the code could first assign `cache` to a local variable and reference that.","title":"What happens in java when a thread gets suspended in the middle of invoking a method on a field while another thread changes the field?","body":"<p>The reason is that if one thread updates <code>cache</code>, while another is reading it, the second thread will either see a reference to the old or new instance of <code>OneValueCache</code> (this is guaranteed by the volatile variable). And because <code>OneValueCache</code> is immutable, is not that the values could change under the rug.</p>\n<p>There could be one problem though. Imagine that service calls <code>getFactors</code> twice.</p>\n<pre><code>    public void service(int sec) {\n        BigInteger[] one = cache.getFactors(i, sec);\n        [...]\n        BigInteger[] two = cache.getFactors(i, sec);\n    }\n</code></pre>\n<p>In this case the underlying cached value could have changed. If that's a bad thing, the code could first assign <code>cache</code> to a local variable and reference that.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679320252,"creation_date":1679312667,"answer_id":75789853,"question_id":75787651,"body_markdown":"&gt; ...invoking a method on a field...\r\n\r\nYou don&#39;t invoke methods on fields. You invoke methods on _objects._ When you write `cache.getFactors(i,sec)`, that&#39;s invoking the `getFactors` method on the _object_ to which `cache` refers. Let&#39;s call that object, &lt;i&gt;O&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt;, and let&#39;s call that invocation of the `getFactors` method, &lt;i&gt;Call&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt;.\r\n\r\nIf some other thread subsequently sets `cache=new OneValueCache(i,factors)`, then `cache` now refers to a different object, &lt;i&gt;O&lt;sub&gt;2&lt;/sub&gt;&lt;/i&gt;. But, that doesn&#39;t change which object was the target of &lt;i&gt;Call&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt;. If that function invocation still is in progress, then it still is working on &lt;i&gt;O&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt;. When &lt;i&gt;Call&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt; accesses `lastFactors` or `lastNumber`, it still is accessing the fields of the &lt;i&gt;O&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt; object.\r\n\r\nIt&#39;s still true even when the other thread subsequently invokes `cache.getFactors(i,sec)`. That&#39;s &lt;i&gt;Call&lt;sub&gt;2&lt;/sub&gt;&lt;/i&gt; which is working on &lt;i&gt;O&lt;sub&gt;2&lt;/sub&gt;&lt;/i&gt;. But, &lt;i&gt;Call&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt; doesn&#39;t know anything about that. It will continue to work on &lt;i&gt;O&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt; until it returns.","title":"What happens in java when a thread gets suspended in the middle of invoking a method on a field while another thread changes the field?","body":"<blockquote>\n<p>...invoking a method on a field...</p>\n</blockquote>\n<p>You don't invoke methods on fields. You invoke methods on <em>objects.</em> When you write <code>cache.getFactors(i,sec)</code>, that's invoking the <code>getFactors</code> method on the <em>object</em> to which <code>cache</code> refers. Let's call that object, <i>O<sub>1</sub></i>, and let's call that invocation of the <code>getFactors</code> method, <i>Call<sub>1</sub></i>.</p>\n<p>If some other thread subsequently sets <code>cache=new OneValueCache(i,factors)</code>, then <code>cache</code> now refers to a different object, <i>O<sub>2</sub></i>. But, that doesn't change which object was the target of <i>Call<sub>1</sub></i>. If that function invocation still is in progress, then it still is working on <i>O<sub>1</sub></i>. When <i>Call<sub>1</sub></i> accesses <code>lastFactors</code> or <code>lastNumber</code>, it still is accessing the fields of the <i>O<sub>1</sub></i> object.</p>\n<p>It's still true even when the other thread subsequently invokes <code>cache.getFactors(i,sec)</code>. That's <i>Call<sub>2</sub></i> which is working on <i>O<sub>2</sub></i>. But, <i>Call<sub>1</sub></i> doesn't know anything about that. It will continue to work on <i>O<sub>1</sub></i> until it returns.</p>\n"}],"owner":{"account_id":15813540,"reputation":3,"user_id":11409913,"display_name":"Unicorn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75789853,"answer_count":3,"score":0,"last_activity_date":1679320252,"creation_date":1679298400,"question_id":75787651,"body_markdown":"I was reading Java Concurrency In Practice, and saw a program like this:\r\n\r\n```\r\nimport java.math.BigInteger;\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class TestImmutable {\r\n\r\n    private volatile OneValueCache cache =\r\n            new OneValueCache(new BigInteger(&quot;1&quot;), new BigInteger[]{new BigInteger(&quot;1&quot;)});\r\n\r\n    public void service(int sec) {\r\n        Random random = new Random();\r\n        BigInteger i = new BigInteger(String.valueOf(random.nextInt()));\r\n        BigInteger[] factors = cache.getFactors(i, sec);\r\n        if (factors == null) {\r\n            factors = new BigInteger[]{i};\r\n            cache = new OneValueCache(i, factors);\r\n            System.out.println(&quot;After update: &quot; + cache);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        TestImmutable testImmutable = new TestImmutable();\r\n        new Thread(() -&gt; testImmutable.service(0)).start();\r\n        new Thread(() -&gt; testImmutable.service(15)).start();\r\n    }\r\n\r\n}\r\n\r\n\r\nclass OneValueCache {\r\n    private final BigInteger lastNumber;\r\n    private final BigInteger[] lastFactors;\r\n\r\n    public OneValueCache(BigInteger i,\r\n                         BigInteger[] factors) {\r\n        lastNumber = i;\r\n        lastFactors = Arrays.copyOf(factors, factors.length);\r\n    }\r\n\r\n    public BigInteger[] getFactors(BigInteger i, int sec) {\r\n        try {\r\n            TimeUnit.SECONDS.sleep(sec);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;Inside cache: &quot; + this);\r\n        if (lastNumber == null || !lastNumber.equals(i))\r\n            return null;\r\n        else\r\n            return Arrays.copyOf(lastFactors, lastFactors.length);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OneValueCache{&quot; +\r\n                &quot;lastNumber=&quot; + lastNumber +\r\n                &quot;, lastFactors=&quot; + Arrays.toString(lastFactors) +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nIt says in the book because class `OneValueCache` is immutable, so its usage in `TestImmutable` is thread safe.\r\n\r\nHowever I&#39;m curious about what happens if one thread gets suspended when **in the middle of executing** `cache.getFactors(...)` and then another thread updates the `cache` reference, then the first thread continues to execute the code. In this case which object is the first thread is working with, object before or after the second thread updated?\r\n\r\nThe code above was intended to create a scenario like this, but i can&#39;t control when and where the thread gets suspended, so I don&#39;t think its working right.","title":"What happens in java when a thread gets suspended in the middle of invoking a method on a field while another thread changes the field?","body":"<p>I was reading Java Concurrency In Practice, and saw a program like this:</p>\n<pre><code>import java.math.BigInteger;\nimport java.util.Arrays;\nimport java.util.Random;\nimport java.util.concurrent.TimeUnit;\n\npublic class TestImmutable {\n\n    private volatile OneValueCache cache =\n            new OneValueCache(new BigInteger(&quot;1&quot;), new BigInteger[]{new BigInteger(&quot;1&quot;)});\n\n    public void service(int sec) {\n        Random random = new Random();\n        BigInteger i = new BigInteger(String.valueOf(random.nextInt()));\n        BigInteger[] factors = cache.getFactors(i, sec);\n        if (factors == null) {\n            factors = new BigInteger[]{i};\n            cache = new OneValueCache(i, factors);\n            System.out.println(&quot;After update: &quot; + cache);\n        }\n    }\n\n    public static void main(String[] args) {\n        TestImmutable testImmutable = new TestImmutable();\n        new Thread(() -&gt; testImmutable.service(0)).start();\n        new Thread(() -&gt; testImmutable.service(15)).start();\n    }\n\n}\n\n\nclass OneValueCache {\n    private final BigInteger lastNumber;\n    private final BigInteger[] lastFactors;\n\n    public OneValueCache(BigInteger i,\n                         BigInteger[] factors) {\n        lastNumber = i;\n        lastFactors = Arrays.copyOf(factors, factors.length);\n    }\n\n    public BigInteger[] getFactors(BigInteger i, int sec) {\n        try {\n            TimeUnit.SECONDS.sleep(sec);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Inside cache: &quot; + this);\n        if (lastNumber == null || !lastNumber.equals(i))\n            return null;\n        else\n            return Arrays.copyOf(lastFactors, lastFactors.length);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OneValueCache{&quot; +\n                &quot;lastNumber=&quot; + lastNumber +\n                &quot;, lastFactors=&quot; + Arrays.toString(lastFactors) +\n                '}';\n    }\n}\n</code></pre>\n<p>It says in the book because class <code>OneValueCache</code> is immutable, so its usage in <code>TestImmutable</code> is thread safe.</p>\n<p>However I'm curious about what happens if one thread gets suspended when <strong>in the middle of executing</strong> <code>cache.getFactors(...)</code> and then another thread updates the <code>cache</code> reference, then the first thread continues to execute the code. In this case which object is the first thread is working with, object before or after the second thread updated?</p>\n<p>The code above was intended to create a scenario like this, but i can't control when and where the thread gets suspended, so I don't think its working right.</p>\n"},{"tags":["c#","java","string"],"comments":[{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1429924477,"post_id":3581741,"comment_id":47845600,"body_markdown":"Are you looking for a solution that only works on strings guaranteed not to contain any non-16-bit Unicode characters? Or are you looking for a solution that works on an arbitrary string?","body":"Are you looking for a solution that only works on strings guaranteed not to contain any non-16-bit Unicode characters? Or are you looking for a solution that works on an arbitrary string?"}],"answers":[{"tags":[],"owner":{"account_id":12060,"reputation":33202,"user_id":23574,"display_name":"shahkalpesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1282889744,"creation_date":1282889429,"answer_id":3581745,"question_id":3581741,"body_markdown":"    string sample = &quot;ratty&quot;;\r\n    Console.WriteLine(sample[0]);\r\n\r\nAnd\r\n\r\n&lt;strike&gt;\r\n`Console.WriteLine(sample.Chars(0));`  \r\nReference: http://msdn.microsoft.com/en-us/library/system.string.chars%28v=VS.71%29.aspx\r\n&lt;/strike&gt;\r\n\r\nThe above is same as using indexers in c#.","title":"C# equivalent to Java&#39;s charAt()?","body":"<pre><code>string sample = \"ratty\";\nConsole.WriteLine(sample[0]);\n</code></pre>\n\n<p>And</p>\n\n<p><strike>\n<code>Console.WriteLine(sample.Chars(0));</code><br>\nReference: <a href=\"http://msdn.microsoft.com/en-us/library/system.string.chars%28v=VS.71%29.aspx\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/library/system.string.chars%28v=VS.71%29.aspx</a>\n</strike></p>\n\n<p>The above is same as using indexers in c#.</p>\n"},{"comments":[{"owner":{"account_id":3166028,"reputation":371,"user_id":2676026,"accept_rate":83,"display_name":"qzcx"},"score":2,"creation_date":1425089403,"post_id":3581751,"comment_id":45832657,"body_markdown":"I think it should be pointed out that str.Substring(8,1) works as a solution, but it is much slower. Just found that out the hard way.","body":"I think it should be pointed out that str.Substring(8,1) works as a solution, but it is much slower. Just found that out the hard way."}],"tags":[],"owner":{"account_id":81997,"reputation":7790,"user_id":230892,"display_name":"Zach"},"comment_count":1,"down_vote_count":1,"up_vote_count":245,"is_accepted":true,"score":244,"last_activity_date":1395263563,"creation_date":1282889458,"answer_id":3581751,"question_id":3581741,"body_markdown":"You can index into a string in C# like an array, and you get the character at that index.\r\n\r\nExample:\r\n\r\nIn Java, you would say \r\n\r\n    str.charAt(8);\r\n\r\nIn C#, you would say \r\n\r\n    str[8];","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>You can index into a string in C# like an array, and you get the character at that index.</p>\n\n<p>Example:</p>\n\n<p>In Java, you would say </p>\n\n<pre><code>str.charAt(8);\n</code></pre>\n\n<p>In C#, you would say </p>\n\n<pre><code>str[8];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191828,"reputation":1,"user_id":432640,"display_name":"AndrewJames57"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1638261028,"creation_date":1282893358,"answer_id":3582091,"question_id":3581741,"body_markdown":"`Console.WriteLine` allows the user to specify a position in a string.\r\n\r\nSee below sample code:\r\n\r\n    string str = &quot;Tigger&quot;;\r\n    Console.WriteLine( str[0] ); //returns &quot;T&quot;;\r\n    Console.WriteLine( str[2] ); //returns &quot;g&quot;;\r\n\r\nThere you go!\r\n","title":"C# equivalent to Java&#39;s charAt()?","body":"<p><code>Console.WriteLine</code> allows the user to specify a position in a string.</p>\n<p>See below sample code:</p>\n<pre><code>string str = &quot;Tigger&quot;;\nConsole.WriteLine( str[0] ); //returns &quot;T&quot;;\nConsole.WriteLine( str[2] ); //returns &quot;g&quot;;\n</code></pre>\n<p>There you go!</p>\n"},{"tags":[],"owner":{"account_id":5344962,"reputation":1,"user_id":4260753,"display_name":"swapnil rawat"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1416222218,"creation_date":1416220559,"answer_id":26970703,"question_id":3581741,"body_markdown":"please try to make it as a character \r\n\r\n    string str = &quot;Tigger&quot;;\r\n    //then str[0] will return &#39;T&#39; not &quot;T&quot;","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>please try to make it as a character </p>\n\n<pre><code>string str = \"Tigger\";\n//then str[0] will return 'T' not \"T\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7152145,"reputation":52,"user_id":5465778,"display_name":"Harshad Karemore"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1462171314,"creation_date":1462171314,"answer_id":36976369,"question_id":3581741,"body_markdown":"you can use LINQ \r\n\r\n    string abc = &quot;abc&quot;;\r\n    char getresult = abc.Where((item, index) =&gt; index == 2).Single();","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>you can use LINQ </p>\n\n<pre><code>string abc = \"abc\";\nchar getresult = abc.Where((item, index) =&gt; index == 2).Single();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1821777,"reputation":6462,"user_id":1655674,"display_name":"Dave Doknjas"},"score":0,"creation_date":1507996194,"post_id":46746014,"comment_id":80438879,"body_markdown":"Why would you use an IEnumerable extension method, when you can just do what the others mentioned many years ago? (Built-in string indexing).","body":"Why would you use an IEnumerable extension method, when you can just do what the others mentioned many years ago? (Built-in string indexing)."}],"tags":[],"owner":{"account_id":11994134,"reputation":1,"user_id":8776262,"display_name":"Nguyn Trn Hin"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1507993858,"creation_date":1507993858,"answer_id":46746014,"question_id":3581741,"body_markdown":"Simply use `String.ElementAt()`. It&#39;s quite similar to java&#39;s `String.charAt()`. Have fun coding!","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>Simply use <code>String.ElementAt()</code>. It's quite similar to java's <code>String.charAt()</code>. Have fun coding!</p>\n"},{"tags":[],"owner":{"account_id":4830591,"reputation":21,"user_id":3898882,"display_name":"user3898882"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679319983,"creation_date":1679319983,"answer_id":75791053,"question_id":3581741,"body_markdown":"In C#, the string must be static for saying :\r\n\r\nstr[8];\r\n","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>In C#, the string must be static for saying :</p>\n<p>str[8];</p>\n"}],"owner":{"account_id":85045,"reputation":13256,"user_id":237363,"accept_rate":54,"display_name":"ratty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225568,"favorite_count":0,"down_vote_count":0,"up_vote_count":142,"accepted_answer_id":3581751,"answer_count":7,"score":142,"last_activity_date":1679319983,"creation_date":1282889344,"question_id":3581741,"body_markdown":"I know we can use the `charAt()` method in Java get an individual character in a string by specifying its position. Is there an equivalent method in C#?","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>I know we can use the <code>charAt()</code> method in Java get an individual character in a string by specifying its position. Is there an equivalent method in C#?</p>\n"},{"tags":["java","azure","log4j2","apache-commons-logging","azure-file-share"],"owner":{"account_id":1542148,"reputation":559,"user_id":1436519,"display_name":"jsjunkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679319499,"creation_date":1679319499,"question_id":75790963,"body_markdown":"We have a strange problem with our application logs getting written to a shared file storage in Azure. We write some deserialiszed object into a file using common-logging and log4j2 2.17. \r\n\r\nThe logs in shared drive sometime write few lines with NUL character and actual log lines are lost.\r\n\r\nTo check whether its shared drive issue, we started writing same log to another file within VM storage and logs in this VM file appear normal.\r\n\r\nLog in shared drive appears like in notepad++\r\n{correct log entry}\r\nNULNULNULUNULNULNUL\r\n{correct log entry}\r\n\r\nThe code to write logs is as following\r\n\r\n`    public class MyCustomLogger {\r\n    \tprivate static Log LOGGER = LogFactory.getLog(MyCustomLogger.class);\r\n\r\n    \tpublic void logEvent(EventObject event) {\r\n\r\n \t\t\tString result = null;\r\n    \t\ttry {\r\n    \t\t    result = ms_jsonObjectMapper.writeValueAsString(event);\r\n    \t\t}  catch (Exception e) {\r\n    \t\t    logger.myError(&quot;Error while serialising record&quot; + event);\r\n    \t\t    e.printStackTrace();\r\n    \t\t}\r\n    \t\tLOGGER.trace(result);\r\n\r\n    \t}\r\n\r\n    }`\r\n\r\n\r\nI tried to see if there is connectivity issue in file share but Azure portal shows 100% availability and less success E2E latency. Tried to reproduce locally by reading same log file from few threads and one thread updating it.\r\n\r\nI am expecting some pointers. What could be wrong here. Is it application issue or Infra or network issue?","title":"Garbled Text in log file on shared drive but no issue in VM local storage","body":"<p>We have a strange problem with our application logs getting written to a shared file storage in Azure. We write some deserialiszed object into a file using common-logging and log4j2 2.17.</p>\n<p>The logs in shared drive sometime write few lines with NUL character and actual log lines are lost.</p>\n<p>To check whether its shared drive issue, we started writing same log to another file within VM storage and logs in this VM file appear normal.</p>\n<p>Log in shared drive appears like in notepad++\n{correct log entry}\nNULNULNULUNULNULNUL\n{correct log entry}</p>\n<p>The code to write logs is as following</p>\n<p>`    public class MyCustomLogger {\nprivate static Log LOGGER = LogFactory.getLog(MyCustomLogger.class);</p>\n<pre><code>    public void logEvent(EventObject event) {\n\n        String result = null;\n        try {\n            result = ms_jsonObjectMapper.writeValueAsString(event);\n        }  catch (Exception e) {\n            logger.myError(&quot;Error while serialising record&quot; + event);\n            e.printStackTrace();\n        }\n        LOGGER.trace(result);\n\n    }\n\n}`\n</code></pre>\n<p>I tried to see if there is connectivity issue in file share but Azure portal shows 100% availability and less success E2E latency. Tried to reproduce locally by reading same log file from few threads and one thread updating it.</p>\n<p>I am expecting some pointers. What could be wrong here. Is it application issue or Infra or network issue?</p>\n"},{"tags":["java","react-native","kotlin","android-runtime"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1679328579,"post_id":75790932,"comment_id":133698106,"body_markdown":"Sounds like you are compiling against a newer version of Kotlin vs what you have runtime","body":"Sounds like you are compiling against a newer version of Kotlin vs what you have runtime"}],"owner":{"account_id":28065842,"reputation":1,"user_id":21439250,"display_name":"user21439250"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679319465,"creation_date":1679319271,"question_id":75790932,"body_markdown":"I am using react native (v0.71.4) to create a java (v11.0.18) android app. The android app pulls in an external SDK. The external SDK is initialized in a function in MainActivity.java: `public void onCreate(Bundle savedInstanceState)`.  \r\n\r\nWhen building the app using `npx react-native run-android` the build succeeds and installs on the android device but produces a runtime error. Using `adb logcat` the error runtime error is\r\n```\r\nAndroidRuntime: java.lang.NoSuchMethodError: No static method get-impl([BI)B in class Lkotlin/UByteArray; or its super classes (declaration of &#39;kotlin.UByteArray&#39; appears in /data/app/~~TcPFCAfQ3Z3vT26DyA1qbw==/com.xxxxxx-ANZxNTjuMdf2j9d9-5lFXA==/base.apk!classes14.dex)\r\nAndroidRuntime:   at xx.xx.xxxx.common.bitwise.UbytearrayKt.xToHexString-GBYM_sE(:105)\r\n\r\n...\r\n\r\nat com.xxxxx.MainActivity.onCreate(MainActivity.java:26)\r\n\r\n```\r\n","title":"AndroidRuntime Error: No static method get-impl([BI)B in class Lkotlin/UByteArray","body":"<p>I am using react native (v0.71.4) to create a java (v11.0.18) android app. The android app pulls in an external SDK. The external SDK is initialized in a function in MainActivity.java: <code>public void onCreate(Bundle savedInstanceState)</code>.</p>\n<p>When building the app using <code>npx react-native run-android</code> the build succeeds and installs on the android device but produces a runtime error. Using <code>adb logcat</code> the error runtime error is</p>\n<pre><code>AndroidRuntime: java.lang.NoSuchMethodError: No static method get-impl([BI)B in class Lkotlin/UByteArray; or its super classes (declaration of 'kotlin.UByteArray' appears in /data/app/~~TcPFCAfQ3Z3vT26DyA1qbw==/com.xxxxxx-ANZxNTjuMdf2j9d9-5lFXA==/base.apk!classes14.dex)\nAndroidRuntime:   at xx.xx.xxxx.common.bitwise.UbytearrayKt.xToHexString-GBYM_sE(:105)\n\n...\n\nat com.xxxxx.MainActivity.onCreate(MainActivity.java:26)\n\n</code></pre>\n"},{"tags":["java","regex","newline"],"comments":[{"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"score":1,"creation_date":1332561974,"post_id":9849015,"comment_id":12553548,"body_markdown":"Either works.  See the answers to [this question](http://stackoverflow.com/questions/9113328/java-regular-expression-need-to-escape-backslash-in-regex) for a great explanation.","body":"Either works.  See the answers to <a href=\"http://stackoverflow.com/questions/9113328/java-regular-expression-need-to-escape-backslash-in-regex\">this question</a> for a great explanation."}],"answers":[{"tags":[],"owner":{"account_id":376483,"reputation":5120,"user_id":727980,"accept_rate":82,"display_name":"mikey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332561536,"creation_date":1332561536,"answer_id":9849033,"question_id":9849015,"body_markdown":"Looks good.  You don&#39;t want 2 backslashes.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>Looks good.  You don't want 2 backslashes.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum</a></p>\n"},{"tags":[],"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1332561631,"creation_date":1332561631,"answer_id":9849037,"question_id":9849015,"body_markdown":"No need for 2 `backslashes`.\r\n\r\n     String string = &quot;hello \\n world&quot; ;\r\n     String str = string.replaceAll(&quot;\\n&quot;, &quot; --linebreak-- &quot;);\r\n     System.out.println(str);\r\n\r\nOutput = `hello  --linebreak--  world`","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>No need for 2 <code>backslashes</code>.</p>\n\n<pre><code> String string = \"hello \\n world\" ;\n String str = string.replaceAll(\"\\n\", \" --linebreak-- \");\n System.out.println(str);\n</code></pre>\n\n<p>Output = <code>hello  --linebreak--  world</code></p>\n"},{"comments":[{"owner":{"account_id":1222690,"reputation":555,"user_id":1188998,"display_name":"Mahdi Esmaeili"},"score":0,"creation_date":1524001449,"post_id":9849043,"comment_id":86791924,"body_markdown":"s.replaceAll(&quot;\\r?\\n&quot;, &quot; --linebreak-- &quot;); work for me","body":"s.replaceAll(&quot;\\r?\\n&quot;, &quot; --linebreak-- &quot;); work for me"},{"owner":{"account_id":67096,"reputation":24787,"user_id":196507,"accept_rate":90,"display_name":"lepe"},"score":1,"creation_date":1580100156,"post_id":9849043,"comment_id":105973033,"body_markdown":"Can also be: `s.replaceAll(/^#.*\\\\r?\\\\n/, &quot;&quot;)` . Example using regex delimiters to remove comments.","body":"Can also be: <code>s.replaceAll(&#47;^#.*\\\\r?\\\\n&#47;, &quot;&quot;)</code> . Example using regex delimiters to remove comments."}],"tags":[],"owner":{"account_id":117025,"reputation":5019,"user_id":306643,"accept_rate":76,"display_name":"kandarp"},"comment_count":2,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1332561730,"creation_date":1332561730,"answer_id":9849043,"question_id":9849015,"body_markdown":"Use below regex:\r\n   \r\n\r\n     s.replaceAll(&quot;\\\\r?\\\\n&quot;, &quot; --linebreak-- &quot;)\r\n\r\nThere&#39;s only really two newlines for UNIX and Windows OS.","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>Use below regex:</p>\n\n<pre><code> s.replaceAll(\"\\\\r?\\\\n\", \" --linebreak-- \")\n</code></pre>\n\n<p>There's only really two newlines for UNIX and Windows OS.</p>\n"},{"comments":[{"owner":{"account_id":441688,"reputation":4305,"user_id":831923,"accept_rate":82,"display_name":"Tim"},"score":2,"creation_date":1332618513,"post_id":9850262,"comment_id":12562166,"body_markdown":"So are you saying to use replace() inside a loop instead of using replaceAll() once? I dont understand why that&#39;s a better idea?","body":"So are you saying to use replace() inside a loop instead of using replaceAll() once? I dont understand why that&#39;s a better idea?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":8,"creation_date":1332632436,"post_id":9850262,"comment_id":12564842,"body_markdown":"@Tim Calling `replace()` *once* replaces *all* occurrences (no &quot;loop&quot; required)","body":"@Tim Calling <code>replace()</code> <i>once</i> replaces <i>all</i> occurrences (no &quot;loop&quot; required)"},{"owner":{"account_id":441688,"reputation":4305,"user_id":831923,"accept_rate":82,"display_name":"Tim"},"score":0,"creation_date":1332690633,"post_id":9850262,"comment_id":12572195,"body_markdown":"Oh wow. Thank you, for some reason I overlooked that when reading the spec.","body":"Oh wow. Thank you, for some reason I overlooked that when reading the spec."},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1431033879,"post_id":9850262,"comment_id":48334722,"body_markdown":"@Bohemian Not sure if that&#39;s totally true--in a string with a bunch of multiple-spaces ( &quot;    &quot; ), doing replaceAll(&quot;\\\\s+&quot;,&quot; &quot;) will reduce all multi-space sections down to one, but simply replace(...) will only do it once.","body":"@Bohemian Not sure if that&#39;s totally true--in a string with a bunch of multiple-spaces ( &quot;    &quot; ), doing replaceAll(&quot;\\\\s+&quot;,&quot; &quot;) will reduce all multi-space sections down to one, but simply replace(...) will only do it once."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":8,"creation_date":1431039959,"post_id":9850262,"comment_id":48337122,"body_markdown":"@Amalgovinus `replace()` replaces them all. The problem is that `replaceAll()` is badly named: Both methods replace all occurrences - the only difference between them is that `replaceAll()` uses *regex* for finding matches, while replace uses plain text.","body":"@Amalgovinus <code>replace()</code> replaces them all. The problem is that <code>replaceAll()</code> is badly named: Both methods replace all occurrences - the only difference between them is that <code>replaceAll()</code> uses <i>regex</i> for finding matches, while replace uses plain text."},{"owner":{"account_id":21606,"reputation":4485,"user_id":52629,"display_name":"Matt"},"score":0,"creation_date":1536855985,"post_id":9850262,"comment_id":91583274,"body_markdown":"I use `string = string.replace(&quot;\\\\n&quot;, System.lineSeparator());` Edit: But that is when I&#39;m passing &#39;new line characters&#39; in from an external source (like from the command line).. so the above code replaces the literal &#39;/n&#39; with an actual &#39;new line&#39;, you might have been trying to do the reverse.","body":"I use <code>string = string.replace(&quot;\\\\n&quot;, System.lineSeparator());</code> Edit: But that is when I&#39;m passing &#39;new line characters&#39; in from an external source (like from the command line).. so the above code replaces the literal &#39;/n&#39; with an actual &#39;new line&#39;, you might have been trying to do the reverse."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":6,"down_vote_count":3,"up_vote_count":79,"is_accepted":true,"score":76,"last_activity_date":1445551763,"creation_date":1332578150,"answer_id":9850262,"question_id":9849015,"body_markdown":"**Don&#39;t use regex!**. You only need a plain-text match to replace `&quot;\\n&quot;`.\r\n\r\nUse [`replace()`][1] to replace a literal string with another:\r\n\r\n    string = string.replace(&quot;\\n&quot;, &quot; --linebreak-- &quot;);\r\n\r\nNote that `replace()` still replaces *all* occurrences, as does `replaceAll()` - the difference is that [`replaceAll()`][2] uses regex to search.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replace-java.lang.CharSequence-java.lang.CharSequence-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p><strong>Don't use regex!</strong>. You only need a plain-text match to replace <code>\"\\n\"</code>.</p>\n\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replace-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"noreferrer\"><code>replace()</code></a> to replace a literal string with another:</p>\n\n<pre><code>string = string.replace(\"\\n\", \" --linebreak-- \");\n</code></pre>\n\n<p>Note that <code>replace()</code> still replaces <em>all</em> occurrences, as does <code>replaceAll()</code> - the difference is that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-\" rel=\"noreferrer\"><code>replaceAll()</code></a> uses regex to search.</p>\n"},{"tags":[],"owner":{"account_id":5856157,"reputation":282,"user_id":4613329,"accept_rate":71,"display_name":"JavaLearner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441178674,"creation_date":1441178674,"answer_id":32346957,"question_id":9849015,"body_markdown":"for new line there is a property\r\n\r\n    System.getProperty(&quot;line.separator&quot;)\r\n\r\nHere as for your example,\r\n\r\n    string.replaceAll(&quot;\\n&quot;, System.getProperty(&quot;line.separator&quot;));","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>for new line there is a property</p>\n\n<pre><code>System.getProperty(\"line.separator\")\n</code></pre>\n\n<p>Here as for your example,</p>\n\n<pre><code>string.replaceAll(\"\\n\", System.getProperty(\"line.separator\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":198360,"reputation":3548,"user_id":442968,"accept_rate":67,"display_name":"Rondo"},"score":0,"creation_date":1450399313,"post_id":33931461,"comment_id":56435346,"body_markdown":"The other thing that is happening is that the first arg to replaceAll can be a flat string or a regex. In a String the &quot;\\n&quot; is interpreted as a literal, but if you include other regex only symbols, like brackets for char sets, then you need the extra slash in order to get correct string to the regex compiler, as you say......eg,  &quot;[\\\\r\\\\n]+&quot;","body":"The other thing that is happening is that the first arg to replaceAll can be a flat string or a regex. In a String the &quot;\\n&quot; is interpreted as a literal, but if you include other regex only symbols, like brackets for char sets, then you need the extra slash in order to get correct string to the regex compiler, as you say......eg,  &quot;[\\\\r\\\\n]+&quot;"}],"tags":[],"owner":{"account_id":938262,"reputation":3687,"user_id":966798,"display_name":"Matt"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448517112,"creation_date":1448517112,"answer_id":33931461,"question_id":9849015,"body_markdown":"Just adding this for completeness, because the 2 backslash thing is real.\r\n\r\nRefer to @dasblinkenlight answer in the following SO question (talking about \\t but it applies for \\n as well):\r\n\r\nhttps://stackoverflow.com/questions/9113328/java-regular-expression-need-to-escape-backslash-in-regex\r\n\r\n&quot;There are two interpretations of escape sequences going on: first by the Java compiler, and then by the regexp engine. When Java compiler sees two slashes, it replaces them with a single slash. When there is t following a slash, Java replaces it with a tab; when there is a t following a double-slash, Java leaves it alone. However, because two slashes have been replaced by a single slash, regexp engine sees \\t, and interprets it as a tab.&quot;","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>Just adding this for completeness, because the 2 backslash thing is real.</p>\n\n<p>Refer to @dasblinkenlight answer in the following SO question (talking about \\t but it applies for \\n as well):</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9113328/java-regular-expression-need-to-escape-backslash-in-regex\">java, regular expression, need to escape backslash in regex</a></p>\n\n<p>\"There are two interpretations of escape sequences going on: first by the Java compiler, and then by the regexp engine. When Java compiler sees two slashes, it replaces them with a single slash. When there is t following a slash, Java replaces it with a tab; when there is a t following a double-slash, Java leaves it alone. However, because two slashes have been replaced by a single slash, regexp engine sees \\t, and interprets it as a tab.\"</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1679319416,"creation_date":1461010318,"answer_id":36703426,"question_id":9849015,"body_markdown":"Since Java 8 regex engine supports `\\R` which represents any line separator (little more info: https://stackoverflow.com/a/31060125/1393766). \r\n\r\nSo if you have access to Java 8 or above you can use \r\n\r\n    string = string.replaceAll(&quot;\\\\R&quot;, &quot; --linebreak-- &quot;);","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>Since Java 8 regex engine supports <code>\\R</code> which represents any line separator (little more info: <a href=\"https://stackoverflow.com/a/31060125/1393766\">https://stackoverflow.com/a/31060125/1393766</a>).</p>\n<p>So if you have access to Java 8 or above you can use</p>\n<pre><code>string = string.replaceAll(&quot;\\\\R&quot;, &quot; --linebreak-- &quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659496435,"creation_date":1659496435,"answer_id":73215922,"question_id":9849015,"body_markdown":"In my case I wanted to replace with literal &#39;\\n&#39; so I escaped the `\\` with another `\\` like so \r\n\r\n    String input = &quot;a\\nb\\nc\\nd&quot;;\r\n    /*\r\n    a\r\n    b\r\n    c\r\n    d \r\n    */\r\n\tinput = input.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\r\n\tSystem.out.println(input); // a\\nb\\nc\\nd","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>In my case I wanted to replace with literal '\\n' so I escaped the <code>\\</code> with another <code>\\</code> like so</p>\n<pre><code>String input = &quot;a\\nb\\nc\\nd&quot;;\n/*\na\nb\nc\nd \n*/\ninput = input.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\nSystem.out.println(input); // a\\nb\\nc\\nd\n</code></pre>\n"}],"owner":{"account_id":441688,"reputation":4305,"user_id":831923,"accept_rate":82,"display_name":"Tim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86137,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":9850262,"answer_count":8,"score":47,"last_activity_date":1679319416,"creation_date":1332561348,"question_id":9849015,"body_markdown":"I have a string and would like to simply replace all of the newlines in it with the string `&quot; --linebreak-- &quot;`.\r\n\r\nWould it be enough to just write:\r\n\r\n    string = string.replaceAll(&quot;\\n&quot;, &quot; --linebreak-- &quot;);\r\n\r\nI&#39;m confused with the regex part of it. Do I need two slashes for the newline? Is this good enough?","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>I have a string and would like to simply replace all of the newlines in it with the string <code>\" --linebreak-- \"</code>.</p>\n\n<p>Would it be enough to just write:</p>\n\n<pre><code>string = string.replaceAll(\"\\n\", \" --linebreak-- \");\n</code></pre>\n\n<p>I'm confused with the regex part of it. Do I need two slashes for the newline? Is this good enough?</p>\n"},{"tags":["java","android","yahoo"],"comments":[{"owner":{"account_id":1200764,"reputation":5971,"user_id":1218762,"accept_rate":85,"display_name":"Ronak Mehta"},"score":0,"creation_date":1367492258,"post_id":16336144,"comment_id":23397872,"body_markdown":"see this http://stackoverflow.com/a/11119098/1218762","body":"see this <a href=\"http://stackoverflow.com/a/11119098/1218762\">stackoverflow.com/a/11119098/1218762</a>"},{"owner":{"account_id":2715187,"reputation":117,"user_id":2342717,"accept_rate":22,"display_name":"TJM"},"score":0,"creation_date":1367492565,"post_id":16336144,"comment_id":23398040,"body_markdown":"I already try student badge example but when i run this the application is asking for Oath pin in dialog box.And i don&#39;t know which type of Oath pin is asking for authorization for retrieving the contact ?","body":"I already try student badge example but when i run this the application is asking for Oath pin in dialog box.And i don&#39;t know which type of Oath pin is asking for authorization for retrieving the contact ?"},{"owner":{"account_id":3526072,"reputation":1082,"user_id":2955343,"accept_rate":71,"display_name":"Mr. N.V.Rao"},"score":0,"creation_date":1402027895,"post_id":16336144,"comment_id":37124481,"body_markdown":"see this..http://stackoverflow.com/questions/23781331/android-how-to-login-with-yahoo/24060638#24060638","body":"see this..<a href=\"http://stackoverflow.com/questions/23781331/android-how-to-login-with-yahoo/24060638#24060638\" title=\"android how to login with yahoo\">stackoverflow.com/questions/23781331/&hellip;</a>"}],"owner":{"account_id":2715187,"reputation":117,"user_id":2342717,"accept_rate":22,"display_name":"TJM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1497,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679319386,"creation_date":1367491815,"question_id":16336144,"body_markdown":"I&#39;m developing a yahoo login integration in Android App and return into main Activity. I have completed all the steps of yahoo integration.I have spent several days for searching yahoo integration in android but i cant find proper way.When i run this code and proper sign in yahoo email and when i click agree button it comes always call_Back URL. Please can anyone help mi.Here is my code\r\n\r\n     \r\n    public class RequestTokaenActivity2 extends Activity\r\n    {\r\n    \tprivate OAuthConsumer consumer;\r\n    \tprivate OAuthProvider provider;\r\n    \tprivate SharedPreferences yahooPrefs;\r\n    \tprivate CommonsHttpOAuthConsumer myConsumer;\r\n    \tprivate CommonsHttpOAuthProvider myProvider;\r\n    \tprivate String requestToken;\r\n    \tprivate String accessToken;\r\n    \t\r\n    \tpublic void onCreate(Bundle savedInstanceState)\r\n    \t{\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tconsumer=new CommonsHttpOAuthConsumer(c1.CONSUMER_KEY,c1.CONSUMER_SECRET);\r\n    \t\t\t\r\n    \t\t\tconsumer.setMessageSigner(new HmacSha1MessageSigner());\r\n    \t\t\tHttpClient httpCliet=new DefaultHttpClient();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tprovider=new CommonsHttpOAuthProvider(c1.REQUEST_URL,c1.ACCESS_URL,c1.AUTHORIZE_URL,httpCliet);\r\n    \t\t\tprovider.setOAuth10a(true);\r\n    \t\t\tString strUrl=provider.retrieveRequestToken(consumer,c1.OAUTH_CALLBACK_URL);\r\n    \t\t\trequestToken=consumer.getToken();\r\n    \t\t\tstartActivity(new Intent(Intent.ACTION_VIEW,Uri.parse(strUrl)));\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tcatch(Exception ex)\r\n    \t\t{\r\n    \t\t\tToast.makeText(getApplicationContext(),ex.getMessage(),Toast.LENGTH_LONG).show();\r\n    \t\t\tLog.e(ex.getMessage(), ex.toString());\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \t\r\n    \tpublic void onNewIntent(Intent intent)\r\n    \t{\r\n    \t\tsuper.onNewIntent(intent);\r\n    \t\tyahooPrefs=PreferenceManager.getDefaultSharedPreferences(getBaseContext());\r\n    \t\tfinal Uri uri=intent.getData();\r\n    \t\t\r\n    \t\tif(uri!=null &amp;&amp; uri.getScheme().equals(c1.OAUTH_CALLBACK_SCHEME))\r\n    \t\t{\r\n    \t\t\tLog.i(c1.TAG, &quot;Callback received : &quot; + uri);\r\n    \t\t\tLog.i(c1.TAG, &quot;Retrieving Access Token&quot;);\r\n    \t\t\tgetAccessToken(uri);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate void getRequestToken()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tString url=provider.retrieveRequestToken(consumer, c1.OAUTH_CALLBACK_URL);\r\n    \t\t\tIntent i=new Intent(Intent.ACTION_VIEW , Uri.parse(url)).setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_FROM_BACKGROUND );\r\n    \t\t\tthis.startActivity(i);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tcatch(Exception e1)\r\n    \t\t{\r\n    \t\t\te1.printStackTrace();\r\n    \t\t\tLog.e(c1.TAG, &quot;Error retrieving request token&quot;, e1);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void getAccessToken(Uri uri)\r\n    \t{\r\n    \t\t\r\n    \t\tfinal String oauthVerifier=uri.getQueryParameter(OAuth.OAUTH_VERIFIER);\r\n    \t\tfinal Editor edit=yahooPrefs.edit();\r\n    \t\tedit.putString(OAuth.OAUTH_TOKEN,consumer.getToken());\r\n    \t\tedit.putString(OAuth.OAUTH_TOKEN_SECRET,consumer.getTokenSecret());\r\n    \t\tedit.commit();\r\n    \t\t\r\n    \t\tString token=yahooPrefs.getString(OAuth.OAUTH_TOKEN, &quot;&quot;);\r\n    \t\tString secret=yahooPrefs.getString(OAuth.OAUTH_TOKEN_SECRET,&quot;&quot;);\r\n    \t\t\r\n    \t\tconsumer.setTokenWithSecret(token, secret);\r\n    \t\tthis.startActivity(new Intent(this,OAuthMain.class));\r\n    \t\tLog.i(c1.TAG, &quot;Access Token Retrieved&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n      public class c1 \r\n        {\r\n        \tpublic static final String CONSUMER_KEY \t= &quot;xxxxxxxxxx&quot;;\r\n        \tpublic static final String CONSUMER_SECRET \t= &quot;xxxxxxxxxx&quot;;\r\n        \r\n        \t\r\n        \tpublic static final String SCOPE \t\t\t= &quot;http://social.yahooapis.com/v1/user/&quot;;\r\n        \t\r\n        \tpublic static final String REQUEST_URL \t\t= &quot;https://api.login.yahoo.com/oauth/v2/get_request_token&quot;;\r\n        \t\r\n        \t//https://api.login.yahoo.com/oauth/v2/\r\n        \r\n        \tpublic static final String ACCESS_URL \t\t= &quot;https://api.login.yahoo.com/oauth/v2/get_access_token&quot;; \r\n        \t//https://api.login.yahoo.com/oauth/v2/get_token&quot;\r\n        \t\r\n        \tpublic static final String AUTHORIZE_URL \t= &quot;https://api.login.yahoo.com/oauth/v2/request_auth&quot;;\r\n        \t//https://api.login.yahoo.com/oauth/v2/request_auth&quot;\r\n        \t//public static final String UNAUTHORIZE_URL  = &quot;https://accounts.google.com/o/oauth2/revoke&quot;;\r\n        \t\t\r\n        \tpublic static final String GET_CONTACTS_FROM_YAHOO_REQUEST=&quot;http://social.yahooapis.com/v1/user/{guid}/contacts&quot;;\r\n        \t\r\n        \tpublic static final String ENCODING = &quot;UTF-8&quot;;\r\n        \t\r\n        \tpublic static final String\tOAUTH_CALLBACK_SCHEME\t= &quot;http&quot;;\r\n        \tpublic static final String\tOAUTH_CALLBACK_HOST\t\t= &quot;www.bcod.co.in&quot;;\r\n        \tpublic static final String\tOAUTH_CALLBACK_URL\t\t= OAUTH_CALLBACK_SCHEME + &quot;://&quot; + OAUTH_CALLBACK_HOST;\r\n        \tpublic static final String\tAPP_NAME                = &quot;Demo_Oauth1&quot;;\r\n        \tpublic static final String  TAG = null;\r\n        \r\n        }\r\n\r\n\r\nThanks in advanced .","title":"How to yahoo integration in Android?","body":"<p>I'm developing a yahoo login integration in Android App and return into main Activity. I have completed all the steps of yahoo integration.I have spent several days for searching yahoo integration in android but i cant find proper way.When i run this code and proper sign in yahoo email and when i click agree button it comes always call_Back URL. Please can anyone help mi.Here is my code</p>\n<pre><code>public class RequestTokaenActivity2 extends Activity\n{\n    private OAuthConsumer consumer;\n    private OAuthProvider provider;\n    private SharedPreferences yahooPrefs;\n    private CommonsHttpOAuthConsumer myConsumer;\n    private CommonsHttpOAuthProvider myProvider;\n    private String requestToken;\n    private String accessToken;\n    \n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        \n        try\n        {\n            consumer=new CommonsHttpOAuthConsumer(c1.CONSUMER_KEY,c1.CONSUMER_SECRET);\n            \n            consumer.setMessageSigner(new HmacSha1MessageSigner());\n            HttpClient httpCliet=new DefaultHttpClient();\n            \n            \n            provider=new CommonsHttpOAuthProvider(c1.REQUEST_URL,c1.ACCESS_URL,c1.AUTHORIZE_URL,httpCliet);\n            provider.setOAuth10a(true);\n            String strUrl=provider.retrieveRequestToken(consumer,c1.OAUTH_CALLBACK_URL);\n            requestToken=consumer.getToken();\n            startActivity(new Intent(Intent.ACTION_VIEW,Uri.parse(strUrl)));\n            \n        }\n        \n        catch(Exception ex)\n        {\n            Toast.makeText(getApplicationContext(),ex.getMessage(),Toast.LENGTH_LONG).show();\n            Log.e(ex.getMessage(), ex.toString());\n            \n        }\n        \n    \n        \n    }\n    \n    @Override\n    \n    public void onNewIntent(Intent intent)\n    {\n        super.onNewIntent(intent);\n        yahooPrefs=PreferenceManager.getDefaultSharedPreferences(getBaseContext());\n        final Uri uri=intent.getData();\n        \n        if(uri!=null &amp;&amp; uri.getScheme().equals(c1.OAUTH_CALLBACK_SCHEME))\n        {\n            Log.i(c1.TAG, &quot;Callback received : &quot; + uri);\n            Log.i(c1.TAG, &quot;Retrieving Access Token&quot;);\n            getAccessToken(uri);\n        }\n        \n    }\n    \n    \n    private void getRequestToken()\n    {\n        try\n        {\n            String url=provider.retrieveRequestToken(consumer, c1.OAUTH_CALLBACK_URL);\n            Intent i=new Intent(Intent.ACTION_VIEW , Uri.parse(url)).setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_FROM_BACKGROUND );\n            this.startActivity(i);\n            \n            \n        }\n        catch(Exception e1)\n        {\n            e1.printStackTrace();\n            Log.e(c1.TAG, &quot;Error retrieving request token&quot;, e1);\n        }\n    }\n    \n    private void getAccessToken(Uri uri)\n    {\n        \n        final String oauthVerifier=uri.getQueryParameter(OAuth.OAUTH_VERIFIER);\n        final Editor edit=yahooPrefs.edit();\n        edit.putString(OAuth.OAUTH_TOKEN,consumer.getToken());\n        edit.putString(OAuth.OAUTH_TOKEN_SECRET,consumer.getTokenSecret());\n        edit.commit();\n        \n        String token=yahooPrefs.getString(OAuth.OAUTH_TOKEN, &quot;&quot;);\n        String secret=yahooPrefs.getString(OAuth.OAUTH_TOKEN_SECRET,&quot;&quot;);\n        \n        consumer.setTokenWithSecret(token, secret);\n        this.startActivity(new Intent(this,OAuthMain.class));\n        Log.i(c1.TAG, &quot;Access Token Retrieved&quot;);\n        \n    }\n\n}\n\n\n\n\n\n\n  public class c1 \n    {\n        public static final String CONSUMER_KEY     = &quot;xxxxxxxxxx&quot;;\n        public static final String CONSUMER_SECRET  = &quot;xxxxxxxxxx&quot;;\n    \n        \n        public static final String SCOPE            = &quot;http://social.yahooapis.com/v1/user/&quot;;\n        \n        public static final String REQUEST_URL      = &quot;https://api.login.yahoo.com/oauth/v2/get_request_token&quot;;\n        \n        //https://api.login.yahoo.com/oauth/v2/\n    \n        public static final String ACCESS_URL       = &quot;https://api.login.yahoo.com/oauth/v2/get_access_token&quot;; \n        //https://api.login.yahoo.com/oauth/v2/get_token&quot;\n        \n        public static final String AUTHORIZE_URL    = &quot;https://api.login.yahoo.com/oauth/v2/request_auth&quot;;\n        //https://api.login.yahoo.com/oauth/v2/request_auth&quot;\n        //public static final String UNAUTHORIZE_URL  = &quot;https://accounts.google.com/o/oauth2/revoke&quot;;\n            \n        public static final String GET_CONTACTS_FROM_YAHOO_REQUEST=&quot;http://social.yahooapis.com/v1/user/{guid}/contacts&quot;;\n        \n        public static final String ENCODING = &quot;UTF-8&quot;;\n        \n        public static final String  OAUTH_CALLBACK_SCHEME   = &quot;http&quot;;\n        public static final String  OAUTH_CALLBACK_HOST     = &quot;www.bcod.co.in&quot;;\n        public static final String  OAUTH_CALLBACK_URL      = OAUTH_CALLBACK_SCHEME + &quot;://&quot; + OAUTH_CALLBACK_HOST;\n        public static final String  APP_NAME                = &quot;Demo_Oauth1&quot;;\n        public static final String  TAG = null;\n    \n    }\n</code></pre>\n<p>Thanks in advanced .</p>\n"},{"tags":["java","spring-boot","event-handling","circuit-breaker","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":11568557,"reputation":1458,"user_id":8475994,"display_name":"athom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622520147,"creation_date":1622520147,"answer_id":67782564,"question_id":66458187,"body_markdown":"You can use the following to log the transition\r\n\r\n    circuitBreaker.getEventPublisher().onEvent(event -&gt; {\r\n       LOG.info(&quot;State change {}&quot;, event);\r\n    });","title":"Resilience4j - Log circuit breaker state change","body":"<p>You can use the following to log the transition</p>\n<pre><code>circuitBreaker.getEventPublisher().onEvent(event -&gt; {\n   LOG.info(&quot;State change {}&quot;, event);\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1672732075,"post_id":67782673,"comment_id":132335544,"body_markdown":"I want to achieve the same thing but I have declared the circuitBreaker in the application.yml. How to bring this to a java class and set this eventPublisher?","body":"I want to achieve the same thing but I have declared the circuitBreaker in the application.yml. How to bring this to a java class and set this eventPublisher?"},{"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"score":0,"creation_date":1694100562,"post_id":67782673,"comment_id":135849883,"body_markdown":"The issue with this approach is it prints too much logs instead of one log per transition, any help with that ??","body":"The issue with this approach is it prints too much logs instead of one log per transition, any help with that ??"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1694102285,"post_id":67782673,"comment_id":135850246,"body_markdown":"Its worth a separate question with a bit detailed descriprion. Ive never faced this behavior.","body":"Its worth a separate question with a bit detailed descriprion. Ive never faced this behavior."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1694142687,"post_id":67782673,"comment_id":135855492,"body_markdown":"Open a new question.","body":"Open a new question."},{"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"score":0,"creation_date":1694154564,"post_id":67782673,"comment_id":135856565,"body_markdown":"opened it here: https://stackoverflow.com/questions/77060899/override-the-onstatetransition-logging-in-circuit-breaker","body":"opened it here: <a href=\"https://stackoverflow.com/questions/77060899/override-the-onstatetransition-logging-in-circuit-breaker\" title=\"override the onstatetransition logging in circuit breaker\">stackoverflow.com/questions/77060899/&hellip;</a>"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622521563,"creation_date":1622521178,"answer_id":67782673,"question_id":66458187,"body_markdown":"You can consume the emitted events. This can be found in the CircuitBreaker module documentation, section [\r\nConsume emitted CircuitBreakerEvents][1].\r\n\r\n&gt; A CircuitBreakerEvent can be a state transition, a circuit breaker reset, a successful call, a recorded error or an ignored error. All events contains additional information like event creation time and processing duration of the call. If you want to consume events, you have to register an event consumer.\r\n\r\nYou are interested in the `onStateTransition` method (a full list of event consumers is [here][2]):\r\n\r\n```\r\ncircuitBreaker.getEventPublisher()\r\n              .onStateTransition(e -&gt; logger.info(e));\r\n```\r\n\r\nFeel free to log the whole event directly as it properly overrides the `toString` method and a sample log record looks like this:\r\n\r\n\r\n```\r\n2021-06-01T01:23:45.678901+00:00: CircuitBreaker &#39;myService&#39; changed state from CLOSED to OPEN\r\n```\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/v0.17.0/docs/circuitbreaker#consume-emitted-circuitbreakerevents\r\n  [2]: https://javadoc.io/static/io.github.resilience4j/resilience4j-circuitbreaker/1.7.0/io/github/resilience4j/circuitbreaker/CircuitBreaker.EventPublisher.html","title":"Resilience4j - Log circuit breaker state change","body":"<p>You can consume the emitted events. This can be found in the CircuitBreaker module documentation, section <a href=\"https://resilience4j.readme.io/v0.17.0/docs/circuitbreaker#consume-emitted-circuitbreakerevents\" rel=\"nofollow noreferrer\">\nConsume emitted CircuitBreakerEvents</a>.</p>\n<blockquote>\n<p>A CircuitBreakerEvent can be a state transition, a circuit breaker reset, a successful call, a recorded error or an ignored error. All events contains additional information like event creation time and processing duration of the call. If you want to consume events, you have to register an event consumer.</p>\n</blockquote>\n<p>You are interested in the <code>onStateTransition</code> method (a full list of event consumers is <a href=\"https://javadoc.io/static/io.github.resilience4j/resilience4j-circuitbreaker/1.7.0/io/github/resilience4j/circuitbreaker/CircuitBreaker.EventPublisher.html\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>circuitBreaker.getEventPublisher()\n              .onStateTransition(e -&gt; logger.info(e));\n</code></pre>\n<p>Feel free to log the whole event directly as it properly overrides the <code>toString</code> method and a sample log record looks like this:</p>\n<pre><code>2021-06-01T01:23:45.678901+00:00: CircuitBreaker 'myService' changed state from CLOSED to OPEN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382553,"reputation":3683,"user_id":737855,"display_name":"andro83"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679318708,"creation_date":1679318708,"answer_id":75790837,"question_id":66458187,"body_markdown":"I found it more convenient to add listener for CircuitBreaker events in configuration so I wouldn&#39;t need to add binding to each listener. This also reacts on dynamically added circuit breaker events.\r\n\r\n```\r\n@Bean\r\n    public RegistryEventConsumer&lt;CircuitBreaker&gt; myCircuitBreakerRegistryEventConsumer() {\r\n        return new RegistryEventConsumer&lt;&gt;() {\r\n            @Override\r\n            public void onEntryAddedEvent(EntryAddedEvent&lt;CircuitBreaker&gt; entryAddedEvent) {\r\n                entryAddedEvent.getAddedEntry().getEventPublisher().onStateTransition(event -&gt; log.info(event.toString()));\r\n            }\r\n\r\n            @Override\r\n            public void onEntryRemovedEvent(EntryRemovedEvent&lt;CircuitBreaker&gt; entryRemoveEvent) {\r\n            }\r\n\r\n            @Override\r\n            public void onEntryReplacedEvent(EntryReplacedEvent&lt;CircuitBreaker&gt; entryReplacedEvent) {\r\n            }\r\n        };\r\n    }\r\n```","title":"Resilience4j - Log circuit breaker state change","body":"<p>I found it more convenient to add listener for CircuitBreaker events in configuration so I wouldn't need to add binding to each listener. This also reacts on dynamically added circuit breaker events.</p>\n<pre><code>@Bean\n    public RegistryEventConsumer&lt;CircuitBreaker&gt; myCircuitBreakerRegistryEventConsumer() {\n        return new RegistryEventConsumer&lt;&gt;() {\n            @Override\n            public void onEntryAddedEvent(EntryAddedEvent&lt;CircuitBreaker&gt; entryAddedEvent) {\n                entryAddedEvent.getAddedEntry().getEventPublisher().onStateTransition(event -&gt; log.info(event.toString()));\n            }\n\n            @Override\n            public void onEntryRemovedEvent(EntryRemovedEvent&lt;CircuitBreaker&gt; entryRemoveEvent) {\n            }\n\n            @Override\n            public void onEntryReplacedEvent(EntryReplacedEvent&lt;CircuitBreaker&gt; entryReplacedEvent) {\n            }\n        };\n    }\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7317,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":67782673,"answer_count":3,"score":1,"last_activity_date":1679318708,"creation_date":1614778532,"question_id":66458187,"body_markdown":"Question regarding Resilience4J, and how to log a circuit breaker state change please.\r\n\r\nCurrently, Resilience4j is working great. Having the ability to invoke a fallback when downstream systems are down, giving them time to breath, etc...\r\n\r\nUnfortunately, I am facing an issue with my Spring Webflux 2.4.4+ app with \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSuppose our circuit breaker exists closed mode at the time `T`, due to the downstream system being unavailable for instance.\r\n\r\nOn subsequent calls, since the circuit is opened, goes into a fallback, and I have a log when the fallback method is being invoked.\r\n\r\nHence, I only know at `T+1` when the circuit breaker has been opened. But not the exact moment the circuit breaker changed state.\r\n\r\nI was wondering, how to log the event of the circuit breaker changing the state, at the moment it really changes state at `info` level, please?","title":"Resilience4j - Log circuit breaker state change","body":"<p>Question regarding Resilience4J, and how to log a circuit breaker state change please.</p>\n<p>Currently, Resilience4j is working great. Having the ability to invoke a fallback when downstream systems are down, giving them time to breath, etc...</p>\n<p>Unfortunately, I am facing an issue with my Spring Webflux 2.4.4+ app with</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n    &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n    &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Suppose our circuit breaker exists closed mode at the time <code>T</code>, due to the downstream system being unavailable for instance.</p>\n<p>On subsequent calls, since the circuit is opened, goes into a fallback, and I have a log when the fallback method is being invoked.</p>\n<p>Hence, I only know at <code>T+1</code> when the circuit breaker has been opened. But not the exact moment the circuit breaker changed state.</p>\n<p>I was wondering, how to log the event of the circuit breaker changing the state, at the moment it really changes state at <code>info</code> level, please?</p>\n"},{"tags":["java","spring","jndi"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679326629,"post_id":75790833,"comment_id":133697569,"body_markdown":"The short answer, no. As you cannot inject a datasource this simply isn&#39;t possible. The long answer, you can probably use some ugly reflection hack to do datasource injection but as mentioned an ugly hack. Get the source code, or decompile the class and fix it to take injection.","body":"The short answer, no. As you cannot inject a datasource this simply isn&#39;t possible. The long answer, you can probably use some ugly reflection hack to do datasource injection but as mentioned an ugly hack. Get the source code, or decompile the class and fix it to take injection."}],"owner":{"account_id":28065891,"reputation":1,"user_id":21439298,"display_name":"springBeanQuestions"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679318669,"creation_date":1679318669,"question_id":75790833,"body_markdown":"I have a Spring web application which has a Spring Bean which is a reference to a closed source third party library. This closed source bean takes parameters for JDBC Server Name, URL, username, and password. My managers want to switch this bean to use JNDI instead of taking the parameters to connect to the database. The closed source library/bean does not have a JNDI option.\r\n\r\nIs there a way to switch a closed-source non-JNDI aware spring bean to use JNDI? The bean does not have an option to inject a datasource (i.e only the Server Name, URL, username, and password). (The closed source library is not a common/large company, more like an external contractor wrote the code once and did not provide/share the source code).","title":"Switch Closed Source Bean to use JNDI","body":"<p>I have a Spring web application which has a Spring Bean which is a reference to a closed source third party library. This closed source bean takes parameters for JDBC Server Name, URL, username, and password. My managers want to switch this bean to use JNDI instead of taking the parameters to connect to the database. The closed source library/bean does not have a JNDI option.</p>\n<p>Is there a way to switch a closed-source non-JNDI aware spring bean to use JNDI? The bean does not have an option to inject a datasource (i.e only the Server Name, URL, username, and password). (The closed source library is not a common/large company, more like an external contractor wrote the code once and did not provide/share the source code).</p>\n"},{"tags":["java","maven","google-app-engine","web.xml","google-cloud-sdk"],"comments":[{"owner":{"account_id":16508716,"reputation":1311,"user_id":11928130,"display_name":"tzovourn"},"score":1,"creation_date":1577362996,"post_id":59474492,"comment_id":105151304,"body_markdown":"There is documentation that provides all the necessary steps to [migrate from Java 8 to Java 11](https://cloud.google.com/appengine/docs/standard/java11/java-differences). Upon taking a look in your configuration I can see that you miss some things in your configuration. Did you use that guide and didn&#39;t work for you?","body":"There is documentation that provides all the necessary steps to <a href=\"https://cloud.google.com/appengine/docs/standard/java11/java-differences\" rel=\"nofollow noreferrer\">migrate from Java 8 to Java 11</a>. Upon taking a look in your configuration I can see that you miss some things in your configuration. Did you use that guide and didn&#39;t work for you?"}],"answers":[{"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1599864459,"creation_date":1599864459,"answer_id":63855211,"question_id":59474492,"body_markdown":"There are some pretty huge differences between App Engine&#39;s Java 8 runtime and its Java 11 runtime.\r\n\r\nSpecifically, the Java 8 runtime included a Jetty web server that automatically ran your code, but the Java 11 runtime no longer includes this, so you have to include it yourself.\r\n\r\nThere is a migration guide [here](https://cloud.google.com/appengine/docs/standard/java11/java-differences) but I found that very confusing to follow, so I&#39;ll try to outline the steps here:\r\n\r\n**Step 1: Migrate from `appengine-web.xml` to `app.yaml`.**\r\n\r\nDelete your `appengine-web.xml` file, and create a new `app.yaml` file. My `app.yaml` file only contained a single line:\r\n\r\n```yaml\r\nruntime: java11\r\n```\r\n\r\n**Step 2: Add a main entry point class that runs a web server.**\r\n\r\nThere are many ways to do this, but there&#39;s what I did:\r\n\r\n```java\r\npackage io.happycoding;\r\n\r\nimport java.net.URL;\r\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\r\nimport org.eclipse.jetty.server.Handler;\r\nimport org.eclipse.jetty.server.handler.DefaultHandler;\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.servlet.DefaultServlet;\r\nimport org.eclipse.jetty.webapp.Configuration;\r\nimport org.eclipse.jetty.webapp.WebAppContext;\r\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\r\n\r\n/**\r\n * Starts up the server, including a DefaultServlet that handles static files,\r\n * and any servlet classes annotated with the @WebServlet annotation.\r\n */\r\npublic class ServerMain {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n\r\n    // Create a server that listens on port 8080.\r\n    Server server = new Server(8080);\r\n    WebAppContext webAppContext = new WebAppContext();\r\n    server.setHandler(webAppContext);\r\n\r\n    // Load static content from inside the jar file.\r\n    URL webAppDir =\r\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\r\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\r\n\r\n    // Enable annotations so the server sees classes annotated with @WebServlet.\r\n    webAppContext.setConfigurations(new Configuration[]{ \r\n      new AnnotationConfiguration(),\r\n      new WebInfConfiguration(), \r\n    });\r\n\r\n    // Look for annotations in the classes directory (dev server) and in the\r\n    // jar file (live server)\r\n    webAppContext.setAttribute(\r\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \r\n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\r\n\r\n    // Handle static resources, e.g. html files.\r\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\r\n\r\n    // Start the server! &#128640;\r\n    server.start();\r\n    System.out.println(&quot;Server started!&quot;);\r\n\r\n    // Keep the main thread alive while the server is running.\r\n    server.join();\r\n  }\r\n}\r\n```\r\n\r\nThis class uses Jetty to run a web server, and then adds the rest of your code to that web server. This code assumes that everything will be packaged in the same `.jar` file.\r\n\r\n**Step 3: Modify `pom.xml`**\r\n\r\nYour `pom.xml` needs a few things:\r\n\r\n1. Dependencies for the web server you&#39;re running. I used Jetty.\r\n2. Plugins for packaging your code. I chose to package mine as a single uber jar, so I used `maven-resources-plugin` and `maven-shade-plugin`.\r\n3. Plugins for running your code locally. The old `appengine-maven-plugin` does not work for deploying locally, because it still requires `appengine-web.xml` for some reason. Because I chose the uber jar approach, I used `exec-maven-plugin`.\r\n4. The `appengine-maven-plugin` does still work for deploying to the live server, so you still need it for that.\r\n\r\nIf that sounds confusing, you&#39;re right. But putting it all together, here&#39;s what I came up with:\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\r\n  &lt;artifactId&gt;app-engine-hello-world&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;!-- App Engine currently supports Java 11 --&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;jetty.version&gt;9.4.31.v20200723&lt;/jetty.version&gt;\r\n\r\n    &lt;!-- Project-specific properties --&gt;\r\n    &lt;mainClass&gt;io.happycoding.ServerMain&lt;/mainClass&gt;\r\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Java Servlets API --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Jetty --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;\r\n                ${project.build.directory}/classes/META-INF/resources\r\n              &lt;/outputDirectory&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Package everything into a single executable jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                  &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Exec plugin for deploying the local server. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;java&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI put all of this into an example project available [here](https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/app-engine-hello-world).","title":"How do I update an App Engine project to Java 11 without web.xml?","body":"<p>There are some pretty huge differences between App Engine's Java 8 runtime and its Java 11 runtime.</p>\n<p>Specifically, the Java 8 runtime included a Jetty web server that automatically ran your code, but the Java 11 runtime no longer includes this, so you have to include it yourself.</p>\n<p>There is a migration guide <a href=\"https://cloud.google.com/appengine/docs/standard/java11/java-differences\" rel=\"nofollow noreferrer\">here</a> but I found that very confusing to follow, so I'll try to outline the steps here:</p>\n<p><strong>Step 1: Migrate from <code>appengine-web.xml</code> to <code>app.yaml</code>.</strong></p>\n<p>Delete your <code>appengine-web.xml</code> file, and create a new <code>app.yaml</code> file. My <code>app.yaml</code> file only contained a single line:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>runtime: java11\n</code></pre>\n<p><strong>Step 2: Add a main entry point class that runs a web server.</strong></p>\n<p>There are many ways to do this, but there's what I did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding;\n\nimport java.net.URL;\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\nimport org.eclipse.jetty.server.Handler;\nimport org.eclipse.jetty.server.handler.DefaultHandler;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.DefaultServlet;\nimport org.eclipse.jetty.webapp.Configuration;\nimport org.eclipse.jetty.webapp.WebAppContext;\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\n\n/**\n * Starts up the server, including a DefaultServlet that handles static files,\n * and any servlet classes annotated with the @WebServlet annotation.\n */\npublic class ServerMain {\n\n  public static void main(String[] args) throws Exception {\n\n    // Create a server that listens on port 8080.\n    Server server = new Server(8080);\n    WebAppContext webAppContext = new WebAppContext();\n    server.setHandler(webAppContext);\n\n    // Load static content from inside the jar file.\n    URL webAppDir =\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\n\n    // Enable annotations so the server sees classes annotated with @WebServlet.\n    webAppContext.setConfigurations(new Configuration[]{ \n      new AnnotationConfiguration(),\n      new WebInfConfiguration(), \n    });\n\n    // Look for annotations in the classes directory (dev server) and in the\n    // jar file (live server)\n    webAppContext.setAttribute(\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\n\n    // Handle static resources, e.g. html files.\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\n\n    // Start the server! \n    server.start();\n    System.out.println(&quot;Server started!&quot;);\n\n    // Keep the main thread alive while the server is running.\n    server.join();\n  }\n}\n</code></pre>\n<p>This class uses Jetty to run a web server, and then adds the rest of your code to that web server. This code assumes that everything will be packaged in the same <code>.jar</code> file.</p>\n<p><strong>Step 3: Modify <code>pom.xml</code></strong></p>\n<p>Your <code>pom.xml</code> needs a few things:</p>\n<ol>\n<li>Dependencies for the web server you're running. I used Jetty.</li>\n<li>Plugins for packaging your code. I chose to package mine as a single uber jar, so I used <code>maven-resources-plugin</code> and <code>maven-shade-plugin</code>.</li>\n<li>Plugins for running your code locally. The old <code>appengine-maven-plugin</code> does not work for deploying locally, because it still requires <code>appengine-web.xml</code> for some reason. Because I chose the uber jar approach, I used <code>exec-maven-plugin</code>.</li>\n<li>The <code>appengine-maven-plugin</code> does still work for deploying to the live server, so you still need it for that.</li>\n</ol>\n<p>If that sounds confusing, you're right. But putting it all together, here's what I came up with:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\n  &lt;artifactId&gt;app-engine-hello-world&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;!-- App Engine currently supports Java 11 --&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;jetty.version&gt;9.4.31.v20200723&lt;/jetty.version&gt;\n\n    &lt;!-- Project-specific properties --&gt;\n    &lt;mainClass&gt;io.happycoding.ServerMain&lt;/mainClass&gt;\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Java Servlets API --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jetty --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;\n                ${project.build.directory}/classes/META-INF/resources\n              &lt;/outputDirectory&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Package everything into a single executable jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Exec plugin for deploying the local server. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;java&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\n          &lt;version&gt;1&lt;/version&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I put all of this into an example project available <a href=\"https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/app-engine-hello-world\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1628,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63855211,"answer_count":1,"score":2,"last_activity_date":1679318571,"creation_date":1577236279,"question_id":59474492,"body_markdown":"I have an App Engine project. [Here](https://github.com/KevinWorkman/GoogleCloudExamples/tree/master/hello-world) is a sample repo, but it only contains a few files:\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\r\n  &lt;artifactId&gt;google-cloud-hello-world&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;!-- App Engine currently supports Java 8 --&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.71&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**appengine-web.xml**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;appengine-web-app xmlns=&quot;http://appengine.google.com/ns/1.0&quot;&gt;\r\n  &lt;application&gt;MY_PROJECT_ID_HERE&lt;/application&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n  &lt;threadsafe&gt;false&lt;/threadsafe&gt;\r\n  &lt;sessions-enabled&gt;true&lt;/sessions-enabled&gt;\r\n  &lt;runtime&gt;java8&lt;/runtime&gt;\r\n&lt;/appengine-web-app&gt;\r\n```\r\n\r\n**HelloWorldServlet.java**\r\n\r\n```java\r\npackage io.happycoding.servlets;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/hello&quot;)\r\npublic class HelloWorldServlet extends HttpServlet {\r\n\r\n  @Override\r\n  public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    response.setContentType(&quot;text/html;&quot;);\r\n    response.getOutputStream().println(&quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**I do not have a web.xml file** because I&#39;m using the `@WebServlet` annotation instead. This has worked perfectly for years.\r\n\r\nThe only problem was that I was restricted to using Java 8, so I was happy to see App Engine [announce](https://cloud.google.com/blog/products/application-development/turn-it-up-to-eleven-java-11-runtime-comes-to-app-engine) support for Java 11. I am now trying to upgrade my App Engine project to Java 11.\r\n\r\nI started by changing the `appengine-web.xml` file to contain this line:\r\n\r\n```xml\r\n&lt;runtime&gt;java11&lt;/runtime&gt;\r\n```\r\n\r\nI also changed the `pom.xml` file:\r\n\r\n```xml\r\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n```\r\n\r\nI run `mvn appengine:devserver` (which works fine before this change), and I get this error:\r\n\r\n```\r\nClassLoader is jdk.internal.loader.ClassLoaders$AppClassLoader@78308db1, not a URLClassLoader.\r\n```\r\n\r\nI [gather](https://stackoverflow.com/questions/55490900/unable-to-build-bookshelf-app-for-java-on-app-engine-standard-environment-exam) that this is because the App Engine Maven plugin itself requires Java 8. I also learn that [the App Engine Maven plugin is deprecated](https://cloud.google.com/appengine/docs/standard/java/tools/migrate-maven), and that I should upgrade to the Cloud SDK Maven plugin. Okay fine.\r\n\r\nI follow [this guide](https://cloud.google.com/appengine/docs/standard/java11/using-maven) and I change the plugin in my `pom.xml` file to this:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n   &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;2.2.0&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI then run `mvn package appengine:run` (because of course the command to run a devserver changed too), but now I get this error:\r\n\r\n```\r\n java.io.FileNotFoundException: /home/kevin/gcloud-tutorials/hello-world/target/hello-world-1/WEB-INF/web.xml (No such file or directory)\r\n```\r\n\r\nThe error says it can&#39;t find a `web.xml` file, but I shouldn&#39;t need one because I&#39;m using the `@WebServlet` annotation! My `pom.xml` file also contains a `&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;` property, but I don&#39;t know whether that does anything with the new plugin.\r\n\r\nAm I missing a step or property? How do I upgrade my App Engine project to use Java 11, without also requiring a `web.xml` file?","title":"How do I update an App Engine project to Java 11 without web.xml?","body":"<p>I have an App Engine project. <a href=\"https://github.com/KevinWorkman/GoogleCloudExamples/tree/master/hello-world\" rel=\"nofollow noreferrer\">Here</a> is a sample repo, but it only contains a few files:</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\n  &lt;artifactId&gt;google-cloud-hello-world&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;!-- App Engine currently supports Java 8 --&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.9.71&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>appengine-web.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;appengine-web-app xmlns=\"http://appengine.google.com/ns/1.0\"&gt;\n  &lt;application&gt;MY_PROJECT_ID_HERE&lt;/application&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;threadsafe&gt;false&lt;/threadsafe&gt;\n  &lt;sessions-enabled&gt;true&lt;/sessions-enabled&gt;\n  &lt;runtime&gt;java8&lt;/runtime&gt;\n&lt;/appengine-web-app&gt;\n</code></pre>\n\n<p><strong>HelloWorldServlet.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding.servlets;\n\nimport java.io.IOException;\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(\"/hello\")\npublic class HelloWorldServlet extends HttpServlet {\n\n  @Override\n  public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n    response.setContentType(\"text/html;\");\n    response.getOutputStream().println(\"&lt;h1&gt;Hello world!&lt;/h1&gt;\");\n  }\n}\n</code></pre>\n\n<p><strong>I do not have a web.xml file</strong> because I'm using the <code>@WebServlet</code> annotation instead. This has worked perfectly for years.</p>\n\n<p>The only problem was that I was restricted to using Java 8, so I was happy to see App Engine <a href=\"https://cloud.google.com/blog/products/application-development/turn-it-up-to-eleven-java-11-runtime-comes-to-app-engine\" rel=\"nofollow noreferrer\">announce</a> support for Java 11. I am now trying to upgrade my App Engine project to Java 11.</p>\n\n<p>I started by changing the <code>appengine-web.xml</code> file to contain this line:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;runtime&gt;java11&lt;/runtime&gt;\n</code></pre>\n\n<p>I also changed the <code>pom.xml</code> file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n\n<p>I run <code>mvn appengine:devserver</code> (which works fine before this change), and I get this error:</p>\n\n<pre><code>ClassLoader is jdk.internal.loader.ClassLoaders$AppClassLoader@78308db1, not a URLClassLoader.\n</code></pre>\n\n<p>I <a href=\"https://stackoverflow.com/questions/55490900/unable-to-build-bookshelf-app-for-java-on-app-engine-standard-environment-exam\">gather</a> that this is because the App Engine Maven plugin itself requires Java 8. I also learn that <a href=\"https://cloud.google.com/appengine/docs/standard/java/tools/migrate-maven\" rel=\"nofollow noreferrer\">the App Engine Maven plugin is deprecated</a>, and that I should upgrade to the Cloud SDK Maven plugin. Okay fine.</p>\n\n<p>I follow <a href=\"https://cloud.google.com/appengine/docs/standard/java11/using-maven\" rel=\"nofollow noreferrer\">this guide</a> and I change the plugin in my <code>pom.xml</code> file to this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n   &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I then run <code>mvn package appengine:run</code> (because of course the command to run a devserver changed too), but now I get this error:</p>\n\n<pre><code> java.io.FileNotFoundException: /home/kevin/gcloud-tutorials/hello-world/target/hello-world-1/WEB-INF/web.xml (No such file or directory)\n</code></pre>\n\n<p>The error says it can't find a <code>web.xml</code> file, but I shouldn't need one because I'm using the <code>@WebServlet</code> annotation! My <code>pom.xml</code> file also contains a <code>&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;</code> property, but I don't know whether that does anything with the new plugin.</p>\n\n<p>Am I missing a step or property? How do I upgrade my App Engine project to use Java 11, without also requiring a <code>web.xml</code> file?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"score":0,"creation_date":1671030170,"post_id":74799451,"comment_id":132009767,"body_markdown":"I removed @Component and added .addFilterBefore(new SecurityFilter(), UsernamePasswordAuthenticationFilter.class);\nThere is no `BeforeFilter.class` as such. \nStill I can see permitAll requests reaching SecurityFilter.doFilterInternal()","body":"I removed @Component and added .addFilterBefore(new SecurityFilter(), UsernamePasswordAuthenticationFilter.class); There is no <code>BeforeFilter.class</code> as such.  Still I can see permitAll requests reaching SecurityFilter.doFilterInternal()"},{"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"score":0,"creation_date":1671030384,"post_id":74799451,"comment_id":132009831,"body_markdown":"Also no luck removing `authorizeHttpRequests` at `SecurityFilterChain`","body":"Also no luck removing <code>authorizeHttpRequests</code> at <code>SecurityFilterChain</code>"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1671037355,"post_id":74799451,"comment_id":132012718,"body_markdown":"The `BeforeFilter` is a placeholder, you&#39;d have to choose which filter you want to put it before. You can try `http.addFilterAfter(new SecurityFilter(), AuthorizationFilter.class)` this way it will only be invoked for authorized requests.","body":"The <code>BeforeFilter</code> is a placeholder, you&#39;d have to choose which filter you want to put it before. You can try <code>http.addFilterAfter(new SecurityFilter(), AuthorizationFilter.class)</code> this way it will only be invoked for authorized requests."},{"owner":{"account_id":1836887,"reputation":147,"user_id":1667075,"accept_rate":25,"display_name":"Panda1667075"},"score":0,"creation_date":1675430289,"post_id":74799451,"comment_id":132932594,"body_markdown":"My security config class (AppWebSecurityConfig) have the code as suggested here. Out of 5 ignore URIs list [&quot;/login&quot;,&quot;/h2-console/**&quot;, &quot;/actuator/refresh&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;], I am getting unauthorize for &quot;/h2-console/**&quot;, &quot;/actuator/refresh&quot;.  Running out of clue on solving this. Any pointers will be appreciated.","body":"My security config class (AppWebSecurityConfig) have the code as suggested here. Out of 5 ignore URIs list [&quot;/login&quot;,&quot;/h2-console/**&quot;, &quot;/actuator/refresh&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;], I am getting unauthorize for &quot;/h2-console/**&quot;, &quot;/actuator/refresh&quot;.  Running out of clue on solving this. Any pointers will be appreciated."},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1675437670,"post_id":74799451,"comment_id":132935082,"body_markdown":"Panda, please refer to this answer https://github.com/spring-projects/spring-security/issues/12310#issuecomment-1328990026 or open a new question if it doesnt work for you","body":"Panda, please refer to this answer <a href=\"https://github.com/spring-projects/spring-security/issues/12310#issuecomment-1328990026\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/&hellip;</a> or open a new question if it doesnt work for you"}],"tags":[],"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"comment_count":5,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1671108872,"creation_date":1671026574,"answer_id":74799451,"question_id":74799091,"body_markdown":"Your `SecurityFilter` is a `@Component`, therefore the filter will be picked up by Spring Boot and added to the filter chain.\r\n\r\nNote that the filter chain that I mentioned is not the same chain as Spring Security, which is the `SecurityFilterChain`. Spring Security will not invoke the `SecurityFilterChain` for the endpoints you mentioned, because you did:\r\n\r\n```java\r\n@Bean\r\npublic WebSecurityCustomizer webSecurityCustomizer() {\r\n    return (web) -&gt; web.ignoring().requestMatchers(publicApis.toArray(String[]::new));\r\n}\r\n```\r\n\r\nI believe that since you are ignoring those endpoints, you do not need to `permitAll` them (those are different things).\r\n\r\nOne way to solve this is by adding the `SecurityFilter` to the `SecurityFilterChain` (which is not invoked for those endpoints):\r\n\r\n 1. Remove `@Component` from your `SecurityFilter`\r\n 2. Do `http.addFilter(Before/After/At)(new SecurityFilter(), BeforeFilter.class)`\r\n","title":"Spring Boot 3 Security requestMatchers.permitAll not working","body":"<p>Your <code>SecurityFilter</code> is a <code>@Component</code>, therefore the filter will be picked up by Spring Boot and added to the filter chain.</p>\n<p>Note that the filter chain that I mentioned is not the same chain as Spring Security, which is the <code>SecurityFilterChain</code>. Spring Security will not invoke the <code>SecurityFilterChain</code> for the endpoints you mentioned, because you did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring().requestMatchers(publicApis.toArray(String[]::new));\n}\n</code></pre>\n<p>I believe that since you are ignoring those endpoints, you do not need to <code>permitAll</code> them (those are different things).</p>\n<p>One way to solve this is by adding the <code>SecurityFilter</code> to the <code>SecurityFilterChain</code> (which is not invoked for those endpoints):</p>\n<ol>\n<li>Remove <code>@Component</code> from your <code>SecurityFilter</code></li>\n<li>Do <code>http.addFilter(Before/After/At)(new SecurityFilter(), BeforeFilter.class)</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9361010,"reputation":1008,"user_id":6947332,"display_name":"naib khan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679318309,"creation_date":1679318309,"answer_id":75790772,"question_id":74799091,"body_markdown":"You can create a SecurityFilterChain `@Bean` and pass a list of endpoinds that needs to be pass \r\n\r\n    private static final String[] AUTH_WHITELIST = {\r\n            &quot;/swagger-resources&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/configuration/ui&quot;,\r\n            &quot;/configuration/security&quot;,\r\n            &quot;/swagger-ui.html&quot;,\r\n            &quot;/webjars/**&quot;,\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/api/public/**&quot;,\r\n            &quot;/api/public/authenticate&quot;,\r\n            &quot;/actuator/*&quot;,\r\n            &quot;/swagger-ui/**&quot;\r\n    };\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .requestMatchers(AUTH_WHITELIST).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(withDefaults());\r\n        return http.build();\r\n    }","title":"Spring Boot 3 Security requestMatchers.permitAll not working","body":"<p>You can create a SecurityFilterChain <code>@Bean</code> and pass a list of endpoinds that needs to be pass</p>\n<pre><code>private static final String[] AUTH_WHITELIST = {\n        &quot;/swagger-resources&quot;,\n        &quot;/swagger-resources/**&quot;,\n        &quot;/configuration/ui&quot;,\n        &quot;/configuration/security&quot;,\n        &quot;/swagger-ui.html&quot;,\n        &quot;/webjars/**&quot;,\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/api/public/**&quot;,\n        &quot;/api/public/authenticate&quot;,\n        &quot;/actuator/*&quot;,\n        &quot;/swagger-ui/**&quot;\n};\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests((authorize) -&gt; authorize\n                    .requestMatchers(AUTH_WHITELIST).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .httpBasic(withDefaults());\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18864,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74799451,"answer_count":2,"score":5,"last_activity_date":1679318309,"creation_date":1671024893,"question_id":74799091,"body_markdown":"Below is the `SecurityFilterChain` bean created according to the new Spring Security 6 / Spring boot 3 documentation. However, `requestMatchers -&gt; AntPathRequestMatcher -&gt; permitAll` is not working. Every request is reaching `OncePerRequestFilter`. Please let me know if this is expected or if something is wrong.\r\n\r\nCode:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    @EnableMethodSecurity\r\n    public class WebSecurityConfig {\r\n       List&lt;String&gt; publicApis = List.of(&quot;/generate/**&quot;, &quot;validated/**&quot;);\r\n       \r\n       @Bean\r\n       public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors()\r\n                    .configurationSource(corsConfigurationSource())\r\n                    .and()\r\n                    .csrf()\r\n                    .disable()\r\n                    .formLogin()\r\n                    .disable()\r\n                    .httpBasic()\r\n                    .disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(restAuthenticationEntryPoint())\r\n                    .and()\r\n                    .authorizeHttpRequests(\r\n                            r -&gt; r.requestMatchers(\r\n                                            publicApis().stream()\r\n                                                    .map(AntPathRequestMatcher::new)\r\n                                                    .toArray(RequestMatcher[]::new)\r\n                                    )\r\n                                    .permitAll()\r\n                                    .anyRequest()\r\n                                    .authenticated()\r\n                    )\r\n                    .sessionManagement(s -&gt; s.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .addFilterBefore(tokenAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web) -&gt; web.ignoring().requestMatchers(publicApis.toArray(String[]::new));\r\n        }\r\n    }\r\n\r\nSecurityFilter class:\r\n\r\n    @Component\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class SecurityFilter extends OncePerRequestFilter {\r\n    \r\n    @Override\r\n        protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n     log.info(&quot;request:{}&quot;, request); // all requests are logging including `/generate/a` or `/validate/1`\r\n    }\r\n    \r\n    }\r\n\r\nIdeally `/generate/a` or `/validate/1` should not go to SecurityFilter. Still, there are going for JWT validation. How to avoid public APIs to bypass SecurityFilter.\r\n\r\nThanks in Advance.","title":"Spring Boot 3 Security requestMatchers.permitAll not working","body":"<p>Below is the <code>SecurityFilterChain</code> bean created according to the new Spring Security 6 / Spring boot 3 documentation. However, <code>requestMatchers -&gt; AntPathRequestMatcher -&gt; permitAll</code> is not working. Every request is reaching <code>OncePerRequestFilter</code>. Please let me know if this is expected or if something is wrong.</p>\n<p>Code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableMethodSecurity\npublic class WebSecurityConfig {\n   List&lt;String&gt; publicApis = List.of(&quot;/generate/**&quot;, &quot;validated/**&quot;);\n   \n   @Bean\n   public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .configurationSource(corsConfigurationSource())\n                .and()\n                .csrf()\n                .disable()\n                .formLogin()\n                .disable()\n                .httpBasic()\n                .disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(restAuthenticationEntryPoint())\n                .and()\n                .authorizeHttpRequests(\n                        r -&gt; r.requestMatchers(\n                                        publicApis().stream()\n                                                .map(AntPathRequestMatcher::new)\n                                                .toArray(RequestMatcher[]::new)\n                                )\n                                .permitAll()\n                                .anyRequest()\n                                .authenticated()\n                )\n                .sessionManagement(s -&gt; s.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .addFilterBefore(tokenAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().requestMatchers(publicApis.toArray(String[]::new));\n    }\n}\n</code></pre>\n<p>SecurityFilter class:</p>\n<pre><code>@Component\n@Slf4j\n@RequiredArgsConstructor\npublic class SecurityFilter extends OncePerRequestFilter {\n\n@Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n log.info(&quot;request:{}&quot;, request); // all requests are logging including `/generate/a` or `/validate/1`\n}\n\n}\n</code></pre>\n<p>Ideally <code>/generate/a</code> or <code>/validate/1</code> should not go to SecurityFilter. Still, there are going for JWT validation. How to avoid public APIs to bypass SecurityFilter.</p>\n<p>Thanks in Advance.</p>\n"},{"tags":["java","font-face","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":28063966,"reputation":21,"user_id":21437639,"display_name":"Denis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679318082,"creation_date":1679307082,"answer_id":75788979,"question_id":75788773,"body_markdown":"I found the answer that I was looking for all week.\r\n\r\n    CategoryAxis domainAxis = plot.getDomainAxis();\r\n    domainAxis.setTickLabelFont(strMyCategory,\r\n        new Font(&quot;Arial&quot;, Font.BOLD, 13));\r\n\r\nWhere `strMyCategory` (a `Comparable` type `String`) is the exact category label that needs to be bold or have another font.\r\n","title":"How to make different fonts for category labels in JFreeChart","body":"<p>I found the answer that I was looking for all week.</p>\n<pre><code>CategoryAxis domainAxis = plot.getDomainAxis();\ndomainAxis.setTickLabelFont(strMyCategory,\n    new Font(&quot;Arial&quot;, Font.BOLD, 13));\n</code></pre>\n<p>Where <code>strMyCategory</code> (a <code>Comparable</code> type <code>String</code>) is the exact category label that needs to be bold or have another font.</p>\n"}],"owner":{"account_id":28063966,"reputation":21,"user_id":21437639,"display_name":"Denis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679318082,"creation_date":1679305841,"question_id":75788773,"body_markdown":"I have a list of benchmark scores and one or two selected smartphones there, so I need to highlight those smartphones. I already did this with different bar colors, but I also want to change the font of a smartphone namemake it bold at least, but only for selected smartphones, not entire category labels.\r\n\r\n![What i have](https://i.stack.imgur.com/6LwnF.png)\r\n\r\nTo paint the bars I use the code below, but I don&#39;t know how to customize the font for category label as well:\r\n\r\n```\r\npublic class MyBarRenderer extends StackedBarRenderer {\r\n    //BarRenderer renderer = (BarRenderer) plot.getRenderer();\r\n    private ArrayList&lt;Integer&gt; selectedSmartphones;\r\n    public MyBarRenderer (ArrayList&lt;Integer&gt; s) {\r\n        selectedSmartphones = s;\r\n\r\n        this.setSeriesPaint(0, new Color(255,133,0));\r\n        this.setSeriesPaint(1, new Color(255,172,83));\r\n        this.setSeriesPaint(2, new Color(211,110,0));\r\n    }\r\n\r\n    //renderer.setSeriesPaint(0, Color.getColor(&quot;FFAC53&quot;));\r\n    @Override\r\n    public Paint getItemPaint(int series, int category) {\r\n        if (selectedSmartphones.contains(category)) {\r\n\r\n                switch (series) {\r\n                    case 0:\r\n                        return new Color(81, 189, 230);\r\n\r\n                    case 1:\r\n                        return new Color(7, 167, 229);\r\n\r\n                    case 2:\r\n                        return new Color(2, 97, 133);\r\n\r\n                    default:\r\n                        return Color.blue;\r\n                }\r\n\r\n        } else {\r\n                switch (series) {\r\n                    case 0:\r\n                        return new Color(255, 133, 0);\r\n\r\n                    case 1:\r\n                        return new Color(255, 172, 83);\r\n\r\n                    case 2:\r\n                        return new Color(211, 110, 0);\r\n\r\n                    default:\r\n                        return Color.orange;\r\n                }\r\n        }\r\n    }\r\n}\r\n```\r\n![What i need](https://i.stack.imgur.com/DvrV3.png)\r\n","title":"How to make different fonts for category labels in JFreeChart","body":"<p>I have a list of benchmark scores and one or two selected smartphones there, so I need to highlight those smartphones. I already did this with different bar colors, but I also want to change the font of a smartphone namemake it bold at least, but only for selected smartphones, not entire category labels.</p>\n<p><img src=\"https://i.stack.imgur.com/6LwnF.png\" alt=\"What i have\" /></p>\n<p>To paint the bars I use the code below, but I don't know how to customize the font for category label as well:</p>\n<pre><code>public class MyBarRenderer extends StackedBarRenderer {\n    //BarRenderer renderer = (BarRenderer) plot.getRenderer();\n    private ArrayList&lt;Integer&gt; selectedSmartphones;\n    public MyBarRenderer (ArrayList&lt;Integer&gt; s) {\n        selectedSmartphones = s;\n\n        this.setSeriesPaint(0, new Color(255,133,0));\n        this.setSeriesPaint(1, new Color(255,172,83));\n        this.setSeriesPaint(2, new Color(211,110,0));\n    }\n\n    //renderer.setSeriesPaint(0, Color.getColor(&quot;FFAC53&quot;));\n    @Override\n    public Paint getItemPaint(int series, int category) {\n        if (selectedSmartphones.contains(category)) {\n\n                switch (series) {\n                    case 0:\n                        return new Color(81, 189, 230);\n\n                    case 1:\n                        return new Color(7, 167, 229);\n\n                    case 2:\n                        return new Color(2, 97, 133);\n\n                    default:\n                        return Color.blue;\n                }\n\n        } else {\n                switch (series) {\n                    case 0:\n                        return new Color(255, 133, 0);\n\n                    case 1:\n                        return new Color(255, 172, 83);\n\n                    case 2:\n                        return new Color(211, 110, 0);\n\n                    default:\n                        return Color.orange;\n                }\n        }\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/DvrV3.png\" alt=\"What i need\" /></p>\n"},{"tags":["java","spring-boot","immutables-library"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1678886112,"post_id":75544510,"comment_id":133619489,"body_markdown":"I think it would be helpful to provide an [MCVE](https://stackoverflow.com/help/mcve) on GitHub instead of just snippets, forcing everyone to create a demo project from scratch in order to reproduce your problem and guessing about the missing pieces. E.g., it is unclear what `EventObject` looks like and which class exactly inherits from which. But that information is crucial for reasoning about your problem.","body":"I think it would be helpful to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub instead of just snippets, forcing everyone to create a demo project from scratch in order to reproduce your problem and guessing about the missing pieces. E.g., it is unclear what <code>EventObject</code> looks like and which class exactly inherits from which. But that information is crucial for reasoning about your problem."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1678888093,"post_id":75544510,"comment_id":133620151,"body_markdown":"Note: having no constructor at all means you _have_ the default constructor (`CustomEvent() { }`). Tying this together with the implicit `super()` from a subclass, and I don&#39;t really see the problem yet myself. If `#getFoo` is `abstract`, then the subclasses can override it and the super class doesn&#39;t need to manage it.","body":"Note: having no constructor at all means you <i>have</i> the default constructor (<code>CustomEvent() { }</code>). Tying this together with the implicit <code>super()</code> from a subclass, and I don&#39;t really see the problem yet myself. If <code>#getFoo</code> is <code>abstract</code>, then the subclasses can override it and the super class doesn&#39;t need to manage it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1679149225,"post_id":75544510,"comment_id":133671465,"body_markdown":"@kriegaex - MCVE : yes ... but putting it on GitHub: No!!  The MCVE or [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) should be in the question itself.  GitHub repos can permanently vanish in an instant, leaving the question broken.","body":"@kriegaex - MCVE : yes ... but putting it on GitHub: No!!  The MCVE or <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be in the question itself.  GitHub repos can permanently vanish in an instant, leaving the question broken."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679165050,"post_id":75544510,"comment_id":133674114,"body_markdown":"What I care about is easy reproducibility. I have better things to do than copying and pasting a dozen classes, Maven POM and Spring config. Moreover, I can never be sure there is not any directory layout glitch. So no, I cannot agree with your opinion. The main gist should be in the code here, but the full MCVE belongs somewhere I can clone and run it from in an instant.","body":"What I care about is easy reproducibility. I have better things to do than copying and pasting a dozen classes, Maven POM and Spring config. Moreover, I can never be sure there is not any directory layout glitch. So no, I cannot agree with your opinion. The main gist should be in the code here, but the full MCVE belongs somewhere I can clone and run it from in an instant."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679201667,"post_id":75544510,"comment_id":133677511,"body_markdown":"And the flipside is that **other people** care more about about this question being meaningful for future readers.  Consider what the **stated** primary goal of StackOverflow is.   (It is not about satisfying the OP&#39;s need for help ... your personal convenience when answering the question.)","body":"And the flipside is that <b>other people</b> care more about about this question being meaningful for future readers.  Consider what the <b>stated</b> primary goal of StackOverflow is.   (It is not about satisfying the OP&#39;s need for help ... your personal convenience when answering the question.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679202399,"post_id":75544510,"comment_id":133677548,"body_markdown":"Also, see https://meta.stackoverflow.com/questions/253915.   And note that it is legally dubious for us to fix such a mistake; see https://meta.stackoverflow.com/questions/275485.  It is potentially a copyright violation ... unless the Gist or Repo has an explicit copyright statement that is legally compatible copying to SO.","body":"Also, see <a href=\"https://meta.stackoverflow.com/questions/253915\">meta.stackoverflow.com/questions/253915</a>.   And note that it is legally dubious for us to fix such a mistake; see <a href=\"https://meta.stackoverflow.com/questions/275485\">meta.stackoverflow.com/questions/275485</a>.  It is potentially a copyright violation ... unless the Gist or Repo has an explicit copyright statement that is legally compatible copying to SO."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679215667,"post_id":75544510,"comment_id":133678607,"body_markdown":"Stop lecturing me. I am here to help others. Let me do it my way. I often answer complex questions about AOP (AspectJ, Spring AOP) or test automation with Spock, and in 50%+ of all cases the problem is in the parts of the code or configuration the OP chose not to share, because she thinks it is irrelevant. It is super tedious to send comments back and forth in 10 iterations. SO is a Q/A platform, not a discussion forum, and the time volunteers spend to help others should be respected. But nobody wants to scroll 25 pages worth of sample code and then copy everything into their respective IDEs.","body":"Stop lecturing me. I am here to help others. Let me do it my way. I often answer complex questions about AOP (AspectJ, Spring AOP) or test automation with Spock, and in 50%+ of all cases the problem is in the parts of the code or configuration the OP chose not to share, because she thinks it is irrelevant. It is super tedious to send comments back and forth in 10 iterations. SO is a Q/A platform, not a discussion forum, and the time volunteers spend to help others should be respected. But nobody wants to scroll 25 pages worth of sample code and then copy everything into their respective IDEs."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679215904,"post_id":75544510,"comment_id":133678637,"body_markdown":"This sense of entitlement of some SO users is incomprehensible to me. SO is not an SCM. Vast amounts of code do not belong here. I am always careful to answer questions in a way which makes it clear what the problem was and how to solve it, so they are well documented. An MCVE below a certain number of files and lines of code can be posted here, totally fine. I tend to write long answers with full MCVEs where applicable. But more than half of the questions I answer here are utterly unsolvable without an MCVE way too big to fit in here.","body":"This sense of entitlement of some SO users is incomprehensible to me. SO is not an SCM. Vast amounts of code do not belong here. I am always careful to answer questions in a way which makes it clear what the problem was and how to solve it, so they are well documented. An MCVE below a certain number of files and lines of code can be posted here, totally fine. I tend to write long answers with full MCVEs where applicable. But more than half of the questions I answer here are utterly unsolvable without an MCVE way too big to fit in here."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679216182,"post_id":75544510,"comment_id":133678671,"body_markdown":"As for &quot;legally dubious to answer&quot;: LOL.","body":"As for &quot;legally dubious to answer&quot;: LOL."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679250117,"post_id":75544510,"comment_id":133683590,"body_markdown":"@kriegaex (we&#39;re way off-topic on this question now, but...) I think the big thing that irked was the &quot;instead of&quot;: an MCVE on github isn&#39;t inherently bad imo, just the question becoming obsolete because of non-reproducibility. If the MCVE is too unwieldly to put into the question it&#39;s very likely not minimal, but there&#39;s not much reason aside from effort they couldn&#39;t do both the github and in-question references. I&#39;ve honestly found that the best MCVEs don&#39;t arrive until after the question is answered and the problem demonstrated.","body":"@kriegaex (we&#39;re way off-topic on this question now, but...) I think the big thing that irked was the &quot;instead of&quot;: an MCVE on github isn&#39;t inherently bad imo, just the question becoming obsolete because of non-reproducibility. If the MCVE is too unwieldly to put into the question it&#39;s very likely not minimal, but there&#39;s not much reason aside from effort they couldn&#39;t do both the github and in-question references. I&#39;ve honestly found that the best MCVEs don&#39;t arrive until after the question is answered and the problem demonstrated."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679260006,"post_id":75544510,"comment_id":133685094,"body_markdown":"Read again. I wrote &quot;instead of **just** (snippets)&quot;. I didn&#39;t mean him to remove info from the question, but to bolster it up some more, supported by the GitHub MCVE. I solved literally dozens of puzzles here only after having had access to one of those, for the benefit of everyone involved. It is called WWW f&#252;r a reason: being a hyperlinked system. I really couldn&#39;t care less about people feeling entitled of having all possible information here on SO. this platform is still useful enough with some info not quoted here but referenced to.","body":"Read again. I wrote &quot;instead of <b>just</b> (snippets)&quot;. I didn&#39;t mean him to remove info from the question, but to bolster it up some more, supported by the GitHub MCVE. I solved literally dozens of puzzles here only after having had access to one of those, for the benefit of everyone involved. It is called WWW f&#252;r a reason: being a hyperlinked system. I really couldn&#39;t care less about people feeling entitled of having all possible information here on SO. this platform is still useful enough with some info not quoted here but referenced to."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679260212,"post_id":75544510,"comment_id":133685118,"body_markdown":"BTW, I do take pride in having a pretty good code parser in my head, but there are limits to what lengths I am willing to go to in order to help others. A source code repository is simply the most effective way of getting new code into my IDE and bringing an MCVE to life there. Maybe you have enough spare time to copy and paste vast amounts of code. I don&#39;t.","body":"BTW, I do take pride in having a pretty good code parser in my head, but there are limits to what lengths I am willing to go to in order to help others. A source code repository is simply the most effective way of getting new code into my IDE and bringing an MCVE to life there. Maybe you have enough spare time to copy and paste vast amounts of code. I don&#39;t."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679311985,"post_id":75544510,"comment_id":133693068,"body_markdown":"*&quot;As for &quot;legally dubious to answer&quot;: LOL.&quot;* - You misinterpreted what I said.  It is legally dubious to correct the mistake (or bad practice) of the OP linking to a gist by copying their gist into the question.  That may be a copyright violation.  We are advised NOT to do it.   If they copy their code into the question that is fine ... because by doing so they are implicitly granting permission to copy ... as per the T&amp;Cs.","body":"<i>&quot;As for &quot;legally dubious to answer&quot;: LOL.&quot;</i> - You misinterpreted what I said.  It is legally dubious to correct the mistake (or bad practice) of the OP linking to a gist by copying their gist into the question.  That may be a copyright violation.  We are advised NOT to do it.   If they copy their code into the question that is fine ... because by doing so they are implicitly granting permission to copy ... as per the T&amp;Cs."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679312287,"post_id":75544510,"comment_id":133693132,"body_markdown":"However this is all moot because the OP hasn&#39;t provide an MCVE / minrep in any form.","body":"However this is all moot because the OP hasn&#39;t provide an MCVE / minrep in any form."}],"answers":[{"comments":[{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":0,"creation_date":1679480648,"post_id":75777261,"comment_id":133728293,"body_markdown":"I marked this as answer, because right now it seems there is no solution to this with org.immutables","body":"I marked this as answer, because right now it seems there is no solution to this with org.immutables"}],"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679157683,"creation_date":1679157683,"answer_id":75777261,"question_id":75544510,"body_markdown":"So it appears that immutables does not currently generate constructors with super calls, like you need to subclass ApplicationEvent in spring, as you need &quot;a constructor matching super&quot;.\r\n\r\nAs you can see [here][ctor-template], the constructor template goes from the javadoc for the constructor straight into enumerating arguments. the [Invokable][guava-invokable] class being referenced here is from guava (30.0 on the latest immutables) represents a method signature.\r\n\r\nI believe that [this line](https://github.com/immutables/immutables/blob/master/value-processor/src/org/immutables/value/processor/Immutables.generator#L2688) is some kind of hook into the immutables templating system (that would need to be expanded to support generating super constructor calls). As you can see it appears right after the opening curly brace of the constructor (and an if statement that decides to generate that constructor.\r\n\r\nThe templating system is complicated, and [it might be discontinued in the future.](https://github.com/immutables/immutables/issues/1448#issuecomment-1471143697) But it seems they are receptive to feedback about redesigning extensibility for new use cases.\r\n\r\n[ctor-template]: https://github.com/immutables/immutables/blob/33f56fd998ec27277c01c6baae2fdc7ba17204ec/value-processor/src/org/immutables/value/processor/Immutables.generator#L2669-L2697\r\n\r\n[guava-invokable]: https://github.com/google/guava/blob/f75cd01d3afe83623bb8bd1a8a816ea5245bf285/guava/src/com/google/common/reflect/Invokable.java\r\n\r\n```\r\n[template generateConstructor Type type Boolean withoutOptional Invokable constructorAcceptTypeInvokable]\r\n  [if type.factoryOf.new]\r\n  /**\r\n   * Construct a new immutable {@code [type.name]} instance.\r\n  [for v in type.constructorArguments]\r\n   * @param [v.name] The value for the {@code [v.name]} attribute[if v.nullable], can be {@code null}[/if]\r\n  [/for]\r\n   */\r\n  [eachLine type.constructorAnnotations]\r\n...\r\n  private [type.typeImmutable.simple]([output.linesShortable][for v in type.constructorArguments][if not for.first],[/if]\r\n      [v.atNullability][constructorAcceptTypeInvokable v] [v.name][/for][/output.linesShortable]) {\r\n  [/if]\r\n[if type.constructorOmited or (type.hasEncodingValueOrVirtualFields or (type.generateSafeDerived and type.hasDerivedAttributes))]\r\n\r\n  ### not sure what this does, but it is the first thing that happens\r\n  ### when a constructor is generated\r\n  [let shim][disambiguateField type &#39;initShim&#39;][/let]\r\n\r\n  ### probably just need to add something here that considers what supers exist\r\n\r\n  ### then goes right into args\r\n  [for v in type.constructorArguments, n = v.name]\r\n...\r\n    this.[n] = [valueFrom type v n withoutOptional];\r\n...\r\n[/if]\r\n    [generateAfterConstruction type false]\r\n  }\r\n[/template]\r\n```","title":"org immutables - no default constructor on abstract class","body":"<p>So it appears that immutables does not currently generate constructors with super calls, like you need to subclass ApplicationEvent in spring, as you need &quot;a constructor matching super&quot;.</p>\n<p>As you can see <a href=\"https://github.com/immutables/immutables/blob/33f56fd998ec27277c01c6baae2fdc7ba17204ec/value-processor/src/org/immutables/value/processor/Immutables.generator#L2669-L2697\" rel=\"nofollow noreferrer\">here</a>, the constructor template goes from the javadoc for the constructor straight into enumerating arguments. the <a href=\"https://github.com/google/guava/blob/f75cd01d3afe83623bb8bd1a8a816ea5245bf285/guava/src/com/google/common/reflect/Invokable.java\" rel=\"nofollow noreferrer\">Invokable</a> class being referenced here is from guava (30.0 on the latest immutables) represents a method signature.</p>\n<p>I believe that <a href=\"https://github.com/immutables/immutables/blob/master/value-processor/src/org/immutables/value/processor/Immutables.generator#L2688\" rel=\"nofollow noreferrer\">this line</a> is some kind of hook into the immutables templating system (that would need to be expanded to support generating super constructor calls). As you can see it appears right after the opening curly brace of the constructor (and an if statement that decides to generate that constructor.</p>\n<p>The templating system is complicated, and <a href=\"https://github.com/immutables/immutables/issues/1448#issuecomment-1471143697\" rel=\"nofollow noreferrer\">it might be discontinued in the future.</a> But it seems they are receptive to feedback about redesigning extensibility for new use cases.</p>\n<pre><code>[template generateConstructor Type type Boolean withoutOptional Invokable constructorAcceptTypeInvokable]\n  [if type.factoryOf.new]\n  /**\n   * Construct a new immutable {@code [type.name]} instance.\n  [for v in type.constructorArguments]\n   * @param [v.name] The value for the {@code [v.name]} attribute[if v.nullable], can be {@code null}[/if]\n  [/for]\n   */\n  [eachLine type.constructorAnnotations]\n...\n  private [type.typeImmutable.simple]([output.linesShortable][for v in type.constructorArguments][if not for.first],[/if]\n      [v.atNullability][constructorAcceptTypeInvokable v] [v.name][/for][/output.linesShortable]) {\n  [/if]\n[if type.constructorOmited or (type.hasEncodingValueOrVirtualFields or (type.generateSafeDerived and type.hasDerivedAttributes))]\n\n  ### not sure what this does, but it is the first thing that happens\n  ### when a constructor is generated\n  [let shim][disambiguateField type 'initShim'][/let]\n\n  ### probably just need to add something here that considers what supers exist\n\n  ### then goes right into args\n  [for v in type.constructorArguments, n = v.name]\n...\n    this.[n] = [valueFrom type v n withoutOptional];\n...\n[/if]\n    [generateAfterConstruction type false]\n  }\n[/template]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679317769,"creation_date":1679317769,"answer_id":75790689,"question_id":75544510,"body_markdown":"For an immutable class, I would recommend to provide all fields in the (protected) constructor. Keep in mind, the inheriting class *must* see the parent&#39;s constructor *in scope*.\r\n\r\nSince the class shall be immutable, and you want to be sure, it&#39;s always safer to have *all* the fields final (and immutable as well).\r\n\r\nWhen considering the builder-pattern, provide a static sub-class Builder, provide with it the reasonable defaults and builder-methods.\r\n\r\nFrom Java 14+, there is the alternative option to use records, see https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\r\n, which also is feasible to be combined with a builder.","title":"org immutables - no default constructor on abstract class","body":"<p>For an immutable class, I would recommend to provide all fields in the (protected) constructor. Keep in mind, the inheriting class <em>must</em> see the parent's constructor <em>in scope</em>.</p>\n<p>Since the class shall be immutable, and you want to be sure, it's always safer to have <em>all</em> the fields final (and immutable as well).</p>\n<p>When considering the builder-pattern, provide a static sub-class Builder, provide with it the reasonable defaults and builder-methods.</p>\n<p>From Java 14+, there is the alternative option to use records, see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html</a>\n, which also is feasible to be combined with a builder.</p>\n"}],"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75777261,"answer_count":2,"score":-2,"last_activity_date":1679317769,"creation_date":1677153412,"question_id":75544510,"body_markdown":"Using https://immutables.github.io/ I wonder if it is possible to have something like custom immutable abstract class inheriting from a class without a default constructor. In this example a sub of Spring&#39;s ApplicationEvent (and also take advantage of builder functionality):\r\n\r\n    @Value.Immutable\r\n    @Value.Style(\r\n        privateNoargConstructor = true,\r\n        get = {&quot;is*&quot;, &quot;get*&quot;},\r\n        init = &quot;set*&quot;,\r\n        passAnnotations = Builder.class)\r\n    public abstract class CustomEvent extends ApplicationEvent {\r\n        //... I need constructor here!\r\n\r\n        abstract String getFoo();\r\n    }\r\n\r\nHow would you accomplish this if you have no default constructor on the abstract class?\r\n\r\n\r\n    public abstract class ApplicationEvent extends EventObject {\r\n        ...\r\n    \tpublic ApplicationEvent(Object source) {\r\n    \t\tsuper(source);\r\n    \t\t...\r\n    \t}\r\n    }\r\n\r\n**EDIT:**\r\n\r\nIf I create a matching constructor like:\r\n\r\n    private CustomEvent(Object source) {\r\n        super(source);\r\n    }\r\n\r\nI will get a &quot;generated&quot; ImmutableCustomEvent constructor like this:\r\n\r\n\r\n    private ImmutableCustomEvent() {\r\n        this.foo = null;\r\n    }\r\n\r\nWhich makes sense, as it tries to generate a class with all the &quot;properties&quot; necessary, but does not consider the &quot;only available&quot; constructor\r\n\r\n**EDIT2:**\r\n\r\nWhat I expect as a generated constructor\r\n\r\n    private ImmutableCustomEvent() {\r\n        super(null)\r\n        this.foo = null;\r\n    }\r\n\r\nor at least \r\n\r\n    private ImmutableCustomEvent(Object source) {\r\n        super(source)\r\n        this.foo = null;\r\n    }","title":"org immutables - no default constructor on abstract class","body":"<p>Using <a href=\"https://immutables.github.io/\" rel=\"nofollow noreferrer\">https://immutables.github.io/</a> I wonder if it is possible to have something like custom immutable abstract class inheriting from a class without a default constructor. In this example a sub of Spring's ApplicationEvent (and also take advantage of builder functionality):</p>\n<pre><code>@Value.Immutable\n@Value.Style(\n    privateNoargConstructor = true,\n    get = {&quot;is*&quot;, &quot;get*&quot;},\n    init = &quot;set*&quot;,\n    passAnnotations = Builder.class)\npublic abstract class CustomEvent extends ApplicationEvent {\n    //... I need constructor here!\n\n    abstract String getFoo();\n}\n</code></pre>\n<p>How would you accomplish this if you have no default constructor on the abstract class?</p>\n<pre><code>public abstract class ApplicationEvent extends EventObject {\n    ...\n    public ApplicationEvent(Object source) {\n        super(source);\n        ...\n    }\n}\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>If I create a matching constructor like:</p>\n<pre><code>private CustomEvent(Object source) {\n    super(source);\n}\n</code></pre>\n<p>I will get a &quot;generated&quot; ImmutableCustomEvent constructor like this:</p>\n<pre><code>private ImmutableCustomEvent() {\n    this.foo = null;\n}\n</code></pre>\n<p>Which makes sense, as it tries to generate a class with all the &quot;properties&quot; necessary, but does not consider the &quot;only available&quot; constructor</p>\n<p><strong>EDIT2:</strong></p>\n<p>What I expect as a generated constructor</p>\n<pre><code>private ImmutableCustomEvent() {\n    super(null)\n    this.foo = null;\n}\n</code></pre>\n<p>or at least</p>\n<pre><code>private ImmutableCustomEvent(Object source) {\n    super(source)\n    this.foo = null;\n}\n</code></pre>\n"},{"tags":["java","flutter","dart","encryption"],"answers":[{"comments":[{"owner":{"account_id":13526276,"reputation":93,"user_id":9758013,"display_name":"jitendra rathore"},"score":0,"creation_date":1665998282,"post_id":74042265,"comment_id":130822317,"body_markdown":"Thanks Tapaco, My Problem has solved.","body":"Thanks Tapaco, My Problem has solved."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665655779,"creation_date":1665579671,"answer_id":74042265,"question_id":74028210,"body_markdown":"The decryption fails because in both codes different salts are used and therefore different keys are generated. Ultimately, this is due to an inappropriate design of the PBKDF2 implementation of the *password_hash_plus* Dart library.\r\n\r\nIn the Java code a *random* salt is applied, in this case 0xb9266c74df614967d9acaa2878bff87c. In `main()`, the salt is passed hex encoded to `encrypt()`, hex decoded in `generateKey()`, and the resulting byte sequence is used for key derivation.\r\n\r\nThe `generateBase64Key()` method of the *password_hash_plus* library, on the other hand, expects the salt as string and does a UTF-8 encoding *internally*, see [here][1]. Therefore, only salts that are UTF-8 decodable can be processed. This is generally not true for *random* salts, since these are corrupted by a UTF-8 decoding.  \r\nThe hex encoding of the salt applied in the Dart code does not work either, of course, because `generateBase64Key()` does not perform a hex decoding internally but a UTF-8 encoding.\r\n\r\nSince salts are generally random byte sequences, the design of the PBKDF2 implementation of the *password_hash_plus* library is unsuitable. Instead, an implementation is required where the salt is passed as byte sequence (`Uint8List` or `List&lt;int&gt;`), e.g. the PBKDF2 implementation of [PointyCastle][2]:\r\n\r\n```dart\r\nimport &#39;package:pointycastle/export.dart&#39;;\r\nimport &#39;dart:typed_data&#39;;\r\n...\r\nfinal key = aes.Key(deriveKey(&quot;1234567891234567&quot;, Uint8List.fromList(values))); // Raw salt for key derivation!\r\nfinal salt = hex.encode(values);                                                // Hex encoded salt for output!\r\n...\r\nUint8List deriveKey(String passphrase, Uint8List salt){\r\n    Uint8List passphraseBytes = Uint8List.fromList(utf8.encode(passphrase));\r\n    KeyDerivator derivator = PBKDF2KeyDerivator(HMac(SHA1Digest(), 64));    // 64 byte block size\r\n    Pbkdf2Parameters params = Pbkdf2Parameters(salt, 1000, 16);             // 16 byte key size\r\n    derivator.init(params);\r\n    return derivator.process(passphraseBytes);\r\n}\r\n...\r\n```\r\n\r\nThe Dart code returns salt and IV hex encoded and the ciphertext Base64 encoded. If this data is passed with these encodings to the `decrypt()` method of the Java code, decryption is successful.\r\n\r\nBe aware that an iteration count of 1000 is generally too small for PBKDF2.\r\n\r\n[1]: https://pub.dev/documentation/password_hash_plus/latest/password_hash_plus/PBKDF2/generateKey.html\r\n[2]: https://pub.dev/documentation/pointycastle/latest/impl.key_derivator.pbkdf2/PBKDF2KeyDerivator-class.html","title":"Plain text encrypt from Dart code but decrypt from Java code","body":"<p>The decryption fails because in both codes different salts are used and therefore different keys are generated. Ultimately, this is due to an inappropriate design of the PBKDF2 implementation of the <em>password_hash_plus</em> Dart library.</p>\n<p>In the Java code a <em>random</em> salt is applied, in this case 0xb9266c74df614967d9acaa2878bff87c. In <code>main()</code>, the salt is passed hex encoded to <code>encrypt()</code>, hex decoded in <code>generateKey()</code>, and the resulting byte sequence is used for key derivation.</p>\n<p>The <code>generateBase64Key()</code> method of the <em>password_hash_plus</em> library, on the other hand, expects the salt as string and does a UTF-8 encoding <em>internally</em>, see <a href=\"https://pub.dev/documentation/password_hash_plus/latest/password_hash_plus/PBKDF2/generateKey.html\" rel=\"nofollow noreferrer\">here</a>. Therefore, only salts that are UTF-8 decodable can be processed. This is generally not true for <em>random</em> salts, since these are corrupted by a UTF-8 decoding.<br />\nThe hex encoding of the salt applied in the Dart code does not work either, of course, because <code>generateBase64Key()</code> does not perform a hex decoding internally but a UTF-8 encoding.</p>\n<p>Since salts are generally random byte sequences, the design of the PBKDF2 implementation of the <em>password_hash_plus</em> library is unsuitable. Instead, an implementation is required where the salt is passed as byte sequence (<code>Uint8List</code> or <code>List&lt;int&gt;</code>), e.g. the PBKDF2 implementation of <a href=\"https://pub.dev/documentation/pointycastle/latest/impl.key_derivator.pbkdf2/PBKDF2KeyDerivator-class.html\" rel=\"nofollow noreferrer\">PointyCastle</a>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:pointycastle/export.dart';\nimport 'dart:typed_data';\n...\nfinal key = aes.Key(deriveKey(&quot;1234567891234567&quot;, Uint8List.fromList(values))); // Raw salt for key derivation!\nfinal salt = hex.encode(values);                                                // Hex encoded salt for output!\n...\nUint8List deriveKey(String passphrase, Uint8List salt){\n    Uint8List passphraseBytes = Uint8List.fromList(utf8.encode(passphrase));\n    KeyDerivator derivator = PBKDF2KeyDerivator(HMac(SHA1Digest(), 64));    // 64 byte block size\n    Pbkdf2Parameters params = Pbkdf2Parameters(salt, 1000, 16);             // 16 byte key size\n    derivator.init(params);\n    return derivator.process(passphraseBytes);\n}\n...\n</code></pre>\n<p>The Dart code returns salt and IV hex encoded and the ciphertext Base64 encoded. If this data is passed with these encodings to the <code>decrypt()</code> method of the Java code, decryption is successful.</p>\n<p>Be aware that an iteration count of 1000 is generally too small for PBKDF2.</p>\n"}],"owner":{"account_id":13526276,"reputation":93,"user_id":9758013,"display_name":"jitendra rathore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74042265,"answer_count":1,"score":0,"last_activity_date":1679317691,"creation_date":1665491530,"question_id":74028210,"body_markdown":"When I encrypt plain text using Dart,and encrypted text is decrypted from Java code, I get this error:\r\n\r\n  ```none\r\n  javax.crypto.BadPaddingException: pad block corrupted\r\n\tat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedGenericBlockCipher.doFinal(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\r\n\tat javax.crypto.Cipher.doFinal(Cipher.java:2168)\r\n\tat AesUtil.doFinal(AesUtil.java:75)\r\n\tat AesUtil.decrypt(AesUtil.java:60)\r\n\tat Main.main(Main.java:18)\r\n  ```\r\n\r\nSame IV, salt and passphase value using Java side for key generation, but the generated key is different and also cipher test is different. I am using same method for key generation. I don&#39;t know what is missing in Dart code.\r\n  \r\n  ```yaml\r\n  dependencies:\r\n      encrypt: ^5.0.1\r\n      hex: ^0.2.0\r\n      password_hash_plus: ^4.0.0\r\n```\r\n\r\nDart code is:\r\n \r\n  ```dart\r\n  var random = Random.secure();\r\n  var values = List&lt;int&gt;.generate(16, (i) =&gt; random.nextInt(255));\r\n\r\n  // final salt = aes.IV.fromSecureRandom(16);\r\n  final salt = hex.encode(values);\r\n  final generator = PBKDF2(hashAlgorithm: sha1);\r\n  final key = aes.Key.fromBase64(generator.generateBase64Key(&quot;1234567891234567&quot;, salt, 1000, 16));\r\n\r\n \r\n  final iv = aes.IV.fromSecureRandom(16);\r\n\r\n  final encrypter =\r\n      aes.Encrypter(aes.AES(key, mode: aes.AESMode.cbc, padding: &#39;PKCS7&#39;));\r\n  final encrypted = encrypter.encrypt(st.password!, iv: iv);\r\n\r\n  var str = &#39;${iv.base16}::${salt}::${encrypted.base64}&#39;;\r\n  var bytes = utf8.encode(str);\r\n  var base64Str = base64.encode(bytes);\r\n\r\n\r\n  //final decrypt = encrypter.decrypt64(&quot;/vvAYMc3rgCvPvuSVU/qQw==&quot;, iv: iv);\r\n\r\n  print(\r\n      &#39;------------------------------,\\n encrypt ${(encrypted.base64)}-----------&#39;\r\n       //&#39;--\\ndecrypted ${decrypt}-----------base64--------$base64Str-----&#39;\r\n      &#39;\\nkey = ${key.base64} array--\\niv = ${iv.base16}--salt= {${salt}&#39;);\r\n```\r\n\r\nAnd Java code is: \r\n   \r\n```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        AesUtil aesUtil = new AesUtil();\r\n        String encrypt = aesUtil.encrypt(&quot;b9266c74df614967d9acaa2878bff87c&quot;, &quot;6ab7c799d6411f9d0c8e048ad526eeee&quot;, &quot;1234567891234567&quot;, &quot;Jitu@123456&quot;);\r\n        String a = aesUtil.decrypt(&quot;01e6a073a4255c92e704bd94d76d75c5&quot;, &quot;98a21e07ed34afc523c5f5938c9202db&quot;, &quot;1234567891234567&quot;, &quot;MumTfpnzZh9bk94yiTuA+g==&quot;);\r\n\r\n        System.out.println(&quot;encrypt = &quot; + encrypt + &quot; \\ndecrpty valaue----&quot; + a);\r\n    }\r\n}\r\n```\r\n\r\nEncryption code in Java:\r\n\r\n```java\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.security.*;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.KeySpec;\r\nimport java.util.Arrays;\r\n\r\nimport javax.crypto.BadPaddingException;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.IllegalBlockSizeException;\r\nimport javax.crypto.NoSuchPaddingException;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\nimport org.apache.commons.codec.DecoderException;\r\nimport org.apache.commons.codec.binary.Base64;\r\nimport org.apache.commons.codec.binary.Hex;\r\nimport org.springframework.stereotype.Component;\r\n\r\npublic class AesUtil {\r\n    private final int keySize;\r\n    private final int iterationCount;\r\n    private final Cipher cipher;\r\n\r\n    public AesUtil() {\r\n        this.keySize = 128;\r\n        this.iterationCount = 1000;\r\n        try {\r\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n            cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, &quot;BC&quot;);\r\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\r\n            e.printStackTrace();\r\n            throw fail(e);\r\n        } catch (NoSuchProviderException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public String encrypt(String salt, String iv, String passphrase, String plaintext) {\r\n        try {\r\n            SecretKey key = generateKey(salt, passphrase);\r\n            System.out.println(&quot;encryption key-------= &quot; + base64(key.getEncoded()));\r\n            byte[] encrypted = doFinal(Cipher.ENCRYPT_MODE, key, iv, plaintext.getBytes(&quot;ISO-8859-1&quot;));\r\n            return base64(encrypted);\r\n        } catch (UnsupportedEncodingException e) {\r\n            throw fail(e);\r\n        }\r\n    }\r\n\r\n    public String decrypt(String salt, String iv, String passphrase, String ciphertext) {\r\n        try {\r\n            SecretKey key = generateKey(salt, passphrase);\r\n            System.out.println(&quot;decrypt key-------= &quot; + base64(key.getEncoded()));\r\n            byte[] decrypted = doFinal(Cipher.DECRYPT_MODE, key, iv, base64(ciphertext));\r\n            return new String(decrypted, &quot;ISO-8859-1&quot;);\r\n        } catch (UnsupportedEncodingException e) {\r\n            return null;\r\n        } catch (Exception e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private byte[] doFinal(int encryptMode, SecretKey key, String iv, byte[] bytes) {\r\n        try {\r\n            IvParameterSpec IivParameterSpec = new IvParameterSpec(hex(iv));\r\n            System.out.println(&quot;----iv--= &quot; + hex(IivParameterSpec.getIV()));\r\n            cipher.init(encryptMode, key, IivParameterSpec);\r\n            return cipher.doFinal(bytes);\r\n        } catch (InvalidKeyException\r\n                 | InvalidAlgorithmParameterException\r\n                 | IllegalBlockSizeException\r\n                 | BadPaddingException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private SecretKey generateKey(String salt, String passphrase) {\r\n        try {\r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n            byte[] s = hex(salt);\r\n            System.out.println(&quot;salt-= &quot; + hex(s));\r\n            KeySpec spec = new PBEKeySpec(passphrase.toCharArray(), s, iterationCount, keySize);\r\n\r\n            SecretKey key = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n            return key;\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public static String random(int length) {\r\n        byte[] salt = new byte[length];\r\n        new SecureRandom().nextBytes(salt);\r\n        return hex(salt);\r\n    }\r\n\r\n    public static String base64(byte[] bytes) {\r\n        return Base64.encodeBase64String(bytes);\r\n    }\r\n\r\n    public static byte[] base64(String str) {\r\n        return Base64.decodeBase64(str);\r\n    }\r\n\r\n    public static String hex(byte[] bytes) {\r\n        return Hex.encodeHexString(bytes);\r\n    }\r\n\r\n    public static byte[] hex(String str) {\r\n        try {\r\n            return Hex.decodeHex(str.toCharArray());\r\n        } catch (DecoderException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\n    private IllegalStateException fail(Exception e) {\r\n        return null;\r\n    }\r\n\r\n    public static byte[][] GenerateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\r\n\r\n        int digestLength = md.getDigestLength();\r\n        int requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\r\n        byte[] generatedData = new byte[requiredLength];\r\n        int generatedLength = 0;\r\n\r\n        try {\r\n            md.reset();\r\n\r\n            // Repeat process until sufficient data has been generated\r\n            while (generatedLength &lt; keyLength + ivLength) {\r\n\r\n                // Digest data (last digest if available, password data, salt if available)\r\n                if (generatedLength &gt; 0)\r\n                    md.update(generatedData, generatedLength - digestLength, digestLength);\r\n                md.update(password);\r\n                if (salt != null)\r\n                    md.update(salt, 0, 8);\r\n                md.digest(generatedData, generatedLength, digestLength);\r\n\r\n                // additional rounds\r\n                for (int i = 1; i &lt; iterations; i++) {\r\n                    md.update(generatedData, generatedLength, digestLength);\r\n                    md.digest(generatedData, generatedLength, digestLength);\r\n                }\r\n\r\n                generatedLength += digestLength;\r\n            }\r\n\r\n            // Copy key and IV into separate byte arrays\r\n            byte[][] result = new byte[2][];\r\n            result[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\r\n            if (ivLength &gt; 0)\r\n                result[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\r\n\r\n            return result;\r\n\r\n        } catch (DigestException e) {\r\n            throw new RuntimeException(e);\r\n\r\n        } finally {\r\n            // Clean out temporary data\r\n            Arrays.fill(generatedData, (byte) 0);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Plain text encrypt from Dart code but decrypt from Java code","body":"<p>When I encrypt plain text using Dart,and encrypted text is decrypted from Java code, I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.crypto.BadPaddingException: pad block corrupted\n  at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedGenericBlockCipher.doFinal(Unknown Source)\n  at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\n  at javax.crypto.Cipher.doFinal(Cipher.java:2168)\n  at AesUtil.doFinal(AesUtil.java:75)\n  at AesUtil.decrypt(AesUtil.java:60)\n  at Main.main(Main.java:18)\n</code></pre>\n<p>Same IV, salt and passphase value using Java side for key generation, but the generated key is different and also cipher test is different. I am using same method for key generation. I don't know what is missing in Dart code.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>dependencies:\n    encrypt: ^5.0.1\n    hex: ^0.2.0\n    password_hash_plus: ^4.0.0\n</code></pre>\n<p>Dart code is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>var random = Random.secure();\nvar values = List&lt;int&gt;.generate(16, (i) =&gt; random.nextInt(255));\n\n// final salt = aes.IV.fromSecureRandom(16);\nfinal salt = hex.encode(values);\nfinal generator = PBKDF2(hashAlgorithm: sha1);\nfinal key = aes.Key.fromBase64(generator.generateBase64Key(&quot;1234567891234567&quot;, salt, 1000, 16));\n\n\nfinal iv = aes.IV.fromSecureRandom(16);\n\nfinal encrypter =\n    aes.Encrypter(aes.AES(key, mode: aes.AESMode.cbc, padding: 'PKCS7'));\nfinal encrypted = encrypter.encrypt(st.password!, iv: iv);\n\nvar str = '${iv.base16}::${salt}::${encrypted.base64}';\nvar bytes = utf8.encode(str);\nvar base64Str = base64.encode(bytes);\n\n\n//final decrypt = encrypter.decrypt64(&quot;/vvAYMc3rgCvPvuSVU/qQw==&quot;, iv: iv);\n\nprint(\n    '------------------------------,\\n encrypt ${(encrypted.base64)}-----------'\n     //'--\\ndecrypted ${decrypt}-----------base64--------$base64Str-----'\n    '\\nkey = ${key.base64} array--\\niv = ${iv.base16}--salt= {${salt}');\n</code></pre>\n<p>And Java code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        AesUtil aesUtil = new AesUtil();\n        String encrypt = aesUtil.encrypt(&quot;b9266c74df614967d9acaa2878bff87c&quot;, &quot;6ab7c799d6411f9d0c8e048ad526eeee&quot;, &quot;1234567891234567&quot;, &quot;Jitu@123456&quot;);\n        String a = aesUtil.decrypt(&quot;01e6a073a4255c92e704bd94d76d75c5&quot;, &quot;98a21e07ed34afc523c5f5938c9202db&quot;, &quot;1234567891234567&quot;, &quot;MumTfpnzZh9bk94yiTuA+g==&quot;);\n\n        System.out.println(&quot;encrypt = &quot; + encrypt + &quot; \\ndecrpty valaue----&quot; + a);\n    }\n}\n</code></pre>\n<p>Encryption code in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.UnsupportedEncodingException;\nimport java.security.*;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.commons.codec.DecoderException;\nimport org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.codec.binary.Hex;\nimport org.springframework.stereotype.Component;\n\npublic class AesUtil {\n    private final int keySize;\n    private final int iterationCount;\n    private final Cipher cipher;\n\n    public AesUtil() {\n        this.keySize = 128;\n        this.iterationCount = 1000;\n        try {\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n            cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, &quot;BC&quot;);\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\n            e.printStackTrace();\n            throw fail(e);\n        } catch (NoSuchProviderException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public String encrypt(String salt, String iv, String passphrase, String plaintext) {\n        try {\n            SecretKey key = generateKey(salt, passphrase);\n            System.out.println(&quot;encryption key-------= &quot; + base64(key.getEncoded()));\n            byte[] encrypted = doFinal(Cipher.ENCRYPT_MODE, key, iv, plaintext.getBytes(&quot;ISO-8859-1&quot;));\n            return base64(encrypted);\n        } catch (UnsupportedEncodingException e) {\n            throw fail(e);\n        }\n    }\n\n    public String decrypt(String salt, String iv, String passphrase, String ciphertext) {\n        try {\n            SecretKey key = generateKey(salt, passphrase);\n            System.out.println(&quot;decrypt key-------= &quot; + base64(key.getEncoded()));\n            byte[] decrypted = doFinal(Cipher.DECRYPT_MODE, key, iv, base64(ciphertext));\n            return new String(decrypted, &quot;ISO-8859-1&quot;);\n        } catch (UnsupportedEncodingException e) {\n            return null;\n        } catch (Exception e) {\n            return null;\n        }\n    }\n\n    private byte[] doFinal(int encryptMode, SecretKey key, String iv, byte[] bytes) {\n        try {\n            IvParameterSpec IivParameterSpec = new IvParameterSpec(hex(iv));\n            System.out.println(&quot;----iv--= &quot; + hex(IivParameterSpec.getIV()));\n            cipher.init(encryptMode, key, IivParameterSpec);\n            return cipher.doFinal(bytes);\n        } catch (InvalidKeyException\n                 | InvalidAlgorithmParameterException\n                 | IllegalBlockSizeException\n                 | BadPaddingException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private SecretKey generateKey(String salt, String passphrase) {\n        try {\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n            byte[] s = hex(salt);\n            System.out.println(&quot;salt-= &quot; + hex(s));\n            KeySpec spec = new PBEKeySpec(passphrase.toCharArray(), s, iterationCount, keySize);\n\n            SecretKey key = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n            return key;\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            return null;\n        }\n    }\n\n    public static String random(int length) {\n        byte[] salt = new byte[length];\n        new SecureRandom().nextBytes(salt);\n        return hex(salt);\n    }\n\n    public static String base64(byte[] bytes) {\n        return Base64.encodeBase64String(bytes);\n    }\n\n    public static byte[] base64(String str) {\n        return Base64.decodeBase64(str);\n    }\n\n    public static String hex(byte[] bytes) {\n        return Hex.encodeHexString(bytes);\n    }\n\n    public static byte[] hex(String str) {\n        try {\n            return Hex.decodeHex(str.toCharArray());\n        } catch (DecoderException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    private IllegalStateException fail(Exception e) {\n        return null;\n    }\n\n    public static byte[][] GenerateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\n\n        int digestLength = md.getDigestLength();\n        int requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\n        byte[] generatedData = new byte[requiredLength];\n        int generatedLength = 0;\n\n        try {\n            md.reset();\n\n            // Repeat process until sufficient data has been generated\n            while (generatedLength &lt; keyLength + ivLength) {\n\n                // Digest data (last digest if available, password data, salt if available)\n                if (generatedLength &gt; 0)\n                    md.update(generatedData, generatedLength - digestLength, digestLength);\n                md.update(password);\n                if (salt != null)\n                    md.update(salt, 0, 8);\n                md.digest(generatedData, generatedLength, digestLength);\n\n                // additional rounds\n                for (int i = 1; i &lt; iterations; i++) {\n                    md.update(generatedData, generatedLength, digestLength);\n                    md.digest(generatedData, generatedLength, digestLength);\n                }\n\n                generatedLength += digestLength;\n            }\n\n            // Copy key and IV into separate byte arrays\n            byte[][] result = new byte[2][];\n            result[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\n            if (ivLength &gt; 0)\n                result[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\n\n            return result;\n\n        } catch (DigestException e) {\n            throw new RuntimeException(e);\n\n        } finally {\n            // Clean out temporary data\n            Arrays.fill(generatedData, (byte) 0);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","mediapipe","tflite","pose-detection"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1674265946,"post_id":75190206,"comment_id":132684584,"body_markdown":"Welcome to StackOverflow. Without actually showing your code (&amp; possible source image) or providing more detail (i.e. which example/sample project used) it is difficult to know where you are getting your output values. Just by guessing, the first set is for the bounding box and the second set is the Vitruvian man position as described in docs with `we predict the midpoint of a persons hips, the radius of a circle circumscribing the whole person, and the incline angle of the line connecting the shoulder and hip midpoints.`","body":"Welcome to StackOverflow. Without actually showing your code (&amp; possible source image) or providing more detail (i.e. which example/sample project used) it is difficult to know where you are getting your output values. Just by guessing, the first set is for the bounding box and the second set is the Vitruvian man position as described in docs with <code>we predict the midpoint of a persons hips, the radius of a circle circumscribing the whole person, and the incline angle of the line connecting the shoulder and hip midpoints.</code>"},{"owner":{"account_id":27584354,"reputation":1,"user_id":21052882,"display_name":"EinePriseCode"},"score":0,"creation_date":1674298681,"post_id":75190206,"comment_id":132687677,"body_markdown":"I edited the question a bit offering some code (the input image shouldnt matter, because the output shapes are predefined). Which docs are you reffering?","body":"I edited the question a bit offering some code (the input image shouldnt matter, because the output shapes are predefined). Which docs are you reffering?"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1674334146,"post_id":75190206,"comment_id":132694043,"body_markdown":"My quote is from: https://google.github.io/mediapipe/solutions/pose.html#models Do note there is an entire section in the mediapipe documentation for getting started on Android: https://google.github.io/mediapipe/getting_started/android.html","body":"My quote is from: <a href=\"https://google.github.io/mediapipe/solutions/pose.html#models\" rel=\"nofollow noreferrer\">google.github.io/mediapipe/solutions/pose.html#models</a> Do note there is an entire section in the mediapipe documentation for getting started on Android: <a href=\"https://google.github.io/mediapipe/getting_started/android.html\" rel=\"nofollow noreferrer\">google.github.io/mediapipe/getting_started/android.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":27584354,"reputation":1,"user_id":21052882,"display_name":"EinePriseCode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679317576,"creation_date":1679317576,"answer_id":75790656,"question_id":75190206,"body_markdown":"After some considerations due to the hint in MediaPipe&#39;s documentation &quot;Disclaimer: Running MediaPipe on Windows is experimental.&quot; (https://developers.google.com/mediapipe/framework/getting_started/install#installing_on_windows), I followed the instructions on google.github.io/mediapipe/getting_started/android.html as @Morrison Chang proposed. This approach needs much time to understand, but grants high customizability and good results. That solved my problem, the old approach seems to be not suitable.","title":"Understanding the output shape of mediapipes tflite models for pose detection","body":"<p>After some considerations due to the hint in MediaPipe's documentation &quot;Disclaimer: Running MediaPipe on Windows is experimental.&quot; (<a href=\"https://developers.google.com/mediapipe/framework/getting_started/install#installing_on_windows\" rel=\"nofollow noreferrer\">https://developers.google.com/mediapipe/framework/getting_started/install#installing_on_windows</a>), I followed the instructions on google.github.io/mediapipe/getting_started/android.html as @Morrison Chang proposed. This approach needs much time to understand, but grants high customizability and good results. That solved my problem, the old approach seems to be not suitable.</p>\n"}],"owner":{"account_id":27584354,"reputation":1,"user_id":21052882,"display_name":"EinePriseCode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75790656,"answer_count":1,"score":0,"last_activity_date":1679317576,"creation_date":1674257164,"question_id":75190206,"body_markdown":"I&#39;m trying to use one of mediapipes pretrained tflite models to perform a pose landmark detection in android (java), which offers me information about 33 landmarks of a human body. I know there are different ways for example using ML Kit, but for better results using one of mediapipes model would be better.\r\n\r\nI want to use (https://google.github.io/mediapipe/solutions/models.html) the Pose landmark model.\r\n\r\nTo use this models in android it&#39;s neccessary to know (and especially understand) the output shapes of the model.\r\nThose can be read in java (or python):\r\n - Five outputs: [195], [1], [256, 256, 1], [64, 64, 1], [117]\r\nif I got it right.\r\n\r\nBut in the model card of the model the output array is defined as [33, 5], what make sense because the goals is to detect 33 landmarks with 5 values each.\r\n\r\nCan somebody explain the output shapes of the tflite model and how to use them or give me a clue on a documentation I missed.\r\n\r\nThe used code is auto-genrated from android studio and offered by the &quot;sample code section&quot; of the model in the ml folder (following those instructions https://www.tensorflow.org/lite/inference_with_metadata/codegen#mlbinding, but getting same shapes on using following approach https://www.tensorflow.org/lite/guide/inference#load_and_run_a_model_in_java):\r\n    \r\n    try {\r\n            PoseDetection model = PoseDetection.newInstance(getApplicationContext());\r\n\r\n            // Creates inputs for reference.\r\n            TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\r\n\r\n            // imageBuffer is the image as ByteBuffer\r\n            inputFeature0.loadBuffer(imageBuffer);\r\n\r\n            // Runs model inference and gets result.\r\n            PoseDetection.Outputs outputs = model.process(inputFeature0);\r\n            TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n            TensorBuffer outputFeature1 = outputs.getOutputFeature1AsTensorBuffer();\r\n            TensorBuffer outputFeature2 = outputs.getOutputFeature2AsTensorBuffer();\r\n            TensorBuffer outputFeature3 = outputs.getOutputFeature3AsTensorBuffer();\r\n            TensorBuffer outputFeature4 = outputs.getOutputFeature4AsTensorBuffer();\r\n\r\n            // Releases model resources if no longer used.\r\n            model.close();\r\n        } catch (IOException e) {\r\n            // TODO Handle the exception\r\n        }\r\nI got the shapes by inspecting the outputFeatures using the debugger.\r\n\r\nThanks a lot.","title":"Understanding the output shape of mediapipes tflite models for pose detection","body":"<p>I'm trying to use one of mediapipes pretrained tflite models to perform a pose landmark detection in android (java), which offers me information about 33 landmarks of a human body. I know there are different ways for example using ML Kit, but for better results using one of mediapipes model would be better.</p>\n<p>I want to use (<a href=\"https://google.github.io/mediapipe/solutions/models.html\" rel=\"nofollow noreferrer\">https://google.github.io/mediapipe/solutions/models.html</a>) the Pose landmark model.</p>\n<p>To use this models in android it's neccessary to know (and especially understand) the output shapes of the model.\nThose can be read in java (or python):</p>\n<ul>\n<li>Five outputs: [195], [1], [256, 256, 1], [64, 64, 1], [117]\nif I got it right.</li>\n</ul>\n<p>But in the model card of the model the output array is defined as [33, 5], what make sense because the goals is to detect 33 landmarks with 5 values each.</p>\n<p>Can somebody explain the output shapes of the tflite model and how to use them or give me a clue on a documentation I missed.</p>\n<p>The used code is auto-genrated from android studio and offered by the &quot;sample code section&quot; of the model in the ml folder (following those instructions <a href=\"https://www.tensorflow.org/lite/inference_with_metadata/codegen#mlbinding\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/lite/inference_with_metadata/codegen#mlbinding</a>, but getting same shapes on using following approach <a href=\"https://www.tensorflow.org/lite/guide/inference#load_and_run_a_model_in_java\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/lite/guide/inference#load_and_run_a_model_in_java</a>):</p>\n<pre><code>try {\n        PoseDetection model = PoseDetection.newInstance(getApplicationContext());\n\n        // Creates inputs for reference.\n        TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\n\n        // imageBuffer is the image as ByteBuffer\n        inputFeature0.loadBuffer(imageBuffer);\n\n        // Runs model inference and gets result.\n        PoseDetection.Outputs outputs = model.process(inputFeature0);\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n        TensorBuffer outputFeature1 = outputs.getOutputFeature1AsTensorBuffer();\n        TensorBuffer outputFeature2 = outputs.getOutputFeature2AsTensorBuffer();\n        TensorBuffer outputFeature3 = outputs.getOutputFeature3AsTensorBuffer();\n        TensorBuffer outputFeature4 = outputs.getOutputFeature4AsTensorBuffer();\n\n        // Releases model resources if no longer used.\n        model.close();\n    } catch (IOException e) {\n        // TODO Handle the exception\n    }\n</code></pre>\n<p>I got the shapes by inspecting the outputFeatures using the debugger.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","date","equality"],"comments":[{"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"score":0,"creation_date":1427722609,"post_id":29347645,"comment_id":46881099,"body_markdown":"you mean if it is 1st day of the month?","body":"you mean if it is 1st day of the month?"},{"owner":{"account_id":5395573,"reputation":137,"user_id":4296902,"accept_rate":50,"display_name":"Nick Karaolis"},"score":0,"creation_date":1427722708,"post_id":29347645,"comment_id":46881177,"body_markdown":"@taimeili123 yes that&#39;s what I mean sorry it was badly worded","body":"@taimeili123 yes that&#39;s what I mean sorry it was badly worded"},{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":4,"creation_date":1427722712,"post_id":29347645,"comment_id":46881179,"body_markdown":"`Calendar.getInstance().get(Calendar.DAY_OF_MONTH) == 1` ?","body":"<code>Calendar.getInstance().get(Calendar.DAY_OF_MONTH) == 1</code> ?"},{"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"score":0,"creation_date":1427722856,"post_id":29347645,"comment_id":46881275,"body_markdown":"@NickKaraolis is the date format always gonna be `MM/DD/YYYY`?","body":"@NickKaraolis is the date format always gonna be <code>MM&#47;DD&#47;YYYY</code>?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1427722917,"post_id":29347645,"comment_id":46881319,"body_markdown":"@taimeili123 That&#39;s irrelevant: *&quot;the current date&quot;*.","body":"@taimeili123 That&#39;s irrelevant: <i>&quot;the current date&quot;</i>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1427785757,"post_id":29347645,"comment_id":46908875,"body_markdown":"possible duplicate of [How can Joda or Java returns true if day is the first day of the month?](http://stackoverflow.com/questions/24451419/how-can-joda-or-java-returns-true-if-day-is-the-first-day-of-the-month)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/24451419/how-can-joda-or-java-returns-true-if-day-is-the-first-day-of-the-month\">How can Joda or Java returns true if day is the first day of the month?</a>"}],"answers":[{"comments":[{"owner":{"account_id":3816309,"reputation":9934,"user_id":3165602,"accept_rate":62,"display_name":"Oleg Sklyar"},"score":0,"creation_date":1526626233,"post_id":29347787,"comment_id":87825994,"body_markdown":"An exception or an `Optional` is ways better than returning `false`on `null`","body":"An exception or an <code>Optional</code> is ways better than returning <code>false</code>on <code>null</code>"},{"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"score":0,"creation_date":1526648628,"post_id":29347787,"comment_id":87839343,"body_markdown":"@OlegSkylar That is context dependent, but I agree. I will update.","body":"@OlegSkylar That is context dependent, but I agree. I will update."}],"tags":[],"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1526648786,"creation_date":1427722919,"answer_id":29347787,"question_id":29347645,"body_markdown":"There&#39;s a getter for that:\r\n\r\n    public boolean isFirstDayofMonth(Calendar calendar){\r\n        if (calendar == null) {\r\n            throw new IllegalArgumentException(&quot;Calendar cannot be null.&quot;);\r\n        }\r\n    \r\n        int dayOfMonth = calendar.get(Calendar.DAY_OF_MONTH);\r\n        return dayOfMonth == 1;\r\n    }","title":"How to check if the current date is the first of the month","body":"<p>There's a getter for that:</p>\n\n<pre><code>public boolean isFirstDayofMonth(Calendar calendar){\n    if (calendar == null) {\n        throw new IllegalArgumentException(\"Calendar cannot be null.\");\n    }\n\n    int dayOfMonth = calendar.get(Calendar.DAY_OF_MONTH);\n    return dayOfMonth == 1;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2622976,"reputation":4185,"user_id":2270610,"accept_rate":80,"display_name":"Lo&#239;c Gammaitoni"},"score":0,"creation_date":1679317382,"post_id":35288736,"comment_id":133694574,"body_markdown":"Generally better to use  Calendar.getInstance() and let the JVM decide which Calendar to use rather than enforcing the use of GregorianCalendar","body":"Generally better to use  Calendar.getInstance() and let the JVM decide which Calendar to use rather than enforcing the use of GregorianCalendar"}],"tags":[],"owner":{"account_id":7803783,"reputation":21,"user_id":5902255,"display_name":"Kranthi Kumar Kota"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679317276,"creation_date":1455011392,"answer_id":35288736,"question_id":29347645,"body_markdown":"    public static boolean isFirstDayOfTheMonth(Date dateToday){\r\n        Calendar cal = Calendar.getInstance();\r\n        c.setTime(dateToday );\r\n    \r\n        if (c.get(Calendar.DAY_OF_MONTH) == 1) {\r\n          return true;\r\n        }\r\n        return false;\r\n    }","title":"How to check if the current date is the first of the month","body":"<pre><code>public static boolean isFirstDayOfTheMonth(Date dateToday){\n    Calendar cal = Calendar.getInstance();\n    c.setTime(dateToday );\n\n    if (c.get(Calendar.DAY_OF_MONTH) == 1) {\n      return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1526561216,"post_id":50386946,"comment_id":87799248,"body_markdown":"Nice that someone at last (after three years) provided the `java.time` answer, the modern answer. Thanks. Still simpler: `someDate.getDayOfMonth() == 1`.","body":"Nice that someone at last (after three years) provided the <code>java.time</code> answer, the modern answer. Thanks. Still simpler: <code>someDate.getDayOfMonth() == 1</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1526608381,"post_id":50386946,"comment_id":87821145,"body_markdown":"You should explain where `first/lastDayOfMonth()` comes from.","body":"You should explain where <code>first&#47;lastDayOfMonth()</code> comes from."}],"tags":[],"owner":{"account_id":8854730,"reputation":878,"user_id":6612842,"display_name":"Michal Maov&#237;k"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526626058,"creation_date":1526546331,"answer_id":50386946,"question_id":29347645,"body_markdown":"**Java 8 solution with LocalDate and TemporalAdjuster**\r\n\r\nfirst day of month:\r\n\r\n    someDate.isEqual(someDate.with(firstDayOfMonth()))\r\nlast day of month:\r\n\r\n    someDate.isEqual(someDate.with(lastDayOfMonth())\r\n\r\nThis solution uses [TemporalAdjusters][1] utility from `java.time.temporal`. It is common practice to use it as `import static` but you can also use it as `TemporalAdjusters.lastDayOfMonth()`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html","title":"How to check if the current date is the first of the month","body":"<p><strong>Java 8 solution with LocalDate and TemporalAdjuster</strong></p>\n\n<p>first day of month:</p>\n\n<pre><code>someDate.isEqual(someDate.with(firstDayOfMonth()))\n</code></pre>\n\n<p>last day of month:</p>\n\n<pre><code>someDate.isEqual(someDate.with(lastDayOfMonth())\n</code></pre>\n\n<p>This solution uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\" rel=\"noreferrer\">TemporalAdjusters</a> utility from <code>java.time.temporal</code>. It is common practice to use it as <code>import static</code> but you can also use it as <code>TemporalAdjusters.lastDayOfMonth()</code></p>\n"}],"owner":{"account_id":5395573,"reputation":137,"user_id":4296902,"accept_rate":50,"display_name":"Nick Karaolis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14303,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":29347787,"answer_count":3,"score":8,"last_activity_date":1679317276,"creation_date":1427722498,"question_id":29347645,"body_markdown":"I&#39;m trying to write a function which involves checking if the current date is the first of the month such as  01/03/2015 for example and then run something depending if it is. \r\n\r\nIt doesn&#39;t matter whether it is a date or calendar object, I just want to check if the current date when the code is run is the first of the month","title":"How to check if the current date is the first of the month","body":"<p>I'm trying to write a function which involves checking if the current date is the first of the month such as  01/03/2015 for example and then run something depending if it is. </p>\n\n<p>It doesn't matter whether it is a date or calendar object, I just want to check if the current date when the code is run is the first of the month</p>\n"},{"tags":["java","spring-boot","azure","azure-appservice"],"answers":[{"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679316927,"creation_date":1679316927,"answer_id":75790532,"question_id":75734555,"body_markdown":"&gt; Is there any other workaround for running wiremock as an Azure app service.\r\n\r\nAs we know that the inbound traffic supports only 80 and 443 ports in Azure app service, To access both spring boot endpoint and wiremock(standalone) from the same port there was the way that is **reverse proxy**.\r\n\r\n- For that, first we need to set up some settings check the below.\r\n![enter image description here](https://i.stack.imgur.com/QVrBJ.png)\r\n\r\n- Add the application settings, this is required for the reverse proxy to work properly.\r\n![enter image description here](https://i.stack.imgur.com/wYfou.png)\r\n\r\n- Specify the IP address and port of Wiremock server to the VNet and hybrid connections also.\r\n![enter image description here](https://i.stack.imgur.com/sx471.png)\r\n\r\n- Add inbound security rule set the protocol **TCP**\r\nand ranges to 8085.\r\nBelow added a sample template code for better understanding.\r\n```\r\n\tprivate static final String WIREMOCK_HOST = &quot;wiremock-app-service.azurewebsites.net&quot;;\r\n    private static final int WIREMOCK_PORT = 80;\r\n\r\n    private final RestTemplate restTemplate;\r\n\r\n    public HelloWorldController(RestTemplateBuilder restTemplateBuilder) {\r\n        this.restTemplate = restTemplateBuilder.build();\r\n    }\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public ResponseEntity&lt;String&gt; hello() {\r\n        String url = &quot;http://&quot; + WIREMOCK_HOST + &quot;:&quot; + WIREMOCK_PORT + &quot;/hello&quot;;\r\n        ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(url, String.class);\r\n        return response;\r\n    }\r\n}\r\n```\r\nIn second case we can use Azure functions by creating HTTP-triggered Azure Function and use a library like Apache HttpComponents or OkHttp to make requests to the Spring Boot application. that makes the port active with wiremock is running with the same library to forward requests to the application on port 8085.","title":"Set up wiremock(standalone) running as an azure app service","body":"<blockquote>\n<p>Is there any other workaround for running wiremock as an Azure app service.</p>\n</blockquote>\n<p>As we know that the inbound traffic supports only 80 and 443 ports in Azure app service, To access both spring boot endpoint and wiremock(standalone) from the same port there was the way that is <strong>reverse proxy</strong>.</p>\n<ul>\n<li><p>For that, first we need to set up some settings check the below.\n<img src=\"https://i.stack.imgur.com/QVrBJ.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>Add the application settings, this is required for the reverse proxy to work properly.\n<img src=\"https://i.stack.imgur.com/wYfou.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>Specify the IP address and port of Wiremock server to the VNet and hybrid connections also.\n<img src=\"https://i.stack.imgur.com/sx471.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>Add inbound security rule set the protocol <strong>TCP</strong>\nand ranges to 8085.\nBelow added a sample template code for better understanding.</p>\n</li>\n</ul>\n<pre><code>    private static final String WIREMOCK_HOST = &quot;wiremock-app-service.azurewebsites.net&quot;;\n    private static final int WIREMOCK_PORT = 80;\n\n    private final RestTemplate restTemplate;\n\n    public HelloWorldController(RestTemplateBuilder restTemplateBuilder) {\n        this.restTemplate = restTemplateBuilder.build();\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public ResponseEntity&lt;String&gt; hello() {\n        String url = &quot;http://&quot; + WIREMOCK_HOST + &quot;:&quot; + WIREMOCK_PORT + &quot;/hello&quot;;\n        ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(url, String.class);\n        return response;\n    }\n}\n</code></pre>\n<p>In second case we can use Azure functions by creating HTTP-triggered Azure Function and use a library like Apache HttpComponents or OkHttp to make requests to the Spring Boot application. that makes the port active with wiremock is running with the same library to forward requests to the application on port 8085.</p>\n"}],"owner":{"account_id":28015264,"reputation":1,"user_id":21397129,"display_name":"Shilpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679316927,"creation_date":1678804526,"question_id":75734555,"body_markdown":"I have developed a springboot application that internally starts the wiremock on port say 8082 and I have server.port = 8085 in application.properties file.\r\n\r\nTesting it locally, I&#39;m able to hit both springboot endpoint and the wiremock stubs pointing to 2 different 8085 and 8082 ports respectively. But in Azure, when I deploy it as an app service, Im not able to access wiremock since it is running on a different port. \r\nAnd as I have read, we cannot configure multiple inbound ports for an app service. Its only 80 and 443.\r\n\r\nIs there any other workaround for running wiremock as an Azure app service\r\n\r\nI tried pointing wiremock to 80 and 443 port but it gave an Address already in use error.","title":"Set up wiremock(standalone) running as an azure app service","body":"<p>I have developed a springboot application that internally starts the wiremock on port say 8082 and I have server.port = 8085 in application.properties file.</p>\n<p>Testing it locally, I'm able to hit both springboot endpoint and the wiremock stubs pointing to 2 different 8085 and 8082 ports respectively. But in Azure, when I deploy it as an app service, Im not able to access wiremock since it is running on a different port.\nAnd as I have read, we cannot configure multiple inbound ports for an app service. Its only 80 and 443.</p>\n<p>Is there any other workaround for running wiremock as an Azure app service</p>\n<p>I tried pointing wiremock to 80 and 443 port but it gave an Address already in use error.</p>\n"},{"tags":["java","spring-boot","oauth","spring-resource-server","spring-boot-oauth2.1"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679311779,"post_id":75789585,"comment_id":133693036,"body_markdown":"This has been answered here: https://stackoverflow.com/questions/59873571/spring-boot-what-event-fired-during-oauth2-authorization-success","body":"This has been answered here: <a href=\"https://stackoverflow.com/questions/59873571/spring-boot-what-event-fired-during-oauth2-authorization-success\" title=\"spring boot what event fired during oauth2 authorization success\">stackoverflow.com/questions/59873571/&hellip;</a>"},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1679313763,"post_id":75789585,"comment_id":133693513,"body_markdown":"I tried, but that didn&#39;t work with version 3.0.3..","body":"I tried, but that didn&#39;t work with version 3.0.3.."}],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679316678,"creation_date":1679314916,"answer_id":75790211,"question_id":75789585,"body_markdown":"@Component\r\n`AuthenticationSuccessEvent` event listener works....\r\n\r\n    @Component\r\n    public class AuthenticationEvent {\r\n    \r\n    \tLogger logger = LoggerFactory.getLogger(AuthenticationEvent.class);\r\n    \r\n    \t@EventListener\r\n        public void onSuccess(AuthenticationSuccessEvent success) {\r\n    \t\tSystem.out.println(&quot;S &quot;+ success);\r\n        }\r\n    }\r\n\r\n\r\nRefer : [https://docs.spring.io/spring-security/reference/servlet/authentication/events.html#servlet-events][1]\r\n\r\n&amp;\r\n\r\nExample : [https://github.com/m-thirumal/oauth-resource-server/blob/main/src/main/java/in/thirumal/listener/AuthenticationEvent.java][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/events.html#servlet-events\r\n  [2]: https://github.com/m-thirumal/oauth-resource-server/blob/main/src/main/java/in/thirumal/listener/AuthenticationEvent.java","title":"Is there any listener for the OAuth2 resource server&#39;s successful authentication?","body":"<p>@Component\n<code>AuthenticationSuccessEvent</code> event listener works....</p>\n<pre><code>@Component\npublic class AuthenticationEvent {\n\n    Logger logger = LoggerFactory.getLogger(AuthenticationEvent.class);\n\n    @EventListener\n    public void onSuccess(AuthenticationSuccessEvent success) {\n        System.out.println(&quot;S &quot;+ success);\n    }\n}\n</code></pre>\n<p>Refer : <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/events.html#servlet-events\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/events.html#servlet-events</a></p>\n<p>&amp;</p>\n<p>Example : <a href=\"https://github.com/m-thirumal/oauth-resource-server/blob/main/src/main/java/in/thirumal/listener/AuthenticationEvent.java\" rel=\"nofollow noreferrer\">https://github.com/m-thirumal/oauth-resource-server/blob/main/src/main/java/in/thirumal/listener/AuthenticationEvent.java</a></p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75790211,"answer_count":1,"score":0,"last_activity_date":1679316678,"creation_date":1679310794,"question_id":75789585,"body_markdown":"Is there any listener for the OAuth2 resource server&#39;s successful authentication?\r\n\r\nI need, to create/replicate the user details in the spring boot resource server on successful authentication, or during token validation. \r\n\r\nAny suggestions, on how to implement it in spring boot?","title":"Is there any listener for the OAuth2 resource server&#39;s successful authentication?","body":"<p>Is there any listener for the OAuth2 resource server's successful authentication?</p>\n<p>I need, to create/replicate the user details in the spring boot resource server on successful authentication, or during token validation.</p>\n<p>Any suggestions, on how to implement it in spring boot?</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1679322976,"post_id":75790301,"comment_id":133696360,"body_markdown":"What is the reason you want to do that?","body":"What is the reason you want to do that?"},{"owner":{"account_id":28065384,"reputation":1,"user_id":21438851,"display_name":"Konstantin"},"score":0,"creation_date":1679375647,"post_id":75790301,"comment_id":133706187,"body_markdown":"analysis by a static code analyzer.","body":"analysis by a static code analyzer."}],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1679316636,"post_id":75790456,"comment_id":133694358,"body_markdown":"Does this include sources?!","body":"Does this include sources?!"},{"owner":{"account_id":28065384,"reputation":1,"user_id":21438851,"display_name":"Konstantin"},"score":0,"creation_date":1679375704,"post_id":75790456,"comment_id":133706197,"body_markdown":"it builds with the dependencies, but not with the source code of the dependencies.","body":"it builds with the dependencies, but not with the source code of the dependencies."}],"tags":[],"owner":{"account_id":26277556,"reputation":1,"user_id":19946473,"display_name":"Loredan"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679316457,"creation_date":1679316457,"answer_id":75790456,"question_id":75790301,"body_markdown":"    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;cf.teladi.Main&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nand you run it with\r\n\r\n    mvn clean compile assembly:single\r\n\r\n\r\n","title":"including dependencies and source code of dependencies (recursively) in jar with Maven","body":"<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;cf.teladi.Main&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>and you run it with</p>\n<pre><code>mvn clean compile assembly:single\n</code></pre>\n"}],"owner":{"account_id":28065384,"reputation":1,"user_id":21438851,"display_name":"Konstantin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679316457,"creation_date":1679315460,"question_id":75790301,"body_markdown":"I need to package all dependencies into a jar file, as well as the source codes of dependencies, including the source code of transitive dependencies (if the corresponding source code is in the repository).\r\n\r\nIs there a way to force maven to do this?\r\n\r\nthe block below adds only the source code of direct dependencies, not transitive ones.\r\n\r\n\r\n\r\n```\r\n...\r\n &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;${groupId}&lt;/groupId&gt;\r\n      &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\r\n      &lt;version&gt;${version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;${groupId}&lt;/groupId&gt;\r\n      &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\r\n      &lt;version&gt;${version}&lt;/version&gt;\r\n      &lt;classifier&gt;sources&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n...\r\n  &lt;/dependencies&gt;\r\n...\r\n\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;mainClass&gt;\r\n                    cf.teladi.Main\r\n                  &lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n```\r\n","title":"including dependencies and source code of dependencies (recursively) in jar with Maven","body":"<p>I need to package all dependencies into a jar file, as well as the source codes of dependencies, including the source code of transitive dependencies (if the corresponding source code is in the repository).</p>\n<p>Is there a way to force maven to do this?</p>\n<p>the block below adds only the source code of direct dependencies, not transitive ones.</p>\n<pre><code>...\n &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;${groupId}&lt;/groupId&gt;\n      &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\n      &lt;version&gt;${version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;${groupId}&lt;/groupId&gt;\n      &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\n      &lt;version&gt;${version}&lt;/version&gt;\n      &lt;classifier&gt;sources&lt;/classifier&gt;\n    &lt;/dependency&gt;\n...\n  &lt;/dependencies&gt;\n...\n\n&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;archive&gt;\n                &lt;manifest&gt;\n                  &lt;mainClass&gt;\n                    cf.teladi.Main\n                  &lt;/mainClass&gt;\n                &lt;/manifest&gt;\n              &lt;/archive&gt;\n              &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n              &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n</code></pre>\n"},{"tags":["java","azure","azure-web-app-service","azure-application-insights"],"comments":[{"owner":{"account_id":4510853,"reputation":830,"user_id":3667018,"accept_rate":57,"display_name":"Christian"},"score":0,"creation_date":1676455095,"post_id":75370676,"comment_id":133138311,"body_markdown":"I am currently facing the exact same issue, did you make any progress? I started encountering this problem after upgrading from springboot 2.7.7 to 3.0.2 (java 11 tomcat 9 to 17 tomcat 10)","body":"I am currently facing the exact same issue, did you make any progress? I started encountering this problem after upgrading from springboot 2.7.7 to 3.0.2 (java 11 tomcat 9 to 17 tomcat 10)"},{"owner":{"account_id":3630904,"reputation":164,"user_id":3027101,"display_name":"Grzegorz Pasnik"},"score":0,"creation_date":1676904385,"post_id":75370676,"comment_id":133226109,"body_markdown":"Which version of the `applicationinsights-agent` do you use?\nI had exactly the same problem as you have, and it disappeared right after I upgraded the application insights agent to `applicationinsights-agent-3.4.9.jar`.","body":"Which version of the <code>applicationinsights-agent</code> do you use? I had exactly the same problem as you have, and it disappeared right after I upgraded the application insights agent to <code>applicationinsights-agent-3.4.9.jar</code>."},{"owner":{"account_id":2076326,"reputation":416,"user_id":1849577,"display_name":"dosmanak"},"score":0,"creation_date":1676905467,"post_id":75370676,"comment_id":133226455,"body_markdown":"That was part of the problem. I enabled the Insights using App Service magic button in Azure Portal and it deployed the `codeless` agent which I can&#39;t say what version is. I peekd inside the jar and found string `version=3.2.11` in file `ai.sdk-version.properties` but the MANIFEST.MF contains `Created-By: 15.0.1 (Oracle Corporation)`","body":"That was part of the problem. I enabled the Insights using App Service magic button in Azure Portal and it deployed the <code>codeless</code> agent which I can&#39;t say what version is. I peekd inside the jar and found string <code>version=3.2.11</code> in file <code>ai.sdk-version.properties</code> but the MANIFEST.MF contains <code>Created-By: 15.0.1 (Oracle Corporation)</code>"}],"answers":[{"comments":[{"owner":{"account_id":2076326,"reputation":416,"user_id":1849577,"display_name":"dosmanak"},"score":0,"creation_date":1676277714,"post_id":75386595,"comment_id":133097698,"body_markdown":"I do not want tio use it with mvn deploy, but deploy it using Azure Pipeline. I am able to reproduce the error with agent jar downloaded to my machine. So I think I distilled to issue to the core.","body":"I do not want tio use it with mvn deploy, but deploy it using Azure Pipeline. I am able to reproduce the error with agent jar downloaded to my machine. So I think I distilled to issue to the core."},{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1678687671,"post_id":75386595,"comment_id":133575024,"body_markdown":"Refer to the solutions provided in the [github](https://github.com/spring-projects/spring-boot/issues/33974) ticket which may help you to fix the issue.","body":"Refer to the solutions provided in the <a href=\"https://github.com/spring-projects/spring-boot/issues/33974\" rel=\"nofollow noreferrer\">github</a> ticket which may help you to fix the issue."}],"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1675863410,"creation_date":1675863410,"answer_id":75386595,"question_id":75370676,"body_markdown":"There can be multiple scenarios which is causing the issue:\r\n\r\nIn your case you are getting 404 error, because your jar file might not deploy properly in App Services which is causing this issue.\r\nCheck if the below steps help to resolve your issue:\r\n1. Try restarting your App service.\r\n2. You may be trying to manually push the jar file through FTP in App Service which basically causes the problem during deployment, because it basically a step of copying the jar file into Tomcat webapps directory. \r\nSo, you can deploy your jar file using maven plugin.\r\n\r\nBelow are the commands to configure and deploy the jar file in App Service of your spring boot application.\r\nCommand to configure the App Service: \r\n\r\n```Java\r\nmvn com.microsoft.azure:azure-webapp-maven-plugin:2.5.0:config\r\n```\r\nCommand to package and deploy the jar file to App Service:\r\n\r\n```Java\r\nmvn package azure-webapp:deploy\r\n```\r\n**I have tried in my environment and got expected results:**\r\n\r\n*I have used the above-mentioned commands to configure and deploy the jar file to **App Service**.*\r\n\r\n![enter image description here](https://i.stack.imgur.com/uhvRI.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/NOOyb.png)\r\n\r\nI have enabled Application Insights and my application is working fine as expected.\r\n\r\n![enter image description here](https://i.stack.imgur.com/HeWsM.png)\r\n\r\n***I have also tried with Docker Container:*** \r\n\r\n![enter image description here](https://i.stack.imgur.com/GzmDE.png)\r\n\r\nEnabled Application Insights:\r\n\r\n![enter image description here](https://i.stack.imgur.com/oQfxm.png)\r\n\r\nEnabled Port 8080 by adding WEBSITES_PORT :8080 as a setting in Web App&gt; Configuration&gt;Application settings.\r\n\r\n![enter image description here](https://i.stack.imgur.com/yZli8.png)\r\n\r\n**Output:**\r\n![enter image description here](https://i.stack.imgur.com/vOsVf.jpg)\r\n\r\n","title":"Azure App Service with java or container returns only 404 when App Insights enabled","body":"<p>There can be multiple scenarios which is causing the issue:</p>\n<p>In your case you are getting 404 error, because your jar file might not deploy properly in App Services which is causing this issue.\nCheck if the below steps help to resolve your issue:</p>\n<ol>\n<li>Try restarting your App service.</li>\n<li>You may be trying to manually push the jar file through FTP in App Service which basically causes the problem during deployment, because it basically a step of copying the jar file into Tomcat webapps directory.\nSo, you can deploy your jar file using maven plugin.</li>\n</ol>\n<p>Below are the commands to configure and deploy the jar file in App Service of your spring boot application.\nCommand to configure the App Service:</p>\n<pre><code>mvn com.microsoft.azure:azure-webapp-maven-plugin:2.5.0:config\n</code></pre>\n<p>Command to package and deploy the jar file to App Service:</p>\n<pre><code>mvn package azure-webapp:deploy\n</code></pre>\n<p><strong>I have tried in my environment and got expected results:</strong></p>\n<p><em>I have used the above-mentioned commands to configure and deploy the jar file to <strong>App Service</strong>.</em></p>\n<p><img src=\"https://i.stack.imgur.com/uhvRI.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/NOOyb.png\" alt=\"enter image description here\" /></p>\n<p>I have enabled Application Insights and my application is working fine as expected.</p>\n<p><img src=\"https://i.stack.imgur.com/HeWsM.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>I have also tried with Docker Container:</strong></em></p>\n<p><img src=\"https://i.stack.imgur.com/GzmDE.png\" alt=\"enter image description here\" /></p>\n<p>Enabled Application Insights:</p>\n<p><img src=\"https://i.stack.imgur.com/oQfxm.png\" alt=\"enter image description here\" /></p>\n<p>Enabled Port 8080 by adding WEBSITES_PORT :8080 as a setting in Web App&gt; Configuration&gt;Application settings.</p>\n<p><img src=\"https://i.stack.imgur.com/yZli8.png\" alt=\"enter image description here\" /></p>\n<p><strong>Output:</strong>\n<img src=\"https://i.stack.imgur.com/vOsVf.jpg\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":2076326,"reputation":416,"user_id":1849577,"display_name":"dosmanak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679316239,"creation_date":1675758463,"question_id":75370676,"body_markdown":"I wanted to deploy a built spring boot jar to Azure AppService, but the chosen mode with Linux did responded only 404 &quot;Not found&quot; (that looked like Tomcat error page) after deploy although I could see in logs the app had been deployed correctly.\r\nDuring troubleshooting I changed the mode of AppService to the one with container image. But it did not help.\r\nThen I found the 404 is caused by enabling the App Insights which causes adding a `-javaagent:/agent/java/applicationinsights-agent-codeless.jar` to `JAVA_TOOL_OPTS` env var.\r\n\r\nThe `codeless` variant is not available anywhere online so with  some struggle I downloaded the jar to my local machine, set Insights connection string env variable and reproduced the error. With the applicationinsights-agent downloaded from github [releases][1] I got different error, but did not investigate further.\r\n\r\nWhen enabled, App Insights worked as I could see it send traces etc. But the HTTP routing in the app is broken therefore the App Insights is useless.\r\n\r\nI don&#39;s see how I could fix this, so any advice is appreciated.\r\n\r\n\r\n  [1]: https://github.com/microsoft/ApplicationInsights-Java/releases","title":"Azure App Service with java or container returns only 404 when App Insights enabled","body":"<p>I wanted to deploy a built spring boot jar to Azure AppService, but the chosen mode with Linux did responded only 404 &quot;Not found&quot; (that looked like Tomcat error page) after deploy although I could see in logs the app had been deployed correctly.\nDuring troubleshooting I changed the mode of AppService to the one with container image. But it did not help.\nThen I found the 404 is caused by enabling the App Insights which causes adding a <code>-javaagent:/agent/java/applicationinsights-agent-codeless.jar</code> to <code>JAVA_TOOL_OPTS</code> env var.</p>\n<p>The <code>codeless</code> variant is not available anywhere online so with  some struggle I downloaded the jar to my local machine, set Insights connection string env variable and reproduced the error. With the applicationinsights-agent downloaded from github <a href=\"https://github.com/microsoft/ApplicationInsights-Java/releases\" rel=\"nofollow noreferrer\">releases</a> I got different error, but did not investigate further.</p>\n<p>When enabled, App Insights worked as I could see it send traces etc. But the HTTP routing in the app is broken therefore the App Insights is useless.</p>\n<p>I don's see how I could fix this, so any advice is appreciated.</p>\n"},{"tags":["java","android","android-fragments","android-intent","pdfrenderer"],"answers":[{"tags":[],"owner":{"account_id":18503983,"reputation":15,"user_id":13480697,"display_name":"Vikash Rathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679315725,"creation_date":1643953965,"answer_id":70981987,"question_id":70981713,"body_markdown":"there you can use this code. it&#39;s working fine for me\r\n```\r\n    fun getPdfThumbnail(context: Context, file:File, imageView: ImageView, pageCountTV:TextView) {\r\n    // create a new renderer\r\n    try {\r\n        val pfd = ParcelFileDescriptor.open(file, ParcelFileDescriptor.MODE_READ_ONLY)\r\n        val renderer = PdfRenderer(pfd)\r\n        val bitmap = Bitmap.createBitmap(900, 900, Bitmap.Config.ARGB_4444)\r\n        val page = renderer.openPage(0)\r\n        val count = renderer.pageCount\r\n        pageCountTV.text = &quot;$count pages&quot;\r\n        page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY)\r\n\r\n        Glide.with(context).load(bitmap).into(imageView)\r\n        page.close()\r\n        renderer.close()\r\n    }\r\n    catch (e:Exception){\r\n        e.printStackTrace()\r\n    }\r\n}\r\n```","title":"How to render a pdf in android using pdf renderer","body":"<p>there you can use this code. it's working fine for me</p>\n<pre><code>    fun getPdfThumbnail(context: Context, file:File, imageView: ImageView, pageCountTV:TextView) {\n    // create a new renderer\n    try {\n        val pfd = ParcelFileDescriptor.open(file, ParcelFileDescriptor.MODE_READ_ONLY)\n        val renderer = PdfRenderer(pfd)\n        val bitmap = Bitmap.createBitmap(900, 900, Bitmap.Config.ARGB_4444)\n        val page = renderer.openPage(0)\n        val count = renderer.pageCount\n        pageCountTV.text = &quot;$count pages&quot;\n        page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY)\n\n        Glide.with(context).load(bitmap).into(imageView)\n        page.close()\n        renderer.close()\n    }\n    catch (e:Exception){\n        e.printStackTrace()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643958518,"creation_date":1643958518,"answer_id":70982607,"question_id":70981713,"body_markdown":"&gt;&gt;startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\r\n\r\nChange to:\r\n\r\n    startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsolutePath()));\r\n","title":"How to render a pdf in android using pdf renderer","body":"<blockquote>\n<blockquote>\n<p>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));</p>\n</blockquote>\n</blockquote>\n<p>Change to:</p>\n<pre><code>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsolutePath()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24097966,"reputation":13,"user_id":18070181,"display_name":"Justice Chuks"},"score":0,"creation_date":1643984458,"post_id":70986245,"comment_id":125491028,"body_markdown":"I found out late after battling it but thanks though","body":"I found out late after battling it but thanks though"}],"tags":[],"owner":{"account_id":24097966,"reputation":13,"user_id":18070181,"display_name":"Justice Chuks"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643976938,"creation_date":1643976938,"answer_id":70986245,"question_id":70981713,"body_markdown":"Okay guys thank you for coming to my aid but I later found out the answer to my question the thing is at \r\n```\r\nstartActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\r\n```\r\nI was not actually returning a string but rather a file absolute path which was returned a file, this is the reason why the log said it&#39;s not possible to cast a file to string and the code kept falling back to the default string value of file path which is null my solution was to convert the file absolute path to a string by adding this\r\n```startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile().toString())); ```\r\nThat did the job.","title":"How to render a pdf in android using pdf renderer","body":"<p>Okay guys thank you for coming to my aid but I later found out the answer to my question the thing is at</p>\n<pre><code>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\n</code></pre>\n<p>I was not actually returning a string but rather a file absolute path which was returned a file, this is the reason why the log said it's not possible to cast a file to string and the code kept falling back to the default string value of file path which is null my solution was to convert the file absolute path to a string by adding this\n<code>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile().toString())); </code>\nThat did the job.</p>\n"}],"owner":{"account_id":24097966,"reputation":13,"user_id":18070181,"display_name":"Justice Chuks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70982607,"answer_count":3,"score":1,"last_activity_date":1679315725,"creation_date":1643951760,"question_id":70981713,"body_markdown":"Hello guys how do solve this my error log I&#39;m trying to render pdfs using the android graphics pdfrenderer class in android I&#39;ve tried to observe where or how I got it wrong but I can&#39;t see yet please guys how exactly do I achieve this using this particular class any idea will be very much appreciated.\r\n\r\n```\r\n\r\nShared attribute region not available to be mapped\r\n02-04 05:35:25.750 15257 15257 W   ActivityThread                               handleWindowVisibility: no activity for token android.os.BinderProxy@cb509ee\r\n02-04 05:35:25.936 15257 15257 W   Bundle                                       Key filePath expected String but value was a java.io.File.  The default value &lt;null&gt; was returned.\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       Attempt to cast generated internal exception:\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       java.lang.ClassCastException: java.io.File cannot be cast to java.lang.String\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.os.BaseBundle.getString(BaseBundle.java:1170)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.content.Intent.getStringExtra(Intent.java:7907)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at com.jaay.docReader.PdfActivity.onCreate(PdfActivity.java:26)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Activity.performCreate(Activity.java:7873)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Activity.performCreate(Activity.java:7861)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1312)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3331)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3533)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n```\r\nThis the activity handling the pdf activity and it&#39;s display\r\n```\r\n\r\npublic class PdfActivity extends AppCompatActivity {\r\n    \r\n    String filePath = &quot;&quot;;\r\n    ImageView pdfView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_pdf);\r\n        pdfView = (ImageView) findViewById(R.id.pdfview);\r\n        filePath = getIntent().getStringExtra(&quot;filePath&quot;);\r\n        File file = new File(filePath);\r\n        try{\r\n            openPDF(file);\r\n        }catch(IOException ioe){\r\n            ioe.printStackTrace();\r\n        }\r\n        \r\n        //File file = new File(filePath);\r\n        //Uri uri = Uri.fromFile(file);\r\n        //pdfView.fromUri(uri).load();\r\n        \r\n        \r\n    }\r\n    \r\n    \r\n    public void openPDF(File file) throws IOException {\r\n       // File file = new File(filePath);\r\n\r\n        ParcelFileDescriptor fileDescriptor = null;\r\n        fileDescriptor = ParcelFileDescriptor.open(\r\n            file, ParcelFileDescriptor.MODE_READ_ONLY);\r\n\r\n        //min. API Level 21\r\n        PdfRenderer pdfRenderer = null;\r\n        pdfRenderer = new PdfRenderer(fileDescriptor);\r\n\r\n        final int pageCount = pdfRenderer.getPageCount();\r\n        Toast.makeText(this,\r\n                       &quot;pageCount = &quot; + pageCount,\r\n                       Toast.LENGTH_LONG).show();\r\n\r\n        //Display page 0\r\n        PdfRenderer.Page rendererPage = pdfRenderer.openPage(0);\r\n        int rendererPageWidth = rendererPage.getWidth();\r\n        int rendererPageHeight = rendererPage.getHeight();\r\n        Bitmap bitmap = Bitmap.createBitmap(\r\n            rendererPageWidth,\r\n            rendererPageHeight,\r\n            Bitmap.Config.ARGB_8888);\r\n        rendererPage.render(bitmap, null, null,\r\n                            PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n\r\n        pdfView.setImageBitmap(bitmap);\r\n        rendererPage.close();\r\n\r\n        pdfRenderer.close();\r\n        fileDescriptor.close();\r\n    }\r\n    \r\n    \r\n    \r\n}\r\n```\r\nThis is the code passing the pdf files using intent from fragment to activity.\r\n```\r\nstartActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\r\n```\r\nHere is the pdf activity xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/activity_pdf&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingBottom=&quot;10dp&quot;\r\n    android:paddingLeft=&quot;10dp&quot;\r\n    android:paddingRight=&quot;10dp&quot;\r\n    android:paddingTop=&quot;10dp&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;20dp&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:autoLink=&quot;web&quot;\r\n        android:text=&quot;jaa&quot;\r\n        android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/pdfview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n    \r\n&lt;/LinearLayout&gt;\r\n```\r\nWhere did I go wrong and what&#39;s odd in \r\n```\r\nfilePath = getIntent().getStringExtra(&quot;filePath&quot;);\r\n        File file = new File(filePath);\r\n```","title":"How to render a pdf in android using pdf renderer","body":"<p>Hello guys how do solve this my error log I'm trying to render pdfs using the android graphics pdfrenderer class in android I've tried to observe where or how I got it wrong but I can't see yet please guys how exactly do I achieve this using this particular class any idea will be very much appreciated.</p>\n<pre><code>\nShared attribute region not available to be mapped\n02-04 05:35:25.750 15257 15257 W   ActivityThread                               handleWindowVisibility: no activity for token android.os.BinderProxy@cb509ee\n02-04 05:35:25.936 15257 15257 W   Bundle                                       Key filePath expected String but value was a java.io.File.  The default value &lt;null&gt; was returned.\n02-04 05:35:25.950 15257 15257 W   Bundle                                       Attempt to cast generated internal exception:\n02-04 05:35:25.950 15257 15257 W   Bundle                                       java.lang.ClassCastException: java.io.File cannot be cast to java.lang.String\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.os.BaseBundle.getString(BaseBundle.java:1170)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.content.Intent.getStringExtra(Intent.java:7907)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at com.jaay.docReader.PdfActivity.onCreate(PdfActivity.java:26)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Activity.performCreate(Activity.java:7873)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Activity.performCreate(Activity.java:7861)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1312)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3331)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3533)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n</code></pre>\n<p>This the activity handling the pdf activity and it's display</p>\n<pre><code>\npublic class PdfActivity extends AppCompatActivity {\n    \n    String filePath = &quot;&quot;;\n    ImageView pdfView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_pdf);\n        pdfView = (ImageView) findViewById(R.id.pdfview);\n        filePath = getIntent().getStringExtra(&quot;filePath&quot;);\n        File file = new File(filePath);\n        try{\n            openPDF(file);\n        }catch(IOException ioe){\n            ioe.printStackTrace();\n        }\n        \n        //File file = new File(filePath);\n        //Uri uri = Uri.fromFile(file);\n        //pdfView.fromUri(uri).load();\n        \n        \n    }\n    \n    \n    public void openPDF(File file) throws IOException {\n       // File file = new File(filePath);\n\n        ParcelFileDescriptor fileDescriptor = null;\n        fileDescriptor = ParcelFileDescriptor.open(\n            file, ParcelFileDescriptor.MODE_READ_ONLY);\n\n        //min. API Level 21\n        PdfRenderer pdfRenderer = null;\n        pdfRenderer = new PdfRenderer(fileDescriptor);\n\n        final int pageCount = pdfRenderer.getPageCount();\n        Toast.makeText(this,\n                       &quot;pageCount = &quot; + pageCount,\n                       Toast.LENGTH_LONG).show();\n\n        //Display page 0\n        PdfRenderer.Page rendererPage = pdfRenderer.openPage(0);\n        int rendererPageWidth = rendererPage.getWidth();\n        int rendererPageHeight = rendererPage.getHeight();\n        Bitmap bitmap = Bitmap.createBitmap(\n            rendererPageWidth,\n            rendererPageHeight,\n            Bitmap.Config.ARGB_8888);\n        rendererPage.render(bitmap, null, null,\n                            PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n\n        pdfView.setImageBitmap(bitmap);\n        rendererPage.close();\n\n        pdfRenderer.close();\n        fileDescriptor.close();\n    }\n    \n    \n    \n}\n</code></pre>\n<p>This is the code passing the pdf files using intent from fragment to activity.</p>\n<pre><code>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\n</code></pre>\n<p>Here is the pdf activity xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/activity_pdf&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:paddingBottom=&quot;10dp&quot;\n    android:paddingLeft=&quot;10dp&quot;\n    android:paddingRight=&quot;10dp&quot;\n    android:paddingTop=&quot;10dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;20dp&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:autoLink=&quot;web&quot;\n        android:text=&quot;jaa&quot;\n        android:textStyle=&quot;bold&quot;/&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/pdfview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n    \n    \n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Where did I go wrong and what's odd in</p>\n<pre><code>filePath = getIntent().getStringExtra(&quot;filePath&quot;);\n        File file = new File(filePath);\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore","android-glide"],"comments":[{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679307222,"post_id":75788244,"comment_id":133691830,"body_markdown":"Why do you load image to a file and then give it to Glide instead of just giving Glide the url?","body":"Why do you load image to a file and then give it to Glide instead of just giving Glide the url?"}],"owner":{"account_id":26664072,"reputation":1,"user_id":20276446,"display_name":"Gijs Kruize"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679315426,"creation_date":1679302761,"question_id":75788244,"body_markdown":"Hi everyone I am designing an app for a university course,\r\nI have a tinder-like swipecard system implementing Koloda-android, the cards are connected to a viewholder and I want to get each card to load an image from a firebase storage server.\r\n\r\n\r\n```\r\nFirebaseStorage storage = FirebaseStorage.getInstance();\r\n        StorageReference httpsReference = storage.getReferenceFromUrl(&quot;https://firebasestorage.googleapis.com/v0/b/what-to-eat-tue.appspot.com/o/the-best-caesar-salad-recipe-06-40e70f549ba2489db09355abd62f79a9.jpg?alt=media&amp;token=220ba356-b1d6-4a21-ad0e-f305c19b46c2&quot;);\r\n        File localFile = null;\r\n        try {\r\n            localFile = File.createTempFile(&quot;images&quot;, &quot;jpg&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        httpsReference.getFile(localFile);\r\n        Glide.with(this.context).load(localFile).into(holder.getImageView());\r\n```\r\nThis is the code I use to get the image but then i get a load of errors, but i don&#39;t know what de exact cause is....\r\n\r\nHere is my full log:\r\n\r\n```\r\n\r\n03/20 09:51:15: Launching &#39;app&#39; on Pixel XL API 33.\r\nInstall successfully finished in 93 ms.\r\n$ adb shell am start -n &quot;com.example.whattoeat/com.example.whattoeat.ui.account.Login&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\nConnected to process 11645 on device &#39;Pixel_XL_API_33 [emulator-5554]&#39;.\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nI/ample.whattoeat: Late-enabling -Xcheck:jni\r\nW/re-initialized&gt;: type=1400 audit(0.0:63): avc: granted { execute } for path=&quot;/data/data/com.example.whattoeat/code_cache/startup_agents/09f4021c-agent.so&quot; dev=&quot;dm-32&quot; ino=147504 scontext=u:r:untrusted_app:s0:c162,c256,c512,c768 tcontext=u:object_r:app_data_file:s0:c162,c256,c512,c768 tclass=file app=com.example.whattoeat\r\nV/studio.deploy: Startup agent attached to VM\r\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-a7e44b7b.jar\r\nW/ample.whattoeat: DexFile /data/data/com.example.whattoeat/code_cache/.studio/instruments-a7e44b7b.jar is in boot class path but is not in a known location\r\nV/studio.deploy: Applying transforms with cached classes\r\nW/ample.whattoeat: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\r\nW/ample.whattoeat: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10162; state: ENABLED\r\nD/nativeloader: Configuring classloader-namespace for other apk /system_ext/framework/androidx.window.extensions.jar. target_sdk_version=33, uses_libraries=ALL, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\r\nD/nativeloader: Configuring classloader-namespace for other apk /system_ext/framework/androidx.window.sidecar.jar. target_sdk_version=33, uses_libraries=ALL, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\r\nW/ziparchive: Unable to open &#39;/data/data/com.example.whattoeat/code_cache/.overlay/base.apk/classes8.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.dm&#39;: No such file or directory\r\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.example.whattoeat&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.whattoeat: false\r\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/CompatibilityChangeReporter: Compat change id reported: 183155436; UID 10162; state: ENABLED\r\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\r\nD/FirebaseAuth: Notifying id token listeners about user ( EtRQg4lnkRRJVMtCLl6dhS2OWkq1 ).\r\nI/FirebaseInitProvider: FirebaseApp initialization successful\r\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\r\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\nW/ample.whattoeat: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\nW/ample.whattoeat: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10162; state: ENABLED\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0xb400006ee6635050, tid 11675\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \r\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0xb400006ee66363d0: maj 3 min 0 rcv 3\r\nD/EGL_emulation: eglMakeCurrent: 0xb400006ee66363d0: ver 3 0 (tinfo 0x710a16b080) (first time)\r\nI/Gralloc4: mapper 4.x is not supported\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0xb400006ee6636f10, tid 11675\r\nD/goldfish-address-space: allocate: Ask for block of size 0x100\r\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x1dfff8000 size 0x8000\r\nW/Gralloc4: allocator 4.x is not supported\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \r\nW/Parcel: Expecting binder but got null!\r\nD/AutofillManager: Fill dialog is enabled:false, hints=[password, passwordAuto, creditCardNumber, creditCardSecurityCode, creditCardExpirationDate]\r\nW/OnBackInvokedCallback: OnBackInvokedCallback is not enabled for the application.\r\n    Set &#39;android:enableOnBackInvokedCallback=&quot;true&quot;&#39; in the application manifest.\r\nW/NetworkRequest: No App Check token for request.\r\nW/Glide: Failed to find GeneratedAppGlideModule. You should include an annotationProcessor compile dependency on com.github.bumptech.glide:compiler in your application and a @GlideModule annotated AppGlideModule implementation or LibraryGlideModules will be silently ignored\r\nD/TrafficStats: tagSocket(103) with statsTag=0xffffffff, statsUid=-1\r\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10162; state: ENABLED\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nW/Glide: Load failed for /data/user/0/com.example.whattoeat/cache/images8790834186476644962jpg with size [1300x1400]\r\n    class com.bumptech.glide.load.engine.GlideException: Failed to load resource\r\n    There were 3 causes:\r\n    java.io.IOException(File unsuitable for memory mapping)\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n     call GlideException#logRootCauses(String) for more detail\r\n      Cause (1 of 3): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.nio.ByteBuffer, LOCAL\r\n    There was 1 cause:\r\n    java.io.IOException(File unsuitable for memory mapping)\r\n     call GlideException#logRootCauses(String) for more detail\r\n        Cause (1 of 1): class java.io.IOException: File unsuitable for memory mapping\r\n      Cause (2 of 3): class com.bumptech.glide.load.engine.GlideException: Failed LoadPath{FileInputStream-&gt;Object-&gt;Drawable}, LOCAL\r\n        Cause (1 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;GifDrawable-&gt;Drawable}\r\n        Cause (2 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;Bitmap-&gt;Drawable}\r\n        Cause (3 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;BitmapDrawable-&gt;Drawable}\r\n      Cause (3 of 3): class com.bumptech.glide.load.engine.GlideException: Failed LoadPath{ParcelFileDescriptor-&gt;Object-&gt;Drawable}, LOCAL\r\n    There were 2 causes:\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n     call GlideException#logRootCauses(String) for more detail\r\n        Cause (1 of 2): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{ParcelFileDescriptor-&gt;Bitmap-&gt;Drawable}\r\n    There was 1 cause:\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n     call GlideException#logRootCauses(String) for more detail\r\n          Cause (1 of 1): class java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        Cause (2 of 2): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{ParcelFileDescriptor-&gt;BitmapDrawable-&gt;Drawable}\r\n    There was 1 cause:\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n     call GlideException#logRootCauses(String) for more detail\r\n          Cause (1 of 1): class java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\nI/Glide: Root cause (1 of 3)\r\n    java.io.IOException: File unsuitable for memory mapping\r\n        at com.bumptech.glide.util.ByteBufferUtil.fromFile(ByteBufferUtil.java:38)\r\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:61)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\r\nI/Glide: Root cause (2 of 3)\r\n    java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:185)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)\r\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)\r\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)\r\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)\r\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\r\n     Caused by: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        at android.media.MediaMetadataRetriever._setDataSource(Native Method)\r\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:310)\r\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:334)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:306)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:301)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:173)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)&#160;\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)&#160;\r\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)&#160;\r\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)&#160;\r\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)&#160;\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)&#160;\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)&#160;\r\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)&#160;\r\n        at java.lang.Thread.run(Thread.java:1012)&#160;\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)&#160;\r\nI/Glide: Root cause (3 of 3)\r\n    java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:185)\r\n        at com.bumptech.glide.load.resource.bitmap.BitmapDrawableDecoder.decode(BitmapDrawableDecoder.java:58)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)\r\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)\r\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)\r\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)\r\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\r\n     Caused by: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        at android.media.MediaMetadataRetriever._setDataSource(Native Method)\r\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:310)\r\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:334)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:306)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:301)\r\nI/Glide:     at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:173)\r\n        \t... 38 more\r\nD/EGL_emulation: app_time_stats: avg=54.22ms min=1.17ms max=738.36ms count=16\r\nW/ample.whattoeat: Cleared Reference was only reachable from finalizer (only reported once)\r\nW/System: A resource failed to call close. \r\n```\r\nCan someone please help me out?\r\nThanks in advance\r\n\r\nLooking up the errors, but I did not find any answers.","title":"Lot of errors using Glide in android","body":"<p>Hi everyone I am designing an app for a university course,\nI have a tinder-like swipecard system implementing Koloda-android, the cards are connected to a viewholder and I want to get each card to load an image from a firebase storage server.</p>\n<pre><code>FirebaseStorage storage = FirebaseStorage.getInstance();\n        StorageReference httpsReference = storage.getReferenceFromUrl(&quot;https://firebasestorage.googleapis.com/v0/b/what-to-eat-tue.appspot.com/o/the-best-caesar-salad-recipe-06-40e70f549ba2489db09355abd62f79a9.jpg?alt=media&amp;token=220ba356-b1d6-4a21-ad0e-f305c19b46c2&quot;);\n        File localFile = null;\n        try {\n            localFile = File.createTempFile(&quot;images&quot;, &quot;jpg&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        httpsReference.getFile(localFile);\n        Glide.with(this.context).load(localFile).into(holder.getImageView());\n</code></pre>\n<p>This is the code I use to get the image but then i get a load of errors, but i don't know what de exact cause is....</p>\n<p>Here is my full log:</p>\n<pre><code>\n03/20 09:51:15: Launching 'app' on Pixel XL API 33.\nInstall successfully finished in 93 ms.\n$ adb shell am start -n &quot;com.example.whattoeat/com.example.whattoeat.ui.account.Login&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nConnected to process 11645 on device 'Pixel_XL_API_33 [emulator-5554]'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nI/ample.whattoeat: Late-enabling -Xcheck:jni\nW/re-initialized&gt;: type=1400 audit(0.0:63): avc: granted { execute } for path=&quot;/data/data/com.example.whattoeat/code_cache/startup_agents/09f4021c-agent.so&quot; dev=&quot;dm-32&quot; ino=147504 scontext=u:r:untrusted_app:s0:c162,c256,c512,c768 tcontext=u:object_r:app_data_file:s0:c162,c256,c512,c768 tclass=file app=com.example.whattoeat\nV/studio.deploy: Startup agent attached to VM\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-a7e44b7b.jar\nW/ample.whattoeat: DexFile /data/data/com.example.whattoeat/code_cache/.studio/instruments-a7e44b7b.jar is in boot class path but is not in a known location\nV/studio.deploy: Applying transforms with cached classes\nW/ample.whattoeat: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\nW/ample.whattoeat: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10162; state: ENABLED\nD/nativeloader: Configuring classloader-namespace for other apk /system_ext/framework/androidx.window.extensions.jar. target_sdk_version=33, uses_libraries=ALL, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\nD/nativeloader: Configuring classloader-namespace for other apk /system_ext/framework/androidx.window.sidecar.jar. target_sdk_version=33, uses_libraries=ALL, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\nW/ziparchive: Unable to open '/data/data/com.example.whattoeat/code_cache/.overlay/base.apk/classes8.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.dm': No such file or directory\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\nV/GraphicsEnvironment: ANGLE Developer option for 'com.example.whattoeat' set to: 'default'\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.whattoeat: false\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/CompatibilityChangeReporter: Compat change id reported: 183155436; UID 10162; state: ENABLED\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\nD/FirebaseAuth: Notifying id token listeners about user ( EtRQg4lnkRRJVMtCLl6dhS2OWkq1 ).\nI/FirebaseInitProvider: FirebaseApp initialization successful\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\nW/ample.whattoeat: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\nW/ample.whattoeat: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10162; state: ENABLED\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0xb400006ee6635050, tid 11675\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0xb400006ee66363d0: maj 3 min 0 rcv 3\nD/EGL_emulation: eglMakeCurrent: 0xb400006ee66363d0: ver 3 0 (tinfo 0x710a16b080) (first time)\nI/Gralloc4: mapper 4.x is not supported\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0xb400006ee6636f10, tid 11675\nD/goldfish-address-space: allocate: Ask for block of size 0x100\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x1dfff8000 size 0x8000\nW/Gralloc4: allocator 4.x is not supported\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \nW/Parcel: Expecting binder but got null!\nD/AutofillManager: Fill dialog is enabled:false, hints=[password, passwordAuto, creditCardNumber, creditCardSecurityCode, creditCardExpirationDate]\nW/OnBackInvokedCallback: OnBackInvokedCallback is not enabled for the application.\n    Set 'android:enableOnBackInvokedCallback=&quot;true&quot;' in the application manifest.\nW/NetworkRequest: No App Check token for request.\nW/Glide: Failed to find GeneratedAppGlideModule. You should include an annotationProcessor compile dependency on com.github.bumptech.glide:compiler in your application and a @GlideModule annotated AppGlideModule implementation or LibraryGlideModules will be silently ignored\nD/TrafficStats: tagSocket(103) with statsTag=0xffffffff, statsUid=-1\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10162; state: ENABLED\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nW/Glide: Load failed for /data/user/0/com.example.whattoeat/cache/images8790834186476644962jpg with size [1300x1400]\n    class com.bumptech.glide.load.engine.GlideException: Failed to load resource\n    There were 3 causes:\n    java.io.IOException(File unsuitable for memory mapping)\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n     call GlideException#logRootCauses(String) for more detail\n      Cause (1 of 3): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.nio.ByteBuffer, LOCAL\n    There was 1 cause:\n    java.io.IOException(File unsuitable for memory mapping)\n     call GlideException#logRootCauses(String) for more detail\n        Cause (1 of 1): class java.io.IOException: File unsuitable for memory mapping\n      Cause (2 of 3): class com.bumptech.glide.load.engine.GlideException: Failed LoadPath{FileInputStream-&gt;Object-&gt;Drawable}, LOCAL\n        Cause (1 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;GifDrawable-&gt;Drawable}\n        Cause (2 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;Bitmap-&gt;Drawable}\n        Cause (3 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;BitmapDrawable-&gt;Drawable}\n      Cause (3 of 3): class com.bumptech.glide.load.engine.GlideException: Failed LoadPath{ParcelFileDescriptor-&gt;Object-&gt;Drawable}, LOCAL\n    There were 2 causes:\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n     call GlideException#logRootCauses(String) for more detail\n        Cause (1 of 2): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{ParcelFileDescriptor-&gt;Bitmap-&gt;Drawable}\n    There was 1 cause:\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n     call GlideException#logRootCauses(String) for more detail\n          Cause (1 of 1): class java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        Cause (2 of 2): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{ParcelFileDescriptor-&gt;BitmapDrawable-&gt;Drawable}\n    There was 1 cause:\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n     call GlideException#logRootCauses(String) for more detail\n          Cause (1 of 1): class java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\nI/Glide: Root cause (1 of 3)\n    java.io.IOException: File unsuitable for memory mapping\n        at com.bumptech.glide.util.ByteBufferUtil.fromFile(ByteBufferUtil.java:38)\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:61)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\nI/Glide: Root cause (2 of 3)\n    java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:185)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\n     Caused by: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        at android.media.MediaMetadataRetriever._setDataSource(Native Method)\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:310)\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:334)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:306)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:301)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:173)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\nI/Glide: Root cause (3 of 3)\n    java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:185)\n        at com.bumptech.glide.load.resource.bitmap.BitmapDrawableDecoder.decode(BitmapDrawableDecoder.java:58)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\n     Caused by: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        at android.media.MediaMetadataRetriever._setDataSource(Native Method)\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:310)\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:334)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:306)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:301)\nI/Glide:     at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:173)\n            ... 38 more\nD/EGL_emulation: app_time_stats: avg=54.22ms min=1.17ms max=738.36ms count=16\nW/ample.whattoeat: Cleared Reference was only reachable from finalizer (only reported once)\nW/System: A resource failed to call close. \n</code></pre>\n<p>Can someone please help me out?\nThanks in advance</p>\n<p>Looking up the errors, but I did not find any answers.</p>\n"},{"tags":["java","elasticsearch","logstash","logback"],"answers":[{"tags":[],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679213440,"creation_date":1679213440,"answer_id":75780769,"question_id":75770566,"body_markdown":"By step debugging thro the Logback initialization phase, I discovered that the issue arose because I had upgraded from Logback 1.1.x to 1.3.x and 1.4.x.\r\n\r\nLogback 1.3 onwards reserves the use of the element name &quot;property&quot; for its own property settings.\r\n\r\nTherefore I had to create a wrapper class to re-express the element name &quot;property&quot; as something else. I decided to use &quot;attribute&quot;.\r\n\r\n    package yourcompany.blahblah;\r\n    import com.internetitem.logback.elasticsearch.ElasticsearchAppender;\r\n    import com.internetitem.logback.elasticsearch.config.*;\r\n\r\n    public class LogbackCompatibilityWrapper4ElasticsearchAppender\r\n      extends ElasticsearchAppender {\r\n      public void setAttributes(Attributes attributes) {\r\n        super.setProperties(attributes);\r\n      }\r\n    \r\n      static public class Attribute extends Property {\r\n        /* No-args constructor must be present \r\n         *  because Logback instatiates it to use the setters.\r\n         */\r\n        public ElasticsearchProperties () {}\r\n    \r\n        public ElasticsearchProperties (\r\n          String name, String value, boolean allowEmpty) {\r\n            super(name, value, allowEmpty);\r\n        }\r\n      }\r\n    \r\n      static public class Attributes extends ElasticsearchProperties {\r\n        public void addAttribute(Attribute attribute) {\r\n          super(attribute);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nSo that the appender config in the ElasticserchAppender github page should be changed to the manner of\r\n\r\n\r\n    &lt;appender name=&quot;ELASTIC&quot; class=&quot;yourcompany.blahblah.LogbackCompatibilityWrapper4ElasticsearchAppender&quot;&gt;\r\n        &lt;url&gt;http://yourserver/_bulk&lt;/url&gt;\r\n        &lt;index&gt;logs-%date{yyyy-MM-dd}&lt;/index&gt;\r\n        &lt;type&gt;tester&lt;/type&gt;\r\n        &lt;loggerName&gt;es-logger&lt;/loggerName&gt; &lt;!-- optional --&gt;\r\n        &lt;errorLoggerName&gt;es-error-logger&lt;/errorLoggerName&gt; &lt;!-- optional --&gt;\r\n        &lt;connectTimeout&gt;30000&lt;/connectTimeout&gt; &lt;!-- optional (in ms, default 30000) --&gt;\r\n        &lt;errorsToStderr&gt;false&lt;/errorsToStderr&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;logsToStderr&gt;false&lt;/logsToStderr&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;maxQueueSize&gt;104857600&lt;/maxQueueSize&gt; &lt;!-- optional (default 104857600) --&gt;\r\n        &lt;maxRetries&gt;3&lt;/maxRetries&gt; &lt;!-- optional (default 3) --&gt;\r\n        &lt;readTimeout&gt;30000&lt;/readTimeout&gt; &lt;!-- optional (in ms, default 30000) --&gt;\r\n        &lt;sleepTime&gt;250&lt;/sleepTime&gt; &lt;!-- optional (in ms, default 250) --&gt;\r\n        &lt;rawJsonMessage&gt;false&lt;/rawJsonMessage&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;includeMdc&gt;false&lt;/includeMdc&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;maxMessageSize&gt;100&lt;/maxMessageSize&gt; &lt;!-- optional (default -1 --&gt;\r\n        &lt;authentication class=&quot;com.internetitem.logback.elasticsearch.config.BasicAuthentication&quot; /&gt; &lt;!-- optional --&gt;\r\n        &lt;attributes&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;host&lt;/name&gt;\r\n                &lt;value&gt;${HOSTNAME}&lt;/value&gt;\r\n                &lt;allowEmpty&gt;false&lt;/allowEmpty&gt;\r\n            &lt;/attribute&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;severity&lt;/name&gt;\r\n                &lt;value&gt;%level&lt;/value&gt;\r\n            &lt;/attribute&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;thread&lt;/name&gt;\r\n                &lt;value&gt;%thread&lt;/value&gt;\r\n            &lt;/attribute&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;stacktrace&lt;/name&gt;\r\n                &lt;value&gt;%ex&lt;/value&gt;\r\n            &lt;/attribute&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;logger&lt;/name&gt;\r\n                &lt;value&gt;%logger&lt;/value&gt;\r\n            &lt;/attribute&gt;\r\n        &lt;/attributes&gt;\r\n        &lt;headers&gt;\r\n            &lt;header&gt;\r\n                &lt;name&gt;Content-Type&lt;/name&gt;\r\n                &lt;value&gt;application/json&lt;/value&gt;\r\n            &lt;/header&gt;\r\n        &lt;/headers&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILELOGGER&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;ELASTIC&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;logger name=&quot;es-error-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILELOGGER&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;es-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender name=&quot;ES_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;!-- ... --&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%msg&lt;/pattern&gt; &lt;!-- This pattern is important, otherwise it won&#39;t be the raw Elasticsearch format anyomre --&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    &lt;/logger&gt;\r\n\r\n\r\nAfter which the properties I configured started to appear in the message sent to logstash.\r\n\r\n\r\n\r\n","title":"InternetItem&#39;s ElasticsearchAppender properties are ignored by Logback 1.3.5","body":"<p>By step debugging thro the Logback initialization phase, I discovered that the issue arose because I had upgraded from Logback 1.1.x to 1.3.x and 1.4.x.</p>\n<p>Logback 1.3 onwards reserves the use of the element name &quot;property&quot; for its own property settings.</p>\n<p>Therefore I had to create a wrapper class to re-express the element name &quot;property&quot; as something else. I decided to use &quot;attribute&quot;.</p>\n<pre><code>package yourcompany.blahblah;\nimport com.internetitem.logback.elasticsearch.ElasticsearchAppender;\nimport com.internetitem.logback.elasticsearch.config.*;\n\npublic class LogbackCompatibilityWrapper4ElasticsearchAppender\n  extends ElasticsearchAppender {\n  public void setAttributes(Attributes attributes) {\n    super.setProperties(attributes);\n  }\n\n  static public class Attribute extends Property {\n    /* No-args constructor must be present \n     *  because Logback instatiates it to use the setters.\n     */\n    public ElasticsearchProperties () {}\n\n    public ElasticsearchProperties (\n      String name, String value, boolean allowEmpty) {\n        super(name, value, allowEmpty);\n    }\n  }\n\n  static public class Attributes extends ElasticsearchProperties {\n    public void addAttribute(Attribute attribute) {\n      super(attribute);\n    }\n  }\n}\n</code></pre>\n<p>So that the appender config in the ElasticserchAppender github page should be changed to the manner of</p>\n<pre><code>&lt;appender name=&quot;ELASTIC&quot; class=&quot;yourcompany.blahblah.LogbackCompatibilityWrapper4ElasticsearchAppender&quot;&gt;\n    &lt;url&gt;http://yourserver/_bulk&lt;/url&gt;\n    &lt;index&gt;logs-%date{yyyy-MM-dd}&lt;/index&gt;\n    &lt;type&gt;tester&lt;/type&gt;\n    &lt;loggerName&gt;es-logger&lt;/loggerName&gt; &lt;!-- optional --&gt;\n    &lt;errorLoggerName&gt;es-error-logger&lt;/errorLoggerName&gt; &lt;!-- optional --&gt;\n    &lt;connectTimeout&gt;30000&lt;/connectTimeout&gt; &lt;!-- optional (in ms, default 30000) --&gt;\n    &lt;errorsToStderr&gt;false&lt;/errorsToStderr&gt; &lt;!-- optional (default false) --&gt;\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- optional (default false) --&gt;\n    &lt;logsToStderr&gt;false&lt;/logsToStderr&gt; &lt;!-- optional (default false) --&gt;\n    &lt;maxQueueSize&gt;104857600&lt;/maxQueueSize&gt; &lt;!-- optional (default 104857600) --&gt;\n    &lt;maxRetries&gt;3&lt;/maxRetries&gt; &lt;!-- optional (default 3) --&gt;\n    &lt;readTimeout&gt;30000&lt;/readTimeout&gt; &lt;!-- optional (in ms, default 30000) --&gt;\n    &lt;sleepTime&gt;250&lt;/sleepTime&gt; &lt;!-- optional (in ms, default 250) --&gt;\n    &lt;rawJsonMessage&gt;false&lt;/rawJsonMessage&gt; &lt;!-- optional (default false) --&gt;\n    &lt;includeMdc&gt;false&lt;/includeMdc&gt; &lt;!-- optional (default false) --&gt;\n    &lt;maxMessageSize&gt;100&lt;/maxMessageSize&gt; &lt;!-- optional (default -1 --&gt;\n    &lt;authentication class=&quot;com.internetitem.logback.elasticsearch.config.BasicAuthentication&quot; /&gt; &lt;!-- optional --&gt;\n    &lt;attributes&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;host&lt;/name&gt;\n            &lt;value&gt;${HOSTNAME}&lt;/value&gt;\n            &lt;allowEmpty&gt;false&lt;/allowEmpty&gt;\n        &lt;/attribute&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;severity&lt;/name&gt;\n            &lt;value&gt;%level&lt;/value&gt;\n        &lt;/attribute&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;thread&lt;/name&gt;\n            &lt;value&gt;%thread&lt;/value&gt;\n        &lt;/attribute&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;stacktrace&lt;/name&gt;\n            &lt;value&gt;%ex&lt;/value&gt;\n        &lt;/attribute&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;logger&lt;/name&gt;\n            &lt;value&gt;%logger&lt;/value&gt;\n        &lt;/attribute&gt;\n    &lt;/attributes&gt;\n    &lt;headers&gt;\n        &lt;header&gt;\n            &lt;name&gt;Content-Type&lt;/name&gt;\n            &lt;value&gt;application/json&lt;/value&gt;\n        &lt;/header&gt;\n    &lt;/headers&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;FILELOGGER&quot; /&gt;\n    &lt;appender-ref ref=&quot;ELASTIC&quot; /&gt;\n&lt;/root&gt;\n\n&lt;logger name=&quot;es-error-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;FILELOGGER&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;logger name=&quot;es-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender name=&quot;ES_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;!-- ... --&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%msg&lt;/pattern&gt; &lt;!-- This pattern is important, otherwise it won't be the raw Elasticsearch format anyomre --&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>After which the properties I configured started to appear in the message sent to logstash.</p>\n"},{"tags":[],"owner":{"account_id":28063048,"reputation":31,"user_id":21436857,"display_name":"Jens Rieks"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679315365,"creation_date":1679297617,"answer_id":75787569,"question_id":75770566,"body_markdown":"The internetitem version of logback-elasticsearch-appender seems to be unmaintained, so we made a fork here: https://github.com/agido-malter/logback-elasticsearch-appender/\r\n\r\nYour problem has been solved there, you can now use `&lt;esProperty&gt;` instead of `&lt;property&gt;`.\r\n\r\nThe fix is included in the newest version here:\r\nhttps://central.sonatype.com/artifact/com.agido/logback-elasticsearch-appender/3.0.6","title":"InternetItem&#39;s ElasticsearchAppender properties are ignored by Logback 1.3.5","body":"<p>The internetitem version of logback-elasticsearch-appender seems to be unmaintained, so we made a fork here: <a href=\"https://github.com/agido-malter/logback-elasticsearch-appender/\" rel=\"nofollow noreferrer\">https://github.com/agido-malter/logback-elasticsearch-appender/</a></p>\n<p>Your problem has been solved there, you can now use <code>&lt;esProperty&gt;</code> instead of <code>&lt;property&gt;</code>.</p>\n<p>The fix is included in the newest version here:\n<a href=\"https://central.sonatype.com/artifact/com.agido/logback-elasticsearch-appender/3.0.6\" rel=\"nofollow noreferrer\">https://central.sonatype.com/artifact/com.agido/logback-elasticsearch-appender/3.0.6</a></p>\n"}],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679315365,"creation_date":1679074406,"question_id":75770566,"body_markdown":"Migrating from ElasticsearchAppender 1.1 to 1.3.5 and using the example configuration suggested in https://github.com/internetitem/logback-elasticsearch-appender:\r\n\r\n\r\n    &lt;appender name=&quot;ELASTIC&quot; \r\n      class=&quot;com.internetitem.logback.elasticsearch.ElasticsearchAppender&quot;&gt;\r\n      &lt;url&gt;http://yourserver/_bulk&lt;/url&gt;\r\n      &lt;index&gt;logs-%date{yyyy-MM-dd}&lt;/index&gt;\r\n      &lt;type&gt;tester&lt;/type&gt;\r\n      blah ... blah ...\r\n        &lt;properties&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;host&lt;/name&gt;\r\n                &lt;value&gt;${HOSTNAME}&lt;/value&gt;\r\n                &lt;allowEmpty&gt;false&lt;/allowEmpty&gt;\r\n            &lt;/property&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;severity&lt;/name&gt;\r\n                &lt;value&gt;%level&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;thread&lt;/name&gt;\r\n                &lt;value&gt;%thread&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;stacktrace&lt;/name&gt;\r\n                &lt;value&gt;%ex&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;logger&lt;/name&gt;\r\n                &lt;value&gt;%logger&lt;/value&gt;\r\n            &lt;/property&gt;\r\n        &lt;/properties&gt;\r\n     blah ... blah ...\r\n\r\n\r\nStep debugging thro the Logback configuration initialization stage, I found that the properties block is completely ignored by Logback model joran model reading stage.\r\n\r\nThe model handler is treating the element &quot;&lt;property &quot; as a Logback reserved model, rather than going forth to the ElasticsearchAppender properties bean to search for the appropriate adder method, Logback complains each property structure in the ElasticsearchAppender xml block is not recognized as valid.\r\n\r\nIs this a defect, or does InternetItem have a new ElasticsearchAppender configuration compatible with Logback 1.3 ++?\r\n\r\n\r\n\r\n\r\n\r\n","title":"InternetItem&#39;s ElasticsearchAppender properties are ignored by Logback 1.3.5","body":"<p>Migrating from ElasticsearchAppender 1.1 to 1.3.5 and using the example configuration suggested in <a href=\"https://github.com/internetitem/logback-elasticsearch-appender\" rel=\"nofollow noreferrer\">https://github.com/internetitem/logback-elasticsearch-appender</a>:</p>\n<pre><code>&lt;appender name=&quot;ELASTIC&quot; \n  class=&quot;com.internetitem.logback.elasticsearch.ElasticsearchAppender&quot;&gt;\n  &lt;url&gt;http://yourserver/_bulk&lt;/url&gt;\n  &lt;index&gt;logs-%date{yyyy-MM-dd}&lt;/index&gt;\n  &lt;type&gt;tester&lt;/type&gt;\n  blah ... blah ...\n    &lt;properties&gt;\n        &lt;property&gt;\n            &lt;name&gt;host&lt;/name&gt;\n            &lt;value&gt;${HOSTNAME}&lt;/value&gt;\n            &lt;allowEmpty&gt;false&lt;/allowEmpty&gt;\n        &lt;/property&gt;\n        &lt;property&gt;\n            &lt;name&gt;severity&lt;/name&gt;\n            &lt;value&gt;%level&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property&gt;\n            &lt;name&gt;thread&lt;/name&gt;\n            &lt;value&gt;%thread&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property&gt;\n            &lt;name&gt;stacktrace&lt;/name&gt;\n            &lt;value&gt;%ex&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property&gt;\n            &lt;name&gt;logger&lt;/name&gt;\n            &lt;value&gt;%logger&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/properties&gt;\n blah ... blah ...\n</code></pre>\n<p>Step debugging thro the Logback configuration initialization stage, I found that the properties block is completely ignored by Logback model joran model reading stage.</p>\n<p>The model handler is treating the element &quot;&lt;property &quot; as a Logback reserved model, rather than going forth to the ElasticsearchAppender properties bean to search for the appropriate adder method, Logback complains each property structure in the ElasticsearchAppender xml block is not recognized as valid.</p>\n<p>Is this a defect, or does InternetItem have a new ElasticsearchAppender configuration compatible with Logback 1.3 ++?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1340489873,"post_id":11173336,"comment_id":14658408,"body_markdown":"See also [*Type Inference for Generic Instance Creation*](http://docs.oracle.com/javase/7/docs/technotes/guides/language/type-inference-generic-instance-creation.html).","body":"See also <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/type-inference-generic-instance-creation.html\" rel=\"nofollow noreferrer\"><i>Type Inference for Generic Instance Creation</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340489073,"creation_date":1340489073,"answer_id":11173347,"question_id":11173336,"body_markdown":"Because the function `newInstance` is generic as well, with generic types _K_ and _V_ which are forwarded to `HashMap`. Its meant to be used like this:\r\n\r\n    HashMap&lt;Integer, String&gt; map = newInstance&lt;Integer,String&gt;();","title":"Why do the type parameters have to be repeated twice?","body":"<p>Because the function <code>newInstance</code> is generic as well, with generic types <em>K</em> and <em>V</em> which are forwarded to <code>HashMap</code>. Its meant to be used like this:</p>\n\n<pre><code>HashMap&lt;Integer, String&gt; map = newInstance&lt;Integer,String&gt;();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":0,"creation_date":1340490394,"post_id":11173349,"comment_id":14658506,"body_markdown":"This is the answer to the question that was actually asked :)","body":"This is the answer to the question that was actually asked :)"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1679315322,"creation_date":1340489093,"answer_id":11173349,"question_id":11173336,"body_markdown":"To indicate that the method is a generic method, using/returning generic types. If they were not there, the compiler would look for a &quot;real type&quot;  (i.e. a class or an interface) named K, and another real type named V.","title":"Why do the type parameters have to be repeated twice?","body":"<p>To indicate that the method is a generic method, using/returning generic types. If they were not there, the compiler would look for a &quot;real type&quot;  (i.e. a class or an interface) named K, and another real type named V.</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340489449,"creation_date":1340489449,"answer_id":11173383,"question_id":11173336,"body_markdown":"To add to the other answers, with erasure all the types are lost at compile time.  However, the compiler checks for validation first and that is why the types are needed then.\r\n\r\nHere is an example of what happens after erasure from another SO [answer][1]:\r\n\r\n But when generics are used, they&#39;re converted into compile-time checks and execution-time casts. So this code:\r\n\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.add(&quot;Hi&quot;);\r\nString x = list.get(0);\r\n\r\nis compiled into\r\n\r\nList list = new ArrayList();\r\nlist.add(&quot;Hi&quot;);\r\nString x = (String) list.get(0);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens","title":"Why do the type parameters have to be repeated twice?","body":"<p>To add to the other answers, with erasure all the types are lost at compile time.  However, the compiler checks for validation first and that is why the types are needed then.</p>\n\n<p>Here is an example of what happens after erasure from another SO <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">answer</a>:</p>\n\n<p>But when generics are used, they're converted into compile-time checks and execution-time casts. So this code:</p>\n\n<p>List list = new ArrayList();\nlist.add(\"Hi\");\nString x = list.get(0);</p>\n\n<p>is compiled into</p>\n\n<p>List list = new ArrayList();\nlist.add(\"Hi\");\nString x = (String) list.get(0);</p>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10755,"user_id":348975,"accept_rate":86,"display_name":"emory"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340490523,"creation_date":1340490523,"answer_id":11173479,"question_id":11173336,"body_markdown":"Could the compiler reasonably infer type parameters?\r\n\r\nYes in the example situation - `static HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}` is obviously short for `static &lt; K extends Object , V extends Object &gt; HashMap&lt;K,V&gt;newInstance()return new HashMap&lt;K,V&gt;();}`.\r\n\r\nBut if your compiler inferred type parameters, then your code would still compile even when you mistype class names.  `static void setName ( Sting name )` is probably wrong but your compiler would assume you meant `&lt;Sting extends Object&gt; static void setName ( Sting name );` Through the magic of runtime erasure that would be equivalent to `static void setName ( Object name ) ;`.\r\n\r\nIf the method is not static, then inference becomes problematic.  `class X { HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}` could be type-inferred as one of the following:\r\n\r\n1.  `class X &lt;K extends Object , V extends Object&gt; { HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}`\r\n2.  `class X &lt;K extends Object &gt; { &lt; V extends Object &gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}`\r\n3.  `class X &lt;V extends Object&gt; { &lt; K extends Object &gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}`\r\n4.  `class X { &lt;K extends Object , V extends Object&gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}`\r\n\r\nIn addition, if type parameters were inferred then what is the order.  When they are explicitly stated, the order is obvious.  The only (obvious to me) way to solve the order problem for inferred type parameters is the order they were declared in the code.  But if you just reverse the order of 2 lines of code (which should be inconsequential) you could potentially change the public interface breaking the build.  So brittle!","title":"Why do the type parameters have to be repeated twice?","body":"<p>Could the compiler reasonably infer type parameters?</p>\n\n<p>Yes in the example situation - <code>static HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}</code> is obviously short for <code>static &lt; K extends Object , V extends Object &gt; HashMap&lt;K,V&gt;newInstance()return new HashMap&lt;K,V&gt;();}</code>.</p>\n\n<p>But if your compiler inferred type parameters, then your code would still compile even when you mistype class names.  <code>static void setName ( Sting name )</code> is probably wrong but your compiler would assume you meant <code>&lt;Sting extends Object&gt; static void setName ( Sting name );</code> Through the magic of runtime erasure that would be equivalent to <code>static void setName ( Object name ) ;</code>.</p>\n\n<p>If the method is not static, then inference becomes problematic.  <code>class X { HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code> could be type-inferred as one of the following:</p>\n\n<ol>\n<li><code>class X &lt;K extends Object , V extends Object&gt; { HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code></li>\n<li><code>class X &lt;K extends Object &gt; { &lt; V extends Object &gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code></li>\n<li><code>class X &lt;V extends Object&gt; { &lt; K extends Object &gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code></li>\n<li><code>class X { &lt;K extends Object , V extends Object&gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code></li>\n</ol>\n\n<p>In addition, if type parameters were inferred then what is the order.  When they are explicitly stated, the order is obvious.  The only (obvious to me) way to solve the order problem for inferred type parameters is the order they were declared in the code.  But if you just reverse the order of 2 lines of code (which should be inconsequential) you could potentially change the public interface breaking the build.  So brittle!</p>\n"}],"owner":{"account_id":1198403,"reputation":18007,"user_id":1276460,"accept_rate":88,"display_name":"John Hoffman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11173349,"answer_count":4,"score":3,"last_activity_date":1679315322,"creation_date":1340488953,"question_id":11173336,"body_markdown":"In this static function in Java, why must `&lt;K, V&gt;` be repeated in line 1?\r\n\r\n    public static &lt;K, V&gt; HashMap&lt;K, V&gt; newInstance() {\r\n      return new HashMap&lt;K, V&gt;();\r\n    } \r\n\r\nI understand why `HashMap&lt;K, V&gt;` is necessary since the function returns a HashMap with generic types K and V as keys and values respectively. However, why is the first `&lt;K, V&gt;` necessary in the function signature?","title":"Why do the type parameters have to be repeated twice?","body":"<p>In this static function in Java, why must <code>&lt;K, V&gt;</code> be repeated in line 1?</p>\n\n<pre><code>public static &lt;K, V&gt; HashMap&lt;K, V&gt; newInstance() {\n  return new HashMap&lt;K, V&gt;();\n} \n</code></pre>\n\n<p>I understand why <code>HashMap&lt;K, V&gt;</code> is necessary since the function returns a HashMap with generic types K and V as keys and values respectively. However, why is the first <code>&lt;K, V&gt;</code> necessary in the function signature?</p>\n"},{"tags":["java","spring","spring-boot","syslog","rsyslog"],"owner":{"account_id":11754135,"reputation":1,"user_id":8602344,"display_name":"IAKulaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679315134,"creation_date":1679314859,"question_id":75790202,"body_markdown":"Can you please help me with configuration of my java app logging?\r\nMy goal is to send logs to rsyslog via tcp, and my app is written on spring boot 1.5.\r\n\r\nI tried to use logback but apparently it can send only by udp. I tried to use log4j2 but it needs higher version of spring and i cant update my version because of backwards compatibility. \r\nSo i used this solution:\r\nhttps://github.com/papertrail/logback-syslog4j\r\n\r\nand i started my rsyslog from this image:\r\nhttps://hub.docker.com/r/rsyslog/syslog_appliance_alpine/\r\n\r\nbut it seems that rsyslog receives only timestamn and host, no app name, no message. It looks like this:\r\n```\r\n/ # cat /logs/hosts/172.17.0.1/messages.log&#160;\r\n2023-03-16T14:52:13.484733+00:00 172.17.0.1 #015\r\n```\r\n\r\n\r\n\r\nSo can you please explain what is wrong whit my configuration and what should i do to see host, app name, message etc. in rsyslog logs? Can format of my log messages cause this problem?\r\n\r\nMy appender in logback-spring.xml :\r\n```\r\n&lt;appender name=&quot;SYSLOG&quot; class=&quot;com.papertrailapp.logback.Syslog4jAppender&quot;&gt;\r\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} ${appName} %m%n%xException&lt;/pattern&gt;\r\n    &lt;/layout&gt;\r\n    &lt;syslogConfig class=&quot;org.productivity.java.syslog4j.impl.net.tcp.TCPNetSyslogConfig&quot;&gt;\r\n        &lt;host&gt;localhost&lt;/host&gt;\r\n        &lt;port&gt;514&lt;/port&gt;\r\n        &lt;ident&gt;${appName}&lt;/ident&gt;\r\n        &lt;facility&gt;USER&lt;/facility&gt;\r\n        &lt;throwExceptionOnWrite&gt;true&lt;/throwExceptionOnWrite&gt;\r\n        &lt;throwExceptionOnInitialize&gt;true&lt;/throwExceptionOnInitialize&gt;\r\n    &lt;/syslogConfig&gt;\r\n&lt;/appender&gt;\r\n```\r\n\r\nand im sending logs like this:\r\n```\r\nlogger.error(&quot;serverName=\\&quot;{}\\&quot;; audittype=\\&quot;auth\\&quot;; action=\\&quot;login unsuccessful\\&quot;; clientIP=\\&quot;{}\\&quot;; userName=\\&quot;{}\\&quot;&quot;, server, ip, userName);\r\n```","title":"how to send logs to rsyslog via tcp from spring boot 1.5 app?","body":"<p>Can you please help me with configuration of my java app logging?\nMy goal is to send logs to rsyslog via tcp, and my app is written on spring boot 1.5.</p>\n<p>I tried to use logback but apparently it can send only by udp. I tried to use log4j2 but it needs higher version of spring and i cant update my version because of backwards compatibility.\nSo i used this solution:\n<a href=\"https://github.com/papertrail/logback-syslog4j\" rel=\"nofollow noreferrer\">https://github.com/papertrail/logback-syslog4j</a></p>\n<p>and i started my rsyslog from this image:\n<a href=\"https://hub.docker.com/r/rsyslog/syslog_appliance_alpine/\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/rsyslog/syslog_appliance_alpine/</a></p>\n<p>but it seems that rsyslog receives only timestamn and host, no app name, no message. It looks like this:</p>\n<pre><code>/ # cat /logs/hosts/172.17.0.1/messages.log\n2023-03-16T14:52:13.484733+00:00 172.17.0.1 #015\n</code></pre>\n<p>So can you please explain what is wrong whit my configuration and what should i do to see host, app name, message etc. in rsyslog logs? Can format of my log messages cause this problem?</p>\n<p>My appender in logback-spring.xml :</p>\n<pre><code>&lt;appender name=&quot;SYSLOG&quot; class=&quot;com.papertrailapp.logback.Syslog4jAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} ${appName} %m%n%xException&lt;/pattern&gt;\n    &lt;/layout&gt;\n    &lt;syslogConfig class=&quot;org.productivity.java.syslog4j.impl.net.tcp.TCPNetSyslogConfig&quot;&gt;\n        &lt;host&gt;localhost&lt;/host&gt;\n        &lt;port&gt;514&lt;/port&gt;\n        &lt;ident&gt;${appName}&lt;/ident&gt;\n        &lt;facility&gt;USER&lt;/facility&gt;\n        &lt;throwExceptionOnWrite&gt;true&lt;/throwExceptionOnWrite&gt;\n        &lt;throwExceptionOnInitialize&gt;true&lt;/throwExceptionOnInitialize&gt;\n    &lt;/syslogConfig&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>and im sending logs like this:</p>\n<pre><code>logger.error(&quot;serverName=\\&quot;{}\\&quot;; audittype=\\&quot;auth\\&quot;; action=\\&quot;login unsuccessful\\&quot;; clientIP=\\&quot;{}\\&quot;; userName=\\&quot;{}\\&quot;&quot;, server, ip, userName);\n</code></pre>\n"},{"tags":["java","3d","texture-mapping","texture2d","render-to-texture"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679682800,"post_id":75790238,"comment_id":133771026,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75790238/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20949055,"reputation":11,"user_id":15391173,"display_name":"IDANG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679315127,"creation_date":1679315077,"answer_id":75790238,"question_id":71816493,"body_markdown":"````\r\npublic&#160;Texture.ImageCords&#160;TextureEmession(Point&#160;pt,int&#160;nX,int&#160;nY){ \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//(&#119910;&#119909;cos&#120579;sin&#120601;,&#119911;+&#119909;sin&#120579;sin&#120601; \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;double&#160;O&#160;=&#160;Math.acos((new&#160;Vector(1,0,0)).dotProduct(this.getNormal(pt)))&#160;, \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Q&#160;=&#160;Math.acos((new&#160;Vector(0,1,0)).dotProduct(this.getNormal(pt)))&#160;,&#160;sinq&#160;=&#160;Math.sin(Q)&#160;; \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return&#160;new&#160;Texture.ImageCords((&#160;pt.getY()&#160;-&#160;pt.getX()&#160;*Math.cos(O)*sinq&#160;), \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(pt.getZ()&#160;&#160;+&#160;pt.getX()&#160;*Math.sin(O)&#160;*&#160;sinq)&#160;); \r\n &#160;&#160;&#160;&#160;}\r\n","title":"Texture Resultion Problems","body":"<pre><code>publicTexture.ImageCordsTextureEmession(Pointpt,intnX,intnY){ \n //(cossin,+sinsin \n doubleO=Math.acos((newVector(1,0,0)).dotProduct(this.getNormal(pt))), \n Q=Math.acos((newVector(0,1,0)).dotProduct(this.getNormal(pt))),sinq=Math.sin(Q); \n returnnewTexture.ImageCords((pt.getY()-pt.getX()*Math.cos(O)*sinq), \n (pt.getZ()+pt.getX()*Math.sin(O)*sinq)); \n }\n</code></pre>\n"}],"owner":{"account_id":20949055,"reputation":11,"user_id":15391173,"display_name":"IDANG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679315127,"creation_date":1649592841,"question_id":71816493,"body_markdown":"I am trying to write a mini graphics engine for university project , \r\nso I added a texture to the engine with plane it works pretty good [Plane Picture][1]\r\n\r\n\r\nbut with sphere it work really bad even if the radius of sphere is really big ( 9000) . \r\n[Sphere Image][2]\r\n\r\n\r\nI used this formula : \r\n(In class point) : \r\n```\r\n  public class LongLat{\r\n        public double lat; \r\n        public double lon; \r\n        LongLat(double x1, double x2){\r\n            lat = x1 ;\r\n            lon = x2 ; \r\n        }\r\n\r\n    }\r\n\r\n     final   double E = 0.0000000848191908426;\r\n     final  double D2R = Math.PI / 180;\r\n     final double PiDiv4 = Math.PI / 4;\r\n   final double HalfPi = Math.PI / 2;\r\n   private final double C1 = 0.00335655146887969;\r\n   private final double C2 = 0.00000657187271079536;\r\n   private final double C3 = 0.00000001764564338702;\r\n   private final double C4 = 0.00000000005328478445;\r\n    public  LongLat ToLonLat( double Radius)\r\n    {\r\n        double x =this.xyz.d1 ; \r\n         double y = this.xyz.d3 ;\r\n        double g = HalfPi - 2 * Math.atan(1 / Math.exp(y / Radius));\r\n        double latRadians = g + C1 * Math.sin(2 * g) + C2 * Math.sin(4 * g) + C3 * Math.sin(6 * g) + C4 * Math.sin(8 * g);\r\n\r\n        double lonRadians = x / Radius;\r\n\r\n        double lon = lonRadians / D2R ;\r\n        double lat = latRadians / D2R ;\r\n\r\n        return new LongLat((float)lon, (float)lat);\r\n    }\r\n```\r\n(In TSphere- Texture Sphere class ): \r\n```  Sphere sp = ((Sphere)pt.geometry);\r\n    Point.LongLat lt =pt.point.ToLonLat(sp.radius );\r\n     double longitude = lt.lon ; \r\n     double latitude = lt.lat; \r\n    double PI = Math.PI; \r\n    // get x value\r\n    int x = (int)(longitude+180)*(nX/360); \r\n\r\n    // convert from degrees to radians\r\n    double latRad = latitude*PI/180;\r\n\r\n    // get y value\r\n    double  mercN = Math.log(Math.tan((PI/4)+(latRad/2)));\r\n    int y = (int)( (nY/2)-(nX*mercN/(2*PI)));\r\n    int color = image.getRGB(x % nX ,  y% nY ); \r\n    Color xc = new Color(new java.awt.Color(color));\r\n    return xc ;  \r\n```\r\nand it looks really pixelated for some reason , someone have an  idea how to fix that ? \r\nThanks Idan. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lDryB.jpg\r\n  [2]: https://i.stack.imgur.com/BB7Ne.jpg","title":"Texture Resultion Problems","body":"<p>I am trying to write a mini graphics engine for university project ,\nso I added a texture to the engine with plane it works pretty good <a href=\"https://i.stack.imgur.com/lDryB.jpg\" rel=\"nofollow noreferrer\">Plane Picture</a></p>\n<p>but with sphere it work really bad even if the radius of sphere is really big ( 9000) .\n<a href=\"https://i.stack.imgur.com/BB7Ne.jpg\" rel=\"nofollow noreferrer\">Sphere Image</a></p>\n<p>I used this formula :\n(In class point) :</p>\n<pre><code>  public class LongLat{\n        public double lat; \n        public double lon; \n        LongLat(double x1, double x2){\n            lat = x1 ;\n            lon = x2 ; \n        }\n\n    }\n\n     final   double E = 0.0000000848191908426;\n     final  double D2R = Math.PI / 180;\n     final double PiDiv4 = Math.PI / 4;\n   final double HalfPi = Math.PI / 2;\n   private final double C1 = 0.00335655146887969;\n   private final double C2 = 0.00000657187271079536;\n   private final double C3 = 0.00000001764564338702;\n   private final double C4 = 0.00000000005328478445;\n    public  LongLat ToLonLat( double Radius)\n    {\n        double x =this.xyz.d1 ; \n         double y = this.xyz.d3 ;\n        double g = HalfPi - 2 * Math.atan(1 / Math.exp(y / Radius));\n        double latRadians = g + C1 * Math.sin(2 * g) + C2 * Math.sin(4 * g) + C3 * Math.sin(6 * g) + C4 * Math.sin(8 * g);\n\n        double lonRadians = x / Radius;\n\n        double lon = lonRadians / D2R ;\n        double lat = latRadians / D2R ;\n\n        return new LongLat((float)lon, (float)lat);\n    }\n</code></pre>\n<p>(In TSphere- Texture Sphere class ):</p>\n<pre><code>    Point.LongLat lt =pt.point.ToLonLat(sp.radius );\n     double longitude = lt.lon ; \n     double latitude = lt.lat; \n    double PI = Math.PI; \n    // get x value\n    int x = (int)(longitude+180)*(nX/360); \n\n    // convert from degrees to radians\n    double latRad = latitude*PI/180;\n\n    // get y value\n    double  mercN = Math.log(Math.tan((PI/4)+(latRad/2)));\n    int y = (int)( (nY/2)-(nX*mercN/(2*PI)));\n    int color = image.getRGB(x % nX ,  y% nY ); \n    Color xc = new Color(new java.awt.Color(color));\n    return xc ;  \n</code></pre>\n<p>and it looks really pixelated for some reason , someone have an  idea how to fix that ?\nThanks Idan.</p>\n"},{"tags":["java","spring","apache-poi","sts"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679314125,"post_id":75790050,"comment_id":133693620,"body_markdown":"Isnt that a setting in Excel?","body":"Isnt that a setting in Excel?"},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1679314370,"post_id":75790050,"comment_id":133693682,"body_markdown":"Please [edit] the question to clarify what the problem is. In the first paragraph you state that the problem is with Excel but in the second paragraph you state that in Excel it is correct and the error is with `System.out.println` in Java; which is correct?","body":"Please <a href=\"https://stackoverflow.com/posts/75790050/edit\">edit</a> the question to clarify what the problem is. In the first paragraph you state that the problem is with Excel but in the second paragraph you state that in Excel it is correct and the error is with <code>System.out.println</code> in Java; which is correct?"}],"answers":[{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679314870,"creation_date":1679314870,"answer_id":75790204,"question_id":75790050,"body_markdown":"Please read the comments over your code snippet:\r\n\r\n    short newDateFormat = createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;); // Create new date format\r\n    cellStyle.setDataFormat(newDateFormat); // Set the date format on the cell style\r\n    cellx.setCellStyle(cellStyle);\r\n    cellx.setCellValue(result.getDate(i + 1));  \r\n    System.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); // print result.getDate(i + 1) which apparently is some date\r\n\r\nSo my point is you are setting formatter on the cell but your date (result.getDate(i + 1)) is something different. If you use it on a second place you have to format it also there. You can try to reuse the same formatter if possible. You can also format it one place from date to string object and then use this string object on the places where you need","title":"Date format is reversing in uat releases","body":"<p>Please read the comments over your code snippet:</p>\n<pre><code>short newDateFormat = createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;); // Create new date format\ncellStyle.setDataFormat(newDateFormat); // Set the date format on the cell style\ncellx.setCellStyle(cellStyle);\ncellx.setCellValue(result.getDate(i + 1));  \nSystem.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); // print result.getDate(i + 1) which apparently is some date\n</code></pre>\n<p>So my point is you are setting formatter on the cell but your date (result.getDate(i + 1)) is something different. If you use it on a second place you have to format it also there. You can try to reuse the same formatter if possible. You can also format it one place from date to string object and then use this string object on the places where you need</p>\n"},{"tags":[],"owner":{"account_id":20592822,"reputation":21,"user_id":15116022,"display_name":"Arpit Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679315046,"creation_date":1679315046,"answer_id":75790229,"question_id":75790050,"body_markdown":"Writing dates into an excel via POI may occasionally result in lot of date format related problems.\r\nThe reason is LOCALE differences. In UAT, the machine might be running on a different time zone and country resulting in different date formats.\r\nI am assuming it&#39;s not a mandatory requirement that you store the date in &#39;Date&#39; type cell in the excel.\r\nIf yes, then you should first set the cell format type as &#39;String&#39; format, then store the date as a TEXT instead of a DATE.\r\nThis will ensure that the LOCALE setting will not impact the date since you are storing a TEXT.\r\n...\r\n \r\n\r\n    else if (type == Types.DATE) {\r\n                            CellStyle cellStyle = workbook.createCellStyle();\r\n                            CreationHelper createHelper = workbook.getCreationHelper();\r\n                            //short newDateFormat = //createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;);\r\n                            cellStyle.setDataFormat(STRING TYPE);//set string format here\r\n                            cellx.setCellStyle(cellStyle);\r\n                                cellx.setCellValue(result.getDate(i + 1)); //CONVERT IT INTO  STRING FIRST, THEN STORE \r\n                                System.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); \r\n                             }\r\n\r\n","title":"Date format is reversing in uat releases","body":"<p>Writing dates into an excel via POI may occasionally result in lot of date format related problems.\nThe reason is LOCALE differences. In UAT, the machine might be running on a different time zone and country resulting in different date formats.\nI am assuming it's not a mandatory requirement that you store the date in 'Date' type cell in the excel.\nIf yes, then you should first set the cell format type as 'String' format, then store the date as a TEXT instead of a DATE.\nThis will ensure that the LOCALE setting will not impact the date since you are storing a TEXT.\n...</p>\n<pre><code>else if (type == Types.DATE) {\n                        CellStyle cellStyle = workbook.createCellStyle();\n                        CreationHelper createHelper = workbook.getCreationHelper();\n                        //short newDateFormat = //createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;);\n                        cellStyle.setDataFormat(STRING TYPE);//set string format here\n                        cellx.setCellStyle(cellStyle);\n                            cellx.setCellValue(result.getDate(i + 1)); //CONVERT IT INTO  STRING FIRST, THEN STORE \n                            System.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); \n                         }\n</code></pre>\n"}],"owner":{"account_id":28039993,"reputation":1,"user_id":21417702,"display_name":"SagarJavaSprings"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680427564,"answer_count":2,"score":0,"last_activity_date":1679315046,"creation_date":1679313823,"question_id":75790050,"body_markdown":"\t\telse if (type == Types.DATE) {\r\n        \tCellStyle cellStyle = workbook.createCellStyle();\r\n        \tCreationHelper createHelper = workbook.getCreationHelper();\r\n        \tshort newDateFormat = createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;);\r\n        \tcellStyle.setDataFormat(newDateFormat);\r\n        \tcellx.setCellStyle(cellStyle);\r\n          \tcellx.setCellValue(result.getDate(i + 1));  \r\n          \tSystem.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); \r\n   \t\t }\r\n\r\nSo I&#39;am printing data from oracle database using spring frameworks into excel by using apache-poi with java v1.7 and tomcat server v8.5\r\nI want to print date in dd-MM-yyy format in excel which i&#39;ve achieved in my localhost using sts ide\r\nBut in uat release the date format is reversing to yyyy-MM-dd format which is incorrect according to my requirement.\r\n\r\nPs. My uat server is using java 1.6 and weblogic.\r\n","title":"Date format is reversing in uat releases","body":"<pre><code>    else if (type == Types.DATE) {\n        CellStyle cellStyle = workbook.createCellStyle();\n        CreationHelper createHelper = workbook.getCreationHelper();\n        short newDateFormat = createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;);\n        cellStyle.setDataFormat(newDateFormat);\n        cellx.setCellStyle(cellStyle);\n        cellx.setCellValue(result.getDate(i + 1));  \n        System.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); \n     }\n</code></pre>\n<p>So I'am printing data from oracle database using spring frameworks into excel by using apache-poi with java v1.7 and tomcat server v8.5\nI want to print date in dd-MM-yyy format in excel which i've achieved in my localhost using sts ide\nBut in uat release the date format is reversing to yyyy-MM-dd format which is incorrect according to my requirement.</p>\n<p>Ps. My uat server is using java 1.6 and weblogic.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":1557579,"reputation":1208,"user_id":1448201,"accept_rate":96,"display_name":"Adarsh H S"},"score":0,"creation_date":1351145081,"post_id":6908030,"comment_id":17741364,"body_markdown":"I have a small doubt!\n\nHow to find out if its AM or PM ??","body":"I have a small doubt!  How to find out if its AM or PM ??"},{"owner":{"account_id":1557579,"reputation":1208,"user_id":1448201,"accept_rate":96,"display_name":"Adarsh H S"},"score":16,"creation_date":1351145329,"post_id":6908030,"comment_id":17741439,"body_markdown":"SimpleDateFormat(&quot;K:mm a&quot;) would give if its AM / PM:)","body":"SimpleDateFormat(&quot;K:mm a&quot;) would give if its AM / PM:)"},{"owner":{"account_id":3266879,"reputation":1739,"user_id":2751202,"accept_rate":80,"display_name":"Mitesh Shah"},"score":6,"creation_date":1399104215,"post_id":6908030,"comment_id":35930210,"body_markdown":"Instead of K:mm, you can use hh:mm aa\nThis will directly return the time with AM/PM","body":"Instead of K:mm, you can use hh:mm aa This will directly return the time with AM/PM"},{"owner":{"account_id":4129800,"reputation":119,"user_id":3388029,"display_name":"Prasad"},"score":3,"creation_date":1519716201,"post_id":6908030,"comment_id":85010794,"body_markdown":"i having an issue as time in 24 hours &quot;12:00&quot; after converting it displays to &quot;00:00 pm&quot;?","body":"i having an issue as time in 24 hours &quot;12:00&quot; after converting it displays to &quot;00:00 pm&quot;?"},{"owner":{"account_id":2098025,"reputation":19076,"user_id":1866373,"accept_rate":55,"display_name":"Daniel Wilson"},"score":2,"creation_date":1540081329,"post_id":6908030,"comment_id":92733022,"body_markdown":"Crazy that this is accepted, fact that it produces 00:00pm means the answer is unfortunately very wrong. See https://stackoverflow.com/a/16190056/1866373 for the right answer.","body":"Crazy that this is accepted, fact that it produces 00:00pm means the answer is unfortunately very wrong. See <a href=\"https://stackoverflow.com/a/16190056/1866373\">stackoverflow.com/a/16190056/1866373</a> for the right answer."}],"tags":[],"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"comment_count":5,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1312267330,"creation_date":1312266166,"answer_id":6908030,"question_id":6907968,"body_markdown":"you can try using a `SimpleDateFormat` object to convert the time formats.\r\n\r\n\r\n\tfinal String time = &quot;23:15&quot;;\r\n\r\n\ttry {\r\n\t    final SimpleDateFormat sdf = new SimpleDateFormat(&quot;H:mm&quot;);\r\n\t    final Date dateObj = sdf.parse(time);\r\n\t    System.out.println(dateObj);\r\n\t    System.out.println(new SimpleDateFormat(&quot;K:mm&quot;).format(dateObj));\r\n\t} catch (final ParseException e) {\r\n\t    e.printStackTrace();\r\n\t}\r\n\r\nhere is the javadoc [link][1] for SimpleDateFromat.\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/text/SimpleDateFormat.html","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>you can try using a <code>SimpleDateFormat</code> object to convert the time formats.</p>\n\n<pre><code>final String time = \"23:15\";\n\ntry {\n    final SimpleDateFormat sdf = new SimpleDateFormat(\"H:mm\");\n    final Date dateObj = sdf.parse(time);\n    System.out.println(dateObj);\n    System.out.println(new SimpleDateFormat(\"K:mm\").format(dateObj));\n} catch (final ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>here is the javadoc <a href=\"http://developer.android.com/reference/java/text/SimpleDateFormat.html\">link</a> for SimpleDateFromat.</p>\n"},{"comments":[{"owner":{"account_id":1031708,"reputation":1301,"user_id":1039920,"accept_rate":100,"display_name":"Mark Sholund"},"score":6,"creation_date":1413548213,"post_id":16190056,"comment_id":41494632,"body_markdown":"Won&#39;t the &quot;other solution&quot; print &#39;0&#39; for midnight and noon? You&#39;d have to have a special case for those.","body":"Won&#39;t the &quot;other solution&quot; print &#39;0&#39; for midnight and noon? You&#39;d have to have a special case for those."},{"owner":{"account_id":8421611,"reputation":1779,"user_id":6320261,"accept_rate":100,"display_name":"Darshan Soni"},"score":0,"creation_date":1539322197,"post_id":16190056,"comment_id":92467530,"body_markdown":"`System.out.println(((hourOfDay%12==0) ? &quot;12&quot; : String.valueOf(hourOfDay%12)) + &quot;:&quot; + (minute&gt;9 ? minute : &quot;0&quot;+minute) + &quot; &quot; +((hourOfDay&gt;=12) ? &quot;PM&quot; : &quot;AM&quot;))`\nhandles all cases","body":"<code>System.out.println(((hourOfDay%12==0) ? &quot;12&quot; : String.valueOf(hourOfDay%12)) + &quot;:&quot; + (minute&gt;9 ? minute : &quot;0&quot;+minute) + &quot; &quot; +((hourOfDay&gt;=12) ? &quot;PM&quot; : &quot;AM&quot;))</code> handles all cases"},{"owner":{"account_id":5449643,"reputation":658,"user_id":4334920,"display_name":"Renish Patel"},"score":0,"creation_date":1544167216,"post_id":16190056,"comment_id":94187480,"body_markdown":"`System.out.println((((hourOfDay % 12 == 0) ? &quot;12&quot; : ((hourOfDay % 12) &gt; 9 ? (hourOfDay % 12) : &quot;0&quot; + (hourOfDay % 12))) + &quot;:&quot; + ((minute &gt; 9) ? minute : (&quot;0&quot; + minute)) + &quot; &quot; + ((hourOfDay &gt;= 12) ? &quot;PM&quot; : &quot;AM&quot;)));`","body":"<code>System.out.println((((hourOfDay % 12 == 0) ? &quot;12&quot; : ((hourOfDay % 12) &gt; 9 ? (hourOfDay % 12) : &quot;0&quot; + (hourOfDay % 12))) + &quot;:&quot; + ((minute &gt; 9) ? minute : (&quot;0&quot; + minute)) + &quot; &quot; + ((hourOfDay &gt;= 12) ? &quot;PM&quot; : &quot;AM&quot;)));</code>"}],"tags":[],"owner":{"account_id":2262788,"reputation":1216,"user_id":1992401,"display_name":"Lalit Jawale"},"comment_count":3,"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1585639421,"creation_date":1366800669,"answer_id":16190056,"question_id":6907968,"body_markdown":"Here is the code to convert 24-Hour time to 12-Hour with AM and PM. \r\n&lt;br&gt;***Note:-*** If you don&#39;t want AM/PM then just replace `hh:mm a` with `hh:mm`.\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n       public static void main(String [] args) throws Exception {\r\n    \t   try {\t   \r\n    \t\t   String _24HourTime = &quot;22:15&quot;;\r\n    \t\t   SimpleDateFormat _24HourSDF = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    \t       SimpleDateFormat _12HourSDF = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n    \t       Date _24HourDt = _24HourSDF.parse(_24HourTime);\r\n    \t       System.out.println(_24HourDt);\r\n    \t       System.out.println(_12HourSDF.format(_24HourDt));\r\n    \t   } catch (Exception e) {\r\n    \t       e.printStackTrace();\r\n    \t   }\r\n       }\r\n    }\r\n    \r\n    //OUTPUT WOULD BE\r\n    //Thu Jan 01 22:15:00 IST 1970\r\n    //10:15 PM\r\n\r\nAnother Solution:\r\n\r\n    System.out.println(hr%12 + &quot;:&quot; + min + &quot; &quot; + ((hr&gt;=12) ? &quot;PM&quot; : &quot;AM&quot;));","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>Here is the code to convert 24-Hour time to 12-Hour with AM and PM. \n<br><strong><em>Note:-</em></strong> If you don't want AM/PM then just replace <code>hh:mm a</code> with <code>hh:mm</code>.</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Main {\n   public static void main(String [] args) throws Exception {\n       try {       \n           String _24HourTime = \"22:15\";\n           SimpleDateFormat _24HourSDF = new SimpleDateFormat(\"HH:mm\");\n           SimpleDateFormat _12HourSDF = new SimpleDateFormat(\"hh:mm a\");\n           Date _24HourDt = _24HourSDF.parse(_24HourTime);\n           System.out.println(_24HourDt);\n           System.out.println(_12HourSDF.format(_24HourDt));\n       } catch (Exception e) {\n           e.printStackTrace();\n       }\n   }\n}\n\n//OUTPUT WOULD BE\n//Thu Jan 01 22:15:00 IST 1970\n//10:15 PM\n</code></pre>\n\n<p>Another Solution:</p>\n\n<pre><code>System.out.println(hr%12 + \":\" + min + \" \" + ((hr&gt;=12) ? \"PM\" : \"AM\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3385111,"reputation":718,"user_id":2841217,"display_name":"Ajay Prajapati"},"score":1,"creation_date":1600528940,"post_id":37388580,"comment_id":113119504,"body_markdown":"Here we need to pass minute value is always two digits.For example for 3 PM - 15:00","body":"Here we need to pass minute value is always two digits.For example for 3 PM - 15:00"},{"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"score":0,"creation_date":1639672299,"post_id":37388580,"comment_id":124414344,"body_markdown":"I found this enough: `String result = localTimeInstance.format(DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;));`","body":"I found this enough: <code>String result = localTimeInstance.format(DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;));</code>"},{"owner":{"account_id":1231052,"reputation":983,"user_id":1195632,"display_name":"Cloud"},"score":0,"creation_date":1639814392,"post_id":37388580,"comment_id":124448849,"body_markdown":"Saleh Rezq, yes, this is enough when you have time represented as a LocalTime initially. But if you have time represented as a String, then you need to use LocalTime.parse first.","body":"Saleh Rezq, yes, this is enough when you have time represented as a LocalTime initially. But if you have time represented as a String, then you need to use LocalTime.parse first."}],"tags":[],"owner":{"account_id":1231052,"reputation":983,"user_id":1195632,"display_name":"Cloud"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1516341994,"creation_date":1463999315,"answer_id":37388580,"question_id":6907968,"body_markdown":"In Java 8 it could be done in one line using class `java.time.LocalTime`. \n\nCode example:\r\n\r\n    String result = LocalTime.parse(time, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)).format(DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;));\n\nFor earlier Android, use the [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) project, adapted for Android in the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project. See [*How to use ThreeTenABP in Android Project*](https://stackoverflow.com/q/38922754/642706).","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>In Java 8 it could be done in one line using class <code>java.time.LocalTime</code>. </p>\n\n<p>Code example:</p>\n\n<pre><code>String result = LocalTime.parse(time, DateTimeFormatter.ofPattern(\"HH:mm\")).format(DateTimeFormatter.ofPattern(\"hh:mm a\"));\n</code></pre>\n\n<p>For earlier Android, use the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> project, adapted for Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project. See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP in Android Project</em></a>.</p>\n"},{"comments":[{"owner":{"account_id":6288828,"reputation":3874,"user_id":4887159,"display_name":"Ray"},"score":1,"creation_date":1496210232,"post_id":44276458,"comment_id":75560570,"body_markdown":"if n=2 then isn&#39;t n always 10?","body":"if n=2 then isn&#39;t n always 10?"}],"tags":[],"owner":{"account_id":11009801,"reputation":11,"user_id":8087593,"display_name":"punkaj rwt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496211463,"creation_date":1496208986,"answer_id":44276458,"question_id":6907968,"body_markdown":"    int n=2;\r\n    int result= n-12;\r\n\r\n    if (result&gt;o) {\r\n        system.out.println(result+&quot;pm&quot;);\r\n    } else {\r\n        system.out.prinln(result+&quot;am&quot;);\r\n    } \r\n\r\nYou can use Scanner if you want take input from user Hope this is simple\r\n12 for time :)","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<pre><code>int n=2;\nint result= n-12;\n\nif (result&gt;o) {\n    system.out.println(result+\"pm\");\n} else {\n    system.out.prinln(result+\"am\");\n} \n</code></pre>\n\n<p>You can use Scanner if you want take input from user Hope this is simple\n12 for time :)</p>\n"},{"tags":[],"owner":{"account_id":6374619,"reputation":3321,"user_id":4946013,"display_name":"Kai Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502826356,"creation_date":1502826356,"answer_id":45700395,"question_id":6907968,"body_markdown":"In case you are curious about the difference between K, k and H, h:\r\n\r\nH\tHour in day (0-23)\t    Number\t0\t1+\r\n\r\nk\tHour in day (1-24)\t    Number\t24\t1+\r\n\r\nK\tHour in am/pm (0-11)\tNumber\t0\t1+\r\n\r\nh\tHour in am/pm (1-12)\tNumber\t12\t1+","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>In case you are curious about the difference between K, k and H, h:</p>\n\n<p>H   Hour in day (0-23)      Number  0   1+</p>\n\n<p>k   Hour in day (1-24)      Number  24  1+</p>\n\n<p>K   Hour in am/pm (0-11)    Number  0   1+</p>\n\n<p>h   Hour in am/pm (1-12)    Number  12  1+</p>\n"},{"tags":[],"owner":{"account_id":9418710,"reputation":376,"user_id":7005660,"display_name":"Siddharth Thakkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515389659,"creation_date":1515389659,"answer_id":48144712,"question_id":6907968,"body_markdown":"    // time is your string value i.e., 24 hour time\r\n    \r\n        try {\r\n        final SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n                    final Date dateObj = sdf.parse(time);\r\n                    time = new SimpleDateFormat(&quot;hh:mm aa&quot;).format(dateObj);\r\n                } catch (final ParseException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\nSimpleDateFormat with (K:mm) works fine, but won&#39;t work properly with time 12:00 AM or 12:00 PM\r\n\r\nYou can use the above code to convert 12 hour format from 24 hour format along with AM/PM... It works","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<pre><code>// time is your string value i.e., 24 hour time\n\n    try {\n    final SimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm\");\n                final Date dateObj = sdf.parse(time);\n                time = new SimpleDateFormat(\"hh:mm aa\").format(dateObj);\n            } catch (final ParseException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n\n<p>SimpleDateFormat with (K:mm) works fine, but won't work properly with time 12:00 AM or 12:00 PM</p>\n\n<p>You can use the above code to convert 12 hour format from 24 hour format along with AM/PM... It works</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1516341221,"post_id":48334354,"comment_id":83654819,"body_markdown":"So much easier to use purpose-built java.time classes, as seen in [Answer by Cloud](https://stackoverflow.com/a/37388580/642706).","body":"So much easier to use purpose-built java.time classes, as seen in <a href=\"https://stackoverflow.com/a/37388580/642706\">Answer by Cloud</a>."},{"owner":{"account_id":10440379,"reputation":2401,"user_id":7697233,"accept_rate":78,"display_name":"Xianwei"},"score":0,"creation_date":1516341462,"post_id":48334354,"comment_id":83654909,"body_markdown":"@BasilBourque Have you tried that on api 16, that class `LocalTime.parse` needs api 26 or higher","body":"@BasilBourque Have you tried that on api 16, that class <code>LocalTime.parse</code> needs api 26 or higher"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1516341869,"post_id":48334354,"comment_id":83655065,"body_markdown":"For earlier Android, use the ***ThreeTen-Backport*** project, adapted for Android in the ***ThreeTenABP*** project. See [*How to use ThreeTenABP in Android Project*](https://stackoverflow.com/q/38922754/642706)","body":"For earlier Android, use the <b><i>ThreeTen-Backport</i></b> project, adapted for Android in the <b><i>ThreeTenABP</i></b> project. See <a href=\"https://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP in Android Project</i></a>"},{"owner":{"account_id":10440379,"reputation":2401,"user_id":7697233,"accept_rate":78,"display_name":"Xianwei"},"score":0,"creation_date":1516341999,"post_id":48334354,"comment_id":83655110,"body_markdown":"@BasilBourque wool, Thanks a lot.","body":"@BasilBourque wool, Thanks a lot."},{"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"score":0,"creation_date":1521273702,"post_id":48334354,"comment_id":85669159,"body_markdown":"Works faster than api approach","body":"Works faster than api approach"},{"owner":{"account_id":2511358,"reputation":2116,"user_id":2183775,"accept_rate":73,"display_name":"Mitul&#225;t b&#225;ti"},"score":0,"creation_date":1553299926,"post_id":48334354,"comment_id":97346680,"body_markdown":"Perfect for me.","body":"Perfect for me."},{"owner":{"account_id":2262595,"reputation":1130,"user_id":5125812,"display_name":"Victor Rendina"},"score":1,"creation_date":1607616004,"post_id":48334354,"comment_id":115334198,"body_markdown":"With a 12 hour clock midnight is represented as &quot;12&quot; not &quot;0&quot;","body":"With a 12 hour clock midnight is represented as &quot;12&quot; not &quot;0&quot;"}],"tags":[],"owner":{"account_id":10440379,"reputation":2401,"user_id":7697233,"accept_rate":78,"display_name":"Xianwei"},"comment_count":7,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516337911,"creation_date":1516337911,"answer_id":48334354,"question_id":6907968,"body_markdown":"For someone with lower api version,\r\nwork well with 12:00 AM or PM and min &lt; 10\r\n\r\n      String time =  ((hourOfDay &gt; 12) ? hourOfDay % 12 : hourOfDay) + &quot;:&quot; + (minute &lt; 10 ? (&quot;0&quot; + minute) : minute) + &quot; &quot; + ((hourOfDay &gt;= 12) ? &quot;PM&quot; : &quot;AM&quot;)\r\n\r\noutput eg. `0:0 AM` `12:00 PM` `9:09 AM`\r\n\r\nthanks to @Lalit Jawale answer above","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>For someone with lower api version,\nwork well with 12:00 AM or PM and min &lt; 10</p>\n\n<pre><code>  String time =  ((hourOfDay &gt; 12) ? hourOfDay % 12 : hourOfDay) + \":\" + (minute &lt; 10 ? (\"0\" + minute) : minute) + \" \" + ((hourOfDay &gt;= 12) ? \"PM\" : \"AM\")\n</code></pre>\n\n<p>output eg. <code>0:0 AM</code> <code>12:00 PM</code> <code>9:09 AM</code></p>\n\n<p>thanks to @Lalit Jawale answer above</p>\n"},{"tags":[],"owner":{"account_id":9321614,"reputation":1385,"user_id":6920195,"display_name":"Rohan Lodhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525843639,"creation_date":1525843639,"answer_id":50246088,"question_id":6907968,"body_markdown":"**Follow below code:**\r\n\r\nMake common method and call from where you need:\r\n\r\n **COMMON METHOD TO CHANGE TIME:**\r\n\r\n      public static String parseTime(String date, String inFormat, String outFormat) {\r\n            try {\r\n                Date date1 = new SimpleDateFormat(inFormat, Locale.getDefault()).parse(date);\r\n                SimpleDateFormat dateFormat = new SimpleDateFormat(outFormat, Locale.getDefault());\r\n                return dateFormat.format(date1);\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\n**CONSTANT METHOD:**\r\n\r\n    public static final String SERVER_TIME_RESOURCES_FORMAT = &quot;HH:mm:ss&quot;;\r\n        public static final String SERVER_TIME_FORMAT = &quot;HH:mm:ss.SSS&quot;;\r\n\r\n**CALL FROM WHER U NEED:**\r\n\r\n    CommonMethods.parseTime(//your date, Constants.SERVER_TIME_RESOURCES_FORMAT, Constants.LOCAL_TIME_FORMAT);\r\n\r\n","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p><strong>Follow below code:</strong></p>\n\n<p>Make common method and call from where you need:</p>\n\n<p><strong>COMMON METHOD TO CHANGE TIME:</strong></p>\n\n<pre><code>  public static String parseTime(String date, String inFormat, String outFormat) {\n        try {\n            Date date1 = new SimpleDateFormat(inFormat, Locale.getDefault()).parse(date);\n            SimpleDateFormat dateFormat = new SimpleDateFormat(outFormat, Locale.getDefault());\n            return dateFormat.format(date1);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n\n<p><strong>CONSTANT METHOD:</strong></p>\n\n<pre><code>public static final String SERVER_TIME_RESOURCES_FORMAT = \"HH:mm:ss\";\n    public static final String SERVER_TIME_FORMAT = \"HH:mm:ss.SSS\";\n</code></pre>\n\n<p><strong>CALL FROM WHER U NEED:</strong></p>\n\n<pre><code>CommonMethods.parseTime(//your date, Constants.SERVER_TIME_RESOURCES_FORMAT, Constants.LOCAL_TIME_FORMAT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14693400,"reputation":21,"user_id":10611401,"display_name":"pranav patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568040943,"creation_date":1568040943,"answer_id":57856536,"question_id":6907968,"body_markdown":"Here I use simple maths.\r\n12Hours = 1 + currentHours(24Hours)-13.\r\nFor AM &amp; PM use simple ifelse condition, like if currentHours(24Hours) is &lt;= 12 then set &#39;AM&#39; or set &#39;PM&#39;\r\nHere AMPM &amp; Time is String varriable.\r\nCurHour is int.\r\n\r\n    LocalDateTime LDT = LocalDateTime.now();\r\n\t\t\tCurHour = LDT.getHour();\r\n\t\t\tif(CurHour &lt;=12) {\r\n\t\t\t\tAMPM = &quot;AM&quot;;\r\n\t\t\t}else {\r\n\t\t\t\tAMPM = &quot;PM&quot;;\r\n\t\t\t}\r\n\t\t\tHours = 1+CurHour-13;\r\n\t\t\tTime = Hours+&quot;:&quot;+LDT.getMinute()+&quot;:&quot;+LDT.getSecond()+&quot; &quot;+AMPM;\r\n\r\n    ","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>Here I use simple maths.\n12Hours = 1 + currentHours(24Hours)-13.\nFor AM &amp; PM use simple ifelse condition, like if currentHours(24Hours) is &lt;= 12 then set 'AM' or set 'PM'\nHere AMPM &amp; Time is String varriable.\nCurHour is int.</p>\n\n<pre><code>LocalDateTime LDT = LocalDateTime.now();\n        CurHour = LDT.getHour();\n        if(CurHour &lt;=12) {\n            AMPM = \"AM\";\n        }else {\n            AMPM = \"PM\";\n        }\n        Hours = 1+CurHour-13;\n        Time = Hours+\":\"+LDT.getMinute()+\":\"+LDT.getSecond()+\" \"+AMPM;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13476114,"reputation":101,"user_id":9723035,"display_name":"carlos ezam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582990176,"creation_date":1582989613,"answer_id":60466599,"question_id":6907968,"body_markdown":"Here&#39;s my solution:\r\n\r\n    /*\r\n    * hour in 24Format -&gt; AM/PM Format\r\n    */\r\n    public String format(int hour, int minutes ){\r\n    \r\n       String meridiem = hour &gt; 11 ? &quot;PM&quot; : &quot;AM&quot;;\r\n       \r\n       // trim &quot;0-23 hour&quot; to &quot;0-11 hour&quot;, then replace &quot;0&quot; with &quot;12&quot; \r\n       hour = (hour %= 12) == 0 ? 12 : hour;\r\n\r\n       // Apply desired format &quot;HH:MM AM/PM&quot;\r\n       return String.format(&quot;%02d:%02d %s&quot;, hour, minutes, meridiem );\r\n    }","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>Here's my solution:</p>\n\n<pre><code>/*\n* hour in 24Format -&gt; AM/PM Format\n*/\npublic String format(int hour, int minutes ){\n\n   String meridiem = hour &gt; 11 ? \"PM\" : \"AM\";\n\n   // trim \"0-23 hour\" to \"0-11 hour\", then replace \"0\" with \"12\" \n   hour = (hour %= 12) == 0 ? 12 : hour;\n\n   // Apply desired format \"HH:MM AM/PM\"\n   return String.format(\"%02d:%02d %s\", hour, minutes, meridiem );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13526288,"reputation":41,"user_id":9758022,"display_name":"Braj Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583903299,"creation_date":1583903299,"answer_id":60629570,"question_id":6907968,"body_markdown":"    public static void convert24HourTimeInto12Hour() {\r\n    try {      \r\n    \tString[] dateTime = getCurrentDateAndTime(&quot;yyyy-MM-dd HH:mm:ss&quot;).split(&quot; &quot;);                  \r\n    \tSystem.out.println(&quot;datePart::: &quot;+dateTime[0]);         \r\n    \tSystem.out.println(&quot;timePart::: &quot;+dateTime[1]);         \r\n                                                       \r\n    \tSimpleDateFormat 24HoursFormat = new SimpleDateFormat\r\n    \tSimpleDateFormat 12HoursFormat = new SimpleDateFormat\r\n    \tDate 24Hours = 24HoursFormat.parse(dateTime[1]);      \r\n    \tSystem.out.println(24Hours);                  \r\n    \tSystem.out.println(12HoursFormat.format(24Hours)); \r\n    \t} catch (Exception e) {           \r\n    \t\te.printStackTrace();          \r\n    \t}         \r\n    }                       ","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<pre><code>public static void convert24HourTimeInto12Hour() {\ntry {      \n    String[] dateTime = getCurrentDateAndTime(\"yyyy-MM-dd HH:mm:ss\").split(\" \");                  \n    System.out.println(\"datePart::: \"+dateTime[0]);         \n    System.out.println(\"timePart::: \"+dateTime[1]);         \n\n    SimpleDateFormat 24HoursFormat = new SimpleDateFormat\n    SimpleDateFormat 12HoursFormat = new SimpleDateFormat\n    Date 24Hours = 24HoursFormat.parse(dateTime[1]);      \n    System.out.println(24Hours);                  \n    System.out.println(12HoursFormat.format(24Hours)); \n    } catch (Exception e) {           \n        e.printStackTrace();          \n    }         \n}                       \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13313741,"reputation":805,"user_id":9610893,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590692273,"creation_date":1590692273,"answer_id":62072479,"question_id":6907968,"body_markdown":"For converting any Date date to 12 hour format with AM and PM you can use\r\n```\r\nnew SimpleDateFormat(&quot;dd MMM yyyy KK:mm:ss a&quot;).format(date)\r\n```\r\nHere KK signifies 00-12 and a signifies AM and PM","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>For converting any Date date to 12 hour format with AM and PM you can use</p>\n\n<pre><code>new SimpleDateFormat(\"dd MMM yyyy KK:mm:ss a\").format(date)\n</code></pre>\n\n<p>Here KK signifies 00-12 and a signifies AM and PM</p>\n"},{"tags":[],"owner":{"account_id":933189,"reputation":1589,"user_id":962638,"accept_rate":100,"display_name":"einUsername"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615822520,"creation_date":1615822520,"answer_id":66641030,"question_id":6907968,"body_markdown":"I don&#39;t like using classes like `SimpleDateFormat` if it&#39;s not necessary. You just have to check three conditions. Here are some alternatives:\r\n\r\n**Simple**:\r\n\r\n    if(hour&gt;11) {\r\n        suffix = &quot;PM&quot;;\r\n        if(hour&gt;12)\r\n            hour -= 12;\r\n    } else {\r\n        suffix = &quot;AM&quot;;\r\n        if(hour==0)\r\n            hour = 12;\r\n    }\r\n\r\n**Short**:\r\n\r\n    suffix = (hour&gt;11) ? &quot;PM&quot; : &quot;AM&quot;;\r\n    hour = (hour&gt;12) ? hour-=12 : ((hour==0) ? 12 : hour);\r\n\r\n**Result**:\r\n\r\n    00:00 = 12:00 AM, 01:00 = 01:00 AM, 02:00 = 02:00 AM, 03:00 = 03:00 AM, 04:00 = 04:00 AM, 05:00 = 05:00 AM, 06:00 = 06:00 AM, 07:00 = 07:00 AM, 08:00 = 08:00 AM, 09:00 = 09:00 AM, 10:00 = 10:00 AM, 11:00 = 11:00 AM, 12:00 = 12:00 PM, 13:00 = 01:00 PM, 14:00 = 02:00 PM, 15:00 = 03:00 PM, 16:00 = 04:00 PM, 17:00 = 05:00 PM, 18:00 = 06:00 PM, 19:00 = 07:00 PM, 20:00 = 08:00 PM, 21:00 = 09:00 PM, 22:00 = 10:00 PM, 23:00 = 11:00 PM","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>I don't like using classes like <code>SimpleDateFormat</code> if it's not necessary. You just have to check three conditions. Here are some alternatives:</p>\n<p><strong>Simple</strong>:</p>\n<pre><code>if(hour&gt;11) {\n    suffix = &quot;PM&quot;;\n    if(hour&gt;12)\n        hour -= 12;\n} else {\n    suffix = &quot;AM&quot;;\n    if(hour==0)\n        hour = 12;\n}\n</code></pre>\n<p><strong>Short</strong>:</p>\n<pre><code>suffix = (hour&gt;11) ? &quot;PM&quot; : &quot;AM&quot;;\nhour = (hour&gt;12) ? hour-=12 : ((hour==0) ? 12 : hour);\n</code></pre>\n<p><strong>Result</strong>:</p>\n<pre><code>00:00 = 12:00 AM, 01:00 = 01:00 AM, 02:00 = 02:00 AM, 03:00 = 03:00 AM, 04:00 = 04:00 AM, 05:00 = 05:00 AM, 06:00 = 06:00 AM, 07:00 = 07:00 AM, 08:00 = 08:00 AM, 09:00 = 09:00 AM, 10:00 = 10:00 AM, 11:00 = 11:00 AM, 12:00 = 12:00 PM, 13:00 = 01:00 PM, 14:00 = 02:00 PM, 15:00 = 03:00 PM, 16:00 = 04:00 PM, 17:00 = 05:00 PM, 18:00 = 06:00 PM, 19:00 = 07:00 PM, 20:00 = 08:00 PM, 21:00 = 09:00 PM, 22:00 = 10:00 PM, 23:00 = 11:00 PM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19447652,"reputation":189,"user_id":14224774,"display_name":"metvsk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625652508,"creation_date":1625652508,"answer_id":68283984,"question_id":6907968,"body_markdown":"\r\nThis is what I have used, it converts 00:10 am to 12:00 am and the remaining also works fine.\r\n\r\n    int hourOfDay=Integer.parseInt(form24hrs);//parsing 24 hours format string value of hour to int\r\n    \r\n    int minute=Integer.parseInt(form24min);//parsing 24 hours format string value of minute to int\r\n    \r\n    String time =  ((hourOfDay &gt; 12) ? hourOfDay % 12 : ((hourOfDay==0)?&quot;12&quot;:hourOfDay)) + &quot;:&quot; + (minute &lt; 10 ? (&quot;0&quot; + minute) : minute) + &quot; &quot; + ((hourOfDay &gt;= 12) ? &quot;pm&quot; : &quot;am&quot;);","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>This is what I have used, it converts 00:10 am to 12:00 am and the remaining also works fine.</p>\n<pre><code>int hourOfDay=Integer.parseInt(form24hrs);//parsing 24 hours format string value of hour to int\n\nint minute=Integer.parseInt(form24min);//parsing 24 hours format string value of minute to int\n\nString time =  ((hourOfDay &gt; 12) ? hourOfDay % 12 : ((hourOfDay==0)?&quot;12&quot;:hourOfDay)) + &quot;:&quot; + (minute &lt; 10 ? (&quot;0&quot; + minute) : minute) + &quot; &quot; + ((hourOfDay &gt;= 12) ? &quot;pm&quot; : &quot;am&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8074583,"reputation":1291,"user_id":6086086,"accept_rate":21,"display_name":"Asad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631795224,"creation_date":1631795224,"answer_id":69208433,"question_id":6907968,"body_markdown":"in a clean way you can do this:\r\n\r\n    fun convertTo12Hours(militaryTime: String): String{\r\n            //in =&gt; &quot;14:00:00&quot;\r\n            //out =&gt; &quot;02:00 PM&quot;\r\n            val inputFormat = SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.getDefault())\r\n            val outputFormat = SimpleDateFormat(&quot;hh:mm aa&quot;, Locale.getDefault())\r\n            val date = inputFormat.parse(militaryTime)\r\n            return outputFormat.format(date)\r\n        }","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>in a clean way you can do this:</p>\n<pre><code>fun convertTo12Hours(militaryTime: String): String{\n        //in =&gt; &quot;14:00:00&quot;\n        //out =&gt; &quot;02:00 PM&quot;\n        val inputFormat = SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.getDefault())\n        val outputFormat = SimpleDateFormat(&quot;hh:mm aa&quot;, Locale.getDefault())\n        val date = inputFormat.parse(militaryTime)\n        return outputFormat.format(date)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14054375,"reputation":1892,"user_id":10152189,"display_name":"Fayaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648319033,"creation_date":1648319033,"answer_id":71630715,"question_id":6907968,"body_markdown":"Kotlin version of @xianwei &#39;s answer\r\n\r\n```kotlin\r\n  val hourOfDay = timePicker.hour\r\n  val minute = timePicker.minute\r\n  val finalHour = (if (hourOfDay &gt; 12) hourOfDay % 12 else hourOfDay).toString()\r\n  val finalMinute = if (minute &lt; 10) &quot;0$minute&quot; else minute.toString()\r\n  val finalMeridian = if (hourOfDay &gt; 12) &quot;PM&quot; else &quot;AM&quot;\r\n  val time = &quot;$finalHour:$finalMinute $finalMeridian&quot;\r\n```","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>Kotlin version of @xianwei 's answer</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  val hourOfDay = timePicker.hour\n  val minute = timePicker.minute\n  val finalHour = (if (hourOfDay &gt; 12) hourOfDay % 12 else hourOfDay).toString()\n  val finalMinute = if (minute &lt; 10) &quot;0$minute&quot; else minute.toString()\n  val finalMeridian = if (hourOfDay &gt; 12) &quot;PM&quot; else &quot;AM&quot;\n  val time = &quot;$finalHour:$finalMinute $finalMeridian&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12409382,"reputation":141,"user_id":9042411,"display_name":"Abdul Basit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679314869,"creation_date":1679314869,"answer_id":75790203,"question_id":6907968,"body_markdown":"```   \r\n public static String convertYourTime(String time24) {\r\n        try {\r\n            SimpleDateFormat format24 = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n            Date time = format24.parse(time24);\r\n            SimpleDateFormat format12 = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n            return format12.format(time);\r\n        } catch (ParseException e) {\r\n            // Handle invalid input\r\n          \r\n        }\r\n\r\n    }\r\n\r\n```","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<pre><code> public static String convertYourTime(String time24) {\n        try {\n            SimpleDateFormat format24 = new SimpleDateFormat(&quot;HH:mm&quot;);\n            Date time = format24.parse(time24);\n            SimpleDateFormat format12 = new SimpleDateFormat(&quot;hh:mm a&quot;);\n            return format12.format(time);\n        } catch (ParseException e) {\n            // Handle invalid input\n          \n        }\n\n    }\n\n</code></pre>\n"}],"owner":{"account_id":272486,"reputation":3497,"user_id":563593,"accept_rate":64,"display_name":"ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102906,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":6908030,"answer_count":17,"score":53,"last_activity_date":1679314869,"creation_date":1312265737,"question_id":6907968,"body_markdown":"In my application i want to convert the given CDT formatted 24 hr string in to CDT formatted 12 hr string, How to convert a given 24 hr format string in to 12 hr format string??\r\n","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>In my application i want to convert the given CDT formatted 24 hr string in to CDT formatted 12 hr string, How to convert a given 24 hr format string in to 12 hr format string??</p>\n"},{"tags":["java","apache-spark","pyspark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679314709,"creation_date":1679314709,"answer_id":75790181,"question_id":75790104,"body_markdown":"You can simply pivot the dataframe as follows:\r\n\r\n```python\r\nfrom pyspark.sql import functions as F\r\ndataframe.groupBy(&quot;object_id&quot;)\\\r\n         .pivot(&quot;attr_name&quot;)\\\r\n         .agg(F.first(F.col(&quot;value&quot;)))\\\r\n         .show(truncate=False)\r\n```\r\n```none\r\n+------------------------------------+----+----+------+\r\n|object_id                           |age |name|number|\r\n+------------------------------------+----+----+------+\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|null|Max |32222 |\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|22  |Oleg|22222 |\r\n+------------------------------------+----+----+------+\r\n```","title":"Transformation with spark","body":"<p>You can simply pivot the dataframe as follows:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql import functions as F\ndataframe.groupBy(&quot;object_id&quot;)\\\n         .pivot(&quot;attr_name&quot;)\\\n         .agg(F.first(F.col(&quot;value&quot;)))\\\n         .show(truncate=False)\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>+------------------------------------+----+----+------+\n|object_id                           |age |name|number|\n+------------------------------------+----+----+------+\n|50b9d918-b0ab-41d4-957c-24f506ceb737|null|Max |32222 |\n|7315dcbf-6178-4aa7-97ba-8875e2542471|22  |Oleg|22222 |\n+------------------------------------+----+----+------+\n</code></pre>\n"}],"owner":{"account_id":18241934,"reputation":27,"user_id":13278816,"display_name":"Maxim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75790181,"answer_count":1,"score":0,"last_activity_date":1679314709,"creation_date":1679314242,"question_id":75790104,"body_markdown":"I have such a data table, the number of records exceeds a million rows, the unique fields attr_id, attr_name are not more than 20\r\n\r\n|object_id|attr_id|attr_name|value|\r\n|--|--|--|--|--|\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|f5af0127-fd4c-409b-afda-b896a80f7fe1|name|Oleg|\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|ebdd03e5-a380-46bd-b505-f1f166be6409|age|22|\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|735fab29-cde8-4b34-979f-864b375f820f|number|22222|\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|f5af0127-fd4c-409b-afda-b896a80f7fe1|name|Max|\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|ebdd03e5-a380-46bd-b505-f1f166be6409|age||\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|735fab29-cde8-4b34-979f-864b375f820f|number|32222|\r\n\r\nI want to transform it to this format\r\n\r\n|object_id|name|age|number|\r\n|--|--|--|--|--|\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|Oleg|22|22222|\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|Max||32222|\r\n\r\nIs it possible to do this using spark, if so, how, or what material to read?","title":"Transformation with spark","body":"<p>I have such a data table, the number of records exceeds a million rows, the unique fields attr_id, attr_name are not more than 20</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>object_id</th>\n<th>attr_id</th>\n<th>attr_name</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>7315dcbf-6178-4aa7-97ba-8875e2542471</td>\n<td>f5af0127-fd4c-409b-afda-b896a80f7fe1</td>\n<td>name</td>\n<td>Oleg</td>\n</tr>\n<tr>\n<td>7315dcbf-6178-4aa7-97ba-8875e2542471</td>\n<td>ebdd03e5-a380-46bd-b505-f1f166be6409</td>\n<td>age</td>\n<td>22</td>\n</tr>\n<tr>\n<td>7315dcbf-6178-4aa7-97ba-8875e2542471</td>\n<td>735fab29-cde8-4b34-979f-864b375f820f</td>\n<td>number</td>\n<td>22222</td>\n</tr>\n<tr>\n<td>50b9d918-b0ab-41d4-957c-24f506ceb737</td>\n<td>f5af0127-fd4c-409b-afda-b896a80f7fe1</td>\n<td>name</td>\n<td>Max</td>\n</tr>\n<tr>\n<td>50b9d918-b0ab-41d4-957c-24f506ceb737</td>\n<td>ebdd03e5-a380-46bd-b505-f1f166be6409</td>\n<td>age</td>\n<td></td>\n</tr>\n<tr>\n<td>50b9d918-b0ab-41d4-957c-24f506ceb737</td>\n<td>735fab29-cde8-4b34-979f-864b375f820f</td>\n<td>number</td>\n<td>32222</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want to transform it to this format</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>object_id</th>\n<th>name</th>\n<th>age</th>\n<th>number</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>7315dcbf-6178-4aa7-97ba-8875e2542471</td>\n<td>Oleg</td>\n<td>22</td>\n<td>22222</td>\n</tr>\n<tr>\n<td>50b9d918-b0ab-41d4-957c-24f506ceb737</td>\n<td>Max</td>\n<td></td>\n<td>32222</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Is it possible to do this using spark, if so, how, or what material to read?</p>\n"},{"tags":["java","postgresql","project-reactor","spring-data-r2dbc","r2dbc"],"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679314214,"creation_date":1679313890,"question_id":75790055,"body_markdown":"I have two entities `User` and `UserAuthority` with one to many relation like following\r\n```java\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;users&quot;)\r\n@Entity\r\npublic class User extends BaseEntity {\r\n  \r\n  @OneToMany(mappedBy = &quot;user&quot;)\r\n  private Set&lt;UserAuthority&gt; userAuthorities;\r\n  // tried this too\r\n  // private Set&lt;UserAuthority&gt; userAuthorities = new HashSet&lt;&gt;();\r\n\r\n  // ... rest of implementation\r\n}\r\n\r\n``` \r\nand `UserAuthority`\r\n```java\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;users_authorities&quot;)\r\n@Entity\r\npublic class UserAuthority extends BaseEntity {\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;user_id&quot;)\r\n  private User user;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;authority_id&quot;)\r\n  private Authority authority;\r\n}\r\n```\r\nAnd because the Nested entities are not supported yet I store the user first then store `UserAuthority`s like following\r\n```java\r\n  public Mono&lt;JwtTokens&gt; signup(String username, String password, String name) {\r\n    return createUser(username, password, name)\r\n        .map(userAuthorityService::createDefaultUserAuthorities)\r\n        .flatMap(\r\n            userAuthorityFlux -&gt;\r\n                userAuthorityFlux\r\n                    .collect(Collectors.toSet())\r\n                    .map(\r\n                        userAuthorities -&gt; {\r\n                          final var persistedUser =\r\n                              userAuthorities.stream().findFirst().get().getUser();\r\n                          return tokenEncoder.encode(persistedUser);\r\n                        }));\r\n  }\r\n\r\n  private Mono&lt;User&gt; createUser(String username, String password, String name) {\r\n    final var user = new User();\r\n    final var encodedPassword = passwordEncoder.encode(password);\r\n    user.setUsername(username);\r\n    user.setPassword(encodedPassword);\r\n    user.setName(name);\r\n    return this.userRepository.save(user);\r\n  }\r\n\r\n```\r\nwhen I try this signup method I get\r\n```\r\njava.lang.IllegalArgumentException: Unsupported array type: io.metsplit.authenticator.dal.entities.UserAuthority\r\n\tat org.springframework.data.r2dbc.dialect.PostgresDialect$R2dbcArrayColumns.getArrayType(PostgresDialect.java:164) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint  Handler io.metsplit.authenticator.controllers.apis.AuthApiImpl#_createAccount(Mono, ServerWebExchange) [DispatcherHandler]\r\n\t*__checkpoint  org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\r\n\t*__checkpoint  HTTP POST &quot;/api/v1/auth/signup&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.data.r2dbc.dialect.PostgresDialect$R2dbcArrayColumns.getArrayType(PostgresDialect.java:164) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.getArrayValue(MappingR2dbcConverter.java:566) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getArrayValue(DefaultReactiveDataAccessStrategy.java:268) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getOutboundRow(DefaultReactiveDataAccessStrategy.java:209) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat org.springframework.data.r2dbc.core.R2dbcEntityTemplate.lambda$doInsert$7(R2dbcEntityTemplate.java:586) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2060) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1840) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:238) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxEmpty.subscribe(FluxEmpty.java:42) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel.subscribe(FluxDiscardOnCancel.java:49) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:460) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:805) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:753) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:247) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:213) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:204) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.client.ReactorNettyClient$Conversation.complete(ReactorNettyClient.java:655) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.emit(ReactorNettyClient.java:921) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:797) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:703) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:294) ~[reactor-netty-core-1.0.28.jar:1.0.28]\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:403) ~[reactor-netty-core-1.0.28.jar:1.0.28]\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.28.jar:1.0.28]\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.0.28.jar:1.0.28]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\r\n```\r\nI think this exception happen after (according to my IDE&#39;s debugger) \r\n```java\r\n    return this.userRepository.save(user);\r\n```\r\nbut I&#39;m not sure why it checked `private Set&lt;UserAuthority&gt; userAuthorities` as if it was of type `UserAuthority`.\r\n\r\nNote: I&#39;m very new to project reactor and r2dbc any additional style suggestions are much apprectiated.","title":"&quot;Unsupported array type&quot; while saving object with one to many relation","body":"<p>I have two entities <code>User</code> and <code>UserAuthority</code> with one to many relation like following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Table(name = &quot;users&quot;)\n@Entity\npublic class User extends BaseEntity {\n  \n  @OneToMany(mappedBy = &quot;user&quot;)\n  private Set&lt;UserAuthority&gt; userAuthorities;\n  // tried this too\n  // private Set&lt;UserAuthority&gt; userAuthorities = new HashSet&lt;&gt;();\n\n  // ... rest of implementation\n}\n\n</code></pre>\n<p>and <code>UserAuthority</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Table(name = &quot;users_authorities&quot;)\n@Entity\npublic class UserAuthority extends BaseEntity {\n  @ManyToOne\n  @JoinColumn(name = &quot;user_id&quot;)\n  private User user;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;authority_id&quot;)\n  private Authority authority;\n}\n</code></pre>\n<p>And because the Nested entities are not supported yet I store the user first then store <code>UserAuthority</code>s like following</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public Mono&lt;JwtTokens&gt; signup(String username, String password, String name) {\n    return createUser(username, password, name)\n        .map(userAuthorityService::createDefaultUserAuthorities)\n        .flatMap(\n            userAuthorityFlux -&gt;\n                userAuthorityFlux\n                    .collect(Collectors.toSet())\n                    .map(\n                        userAuthorities -&gt; {\n                          final var persistedUser =\n                              userAuthorities.stream().findFirst().get().getUser();\n                          return tokenEncoder.encode(persistedUser);\n                        }));\n  }\n\n  private Mono&lt;User&gt; createUser(String username, String password, String name) {\n    final var user = new User();\n    final var encodedPassword = passwordEncoder.encode(password);\n    user.setUsername(username);\n    user.setPassword(encodedPassword);\n    user.setName(name);\n    return this.userRepository.save(user);\n  }\n\n</code></pre>\n<p>when I try this signup method I get</p>\n<pre><code>java.lang.IllegalArgumentException: Unsupported array type: io.metsplit.authenticator.dal.entities.UserAuthority\n    at org.springframework.data.r2dbc.dialect.PostgresDialect$R2dbcArrayColumns.getArrayType(PostgresDialect.java:164) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint  Handler io.metsplit.authenticator.controllers.apis.AuthApiImpl#_createAccount(Mono, ServerWebExchange) [DispatcherHandler]\n    *__checkpoint  org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\n    *__checkpoint  HTTP POST &quot;/api/v1/auth/signup&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at org.springframework.data.r2dbc.dialect.PostgresDialect$R2dbcArrayColumns.getArrayType(PostgresDialect.java:164) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at org.springframework.data.r2dbc.convert.MappingR2dbcConverter.getArrayValue(MappingR2dbcConverter.java:566) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getArrayValue(DefaultReactiveDataAccessStrategy.java:268) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getOutboundRow(DefaultReactiveDataAccessStrategy.java:209) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at org.springframework.data.r2dbc.core.R2dbcEntityTemplate.lambda$doInsert$7(R2dbcEntityTemplate.java:586) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2060) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1840) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:238) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxEmpty.subscribe(FluxEmpty.java:42) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel.subscribe(FluxDiscardOnCancel.java:49) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:460) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:805) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:753) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:247) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:213) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:204) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.client.ReactorNettyClient$Conversation.complete(ReactorNettyClient.java:655) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.emit(ReactorNettyClient.java:921) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:797) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:703) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:294) ~[reactor-netty-core-1.0.28.jar:1.0.28]\n        at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:403) ~[reactor-netty-core-1.0.28.jar:1.0.28]\n        at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.28.jar:1.0.28]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.0.28.jar:1.0.28]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\n</code></pre>\n<p>I think this exception happen after (according to my IDE's debugger)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    return this.userRepository.save(user);\n</code></pre>\n<p>but I'm not sure why it checked <code>private Set&lt;UserAuthority&gt; userAuthorities</code> as if it was of type <code>UserAuthority</code>.</p>\n<p>Note: I'm very new to project reactor and r2dbc any additional style suggestions are much apprectiated.</p>\n"},{"tags":["java","spring","spring-boot","lambda"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1679305572,"post_id":75788646,"comment_id":133691324,"body_markdown":"Is there any chance to change `ObjectA`, `ObjectB` and `ObjectC` to just implement a newly created `HasStartAndEndDate` interface? (oh, and as you noticed your `instanceof` checks **definitely** don&#39;t work the way you sketched it, as you&#39;re checking the `List` itself and not each members).","body":"Is there any chance to change <code>ObjectA</code>, <code>ObjectB</code> and <code>ObjectC</code> to just implement a newly created <code>HasStartAndEndDate</code> interface? (oh, and as you noticed your <code>instanceof</code> checks <b>definitely</b> don&#39;t work the way you sketched it, as you&#39;re checking the <code>List</code> itself and not each members)."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1679308066,"post_id":75788646,"comment_id":133692048,"body_markdown":"As a side-note: if you&#39;re on Java 17 or later (technically 14, but 17 is the LTS release) then you should investigate replacing the lombok annotations with plain old java `record` classes, which do most of that for you.","body":"As a side-note: if you&#39;re on Java 17 or later (technically 14, but 17 is the LTS release) then you should investigate replacing the lombok annotations with plain old java <code>record</code> classes, which do most of that for you."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1679306765,"post_id":75788753,"comment_id":133691703,"body_markdown":"Pattern matching in case is a preview feature in Java 19. Personally I wouldn&#39;t yet advertise it like this.","body":"Pattern matching in case is a preview feature in Java 19. Personally I wouldn&#39;t yet advertise it like this."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1679307094,"post_id":75788753,"comment_id":133691794,"body_markdown":"@JoachimSauer: Correct, I think it&#39;s fair to add a note.","body":"@JoachimSauer: Correct, I think it&#39;s fair to add a note."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679307066,"creation_date":1679305767,"answer_id":75788753,"question_id":75788646,"body_markdown":"Make the `ObjectA`, `ObjectB`, and `ObjectC` implement the same interface.\r\n\r\n```\r\ninterface MyObject {\r\n\tTimestamp getStartDate();\r\n\tTimestamp getEndDate();\r\n}\r\n```\r\nThen the Stream pipeline becomes simple.\r\n\r\n```\r\nreturn arrayList.stream()\r\n\t\t.filter(MyObject.class::isInstance)\r\n\t\t.map(MyObject.class::cast)\r\n\t\t.map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate()))\r\n\t\t.collect(Collectors.toList());\r\n```\r\n\r\n___\r\n\r\nIf, however, each of the `ObjectA`, `ObjectB`, and `ObjectC` objects require a different mapping to `TimeIntervalObj` object, the newer Java versions offer a solution with sealed classes and switch expressions:\r\n\r\n```\r\nsealed interface MyObject permits ObjectA, ObjectB, ObjectC { }\r\n```\r\n```\r\n@Data\r\nfinal class ObjectA implements MyObject {\r\n\tTimestamp startDate1;\r\n\tTimestamp endDate1;\r\n}\r\n\r\n@Data\r\nfinal class ObjectB implements MyObject {\r\n\tTimestamp startDate2;\r\n\tTimestamp endDate2;\r\n}\r\n\r\n@Data\r\nfinal class ObjectC implements MyObject {\r\n\tTimestamp startDate3;\r\n\tTimestamp endDate3;\r\n}\r\n```\r\n```\r\nprivate static TimeIntervalObj map(MyObject object) {\r\n\treturn switch (object) {\r\n\t\tcase ObjectA a -&gt; new TimeIntervalObj(a.getStartDate1(), a.getEndDate1());\r\n\t\tcase ObjectB b -&gt; new TimeIntervalObj(b.getStartDate2(), b.getEndDate2());\r\n\t\tcase ObjectC c -&gt; new TimeIntervalObj(c.getStartDate3(), c.getEndDate3());\r\n\t};\r\n}\r\n```\r\n```\r\nreturn arrayList.stream()\r\n        .filter(MyObject.class::isInstance)\r\n\t\t.map(object -&gt; map((MyObject) object))\r\n\t\t.collect(Collectors.toList());\r\n```\r\n\r\n**Implementation note:** You can use Java 17 with the enabled preview for newer features. Otherwise, all you are left is to use a simple if-else branching with the `instanceof` operator.","title":"Is it possible to have a list of generic instance?","body":"<p>Make the <code>ObjectA</code>, <code>ObjectB</code>, and <code>ObjectC</code> implement the same interface.</p>\n<pre><code>interface MyObject {\n    Timestamp getStartDate();\n    Timestamp getEndDate();\n}\n</code></pre>\n<p>Then the Stream pipeline becomes simple.</p>\n<pre><code>return arrayList.stream()\n        .filter(MyObject.class::isInstance)\n        .map(MyObject.class::cast)\n        .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate()))\n        .collect(Collectors.toList());\n</code></pre>\n<hr />\n<p>If, however, each of the <code>ObjectA</code>, <code>ObjectB</code>, and <code>ObjectC</code> objects require a different mapping to <code>TimeIntervalObj</code> object, the newer Java versions offer a solution with sealed classes and switch expressions:</p>\n<pre><code>sealed interface MyObject permits ObjectA, ObjectB, ObjectC { }\n</code></pre>\n<pre><code>@Data\nfinal class ObjectA implements MyObject {\n    Timestamp startDate1;\n    Timestamp endDate1;\n}\n\n@Data\nfinal class ObjectB implements MyObject {\n    Timestamp startDate2;\n    Timestamp endDate2;\n}\n\n@Data\nfinal class ObjectC implements MyObject {\n    Timestamp startDate3;\n    Timestamp endDate3;\n}\n</code></pre>\n<pre><code>private static TimeIntervalObj map(MyObject object) {\n    return switch (object) {\n        case ObjectA a -&gt; new TimeIntervalObj(a.getStartDate1(), a.getEndDate1());\n        case ObjectB b -&gt; new TimeIntervalObj(b.getStartDate2(), b.getEndDate2());\n        case ObjectC c -&gt; new TimeIntervalObj(c.getStartDate3(), c.getEndDate3());\n    };\n}\n</code></pre>\n<pre><code>return arrayList.stream()\n        .filter(MyObject.class::isInstance)\n        .map(object -&gt; map((MyObject) object))\n        .collect(Collectors.toList());\n</code></pre>\n<p><strong>Implementation note:</strong> You can use Java 17 with the enabled preview for newer features. Otherwise, all you are left is to use a simple if-else branching with the <code>instanceof</code> operator.</p>\n"},{"comments":[{"owner":{"account_id":21739251,"reputation":179,"user_id":16046846,"display_name":"Konstantinos K."},"score":0,"creation_date":1679312863,"post_id":75788913,"comment_id":133693281,"body_markdown":"Very clean solution!","body":"Very clean solution!"}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679314065,"creation_date":1679306696,"answer_id":75788913,"question_id":75788646,"body_markdown":"The clean way would be to introduce a new interface that defines the `getStartDate()` and `getEndDate()` method and make `ObjectA`, `ObjectB` and `ObjectC` implement it:\r\n\r\n```\r\npublic interface HasStartAndEndDate {\r\n    Timestamp getStartDate();\r\n    Timestamp getEndDate();\r\n}\r\n```\r\n\r\nThen your method could simply be:\r\n\r\n    public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;? extends HasStartAndEndDate&gt; arrayList) {\r\n        return arrayList.stream()\r\n                .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate()))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nIf that&#39;s not feasible for some reason (most likely because any one of the classes are not under your control), then you might have to check each objects type individually:\r\n\r\n    public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;?&gt; collection) {\r\n        return collection.stream()\r\n                .map(TimeIntervalObj::from)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public static TimeIntervalObj from(Object o) {\r\n        if (o instanceof ObjectA a) {\r\n            return new TimeIntervalObj(a.getStartDate(), a.getEndDate());\r\n        } else if (o instanceof ObjectB b) {\r\n            return new TimeIntervalObj(b.getStartDate(), b.getEndDate());\r\n        } else if (o instanceof ObjectC c) {\r\n            return new TimeIntervalObj(c.getStartDate(), c.getEndDate());\r\n        }\r\n        throw new IllegalArgumentException(&quot;Unsupported type: &quot; + o.getClass());\r\n    }\r\n\r\nThe two approaches can also be combined, if you want all classes under your control to use the interface and other classes to also be supported (let&#39;s pretend `ObjectA` and `ObjectB` now implement the interface, but `ObjectC` still doesn&#39;t):\r\n\r\n    public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;?&gt; collection) {\r\n        return collection.stream()\r\n                .map(TimeIntervalObj::from)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public static TimeIntervalObj from(HasStartAndEndDate hsed) {\r\n        return new TimeIntervalObj(hsed.getStartDate(), hsed.getEndDate());\r\n    }\r\n\r\n    public static TimeIntervalObj from(Object o) {\r\n        if (o instanceof HasStartAndEndDate hsed) {\r\n            return from(hsed);\r\n        } else if (o instanceof ObjectC c) {\r\n            return new TimeIntervalObj(c.getStartDate(), c.getEndDate());\r\n        }\r\n        throw new IllegalArgumentException(&quot;Unsupported type: &quot; + o.getClass());\r\n    }\r\n\r\nNote that the extra `from(HasStartEndDate)` method is not strictly necessary (and won&#39;t be directly called in `constructTimeIntervals` as the compiler will understand that the argument is of type `Object`), but it&#39;s better to avoid the `instanceof` shenanigans in the cases where the static type is known (for example if you directly call `TimeIntervalObj.from(someKnownObjectThatImplementsHasStartEndDate)` elsewhere in your code).","title":"Is it possible to have a list of generic instance?","body":"<p>The clean way would be to introduce a new interface that defines the <code>getStartDate()</code> and <code>getEndDate()</code> method and make <code>ObjectA</code>, <code>ObjectB</code> and <code>ObjectC</code> implement it:</p>\n<pre><code>public interface HasStartAndEndDate {\n    Timestamp getStartDate();\n    Timestamp getEndDate();\n}\n</code></pre>\n<p>Then your method could simply be:</p>\n<pre><code>public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;? extends HasStartAndEndDate&gt; arrayList) {\n    return arrayList.stream()\n            .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate()))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>If that's not feasible for some reason (most likely because any one of the classes are not under your control), then you might have to check each objects type individually:</p>\n<pre><code>public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;?&gt; collection) {\n    return collection.stream()\n            .map(TimeIntervalObj::from)\n            .collect(Collectors.toList());\n}\n\npublic static TimeIntervalObj from(Object o) {\n    if (o instanceof ObjectA a) {\n        return new TimeIntervalObj(a.getStartDate(), a.getEndDate());\n    } else if (o instanceof ObjectB b) {\n        return new TimeIntervalObj(b.getStartDate(), b.getEndDate());\n    } else if (o instanceof ObjectC c) {\n        return new TimeIntervalObj(c.getStartDate(), c.getEndDate());\n    }\n    throw new IllegalArgumentException(&quot;Unsupported type: &quot; + o.getClass());\n}\n</code></pre>\n<p>The two approaches can also be combined, if you want all classes under your control to use the interface and other classes to also be supported (let's pretend <code>ObjectA</code> and <code>ObjectB</code> now implement the interface, but <code>ObjectC</code> still doesn't):</p>\n<pre><code>public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;?&gt; collection) {\n    return collection.stream()\n            .map(TimeIntervalObj::from)\n            .collect(Collectors.toList());\n}\n\npublic static TimeIntervalObj from(HasStartAndEndDate hsed) {\n    return new TimeIntervalObj(hsed.getStartDate(), hsed.getEndDate());\n}\n\npublic static TimeIntervalObj from(Object o) {\n    if (o instanceof HasStartAndEndDate hsed) {\n        return from(hsed);\n    } else if (o instanceof ObjectC c) {\n        return new TimeIntervalObj(c.getStartDate(), c.getEndDate());\n    }\n    throw new IllegalArgumentException(&quot;Unsupported type: &quot; + o.getClass());\n}\n</code></pre>\n<p>Note that the extra <code>from(HasStartEndDate)</code> method is not strictly necessary (and won't be directly called in <code>constructTimeIntervals</code> as the compiler will understand that the argument is of type <code>Object</code>), but it's better to avoid the <code>instanceof</code> shenanigans in the cases where the static type is known (for example if you directly call <code>TimeIntervalObj.from(someKnownObjectThatImplementsHasStartEndDate)</code> elsewhere in your code).</p>\n"}],"owner":{"account_id":21739251,"reputation":179,"user_id":16046846,"display_name":"Konstantinos K."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788913,"answer_count":2,"score":0,"last_activity_date":1679314065,"creation_date":1679305245,"question_id":75788646,"body_markdown":"I have three objects that contain some fields, but two of the fields are start date and end date.\r\n\r\nI have another Wrapper class that contains two fields (startDate and endDate) and a constructor.\r\n\r\nI want to create a generic method that accepts ObjectA, ObjectB, ObjectC and returns me a list of times containing the start date, end date.\r\n\r\nIs there a better way to make it more dynamic?\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class TimeIntervalObj {\r\n    \r\n        private Timestamp startDate;\r\n        private Timestamp endDate;\r\n    \r\n        public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(List&lt;?&gt; arrayList) {\r\n            if (arrayList instanceof ObjectA) {\r\n                return arrayList.stream()\r\n                        .map(ObjectA.class::cast)\r\n                        .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\r\n            } else if (arrayList instanceof ObjectB) {\r\n                return arrayList.stream()\r\n                        .map(ObjectB.class::cast)\r\n                        .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\r\n            } else if (arrayList instanceof ObjectC) {\r\n                return arrayList.stream()\r\n                        .map(ObjectC.class::cast)\r\n                        .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\r\n            }\r\n            throw new RuntimeException(&quot;Instance Error Type Incompatibility&quot;);\r\n        }\r\n    \r\n    }","title":"Is it possible to have a list of generic instance?","body":"<p>I have three objects that contain some fields, but two of the fields are start date and end date.</p>\n<p>I have another Wrapper class that contains two fields (startDate and endDate) and a constructor.</p>\n<p>I want to create a generic method that accepts ObjectA, ObjectB, ObjectC and returns me a list of times containing the start date, end date.</p>\n<p>Is there a better way to make it more dynamic?</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class TimeIntervalObj {\n\n    private Timestamp startDate;\n    private Timestamp endDate;\n\n    public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(List&lt;?&gt; arrayList) {\n        if (arrayList instanceof ObjectA) {\n            return arrayList.stream()\n                    .map(ObjectA.class::cast)\n                    .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\n        } else if (arrayList instanceof ObjectB) {\n            return arrayList.stream()\n                    .map(ObjectB.class::cast)\n                    .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\n        } else if (arrayList instanceof ObjectC) {\n            return arrayList.stream()\n                    .map(ObjectC.class::cast)\n                    .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\n        }\n        throw new RuntimeException(&quot;Instance Error Type Incompatibility&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","selenium-webdriver","noclassdeffounderror"],"comments":[{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1679313649,"post_id":75790008,"comment_id":133693483,"body_markdown":"Did you packed jar properly . may be you can unzip and verify all classes as exception is for unable to find few classes at run time","body":"Did you packed jar properly . may be you can unzip and verify all classes as exception is for unable to find few classes at run time"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1679314183,"post_id":75790008,"comment_id":133693637,"body_markdown":"by default your dependencies are not part of the jar file. Use the jar-with-dependencies thing in maven.","body":"by default your dependencies are not part of the jar file. Use the jar-with-dependencies thing in maven."}],"owner":{"account_id":27751884,"reputation":1,"user_id":21438480,"display_name":"zotov_l88"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679314727,"answer_count":0,"score":0,"last_activity_date":1679313569,"creation_date":1679313569,"question_id":75790008,"body_markdown":"I have a program that connects Selenium. The program opens the page in the browser, logs in, regularly updates the page and sends me an email if there is a change.\r\nMy system Linux Mint 21.1. I use maven.\r\nIf I run it in IntelliJ IDEA it works. I collect the jar file, run it in terminal and get the error:\r\n\r\n\r\n```\r\nuser@user-HYM-WXX:~/Desktop/sender$ java -jar sendmailer.jar\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\r\n\tat org.example.App.main(App.java:16)\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 1 more\r\n\r\n```\r\n\r\n**My pow.xml:**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sendmailer&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;org.example.App&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.qsy7.java.modules.browser.drivers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;firefoxdriver&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nI tried changing versions Selenium in dependency but it didn&#39;t work.","title":"Program works in IntelliJ IDEA but doesn&#39;t run in terminal. Problem with WebDriver","body":"<p>I have a program that connects Selenium. The program opens the page in the browser, logs in, regularly updates the page and sends me an email if there is a change.\nMy system Linux Mint 21.1. I use maven.\nIf I run it in IntelliJ IDEA it works. I collect the jar file, run it in terminal and get the error:</p>\n<pre><code>user@user-HYM-WXX:~/Desktop/sender$ java -jar sendmailer.jar\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\n    at org.example.App.main(App.java:16)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 1 more\n\n</code></pre>\n<p><strong>My pow.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sendmailer&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;org.example.App&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.qsy7.java.modules.browser.drivers&lt;/groupId&gt;\n            &lt;artifactId&gt;firefoxdriver&lt;/artifactId&gt;\n            &lt;version&gt;0.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I tried changing versions Selenium in dependency but it didn't work.</p>\n"},{"tags":["java","flyway"],"answers":[{"tags":[],"owner":{"account_id":6677719,"reputation":754,"user_id":5151861,"display_name":"iamtodor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679313564,"creation_date":1679313564,"answer_id":75790006,"question_id":56038687,"body_markdown":"&gt; &quot;Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 1 (BASELINE)&quot;\r\n\r\nit means that you ran migrate before and it failed at 1 for some reason. You need to identify why the previous migration failed at 1 and solve it if you have not already done so.\r\nOnce solved you need to run `flyway repair` to tell the flyway that whatever failed is out of the way. \r\n\r\nDepending on how you set up and run `flyway` there are a few options to run repair:\r\n- if this is maven based project, run `mvn flyway:repair` in the console. if using intelliJ you have this in maven plugins `maven -&gt; &lt;service name&gt; -&gt; plugins -&gt; flyway -&gt; flyway:repair`\r\n- if this is some other project (i.e., flyway was installed with `brew`) then just run `flyway repair` in console\r\n\r\nIf it fails again, you are back on step 1.","title":"How to fix &#39;Validate failed: Detected failed migration to version 1(BASELINE)&#39; flyway error?","body":"<blockquote>\n<p>&quot;Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 1 (BASELINE)&quot;</p>\n</blockquote>\n<p>it means that you ran migrate before and it failed at 1 for some reason. You need to identify why the previous migration failed at 1 and solve it if you have not already done so.\nOnce solved you need to run <code>flyway repair</code> to tell the flyway that whatever failed is out of the way.</p>\n<p>Depending on how you set up and run <code>flyway</code> there are a few options to run repair:</p>\n<ul>\n<li>if this is maven based project, run <code>mvn flyway:repair</code> in the console. if using intelliJ you have this in maven plugins <code>maven -&gt; &lt;service name&gt; -&gt; plugins -&gt; flyway -&gt; flyway:repair</code></li>\n<li>if this is some other project (i.e., flyway was installed with <code>brew</code>) then just run <code>flyway repair</code> in console</li>\n</ul>\n<p>If it fails again, you are back on step 1.</p>\n"}],"owner":{"account_id":9081266,"reputation":103,"user_id":6761031,"display_name":"D.Kaushish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1512,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679313564,"creation_date":1557311503,"question_id":56038687,"body_markdown":"I imported in a dataset with table creation for my app. However, when I try to start my server and during the time of ear deployment, I encounter an error with Flyway migration. The error is :\r\n\r\n`Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 1 (BASELINE)`\r\n \r\n\r\nI have checked that all database information is correct in dev.xml and have checked for errors in flyway_schema_history but none are present.\r\n\r\nI have previously seen a communication link error but now that has disappeared. Could someone shed light on the issue because I don&#39;t feel like any of the scripts are running including the BASELINE?\r\n\r\nStack trace of error:\r\n\r\n```java\r\n2019-04-10 16:54:48,544 ERROR [com.cognitran.isis.model.migration.TopixFlywayIntegrator] (ServerService Thread Pool -- 2) Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected &gt;failed migration to version 1 (BASELINE)```\r\n\tat org.flywaydb.core.Flyway.doValidate(Flyway.java:1375)\r\n\tat org.flywaydb.core.Flyway.access$100(Flyway.java:82)\r\n\tat org.flywaydb.core.Flyway$1.execute(Flyway.java:1257)\r\n\tat org.flywaydb.core.Flyway$1.execute(Flyway.java:1249)\r\n\tat org.flywaydb.core.Flyway.execute(Flyway.java:1604)\r\n\tat org.flywaydb.core.Flyway.migrate(Flyway.java:1249)\r\n```","title":"How to fix &#39;Validate failed: Detected failed migration to version 1(BASELINE)&#39; flyway error?","body":"<p>I imported in a dataset with table creation for my app. However, when I try to start my server and during the time of ear deployment, I encounter an error with Flyway migration. The error is :</p>\n\n<p><code>Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 1 (BASELINE)</code></p>\n\n<p>I have checked that all database information is correct in dev.xml and have checked for errors in flyway_schema_history but none are present.</p>\n\n<p>I have previously seen a communication link error but now that has disappeared. Could someone shed light on the issue because I don't feel like any of the scripts are running including the BASELINE?</p>\n\n<p>Stack trace of error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>2019-04-10 16:54:48,544 ERROR [com.cognitran.isis.model.migration.TopixFlywayIntegrator] (ServerService Thread Pool -- 2) Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected &gt;failed migration to version 1 (BASELINE)```\n    at org.flywaydb.core.Flyway.doValidate(Flyway.java:1375)\n    at org.flywaydb.core.Flyway.access$100(Flyway.java:82)\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:1257)\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:1249)\n    at org.flywaydb.core.Flyway.execute(Flyway.java:1604)\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:1249)\n</code></pre>\n"},{"tags":["java","hibernate","hql"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679150853,"post_id":75776565,"comment_id":133671714,"body_markdown":"Where conditions must be concatenated with AND not with comma.","body":"Where conditions must be concatenated with AND not with comma."},{"owner":{"account_id":12275876,"reputation":3,"user_id":8959623,"display_name":"Aniket"},"score":0,"creation_date":1679151079,"post_id":75776565,"comment_id":133671751,"body_markdown":"@Jens i have tried using AND it still generates Error [java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: AND ]","body":"@Jens i have tried using AND it still generates Error [java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: AND ]"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679151166,"post_id":75776565,"comment_id":133671760,"body_markdown":"CAn you show the query with and.","body":"CAn you show the query with and."},{"owner":{"account_id":12275876,"reputation":3,"user_id":8959623,"display_name":"Aniket"},"score":0,"creation_date":1679151439,"post_id":75776565,"comment_id":133671808,"body_markdown":"@Jens \nString query1 = &quot;update hollywood set &quot; + &quot;name = :m_name AND &quot; + &quot;timing = :m_timing AND &quot; + &quot;price = :m_price &quot; + &quot;where name = :mname AND &quot; + &quot;timing = :mtiming AND &quot; + &quot;price = :mprice&quot;;","body":"@Jens  String query1 = &quot;update hollywood set &quot; + &quot;name = :m_name AND &quot; + &quot;timing = :m_timing AND &quot; + &quot;price = :m_price &quot; + &quot;where name = :mname AND &quot; + &quot;timing = :mtiming AND &quot; + &quot;price = :mprice&quot;;"},{"owner":{"account_id":12275876,"reputation":3,"user_id":8959623,"display_name":"Aniket"},"score":0,"creation_date":1679151504,"post_id":75776565,"comment_id":133671819,"body_markdown":"java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: AND near line 1, column 37 [update hollywood set name = :m_name AND timing = :m_timing AND price = :m_price where name = :mname AND timing = :mtiming AND price = :mprice]","body":"java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: AND near line 1, column 37 [update hollywood set name = :m_name AND timing = :m_timing AND price = :m_price where name = :mname AND timing = :mtiming AND price = :mprice]"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1679151515,"post_id":75776565,"comment_id":133671823,"body_markdown":"The set part must be separated with comma and where conditions with AND.","body":"The set part must be separated with comma and where conditions with AND."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679151578,"post_id":75776565,"comment_id":133671841,"body_markdown":"String query1 = &quot;update hollywood set &quot; + &quot;name = :m_name , &quot; + &quot;timing = :m_timing , &quot; + &quot;price = :m_price &quot; + &quot;where name = :mname AND &quot; + &quot;timing = :mtiming AND &quot; + &quot;price = :mprice&quot;;","body":"String query1 = &quot;update hollywood set &quot; + &quot;name = :m_name , &quot; + &quot;timing = :m_timing , &quot; + &quot;price = :m_price &quot; + &quot;where name = :mname AND &quot; + &quot;timing = :mtiming AND &quot; + &quot;price = :mprice&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":7569237,"reputation":1328,"user_id":5743711,"accept_rate":90,"display_name":"Samer Aamar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679313284,"creation_date":1679206406,"answer_id":75780366,"question_id":75776565,"body_markdown":"In the &quot;where&quot; statement you must not use commas.\r\n\r\nyour code:\r\n\r\n        String query1 = &quot;update hollywood set &quot;\r\n                + &quot;name = :m_name ,&quot;\r\n                + &quot;timing = :m_timing ,&quot;\r\n                + &quot;price = :m_price &quot;\r\n                + &quot;where name = :mname ,&quot;\r\n                + &quot;timing = :mtiming ,&quot;\r\n                + &quot;price = :mprice&quot;;\r\n\r\nso it will translate into \r\n\r\n    update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price **where** name = :mname ,timing = :mtiming ,price = :mprice\r\n\r\n\r\nNotice the `where` keyword in the middle.\r\nso, if you want to update name, timing and price **where** name is mname AND timing = mtiming AND price = mprice you should change into the following:\r\n\r\n            String query1 = &quot;update hollywood set &quot;\r\n                    + &quot;name = :m_name ,&quot;\r\n                    + &quot;timing = :m_timing ,&quot;\r\n                    + &quot;price = :m_price &quot;\r\n                    + &quot;where name = :mname AND &quot;\r\n                    + &quot;timing = :mtiming AND &quot;\r\n                    + &quot;price = :mprice&quot;;\r\n\r\nthis will translate into:\r\n    update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price **where** name = :mname AND timing = :mtiming AND price = :mprice\r\n\r\n\r\n**Note:** the space after the `AND` keyword is important","title":"(Hibernate HQL update query) org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found &#39;,&#39;","body":"<p>In the &quot;where&quot; statement you must not use commas.</p>\n<p>your code:</p>\n<pre><code>    String query1 = &quot;update hollywood set &quot;\n            + &quot;name = :m_name ,&quot;\n            + &quot;timing = :m_timing ,&quot;\n            + &quot;price = :m_price &quot;\n            + &quot;where name = :mname ,&quot;\n            + &quot;timing = :mtiming ,&quot;\n            + &quot;price = :mprice&quot;;\n</code></pre>\n<p>so it will translate into</p>\n<pre><code>update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price **where** name = :mname ,timing = :mtiming ,price = :mprice\n</code></pre>\n<p>Notice the <code>where</code> keyword in the middle.\nso, if you want to update name, timing and price <strong>where</strong> name is mname AND timing = mtiming AND price = mprice you should change into the following:</p>\n<pre><code>        String query1 = &quot;update hollywood set &quot;\n                + &quot;name = :m_name ,&quot;\n                + &quot;timing = :m_timing ,&quot;\n                + &quot;price = :m_price &quot;\n                + &quot;where name = :mname AND &quot;\n                + &quot;timing = :mtiming AND &quot;\n                + &quot;price = :mprice&quot;;\n</code></pre>\n<p>this will translate into:\nupdate hollywood set name = :m_name ,timing = :m_timing ,price = :m_price <strong>where</strong> name = :mname AND timing = :mtiming AND price = :mprice</p>\n<p><strong>Note:</strong> the space after the <code>AND</code> keyword is important</p>\n"}],"owner":{"account_id":12275876,"reputation":3,"user_id":8959623,"display_name":"Aniket"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75780366,"answer_count":1,"score":-1,"last_activity_date":1679313284,"creation_date":1679150583,"question_id":75776565,"body_markdown":"HQL query to update table with multiple parameters whereas search for old parameters to update\r\n\r\n**hibernate.cfg.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/database&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;4&lt;/property&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n**Hibernate code:**\r\n\r\n```\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.query.Query;\r\n\r\nservlet method {\r\n SessionFactory factory = new Configuration()\r\n.configure(&quot;hibernate.cfg.xml&quot;)\r\n.addAnnotatedClass(BollyWood.class)\r\n.addAnnotatedClass(HollyWood.class)\r\n.buildSessionFactory();\r\nSession se = factory.getCurrentSession();\r\n\r\n        try {\r\n            se.beginTransaction();\r\n            \r\n            \r\n                String query1 = &quot;update hollywood set &quot;\r\n                        + &quot;name = :m_name ,&quot;\r\n                        + &quot;timing = :m_timing ,&quot;\r\n                        + &quot;price = :m_price &quot;\r\n                        + &quot;where name = :mname ,&quot;\r\n                        + &quot;timing = :mtiming ,&quot;\r\n                        + &quot;price = :mprice&quot;;\r\n\r\n\r\n                 // Generating error for `,` separating different parameters\r\n               \r\n                Query query = se.createQuery(query1);\r\n                query.setParameter(&quot;m_name&quot;, m_name);\r\n                query.setParameter(&quot;m_timing&quot;, m_timing);\r\n                query.setParameter(&quot;m_price&quot;, m_price);\r\n                query.setParameter(&quot;mname&quot;, mname);\r\n                query.setParameter(&quot;mtiming&quot;, mtiming);\r\n                query.setParameter(&quot;mprice&quot;, mprice);\r\n    \r\n                query.executeUpdate();\r\n    \r\n            } catch (Exception e) {\r\n            System.out.println(e);\r\n        } finally {\r\n            se.close();\r\n            factory.close();\r\n        }\r\n}\r\n```\r\n\r\n**Run logs**\r\n\r\n```\r\n18-Mar-2023 19:28:37.722 INFO [http-nio-18080-exec-9] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.stop HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/database]\r\n18-Mar-2023 19:29:09.594 WARN [http-nio-18080-exec-8] org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver.resolveEntity HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\r\n18-Mar-2023 19:29:09.674 WARN [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n18-Mar-2023 19:29:09.674 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/database]\r\n18-Mar-2023 19:29:09.675 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001001: Connection properties: {user=root, password=****}\r\n18-Mar-2023 19:29:09.675 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001003: Autocommit mode: false\r\n18-Mar-2023 19:29:09.676 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.PooledConnections.&lt;init&gt; HHH000115: Hibernate connection pool size: 4 (min=1)\r\n18-Mar-2023 19:29:09.684 INFO [http-nio-18080-exec-8] org.hibernate.dialect.Dialect.&lt;init&gt; HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n18-Mar-2023 19:29:09.740 INFO [http-nio-18080-exec-8] org.hibernate.hql.internal.QueryTranslatorFactoryInitiator.initiateService HHH000397: Using ASTQueryTranslatorFactory\r\n18-Mar-2023 19:29:09.746 ERROR [http-nio-18080-exec-8] org.hibernate.hql.internal.ast.ErrorCounter.reportError line 1:95: expecting EOF, found &#39;,&#39;\r\n18-Mar-2023 19:29:09.746 ERROR [http-nio-18080-exec-8] org.hibernate.hql.internal.ast.ErrorCounter.reportError line 1:95: expecting EOF, found &#39;,&#39;\r\n\tline 1:95: expecting EOF, found &#39;,&#39;\r\njava.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found &#39;,&#39; near line 1, column 95 [update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price where name = :mname ,timing = :mtiming ,price = :mprice]\r\n\t\tat antlr.Parser.match(Parser.java:211)\r\n\t\tat org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:215)\r\n\t\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)\r\n\t\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)\r\n\t\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\r\n\t\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\r\n\t\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\r\n\t\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\r\n\t\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)\r\n\t\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\r\n\t\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:355)\r\n\t\tat com.sun.proxy.$Proxy31.createQuery(Unknown Source)\r\n\t\tat com.example.AdminChangeServlet.doGet(AdminChangeServlet.java:61)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:750)\r\n18-Mar-2023 19:29:09.838 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.stop HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/database]\r\n```\r\n\r\n**Jars:** hibernate-search-5.8.0.Final and mysql-connector-java-5.1.14\r\n\r\nhave tried:\r\n1\\.[Update several Columns in one Hibernate Query? StackOverflow question](https://stackoverflow.com/questions/12296499/update-several-columns-in-one-hibernate-query),\r\n\r\n2\\.[QuerySyntaxException](https://stackoverflow.com/questions/50724073/org-hibernate-hql-internal-ast-querysyntaxexception-unexpected-token-asf-is-al)","title":"(Hibernate HQL update query) org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found &#39;,&#39;","body":"<p>HQL query to update table with multiple parameters whereas search for old parameters to update</p>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/database&lt;/property&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;4&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>Hibernate code:</strong></p>\n<pre><code>import org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.query.Query;\n\nservlet method {\n SessionFactory factory = new Configuration()\n.configure(&quot;hibernate.cfg.xml&quot;)\n.addAnnotatedClass(BollyWood.class)\n.addAnnotatedClass(HollyWood.class)\n.buildSessionFactory();\nSession se = factory.getCurrentSession();\n\n        try {\n            se.beginTransaction();\n            \n            \n                String query1 = &quot;update hollywood set &quot;\n                        + &quot;name = :m_name ,&quot;\n                        + &quot;timing = :m_timing ,&quot;\n                        + &quot;price = :m_price &quot;\n                        + &quot;where name = :mname ,&quot;\n                        + &quot;timing = :mtiming ,&quot;\n                        + &quot;price = :mprice&quot;;\n\n\n                 // Generating error for `,` separating different parameters\n               \n                Query query = se.createQuery(query1);\n                query.setParameter(&quot;m_name&quot;, m_name);\n                query.setParameter(&quot;m_timing&quot;, m_timing);\n                query.setParameter(&quot;m_price&quot;, m_price);\n                query.setParameter(&quot;mname&quot;, mname);\n                query.setParameter(&quot;mtiming&quot;, mtiming);\n                query.setParameter(&quot;mprice&quot;, mprice);\n    \n                query.executeUpdate();\n    \n            } catch (Exception e) {\n            System.out.println(e);\n        } finally {\n            se.close();\n            factory.close();\n        }\n}\n</code></pre>\n<p><strong>Run logs</strong></p>\n<pre><code>18-Mar-2023 19:28:37.722 INFO [http-nio-18080-exec-9] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.stop HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/database]\n18-Mar-2023 19:29:09.594 WARN [http-nio-18080-exec-8] org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver.resolveEntity HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\n18-Mar-2023 19:29:09.674 WARN [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure HHH10001002: Using Hibernate built-in connection pool (not for production use!)\n18-Mar-2023 19:29:09.674 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/database]\n18-Mar-2023 19:29:09.675 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001001: Connection properties: {user=root, password=****}\n18-Mar-2023 19:29:09.675 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001003: Autocommit mode: false\n18-Mar-2023 19:29:09.676 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.PooledConnections.&lt;init&gt; HHH000115: Hibernate connection pool size: 4 (min=1)\n18-Mar-2023 19:29:09.684 INFO [http-nio-18080-exec-8] org.hibernate.dialect.Dialect.&lt;init&gt; HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n18-Mar-2023 19:29:09.740 INFO [http-nio-18080-exec-8] org.hibernate.hql.internal.QueryTranslatorFactoryInitiator.initiateService HHH000397: Using ASTQueryTranslatorFactory\n18-Mar-2023 19:29:09.746 ERROR [http-nio-18080-exec-8] org.hibernate.hql.internal.ast.ErrorCounter.reportError line 1:95: expecting EOF, found ','\n18-Mar-2023 19:29:09.746 ERROR [http-nio-18080-exec-8] org.hibernate.hql.internal.ast.ErrorCounter.reportError line 1:95: expecting EOF, found ','\n    line 1:95: expecting EOF, found ','\njava.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found ',' near line 1, column 95 [update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price where name = :mname ,timing = :mtiming ,price = :mprice]\n        at antlr.Parser.match(Parser.java:211)\n        at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:215)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\n        at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\n        at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)\n        at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\n        at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:355)\n        at com.sun.proxy.$Proxy31.createQuery(Unknown Source)\n        at com.example.AdminChangeServlet.doGet(AdminChangeServlet.java:61)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:750)\n18-Mar-2023 19:29:09.838 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.stop HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/database]\n</code></pre>\n<p><strong>Jars:</strong> hibernate-search-5.8.0.Final and mysql-connector-java-5.1.14</p>\n<p>have tried:\n1.<a href=\"https://stackoverflow.com/questions/12296499/update-several-columns-in-one-hibernate-query\">Update several Columns in one Hibernate Query? StackOverflow question</a>,</p>\n<p>2.<a href=\"https://stackoverflow.com/questions/50724073/org-hibernate-hql-internal-ast-querysyntaxexception-unexpected-token-asf-is-al\">QuerySyntaxException</a></p>\n"},{"tags":["java","spring","spring-boot","apache-spark"],"comments":[{"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"score":0,"creation_date":1679292460,"post_id":75787001,"comment_id":133688534,"body_markdown":"try adding `javax.servlet` to your pom.xml","body":"try adding <code>javax.servlet</code> to your pom.xml"},{"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"score":0,"creation_date":1679312471,"post_id":75787001,"comment_id":133693184,"body_markdown":"@SanuKhan Thank you. Just adding `javax.servlet` not enough. I still got the same error. I have posted my answer below.","body":"@SanuKhan Thank you. Just adding <code>javax.servlet</code> not enough. I still got the same error. I have posted my answer below."}],"answers":[{"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1679313095,"post_id":75788060,"comment_id":133693334,"body_markdown":"3.1.0 is an older version, the latest is 4.0.1","body":"3.1.0 is an older version, the latest is 4.0.1"}],"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679301645,"creation_date":1679301645,"answer_id":75788060,"question_id":75787001,"body_markdown":"You are missing the class javax.servlet.http.HttpServlet, you need to add it in your pom.xml or equivalent:\r\n\r\nhttps://mvnrepository.com/artifact/javax.servlet/javax.servlet-api/3.1.0\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest with Apache Spark in SpringBoot with ApplicationRunner","body":"<p>You are missing the class javax.servlet.http.HttpServlet, you need to add it in your pom.xml or equivalent:</p>\n<p><a href=\"https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api/3.1.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api/3.1.0</a></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679312409,"creation_date":1679312409,"answer_id":75789826,"question_id":75787001,"body_markdown":"Thank you for the responses. Although, `jakarata.servlet-api` already exists in Apache Spark. It still needed `javax.servlet-api`. Adding just `javax.servlet-api` did not resolve the issue. I was able to resolve this issue by adding these in the pom.xml\r\n\r\n\t      &lt;dependency&gt;\r\n\t\t\t &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t &lt;/dependency&gt;\r\n\t\t &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n           &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n           &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n          &lt;version&gt;3.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n           &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n           &lt;version&gt;3.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest with Apache Spark in SpringBoot with ApplicationRunner","body":"<p>Thank you for the responses. Although, <code>jakarata.servlet-api</code> already exists in Apache Spark. It still needed <code>javax.servlet-api</code>. Adding just <code>javax.servlet-api</code> did not resolve the issue. I was able to resolve this issue by adding these in the pom.xml</p>\n<pre><code>      &lt;dependency&gt;\n         &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n         &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n         &lt;version&gt;3.1.0&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n        &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n        &lt;version&gt;4.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;artifactId&gt;janino&lt;/artifactId&gt;\n       &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n      &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n       &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n       &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679313026,"creation_date":1679313026,"answer_id":75789915,"question_id":75787001,"body_markdown":"Add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nBut also before you even fix it, if you use java 17 may be switch to SpringBoot 3.0? Because the versions that you use are older versions\r\n","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest with Apache Spark in SpringBoot with ApplicationRunner","body":"<p>Add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But also before you even fix it, if you use java 17 may be switch to SpringBoot 3.0? Because the versions that you use are older versions</p>\n"}],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":927,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75789826,"answer_count":3,"score":1,"last_activity_date":1679313026,"creation_date":1679292272,"question_id":75787001,"body_markdown":"I am trying to run `Apache Spark 3.3.2` with `Spring Boot 2.6.6` with `ApplicationRunner` Java 17 Mac OS; I have set this in the `application.properties`: `spring.main.web-application-type=none`\r\n\r\nSpring\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication implements ApplicationRunner {\r\n\r\n    private final MyService myService;\r\n\r\n    public MyApplication(MyService myService) {\r\n        this.myService = myService;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        myService.process(args);\r\n    }\r\n    }\r\n\r\nApache Spark session in `MyService`\r\n\r\n    SparkSession spark = SparkSession.builder()\r\n                .master(&quot;local[*]&quot;)\r\n                .config(&quot;spark.ui.enabled&quot;, &quot;false&quot;)\r\n                .getOrCreate();\r\n\r\npom.xml\r\n```xml\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI get this error when I try to start the Spark Session:\r\n\r\n\r\n    java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest\r\n    \tat org.apache.spark.metrics.sink.MetricsServlet.getHandlers(MetricsServlet.scala:51) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat org.apache.spark.metrics.MetricsSystem.$anonfun$getServletHandlers$2(MetricsSystem.scala:90) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat scala.Option.map(Option.scala:242) ~[scala-library-2.13.8.jar:?]\r\n    \tat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:90) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:660) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2714) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953) ~[spark-sql_2.13-3.3.2.jar:3.3.2]\r\n    \tat scala.Option.getOrElse(Option.scala:201) ~[scala-library-2.13.8.jar:?]\r\n    \tat org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947) ~[spark-sql_2.13-3.3.2.jar:3.3.2]\r\n    \tat com.boomi.intelligence.MyService.process(MyService.java:48) ~[classes/:?]\r\n    \tat com.boomi.intelligence.MyApplication.run(MyApplication.java:31) ~[classes/:?]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat com.boomi.intelligence.MyApplication.main(MyApplication.java:24) ~[classes/:?]\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\r\n    \tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n    \tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\r\n\r\nPlease advise.","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest with Apache Spark in SpringBoot with ApplicationRunner","body":"<p>I am trying to run <code>Apache Spark 3.3.2</code> with <code>Spring Boot 2.6.6</code> with <code>ApplicationRunner</code> Java 17 Mac OS; I have set this in the <code>application.properties</code>: <code>spring.main.web-application-type=none</code></p>\n<p>Spring</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication implements ApplicationRunner {\n\nprivate final MyService myService;\n\npublic MyApplication(MyService myService) {\n    this.myService = myService;\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(MyApplication.class, args);\n}\n\n@Override\npublic void run(ApplicationArguments args) throws Exception {\n    myService.process(args);\n}\n}\n</code></pre>\n<p>Apache Spark session in <code>MyService</code></p>\n<pre><code>SparkSession spark = SparkSession.builder()\n            .master(&quot;local[*]&quot;)\n            .config(&quot;spark.ui.enabled&quot;, &quot;false&quot;)\n            .getOrCreate();\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I get this error when I try to start the Spark Session:</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest\n    at org.apache.spark.metrics.sink.MetricsServlet.getHandlers(MetricsServlet.scala:51) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at org.apache.spark.metrics.MetricsSystem.$anonfun$getServletHandlers$2(MetricsSystem.scala:90) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at scala.Option.map(Option.scala:242) ~[scala-library-2.13.8.jar:?]\n    at org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:90) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:660) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2714) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953) ~[spark-sql_2.13-3.3.2.jar:3.3.2]\n    at scala.Option.getOrElse(Option.scala:201) ~[scala-library-2.13.8.jar:?]\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947) ~[spark-sql_2.13-3.3.2.jar:3.3.2]\n    at com.boomi.intelligence.MyService.process(MyService.java:48) ~[classes/:?]\n    at com.boomi.intelligence.MyApplication.run(MyApplication.java:31) ~[classes/:?]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at com.boomi.intelligence.MyApplication.main(MyApplication.java:24) ~[classes/:?]\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n</code></pre>\n<p>Please advise.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":930,"user_id":4058604,"display_name":"Mert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679312928,"creation_date":1679312928,"answer_id":75789900,"question_id":75778217,"body_markdown":"It is nested 2 array and inside 1 object. Try to get response with nested arrays:\r\n```\r\n@GET(&quot;nflTeamDataArray&quot;)\r\n    fun getPlayerData(\r\n    ):Call&lt;List&lt;List&lt;PlayerData&gt;&gt;&gt;\r\n```\r\nAnd change other parts of the code to suit this structure. This should give you object directly.","title":"onFailure: Expected BEGIN_OBJECT but was BEGIN_ARRAY at path $[0]","body":"<p>It is nested 2 array and inside 1 object. Try to get response with nested arrays:</p>\n<pre><code>@GET(&quot;nflTeamDataArray&quot;)\n    fun getPlayerData(\n    ):Call&lt;List&lt;List&lt;PlayerData&gt;&gt;&gt;\n</code></pre>\n<p>And change other parts of the code to suit this structure. This should give you object directly.</p>\n"}],"owner":{"account_id":28047037,"reputation":1,"user_id":21423610,"display_name":"Zmoney1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679312928,"creation_date":1679168018,"question_id":75778217,"body_markdown":"Im trying to parse this API but I don&#39;t think my data classes are set up correctly\r\n\r\nConnected Sleeper API\r\n\r\n```\r\npackage com.example.drafttime.api\r\n\r\nimport com.example.drafttime.data.PlayerData\r\nimport com.example.drafttime.data.PlayerInfo\r\nimport retrofit2.Call\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.moshi.MoshiConverterFactory\r\nimport retrofit2.http.GET\r\n\r\n\r\n// This file is our interface with the Sleeper api to get player data\r\ninterface ConnectedSleeper {\r\n\r\n    @GET(&quot;nflTeamDataArray&quot;)\r\n    fun getPlayerData(\r\n    ):Call&lt;List&lt;PlayerData&gt;&gt;\r\n    companion object{\r\n\r\n        private const val BASE_URL =  &quot;http://10.0.2.2:8080/&quot;\r\n        fun create(): ConnectedSleeper {\r\n\r\n            return Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .addConverterFactory(MoshiConverterFactory.create())\r\n                .build()\r\n                .create(ConnectedSleeper::class.java)\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPlayerData.kt data class\r\n\r\n```\r\npackage com.example.drafttime.data\r\n\r\nimport com.squareup.moshi.Json\r\nimport com.squareup.moshi.JsonClass\r\n\r\n@JsonClass(generateAdapter = true)\r\n\r\ndata class PlayerData(\r\n\r\n  val team: List&lt;Player&gt;\r\n\r\n\r\n):java.io.Serializable\r\n@JsonClass(generateAdapter = true)\r\n\r\ndata class Player(\r\n  val player: List&lt;PlayerInfo&gt;\r\n\r\n):java.io.Serializable\r\n```\r\n\r\nPlayerInfo.kt\r\n\r\n```\r\npackage com.example.drafttime.data\r\n\r\nimport com.squareup.moshi.Json\r\nimport com.squareup.moshi.JsonClass\r\n\r\n\r\n@JsonClass(generateAdapter = true)\r\n\r\ndata class PlayerInfo(\r\n    @Json(name = &quot;birth_date&quot;) val birthDate: String?,\r\n@Json(name = &quot;full_name&quot;) val fullName: String?,\r\n@Json(name = &quot;college&quot;) val college: String?,\r\n@Json(name = &quot;team&quot;) val team : String?,\r\n@Json(name = &quot;position&quot;) val postion: String?,\r\n@Json(name = &quot;number&quot;) val number: Int?,\r\n@Json(name = &quot;age&quot;) val age: String?,\r\n@Json(name = &quot;weight&quot;) val weight: String?,\r\n@Json(name = &quot;height&quot;) val height: String?\r\n):java.io.Serializable\r\n```\r\n\r\nMainActivity\r\n\r\n```\r\n\r\nsleeperConnect.getPlayerData()\r\n\r\n\r\n    .enqueue(object : Callback&lt;List&lt;PlayerData&gt;&gt; {\r\n        override fun onResponse(\r\n            call: Call&lt;List&lt;PlayerData&gt;&gt;,\r\n            response: Response&lt;List&lt;PlayerData&gt;&gt;\r\n        ) {\r\n            ///Need to hook up adapter to this part of the response\r\n            if (response.isSuccessful) {\r\n\r\n\r\n\r\n                Log.d(&quot;Response&quot;, &quot;onResponse: ${response.body()}&quot;)\r\n                //TODO: Adapter and recycler view should go here\r\n               // val adapter = response.body()?.let { it1 -&gt; CustomAdapter(it1) }\r\n               // recyclerview.adapter = adapter\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n        }\r\n\r\n        override fun onFailure(call: Call&lt;List&lt;PlayerData&gt;&gt;, t: Throwable) {\r\n            Log.d(&quot;Draft time Activity &quot;, &quot;onFailure: &quot; + t.message)\r\n        }\r\n    })\r\n```\r\n\r\nJSON file\r\n\r\n```\r\n[\r\n  [\r\n    {\r\n      &quot;rotoworld_id&quot;: 4502,\r\n      &quot;practice_description&quot;: null,\r\n      &quot;birth_state&quot;: null,\r\n      &quot;metadata&quot;: null,\r\n      &quot;espn_id&quot;: 11122,\r\n      &quot;birth_country&quot;: null,\r\n      &quot;team&quot;: &quot;ARI&quot;,\r\n      &quot;search_last_name&quot;: &quot;prater&quot;,\r\n      &quot;player_id&quot;: &quot;17&quot;,\r\n      &quot;gsis_id&quot;: &quot;00-0023853&quot;,\r\n      &quot;age&quot;: 38,\r\n      &quot;sportradar_id&quot;: &quot;67f5e782-f91c-4536-9818-cf4a0e7e821d&quot;,\r\n      &quot;last_name&quot;: &quot;Prater&quot;,\r\n      &quot;status&quot;: &quot;Active&quot;,\r\n      &quot;fantasy_data_id&quot;: 549,\r\n      &quot;yahoo_id&quot;: 8565,\r\n      &quot;pandascore_id&quot;: null,\r\n      &quot;search_rank&quot;: 141,\r\n      &quot;position&quot;: &quot;K&quot;,\r\n      &quot;birth_city&quot;: null,\r\n      &quot;depth_chart_position&quot;: &quot;PK&quot;,\r\n      &quot;practice_participation&quot;: null,\r\n      &quot;sport&quot;: &quot;nfl&quot;,\r\n      &quot;search_full_name&quot;: &quot;mattprater&quot;,\r\n      &quot;injury_start_date&quot;: null,\r\n      &quot;rotowire_id&quot;: 5051,\r\n      &quot;hashtag&quot;: &quot;#mattprater-NFL-ARI-5&quot;,\r\n      &quot;swish_id&quot;: 218237,\r\n      &quot;high_school&quot;: &quot;Estero (FL)&quot;,\r\n      &quot;number&quot;: 5,\r\n      &quot;depth_chart_order&quot;: 1,\r\n      &quot;full_name&quot;: &quot;Matt Prater&quot;,\r\n      &quot;injury_body_part&quot;: null,\r\n      &quot;search_first_name&quot;: &quot;matt&quot;,\r\n      &quot;years_exp&quot;: 17,\r\n      &quot;height&quot;: &quot;70&quot;,\r\n      &quot;first_name&quot;: &quot;Matt&quot;,\r\n      &quot;injury_status&quot;: null,\r\n      &quot;active&quot;: true,\r\n      &quot;news_updated&quot;: 1678853455354,\r\n      &quot;weight&quot;: &quot;201&quot;,\r\n      &quot;birth_date&quot;: &quot;1984-08-10&quot;,\r\n      &quot;fantasy_positions&quot;: [\r\n        &quot;K&quot;\r\n      ],\r\n      &quot;stats_id&quot;: 218237,\r\n      &quot;college&quot;: &quot;UCF&quot;,\r\n      &quot;injury_notes&quot;: null\r\n    }\r\n  ]\r\n]\r\n```\r\n\r\nThe JSON file seems to be an Array of objects inside an array. I thought I had set the data classes up correctly but I am getting a the Expected BEGIN_OBJECT but was BEGIN_ARRAY at path $\\[0\\]. Am I doing something wrong setting up the data classes?\r\n\r\nI tried setting the response from the api to call List\\&lt;PlayerData\\&gt; and then List\\&lt;PlayerInfo\\&gt; because its an array of objects inside an array but it didn&#39;t work","title":"onFailure: Expected BEGIN_OBJECT but was BEGIN_ARRAY at path $[0]","body":"<p>Im trying to parse this API but I don't think my data classes are set up correctly</p>\n<p>Connected Sleeper API</p>\n<pre><code>package com.example.drafttime.api\n\nimport com.example.drafttime.data.PlayerData\nimport com.example.drafttime.data.PlayerInfo\nimport retrofit2.Call\nimport retrofit2.Retrofit\nimport retrofit2.converter.moshi.MoshiConverterFactory\nimport retrofit2.http.GET\n\n\n// This file is our interface with the Sleeper api to get player data\ninterface ConnectedSleeper {\n\n    @GET(&quot;nflTeamDataArray&quot;)\n    fun getPlayerData(\n    ):Call&lt;List&lt;PlayerData&gt;&gt;\n    companion object{\n\n        private const val BASE_URL =  &quot;http://10.0.2.2:8080/&quot;\n        fun create(): ConnectedSleeper {\n\n            return Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(MoshiConverterFactory.create())\n                .build()\n                .create(ConnectedSleeper::class.java)\n\n        }\n    }\n}\n</code></pre>\n<p>PlayerData.kt data class</p>\n<pre><code>package com.example.drafttime.data\n\nimport com.squareup.moshi.Json\nimport com.squareup.moshi.JsonClass\n\n@JsonClass(generateAdapter = true)\n\ndata class PlayerData(\n\n  val team: List&lt;Player&gt;\n\n\n):java.io.Serializable\n@JsonClass(generateAdapter = true)\n\ndata class Player(\n  val player: List&lt;PlayerInfo&gt;\n\n):java.io.Serializable\n</code></pre>\n<p>PlayerInfo.kt</p>\n<pre><code>package com.example.drafttime.data\n\nimport com.squareup.moshi.Json\nimport com.squareup.moshi.JsonClass\n\n\n@JsonClass(generateAdapter = true)\n\ndata class PlayerInfo(\n    @Json(name = &quot;birth_date&quot;) val birthDate: String?,\n@Json(name = &quot;full_name&quot;) val fullName: String?,\n@Json(name = &quot;college&quot;) val college: String?,\n@Json(name = &quot;team&quot;) val team : String?,\n@Json(name = &quot;position&quot;) val postion: String?,\n@Json(name = &quot;number&quot;) val number: Int?,\n@Json(name = &quot;age&quot;) val age: String?,\n@Json(name = &quot;weight&quot;) val weight: String?,\n@Json(name = &quot;height&quot;) val height: String?\n):java.io.Serializable\n</code></pre>\n<p>MainActivity</p>\n<pre><code>\nsleeperConnect.getPlayerData()\n\n\n    .enqueue(object : Callback&lt;List&lt;PlayerData&gt;&gt; {\n        override fun onResponse(\n            call: Call&lt;List&lt;PlayerData&gt;&gt;,\n            response: Response&lt;List&lt;PlayerData&gt;&gt;\n        ) {\n            ///Need to hook up adapter to this part of the response\n            if (response.isSuccessful) {\n\n\n\n                Log.d(&quot;Response&quot;, &quot;onResponse: ${response.body()}&quot;)\n                //TODO: Adapter and recycler view should go here\n               // val adapter = response.body()?.let { it1 -&gt; CustomAdapter(it1) }\n               // recyclerview.adapter = adapter\n\n\n\n\n\n            }\n        }\n\n        override fun onFailure(call: Call&lt;List&lt;PlayerData&gt;&gt;, t: Throwable) {\n            Log.d(&quot;Draft time Activity &quot;, &quot;onFailure: &quot; + t.message)\n        }\n    })\n</code></pre>\n<p>JSON file</p>\n<pre><code>[\n  [\n    {\n      &quot;rotoworld_id&quot;: 4502,\n      &quot;practice_description&quot;: null,\n      &quot;birth_state&quot;: null,\n      &quot;metadata&quot;: null,\n      &quot;espn_id&quot;: 11122,\n      &quot;birth_country&quot;: null,\n      &quot;team&quot;: &quot;ARI&quot;,\n      &quot;search_last_name&quot;: &quot;prater&quot;,\n      &quot;player_id&quot;: &quot;17&quot;,\n      &quot;gsis_id&quot;: &quot;00-0023853&quot;,\n      &quot;age&quot;: 38,\n      &quot;sportradar_id&quot;: &quot;67f5e782-f91c-4536-9818-cf4a0e7e821d&quot;,\n      &quot;last_name&quot;: &quot;Prater&quot;,\n      &quot;status&quot;: &quot;Active&quot;,\n      &quot;fantasy_data_id&quot;: 549,\n      &quot;yahoo_id&quot;: 8565,\n      &quot;pandascore_id&quot;: null,\n      &quot;search_rank&quot;: 141,\n      &quot;position&quot;: &quot;K&quot;,\n      &quot;birth_city&quot;: null,\n      &quot;depth_chart_position&quot;: &quot;PK&quot;,\n      &quot;practice_participation&quot;: null,\n      &quot;sport&quot;: &quot;nfl&quot;,\n      &quot;search_full_name&quot;: &quot;mattprater&quot;,\n      &quot;injury_start_date&quot;: null,\n      &quot;rotowire_id&quot;: 5051,\n      &quot;hashtag&quot;: &quot;#mattprater-NFL-ARI-5&quot;,\n      &quot;swish_id&quot;: 218237,\n      &quot;high_school&quot;: &quot;Estero (FL)&quot;,\n      &quot;number&quot;: 5,\n      &quot;depth_chart_order&quot;: 1,\n      &quot;full_name&quot;: &quot;Matt Prater&quot;,\n      &quot;injury_body_part&quot;: null,\n      &quot;search_first_name&quot;: &quot;matt&quot;,\n      &quot;years_exp&quot;: 17,\n      &quot;height&quot;: &quot;70&quot;,\n      &quot;first_name&quot;: &quot;Matt&quot;,\n      &quot;injury_status&quot;: null,\n      &quot;active&quot;: true,\n      &quot;news_updated&quot;: 1678853455354,\n      &quot;weight&quot;: &quot;201&quot;,\n      &quot;birth_date&quot;: &quot;1984-08-10&quot;,\n      &quot;fantasy_positions&quot;: [\n        &quot;K&quot;\n      ],\n      &quot;stats_id&quot;: 218237,\n      &quot;college&quot;: &quot;UCF&quot;,\n      &quot;injury_notes&quot;: null\n    }\n  ]\n]\n</code></pre>\n<p>The JSON file seems to be an Array of objects inside an array. I thought I had set the data classes up correctly but I am getting a the Expected BEGIN_OBJECT but was BEGIN_ARRAY at path $[0]. Am I doing something wrong setting up the data classes?</p>\n<p>I tried setting the response from the api to call List&lt;PlayerData&gt; and then List&lt;PlayerInfo&gt; because its an array of objects inside an array but it didn't work</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":23270618,"reputation":127,"user_id":18453555,"display_name":"ruskaof"},"score":0,"creation_date":1679318095,"post_id":75789861,"comment_id":133694788,"body_markdown":"unfortunately, the first solution doesn&#39;t work for me because the &quot;type&quot; property is in the same level with the &quot;payload&quot; one, not inside it. But thanks!","body":"unfortunately, the first solution doesn&#39;t work for me because the &quot;type&quot; property is in the same level with the &quot;payload&quot; one, not inside it. But thanks!"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679312728,"creation_date":1679312728,"answer_id":75789861,"question_id":75788892,"body_markdown":"One solution would be to use @JsonTypeInfo. This allows you to deserilize into different type based on some property (in your case, the type).\r\n\r\n    @JsonTypeInfo(\r\n      use = JsonTypeInfo.Id.NAME, \r\n      include = JsonTypeInfo.As.PROPERTY, \r\n      property = &quot;type&quot;)\r\n    @JsonSubTypes({ \r\n      @Type(value = TextPayload.class, name = &quot;message&quot;), \r\n      @Type(value = IdPayload.class, name = &quot;id&quot;) \r\n    })\r\n    abstract class Payload {}\r\n    \r\n    class TextPayload extends Payload {\r\n       String text;\r\n    }\r\n    class IdPayload extends Payload {\r\n       Long id;\r\n    }\r\n\r\nIt can be a good solution for straight-forward use cases, read more about it here: \r\nhttps://www.baeldung.com/jackson-inheritance\r\n\r\nThough, this will bring some Jackson &quot;magic&quot; into your application. A simpler alternative will be to deserialize into a more generic dto with all fields, and then use a mapper (or a factory) that will map/create instances based on this object:\r\n\r\n    record GenericDto (\r\n        String text, Long id\r\n    );\r\n\r\n    // and\r\n    public Payload map (String type, GenericDto dto) {\r\n       switch(type):    \r\n            case &quot;id&quot;: return new IdPayload(dto.id());\r\n            case &quot;message&quot;: return new TextPayload(dto.text());\r\n            // ...\r\n    }","title":"Different types of payloads in Spring DTO","body":"<p>One solution would be to use @JsonTypeInfo. This allows you to deserilize into different type based on some property (in your case, the type).</p>\n<pre><code>@JsonTypeInfo(\n  use = JsonTypeInfo.Id.NAME, \n  include = JsonTypeInfo.As.PROPERTY, \n  property = &quot;type&quot;)\n@JsonSubTypes({ \n  @Type(value = TextPayload.class, name = &quot;message&quot;), \n  @Type(value = IdPayload.class, name = &quot;id&quot;) \n})\nabstract class Payload {}\n\nclass TextPayload extends Payload {\n   String text;\n}\nclass IdPayload extends Payload {\n   Long id;\n}\n</code></pre>\n<p>It can be a good solution for straight-forward use cases, read more about it here:\n<a href=\"https://www.baeldung.com/jackson-inheritance\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-inheritance</a></p>\n<p>Though, this will bring some Jackson &quot;magic&quot; into your application. A simpler alternative will be to deserialize into a more generic dto with all fields, and then use a mapper (or a factory) that will map/create instances based on this object:</p>\n<pre><code>record GenericDto (\n    String text, Long id\n);\n\n// and\npublic Payload map (String type, GenericDto dto) {\n   switch(type):    \n        case &quot;id&quot;: return new IdPayload(dto.id());\n        case &quot;message&quot;: return new TextPayload(dto.text());\n        // ...\n}\n</code></pre>\n"}],"owner":{"account_id":23270618,"reputation":127,"user_id":18453555,"display_name":"ruskaof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679312728,"creation_date":1679306583,"question_id":75788892,"body_markdown":"Are there any best practices to handle this kind of data (in request body) in Spring (Java 17)?\r\n\r\nData example:\r\n\r\n    [\r\n      { \r\n        &quot;type&quot;: &quot;message&quot;, \r\n        &quot;common_data&quot;: &quot;something&quot;,\r\n        &quot;payload&quot;: {&quot;text&quot;: &quot;something&quot;}\r\n      },\r\n      { \r\n        &quot;type&quot;: &quot;id&quot;,\r\n        &quot;common_data&quot;: &quot;something&quot;,\r\n        &quot;payload&quot;: {&quot;id&quot;: 42}\r\n      }\r\n    ]\r\n\r\nI mean the json request that is a list of objects with different payload type (all the types are determined)","title":"Different types of payloads in Spring DTO","body":"<p>Are there any best practices to handle this kind of data (in request body) in Spring (Java 17)?</p>\n<p>Data example:</p>\n<pre><code>[\n  { \n    &quot;type&quot;: &quot;message&quot;, \n    &quot;common_data&quot;: &quot;something&quot;,\n    &quot;payload&quot;: {&quot;text&quot;: &quot;something&quot;}\n  },\n  { \n    &quot;type&quot;: &quot;id&quot;,\n    &quot;common_data&quot;: &quot;something&quot;,\n    &quot;payload&quot;: {&quot;id&quot;: 42}\n  }\n]\n</code></pre>\n<p>I mean the json request that is a list of objects with different payload type (all the types are determined)</p>\n"},{"tags":["java","spring-boot","soap","soap-client","spring-ws"],"owner":{"account_id":12201936,"reputation":414,"user_id":8906016,"display_name":"canillas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679312468,"creation_date":1679312468,"question_id":75789832,"body_markdown":"I&#39;m trying to call an external SOAP WS on this way:\r\n\r\nI have a REST API that receive some custom parameters, create the SOAP request and call the SOAP client to invoke the correct operation.\r\n\r\nIn my request I have a base64binary field that I can process automatically in the REST Controller but that takes too long time to process in the SOAP client. If I put in the base64binary a String with 15K chars approx, the response arrives in 2 minutes more or less. If I put a real base64binary (more than 400K chars) I&#39;m unable to process the request with Read timeout after 20 minutes approx.\r\n\r\nTests done:\r\n\r\n- Calling desired WS from SOAP UI --&gt; Error doesn&#39;t exist. Response received inmediatelly (less than 2 secs)\r\n- Calling custom WS from Java SOAP Client --&gt; Error doesn&#39;t exist. Response received inmediatelly (less than 2 secs)\r\n- Got SOAP request from log and tested from SOAP UI --&gt; Works fine. (we can discard problems in the request)\r\n\r\n\r\n**ClientConfig**\r\n\r\n    @Configuration\r\n    public class CorreosClientConfig {\r\n\r\n    @Value(&quot;${myClient.endpoint}&quot;)\r\n    private String clientEndpoint;\r\n\r\n    @Autowired\r\n    private BasicAuthorizationMessageSender basicAuthorizationMessageSender;\r\n\r\n    @Bean\r\n    public Jaxb2Marshaller customMarshaller() {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(&quot;path.to.classes&quot;);\r\n        return marshaller;\r\n    }\r\n\r\n    @Bean\r\n    public CustomClient customClient(Jaxb2Marshaller customMarshaller) {\r\n        CustomClient client = new CustomClient ();\r\n        client.setDefaultUri(clientEndpoint);\r\n        client.setMarshaller(customMarshaller);\r\n        client.setUnmarshaller(customMarshaller);\r\n        client.setMessageSender(basicAuthorizationMessageSender);\r\n        client.getWebServiceTemplate().afterPropertiesSet();\r\n        return client;\r\n    }\r\n    }\r\n\r\n**BasicAuthorizationMessageSender**\r\n\r\n    @Component\r\n    public class BasicAuthorizationMessageSender extends HttpComponentsMessageSender {\r\n\r\n    private static final int MAX_PAYLOAD_SIZE_BYTES = 10 * 1024 * 1024; // 10MB\r\n\r\n    @Value(&quot;${myClient.userKey}&quot;)\r\n    private String userKey;\r\n\r\n    @Value(&quot;${myClient.userSecret}&quot;)\r\n    private String userSecret;\r\n\r\n    public BasicAuthorizationMessageSender() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public WebServiceConnection createConnection(URI uri) throws IOException {\r\n        logger.debug(&quot;createConnection(URI) called for URI: &quot; + uri.toASCIIString());\r\n        // initializing the HttpComponentsMessageSender instance\r\n        init();\r\n        HttpComponentsConnection webServiceConnection = (HttpComponentsConnection) super.createConnection(uri);\r\n        HttpPost postMethod;\r\n        postMethod = webServiceConnection.getHttpPost();\r\n        String rawCredentials = userKey + &quot;:&quot; + userSecret;\r\n        byte[] rawCredentialsBytes = rawCredentials.getBytes(&quot;UTF-8&quot;);\r\n        String base64Credentials = &quot;Basic &quot; + Base64.encodeBase64String(rawCredentialsBytes);\r\n        postMethod.addHeader(&quot;Authorization&quot;, base64Credentials);\r\n        postMethod.setHeader(HTTP.CONTENT_LEN, String.valueOf(MAX_PAYLOAD_SIZE_BYTES));\r\n        this.setReadTimeout(20 * 60 * 1000);\r\n        this.setConnectionTimeout(20 * 60 * 1000);\r\n        return webServiceConnection;\r\n    }\r\n\r\n    private void init() {\r\n        try {\r\n            super.afterPropertiesSet();\r\n        } catch (Exception ex) {\r\n            logger.error(&quot;Exception&quot;, ex);\r\n        }\r\n        logger.debug(&quot;init called. Credentials set to httpClient object.&quot;);\r\n      }\r\n    }\r\n\r\n**CustomClient**\r\n\r\n    public class CustomClient extends WebServiceGatewaySupport {\r\n\r\n    public SolicitudAltaResponse solicitudAlta(SolicitudAlta request) {\r\n        SolicitudAltaResponse response = (SolicitudAltaResponse) getWebServiceTemplate().marshalSendAndReceive(request);\r\n        return response;\r\n      }\r\n    }\r\n\r\n\r\n**More hints**\r\n- WS classes autogenerated with:\r\n\r\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.15.2&lt;/version&gt;\r\n\r\n- Using Springboot 2.7.8 and OpenJDK17.0.2","title":"Unable to parse SOAP Request - Read Timeout","body":"<p>I'm trying to call an external SOAP WS on this way:</p>\n<p>I have a REST API that receive some custom parameters, create the SOAP request and call the SOAP client to invoke the correct operation.</p>\n<p>In my request I have a base64binary field that I can process automatically in the REST Controller but that takes too long time to process in the SOAP client. If I put in the base64binary a String with 15K chars approx, the response arrives in 2 minutes more or less. If I put a real base64binary (more than 400K chars) I'm unable to process the request with Read timeout after 20 minutes approx.</p>\n<p>Tests done:</p>\n<ul>\n<li>Calling desired WS from SOAP UI --&gt; Error doesn't exist. Response received inmediatelly (less than 2 secs)</li>\n<li>Calling custom WS from Java SOAP Client --&gt; Error doesn't exist. Response received inmediatelly (less than 2 secs)</li>\n<li>Got SOAP request from log and tested from SOAP UI --&gt; Works fine. (we can discard problems in the request)</li>\n</ul>\n<p><strong>ClientConfig</strong></p>\n<pre><code>@Configuration\npublic class CorreosClientConfig {\n\n@Value(&quot;${myClient.endpoint}&quot;)\nprivate String clientEndpoint;\n\n@Autowired\nprivate BasicAuthorizationMessageSender basicAuthorizationMessageSender;\n\n@Bean\npublic Jaxb2Marshaller customMarshaller() {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(&quot;path.to.classes&quot;);\n    return marshaller;\n}\n\n@Bean\npublic CustomClient customClient(Jaxb2Marshaller customMarshaller) {\n    CustomClient client = new CustomClient ();\n    client.setDefaultUri(clientEndpoint);\n    client.setMarshaller(customMarshaller);\n    client.setUnmarshaller(customMarshaller);\n    client.setMessageSender(basicAuthorizationMessageSender);\n    client.getWebServiceTemplate().afterPropertiesSet();\n    return client;\n}\n}\n</code></pre>\n<p><strong>BasicAuthorizationMessageSender</strong></p>\n<pre><code>@Component\npublic class BasicAuthorizationMessageSender extends HttpComponentsMessageSender {\n\nprivate static final int MAX_PAYLOAD_SIZE_BYTES = 10 * 1024 * 1024; // 10MB\n\n@Value(&quot;${myClient.userKey}&quot;)\nprivate String userKey;\n\n@Value(&quot;${myClient.userSecret}&quot;)\nprivate String userSecret;\n\npublic BasicAuthorizationMessageSender() {\n    super();\n}\n\n@Override\npublic WebServiceConnection createConnection(URI uri) throws IOException {\n    logger.debug(&quot;createConnection(URI) called for URI: &quot; + uri.toASCIIString());\n    // initializing the HttpComponentsMessageSender instance\n    init();\n    HttpComponentsConnection webServiceConnection = (HttpComponentsConnection) super.createConnection(uri);\n    HttpPost postMethod;\n    postMethod = webServiceConnection.getHttpPost();\n    String rawCredentials = userKey + &quot;:&quot; + userSecret;\n    byte[] rawCredentialsBytes = rawCredentials.getBytes(&quot;UTF-8&quot;);\n    String base64Credentials = &quot;Basic &quot; + Base64.encodeBase64String(rawCredentialsBytes);\n    postMethod.addHeader(&quot;Authorization&quot;, base64Credentials);\n    postMethod.setHeader(HTTP.CONTENT_LEN, String.valueOf(MAX_PAYLOAD_SIZE_BYTES));\n    this.setReadTimeout(20 * 60 * 1000);\n    this.setConnectionTimeout(20 * 60 * 1000);\n    return webServiceConnection;\n}\n\nprivate void init() {\n    try {\n        super.afterPropertiesSet();\n    } catch (Exception ex) {\n        logger.error(&quot;Exception&quot;, ex);\n    }\n    logger.debug(&quot;init called. Credentials set to httpClient object.&quot;);\n  }\n}\n</code></pre>\n<p><strong>CustomClient</strong></p>\n<pre><code>public class CustomClient extends WebServiceGatewaySupport {\n\npublic SolicitudAltaResponse solicitudAlta(SolicitudAlta request) {\n    SolicitudAltaResponse response = (SolicitudAltaResponse) getWebServiceTemplate().marshalSendAndReceive(request);\n    return response;\n  }\n}\n</code></pre>\n<p><strong>More hints</strong></p>\n<ul>\n<li><p>WS classes autogenerated with:</p>\n<pre><code>  &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n  &lt;version&gt;0.15.2&lt;/version&gt;\n</code></pre>\n</li>\n<li><p>Using Springboot 2.7.8 and OpenJDK17.0.2</p>\n</li>\n</ul>\n"},{"tags":["java","android","kotlin","game-development"],"answers":[{"tags":[],"owner":{"account_id":5313346,"reputation":255,"user_id":4238935,"display_name":"Luis Pascual"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679083938,"creation_date":1679083938,"answer_id":75771843,"question_id":75771390,"body_markdown":"I think that trying to distinguish colors in the same ImageView can be really tricky. I would go for a solution that separates all the arrows in separate components and it will be much easier to identify clicks. \r\n\r\nI don&#39;t know the feasibility of separating the single image into multiple subcomponents but it will make your life much easier. If you have the arrows separated it is just a matter of playing with the components in the layout in order to put the right constraints between each other to form the whole post with the arrows. You can use ConstraintLayout to rearrange the elements with paddings for instance.","title":"Android determine a few clickable areas of imageview","body":"<p>I think that trying to distinguish colors in the same ImageView can be really tricky. I would go for a solution that separates all the arrows in separate components and it will be much easier to identify clicks.</p>\n<p>I don't know the feasibility of separating the single image into multiple subcomponents but it will make your life much easier. If you have the arrows separated it is just a matter of playing with the components in the layout in order to put the right constraints between each other to form the whole post with the arrows. You can use ConstraintLayout to rearrange the elements with paddings for instance.</p>\n"},{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679312393,"creation_date":1679312393,"answer_id":75789823,"question_id":75771390,"body_markdown":" - Actually to overcome the problem of changes in the resolution and\r\n   screen size, you may define the coordination of clickable areas\r\n   relative to the size of the image (i.e.  defining the clickable areas\r\n   as percentages of the image size or the screen size, rather than\r\n   absolute pixel values). However, in this case your clickable area\r\n   would not be in the same shape as your area in the image. Defining\r\n   such area would be complicated.\r\n - Another solution is making texts clickable. In this case the user\r\n   must click exactly on the text which causes another problem in the\r\n   user experience.\r\n - Next solution, is use of HTML. You have a HTML file with your image and a &lt;map&gt;&lt;/map&gt; tag to specify the clickable area. You may use online free websites for this purpose like [this][1]. In this case you have to show your image in a `WebView`.\r\n - The next solution is the one mentioned by Luis Pascaul [here][2].\r\n\r\n\r\n  [1]: https://www.image-map.net/\r\n  [2]: https://stackoverflow.com/a/75771843/3937935","title":"Android determine a few clickable areas of imageview","body":"<ul>\n<li>Actually to overcome the problem of changes in the resolution and\nscreen size, you may define the coordination of clickable areas\nrelative to the size of the image (i.e.  defining the clickable areas\nas percentages of the image size or the screen size, rather than\nabsolute pixel values). However, in this case your clickable area\nwould not be in the same shape as your area in the image. Defining\nsuch area would be complicated.</li>\n<li>Another solution is making texts clickable. In this case the user\nmust click exactly on the text which causes another problem in the\nuser experience.</li>\n<li>Next solution, is use of HTML. You have a HTML file with your image and a  tag to specify the clickable area. You may use online free websites for this purpose like <a href=\"https://www.image-map.net/\" rel=\"nofollow noreferrer\">this</a>. In this case you have to show your image in a <code>WebView</code>.</li>\n<li>The next solution is the one mentioned by Luis Pascaul <a href=\"https://stackoverflow.com/a/75771843/3937935\">here</a>.</li>\n</ul>\n"}],"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679312393,"creation_date":1679080510,"question_id":75771390,"body_markdown":"Let&#39;s say I have such imageview:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want make those arrows clickable and they should be of proper onClick action like label says. \r\n\r\nI thought about a solution. I made up my mind to distinguish those area by color (as every arrow has different color), but how to achieve that? Other solution could be distinguishing by xy coordintates of specific area but it would be a harder and cumbersome solution due to supporting different screen sizes and densities.\r\n\r\nIf it changes something this imageview src is in Vector Drawable XML format converted from SVG.\r\n\r\nI am waiting with impatience for solutions :) .\r\n\r\n  [1]: https://i.stack.imgur.com/SkEGX.png","title":"Android determine a few clickable areas of imageview","body":"<p>Let's say I have such imageview:</p>\n<p><a href=\"https://i.stack.imgur.com/SkEGX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SkEGX.png\" alt=\"enter image description here\" /></a></p>\n<p>I want make those arrows clickable and they should be of proper onClick action like label says.</p>\n<p>I thought about a solution. I made up my mind to distinguish those area by color (as every arrow has different color), but how to achieve that? Other solution could be distinguishing by xy coordintates of specific area but it would be a harder and cumbersome solution due to supporting different screen sizes and densities.</p>\n<p>If it changes something this imageview src is in Vector Drawable XML format converted from SVG.</p>\n<p>I am waiting with impatience for solutions :) .</p>\n"},{"tags":["java","c++","swig"],"comments":[{"owner":{"account_id":5140045,"reputation":112686,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":1,"creation_date":1679306984,"post_id":75788606,"comment_id":133691758,"body_markdown":"you say it returns a unique_ptr, but the signature you show returns a raw pointer. Btw that you asked chatgpt and got nothing useful is rather irrelevant. On the other hand, if you did read the docs and there are details that you do not understand or that didnt work out for you then you should tell about the details","body":"you say it returns a unique_ptr, but the signature you show returns a raw pointer. Btw that you asked chatgpt and got nothing useful is rather irrelevant. On the other hand, if you did read the docs and there are details that you do not understand or that didnt work out for you then you should tell about the details"},{"owner":{"account_id":28063962,"reputation":11,"user_id":21437635,"display_name":"TTTuna"},"score":0,"creation_date":1679312752,"post_id":75788606,"comment_id":133693255,"body_markdown":"@463035818_is_not_a_number Sorry. Chatgpt tell me to use %rename which is useless. I also read(search) docs roughly but not able to find which tool is relevant :(  About pointer, yes it&#39;s a raw, my fault.","body":"@463035818_is_not_a_number Sorry. Chatgpt tell me to use %rename which is useless. I also read(search) docs roughly but not able to find which tool is relevant :(  About pointer, yes it&#39;s a raw, my fault."},{"owner":{"account_id":7709025,"reputation":112,"user_id":5839041,"display_name":"Damian"},"score":0,"creation_date":1680543536,"post_id":75788606,"comment_id":133912970,"body_markdown":"Please put a minimal C++ class example in your question, then I can try to come up with something.","body":"Please put a minimal C++ class example in your question, then I can try to come up with something."}],"owner":{"account_id":28063962,"reputation":11,"user_id":21437635,"display_name":"TTTuna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679312358,"creation_date":1679305014,"question_id":75788606,"body_markdown":"I have a function which return a pointer of a self-defined class. When i tried to convert c++ to java by swig, it automatically generate a type of &quot;SWIGTYPE_p_xxxx&quot;, how to rename this class?\r\n\r\nmy function is `Session* Interpreter::createSession(const ScheduleConfig&amp; config)`, here Session is a class i defined, the funciton return a ptr which is not support in java.\r\n\r\nafter convert, swig will generate a type called &quot;SWIGTYPE_p_MNN__Session&quot;, how to rename this to &quot;Session_p&quot; or anything else? (just for neat and clean, I don&#39;t need to access details through this pointer)\r\n\r\n\r\ntried ask Chatgpt, and tried to read the docs. nothing work. \r\nalso tried `%rename(Session) SWIGTYPE_p_MNN__Session;`, not work.","title":"How to rename a automatically generated swig class","body":"<p>I have a function which return a pointer of a self-defined class. When i tried to convert c++ to java by swig, it automatically generate a type of &quot;SWIGTYPE_p_xxxx&quot;, how to rename this class?</p>\n<p>my function is <code>Session* Interpreter::createSession(const ScheduleConfig&amp; config)</code>, here Session is a class i defined, the funciton return a ptr which is not support in java.</p>\n<p>after convert, swig will generate a type called &quot;SWIGTYPE_p_MNN__Session&quot;, how to rename this to &quot;Session_p&quot; or anything else? (just for neat and clean, I don't need to access details through this pointer)</p>\n<p>tried ask Chatgpt, and tried to read the docs. nothing work.\nalso tried <code>%rename(Session) SWIGTYPE_p_MNN__Session;</code>, not work.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Ctlin Cucer"},"score":0,"creation_date":1679312145,"post_id":75789670,"comment_id":133693108,"body_markdown":"Could you provide any additional error messages?","body":"Could you provide any additional error messages?"}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Ctlin Cucer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679312088,"creation_date":1679312088,"answer_id":75789782,"question_id":75789670,"body_markdown":"**Implementation is not found.**\r\n\r\n`build.gradle`\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n----\r\n\r\n 1. Go to `Build`.\r\n 2. Open `Clean Project`.\r\n 3. `Build`-&gt;`Clean Project`.\r\n 4. `Rebuild the Project`.\r\n\r\nCheck : [Getting started with Material Components for Android](https://m2.material.io/develop/android/docs/getting-started), [Material Design](https://m3.material.io/).","title":"Could not find method implementation() for arguments [com.google.android.material:material:1.5.0]","body":"<p><strong>Implementation is not found.</strong></p>\n<p><code>build.gradle</code></p>\n<pre><code>repositories {\n    mavenCentral()\n}\n</code></pre>\n<hr />\n<ol>\n<li>Go to <code>Build</code>.</li>\n<li>Open <code>Clean Project</code>.</li>\n<li><code>Build</code>-&gt;<code>Clean Project</code>.</li>\n<li><code>Rebuild the Project</code>.</li>\n</ol>\n<p>Check : <a href=\"https://m2.material.io/develop/android/docs/getting-started\" rel=\"nofollow noreferrer\">Getting started with Material Components for Android</a>, <a href=\"https://m3.material.io/\" rel=\"nofollow noreferrer\">Material Design</a>.</p>\n"}],"owner":{"account_id":27899144,"reputation":21,"user_id":21303796,"display_name":"Junaid Raees"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1679388061,"answer_count":1,"score":0,"last_activity_date":1679312088,"creation_date":1679311411,"question_id":75789670,"body_markdown":"Following is the problematic line of build.gradle:\r\n\r\n implementation &#39;com.google.android.material:material:1.5.0&#39;","title":"Could not find method implementation() for arguments [com.google.android.material:material:1.5.0]","body":"<p>Following is the problematic line of build.gradle:</p>\n<p>implementation 'com.google.android.material:material:1.5.0'</p>\n"},{"tags":["java","spring-boot","gradle","integration-testing","testcontainers-junit5"],"comments":[{"owner":{"account_id":11809595,"reputation":65,"user_id":8641319,"display_name":"Gopal"},"score":0,"creation_date":1678887153,"post_id":75140560,"comment_id":133619837,"body_markdown":"Were you able to find the solution? I m running into the same problem. thanks","body":"Were you able to find the solution? I m running into the same problem. thanks"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679310903,"creation_date":1673910580,"question_id":75140560,"body_markdown":"I have this integration test base that test classes extend from, running one test class or a single test works without issues but if I try to run gradle task to run all tests I&#39;m having this issue:\r\n&gt; org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection\r\n\r\n&gt; Connection to localhost:50234 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n\r\n```java\r\n@ActiveProfiles(&quot;itest&quot;)\r\n@Testcontainers\r\n@Import({DatabaseCleaner.class, IntegrationTestSetup.class})\r\n@ContextConfiguration(initializers = IntegrationTestBase.ContextInitializer.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic abstract class IntegrationTestBase {\r\n\r\n    @Autowired\r\n    public DatabaseCleaner databaseCleaner;\r\n\r\n    @BeforeEach\r\n    public void globalBeforeEach() {\r\n        databaseCleaner.truncate();\r\n    }\r\n\r\n    @Container\r\n    static final PostgreSQLContainer postgresTestContainer = new PostgreSQLContainer(&quot;postgres:15&quot;)\r\n            .withUsername(&quot;itest&quot;)\r\n            .withPassword(&quot;itest&quot;)\r\n            .withDatabaseName(&quot;catsit&quot;);\r\n\r\n    public static class ContextInitializer implements\r\n            ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n            final String url = postgresTestContainer.getJdbcUrl();\r\n            final String username = postgresTestContainer.getUsername();\r\n            final String password = postgresTestContainer.getPassword();\r\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\r\n                    configurableApplicationContext,\r\n                    &quot;spring.datasource.url=&quot; + url,\r\n                    &quot;spring.datasource.username=&quot; + username,\r\n                    &quot;spring.datasource.password=&quot; + password,\r\n                    &quot;spring.liquibase.url=&quot; + url,\r\n                    &quot;spring.liquibase.user=&quot; + username,\r\n                    &quot;spring.liquibase.password=&quot; + password,\r\n                    &quot;spring.liquibase.change-log=&quot; + &quot;classpath:db/changelog/master.xml&quot;\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```groovy\r\ntesting {\r\n    suites {\r\n        test {\r\n            useJUnitJupiter()\r\n        }\r\n\r\n        itest(JvmTestSuite) {\r\n            testType = TestSuiteType.INTEGRATION_TEST\r\n\r\n            dependencies {\r\n                implementation project()\r\n            }\r\n\r\n            configurations {\r\n                itestImplementation.extendsFrom testImplementation\r\n                itestRuntime.extendsFrom testRuntime\r\n                itestRuntimeOnly.extendsFrom testRuntimeOnly\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Issues with test container when running integration tests gradle task","body":"<p>I have this integration test base that test classes extend from, running one test class or a single test works without issues but if I try to run gradle task to run all tests I'm having this issue:</p>\n<blockquote>\n<p>org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection</p>\n</blockquote>\n<blockquote>\n<p>Connection to localhost:50234 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;itest&quot;)\n@Testcontainers\n@Import({DatabaseCleaner.class, IntegrationTestSetup.class})\n@ContextConfiguration(initializers = IntegrationTestBase.ContextInitializer.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class IntegrationTestBase {\n\n    @Autowired\n    public DatabaseCleaner databaseCleaner;\n\n    @BeforeEach\n    public void globalBeforeEach() {\n        databaseCleaner.truncate();\n    }\n\n    @Container\n    static final PostgreSQLContainer postgresTestContainer = new PostgreSQLContainer(&quot;postgres:15&quot;)\n            .withUsername(&quot;itest&quot;)\n            .withPassword(&quot;itest&quot;)\n            .withDatabaseName(&quot;catsit&quot;);\n\n    public static class ContextInitializer implements\n            ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n        @Override\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n            final String url = postgresTestContainer.getJdbcUrl();\n            final String username = postgresTestContainer.getUsername();\n            final String password = postgresTestContainer.getPassword();\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\n                    configurableApplicationContext,\n                    &quot;spring.datasource.url=&quot; + url,\n                    &quot;spring.datasource.username=&quot; + username,\n                    &quot;spring.datasource.password=&quot; + password,\n                    &quot;spring.liquibase.url=&quot; + url,\n                    &quot;spring.liquibase.user=&quot; + username,\n                    &quot;spring.liquibase.password=&quot; + password,\n                    &quot;spring.liquibase.change-log=&quot; + &quot;classpath:db/changelog/master.xml&quot;\n            );\n        }\n    }\n\n}\n</code></pre>\n<pre><code>testing {\n    suites {\n        test {\n            useJUnitJupiter()\n        }\n\n        itest(JvmTestSuite) {\n            testType = TestSuiteType.INTEGRATION_TEST\n\n            dependencies {\n                implementation project()\n            }\n\n            configurations {\n                itestImplementation.extendsFrom testImplementation\n                itestRuntime.extendsFrom testRuntime\n                itestRuntimeOnly.extendsFrom testRuntimeOnly\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","amazon-web-services","aws-lambda","pulumi"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1677942605,"post_id":75635032,"comment_id":133438620,"body_markdown":"To answer your question: `tmp` is not the same as `/tmp`","body":"To answer your question: <code>tmp</code> is not the same as <code>&#47;tmp</code>"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":1,"creation_date":1677942717,"post_id":75635032,"comment_id":133438636,"body_markdown":"But, this is just an incredibly bad idea. Lambda execution environments come and go, you have no ability to control that, and unless you want to write a Lambda extension, you have no ability to capture the log files before the environment is destroyed. It&#39;s far better to use the default logging to CloudWatch and then, if you want to preserve somewhere else, save the CloudWatch logs.","body":"But, this is just an incredibly bad idea. Lambda execution environments come and go, you have no ability to control that, and unless you want to write a Lambda extension, you have no ability to capture the log files before the environment is destroyed. It&#39;s far better to use the default logging to CloudWatch and then, if you want to preserve somewhere else, save the CloudWatch logs."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1677942731,"post_id":75635032,"comment_id":133438641,"body_markdown":"Also, what does this question have to do with JavaScript?","body":"Also, what does this question have to do with JavaScript?"},{"owner":{"account_id":43555,"reputation":1891,"user_id":127400,"accept_rate":88,"display_name":"Augunrik"},"score":0,"creation_date":1678125727,"post_id":75635032,"comment_id":133469202,"body_markdown":"It&#39;s always a bad idea to post API keys; please remove them","body":"It&#39;s always a bad idea to post API keys; please remove them"}],"answers":[{"tags":[],"owner":{"account_id":43555,"reputation":1891,"user_id":127400,"accept_rate":88,"display_name":"Augunrik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678125994,"creation_date":1678125994,"answer_id":75654334,"question_id":75635032,"body_markdown":"As written in the comments, lambda environments come and go and you don&#39;t have write access to directories, as you found out. \r\n\r\nYour question burns down to where you can write when you have a lambda function:\r\n* The /tmp directory has 500MB disk space that can be used. Note that this directory will be cleared when AWS stops the function\r\n* You can mount EFS persistent storage for storing files via the filesystem\r\n\r\nIn the end you can also save files in S3, but with an HTTP API.\r\n","title":"How do I save a file from logback fileappnder on AWS Function?","body":"<p>As written in the comments, lambda environments come and go and you don't have write access to directories, as you found out.</p>\n<p>Your question burns down to where you can write when you have a lambda function:</p>\n<ul>\n<li>The /tmp directory has 500MB disk space that can be used. Note that this directory will be cleared when AWS stops the function</li>\n<li>You can mount EFS persistent storage for storing files via the filesystem</li>\n</ul>\n<p>In the end you can also save files in S3, but with an HTTP API.</p>\n"}],"owner":{"account_id":11227019,"reputation":1057,"user_id":8236354,"accept_rate":0,"display_name":"stein korsveien"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679310776,"creation_date":1677925368,"question_id":75635032,"body_markdown":"I want to save the file from  logback file appender in /tmp directory in AWS Lamda function.\r\nThe logback config file look like this:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;tmp/app.log&lt;/file&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; /&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n      &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n     \r\nMy Pulumi code for AWS Lamda function look like this:\r\n\r\n    export const lamda = new aws.lambda.Function(&quot;aws-lamda-function&quot;, {\r\n        code: new pulumi.asset.FileArchive(&quot;../app/build/libs/HelloWorldServerless-all.jar&quot;),   \r\n        runtime: aws.lambda.Runtime.Java11,\r\n        handler: &quot;HelloWorldServerless.HelloWorld::handler&quot;,\r\n        role: lamdaExecutionRole.arn,\r\n        name: &quot;hello-world&quot;,\r\n        memorySize: 300,\r\n        timeout: 100,\r\n        layers: [ &#39;arn:aws:lambda:eu-north-1:464622532012:layer:dd-trace-java:8&#39;,\r\n    \t\t      &quot;arn:aws:lambda:eu-north-1:464622532012:layer:Datadog-Extension:38&quot;],    \r\n        environment: {\r\n            variables: {\r\n    \t\t\tDD_API_KEY:&quot;*****&quot;,\r\n    \t\t\tDD_CAPTURE_LAMBDA_PAYLOAD: &quot;false&quot;,\r\n    \t\t\tDD_LAMBDA_HANDLER: &quot;HelloWorldServerless.HelloWorld::handler&quot;,\r\n    \t\t\tDD_LOG_LEVEL: &quot;debug&quot;,\r\n    \t\t\tFUNCTION_NAME: &quot;hello-world&quot;,\r\n    \t\t    DD_SERVICE: &#39;hello-world&#39;,\r\n    \t\t    DD_SITE: &quot;datadoghq.eu&quot;,\r\n    \t\t    DD_VERSION: &quot;0.1&quot;,\r\n                DD_LOGS_INJECTION: &#39;true&#39;,\r\n                DD_JMXFETCH_ENABLED: &#39;false&#39;,\r\n                DD_TRACE_ENABLED: &#39;true&#39;,\r\n                DD_ENV: &#39;dev&#39;,\r\n                DD_MERGE_XRAY_TRACES: &quot;false&quot;,\r\n                DD_FLUSH_TO_LOG: &quot;true&quot;\r\n            },\r\n        },\r\n    },\r\n\r\n   \r\n\r\n    )\r\nThe lamda role looks like this:\r\n\r\n    import * as aws from &quot;@pulumi/aws&quot;;\r\n    import   {lamdaPolicy} from &quot;./Policy&quot;\r\n    import   {fileSystemPolicy} from &quot;./Policy&quot;\r\n    import   {vpcPolicy} from &quot;./Policy&quot;\r\n    \r\n    \r\n    export const lamdaExecutionRole = new aws.iam.Role(&quot;lamda-execution-role&quot;, {assumeRolePolicy: `{\r\n     \r\n      &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n      &quot;Statement&quot;: [\r\n        {\r\n          &quot;Action&quot;: &quot;sts:AssumeRole&quot;,\r\n          &quot;Principal&quot;: {\r\n            &quot;Service&quot;: &quot;lambda.amazonaws.com&quot;\r\n          },\r\n          &quot;Effect&quot;: &quot;Allow&quot;\r\n        }\r\n      ]\r\n    }`,\r\n     name:&#39;lamda-execution-role&#39;,\r\n     managedPolicyArns: [ \r\n    \t lamdaPolicy.arn,\r\n    \t fileSystemPolicy.arn,\r\n    \t vpcPolicy.arn,\r\n    \t \r\n    \t \r\n     ]\r\n    }\r\n    \r\n    );\r\nWith following policis: \r\n\r\n    import * as pulumi from &quot;@pulumi/pulumi&quot;;\r\n    import * as aws from &quot;@pulumi/aws&quot;;\r\n    \r\n    export const lamdaPolicy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;AWSLambdaBasicExecutionRole&quot;,\r\n    }))\r\n    \r\n    export const s3Policy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;AmazonS3FullAccess&quot;,\r\n    }))\r\n    \r\n    export const fileSystemPolicy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;AmazonElasticFileSystemClientFullAccess&quot;,\r\n    }))\r\n    \r\n    export const vpcPolicy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;AWSLambdaVPCAccessExecutionRole&quot;,\r\n    }))\r\n    \r\n    \r\n    export const clodWatchPolicy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;CloudWatchLogsFullAccess&quot;,\r\n    }))\r\n\r\nThe Javacode for logging looks like this:\r\n\r\n    package HelloWorldServerless;\r\n    \r\n    \r\n    import com.amazonaws.services.lambda.runtime.events.APIGatewayV2ProxyRequestEvent;\r\n    import com.amazonaws.services.lambda.runtime.events.APIGatewayV2ProxyResponseEvent;\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    \r\n    public class HelloWorld  {  \r\n    \t\r\n    \t private static final Logger logger = LoggerFactory.getLogger(HelloWorld.class);\r\n    \t\t\r\n    \tpublic APIGatewayV2ProxyResponseEvent handler(APIGatewayV2ProxyRequestEvent request, Context context)\r\n    \t{  \t\r\n    \t\tlogger.info(&quot;Start handler&quot;);\r\n    \t\tString requestMessage = request.getBody();\r\n    \t\tJSONObject jsonMessage = new JSONObject(requestMessage);\r\n    \t\tString messageValue = jsonMessage.getString(&quot;message&quot;);\r\n    \t\tString responsMessageValue = messageValue.toUpperCase();\r\n    \t\tString responsMessageKey = &quot;{\\&quot;message\\&quot;:&quot;;\r\n    \t\tString responsMessage = responsMessageKey + &quot;\\&quot;&quot; + responsMessageValue.toUpperCase() + &quot;\\&quot;&quot; + &quot;}&quot;;\r\n    \t\tAPIGatewayV2ProxyResponseEvent respons = new APIGatewayV2ProxyResponseEvent();\r\n    \t\trespons.setBody(responsMessage);\r\n    \t\trespons.setStatusCode(200);\r\n    \t\tlogger.info(&quot;End handler&quot;);\r\n    \t\treturn respons;\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I run the Java code on the ASW function I get following error messages\r\n\r\n23:33:47,950 |-INFO in ch.qos.logback.core.FileAppender[FILE] - File property is set to [tmp/logs/app.log]\r\n\r\n23:33:47,954 |-ERROR in ch.qos.logback.core.FileAppender[FILE] - Failed to create parent directories for [/var/task/tmp/logs/app.log]\r\n\r\nHow do I manage to use the tmp directory to store the tmp/logs/app.log ?\r\n\r\n","title":"How do I save a file from logback fileappnder on AWS Function?","body":"<p>I want to save the file from  logback file appender in /tmp directory in AWS Lamda function.\nThe logback config file look like this:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;tmp/app.log&lt;/file&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; /&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n \n</code></pre>\n<p>My Pulumi code for AWS Lamda function look like this:</p>\n<pre><code>export const lamda = new aws.lambda.Function(&quot;aws-lamda-function&quot;, {\n    code: new pulumi.asset.FileArchive(&quot;../app/build/libs/HelloWorldServerless-all.jar&quot;),   \n    runtime: aws.lambda.Runtime.Java11,\n    handler: &quot;HelloWorldServerless.HelloWorld::handler&quot;,\n    role: lamdaExecutionRole.arn,\n    name: &quot;hello-world&quot;,\n    memorySize: 300,\n    timeout: 100,\n    layers: [ 'arn:aws:lambda:eu-north-1:464622532012:layer:dd-trace-java:8',\n              &quot;arn:aws:lambda:eu-north-1:464622532012:layer:Datadog-Extension:38&quot;],    \n    environment: {\n        variables: {\n            DD_API_KEY:&quot;*****&quot;,\n            DD_CAPTURE_LAMBDA_PAYLOAD: &quot;false&quot;,\n            DD_LAMBDA_HANDLER: &quot;HelloWorldServerless.HelloWorld::handler&quot;,\n            DD_LOG_LEVEL: &quot;debug&quot;,\n            FUNCTION_NAME: &quot;hello-world&quot;,\n            DD_SERVICE: 'hello-world',\n            DD_SITE: &quot;datadoghq.eu&quot;,\n            DD_VERSION: &quot;0.1&quot;,\n            DD_LOGS_INJECTION: 'true',\n            DD_JMXFETCH_ENABLED: 'false',\n            DD_TRACE_ENABLED: 'true',\n            DD_ENV: 'dev',\n            DD_MERGE_XRAY_TRACES: &quot;false&quot;,\n            DD_FLUSH_TO_LOG: &quot;true&quot;\n        },\n    },\n},\n\n\n\n)\n</code></pre>\n<p>The lamda role looks like this:</p>\n<pre><code>import * as aws from &quot;@pulumi/aws&quot;;\nimport   {lamdaPolicy} from &quot;./Policy&quot;\nimport   {fileSystemPolicy} from &quot;./Policy&quot;\nimport   {vpcPolicy} from &quot;./Policy&quot;\n\n\nexport const lamdaExecutionRole = new aws.iam.Role(&quot;lamda-execution-role&quot;, {assumeRolePolicy: `{\n \n  &quot;Version&quot;: &quot;2012-10-17&quot;,\n  &quot;Statement&quot;: [\n    {\n      &quot;Action&quot;: &quot;sts:AssumeRole&quot;,\n      &quot;Principal&quot;: {\n        &quot;Service&quot;: &quot;lambda.amazonaws.com&quot;\n      },\n      &quot;Effect&quot;: &quot;Allow&quot;\n    }\n  ]\n}`,\n name:'lamda-execution-role',\n managedPolicyArns: [ \n     lamdaPolicy.arn,\n     fileSystemPolicy.arn,\n     vpcPolicy.arn,\n     \n     \n ]\n}\n\n);\n</code></pre>\n<p>With following policis:</p>\n<pre><code>import * as pulumi from &quot;@pulumi/pulumi&quot;;\nimport * as aws from &quot;@pulumi/aws&quot;;\n\nexport const lamdaPolicy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;AWSLambdaBasicExecutionRole&quot;,\n}))\n\nexport const s3Policy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;AmazonS3FullAccess&quot;,\n}))\n\nexport const fileSystemPolicy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;AmazonElasticFileSystemClientFullAccess&quot;,\n}))\n\nexport const vpcPolicy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;AWSLambdaVPCAccessExecutionRole&quot;,\n}))\n\n\nexport const clodWatchPolicy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;CloudWatchLogsFullAccess&quot;,\n}))\n</code></pre>\n<p>The Javacode for logging looks like this:</p>\n<pre><code>package HelloWorldServerless;\n\n\nimport com.amazonaws.services.lambda.runtime.events.APIGatewayV2ProxyRequestEvent;\nimport com.amazonaws.services.lambda.runtime.events.APIGatewayV2ProxyResponseEvent;\nimport com.amazonaws.services.lambda.runtime.Context;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.json.JSONObject;\n\n\npublic class HelloWorld  {  \n    \n     private static final Logger logger = LoggerFactory.getLogger(HelloWorld.class);\n        \n    public APIGatewayV2ProxyResponseEvent handler(APIGatewayV2ProxyRequestEvent request, Context context)\n    {   \n        logger.info(&quot;Start handler&quot;);\n        String requestMessage = request.getBody();\n        JSONObject jsonMessage = new JSONObject(requestMessage);\n        String messageValue = jsonMessage.getString(&quot;message&quot;);\n        String responsMessageValue = messageValue.toUpperCase();\n        String responsMessageKey = &quot;{\\&quot;message\\&quot;:&quot;;\n        String responsMessage = responsMessageKey + &quot;\\&quot;&quot; + responsMessageValue.toUpperCase() + &quot;\\&quot;&quot; + &quot;}&quot;;\n        APIGatewayV2ProxyResponseEvent respons = new APIGatewayV2ProxyResponseEvent();\n        respons.setBody(responsMessage);\n        respons.setStatusCode(200);\n        logger.info(&quot;End handler&quot;);\n        return respons;\n        \n    }\n\n}\n</code></pre>\n<p>When I run the Java code on the ASW function I get following error messages</p>\n<p>23:33:47,950 |-INFO in ch.qos.logback.core.FileAppender[FILE] - File property is set to [tmp/logs/app.log]</p>\n<p>23:33:47,954 |-ERROR in ch.qos.logback.core.FileAppender[FILE] - Failed to create parent directories for [/var/task/tmp/logs/app.log]</p>\n<p>How do I manage to use the tmp directory to store the tmp/logs/app.log ?</p>\n"},{"tags":["java","android","react-native","android-pendingintent"],"owner":{"account_id":28063270,"reputation":1,"user_id":21437044,"display_name":"Penny Starling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679310703,"creation_date":1679303106,"question_id":75788295,"body_markdown":"I&#39;m new to this site and coding as well so my question might not contain all the necessary information so please let me know if I need to add anything else. I am currently trying to create an app with React Native that I want to be able to communicate with the serial port and am currently trying to use the `react-native-usb-serialport-for-android` library I found online:\r\n\r\nhttps://github.com/bastengao/react-native-usb-serialport-for-android\r\n\r\nWhen I try to use the tryRequestPermissionMethod from the library, I get the error,\r\n&gt; Targeting S+ (version 21 ad above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent. Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\n&gt; checkFlags     PendingIntent.java:382\r\n&gt; getBroadcastAsUser      PendingIntent.java:673\r\n&gt; getBroadcast     PendingIntent.java:660\r\n&gt; tryRequestPermission     UsbSerialportForAndroidModule.java:99\r\n\r\n\r\nThe JAVA file with the ReactMethod for tryRequestPermission looks like this: \r\n\r\n```\r\n    @ReactMethod\r\n    public void tryRequestPermission(int deviceId, Promise promise) {\r\n        UsbManager usbManager = (UsbManager) getCurrentActivity().getSystemService(Context.USB_SERVICE);\r\n        UsbDevice device = findDevice(deviceId);\r\n        if (device == null) {\r\n            promise.reject(CODE_DEVICE_NOT_FOND, &quot;device not found&quot;);\r\n            return;\r\n        }\r\n\r\n        if (usbManager.hasPermission(device)) {\r\n            promise.resolve(1);\r\n            return;\r\n        }\r\n\r\n        PendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), 0);\r\n        usbManager.requestPermission(device, usbPermissionIntent);\r\n        promise.resolve(0);\r\n    }\r\n```\r\n\r\nand I&#39;m currently using it in my project like so: \r\n\r\n```\r\nasync function asyncCall() {\r\n\r\n    const devices = await UsbSerialManager.list();\r\n    console.log(devices)\r\n    \r\n    try {\r\n        await UsbSerialManager.tryRequestPermission(1002);\r\n        const usbSerialport = await UsbSerialManager.open(1002, { baudRate: 230400, parity: Parity.None, dataBits: 8, stopBits: 1 });\r\n\r\n      \r\n        const sub = usbSerialport.onReceived((event) =&gt; {\r\n          console.log(event.deviceId, event.data);\r\n        });\r\n\r\n      } catch(err) {\r\n        console.log(err);\r\n        if (err.code === Codes.DEVICE_NOT_FOND) {\r\n          // ...\r\n        }\r\n      }\r\n}\r\n```\r\nI&#39;ve tried attempting the solutions from other posts changing the `PendingIntent` line from\r\n \r\n```\r\nPendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), 0);\r\n``` \r\n\r\nto \r\n\r\n```\r\nPendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), PendingIntent.FLAG_IMMUTABLE);\r\n```\r\n\r\nas well as adding `implementation &#39;androidx.work:work-runtime:2.7.1&#39;` to the `app/build.gradle` file, however I still get the same error. Any help would be greatly appreciated!","title":"How to resolve Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE error","body":"<p>I'm new to this site and coding as well so my question might not contain all the necessary information so please let me know if I need to add anything else. I am currently trying to create an app with React Native that I want to be able to communicate with the serial port and am currently trying to use the <code>react-native-usb-serialport-for-android</code> library I found online:</p>\n<p><a href=\"https://github.com/bastengao/react-native-usb-serialport-for-android\" rel=\"nofollow noreferrer\">https://github.com/bastengao/react-native-usb-serialport-for-android</a></p>\n<p>When I try to use the tryRequestPermissionMethod from the library, I get the error,</p>\n<blockquote>\n<p>Targeting S+ (version 21 ad above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent. Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.</p>\n</blockquote>\n<blockquote>\n<p>checkFlags     PendingIntent.java:382\ngetBroadcastAsUser      PendingIntent.java:673\ngetBroadcast     PendingIntent.java:660\ntryRequestPermission     UsbSerialportForAndroidModule.java:99</p>\n</blockquote>\n<p>The JAVA file with the ReactMethod for tryRequestPermission looks like this:</p>\n<pre><code>    @ReactMethod\n    public void tryRequestPermission(int deviceId, Promise promise) {\n        UsbManager usbManager = (UsbManager) getCurrentActivity().getSystemService(Context.USB_SERVICE);\n        UsbDevice device = findDevice(deviceId);\n        if (device == null) {\n            promise.reject(CODE_DEVICE_NOT_FOND, &quot;device not found&quot;);\n            return;\n        }\n\n        if (usbManager.hasPermission(device)) {\n            promise.resolve(1);\n            return;\n        }\n\n        PendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), 0);\n        usbManager.requestPermission(device, usbPermissionIntent);\n        promise.resolve(0);\n    }\n</code></pre>\n<p>and I'm currently using it in my project like so:</p>\n<pre><code>async function asyncCall() {\n\n    const devices = await UsbSerialManager.list();\n    console.log(devices)\n    \n    try {\n        await UsbSerialManager.tryRequestPermission(1002);\n        const usbSerialport = await UsbSerialManager.open(1002, { baudRate: 230400, parity: Parity.None, dataBits: 8, stopBits: 1 });\n\n      \n        const sub = usbSerialport.onReceived((event) =&gt; {\n          console.log(event.deviceId, event.data);\n        });\n\n      } catch(err) {\n        console.log(err);\n        if (err.code === Codes.DEVICE_NOT_FOND) {\n          // ...\n        }\n      }\n}\n</code></pre>\n<p>I've tried attempting the solutions from other posts changing the <code>PendingIntent</code> line from</p>\n<pre><code>PendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), 0);\n</code></pre>\n<p>to</p>\n<pre><code>PendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n<p>as well as adding <code>implementation 'androidx.work:work-runtime:2.7.1'</code> to the <code>app/build.gradle</code> file, however I still get the same error. Any help would be greatly appreciated!</p>\n"},{"tags":["java","soap","serversocket"],"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679310320,"creation_date":1679310320,"question_id":75789509,"body_markdown":"I am working on a legacy SOAP API client application.\r\nIn the unit test cases, it&#39;s implemented to start a mock server using ServerSocket class and return a SOAP string response.\r\nInitially, that response string starts like below.\r\n\r\n     &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;utf-8\\&quot;?&gt;&quot; +\r\n            &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\r\n            &quot;&lt;soapenv:Body&gt;&quot; +\r\n\r\nBut the test case was failing with a generic reason \r\n\r\n&gt; &quot;COULDN&#39;T SEND MESSAGE&quot;\r\n\r\nI debugged more and found the reason for the above error is a \r\n\r\n&gt; &quot;CONNECTION RESET&quot;\r\n\r\nSince there are several reasons for the above errors I couldn&#39;t find the specific reason for the considering scenario.\r\n\r\nBut after checking the revisions of the code, I found that in the initial commits, the response SOAP string was starting as below.\r\n\r\n    &quot;HTTP/1.1 200 OK\\r\\n&quot; +\r\n            &quot;Content-Type: text/xml;charset=utf-8\\r\\n&quot; +\r\n            &quot;Server: Apache-Coyote/1.1\\r\\n&quot; +\r\n            &quot;\\r\\n&quot; +\r\n            &quot;\\r\\n&quot; +\r\n            &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\r\n\r\nSo, the only difference is below generic lines.\r\n\r\n                &quot;HTTP/1.1 200 OK\\r\\n&quot; +\r\n            &quot;Content-Type: text/xml;charset=utf-8\\r\\n&quot; +\r\n            &quot;Server: Apache-Coyote/1.1\\r\\n&quot; +\r\n            &quot;\\r\\n&quot; +\r\n            &quot;\\r\\n&quot; +\r\n\r\nSo, I added the above lines again and tried. It worked !!!. The mock server could successfully return the expected SOAP response.\r\n\r\nWhat I need to understand is the reason for the above behavior.","title":"Couldn&#39;t send message error from the Java ServerSocket","body":"<p>I am working on a legacy SOAP API client application.\nIn the unit test cases, it's implemented to start a mock server using ServerSocket class and return a SOAP string response.\nInitially, that response string starts like below.</p>\n<pre><code> &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;utf-8\\&quot;?&gt;&quot; +\n        &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\n        &quot;&lt;soapenv:Body&gt;&quot; +\n</code></pre>\n<p>But the test case was failing with a generic reason</p>\n<blockquote>\n<p>&quot;COULDN'T SEND MESSAGE&quot;</p>\n</blockquote>\n<p>I debugged more and found the reason for the above error is a</p>\n<blockquote>\n<p>&quot;CONNECTION RESET&quot;</p>\n</blockquote>\n<p>Since there are several reasons for the above errors I couldn't find the specific reason for the considering scenario.</p>\n<p>But after checking the revisions of the code, I found that in the initial commits, the response SOAP string was starting as below.</p>\n<pre><code>&quot;HTTP/1.1 200 OK\\r\\n&quot; +\n        &quot;Content-Type: text/xml;charset=utf-8\\r\\n&quot; +\n        &quot;Server: Apache-Coyote/1.1\\r\\n&quot; +\n        &quot;\\r\\n&quot; +\n        &quot;\\r\\n&quot; +\n        &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\n</code></pre>\n<p>So, the only difference is below generic lines.</p>\n<pre><code>            &quot;HTTP/1.1 200 OK\\r\\n&quot; +\n        &quot;Content-Type: text/xml;charset=utf-8\\r\\n&quot; +\n        &quot;Server: Apache-Coyote/1.1\\r\\n&quot; +\n        &quot;\\r\\n&quot; +\n        &quot;\\r\\n&quot; +\n</code></pre>\n<p>So, I added the above lines again and tried. It worked !!!. The mock server could successfully return the expected SOAP response.</p>\n<p>What I need to understand is the reason for the above behavior.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13357055,"reputation":702,"user_id":9640261,"display_name":"NayoR"},"score":0,"creation_date":1524508034,"post_id":49987445,"comment_id":86991571,"body_markdown":"Just in case you did not already check ; Do you use static method ? Do you instanciate it somewhere with a `new sqsClient() ` ?\nWhere do you log sqsClient ?","body":"Just in case you did not already check ; Do you use static method ? Do you instanciate it somewhere with a <code>new sqsClient() </code> ? Where do you log sqsClient ?"},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1524508110,"post_id":49987445,"comment_id":86991612,"body_markdown":"Thank @NayoR. No , I am not instantiating it with new sqsClient().","body":"Thank @NayoR. No , I am not instantiating it with new sqsClient()."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1524508628,"creation_date":1524507939,"answer_id":49987654,"question_id":49987445,"body_markdown":"Log4j2 will create an appender by calling ` @PluginFactory` annotated method (as per [this answer][1]). Your appender is probably not created as a Spring bean there, most likely `new SQSAppender(...)` is called, and `@Autowired` is not processed. \r\n\r\nAn example of how to implement a Spring-managed Log4j2 appender can be found in [org.springframework.amqp.rabbit.log4j2.AmqpAppender][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24205093/how-to-create-a-custom-appender-in-log4j2\r\n  [2]: https://docs.spring.io/spring-amqp/docs/current/api/org/springframework/amqp/rabbit/log4j2/AmqpAppender.html","title":"Unable to autowire spring bean in log appender","body":"<p>Log4j2 will create an appender by calling <code>@PluginFactory</code> annotated method (as per <a href=\"https://stackoverflow.com/questions/24205093/how-to-create-a-custom-appender-in-log4j2\">this answer</a>). Your appender is probably not created as a Spring bean there, most likely <code>new SQSAppender(...)</code> is called, and <code>@Autowired</code> is not processed. </p>\n\n<p>An example of how to implement a Spring-managed Log4j2 appender can be found in <a href=\"https://docs.spring.io/spring-amqp/docs/current/api/org/springframework/amqp/rabbit/log4j2/AmqpAppender.html\" rel=\"nofollow noreferrer\">org.springframework.amqp.rabbit.log4j2.AmqpAppender</a>.</p>\n"},{"tags":[],"owner":{"account_id":21712299,"reputation":1,"user_id":16023773,"display_name":"Tzofiya Tzadok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679241443,"creation_date":1679241443,"answer_id":75783231,"question_id":49987445,"body_markdown":"The appender is created before spring initialization.\r\nThis is the solution I found:\r\n\r\n**MyCustomAppender.java:**\r\n\r\n    @Plugin(name = &quot;MyCustomAppender&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\r\n    public class MyCustomAppender extends AbstractAppender {\r\n      ...\r\n      private static MyBean myBean;\r\n\r\n      public static void setMyBean(MyBean myBean) {\r\n          MyCustomAppender.MyBean = myBean;\r\n      }\r\n    \r\n      @PluginFactory\r\n      public static MyCustomAppender createAppender(\r\n            @PluginAttribute(&quot;name&quot;) String name,\r\n            @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\r\n            @PluginElement(&quot;Layout&quot;) Layout layout,\r\n            @PluginElement(&quot;Filters&quot;) Filter filter,\r\n            @PluginElement(&quot;Properties&quot;) Property[] properties) {\r\n          return new MyCustomAppender(name, filter, layout, ignoreExceptions, properties);\r\n      }\r\n    \r\n      @Override\r\n      public void append(LogEvent event) {\r\n          if (myBean != null) {\r\n              myBean.doSomething();\r\n          }\r\n      }\r\n\r\n**MyBean.java:**\r\n\r\n    @Component\r\n    public class MyBean {\r\n      ...\r\n      @PostConstruct\r\n      public void init() {\r\n          MyCustomAppender.setMyBean(this);\r\n      }\r\n      ...\r\n    }","title":"Unable to autowire spring bean in log appender","body":"<p>The appender is created before spring initialization.\nThis is the solution I found:</p>\n<p><strong>MyCustomAppender.java:</strong></p>\n<pre><code>@Plugin(name = &quot;MyCustomAppender&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\npublic class MyCustomAppender extends AbstractAppender {\n  ...\n  private static MyBean myBean;\n\n  public static void setMyBean(MyBean myBean) {\n      MyCustomAppender.MyBean = myBean;\n  }\n\n  @PluginFactory\n  public static MyCustomAppender createAppender(\n        @PluginAttribute(&quot;name&quot;) String name,\n        @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\n        @PluginElement(&quot;Layout&quot;) Layout layout,\n        @PluginElement(&quot;Filters&quot;) Filter filter,\n        @PluginElement(&quot;Properties&quot;) Property[] properties) {\n      return new MyCustomAppender(name, filter, layout, ignoreExceptions, properties);\n  }\n\n  @Override\n  public void append(LogEvent event) {\n      if (myBean != null) {\n          myBean.doSomething();\n      }\n  }\n</code></pre>\n<p><strong>MyBean.java:</strong></p>\n<pre><code>@Component\npublic class MyBean {\n  ...\n  @PostConstruct\n  public void init() {\n      MyCustomAppender.setMyBean(this);\n  }\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21712299,"reputation":1,"user_id":16023773,"display_name":"Tzofiya Tzadok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679309913,"creation_date":1679309913,"answer_id":75789449,"question_id":49987445,"body_markdown":"Additional solution:\r\n\r\n**MyServiceApplicationContext.java:**\r\n\r\n    @Service\r\n    public class MyServiceApplicationContext implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext context;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            context = applicationContext;\r\n        }\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n            return context;\r\n        }\r\n    }\r\n\r\n**MyCustomAppender.java:**\r\n\r\n    @Plugin(name = &quot;MyCustomAppender&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\r\n    public class MyCustomAppender extends AbstractAppender {\r\n      \r\n      private MyBean myBean;\r\n\r\n      protected MyCustomAppender(String name, Filter filter, Layout&lt;? extends Serializable&gt; layout, boolean ignoreExceptions, Property[] properties) {\r\n        super(name, filter, layout, ignoreExceptions, properties);\r\n    }\r\n    \r\n      @PluginFactory\r\n      public static MyCustomAppender createAppender(\r\n            @PluginAttribute(&quot;name&quot;) String name,\r\n            @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\r\n            @PluginElement(&quot;Layout&quot;) Layout layout,\r\n            @PluginElement(&quot;Filters&quot;) Filter filter,\r\n            @PluginElement(&quot;Properties&quot;) Property[] properties) {\r\n          return new MyCustomAppender(name, filter, layout, ignoreExceptions, properties);\r\n      }\r\n    \r\n      @Override\r\n      public void append(LogEvent event) {\r\n          if (myBean == null) {\r\n            // the appender is called before spring initialization\r\n            ApplicationContext context = MyServiceApplicationContext.getApplicationContext();\r\n            if (context != null) {\r\n                myBean = context.getBean(MyBean.class);\r\n            }\r\n        \r\n        }\r\n          if (myBean != null) {\r\n              myBean.doSomething();\r\n          }\r\n      }\r\n\r\n","title":"Unable to autowire spring bean in log appender","body":"<p>Additional solution:</p>\n<p><strong>MyServiceApplicationContext.java:</strong></p>\n<pre><code>@Service\npublic class MyServiceApplicationContext implements ApplicationContextAware {\n\n    private static ApplicationContext context;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        context = applicationContext;\n    }\n\n    public static ApplicationContext getApplicationContext() {\n        return context;\n    }\n}\n</code></pre>\n<p><strong>MyCustomAppender.java:</strong></p>\n<pre><code>@Plugin(name = &quot;MyCustomAppender&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\npublic class MyCustomAppender extends AbstractAppender {\n  \n  private MyBean myBean;\n\n  protected MyCustomAppender(String name, Filter filter, Layout&lt;? extends Serializable&gt; layout, boolean ignoreExceptions, Property[] properties) {\n    super(name, filter, layout, ignoreExceptions, properties);\n}\n\n  @PluginFactory\n  public static MyCustomAppender createAppender(\n        @PluginAttribute(&quot;name&quot;) String name,\n        @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\n        @PluginElement(&quot;Layout&quot;) Layout layout,\n        @PluginElement(&quot;Filters&quot;) Filter filter,\n        @PluginElement(&quot;Properties&quot;) Property[] properties) {\n      return new MyCustomAppender(name, filter, layout, ignoreExceptions, properties);\n  }\n\n  @Override\n  public void append(LogEvent event) {\n      if (myBean == null) {\n        // the appender is called before spring initialization\n        ApplicationContext context = MyServiceApplicationContext.getApplicationContext();\n        if (context != null) {\n            myBean = context.getBean(MyBean.class);\n        }\n    \n    }\n      if (myBean != null) {\n          myBean.doSomething();\n      }\n  }\n</code></pre>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49987654,"answer_count":3,"score":2,"last_activity_date":1679309913,"creation_date":1524507063,"question_id":49987445,"body_markdown":"I am trying to autowire SQSFIFOJavaClient under the appender that I have created. I printed out the bean names that are defined in Spring Boot main class and I am able to see SQSFIFOJavaClient bean defined. However the bean is not being autowired in the below listed class. Both SQSAppender and SQSFIFOJavaClient are in different packages but are under the same base package which is added to component-scan. Can you please tell me what I am missing here?\r\n\r\n    @Component\r\n    @DependsOn(&quot;SQSFIFOJavaClient&quot;)\r\n    public class SQSAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n    \r\n        @Autowired\r\n        private SQSFIFOJavaClient sqsClient;\r\n\r\n\r\nI tried adding DependsOn annotation as well , but still sqsClient is displayed as null.","title":"Unable to autowire spring bean in log appender","body":"<p>I am trying to autowire SQSFIFOJavaClient under the appender that I have created. I printed out the bean names that are defined in Spring Boot main class and I am able to see SQSFIFOJavaClient bean defined. However the bean is not being autowired in the below listed class. Both SQSAppender and SQSFIFOJavaClient are in different packages but are under the same base package which is added to component-scan. Can you please tell me what I am missing here?</p>\n\n<pre><code>@Component\n@DependsOn(\"SQSFIFOJavaClient\")\npublic class SQSAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n\n    @Autowired\n    private SQSFIFOJavaClient sqsClient;\n</code></pre>\n\n<p>I tried adding DependsOn annotation as well , but still sqsClient is displayed as null.</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674677953,"post_id":75239358,"comment_id":132768340,"body_markdown":"&quot;*Is there a way to run quarkus-module1 and quarkus-module2 in dev mode at the same time ?*&quot; - Just open two terminals. In one, run `mvn -pl quarkus-module1 quarkus:dev`, in the other run `mvn -pl quarkus-module2 quarkus:dev`.","body":"&quot;<i>Is there a way to run quarkus-module1 and quarkus-module2 in dev mode at the same time ?</i>&quot; - Just open two terminals. In one, run <code>mvn -pl quarkus-module1 quarkus:dev</code>, in the other run <code>mvn -pl quarkus-module2 quarkus:dev</code>."},{"owner":{"account_id":27621722,"reputation":11,"user_id":21082612,"display_name":"okyn29"},"score":0,"creation_date":1674678572,"post_id":75239358,"comment_id":132768494,"body_markdown":"Ok I will try this tomorrow. Do I need an additional plugin/dependency for the argument -pl ?\nHowever in my real case I have in fact 8 quarkus-module. Is there another way to run the 8 modules at the same time in dev mode without executing 8 commands ?","body":"Ok I will try this tomorrow. Do I need an additional plugin/dependency for the argument -pl ? However in my real case I have in fact 8 quarkus-module. Is there another way to run the 8 modules at the same time in dev mode without executing 8 commands ?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674678799,"post_id":75239358,"comment_id":132768549,"body_markdown":"`pl` is a standard argument of `mvn`. It stands for &quot;projects&quot; and is basically the same as `cd`ing into the submodule-directory and running `mvn` there.  --- &quot;*Is there another way to run the 8 modules at the same time in dev mode without executing 8 commands ?*&quot; - Not that I know of. I recommend using an IDE with quarkus support (e.g. IntelliJ). Another way would be to containerize the application with remote-dev enabled. But this would require to start 8 remote-dev connections (i.e. eight commands), so nothing won here.","body":"<code>pl</code> is a standard argument of <code>mvn</code>. It stands for &quot;projects&quot; and is basically the same as <code>cd</code>ing into the submodule-directory and running <code>mvn</code> there.  --- &quot;<i>Is there another way to run the 8 modules at the same time in dev mode without executing 8 commands ?</i>&quot; - Not that I know of. I recommend using an IDE with quarkus support (e.g. IntelliJ). Another way would be to containerize the application with remote-dev enabled. But this would require to start 8 remote-dev connections (i.e. eight commands), so nothing won here."},{"owner":{"account_id":27621722,"reputation":11,"user_id":21082612,"display_name":"okyn29"},"score":0,"creation_date":1674679380,"post_id":75239358,"comment_id":132768701,"body_markdown":"6 years of using maven and I haven&#39;t heard for this argument of mvn &#128517;. Ok it would be a nice improvement as I was able to do it with wildly and eclipse (using server view and adding my 8 modules)","body":"6 years of using maven and I haven&#39;t heard for this argument of mvn . Ok it would be a nice improvement as I was able to do it with wildly and eclipse (using server view and adding my 8 modules)"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1674739894,"post_id":75239358,"comment_id":132780833,"body_markdown":"It is a bit inconvenient but, to defend the Quarkus case, remember that with WildFly you have a single process, the application server, and 8 deployments. With Quarkus you have 8 distinct processes. Don&#39;t forget to change the web server port for each module too - otherwise there will be a port conflict! Good luck!","body":"It is a bit inconvenient but, to defend the Quarkus case, remember that with WildFly you have a single process, the application server, and 8 deployments. With Quarkus you have 8 distinct processes. Don&#39;t forget to change the web server port for each module too - otherwise there will be a port conflict! Good luck!"}],"owner":{"account_id":27621722,"reputation":11,"user_id":21082612,"display_name":"okyn29"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679309433,"creation_date":1674677617,"question_id":75239358,"body_markdown":"I am not able to run my multi module project with quarkus in dev mode.\r\n\r\nHere is my problem. We are currently switching from wildfly to quarkus on a multi module maven project. I am able to run quarkus in dev mode (with quarkus:dev) if I have only one quarkus module. But as soon as I have 2 modules the dev mode is not working.\r\n\r\nHere is my root pom:\r\n\r\n```\r\n  &lt;modules&gt;\r\n    &lt;module&gt;lib1&lt;/module&gt;\r\n    &lt;module&gt;quarkus-module1&lt;/module&gt;\r\n    &lt;module&gt;quarkus-module2&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.5&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;make-index&lt;/id&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;jandex&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;build&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt; \r\n\r\n  ...\r\n\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\nThe pom.xml of the module lib1 (pure java project)\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nThe pom of quarkus-module1\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nThe pom of quarkus-module2\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\nWhen I run the following command on the root pom\r\n\r\n```\r\nmvn clean package quarkus:dev\r\n```\r\nMaven build lib1, quarkus-module1 and run quarkus-module1 in dev mode but it seems that querkus-module2 (build and dev mode) is blocked until dev mode of quarkus-module1 is stopped (with ctrl C).\r\n\r\n**Is there a way to run quarkus-module1 and quarkus-module2 in dev mode at the same time ?**\r\n\r\n\r\nI am using quarkus 2.15.3.Final with a JDK 11 (mandrel).\r\nFor information the two modules needs quarkus because in prod they are deployed in two distinct docker images and communicates using REST API.\r\n\r\n\r\nAs I said, I am able to run in dev mode with only lib1 and quarkus-module1 but as soon as I add quarkus-module2 I am not able to have simultaneously quarkus-module1 and quarkus-module2 in dev mode","title":"Multi module maven project with Quarkus in dev mode","body":"<p>I am not able to run my multi module project with quarkus in dev mode.</p>\n<p>Here is my problem. We are currently switching from wildfly to quarkus on a multi module maven project. I am able to run quarkus in dev mode (with quarkus:dev) if I have only one quarkus module. But as soon as I have 2 modules the dev mode is not working.</p>\n<p>Here is my root pom:</p>\n<pre><code>  &lt;modules&gt;\n    &lt;module&gt;lib1&lt;/module&gt;\n    &lt;module&gt;quarkus-module1&lt;/module&gt;\n    &lt;module&gt;quarkus-module2&lt;/module&gt;\n  &lt;/modules&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n      &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.5&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;make-index&lt;/id&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;jandex&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;build&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt; \n\n  ...\n\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>The pom.xml of the module lib1 (pure java project)</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>The pom of quarkus-module1</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>The pom of quarkus-module2</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>When I run the following command on the root pom</p>\n<pre><code>mvn clean package quarkus:dev\n</code></pre>\n<p>Maven build lib1, quarkus-module1 and run quarkus-module1 in dev mode but it seems that querkus-module2 (build and dev mode) is blocked until dev mode of quarkus-module1 is stopped (with ctrl C).</p>\n<p><strong>Is there a way to run quarkus-module1 and quarkus-module2 in dev mode at the same time ?</strong></p>\n<p>I am using quarkus 2.15.3.Final with a JDK 11 (mandrel).\nFor information the two modules needs quarkus because in prod they are deployed in two distinct docker images and communicates using REST API.</p>\n<p>As I said, I am able to run in dev mode with only lib1 and quarkus-module1 but as soon as I add quarkus-module2 I am not able to have simultaneously quarkus-module1 and quarkus-module2 in dev mode</p>\n"},{"tags":["java","spring-boot","jira","jira-plugin","atlassian-plugin-sdk"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679309345,"creation_date":1679309345,"question_id":75789351,"body_markdown":"I have created one Jira Plugin using spring boot and angular in front-end. when I uploading app to Jira Software it is getting upload and also user is getting authenticated but as I am using angular I have to forward its page to index.html which I do as follow:\r\n\r\n    @Controller\r\n    public class Html5PathsController {\r\n    \r\n    \r\n        @RequestMapping(value = &quot;/**/{path:[^\\\\.]*}&quot;)\r\n        public String forward() {\r\n            return &quot;forward:/index.html&quot;;\r\n        }\r\n    }\r\n\r\nThis is working and my login page gets displayed but when I am trying to make any rest request from my application for e.g **/app/getuserlocation it is giving me 401 error not** sure I anyone can help will be really great.\r\n\r\n   \r\n    @WebFilter(&quot;/*&quot;)\r\n    public class AuthFilter implements Filter {\r\n    \r\n        Properties p = null;\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            try {\r\n                p = PropertiesLoaderUtils.loadProperties(new ClassPathResource(&quot;filters.properties&quot;));\r\n                AuditLoggerUtil.log(AuditLoggerUtil.CORELOGGER, AuditLoggerUtil.DEBUG, this, &quot;AuthFilter init&quot;, null);\r\n            } catch (Exception e) {\r\n                AuditLoggerUtil.log(AuditLoggerUtil.CORELOGGER, AuditLoggerUtil.ERROR,\r\n                        AuthFilter.class, &quot;Error while reading Cross origin&quot;, e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            try {\r\n                HttpServletRequest req = (HttpServletRequest) request;\r\n                HttpServletResponse res = (HttpServletResponse) response;\r\n    \r\n    \r\n                    if (isAUth(req,res)) {\r\n    \t\t\t\tres.sendRedirect(  &quot;https://&quot; + req.getServerName()\r\n                                 + &quot;/app/sso_login?e=&quot; + CommonUtils.toHexString(ja1.toString().getBytes(StandardCharsets.UTF_8)));\r\n                        chain.doFilter(request, response);\r\n                    } else {\r\n                        return;\r\n                    }\r\n    \r\n    \r\n            } catch (Exception e) {\r\n                \r\n            }\r\n        }\r\n    \r\n        public boolean isAUth(HttpServletRequest req, HttpServletResponse res) {\r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n           /* Optional&lt;AtlassianHostUser&gt; optionalHostUser = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\r\n                    .map(Authentication::getPrincipal)\r\n                    .filter(AtlassianHostUser.class::isInstance)\r\n                    .map(AtlassianHostUser.class::cast);\r\n            System.out.println(optionalHostUser.get());*/\r\n            return auth.isAuthenticated();\r\n        }\r\n    \r\n       \r\n    \r\n    \r\n        @Override\r\n        public void destroy() {\r\n            Filter.super.destroy();\r\n        }\r\n    }\r\n\r\nAlso while redirecting using sendRedirect method working but after that rest request are not working as AtlassianHostUser becomes AnonymousHostUser, not sure why please help.\r\n","title":"Atlassian Spring boot Jira Plugin gives 401 for internal rest request","body":"<p>I have created one Jira Plugin using spring boot and angular in front-end. when I uploading app to Jira Software it is getting upload and also user is getting authenticated but as I am using angular I have to forward its page to index.html which I do as follow:</p>\n<pre><code>@Controller\npublic class Html5PathsController {\n\n\n    @RequestMapping(value = &quot;/**/{path:[^\\\\.]*}&quot;)\n    public String forward() {\n        return &quot;forward:/index.html&quot;;\n    }\n}\n</code></pre>\n<p>This is working and my login page gets displayed but when I am trying to make any rest request from my application for e.g <strong>/app/getuserlocation it is giving me 401 error not</strong> sure I anyone can help will be really great.</p>\n<pre><code>@WebFilter(&quot;/*&quot;)\npublic class AuthFilter implements Filter {\n\n    Properties p = null;\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        try {\n            p = PropertiesLoaderUtils.loadProperties(new ClassPathResource(&quot;filters.properties&quot;));\n            AuditLoggerUtil.log(AuditLoggerUtil.CORELOGGER, AuditLoggerUtil.DEBUG, this, &quot;AuthFilter init&quot;, null);\n        } catch (Exception e) {\n            AuditLoggerUtil.log(AuditLoggerUtil.CORELOGGER, AuditLoggerUtil.ERROR,\n                    AuthFilter.class, &quot;Error while reading Cross origin&quot;, e);\n        }\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        try {\n            HttpServletRequest req = (HttpServletRequest) request;\n            HttpServletResponse res = (HttpServletResponse) response;\n\n\n                if (isAUth(req,res)) {\n                res.sendRedirect(  &quot;https://&quot; + req.getServerName()\n                             + &quot;/app/sso_login?e=&quot; + CommonUtils.toHexString(ja1.toString().getBytes(StandardCharsets.UTF_8)));\n                    chain.doFilter(request, response);\n                } else {\n                    return;\n                }\n\n\n        } catch (Exception e) {\n            \n        }\n    }\n\n    public boolean isAUth(HttpServletRequest req, HttpServletResponse res) {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n       /* Optional&lt;AtlassianHostUser&gt; optionalHostUser = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\n                .map(Authentication::getPrincipal)\n                .filter(AtlassianHostUser.class::isInstance)\n                .map(AtlassianHostUser.class::cast);\n        System.out.println(optionalHostUser.get());*/\n        return auth.isAuthenticated();\n    }\n\n   \n\n\n    @Override\n    public void destroy() {\n        Filter.super.destroy();\n    }\n}\n</code></pre>\n<p>Also while redirecting using sendRedirect method working but after that rest request are not working as AtlassianHostUser becomes AnonymousHostUser, not sure why please help.</p>\n"},{"tags":["java","spring","logging","spring-cloud-stream"],"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1679047048,"post_id":75765589,"comment_id":133654504,"body_markdown":"This logs is from s-c-function. What version do you use?","body":"This logs is from s-c-function. What version do you use?"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1679047137,"post_id":75765589,"comment_id":133654537,"body_markdown":"it has recently been addressed and is now a DEBUG level log `logger.debug(&quot;Invoking function: &quot;...`","body":"it has recently been addressed and is now a DEBUG level log <code>logger.debug(&quot;Invoking function: &quot;...</code>"},{"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"score":0,"creation_date":1679047520,"post_id":75765589,"comment_id":133654643,"body_markdown":"but it seems I cant even turn it off with logging.level.org.springframework.cloud=ERROR","body":"but it seems I cant even turn it off with logging.level.org.springframework.cloud=ERROR"},{"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"score":0,"creation_date":1679047579,"post_id":75765589,"comment_id":133654666,"body_markdown":"spring-cloud-function-core 3.2.9","body":"spring-cloud-function-core 3.2.9"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1679047682,"post_id":75765589,"comment_id":133654697,"body_markdown":"Something else must be enabling DEBUG level logging. .  outside of Spring, some competing configuration.","body":"Something else must be enabling DEBUG level logging. .  outside of Spring, some competing configuration."},{"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"score":0,"creation_date":1679308899,"post_id":75765589,"comment_id":133692284,"body_markdown":"ah so it seems here the system.out.println is it https://github.com/spring-cloud/spring-cloud-function/commit/438b8d2e237564ab3206358129ebecae2ea39cef","body":"ah so it seems here the system.out.println is it <a href=\"https://github.com/spring-cloud/spring-cloud-function/commit/438b8d2e237564ab3206358129ebecae2ea39cef\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-function/commit/&hellip;</a>"},{"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"score":0,"creation_date":1679309311,"post_id":75765589,"comment_id":133692409,"body_markdown":"so i bumped spring-cloud-function-context version down to 3.2.7, now this logging is not there anymore","body":"so i bumped spring-cloud-function-context version down to 3.2.7, now this logging is not there anymore"}],"answers":[{"tags":[],"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679309345,"creation_date":1679309345,"answer_id":75789352,"question_id":75765589,"body_markdown":"Has been an issue with spring-cloud-function-context 3.2.9, I went back to spring-cloud-function-context 3.2.7 for now","title":"Massive logging on spring cloud stream","body":"<p>Has been an issue with spring-cloud-function-context 3.2.9, I went back to spring-cloud-function-context 3.2.7 for now</p>\n"}],"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75789352,"answer_count":1,"score":3,"last_activity_date":1679309345,"creation_date":1679043817,"question_id":75765589,"body_markdown":"in my logs there shows up a message like this every time I push something into the streamBridge to kafka\r\n\r\n```Invoking function: streamBridge&lt;org.springframework.messaging.Message&lt;java.lang.Object&gt;, org.springframework.messaging.Message&lt;java.lang.Object&gt;&gt;with input type: org.springframework.messaging.Message&lt;java.lang.Object&gt;```\r\n\r\nI&#39;m using Spring-Boot 2.7.5, and spring-cloud-stream 3.2.7 including the kafka bindings in the same version. I cant find where to turn this of, doesnt seem to be able to control this with logback, as its only printed to the console and not to our logstash as every other message...\r\n\r\nThanks in advance...\r\n","title":"Massive logging on spring cloud stream","body":"<p>in my logs there shows up a message like this every time I push something into the streamBridge to kafka</p>\n<p><code>Invoking function: streamBridge&lt;org.springframework.messaging.Message&lt;java.lang.Object&gt;, org.springframework.messaging.Message&lt;java.lang.Object&gt;&gt;with input type: org.springframework.messaging.Message&lt;java.lang.Object&gt;</code></p>\n<p>I'm using Spring-Boot 2.7.5, and spring-cloud-stream 3.2.7 including the kafka bindings in the same version. I cant find where to turn this of, doesnt seem to be able to control this with logback, as its only printed to the console and not to our logstash as every other message...</p>\n<p>Thanks in advance...</p>\n"},{"tags":["java","algorithm","divide-and-conquer"],"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1679309395,"post_id":75789328,"comment_id":133692433,"body_markdown":"&#161;Hola! Las preguntas y respuestas aqu&#237; deben estar escritas en ingl&#233;s. Por favor utiliza [es.so]. (Hello! Questions and answers here must be written in English. Please use [Stack Overflow in Spanish](https://es.stackoverflow.com/).)","body":"&#161;Hola! Las preguntas y respuestas aqu&#237; deben estar escritas en ingl&#233;s. Por favor utiliza <a href=\"https://es.stackoverflow.com\">Stack Overflow en espaol</a>. (Hello! Questions and answers here must be written in English. Please use <a href=\"https://es.stackoverflow.com/\">Stack Overflow in Spanish</a>.)"}],"owner":{"account_id":26430425,"reputation":11,"user_id":20076687,"display_name":"Sofia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679309282,"answer_count":0,"score":1,"last_activity_date":1679309191,"creation_date":1679309191,"question_id":75789328,"body_markdown":"Lo que quiero es mejorar el siguiente algoritmo para que sea de orden O(n) utilizando divide y venceras, lo que hace el algoritmo es calcular la suma de cada subvector obteniendo el maximo. Algunos ejemplos son:\r\n\r\nY este es el algoritmo en cuesti&#243;n a mejorar.\r\n\r\n       public static int sumaMaxDyV(int a\\[\\], int izq, int der) {\r\n    \r\n        if (der == izq) {\r\n            return a[izq];\r\n        }\r\n    \r\n        \r\n        int cen = (izq + der) / 2;\r\n    \r\n       \r\n        int izqMax = Integer.MIN_VALUE;\r\n        int suma = 0;\r\n        for (int i = cen; i &gt;= izq; i--)\r\n        {\r\n            suma += a[i];\r\n            if (suma &gt; izqMax) {\r\n                izqMax = suma;\r\n            }\r\n        }\r\n    \r\n     \r\n        int derMax = Integer.MIN_VALUE;\r\n        suma = 0;    // restablece la suma a 0\r\n        for (int i = cen + 1; i &lt;= der; i++)\r\n        {\r\n            suma += a[i];\r\n            if (suma &gt; derMax) {\r\n                derMax = suma;\r\n            }\r\n        }\r\n    \r\n       \r\n        int maxIzqDer = Integer.max(sumaMaxDyV(a, izq, cen),\r\n                                    sumaMaxDyV(a, cen + 1, der));\r\n    \r\n        \r\n        return Integer.max(maxIzqDer, izqMax + derMax);\r\n    }\r\n    \r\n    \r\n    public static int sumaMaxDyV2(int a[]) {\r\n        \r\n        if (a == null || a.length == 0) {\r\n            return 0;\r\n        }\r\n    \r\n        return sumaMaxDyV(a, 0, a.length - 1);\r\n    }`\r\n\r\n`@Test`\r\n\r\n      public void sumaMaxDyV2() {\r\n        int\\[\\] arr1 = {-2, 11, -4, 13, -5, 2};\r\n        int\\[\\] arr2 = {1, -3, 4, -2, -1, 6};\r\n        int\\[\\] arr3 = {4, -3, 5, -2, -1, 2, 6, -2};\r\n    \r\n        int expected1 = 20;\r\n        int expected2 = 7;\r\n        int expected3 = 11;\r\n    \r\n        assertEquals(expected1, DivideYVenceras.sumaMaxDyV2(arr1));\r\n        assertEquals(expected2, DivideYVenceras.sumaMaxDyV2(arr2));\r\n        assertEquals(expected3, DivideYVenceras.sumaMaxDyV2(arr3));\r\n    }`\r\n\r\nEl problema de este algoritmo es que para calcular el subvector &#243;ptimo central tiene que volver a sumar los elementos de las partes izquierda y derecha correspondientes, lo que supone un gasto lineal adicional en cada llamada recursiva. Esto se puede evitar esto, si la llamada con el subvector izquierdo nos devuelve adem&#225;s el subvector &#243;ptimo que alcance su extremo derecho, y an&#225;logamente, la llamada con el subvector derecho nos devuelve tambi&#233;n el subvector que comience justo en su extremo izquierdo. De esta forma, el subvector central &#243;ptimo corresponder&#237;a a la concatenaci&#243;n de estos dos nuevos subvectores. Adem&#225;s, en el caso izquierdo (an&#225;logamente para el derecho), el resultado ser&#237;a la concatenaci&#243;n de toda la parte izquierda, con el subvector &#243;ptimo izquierdo obtenido para la parte derecha. Finalmente, destacar que es necesario conocer tambi&#233;n la suma total de los elementos de cada parte del vector.","title":"Algoritmo en java de tipo divide y venceras orden O(n)","body":"<p>Lo que quiero es mejorar el siguiente algoritmo para que sea de orden O(n) utilizando divide y venceras, lo que hace el algoritmo es calcular la suma de cada subvector obteniendo el maximo. Algunos ejemplos son:</p>\n<p>Y este es el algoritmo en cuestin a mejorar.</p>\n<pre><code>   public static int sumaMaxDyV(int a\\[\\], int izq, int der) {\n\n    if (der == izq) {\n        return a[izq];\n    }\n\n    \n    int cen = (izq + der) / 2;\n\n   \n    int izqMax = Integer.MIN_VALUE;\n    int suma = 0;\n    for (int i = cen; i &gt;= izq; i--)\n    {\n        suma += a[i];\n        if (suma &gt; izqMax) {\n            izqMax = suma;\n        }\n    }\n\n \n    int derMax = Integer.MIN_VALUE;\n    suma = 0;    // restablece la suma a 0\n    for (int i = cen + 1; i &lt;= der; i++)\n    {\n        suma += a[i];\n        if (suma &gt; derMax) {\n            derMax = suma;\n        }\n    }\n\n   \n    int maxIzqDer = Integer.max(sumaMaxDyV(a, izq, cen),\n                                sumaMaxDyV(a, cen + 1, der));\n\n    \n    return Integer.max(maxIzqDer, izqMax + derMax);\n}\n\n\npublic static int sumaMaxDyV2(int a[]) {\n    \n    if (a == null || a.length == 0) {\n        return 0;\n    }\n\n    return sumaMaxDyV(a, 0, a.length - 1);\n}`\n</code></pre>\n<p><code>@Test</code></p>\n<pre><code>  public void sumaMaxDyV2() {\n    int\\[\\] arr1 = {-2, 11, -4, 13, -5, 2};\n    int\\[\\] arr2 = {1, -3, 4, -2, -1, 6};\n    int\\[\\] arr3 = {4, -3, 5, -2, -1, 2, 6, -2};\n\n    int expected1 = 20;\n    int expected2 = 7;\n    int expected3 = 11;\n\n    assertEquals(expected1, DivideYVenceras.sumaMaxDyV2(arr1));\n    assertEquals(expected2, DivideYVenceras.sumaMaxDyV2(arr2));\n    assertEquals(expected3, DivideYVenceras.sumaMaxDyV2(arr3));\n}`\n</code></pre>\n<p>El problema de este algoritmo es que para calcular el subvector ptimo central tiene que volver a sumar los elementos de las partes izquierda y derecha correspondientes, lo que supone un gasto lineal adicional en cada llamada recursiva. Esto se puede evitar esto, si la llamada con el subvector izquierdo nos devuelve adems el subvector ptimo que alcance su extremo derecho, y anlogamente, la llamada con el subvector derecho nos devuelve tambin el subvector que comience justo en su extremo izquierdo. De esta forma, el subvector central ptimo correspondera a la concatenacin de estos dos nuevos subvectores. Adems, en el caso izquierdo (anlogamente para el derecho), el resultado sera la concatenacin de toda la parte izquierda, con el subvector ptimo izquierdo obtenido para la parte derecha. Finalmente, destacar que es necesario conocer tambin la suma total de los elementos de cada parte del vector.</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data","jodatime"],"answers":[{"tags":[],"owner":{"account_id":26073980,"reputation":1,"user_id":19773160,"display_name":"Simone Norcini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679309086,"creation_date":1678813343,"answer_id":75736238,"question_id":75336034,"body_markdown":"You should create an `EntityListener` and annotate the `FooHistory` with `@EntityListeners`. The `EntityListener` should implement the logic to retrieve all `FooHistory` documents and update `foo.CreatedOn` recursively. The real feasibility depends on the `FooHistory` collection size.","title":"How to override @CreatedDate in Spring data JPA","body":"<p>You should create an <code>EntityListener</code> and annotate the <code>FooHistory</code> with <code>@EntityListeners</code>. The <code>EntityListener</code> should implement the logic to retrieve all <code>FooHistory</code> documents and update <code>foo.CreatedOn</code> recursively. The real feasibility depends on the <code>FooHistory</code> collection size.</p>\n"}],"owner":{"account_id":22861647,"reputation":3,"user_id":17005621,"display_name":"RAKESH YEDLAPPALLI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679309086,"creation_date":1675428851,"question_id":75336034,"body_markdown":"I have two mongo collections, one is the Foo collection and another is the FooHistory collection.\r\nThe Foohistory collection is an exact copy of the Foo collection but it creates every time a new document upon every change in the Foo collection. \r\n\r\nin the Foo collection, the POJO class has a CreatedOn field that is annotated with @CreatedDate. so every time a document is inserted in the Foohistory collection, it is being inserted with currentDate. My requirement is, I want to use the same Foo collection CreatedOn time for all the histories by leveraging the @CreatedDate annotation, can someone help me with this?\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe structure of POJO classes are \r\n```\r\nimport org.joda.time.LocalDate;\r\nimport org.springframework.data.annotation.Id;\r\n\r\npublic class Foo {\r\n    \r\n    @Id\r\n    private String id;\r\n    private LocalDate CreatedOn;\r\n    \r\n}\r\n\r\n\r\npublic class FooHistory {\r\n    \r\n    @Id\r\n    private String id;\r\n    private Foo foo;\r\n    \r\n}\r\n```","title":"How to override @CreatedDate in Spring data JPA","body":"<p>I have two mongo collections, one is the Foo collection and another is the FooHistory collection.\nThe Foohistory collection is an exact copy of the Foo collection but it creates every time a new document upon every change in the Foo collection.</p>\n<p>in the Foo collection, the POJO class has a CreatedOn field that is annotated with @CreatedDate. so every time a document is inserted in the Foohistory collection, it is being inserted with currentDate. My requirement is, I want to use the same Foo collection CreatedOn time for all the histories by leveraging the @CreatedDate annotation, can someone help me with this?</p>\n<p>The structure of POJO classes are</p>\n<pre><code>import org.joda.time.LocalDate;\nimport org.springframework.data.annotation.Id;\n\npublic class Foo {\n    \n    @Id\n    private String id;\n    private LocalDate CreatedOn;\n    \n}\n\n\npublic class FooHistory {\n    \n    @Id\n    private String id;\n    private Foo foo;\n    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","liquibase"],"owner":{"account_id":20886137,"reputation":63,"user_id":15342690,"display_name":"Anjula Paulus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679308849,"creation_date":1679304135,"question_id":75788463,"body_markdown":"so we are planning to do a migration of our tables from one database cluster to another. Is there a way to approach it on an springboot application level using liquibase during startup?","title":"Liquibase + Springboot: Migrating the tables from one cluster to another","body":"<p>so we are planning to do a migration of our tables from one database cluster to another. Is there a way to approach it on an springboot application level using liquibase during startup?</p>\n"},{"tags":["java","spring","spring-mvc","model-view-controller","classnotfoundexception"],"comments":[{"owner":{"account_id":5067294,"reputation":278,"user_id":4067074,"accept_rate":86,"display_name":"Tristan"},"score":0,"creation_date":1631103137,"post_id":69102445,"comment_id":122132307,"body_markdown":"Thanks for the detail although the heading could be a bit more descriptive. It looks like you are using a combination of old XML definition and annotation. Is it because the StudentDao is not marked as a bean(@Component for example)? You will also want to mark you constructor with @Autowired.  How are you running the app?  Is this a spring boot app?","body":"Thanks for the detail although the heading could be a bit more descriptive. It looks like you are using a combination of old XML definition and annotation. Is it because the StudentDao is not marked as a bean(@Component for example)? You will also want to mark you constructor with @Autowired.  How are you running the app?  Is this a spring boot app?"},{"owner":{"account_id":22678338,"reputation":11,"user_id":16848996,"display_name":"Gokulakrishnan K."},"score":0,"creation_date":1631103279,"post_id":69102445,"comment_id":122132384,"body_markdown":"at the bottom of the question i have described what actually my console says and also first code block is the error message","body":"at the bottom of the question i have described what actually my console says and also first code block is the error message"},{"owner":{"account_id":22678338,"reputation":11,"user_id":16848996,"display_name":"Gokulakrishnan K."},"score":0,"creation_date":1631103347,"post_id":69102445,"comment_id":122132413,"body_markdown":"Student.java is bean/model @Tristan Can you check the image which i have attached i think you might get some more clear view","body":"Student.java is bean/model @Tristan Can you check the image which i have attached i think you might get some more clear view"},{"owner":{"account_id":5067294,"reputation":278,"user_id":4067074,"accept_rate":86,"display_name":"Tristan"},"score":0,"creation_date":1631103467,"post_id":69102445,"comment_id":122132481,"body_markdown":"The description at the bottom would probably be more helpful at the top. The bold  &quot;the Error i am facing help me to fix it!!&quot; is not really helpful.","body":"The description at the bottom would probably be more helpful at the top. The bold  &quot;the Error i am facing help me to fix it!!&quot; is not really helpful."},{"owner":{"account_id":22678338,"reputation":11,"user_id":16848996,"display_name":"Gokulakrishnan K."},"score":1,"creation_date":1631103595,"post_id":69102445,"comment_id":122132543,"body_markdown":"I have edited the post and alter @Tristan can you help with the bug?","body":"I have edited the post and alter @Tristan can you help with the bug?"},{"owner":{"account_id":5067294,"reputation":278,"user_id":4067074,"accept_rate":86,"display_name":"Tristan"},"score":0,"creation_date":1631103600,"post_id":69102445,"comment_id":122132547,"body_markdown":"I was referring to marking StudentDao with @Component, but yes I assume you have a Student class definition as well","body":"I was referring to marking StudentDao with @Component, but yes I assume you have a Student class definition as well"}],"answers":[{"comments":[{"owner":{"account_id":22678338,"reputation":11,"user_id":16848996,"display_name":"Gokulakrishnan K."},"score":0,"creation_date":1631165146,"post_id":69103611,"comment_id":122150151,"body_markdown":"Thank you @Tristan I have solved by updating spring versions","body":"Thank you @Tristan I have solved by updating spring versions"}],"tags":[],"owner":{"account_id":5067294,"reputation":278,"user_id":4067074,"accept_rate":86,"display_name":"Tristan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631106094,"creation_date":1631106094,"answer_id":69103611,"question_id":69102445,"body_markdown":"There are a few things here. First I believe you need to adjust the component scan to scan at the **com.spring** level, not **com.spring.controller**, as this will exclude the **com.spring.dao** package.  You will also want to enable annotation scanning by adding the **annotation-driven** tag. So the spring-servlet.xml would look like this : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \r\n        xsi:schemaLocation=&quot;  \r\n            http://www.springframework.org/schema/beans  \r\n            http://www.springframework.org/schema/beans/spring-beans.xsd  \r\n            http://www.springframework.org/schema/context  \r\n            http://www.springframework.org/schema/context/spring-context.xsd  \r\n            http://www.springframework.org/schema/mvc  \r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n            &lt;annotation-driven /&gt;\r\n            &lt;context:component-scan base-package=&quot;com.spring&quot;&gt;&lt;/context:component-scan&gt;    \r\n            \r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    \r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;    \r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;    \r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;    \r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_mvc&quot;&gt;&lt;/property&gt;    \r\n        &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;    \r\n        &lt;property name=&quot;password&quot; value=&quot;Brownie@753&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;jt&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    \r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;!-- Not needed if annotated &lt;bean id=&quot;dao&quot; class=&quot;com.spring.dao.StudentDao&quot;&gt;    \r\n        &lt;property name=&quot;template&quot; ref=&quot;jt&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt; --&gt;\r\n    &lt;/beans&gt;  \r\n\r\nYou can then switch to an annotation on your Student dao :\r\n\r\n    @Component\r\n    public class StudentDao {\r\n    \r\n\t\t@Autowired\r\n        JdbcTemplate template;\r\n\r\nand remove the definition in the spring-servlet.xml. \r\n\r\nYou could also define your DB connection in a different class to slim down the XML, but that is a different topic.","title":"org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.spring.dao.StudentDao]","body":"<p>There are a few things here. First I believe you need to adjust the component scan to scan at the <strong>com.spring</strong> level, not <strong>com.spring.controller</strong>, as this will exclude the <strong>com.spring.dao</strong> package.  You will also want to enable annotation scanning by adding the <strong>annotation-driven</strong> tag. So the spring-servlet.xml would look like this :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \n    xsi:schemaLocation=&quot;  \n        http://www.springframework.org/schema/beans  \n        http://www.springframework.org/schema/beans/spring-beans.xsd  \n        http://www.springframework.org/schema/context  \n        http://www.springframework.org/schema/context/spring-context.xsd  \n        http://www.springframework.org/schema/mvc  \n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n        &lt;annotation-driven /&gt;\n        &lt;context:component-scan base-package=&quot;com.spring&quot;&gt;&lt;/context:component-scan&gt;    \n        \n&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    \n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;    \n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_mvc&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;password&quot; value=&quot;Brownie@753&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;jt&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    \n    &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;!-- Not needed if annotated &lt;bean id=&quot;dao&quot; class=&quot;com.spring.dao.StudentDao&quot;&gt;    \n    &lt;property name=&quot;template&quot; ref=&quot;jt&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt; --&gt;\n&lt;/beans&gt;  \n</code></pre>\n<p>You can then switch to an annotation on your Student dao :</p>\n<pre><code>@Component\npublic class StudentDao {\n\n    @Autowired\n    JdbcTemplate template;\n</code></pre>\n<p>and remove the definition in the spring-servlet.xml.</p>\n<p>You could also define your DB connection in a different class to slim down the XML, but that is a different topic.</p>\n"}],"owner":{"account_id":22678338,"reputation":11,"user_id":16848996,"display_name":"Gokulakrishnan K."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679308469,"creation_date":1631101484,"question_id":69102445,"body_markdown":"\r\nthe Error i am facing help me to fix it!!\r\n---------------------\r\nhello as i run `MyApplication` i get `index.jsp` page along where as the following pages aren&#39;t working `ClassNotFoundException` is triggered when i click on child page of `index.jsp` (*NOTE: new to stackoverflow i tried to attach image but i turned as link due to reputation problem*)\r\n\r\n\r\n    javax.servlet.ServletException: Servlet.init() for servlet spring threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n    root cause\r\n    \r\n    org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.spring.dao.StudentDao] for bean with name &#39;dao&#39; defined in ServletContext resource [/WEB-INF/spring-servlet.xml]; nested exception is java.lang.ClassNotFoundException: com.spring.dao.StudentDao\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1281)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:575)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1350)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:916)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:609)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:599)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:518)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:459)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n    root cause\r\n    \r\n    java.lang.ClassNotFoundException: com.spring.dao.StudentDao\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1285)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\r\n    \torg.springframework.util.ClassUtils.forName(ClassUtils.java:257)\r\n    \torg.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:416)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1302)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1273)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:575)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1350)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:916)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:609)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:599)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:518)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:459)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/8.5.9 logs.\r\n\r\n***pom.xml***\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.spring.student&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MyApplication&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;MyApplication Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;8.0.26&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;MyApplication&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n***web.xml***\r\n\r\n    &lt;!DOCTYPE web-app PUBLIC\r\n     &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n     &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n    \r\n    &lt;web-app&gt;\r\n      &lt;display-name&gt;SpringMVC&lt;/display-name&gt;\r\n      &lt;servlet&gt;\r\n      \r\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n          \r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; \r\n    &lt;/servlet&gt;   \r\n    &lt;servlet-mapping&gt;\r\n    \t&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    \t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt; \r\n    &lt;/web-app&gt;\r\n\r\n***spring-servlet.xml***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \r\n        xsi:schemaLocation=&quot;  \r\n            http://www.springframework.org/schema/beans  \r\n            http://www.springframework.org/schema/beans/spring-beans.xsd  \r\n            http://www.springframework.org/schema/context  \r\n            http://www.springframework.org/schema/context/spring-context.xsd  \r\n            http://www.springframework.org/schema/mvc  \r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n            &lt;context:component-scan base-package=&quot;com.spring.controller&quot;&gt;&lt;/context:component-scan&gt;    \r\n            \r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    \r\n    \t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;    \r\n    \t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;    \r\n    \t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;    \r\n    \t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_mvc&quot;&gt;&lt;/property&gt;    \r\n    \t&lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;    \r\n    \t&lt;property name=&quot;password&quot; value=&quot;Brownie@753&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;jt&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    \r\n    \t&lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;dao&quot; class=&quot;com.spring.dao.StudentDao&quot;&gt;    \r\n    \t&lt;property name=&quot;template&quot; ref=&quot;jt&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;       \r\n    &lt;/beans&gt;  \r\n\r\n***StudentController.java***\r\n\r\n\r\n    package com.spring.controller;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    import com.spring.dao.StudentDao;\r\n    import com.spring.model.Student;\r\n    \r\n    @Controller\r\n    public class StudentController {\r\n    \t\r\n    \t@Autowired\r\n    \tStudentDao dao;\r\n    \t\r\n    \t\r\n    \t@RequestMapping(&quot;/studentform&quot;)\r\n    \tpublic String showform(Model m)\r\n    \t{\r\n    \t\tm.addAttribute(&quot;command&quot;, new Student());\r\n    \t\treturn &quot;studentform&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/save&quot;,method = RequestMethod.POST)\r\n    \tpublic String save(@ModelAttribute(&quot;Student&quot;) Student student)\r\n    \t{\r\n    \t\tdao.save(student);\r\n    \t\treturn &quot;redirect:/viewstudent&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/viewstudent&quot;)\r\n    \tpublic String viewstudent(Model m)\r\n    \t{\r\n    \t\tList&lt;Student&gt; list = dao.getStudents();\r\n    \t\tm.addAttribute(&quot;list&quot;,list);\r\n    \t\tSystem.out.println(list.size());\r\n    \t\treturn &quot;viewstudent&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/editstudent/{id}&quot;)\r\n    \tpublic String edit(@PathVariable int id, Model m)\r\n    \t{\r\n    \t\tStudent student = dao.getStudentById(id);\r\n    \t\tm.addAttribute(&quot;command&quot;,student);\r\n    \t\treturn &quot;studenteditform&quot;;\r\n    \t}\t\r\n    \t\r\n    \t@RequestMapping(value=&quot;/editsave&quot;, method = RequestMethod.POST)\r\n    \tpublic String editsave(@ModelAttribute(&quot;student&quot;) Student student)\r\n    \t{\r\n    \t\tdao.update(student);\r\n    \t\treturn &quot;redirect:/viewstudent&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/deletestudent/{id}&quot;, method = RequestMethod.GET)\r\n    \tpublic String delete(@PathVariable int id)\r\n    \t{\r\n    \t\tdao.delete(id);\r\n    \t\treturn &quot;redirect:/viewstudent&quot;;\r\n    \t}\r\n    }\r\n\r\n***StudentDao.java***\r\n\r\n\r\n    package com.spring.dao;\r\n    \r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.jdbc.core.BeanPropertyRowMapper;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.core.RowMapper;\r\n    \r\n    import com.spring.model.Student;\r\n    \r\n    \r\n    public class StudentDao {\r\n    \r\n    \tJdbcTemplate template;\r\n    \t /**\r\n    \t * @param jdbcTemplate the jdbcTemplate to set\r\n    \t */\r\n    \tpublic void setTemplate(JdbcTemplate template) {\r\n    \t\tthis.template = template;\r\n    \t}\r\n    \t\r\n    \tpublic int save(Student s)\r\n    \t{\r\n    \t\tString sql =&quot;INSERT INTO student_detail (name,phone,address)VALUES(&#39;&quot;+s.getName()+&quot;&#39;,&#39;&quot;+s.getPhone()+&quot;&#39;,&#39;&quot;+s.getAddress()+&quot;&#39;)&quot;;\r\n    \t\treturn template.update(sql);\r\n    \t}\r\n    \tpublic int update(Student s)\r\n    \t{\r\n    \t\tString sql = &quot;UPDATE student_detail SET name=&#39;&quot;+s.getName()+&quot;&#39;, phone=&#39;&quot;+s.getPhone()+&quot;&#39;, address=&#39;&quot;+s.getAddress()+&quot;&#39; WHERE id=&quot;+s.getId()+&quot;&quot;;\r\n    \t\treturn template.update(sql);\r\n    \t}\r\n    \tpublic int delete(int id)\r\n    \t{\r\n    \t\tString sql =&quot;DELETE FROM student_detail WHERE id=&quot;+id+&quot;&quot;;\r\n    \t\treturn template.update(sql);\r\n    \t}\r\n    \tpublic Student getStudentById(int id)\r\n    \t{\r\n    \t\tString sql = &quot;SELECT * FROM student_detail WHERE id=?&quot;;\r\n    \t\t\treturn template.queryForObject(sql, new Object[]{id}, new BeanPropertyRowMapper&lt;Student&gt;(Student.class));\r\n    \t}\r\n    \tpublic List&lt;Student&gt; getStudents()\r\n    \t{\r\n    \t\t return template.query(&quot;SELECT * FROM student_detail&quot;,new RowMapper&lt;Student&gt;(){    \r\n    \t\t        public Student mapRow(ResultSet rs, int row) throws SQLException {    \r\n    \t\t            Student s=new Student();    \r\n    \t\t            s.setId(rs.getInt(1));    \r\n    \t\t            s.setName(rs.getString(2));    \r\n    \t\t            s.setPhone(rs.getString(3));    \r\n    \t\t            s.setAddress(rs.getString(4));    \r\n    \t\t            return s;    \r\n    \t\t        }    \r\n    \t\t    });    \r\n    \t}\r\n    }\r\n\r\n***PROJECT STRUCTURE &amp; Build Path declaration:***\r\n\r\n[eclipce project structure][1]\r\n\r\n\r\n[java build path][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k7v8B.png\r\n  [2]: https://i.stack.imgur.com/X79Ot.png\r\n\r\n","title":"org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.spring.dao.StudentDao]","body":"<h2>the Error i am facing help me to fix it!!</h2>\n<p>hello as i run <code>MyApplication</code> i get <code>index.jsp</code> page along where as the following pages aren't working <code>ClassNotFoundException</code> is triggered when i click on child page of <code>index.jsp</code> (<em>NOTE: new to stackoverflow i tried to attach image but i turned as link due to reputation problem</em>)</p>\n<pre><code>javax.servlet.ServletException: Servlet.init() for servlet spring threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nroot cause\n\norg.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.spring.dao.StudentDao] for bean with name 'dao' defined in ServletContext resource [/WEB-INF/spring-servlet.xml]; nested exception is java.lang.ClassNotFoundException: com.spring.dao.StudentDao\n    org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1281)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:575)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1350)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:916)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:609)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:599)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:518)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:459)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nroot cause\n\njava.lang.ClassNotFoundException: com.spring.dao.StudentDao\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1285)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\n    org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\n    org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:416)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1273)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:575)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1350)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:916)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:609)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:599)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:518)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:459)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nnote The full stack trace of the root cause is available in the Apache Tomcat/8.5.9 logs.\n</code></pre>\n<p><em><strong>pom.xml</strong></em></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.spring.student&lt;/groupId&gt;\n  &lt;artifactId&gt;MyApplication&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;MyApplication Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n       &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;MyApplication&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em><strong>web.xml</strong></em></p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n  &lt;display-name&gt;SpringMVC&lt;/display-name&gt;\n  &lt;servlet&gt;\n  \n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n      \n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; \n&lt;/servlet&gt;   \n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt; \n&lt;/web-app&gt;\n</code></pre>\n<p><em><strong>spring-servlet.xml</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \n    xsi:schemaLocation=&quot;  \n        http://www.springframework.org/schema/beans  \n        http://www.springframework.org/schema/beans/spring-beans.xsd  \n        http://www.springframework.org/schema/context  \n        http://www.springframework.org/schema/context/spring-context.xsd  \n        http://www.springframework.org/schema/mvc  \n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n        &lt;context:component-scan base-package=&quot;com.spring.controller&quot;&gt;&lt;/context:component-scan&gt;    \n        \n&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    \n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;    \n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_mvc&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;password&quot; value=&quot;Brownie@753&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;jt&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    \n    &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;dao&quot; class=&quot;com.spring.dao.StudentDao&quot;&gt;    \n    &lt;property name=&quot;template&quot; ref=&quot;jt&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;       \n&lt;/beans&gt;  \n</code></pre>\n<p><em><strong>StudentController.java</strong></em></p>\n<pre><code>package com.spring.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.spring.dao.StudentDao;\nimport com.spring.model.Student;\n\n@Controller\npublic class StudentController {\n    \n    @Autowired\n    StudentDao dao;\n    \n    \n    @RequestMapping(&quot;/studentform&quot;)\n    public String showform(Model m)\n    {\n        m.addAttribute(&quot;command&quot;, new Student());\n        return &quot;studentform&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/save&quot;,method = RequestMethod.POST)\n    public String save(@ModelAttribute(&quot;Student&quot;) Student student)\n    {\n        dao.save(student);\n        return &quot;redirect:/viewstudent&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/viewstudent&quot;)\n    public String viewstudent(Model m)\n    {\n        List&lt;Student&gt; list = dao.getStudents();\n        m.addAttribute(&quot;list&quot;,list);\n        System.out.println(list.size());\n        return &quot;viewstudent&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/editstudent/{id}&quot;)\n    public String edit(@PathVariable int id, Model m)\n    {\n        Student student = dao.getStudentById(id);\n        m.addAttribute(&quot;command&quot;,student);\n        return &quot;studenteditform&quot;;\n    }   \n    \n    @RequestMapping(value=&quot;/editsave&quot;, method = RequestMethod.POST)\n    public String editsave(@ModelAttribute(&quot;student&quot;) Student student)\n    {\n        dao.update(student);\n        return &quot;redirect:/viewstudent&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/deletestudent/{id}&quot;, method = RequestMethod.GET)\n    public String delete(@PathVariable int id)\n    {\n        dao.delete(id);\n        return &quot;redirect:/viewstudent&quot;;\n    }\n}\n</code></pre>\n<p><em><strong>StudentDao.java</strong></em></p>\n<pre><code>package com.spring.dao;\n\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.List;\n\nimport org.springframework.jdbc.core.BeanPropertyRowMapper;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.RowMapper;\n\nimport com.spring.model.Student;\n\n\npublic class StudentDao {\n\n    JdbcTemplate template;\n     /**\n     * @param jdbcTemplate the jdbcTemplate to set\n     */\n    public void setTemplate(JdbcTemplate template) {\n        this.template = template;\n    }\n    \n    public int save(Student s)\n    {\n        String sql =&quot;INSERT INTO student_detail (name,phone,address)VALUES('&quot;+s.getName()+&quot;','&quot;+s.getPhone()+&quot;','&quot;+s.getAddress()+&quot;')&quot;;\n        return template.update(sql);\n    }\n    public int update(Student s)\n    {\n        String sql = &quot;UPDATE student_detail SET name='&quot;+s.getName()+&quot;', phone='&quot;+s.getPhone()+&quot;', address='&quot;+s.getAddress()+&quot;' WHERE id=&quot;+s.getId()+&quot;&quot;;\n        return template.update(sql);\n    }\n    public int delete(int id)\n    {\n        String sql =&quot;DELETE FROM student_detail WHERE id=&quot;+id+&quot;&quot;;\n        return template.update(sql);\n    }\n    public Student getStudentById(int id)\n    {\n        String sql = &quot;SELECT * FROM student_detail WHERE id=?&quot;;\n            return template.queryForObject(sql, new Object[]{id}, new BeanPropertyRowMapper&lt;Student&gt;(Student.class));\n    }\n    public List&lt;Student&gt; getStudents()\n    {\n         return template.query(&quot;SELECT * FROM student_detail&quot;,new RowMapper&lt;Student&gt;(){    \n                public Student mapRow(ResultSet rs, int row) throws SQLException {    \n                    Student s=new Student();    \n                    s.setId(rs.getInt(1));    \n                    s.setName(rs.getString(2));    \n                    s.setPhone(rs.getString(3));    \n                    s.setAddress(rs.getString(4));    \n                    return s;    \n                }    \n            });    \n    }\n}\n</code></pre>\n<p><em><strong>PROJECT STRUCTURE &amp; Build Path declaration:</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/k7v8B.png\" rel=\"nofollow noreferrer\">eclipce project structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/X79Ot.png\" rel=\"nofollow noreferrer\">java build path</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9663,"page":562,"page_size":100}
