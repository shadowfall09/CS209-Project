{"items":[{"tags":["java","oop","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":14008000,"reputation":259,"user_id":10117515,"display_name":"Supritam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653969887,"creation_date":1653969887,"answer_id":72442154,"question_id":72442078,"body_markdown":"Actually DB operations are part of Data Access Objects(DAO) class. Any read or write operation should be done in DAO class. The POJO or DTO should not be used, it is meant for Business or Service Data Transfers. In DAO class there should be &quot;Entity&quot; objects which should be replica of your tables. In the read and write operations Entity Objects should be used.","title":"Is it right to write DB Operations in a POJO or DTO Class?","body":"<p>Actually DB operations are part of Data Access Objects(DAO) class. Any read or write operation should be done in DAO class. The POJO or DTO should not be used, it is meant for Business or Service Data Transfers. In DAO class there should be &quot;Entity&quot; objects which should be replica of your tables. In the read and write operations Entity Objects should be used.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653981618,"creation_date":1653981618,"answer_id":72443662,"question_id":72442078,"body_markdown":"It depends on what architecture is used in application. \r\n\r\nIf you have layered architecture:\r\n- Service layer should have business logic\r\n- Data layer is responsible for CRUD operation and this layer should be very simple. This layer should not have any logic, except base CRUD logic. Model classes should not have any logic as ORM prevents you from having logic in model classes.\r\n- UI layer should be responsible only for presentation and deal with DTOs or ViewModels\r\n\r\nRead more about [other architectures here in this beautiful answer][1]\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/a/218394/202970","title":"Is it right to write DB Operations in a POJO or DTO Class?","body":"<p>It depends on what architecture is used in application.</p>\n<p>If you have layered architecture:</p>\n<ul>\n<li>Service layer should have business logic</li>\n<li>Data layer is responsible for CRUD operation and this layer should be very simple. This layer should not have any logic, except base CRUD logic. Model classes should not have any logic as ORM prevents you from having logic in model classes.</li>\n<li>UI layer should be responsible only for presentation and deal with DTOs or ViewModels</li>\n</ul>\n<p>Read more about <a href=\"https://softwareengineering.stackexchange.com/a/218394/202970\">other architectures here in this beautiful answer</a></p>\n"}],"owner":{"account_id":8957759,"reputation":39,"user_id":6681490,"display_name":"Mahesh Arvind S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1653981772,"answer_count":2,"score":1,"last_activity_date":1653981618,"creation_date":1653969133,"question_id":72442078,"body_markdown":"Let&#39;s say we have a Class Customer\r\n\r\n```\r\nClass Customer\r\n{\r\n    String name, emailId;\r\n\r\n    public void setName(String name)\r\n    {\r\n       this.name = name;\r\n    }\r\n    public String getName()\r\n    {\r\n       return this.name;\r\n    }\r\n  \r\n    //Getter and Setter for Email ID\r\n\r\n    public void addNewCustomer()\r\n    {\r\n        //DB Operations\r\n    } \r\n}\r\n```\r\nNow I have to persist a new row to the Database table Customer.\r\n\r\nDo I add a method addNewCustomer as above and access it as below ?\r\n\r\n```\r\nCustomer customer = new Customer();\r\ncustomer.addNewCustomer();\r\n```\r\n\r\nOr\r\n\r\nI should have a separate Class say,\r\n```\r\nClass CustomerUtil\r\n{\r\n     public static void addNewCustomer(Customer customer)\r\n     {\r\n        //DB Operations\r\n     }\r\n}\r\n```\r\n\r\nIs there any standards that we could follow here ?\r\n\r\n\r\n","title":"Is it right to write DB Operations in a POJO or DTO Class?","body":"<p>Let's say we have a Class Customer</p>\n<pre><code>Class Customer\n{\n    String name, emailId;\n\n    public void setName(String name)\n    {\n       this.name = name;\n    }\n    public String getName()\n    {\n       return this.name;\n    }\n  \n    //Getter and Setter for Email ID\n\n    public void addNewCustomer()\n    {\n        //DB Operations\n    } \n}\n</code></pre>\n<p>Now I have to persist a new row to the Database table Customer.</p>\n<p>Do I add a method addNewCustomer as above and access it as below ?</p>\n<pre><code>Customer customer = new Customer();\ncustomer.addNewCustomer();\n</code></pre>\n<p>Or</p>\n<p>I should have a separate Class say,</p>\n<pre><code>Class CustomerUtil\n{\n     public static void addNewCustomer(Customer customer)\n     {\n        //DB Operations\n     }\n}\n</code></pre>\n<p>Is there any standards that we could follow here ?</p>\n"},{"tags":["java","date","datetime","java-8","utc"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1653987031,"post_id":72443640,"comment_id":127978170,"body_markdown":"the milliseconds are always there, just not displayed if zero when using `toString()`.  Use `DateTImeFormatter` to specify your own format.","body":"the milliseconds are always there, just not displayed if zero when using <code>toString()</code>.  Use <code>DateTImeFormatter</code> to specify your own format."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1654072665,"post_id":72443640,"comment_id":128002439,"body_markdown":"The following worked for me: `DateTimeFormatter DATE_FORMATTER = new DateTimeFormatterBuilder().appendInstant(3).toFormatter();` and then using this `DATE_FORMATTER.format(Instant.parse(value))`","body":"The following worked for me: <code>DateTimeFormatter DATE_FORMATTER = new DateTimeFormatterBuilder().appendInstant(3).toFormatter();</code> and then using this <code>DATE_FORMATTER.format(Instant.parse(value))</code>"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653981734,"answer_count":0,"score":0,"last_activity_date":1653981554,"creation_date":1653981554,"question_id":72443640,"body_markdown":"I am converting incoming date time with timezone offset into UTC time using Java Instant. If the time contains the milliseconds then I am getting the same in the converted UTC but if it is not present then I am not getting anything.\r\n\r\nIs there any possibility to add the default way to include the milliseconds during the UTC conversion? Like if it&#39;s not present in the input then add 000 and if present then adds the same.\r\n\r\nFollowing is the code I have:\r\n```\r\nimport java.time.Instant;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        final String date1 = &quot;2020-03-04T11:00:30.123+01:00&quot;;\r\n        System.out.println(&quot;Date 1 : &quot; + Instant.parse(date1).toString()); //2020-03-04T10:00:30.123Z\r\n\r\n        final String date2 = &quot;2020-03-04T11:00:30.000+01:00&quot;;\r\n        System.out.println(&quot;Date 2 : &quot; + Instant.parse(date2).toString()); //2020-03-04T10:00:30Z (Expected: 2020-03-04T10:00:30.000Z)\r\n\r\n        final String date3 = &quot;2020-03-04T11:00:30+01:00&quot;;\r\n        System.out.println(&quot;Date 3 : &quot; + Instant.parse(date3).toString()); //2020-03-04T10:00:30Z (Expected: 2020-03-04T10:00:30.000Z)\r\n    }\r\n}\r\n```\r\n\r\nFollowing is the output:\r\n```\r\nDate 1 : 2020-03-04T10:00:30.123Z\r\nDate 2 : 2020-03-04T10:00:30Z\r\nDate 3 : 2020-03-04T10:00:30Z\r\n```\r\n\r\nI would like to include milliseconds always. Please let me know if there is a direct approach within Instant.","title":"Java Instant Datetime: How to add default milliseconds during the conversion of date to Instant?","body":"<p>I am converting incoming date time with timezone offset into UTC time using Java Instant. If the time contains the milliseconds then I am getting the same in the converted UTC but if it is not present then I am not getting anything.</p>\n<p>Is there any possibility to add the default way to include the milliseconds during the UTC conversion? Like if it's not present in the input then add 000 and if present then adds the same.</p>\n<p>Following is the code I have:</p>\n<pre><code>import java.time.Instant;\n\npublic class Test {\n    public static void main(String[] args) {\n        final String date1 = &quot;2020-03-04T11:00:30.123+01:00&quot;;\n        System.out.println(&quot;Date 1 : &quot; + Instant.parse(date1).toString()); //2020-03-04T10:00:30.123Z\n\n        final String date2 = &quot;2020-03-04T11:00:30.000+01:00&quot;;\n        System.out.println(&quot;Date 2 : &quot; + Instant.parse(date2).toString()); //2020-03-04T10:00:30Z (Expected: 2020-03-04T10:00:30.000Z)\n\n        final String date3 = &quot;2020-03-04T11:00:30+01:00&quot;;\n        System.out.println(&quot;Date 3 : &quot; + Instant.parse(date3).toString()); //2020-03-04T10:00:30Z (Expected: 2020-03-04T10:00:30.000Z)\n    }\n}\n</code></pre>\n<p>Following is the output:</p>\n<pre><code>Date 1 : 2020-03-04T10:00:30.123Z\nDate 2 : 2020-03-04T10:00:30Z\nDate 3 : 2020-03-04T10:00:30Z\n</code></pre>\n<p>I would like to include milliseconds always. Please let me know if there is a direct approach within Instant.</p>\n"},{"tags":["java","java-11","file-writing","tomcat9","debian-buster"],"answers":[{"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567086104,"creation_date":1567072662,"answer_id":57707668,"question_id":57707255,"body_markdown":"It looks like the user or group which is used to run tomcat9 process are not allowed to write to your cache directory.\r\n\r\nInspect `/etc/systemd/system/tomcat.service` to see which group and user will tomcat process run as. \r\n\r\nMost likely it&#39;s \r\n\r\n    User=tomcat\r\n    Group=tomcat\r\n    \r\n... in which case just change the owner of your cache directory to `tomcat`:\r\n\r\n`sudo chown -R tomcat: /opt/gwc_cachedir/`\r\n\r\n\r\n\r\nOR it&#39;s Java&#39;s Security Manager stopping access... solution still pending...\r\n","title":"How to allow write access on a directory to java/tomcat in debian buster","body":"<p>It looks like the user or group which is used to run tomcat9 process are not allowed to write to your cache directory.</p>\n\n<p>Inspect <code>/etc/systemd/system/tomcat.service</code> to see which group and user will tomcat process run as. </p>\n\n<p>Most likely it's </p>\n\n<pre><code>User=tomcat\nGroup=tomcat\n</code></pre>\n\n<p>... in which case just change the owner of your cache directory to <code>tomcat</code>:</p>\n\n<p><code>sudo chown -R tomcat: /opt/gwc_cachedir/</code></p>\n\n<p>OR it's Java's Security Manager stopping access... solution still pending...</p>\n"}],"owner":{"account_id":11409377,"reputation":325,"user_id":8363975,"display_name":"J. Sabatier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1859,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653981516,"creation_date":1567071308,"question_id":57707255,"body_markdown":"I made a fresh install of debian buster with tomcat9 package.\r\n\r\nI want to deploy GeoWebCache application (latest 1.15 version) on it, and it require a directory with read and write access in order to store config files, generated cache, ...\r\n\r\nI create the directory /opt/gwc_cachedir and set 777 permissions on it : \r\n\r\n`# chmod -R 777 /opt/gwc_cachedir`\r\n\r\nAnd put my config file (geowebcache.xml) in the directory also with 777 permissions.\r\n\r\nWhen starting the tomcat instance, the logs says that the /opt/gwc_cachedir directory is not writable : \r\n\r\n`ERROR [storage.DefaultStorageFinder] - Found Java environment variable GEOWEBCACHE_CACHE_DIR set to /opt/gwc_cachedir/ , which is not writeable`\r\n\r\nIt seems to be caused by a call to canWrite function which return false :\r\n\r\nhttps://github.com/GeoWebCache/geowebcache/blob/f921c79adc24783cc445cf3ba0349b9bcd2a2421/geowebcache/core/src/main/java/org/geowebcache/storage/DefaultStorageFinder.java#L134\r\n\r\nI don&#39;t understand why it return false as the /opt/gwc_cachedir has 777 permissions.\r\n\r\n\r\nSOLVED\r\n------\r\n\r\n\r\nThe problem was with systemd service definition, I need to allow the tomcat to read and write to the directory\r\n\r\nAdding this line to `/lib/systemd/system/tomcat9.service` do the job : \r\n\r\n    ReadWritePaths=/opt/gwc_cachedir","title":"How to allow write access on a directory to java/tomcat in debian buster","body":"<p>I made a fresh install of debian buster with tomcat9 package.</p>\n<p>I want to deploy GeoWebCache application (latest 1.15 version) on it, and it require a directory with read and write access in order to store config files, generated cache, ...</p>\n<p>I create the directory /opt/gwc_cachedir and set 777 permissions on it :</p>\n<p><code># chmod -R 777 /opt/gwc_cachedir</code></p>\n<p>And put my config file (geowebcache.xml) in the directory also with 777 permissions.</p>\n<p>When starting the tomcat instance, the logs says that the /opt/gwc_cachedir directory is not writable :</p>\n<p><code>ERROR [storage.DefaultStorageFinder] - Found Java environment variable GEOWEBCACHE_CACHE_DIR set to /opt/gwc_cachedir/ , which is not writeable</code></p>\n<p>It seems to be caused by a call to canWrite function which return false :</p>\n<p><a href=\"https://github.com/GeoWebCache/geowebcache/blob/f921c79adc24783cc445cf3ba0349b9bcd2a2421/geowebcache/core/src/main/java/org/geowebcache/storage/DefaultStorageFinder.java#L134\" rel=\"nofollow noreferrer\">https://github.com/GeoWebCache/geowebcache/blob/f921c79adc24783cc445cf3ba0349b9bcd2a2421/geowebcache/core/src/main/java/org/geowebcache/storage/DefaultStorageFinder.java#L134</a></p>\n<p>I don't understand why it return false as the /opt/gwc_cachedir has 777 permissions.</p>\n<h2>SOLVED</h2>\n<p>The problem was with systemd service definition, I need to allow the tomcat to read and write to the directory</p>\n<p>Adding this line to <code>/lib/systemd/system/tomcat9.service</code> do the job :</p>\n<pre><code>ReadWritePaths=/opt/gwc_cachedir\n</code></pre>\n"},{"tags":["java","parallel-processing"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1587640969,"post_id":61384413,"comment_id":108593754,"body_markdown":"Not sure I understand the problem. A `List&lt;Future&lt;T&gt;&gt;` is returned by `invokeAll(...)`, so to get the result of each task you just need to query each `Future&lt;T&gt;`.","body":"Not sure I understand the problem. A <code>List&lt;Future&lt;T&gt;&gt;</code> is returned by <code>invokeAll(...)</code>, so to get the result of each task you just need to query each <code>Future&lt;T&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":4977367,"reputation":372,"user_id":4003323,"accept_rate":90,"display_name":"Jimq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653981445,"creation_date":1587722437,"answer_id":61405795,"question_id":61384413,"body_markdown":"I found that invokeAll() sends back the response of tasks in sequential order which can be used for mapping response back to task ( callables ).\r\n\r\nTo quote the Javadoc for [`ExecutorService#invokeAll`][1]:\r\n\r\n&gt;Returns:\r\n&gt;\r\n&gt;a list of `Future`s representing the tasks, in the same sequential order as produced by the iterator for the given task list, each of which has completed\r\n\r\nSource : https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-\r\n\r\nAnswer : https://stackoverflow.com/questions/34158081/threadpoolexcutor-and-invokeall-list-order\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-","title":"Executor Service - InvokeAll: How to Map response?","body":"<p>I found that invokeAll() sends back the response of tasks in sequential order which can be used for mapping response back to task ( callables ).</p>\n<p>To quote the Javadoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>ExecutorService#invokeAll</code></a>:</p>\n<blockquote>\n<p>Returns:</p>\n<p>a list of <code>Future</code>s representing the tasks, in the same sequential order as produced by the iterator for the given task list, each of which has completed</p>\n</blockquote>\n<p>Source : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-</a></p>\n<p>Answer : <a href=\"https://stackoverflow.com/questions/34158081/threadpoolexcutor-and-invokeall-list-order\">ThreadPoolExcutor and invokeAll list order</a></p>\n"}],"owner":{"account_id":4977367,"reputation":372,"user_id":4003323,"accept_rate":90,"display_name":"Jimq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61405795,"answer_count":1,"score":1,"last_activity_date":1653981445,"creation_date":1587636061,"question_id":61384413,"body_markdown":"I am working on parallel execution of 5 Tasks with Executor service, all the 5 tasks returns back with different object results-set depending upon the task.\r\n\r\n\r\nI am using executor service for parallel execution of tasks :  \r\n\r\n```\r\nList&lt;Future&lt;Object&gt;&gt; taskResults = ex.invokeAll(callables);\r\n```\r\n\r\nBut how do we map the result set back with the task(s) ? It may not return back the response in the same order of callable list?","title":"Executor Service - InvokeAll: How to Map response?","body":"<p>I am working on parallel execution of 5 Tasks with Executor service, all the 5 tasks returns back with different object results-set depending upon the task.</p>\n\n<p>I am using executor service for parallel execution of tasks :  </p>\n\n<pre><code>List&lt;Future&lt;Object&gt;&gt; taskResults = ex.invokeAll(callables);\n</code></pre>\n\n<p>But how do we map the result set back with the task(s) ? It may not return back the response in the same order of callable list?</p>\n"},{"tags":["java","scala","maven","fasterxml","jackson-modules"],"comments":[{"owner":{"account_id":7479932,"reputation":183,"user_id":5684969,"accept_rate":25,"display_name":"Guda uma shanker"},"score":0,"creation_date":1598599312,"post_id":63625991,"comment_id":112516908,"body_markdown":"Can you check if they are present in the dependent library location ?","body":"Can you check if they are present in the dependent library location ?"},{"owner":{"account_id":6942230,"reputation":185,"user_id":5328121,"display_name":"Izhar Ahmed"},"score":0,"creation_date":1598703266,"post_id":63625991,"comment_id":112548605,"body_markdown":"@nrvaller jackson is a compile time dependency for spark. It is automatically pulled in when you add spark dependency. Are you explicitly adding jackson dependency in you pom file?","body":"@nrvaller jackson is a compile time dependency for spark. It is automatically pulled in when you add spark dependency. Are you explicitly adding jackson dependency in you pom file?"},{"owner":{"account_id":2263955,"reputation":2452,"user_id":1993242,"accept_rate":57,"display_name":"Alon Catz"},"score":1,"creation_date":1601822627,"post_id":63625991,"comment_id":113518934,"body_markdown":"Did you find a solution? I have the same problem...","body":"Did you find a solution? I have the same problem..."}],"answers":[{"tags":[],"owner":{"account_id":8935902,"reputation":2314,"user_id":6666745,"display_name":"KETAN PATIL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653981311,"creation_date":1653981311,"answer_id":72443594,"question_id":63625991,"body_markdown":"This solved my issue, worked like a charm!\r\nhttps://programming.vip/docs/resolution-of-jackson-version-conflict-in-spark-application.html","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.module.scala.experimental.ScalaObjectMapper","body":"<p>This solved my issue, worked like a charm!\n<a href=\"https://programming.vip/docs/resolution-of-jackson-version-conflict-in-spark-application.html\" rel=\"nofollow noreferrer\">https://programming.vip/docs/resolution-of-jackson-version-conflict-in-spark-application.html</a></p>\n"}],"owner":{"account_id":13138815,"reputation":353,"user_id":9491002,"display_name":"nrvaller"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653981311,"creation_date":1598576071,"question_id":63625991,"body_markdown":"I am trying to run a spark job. However everytime I try to get it to run locally it fails because of \r\n\r\n    caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.module.scala.experimental.ScalaObjectMapper$class\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n\r\n\r\nMy Pom File includes Jackson dependencies already \r\n   \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nMy scala version is 2.11.12 and spark 2.4.4. Looking online, it was recommended jackson dependencies match and they do. \r\n\r\nAny suggestions?","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.module.scala.experimental.ScalaObjectMapper","body":"<p>I am trying to run a spark job. However everytime I try to get it to run locally it fails because of</p>\n<pre><code>caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.module.scala.experimental.ScalaObjectMapper$class\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n</code></pre>\n<p>My Pom File includes Jackson dependencies already</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>My scala version is 2.11.12 and spark 2.4.4. Looking online, it was recommended jackson dependencies match and they do.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","android","browser","inappbrowser"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653980858,"creation_date":1653980417,"answer_id":72443432,"question_id":72443400,"body_markdown":"this feature is called Chrome Custom Tabs, check out some [tutorial](https://medium.com/swlh/using-custom-chrome-tabs-in-your-android-app-b31e4f8f5194) how to implement\r\n\r\nfor gradle: \r\n\r\n    implementation &#39;androidx.browser:browser:1.2.0&#39;\r\n\r\ncode implementation:\r\n\r\n    Uri uri = Uri.parse(&quot;www.google.com&quot;);\r\n    new CustomTabsIntent.Builder().build().launchUrl(context, uri);","title":"how to make in app browser in android studio to open link directly","body":"<p>this feature is called Chrome Custom Tabs, check out some <a href=\"https://medium.com/swlh/using-custom-chrome-tabs-in-your-android-app-b31e4f8f5194\" rel=\"nofollow noreferrer\">tutorial</a> how to implement</p>\n<p>for gradle:</p>\n<pre><code>implementation 'androidx.browser:browser:1.2.0'\n</code></pre>\n<p>code implementation:</p>\n<pre><code>Uri uri = Uri.parse(&quot;www.google.com&quot;);\nnew CustomTabsIntent.Builder().build().launchUrl(context, uri);\n</code></pre>\n"}],"owner":{"account_id":25047451,"reputation":31,"user_id":18903723,"display_name":"Aparichit_Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653980858,"creation_date":1653980289,"question_id":72443400,"body_markdown":"how to make in app browser in android studio to open link directly like twitter and instagram.I tried below method which is not giving the desired out come.\r\n\r\n       button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent=new Intent(Intent.ACTION_WEB_SEARCH);\r\n                intent.putExtra(SearchManager.QUERY,url);\r\n                startActivity(intent);\r\n            }\r\n        });","title":"how to make in app browser in android studio to open link directly","body":"<p>how to make in app browser in android studio to open link directly like twitter and instagram.I tried below method which is not giving the desired out come.</p>\n<pre><code>   button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent=new Intent(Intent.ACTION_WEB_SEARCH);\n            intent.putExtra(SearchManager.QUERY,url);\n            startActivity(intent);\n        }\n    });\n</code></pre>\n"},{"tags":["javascript","java","android","date","time"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":5,"creation_date":1653979700,"post_id":72443293,"comment_id":127975727,"body_markdown":"Is the system clock accurate on both ends?","body":"Is the system clock accurate on both ends?"},{"owner":{"account_id":9544715,"reputation":2146,"user_id":7326400,"accept_rate":10,"display_name":"mjsxbo"},"score":0,"creation_date":1653979869,"post_id":72443293,"comment_id":127975777,"body_markdown":"@RobbyCornelissen Yes it is","body":"@RobbyCornelissen Yes it is"},{"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":1,"creation_date":1653980351,"post_id":72443293,"comment_id":127975905,"body_markdown":"how do you know that they are recording on same time? If you execute first one, it will be having slight diff from the second one.","body":"how do you know that they are recording on same time? If you execute first one, it will be having slight diff from the second one."},{"owner":{"account_id":15231832,"reputation":14344,"user_id":10990737,"display_name":"Ilijanovic"},"score":0,"creation_date":1653981921,"post_id":72443293,"comment_id":127976376,"body_markdown":"@Pirate Thats obviouse, but he also mention that his differenz is 5 min","body":"@Pirate Thats obviouse, but he also mention that his differenz is 5 min"}],"answers":[{"tags":[],"owner":{"account_id":7779182,"reputation":374,"user_id":5886180,"accept_rate":25,"display_name":"Henrik Klev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653980393,"creation_date":1653980393,"answer_id":72443429,"question_id":72443293,"body_markdown":"As @RobbyCornelissen is onto, this is probably related to systems clocks. JavaScript Date can only be as accurate as the clock of the system it&#39;s running on. \r\nSee [this relevant question][1] for a brief discussion on the topic. The same goes for Java, and there is also a discussion [in the Java Docs][2] about discrepancies between system time and UTC time. I&#39;m assuming you&#39;re running your android-app on some sort of emulator of physical device, so that might be were the system time differs.\r\n\r\nProgramatically, you could, depending on the use case, always solve this by passing the clock/date from the web-app to the API, or the other way around. Clocks have always been an issue on computer design, and there is a bunch of research on it, so you should have no difficulties stumbling upon some similar issue in the litterature.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1016043/are-javascript-date-time-functions-dependent-on-the-client-machine\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html","title":"Why are Date.now() and System.currentTimeMillis() returning different values?","body":"<p>As @RobbyCornelissen is onto, this is probably related to systems clocks. JavaScript Date can only be as accurate as the clock of the system it's running on.\nSee <a href=\"https://stackoverflow.com/questions/1016043/are-javascript-date-time-functions-dependent-on-the-client-machine\">this relevant question</a> for a brief discussion on the topic. The same goes for Java, and there is also a discussion <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">in the Java Docs</a> about discrepancies between system time and UTC time. I'm assuming you're running your android-app on some sort of emulator of physical device, so that might be were the system time differs.</p>\n<p>Programatically, you could, depending on the use case, always solve this by passing the clock/date from the web-app to the API, or the other way around. Clocks have always been an issue on computer design, and there is a bunch of research on it, so you should have no difficulties stumbling upon some similar issue in the litterature.</p>\n"}],"owner":{"account_id":9544715,"reputation":2146,"user_id":7326400,"accept_rate":10,"display_name":"mjsxbo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653980393,"creation_date":1653979578,"question_id":72443293,"body_markdown":"I have an android app and a web app which are connected together. On clicking a button in the web app, a notification is instantly sent to the android app. The moment the button on the web app is clicked, I need to record the current time in both apps.\r\n\r\nOn the web app I&#39;m using Date.now() to record the time. And in the android app I&#39;m using System.currentTimeMillis() to record the time. When the button is clicked in the web app, it only takes a couple seconds for the notification to reach the android app. Hence, the time recorded in both places must differ by only a few seconds.\r\n\r\nBut the following timestamps are getting recorded in both places:\r\n\r\n    Web app- using Date.now() - 1653945533308\r\n\r\n    Android app- using System.currentTimeMillis() - 1653945810727\r\n\r\nThese timestamps have a difference of 5 minutes, which is wrong. It looks like for some reason, the timestamps getting logged by the 2 apis are not exactly the same at the same time.\r\n\r\nWhy is this happening? Is there a way to ensure that &quot;Date.now() in javascript&quot; and &quot;System.currentTimeMillis() in java&quot; both record the same timestamp at the same time?\r\n\r\n","title":"Why are Date.now() and System.currentTimeMillis() returning different values?","body":"<p>I have an android app and a web app which are connected together. On clicking a button in the web app, a notification is instantly sent to the android app. The moment the button on the web app is clicked, I need to record the current time in both apps.</p>\n<p>On the web app I'm using Date.now() to record the time. And in the android app I'm using System.currentTimeMillis() to record the time. When the button is clicked in the web app, it only takes a couple seconds for the notification to reach the android app. Hence, the time recorded in both places must differ by only a few seconds.</p>\n<p>But the following timestamps are getting recorded in both places:</p>\n<pre><code>Web app- using Date.now() - 1653945533308\n\nAndroid app- using System.currentTimeMillis() - 1653945810727\n</code></pre>\n<p>These timestamps have a difference of 5 minutes, which is wrong. It looks like for some reason, the timestamps getting logged by the 2 apis are not exactly the same at the same time.</p>\n<p>Why is this happening? Is there a way to ensure that &quot;Date.now() in javascript&quot; and &quot;System.currentTimeMillis() in java&quot; both record the same timestamp at the same time?</p>\n"},{"tags":["java","android","build.gradle","native"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1653980100,"post_id":72443309,"comment_id":127975837,"body_markdown":"Does this answer your question? [How to update gradle in android studio?](https://stackoverflow.com/questions/17727645/how-to-update-gradle-in-android-studio)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17727645/how-to-update-gradle-in-android-studio\">How to update gradle in android studio?</a>"}],"owner":{"account_id":22844724,"reputation":383,"user_id":17829024,"display_name":"Naveen Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653979918,"creation_date":1653979705,"question_id":72443309,"body_markdown":"I have developed on android application using gradle version 5.1.1\r\n\r\nNow I&#39;m trying to upgrade my android application to the current version.\r\n\r\nI need to do changes in my application, Need to upgrade with the latest gradle version.\r\nHow to upgrade my android application.\r\n\r\n[![Gradle version check][1]][1]\r\n\r\nbuild.gradle:\r\n\r\n\r\n    buildscript {\r\n        repositories {\r\n            maven {\r\n                url &#39;https://maven.fabric.io/public&#39;\r\n            }\r\n            jcenter()\r\n            maven {\r\n                url &#39;https://maven.google.com/&#39;\r\n                name &#39;Google&#39;\r\n            }\r\n            google()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.4.1&#39;\r\n            classpath &quot;net.saliman:gradle-cobertura-plugin:2.4.0&quot;\r\n            classpath &#39;com.github.dcendents:android-maven-gradle-plugin:1.5&#39;\r\n            classpath &#39;com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.4&#39;\r\n            classpath &#39;com.novoda:bintray-release:0.9&#39;\r\n            classpath &#39;nl.javadude.gradle.plugins:license-gradle-plugin:0.11.0&#39;\r\n            classpath &#39;com.bmuschko:gradle-nexus-plugin:2.3.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.2.0&#39;\r\n            classpath &#39;io.fabric.tools:gradle:1.27.0&#39;\r\n\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n\r\n        ext {\r\n            libraryVersion = &#39;1.0&#39;\r\n            mavenGroupId = &#39;com.abcd&#39;\r\n            siteUrl = &#39;https://github.com/txusballesteros/fit-chart&#39;\r\n            gitUrl = &#39;https://github.com/txusballesteros/fit-chart.git&#39;\r\n\r\n            compileSdkVersion = 28\r\n            buildToolsVersion = &quot;28.0.3&quot;\r\n            minSdkVersion = 21\r\n            targetSdkVersion = 28\r\n            supportLibraryVersion = &quot;28.0.0&quot;\r\n            junitVersion = &quot;4.12&quot;\r\n        }\r\n\r\n        repositories {\r\n            jcenter()\r\n            maven {\r\n                url &#39;https://maven.google.com/&#39;\r\n                name &#39;Google&#39;\r\n            }\r\n        }\r\n        repositories {\r\n            maven {\r\n                url &quot;https://jitpack.io&quot;\r\n            }\r\n            jcenter()\r\n        }\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n    subprojects {\r\n        project.configurations.all {\r\n            resolutionStrategy.eachDependency { details -&gt;\r\n                if (details.requested.group == &#39;com.android.support&#39;\r\n                        &amp;&amp; !details.requested.name.contains(&#39;multidex&#39;) ) {\r\n                    details.useVersion &quot;28.0.0&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nerror image:\r\n[![Click here to see error image][2]][2]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hDBs3.png\r\n  [2]: https://i.stack.imgur.com/yEk3o.png\r\n\r\n\r\nAnyone having idea about this, Please help me with the solution.\r\n\r\n","title":"How to migrate my old android application to current version?","body":"<p>I have developed on android application using gradle version 5.1.1</p>\n<p>Now I'm trying to upgrade my android application to the current version.</p>\n<p>I need to do changes in my application, Need to upgrade with the latest gradle version.\nHow to upgrade my android application.</p>\n<p><a href=\"https://i.stack.imgur.com/hDBs3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hDBs3.png\" alt=\"Gradle version check\" /></a></p>\n<p>build.gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url 'https://maven.fabric.io/public'\n        }\n        jcenter()\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.4.1'\n        classpath &quot;net.saliman:gradle-cobertura-plugin:2.4.0&quot;\n        classpath 'com.github.dcendents:android-maven-gradle-plugin:1.5'\n        classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.4'\n        classpath 'com.novoda:bintray-release:0.9'\n        classpath 'nl.javadude.gradle.plugins:license-gradle-plugin:0.11.0'\n        classpath 'com.bmuschko:gradle-nexus-plugin:2.3.1'\n        classpath 'com.google.gms:google-services:4.2.0'\n        classpath 'io.fabric.tools:gradle:1.27.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n\n    ext {\n        libraryVersion = '1.0'\n        mavenGroupId = 'com.abcd'\n        siteUrl = 'https://github.com/txusballesteros/fit-chart'\n        gitUrl = 'https://github.com/txusballesteros/fit-chart.git'\n\n        compileSdkVersion = 28\n        buildToolsVersion = &quot;28.0.3&quot;\n        minSdkVersion = 21\n        targetSdkVersion = 28\n        supportLibraryVersion = &quot;28.0.0&quot;\n        junitVersion = &quot;4.12&quot;\n    }\n\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n    }\n    repositories {\n        maven {\n            url &quot;https://jitpack.io&quot;\n        }\n        jcenter()\n    }\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\nsubprojects {\n    project.configurations.all {\n        resolutionStrategy.eachDependency { details -&gt;\n            if (details.requested.group == 'com.android.support'\n                    &amp;&amp; !details.requested.name.contains('multidex') ) {\n                details.useVersion &quot;28.0.0&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>error image:\n<a href=\"https://i.stack.imgur.com/yEk3o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yEk3o.png\" alt=\"Click here to see error image\" /></a></p>\n<p>Anyone having idea about this, Please help me with the solution.</p>\n"},{"tags":["java","windows","windows-10","rmi"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1653974940,"post_id":72442391,"comment_id":127974562,"body_markdown":"Have you tried searching for RMI tutorials? [RMI](https://docs.oracle.com/javase/tutorial/rmi/index.html) and [Getting Started with Java RMI](https://www.baeldung.com/java-rmi) are two of many that exist.","body":"Have you tried searching for RMI tutorials? <a href=\"https://docs.oracle.com/javase/tutorial/rmi/index.html\" rel=\"nofollow noreferrer\">RMI</a> and <a href=\"https://www.baeldung.com/java-rmi\" rel=\"nofollow noreferrer\">Getting Started with Java RMI</a> are two of many that exist."},{"owner":{"account_id":8300498,"reputation":1,"user_id":6562261,"display_name":"Jordan Fitzmichael Kennedy"},"score":0,"creation_date":1653979787,"post_id":72442391,"comment_id":127975751,"body_markdown":"Thanks for replying, @Abra.  I added the edit.  I have spent some time using several tutorials.  I will also review the one you sent me.  I&#39;m sure i&#39;ve missed something along the way.","body":"Thanks for replying, @Abra.  I added the edit.  I have spent some time using several tutorials.  I will also review the one you sent me.  I&#39;m sure i&#39;ve missed something along the way."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1653980278,"post_id":72442391,"comment_id":127975884,"body_markdown":"I agree with Java. I don&#39;t see `engine/ComputeEngine.class` anywhere in your JAR file. This is not even an RMI question, just a basic `java` command line question.","body":"I agree with Java. I don&#39;t see <code>engine&#47;ComputeEngine.class</code> anywhere in your JAR file. This is not even an RMI question, just a basic <code>java</code> command line question."},{"owner":{"account_id":8300498,"reputation":1,"user_id":6562261,"display_name":"Jordan Fitzmichael Kennedy"},"score":0,"creation_date":1653981241,"post_id":72442391,"comment_id":127976174,"body_markdown":"@user207421  I just checked over why that might have happened.  I tried both the jar file supplied by the teacher and the one i produced myself.  They both produce the same output.  \n\nWhen i review the documentation (this problem is an extension of an example) it confirms that only the interfaces Compute and Task need to be in the jar file.  \n\nhttps://docs.oracle.com/javase/tutorial/rmi/compiling.html\n\nI dont think that&#39;s the issue!  But i sincerely wish it was.","body":"@user207421  I just checked over why that might have happened.  I tried both the jar file supplied by the teacher and the one i produced myself.  They both produce the same output.    When i review the documentation (this problem is an extension of an example) it confirms that only the interfaces Compute and Task need to be in the jar file.    <a href=\"https://docs.oracle.com/javase/tutorial/rmi/compiling.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/rmi/compiling.html</a>  I dont think that&#39;s the issue!  But i sincerely wish it was."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1653985226,"post_id":72442391,"comment_id":127977462,"body_markdown":"So where *is* `engine/ComputeEngine.class`? The `engine` directory needs to be in your current working directory when you execute the `java` command, for both client and server, and the `rmiregistry` command.","body":"So where <i>is</i> <code>engine&#47;ComputeEngine.class</code>? The <code>engine</code> directory needs to be in your current working directory when you execute the <code>java</code> command, for both client and server, and the <code>rmiregistry</code> command."}],"owner":{"account_id":8300498,"reputation":1,"user_id":6562261,"display_name":"Jordan Fitzmichael Kennedy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653980301,"answer_count":0,"score":0,"last_activity_date":1653979702,"creation_date":1653972400,"question_id":72442391,"body_markdown":"I&#39;ve included the command line statements:\r\n\r\n    start rmiregistry\r\n    \r\n    java -cp C:\\Users\\SUPER\\Desktop\\ch14RMI\\pi\\compute.jar   \r\n    -Djava.rmi.server.codebase=file:/C:/Users/SUPER/Desktop/ch14RMI/pi/compute.jar  \r\n    -Djava.rmi.server.hostname=localhost \r\n    -Djava.security.policy=server.policy \r\n    engine.ComputeEngine\r\n\r\nAnd I am getting the error:\r\n```none\r\nError: Could not find or load main class engine.ComputeEngine Caused by: java.lang.ClassNotFoundException: engine.ComputeEngine\r\n```\r\nThe directory of each of the files is as follows:\r\n- The client files are in  `./client`\r\n- The compute files are in `./compute`\r\n- The engine file are in   `./engine`\r\n\r\nThe remaining policy files and the outputted JAR file are in `./` \r\n\r\nWHERE `./` is the directory `C:/Users/SUPER/Desktop/ch14RMI/pi/`\r\n\r\n**Full disclosure**:  This is for school.  The actual assignment is more expansive than this, and I wish to complete that part myself.  The reason I have posted it here is because the resources I&#39;ve been given to complete this are out of date, and the teacher has not updated the course, nor does he use Windows 10.  I have no classmates to ask directly (Self-directed learning), so I am in a bit of a pickle.  I don&#39;t believe I am doing anything wrong by asking this, academically speaking, due to the nature of the problem.\r\n\r\nEven if you are unwilling to provide me with the , it would be greatly appreciated if you could point me in the right direction.    \r\n\r\nThanks\r\n\r\nEDIT: Added the contents of compute.jar file:\r\n\r\n    C:\\Users\\SUPER&gt;jar tvf \r\n    C:\\Users\\SUPER\\Desktop\\SChool\\COMP348JavaNetworkProgramming\\Notes\\ch14RMI\\pi\\compute.jar\r\n    \r\n         0 Mon May 30 21:15:40 MST 2022 META-INF/\r\n    \r\n        68 Mon May 30 21:15:40 MST 2022 META-INF/MANIFEST.MF\r\n    \r\n       307 Mon May 30 21:15:40 MST 2022 compute/Compute.class\r\n    \r\n       217 Mon May 30 21:15:40 MST 2022 compute/Task.class\r\n\r\n","title":"Using RMI with Windows 10, what is causing the error: Could not find or load main class engine.ComputeEngine...?","body":"<p>I've included the command line statements:</p>\n<pre><code>start rmiregistry\n\njava -cp C:\\Users\\SUPER\\Desktop\\ch14RMI\\pi\\compute.jar   \n-Djava.rmi.server.codebase=file:/C:/Users/SUPER/Desktop/ch14RMI/pi/compute.jar  \n-Djava.rmi.server.hostname=localhost \n-Djava.security.policy=server.policy \nengine.ComputeEngine\n</code></pre>\n<p>And I am getting the error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error: Could not find or load main class engine.ComputeEngine Caused by: java.lang.ClassNotFoundException: engine.ComputeEngine\n</code></pre>\n<p>The directory of each of the files is as follows:</p>\n<ul>\n<li>The client files are in  <code>./client</code></li>\n<li>The compute files are in <code>./compute</code></li>\n<li>The engine file are in   <code>./engine</code></li>\n</ul>\n<p>The remaining policy files and the outputted JAR file are in <code>./</code></p>\n<p>WHERE <code>./</code> is the directory <code>C:/Users/SUPER/Desktop/ch14RMI/pi/</code></p>\n<p><strong>Full disclosure</strong>:  This is for school.  The actual assignment is more expansive than this, and I wish to complete that part myself.  The reason I have posted it here is because the resources I've been given to complete this are out of date, and the teacher has not updated the course, nor does he use Windows 10.  I have no classmates to ask directly (Self-directed learning), so I am in a bit of a pickle.  I don't believe I am doing anything wrong by asking this, academically speaking, due to the nature of the problem.</p>\n<p>Even if you are unwilling to provide me with the , it would be greatly appreciated if you could point me in the right direction.</p>\n<p>Thanks</p>\n<p>EDIT: Added the contents of compute.jar file:</p>\n<pre><code>C:\\Users\\SUPER&gt;jar tvf \nC:\\Users\\SUPER\\Desktop\\SChool\\COMP348JavaNetworkProgramming\\Notes\\ch14RMI\\pi\\compute.jar\n\n     0 Mon May 30 21:15:40 MST 2022 META-INF/\n\n    68 Mon May 30 21:15:40 MST 2022 META-INF/MANIFEST.MF\n\n   307 Mon May 30 21:15:40 MST 2022 compute/Compute.class\n\n   217 Mon May 30 21:15:40 MST 2022 compute/Task.class\n</code></pre>\n"},{"tags":["java","spring-boot","spring-websocket","spring-boot-test","tomcat9"],"comments":[{"owner":{"account_id":5838908,"reputation":5857,"user_id":4601120,"display_name":"GSSwain"},"score":1,"creation_date":1557456088,"post_id":56065309,"comment_id":98779166,"body_markdown":"possible duplicate of https://stackoverflow.com/questions/29978101/why-is-servletservercontainerfactorybean-casuing-problems-when-testing","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/29978101/why-is-servletservercontainerfactorybean-casuing-problems-when-testing\" title=\"why is servletservercontainerfactorybean casuing problems when testing\">stackoverflow.com/questions/29978101/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4136335,"reputation":740,"user_id":3453279,"display_name":"Sunchezz"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1593712443,"creation_date":1557474925,"answer_id":56073109,"question_id":56065309,"body_markdown":"Thx to GSSwain, who lead me to the right direction, i now was able to solve my problem.\r\nIt only seem to apear if the `@SpringBootTest` attribute `webEnviroment` is set to `MOCK`, or `NONE`. Using a defined, or random port tells Spring to load a proper ServletContext.\r\n\r\nThere are multiple ways to get around this, if you dont want to load a full Context for simple tests.\r\n\r\n### Solution 1\r\n\r\nThis is what most people will need. Add an additional `@WebAppConfiguration` annotation to your test classes, which tells Spring to load a proper ServletContext with a mocked attribute entry for the ServerContainer.\r\n\r\n### Solution 2\r\nFor my needs, this was still to much background inflating, things i dont need, in many Testcases. So i added a check in the Bean creation itself and added a property to switch the check on or off, via application.properties.\r\n\r\nIn your WebsocketConfig class:\r\n        \r\n```java\r\n        @Autowired\r\n        private ServletContext servletContext;\r\n        private boolean ignoreNullWsContainer;\r\n        \r\n                @Bean\r\n        public ServletServerContainerFactoryBean createWebSocketContainer() {\r\n    \r\n            // Check if null-container is allowed to prevent Exceptions\r\n            if (ignoreNullWsContainer) {\r\n                // Check if attribute is set in the ServletContext\r\n                ServerContainer serverContainer = (ServerContainer) this.servletContext.getAttribute(&quot;javax.websocket.server.ServerContainer&quot;);\r\n                if (serverContainer == null) {\r\n                    logger.error(&quot;Could not initialize Websocket Container in Testcase.&quot;);\r\n                    return null;\r\n                }\r\n            }\r\n    \r\n            ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\r\n            container.setMaxTextMessageBufferSize(MAX_MESSAGE_SIZE);\r\n            container.setMaxBinaryMessageBufferSize(MAX_MESSAGE_SIZE);\r\n            return container;\r\n        }\r\n    \r\n        @Value(&quot;${project.ignore-null-websocket-container:false}&quot;)\r\n        private void setIgnoreNullWsContainer(String flag) {\r\n            this.ignoreNullWsContainer = Boolean.parseBoolean(flag);\r\n        }\r\n```\r\nAnd in your application.properties in your Test src resources directory (default dir src/test/resources/application.properties\r\n\r\n    project.ignoreNullWsContainer = true\r\n\r\nThis way, if you dont set this property in the your production enviroment property file, Spring will still fail if there is something wrong with the ServerContainer.\r\n\r\nThats what i took in the end, because i didn&#39;t need the Spring test features, i only needed spring to pick up my datasource configuration (in properties file) and executing my @Sql annotations :D\r\n\r\n\r\nHope this also helps someone else, to save hours of searching, pain and googling ;) :)\r\n","title":"Attribute ServerContainer not found in ServletContext","body":"<p>Thx to GSSwain, who lead me to the right direction, i now was able to solve my problem.\nIt only seem to apear if the <code>@SpringBootTest</code> attribute <code>webEnviroment</code> is set to <code>MOCK</code>, or <code>NONE</code>. Using a defined, or random port tells Spring to load a proper ServletContext.</p>\n<p>There are multiple ways to get around this, if you dont want to load a full Context for simple tests.</p>\n<h3>Solution 1</h3>\n<p>This is what most people will need. Add an additional <code>@WebAppConfiguration</code> annotation to your test classes, which tells Spring to load a proper ServletContext with a mocked attribute entry for the ServerContainer.</p>\n<h3>Solution 2</h3>\n<p>For my needs, this was still to much background inflating, things i dont need, in many Testcases. So i added a check in the Bean creation itself and added a property to switch the check on or off, via application.properties.</p>\n<p>In your WebsocketConfig class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Autowired\n        private ServletContext servletContext;\n        private boolean ignoreNullWsContainer;\n        \n                @Bean\n        public ServletServerContainerFactoryBean createWebSocketContainer() {\n    \n            // Check if null-container is allowed to prevent Exceptions\n            if (ignoreNullWsContainer) {\n                // Check if attribute is set in the ServletContext\n                ServerContainer serverContainer = (ServerContainer) this.servletContext.getAttribute(&quot;javax.websocket.server.ServerContainer&quot;);\n                if (serverContainer == null) {\n                    logger.error(&quot;Could not initialize Websocket Container in Testcase.&quot;);\n                    return null;\n                }\n            }\n    \n            ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\n            container.setMaxTextMessageBufferSize(MAX_MESSAGE_SIZE);\n            container.setMaxBinaryMessageBufferSize(MAX_MESSAGE_SIZE);\n            return container;\n        }\n    \n        @Value(&quot;${project.ignore-null-websocket-container:false}&quot;)\n        private void setIgnoreNullWsContainer(String flag) {\n            this.ignoreNullWsContainer = Boolean.parseBoolean(flag);\n        }\n</code></pre>\n<p>And in your application.properties in your Test src resources directory (default dir src/test/resources/application.properties</p>\n<pre><code>project.ignoreNullWsContainer = true\n</code></pre>\n<p>This way, if you dont set this property in the your production enviroment property file, Spring will still fail if there is something wrong with the ServerContainer.</p>\n<p>Thats what i took in the end, because i didn't need the Spring test features, i only needed spring to pick up my datasource configuration (in properties file) and executing my @Sql annotations :D</p>\n<p>Hope this also helps someone else, to save hours of searching, pain and googling ;) :)</p>\n"}],"owner":{"account_id":4136335,"reputation":740,"user_id":3453279,"display_name":"Sunchezz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5136,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56073109,"answer_count":1,"score":4,"last_activity_date":1653979657,"creation_date":1557425547,"question_id":56065309,"body_markdown":"In my Spring boot application i use also websockets. Everything works fine, as expected in production.\r\n\r\nNow i started to create UnitTests with Spring-Boot-Test.\r\n\r\nEvery time i start a @SpringBootTest , i get following exception (shortened):\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;createWebSocketContainer&#39; defined in class path resource [com/package/spring/ws/MyWebsocketConfig.class]: Invocation of init method failed;\r\n    Caused by: java.lang.IllegalStateException: Attribute &#39;javax.websocket.server.ServerContainer&#39; not found in ServletContext\r\n\r\n###Long Version\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    \r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;createWebSocketContainer&#39; defined in class path resource [com/package/spring/ws/MyWebsocketConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Attribute &#39;javax.websocket.server.ServerContainer&#39; not found in ServletContext\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:830)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\r\n\t... 24 more\r\n\r\n    Caused by: java.lang.IllegalStateException: Attribute &#39;javax.websocket.server.ServerContainer&#39; not found in ServletContext\r\n\tat org.springframework.util.Assert.state(Assert.java:73)\r\n\tat org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean.afterPropertiesSet(ServletServerContainerFactoryBean.java:117)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)\r\n\t... 39 more\r\n\r\n### Spring Websocket Config Class\r\n    package com.package.spring.ws;\r\n    \r\n    // removed imports\r\n    \r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class MyWebsocketConfig extends AbstractSessionWebSocketMessageBrokerConfigurer&lt;Session&gt; {\r\n    \r\n        private final Logger logger = LogManager.getLogger(MyWebsocketConfig.class);\r\n        private int MAX_MESSAGE_SIZE = 1024 * 1024 * 16;\r\n    \r\n        @Override\r\n        protected void configureStompEndpoints(StompEndpointRegistry registry) {\r\n    \r\n            registry.addEndpoint(&quot;/wss&quot;)\r\n                    .setAllowedOrigins(&quot;*&quot;)\r\n                    .withSockJS();\r\n        }\r\n    \r\n        @Override\r\n        public void configureWebSocketTransport(WebSocketTransportRegistration registration) {\r\n    \r\n            registration.setMessageSizeLimit(MAX_MESSAGE_SIZE);\r\n            registration.setSendBufferSizeLimit(MAX_MESSAGE_SIZE);\r\n            registration.setSendTimeLimit(20000);\r\n    \r\n            super.configureWebSocketTransport(registration);\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n            config.enableSimpleBroker(&quot;/queue&quot;, &quot;/events&quot;, &quot;/topic&quot;);\r\n            config.setCacheLimit(1024 * 10);\r\n            super.configureMessageBroker(config);\r\n        }\r\n    \r\n        // This is breaking my Spring Unit Tests.\r\n        @Bean\r\n        public ServletServerContainerFactoryBean createWebSocketContainer() {\r\n                ServletServerContainerFactoryBean container = new \r\n      ServletServerContainerFactoryBean();\r\n                container.setMaxTextMessageBufferSize(MAX_MESSAGE_SIZE);\r\n                container.setMaxBinaryMessageBufferSize(MAX_MESSAGE_SIZE);\r\n                return container;\r\n        }\r\n    }\r\n\r\n### POM.XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.package&lt;/groupId&gt;\r\n        &lt;artifactId&gt;MyProject&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.4-RELEASE&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;My Project&lt;/name&gt;\r\n        &lt;description&gt;MyProject Server&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- Problem exists, with and without this websocket dependency --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.websocket&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.websocket-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n### Spring Application Class\r\n\r\n    package com.packge.spring;\r\n    // removed imports\r\n    \r\n    @ComponentScan({&quot;com.package.spring&quot;, &quot;com.packe.spring.security&quot;, &quot;com.package.endpoints&quot;})\r\n    @EnableJpaRepositories(basePackages = &quot;com.package.db&quot;)\r\n    @EntityScan(value = &quot;com.package.db&quot;)\r\n    @SpringBootApplication\r\n    public class MyApplication extends SpringBootServletInitializer {\r\n    \r\n        @Value(&quot;my.session.cookie-name&quot;)\r\n        private String cookieName = ApplicationConfig.SESSION_COOKIE_NAME;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MyApplication.class, args);\r\n    \r\n        }\r\n    }\r\n\r\n### Typical Failing Test\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = MyApplication.class, webEnvironment = SpringBootTest.WebEnvironment.MOCK)\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    public class LedgerTreeMovementsTest {\r\n\r\n        @Test\r\n        public void test0_testXYZ() {\r\n        }\r\n    }\r\n\r\n###Problem\r\nThe Problem is, the actual Test never comes to the test methods, its breaking on setting up the Test application.\r\nDoes anybody has an idea, whats going on?\r\nAny further infos needed?\r\nThx a lot!","title":"Attribute ServerContainer not found in ServletContext","body":"<p>In my Spring boot application i use also websockets. Everything works fine, as expected in production.</p>\n\n<p>Now i started to create UnitTests with Spring-Boot-Test.</p>\n\n<p>Every time i start a @SpringBootTest , i get following exception (shortened):</p>\n\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'createWebSocketContainer' defined in class path resource [com/package/spring/ws/MyWebsocketConfig.class]: Invocation of init method failed;\nCaused by: java.lang.IllegalStateException: Attribute 'javax.websocket.server.ServerContainer' not found in ServletContext\n</code></pre>\n\n<h3>Long Version</h3>\n\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\nat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\nat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'createWebSocketContainer' defined in class path resource [com/package/spring/ws/MyWebsocketConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Attribute 'javax.websocket.server.ServerContainer' not found in ServletContext\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:830)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\n... 24 more\n\nCaused by: java.lang.IllegalStateException: Attribute 'javax.websocket.server.ServerContainer' not found in ServletContext\nat org.springframework.util.Assert.state(Assert.java:73)\nat org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean.afterPropertiesSet(ServletServerContainerFactoryBean.java:117)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)\n... 39 more\n</code></pre>\n\n<h3>Spring Websocket Config Class</h3>\n\n<pre><code>package com.package.spring.ws;\n\n// removed imports\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class MyWebsocketConfig extends AbstractSessionWebSocketMessageBrokerConfigurer&lt;Session&gt; {\n\n    private final Logger logger = LogManager.getLogger(MyWebsocketConfig.class);\n    private int MAX_MESSAGE_SIZE = 1024 * 1024 * 16;\n\n    @Override\n    protected void configureStompEndpoints(StompEndpointRegistry registry) {\n\n        registry.addEndpoint(\"/wss\")\n                .setAllowedOrigins(\"*\")\n                .withSockJS();\n    }\n\n    @Override\n    public void configureWebSocketTransport(WebSocketTransportRegistration registration) {\n\n        registration.setMessageSizeLimit(MAX_MESSAGE_SIZE);\n        registration.setSendBufferSizeLimit(MAX_MESSAGE_SIZE);\n        registration.setSendTimeLimit(20000);\n\n        super.configureWebSocketTransport(registration);\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.setApplicationDestinationPrefixes(\"/app\");\n        config.enableSimpleBroker(\"/queue\", \"/events\", \"/topic\");\n        config.setCacheLimit(1024 * 10);\n        super.configureMessageBroker(config);\n    }\n\n    // This is breaking my Spring Unit Tests.\n    @Bean\n    public ServletServerContainerFactoryBean createWebSocketContainer() {\n            ServletServerContainerFactoryBean container = new \n  ServletServerContainerFactoryBean();\n            container.setMaxTextMessageBufferSize(MAX_MESSAGE_SIZE);\n            container.setMaxBinaryMessageBufferSize(MAX_MESSAGE_SIZE);\n            return container;\n    }\n}\n</code></pre>\n\n<h3>POM.XML</h3>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.package&lt;/groupId&gt;\n    &lt;artifactId&gt;MyProject&lt;/artifactId&gt;\n    &lt;version&gt;0.8.4-RELEASE&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;My Project&lt;/name&gt;\n    &lt;description&gt;MyProject Server&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Problem exists, with and without this websocket dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.websocket&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.websocket-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<h3>Spring Application Class</h3>\n\n<pre><code>package com.packge.spring;\n// removed imports\n\n@ComponentScan({\"com.package.spring\", \"com.packe.spring.security\", \"com.package.endpoints\"})\n@EnableJpaRepositories(basePackages = \"com.package.db\")\n@EntityScan(value = \"com.package.db\")\n@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {\n\n    @Value(\"my.session.cookie-name\")\n    private String cookieName = ApplicationConfig.SESSION_COOKIE_NAME;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n\n    }\n}\n</code></pre>\n\n<h3>Typical Failing Test</h3>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = MyApplication.class, webEnvironment = SpringBootTest.WebEnvironment.MOCK)\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class LedgerTreeMovementsTest {\n\n    @Test\n    public void test0_testXYZ() {\n    }\n}\n</code></pre>\n\n<h3>Problem</h3>\n\n<p>The Problem is, the actual Test never comes to the test methods, its breaking on setting up the Test application.\nDoes anybody has an idea, whats going on?\nAny further infos needed?\nThx a lot!</p>\n"},{"tags":["java","android","android-studio","speech-recognition","jsonresult"],"answers":[{"tags":[],"owner":{"account_id":19829326,"reputation":11,"user_id":14524266,"display_name":"Seba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650547967,"creation_date":1650021583,"answer_id":71883383,"question_id":71869811,"body_markdown":"Same problem here, this bug started to occur like few days ago. \r\n\r\nI think the reason of this bug is the new version of &quot;Google&quot;\r\napp (https://play.google.com/store/apps/details?id=com.google.android.googlequicksearchbox), as SpeechRecognizer uses this app to recognize voice.\r\n\r\nIf you click uinstall &quot;Google&quot;\r\napp, it will roll back to older version and onResult callback will work fine.\r\n\r\nSolution that fixed my problem was removing:\r\n`EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS` extras\r\n\r\n`Note that it is extremely rare you&#39;d want to specify this value in an intent. Generally, it should be specified only when it is also used as the value for EXTRA_SEGMENTED_SESSION to enable segmented session mode. Note also that certain values may cause undesired or unexpected results - use judiciously!`\r\n\r\nhttps://developer.android.com/reference/android/speech/RecognizerIntent#EXTRA_SEGMENTED_SESSION","title":"SpeechRecognizerListener giving Bundle[EMPTY_PARCEL] in onResults(Bundle results) majority devices which have android 11","body":"<p>Same problem here, this bug started to occur like few days ago.</p>\n<p>I think the reason of this bug is the new version of &quot;Google&quot;\napp (<a href=\"https://play.google.com/store/apps/details?id=com.google.android.googlequicksearchbox\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.google.android.googlequicksearchbox</a>), as SpeechRecognizer uses this app to recognize voice.</p>\n<p>If you click uinstall &quot;Google&quot;\napp, it will roll back to older version and onResult callback will work fine.</p>\n<p>Solution that fixed my problem was removing:\n<code>EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS</code> extras</p>\n<p><code>Note that it is extremely rare you'd want to specify this value in an intent. Generally, it should be specified only when it is also used as the value for EXTRA_SEGMENTED_SESSION to enable segmented session mode. Note also that certain values may cause undesired or unexpected results - use judiciously!</code></p>\n<p><a href=\"https://developer.android.com/reference/android/speech/RecognizerIntent#EXTRA_SEGMENTED_SESSION\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/speech/RecognizerIntent#EXTRA_SEGMENTED_SESSION</a></p>\n"},{"tags":[],"owner":{"account_id":19163839,"reputation":168,"user_id":13999030,"display_name":"LM_IT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651742920,"creation_date":1651742920,"answer_id":72124907,"question_id":71869811,"body_markdown":"I confirm the answer gave by Seba, only in my case I have to remove also\r\n\r\n`RecognizerIntent.EXTRA_MAX_RESULTS\r\nRecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS \r\nRecognizerIntent.EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS\r\nRecognizerIntent.EXTRA_SPEECH_INPUT_POSSIBLY_COMPLETE_SILENCE_LENGTH_MILLIS`\r\n\r\nand affected also Huawei and Samsung devices with Android 9, so it seems the issues&#39;s propagating day by day.","title":"SpeechRecognizerListener giving Bundle[EMPTY_PARCEL] in onResults(Bundle results) majority devices which have android 11","body":"<p>I confirm the answer gave by Seba, only in my case I have to remove also</p>\n<p><code>RecognizerIntent.EXTRA_MAX_RESULTS RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS  RecognizerIntent.EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS RecognizerIntent.EXTRA_SPEECH_INPUT_POSSIBLY_COMPLETE_SILENCE_LENGTH_MILLIS</code></p>\n<p>and affected also Huawei and Samsung devices with Android 9, so it seems the issues's propagating day by day.</p>\n"},{"tags":[],"owner":{"account_id":5330428,"reputation":6832,"user_id":4251124,"accept_rate":100,"display_name":"Raja Jawahar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653979654,"creation_date":1653979654,"answer_id":72443304,"question_id":71869811,"body_markdown":"I was also facing the same issue. After removing the below intent it started working.\r\n\r\n   \r\n\r\n`putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS, 3000)`\r\n\r\n\r\nPrevious intent :\r\n\r\n     recognizerIntent = Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH).apply {\r\n          putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;)\r\n          putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, packageName)\r\n          putExtra(\r\n            RecognizerIntent.EXTRA_LANGUAGE_MODEL,\r\n            RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH\r\n          )\r\n          putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS, 3000)\r\n          putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 1)\r\n        }\r\n\r\nModified Intent: \r\n\r\n    recognizerIntent = Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH).apply {\r\n      putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;)\r\n      putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, packageName)\r\n      putExtra(\r\n        RecognizerIntent.EXTRA_LANGUAGE_MODEL,\r\n        RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH\r\n      )\r\n      putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 1)\r\n    }\r\n","title":"SpeechRecognizerListener giving Bundle[EMPTY_PARCEL] in onResults(Bundle results) majority devices which have android 11","body":"<p>I was also facing the same issue. After removing the below intent it started working.</p>\n<p><code>putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS, 3000)</code></p>\n<p>Previous intent :</p>\n<pre><code> recognizerIntent = Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH).apply {\n      putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;)\n      putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, packageName)\n      putExtra(\n        RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n        RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH\n      )\n      putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS, 3000)\n      putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 1)\n    }\n</code></pre>\n<p>Modified Intent:</p>\n<pre><code>recognizerIntent = Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH).apply {\n  putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;)\n  putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, packageName)\n  putExtra(\n    RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n    RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH\n  )\n  putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 1)\n}\n</code></pre>\n"}],"owner":{"account_id":20706345,"reputation":169,"user_id":15204127,"display_name":"Manish Singh Chouhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653979654,"creation_date":1649930536,"question_id":71869811,"body_markdown":"I am Using \r\n\r\n    speech = SpeechRecognizer.createSpeechRecognizer(getReactApplicationContext().getApplicationContext());\r\n                speech.setRecognitionListener(VoiceAppModule.this);\r\n                recognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n                recognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS, 100000000);\r\n                recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;);\r\n                recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, &quot;com.languageacademy&quot;);\r\n                recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH);\r\n                recognizerIntent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 3);\r\n                recognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS, 10000);\r\n                recognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_POSSIBLY_COMPLETE_SILENCE_LENGTH_MILLIS, 10000);\r\n\r\nThe Above code for Speech recognition. \r\n\r\n&gt; @Override\r\n&gt;     public void onResults(Bundle results) {\r\n\r\nin about On Result the result is giving **Bundle[EMPTY_PARCEL]** in Result. \r\n\r\n&gt; ArrayList&lt;String&gt; matches = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n\r\n\r\nI tried in many of the Devices it is mainly giving problem in MI phones having android 11 and also some samsung phones. \r\n","title":"SpeechRecognizerListener giving Bundle[EMPTY_PARCEL] in onResults(Bundle results) majority devices which have android 11","body":"<p>I am Using</p>\n<pre><code>speech = SpeechRecognizer.createSpeechRecognizer(getReactApplicationContext().getApplicationContext());\n            speech.setRecognitionListener(VoiceAppModule.this);\n            recognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS, 100000000);\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;);\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, &quot;com.languageacademy&quot;);\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH);\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 3);\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS, 10000);\n            recognizerIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_POSSIBLY_COMPLETE_SILENCE_LENGTH_MILLIS, 10000);\n</code></pre>\n<p>The Above code for Speech recognition.</p>\n<blockquote>\n<p>@Override\npublic void onResults(Bundle results) {</p>\n</blockquote>\n<p>in about On Result the result is giving <strong>Bundle[EMPTY_PARCEL]</strong> in Result.</p>\n<blockquote>\n<p>ArrayList matches = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);</p>\n</blockquote>\n<p>I tried in many of the Devices it is mainly giving problem in MI phones having android 11 and also some samsung phones.</p>\n"},{"tags":["java","android","android-recyclerview","android-mediaplayer"],"answers":[{"tags":[],"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653979520,"creation_date":1653979520,"answer_id":72443282,"question_id":72301814,"body_markdown":"Try implementing a `preparelistener`and `prepareAsync`.\r\n\r\n`mMediaPlayer.setDataSource();`\r\n\r\n`mMediaPlayer.setOnPreparedListener();`\r\n\r\n`mMediaPlayer.prepareAsync();`\r\n\r\n","title":"Android online mediaplayer with seekbar and play pause button","body":"<p>Try implementing a <code>preparelistener</code>and <code>prepareAsync</code>.</p>\n<p><code>mMediaPlayer.setDataSource();</code></p>\n<p><code>mMediaPlayer.setOnPreparedListener();</code></p>\n<p><code>mMediaPlayer.prepareAsync();</code></p>\n"}],"owner":{"account_id":16074948,"reputation":3,"user_id":11602356,"display_name":"Negin Nasirzadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653979520,"creation_date":1652951734,"question_id":72301814,"body_markdown":"I want to make a list in recyclerview which each item has a play pause button and a seekbar. I finally used this code to make it, but when I click on play button, it crashes and it is not working.\r\n\r\nThis code works when your media is offline, but when I want to use it on online mode and get the file from a URL, it cause problem.\r\n\r\nand the error of android studio indicate to\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.setAudioStreamType(int)&#39; on a null object reference at com.example.wp.VersionAdapter4.startmediaplayer(VersionAdapter4.java:252) at com.example.wp.VersionAdapter4.lambda$onBindViewHolder$0$com-example-wp-VersionAdapter4(VersionAdapter4.java:61) at com.example.wp.VersionAdapter4$$ExternalSyntheticLambda0.onClick(Unknown Source:4)\r\n\r\nand it cant get the file as string\r\n\r\nHow can I fix this?\r\n\r\n   \r\n\r\n    public class VersionAdapter4 extends RecyclerView.Adapter&lt;VersionAdapter4.VersionViewHolder&gt;{\r\n\r\n    private MediaPlayer mediaPlayer;\r\n\r\n    Context context;\r\n\r\n    VersionAdapter4 adapter;\r\n\r\n    private final ArrayList&lt;Version4&gt; versionlist;\r\n    private int currentPlayingPosition;\r\n    private final SeekbarUpdater seekbarUpdater;\r\n    private VersionViewHolder playingHolder;\r\n\r\n    public VersionAdapter4(Context context, ArrayList&lt;Version4&gt; versionlist) {\r\n        this.versionlist = versionlist;\r\n        this.currentPlayingPosition = -1;\r\n        seekbarUpdater = new SeekbarUpdater();\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public VersionViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new VersionViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.raw3, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull VersionViewHolder holder, int position) {\r\n        Version4 version4 = versionlist.get(position);\r\n      \r\n        boolean isExpandable = versionlist.get(position).isExpandable();\r\n        holder.expandableLayout.setVisibility(isExpandable ? View.VISIBLE : View.GONE);\r\n\r\n        if (position == currentPlayingPosition) {\r\n            playingHolder = holder;\r\n            updateplayingview();\r\n        } else {\r\n            updatenoneplayingview(holder);\r\n        }\r\n\r\n    }\r\n\r\n    public void onViewRecycled(VersionViewHolder holder) {\r\n        super.onViewRecycled(holder);\r\n        if (currentPlayingPosition == holder.getAdapterPosition()) {\r\n            updatenoneplayingview(playingHolder);\r\n            playingHolder = null;\r\n        }\r\n    }\r\n\r\n    private void updatenoneplayingview(VersionViewHolder holder) {\r\n        holder.sbProgress.removeCallbacks(seekbarUpdater);\r\n        holder.sbProgress.setEnabled(false);\r\n        holder.sbProgress.setProgress(0);\r\n        holder.btnplay.setText(&quot;play&quot;);\r\n    }\r\n\r\n    private void updateplayingview() {\r\n        playingHolder.sbProgress.setMax(mediaPlayer.getDuration());\r\n        playingHolder.sbProgress.setProgress(mediaPlayer.getCurrentPosition());\r\n        playingHolder.sbProgress.setEnabled(true);\r\n        if (mediaPlayer.isPlaying()) {\r\n            playingHolder.sbProgress.postDelayed(seekbarUpdater, 100);\r\n            playingHolder.btnplay.setText(&quot;pause&quot;);\r\n        } else {\r\n            playingHolder.sbProgress.removeCallbacks(seekbarUpdater);\r\n            playingHolder.btnplay.setText(&quot;play&quot;);\r\n        }\r\n    }\r\n\r\n    private class SeekbarUpdater implements Runnable {\r\n\r\n        @Override\r\n        public void run() {\r\n            if (null != playingHolder &amp;&amp; null != mediaPlayer) {\r\n                playingHolder.sbProgress.setProgress(mediaPlayer.getCurrentPosition());\r\n                playingHolder.sbProgress.postDelayed(this, 100);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return versionlist.size();\r\n    }\r\n\r\n    public class VersionViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener, SeekBar.OnSeekBarChangeListener {\r\n        //  Version3 version = versionsList.get(i);\r\n        SeekBar sbProgress;\r\n        Button btnplay;\r\n     RelativeLayout expandableLayout;\r\n            public VersionViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n         \r\n            linearLayout = itemView.findViewById(R.id.linear);\r\n            expandableLayout = itemView.findViewById(R.id.expandable);\r\n            btnplay = itemView.findViewById(R.id.track_play);\r\n            btnplay.setOnClickListener(this);\r\n            sbProgress = itemView.findViewById(R.id.seekbar);\r\n            sbProgress.setOnSeekBarChangeListener(this);\r\n            linearLayout.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Version4 version4 = versionlist.get(getAdapterPosition());\r\n                    version4.setExpandable(!version4.isExpandable());\r\n                    notifyItemChanged(getAdapterPosition());\r\n\r\n                }\r\n            });\r\n        }\r\n     @Override\r\n        public void onClick(View view) {\r\n            if (getAdapterPosition() == currentPlayingPosition) {\r\n                if (mediaPlayer.isPlaying()) {\r\n                    mediaPlayer.pause();\r\n                } else {\r\n                    mediaPlayer.start();\r\n                }\r\n            } else {\r\n                currentPlayingPosition = getAdapterPosition();\r\n                if (mediaPlayer != null) {\r\n                    if (null != playingHolder) {\r\n                        updatenoneplayingview(playingHolder);\r\n                    }\r\n                    mediaPlayer.release();\r\n                }\r\n                playingHolder = this;\r\n                try {\r\n                    startmediaplayer(versionlist.get(currentPlayingPosition).getSong());\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n            updateplayingview();\r\n\r\n        }\r\n        @Override\r\n        public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n            if (b) {\r\n                mediaPlayer.seekTo(i);\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n        }\r\n    }\r\n     private void startmediaplayer(String  getsong) throws IOException {\r\n       \r\n        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n        mediaPlayer.reset();\r\n        mediaPlayer.setDataSource(getsong);\r\n        mediaPlayer.prepare();\r\n        mediaPlayer.start();\r\n\r\n\r\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mediaPlayer) {\r\n                releasemediaplayer();\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n        private void releasemediaplayer(){\r\n        if (null!=playingHolder){\r\n            updatenoneplayingview(playingHolder);\r\n        }\r\n        mediaPlayer.release();\r\n        mediaPlayer=null;\r\n        currentPlayingPosition=-1;\r\n    }\r\n}\r\n\r\n\r\n\r\n ","title":"Android online mediaplayer with seekbar and play pause button","body":"<p>I want to make a list in recyclerview which each item has a play pause button and a seekbar. I finally used this code to make it, but when I click on play button, it crashes and it is not working.</p>\n<p>This code works when your media is offline, but when I want to use it on online mode and get the file from a URL, it cause problem.</p>\n<p>and the error of android studio indicate to</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.media.MediaPlayer.setAudioStreamType(int)' on a null object reference at com.example.wp.VersionAdapter4.startmediaplayer(VersionAdapter4.java:252) at com.example.wp.VersionAdapter4.lambda$onBindViewHolder$0$com-example-wp-VersionAdapter4(VersionAdapter4.java:61) at com.example.wp.VersionAdapter4$$ExternalSyntheticLambda0.onClick(Unknown Source:4)</p>\n<p>and it cant get the file as string</p>\n<p>How can I fix this?</p>\n<pre><code>public class VersionAdapter4 extends RecyclerView.Adapter&lt;VersionAdapter4.VersionViewHolder&gt;{\n\nprivate MediaPlayer mediaPlayer;\n\nContext context;\n\nVersionAdapter4 adapter;\n\nprivate final ArrayList&lt;Version4&gt; versionlist;\nprivate int currentPlayingPosition;\nprivate final SeekbarUpdater seekbarUpdater;\nprivate VersionViewHolder playingHolder;\n\npublic VersionAdapter4(Context context, ArrayList&lt;Version4&gt; versionlist) {\n    this.versionlist = versionlist;\n    this.currentPlayingPosition = -1;\n    seekbarUpdater = new SeekbarUpdater();\n    this.context = context;\n}\n\n@NonNull\n@Override\npublic VersionViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    return new VersionViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.raw3, parent, false));\n}\n\n@Override\npublic void onBindViewHolder(@NonNull VersionViewHolder holder, int position) {\n    Version4 version4 = versionlist.get(position);\n  \n    boolean isExpandable = versionlist.get(position).isExpandable();\n    holder.expandableLayout.setVisibility(isExpandable ? View.VISIBLE : View.GONE);\n\n    if (position == currentPlayingPosition) {\n        playingHolder = holder;\n        updateplayingview();\n    } else {\n        updatenoneplayingview(holder);\n    }\n\n}\n\npublic void onViewRecycled(VersionViewHolder holder) {\n    super.onViewRecycled(holder);\n    if (currentPlayingPosition == holder.getAdapterPosition()) {\n        updatenoneplayingview(playingHolder);\n        playingHolder = null;\n    }\n}\n\nprivate void updatenoneplayingview(VersionViewHolder holder) {\n    holder.sbProgress.removeCallbacks(seekbarUpdater);\n    holder.sbProgress.setEnabled(false);\n    holder.sbProgress.setProgress(0);\n    holder.btnplay.setText(&quot;play&quot;);\n}\n\nprivate void updateplayingview() {\n    playingHolder.sbProgress.setMax(mediaPlayer.getDuration());\n    playingHolder.sbProgress.setProgress(mediaPlayer.getCurrentPosition());\n    playingHolder.sbProgress.setEnabled(true);\n    if (mediaPlayer.isPlaying()) {\n        playingHolder.sbProgress.postDelayed(seekbarUpdater, 100);\n        playingHolder.btnplay.setText(&quot;pause&quot;);\n    } else {\n        playingHolder.sbProgress.removeCallbacks(seekbarUpdater);\n        playingHolder.btnplay.setText(&quot;play&quot;);\n    }\n}\n\nprivate class SeekbarUpdater implements Runnable {\n\n    @Override\n    public void run() {\n        if (null != playingHolder &amp;&amp; null != mediaPlayer) {\n            playingHolder.sbProgress.setProgress(mediaPlayer.getCurrentPosition());\n            playingHolder.sbProgress.postDelayed(this, 100);\n        }\n\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return versionlist.size();\n}\n\npublic class VersionViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener, SeekBar.OnSeekBarChangeListener {\n    //  Version3 version = versionsList.get(i);\n    SeekBar sbProgress;\n    Button btnplay;\n RelativeLayout expandableLayout;\n        public VersionViewHolder(@NonNull View itemView) {\n        super(itemView);\n     \n        linearLayout = itemView.findViewById(R.id.linear);\n        expandableLayout = itemView.findViewById(R.id.expandable);\n        btnplay = itemView.findViewById(R.id.track_play);\n        btnplay.setOnClickListener(this);\n        sbProgress = itemView.findViewById(R.id.seekbar);\n        sbProgress.setOnSeekBarChangeListener(this);\n        linearLayout.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Version4 version4 = versionlist.get(getAdapterPosition());\n                version4.setExpandable(!version4.isExpandable());\n                notifyItemChanged(getAdapterPosition());\n\n            }\n        });\n    }\n @Override\n    public void onClick(View view) {\n        if (getAdapterPosition() == currentPlayingPosition) {\n            if (mediaPlayer.isPlaying()) {\n                mediaPlayer.pause();\n            } else {\n                mediaPlayer.start();\n            }\n        } else {\n            currentPlayingPosition = getAdapterPosition();\n            if (mediaPlayer != null) {\n                if (null != playingHolder) {\n                    updatenoneplayingview(playingHolder);\n                }\n                mediaPlayer.release();\n            }\n            playingHolder = this;\n            try {\n                startmediaplayer(versionlist.get(currentPlayingPosition).getSong());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n        updateplayingview();\n\n    }\n    @Override\n    public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n        if (b) {\n            mediaPlayer.seekTo(i);\n        }\n\n    }\n\n    @Override\n    public void onStartTrackingTouch(SeekBar seekBar) {\n\n    }\n\n    @Override\n    public void onStopTrackingTouch(SeekBar seekBar) {\n\n    }\n}\n private void startmediaplayer(String  getsong) throws IOException {\n   \n    mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n    mediaPlayer.reset();\n    mediaPlayer.setDataSource(getsong);\n    mediaPlayer.prepare();\n    mediaPlayer.start();\n\n\n    mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n        @Override\n        public void onCompletion(MediaPlayer mediaPlayer) {\n            releasemediaplayer();\n        }\n    });\n\n\n\n}\n    private void releasemediaplayer(){\n    if (null!=playingHolder){\n        updatenoneplayingview(playingHolder);\n    }\n    mediaPlayer.release();\n    mediaPlayer=null;\n    currentPlayingPosition=-1;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1653978502,"post_id":72443072,"comment_id":127975401,"body_markdown":"1. Remove `maven-compiler-plugin` and specify `java.version` in `&lt;properties&gt;` in yourbuild. 2. Remove `version` from `spring-boot-maven-plugin` and `spring-boot-starter-test`. 3. Remove `junit` dependency, 4. remove `version` from `mysql-connector-java`. Use maven to build the jar don&#39;t use the export version of your IDE (which appears to be used in this case, to create a jar), just run `mvn package`.","body":"1. Remove <code>maven-compiler-plugin</code> and specify <code>java.version</code> in <code>&lt;properties&gt;</code> in yourbuild. 2. Remove <code>version</code> from <code>spring-boot-maven-plugin</code> and <code>spring-boot-starter-test</code>. 3. Remove <code>junit</code> dependency, 4. remove <code>version</code> from <code>mysql-connector-java</code>. Use maven to build the jar don&#39;t use the export version of your IDE (which appears to be used in this case, to create a jar), just run <code>mvn package</code>."},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":1,"creation_date":1653978930,"post_id":72443072,"comment_id":127975496,"body_markdown":"Adding on to the last part of what @M.Deinum said, Maven is a build automation tool. The `mvn package` command can be used to produce an executable JAR in most cases (in the target/ directory). Defining an artifact in IntelliJ circumvents the whole build process defined by Maven and your POM, which is probably why you&#39;re running into trouble.","body":"Adding on to the last part of what @M.Deinum said, Maven is a build automation tool. The <code>mvn package</code> command can be used to produce an executable JAR in most cases (in the target/ directory). Defining an artifact in IntelliJ circumvents the whole build process defined by Maven and your POM, which is probably why you&#39;re running into trouble."},{"owner":{"account_id":25241292,"reputation":516,"user_id":19075135,"display_name":"Neo"},"score":0,"creation_date":1653979581,"post_id":72443072,"comment_id":127975687,"body_markdown":"Thanks for the anwsers. I tried your solution @M.Deinum and it seems both error are gone. But now I get ```java.lang.UnsupportedClassVersionError: com/project/project_name/adapters/api/Application has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 54.0```\nIs this linked to any of the changes made ?","body":"Thanks for the anwsers. I tried your solution @M.Deinum and it seems both error are gone. But now I get <code>java.lang.UnsupportedClassVersionError: com&#47;project&#47;project_name&#47;adapters&#47;api&#47;Application has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 54.0</code> Is this linked to any of the changes made ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653979767,"post_id":72443072,"comment_id":127975744,"body_markdown":"Apparently you compiled with java 11 and run on java 10. You probably forgot to include the `java.version` property as I mentioned (see my actual answer for the needed `pom.xml`).","body":"Apparently you compiled with java 11 and run on java 10. You probably forgot to include the <code>java.version</code> property as I mentioned (see my actual answer for the needed <code>pom.xml</code>)."},{"owner":{"account_id":25241292,"reputation":516,"user_id":19075135,"display_name":"Neo"},"score":0,"creation_date":1653980023,"post_id":72443072,"comment_id":127975820,"body_markdown":"nope, i had ```&lt;properties&gt;&lt;java.version&gt;10&lt;/java.version&gt;&lt;/properties&gt;``` ; but even after copy-pasting your answer I still have the same issue.","body":"nope, i had <code>&lt;properties&gt;&lt;java.version&gt;10&lt;&#47;java.version&gt;&lt;&#47;properties&gt;</code> ; but even after copy-pasting your answer I still have the same issue."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653979493,"creation_date":1653979493,"answer_id":72443275,"question_id":72443072,"body_markdown":"&gt; I builded the .jar of the project by using\r\nBuild-&gt;Build Artifact-&gt;project_name.jar-&gt;Build\r\n\r\nWhich is the cause of your problems. You should use the build file provided with the project. In this case the `pom.xml` to build the artifact. You should run `./mvnw package` which will create the proper jar file with the dependencies and proper files. \r\n\r\nIf you do it the way you do, you will only get a jar with the classes, with no repacked structure nor dependencies. You basically skip the whole Spring Boot thing. \r\n\r\n**Pro Tip** Cleanup your `pom.xml` as there are some discrepancies in there. \r\n\r\n1. Remove the `maven-compiler-plugin` and specify the version through properties. Spring Boot already sets up this plugin for you\r\n2. Remove the `version` of the `spring-boot-maven-plugin` you want to use the same version as the `parent` you provided. \r\n3. Remove the `junit` dependency, this is already included in `spring-boot-starter-test`\r\n4. Remove the `version` from the `mysql` dependency, it is an old one and Spring Boot manages a proper, recent version.\r\n5. Remove the `version` of the `spring-boot-starter-test` dependency, use the same version as the parent. If you leave it like this and upgrade the parent you have a version mismatch.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.piroux&lt;/groupId&gt;\r\n    &lt;artifactId&gt;phoenixrh-backend&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;10&lt;java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.piroux.phoenixrhbackend.adapters.api.Application&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.bechte.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-hierarchicalcontextrunner&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"Problems using a rest api .jar in docker","body":"<blockquote>\n<p>I builded the .jar of the project by using\nBuild-&gt;Build Artifact-&gt;project_name.jar-&gt;Build</p>\n</blockquote>\n<p>Which is the cause of your problems. You should use the build file provided with the project. In this case the <code>pom.xml</code> to build the artifact. You should run <code>./mvnw package</code> which will create the proper jar file with the dependencies and proper files.</p>\n<p>If you do it the way you do, you will only get a jar with the classes, with no repacked structure nor dependencies. You basically skip the whole Spring Boot thing.</p>\n<p><strong>Pro Tip</strong> Cleanup your <code>pom.xml</code> as there are some discrepancies in there.</p>\n<ol>\n<li>Remove the <code>maven-compiler-plugin</code> and specify the version through properties. Spring Boot already sets up this plugin for you</li>\n<li>Remove the <code>version</code> of the <code>spring-boot-maven-plugin</code> you want to use the same version as the <code>parent</code> you provided.</li>\n<li>Remove the <code>junit</code> dependency, this is already included in <code>spring-boot-starter-test</code></li>\n<li>Remove the <code>version</code> from the <code>mysql</code> dependency, it is an old one and Spring Boot manages a proper, recent version.</li>\n<li>Remove the <code>version</code> of the <code>spring-boot-starter-test</code> dependency, use the same version as the parent. If you leave it like this and upgrade the parent you have a version mismatch.</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.piroux&lt;/groupId&gt;\n    &lt;artifactId&gt;phoenixrh-backend&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;10&lt;java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.piroux.phoenixrhbackend.adapters.api.Application&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.bechte.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-hierarchicalcontextrunner&lt;/artifactId&gt;\n            &lt;version&gt;4.12.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;version&gt;1.14.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql&lt;/artifactId&gt;\n            &lt;version&gt;1.14.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":25241292,"reputation":516,"user_id":19075135,"display_name":"Neo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653979493,"creation_date":1653978280,"question_id":72443072,"body_markdown":"Basically, I added code to an already existing REST API (`java`, `Springboot`). when I run it on `Intellij` there&#39;s no problem and I can use it as intended. \r\nThe thing is that I want to test it on a Docker container.\r\nI builded the ``.jar`` of the project by using \\\r\n`Build-&gt;Build Artifact-&gt;project_name.jar-&gt;Build`\\\r\nand when I try to ``docker-compose up`` I get several problems.\r\n\r\nThe folder I use contains : a ``docker-compose.yml``, a ``Dockerfile``, and the ``.jar``\r\nI know the first two files are ok as I used them to run a small test project and had no errors.\r\n\r\nThe first problem I got when building the container is :\\\r\n```no main manifest attribute, in /project_name.jar```\r\n\r\nMy ``MANIFEST.MF`` look like this in my IDE :\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: com.project.project_name.adapters.api.Application\r\n```\r\n\r\nbut in my ``.jar`` artifact look like this :\r\n```\r\nManifest-Version: 1.0\r\nImplementation-Title: spring-beans\r\nAutomatic-Module-Name: spring.beans\r\nImplementation-Version: 5.2.3.RELEASE\r\nCreated-By: 1.8.0_232 (Oracle Corporation)\r\n```\r\n\r\nSo my first question is why is it different and why is it deleting the part with the  ```Main Class``` ? And of course how to solve this problem ?\r\n\r\nAs a temporary solution, I added the ```Main Class``` in the ``MANIFEST.MF`` by hand in my ``.jar``\r\n\r\nBy doing so, I get a ``MANIFEST.MF`` that look like this :\r\n\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: com.project.project_name.adapters.api.Application\r\nImplementation-Title: spring-beans\r\nAutomatic-Module-Name: spring.beans\r\nImplementation-Version: 5.2.3.RELEASE\r\nCreated-By: 1.8.0_232 (Oracle Corporation)\r\n```\r\n\r\nWhen I try to ``docker-compose up`` once again, I get this error :\r\n```java.lang.IllegalArgumentException: No auto configuration classes found in META -INF/spring.factories. If you are using a custom packaging, make sure that file is correct.```\r\n\r\nI&#39;m not really a pro in ``Springboot``, and that&#39;s an ex-coworker who did the first part of the project, but I&#39;m pretty sure it uses custom packaging.\r\n\r\nthe file ``spring.factories`` look like this  : \r\n```\r\norg.springframework.beans.BeanInfoFactory=org.springframework.beans.ExtendedBeanInfoFactory\r\n```\r\nand I don&#39;t know if this is supposed to be correct or not.\r\nI&#39;m clearly missing something but I don&#39;t really know what, even after looking here for similar problem and potential solution, but nothing did the trick.\r\n\r\nJust in case here&#39;s my pom.xml : \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.piroux&lt;/groupId&gt;\r\n    &lt;artifactId&gt;phoenixrh-backend&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;10&lt;/source&gt;\r\n                    &lt;target&gt;10&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.piroux.phoenixrhbackend.adapters.api.Application&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.bechte.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-hierarchicalcontextrunner&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.45&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nNot sure if any other information is needed, but if so just tell me.\r\n\r\n","title":"Problems using a rest api .jar in docker","body":"<p>Basically, I added code to an already existing REST API (<code>java</code>, <code>Springboot</code>). when I run it on <code>Intellij</code> there's no problem and I can use it as intended.\nThe thing is that I want to test it on a Docker container.\nI builded the <code>.jar</code> of the project by using <br />\n<code>Build-&gt;Build Artifact-&gt;project_name.jar-&gt;Build</code><br />\nand when I try to <code>docker-compose up</code> I get several problems.</p>\n<p>The folder I use contains : a <code>docker-compose.yml</code>, a <code>Dockerfile</code>, and the <code>.jar</code>\nI know the first two files are ok as I used them to run a small test project and had no errors.</p>\n<p>The first problem I got when building the container is :<br />\n<code>no main manifest attribute, in /project_name.jar</code></p>\n<p>My <code>MANIFEST.MF</code> look like this in my IDE :</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: com.project.project_name.adapters.api.Application\n</code></pre>\n<p>but in my <code>.jar</code> artifact look like this :</p>\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: spring-beans\nAutomatic-Module-Name: spring.beans\nImplementation-Version: 5.2.3.RELEASE\nCreated-By: 1.8.0_232 (Oracle Corporation)\n</code></pre>\n<p>So my first question is why is it different and why is it deleting the part with the  <code>Main Class</code> ? And of course how to solve this problem ?</p>\n<p>As a temporary solution, I added the <code>Main Class</code> in the <code>MANIFEST.MF</code> by hand in my <code>.jar</code></p>\n<p>By doing so, I get a <code>MANIFEST.MF</code> that look like this :</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: com.project.project_name.adapters.api.Application\nImplementation-Title: spring-beans\nAutomatic-Module-Name: spring.beans\nImplementation-Version: 5.2.3.RELEASE\nCreated-By: 1.8.0_232 (Oracle Corporation)\n</code></pre>\n<p>When I try to <code>docker-compose up</code> once again, I get this error :\n<code>java.lang.IllegalArgumentException: No auto configuration classes found in META -INF/spring.factories. If you are using a custom packaging, make sure that file is correct.</code></p>\n<p>I'm not really a pro in <code>Springboot</code>, and that's an ex-coworker who did the first part of the project, but I'm pretty sure it uses custom packaging.</p>\n<p>the file <code>spring.factories</code> look like this  :</p>\n<pre><code>org.springframework.beans.BeanInfoFactory=org.springframework.beans.ExtendedBeanInfoFactory\n</code></pre>\n<p>and I don't know if this is supposed to be correct or not.\nI'm clearly missing something but I don't really know what, even after looking here for similar problem and potential solution, but nothing did the trick.</p>\n<p>Just in case here's my pom.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.piroux&lt;/groupId&gt;\n    &lt;artifactId&gt;phoenixrh-backend&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;10&lt;/source&gt;\n                    &lt;target&gt;10&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.piroux.phoenixrhbackend.adapters.api.Application&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.bechte.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-hierarchicalcontextrunner&lt;/artifactId&gt;\n            &lt;version&gt;4.12.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.45&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;version&gt;1.14.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql&lt;/artifactId&gt;\n            &lt;version&gt;1.14.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Not sure if any other information is needed, but if so just tell me.</p>\n"},{"tags":["java","android","canvas","graphics","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":23387397,"reputation":186,"user_id":17452507,"display_name":"baka3k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653979255,"creation_date":1653979255,"answer_id":72443227,"question_id":72442276,"body_markdown":"The only way is calling canvas.invalidate() to re-draw canvas, then handle logic to draw bitmap or not - example:\r\n```\r\nif(your_logic())\r\n{\r\n    // draw bitmap as you want\r\n    canvas.drawBitmap(AppConstants.getBitmapBank().getTubeTop(), tubes.get(i).getTubeX(), tubes.get(i).getTopTubeY(), null);\r\n    \r\n}\r\nelse{\r\n  // do nothing \r\n}\r\n```","title":"Remove bitmap from canvas drawBitmap in Android Java","body":"<p>The only way is calling canvas.invalidate() to re-draw canvas, then handle logic to draw bitmap or not - example:</p>\n<pre><code>if(your_logic())\n{\n    // draw bitmap as you want\n    canvas.drawBitmap(AppConstants.getBitmapBank().getTubeTop(), tubes.get(i).getTubeX(), tubes.get(i).getTopTubeY(), null);\n    \n}\nelse{\n  // do nothing \n}\n</code></pre>\n"}],"owner":{"account_id":18607597,"reputation":142,"user_id":13560859,"display_name":"William Edward"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653979412,"creation_date":1653970978,"question_id":72442276,"body_markdown":"I&#39;m currently build a flappy bird app and I want to implement the coin between pipes. The coins are successfully placed between the pipes. The problem is, when the bird hitting the coin, the coin should be gone. What should I do to make the coin gone? Any help would be appreciated, thank you!\r\n\r\nGameEngine.java\r\n\r\n    public void updateAndDrawTubes(Canvas canvas) {\r\n         for (int i = 0; i &lt; AppConstants.numberOfTubes; i++) {\r\n                coinX = coin.getCoinX() + 55;\r\n                coinY = tubes.get(i).getTopTubeOffsetY() + 150;\r\n\r\n                // draw top tube\r\n                canvas.drawBitmap(AppConstants.getBitmapBank().getTubeTop(), tubes.get(i).getTubeX(), tubes.get(i).getTopTubeY(), null);\r\n\r\n                // draw coin between tubes/pipes\r\n                canvas.drawBitmap(AppConstants.getBitmapBank().getCoin(), coinX, coinY, null);\r\n                \r\n                // draw bottom tube\r\n                canvas.drawBitmap(AppConstants.getBitmapBank().getTubeBottom(), tubes.get(i).getTubeX(), tubes.get(i).getBottomTubeY(), null);\r\n         }\r\n    }","title":"Remove bitmap from canvas drawBitmap in Android Java","body":"<p>I'm currently build a flappy bird app and I want to implement the coin between pipes. The coins are successfully placed between the pipes. The problem is, when the bird hitting the coin, the coin should be gone. What should I do to make the coin gone? Any help would be appreciated, thank you!</p>\n<p>GameEngine.java</p>\n<pre><code>public void updateAndDrawTubes(Canvas canvas) {\n     for (int i = 0; i &lt; AppConstants.numberOfTubes; i++) {\n            coinX = coin.getCoinX() + 55;\n            coinY = tubes.get(i).getTopTubeOffsetY() + 150;\n\n            // draw top tube\n            canvas.drawBitmap(AppConstants.getBitmapBank().getTubeTop(), tubes.get(i).getTubeX(), tubes.get(i).getTopTubeY(), null);\n\n            // draw coin between tubes/pipes\n            canvas.drawBitmap(AppConstants.getBitmapBank().getCoin(), coinX, coinY, null);\n            \n            // draw bottom tube\n            canvas.drawBitmap(AppConstants.getBitmapBank().getTubeBottom(), tubes.get(i).getTubeX(), tubes.get(i).getBottomTubeY(), null);\n     }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1517139029,"post_id":48485770,"comment_id":83964318,"body_markdown":"This works for me. There&#39;s something else going on there...","body":"This works for me. There&#39;s something else going on there..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1517155351,"post_id":48485770,"comment_id":83969498,"body_markdown":"Please build on plain command and add the log output to the post...","body":"Please build on plain command and add the log output to the post..."}],"answers":[{"tags":[],"owner":{"account_id":16838545,"reputation":1,"user_id":12174468,"display_name":"Ngeno Gilbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653979134,"creation_date":1653979134,"answer_id":72443206,"question_id":48485770,"body_markdown":"The solution is to change the Microprofile to the latest version. It worked for me.","title":"import eclipse microprofile version using maven","body":"<p>The solution is to change the Microprofile to the latest version. It worked for me.</p>\n"}],"owner":{"account_id":2854435,"reputation":2798,"user_id":2853439,"accept_rate":50,"display_name":"Prateek Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653979134,"creation_date":1517138513,"question_id":48485770,"body_markdown":"I have a simple multi-module project hello-service which has multiple child maven modules(jar, war, ear). These sub modules are direct child of hello-service. I have declared following in root pom.xml\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nnow in pom.xml of war module I am trying to access cdi-api like\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nbut it gives error about version of cdi-api (unable to find). Not sure where am I going wrong. I have checked bom file of microprofile and it contains version of cdi-api (1.2) in it. Any clues/pointers? Given below is the error trace:\r\n\r\n    [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [WARNING] &#39;version&#39; contains an expression but should be a constant. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 11, column 14\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for javax.enterprise:cdi-api:jar is missing. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 25, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for javax.ws.rs:javax.ws.rs-api:jar is missing. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 31, column 21\r\n    [WARNING] &#39;version&#39; contains an expression but should be a constant. @ com.pjain:hello-service-ejb:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-ejb/pom.xml, line 11, column 14\r\n    [WARNING] &#39;version&#39; contains an expression but should be a constant. @ com.pjain:hello-service-common:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-common/pom.xml, line 9, column 12\r\n     @ \r\n    [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\r\n    [WARNING] &#39;version&#39; contains an expression but should be a constant. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 11, column 14\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for javax.enterprise:cdi-api:jar is missing. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 25, column 21\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for javax.ws.rs:javax.ws.rs-api:jar is missing. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 31, column 21\r\n    [WARNING] &#39;version&#39; contains an expression but should be a constant. @ com.pjain:hello-service-ejb:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-ejb/pom.xml, line 11, column 14\r\n    [WARNING] &#39;version&#39; contains an expression but should be a constant. @ com.pjain:hello-service-common:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-common/pom.xml, line 9, column 12\r\n\r\n\r\n","title":"import eclipse microprofile version using maven","body":"<p>I have a simple multi-module project hello-service which has multiple child maven modules(jar, war, ear). These sub modules are direct child of hello-service. I have declared following in root pom.xml</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>now in pom.xml of war module I am trying to access cdi-api like</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>but it gives error about version of cdi-api (unable to find). Not sure where am I going wrong. I have checked bom file of microprofile and it contains version of cdi-api (1.2) in it. Any clues/pointers? Given below is the error trace:</p>\n\n<pre><code>[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[WARNING] 'version' contains an expression but should be a constant. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 11, column 14\n[ERROR] 'dependencies.dependency.version' for javax.enterprise:cdi-api:jar is missing. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 25, column 21\n[ERROR] 'dependencies.dependency.version' for javax.ws.rs:javax.ws.rs-api:jar is missing. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 31, column 21\n[WARNING] 'version' contains an expression but should be a constant. @ com.pjain:hello-service-ejb:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-ejb/pom.xml, line 11, column 14\n[WARNING] 'version' contains an expression but should be a constant. @ com.pjain:hello-service-common:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-common/pom.xml, line 9, column 12\n @ \n[ERROR] The build could not read 1 project -&gt; [Help 1]\norg.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\n[WARNING] 'version' contains an expression but should be a constant. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 11, column 14\n[ERROR] 'dependencies.dependency.version' for javax.enterprise:cdi-api:jar is missing. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 25, column 21\n[ERROR] 'dependencies.dependency.version' for javax.ws.rs:javax.ws.rs-api:jar is missing. @ com.pjain:hello-service-war:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-war/pom.xml, line 31, column 21\n[WARNING] 'version' contains an expression but should be a constant. @ com.pjain:hello-service-ejb:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-ejb/pom.xml, line 11, column 14\n[WARNING] 'version' contains an expression but should be a constant. @ com.pjain:hello-service-common:${project.parent.version}, /home/pjain/lab/code/sample_projects/empty_ear_project/hello-service-common/pom.xml, line 9, column 12\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653978986,"creation_date":1653978986,"answer_id":72443177,"question_id":72442387,"body_markdown":"You can set the classpath when invoking a Java process. AFAIK you cannot modify the classpath within a running java program. So there are two ways to deal with that:\r\n\r\n**Invoke another JVM**\r\n\r\nConstruct the command as you would have passed it on the command line, then use [ProcessBuilder][1] to run this command. It will create another process that runs your application. Noone needs to know your application is still in memory with &#39;the wrong&#39; classpath.\r\n\r\n**Use a different Classloader**\r\n\r\nCreate a Classloader that loads classes from your desired classpath. Load the classes in question through that classloader and invoke them as needed. See also https://stackoverflow.com/questions/1673256/java-class-loader-tutorial\r\nWith this solution the operating system sees only one process.\r\n\r\nThis technique is commonly used in application servers or systems with a plugin architecture. You could therefore check out e.g. [Apache Felix][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\r\n  [2]: https://felix.apache.org/documentation/index.html","title":"How to set the class path using a java program","body":"<p>You can set the classpath when invoking a Java process. AFAIK you cannot modify the classpath within a running java program. So there are two ways to deal with that:</p>\n<p><strong>Invoke another JVM</strong></p>\n<p>Construct the command as you would have passed it on the command line, then use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> to run this command. It will create another process that runs your application. Noone needs to know your application is still in memory with 'the wrong' classpath.</p>\n<p><strong>Use a different Classloader</strong></p>\n<p>Create a Classloader that loads classes from your desired classpath. Load the classes in question through that classloader and invoke them as needed. See also <a href=\"https://stackoverflow.com/questions/1673256/java-class-loader-tutorial\">Java class loader tutorial</a>\nWith this solution the operating system sees only one process.</p>\n<p>This technique is commonly used in application servers or systems with a plugin architecture. You could therefore check out e.g. <a href=\"https://felix.apache.org/documentation/index.html\" rel=\"nofollow noreferrer\">Apache Felix</a>.</p>\n"}],"owner":{"account_id":25433052,"reputation":1,"user_id":19237145,"display_name":"Sanjay rayudu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653978986,"creation_date":1653972360,"question_id":72442387,"body_markdown":"Setting a java class path not by using command prompt by using a java program.\r\nEverywhere we have description about how to set path and class path using cmd or by going to environment variables but I want to set the class path using a java program","title":"How to set the class path using a java program","body":"<p>Setting a java class path not by using command prompt by using a java program.\nEverywhere we have description about how to set path and class path using cmd or by going to environment variables but I want to set the class path using a java program</p>\n"},{"tags":["java","selenium","selenium-webdriver","github-actions"],"comments":[{"owner":{"account_id":3141721,"reputation":523,"user_id":2657060,"accept_rate":46,"display_name":"Zagatho"},"score":0,"creation_date":1653931400,"post_id":72437988,"comment_id":127966765,"body_markdown":"It would be useful to post the full error message.","body":"It would be useful to post the full error message."},{"owner":{"account_id":1084469,"reputation":7470,"user_id":1080523,"display_name":"rethab"},"score":0,"creation_date":1653978144,"post_id":72437988,"comment_id":127975289,"body_markdown":"And also the YAML. Please see here on how to ask a good question: https://stackoverflow.com/help/how-to-ask","body":"And also the YAML. Please see here on how to ask a good question: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"owner":{"account_id":17567649,"reputation":1,"user_id":12744046,"display_name":"abanob adel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653978622,"creation_date":1653931238,"question_id":72437988,"body_markdown":" I need to upload an image using selenium webdriver and run it **locally** and on **GitHub actions** using java language :\r\n\r\n 1. I added the image in the folder in my project\r\n 2. get absolute path to my image \r\n 3. used sendKeys() to send the absolute path of my image\r\n 4. when running code locally works fine but when running it on **GitHub Action** returns an error &quot;org.openqa.selenium.InvalidArgumentException:&quot;\r\n\r\n        File file = new File(&quot;src/main/resources/UploadImage/MyImage.png&quot;);\r\n        imageUploadChooseFile.sendKeys(file.getAbsolutePath());\r\nScreenshot for the error :\r\n[Screenshot for the error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/07LFO.png","title":"unable to upload image when run my code in github actions","body":"<p>I need to upload an image using selenium webdriver and run it <strong>locally</strong> and on <strong>GitHub actions</strong> using java language :</p>\n<ol>\n<li><p>I added the image in the folder in my project</p>\n</li>\n<li><p>get absolute path to my image</p>\n</li>\n<li><p>used sendKeys() to send the absolute path of my image</p>\n</li>\n<li><p>when running code locally works fine but when running it on <strong>GitHub Action</strong> returns an error &quot;org.openqa.selenium.InvalidArgumentException:&quot;</p>\n<pre><code>File file = new File(&quot;src/main/resources/UploadImage/MyImage.png&quot;);\nimageUploadChooseFile.sendKeys(file.getAbsolutePath());\n</code></pre>\n</li>\n</ol>\n<p>Screenshot for the error :\n<a href=\"https://i.stack.imgur.com/07LFO.png\" rel=\"nofollow noreferrer\">Screenshot for the error</a></p>\n"},{"tags":["java","security","email","gmail"],"comments":[{"owner":{"account_id":1824972,"reputation":689,"user_id":1658030,"accept_rate":82,"display_name":"Nepaluz"},"score":1,"creation_date":1445111081,"post_id":31846888,"comment_id":54187614,"body_markdown":"Did you ever find out how to connect securely without having to enable insecure apps to send email via SMTP on gmail?","body":"Did you ever find out how to connect securely without having to enable insecure apps to send email via SMTP on gmail?"},{"owner":{"account_id":9260349,"reputation":435,"user_id":6877668,"accept_rate":80,"display_name":"Ji&#237;"},"score":0,"creation_date":1600413598,"post_id":31846888,"comment_id":113085623,"body_markdown":"@Nepaluz bit late, but I had to implement this, so I added the solution below. Some things are a bit tricky (sometimes google docs are outdated) but it is not that hard. I included all tricky parts I had to deal with. There are plenty links to follow in case you would like to do this in a different language.","body":"@Nepaluz bit late, but I had to implement this, so I added the solution below. Some things are a bit tricky (sometimes google docs are outdated) but it is not that hard. I included all tricky parts I had to deal with. There are plenty links to follow in case you would like to do this in a different language."}],"answers":[{"tags":[],"owner":{"account_id":197387,"reputation":17814,"user_id":443244,"accept_rate":90,"display_name":"Sangram Nandkhile"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619078409,"creation_date":1448876759,"answer_id":33995564,"question_id":31846888,"body_markdown":"You need to use OAUTH to send emails. Moving forward, every google app will use oauth.\r\n\r\n**Quick and dirty fix** would be Turning ON access for less secure apps.\r\nBy default, Google locks out most third party clients from IMAP access, but you can change that here and keep sending emails.\r\n\r\nhttps://www.google.com/settings/security/lesssecureapps\r\n","title":"How to send email via Gmail SMTP in secure way","body":"<p>You need to use OAUTH to send emails. Moving forward, every google app will use oauth.</p>\n<p><strong>Quick and dirty fix</strong> would be Turning ON access for less secure apps.\nBy default, Google locks out most third party clients from IMAP access, but you can change that here and keep sending emails.</p>\n<p><a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">https://www.google.com/settings/security/lesssecureapps</a></p>\n"},{"tags":[],"owner":{"account_id":9260349,"reputation":435,"user_id":6877668,"accept_rate":80,"display_name":"Ji&#237;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653978570,"creation_date":1600264874,"answer_id":63921733,"question_id":31846888,"body_markdown":"# OAuth 2.0\r\n\r\nI had to implement this on a PHP-based webpage because our server does not have a mail server and we are using google&#39;s one instead. It is likely Google will cut any unauthorized access to their services in the future; and we want to have a future-proof solution. I believe porting this solution to other languages (such as tagged Java) should be no big issue. \r\n\r\n## Requirements:\r\n\r\nGoogle mail account &lt;i&gt;with Cloud Console enabled&lt;/i&gt;, a web domain with https enabled, PHP 5.4 or greater with JSON extension (bundled since v5.2, but sometimes not installed anyway - we presume it is already installed) and a lot of patience.\r\n\r\nAdditionally, we need [PHP Google API Client library](https://github.com/googleapis/google-api-php-client), that can be obtained using:\r\n\r\n - server&#39;s command-line interface (CLI) and [Composer dependency manager](https://getcomposer.org/). The advantages are that you will receive updates automatically. The Google API library is huge and there are ways to exclude unwanted parts.\r\n\r\nOR\r\n\r\n - copy the library manually from its repository. The advantages are that you need only access to your webhosting cloud service, useful in case you cannot use the Composer manager.\r\n\r\n## 1) Project in Google Console\r\n\r\nFirst, you need to create a project in [google console](https://console.cloud.google.com/). **Perform this setup on an account you want to associate with your webpage mail-sending application - YES, this is going to be an application - from Google&#39;s point of view.** Once logged in: in the header menu in project selection, select and create a new project (mine is called _Gmail API_ from now on). I will be also using a (non-existing) webpage called _gmapi.xy_.\r\n\r\n\r\n[![console][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/moOK5.png]\r\n\r\nOnce a new project is created, go to the Library section, find Gmail API and enable it.\r\n\r\n\r\n## 2) Credentials\r\n\r\nYou obviously need some authentication data. The enablement of API should redirect you to Gmail API console interface - select **Credentials** in the left menu:\r\n\r\nCreate new **OAuth client ID**\r\n - but you&#39;ve been told to first specify your product title on OAuth consent screen -selecting _create new OAuth client ID_ will show you the consent screen tab in the left menu.\r\n\r\n### 2 a) Create product (OAuth consent screen)\r\nYou need to fill in **name, support email, scope, authorized domains and OAuth limits**\r\n\r\n**Scope** : \r\nYou need to specify all privileges granted to anyone who will authenticate to the Gmail API: \r\n - click &#39;Add Scope&#39;\r\n - scroll down and enable all desired scopes in Gmail API section (in my case, I wanted to send mails only, so I enabled also https://www.googleapis.com/auth/gmail.send scope.\r\n\r\n**Authorized domains** : \r\nFill in the domain you want to send the emails from: \r\n - add authorized domains - these will be allowed to access the api (no protocol, only top-level: `gmapi.xy`)\r\n - add app homepage, privacy policy and terms of service links - same as above in my case (but a full address: `https://gmapi.xy` OR `https://gmapi.xy/policy` etc.)\r\n\r\n**OAuth grant limits** :\r\nI am satisfied with default setup so no changes (for more information on this topic see https://developers.google.com/analytics/devguides/config/mgmt/v3/limits-quotas)\r\n\r\n**Save changes** :\r\nSave the form. We&#39;ve asked for additional scopes - likely we will see a warning:\r\n\r\n&gt;\r\n&gt; **This app isn&#39;t verified.**\r\n&gt;\r\n&gt;The OAuth consent screen that is presented to the user may show the warning &quot;This app isn&#39;t verified&quot; if it is requesting scopes that provide access to sensitive user data. These applications must eventually go through the verification process to remove that warning and other limitations. During the development phase you can continue past this warning by clicking Advanced &gt; Go to {Project Name} (unsafe).\r\n&gt;\r\n\r\nOnce your app is running, alive, public and not in the development phase, submit the application for verification (button next to `Save`). The verification of your new app might take **up to several weeks**.\r\n\r\n\r\n### 2 b) Create the credentials - again\r\nNow we are able to create the credentials - as before, select **Credentials** in the left menu. Create new **OAuth client ID**.\r\n - select **Web application** as a type\r\n - populate **authorized javascript origins** with your URIs, in my case  `https://gmapi.xy` and  `https://www.gmapi.xy`\r\n - populate **authorized redirect URIs** - google will ask the user for privilages, and you have to specify the URIs the google API is allowed to redirect back to. In my case, I am using `test.php` (having `https://www.gmapi.xy/test.php` URI) that is being redirected to itself. Thus, i will add there `https://www.gmapi.xy/test.php` and `https://gmapi.xy/test.php`.\r\n\r\n&gt;\r\n&gt; There are many problems with allowed redirect URLs, you must not end with `/` sign if your real URI does not have one, you must specify PORT number if you use other than default one... see [this thread](https://stackoverflow.com/questions/11485271/google-oauth-2-authorization-error-redirect-uri-mismatch) for more information.\r\n&gt; There is a checklist for you:\r\n&gt;\r\n&gt; - http or https?\r\n&gt; - &amp; or &amp;amp;amp;?\r\n&gt; - trailing slash(/) or open ?\r\n&gt; - (&lt;kbd&gt;CMD&lt;/kbd&gt;/&lt;kbd&gt;CTRL&lt;/kbd&gt;)+&lt;kbd&gt;F&lt;/kbd&gt;, search for the exact match in the credential page. If not found then search for the missing one.\r\n&gt; - Wait until google refresh it. May happen in each half an hour if you are changing frequently or it may stay in pool. For my case it was almost half an hour to take effect.\r\n&gt; - Did you re-import the `credentials.json` file upon changing the values in your OAuth ID?\r\n&gt;\r\n&gt; **NOTE**: having multiple allowed URIs can _harm_ your script - after successful authorization, you can still get [this error](https://github.com/googleapis/google-api-php-client/issues/1603) after being redirected back to your webpage.\r\n&gt;\r\n\r\n - save the form (you don&#39;t have to copy the credentials you&#39;ve been provided with upon successful OAuth ID creation - close the popup)\r\n - download `JSON` credentials file - in _OAuth 2.0 Client IDs_ section, click the arrow icon \r\n\r\n## 3 a) Setup PHP - with Composer\r\n\r\n - install google API library via Composer: `composer require google/apiclient:^2.0`\r\n - optionally: run the `Google_Task_Composer::cleanup` task and specify the services you want to keep in `composer.json`:\r\n```json\r\n    {\r\n        &quot;require&quot;: {\r\n            &quot;google/apiclient&quot;: &quot;^2.7&quot;\r\n        },\r\n        &quot;scripts&quot;: {\r\n            &quot;post-update-cmd&quot;: &quot;Google_Task_Composer::cleanup&quot;\r\n        },\r\n        &quot;extra&quot;: {\r\n            &quot;google/apiclient-services&quot;: [\r\n                &quot;Drive&quot;,\r\n                &quot;YouTube&quot;\r\n            ]\r\n        }\r\n    }\r\n```\r\n&gt;\r\n&gt; NOTE: there seems to be [issues](https://github.com/googleapis/google-api-php-client/issues/1893) with this approach that has not been resolved yet. Therefore I did not try this feature. I also could not find available services name list, so it would be good if someone found it and added a link.\r\n&gt;\r\n\r\n## 3 b) Setup PHP - without Composer\r\n\r\nDownload any `.zip` - a stable version from [releases](https://github.com/googleapis/google-api-php-client/releases) of your desired PHP version and place it somewhere in the website (upload the `.zip` and extract it there).\r\n\r\n## 4 Include the library, your credentials and prepare for authentication\r\n\r\nUpload also the `JSON` credentials file. \r\n\r\n&gt;\r\n&gt; **SECURITY NOTICE**: place it somewhere safe: either remove the R/W privileges for anyone except owner or protect this file using `.htaccess`!\r\n&gt;\r\n\r\nThen simply include `autoload.php` (locate the library on the server for its path, it should be in `vendor` folder) and provide the credentials for authentication.\r\n\r\n    require_once &#39;/path/to/google-api-php-client/vendor/autoload.php&#39;;\r\n\r\n    $client = new Google_Client();\r\n    $client-&gt;setAuthConfig(&#39;/path/to/client_credentials.json&#39;);\r\n\r\nFurthermore, you have to ask for the scope privileges and obtain a `token` from the service. The available scope list is available [here](https://developers.google.com/resources/api-libraries/documentation/gmail/v1/php/latest/class-Google_Service_Gmail.html). Also, see [this thread](https://stackoverflow.com/questions/30661489/gmail-api-insufficient-permission) for more examples on scopes.\r\n\r\n    $client-&gt;setPrompt(&quot;consent&quot;);\r\n    $client-&gt;setScopes(array(\r\n        &#39;https://www.googleapis.com/auth/gmail.send&#39;\r\n         //add more if you want to have them, or add\r\n         // &quot;https://mail.google.com/&quot; to read, compose, send, delete mails\r\n    ));\r\n    $client-&gt;setAccessType(&#39;offline&#39;);\r\n    $client-&gt;setIncludeGrantedScopes(true);\r\n    $tokenPath = &#39;where/you/want/to/store/token.json&#39;;\r\n\r\n\r\n    // Get new token - see redirect below\r\n    if (isset($_GET[&#39;code&#39;])) {\r\n        $accessToken = $client-&gt;fetchAccessTokenWithAuthCode($_GET[&#39;code&#39;]);\r\n        // Save the token to a file.\r\n        if (!file_exists(dirname($tokenPath))) {\r\n            mkdir(dirname($tokenPath), 0700, true);\r\n        }\r\n        file_put_contents($tokenPath, json_encode($accessToken));\r\n        $client-&gt;setAccessToken($accessToken);\r\n    } else if (file_exists($tokenPath)) {\r\n        // Get the saved token\r\n        $accessToken = json_decode(file_get_contents($tokenPath), true);\r\n        $client-&gt;setAccessToken($accessToken);\r\n    }\r\n\r\n    // If there is no previous token or it&#39;s expired.\r\n    if ($client-&gt;isAccessTokenExpired()) {\r\n        // Refresh the token if possible, else fetch a new one.\r\n        $refreshToken = $client-&gt;getRefreshToken();\r\n        if ($refreshToken) {\r\n            $client-&gt;fetchAccessTokenWithRefreshToken($refreshToken);\r\n        } else {\r\n            // Get the token - redirect to the same page\r\n            $redirect_uri = &#39;https://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;];\r\n            $client-&gt;setRedirectUri($redirect_uri);\r\n            $auth_url = $client-&gt;createAuthUrl();\r\n\r\n            // Actually GO to the authentication (and authorization) url\r\n            header(&#39;Location: &#39; . filter_var($auth_url, FILTER_SANITIZE_URL));\r\n        }\r\n    }\r\n\r\nAt first, the webpage redirects us to google where we need to grant access for our application to the desired email to send messages with. Once approved, a token file is created that we store in a file. When the token expires, a new token should be created automatically with `fetchAccessTokenWithRefreshToken()` - [more here](https://www.oauth.com/oauth2-servers/access-tokens/access-token-lifetime/).\r\n\r\nDepending on what you want to do, you might want to restrict the ability to authenticate. We used the API to get the access to our system emails, not to allow the website to send mails via the page users, therefore:\r\n\r\n    // Get the token - redirect to the same page\r\n    if ( user_not_administrator ) {\r\n        //TODO: redirect user to some error page and get yourself a notification\r\n        exit;\r\n    }\r\n\r\n    $redirect_uri = &#39;https://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;];\r\n\r\n## 5 Send emails!\r\n\r\n    function createMessage($sender, $to, $subject, $messageText) {\r\n        $message = new Google_Service_Gmail_Message();\r\n\r\n        $rawMessageString = &quot;From: &lt;{$sender}&gt;\\r\\n&quot;;\r\n        $rawMessageString .= &quot;To: &lt;{$to}&gt;\\r\\n&quot;;\r\n        $rawMessageString .= &#39;Subject: =?utf-8?B?&#39; . base64_encode($subject) . &quot;?=\\r\\n&quot;;\r\n        $rawMessageString .= &quot;MIME-Version: 1.0\\r\\n&quot;;\r\n        $rawMessageString .= &quot;Content-Type: text/html; charset=utf-8\\r\\n&quot;;\r\n        $rawMessageString .= &#39;Content-Transfer-Encoding: quoted-printable&#39; . &quot;\\r\\n\\r\\n&quot;;\r\n        $rawMessageString .= &quot;{$messageText}\\r\\n&quot;;\r\n\r\n        $rawMessage = strtr(base64_encode($rawMessageString), array(&#39;+&#39; =&gt; &#39;-&#39;, &#39;/&#39; =&gt; &#39;_&#39;));\r\n        $message-&gt;setRaw($rawMessage);\r\n        return $message;\r\n    }\r\n\r\n    function sendMessage($service, $userId, $message) {\r\n        try {\r\n            return $service-&gt;users_messages-&gt;send($userId, $message);\r\n        } catch (Exception $e) {\r\n            //todo error - use $e-&gt;getMessage();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    sendMessage(new Google_Service_Gmail($client), &#39;me&#39;, createMessage(...));\r\n\r\n\r\n## Sources\r\n\r\n - https://github.com/googleapis/google-api-php-client\r\n - https://developers.google.com/gmail/api/quickstart/php\r\n - https://github.com/googleapis/google-api-php-client/blob/master/docs/oauth-server.md#creating-a-service-account\r\n - https://github.com/googleapis/google-api-php-client/blob/master/docs/oauth-web.md\r\n - https://blog.mailtrap.io/send-emails-with-gmail-api/\r\n","title":"How to send email via Gmail SMTP in secure way","body":"<h1>OAuth 2.0</h1>\n<p>I had to implement this on a PHP-based webpage because our server does not have a mail server and we are using google's one instead. It is likely Google will cut any unauthorized access to their services in the future; and we want to have a future-proof solution. I believe porting this solution to other languages (such as tagged Java) should be no big issue.</p>\n<h2>Requirements:</h2>\n<p>Google mail account <i>with Cloud Console enabled</i>, a web domain with https enabled, PHP 5.4 or greater with JSON extension (bundled since v5.2, but sometimes not installed anyway - we presume it is already installed) and a lot of patience.</p>\n<p>Additionally, we need <a href=\"https://github.com/googleapis/google-api-php-client\" rel=\"nofollow noreferrer\">PHP Google API Client library</a>, that can be obtained using:</p>\n<ul>\n<li>server's command-line interface (CLI) and <a href=\"https://getcomposer.org/\" rel=\"nofollow noreferrer\">Composer dependency manager</a>. The advantages are that you will receive updates automatically. The Google API library is huge and there are ways to exclude unwanted parts.</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>copy the library manually from its repository. The advantages are that you need only access to your webhosting cloud service, useful in case you cannot use the Composer manager.</li>\n</ul>\n<h2>1) Project in Google Console</h2>\n<p>First, you need to create a project in <a href=\"https://console.cloud.google.com/\" rel=\"nofollow noreferrer\">google console</a>. <strong>Perform this setup on an account you want to associate with your webpage mail-sending application - YES, this is going to be an application - from Google's point of view.</strong> Once logged in: in the header menu in project selection, select and create a new project (mine is called <em>Gmail API</em> from now on). I will be also using a (non-existing) webpage called <em>gmapi.xy</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/moOK5.png%5D\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/moOK5.png%5D\" alt=\"console\" /></a></p>\n<p>Once a new project is created, go to the Library section, find Gmail API and enable it.</p>\n<h2>2) Credentials</h2>\n<p>You obviously need some authentication data. The enablement of API should redirect you to Gmail API console interface - select <strong>Credentials</strong> in the left menu:</p>\n<p>Create new <strong>OAuth client ID</strong></p>\n<ul>\n<li>but you've been told to first specify your product title on OAuth consent screen -selecting <em>create new OAuth client ID</em> will show you the consent screen tab in the left menu.</li>\n</ul>\n<h3>2 a) Create product (OAuth consent screen)</h3>\n<p>You need to fill in <strong>name, support email, scope, authorized domains and OAuth limits</strong></p>\n<p><strong>Scope</strong> :\nYou need to specify all privileges granted to anyone who will authenticate to the Gmail API:</p>\n<ul>\n<li>click 'Add Scope'</li>\n<li>scroll down and enable all desired scopes in Gmail API section (in my case, I wanted to send mails only, so I enabled also <a href=\"https://www.googleapis.com/auth/gmail.send\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/gmail.send</a> scope.</li>\n</ul>\n<p><strong>Authorized domains</strong> :\nFill in the domain you want to send the emails from:</p>\n<ul>\n<li>add authorized domains - these will be allowed to access the api (no protocol, only top-level: <code>gmapi.xy</code>)</li>\n<li>add app homepage, privacy policy and terms of service links - same as above in my case (but a full address: <code>https://gmapi.xy</code> OR <code>https://gmapi.xy/policy</code> etc.)</li>\n</ul>\n<p><strong>OAuth grant limits</strong> :\nI am satisfied with default setup so no changes (for more information on this topic see <a href=\"https://developers.google.com/analytics/devguides/config/mgmt/v3/limits-quotas\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/config/mgmt/v3/limits-quotas</a>)</p>\n<p><strong>Save changes</strong> :\nSave the form. We've asked for additional scopes - likely we will see a warning:</p>\n<blockquote>\n<p><strong>This app isn't verified.</strong></p>\n<p>The OAuth consent screen that is presented to the user may show the warning &quot;This app isn't verified&quot; if it is requesting scopes that provide access to sensitive user data. These applications must eventually go through the verification process to remove that warning and other limitations. During the development phase you can continue past this warning by clicking Advanced &gt; Go to {Project Name} (unsafe).</p>\n</blockquote>\n<p>Once your app is running, alive, public and not in the development phase, submit the application for verification (button next to <code>Save</code>). The verification of your new app might take <strong>up to several weeks</strong>.</p>\n<h3>2 b) Create the credentials - again</h3>\n<p>Now we are able to create the credentials - as before, select <strong>Credentials</strong> in the left menu. Create new <strong>OAuth client ID</strong>.</p>\n<ul>\n<li>select <strong>Web application</strong> as a type</li>\n<li>populate <strong>authorized javascript origins</strong> with your URIs, in my case  <code>https://gmapi.xy</code> and  <code>https://www.gmapi.xy</code></li>\n<li>populate <strong>authorized redirect URIs</strong> - google will ask the user for privilages, and you have to specify the URIs the google API is allowed to redirect back to. In my case, I am using <code>test.php</code> (having <code>https://www.gmapi.xy/test.php</code> URI) that is being redirected to itself. Thus, i will add there <code>https://www.gmapi.xy/test.php</code> and <code>https://gmapi.xy/test.php</code>.</li>\n</ul>\n<blockquote>\n<p>There are many problems with allowed redirect URLs, you must not end with <code>/</code> sign if your real URI does not have one, you must specify PORT number if you use other than default one... see <a href=\"https://stackoverflow.com/questions/11485271/google-oauth-2-authorization-error-redirect-uri-mismatch\">this thread</a> for more information.\nThere is a checklist for you:</p>\n<ul>\n<li>http or https?</li>\n<li>&amp; or &amp;amp;?</li>\n<li>trailing slash(/) or open ?</li>\n<li>(<kbd>CMD</kbd>/<kbd>CTRL</kbd>)+<kbd>F</kbd>, search for the exact match in the credential page. If not found then search for the missing one.</li>\n<li>Wait until google refresh it. May happen in each half an hour if you are changing frequently or it may stay in pool. For my case it was almost half an hour to take effect.</li>\n<li>Did you re-import the <code>credentials.json</code> file upon changing the values in your OAuth ID?</li>\n</ul>\n<p><strong>NOTE</strong>: having multiple allowed URIs can <em>harm</em> your script - after successful authorization, you can still get <a href=\"https://github.com/googleapis/google-api-php-client/issues/1603\" rel=\"nofollow noreferrer\">this error</a> after being redirected back to your webpage.</p>\n</blockquote>\n<ul>\n<li>save the form (you don't have to copy the credentials you've been provided with upon successful OAuth ID creation - close the popup)</li>\n<li>download <code>JSON</code> credentials file - in <em>OAuth 2.0 Client IDs</em> section, click the arrow icon</li>\n</ul>\n<h2>3 a) Setup PHP - with Composer</h2>\n<ul>\n<li>install google API library via Composer: <code>composer require google/apiclient:^2.0</code></li>\n<li>optionally: run the <code>Google_Task_Composer::cleanup</code> task and specify the services you want to keep in <code>composer.json</code>:</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>    {\n        &quot;require&quot;: {\n            &quot;google/apiclient&quot;: &quot;^2.7&quot;\n        },\n        &quot;scripts&quot;: {\n            &quot;post-update-cmd&quot;: &quot;Google_Task_Composer::cleanup&quot;\n        },\n        &quot;extra&quot;: {\n            &quot;google/apiclient-services&quot;: [\n                &quot;Drive&quot;,\n                &quot;YouTube&quot;\n            ]\n        }\n    }\n</code></pre>\n<blockquote>\n<p>NOTE: there seems to be <a href=\"https://github.com/googleapis/google-api-php-client/issues/1893\" rel=\"nofollow noreferrer\">issues</a> with this approach that has not been resolved yet. Therefore I did not try this feature. I also could not find available services name list, so it would be good if someone found it and added a link.</p>\n</blockquote>\n<h2>3 b) Setup PHP - without Composer</h2>\n<p>Download any <code>.zip</code> - a stable version from <a href=\"https://github.com/googleapis/google-api-php-client/releases\" rel=\"nofollow noreferrer\">releases</a> of your desired PHP version and place it somewhere in the website (upload the <code>.zip</code> and extract it there).</p>\n<h2>4 Include the library, your credentials and prepare for authentication</h2>\n<p>Upload also the <code>JSON</code> credentials file.</p>\n<blockquote>\n<p><strong>SECURITY NOTICE</strong>: place it somewhere safe: either remove the R/W privileges for anyone except owner or protect this file using <code>.htaccess</code>!</p>\n</blockquote>\n<p>Then simply include <code>autoload.php</code> (locate the library on the server for its path, it should be in <code>vendor</code> folder) and provide the credentials for authentication.</p>\n<pre><code>require_once '/path/to/google-api-php-client/vendor/autoload.php';\n\n$client = new Google_Client();\n$client-&gt;setAuthConfig('/path/to/client_credentials.json');\n</code></pre>\n<p>Furthermore, you have to ask for the scope privileges and obtain a <code>token</code> from the service. The available scope list is available <a href=\"https://developers.google.com/resources/api-libraries/documentation/gmail/v1/php/latest/class-Google_Service_Gmail.html\" rel=\"nofollow noreferrer\">here</a>. Also, see <a href=\"https://stackoverflow.com/questions/30661489/gmail-api-insufficient-permission\">this thread</a> for more examples on scopes.</p>\n<pre><code>$client-&gt;setPrompt(&quot;consent&quot;);\n$client-&gt;setScopes(array(\n    'https://www.googleapis.com/auth/gmail.send'\n     //add more if you want to have them, or add\n     // &quot;https://mail.google.com/&quot; to read, compose, send, delete mails\n));\n$client-&gt;setAccessType('offline');\n$client-&gt;setIncludeGrantedScopes(true);\n$tokenPath = 'where/you/want/to/store/token.json';\n\n\n// Get new token - see redirect below\nif (isset($_GET['code'])) {\n    $accessToken = $client-&gt;fetchAccessTokenWithAuthCode($_GET['code']);\n    // Save the token to a file.\n    if (!file_exists(dirname($tokenPath))) {\n        mkdir(dirname($tokenPath), 0700, true);\n    }\n    file_put_contents($tokenPath, json_encode($accessToken));\n    $client-&gt;setAccessToken($accessToken);\n} else if (file_exists($tokenPath)) {\n    // Get the saved token\n    $accessToken = json_decode(file_get_contents($tokenPath), true);\n    $client-&gt;setAccessToken($accessToken);\n}\n\n// If there is no previous token or it's expired.\nif ($client-&gt;isAccessTokenExpired()) {\n    // Refresh the token if possible, else fetch a new one.\n    $refreshToken = $client-&gt;getRefreshToken();\n    if ($refreshToken) {\n        $client-&gt;fetchAccessTokenWithRefreshToken($refreshToken);\n    } else {\n        // Get the token - redirect to the same page\n        $redirect_uri = 'https://' . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'];\n        $client-&gt;setRedirectUri($redirect_uri);\n        $auth_url = $client-&gt;createAuthUrl();\n\n        // Actually GO to the authentication (and authorization) url\n        header('Location: ' . filter_var($auth_url, FILTER_SANITIZE_URL));\n    }\n}\n</code></pre>\n<p>At first, the webpage redirects us to google where we need to grant access for our application to the desired email to send messages with. Once approved, a token file is created that we store in a file. When the token expires, a new token should be created automatically with <code>fetchAccessTokenWithRefreshToken()</code> - <a href=\"https://www.oauth.com/oauth2-servers/access-tokens/access-token-lifetime/\" rel=\"nofollow noreferrer\">more here</a>.</p>\n<p>Depending on what you want to do, you might want to restrict the ability to authenticate. We used the API to get the access to our system emails, not to allow the website to send mails via the page users, therefore:</p>\n<pre><code>// Get the token - redirect to the same page\nif ( user_not_administrator ) {\n    //TODO: redirect user to some error page and get yourself a notification\n    exit;\n}\n\n$redirect_uri = 'https://' . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'];\n</code></pre>\n<h2>5 Send emails!</h2>\n<pre><code>function createMessage($sender, $to, $subject, $messageText) {\n    $message = new Google_Service_Gmail_Message();\n\n    $rawMessageString = &quot;From: &lt;{$sender}&gt;\\r\\n&quot;;\n    $rawMessageString .= &quot;To: &lt;{$to}&gt;\\r\\n&quot;;\n    $rawMessageString .= 'Subject: =?utf-8?B?' . base64_encode($subject) . &quot;?=\\r\\n&quot;;\n    $rawMessageString .= &quot;MIME-Version: 1.0\\r\\n&quot;;\n    $rawMessageString .= &quot;Content-Type: text/html; charset=utf-8\\r\\n&quot;;\n    $rawMessageString .= 'Content-Transfer-Encoding: quoted-printable' . &quot;\\r\\n\\r\\n&quot;;\n    $rawMessageString .= &quot;{$messageText}\\r\\n&quot;;\n\n    $rawMessage = strtr(base64_encode($rawMessageString), array('+' =&gt; '-', '/' =&gt; '_'));\n    $message-&gt;setRaw($rawMessage);\n    return $message;\n}\n\nfunction sendMessage($service, $userId, $message) {\n    try {\n        return $service-&gt;users_messages-&gt;send($userId, $message);\n    } catch (Exception $e) {\n        //todo error - use $e-&gt;getMessage();\n    }\n    return null;\n}\n\nsendMessage(new Google_Service_Gmail($client), 'me', createMessage(...));\n</code></pre>\n<h2>Sources</h2>\n<ul>\n<li><a href=\"https://github.com/googleapis/google-api-php-client\" rel=\"nofollow noreferrer\">https://github.com/googleapis/google-api-php-client</a></li>\n<li><a href=\"https://developers.google.com/gmail/api/quickstart/php\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/api/quickstart/php</a></li>\n<li><a href=\"https://github.com/googleapis/google-api-php-client/blob/master/docs/oauth-server.md#creating-a-service-account\" rel=\"nofollow noreferrer\">https://github.com/googleapis/google-api-php-client/blob/master/docs/oauth-server.md#creating-a-service-account</a></li>\n<li><a href=\"https://github.com/googleapis/google-api-php-client/blob/master/docs/oauth-web.md\" rel=\"nofollow noreferrer\">https://github.com/googleapis/google-api-php-client/blob/master/docs/oauth-web.md</a></li>\n<li><a href=\"https://blog.mailtrap.io/send-emails-with-gmail-api/\" rel=\"nofollow noreferrer\">https://blog.mailtrap.io/send-emails-with-gmail-api/</a></li>\n</ul>\n"}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4377,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1653978570,"creation_date":1438835489,"question_id":31846888,"body_markdown":"The following code https://stackoverflow.com/a/3649148 works all the while, until it broken recently when Google has changed their security policy.\r\n\r\nI received mail from Google\r\n\r\n&gt; Hi xxx, Someone just tried to sign in to your Google Account\r\n&gt; xxx@gmail.com from an app that doesn&#39;t meet modern security standards.\r\n&gt; \r\n&gt; We strongly recommend that you use a secure app, like Gmail, to access\r\n&gt; your account. All apps made by Google meet these security standards.\r\n&gt; Using a less secure app, on the other hand, could leave your account\r\n&gt; vulnerable. Learn more.\r\n&gt; \r\n&gt; Google stopped this sign-in attempt, but you should review your\r\n&gt; recently used devices:\r\n\r\nI look at https://support.google.com/accounts/answer/6010255?hl=en-GB\r\n\r\nI was wondering, what is the way to implement a correct sign-in attempt, in order to continue to send email via Gmail SMTP, with 0 configuration from user side?","title":"How to send email via Gmail SMTP in secure way","body":"<p>The following code <a href=\"https://stackoverflow.com/a/3649148\">https://stackoverflow.com/a/3649148</a> works all the while, until it broken recently when Google has changed their security policy.</p>\n\n<p>I received mail from Google</p>\n\n<blockquote>\n  <p>Hi xxx, Someone just tried to sign in to your Google Account\n  xxx@gmail.com from an app that doesn't meet modern security standards.</p>\n  \n  <p>We strongly recommend that you use a secure app, like Gmail, to access\n  your account. All apps made by Google meet these security standards.\n  Using a less secure app, on the other hand, could leave your account\n  vulnerable. Learn more.</p>\n  \n  <p>Google stopped this sign-in attempt, but you should review your\n  recently used devices:</p>\n</blockquote>\n\n<p>I look at <a href=\"https://support.google.com/accounts/answer/6010255?hl=en-GB\" rel=\"noreferrer\">https://support.google.com/accounts/answer/6010255?hl=en-GB</a></p>\n\n<p>I was wondering, what is the way to implement a correct sign-in attempt, in order to continue to send email via Gmail SMTP, with 0 configuration from user side?</p>\n"},{"tags":["java","spring-boot","cors"],"owner":{"account_id":25423550,"reputation":59,"user_id":19229048,"display_name":"rheza 555"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1086,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1653978558,"creation_date":1653886615,"question_id":72429313,"body_markdown":"I am migrating from Java 11 to Java 17 with Spring Boot MyBatis Postgresql. I try java 18 and its the same. I change the java version in pom as bellow.\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.rostech&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;api&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;api&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n                 &lt;/dependency&gt;\r\n\t &lt;dependency&gt;\r\n\t  &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t  &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\r\n\t  &lt;type&gt;jar&lt;/type&gt;\r\n\t &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nwith cors setting in my main.\r\n\r\n    public static void main(String[] args) {\r\n\t\tSpringApplication.run(ApiApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic WebMvcConfigurer corsConfigurer() {\r\n\t\treturn new WebMvcConfigurer() {\r\n\t\t\t@Override\r\n\t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\t\t\tregistry.addMapping(&quot;/**&quot;)\r\n                                        .allowedOrigins(&quot;*&quot;)\r\n                                        .allowedHeaders(&quot;*&quot;)\r\n                                        .allowedMethods(&quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\nWill get this error. About CORS and I didnt change anything.\r\n\r\n    Access to XMLHttpRequest at &#39;https://*server*:8443/api/getHargaByName/be&#39; from origin &#39;https://*server*&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nAnd my controller\r\n\r\n```java\r\n@RestController\r\npublic class GreetingController {\r\n    private final PlatformTransactionManager transactionManager;\r\n\r\n    public GreetingController(ArticleMapper articleMapper ,PlatformTransactionManager transactionManager) {\r\n        this.transactionManager = transactionManager;\r\n        this.articleMapper = articleMapper;\r\n    }\r\n    @Autowired\r\n    private final ArticleMapper articleMapper;\r\n    @GetMapping(path+&quot;/getHargaByName/{name}&quot;)\r\n    public ArrayList&lt;Pembelian&gt; getHargaByName(@PathVariable(name = &quot;name&quot;, required = false) String name) {\r\n        ArrayList&lt;Pembelian&gt;  hasil = new ArrayList&lt;&gt;();\r\n        try {\r\n            if(null == name || name.isBlank()){\r\n                name = &quot;%%&quot;;\r\n            } else {\r\n                name = &quot;%&quot;+name+&quot;%&quot;;\r\n            }\r\n            hasil = this.articleMapper.getHarga(name);\r\n            \r\n        } catch (Exception ex) {\r\n            printStackTrace(ex);\r\n        }\r\n        return hasil;\r\n    }\r\n}\r\n```\r\n\r\nBut if I change to java 11 everything is fine. Is there new way to config CORS? \r\n\r\nI tried with a new spring boot from https://start.spring.io/ with java 17 and 18 with spring web, mybatis and postgressql. On run it gives error as bellow.\r\n\r\n[![fresh spring boot java 18][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/01Dyl.png\r\n\r\n**Edit**\r\nFor the &quot;}&quot; was un expected at this time. I have to edit the mvnw.cmd file.\r\nFrom :\r\n\r\n    powershell -Command &quot;&amp;{&quot;^\r\n\t\t&quot;$webclient = new-object System.Net.WebClient;&quot;^\r\n\t\t&quot;if (-not ([string]::IsNullOrEmpty(&#39;%MVNW_USERNAME%&#39;) -and [string]::IsNullOrEmpty(&#39;%MVNW_PASSWORD%&#39;))) {&quot;^\r\n\t\t&quot;$webclient.Credentials = new-object System.Net.NetworkCredential(&#39;%MVNW_USERNAME%&#39;, &#39;%MVNW_PASSWORD%&#39;);&quot;^\r\n\t\t&quot;}&quot;^\r\n\t\t&quot;[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; $webclient.DownloadFile(&#39;%DOWNLOAD_URL%&#39;, &#39;%WRAPPER_JAR%&#39;)&quot;^\r\n\t\t&quot;}&quot;\r\n\r\nTo :\r\n\r\n    powershell -Command &quot;&amp;{&quot;^\r\n\t\t&quot;$webclient = new-object System.Net.WebClient;&quot;^\r\n\t\t&quot;if (-not ([string]::IsNullOrEmpty(&#39;%MVNW_USERNAME%&#39;) -and [string]::IsNullOrEmpty(&#39;%MVNW_PASSWORD%&#39;))) {&quot;^\r\n\t\t&quot;$webclient.Credentials = new-object System.Net.NetworkCredential(&#39;%MVNW_USERNAME%&#39;, &#39;%MVNW_PASSWORD%&#39;);&quot;^\r\n\t\t&quot;}&quot;^\r\n\t\t&quot;[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; $webclient.DownloadFile(&#39;%DOWNLOAD_URL%&#39;, &#39;%WRAPPER_JAR%&#39;);&quot;^\r\n\r\n","title":"Maven Java 17 and 18 Spring Boot Cors not working","body":"<p>I am migrating from Java 11 to Java 17 with Spring Boot MyBatis Postgresql. I try java 18 and its the same. I change the java version in pom as bellow.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.rostech&lt;/groupId&gt;\n&lt;artifactId&gt;api&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;api&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n             &lt;/dependency&gt;\n &lt;dependency&gt;\n  &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n  &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n  &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\n  &lt;type&gt;jar&lt;/type&gt;\n &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>with cors setting in my main.</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(ApiApplication.class, args);\n}\n\n@Bean\npublic WebMvcConfigurer corsConfigurer() {\n    return new WebMvcConfigurer() {\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n            registry.addMapping(&quot;/**&quot;)\n                                    .allowedOrigins(&quot;*&quot;)\n                                    .allowedHeaders(&quot;*&quot;)\n                                    .allowedMethods(&quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;);\n        }\n    };\n}\n</code></pre>\n<p>Will get this error. About CORS and I didnt change anything.</p>\n<pre><code>Access to XMLHttpRequest at 'https://*server*:8443/api/getHargaByName/be' from origin 'https://*server*' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>And my controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class GreetingController {\n    private final PlatformTransactionManager transactionManager;\n\n    public GreetingController(ArticleMapper articleMapper ,PlatformTransactionManager transactionManager) {\n        this.transactionManager = transactionManager;\n        this.articleMapper = articleMapper;\n    }\n    @Autowired\n    private final ArticleMapper articleMapper;\n    @GetMapping(path+&quot;/getHargaByName/{name}&quot;)\n    public ArrayList&lt;Pembelian&gt; getHargaByName(@PathVariable(name = &quot;name&quot;, required = false) String name) {\n        ArrayList&lt;Pembelian&gt;  hasil = new ArrayList&lt;&gt;();\n        try {\n            if(null == name || name.isBlank()){\n                name = &quot;%%&quot;;\n            } else {\n                name = &quot;%&quot;+name+&quot;%&quot;;\n            }\n            hasil = this.articleMapper.getHarga(name);\n            \n        } catch (Exception ex) {\n            printStackTrace(ex);\n        }\n        return hasil;\n    }\n}\n</code></pre>\n<p>But if I change to java 11 everything is fine. Is there new way to config CORS?</p>\n<p>I tried with a new spring boot from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> with java 17 and 18 with spring web, mybatis and postgressql. On run it gives error as bellow.</p>\n<p><a href=\"https://i.stack.imgur.com/01Dyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/01Dyl.png\" alt=\"fresh spring boot java 18\" /></a></p>\n<p><strong>Edit</strong>\nFor the &quot;}&quot; was un expected at this time. I have to edit the mvnw.cmd file.\nFrom :</p>\n<pre><code>powershell -Command &quot;&amp;{&quot;^\n    &quot;$webclient = new-object System.Net.WebClient;&quot;^\n    &quot;if (-not ([string]::IsNullOrEmpty('%MVNW_USERNAME%') -and [string]::IsNullOrEmpty('%MVNW_PASSWORD%'))) {&quot;^\n    &quot;$webclient.Credentials = new-object System.Net.NetworkCredential('%MVNW_USERNAME%', '%MVNW_PASSWORD%');&quot;^\n    &quot;}&quot;^\n    &quot;[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; $webclient.DownloadFile('%DOWNLOAD_URL%', '%WRAPPER_JAR%')&quot;^\n    &quot;}&quot;\n</code></pre>\n<p>To :</p>\n<pre><code>powershell -Command &quot;&amp;{&quot;^\n    &quot;$webclient = new-object System.Net.WebClient;&quot;^\n    &quot;if (-not ([string]::IsNullOrEmpty('%MVNW_USERNAME%') -and [string]::IsNullOrEmpty('%MVNW_PASSWORD%'))) {&quot;^\n    &quot;$webclient.Credentials = new-object System.Net.NetworkCredential('%MVNW_USERNAME%', '%MVNW_PASSWORD%');&quot;^\n    &quot;}&quot;^\n    &quot;[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; $webclient.DownloadFile('%DOWNLOAD_URL%', '%WRAPPER_JAR%');&quot;^\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653976724,"post_id":72442816,"comment_id":127974953,"body_markdown":"You could log the contents of the array after each swap, or step through the program with the debugger.","body":"You could log the contents of the array after each swap, or step through the program with the debugger."},{"owner":{"account_id":57558,"reputation":653,"user_id":172412,"accept_rate":75,"display_name":"Turcia"},"score":0,"creation_date":1653976730,"post_id":72442816,"comment_id":127974954,"body_markdown":"Becasue there are two `for` loops (i and j), it works properly. You only considered first loop - i.","body":"Becasue there are two <code>for</code> loops (i and j), it works properly. You only considered first loop - i."},{"owner":{"account_id":6600231,"reputation":672,"user_id":5098772,"display_name":"Victor1125"},"score":0,"creation_date":1653976973,"post_id":72442816,"comment_id":127975008,"body_markdown":"I looks like last array isn&#39;t setted up. Show your code.. Do you generate all arrays in this same time?","body":"I looks like last array isn&#39;t setted up. Show your code.. Do you generate all arrays in this same time?"},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1653977187,"post_id":72442816,"comment_id":127975056,"body_markdown":"&quot;i&quot; will not move to next until &quot;j&quot; reaches the end of the second loop\nso your listing above is not correct, &quot;i&quot; will remain 0 until &quot;j&quot; loop is completed is (j&lt;myArray.length)\nin other words, you will need to compare 54 with all entries starting at (i+1)","body":"&quot;i&quot; will not move to next until &quot;j&quot; reaches the end of the second loop so your listing above is not correct, &quot;i&quot; will remain 0 until &quot;j&quot; loop is completed is (j&lt;myArray.length) in other words, you will need to compare 54 with all entries starting at (i+1)"}],"answers":[{"tags":[],"owner":{"account_id":22490259,"reputation":23,"user_id":16688094,"display_name":"NicoHahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653978534,"creation_date":1653978085,"answer_id":72443041,"question_id":72442816,"body_markdown":"You never reach `i = 5`. The `for` loop is defined as follows: `for(int i = 0; i &lt; size - 1; i++)`. Since the size of your array is `6`, the maximum value of `i` will be `4`. Maybe the code below helps you to better understand the algorithm:\r\n\r\n```java\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Sort {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t/* Input (unsorted) array */\r\n\t\tint[] myArray = new int[] { 3, 2, 1 };\r\n\t\tsort(myArray);\r\n\r\n\t\tSystem.out.println(&quot;Sorted my array. Now sorting your array!&quot;);\r\n\r\n\t\t/* Your array */\r\n\t\tint[] yourArray = new int[] { 54, 63, 14, 78, 2, 3 };\r\n\t\tsort(yourArray);\r\n\t}\r\n\r\n\tpublic static int[] sort(int[] array) {\r\n\t\tint size = array.length;\r\n\t\tfor (int i = 0; i &lt; size - 1; i++) {\r\n\t\t\tfor (int j = i + 1; j &lt; size; j++) {\r\n\t\t\t\tif (array[i] &gt; array[j]) {\r\n\t\t\t\t\tarray = swapIntegers(array, i, j);\r\n\t\t\t\t}\r\n\t\t\t\tprintCurrentState(array, i, j);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn array;\r\n\t}\r\n\r\n\t/**\r\n\t * Swaps the integers at the specified indices. Changes the array, no copy created!\r\n\t * \r\n\t * @param array\r\n\t *            Desired input array.\r\n\t * @param index1\r\n\t *            First index.\r\n\t * @param index2\r\n\t *            Second index.\r\n\t * @return\r\n\t *         Returns the input array, but the integers at the specified indices are swapped.\r\n\t */\r\n\tpublic static int[] swapIntegers(int[] array, int index1, int index2) {\r\n\t\tint temp = array[index1];\r\n\t\tarray[index1] = array[index2];\r\n\t\tarray[index2] = temp;\r\n\r\n\t\treturn array;\r\n\t}\r\n\r\n\t/**\r\n\t * Small helper method to print the current state.\r\n\t */\r\n\tprivate static void printCurrentState(int[] array, int i, int j) {\r\n\t\tString txt = &quot;&quot;;\r\n\t\ttxt += &quot;i=&quot; + i + &quot;\\t&quot;;\r\n\t\ttxt += &quot;j=&quot; + j + &quot;\\t&quot;;\r\n\t\ttxt += Arrays.toString(array);\r\n\r\n\t\tSystem.out.println(txt);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe output to the console will be:\r\n```\r\ni=0\tj=1\t[2, 3, 1]\r\ni=0\tj=2\t[1, 3, 2]\r\ni=1\tj=2\t[1, 2, 3]\r\nSorted my array. Now sorting your array!\r\ni=0\tj=1\t[54, 63, 14, 78, 2, 3]\r\ni=0\tj=2\t[14, 63, 54, 78, 2, 3]\r\ni=0\tj=3\t[14, 63, 54, 78, 2, 3]\r\ni=0\tj=4\t[2, 63, 54, 78, 14, 3]\r\ni=0\tj=5\t[2, 63, 54, 78, 14, 3]\r\ni=1\tj=2\t[2, 54, 63, 78, 14, 3]\r\ni=1\tj=3\t[2, 54, 63, 78, 14, 3]\r\ni=1\tj=4\t[2, 14, 63, 78, 54, 3]\r\ni=1\tj=5\t[2, 3, 63, 78, 54, 14]\r\ni=2\tj=3\t[2, 3, 63, 78, 54, 14]\r\ni=2\tj=4\t[2, 3, 54, 78, 63, 14]\r\ni=2\tj=5\t[2, 3, 14, 78, 63, 54]\r\ni=3\tj=4\t[2, 3, 14, 63, 78, 54]\r\ni=3\tj=5\t[2, 3, 14, 54, 78, 63]\r\ni=4\tj=5\t[2, 3, 14, 54, 63, 78]\r\n```\r\n\r\nIn a previous answer by yourself, you mentioned *bubble sort*. If you are interested in *bubble sort* - like operations, I highly recommend you to take a look into the [Heap Data Structure][1] and how new elements are inserted into it.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Heap_(data_structure)","title":"(Java) How does sorting an array like this work?","body":"<p>You never reach <code>i = 5</code>. The <code>for</code> loop is defined as follows: <code>for(int i = 0; i &lt; size - 1; i++)</code>. Since the size of your array is <code>6</code>, the maximum value of <code>i</code> will be <code>4</code>. Maybe the code below helps you to better understand the algorithm:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.Arrays;\n\npublic class Sort {\n\n    public static void main(String[] args) {\n        /* Input (unsorted) array */\n        int[] myArray = new int[] { 3, 2, 1 };\n        sort(myArray);\n\n        System.out.println(&quot;Sorted my array. Now sorting your array!&quot;);\n\n        /* Your array */\n        int[] yourArray = new int[] { 54, 63, 14, 78, 2, 3 };\n        sort(yourArray);\n    }\n\n    public static int[] sort(int[] array) {\n        int size = array.length;\n        for (int i = 0; i &lt; size - 1; i++) {\n            for (int j = i + 1; j &lt; size; j++) {\n                if (array[i] &gt; array[j]) {\n                    array = swapIntegers(array, i, j);\n                }\n                printCurrentState(array, i, j);\n            }\n        }\n\n        return array;\n    }\n\n    /**\n     * Swaps the integers at the specified indices. Changes the array, no copy created!\n     * \n     * @param array\n     *            Desired input array.\n     * @param index1\n     *            First index.\n     * @param index2\n     *            Second index.\n     * @return\n     *         Returns the input array, but the integers at the specified indices are swapped.\n     */\n    public static int[] swapIntegers(int[] array, int index1, int index2) {\n        int temp = array[index1];\n        array[index1] = array[index2];\n        array[index2] = temp;\n\n        return array;\n    }\n\n    /**\n     * Small helper method to print the current state.\n     */\n    private static void printCurrentState(int[] array, int i, int j) {\n        String txt = &quot;&quot;;\n        txt += &quot;i=&quot; + i + &quot;\\t&quot;;\n        txt += &quot;j=&quot; + j + &quot;\\t&quot;;\n        txt += Arrays.toString(array);\n\n        System.out.println(txt);\n    }\n}\n\n</code></pre>\n<p>The output to the console will be:</p>\n<pre><code>i=0 j=1 [2, 3, 1]\ni=0 j=2 [1, 3, 2]\ni=1 j=2 [1, 2, 3]\nSorted my array. Now sorting your array!\ni=0 j=1 [54, 63, 14, 78, 2, 3]\ni=0 j=2 [14, 63, 54, 78, 2, 3]\ni=0 j=3 [14, 63, 54, 78, 2, 3]\ni=0 j=4 [2, 63, 54, 78, 14, 3]\ni=0 j=5 [2, 63, 54, 78, 14, 3]\ni=1 j=2 [2, 54, 63, 78, 14, 3]\ni=1 j=3 [2, 54, 63, 78, 14, 3]\ni=1 j=4 [2, 14, 63, 78, 54, 3]\ni=1 j=5 [2, 3, 63, 78, 54, 14]\ni=2 j=3 [2, 3, 63, 78, 54, 14]\ni=2 j=4 [2, 3, 54, 78, 63, 14]\ni=2 j=5 [2, 3, 14, 78, 63, 54]\ni=3 j=4 [2, 3, 14, 63, 78, 54]\ni=3 j=5 [2, 3, 14, 54, 78, 63]\ni=4 j=5 [2, 3, 14, 54, 63, 78]\n</code></pre>\n<p>In a previous answer by yourself, you mentioned <em>bubble sort</em>. If you are interested in <em>bubble sort</em> - like operations, I highly recommend you to take a look into the <a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\">Heap Data Structure</a> and how new elements are inserted into it.</p>\n"}],"owner":{"account_id":6436251,"reputation":95,"user_id":6767717,"display_name":"Cersei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1653978534,"creation_date":1653976360,"question_id":72442816,"body_markdown":"https://www.tutorialspoint.com/How-to-sort-a-random-number-array-in-java\r\n\r\nUsing the algorithm given in the above tutorial, how does the sorting logic work?\r\nI tried manually coming up with each iteration:\r\n\r\ni = 0    54, 63, 14, 78, 2, 3\r\n\r\ni = 1    54, 14, 63, 78, 2, 3\r\n\r\ni = 2    54, 14, 63, 78, 2, 3\r\n\r\ni = 3    54, 14, 63, 2, 78, 3\r\n\r\ni=4      54, 14, 63, 2, 3, 78\r\n\r\ni = 5     ?\r\n\r\nI cannot figure out what it would do at i=5, or how it would sort any further to get the correct result.","title":"(Java) How does sorting an array like this work?","body":"<p><a href=\"https://www.tutorialspoint.com/How-to-sort-a-random-number-array-in-java\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/How-to-sort-a-random-number-array-in-java</a></p>\n<p>Using the algorithm given in the above tutorial, how does the sorting logic work?\nI tried manually coming up with each iteration:</p>\n<p>i = 0    54, 63, 14, 78, 2, 3</p>\n<p>i = 1    54, 14, 63, 78, 2, 3</p>\n<p>i = 2    54, 14, 63, 78, 2, 3</p>\n<p>i = 3    54, 14, 63, 2, 78, 3</p>\n<p>i=4      54, 14, 63, 2, 3, 78</p>\n<p>i = 5     ?</p>\n<p>I cannot figure out what it would do at i=5, or how it would sort any further to get the correct result.</p>\n"},{"tags":["java","spring-boot","class","annotations"],"answers":[{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653978161,"creation_date":1653928547,"answer_id":72437503,"question_id":72437237,"body_markdown":"You can create a bean for this class and make it available for the entire application. You can create a config file annotated with @Configuration. Declare a method that returns the class that you want annotated with @Bean. Inside the method build the class with the values that you gather somehow return the builded class.\r\n\r\nYou can access the bean with the help of @Autowired.\r\n\r\nI think this helps !!!.\r\n\r\n```Java\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    /** build your class like this with all the necessary values\r\n     * and the spring will create the initial object for you and\r\n     * inject those into all the dependent classes\r\n     * @return\r\n     */\r\n    @Bean\r\n    public ProjectConfiguration projectConfiguration(){\r\n        return ProjectConfiguration.builder()\r\n                .resourcesPath(...)\r\n                .sequence(...)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nReferences : https://www.javaguides.net/2018/09/spring-bean-annotation-with-example.html\r\n","title":"Instantiate a POJO setting class in Spring, and make it accessible from all code","body":"<p>You can create a bean for this class and make it available for the entire application. You can create a config file annotated with @Configuration. Declare a method that returns the class that you want annotated with @Bean. Inside the method build the class with the values that you gather somehow return the builded class.</p>\n<p>You can access the bean with the help of @Autowired.</p>\n<p>I think this helps !!!.</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n    /** build your class like this with all the necessary values\n     * and the spring will create the initial object for you and\n     * inject those into all the dependent classes\n     * @return\n     */\n    @Bean\n    public ProjectConfiguration projectConfiguration(){\n        return ProjectConfiguration.builder()\n                .resourcesPath(...)\n                .sequence(...)\n                .build();\n    }\n}\n</code></pre>\n<p>References : <a href=\"https://www.javaguides.net/2018/09/spring-bean-annotation-with-example.html\" rel=\"nofollow noreferrer\">https://www.javaguides.net/2018/09/spring-bean-annotation-with-example.html</a></p>\n"}],"owner":{"account_id":21805138,"reputation":39,"user_id":16103435,"display_name":"Oscar Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72437503,"answer_count":1,"score":2,"last_activity_date":1653978161,"creation_date":1653927108,"question_id":72437237,"body_markdown":"I&#39;m new in Spring and I&#39;m having problems when trying to create a class with all parameters filled by an external form. But I want to make this intance as unique, and accessible from everyclass from the rest of the project, because so far the object is being reinstantiated again, so I am not saving my settings.\r\nI don&#39;t know if there are annotations for this, and also how I am able to inyectate this instance in any other class.\r\n\r\n    @Data\r\n    @Builder\r\n    public class ProjectConfiguration {\r\n    \r\n        //InputFile\r\n        File midiFile = null;\r\n        private String resourcesPath;\r\n        private Sequence sequence;\r\n    \r\n        //OutputFile\r\n        private String exportPath;\r\n        private String exportFile;\r\n    \r\n        //Video\r\n        private int width;\r\n        private int height;\r\n    \r\n        //Audio\r\n        private int sampleRate; // Hz\r\n    \r\n        //Preview\r\n        private IMediaViewer.Mode viewMode;\r\n        private boolean showStats;\r\n    }\r\n\r\nCan you please provide me some guidelines?\r\n---\r\nI&#39;m updating the code as I followed the guidelines provided below and now I have more questions ans still is not working. If I use\r\n@Autowired\r\nProjectConfiguration configuration; \r\nin another class to call the same configuration it returns this error\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.kadathsound.midiread.MainView&#39;: Unsatisfied dependency expressed through field &#39;configuration&#39;; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;com.kadathsound.midiread.model.config.ProjectConfiguration&#39; available: expected single matching bean but found 2: projectConfiguration,getInstance\r\n\r\nAnd if I remove the @Autowired then I getting a NullPointer Exception, as it is still creating a new instance.\r\nThis the new code. Please, help me. I&#39;m completely lost with this. All the documentation I read it doesn&#39;t help me as it is not the same case.\r\n\r\n    @Data\r\n    @Configuration\r\n    @NoArgsConstructor\r\n    public class ProjectConfiguration implements Serializable {\r\n    \r\n        private File midiFile;\r\n        private String resourcesPath;\r\n        private Sequence sequence;\r\n        private String exportPath;\r\n        private String exportFile;\r\n        private int width;\r\n        private int height;\r\n        private int sampleRate;\r\n        private IMediaViewer.Mode viewMode;\r\n        private boolean showStats;\r\n    \r\n        private static volatile ProjectConfiguration instance = null;\r\n    \r\n        @Bean\r\n        public static ProjectConfiguration getInstance() {\r\n            if (instance == null) {\r\n                synchronized(ProjectConfiguration.class) {\r\n                    if (instance == null) {\r\n                        instance = new ProjectConfiguration();\r\n                    }\r\n                }\r\n            }\r\n            return instance;\r\n        }\r\n    }","title":"Instantiate a POJO setting class in Spring, and make it accessible from all code","body":"<p>I'm new in Spring and I'm having problems when trying to create a class with all parameters filled by an external form. But I want to make this intance as unique, and accessible from everyclass from the rest of the project, because so far the object is being reinstantiated again, so I am not saving my settings.\nI don't know if there are annotations for this, and also how I am able to inyectate this instance in any other class.</p>\n<pre><code>@Data\n@Builder\npublic class ProjectConfiguration {\n\n    //InputFile\n    File midiFile = null;\n    private String resourcesPath;\n    private Sequence sequence;\n\n    //OutputFile\n    private String exportPath;\n    private String exportFile;\n\n    //Video\n    private int width;\n    private int height;\n\n    //Audio\n    private int sampleRate; // Hz\n\n    //Preview\n    private IMediaViewer.Mode viewMode;\n    private boolean showStats;\n}\n</code></pre>\n<h2>Can you please provide me some guidelines?</h2>\n<p>I'm updating the code as I followed the guidelines provided below and now I have more questions ans still is not working. If I use\n@Autowired\nProjectConfiguration configuration;\nin another class to call the same configuration it returns this error</p>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.kadathsound.midiread.MainView': Unsatisfied dependency expressed through field 'configuration'; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.kadathsound.midiread.model.config.ProjectConfiguration' available: expected single matching bean but found 2: projectConfiguration,getInstance</p>\n<p>And if I remove the @Autowired then I getting a NullPointer Exception, as it is still creating a new instance.\nThis the new code. Please, help me. I'm completely lost with this. All the documentation I read it doesn't help me as it is not the same case.</p>\n<pre><code>@Data\n@Configuration\n@NoArgsConstructor\npublic class ProjectConfiguration implements Serializable {\n\n    private File midiFile;\n    private String resourcesPath;\n    private Sequence sequence;\n    private String exportPath;\n    private String exportFile;\n    private int width;\n    private int height;\n    private int sampleRate;\n    private IMediaViewer.Mode viewMode;\n    private boolean showStats;\n\n    private static volatile ProjectConfiguration instance = null;\n\n    @Bean\n    public static ProjectConfiguration getInstance() {\n        if (instance == null) {\n            synchronized(ProjectConfiguration.class) {\n                if (instance == null) {\n                    instance = new ProjectConfiguration();\n                }\n            }\n        }\n        return instance;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653977036,"creation_date":1653977036,"answer_id":72442889,"question_id":72442126,"body_markdown":"If you want to display post details, along with user details at the same time, then you have to notify the adapter about the changes when the second request for getting the `name` and the `image` is complete. So you have to move the following two lines of code:\r\n\r\n    postList.add(post);\r\n    postAdapter.notifyDataSetChanged();\r\n\r\nRight after:\r\n\r\n    post.setAvatar(documentSnapshot.getString(&quot;image&quot;).toString());\r\n\r\nBesides that, there is another option that you should consider using, which is called [denomalization][1]. This means that you can add the `name` and the `image` of the user inside the post document. In this way, there is no need to perform the second query, since all the data already exists inside the post document. If you&#39;re new to NoSQL databases, this might sound some kind of weird, but I assure you it&#39;s quite common practice.\r\n\r\nPlease also note, that neither solution is better than the other. According to the number of changes that can occur in your app, regarding the update of name and user image, you have to check which solution is better to be used inside your project.\r\n\r\nYou can also take a look at the following post to have a better understanding of the asynchronous nature of Firebase API:\r\n\r\n* https://stackoverflow.com/questions/48499310/how-to-return-a-documentsnapshot-as-a-result-of-a-method/48500679#48500679\r\n\r\n  [1]: https://stackoverflow.com/questions/54258303/what-is-denormalization-in-firebase-cloud-firestore","title":"RecyclerView not loading data correctly from FirebaseFirestore","body":"<p>If you want to display post details, along with user details at the same time, then you have to notify the adapter about the changes when the second request for getting the <code>name</code> and the <code>image</code> is complete. So you have to move the following two lines of code:</p>\n<pre><code>postList.add(post);\npostAdapter.notifyDataSetChanged();\n</code></pre>\n<p>Right after:</p>\n<pre><code>post.setAvatar(documentSnapshot.getString(&quot;image&quot;).toString());\n</code></pre>\n<p>Besides that, there is another option that you should consider using, which is called <a href=\"https://stackoverflow.com/questions/54258303/what-is-denormalization-in-firebase-cloud-firestore\">denomalization</a>. This means that you can add the <code>name</code> and the <code>image</code> of the user inside the post document. In this way, there is no need to perform the second query, since all the data already exists inside the post document. If you're new to NoSQL databases, this might sound some kind of weird, but I assure you it's quite common practice.</p>\n<p>Please also note, that neither solution is better than the other. According to the number of changes that can occur in your app, regarding the update of name and user image, you have to check which solution is better to be used inside your project.</p>\n<p>You can also take a look at the following post to have a better understanding of the asynchronous nature of Firebase API:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48499310/how-to-return-a-documentsnapshot-as-a-result-of-a-method/48500679#48500679\">How to return a DocumentSnapShot as a result of a method?</a></li>\n</ul>\n"}],"owner":{"account_id":20041078,"reputation":3,"user_id":14691785,"display_name":"jacksrlt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72442889,"answer_count":1,"score":0,"last_activity_date":1653977080,"creation_date":1653969521,"question_id":72442126,"body_markdown":"I&#39;m creating an app on Android Studio with Java and Firestore that lets users make publications and show them on a Fragment with a RecyclerView. The users create a profile (name, avatar) that gets saved in a document named after the user UID inside a collection named &quot;Users&quot;. The publications are saved into another collection named &quot;Posts&quot; (title, content, picture, avatar, name). \r\n\r\nI wrote two queries, one to get the title and content from the posts from the &quot;Posts&quot; collection, as well as the UID, to then do the other query that gets the name and picture from the poster and then all of those fields go inside a &quot;Post&quot; object and sent to the ArrayList that fills the RecyclerView.\r\n\r\nProblem: The posts load perfectly on the RecyclerView but the user picture (the one I&#39;m getting from a different collection) is giving me lots of problems. Sometimes it loads, sometimes it doesn&#39;t, and sometimes it loads only for the first post or even the first three posts. I don&#39;t understand what could be wrong. I&#39;m posting the code:\r\n\r\n```\r\nprivate void loadPosts() {\r\n        Query postQuery = collectionReferencePosts.orderBy(&quot;timestamp&quot;, Query.Direction.DESCENDING);\r\n        postQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    Post post = new Post();\r\n                    post.setTitle(document.getString(&quot;title&quot;));\r\n                    post.setContent(document.getString(&quot;content&quot;));\r\n                    post.setImage(document.getString(&quot;image&quot;));\r\n                    String posterUid = document.getString(&quot;useruid&quot;);\r\n                    DocumentReference docRef = collectionReferenceUsers.document(posterUid);\r\n                    docRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                            post.setName(documentSnapshot.getString(&quot;name&quot;).toString());\r\n                            post.setAvatar(documentSnapshot.getString(&quot;image&quot;).toString());\r\n                        }\r\n                    });\r\n                    postList.add(post);\r\n                    postAdapter.notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\n    }\r\n```\r\n","title":"RecyclerView not loading data correctly from FirebaseFirestore","body":"<p>I'm creating an app on Android Studio with Java and Firestore that lets users make publications and show them on a Fragment with a RecyclerView. The users create a profile (name, avatar) that gets saved in a document named after the user UID inside a collection named &quot;Users&quot;. The publications are saved into another collection named &quot;Posts&quot; (title, content, picture, avatar, name).</p>\n<p>I wrote two queries, one to get the title and content from the posts from the &quot;Posts&quot; collection, as well as the UID, to then do the other query that gets the name and picture from the poster and then all of those fields go inside a &quot;Post&quot; object and sent to the ArrayList that fills the RecyclerView.</p>\n<p>Problem: The posts load perfectly on the RecyclerView but the user picture (the one I'm getting from a different collection) is giving me lots of problems. Sometimes it loads, sometimes it doesn't, and sometimes it loads only for the first post or even the first three posts. I don't understand what could be wrong. I'm posting the code:</p>\n<pre><code>private void loadPosts() {\n        Query postQuery = collectionReferencePosts.orderBy(&quot;timestamp&quot;, Query.Direction.DESCENDING);\n        postQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    Post post = new Post();\n                    post.setTitle(document.getString(&quot;title&quot;));\n                    post.setContent(document.getString(&quot;content&quot;));\n                    post.setImage(document.getString(&quot;image&quot;));\n                    String posterUid = document.getString(&quot;useruid&quot;);\n                    DocumentReference docRef = collectionReferenceUsers.document(posterUid);\n                    docRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\n                            post.setName(documentSnapshot.getString(&quot;name&quot;).toString());\n                            post.setAvatar(documentSnapshot.getString(&quot;image&quot;).toString());\n                        }\n                    });\n                    postList.add(post);\n                    postAdapter.notifyDataSetChanged();\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","mockito","junit4"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653973950,"post_id":72442505,"comment_id":127974365,"body_markdown":"You don&#39;t. Either add the same parameter multiple times, or create a comma separated list and pass that in as the value.","body":"You don&#39;t. Either add the same parameter multiple times, or create a comma separated list and pass that in as the value."},{"owner":{"account_id":3334223,"reputation":1684,"user_id":2802315,"accept_rate":100,"display_name":"Pallav Raj"},"score":0,"creation_date":1653974033,"post_id":72442505,"comment_id":127974389,"body_markdown":"Hi @M.Deinum, I actually tried that way, but I am not getting values unfortunately.","body":"Hi @M.Deinum, I actually tried that way, but I am not getting values unfortunately."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653974469,"post_id":72442505,"comment_id":127974471,"body_markdown":"Well your parameter is named `recptNum` and not `receiptNumbers`, those don&#39;t match.","body":"Well your parameter is named <code>recptNum</code> and not <code>receiptNumbers</code>, those don&#39;t match."},{"owner":{"account_id":3334223,"reputation":1684,"user_id":2802315,"accept_rate":100,"display_name":"Pallav Raj"},"score":0,"creation_date":1653974974,"post_id":72442505,"comment_id":127974569,"body_markdown":"@M.Deinum, I am sorry My mistake it was typo when I was typing it on Stackoverflow but In actual code I am setting it correct.","body":"@M.Deinum, I am sorry My mistake it was typo when I was typing it on Stackoverflow but In actual code I am setting it correct."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653975059,"post_id":72442505,"comment_id":127974586,"body_markdown":"THen what did you try? Either adding it as multiple arguments, or a comma separated list should work.","body":"THen what did you try? Either adding it as multiple arguments, or a comma separated list should work."},{"owner":{"account_id":11037988,"reputation":848,"user_id":8107013,"display_name":"Manjunath H M"},"score":0,"creation_date":1653975846,"post_id":72442505,"comment_id":127974749,"body_markdown":"To pass as Set/List of values use the same param name multiple times.\n\nmockMvc.perform(\n\t\t\tMockMvcRequestBuilders.get(&quot;/api&quot;)\n\t\t\t\t\t.param(&quot;name&quot;, &quot;Manjunath&quot;)\n\t\t\t\t\t.param(&quot;recptNum&quot;, &quot;Test1&quot;)\n\t\t\t\t\t.param(&quot;recptNum&quot;, &quot;Test2&quot;)\n\t\t\t\t\t.param(&quot;recptNum&quot;, &quot;Test3&quot;)\n\t\t\t\t\t.param(&quot;recptNum&quot;, &quot;Test4&quot;)\n\t\t)\n\t\t.andExpect(MockMvcResultMatchers.status().isOk());","body":"To pass as Set/List of values use the same param name multiple times.  mockMvc.perform( \t\t\tMockMvcRequestBuilders.get(&quot;/api&quot;) \t\t\t\t\t.param(&quot;name&quot;, &quot;Manjunath&quot;) \t\t\t\t\t.param(&quot;recptNum&quot;, &quot;Test1&quot;) \t\t\t\t\t.param(&quot;recptNum&quot;, &quot;Test2&quot;) \t\t\t\t\t.param(&quot;recptNum&quot;, &quot;Test3&quot;) \t\t\t\t\t.param(&quot;recptNum&quot;, &quot;Test4&quot;) \t\t) \t\t.andExpect(MockMvcResultMatchers.status().isOk());"},{"owner":{"account_id":3334223,"reputation":1684,"user_id":2802315,"accept_rate":100,"display_name":"Pallav Raj"},"score":0,"creation_date":1653975872,"post_id":72442505,"comment_id":127974754,"body_markdown":"@M.Deinum I have updated the question. You may see there what I have tried so far. Some I forgetting to mention as I will remember, I will update it.","body":"@M.Deinum I have updated the question. You may see there what I have tried so far. Some I forgetting to mention as I will remember, I will update it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653976085,"post_id":72442505,"comment_id":127974810,"body_markdown":"1 should work, 2 and 3 will not work. You haven&#39;t tried a comma separated list `recptNum, &quot;val1,val2,val3&quot;`. There is something there, as when you omit the values, you would get a status 400 back (as parameters are required by default).","body":"1 should work, 2 and 3 will not work. You haven&#39;t tried a comma separated list <code>recptNum, &quot;val1,val2,val3&quot;</code>. There is something there, as when you omit the values, you would get a status 400 back (as parameters are required by default)."},{"owner":{"account_id":3334223,"reputation":1684,"user_id":2802315,"accept_rate":100,"display_name":"Pallav Raj"},"score":0,"creation_date":1653976697,"post_id":72442505,"comment_id":127974946,"body_markdown":"@M.Deinum I tried what you said but still no progress.","body":"@M.Deinum I tried what you said but still no progress."},{"owner":{"account_id":3334223,"reputation":1684,"user_id":2802315,"accept_rate":100,"display_name":"Pallav Raj"},"score":0,"creation_date":1653976736,"post_id":72442505,"comment_id":127974955,"body_markdown":"Hi @ManjunathHM, I tried your ways as well but still I am not getting values.","body":"Hi @ManjunathHM, I tried your ways as well but still I am not getting values."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653976916,"post_id":72442505,"comment_id":127974994,"body_markdown":"Please add your whole test and controller. These snippets don&#39;t even align, provide a full working sample.","body":"Please add your whole test and controller. These snippets don&#39;t even align, provide a full working sample."},{"owner":{"account_id":3334223,"reputation":1684,"user_id":2802315,"accept_rate":100,"display_name":"Pallav Raj"},"score":0,"creation_date":1654040572,"post_id":72442505,"comment_id":127996319,"body_markdown":"@M.Deinum its working API which I have provided sir. Its simple SpringBoot application with Mockito. How can I put my whole workspace here?","body":"@M.Deinum its working API which I have provided sir. Its simple SpringBoot application with Mockito. How can I put my whole workspace here?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654064432,"post_id":72442505,"comment_id":127999959,"body_markdown":"It isn&#39;t, It is only a method signature and a part of a test. So it isn&#39;t a full API nor something we can test.","body":"It isn&#39;t, It is only a method signature and a part of a test. So it isn&#39;t a full API nor something we can test."}],"owner":{"account_id":3334223,"reputation":1684,"user_id":2802315,"accept_rate":100,"display_name":"Pallav Raj"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653976575,"creation_date":1653973492,"question_id":72442505,"body_markdown":"I am writing JUnit Test case using Mockit.mvc and I have an API which as &quot;Set &lt;String&quot; as request param and I want to test this API.\r\n\r\n&gt; Example Api\r\n\r\n    @GetMapping(&quot;/api&quot;)    \r\n    public ResponseEntity&lt;?&gt; getValue(@RequestParam String name, @RequestParam Set&lt;String recptNum){.....}\r\n\r\n&gt; UT Snippet\r\n\r\n    Set&lt;String&gt; recNum = new HashMap&lt;&gt;();\r\n    recNum.add(&quot;someVal&quot;);\r\n    mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;, recNum).andExpect(status.isOk());\r\n\r\n\r\nHere I tried various ways to test the API but I am always not getting value in recNum. Can anyone please let me know, how to pass the Set&lt;String&gt; value in param or is there anyway I can test it? Feel free to ask me, if you want some more information.\r\n\r\n&gt; Below are the codes which I have tried\r\n\r\n    1. mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;,&quot;val1&quot;, &quot;val2&quot;).andExpect(status.isOk());\r\n    2. Set&lt;String&gt; recNum = new HashMap&lt;&gt;();\r\n       recNum.add(&quot;someVal&quot;);\r\n       mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;, String.valueOf(recNum)).andExpect(status.isOk());\r\n    3. Set&lt;String&gt; recNum = new HashMap&lt;&gt;();\r\n       recNum.add(&quot;someVal&quot;);\r\n       mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).requestAttr(&quot;recptNum&quot;, recNum).andExpect(status.isOk());\r\n    4. mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;,&quot;val1, val2&quot;).andExpect(status.isOk());\r\n    5. mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;,&quot;val1&quot;).param(&quot;recptNum&quot;, &quot;val2&quot;).andExpect(status.isOk());\r\n\r\nThank you so much in advance.\r\n\r\n","title":"How to set collections in Mockito.mvc.perform(get(&quot;/demo&quot;).param(&quot;setVal&quot;, Set&lt;String&gt;)","body":"<p>I am writing JUnit Test case using Mockit.mvc and I have an API which as &quot;Set &lt;String&quot; as request param and I want to test this API.</p>\n<blockquote>\n<p>Example Api</p>\n</blockquote>\n<pre><code>@GetMapping(&quot;/api&quot;)    \npublic ResponseEntity&lt;?&gt; getValue(@RequestParam String name, @RequestParam Set&lt;String recptNum){.....}\n</code></pre>\n<blockquote>\n<p>UT Snippet</p>\n</blockquote>\n<pre><code>Set&lt;String&gt; recNum = new HashMap&lt;&gt;();\nrecNum.add(&quot;someVal&quot;);\nmvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;, recNum).andExpect(status.isOk());\n</code></pre>\n<p>Here I tried various ways to test the API but I am always not getting value in recNum. Can anyone please let me know, how to pass the Set value in param or is there anyway I can test it? Feel free to ask me, if you want some more information.</p>\n<blockquote>\n<p>Below are the codes which I have tried</p>\n</blockquote>\n<pre><code>1. mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;,&quot;val1&quot;, &quot;val2&quot;).andExpect(status.isOk());\n2. Set&lt;String&gt; recNum = new HashMap&lt;&gt;();\n   recNum.add(&quot;someVal&quot;);\n   mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;, String.valueOf(recNum)).andExpect(status.isOk());\n3. Set&lt;String&gt; recNum = new HashMap&lt;&gt;();\n   recNum.add(&quot;someVal&quot;);\n   mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).requestAttr(&quot;recptNum&quot;, recNum).andExpect(status.isOk());\n4. mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;,&quot;val1, val2&quot;).andExpect(status.isOk());\n5. mvc.perform(get(&quot;/api&quot;).param(&quot;name&quot;, &quot;Ram&quot;).param(&quot;recptNum&quot;,&quot;val1&quot;).param(&quot;recptNum&quot;, &quot;val2&quot;).andExpect(status.isOk());\n</code></pre>\n<p>Thank you so much in advance.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":9780715,"reputation":1250,"user_id":7595401,"display_name":"pavi2410"},"score":0,"creation_date":1539922454,"post_id":52885809,"comment_id":92684572,"body_markdown":"call super.run() from A#run","body":"call super.run() from A#run"},{"owner":{"account_id":5870718,"reputation":3152,"user_id":4623129,"display_name":"Khalid Shah"},"score":0,"creation_date":1539922489,"post_id":52885809,"comment_id":92684579,"body_markdown":"why you make run() method final in B class ?","body":"why you make run() method final in B class ?"},{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":6,"creation_date":1539922581,"post_id":52885809,"comment_id":92684597,"body_markdown":"that&#39;s the whole point of making methods final - that the subclasses are not able to override them","body":"that&#39;s the whole point of making methods final - that the subclasses are not able to override them"},{"owner":{"account_id":3702400,"reputation":8849,"user_id":3081714,"accept_rate":39,"display_name":"bula"},"score":0,"creation_date":1539925501,"post_id":52885809,"comment_id":92685234,"body_markdown":"@Kartik I know what final method means. I want to implement the Runnable&#39;s run method.","body":"@Kartik I know what final method means. I want to implement the Runnable&#39;s run method."},{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1539925699,"post_id":52885809,"comment_id":92685272,"body_markdown":"@ddarz4u thanks for updating the question, it&#39;s clearer now. As Andy answered, you need to re-think your design - is `A` a `B` or is `A` a `Runnable`","body":"@ddarz4u thanks for updating the question, it&#39;s clearer now. As Andy answered, you need to re-think your design - is <code>A</code> a <code>B</code> or is <code>A</code> a <code>Runnable</code>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1539927276,"post_id":52885809,"comment_id":92685645,"body_markdown":"There is no way to override a final method.  You _must_ either not implement B, change `B` to make the method not final, or use a different method between A and B.  There is no way around that choice.","body":"There is no way to override a final method.  You <i>must</i> either not implement B, change <code>B</code> to make the method not final, or use a different method between A and B.  There is no way around that choice."}],"answers":[{"tags":[],"owner":{"account_id":2133309,"reputation":2564,"user_id":7671876,"display_name":"codeLover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539922639,"creation_date":1539922639,"answer_id":52885846,"question_id":52885809,"body_markdown":"Unfortunately you cannot implement run method in `class A` under the given circumstances as in `class B` which is parent class of `class A` run method has been declared and you can never override `final` methods.\r\n\r\nYou can either change the name of method in `class B` or you can make the method non-final.\r\n\r\n","title":"Implement Runnable&#39;s run method, made final by another class in class hierarchy","body":"<p>Unfortunately you cannot implement run method in <code>class A</code> under the given circumstances as in <code>class B</code> which is parent class of <code>class A</code> run method has been declared and you can never override <code>final</code> methods.</p>\n\n<p>You can either change the name of method in <code>class B</code> or you can make the method non-final.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539927765,"creation_date":1539924610,"answer_id":52886055,"question_id":52885809,"body_markdown":"What is the important thing here: that `A` is a `B` or that `A` is a `Runnable`?\n\nIf it&#39;s the former (or it&#39;s important that it is both a `B` *and* `Runnable`), there is nothing you can do: `B.run` is final, and final means you can&#39;t override it.\n\nIf it&#39;s the latter, use composition:\n\n    class A implements Runnable {\n      final B b; // initialize on field or in constructor.\n\n      @Override public void run() {\n        // Your implementation, calling methods/fields on b\n        // where you need the behaviour/data of B.\n      }\n    }","title":"Implement Runnable&#39;s run method, made final by another class in class hierarchy","body":"<p>What is the important thing here: that <code>A</code> is a <code>B</code> or that <code>A</code> is a <code>Runnable</code>?</p>\n\n<p>If it's the former (or it's important that it is both a <code>B</code> <em>and</em> <code>Runnable</code>), there is nothing you can do: <code>B.run</code> is final, and final means you can't override it.</p>\n\n<p>If it's the latter, use composition:</p>\n\n<pre><code>class A implements Runnable {\n  final B b; // initialize on field or in constructor.\n\n  @Override public void run() {\n    // Your implementation, calling methods/fields on b\n    // where you need the behaviour/data of B.\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3702400,"reputation":8849,"user_id":3081714,"accept_rate":39,"display_name":"bula"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1653976170,"creation_date":1539922363,"question_id":52885809,"body_markdown":"I came across a situation like this.\r\n\r\n    public class B{\r\n        public final void run() {\r\n        }\r\n    }\r\n        \r\n    public class A extends B implements Runnable{\r\n        //I want to implement Runnable&#39;s run method here.\r\n        //But it does not allow as the run method in B is final\r\n    }\r\n\r\ncan someone suggest any way I can achieve this.\r\n","title":"Implement Runnable&#39;s run method, made final by another class in class hierarchy","body":"<p>I came across a situation like this.</p>\n\n<pre><code>public class B{\n    public final void run() {\n    }\n}\n\npublic class A extends B implements Runnable{\n    //I want to implement Runnable's run method here.\n    //But it does not allow as the run method in B is final\n}\n</code></pre>\n\n<p>can someone suggest any way I can achieve this.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1653935357,"post_id":72438592,"comment_id":127967892,"body_markdown":"What exactly is your question? How not to print the line &quot;Enter the number &quot;? Remove the statement from your code and it will not be executed (because it doesn&#39;t exist any longer). Can you provide an example input and expected output? What are the 20% that are not working?","body":"What exactly is your question? How not to print the line &quot;Enter the number &quot;? Remove the statement from your code and it will not be executed (because it doesn&#39;t exist any longer). Can you provide an example input and expected output? What are the 20% that are not working?"},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1653935554,"post_id":72438592,"comment_id":127967955,"body_markdown":"With regards to the array you have two options (1) re-initialize/copy the array at each insert (this would solve your exact question) (2) use a `List&lt;Integer&gt;` instead.  With regards to your other question, you&#39;ll have to look at the other data types `float` and `double` if you want decimals.","body":"With regards to the array you have two options (1) re-initialize/copy the array at each insert (this would solve your exact question) (2) use a <code>List&lt;Integer&gt;</code> instead.  With regards to your other question, you&#39;ll have to look at the other data types <code>float</code> and <code>double</code> if you want decimals."},{"owner":{"account_id":25164371,"reputation":33,"user_id":19008113,"display_name":"Vzas Tack"},"score":0,"creation_date":1653935592,"post_id":72438592,"comment_id":127967964,"body_markdown":"I failed to do properly regarding decimals when I change I spoil everything and then the code doesn&#39;t work at all, and when I try to insert it it stops with 0. I delete the part where it asks me how many numbers to enter in the array. I just put it one by one and it stops at 0 and adds up but then it doesn&#39;t work for me so I don&#39;t know how to do it and fix it @knittl","body":"I failed to do properly regarding decimals when I change I spoil everything and then the code doesn&#39;t work at all, and when I try to insert it it stops with 0. I delete the part where it asks me how many numbers to enter in the array. I just put it one by one and it stops at 0 and adds up but then it doesn&#39;t work for me so I don&#39;t know how to do it and fix it @knittl"}],"answers":[{"tags":[],"owner":{"account_id":11349881,"reputation":116,"user_id":9880786,"display_name":"kio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653946164,"creation_date":1653946164,"answer_id":72440210,"question_id":72438592,"body_markdown":"Use doble and System.out printf,\r\nexcample:\r\n\r\n    \t  double myArray[] = new double [size];\r\n\t      double sum = 0;\r\n\t      System.out.println(&quot;Enter item prices (each separately) :  &quot;);\r\n\r\n\t      for(int i=0; i&lt;size; i++){\r\n\t         myArray[i] = s.nextDouble();\r\n\t         sum = sum + myArray[i];\r\n\t      }\r\n\t      \r\n\t      System.out.printf(&quot;The total bill amount is:%.2f$&quot;,sum);","title":"The amount of items in the store Java","body":"<p>Use doble and System.out printf,\nexcample:</p>\n<pre><code>      double myArray[] = new double [size];\n      double sum = 0;\n      System.out.println(&quot;Enter item prices (each separately) :  &quot;);\n\n      for(int i=0; i&lt;size; i++){\n         myArray[i] = s.nextDouble();\n         sum = sum + myArray[i];\n      }\n      \n      System.out.printf(&quot;The total bill amount is:%.2f$&quot;,sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11349881,"reputation":116,"user_id":9880786,"display_name":"kio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653975577,"creation_date":1653975577,"answer_id":72442724,"question_id":72438592,"body_markdown":"Example with BigDecimal:\r\n\r\n          BigDecimal myArray[] = new BigDecimal [size];\r\n\t      BigDecimal sum = new BigDecimal(0);\r\n\t      System.out.println(&quot;Enter item prices (each separately) :  &quot;);\r\n\r\n\t      for(int i=0; i&lt;size; i++){\r\n\t         myArray[i] = s.nextBigDecimal();\r\n\t         sum = sum.add(myArray[i]);\r\n\t      }","title":"The amount of items in the store Java","body":"<p>Example with BigDecimal:</p>\n<pre><code>      BigDecimal myArray[] = new BigDecimal [size];\n      BigDecimal sum = new BigDecimal(0);\n      System.out.println(&quot;Enter item prices (each separately) :  &quot;);\n\n      for(int i=0; i&lt;size; i++){\n         myArray[i] = s.nextBigDecimal();\n         sum = sum.add(myArray[i]);\n      }\n</code></pre>\n"}],"owner":{"account_id":25164371,"reputation":33,"user_id":19008113,"display_name":"Vzas Tack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1680339132,"accepted_answer_id":72442724,"answer_count":2,"score":-3,"last_activity_date":1653975577,"creation_date":1653934928,"question_id":72438592,"body_markdown":"I&#39;m learning programming in Java, and I found one interesting example and solved it 80%. But there is this part that I dont know exactly how to solve. I should enter an array indefinitely until I write &quot;0&quot; and then that array should break that array and add the sum of the numbers (but it is necessary that the decimals of the numbers are not limited, and the final sum at the end that is printed is rounded to 2 decimals .)  \r\nAt the same time, I want to delete this part &quot;Enter the number of purchased items: &quot; where he asks how many items I will have, but only to enter without that part and stop collecting the sum.\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\npublic class SumOfElementsOfAnArray {\r\n   public static void main(String args[]){\r\n      System.out.println(&quot;Enter the number of purchased items: &quot;); // I want to enter a array without this part\r\n      Scanner s = new Scanner(System.in);\r\n      int size = s.nextInt();\r\n      int myArray[] = new int [size];\r\n      double sum = 0;\r\n      System.out.println(&quot;Enter item prices (each separately) :  &quot;);\r\n\r\n      for(int i=0; i&lt;size; i++){\r\n         myArray[i] = s.nextInt();\r\n         sum = sum + myArray[i];\r\n      }\r\n \r\n      System.out.println(&quot;The total bill amount is:&quot; +sum + &quot;$&quot;);\r\n   }\r\n}\r\n\r\n ```","title":"The amount of items in the store Java","body":"<p>I'm learning programming in Java, and I found one interesting example and solved it 80%. But there is this part that I dont know exactly how to solve. I should enter an array indefinitely until I write &quot;0&quot; and then that array should break that array and add the sum of the numbers (but it is necessary that the decimals of the numbers are not limited, and the final sum at the end that is printed is rounded to 2 decimals .)<br />\nAt the same time, I want to delete this part &quot;Enter the number of purchased items: &quot; where he asks how many items I will have, but only to enter without that part and stop collecting the sum.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\npublic class SumOfElementsOfAnArray {\n   public static void main(String args[]){\n      System.out.println(&quot;Enter the number of purchased items: &quot;); // I want to enter a array without this part\n      Scanner s = new Scanner(System.in);\n      int size = s.nextInt();\n      int myArray[] = new int [size];\n      double sum = 0;\n      System.out.println(&quot;Enter item prices (each separately) :  &quot;);\n\n      for(int i=0; i&lt;size; i++){\n         myArray[i] = s.nextInt();\n         sum = sum + myArray[i];\n      }\n \n      System.out.println(&quot;The total bill amount is:&quot; +sum + &quot;$&quot;);\n   }\n}\n\n</code></pre>\n"},{"tags":["java","data-structures","queue"],"comments":[{"owner":{"account_id":23471458,"reputation":27,"user_id":17524907,"display_name":"Avinash Kumar Singh"},"score":0,"creation_date":1653974792,"post_id":72442561,"comment_id":127974534,"body_markdown":"poll is used to delete the head element of the list.","body":"poll is used to delete the head element of the list."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1653974916,"post_id":72442561,"comment_id":127974556,"body_markdown":"Also, this won&#39;t compile because `List` doesn&#39;t declare a `poll` method. (Not to mention the use of raw types.)","body":"Also, this won&#39;t compile because <code>List</code> doesn&#39;t declare a <code>poll</code> method. (Not to mention the use of raw types.)"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1653974927,"post_id":72442561,"comment_id":127974557,"body_markdown":"What is your exact question, you don&#39;t know how while works generally in java or how it is working with poll here?","body":"What is your exact question, you don&#39;t know how while works generally in java or how it is working with poll here?"}],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653975207,"creation_date":1653975207,"answer_id":72442670,"question_id":72442561,"body_markdown":"`List` Does not have any `poll` method. It comes from `Queue` interface.Only  `LinkedList` implements both `List` and the `Queue` interface. You are creating an instance of `List` here instead of creating an instance of  `LinkedList`.\r\n\r\nSo better to use : \r\n```\r\nLinkedList list = new LinkedList&lt;&gt;();\r\n```\r\n","title":"I can&#39;t able to understand how while statement is working","body":"<p><code>List</code> Does not have any <code>poll</code> method. It comes from <code>Queue</code> interface.Only  <code>LinkedList</code> implements both <code>List</code> and the <code>Queue</code> interface. You are creating an instance of <code>List</code> here instead of creating an instance of  <code>LinkedList</code>.</p>\n<p>So better to use :</p>\n<pre><code>LinkedList list = new LinkedList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":23471458,"reputation":27,"user_id":17524907,"display_name":"Avinash Kumar Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1653982783,"answer_count":1,"score":0,"last_activity_date":1653975207,"creation_date":1653974235,"question_id":72442561,"body_markdown":"    class poll {\r\n    \r\n      public static void main(String args[]) {\r\n        List list = new LinkedList();\r\n        list.add(&quot;Avi&quot;);\r\n        list.add(&quot;ravi&quot;);\r\n        list.add(&quot;savi&quot;);\r\n        while (!list.isEmpty()) {\r\n          System.out.print(list.poll() + &quot; &lt;-- &quot;);\r\n        }\r\n      }\r\n    }","title":"I can&#39;t able to understand how while statement is working","body":"<pre><code>class poll {\n\n  public static void main(String args[]) {\n    List list = new LinkedList();\n    list.add(&quot;Avi&quot;);\n    list.add(&quot;ravi&quot;);\n    list.add(&quot;savi&quot;);\n    while (!list.isEmpty()) {\n      System.out.print(list.poll() + &quot; &lt;-- &quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1653972456,"post_id":72442215,"comment_id":127974079,"body_markdown":"add a logcat error in your question to find what the problem is causing.","body":"add a logcat error in your question to find what the problem is causing."},{"owner":{"account_id":25432692,"reputation":1,"user_id":19236842,"display_name":"Siti Faridah"},"score":0,"creation_date":1653975167,"post_id":72442215,"comment_id":127974608,"body_markdown":"just added the error","body":"just added the error"}],"answers":[{"tags":[],"owner":{"account_id":25104945,"reputation":76,"user_id":18955226,"display_name":"Yazan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653972638,"creation_date":1653972638,"answer_id":72442417,"question_id":72442215,"body_markdown":"try this in your login activity\r\n\r\n    mLogo = findViewById(R.id.imageView);\r\n    mLogo.setImageDrawable(ContextCompat.getDrawable(getActivity(), \r\n    R.drawable.main_logo));\r\n\r\nlemme know if it works out for you\r\n\r\n","title":"My app cannot launch because of my Homepage","body":"<p>try this in your login activity</p>\n<pre><code>mLogo = findViewById(R.id.imageView);\nmLogo.setImageDrawable(ContextCompat.getDrawable(getActivity(), \nR.drawable.main_logo));\n</code></pre>\n<p>lemme know if it works out for you</p>\n"}],"owner":{"account_id":25432692,"reputation":1,"user_id":19236842,"display_name":"Siti Faridah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653998881,"answer_count":1,"score":0,"last_activity_date":1653975106,"creation_date":1653970383,"question_id":72442215,"body_markdown":"My Homepage has a problem, the app failed to start when i run it. but, when i comment out the code on `.Homepage` in the `AndroidManifest` the app can run. \r\n\r\nError at Logcat:\r\n2022-05-31 13:28:30.991 5606-5606/com.example.limbangfoodhuntfortourism E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.limbangfoodhuntfortourism, PID: 5606\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.limbangfoodhuntfortourism/com.example.limbangfoodhuntfortourism.Homepage}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setImageResource(int)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2951)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3016)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1716)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:232)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6806)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1103)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setImageResource(int)&#39; on a null object reference\r\n        at com.example.limbangfoodhuntfortourism.Homepage.onCreate(Homepage.java:24)\r\n        at android.app.Activity.performCreate(Activity.java:6974)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2904)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3016)&#160;\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1716)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)&#160;\r\n        at android.os.Looper.loop(Looper.java:232)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6806)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1103)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)&#160;\r\n\r\nthis is the error:\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.limbangfoodhuntfortourism, PID: 27159\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.limbangfoodhuntfortourism/com.example.limbangfoodhuntfortourism.Homepage}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setImageResource(int)&#39; on a null object reference\r\n\r\nThis is my Log in code: \r\n\r\n    package com.example.limbangfoodhuntfortourism;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageView;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.OnFailureListener;\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    \r\n    public class Login extends AppCompatActivity {\r\n        EditText mEmail, mPassword;\r\n        Button mLoginButton;\r\n        TextView mCreateLinkSignUp, mForgotPassword;\r\n        FirebaseAuth fAuth;\r\n        ProgressBar progressBar;\r\n        ImageView mLogo;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_login);\r\n    \r\n            mEmail = findViewById(R.id.email);\r\n            mPassword = findViewById(R.id.password);\r\n            progressBar = findViewById(R.id.progressBarLogin);\r\n            mLoginButton = findViewById(R.id.loginButton);\r\n            mCreateLinkSignUp = findViewById(R.id.signUpNow);\r\n            mForgotPassword = findViewById(R.id.forgotPassword);\r\n            fAuth = FirebaseAuth.getInstance();\r\n    \r\n            mLoginButton.setOnClickListener((view) -&gt;  {\r\n                    String email = mEmail.getText().toString().trim();\r\n                    String password = mPassword.getText().toString().trim();\r\n    \r\n                    if(TextUtils.isEmpty(email)) {\r\n                        mEmail.setError(&quot;Email is Required.&quot;);\r\n                        return;\r\n                    }\r\n    \r\n                    if(TextUtils.isEmpty(password)) {\r\n                        mPassword.setError(&quot;Password is Required.&quot;);\r\n                        return;\r\n                    }\r\n    \r\n                    if(password.length() &lt; 6) {\r\n                        mPassword.setError(&quot;Password must be &gt;= 6 characters&quot;);\r\n                        return;\r\n                    }\r\n    \r\n                    progressBar.setVisibility(View.VISIBLE);\r\n    \r\n                    // authenticate the user\r\n    \r\n                    fAuth.signInWithEmailAndPassword(email,password).addOnCompleteListener((task) -&gt;  {\r\n                            if(task.isSuccessful()) {\r\n                                Toast.makeText(Login.this, &quot;Logged in Successfully!&quot;, Toast.LENGTH_SHORT).show();\r\n                                startActivity(new Intent(getApplicationContext(),Homepage.class));\r\n                            } else {\r\n                                Toast.makeText(Login.this, &quot;Error!&quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                                progressBar.setVisibility(View.GONE);\r\n                            }\r\n                    });\r\n            });\r\n    \r\n            mCreateLinkSignUp.setOnClickListener((view) -&gt; {\r\n                    startActivity(new Intent(getApplicationContext(), Register.class));\r\n            });\r\n    \r\n            mLogo = findViewById(R.id.imageView);\r\n            mLogo.setImageResource(R.drawable.main_logo);\r\n    \r\n            mForgotPassword.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    final EditText resetMail = new EditText(view.getContext());\r\n                    final AlertDialog.Builder passwordResetDialog = new AlertDialog.Builder(view.getContext());\r\n                    passwordResetDialog.setTitle(&quot;Reset Password?&quot;);\r\n                    passwordResetDialog.setMessage(&quot;Enter Your Email To Received Reset Link.&quot;);\r\n                    passwordResetDialog.setView(resetMail);\r\n    \r\n                    passwordResetDialog.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            // extract the mail and send reset link\r\n    \r\n                            String mail = resetMail.getText().toString();\r\n                            fAuth.sendPasswordResetEmail(mail).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Void unused) {\r\n                                    Toast.makeText(Login.this, &quot;Reset Link Sent To Your Email.&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Toast.makeText(Login.this, &quot;Error! Reset Link is Not Sent.&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n    \r\n                    passwordResetDialog.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            // close the dialog\r\n                        }\r\n                    });\r\n    \r\n                    passwordResetDialog.create().show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nthis is my Homepage:\r\n\r\n    package com.example.limbangfoodhuntfortourism;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    \r\n    public class Homepage extends AppCompatActivity {\r\n        ImageView mLogo;\r\n        TextView mLogoutLink;\r\n        FirebaseAuth fAuth;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_homepage);\r\n    \r\n            mLogoutLink = findViewById(R.id.Logout);\r\n            mLogo = findViewById(R.id.imageView);\r\n            mLogo.setImageResource(R.drawable.main_logo);\r\n    \r\n            fAuth = FirebaseAuth.getInstance();\r\n            mLogoutLink.setOnClickListener((view) -&gt; {\r\n                startActivity(new Intent(getApplicationContext(), Logout.class));\r\n            });\r\n        }\r\n    }\r\n\r\nThis is my AndroidManifest code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.example.limbangfoodhuntfortourism&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.LimbangFoodHuntForTourism&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Logout&quot;\r\n                android:exported=&quot;true&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.RestaurantDetails&quot;\r\n                android:exported=&quot;true&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Homepage&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Login&quot;\r\n                android:exported=&quot;true&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Register&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot; /&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"My app cannot launch because of my Homepage","body":"<p>My Homepage has a problem, the app failed to start when i run it. but, when i comment out the code on <code>.Homepage</code> in the <code>AndroidManifest</code> the app can run.</p>\n<p>Error at Logcat:\n2022-05-31 13:28:30.991 5606-5606/com.example.limbangfoodhuntfortourism E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.limbangfoodhuntfortourism, PID: 5606\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.limbangfoodhuntfortourism/com.example.limbangfoodhuntfortourism.Homepage}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ImageView.setImageResource(int)' on a null object reference\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2951)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3016)\nat android.app.ActivityThread.-wrap12(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1716)\nat android.os.Handler.dispatchMessage(Handler.java:110)\nat android.os.Looper.loop(Looper.java:232)\nat android.app.ActivityThread.main(ActivityThread.java:6806)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1103)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ImageView.setImageResource(int)' on a null object reference\nat com.example.limbangfoodhuntfortourism.Homepage.onCreate(Homepage.java:24)\nat android.app.Activity.performCreate(Activity.java:6974)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2904)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3016)\nat android.app.ActivityThread.-wrap12(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1716)\nat android.os.Handler.dispatchMessage(Handler.java:110)\nat android.os.Looper.loop(Looper.java:232)\nat android.app.ActivityThread.main(ActivityThread.java:6806)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1103)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)</p>\n<p>this is the error:\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.limbangfoodhuntfortourism, PID: 27159\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.limbangfoodhuntfortourism/com.example.limbangfoodhuntfortourism.Homepage}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ImageView.setImageResource(int)' on a null object reference</p>\n<p>This is my Log in code:</p>\n<pre><code>package com.example.limbangfoodhuntfortourism;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\n\npublic class Login extends AppCompatActivity {\n    EditText mEmail, mPassword;\n    Button mLoginButton;\n    TextView mCreateLinkSignUp, mForgotPassword;\n    FirebaseAuth fAuth;\n    ProgressBar progressBar;\n    ImageView mLogo;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n\n        mEmail = findViewById(R.id.email);\n        mPassword = findViewById(R.id.password);\n        progressBar = findViewById(R.id.progressBarLogin);\n        mLoginButton = findViewById(R.id.loginButton);\n        mCreateLinkSignUp = findViewById(R.id.signUpNow);\n        mForgotPassword = findViewById(R.id.forgotPassword);\n        fAuth = FirebaseAuth.getInstance();\n\n        mLoginButton.setOnClickListener((view) -&gt;  {\n                String email = mEmail.getText().toString().trim();\n                String password = mPassword.getText().toString().trim();\n\n                if(TextUtils.isEmpty(email)) {\n                    mEmail.setError(&quot;Email is Required.&quot;);\n                    return;\n                }\n\n                if(TextUtils.isEmpty(password)) {\n                    mPassword.setError(&quot;Password is Required.&quot;);\n                    return;\n                }\n\n                if(password.length() &lt; 6) {\n                    mPassword.setError(&quot;Password must be &gt;= 6 characters&quot;);\n                    return;\n                }\n\n                progressBar.setVisibility(View.VISIBLE);\n\n                // authenticate the user\n\n                fAuth.signInWithEmailAndPassword(email,password).addOnCompleteListener((task) -&gt;  {\n                        if(task.isSuccessful()) {\n                            Toast.makeText(Login.this, &quot;Logged in Successfully!&quot;, Toast.LENGTH_SHORT).show();\n                            startActivity(new Intent(getApplicationContext(),Homepage.class));\n                        } else {\n                            Toast.makeText(Login.this, &quot;Error!&quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                            progressBar.setVisibility(View.GONE);\n                        }\n                });\n        });\n\n        mCreateLinkSignUp.setOnClickListener((view) -&gt; {\n                startActivity(new Intent(getApplicationContext(), Register.class));\n        });\n\n        mLogo = findViewById(R.id.imageView);\n        mLogo.setImageResource(R.drawable.main_logo);\n\n        mForgotPassword.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                final EditText resetMail = new EditText(view.getContext());\n                final AlertDialog.Builder passwordResetDialog = new AlertDialog.Builder(view.getContext());\n                passwordResetDialog.setTitle(&quot;Reset Password?&quot;);\n                passwordResetDialog.setMessage(&quot;Enter Your Email To Received Reset Link.&quot;);\n                passwordResetDialog.setView(resetMail);\n\n                passwordResetDialog.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        // extract the mail and send reset link\n\n                        String mail = resetMail.getText().toString();\n                        fAuth.sendPasswordResetEmail(mail).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void unused) {\n                                Toast.makeText(Login.this, &quot;Reset Link Sent To Your Email.&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Toast.makeText(Login.this, &quot;Error! Reset Link is Not Sent.&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n                });\n\n                passwordResetDialog.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        // close the dialog\n                    }\n                });\n\n                passwordResetDialog.create().show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>this is my Homepage:</p>\n<pre><code>package com.example.limbangfoodhuntfortourism;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.google.firebase.auth.FirebaseAuth;\n\npublic class Homepage extends AppCompatActivity {\n    ImageView mLogo;\n    TextView mLogoutLink;\n    FirebaseAuth fAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_homepage);\n\n        mLogoutLink = findViewById(R.id.Logout);\n        mLogo = findViewById(R.id.imageView);\n        mLogo.setImageResource(R.drawable.main_logo);\n\n        fAuth = FirebaseAuth.getInstance();\n        mLogoutLink.setOnClickListener((view) -&gt; {\n            startActivity(new Intent(getApplicationContext(), Logout.class));\n        });\n    }\n}\n</code></pre>\n<p>This is my AndroidManifest code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.limbangfoodhuntfortourism&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.LimbangFoodHuntForTourism&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.Logout&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.RestaurantDetails&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Homepage&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.Login&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Register&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653860769,"post_id":72427441,"comment_id":127948476,"body_markdown":"Maybe `if(play=true)` should read `if(play==true)`, or better still `if(play)`.  And the `else if` can just be `else`, since there&#39;s no other possibility if `play` is not true.","body":"Maybe <code>if(play=true)</code> should read <code>if(play==true)</code>, or better still <code>if(play)</code>.  And the <code>else if</code> can just be <code>else</code>, since there&#39;s no other possibility if <code>play</code> is not true."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653860843,"post_id":72427441,"comment_id":127948497,"body_markdown":"Also, if you stop a clip, you dont to create a new to start playing again","body":"Also, if you stop a clip, you dont to create a new to start playing again"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653864660,"creation_date":1653861337,"answer_id":72427546,"question_id":72427441,"body_markdown":"Your immediate issue is `if(play=true) {`, this is setting `play` to `true` and  therefore will reopen the clip and start playing it again every time.\r\n\r\nYou should be using `if(play==true) {` to determine if the value of `play` is `true`, but you could also use `if(play) {`\r\n\r\nTake a look at [The if-then and if-then-else Statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html) for more details.\r\n\r\nEssentially, `=` is for assignment `==` is for evaluation.  An if condition must equate to a boolean (`true`/`false`), so when using a boolean value you don&#39;t have to use `==`, you can just use the value itself.\r\n\r\nAssuming `play` is `true`, both `if (play == true)` and `if (play)` will evaluate to `true`\r\n\r\nHaving said that, once you have the clip initialised and open, you don&#39;t need to re-open it when you want to start playing again, for example...\r\n\r\n    public class Track {\r\n        private Clip clip;\r\n        private File source;\r\n\r\n        public Track(File source) {\r\n            this.source = source;\r\n        }\r\n\r\n        public static void playSound(boolean play) throws Exception {\r\n            File sound = new File(&quot;wave.wav&quot;);\r\n            Clip clip = AudioSystem.getClip();\r\n            if (play = true) {\r\n                AudioInputStream inputStream = AudioSystem.getAudioInputStream(sound);\r\n                inputStream = AudioSystem.getAudioInputStream(sound);\r\n                clip.open(inputStream);\r\n                clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n                clip.start();\r\n            } else if (play = false) {\r\n                clip.stop();\r\n            }\r\n        }\r\n\r\n        public File getSource() {\r\n            return source;\r\n        }\r\n\r\n        public Clip getClip() {\r\n            return clip;\r\n        }\r\n\r\n        public void play() throws LineUnavailableException, UnsupportedAudioFileException, IOException {\r\n            if (clip == null) {\r\n                AudioInputStream inputStream = AudioSystem.getAudioInputStream(getSource());\r\n                inputStream = AudioSystem.getAudioInputStream(getSource());\r\n            }\r\n            if (!clip.isOpen()) {\r\n                clip.open();\r\n            }\r\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n            clip.start();\r\n        }\r\n        \r\n        public void stop() {\r\n            if (clip == null) {\r\n                return;\r\n            }\r\n            if (!clip.isActive()) {\r\n                return;\r\n            }\r\n            clip.stop();\r\n            clip.setFramePosition(0);\r\n        }\r\n    }\r\n\r\nIn fact you could also easily add support for pausing by doing something like\r\n\r\n    public void pause() {\r\n        if (clip == null) {\r\n            return;\r\n        }\r\n        if (!clip.isActive()) {\r\n            return;\r\n        }\r\n        clip.stop();\r\n    }\r\n\r\n*(ps - I didn&#39;t add a close method which would also be pretty useful)*","title":"How do I make a clip outside of method?","body":"<p>Your immediate issue is <code>if(play=true) {</code>, this is setting <code>play</code> to <code>true</code> and  therefore will reopen the clip and start playing it again every time.</p>\n<p>You should be using <code>if(play==true) {</code> to determine if the value of <code>play</code> is <code>true</code>, but you could also use <code>if(play) {</code></p>\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html\" rel=\"nofollow noreferrer\">The if-then and if-then-else Statements</a> for more details.</p>\n<p>Essentially, <code>=</code> is for assignment <code>==</code> is for evaluation.  An if condition must equate to a boolean (<code>true</code>/<code>false</code>), so when using a boolean value you don't have to use <code>==</code>, you can just use the value itself.</p>\n<p>Assuming <code>play</code> is <code>true</code>, both <code>if (play == true)</code> and <code>if (play)</code> will evaluate to <code>true</code></p>\n<p>Having said that, once you have the clip initialised and open, you don't need to re-open it when you want to start playing again, for example...</p>\n<pre><code>public class Track {\n    private Clip clip;\n    private File source;\n\n    public Track(File source) {\n        this.source = source;\n    }\n\n    public static void playSound(boolean play) throws Exception {\n        File sound = new File(&quot;wave.wav&quot;);\n        Clip clip = AudioSystem.getClip();\n        if (play = true) {\n            AudioInputStream inputStream = AudioSystem.getAudioInputStream(sound);\n            inputStream = AudioSystem.getAudioInputStream(sound);\n            clip.open(inputStream);\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\n            clip.start();\n        } else if (play = false) {\n            clip.stop();\n        }\n    }\n\n    public File getSource() {\n        return source;\n    }\n\n    public Clip getClip() {\n        return clip;\n    }\n\n    public void play() throws LineUnavailableException, UnsupportedAudioFileException, IOException {\n        if (clip == null) {\n            AudioInputStream inputStream = AudioSystem.getAudioInputStream(getSource());\n            inputStream = AudioSystem.getAudioInputStream(getSource());\n        }\n        if (!clip.isOpen()) {\n            clip.open();\n        }\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n        clip.start();\n    }\n    \n    public void stop() {\n        if (clip == null) {\n            return;\n        }\n        if (!clip.isActive()) {\n            return;\n        }\n        clip.stop();\n        clip.setFramePosition(0);\n    }\n}\n</code></pre>\n<p>In fact you could also easily add support for pausing by doing something like</p>\n<pre><code>public void pause() {\n    if (clip == null) {\n        return;\n    }\n    if (!clip.isActive()) {\n        return;\n    }\n    clip.stop();\n}\n</code></pre>\n<p><em>(ps - I didn't add a close method which would also be pretty useful)</em></p>\n"},{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653974708,"creation_date":1653872268,"answer_id":72428266,"question_id":72427441,"body_markdown":"In addition to the more complete answer, having the statement read like\r\n```java\r\nif(play)\r\n{\r\n    // Play code\r\n}\r\nelse\r\n{\r\n    clip.stop();\r\n}\r\n```\r\nInstead of\r\n```java\r\nif(play == true)\r\n{\r\n    // Play code\r\n}\r\nelse if(play == false)\r\n{\r\n    clip.stop();\r\n}\r\n```\r\nIs much better style.\r\n\r\n**EDIT for additional information**\r\n\r\nTo answer the question&#39;s title,\r\n&gt;How do I make a clip outside of method?\r\n\r\nI believe you are asking how to format a class-level variable. That requires the following:\r\n* access modifier, need -- default(when you type nothing), public, protected, private\r\n* final keyword, optional -- used to restrict the user\r\n* static keyword, optional -- used for memory management\r\n* data type, need -- specify the different sizes and values that can be stored in the variable\r\n* name, need -- how the variable is called or referred to. Cannot be on the list of reserved keywords\r\n\r\nWith the same class that you use for this call: `Clip clip = AudioSystem.getClip();`, you can create an empty class-level variable with:\r\n```java\r\nprivate static Object objectName; \r\n```\r\n**Links**\r\n* Access: &lt;https://www.javatpoint.com/access-modifiers&gt;\r\n* Final: &lt;https://www.javatpoint.com/final-keyword&gt;\r\n* Static: &lt;https://www.javatpoint.com/static-keyword-in-java&gt;\r\n* Data Type: &lt;https://www.javatpoint.com/java-data-types&gt;\r\n* Keywords/Reserved Words: &lt;https://www.javatpoint.com/java-keywords&gt;","title":"How do I make a clip outside of method?","body":"<p>In addition to the more complete answer, having the statement read like</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(play)\n{\n    // Play code\n}\nelse\n{\n    clip.stop();\n}\n</code></pre>\n<p>Instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(play == true)\n{\n    // Play code\n}\nelse if(play == false)\n{\n    clip.stop();\n}\n</code></pre>\n<p>Is much better style.</p>\n<p><strong>EDIT for additional information</strong></p>\n<p>To answer the question's title,</p>\n<blockquote>\n<p>How do I make a clip outside of method?</p>\n</blockquote>\n<p>I believe you are asking how to format a class-level variable. That requires the following:</p>\n<ul>\n<li>access modifier, need -- default(when you type nothing), public, protected, private</li>\n<li>final keyword, optional -- used to restrict the user</li>\n<li>static keyword, optional -- used for memory management</li>\n<li>data type, need -- specify the different sizes and values that can be stored in the variable</li>\n<li>name, need -- how the variable is called or referred to. Cannot be on the list of reserved keywords</li>\n</ul>\n<p>With the same class that you use for this call: <code>Clip clip = AudioSystem.getClip();</code>, you can create an empty class-level variable with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Object objectName; \n</code></pre>\n<p><strong>Links</strong></p>\n<ul>\n<li>Access: <a href=\"https://www.javatpoint.com/access-modifiers\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/access-modifiers</a></li>\n<li>Final: <a href=\"https://www.javatpoint.com/final-keyword\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/final-keyword</a></li>\n<li>Static: <a href=\"https://www.javatpoint.com/static-keyword-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/static-keyword-in-java</a></li>\n<li>Data Type: <a href=\"https://www.javatpoint.com/java-data-types\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-data-types</a></li>\n<li>Keywords/Reserved Words: <a href=\"https://www.javatpoint.com/java-keywords\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-keywords</a></li>\n</ul>\n"}],"owner":{"account_id":25277553,"reputation":13,"user_id":19105920,"display_name":"CatsyTart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72428266,"answer_count":2,"score":1,"last_activity_date":1653974708,"creation_date":1653860160,"question_id":72427441,"body_markdown":"I created a method that either starts or stops music when called, but if I call it more than once, it starts a duplicate clip.  I can&#39;t find out how to make the audio clip variable outside of the variable to prevent this.\r\n\r\n        public static void playSound(boolean play) throws Exception {\r\n\t\tFile sound = new File(&quot;wave.wav&quot;);\r\n\t\tClip clip = AudioSystem.getClip();\r\n\t\tif(play=true) {\r\n\t\t\tAudioInputStream inputStream = AudioSystem.getAudioInputStream(sound);\r\n\t\t\tinputStream = AudioSystem.getAudioInputStream(sound);\r\n\t        clip.open(inputStream);\r\n\t        clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n\t        clip.start();\r\n\t\t} else if (play=false) {\r\n\t\t\tclip.stop();\r\n\t\t}\r\n\t}\r\n\r\n**UPDATE:**\r\nSo after a few hours of trying, I decided to just put the code to start music in the main method, make the clip variable static (so eclipse would let me use it in event) and then used clip.stop() on the event.  Just thought I&#39;d share.","title":"How do I make a clip outside of method?","body":"<p>I created a method that either starts or stops music when called, but if I call it more than once, it starts a duplicate clip.  I can't find out how to make the audio clip variable outside of the variable to prevent this.</p>\n<pre><code>    public static void playSound(boolean play) throws Exception {\n    File sound = new File(&quot;wave.wav&quot;);\n    Clip clip = AudioSystem.getClip();\n    if(play=true) {\n        AudioInputStream inputStream = AudioSystem.getAudioInputStream(sound);\n        inputStream = AudioSystem.getAudioInputStream(sound);\n        clip.open(inputStream);\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n        clip.start();\n    } else if (play=false) {\n        clip.stop();\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong>\nSo after a few hours of trying, I decided to just put the code to start music in the main method, make the clip variable static (so eclipse would let me use it in event) and then used clip.stop() on the event.  Just thought I'd share.</p>\n"},{"tags":["java","libgdx","box2d"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653968179,"post_id":72438366,"comment_id":127973433,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653974685,"creation_date":1653974685,"answer_id":72442608,"question_id":72438366,"body_markdown":"To convert an angle to coordinates (of length 1) you can use this:\r\n\r\n```\r\n// angle needs to be in radians. If it&#39;s in degrees multiply it by Math.PI / 180f\r\nangle = angleDegree * Math.PI / 180f;\r\nx = Math.cos(angle);\r\ny = Math.sin(angle);\r\n```\r\n\r\nThen add these parameters to the `setLinearVelocity` method.","title":"LibGDX Java set velocity at an angle","body":"<p>To convert an angle to coordinates (of length 1) you can use this:</p>\n<pre><code>// angle needs to be in radians. If it's in degrees multiply it by Math.PI / 180f\nangle = angleDegree * Math.PI / 180f;\nx = Math.cos(angle);\ny = Math.sin(angle);\n</code></pre>\n<p>Then add these parameters to the <code>setLinearVelocity</code> method.</p>\n"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72442608,"answer_count":1,"score":-2,"last_activity_date":1653974685,"creation_date":1653933544,"question_id":72438366,"body_markdown":"I have a problem with setting the velocity for a Body object at a certain angle (I want the body to move in a straight line at a given speed at a certain angle). The Body#setLinearVelocity method requires the X and Y directions. I don&#39;t know how to get these values from an angle (form -180 to 180 degrees). I will be grateful for your help!","title":"LibGDX Java set velocity at an angle","body":"<p>I have a problem with setting the velocity for a Body object at a certain angle (I want the body to move in a straight line at a given speed at a certain angle). The Body#setLinearVelocity method requires the X and Y directions. I don't know how to get these values from an angle (form -180 to 180 degrees). I will be grateful for your help!</p>\n"},{"tags":["java","intellij-idea","org.json"],"comments":[{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1591676939,"post_id":62274292,"comment_id":110138363,"body_markdown":"This question have already been answered here\n[See more](https://stackoverflow.com/questions/250166/noclassdeffounderror-while-trying-to-run-my-jar-with-java-exe-jar-whats-wron)","body":"This question have already been answered here <a href=\"https://stackoverflow.com/questions/250166/noclassdeffounderror-while-trying-to-run-my-jar-with-java-exe-jar-whats-wron\">See more</a>"}],"answers":[{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591710284,"creation_date":1591710284,"answer_id":62284126,"question_id":62274292,"body_markdown":"Ensure that you have correctly configured the artifact in **(File -&gt; Project Structure -&gt; Artifacts)** settings. Most likely, you have not specified the libraries that should be added to the class-path in the **Output Layout** tab.\r\n\r\nI can assume that you created an artifact before adding a dependency. Try to remove the current artifact configuration and create a new one. IntelliJ IDEA will prepare a jar file with all necessary dependencies based on [one of the following](https://prnt.sc/swkstl) settings.\r\n\r\nSee the links below to learn how to manage Artifacts in IntelliJ IDEA:\r\n\r\n- [Work with Artifacts](https://www.jetbrains.com/help/idea/working-with-artifacts.html)\r\n\r\n- [Artifacts](https://www.jetbrains.com/help/idea/artifacts.html)","title":"NoClassDefFoundError while executing jar in intellij","body":"<p>Ensure that you have correctly configured the artifact in <strong>(File -> Project Structure -> Artifacts)</strong> settings. Most likely, you have not specified the libraries that should be added to the class-path in the <strong>Output Layout</strong> tab.</p>\n\n<p>I can assume that you created an artifact before adding a dependency. Try to remove the current artifact configuration and create a new one. IntelliJ IDEA will prepare a jar file with all necessary dependencies based on <a href=\"https://prnt.sc/swkstl\" rel=\"nofollow noreferrer\">one of the following</a> settings.</p>\n\n<p>See the links below to learn how to manage Artifacts in IntelliJ IDEA:</p>\n\n<ul>\n<li><p><a href=\"https://www.jetbrains.com/help/idea/working-with-artifacts.html\" rel=\"nofollow noreferrer\">Work with Artifacts</a></p></li>\n<li><p><a href=\"https://www.jetbrains.com/help/idea/artifacts.html\" rel=\"nofollow noreferrer\">Artifacts</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2570323,"reputation":1918,"user_id":2229234,"accept_rate":33,"display_name":"Kamil Janowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591711394,"creation_date":1591711394,"answer_id":62284499,"question_id":62274292,"body_markdown":"i know, it&#39;s not very intuitive, but maven doesn&#39;t actually embed your dependencies into your jar, unless you explicitly ask for it. If you open your jar like a zip (because jar files are essentially zip files with class files in them), you&#39;ll see that the class that you see an error about is actually not there.\r\n\r\nPersonally, rather than using the intellij export (I&#39;m not sure if it just builds the jar the same way maven does), I would use maven directly with `mvn package` command (optionally `mvn package -DskipTests` if you don&#39;t want to execute your unit tests every time you build your jar). `mvn package` will build the jar and put it somewhere int the `./target` directory.\r\n\r\nAnd then, unless you want to specify the path to your jar dependencies in the command line every single time you run your app, you also will want to use the maven&#39;s shade plugin. The shade plugin unzips all the dependencies that you specify in the pom.xml and puts them into your new jar along with the code of your own application: http://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html\r\n\r\nSorry, I know it gets a little bit complicated here, but if you want to have an executable while using maven dependencies, shading is your best option.","title":"NoClassDefFoundError while executing jar in intellij","body":"<p>i know, it's not very intuitive, but maven doesn't actually embed your dependencies into your jar, unless you explicitly ask for it. If you open your jar like a zip (because jar files are essentially zip files with class files in them), you'll see that the class that you see an error about is actually not there.</p>\n\n<p>Personally, rather than using the intellij export (I'm not sure if it just builds the jar the same way maven does), I would use maven directly with <code>mvn package</code> command (optionally <code>mvn package -DskipTests</code> if you don't want to execute your unit tests every time you build your jar). <code>mvn package</code> will build the jar and put it somewhere int the <code>./target</code> directory.</p>\n\n<p>And then, unless you want to specify the path to your jar dependencies in the command line every single time you run your app, you also will want to use the maven's shade plugin. The shade plugin unzips all the dependencies that you specify in the pom.xml and puts them into your new jar along with the code of your own application: <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html</a></p>\n\n<p>Sorry, I know it gets a little bit complicated here, but if you want to have an executable while using maven dependencies, shading is your best option.</p>\n"},{"tags":[],"owner":{"account_id":9639795,"reputation":817,"user_id":7154462,"accept_rate":100,"display_name":"desertSniper87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653974291,"creation_date":1653974291,"answer_id":72442568,"question_id":62274292,"body_markdown":"In my case I had to extract the maven library to output root.\r\n\r\nProject settings(Ctrl + Alt + Shift + S) -&gt; Artificats -&gt; Output Layout -&gt; Move element to output root.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IqjjG.png","title":"NoClassDefFoundError while executing jar in intellij","body":"<p>In my case I had to extract the maven library to output root.</p>\n<p>Project settings(Ctrl + Alt + Shift + S) -&gt; Artificats -&gt; Output Layout -&gt; Move element to output root.</p>\n<p><a href=\"https://i.stack.imgur.com/IqjjG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IqjjG.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7841253,"reputation":4242,"user_id":5927701,"accept_rate":81,"display_name":"data_person"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653974291,"creation_date":1591671520,"question_id":62274292,"body_markdown":"I am trying to execute a jar file, in terminal. \r\n\r\nJar created in intellij:\r\n\r\n    Build -&gt; Build Artifacts -&gt; Clean\r\n    Build -&gt; Build Artifacts -&gt; Build\r\n\r\nExecution cmd:\r\n\r\n    java -jar helloworld.jar\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/simple/JSONObject\r\n            at main.java.com.example.helloworld.sampleclass.mymethod(sampleclass.java:53)\r\n            at main.java.com.example.helloworld.sampleclass.main(sampleclass.java:14)\r\n    Caused by: java.lang.ClassNotFoundException: org.json.simple.JSONObject\r\n        \r\n\r\nI have added the following dependency also.\r\n\r\nPom.xml Dependency:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n       &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n       &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe code executes perfectly when I try to run in intellij, but I am getting this error when I run with the jar. Any suggestions would be great.\r\n\r\n\r\n   \r\n\r\n\r\n","title":"NoClassDefFoundError while executing jar in intellij","body":"<p>I am trying to execute a jar file, in terminal. </p>\n\n<p>Jar created in intellij:</p>\n\n<pre><code>Build -&gt; Build Artifacts -&gt; Clean\nBuild -&gt; Build Artifacts -&gt; Build\n</code></pre>\n\n<p>Execution cmd:</p>\n\n<pre><code>java -jar helloworld.jar\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/json/simple/JSONObject\n        at main.java.com.example.helloworld.sampleclass.mymethod(sampleclass.java:53)\n        at main.java.com.example.helloworld.sampleclass.main(sampleclass.java:14)\nCaused by: java.lang.ClassNotFoundException: org.json.simple.JSONObject\n</code></pre>\n\n<p>I have added the following dependency also.</p>\n\n<p>Pom.xml Dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n   &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n   &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The code executes perfectly when I try to run in intellij, but I am getting this error when I run with the jar. Any suggestions would be great.</p>\n"},{"tags":["java","volatile","unsafe","compare-and-swap"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653974285,"creation_date":1653927812,"answer_id":72437358,"question_id":72435749,"body_markdown":"The semantics for `compareAndSetState()` are still that of a volatile read and write - this is the main reason why `Unsafe.compareAndSwapInt()` exists.\r\n\r\nBut usually the code doesn&#39;t only call `Unsafe.compareAndSwapInt()`. Usually the code reads the current value, calculates a new value and then tries to replace the value it has read with the new value. And this read **also** must be done using volatile read semantics.\r\n\r\nFor example, in [`CountDownLatch.Sync#tryReleaseShared()`](https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/CountDownLatch.java#L176):\r\n\r\n&gt;        protected boolean tryReleaseShared(int releases) {\r\n&gt;            // Decrement count; signal when transition to zero\r\n&gt;            for (;;) {\r\n&gt;                int c = getState();\r\n&gt;                if (c == 0)\r\n&gt;                    return false;\r\n&gt;                int nextc = c-1;\r\n&gt;                if (compareAndSetState(c, nextc))\r\n&gt;                    return nextc == 0;\r\n&gt;            }\r\n&gt;        }\r\n\r\nReading the `state` with `getState()` must use volatile read semantics to make sure it uses the latest value.\r\n\r\nAnd yes, in principle you could refuse to declare a field like `state` as volatile. But then you **must** make sure that every access to that field goes through `compareAndSwapInt()`, `getIntVolatile()` and `putIntVolatile()`. If some maintainer of the code forgets this rules and adds a single direct read of the field your code will break in unexpected ways at the most disadvantageous moment in time - for example while giving a presentation to an important customer.","title":"compareAndSwap a common member ( non-volatile member ) still has memory semantics of volatile read and write","body":"<p>The semantics for <code>compareAndSetState()</code> are still that of a volatile read and write - this is the main reason why <code>Unsafe.compareAndSwapInt()</code> exists.</p>\n<p>But usually the code doesn't only call <code>Unsafe.compareAndSwapInt()</code>. Usually the code reads the current value, calculates a new value and then tries to replace the value it has read with the new value. And this read <strong>also</strong> must be done using volatile read semantics.</p>\n<p>For example, in <a href=\"https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/CountDownLatch.java#L176\" rel=\"nofollow noreferrer\"><code>CountDownLatch.Sync#tryReleaseShared()</code></a>:</p>\n<blockquote>\n<pre><code>   protected boolean tryReleaseShared(int releases) {\n       // Decrement count; signal when transition to zero\n       for (;;) {\n           int c = getState();\n           if (c == 0)\n               return false;\n           int nextc = c-1;\n           if (compareAndSetState(c, nextc))\n               return nextc == 0;\n       }\n   }\n</code></pre>\n</blockquote>\n<p>Reading the <code>state</code> with <code>getState()</code> must use volatile read semantics to make sure it uses the latest value.</p>\n<p>And yes, in principle you could refuse to declare a field like <code>state</code> as volatile. But then you <strong>must</strong> make sure that every access to that field goes through <code>compareAndSwapInt()</code>, <code>getIntVolatile()</code> and <code>putIntVolatile()</code>. If some maintainer of the code forgets this rules and adds a single direct read of the field your code will break in unexpected ways at the most disadvantageous moment in time - for example while giving a presentation to an important customer.</p>\n"}],"owner":{"account_id":18858256,"reputation":5,"user_id":13755704,"display_name":"liuchiself"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72437358,"answer_count":1,"score":0,"last_activity_date":1653974285,"creation_date":1653919992,"question_id":72435749,"body_markdown":"When i read ```AbstractQueuedSynchronizer``` in jdk1.8, i see the comment that ```compareAndSetState``` method  has memory semantics of a volatile read and write .\r\n\r\nThe comment and code are as follows:\r\n\r\n    /**\r\n     * Atomically sets synchronization state to the given updated\r\n     * value if the current state value equals the expected value.\r\n     * This operation has memory semantics of a {@code volatile} read\r\n     * and write.\r\n     */\r\n    protected final boolean compareAndSetState(int expect, int update) {\r\n        return unsafe.compareAndSwapInt(this, stateOffset, expect, update);\r\n    }\r\n\r\nIn AbstractQueuedSynchronizer class, the ```stateOffset``` is a volatile member called ```state```\r\n\r\nJust wonder what memory semantics is if ```state``` is  a non-volatile member .. ","title":"compareAndSwap a common member ( non-volatile member ) still has memory semantics of volatile read and write","body":"<p>When i read <code>AbstractQueuedSynchronizer</code> in jdk1.8, i see the comment that <code>compareAndSetState</code> method  has memory semantics of a volatile read and write .</p>\n<p>The comment and code are as follows:</p>\n<pre><code>/**\n * Atomically sets synchronization state to the given updated\n * value if the current state value equals the expected value.\n * This operation has memory semantics of a {@code volatile} read\n * and write.\n */\nprotected final boolean compareAndSetState(int expect, int update) {\n    return unsafe.compareAndSwapInt(this, stateOffset, expect, update);\n}\n</code></pre>\n<p>In AbstractQueuedSynchronizer class, the <code>stateOffset</code> is a volatile member called <code>state</code></p>\n<p>Just wonder what memory semantics is if <code>state</code> is  a non-volatile member ..</p>\n"},{"tags":["java","loops","class","random"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1653969224,"post_id":72442061,"comment_id":127973587,"body_markdown":"Please provide a [mre]. Also, review your notes on what a getter method should look like.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, review your notes on what a getter method should look like."}],"answers":[{"tags":[],"owner":{"account_id":20730052,"reputation":159,"user_id":15222277,"display_name":"Gimhan Ranasinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653970307,"creation_date":1653969988,"answer_id":72442169,"question_id":72442061,"body_markdown":"Main problem is, you have implemented setters with the name of getters. \r\n\r\nGetter are the methods with which we return a value. Setter are use to set values to variables.\r\n\r\nAccording to your getters, you have to provide an integer to the method and it will be assign to the die1 or die2 variable. It is the task of a setter. \r\n\r\nFollowing getter will help you to return the value.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public int getDice1() {\r\n            return this.die1;\r\n    }\r\n\r\n    public int getDice2() {\r\n            return this.die2;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nIf you want to see the output, I have modify your code below. Please run it on your text editor (not here) and see.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.util.Random;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n    \t    Game game = new Game();\r\n    \t    game.roll();\r\n            System.out.println(game.getDice1());\r\n            System.out.println(game.getDice2());\r\n            System.out.println(game.getTotal());\r\n\r\n        }\r\n\r\n    }\r\n\r\n    class Game{\r\n        Random rd = new Random();\r\n        int die1;\r\n        int die2;\r\n\r\n        public void roll () {\r\n            this.die1 = 1 + rd.nextInt(6);\r\n            this.die2 = 1 + rd.nextInt(6);\r\n        }\r\n\r\n        public int getTotal() {\r\n            int sum = die1 + die2;\r\n            return sum;\r\n        }\r\n\r\n        public int getDice1() {\r\n            return this.die1;\r\n        }\r\n\r\n        public int getDice2() {\r\n            return this.die2;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nHope this will help you.","title":"Making a 1-6 random number class Java","body":"<p>Main problem is, you have implemented setters with the name of getters.</p>\n<p>Getter are the methods with which we return a value. Setter are use to set values to variables.</p>\n<p>According to your getters, you have to provide an integer to the method and it will be assign to the die1 or die2 variable. It is the task of a setter.</p>\n<p>Following getter will help you to return the value.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public int getDice1() {\n        return this.die1;\n}\n\npublic int getDice2() {\n        return this.die2;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If you want to see the output, I have modify your code below. Please run it on your text editor (not here) and see.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import java.util.Random;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Game game = new Game();\n        game.roll();\n        System.out.println(game.getDice1());\n        System.out.println(game.getDice2());\n        System.out.println(game.getTotal());\n\n    }\n\n}\n\nclass Game{\n    Random rd = new Random();\n    int die1;\n    int die2;\n\n    public void roll () {\n        this.die1 = 1 + rd.nextInt(6);\n        this.die2 = 1 + rd.nextInt(6);\n    }\n\n    public int getTotal() {\n        int sum = die1 + die2;\n        return sum;\n    }\n\n    public int getDice1() {\n        return this.die1;\n    }\n\n    public int getDice2() {\n        return this.die2;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Hope this will help you.</p>\n"}],"owner":{"account_id":25300240,"reputation":31,"user_id":19124593,"display_name":"user19124593"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653973860,"creation_date":1653968908,"question_id":72442061,"body_markdown":"for some reason when i call on this class it doesn&#39;t return me anything.\r\nclass will need two instance properties, die1 and die2, which will be used to store the value of each die(1-6).\r\n\r\n\r\n    //define class variables here\r\n    Random rd = new Random();\r\n    int die1;\r\n    int die2;\r\n    //define class methods here\r\n\r\nmethod requires no arguments. When called, the method will generate random numbers between 1-6 and assign them to die1 and die2. A different random number will be generated for each die. The return type should be void.\r\n\r\n```\r\npublic void roll () {\r\n    this.die1 = 1 + rd.nextInt(6);\r\n    this.die2 = 1 + rd.nextInt(6);\r\n}\r\n```\r\n\r\nmethod will return the sum of both die values as an integer when called. This should be a number between 2 and 12.\r\n\r\n```\r\npublic int getTotal() {\r\n\r\n    int sum = die1 + die2;\r\n\r\n    return sum;\r\n}\r\n```\r\n\r\nGetter method that returns the value of the first die.\r\n\r\n```\r\npublic int getDice1(int dice1) {\r\n\r\n    this.die1 = dice1;\r\n\r\n    return this.die1;\r\n}\r\n```\r\n\r\nGetter method that returns the value of the second die.\r\n\r\n```\r\npublic int getDice2(int dice2) {\r\n\r\n    this.die2 = dice2;\r\n    return this.die2;\r\n    }\r\n\r\n}\r\n```","title":"Making a 1-6 random number class Java","body":"<p>for some reason when i call on this class it doesn't return me anything.\nclass will need two instance properties, die1 and die2, which will be used to store the value of each die(1-6).</p>\n<pre><code>//define class variables here\nRandom rd = new Random();\nint die1;\nint die2;\n//define class methods here\n</code></pre>\n<p>method requires no arguments. When called, the method will generate random numbers between 1-6 and assign them to die1 and die2. A different random number will be generated for each die. The return type should be void.</p>\n<pre><code>public void roll () {\n    this.die1 = 1 + rd.nextInt(6);\n    this.die2 = 1 + rd.nextInt(6);\n}\n</code></pre>\n<p>method will return the sum of both die values as an integer when called. This should be a number between 2 and 12.</p>\n<pre><code>public int getTotal() {\n\n    int sum = die1 + die2;\n\n    return sum;\n}\n</code></pre>\n<p>Getter method that returns the value of the first die.</p>\n<pre><code>public int getDice1(int dice1) {\n\n    this.die1 = dice1;\n\n    return this.die1;\n}\n</code></pre>\n<p>Getter method that returns the value of the second die.</p>\n<pre><code>public int getDice2(int dice2) {\n\n    this.die2 = dice2;\n    return this.die2;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","date"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1653949790,"post_id":72440435,"comment_id":127971034,"body_markdown":"Sounds like a problem associated with having a date with the &quot;day of month&quot; being a value too big for February.  One of many, many reasons to never use `java.util.Date`.","body":"Sounds like a problem associated with having a date with the &quot;day of month&quot; being a value too big for February.  One of many, many reasons to never use <code>java.util.Date</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653973116,"post_id":72440435,"comment_id":127974209,"body_markdown":"What is wrong is first that [you are still using `Date`](https://programminghints.com/2017/05/still-using-java-util-date-dont/) in 2022. And what is still more wrong is that you are implicitly using its `getMonth` and `setMonth` methods that were deprecated 25 years ago because they work unreliably across time zones. Use `YearMonth` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"What is wrong is first that <a href=\"https://programminghints.com/2017/05/still-using-java-util-date-dont/\" rel=\"nofollow noreferrer\">you are still using <code>Date</code></a> in 2022. And what is still more wrong is that you are implicitly using its <code>getMonth</code> and <code>setMonth</code> methods that were deprecated 25 years ago because they work unreliably across time zones. Use <code>YearMonth</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653973835,"post_id":72440435,"comment_id":127974343,"body_markdown":"We dont need the real explanation since we should under no circumstances use `Date`, so only out of theoretical curiosity: @LouisWasserman is right. You subtract months from May 30 to get April 30, then March 30, then February 30. February 30? Since there were only 28 days in February this year, `Date` regards this as equal to March 2. Therefore you get March a second time. (Next you get February 2, January 2 and so forth.) I repeat: Dont use `Date`.","body":"We dont need the real explanation since we should under no circumstances use <code>Date</code>, so only out of theoretical curiosity: @LouisWasserman is right. You subtract months from May 30 to get April 30, then March 30, then February 30. February 30? Since there were only 28 days in February this year, <code>Date</code> regards this as equal to March 2. Therefore you get March a second time. (Next you get February 2, January 2 and so forth.) I repeat: Dont use <code>Date</code>."}],"answers":[{"tags":[],"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653949863,"creation_date":1653949863,"answer_id":72440598,"question_id":72440435,"body_markdown":"I think this should do what you are looking for.\n\n    val monthsArray = (0..11).map { LocalDateTime.now().minusMonths(it.toLong()).format(DateTimeFormatter.ofPattern(&quot;MMMM yyyy&quot;)) }","title":"Calculating previous months from Date() duplicates a month","body":"<p>I think this should do what you are looking for.</p>\n<pre><code>val monthsArray = (0..11).map { LocalDateTime.now().minusMonths(it.toLong()).format(DateTimeFormatter.ofPattern(&quot;MMMM yyyy&quot;)) }\n</code></pre>\n"}],"owner":{"account_id":3655545,"reputation":4052,"user_id":3046669,"accept_rate":37,"display_name":"BRDroid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72440598,"answer_count":1,"score":0,"last_activity_date":1653973213,"creation_date":1653948189,"question_id":72440435,"body_markdown":"I am trying to 12 previous months from today, but it displays \r\n\r\nDate to start with - Mon May 30 22:57:30 GMT+01:00 2022\r\n\r\nMonths displayed are - these are the values in the `monthsArray`, Month March 2022 is displayed twice\r\n\r\n```\r\nApril 2022\r\nMarch 2022 (DISPLAYED TWICE)\r\nMarch 2022 (DISPLAYED TWICE)\r\nFebruary 2022\r\nJanuary 2022\r\nDecember 2021\r\nNovember 2021\r\nOctober 2021\r\nSeptember 2021\r\nAugust 2021\r\nJuly 2021\r\nJune 2021\r\n```\r\n\r\nThis is the logic to display months\r\n\r\n        val monthsArray: ArrayList&lt;String&gt; = ArrayList()\r\n        val date = Date()\r\n        var i = 1\r\n        while (i &lt;= 12) {\r\n            date.month = date.month - 1\r\n            monthsArray.add(readableSpinnerItemDate(date.time))\r\n            i++\r\n        }\r\n\r\nCould you please suggest what might be wrong here please\r\n","title":"Calculating previous months from Date() duplicates a month","body":"<p>I am trying to 12 previous months from today, but it displays</p>\n<p>Date to start with - Mon May 30 22:57:30 GMT+01:00 2022</p>\n<p>Months displayed are - these are the values in the <code>monthsArray</code>, Month March 2022 is displayed twice</p>\n<pre><code>April 2022\nMarch 2022 (DISPLAYED TWICE)\nMarch 2022 (DISPLAYED TWICE)\nFebruary 2022\nJanuary 2022\nDecember 2021\nNovember 2021\nOctober 2021\nSeptember 2021\nAugust 2021\nJuly 2021\nJune 2021\n</code></pre>\n<p>This is the logic to display months</p>\n<pre><code>    val monthsArray: ArrayList&lt;String&gt; = ArrayList()\n    val date = Date()\n    var i = 1\n    while (i &lt;= 12) {\n        date.month = date.month - 1\n        monthsArray.add(readableSpinnerItemDate(date.time))\n        i++\n    }\n</code></pre>\n<p>Could you please suggest what might be wrong here please</p>\n"},{"tags":["java","gradle","include","shadow","minimize"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653972984,"creation_date":1653972984,"answer_id":72442449,"question_id":72441778,"body_markdown":"there are no default options to include partial set of classes from a jar (dependency).\r\n\r\nThe 2 options you have are \r\n\r\n 1. if this is a &#39;rarely&#39; changing set of classes\r\n    manually create a custom jar with the classes you need, save it local to project or in nexus and use it in the include\r\n\r\n 2. if this is a &#39;often&#39; changing set of classes\r\n    create a task, before jar and after classes, to extract the classes you need in to the build/../classes folder \r\n","title":"Gradle shadow: how to include some package","body":"<p>there are no default options to include partial set of classes from a jar (dependency).</p>\n<p>The 2 options you have are</p>\n<ol>\n<li><p>if this is a 'rarely' changing set of classes\nmanually create a custom jar with the classes you need, save it local to project or in nexus and use it in the include</p>\n</li>\n<li><p>if this is a 'often' changing set of classes\ncreate a task, before jar and after classes, to extract the classes you need in to the build/../classes folder</p>\n</li>\n</ol>\n"}],"owner":{"account_id":19406292,"reputation":55,"user_id":14191678,"display_name":"Jin Tang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72442449,"answer_count":1,"score":0,"last_activity_date":1653972984,"creation_date":1653965421,"question_id":72441778,"body_markdown":"I have this dependency, I want to include this in the jar without minimizing it.\r\n[![enter image description here][1]][1]\r\n\r\nBut that will exclude some important classes.\r\nSo I tried to use include dependency.\r\n[![enter image description here][2]][2]\r\n\r\nBut that will include all the classes.\r\n\r\nHow can I use the custom filter with code?\r\n\r\nOr include special packages of dependency in the jar.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/stjSV.png\r\n  [2]: https://i.stack.imgur.com/7CskP.png","title":"Gradle shadow: how to include some package","body":"<p>I have this dependency, I want to include this in the jar without minimizing it.\n<a href=\"https://i.stack.imgur.com/stjSV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stjSV.png\" alt=\"enter image description here\" /></a></p>\n<p>But that will exclude some important classes.\nSo I tried to use include dependency.\n<a href=\"https://i.stack.imgur.com/7CskP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7CskP.png\" alt=\"enter image description here\" /></a></p>\n<p>But that will include all the classes.</p>\n<p>How can I use the custom filter with code?</p>\n<p>Or include special packages of dependency in the jar.</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath"],"answers":[{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653970241,"creation_date":1653969889,"answer_id":72442155,"question_id":72442070,"body_markdown":"Why not use element numbers?\r\n\r\n    //table/tbody/tr[1]//a[text()=&#39;Accra&#39;]/..//following-sibling::td[1]\r\n    //table/tbody/tr[1]//a[text()=&#39;Casablanca&#39;]/..//following-sibling::td[1]\r\n    //table/tbody/tr[4]//a[text()=&#39;Dallas&#39;]/..//following-sibling::td[1]\r\n    ...\r\n\r\nUsing `class` property is not suitable in your case. You just should use `1` for first element.","title":"Web Table Scrapping: Find adjacent cell value from web table","body":"<p>Why not use element numbers?</p>\n<pre><code>//table/tbody/tr[1]//a[text()='Accra']/..//following-sibling::td[1]\n//table/tbody/tr[1]//a[text()='Casablanca']/..//following-sibling::td[1]\n//table/tbody/tr[4]//a[text()='Dallas']/..//following-sibling::td[1]\n...\n</code></pre>\n<p>Using <code>class</code> property is not suitable in your case. You just should use <code>1</code> for first element.</p>\n"}],"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653970241,"creation_date":1653969051,"question_id":72442070,"body_markdown":"On this website https://www.timeanddate.com/worldclock/, I am able to find the name of the city using this XPath `//table/tbody/tr[1]//a[text()=&#39;Accra&#39;]` keeping this XPath as pivot/reference I want to find out its time. So I tried this XPath `//table/tbody/tr[1]//a[text()=&#39;Accra&#39;]/../following::td[@class=&#39;rbi&#39;]` but it is giving XPath of other elements.\r\n\r\nWhat am I doing wrong? How can I get a unique Xpath of Time in reference to the city name?\r\nSo that I can parametrize the XPath with row number and city name only.","title":"Web Table Scrapping: Find adjacent cell value from web table","body":"<p>On this website <a href=\"https://www.timeanddate.com/worldclock/\" rel=\"nofollow noreferrer\">https://www.timeanddate.com/worldclock/</a>, I am able to find the name of the city using this XPath <code>//table/tbody/tr[1]//a[text()='Accra']</code> keeping this XPath as pivot/reference I want to find out its time. So I tried this XPath <code>//table/tbody/tr[1]//a[text()='Accra']/../following::td[@class='rbi']</code> but it is giving XPath of other elements.</p>\n<p>What am I doing wrong? How can I get a unique Xpath of Time in reference to the city name?\nSo that I can parametrize the XPath with row number and city name only.</p>\n"},{"tags":["java","sql","jpa","many-to-many"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1653870201,"post_id":72428102,"comment_id":127949900,"body_markdown":"See example: https://stackoverflow.com/questions/72162260/query-many-to-many-jpa/72163101#72163101","body":"See example: <a href=\"https://stackoverflow.com/questions/72162260/query-many-to-many-jpa/72163101#72163101\" title=\"query many to many jpa\">stackoverflow.com/questions/72162260/query-many-to-many-jpa/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":18903402,"reputation":11,"user_id":13791006,"display_name":"madlife"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653969375,"creation_date":1653869243,"question_id":72428102,"body_markdown":"I am wondering how to fetch the data from many to many relationship table that was autogenerated with JPA?\r\n\r\n[Database design][1]\r\n\r\nI wrote some query code that gives me exactly the data I would like to fetch. Although I am not sure how to translate it to the JPA: \r\n\r\n    SELECT id, first_name, last_name, phone_number, shift_id FROM \r\n    FROM users\r\n    RIGHT JOIN employees_enrolled\r\n    ON users.id = employees_enrolled.employee_id\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eSCfh.png\r\n\r\nEmployee extends User.\r\n\r\nUser model: \r\n\r\n        @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @Table(name = &quot;users&quot;)\r\n    public class User implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;username&quot;, nullable = false)\r\n        private String username;\r\n    \r\n        @Column(name = &quot;password&quot;, nullable = false)\r\n        private String password;\r\n    \r\n        @Column(name = &quot;first_name&quot;, nullable = false)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;, nullable = false)\r\n        private String lastName;\r\n\r\n\r\nEmployee model:\r\n\r\n    @Entity(name = &quot;employee&quot;)\r\n    public class Employee extends User implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 6529685098267757690L;\r\n    \r\n        @JsonIgnore\r\n        @ManyToMany(mappedBy = &quot;enrolledEmployees&quot;)\r\n        private List&lt;Shift&gt; shifts = new ArrayList&lt;&gt;();\r\n    \r\n        @Column(name = &quot;address&quot;, nullable = false)\r\n        private String address;\r\n    \r\n        @Column(name = &quot;hours&quot;, nullable = false)\r\n        private double hours;\r\n    \r\n    \r\n        public Employee() {}\r\n    \r\n        public Employee(long id)\r\n        {\r\n            super(id);\r\n        }\r\n    \r\n        public Employee(long id, String username, String password, String firstName, String lastName,\r\n                        String email, String phoneNumber, String authLevel, String address, double hours) {\r\n            super(id, username, password, firstName, lastName, email, phoneNumber, authLevel);\r\n            this.address = address;\r\n            this.hours = hours;\r\n        }\r\n\r\n Shift model: \r\n\r\n   \r\n\r\n     @Entity\r\n        @Table(name = &quot;shift&quot;)\r\n        public class Shift implements Serializable {\r\n        \r\n            private static final long serialVersionUID = -7065683873804696266L;\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.AUTO)\r\n            private Long id;\r\n        \r\n            @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n            @JoinTable(\r\n            name = &quot;employees_enrolled&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;shift_id&quot;, referencedColumnName = &quot;id&quot;, \r\n            insertable = false, updatable = false)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;employee_id&quot;, \r\n            referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)})\r\n            private List&lt;Employee&gt; enrolledEmployees = new ArrayList&lt;&gt;();\r\n        \r\n        \r\n            private Long employee_id; \r\n        \r\n            @Column(name = &quot;description&quot;, nullable = false)\r\n            private String description;\r\n        \r\n            @Column(name = &quot;address&quot;, nullable = false)\r\n            private String address;\r\n\r\n","title":"How to fetch data from &quot;Many to many&quot; relationship table? JPA +SPRINGBOOT","body":"<p>I am wondering how to fetch the data from many to many relationship table that was autogenerated with JPA?</p>\n<p><a href=\"https://i.stack.imgur.com/eSCfh.png\" rel=\"nofollow noreferrer\">Database design</a></p>\n<p>I wrote some query code that gives me exactly the data I would like to fetch. Although I am not sure how to translate it to the JPA:</p>\n<pre><code>SELECT id, first_name, last_name, phone_number, shift_id FROM \nFROM users\nRIGHT JOIN employees_enrolled\nON users.id = employees_enrolled.employee_id\n</code></pre>\n<p>Employee extends User.</p>\n<p>User model:</p>\n<pre><code>    @Entity\n@Inheritance(strategy = InheritanceType.JOINED)\n@Table(name = &quot;users&quot;)\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @Column(name = &quot;username&quot;, nullable = false)\n    private String username;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;, nullable = false)\n    private String lastName;\n</code></pre>\n<p>Employee model:</p>\n<pre><code>@Entity(name = &quot;employee&quot;)\npublic class Employee extends User implements Serializable {\n\n    private static final long serialVersionUID = 6529685098267757690L;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;enrolledEmployees&quot;)\n    private List&lt;Shift&gt; shifts = new ArrayList&lt;&gt;();\n\n    @Column(name = &quot;address&quot;, nullable = false)\n    private String address;\n\n    @Column(name = &quot;hours&quot;, nullable = false)\n    private double hours;\n\n\n    public Employee() {}\n\n    public Employee(long id)\n    {\n        super(id);\n    }\n\n    public Employee(long id, String username, String password, String firstName, String lastName,\n                    String email, String phoneNumber, String authLevel, String address, double hours) {\n        super(id, username, password, firstName, lastName, email, phoneNumber, authLevel);\n        this.address = address;\n        this.hours = hours;\n    }\n</code></pre>\n<p>Shift model:</p>\n<pre><code> @Entity\n    @Table(name = &quot;shift&quot;)\n    public class Shift implements Serializable {\n    \n        private static final long serialVersionUID = -7065683873804696266L;\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        private Long id;\n    \n        @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n        @JoinTable(\n        name = &quot;employees_enrolled&quot;,\n        joinColumns = {@JoinColumn(name = &quot;shift_id&quot;, referencedColumnName = &quot;id&quot;, \n        insertable = false, updatable = false)},\n        inverseJoinColumns = {@JoinColumn(name = &quot;employee_id&quot;, \n        referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)})\n        private List&lt;Employee&gt; enrolledEmployees = new ArrayList&lt;&gt;();\n    \n    \n        private Long employee_id; \n    \n        @Column(name = &quot;description&quot;, nullable = false)\n        private String description;\n    \n        @Column(name = &quot;address&quot;, nullable = false)\n        private String address;\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1653154081,"post_id":72331758,"comment_id":127784083,"body_markdown":"All concrete instances of [`Shape`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/shape/Shape.html) have `getFill()`.","body":"All concrete instances of <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/shape/Shape.html\" rel=\"nofollow noreferrer\"><code>Shape</code></a> have <code>getFill()</code>."},{"owner":{"account_id":23676693,"reputation":151,"user_id":17702849,"display_name":"dave25"},"score":0,"creation_date":1653154176,"post_id":72331758,"comment_id":127784099,"body_markdown":"Thank. Sorry for dummy question.","body":"Thank. Sorry for dummy question."}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653968239,"creation_date":1653156635,"answer_id":72332117,"question_id":72331758,"body_markdown":"**get shape color with mouse event**\r\n\r\n[![color shape][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jM0rO.gif\r\n\r\nyou can get it with `getFill()` and change it with `setFill()`  method and provide a concrete Paint object as argument.\r\nthis is a single class javafx app you can try .\r\nmouse event will print getFill as string \r\nApp.java\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Paint defaultColor = Color.AQUA;\r\n            Paint clickColor = Color.YELLOWGREEN;\r\n    \r\n            Circle circle = new Circle(50, clickColor);\r\n            circle.setOnMouseClicked(e -&gt; {\r\n                if (circle.getFill().equals(defaultColor)) {\r\n                    circle.setFill(clickColor);\r\n                }else{\r\n                circle.setFill(defaultColor);}\r\n            System.out.println(circle.getFill().toString());\r\n    \r\n            });\r\n    \r\n            Scene scene = new Scene(new StackPane(circle), 200, 200);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;changing fill color&quot;);\r\n            stage.show();\r\n    \r\n        }\r\n    }\r\n    \r\n     ","title":"Is there a function to get a circle object color in javafx?","body":"<p><strong>get shape color with mouse event</strong></p>\n<p><a href=\"https://i.stack.imgur.com/jM0rO.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jM0rO.gif\" alt=\"color shape\" /></a></p>\n<p>you can get it with <code>getFill()</code> and change it with <code>setFill()</code>  method and provide a concrete Paint object as argument.\nthis is a single class javafx app you can try .\nmouse event will print getFill as string\nApp.java</p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        Paint defaultColor = Color.AQUA;\n        Paint clickColor = Color.YELLOWGREEN;\n\n        Circle circle = new Circle(50, clickColor);\n        circle.setOnMouseClicked(e -&gt; {\n            if (circle.getFill().equals(defaultColor)) {\n                circle.setFill(clickColor);\n            }else{\n            circle.setFill(defaultColor);}\n        System.out.println(circle.getFill().toString());\n\n        });\n\n        Scene scene = new Scene(new StackPane(circle), 200, 200);\n        stage.setScene(scene);\n        stage.setTitle(&quot;changing fill color&quot;);\n        stage.show();\n\n    }\n}\n\n \n</code></pre>\n"}],"owner":{"account_id":23676693,"reputation":151,"user_id":17702849,"display_name":"dave25"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72332117,"answer_count":1,"score":-1,"last_activity_date":1653968239,"creation_date":1653153507,"question_id":72331758,"body_markdown":"I am working with circle objects in a gridpane and I have to check to color of the circle object by clicking it. For example if it&#39;s blue, do some stuff, if it&#39;s red, do other stuffs.","title":"Is there a function to get a circle object color in javafx?","body":"<p>I am working with circle objects in a gridpane and I have to check to color of the circle object by clicking it. For example if it's blue, do some stuff, if it's red, do other stuffs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1653967152,"post_id":72441860,"comment_id":127973296,"body_markdown":"Error #1: `arrayFill.makeArray();` this line should&#39;ve been used to capture the array returned by the `makeArray` method. You completely ignored the returned array. Error #2: You never called `changeArray` method. When you do, make sure you don&#39;t ignore the returned array like you did with `makeArray`.","body":"Error #1: <code>arrayFill.makeArray();</code> this line should&#39;ve been used to capture the array returned by the <code>makeArray</code> method. You completely ignored the returned array. Error #2: You never called <code>changeArray</code> method. When you do, make sure you don&#39;t ignore the returned array like you did with <code>makeArray</code>."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653966805,"creation_date":1653966805,"answer_id":72441884,"question_id":72441860,"body_markdown":"You could save the array with a local variable reference. Don&#39;t call `makeArray` twice. There&#39;s no need. Simply declare a local reference and assign it. Then pass that reference to the second method.\r\n\r\n    ArrayFill arrayFill = new ArrayFill();\r\n    int[] array = arrayFill.makeArray();\r\n    array = arrayFill.changeArray(array); // OR,\r\n    // arrayFill.changeArray(array); // It&#39;s the same array.\r\n    for(int value : array){\r\n        System.out.println(value);\r\n    }\r\n\r\nAlso, in `changeArray` you don&#39;t need to copy the array.\r\n\r\n    public int[] changeArray(int[] array){\r\n        array[1] = 6;\r\n        array[3] += 2;\r\n        return array;\r\n    }\r\n\r\n","title":"How to change an array in a different method?","body":"<p>You could save the array with a local variable reference. Don't call <code>makeArray</code> twice. There's no need. Simply declare a local reference and assign it. Then pass that reference to the second method.</p>\n<pre><code>ArrayFill arrayFill = new ArrayFill();\nint[] array = arrayFill.makeArray();\narray = arrayFill.changeArray(array); // OR,\n// arrayFill.changeArray(array); // It's the same array.\nfor(int value : array){\n    System.out.println(value);\n}\n</code></pre>\n<p>Also, in <code>changeArray</code> you don't need to copy the array.</p>\n<pre><code>public int[] changeArray(int[] array){\n    array[1] = 6;\n    array[3] += 2;\n    return array;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653967500,"creation_date":1653967169,"answer_id":72441919,"question_id":72441860,"body_markdown":"Consider saving the output of your `makeArray` and `changeArray` into a couple of variables and utilizing `clone` if you do not want `changeArray` to modify the passed-in array (assuming that is the case since you are making a copy):\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class ArrayFillApp {\r\n        public static void main(String[] args) {\r\n            ArrayFill arrayFill = new ArrayFill();\r\n            int[] originalArray = arrayFill.makeArray();\r\n            int[] changedArray = arrayFill.changeArray(originalArray);\r\n            System.out.printf(&quot;originalArray: %s%n&quot;, Arrays.toString(originalArray));\r\n            System.out.printf(&quot;changedArray: %s%n&quot;, Arrays.toString(changedArray));\r\n        }\r\n    }\r\n    \r\n    public class ArrayFill {\r\n        public int[] makeArray() {\r\n            return new int[]{6, 13, 34, -10, 15};\r\n        }\r\n    \r\n        public int[] changeArray(int[] array) {\r\n            int[] arrayCopy = array.clone();\r\n            arrayCopy[1] = 6;\r\n            arrayCopy[3] += 2;\r\n            return arrayCopy;\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    originalArray: [6, 13, 34, -10, 15]\r\n    changedArray: [6, 6, 34, -8, 15]\r\n\r\n","title":"How to change an array in a different method?","body":"<p>Consider saving the output of your <code>makeArray</code> and <code>changeArray</code> into a couple of variables and utilizing <code>clone</code> if you do not want <code>changeArray</code> to modify the passed-in array (assuming that is the case since you are making a copy):</p>\n<pre><code>import java.util.Arrays;\n\npublic class ArrayFillApp {\n    public static void main(String[] args) {\n        ArrayFill arrayFill = new ArrayFill();\n        int[] originalArray = arrayFill.makeArray();\n        int[] changedArray = arrayFill.changeArray(originalArray);\n        System.out.printf(&quot;originalArray: %s%n&quot;, Arrays.toString(originalArray));\n        System.out.printf(&quot;changedArray: %s%n&quot;, Arrays.toString(changedArray));\n    }\n}\n\npublic class ArrayFill {\n    public int[] makeArray() {\n        return new int[]{6, 13, 34, -10, 15};\n    }\n\n    public int[] changeArray(int[] array) {\n        int[] arrayCopy = array.clone();\n        arrayCopy[1] = 6;\n        arrayCopy[3] += 2;\n        return arrayCopy;\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>originalArray: [6, 13, 34, -10, 15]\nchangedArray: [6, 6, 34, -8, 15]\n</code></pre>\n"}],"owner":{"account_id":24798302,"reputation":51,"user_id":18680879,"display_name":"SmugSnail"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72441919,"answer_count":2,"score":1,"last_activity_date":1653967500,"creation_date":1653966535,"question_id":72441860,"body_markdown":"I wanted to have a method that makes an array and a method that changes the array (the 13 into a 6 and add 2 on the fourth item) and then catch both the changed and unchanged arrays in variables, but I can&#39;t seem to call the changed array in the main, without there being an error\r\n```java\r\npublic class ArrayFillApp {\r\n\r\n    public static void main(String[] args) {\r\n        ArrayFill arrayFill = new ArrayFill();\r\n        arrayFill.makeArray();\r\n        for(int value: arrayFill.makeArray()){\r\n            System.out.println(value);\r\n        }\r\n    }\r\n}\r\n```\r\n---------------\r\n```java\r\npublic class ArrayFill {\r\n\r\n    public int[] makeArray(){\r\n        int[] array = {\r\n            6, 13, 34, -10, 15\r\n        };\r\n        return array;\r\n    }\r\n\r\n    public int[] changeArray(int[] array){\r\n        array[1] = 6;\r\n        array[3] = array[3] + 2;\r\n        int[] arrayCopy = new int[array.length];\r\n        for (int value: array) {\r\n            array[value] = arrayCopy[value];\r\n        }\r\n        return arrayCopy;\r\n    }\r\n}\r\n```","title":"How to change an array in a different method?","body":"<p>I wanted to have a method that makes an array and a method that changes the array (the 13 into a 6 and add 2 on the fourth item) and then catch both the changed and unchanged arrays in variables, but I can't seem to call the changed array in the main, without there being an error</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayFillApp {\n\n    public static void main(String[] args) {\n        ArrayFill arrayFill = new ArrayFill();\n        arrayFill.makeArray();\n        for(int value: arrayFill.makeArray()){\n            System.out.println(value);\n        }\n    }\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayFill {\n\n    public int[] makeArray(){\n        int[] array = {\n            6, 13, 34, -10, 15\n        };\n        return array;\n    }\n\n    public int[] changeArray(int[] array){\n        array[1] = 6;\n        array[3] = array[3] + 2;\n        int[] arrayCopy = new int[array.length];\n        for (int value: array) {\n            array[value] = arrayCopy[value];\n        }\n        return arrayCopy;\n    }\n}\n</code></pre>\n"},{"tags":["java","httpserver","com.sun.net.httpserver"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1653966116,"post_id":72441419,"comment_id":127973144,"body_markdown":"What exactly do you mean by &quot;not working&quot;? What happens when you run the code and what did you expect to happen instead? Any errors? Please see [ask].","body":"What exactly do you mean by &quot;not working&quot;? What happens when you run the code and what did you expect to happen instead? Any errors? Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":25431811,"reputation":1,"user_id":19236083,"display_name":"Anwarul Islam Anik"},"score":0,"creation_date":1653970334,"post_id":72441419,"comment_id":127973739,"body_markdown":"its output -&gt; localhost&#160;didnt send any data.","body":"its output -&gt; localhost didnt send any data."}],"owner":{"account_id":25431811,"reputation":1,"user_id":19236083,"display_name":"Anwarul Islam Anik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653966163,"creation_date":1653961161,"question_id":72441419,"body_markdown":"How to make HttpServer app &quot;com.sun.net.httpserver&quot; with android studio?\r\n\r\nI want make HttpServer that it will run from internal storage text file like-\r\n&quot;/storage/emulated/0/htdocs/index.html&quot;\r\n\r\nI am trying but not working!\r\n\r\n```\r\npublic void handle(HttpExchange t) throws IOException {\r\n\t// .. read the request body\r\n\tString path =&quot;/storage/emulated/0/htdocs&quot; + t.getRequestURI();\r\n\tString plain_text =&quot;&quot;;\r\n\tFile file = new File(path);\r\n\t\r\n\tif(file.isDirectory()){\r\n\t\tpath = path +&quot;index.html&quot;;\r\n\t}\r\n\tString mime = MimeTypeMap.getFileExtensionFromUrl(path);\r\n    mime = MimeTypeMap.getSingleton().getMimeTypeFromExtension(mime);\r\n\r\nif(mime.contains(&quot;text&quot;)){\r\n\tScanner sc = new Scanner(file);\r\n\t\r\n\twhile(sc.hasNextLine()){\r\n\t\tplain_text = plain_text + sc.nextLine();\r\n\t}\r\n\tif(plain_text.equals(&quot;&quot;)){\r\n\t\tplain_text = &quot;Its no text file!&quot;;\r\n\t}\r\n\tt.sendResponseHeaders(200, plain_text.length());\r\n\tOutputStream os = t.getResponseBody();\r\n\t\r\n\tos.close();\r\n\t}\r\n}\r\n}\r\n``` ","title":"How to make HttpServer app &quot;com.sun.net.httpserver&quot; with android studio?","body":"<p>How to make HttpServer app &quot;com.sun.net.httpserver&quot; with android studio?</p>\n<p>I want make HttpServer that it will run from internal storage text file like-\n&quot;/storage/emulated/0/htdocs/index.html&quot;</p>\n<p>I am trying but not working!</p>\n<pre><code>public void handle(HttpExchange t) throws IOException {\n    // .. read the request body\n    String path =&quot;/storage/emulated/0/htdocs&quot; + t.getRequestURI();\n    String plain_text =&quot;&quot;;\n    File file = new File(path);\n    \n    if(file.isDirectory()){\n        path = path +&quot;index.html&quot;;\n    }\n    String mime = MimeTypeMap.getFileExtensionFromUrl(path);\n    mime = MimeTypeMap.getSingleton().getMimeTypeFromExtension(mime);\n\nif(mime.contains(&quot;text&quot;)){\n    Scanner sc = new Scanner(file);\n    \n    while(sc.hasNextLine()){\n        plain_text = plain_text + sc.nextLine();\n    }\n    if(plain_text.equals(&quot;&quot;)){\n        plain_text = &quot;Its no text file!&quot;;\n    }\n    t.sendResponseHeaders(200, plain_text.length());\n    OutputStream os = t.getResponseBody();\n    \n    os.close();\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","multithreading","future","executorservice"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653966149,"creation_date":1653581631,"answer_id":72394899,"question_id":72394267,"body_markdown":"The main problem is that your return value on your task is `void`. Instead you should be defining a `Callable` that returns a value. \r\n\r\nA rough draft of some untested code:\r\n\r\n```java\r\npublic class StudentNameLookup implements Callable &lt; String &gt;\r\n{\r\n    private String studentId ;\r\n    \r\n    public StudentNameLookup ( String studentId ) \r\n    {\r\n        this.studentId = studentId ;\r\n    }\r\n    \r\n    public String call()\r\n    {\r\n        String studentName ;\r\n        //  DB call, passing `this.studentId`, returning a value stored in `studentName` local var. \r\n        return studentName ;\r\n    }\r\n}\r\n```\r\n\r\nIn Java 16+ we could use a [record][1] for brevity. \r\n\r\n```java\r\npublic record StudentNameLookup ( String studentId ) implements Callable &lt; String &gt;\r\n{\r\n    public String call()\r\n    {\r\n        String studentName ;\r\n        //  DB call, passing `this.studentId`, returning a value stored in `studentName` local var. \r\n        return studentName ;\r\n    }\r\n}\r\n```\r\n\r\nAs a matter of taste, I would build up a list of tasks. \r\n\r\n    List &lt; Callable &lt; String &gt; &gt; tasks = new ArrayList&lt;&gt;();\r\n    for( String studentId : studentIds )\r\n    {\r\n        Callable &lt; String &gt; task = new StudentNameLookup( studentId ) ;\r\n        tasks.add( task ) ;\r\n    }\r\n\r\n[Submit all the tasks][2] to an executor service. You get back a list of futures. \r\n\r\nThe parameterized type (angle brackets) of your futures will be the type of that return value you declared on your `Callable`. \r\n\r\n    ExecutorService es = Executors.  ;\r\n    List &lt; Future &lt; String &gt; &gt; futures = es.invokeAll( tasks ) ;\r\n\r\nThen do the usual executor service work. Do a shutdown, await termination. After that, you know all the submitted tasks have been processed. \r\n\r\nLoop your list of futures. Test each future to see if it succeeded, then retrieve its result. \r\n\r\n    String studentName = future.get() ;\r\n\r\nRead Javadoc and search Stack Overflow for boilerplate. \r\n\r\nIf you want to return the student id along with the retrieved student name, change your return type. Instead of returning a mere `String`, return an object of a type you invent, a type that include both id and name. \r\n\r\n    public record Student ( String id , String name ) {}\r\n\r\nChange the parameterized types (angle brackets) seen in code above from `&lt; String &gt;` to `&lt; Student &gt;`. \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection,long,java.util.concurrent.TimeUnit)","title":"Labeling future object in threading","body":"<p>The main problem is that your return value on your task is <code>void</code>. Instead you should be defining a <code>Callable</code> that returns a value.</p>\n<p>A rough draft of some untested code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentNameLookup implements Callable &lt; String &gt;\n{\n    private String studentId ;\n    \n    public StudentNameLookup ( String studentId ) \n    {\n        this.studentId = studentId ;\n    }\n    \n    public String call()\n    {\n        String studentName ;\n        //  DB call, passing `this.studentId`, returning a value stored in `studentName` local var. \n        return studentName ;\n    }\n}\n</code></pre>\n<p>In Java 16+ we could use a <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a> for brevity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record StudentNameLookup ( String studentId ) implements Callable &lt; String &gt;\n{\n    public String call()\n    {\n        String studentName ;\n        //  DB call, passing `this.studentId`, returning a value stored in `studentName` local var. \n        return studentName ;\n    }\n}\n</code></pre>\n<p>As a matter of taste, I would build up a list of tasks.</p>\n<pre><code>List &lt; Callable &lt; String &gt; &gt; tasks = new ArrayList&lt;&gt;();\nfor( String studentId : studentIds )\n{\n    Callable &lt; String &gt; task = new StudentNameLookup( studentId ) ;\n    tasks.add( task ) ;\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">Submit all the tasks</a> to an executor service. You get back a list of futures.</p>\n<p>The parameterized type (angle brackets) of your futures will be the type of that return value you declared on your <code>Callable</code>.</p>\n<pre><code>ExecutorService es = Executors.  ;\nList &lt; Future &lt; String &gt; &gt; futures = es.invokeAll( tasks ) ;\n</code></pre>\n<p>Then do the usual executor service work. Do a shutdown, await termination. After that, you know all the submitted tasks have been processed.</p>\n<p>Loop your list of futures. Test each future to see if it succeeded, then retrieve its result.</p>\n<pre><code>String studentName = future.get() ;\n</code></pre>\n<p>Read Javadoc and search Stack Overflow for boilerplate.</p>\n<p>If you want to return the student id along with the retrieved student name, change your return type. Instead of returning a mere <code>String</code>, return an object of a type you invent, a type that include both id and name.</p>\n<pre><code>public record Student ( String id , String name ) {}\n</code></pre>\n<p>Change the parameterized types (angle brackets) seen in code above from <code>&lt; String &gt;</code> to <code>&lt; Student &gt;</code>.</p>\n"}],"owner":{"account_id":10867187,"reputation":217,"user_id":7990195,"accept_rate":0,"display_name":"Bhanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72394899,"answer_count":1,"score":1,"last_activity_date":1653966149,"creation_date":1653578836,"question_id":72394267,"body_markdown":"I have a for loop in which i make call to db to get some values of a student. Now for loop takes a lot of time. So thought to replace that with executor service with future objects. At the start of function i made calls to db using `executor.submit()` method. \r\nI am just not sure how to find the future objects returned is for that particular student which i can use for further steps. Please find below the code\r\n\r\nFunction below is getting called from a for loop which overall takes lot of time since getting called by each Student:\r\n\r\n    public void getDbDetails(String student){\r\n           //calling db\r\n           if(dbDetails.studentName = &quot;XYZ&quot;){\r\n              //function based on student ID\r\n           }\r\n    }\r\n\r\nUsing Executor Framework:\r\n\r\n    public void getStudentData(List&lt;String&gt; students){\r\n       final List&lt;Future&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    \t\tfor(String student: students){\r\n    \t\t\tFuture&lt;?&gt; future = executor.submit(() -&gt;{\r\n    \t\t\t\t//db call\r\n    \t\t\t});\r\n    \t\t\tfutures.add(future);\r\n    \t\t}\r\n    }\r\n\r\n    public void getDbDetails(String student){\r\n    //In this case how would i know whether future has returned details for this particular student??\r\n    if(dbDetails.studentName = &quot;XYZ&quot;){\r\n                  //function based on student ID\r\n               }\r\n    }\r\n\r\nIs it possible to use `future.get()` and create a map based on the studentId from future object and then use that map in function **getDbDetails()** to fetch particular student information and if future has not returned anything by that time then use `Thread.wait();`? Is this approach right or anything else can be used as optimum solution?","title":"Labeling future object in threading","body":"<p>I have a for loop in which i make call to db to get some values of a student. Now for loop takes a lot of time. So thought to replace that with executor service with future objects. At the start of function i made calls to db using <code>executor.submit()</code> method.\nI am just not sure how to find the future objects returned is for that particular student which i can use for further steps. Please find below the code</p>\n<p>Function below is getting called from a for loop which overall takes lot of time since getting called by each Student:</p>\n<pre><code>public void getDbDetails(String student){\n       //calling db\n       if(dbDetails.studentName = &quot;XYZ&quot;){\n          //function based on student ID\n       }\n}\n</code></pre>\n<p>Using Executor Framework:</p>\n<pre><code>public void getStudentData(List&lt;String&gt; students){\n   final List&lt;Future&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\n        for(String student: students){\n            Future&lt;?&gt; future = executor.submit(() -&gt;{\n                //db call\n            });\n            futures.add(future);\n        }\n}\n\npublic void getDbDetails(String student){\n//In this case how would i know whether future has returned details for this particular student??\nif(dbDetails.studentName = &quot;XYZ&quot;){\n              //function based on student ID\n           }\n}\n</code></pre>\n<p>Is it possible to use <code>future.get()</code> and create a map based on the studentId from future object and then use that map in function <strong>getDbDetails()</strong> to fetch particular student information and if future has not returned anything by that time then use <code>Thread.wait();</code>? Is this approach right or anything else can be used as optimum solution?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1653965337,"post_id":72441759,"comment_id":127973018,"body_markdown":"&quot;the error java.lang.String &quot; is not the full error message. Where do you see this? Please [edit] your question with the full error message.","body":"&quot;the error java.lang.String &quot; is not the full error message. Where do you see this? Please <a href=\"https://stackoverflow.com/posts/72441759/edit\">edit</a> your question with the full error message."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1653965472,"post_id":72441759,"comment_id":127973044,"body_markdown":"I see there is a red squiggly that indicates an error. But the popup shows documentation, not an error. You need to figure out how to get the actual error message. One way is to compile your program.","body":"I see there is a red squiggly that indicates an error. But the popup shows documentation, not an error. You need to figure out how to get the actual error message. One way is to compile your program."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1653965656,"post_id":72441759,"comment_id":127973077,"body_markdown":"What do you mean &quot;it didn&#39;t allow me to compile and run&quot;? What didn&#39;t allow this? There is definitely an error. You don&#39;t need to assume. The red squiggly means there is an error, but the screenshot doesn&#39;t show what the error is.","body":"What do you mean &quot;it didn&#39;t allow me to compile and run&quot;? What didn&#39;t allow this? There is definitely an error. You don&#39;t need to assume. The red squiggly means there is an error, but the screenshot doesn&#39;t show what the error is."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1653965719,"post_id":72441759,"comment_id":127973090,"body_markdown":"What editor are you using? And how did you try to compile your code?","body":"What editor are you using? And how did you try to compile your code?"},{"owner":{"account_id":21269768,"reputation":15,"user_id":15649471,"display_name":"TgD"},"score":0,"creation_date":1653965750,"post_id":72441759,"comment_id":127973093,"body_markdown":"i mean my code is not functioning. sorry for my bad explanation.","body":"i mean my code is not functioning. sorry for my bad explanation."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1653965804,"post_id":72441759,"comment_id":127973104,"body_markdown":"As per the [*How to ask* guide](https://stackoverflow.com/help/how-to-ask), please [**do not** post images of code, data, error message, etc](https://meta.stackoverflow.com/questions/285551). Instead, copy or type the text into your question, [formatted as code](https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks/251362#251362). Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text.","body":"As per the <a href=\"https://stackoverflow.com/help/how-to-ask\"><i>How to ask</i> guide</a>, please <a href=\"https://meta.stackoverflow.com/questions/285551\"><b>do not</b> post images of code, data, error message, etc</a>. Instead, copy or type the text into your question, <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks/251362#251362\">formatted as code</a>. Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1653965863,"post_id":72441759,"comment_id":127973117,"body_markdown":"Don&#39;t apologize. We all started somewhere. However, you need to be more specific. &quot;my code is not functioning&quot; doesn&#39;t provide the information I need to help you. Be sure you read all my previous comments and answer my questions in as much detail as you can. Refresh the page to be sure you get the most recent version of this page and comments.","body":"Don&#39;t apologize. We all started somewhere. However, you need to be more specific. &quot;my code is not functioning&quot; doesn&#39;t provide the information I need to help you. Be sure you read all my previous comments and answer my questions in as much detail as you can. Refresh the page to be sure you get the most recent version of this page and comments."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1653965932,"post_id":72441759,"comment_id":127973128,"body_markdown":"I suspect that the answer from Dawood ibn Kareem will solve the problem, but I&#39;d also like to help you to get further by yourself next time an error occurs. Because it will happen again and again as long as you continue coding.","body":"I suspect that the answer from Dawood ibn Kareem will solve the problem, but I&#39;d also like to help you to get further by yourself next time an error occurs. Because it will happen again and again as long as you continue coding."},{"owner":{"account_id":21269768,"reputation":15,"user_id":15649471,"display_name":"TgD"},"score":0,"creation_date":1653966689,"post_id":72441759,"comment_id":127973228,"body_markdown":"@Bohemian sorry i havent use stack for a long time so theres still something that im not really aware of. i will keep this in mind on my next time posting a question.","body":"@Bohemian sorry i havent use stack for a long time so theres still something that im not really aware of. i will keep this in mind on my next time posting a question."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1653965393,"creation_date":1653965393,"answer_id":72441773,"question_id":72441759,"body_markdown":"Your problem is that every class already has a `final` method called `getClass`.  You&#39;ll have to call your one something else, because you can&#39;t have two methods with the exact same name and same parameters in a class, and you can&#39;t override a `final` method.","title":"Im getting Error &#39;java.lang.String&#39; and not knowing why","body":"<p>Your problem is that every class already has a <code>final</code> method called <code>getClass</code>.  You'll have to call your one something else, because you can't have two methods with the exact same name and same parameters in a class, and you can't override a <code>final</code> method.</p>\n"}],"owner":{"account_id":21269768,"reputation":15,"user_id":15649471,"display_name":"TgD"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72441773,"answer_count":1,"score":0,"last_activity_date":1653965429,"creation_date":1653965256,"question_id":72441759,"body_markdown":"[![enter image description here][1]][1]I&#39;m newbie in Java. So question might sound simple, but I&#39;m stuck and can not figure out why I get the error java.lang.String although all I do is just write out the setter and getter normally. So below is my code:\r\n\r\n\r\n\r\n\r\n\r\n        package PerSion;\r\n    \r\n    public class Student extends Persion{\r\n        String RollNum, Class;\r\n        double Score;\r\n    \r\n        public String getRollNum() {\r\n            return this.RollNum;\r\n        }\r\n    \r\n        public void setRollNum(String RollNum) {\r\n            this.RollNum = RollNum;\r\n        }\r\n    \r\n        public String getClass() {  //this is where the error show up\r\n            return this.Class;\r\n        }\r\n    \r\n        public void setClass(String Class) {\r\n            this.Class = Class;\r\n        }\r\n    \r\n        public double getScore() {\r\n            return this.Score;\r\n        }\r\n    \r\n        public void setScore(double Score) {\r\n            this.Score = Score;\r\n        }\r\n    \r\n        public Student() {\r\n        }\r\n    \r\n        public Student(String RollNum, String Class, double Score) {\r\n            this.RollNum = RollNum;\r\n            this.Class = Class;\r\n            this.Score = Score;\r\n        }\r\n    \r\n        public Student(String RollNum, String Class, double Score, String ID, String Name, String Address, int Age) {\r\n            super(ID, Name, Address, Age);\r\n            this.RollNum = RollNum;\r\n            this.Class = Class;\r\n            this.Score = Score;\r\n        }\r\n    \r\n        @Override\r\n        public void Display() {\r\n            System.out.println(RollNum+&quot;\\t&quot;+Name+&quot;\\t&quot;+Class+&quot;\\t&quot;+Score);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aoeYV.png","title":"Im getting Error &#39;java.lang.String&#39; and not knowing why","body":"<p><a href=\"https://i.stack.imgur.com/aoeYV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aoeYV.png\" alt=\"enter image description here\" /></a>I'm newbie in Java. So question might sound simple, but I'm stuck and can not figure out why I get the error java.lang.String although all I do is just write out the setter and getter normally. So below is my code:</p>\n<pre><code>    package PerSion;\n\npublic class Student extends Persion{\n    String RollNum, Class;\n    double Score;\n\n    public String getRollNum() {\n        return this.RollNum;\n    }\n\n    public void setRollNum(String RollNum) {\n        this.RollNum = RollNum;\n    }\n\n    public String getClass() {  //this is where the error show up\n        return this.Class;\n    }\n\n    public void setClass(String Class) {\n        this.Class = Class;\n    }\n\n    public double getScore() {\n        return this.Score;\n    }\n\n    public void setScore(double Score) {\n        this.Score = Score;\n    }\n\n    public Student() {\n    }\n\n    public Student(String RollNum, String Class, double Score) {\n        this.RollNum = RollNum;\n        this.Class = Class;\n        this.Score = Score;\n    }\n\n    public Student(String RollNum, String Class, double Score, String ID, String Name, String Address, int Age) {\n        super(ID, Name, Address, Age);\n        this.RollNum = RollNum;\n        this.Class = Class;\n        this.Score = Score;\n    }\n\n    @Override\n    public void Display() {\n        System.out.println(RollNum+&quot;\\t&quot;+Name+&quot;\\t&quot;+Class+&quot;\\t&quot;+Score);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","string","double"],"comments":[{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1653964046,"post_id":72441626,"comment_id":127972870,"body_markdown":"1) what is the content of your method checkValidNumber(momentary_value) ?\n2) could you also print the value of momentary_value? easier for you to debug from there","body":"1) what is the content of your method checkValidNumber(momentary_value) ? 2) could you also print the value of momentary_value? easier for you to debug from there"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1653964415,"post_id":72441626,"comment_id":127972909,"body_markdown":"@fauzimh the method is written in the question","body":"@fauzimh the method is written in the question"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1653964468,"post_id":72441626,"comment_id":127972914,"body_markdown":"`checkValidNumber` is a `String`, `public boolean checkValidNumber(double momentary_value){` declares itself has requiring a `double` parameter, yet you try and call it using `checkValidNumber(momentary_value)`.  You&#39;ve already shown you know how to convert a `String` to a `double` using `Double.parseDouble(momentary_value)`, so now I&#39;m trying to figure out what the actual problem is &#129335;","body":"<code>checkValidNumber</code> is a <code>String</code>, <code>public boolean checkValidNumber(double momentary_value){</code> declares itself has requiring a <code>double</code> parameter, yet you try and call it using <code>checkValidNumber(momentary_value)</code>.  You&#39;ve already shown you know how to convert a <code>String</code> to a <code>double</code> using <code>Double.parseDouble(momentary_value)</code>, so now I&#39;m trying to figure out what the actual problem is "},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653965010,"post_id":72441626,"comment_id":127972971,"body_markdown":"Just a side note - it&#39;s not a good idea to use non-ASCII characters in identifiers such as method names, class names and so on.  It makes it more difficult for people to work on your code, if they don&#39;t have the right kind of keyboard.","body":"Just a side note - it&#39;s not a good idea to use non-ASCII characters in identifiers such as method names, class names and so on.  It makes it more difficult for people to work on your code, if they don&#39;t have the right kind of keyboard."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653964380,"creation_date":1653964380,"answer_id":72441680,"question_id":72441626,"body_markdown":"You need to convert to a double first\r\n\r\n    checkValidNumber(Double.parseDouble(momentary_value))","title":"How can I convert String input to double in Java?","body":"<p>You need to convert to a double first</p>\n<pre><code>checkValidNumber(Double.parseDouble(momentary_value))\n</code></pre>\n"}],"owner":{"account_id":25432165,"reputation":1,"user_id":19236387,"display_name":"Sherry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1654015289,"answer_count":1,"score":-1,"last_activity_date":1653964930,"creation_date":1653963590,"question_id":72441626,"body_markdown":"My code is not working and there&#39;s errors in &quot;checkValidNumber(momentary_value)&quot; saying that String can not convert to double.\r\n\r\n\r\n    /**\r\n     * Add a pok&#233;monCard to collection\r\n     */\r\n    public void addPok&#233;monCard()\r\n    {\r\n        final int INCREMENT = 1;\r\n        \r\n        boolean repeat = true;  // a boolean variable return true\r\n        \r\n        // Ask user for details\r\n        String name = UI.askString(&quot;Name of Pok&#233;monCard: &quot;);\r\n        if (name.equals(&quot;&quot;)) {\r\n            UI.println(&quot;I don&#39;t recognise that command&quot;);\r\n            addPok&#233;monCard();\r\n        } else if (name == null ) {\r\n            UI.println(&quot;Please type a Pok&#233;monCard&#39;s name: &quot;);\r\n            addPok&#233;monCard();\r\n        } else {\r\n            // Check boundaries for the number of the momentary value of Pok&#233;monCard added\r\n            do {\r\n                String momentary_value = UI.askString(&quot;Momentary value: &quot;);\r\n                // Check a suitable value of a Pok&#233;monCard \r\n                if (checkValidNumber(momentary_value)){\r\n                    double momentary_value1 = Double.parseDouble(momentary_value);\r\n                    // Increment the Pok&#233;monCard ID count and add to hashmap\r\n                    pok&#233;monCards.setPok&#233;monCardId(); // Increment the id by 1\r\n                    //add a Pok&#233;monCard image to display in the GUI\r\n                    String imgFileName = UIFileChooser.open(&quot;Choose Image File: &quot;);\r\n                    pok&#233;monCards.addPok&#233;monCard(name, momentary_value1, imgFileName);\r\n                    UI.println(&quot;Added&quot;);\r\n                    repeat = false;\r\n                } else if (checkValidNumber(momentary_value) == false) { // Check for invalid value\r\n                    UI.println(&quot;Please input a valid price!&quot;);\r\n                } else { // Check for invalid value\r\n                    UI.println(&quot;Must be a number!&quot;);\r\n                }\r\n            }while (repeat); //repeat the method again if there&#39;s null input\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Check a valid number for momentary value\r\n     * @return boolean false if it&#39;s an invalid number\r\n     * @param momentary_value for the price of PokemonCard\r\n     */\r\n    public boolean checkValidNumber(double momentary_value){\r\n        boolean validNumber = false;\r\n        if (momentary_value &gt; 0) { \r\n            validNumber = true;\r\n        } \r\n        return validNumber;\r\n    }\r\n","title":"How can I convert String input to double in Java?","body":"<p>My code is not working and there's errors in &quot;checkValidNumber(momentary_value)&quot; saying that String can not convert to double.</p>\n<pre><code>/**\n * Add a pokmonCard to collection\n */\npublic void addPokmonCard()\n{\n    final int INCREMENT = 1;\n    \n    boolean repeat = true;  // a boolean variable return true\n    \n    // Ask user for details\n    String name = UI.askString(&quot;Name of PokmonCard: &quot;);\n    if (name.equals(&quot;&quot;)) {\n        UI.println(&quot;I don't recognise that command&quot;);\n        addPokmonCard();\n    } else if (name == null ) {\n        UI.println(&quot;Please type a PokmonCard's name: &quot;);\n        addPokmonCard();\n    } else {\n        // Check boundaries for the number of the momentary value of PokmonCard added\n        do {\n            String momentary_value = UI.askString(&quot;Momentary value: &quot;);\n            // Check a suitable value of a PokmonCard \n            if (checkValidNumber(momentary_value)){\n                double momentary_value1 = Double.parseDouble(momentary_value);\n                // Increment the PokmonCard ID count and add to hashmap\n                pokmonCards.setPokmonCardId(); // Increment the id by 1\n                //add a PokmonCard image to display in the GUI\n                String imgFileName = UIFileChooser.open(&quot;Choose Image File: &quot;);\n                pokmonCards.addPokmonCard(name, momentary_value1, imgFileName);\n                UI.println(&quot;Added&quot;);\n                repeat = false;\n            } else if (checkValidNumber(momentary_value) == false) { // Check for invalid value\n                UI.println(&quot;Please input a valid price!&quot;);\n            } else { // Check for invalid value\n                UI.println(&quot;Must be a number!&quot;);\n            }\n        }while (repeat); //repeat the method again if there's null input\n    }\n}\n\n/**\n * Check a valid number for momentary value\n * @return boolean false if it's an invalid number\n * @param momentary_value for the price of PokemonCard\n */\npublic boolean checkValidNumber(double momentary_value){\n    boolean validNumber = false;\n    if (momentary_value &gt; 0) { \n        validNumber = true;\n    } \n    return validNumber;\n}\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1473918135,"post_id":39503821,"comment_id":66324804,"body_markdown":"Firstly, I would start using generics: `List&lt;double[]&gt; alParent = new ArrayList&lt;&gt;();`. Next, have a look at the `ArrayList` documentation - see which of those methods sounds like it will *get* a specific element...","body":"Firstly, I would start using generics: <code>List&lt;double[]&gt; alParent = new ArrayList&lt;&gt;();</code>. Next, have a look at the <code>ArrayList</code> documentation - see which of those methods sounds like it will <i>get</i> a specific element..."},{"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"score":0,"creation_date":1473918339,"post_id":39503821,"comment_id":66324863,"body_markdown":"`List.get(index)` returns item at a specific index and then select desired double value from array. for example `alParent.get(0)[0]` will return fist arrays 0th element i.e. 15.22","body":"<code>List.get(index)</code> returns item at a specific index and then select desired double value from array. for example <code>alParent.get(0)[0]</code> will return fist arrays 0th element i.e. 15.22"},{"owner":{"account_id":8913693,"reputation":19,"user_id":6652950,"accept_rate":25,"display_name":"Raj Tandel"},"score":0,"creation_date":1473918450,"post_id":39503821,"comment_id":66324896,"body_markdown":"@JonSkeet I am not looking for direct method. Is there any other way i can do this?","body":"@JonSkeet I am not looking for direct method. Is there any other way i can do this?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1473918538,"post_id":39503821,"comment_id":66324923,"body_markdown":"What do you mean by &quot;I am not looking for direct method&quot;? It&#39;s not clear what you&#39;re expecting here, but `alParent.get(row)[column]` is about as simple as it gets... if you want all the elements in a given column, just iterate over the rows...","body":"What do you mean by &quot;I am not looking for direct method&quot;? It&#39;s not clear what you&#39;re expecting here, but <code>alParent.get(row)[column]</code> is about as simple as it gets... if you want all the elements in a given column, just iterate over the rows..."}],"answers":[{"tags":[],"owner":{"account_id":4602432,"reputation":193,"user_id":3732766,"accept_rate":43,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1473923388,"creation_date":1473918967,"answer_id":39503986,"question_id":39503821,"body_markdown":"use blow code:&lt;br/&gt;&lt;br/&gt;\r\n\r\n    double temp1[] = new double[alParent.size()];    \r\n\tdouble temp2[] = new double[alParent.size()];    \r\n\tfor (int i = 0; i &lt; alParent.size(); i++) {    \r\n\t\ttemp1[i] = alParent.get(i)[0];    \r\n\t\ttemp2[i] = alParent.get(i)[1];    \r\n\t}\r\n\r\ntemp1 and temp2 are arrays you want.","title":"How to access specific element of array stored in arraylist?","body":"<p>use blow code:<br/><br/></p>\n\n<pre><code>double temp1[] = new double[alParent.size()];    \ndouble temp2[] = new double[alParent.size()];    \nfor (int i = 0; i &lt; alParent.size(); i++) {    \n    temp1[i] = alParent.get(i)[0];    \n    temp2[i] = alParent.get(i)[1];    \n}\n</code></pre>\n\n<p>temp1 and temp2 are arrays you want.</p>\n"},{"tags":[],"owner":{"account_id":15109327,"reputation":1,"user_id":10903941,"display_name":"Faizan Alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653964625,"creation_date":1653834187,"answer_id":72424503,"question_id":39503821,"body_markdown":"Suppose we have an array, `arr = [2, 4, 5, 6]`, and we want to store all elements into an empty `ArrayList`.\r\n\r\n```java\r\nint arr[] = {2,4,5,6}; \r\nArrayList&lt;Integer&gt; al =  new ArrayList&lt;Integer&gt;();\r\nfor (int i = 0; i &lt; arr.length; i++){\r\n    int num = arr[i];\r\n    al.add(i, num);\r\n}\r\n\r\n// print the value of ArrayList \r\nfor (int i = 0; i &lt; arr.length; i++){\r\n    System.out.println(al.get(i));\r\n}\r\n```","title":"How to access specific element of array stored in arraylist?","body":"<p>Suppose we have an array, <code>arr = [2, 4, 5, 6]</code>, and we want to store all elements into an empty <code>ArrayList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int arr[] = {2,4,5,6}; \nArrayList&lt;Integer&gt; al =  new ArrayList&lt;Integer&gt;();\nfor (int i = 0; i &lt; arr.length; i++){\n    int num = arr[i];\n    al.add(i, num);\n}\n\n// print the value of ArrayList \nfor (int i = 0; i &lt; arr.length; i++){\n    System.out.println(al.get(i));\n}\n</code></pre>\n"}],"owner":{"account_id":8913693,"reputation":19,"user_id":6652950,"accept_rate":25,"display_name":"Raj Tandel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39503986,"answer_count":2,"score":0,"last_activity_date":1653964625,"creation_date":1473918005,"question_id":39503821,"body_markdown":"I have following code\r\n\r\n    List&lt;double[]&gt; alParent = new ArrayList&lt;&gt;();\r\n    alParent.add(new double[]{15.22,25.22});\r\n    alParent.add(new double[]{1.1,2.3});\r\n    double tempone[] = {1,2};\r\n    double temptwo[] = {4,5};\r\n    alParent.add(tempone);\r\n    alParent.add(temptwo);    \r\n\r\nI have stored array of type `double[]` inside arraylist. \r\nI want to access elements from arraylist which are on first position and second position `double[]` array. For my example I want to access `15.22,1.1,1,4` and `25.22,2.3,2,5` separately. Is there any way i can get specific elements stored inside arraylist?\r\nAlso, if i have more elements in arraylist how do i get my desire result?\r\n","title":"How to access specific element of array stored in arraylist?","body":"<p>I have following code</p>\n\n<pre><code>List&lt;double[]&gt; alParent = new ArrayList&lt;&gt;();\nalParent.add(new double[]{15.22,25.22});\nalParent.add(new double[]{1.1,2.3});\ndouble tempone[] = {1,2};\ndouble temptwo[] = {4,5};\nalParent.add(tempone);\nalParent.add(temptwo);    \n</code></pre>\n\n<p>I have stored array of type <code>double[]</code> inside arraylist. \nI want to access elements from arraylist which are on first position and second position <code>double[]</code> array. For my example I want to access <code>15.22,1.1,1,4</code> and <code>25.22,2.3,2,5</code> separately. Is there any way i can get specific elements stored inside arraylist?\nAlso, if i have more elements in arraylist how do i get my desire result?</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":23280314,"reputation":11,"user_id":17363860,"display_name":"JohnnyBGoode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653899244,"creation_date":1653899244,"answer_id":72431301,"question_id":72404150,"body_markdown":"So after struggling with this for a while I came to this solution:\r\n\r\n```\r\n    @GetMapping(&quot;/sse&quot;)\r\n    public Flux&lt;ServerSentEvent&lt;UserUpdateResponse&gt;&gt; handleSse(@RequestParam(required = false) String id) {\r\n        if (StringUtils.isBlank(id)) {\r\n            throw new WebServiceRuntimeException(HttpStatus.BAD_REQUEST, &quot;The \\&quot;id\\&quot; parameter is missing&quot;);\r\n        }\r\n        final Mono&lt;Boolean&gt; cached = cacheService.getgetUser(id);\r\n        return Flux.from(cached).flatMap(exists -&gt; {\r\n                    if (exists) {\r\n                        return userUpdateSink.asFlux()\r\n                                .filter(update -&gt; id.equals(update.getgetUser()))\r\n                                .map(this::wrapIntoSse);\r\n                    }\r\n                    return Flux.error(new WebServiceRuntimeException(HttpStatus.NOT_FOUND,\r\n                            &quot;The specified \\&quot;user\\&quot; does not exist: &quot; + id + &quot;.&quot;));\r\n                }\r\n        );\r\n    }\r\n```","title":"Spring Webflux SSE server: how to send error to the client and close connection","body":"<p>So after struggling with this for a while I came to this solution:</p>\n<pre><code>    @GetMapping(&quot;/sse&quot;)\n    public Flux&lt;ServerSentEvent&lt;UserUpdateResponse&gt;&gt; handleSse(@RequestParam(required = false) String id) {\n        if (StringUtils.isBlank(id)) {\n            throw new WebServiceRuntimeException(HttpStatus.BAD_REQUEST, &quot;The \\&quot;id\\&quot; parameter is missing&quot;);\n        }\n        final Mono&lt;Boolean&gt; cached = cacheService.getgetUser(id);\n        return Flux.from(cached).flatMap(exists -&gt; {\n                    if (exists) {\n                        return userUpdateSink.asFlux()\n                                .filter(update -&gt; id.equals(update.getgetUser()))\n                                .map(this::wrapIntoSse);\n                    }\n                    return Flux.error(new WebServiceRuntimeException(HttpStatus.NOT_FOUND,\n                            &quot;The specified \\&quot;user\\&quot; does not exist: &quot; + id + &quot;.&quot;));\n                }\n        );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25425076,"reputation":1,"user_id":19230373,"display_name":"vedant patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653964404,"creation_date":1653899419,"answer_id":72431341,"question_id":72404150,"body_markdown":"```\r\n@GetMapping(&quot;/sse&quot;) \r\npublic Flux&lt;ServerSentEvent&gt; handleSse(@RequestParam(required = false) String id) {\r\n    if (StringUtils.isBlank(id)) { \r\n        throw new WebServiceRuntimeException(HttpStatus.BAD_REQUEST, &quot;The &quot;id&quot; parameter is missing&quot;);\r\n    } \r\n    final Mono cached = cacheService.getgetUser(id); \r\n    return Flux.from(cached).flatMap(exists -&gt; { \r\n        if (exists) {\r\n            return userUpdateSink.asFlux().filter(update -&gt; id.equals(update.getgetUser())).map(this::wrapIntoSse);\r\n        } \r\n        return Flux.error(new WebServiceRuntimeException(HttpStatus.NOT_FOUND, &quot;The specified &quot;user&quot; does not exist: &quot; + id + &quot;.&quot;));\r\n    });\r\n}\r\n```","title":"Spring Webflux SSE server: how to send error to the client and close connection","body":"<pre><code>@GetMapping(&quot;/sse&quot;) \npublic Flux&lt;ServerSentEvent&gt; handleSse(@RequestParam(required = false) String id) {\n    if (StringUtils.isBlank(id)) { \n        throw new WebServiceRuntimeException(HttpStatus.BAD_REQUEST, &quot;The &quot;id&quot; parameter is missing&quot;);\n    } \n    final Mono cached = cacheService.getgetUser(id); \n    return Flux.from(cached).flatMap(exists -&gt; { \n        if (exists) {\n            return userUpdateSink.asFlux().filter(update -&gt; id.equals(update.getgetUser())).map(this::wrapIntoSse);\n        } \n        return Flux.error(new WebServiceRuntimeException(HttpStatus.NOT_FOUND, &quot;The specified &quot;user&quot; does not exist: &quot; + id + &quot;.&quot;));\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":23280314,"reputation":11,"user_id":17363860,"display_name":"JohnnyBGoode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72431301,"answer_count":2,"score":0,"last_activity_date":1653964404,"creation_date":1653648239,"question_id":72404150,"body_markdown":"I have a Spring WebFlux application server that sends SSE to the end user infinitely while they are connected. I want to implement some kind of `id` validation, that relies on requesting the id from a 3rd party service, that returns `Mono&lt;Boolean&gt;`. I want to close connection with an error if the above `Mono` contains `false`.\r\n\r\nThe problem is that I can&#39;t return `Mono.error()` from the `handleSse` method (because it has to return `Flux&lt;ServerSentEvent&lt;UserUpdateResponse&gt;&gt;`). \r\n\r\nHow to properly send an error to the user and close the connection afterwards?\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\n    @GetMapping(&quot;/sse&quot;)\r\n    public Flux&lt;ServerSentEvent&lt;UserUpdateResponse&gt;&gt; handleSse(String id) {\r\n        return usersSink.asFlux()\r\n                .filter(update -&gt; id.equals(update.getId()))\r\n                .map(this::wrapIntoSse);\r\n    }\r\n\r\n\r\n    private ServerSentEvent&lt;UserUpdateResponse&gt; wrapIntoSse(UserUpdate userUpdate) {\r\n        return ServerSentEvent.builder(new UserResponse(userUpdate.getUserCode()))\r\n                .event(&quot;user-update&quot;)\r\n                .build();\r\n    }\r\n```\r\n","title":"Spring Webflux SSE server: how to send error to the client and close connection","body":"<p>I have a Spring WebFlux application server that sends SSE to the end user infinitely while they are connected. I want to implement some kind of <code>id</code> validation, that relies on requesting the id from a 3rd party service, that returns <code>Mono&lt;Boolean&gt;</code>. I want to close connection with an error if the above <code>Mono</code> contains <code>false</code>.</p>\n<p>The problem is that I can't return <code>Mono.error()</code> from the <code>handleSse</code> method (because it has to return <code>Flux&lt;ServerSentEvent&lt;UserUpdateResponse&gt;&gt;</code>).</p>\n<p>How to properly send an error to the user and close the connection afterwards?</p>\n<p>Here's my code:</p>\n<pre><code>    @GetMapping(&quot;/sse&quot;)\n    public Flux&lt;ServerSentEvent&lt;UserUpdateResponse&gt;&gt; handleSse(String id) {\n        return usersSink.asFlux()\n                .filter(update -&gt; id.equals(update.getId()))\n                .map(this::wrapIntoSse);\n    }\n\n\n    private ServerSentEvent&lt;UserUpdateResponse&gt; wrapIntoSse(UserUpdate userUpdate) {\n        return ServerSentEvent.builder(new UserResponse(userUpdate.getUserCode()))\n                .event(&quot;user-update&quot;)\n                .build();\n    }\n</code></pre>\n"},{"tags":["java","future","futuretask"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1653801226,"post_id":72421061,"comment_id":127937071,"body_markdown":"No, that&#39;s not an appropriate way, on several levels.","body":"No, that&#39;s not an appropriate way, on several levels."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653846350,"creation_date":1653845969,"answer_id":72425923,"question_id":72421061,"body_markdown":"You have declared a `FutureTask` but haven&#39;t actually run it so a call to `asyncCall.get()` will block forever. \r\n\r\nHere is your example with extra logging and adding a step to execute the task in a new `ExecutorService`.\r\n\r\n    static FutureTask&lt;Integer&gt; fASync(int x) {\r\n        System.out.println(&quot;fASync(&quot;+x+&quot;) called&quot;);\r\n        return new FutureTask&lt;&gt;(() -&gt; {\r\n            System.out.println(&quot;fASync(&quot;+x+&quot;) FutureTask has started&quot;);\r\n            try {\r\n                Thread.sleep(new Random().nextInt(1, 3) * 1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;fASync(&quot;+x+&quot;) FutureTask has ended&quot;);\r\n            return x * x;\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException, ExecutionException {\r\n        ExecutorService exec = Executors.newFixedThreadPool(1);\r\n        FutureTask&lt;Integer&gt; task = fASync(5);\r\n        // MUST execute the task or task.get() will block forever\r\n        exec.execute(task);\r\n\r\n        System.out.println(&quot;task.get()=&quot;+task.get());\r\n\r\n        exec.shutdown();\r\n        exec.awaitTermination(1, TimeUnit.DAYS);\r\n        System.out.println(&quot;ENDED&quot;);\r\n    }\r\n\r\nIf you enable the `exec.execute(task);` line it will print these messages and complete `task.get()`, instead of printing the first line only and no response from `task.get()`:\r\n\r\n    fASync(5) called\r\n    fASync(5) FutureTask has started\r\n    fASync(5) FutureTask has ended\r\n    task.get()=25\r\n    ENDED\r\n","title":"Async API using Future never completes","body":"<p>You have declared a <code>FutureTask</code> but haven't actually run it so a call to <code>asyncCall.get()</code> will block forever.</p>\n<p>Here is your example with extra logging and adding a step to execute the task in a new <code>ExecutorService</code>.</p>\n<pre><code>static FutureTask&lt;Integer&gt; fASync(int x) {\n    System.out.println(&quot;fASync(&quot;+x+&quot;) called&quot;);\n    return new FutureTask&lt;&gt;(() -&gt; {\n        System.out.println(&quot;fASync(&quot;+x+&quot;) FutureTask has started&quot;);\n        try {\n            Thread.sleep(new Random().nextInt(1, 3) * 1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;fASync(&quot;+x+&quot;) FutureTask has ended&quot;);\n        return x * x;\n    });\n}\n\npublic static void main(String[] args) throws InterruptedException, ExecutionException {\n    ExecutorService exec = Executors.newFixedThreadPool(1);\n    FutureTask&lt;Integer&gt; task = fASync(5);\n    // MUST execute the task or task.get() will block forever\n    exec.execute(task);\n\n    System.out.println(&quot;task.get()=&quot;+task.get());\n\n    exec.shutdown();\n    exec.awaitTermination(1, TimeUnit.DAYS);\n    System.out.println(&quot;ENDED&quot;);\n}\n</code></pre>\n<p>If you enable the <code>exec.execute(task);</code> line it will print these messages and complete <code>task.get()</code>, instead of printing the first line only and no response from <code>task.get()</code>:</p>\n<pre><code>fASync(5) called\nfASync(5) FutureTask has started\nfASync(5) FutureTask has ended\ntask.get()=25\nENDED\n</code></pre>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1653846554,"accepted_answer_id":72425923,"answer_count":1,"score":-2,"last_activity_date":1653964367,"creation_date":1653800714,"question_id":72421061,"body_markdown":"I try to make an API aysnchronous as:\r\n\r\n    Future&lt;Integer&gt; fASync(int x) {\r\n            return new FutureTask(() -&gt; {\r\n                try {\r\n                    Thread.sleep(new Random().nextInt(1, 3) * 1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return x * x;\r\n            });\r\n        }\r\n\r\n..then I try to use it:\r\n\r\n    Future&lt;Integer&gt; asyncCall = fASync(x);\r\n    asyncCall .get();\r\n\r\nBut this never completes and call just blocks.\r\n\r\nIs this not correct way of making your API asynchronous?","title":"Async API using Future never completes","body":"<p>I try to make an API aysnchronous as:</p>\n<pre><code>Future&lt;Integer&gt; fASync(int x) {\n        return new FutureTask(() -&gt; {\n            try {\n                Thread.sleep(new Random().nextInt(1, 3) * 1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            return x * x;\n        });\n    }\n</code></pre>\n<p>..then I try to use it:</p>\n<pre><code>Future&lt;Integer&gt; asyncCall = fASync(x);\nasyncCall .get();\n</code></pre>\n<p>But this never completes and call just blocks.</p>\n<p>Is this not correct way of making your API asynchronous?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1653906464,"post_id":72432784,"comment_id":127957819,"body_markdown":"`this.size = size;` has no effect because the constructor has no argument called `size`. So both sides of that statement refer to the same variable and you are assigning a variable to itself.","body":"<code>this.size = size;</code> has no effect because the constructor has no argument called <code>size</code>. So both sides of that statement refer to the same variable and you are assigning a variable to itself."},{"owner":{"account_id":24789124,"reputation":31,"user_id":18672197,"display_name":"Amdaggle"},"score":0,"creation_date":1653907524,"post_id":72432784,"comment_id":127958192,"body_markdown":"Oh wow, I don&#39;t know how I didn&#39;t notice that, thank you!","body":"Oh wow, I don&#39;t know how I didn&#39;t notice that, thank you!"}],"owner":{"account_id":24789124,"reputation":31,"user_id":18672197,"display_name":"Amdaggle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653964119,"creation_date":1653906180,"question_id":72432784,"body_markdown":"I want to make a class that iterates through a list randomly, but I&#39;ve been having trouble coding up the methods/constructors. Here&#39;s what I have so far.\r\n\r\n    package iterators;\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.Random;\r\n    \r\n    import nodes.DLLNode;\r\n\r\n    public class DLLIterator&lt;E&gt; implements Iterator&lt;E&gt; {\r\n\t\r\n\tprivate DLLNode&lt;E&gt; current;\r\n\tprivate boolean iterateForward;\r\n\t\r\n\tRandom random = new Random();\r\n\tprivate DLLNode&lt;E&gt; head;\r\n\tint size;\r\n\tint count;\r\n\tboolean array[];\r\n\t\r\n\t\r\n\tpublic DLLIterator(DLLNode&lt;E&gt; head, DLLNode&lt;E&gt; tail, boolean iterateForward, boolean iterateRandom, boolean array ) {\r\n\t\t\r\n\t\tthis.head = head;\r\n\t\tthis.iterateForward  = iterateForward;\r\n\t\tthis.size = size;\r\n\t\tcurrent = head;\r\n\t\tcount = 0;\r\n\t\tthis.array = new boolean[size];\r\n\t\t\r\n\t\tif (iterateForward ) {\r\n\t\t\tcurrent = head;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcurrent = tail;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean hasNext() {\r\n\t\t\r\n\t\tif (iterateForward) { \r\n\t\treturn current != null;\r\n\t\t}\r\n\t\t\t\r\n\t\treturn count &gt; size;\r\n\t\t\r\n\t\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic E next() {\r\n\t\t\r\n\t\tif (iterateForward) {\r\n\t\t\tE temp = current.getData();\r\n\t\t\tcurrent = current.getNext();\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tint size = array.length;\r\n\t\t\tint min = 0;\r\n\t\t\tint range = size - min;\r\n\t\t\tcurrent = head;\r\n\t\t\tfor(int i = 0;i&lt;array.length;i++) {\r\n\t\t\t\tint rand = (int)(Math.random() * range)+ min;\r\n\r\n\t\t\t\twhile(array[rand]!=true) {\r\n\t\t\t\t\tarray[rand]=true;\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\treturn current.getData();\r\n\t\t\t}\r\n\r\nIt&#39;s telling me that this.size has no effect, but I&#39;m not sure why. The purpose of iterateforward is to go through the list from head to tail, although my main concern is IterateRandom. For the hasNext() method, I understand the purpose of the if iterateforward = true, but I&#39;m not understanding the &quot;return count &gt; size&quot;, and I&#39;m not sure if that&#39;s correct. I&#39;m assuming it means if count is greater than size, return true, and it ends the loop, but does it end up working here? As for the next method, is there anything in there I&#39;m doing wrong? I&#39;m filling a boolean array with a random integer, and the while loop makes sure that I don&#39;t get any duplicates. Is there anything here I&#39;m doing wrong/can improve? I&#39;d really appreciate the help!\r\n\t\t\t\r\n\t\t\t\t\t","title":"How do I make an iterator that goes through a list randomly until each item in the list is gone through once? No duplicates","body":"<p>I want to make a class that iterates through a list randomly, but I've been having trouble coding up the methods/constructors. Here's what I have so far.</p>\n<pre><code>package iterators;\n\nimport java.util.Iterator;\nimport java.util.Random;\n\nimport nodes.DLLNode;\n\npublic class DLLIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n\nprivate DLLNode&lt;E&gt; current;\nprivate boolean iterateForward;\n\nRandom random = new Random();\nprivate DLLNode&lt;E&gt; head;\nint size;\nint count;\nboolean array[];\n\n\npublic DLLIterator(DLLNode&lt;E&gt; head, DLLNode&lt;E&gt; tail, boolean iterateForward, boolean iterateRandom, boolean array ) {\n    \n    this.head = head;\n    this.iterateForward  = iterateForward;\n    this.size = size;\n    current = head;\n    count = 0;\n    this.array = new boolean[size];\n    \n    if (iterateForward ) {\n        current = head;\n    }\n    else {\n        current = tail;\n    }\n}\n\n@Override\npublic boolean hasNext() {\n    \n    if (iterateForward) { \n    return current != null;\n    }\n        \n    return count &gt; size;\n    \n\n    \n}\n\n@Override\npublic E next() {\n    \n    if (iterateForward) {\n        E temp = current.getData();\n        current = current.getNext();\n        return temp;\n    }\n    else {\n        \n        int size = array.length;\n        int min = 0;\n        int range = size - min;\n        current = head;\n        for(int i = 0;i&lt;array.length;i++) {\n            int rand = (int)(Math.random() * range)+ min;\n\n            while(array[rand]!=true) {\n                array[rand]=true;\n                count++;\n            \n            }\n            return current.getData();\n        }\n</code></pre>\n<p>It's telling me that this.size has no effect, but I'm not sure why. The purpose of iterateforward is to go through the list from head to tail, although my main concern is IterateRandom. For the hasNext() method, I understand the purpose of the if iterateforward = true, but I'm not understanding the &quot;return count &gt; size&quot;, and I'm not sure if that's correct. I'm assuming it means if count is greater than size, return true, and it ends the loop, but does it end up working here? As for the next method, is there anything in there I'm doing wrong? I'm filling a boolean array with a random integer, and the while loop makes sure that I don't get any duplicates. Is there anything here I'm doing wrong/can improve? I'd really appreciate the help!</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":1,"creation_date":1653883982,"post_id":72428948,"comment_id":127951552,"body_markdown":"Welcome to SO. Can you show us how your Maven project is structured? A minimal version of the POMs including the parents (if there is one) and **problematic** dependencies would be helpful.","body":"Welcome to SO. Can you show us how your Maven project is structured? A minimal version of the POMs including the parents (if there is one) and <b>problematic</b> dependencies would be helpful."},{"owner":{"account_id":15402431,"reputation":1,"user_id":11111448,"display_name":"lin ran"},"score":0,"creation_date":1653963038,"post_id":72428948,"comment_id":127972758,"body_markdown":"Thks for your welcome. My Maven project has a parent named product, and has some sub module. apiassemblebizdalweb. I add the method in the biz","body":"Thks for your welcome. My Maven project has a parent named product, and has some sub module. apiassemblebizdalweb. I add the method in the biz"}],"owner":{"account_id":15402431,"reputation":1,"user_id":11111448,"display_name":"lin ran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653963913,"creation_date":1653882407,"question_id":72428948,"body_markdown":"I run my project with idea, everything is ok.But When I use maven to package and run my project, I find that some module not updated. I got this error when I call a method which was added last week.\r\n```\r\n2022.05.30 at02:56:36.111 [traceId:,spanId:] ERROR org.apache.juli.logging.DirectJDKLog 182 log - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler processing failed; nested exception is java.lang.AbstractMethodError: Method com/xx/web/controller/PolicyManageController.syncCreatePolicyManage(Ljava/util/List;)Lcom/xx/xx/api/vo/base/BaseResponse; is abstract] with root cause java.lang.AbstractMethodError: Method com/xx/web/controller/PolicyManageController.syncCreatePolicyManage(Ljava/util/List;)Lcom/xx/xx/api/vo/base/BaseResponse; is abstract\r\n2022-05-30T02:56:36.122604768Z \tat com.xx.xx.xx.web.controller.PolicyManageController.syncCreatePolicyManage(PolicyManageController.java) ~[xx-xx-web-1.0.0.20220524.030433-40.jar!/:?]\r\n2022-05-30T02:56:36.122610640Z \tat com.xx.xx.xx.api.rest.PolicyManageAPI$$FastClassBySpringCGLIB$$550d6744.invoke(&lt;generated&gt;) ~[xx-xx-api-1.0.1.SNAPSHOT.jar!/:?]\r\n... ...\r\n```\r\nMy local repository\r\n![Local Repo][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Gh5f.png","title":"Multi-Module Project with Maven","body":"<p>I run my project with idea, everything is ok.But When I use maven to package and run my project, I find that some module not updated. I got this error when I call a method which was added last week.</p>\n<pre><code>2022.05.30 at02:56:36.111 [traceId:,spanId:] ERROR org.apache.juli.logging.DirectJDKLog 182 log - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler processing failed; nested exception is java.lang.AbstractMethodError: Method com/xx/web/controller/PolicyManageController.syncCreatePolicyManage(Ljava/util/List;)Lcom/xx/xx/api/vo/base/BaseResponse; is abstract] with root cause java.lang.AbstractMethodError: Method com/xx/web/controller/PolicyManageController.syncCreatePolicyManage(Ljava/util/List;)Lcom/xx/xx/api/vo/base/BaseResponse; is abstract\n2022-05-30T02:56:36.122604768Z  at com.xx.xx.xx.web.controller.PolicyManageController.syncCreatePolicyManage(PolicyManageController.java) ~[xx-xx-web-1.0.0.20220524.030433-40.jar!/:?]\n2022-05-30T02:56:36.122610640Z  at com.xx.xx.xx.api.rest.PolicyManageAPI$$FastClassBySpringCGLIB$$550d6744.invoke(&lt;generated&gt;) ~[xx-xx-api-1.0.1.SNAPSHOT.jar!/:?]\n... ...\n</code></pre>\n<p>My local repository\n<img src=\"https://i.stack.imgur.com/6Gh5f.png\" alt=\"Local Repo\" /></p>\n"},{"tags":["java","scala","maven","sbt","ebay-api"],"comments":[{"owner":{"account_id":132750,"reputation":2444,"user_id":333643,"display_name":"nafg"},"score":2,"creation_date":1653985128,"post_id":72440795,"comment_id":127977425,"body_markdown":"https://developer.ebay.com/develop/ebay-sdks/java-sdk must be REALLY old since it says Sun J2SE SDK","body":"<a href=\"https://developer.ebay.com/develop/ebay-sdks/java-sdk\" rel=\"nofollow noreferrer\">developer.ebay.com/develop/ebay-sdks/java-sdk</a> must be REALLY old since it says Sun J2SE SDK"},{"owner":{"account_id":132750,"reputation":2444,"user_id":333643,"display_name":"nafg"},"score":2,"creation_date":1653985273,"post_id":72440795,"comment_id":127977481,"body_markdown":"I wonder if https://github.com/rjdavis3/ebay-sdk is any good","body":"I wonder if <a href=\"https://github.com/rjdavis3/ebay-sdk\" rel=\"nofollow noreferrer\">github.com/rjdavis3/ebay-sdk</a> is any good"}],"answers":[{"tags":[],"owner":{"account_id":25432109,"reputation":46,"user_id":19236343,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653963507,"creation_date":1653963353,"answer_id":72441607,"question_id":72440795,"body_markdown":"The download for that Java SDK includes the source and a pom.xml in the maven_build directory. You can use that to build the dependency and have it in your local maven repo.\r\n\r\nFrom there, you can either set that build up as a maven module to get built before your code, or you can take the jar and commit it with your code and use maven to install it at build time.\r\n\r\nHere is how you can use maven to install it from an in-project repo\r\nhttps://stackoverflow.com/questions/5692256/maven-best-way-of-linking-custom-external-jar-to-my-project\r\n","title":"How to add eBay JAVA SDK to the SBT or Maven project?","body":"<p>The download for that Java SDK includes the source and a pom.xml in the maven_build directory. You can use that to build the dependency and have it in your local maven repo.</p>\n<p>From there, you can either set that build up as a maven module to get built before your code, or you can take the jar and commit it with your code and use maven to install it at build time.</p>\n<p>Here is how you can use maven to install it from an in-project repo\n<a href=\"https://stackoverflow.com/questions/5692256/maven-best-way-of-linking-custom-external-jar-to-my-project\">Maven: best way of linking custom external JAR to my project?</a></p>\n"}],"owner":{"account_id":18566931,"reputation":39,"user_id":13529636,"display_name":"Marat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1653963507,"creation_date":1653952238,"question_id":72440795,"body_markdown":"I&#39;m trying to find out how to add eBay Java SDK for eBay REST API to the SCALA 2.13.8 SBT project. How to add eBay JAVA SDK to the SBT or Maven project?\r\n\r\neBay JAVA SDK page: https://developer.ebay.com/develop/ebay-sdks/java-sdk\r\n\r\nAvailable versions for download are 1131 and 1113. According to Trading API Release Notes, they are outdated, the up-to-date version is 1257.\r\n\r\nTrading API Release Notes: https://developer.ebay.com/DevZone/XML/docs/ReleaseNotes.html\r\n\r\nI&#39;ve looked on the mvnrepository.com, but this SDK is not represented there: https://mvnrepository.com/artifact/com.ebay?p=1\r\n\r\nFurthermore, I can&#39;t find a source code on eBay GitHub: https://github.com/orgs/eBay/repositories?q=sdk&amp;type=all&amp;language=java&amp;sort=","title":"How to add eBay JAVA SDK to the SBT or Maven project?","body":"<p>I'm trying to find out how to add eBay Java SDK for eBay REST API to the SCALA 2.13.8 SBT project. How to add eBay JAVA SDK to the SBT or Maven project?</p>\n<p>eBay JAVA SDK page: <a href=\"https://developer.ebay.com/develop/ebay-sdks/java-sdk\" rel=\"nofollow noreferrer\">https://developer.ebay.com/develop/ebay-sdks/java-sdk</a></p>\n<p>Available versions for download are 1131 and 1113. According to Trading API Release Notes, they are outdated, the up-to-date version is 1257.</p>\n<p>Trading API Release Notes: <a href=\"https://developer.ebay.com/DevZone/XML/docs/ReleaseNotes.html\" rel=\"nofollow noreferrer\">https://developer.ebay.com/DevZone/XML/docs/ReleaseNotes.html</a></p>\n<p>I've looked on the mvnrepository.com, but this SDK is not represented there: <a href=\"https://mvnrepository.com/artifact/com.ebay?p=1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.ebay?p=1</a></p>\n<p>Furthermore, I can't find a source code on eBay GitHub: <a href=\"https://github.com/orgs/eBay/repositories?q=sdk&amp;type=all&amp;language=java&amp;sort=\" rel=\"nofollow noreferrer\">https://github.com/orgs/eBay/repositories?q=sdk&amp;type=all&amp;language=java&amp;sort=</a></p>\n"},{"tags":["java","arrays","java.util.scanner","printstream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1653963144,"post_id":72441533,"comment_id":127972765,"body_markdown":"Have a look at the `ArrayList` class, and the function `Collections.sort(List list)`.","body":"Have a look at the <code>ArrayList</code> class, and the function <code>Collections.sort(List list)</code>."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653963286,"post_id":72441533,"comment_id":127972786,"body_markdown":"To add to @tgdavies, look at loading your data into an ArrayList, then secondly use the list to extract whatever information you want.","body":"To add to @tgdavies, look at loading your data into an ArrayList, then secondly use the list to extract whatever information you want."}],"owner":{"account_id":13628854,"reputation":17,"user_id":9831400,"display_name":"JustZap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653962563,"creation_date":1653962563,"question_id":72441533,"body_markdown":"I am doing homework for my computer programming class in school and I am trying to make a program that reads from a text file and prints out numbers as simple as that. To briefly explain it, it is a program that contains information of people and the information is outputted in the order of Person, Age, IQ, Gender, and Height. So, my teacher tells us to use the information from the text file and program it to create several statistics from it, such as &quot;give the average height,&quot; or tell &quot;how many people have an IQ over 140,&quot; and more. The last task he wants us to do is to put all ages from oldest to youngest. Though, I am not sure where to start with such. Any help?\r\n\r\nCode:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    class getnumbersfromFile\r\n    {\r\n        public static void main (String[] args) throws IOException\r\n        {\r\n            File file = new File(&quot;dataCopy.txt&quot;); //put the file name &quot;data.txt&quot; into a object of type &quot;File&quot;\r\n            Scanner scan = new Scanner(file); //open up the file from the last line so we can scan or extract data from it\r\n            int age = 0, count = 1, IQ = 0, gender = 0, height = 0, mcount = 0, tall = 0, genius = 0;\r\n            double averageIQ = 0, averageHeight = 0;\r\n            while (age != -1) //Ends at -1 in text file\r\n            {\r\n                System.out.println(&quot;Person &quot; + count);\r\n                System.out.println(age);\r\n                age = scan.nextInt(); // get one line at a time from the file we opened earlier\r\n    \r\n                if(age == -1)\r\n                {\r\n                    break;\r\n                }\r\n                else\r\n                {\r\n                System.out.println(IQ);\r\n                IQ = scan.nextInt();\r\n                if (IQ &gt;= 140) genius++;\r\n                averageIQ = averageIQ + IQ; \r\n                System.out.println(gender);\r\n                if (gender == 1) mcount = mcount + 1;\r\n                gender = scan.nextInt();\r\n                System.out.println(height);\r\n                height = scan.nextInt(); // print the current data from the file to the screen\r\n                averageHeight = averageHeight + height;\r\n                if (height &gt;= 72) tall++;\r\n                count++;\r\n                }\r\n            }\r\n            scan.close();\r\n            int small = (count - tall);\r\n            if (small &lt;= -1) small = small * -1;\r\n            System.out.println(&quot;Statistics: &quot;);\r\n            System.out.println(&quot;People: &quot; + count);\r\n            System.out.println(&quot;Males to females: &quot; + mcount + &quot;:&quot; + (count - mcount));\r\n            System.out.println(&quot;Tall people to normal/small people: &quot; + tall + &quot;:&quot; + (count - tall));\r\n            System.out.println(&quot;Average height: &quot; + (averageHeight/count));\r\n            System.out.println(&quot;Geniuses: &quot; + genius);\r\n            System.out.println(&quot;Average IQ: &quot; + (averageIQ/count));\r\n        }\r\n    }\r\n\r\nText file (If this helps in any way; the -1 is also for the while loop to end):\r\n\r\n    26\r\n    182\r\n    1\r\n    82\r\n    69\r\n    196\r\n    1\r\n    73\r\n    16\r\n    94\r\n    1\r\n    73\r\n    61\r\n    120\r\n    0\r\n    83\r\n    27\r\n    132\r\n    0\r\n    67\r\n    10\r\n    185\r\n    0\r\n    82\r\n    49\r\n    130\r\n    1\r\n    82\r\n    27\r\n    199\r\n    1\r\n    61\r\n    68\r\n    156\r\n    1\r\n    76\r\n    76\r\n    108\r\n    0\r\n    66\r\n    -1","title":"How would I sort numbers from greatest to least with variables from a file in Java","body":"<p>I am doing homework for my computer programming class in school and I am trying to make a program that reads from a text file and prints out numbers as simple as that. To briefly explain it, it is a program that contains information of people and the information is outputted in the order of Person, Age, IQ, Gender, and Height. So, my teacher tells us to use the information from the text file and program it to create several statistics from it, such as &quot;give the average height,&quot; or tell &quot;how many people have an IQ over 140,&quot; and more. The last task he wants us to do is to put all ages from oldest to youngest. Though, I am not sure where to start with such. Any help?</p>\n<p>Code:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\nclass getnumbersfromFile\n{\n    public static void main (String[] args) throws IOException\n    {\n        File file = new File(&quot;dataCopy.txt&quot;); //put the file name &quot;data.txt&quot; into a object of type &quot;File&quot;\n        Scanner scan = new Scanner(file); //open up the file from the last line so we can scan or extract data from it\n        int age = 0, count = 1, IQ = 0, gender = 0, height = 0, mcount = 0, tall = 0, genius = 0;\n        double averageIQ = 0, averageHeight = 0;\n        while (age != -1) //Ends at -1 in text file\n        {\n            System.out.println(&quot;Person &quot; + count);\n            System.out.println(age);\n            age = scan.nextInt(); // get one line at a time from the file we opened earlier\n\n            if(age == -1)\n            {\n                break;\n            }\n            else\n            {\n            System.out.println(IQ);\n            IQ = scan.nextInt();\n            if (IQ &gt;= 140) genius++;\n            averageIQ = averageIQ + IQ; \n            System.out.println(gender);\n            if (gender == 1) mcount = mcount + 1;\n            gender = scan.nextInt();\n            System.out.println(height);\n            height = scan.nextInt(); // print the current data from the file to the screen\n            averageHeight = averageHeight + height;\n            if (height &gt;= 72) tall++;\n            count++;\n            }\n        }\n        scan.close();\n        int small = (count - tall);\n        if (small &lt;= -1) small = small * -1;\n        System.out.println(&quot;Statistics: &quot;);\n        System.out.println(&quot;People: &quot; + count);\n        System.out.println(&quot;Males to females: &quot; + mcount + &quot;:&quot; + (count - mcount));\n        System.out.println(&quot;Tall people to normal/small people: &quot; + tall + &quot;:&quot; + (count - tall));\n        System.out.println(&quot;Average height: &quot; + (averageHeight/count));\n        System.out.println(&quot;Geniuses: &quot; + genius);\n        System.out.println(&quot;Average IQ: &quot; + (averageIQ/count));\n    }\n}\n</code></pre>\n<p>Text file (If this helps in any way; the -1 is also for the while loop to end):</p>\n<pre><code>26\n182\n1\n82\n69\n196\n1\n73\n16\n94\n1\n73\n61\n120\n0\n83\n27\n132\n0\n67\n10\n185\n0\n82\n49\n130\n1\n82\n27\n199\n1\n61\n68\n156\n1\n76\n76\n108\n0\n66\n-1\n</code></pre>\n"},{"tags":["java","android","firebase","kotlin"],"comments":[{"owner":{"account_id":12729591,"reputation":665,"user_id":9246764,"display_name":"David Lee"},"score":0,"creation_date":1625437545,"post_id":68249073,"comment_id":120620942,"body_markdown":"Have you tried `setCheck()`?","body":"Have you tried <code>setCheck()</code>?"},{"owner":{"account_id":15088793,"reputation":521,"user_id":10889271,"display_name":"Joozd"},"score":0,"creation_date":1625438320,"post_id":68249073,"comment_id":120621072,"body_markdown":"`findViewById&lt;View&gt;(R.id.checkBoxPlaytation)` - is that typo in your layout file as well?","body":"<code>findViewById&lt;View&gt;(R.id.checkBoxPlaytation)</code> - is that typo in your layout file as well?"},{"owner":{"account_id":13820336,"reputation":47,"user_id":10449646,"display_name":"Carlitox Arturo"},"score":0,"creation_date":1625441472,"post_id":68249073,"comment_id":120621437,"body_markdown":"I have tried with setCheck() and is not working, and kotlin always recomment use only ischeck","body":"I have tried with setCheck() and is not working, and kotlin always recomment use only ischeck"},{"owner":{"account_id":13820336,"reputation":47,"user_id":10449646,"display_name":"Carlitox Arturo"},"score":0,"creation_date":1625441496,"post_id":68249073,"comment_id":120621439,"body_markdown":"Joozd yes its the same name I have in my layout","body":"Joozd yes its the same name I have in my layout"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1625470011,"post_id":68249073,"comment_id":120625999,"body_markdown":"Can you try to comment others just let these codes only? \n`Playstation = findViewById&lt;View&gt;(R.id.checkBoxPlaytation) as CheckBox?\nPlaystation!!.isChecked= true;`","body":"Can you try to comment others just let these codes only?  <code>Playstation = findViewById&lt;View&gt;(R.id.checkBoxPlaytation) as CheckBox? Playstation!!.isChecked= true;</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1625474440,"post_id":68249073,"comment_id":120627669,"body_markdown":"Have you tried Ticherhaz FreePalestine&#39;s suggestion?","body":"Have you tried Ticherhaz FreePalestine&#39;s suggestion?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1653960504,"post_id":68249073,"comment_id":127972403,"body_markdown":"Please make a *minimum* example that replicates the problem you are seeing (e.g. a new activity with just one CheckBox). I am not able to replicate what you reported - using `myCheckBox.isChecked = true` works as expected when I try it.","body":"Please make a <i>minimum</i> example that replicates the problem you are seeing (e.g. a new activity with just one CheckBox). I am not able to replicate what you reported - using <code>myCheckBox.isChecked = true</code> works as expected when I try it."},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1661248589,"post_id":68249073,"comment_id":129720838,"body_markdown":"Have you tried isSelected ?","body":"Have you tried isSelected ?"}],"owner":{"account_id":13820336,"reputation":47,"user_id":10449646,"display_name":"Carlitox Arturo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653959939,"creation_date":1625435793,"question_id":68249073,"body_markdown":"I am trying to fill a checkbox using the function ischeked but Looks like it is not working no matter what I did, I have tried with .clearFocus(), toggle(), jumpDrawablesToCurrentState() but any of that methods works, I have tried to fill it after I create my checkbox and later when I compare \r\nthe result from firebase but it is not working in any case, here is my complete code hope you can help me.\r\n\r\n``` class SettingsActivity : AppCompatActivity() {\r\n    private var mNameField: EditText? = null\r\n    private var mPhoneField: EditText? = null\r\n    private var mBack: Button? = null\r\n    private var mConfirm: Button? = null\r\n    private var mProfileImage: ImageView? = null\r\n    private var mAuth: FirebaseAuth? = null\r\n    private var mUserDatabase: DatabaseReference? = null\r\n    private var userId: String? = null\r\n    private var name: String? = null\r\n    private var biografia: String? = null\r\n    private var profileImageUrl: String? = null\r\n    private var userSex: String? = null\r\n    private var resultUri: Uri? = null\r\n    private var mRadioGroupBuscar: RadioGroup? = null\r\n    private var valormRadioGroupBuscar: RadioGroup? = null\r\n    private lateinit var radioButtonBuscaSexo: RadioButton\r\n    private var PC: CheckBox?=null\r\n    private var Playstation: CheckBox?=null\r\n    private var Xbox : CheckBox?=null\r\n    private var Nintendo : CheckBox?=null\r\n    private var Movil: CheckBox?=null\r\n    private  var aString: String?=null\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_settings)\r\n        mNameField = findViewById&lt;View&gt;(R.id.name) as EditText\r\n        mPhoneField = findViewById&lt;View&gt;(R.id.phone) as EditText\r\n        mProfileImage = findViewById&lt;View&gt;(R.id.profileImage) as ImageView\r\n        mBack = findViewById&lt;View&gt;(R.id.back) as Button\r\n        mConfirm = findViewById&lt;View&gt;(R.id.confirm) as Button\r\n        mAuth = FirebaseAuth.getInstance()\r\n        userId = mAuth?.currentUser!!.uid\r\n        mUserDatabase = FirebaseDatabase.getInstance().reference.child(&quot;Users&quot;).child(userId!!)\r\n        mRadioGroupBuscar = findViewById&lt;View&gt;(R.id.radioGroupBusca) as RadioGroup\r\n\r\n        val selectIdBuscaSexo = mRadioGroupBuscar!!.checkedRadioButtonId\r\n        //val radioButtonBuscaSexo = findViewById&lt;View&gt;(selectIdBuscaSexo) as RadioButton\r\n        PC = findViewById&lt;View&gt;(R.id.checkBoxPc) as  CheckBox?\r\n\r\n        Xbox = findViewById&lt;View&gt;(R.id.checkBoxXbox) as  CheckBox?\r\n        Nintendo = findViewById&lt;View&gt;(R.id.checkBoxNintendo) as  CheckBox?\r\n        Movil = findViewById&lt;View&gt;(R.id.checkBoxMovil) as  CheckBox?\r\n\r\n        Playstation = findViewById&lt;View&gt;(R.id.checkBoxPlaytation) as CheckBox?\r\n\r\n        //I HAVE TRIED TO CHECK MY CHECKBOX HERE\r\n       // Playstation?.jumpDrawablesToCurrentState()\r\n      //  Playstation?.isChecked = true\r\n        Playstation!!.clearFocus()\r\n        Playstation!!.isChecked= true;\r\n        \r\n        userInfo\r\n        mProfileImage!!.setOnClickListener {\r\n            val intent = Intent(Intent.ACTION_PICK)\r\n            intent.type = &quot;image/*&quot;\r\n            startActivityForResult(intent, 1)\r\n        }\r\n        mConfirm!!.setOnClickListener { saveUserInformation() }\r\n        mBack!!.setOnClickListener(View.OnClickListener {\r\n            finish()\r\n            return@OnClickListener\r\n        })\r\n    }\r\n\r\n    private val userInfo: Unit\r\n        private get() {\r\n            mUserDatabase!!.addListenerForSingleValueEvent(object : ValueEventListener {\r\n                override fun onDataChange(dataSnapshot: DataSnapshot) {\r\n                    if (dataSnapshot.exists() &amp;&amp; dataSnapshot.childrenCount &gt; 0) {\r\n                        val map = dataSnapshot.value as Map&lt;String, Any?&gt;?\r\n                        if (map!![&quot;Name&quot;] != null) {\r\n                            name = map[&quot;Name&quot;].toString()\r\n                            mNameField!!.setText(name)\r\n                        }\r\n                        if (map[&quot;biografia&quot;] != null) {\r\n                            biografia = map[&quot;biografia&quot;].toString()\r\n                            mPhoneField!!.setText(biografia)\r\n                        }\r\n                        if (map[&quot;sexo&quot;] != null) {\r\n                            userSex = map[&quot;sexo&quot;].toString()\r\n                        }\r\n                        if (map[&quot;Playstation&quot;].toString() != &quot;false&quot;) {\r\n                            var aString = map[&quot;Playstation&quot;].toString()\r\n                            //HERE I tried to Cheked\r\n                            Playstation?.isChecked\r\n                            Playstation?.isChecked = true\r\n                            Playstation?.jumpDrawablesToCurrentState()\r\n                        }\r\n                        Glide.with(mProfileImage!!.context).clear(mProfileImage!!)\r\n                        if (map[&quot;profileImageUrl&quot;] != null) {\r\n                            profileImageUrl = map[&quot;profileImageUrl&quot;].toString()\r\n                            when (profileImageUrl) {\r\n                                &quot;default&quot; -&gt; Glide.with(application).load(R.mipmap.ic_launcher).into(mProfileImage!!)\r\n                                else -&gt; Glide.with(application).load(profileImageUrl).into(mProfileImage!!)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                override fun onCancelled(databaseError: DatabaseError) {}\r\n            })\r\n        }\r\n\r\n    private fun saveUserInformation() {\r\n        name = mNameField!!.text.toString()\r\n        biografia = mPhoneField!!.text.toString()\r\n       var buscasex = radioButtonBuscaSexo.text.toString()\r\n        val userInfo: java.util.HashMap&lt;Any?, Any?&gt; = java.util.HashMap&lt;Any?, Any?&gt;()\r\n        userInfo[&quot;Name&quot;] = name\r\n        userInfo[&quot;biografia&quot;] = biografia\r\n       // userInfo[&quot;buscarSexo&quot;] = buscasex\r\n      //  userInfo[&quot;PC&quot;] = checkIfItsChecked(PC!!)\r\n        userInfo[&quot;Playstation&quot;] = checkIfItsCheckedString(aString!!)\r\n       // userInfo[&quot;Xbox&quot;] = checkIfItsChecked(Xbox!!)\r\n      //  userInfo[&quot;Nintendo&quot;] = checkIfItsChecked(Nintendo!!)\r\n     //   userInfo[&quot;Movile&quot;] = checkIfItsChecked(Movil!!)\r\n        mUserDatabase?.updateChildren(userInfo as Map&lt;String, Any&gt;)\r\n        val a = 1\r\n        if (resultUri != null) {\r\n            val filepath = FirebaseStorage.getInstance().reference.child(&quot;profileImages&quot;).child(userId!!)\r\n            var bitmap: Bitmap? = null\r\n            try {\r\n                bitmap = MediaStore.Images.Media.getBitmap(application.contentResolver, resultUri)\r\n            } catch (e: IOException) {\r\n                e.printStackTrace()\r\n            }\r\n            val baos = ByteArrayOutputStream()\r\n            bitmap!!.compress(Bitmap.CompressFormat.JPEG, 20, baos)\r\n            val data = baos.toByteArray()\r\n            val uploadTask = filepath.putBytes(data)\r\n            uploadTask.addOnFailureListener { finish() }\r\n            uploadTask.addOnSuccessListener(OnSuccessListener { taskSnapshot -&gt;\r\n                val downloadUrl = taskSnapshot.storage.downloadUrl\r\n                while (!downloadUrl.isSuccessful);\r\n                val resultdowloadUrl: Uri? = downloadUrl.getResult()\r\n                val userInfo: MutableMap&lt;String, Any?&gt; = HashMap&lt;String, Any?&gt;()\r\n                Log.e(&quot;uri12&quot;,resultdowloadUrl.toString()+&quot;This is uri of image download&quot;);\r\n                Toast.makeText(this, resultdowloadUrl.toString(), Toast.LENGTH_SHORT).show();\r\n                userInfo.set(&quot;profileImageUrl&quot;, resultdowloadUrl.toString())\r\n                mUserDatabase!!.updateChildren(userInfo as Map&lt;String, Any&gt;)\r\n                finish()\r\n                return@OnSuccessListener\r\n            })\r\n        } else {\r\n            finish()\r\n        }\r\n    }\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        if (requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            val imageUri = data?.data\r\n            resultUri = imageUri\r\n            mProfileImage!!.setImageURI(resultUri)\r\n        }\r\n    }\r\n    private fun checkIfItsChecked(checkBox: CheckBox): Boolean{\r\n        return checkBox.isChecked\r\n    }\r\n    private fun checkIfItsCheckedString(string: String): Boolean{\r\n        return string == &quot;true&quot;\r\n    }\r\n}\r\n ```\r\n ","title":"isChecked is not working on checkbox Programmatically on Kotlin","body":"<p>I am trying to fill a checkbox using the function ischeked but Looks like it is not working no matter what I did, I have tried with .clearFocus(), toggle(), jumpDrawablesToCurrentState() but any of that methods works, I have tried to fill it after I create my checkbox and later when I compare\nthe result from firebase but it is not working in any case, here is my complete code hope you can help me.</p>\n<pre><code>    private var mNameField: EditText? = null\n    private var mPhoneField: EditText? = null\n    private var mBack: Button? = null\n    private var mConfirm: Button? = null\n    private var mProfileImage: ImageView? = null\n    private var mAuth: FirebaseAuth? = null\n    private var mUserDatabase: DatabaseReference? = null\n    private var userId: String? = null\n    private var name: String? = null\n    private var biografia: String? = null\n    private var profileImageUrl: String? = null\n    private var userSex: String? = null\n    private var resultUri: Uri? = null\n    private var mRadioGroupBuscar: RadioGroup? = null\n    private var valormRadioGroupBuscar: RadioGroup? = null\n    private lateinit var radioButtonBuscaSexo: RadioButton\n    private var PC: CheckBox?=null\n    private var Playstation: CheckBox?=null\n    private var Xbox : CheckBox?=null\n    private var Nintendo : CheckBox?=null\n    private var Movil: CheckBox?=null\n    private  var aString: String?=null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_settings)\n        mNameField = findViewById&lt;View&gt;(R.id.name) as EditText\n        mPhoneField = findViewById&lt;View&gt;(R.id.phone) as EditText\n        mProfileImage = findViewById&lt;View&gt;(R.id.profileImage) as ImageView\n        mBack = findViewById&lt;View&gt;(R.id.back) as Button\n        mConfirm = findViewById&lt;View&gt;(R.id.confirm) as Button\n        mAuth = FirebaseAuth.getInstance()\n        userId = mAuth?.currentUser!!.uid\n        mUserDatabase = FirebaseDatabase.getInstance().reference.child(&quot;Users&quot;).child(userId!!)\n        mRadioGroupBuscar = findViewById&lt;View&gt;(R.id.radioGroupBusca) as RadioGroup\n\n        val selectIdBuscaSexo = mRadioGroupBuscar!!.checkedRadioButtonId\n        //val radioButtonBuscaSexo = findViewById&lt;View&gt;(selectIdBuscaSexo) as RadioButton\n        PC = findViewById&lt;View&gt;(R.id.checkBoxPc) as  CheckBox?\n\n        Xbox = findViewById&lt;View&gt;(R.id.checkBoxXbox) as  CheckBox?\n        Nintendo = findViewById&lt;View&gt;(R.id.checkBoxNintendo) as  CheckBox?\n        Movil = findViewById&lt;View&gt;(R.id.checkBoxMovil) as  CheckBox?\n\n        Playstation = findViewById&lt;View&gt;(R.id.checkBoxPlaytation) as CheckBox?\n\n        //I HAVE TRIED TO CHECK MY CHECKBOX HERE\n       // Playstation?.jumpDrawablesToCurrentState()\n      //  Playstation?.isChecked = true\n        Playstation!!.clearFocus()\n        Playstation!!.isChecked= true;\n        \n        userInfo\n        mProfileImage!!.setOnClickListener {\n            val intent = Intent(Intent.ACTION_PICK)\n            intent.type = &quot;image/*&quot;\n            startActivityForResult(intent, 1)\n        }\n        mConfirm!!.setOnClickListener { saveUserInformation() }\n        mBack!!.setOnClickListener(View.OnClickListener {\n            finish()\n            return@OnClickListener\n        })\n    }\n\n    private val userInfo: Unit\n        private get() {\n            mUserDatabase!!.addListenerForSingleValueEvent(object : ValueEventListener {\n                override fun onDataChange(dataSnapshot: DataSnapshot) {\n                    if (dataSnapshot.exists() &amp;&amp; dataSnapshot.childrenCount &gt; 0) {\n                        val map = dataSnapshot.value as Map&lt;String, Any?&gt;?\n                        if (map!![&quot;Name&quot;] != null) {\n                            name = map[&quot;Name&quot;].toString()\n                            mNameField!!.setText(name)\n                        }\n                        if (map[&quot;biografia&quot;] != null) {\n                            biografia = map[&quot;biografia&quot;].toString()\n                            mPhoneField!!.setText(biografia)\n                        }\n                        if (map[&quot;sexo&quot;] != null) {\n                            userSex = map[&quot;sexo&quot;].toString()\n                        }\n                        if (map[&quot;Playstation&quot;].toString() != &quot;false&quot;) {\n                            var aString = map[&quot;Playstation&quot;].toString()\n                            //HERE I tried to Cheked\n                            Playstation?.isChecked\n                            Playstation?.isChecked = true\n                            Playstation?.jumpDrawablesToCurrentState()\n                        }\n                        Glide.with(mProfileImage!!.context).clear(mProfileImage!!)\n                        if (map[&quot;profileImageUrl&quot;] != null) {\n                            profileImageUrl = map[&quot;profileImageUrl&quot;].toString()\n                            when (profileImageUrl) {\n                                &quot;default&quot; -&gt; Glide.with(application).load(R.mipmap.ic_launcher).into(mProfileImage!!)\n                                else -&gt; Glide.with(application).load(profileImageUrl).into(mProfileImage!!)\n                            }\n                        }\n                    }\n                }\n\n                override fun onCancelled(databaseError: DatabaseError) {}\n            })\n        }\n\n    private fun saveUserInformation() {\n        name = mNameField!!.text.toString()\n        biografia = mPhoneField!!.text.toString()\n       var buscasex = radioButtonBuscaSexo.text.toString()\n        val userInfo: java.util.HashMap&lt;Any?, Any?&gt; = java.util.HashMap&lt;Any?, Any?&gt;()\n        userInfo[&quot;Name&quot;] = name\n        userInfo[&quot;biografia&quot;] = biografia\n       // userInfo[&quot;buscarSexo&quot;] = buscasex\n      //  userInfo[&quot;PC&quot;] = checkIfItsChecked(PC!!)\n        userInfo[&quot;Playstation&quot;] = checkIfItsCheckedString(aString!!)\n       // userInfo[&quot;Xbox&quot;] = checkIfItsChecked(Xbox!!)\n      //  userInfo[&quot;Nintendo&quot;] = checkIfItsChecked(Nintendo!!)\n     //   userInfo[&quot;Movile&quot;] = checkIfItsChecked(Movil!!)\n        mUserDatabase?.updateChildren(userInfo as Map&lt;String, Any&gt;)\n        val a = 1\n        if (resultUri != null) {\n            val filepath = FirebaseStorage.getInstance().reference.child(&quot;profileImages&quot;).child(userId!!)\n            var bitmap: Bitmap? = null\n            try {\n                bitmap = MediaStore.Images.Media.getBitmap(application.contentResolver, resultUri)\n            } catch (e: IOException) {\n                e.printStackTrace()\n            }\n            val baos = ByteArrayOutputStream()\n            bitmap!!.compress(Bitmap.CompressFormat.JPEG, 20, baos)\n            val data = baos.toByteArray()\n            val uploadTask = filepath.putBytes(data)\n            uploadTask.addOnFailureListener { finish() }\n            uploadTask.addOnSuccessListener(OnSuccessListener { taskSnapshot -&gt;\n                val downloadUrl = taskSnapshot.storage.downloadUrl\n                while (!downloadUrl.isSuccessful);\n                val resultdowloadUrl: Uri? = downloadUrl.getResult()\n                val userInfo: MutableMap&lt;String, Any?&gt; = HashMap&lt;String, Any?&gt;()\n                Log.e(&quot;uri12&quot;,resultdowloadUrl.toString()+&quot;This is uri of image download&quot;);\n                Toast.makeText(this, resultdowloadUrl.toString(), Toast.LENGTH_SHORT).show();\n                userInfo.set(&quot;profileImageUrl&quot;, resultdowloadUrl.toString())\n                mUserDatabase!!.updateChildren(userInfo as Map&lt;String, Any&gt;)\n                finish()\n                return@OnSuccessListener\n            })\n        } else {\n            finish()\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK) {\n            val imageUri = data?.data\n            resultUri = imageUri\n            mProfileImage!!.setImageURI(resultUri)\n        }\n    }\n    private fun checkIfItsChecked(checkBox: CheckBox): Boolean{\n        return checkBox.isChecked\n    }\n    private fun checkIfItsCheckedString(string: String): Boolean{\n        return string == &quot;true&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":5355185,"reputation":1862,"user_id":4335488,"accept_rate":79,"display_name":"HSchmale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653959073,"creation_date":1653959073,"answer_id":72441276,"question_id":72441228,"body_markdown":"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html\r\n\r\nYou would use selenium&#39;s actions class. It&#39;s really cool. So you would need to have another element already selected, I&#39;ll call this element `other`.\r\n\r\n    Actions actions = new Actions(webDriver);\r\n    actions.moveToElement(other).build().perform();\r\n\r\nAlthough this doesn&#39;t actually move the physical cursor it should be good enough.","title":"How to make Selenium webdriver&#39;s cursor exit a text area","body":"<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html\" rel=\"nofollow noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html</a></p>\n<p>You would use selenium's actions class. It's really cool. So you would need to have another element already selected, I'll call this element <code>other</code>.</p>\n<pre><code>Actions actions = new Actions(webDriver);\nactions.moveToElement(other).build().perform();\n</code></pre>\n<p>Although this doesn't actually move the physical cursor it should be good enough.</p>\n"}],"owner":{"account_id":25372702,"reputation":1,"user_id":19186238,"display_name":"Kimono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653959073,"creation_date":1653958351,"question_id":72441228,"body_markdown":"I&#39;m trying to use Selenium to create a omegle chat bot, not one that sends a message and DC&#39;s but one that trys to continue a conversation with a person for as long as it can. One issue I&#39;ve ran into is that omegle interprets having the cursor in the textArea as typing so it will continuously display &quot;Stranger is typing&quot; to the other person which is kinda a dead giveaway that its a bot and they skip. \r\n\r\nHow I interact with the text area:\r\nWebElement textArea = driver.findElement(By.cssSelector(&quot;textarea.chatmsg&quot;));\r\ntextArea.sendKeys(message);\r\nI&#39;m currently using chrome driver, and assuming the issue will be the same in the rest.\r\n\r\nAny suggestions on how to remove the curser from the text area? Thanks.","title":"How to make Selenium webdriver&#39;s cursor exit a text area","body":"<p>I'm trying to use Selenium to create a omegle chat bot, not one that sends a message and DC's but one that trys to continue a conversation with a person for as long as it can. One issue I've ran into is that omegle interprets having the cursor in the textArea as typing so it will continuously display &quot;Stranger is typing&quot; to the other person which is kinda a dead giveaway that its a bot and they skip.</p>\n<p>How I interact with the text area:\nWebElement textArea = driver.findElement(By.cssSelector(&quot;textarea.chatmsg&quot;));\ntextArea.sendKeys(message);\nI'm currently using chrome driver, and assuming the issue will be the same in the rest.</p>\n<p>Any suggestions on how to remove the curser from the text area? Thanks.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653898006,"post_id":72430983,"comment_id":127954809,"body_markdown":"Why should it use the cache? Did you enable it? Did you enable query caching and/or 2nd level caching?","body":"Why should it use the cache? Did you enable it? Did you enable query caching and/or 2nd level caching?"},{"owner":{"account_id":24069093,"reputation":55,"user_id":18045244,"display_name":"user18045244"},"score":0,"creation_date":1653958259,"post_id":72430983,"comment_id":127972119,"body_markdown":"@M. Deinum as far as I know, I learned that the data retrieved from the Repository is stored in the cache, but I wonder if I am misunderstanding it.","body":"@M. Deinum as far as I know, I learned that the data retrieved from the Repository is stored in the cache, but I wonder if I am misunderstanding it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653973618,"post_id":72430983,"comment_id":127974315,"body_markdown":"It is stored in the session but that doesn&#39;t mean the query results are cached, the query is still issues and if it happens to return the same object, it will be retrieved from the cache. But that doesn&#39;t mean that there is no query, that can only be done with a query cache (i.e. cache the query, parameters and the results thereof).","body":"It is stored in the session but that doesn&#39;t mean the query results are cached, the query is still issues and if it happens to return the same object, it will be retrieved from the cache. But that doesn&#39;t mean that there is no query, that can only be done with a query cache (i.e. cache the query, parameters and the results thereof)."}],"owner":{"account_id":24069093,"reputation":55,"user_id":18045244,"display_name":"user18045244"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653958275,"creation_date":1653897760,"question_id":72430983,"body_markdown":"How not to clear the JPA cache?\r\n\r\nCode do Searching destination, poi2dicon, poi3dicon, destinationcategory with findByCode and findByName.\r\n\r\nHowever, when executing the same parameter (findByCode(&quot;A&quot;)) in the for statement, the select statement is executed in the repository.\r\n\r\nI know that the value corresponding to findByCode(&quot;A&quot;) exists in the cache of JPA.\r\n\r\nThen, in the for statement, the query of findByCode(&quot;A&quot;) should be executed only once, but in reality, as many queries as rows.size are searched.\r\n\r\nI wonder how to keep the value of findByCode(&quot;A&quot;) in the cache, and why the content of findByCode(&quot;A&quot;) is lost in the code now.\r\n\r\n\r\n\r\n```\r\n            List&lt;Destination&gt; result = new ArrayList&lt;&gt;();\r\n            int headerLength = rows.get(0).size();\r\n            for (int i = 1; i &lt; rows. size(); i++) {\r\n                Map&lt;String, String&gt; destinationMap = new HashMap&lt;&gt;();\r\n                makeDestinaionMap(destinationMap)\r\n                \r\n\r\n                Destination findDestination = destinationRepository.findByCode(destinationMap.get(&quot;Identification Code&quot;));\r\n                Poi2dIcon poi2dIcon = poi2dIconService.findByName(destinationMap.get(&quot;2DIcon&quot;)).get(0);\r\n                Poi3dIcon poi3dIcon = poi3dIconService.findByName(destinationMap.get(&quot;3DIcon&quot;)).get(0);\r\n                DestinationCategory destinationCategory = destinationCategoryService.findByName(destinationMap.get(&quot;Category&quot;)).get(0);\r\n\r\n                // builder -&gt; save\r\n                Destination destination = Destination.builder()\r\n                        ...build()\r\n                if (findDestination != null) {\r\n                    destination.setId(findDestination.getId());\r\n                }\r\n                result.add(destination);\r\n            }\r\n            destinationRepository.saveAll(result);\r\n```\r\n\r\nBest Regards","title":"How not to clear the JPA cache?","body":"<p>How not to clear the JPA cache?</p>\n<p>Code do Searching destination, poi2dicon, poi3dicon, destinationcategory with findByCode and findByName.</p>\n<p>However, when executing the same parameter (findByCode(&quot;A&quot;)) in the for statement, the select statement is executed in the repository.</p>\n<p>I know that the value corresponding to findByCode(&quot;A&quot;) exists in the cache of JPA.</p>\n<p>Then, in the for statement, the query of findByCode(&quot;A&quot;) should be executed only once, but in reality, as many queries as rows.size are searched.</p>\n<p>I wonder how to keep the value of findByCode(&quot;A&quot;) in the cache, and why the content of findByCode(&quot;A&quot;) is lost in the code now.</p>\n<pre><code>            List&lt;Destination&gt; result = new ArrayList&lt;&gt;();\n            int headerLength = rows.get(0).size();\n            for (int i = 1; i &lt; rows. size(); i++) {\n                Map&lt;String, String&gt; destinationMap = new HashMap&lt;&gt;();\n                makeDestinaionMap(destinationMap)\n                \n\n                Destination findDestination = destinationRepository.findByCode(destinationMap.get(&quot;Identification Code&quot;));\n                Poi2dIcon poi2dIcon = poi2dIconService.findByName(destinationMap.get(&quot;2DIcon&quot;)).get(0);\n                Poi3dIcon poi3dIcon = poi3dIconService.findByName(destinationMap.get(&quot;3DIcon&quot;)).get(0);\n                DestinationCategory destinationCategory = destinationCategoryService.findByName(destinationMap.get(&quot;Category&quot;)).get(0);\n\n                // builder -&gt; save\n                Destination destination = Destination.builder()\n                        ...build()\n                if (findDestination != null) {\n                    destination.setId(findDestination.getId());\n                }\n                result.add(destination);\n            }\n            destinationRepository.saveAll(result);\n</code></pre>\n<p>Best Regards</p>\n"},{"tags":["java","android","eclipse","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":54063,"reputation":3290,"user_id":161711,"accept_rate":58,"display_name":"Paul Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1375325245,"creation_date":1375325245,"answer_id":17984426,"question_id":17984367,"body_markdown":"You&#39;ll have to update your SQLite database version first of all, then that will run your onUpgrade() method, which will drop all of your data. Then the table will be remade with the new schema that you have defined in your DATABASE_CREATE string. \r\n\r\nSo the main issue that this comes with is that you&#39;ll have to find a way to recover the data that is already existing in the table as the table will be dropped. You do get to run onUpgrade before this happens though so use this method as a point to save any data you need to from the database.\r\n\r\n    static final int DATABASE_VERSION = 2;\r\nand update your database creation string.","title":"How to add column on existing table in android SQLite?","body":"<p>You'll have to update your SQLite database version first of all, then that will run your onUpgrade() method, which will drop all of your data. Then the table will be remade with the new schema that you have defined in your DATABASE_CREATE string. </p>\n\n<p>So the main issue that this comes with is that you'll have to find a way to recover the data that is already existing in the table as the table will be dropped. You do get to run onUpgrade before this happens though so use this method as a point to save any data you need to from the database.</p>\n\n<pre><code>static final int DATABASE_VERSION = 2;\n</code></pre>\n\n<p>and update your database creation string.</p>\n"},{"tags":[],"owner":{"account_id":2676715,"reputation":600,"user_id":4979500,"display_name":"El Stepherino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482783457,"creation_date":1469661286,"answer_id":38624682,"question_id":17984367,"body_markdown":"You can also alter the existing table if all you want to do is add one or more columns.  So say you want to add a new column named &#39;my_new_col&#39; to a table named &#39;my_table&#39;, in addition to updating your database version number from 1 to 2, you can update the table&#39;s schema **without losing any data**:\r\n\r\n    ...\r\n    @Override\r\n    public void onUpgrade( SQLiteDatabase db, int oldVersion, int newVersion ) {\r\n        switch( newVersion ) {\r\n            \r\n            case 2: /* this is your new version number */\r\n\r\n                // ... Add new column &#39;my_new_col&#39; to table &#39;my_table&#39;\r\n                db.execSQL( &quot;alter table my_table add column my_new_col&quot; ) ;\r\n                break ;\r\n        }\r\n    }\r\n\r\nThat&#39;s it.  Of course you would want to define additional constraints on that new column and you&#39;d want to ensure that the new column is included in the original table&#39;s creation in &#39;onCreate(...)&#39;.","title":"How to add column on existing table in android SQLite?","body":"<p>You can also alter the existing table if all you want to do is add one or more columns.  So say you want to add a new column named 'my_new_col' to a table named 'my_table', in addition to updating your database version number from 1 to 2, you can update the table's schema <strong>without losing any data</strong>:</p>\n\n<pre><code>...\n@Override\npublic void onUpgrade( SQLiteDatabase db, int oldVersion, int newVersion ) {\n    switch( newVersion ) {\n\n        case 2: /* this is your new version number */\n\n            // ... Add new column 'my_new_col' to table 'my_table'\n            db.execSQL( \"alter table my_table add column my_new_col\" ) ;\n            break ;\n    }\n}\n</code></pre>\n\n<p>That's it.  Of course you would want to define additional constraints on that new column and you'd want to ensure that the new column is included in the original table's creation in 'onCreate(...)'.</p>\n"},{"tags":[],"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653956870,"creation_date":1653956870,"answer_id":72441132,"question_id":17984367,"body_markdown":"You have to do three things to successfully adding a column in existing table without losing previous data : \r\n\r\n1. Upgrade your db version : as like : \r\n\r\n       `static final int DB_VERSION = 2;`\r\n\r\n\r\n2. Add the new Column in Database creation STATEMENT: as like, here new column is `MEMBER_PHOTO` : \r\n\r\n \r\n\r\n    `private static final String CREATE_TABLE = &quot;create table &quot;+ TABLE_MEMBER + &quot;(&quot;\r\n                    + MEMBER_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;+ MEMBER_NAME  + &quot; TEXT NOT NULL, &quot;\r\n                    + MEMBER_PHOTO + &quot; TEXT NOT NULL);&quot;;`\r\n\r\n3. At last in OnUpgrade method add the column in upgraded execute : \r\n\r\n         @Override\r\n            public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n                // TODO Auto-generated method stub\r\n    \r\n                // new Version 2 :\r\n    \r\n                String sql = &quot;ALTER TABLE &quot; + TABLE_MEMBER + &quot; ADD COLUMN &quot; +\r\n                        &quot;MEMBER_PHOTO&quot; + &quot; TEXT NOT NULL DEFAULT &#39;&#39; &quot;;\r\n                db.execSQL(sql);\r\n                   \r\n            }","title":"How to add column on existing table in android SQLite?","body":"<p>You have to do three things to successfully adding a column in existing table without losing previous data :</p>\n<ol>\n<li><p>Upgrade your db version : as like :</p>\n<pre><code>`static final int DB_VERSION = 2;`\n</code></pre>\n</li>\n<li><p>Add the new Column in Database creation STATEMENT: as like, here new column is <code>MEMBER_PHOTO</code> :</p>\n<p><code>private static final String CREATE_TABLE = &quot;create table &quot;+ TABLE_MEMBER + &quot;(&quot; + MEMBER_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;+ MEMBER_NAME  + &quot; TEXT NOT NULL, &quot; + MEMBER_PHOTO + &quot; TEXT NOT NULL);&quot;;</code></p>\n</li>\n<li><p>At last in OnUpgrade method add the column in upgraded execute :</p>\n<pre><code>  @Override\n     public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n         // TODO Auto-generated method stub\n\n         // new Version 2 :\n\n         String sql = &quot;ALTER TABLE &quot; + TABLE_MEMBER + &quot; ADD COLUMN &quot; +\n                 &quot;MEMBER_PHOTO&quot; + &quot; TEXT NOT NULL DEFAULT '' &quot;;\n         db.execSQL(sql);\n\n     }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":3050880,"reputation":83,"user_id":2585462,"display_name":"Karl Caday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6448,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":17984426,"answer_count":3,"score":5,"last_activity_date":1653956870,"creation_date":1375324841,"question_id":17984367,"body_markdown":"how to add column in the existing table LOGIN. here&#39;s my sample code. \r\n        \r\nthis is my DataBaseAdapter class:\r\n        \r\n          \r\n    public class DataBaseHelper extends SQLiteOpenHelper\r\n    {\r\n    \tpublic DataBaseHelper(Context context, String name,CursorFactory factory, int version) \r\n        {\r\n    \t           super(context, name, factory, version);\r\n    \t}\r\n    \t// Called when no database exists in disk and the helper class needs\r\n    \t// to create a new one.\r\n    \t@Override\r\n    \tpublic void onCreate(SQLiteDatabase _db) \r\n    \t{\r\n    \t\t\t_db.execSQL(LoginDataBaseAdapter.DATABASE_CREATE);\r\n    \t\t\t\r\n    \t}\r\n    \t// Called when there is a database version mismatch meaning that the version\r\n    \t// of the database on disk needs to be upgraded to the current version.\r\n    \t@Override\r\n    \tpublic void onUpgrade(SQLiteDatabase _db, int _oldVersion, int _newVersion) \r\n    \t{\r\n    \t\t\t// Log the version upgrade.\r\n    \t\t\tLog.w(&quot;TaskDBAdapter&quot;, &quot;Upgrading from version &quot; +_oldVersion + &quot; to &quot; +_newVersion + &quot;, which will destroy all old data&quot;);\r\n    \t\r\n    \t\r\n    \t\t\t// Upgrade the existing database to conform to the new version. Multiple\r\n    \t\t\t// previous versions can be handled by comparing _oldVersion and _newVersion\r\n    \t\t\t// values.\r\n    \t\t\t// The simplest case is to drop the old table and create a new one.\r\n    \t\t\t_db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + &quot;TEMPLATE&quot;);\r\n    \t\t\t// Create a new one.\r\n    \t\t\tonCreate(_db);\r\n    \t}\r\n    \r\n    \r\nthis is my LoginDataBaseAdapter\r\n         \r\n    public class LoginDataBaseAdapter \r\n    {\r\n    \t\tstatic final String DATABASE_NAME = &quot;login.db&quot;;\r\n    \t\tstatic final int DATABASE_VERSION = 1;\r\n    \t\tpublic static final int NAME_COLUMN = 1;\r\n    \t\t// TODO: Create public field for each column in your table.\r\n    \t\t// SQL Statement to create a new database.\r\n    \t\tstatic final String DATABASE_CREATE = &quot;create table &quot;+&quot;LOGIN&quot;+\r\n    \t\t                             &quot;( &quot; +&quot;ID&quot;+&quot; integer primary key autoincrement,&quot;+ &quot;USERNAME  text,PASSWORD text); &quot;;\r\n    \t\t// Variable to hold the database instance\r\n    \t\tpublic  SQLiteDatabase db;\r\n    \t\t// Context of the application using the database.\r\n    \t\tprivate final Context context;\r\n    \t\t// Database open/upgrade helper\r\n    \t\tprivate DataBaseHelper dbHelper;\r\n    \t\tpublic  LoginDataBaseAdapter(Context _context) \r\n    \t\t{\r\n    \t\t\tcontext = _context;\r\n    \t\t\tdbHelper = new DataBaseHelper(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    \t\t}\r\n    \t\tpublic  LoginDataBaseAdapter open() throws SQLException \r\n    \t\t{\r\n    \t\t\tdb = dbHelper.getWritableDatabase();\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \t\tpublic void close() \r\n    \t\t{\r\n    \t\t\tdb.close();\r\n    \t\t}\r\n    \r\n    \t\tpublic  SQLiteDatabase getDatabaseInstance()\r\n    \t\t{\r\n    \t\t\treturn db;\r\n    \t\t}\r\n    \r\n    \t\tpublic void insertEntry(String userName,String password)\r\n    \t\t{\r\n    \t       ContentValues newValues = new ContentValues();\r\n    \t\t\t// Assign values for each row.\r\n    \t\t\tnewValues.put(&quot;USERNAME&quot;, userName);\r\n    \t\t\tnewValues.put(&quot;PASSWORD&quot;,password);\r\n    \t\t\t\r\n    \t\t\t// Insert the row into your table\r\n    \t\t\tdb.insert(&quot;LOGIN&quot;, null, newValues);\r\n    \t\t\t///Toast.makeText(context, &quot;Reminder Is Successfully Saved&quot;, Toast.LENGTH_LONG).show();\r\n    \t\t}\r\n    \t\tpublic int deleteEntry(String UserName)\r\n    \t\t{\r\n    \t\t\t//String id=String.valueOf(ID);\r\n    \t\t    String where=&quot;USERNAME=?&quot;;\r\n    \t\t    int numberOFEntriesDeleted= db.delete(&quot;LOGIN&quot;, where, new String[]{UserName}) ;\r\n    \t       // Toast.makeText(context, &quot;Number fo Entry Deleted Successfully : &quot;+numberOFEntriesDeleted, Toast.LENGTH_LONG).show();\r\n    \t        return numberOFEntriesDeleted;\r\n    \t\t}\t\r\n    \t\tpublic String getSinlgeEntry(String userName1)\r\n    \t\t{\r\n    \t\t\tCursor cursor=db.query(&quot;LOGIN&quot;, null, &quot; USERNAME=?&quot;, new String[]{userName1}, null, null, null);\r\n    \t        if(cursor.getCount()&lt;1) // UserName Not Exist\r\n    \t        {\r\n    \t        \tcursor.close();\r\n    \t        \treturn &quot;NOT EXIST&quot;;\r\n    \t        }\r\n    \t\t    cursor.moveToFirst();\r\n    \t\t\tString password= cursor.getString(cursor.getColumnIndex(&quot;PASSWORD&quot;));\r\n    \t\t\tcursor.close();\r\n    \t\t\treturn password;\t\t\t\t\r\n    \t\t}\r\n    \t\tpublic void  updateEntry(String userName,String password)\r\n    \t\t{\r\n    \t\t\t// Define the updated row content.\r\n    \t\t\tContentValues updatedValues = new ContentValues();\r\n    \t\t\t// Assign values for each row.\r\n    \t\t\tupdatedValues.put(&quot;USERNAME&quot;, userName);\r\n    \t\t\tupdatedValues.put(&quot;PASSWORD&quot;,password);\r\n    \t\t\t\r\n    \t        String where=&quot;USERNAME = ?&quot;;\r\n    \t\t    db.update(&quot;LOGIN&quot;,updatedValues, where, new String[]{userName});\t\t\t   \r\n    \t\t}\t\t\r\n    }\r\n        \r\n      \r\nhow can I add the columns FIRSTNAME(from TextView), LASTNAME(from TextView), DEPARTMENT(from Spinner).\r\n\r\n","title":"How to add column on existing table in android SQLite?","body":"<p>how to add column in the existing table LOGIN. here's my sample code. </p>\n\n<p>this is my DataBaseAdapter class:</p>\n\n<pre><code>public class DataBaseHelper extends SQLiteOpenHelper\n{\n    public DataBaseHelper(Context context, String name,CursorFactory factory, int version) \n    {\n               super(context, name, factory, version);\n    }\n    // Called when no database exists in disk and the helper class needs\n    // to create a new one.\n    @Override\n    public void onCreate(SQLiteDatabase _db) \n    {\n            _db.execSQL(LoginDataBaseAdapter.DATABASE_CREATE);\n\n    }\n    // Called when there is a database version mismatch meaning that the version\n    // of the database on disk needs to be upgraded to the current version.\n    @Override\n    public void onUpgrade(SQLiteDatabase _db, int _oldVersion, int _newVersion) \n    {\n            // Log the version upgrade.\n            Log.w(\"TaskDBAdapter\", \"Upgrading from version \" +_oldVersion + \" to \" +_newVersion + \", which will destroy all old data\");\n\n\n            // Upgrade the existing database to conform to the new version. Multiple\n            // previous versions can be handled by comparing _oldVersion and _newVersion\n            // values.\n            // The simplest case is to drop the old table and create a new one.\n            _db.execSQL(\"DROP TABLE IF EXISTS \" + \"TEMPLATE\");\n            // Create a new one.\n            onCreate(_db);\n    }\n</code></pre>\n\n<p>this is my LoginDataBaseAdapter</p>\n\n<pre><code>public class LoginDataBaseAdapter \n{\n        static final String DATABASE_NAME = \"login.db\";\n        static final int DATABASE_VERSION = 1;\n        public static final int NAME_COLUMN = 1;\n        // TODO: Create public field for each column in your table.\n        // SQL Statement to create a new database.\n        static final String DATABASE_CREATE = \"create table \"+\"LOGIN\"+\n                                     \"( \" +\"ID\"+\" integer primary key autoincrement,\"+ \"USERNAME  text,PASSWORD text); \";\n        // Variable to hold the database instance\n        public  SQLiteDatabase db;\n        // Context of the application using the database.\n        private final Context context;\n        // Database open/upgrade helper\n        private DataBaseHelper dbHelper;\n        public  LoginDataBaseAdapter(Context _context) \n        {\n            context = _context;\n            dbHelper = new DataBaseHelper(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n        public  LoginDataBaseAdapter open() throws SQLException \n        {\n            db = dbHelper.getWritableDatabase();\n            return this;\n        }\n        public void close() \n        {\n            db.close();\n        }\n\n        public  SQLiteDatabase getDatabaseInstance()\n        {\n            return db;\n        }\n\n        public void insertEntry(String userName,String password)\n        {\n           ContentValues newValues = new ContentValues();\n            // Assign values for each row.\n            newValues.put(\"USERNAME\", userName);\n            newValues.put(\"PASSWORD\",password);\n\n            // Insert the row into your table\n            db.insert(\"LOGIN\", null, newValues);\n            ///Toast.makeText(context, \"Reminder Is Successfully Saved\", Toast.LENGTH_LONG).show();\n        }\n        public int deleteEntry(String UserName)\n        {\n            //String id=String.valueOf(ID);\n            String where=\"USERNAME=?\";\n            int numberOFEntriesDeleted= db.delete(\"LOGIN\", where, new String[]{UserName}) ;\n           // Toast.makeText(context, \"Number fo Entry Deleted Successfully : \"+numberOFEntriesDeleted, Toast.LENGTH_LONG).show();\n            return numberOFEntriesDeleted;\n        }   \n        public String getSinlgeEntry(String userName1)\n        {\n            Cursor cursor=db.query(\"LOGIN\", null, \" USERNAME=?\", new String[]{userName1}, null, null, null);\n            if(cursor.getCount()&lt;1) // UserName Not Exist\n            {\n                cursor.close();\n                return \"NOT EXIST\";\n            }\n            cursor.moveToFirst();\n            String password= cursor.getString(cursor.getColumnIndex(\"PASSWORD\"));\n            cursor.close();\n            return password;                \n        }\n        public void  updateEntry(String userName,String password)\n        {\n            // Define the updated row content.\n            ContentValues updatedValues = new ContentValues();\n            // Assign values for each row.\n            updatedValues.put(\"USERNAME\", userName);\n            updatedValues.put(\"PASSWORD\",password);\n\n            String where=\"USERNAME = ?\";\n            db.update(\"LOGIN\",updatedValues, where, new String[]{userName});               \n        }       \n}\n</code></pre>\n\n<p>how can I add the columns FIRSTNAME(from TextView), LASTNAME(from TextView), DEPARTMENT(from Spinner).</p>\n"},{"tags":["java","kotlin","android-recyclerview","constructor","parcelable"],"answers":[{"tags":[],"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653956737,"creation_date":1653955878,"answer_id":72441072,"question_id":72440937,"body_markdown":"The easiest solution would be to use the [@Parcelize][1] annotation to avoid all the boilerplate.  If you have fields you&#39;d like to ignore look into the [transient][2] keyword.\r\n\r\nOn a secondary note, `Parcelable`s should only contain other serializable/supported types (if you do decided to try to implement `parcel.readMap()`).  Your Map is mapping to an `Any` type, which is not a `Serializable`, `Parcelable`, or primitive type, which is likely causing the error.\r\n\r\n\r\n  [1]: https://developer.android.com/kotlin/parcelize\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-transient/","title":"Reading a Hashmap on a Parcelable Constructor from a Data class in Kotlin","body":"<p>The easiest solution would be to use the <a href=\"https://developer.android.com/kotlin/parcelize\" rel=\"nofollow noreferrer\">@Parcelize</a> annotation to avoid all the boilerplate.  If you have fields you'd like to ignore look into the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-transient/\" rel=\"nofollow noreferrer\">transient</a> keyword.</p>\n<p>On a secondary note, <code>Parcelable</code>s should only contain other serializable/supported types (if you do decided to try to implement <code>parcel.readMap()</code>).  Your Map is mapping to an <code>Any</code> type, which is not a <code>Serializable</code>, <code>Parcelable</code>, or primitive type, which is likely causing the error.</p>\n"}],"owner":{"account_id":25422327,"reputation":13,"user_id":19228048,"display_name":"Lorenzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653956737,"creation_date":1653954181,"question_id":72440937,"body_markdown":"i&#39;m currently building an app in kotlin, i&#39;m trying to get the data from a single item on a recyclerview to later show it on a details screen, in order to do this im using a parcelable data class, and i&#39;m getting the following error:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.firebasecrudapplication, PID: 21852\r\n        kotlin.NotImplementedError: An operation is not implemented: alumnos\r\n            at com.example.firebasecrudapplication.models.Proyecto.&lt;init&gt;(Proyecto.kt:33)\r\n            at com.example.firebasecrudapplication.models.Proyecto$CREATOR.createFromParcel(Proyecto.kt:84)\r\n            at com.example.firebasecrudapplication.models.Proyecto$CREATOR.createFromParcel(Proyecto.kt:82)\r\n            at android.os.Parcel.readParcelable(Parcel.java:3333)\r\n            at android.os.Parcel.readValue(Parcel.java:3226)\r\n            at android.os.Parcel.readArrayMapInternal(Parcel.java:3623)\r\n            at android.os.BaseBundle.initializeFromParcelLocked(BaseBundle.java:292)\r\n            at android.os.BaseBundle.unparcel(BaseBundle.java:236)\r\n            at android.os.Bundle.getParcelable(Bundle.java:1002)\r\n            at android.content.Intent.getParcelableExtra(Intent.java:8548)\r\n            at com.example.firebasecrudapplication.DetallesProfesorActivity.onCreate(DetallesProfesorActivity.kt:13)\r\n            at android.app.Activity.performCreate(Activity.java:8054)\r\n            at android.app.Activity.performCreate(Activity.java:8034)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1341)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3666)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3842)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2252)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loopOnce(Looper.java:201)\r\n            at android.os.Looper.loop(Looper.java:288)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7842)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n    I/Process: Sending signal. PID: 21852 SIG: 9\r\n    Disconnected from the target VM, address: &#39;localhost:34009&#39;, transport: &#39;socket&#39;\r\n\r\nIt points to the parcel constructor on the Data class, and it shows that two of the fields are not being implemented since they are of the Map data type. This is the data class:\r\n\r\n    data class Proyecto(\r\n        val alcances :String ?= null,\r\n        val alumnos :Map&lt;String, Any&gt;?= null,\r\n        val areasConoc :String?= null,\r\n        val asignaturas :String?= null,\r\n        val cliente :String?= null,\r\n        val colaboradores :String?= null,\r\n        val compDes :String?= null,\r\n        val compPrev :String?= null,\r\n        val coordinador: String?= null,\r\n        val departamentos  :String?= null,\r\n        val impacto :String?= null,\r\n        val institucion :String?= null,\r\n        val justificacion :String?= null,\r\n        val limityrest :String?= null,\r\n        val materiaEje :String?= null,\r\n        val periodo : Map&lt;String, Any&gt; ?= null,\r\n        val plan :String?= null,\r\n        val planteamiento :String ?= null,\r\n        val profeResp :String?= null,\r\n        val tipoejec :String?= null,\r\n        val tituloproyecto :String ?= null\r\n    \r\n    ) : Parcelable {\r\n        constructor(parcel: Parcel) : this(\r\n            parcel.readString(),\r\n            TODO(&quot;alumnos&quot;),\r\n            parcel.readString()!!,\r\n            parcel.readString()!!,\r\n            parcel.readString()!!,\r\n            parcel.readString()!!,\r\n            parcel.readString()!!,\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            TODO(&quot;periodo&quot;),\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            parcel.readString(),\r\n            parcel.readString()\r\n        ) {\r\n        }\r\n    \r\n        override fun writeToParcel(parcel: Parcel, flags: Int) {\r\n            parcel.writeString(alcances)\r\n            parcel.writeString(areasConoc)\r\n            parcel.writeString(asignaturas)\r\n            parcel.writeString(cliente)\r\n            parcel.writeString(colaboradores)\r\n            parcel.writeString(compDes)\r\n            parcel.writeString(compPrev)\r\n            parcel.writeString(coordinador)\r\n            parcel.writeString(departamentos)\r\n            parcel.writeString(impacto)\r\n            parcel.writeString(institucion)\r\n            parcel.writeString(justificacion)\r\n            parcel.writeString(limityrest)\r\n            parcel.writeString(materiaEje)\r\n            parcel.writeString(plan)\r\n            parcel.writeString(planteamiento)\r\n            parcel.writeString(profeResp)\r\n            parcel.writeString(tipoejec)\r\n            parcel.writeString(tituloproyecto)\r\n        }\r\n    \r\n        override fun describeContents(): Int {\r\n            return 0\r\n        }\r\n    \r\n        companion object CREATOR : Parcelable.Creator&lt;Proyecto&gt; {\r\n            override fun createFromParcel(parcel: Parcel): Proyecto {\r\n                return Proyecto(parcel)\r\n            }\r\n    \r\n            override fun newArray(size: Int): Array&lt;Proyecto?&gt; {\r\n                return arrayOfNulls(size)\r\n            }\r\n        }\r\n    }\r\n\r\nIve tried to make this change: `parcel.readMap&lt;String, Any&gt;()`,  on the fields that ask for a HashMap type but i get the following error:\r\n\r\nType mismatch.\r\nRequired:\r\nMap&lt;String, Any&gt;?\r\nFound:\r\nUnit\r\n\r\n\r\nAny idea on how to fix this?\r\n\r\n","title":"Reading a Hashmap on a Parcelable Constructor from a Data class in Kotlin","body":"<p>i'm currently building an app in kotlin, i'm trying to get the data from a single item on a recyclerview to later show it on a details screen, in order to do this im using a parcelable data class, and i'm getting the following error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.firebasecrudapplication, PID: 21852\n    kotlin.NotImplementedError: An operation is not implemented: alumnos\n        at com.example.firebasecrudapplication.models.Proyecto.&lt;init&gt;(Proyecto.kt:33)\n        at com.example.firebasecrudapplication.models.Proyecto$CREATOR.createFromParcel(Proyecto.kt:84)\n        at com.example.firebasecrudapplication.models.Proyecto$CREATOR.createFromParcel(Proyecto.kt:82)\n        at android.os.Parcel.readParcelable(Parcel.java:3333)\n        at android.os.Parcel.readValue(Parcel.java:3226)\n        at android.os.Parcel.readArrayMapInternal(Parcel.java:3623)\n        at android.os.BaseBundle.initializeFromParcelLocked(BaseBundle.java:292)\n        at android.os.BaseBundle.unparcel(BaseBundle.java:236)\n        at android.os.Bundle.getParcelable(Bundle.java:1002)\n        at android.content.Intent.getParcelableExtra(Intent.java:8548)\n        at com.example.firebasecrudapplication.DetallesProfesorActivity.onCreate(DetallesProfesorActivity.kt:13)\n        at android.app.Activity.performCreate(Activity.java:8054)\n        at android.app.Activity.performCreate(Activity.java:8034)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1341)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3666)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3842)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2252)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7842)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\nI/Process: Sending signal. PID: 21852 SIG: 9\nDisconnected from the target VM, address: 'localhost:34009', transport: 'socket'\n</code></pre>\n<p>It points to the parcel constructor on the Data class, and it shows that two of the fields are not being implemented since they are of the Map data type. This is the data class:</p>\n<pre><code>data class Proyecto(\n    val alcances :String ?= null,\n    val alumnos :Map&lt;String, Any&gt;?= null,\n    val areasConoc :String?= null,\n    val asignaturas :String?= null,\n    val cliente :String?= null,\n    val colaboradores :String?= null,\n    val compDes :String?= null,\n    val compPrev :String?= null,\n    val coordinador: String?= null,\n    val departamentos  :String?= null,\n    val impacto :String?= null,\n    val institucion :String?= null,\n    val justificacion :String?= null,\n    val limityrest :String?= null,\n    val materiaEje :String?= null,\n    val periodo : Map&lt;String, Any&gt; ?= null,\n    val plan :String?= null,\n    val planteamiento :String ?= null,\n    val profeResp :String?= null,\n    val tipoejec :String?= null,\n    val tituloproyecto :String ?= null\n\n) : Parcelable {\n    constructor(parcel: Parcel) : this(\n        parcel.readString(),\n        TODO(&quot;alumnos&quot;),\n        parcel.readString()!!,\n        parcel.readString()!!,\n        parcel.readString()!!,\n        parcel.readString()!!,\n        parcel.readString()!!,\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        TODO(&quot;periodo&quot;),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString()\n    ) {\n    }\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeString(alcances)\n        parcel.writeString(areasConoc)\n        parcel.writeString(asignaturas)\n        parcel.writeString(cliente)\n        parcel.writeString(colaboradores)\n        parcel.writeString(compDes)\n        parcel.writeString(compPrev)\n        parcel.writeString(coordinador)\n        parcel.writeString(departamentos)\n        parcel.writeString(impacto)\n        parcel.writeString(institucion)\n        parcel.writeString(justificacion)\n        parcel.writeString(limityrest)\n        parcel.writeString(materiaEje)\n        parcel.writeString(plan)\n        parcel.writeString(planteamiento)\n        parcel.writeString(profeResp)\n        parcel.writeString(tipoejec)\n        parcel.writeString(tituloproyecto)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;Proyecto&gt; {\n        override fun createFromParcel(parcel: Parcel): Proyecto {\n            return Proyecto(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;Proyecto?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n<p>Ive tried to make this change: <code>parcel.readMap&lt;String, Any&gt;()</code>,  on the fields that ask for a HashMap type but i get the following error:</p>\n<p>Type mismatch.\nRequired:\nMap&lt;String, Any&gt;?\nFound:\nUnit</p>\n<p>Any idea on how to fix this?</p>\n"},{"tags":["java","android","canvas","draw","emoji"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653956200,"creation_date":1653777481,"answer_id":72419699,"question_id":72416452,"body_markdown":"**Update**\r\n\r\nAlso see [this bug report](https://issuetracker.google.com/issues/217573430).\r\n\r\nThe [Face in Clouds Emoji](https://emojipedia.org/face-in-clouds/) was added in [Emoji Version 13.1](https://emojipedia.org/emoji-13.1/) and will probably be generally available in later versions of Android. My answer, below, works for API 31 but not for API 30 or before. There is a backward compatibility issue with that solution.\r\n\r\nThere is a class [EmojiCompat](https://developer.android.com/reference/androidx/emoji/text/EmojiCompat) that can supply compatibility that will display the &quot;Face in Clouds&quot; emoji on Android version before API 31.\r\n\r\nI have put together a [EmojiCompat](https://github.com/Cheticamp/EmojiCompat) project based on the EmojiCompat app in Google&#39;s [user-interface-samples](https://github.com/android/user-interface-samples). A couple of notes on this demo:\r\n\r\n1. The _EmojiCompatApplication_ class has some important setup.\r\n\r\n2. The dependency on version 1.1.0 of _androidx.emoji:emoji-bundled_ was updated to version _1.2.0-alpha03_. Without this update, the &quot;Face in Clouds&quot; emoji displays as two emojis and not one. As new emojis are released (yearly, I think), this library will need to be updated. I believe an alternative is to use downloadable emoji fonts, but I do not address downloadable fonts here.\r\n\r\n3. In _MainActivity_, I left everything as it was in the Google project except that I added processing for &quot;MyView&quot; which creates a _StaticLayout_ and displays the content using `Layout.draw(canvas)` as specified in my previous solution which is what the OP was requesting. `Canvas.drawText()` is still discouraged.\r\n\r\nHere is the output of the demo app on an emulator running API 24:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis was more involved than I thought at first and I could not find a good tutorial online. Maybe someone knows of one and can suggest it.\r\n\r\n---\r\n---\r\n\r\nI used the following simple code to create the combined emoji.\r\n\r\n    //    val cloudy = &quot;\\u1F636\\u200D\\u1F32B\\uFE0F&quot;\r\n    val cloudyFace = intArrayOf(0x1F636, 0x200D, 0x1F32B, 0xFE0F)\r\n    val sb = StringBuilder()\r\n    for (i in 0 until cloudyFace.size) {\r\n        sb.append(getUtf16FromInt(cloudyFace[i]))\r\n    }\r\n    binding.textView.text = sb.toString()\r\n\r\n    fun getUtf16FromInt(unicode: Int) = String(Character.toChars(unicode))\r\n\r\nInstead of using `Canvas.drawText()` use `layout.draw(canvas)` where `layout` is a [`StaticLayout`](https://developer.android.com/reference/android/text/StaticLayout). From the documentation:\r\n\r\n&gt;This is used by widgets to control text layout. You should not need to use this class directly unless you are implementing your own widget or custom display object, or would be tempted to call Canvas.drawText() directly.\r\n\r\nBottom line: Don&#39;t use `Canvas.drawText()`.\r\n\r\nYou may also use the  [_BoringLayout_](https://developer.android.com/reference/android/text/BoringLayout) class if that better suits your needs.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e0icP.png\r\n  [2]: https://i.stack.imgur.com/dKZ5A.png","title":"Why are complex emojis not merged but split up when drawn on Android canvas?","body":"<p><strong>Update</strong></p>\n<p>Also see <a href=\"https://issuetracker.google.com/issues/217573430\" rel=\"nofollow noreferrer\">this bug report</a>.</p>\n<p>The <a href=\"https://emojipedia.org/face-in-clouds/\" rel=\"nofollow noreferrer\">Face in Clouds Emoji</a> was added in <a href=\"https://emojipedia.org/emoji-13.1/\" rel=\"nofollow noreferrer\">Emoji Version 13.1</a> and will probably be generally available in later versions of Android. My answer, below, works for API 31 but not for API 30 or before. There is a backward compatibility issue with that solution.</p>\n<p>There is a class <a href=\"https://developer.android.com/reference/androidx/emoji/text/EmojiCompat\" rel=\"nofollow noreferrer\">EmojiCompat</a> that can supply compatibility that will display the &quot;Face in Clouds&quot; emoji on Android version before API 31.</p>\n<p>I have put together a <a href=\"https://github.com/Cheticamp/EmojiCompat\" rel=\"nofollow noreferrer\">EmojiCompat</a> project based on the EmojiCompat app in Google's <a href=\"https://github.com/android/user-interface-samples\" rel=\"nofollow noreferrer\">user-interface-samples</a>. A couple of notes on this demo:</p>\n<ol>\n<li><p>The <em>EmojiCompatApplication</em> class has some important setup.</p>\n</li>\n<li><p>The dependency on version 1.1.0 of <em>androidx.emoji:emoji-bundled</em> was updated to version <em>1.2.0-alpha03</em>. Without this update, the &quot;Face in Clouds&quot; emoji displays as two emojis and not one. As new emojis are released (yearly, I think), this library will need to be updated. I believe an alternative is to use downloadable emoji fonts, but I do not address downloadable fonts here.</p>\n</li>\n<li><p>In <em>MainActivity</em>, I left everything as it was in the Google project except that I added processing for &quot;MyView&quot; which creates a <em>StaticLayout</em> and displays the content using <code>Layout.draw(canvas)</code> as specified in my previous solution which is what the OP was requesting. <code>Canvas.drawText()</code> is still discouraged.</p>\n</li>\n</ol>\n<p>Here is the output of the demo app on an emulator running API 24:</p>\n<p><a href=\"https://i.stack.imgur.com/e0icP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0icP.png\" alt=\"enter image description here\" /></a></p>\n<p>This was more involved than I thought at first and I could not find a good tutorial online. Maybe someone knows of one and can suggest it.</p>\n<hr />\n<hr />\n<p>I used the following simple code to create the combined emoji.</p>\n<pre><code>//    val cloudy = &quot;\\u1F636\\u200D\\u1F32B\\uFE0F&quot;\nval cloudyFace = intArrayOf(0x1F636, 0x200D, 0x1F32B, 0xFE0F)\nval sb = StringBuilder()\nfor (i in 0 until cloudyFace.size) {\n    sb.append(getUtf16FromInt(cloudyFace[i]))\n}\nbinding.textView.text = sb.toString()\n\nfun getUtf16FromInt(unicode: Int) = String(Character.toChars(unicode))\n</code></pre>\n<p>Instead of using <code>Canvas.drawText()</code> use <code>layout.draw(canvas)</code> where <code>layout</code> is a <a href=\"https://developer.android.com/reference/android/text/StaticLayout\" rel=\"nofollow noreferrer\"><code>StaticLayout</code></a>. From the documentation:</p>\n<blockquote>\n<p>This is used by widgets to control text layout. You should not need to use this class directly unless you are implementing your own widget or custom display object, or would be tempted to call Canvas.drawText() directly.</p>\n</blockquote>\n<p>Bottom line: Don't use <code>Canvas.drawText()</code>.</p>\n<p>You may also use the  <a href=\"https://developer.android.com/reference/android/text/BoringLayout\" rel=\"nofollow noreferrer\"><em>BoringLayout</em></a> class if that better suits your needs.</p>\n<p><a href=\"https://i.stack.imgur.com/dKZ5A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dKZ5A.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5708046,"reputation":117,"user_id":4510930,"display_name":"Gerrit Humberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72419699,"answer_count":1,"score":1,"last_activity_date":1653956200,"creation_date":1653748086,"question_id":72416452,"body_markdown":"I want to implement an emoji selector for my keyboard app Keyboard Designer. To do so I want to draw emojis based on unicodes in hexadecimal format. The emoji &quot;\\\\u1F636\\\\u200D\\\\u1F32B\\\\uFE0F&quot; is shown correctly when I write it in the text field (two eyes behind a cloud), but when I draw it on my canvas, it looks like two separate emojis (left top corner of the keyboard):\r\n\r\n[![Emoji is not draw correctly][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/htSUP.jpg\r\n\r\n***Hint:** The hearts do nothing have to do with the question, they only mark favourite emojis*\r\n\r\n My source is nested in objects and methods, but to show you how it works, I change it to linear commands:\r\n\r\n    ArrayList&lt;char[]&gt; utf16Chars = new ArrayList&lt;&gt;();\r\n    String hexCode = &quot;\\\\u1F636\\\\u200D\\\\u1F32B\\\\uFE0F&quot;;\r\n    int distance;\r\n    if (hexCode.startsWith(&quot;\\\\&quot;)) {\r\n        for (int i = 0; i &lt; hexCode.length(); i += distance) {\r\n            distance = hexCode.indexOf(&quot;\\\\&quot;, i + 1) - i;\r\n            if (distance &lt; 0)\r\n                distance = hexCode.length() - i;\r\n            String utf16Code = hexCode.substring(i, i + distance);\r\n            int decimalCode = Integer.parseInt(utf16Code.length() &gt;= 6 ? utf16Code.substring(2) : utf16Code, 16);\r\n            char[] utf8Chars = Character.toChars(decimalCode);\r\n            utf16Chars.add(utf8Chars);\r\n        }\r\n    }\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    for(char[] utf8Chars : utf16Chars)\r\n        for(char character : utf8Chars)\r\n            stringBuilder.append(character);\r\n\r\n    String emoji = stringBuilder.toString();\r\n    canvas.drawText(emoji, 0, emoji.length(), x, y, paint);\r\n\r\nDoes anyone have an idea what I do wrong?","title":"Why are complex emojis not merged but split up when drawn on Android canvas?","body":"<p>I want to implement an emoji selector for my keyboard app Keyboard Designer. To do so I want to draw emojis based on unicodes in hexadecimal format. The emoji &quot;\\u1F636\\u200D\\u1F32B\\uFE0F&quot; is shown correctly when I write it in the text field (two eyes behind a cloud), but when I draw it on my canvas, it looks like two separate emojis (left top corner of the keyboard):</p>\n<p><a href=\"https://i.stack.imgur.com/htSUP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/htSUP.jpg\" alt=\"Emoji is not draw correctly\" /></a></p>\n<p><em><strong>Hint:</strong> The hearts do nothing have to do with the question, they only mark favourite emojis</em></p>\n<p>My source is nested in objects and methods, but to show you how it works, I change it to linear commands:</p>\n<pre><code>ArrayList&lt;char[]&gt; utf16Chars = new ArrayList&lt;&gt;();\nString hexCode = &quot;\\\\u1F636\\\\u200D\\\\u1F32B\\\\uFE0F&quot;;\nint distance;\nif (hexCode.startsWith(&quot;\\\\&quot;)) {\n    for (int i = 0; i &lt; hexCode.length(); i += distance) {\n        distance = hexCode.indexOf(&quot;\\\\&quot;, i + 1) - i;\n        if (distance &lt; 0)\n            distance = hexCode.length() - i;\n        String utf16Code = hexCode.substring(i, i + distance);\n        int decimalCode = Integer.parseInt(utf16Code.length() &gt;= 6 ? utf16Code.substring(2) : utf16Code, 16);\n        char[] utf8Chars = Character.toChars(decimalCode);\n        utf16Chars.add(utf8Chars);\n    }\n}\nStringBuilder stringBuilder = new StringBuilder();\nfor(char[] utf8Chars : utf16Chars)\n    for(char character : utf8Chars)\n        stringBuilder.append(character);\n\nString emoji = stringBuilder.toString();\ncanvas.drawText(emoji, 0, emoji.length(), x, y, paint);\n</code></pre>\n<p>Does anyone have an idea what I do wrong?</p>\n"},{"tags":["java","apache-commons-beanutils"],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287123305,"creation_date":1287123305,"answer_id":3939897,"question_id":3939849,"body_markdown":"You may be able to resolve the conflict with commons-logging by using the alternate commons-logging [bridge implementation provided by SFL4j][1].\r\n\r\n&gt; Often times, replacing commons-logging.jar with jcl-over-slf4j.jar will immediately and permanently solve class loader issues related to commons logging. \r\n\r\n  [1]: http://www.slf4j.org/legacy.html","title":"commons beanutils alternative","body":"<p>You may be able to resolve the conflict with commons-logging by using the alternate commons-logging <a href=\"http://www.slf4j.org/legacy.html\" rel=\"nofollow\">bridge implementation provided by SFL4j</a>.</p>\n\n<blockquote>\n  <p>Often times, replacing commons-logging.jar with jcl-over-slf4j.jar will immediately and permanently solve class loader issues related to commons logging. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":188971,"reputation":3864,"user_id":428013,"accept_rate":85,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1288146955,"creation_date":1288146955,"answer_id":4029590,"question_id":3939849,"body_markdown":"Ended up writing my own mini beanutils to get around this dependency and removed commons-beanutils completely.\r\n\r\nThe SLF4J did not end up helping since it broke some other dependencies (damn you weblogic!).\r\n\r\nMy own implementation is probably slower since the commons-beanutils appears to cache some fetches to remove some reflective calls.\r\n\r\nMsg me if your interested in getting the source code of my implementation.","title":"commons beanutils alternative","body":"<p>Ended up writing my own mini beanutils to get around this dependency and removed commons-beanutils completely.</p>\n\n<p>The SLF4J did not end up helping since it broke some other dependencies (damn you weblogic!).</p>\n\n<p>My own implementation is probably slower since the commons-beanutils appears to cache some fetches to remove some reflective calls.</p>\n\n<p>Msg me if your interested in getting the source code of my implementation.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1296672083,"creation_date":1296672083,"answer_id":4878439,"question_id":3939849,"body_markdown":"While property handling is not the main focus of [Jackson][1], it can be used for that, as per [this article][2].\r\n\r\nThe basic idea is that you can not only read/write JSON to/from POJOs, but also do compatible conversions: including that of &quot;serializing&quot; a POJO as a Java Map. Since you can go back and forth between representations you basically get a bean introspector for free.\r\n\r\nJackson has no external dependencies, but you need both core (streaming api, impls) and mapper jars (data binding).\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonInFiveMinutes\r\n  [2]: http://www.cowtowncoder.com/blog/archives/2011/02/entry_440.html","title":"commons beanutils alternative","body":"<p>While property handling is not the main focus of <a href=\"http://wiki.fasterxml.com/JacksonInFiveMinutes\">Jackson</a>, it can be used for that, as per <a href=\"http://www.cowtowncoder.com/blog/archives/2011/02/entry_440.html\">this article</a>.</p>\n\n<p>The basic idea is that you can not only read/write JSON to/from POJOs, but also do compatible conversions: including that of \"serializing\" a POJO as a Java Map. Since you can go back and forth between representations you basically get a bean introspector for free.</p>\n\n<p>Jackson has no external dependencies, but you need both core (streaming api, impls) and mapper jars (data binding).</p>\n"},{"tags":[],"owner":{"account_id":369868,"reputation":10723,"user_id":717481,"accept_rate":100,"display_name":"sparc_spread"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373901165,"creation_date":1373900054,"answer_id":17657231,"question_id":3939849,"body_markdown":"If you are using Maven, you can exclude the commons-logging dependency like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.3&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;ve done the same with Spring, which also requires commons-logging.  In fact Spring themselves [taught me how to exclude it][1].  As far as I can tell, I now have a commons-logging-free environment.\r\n\r\n**Update**:  for something like SLF4J / Logback, you may also need this in your config file:\r\n\r\n    &lt;logger name=&quot;org.apache.commons&quot; level=&quot;OFF&quot; /&gt;\r\n\r\n\r\n  [1]: http://blog.springsource.org/2009/12/04/logging-dependencies-in-spring/","title":"commons beanutils alternative","body":"<p>If you are using Maven, you can exclude the commons-logging dependency like this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n    &lt;version&gt;1.8.3&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I've done the same with Spring, which also requires commons-logging.  In fact Spring themselves <a href=\"http://blog.springsource.org/2009/12/04/logging-dependencies-in-spring/\" rel=\"nofollow\">taught me how to exclude it</a>.  As far as I can tell, I now have a commons-logging-free environment.</p>\n\n<p><strong>Update</strong>:  for something like SLF4J / Logback, you may also need this in your config file:</p>\n\n<pre><code>&lt;logger name=\"org.apache.commons\" level=\"OFF\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165439,"reputation":4547,"user_id":388889,"accept_rate":100,"display_name":"sojin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1653956048,"creation_date":1410309348,"answer_id":25755609,"question_id":3939849,"body_markdown":"[Jodd][1] has very good collection of libraries, See if [Jodd BeanUtil][2] helps.\r\n\r\n\r\n  [1]: https://jodd.org/\r\n  [2]: https://util.jodd.org/beanutil/beanutil","title":"commons beanutils alternative","body":"<p><a href=\"https://jodd.org/\" rel=\"nofollow noreferrer\">Jodd</a> has very good collection of libraries, See if <a href=\"https://util.jodd.org/beanutil/beanutil\" rel=\"nofollow noreferrer\">Jodd BeanUtil</a> helps.</p>\n"},{"tags":[],"owner":{"account_id":5818571,"reputation":11,"user_id":4587346,"display_name":"Fabio Borriello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608132047,"creation_date":1608132047,"answer_id":65326137,"question_id":3939849,"body_markdown":"A valid alternative with no conflicts with other libraries is [BULL][1], you can find a guide on how to use it on [DZone][2]. It offers the possibility to also perform object transformation while coping.\r\n\r\n\r\n  [1]: https://github.com/HotelsDotCom/bull\r\n  [2]: https://dzone.com/articles/how-to-transform-any-type-of-java-bean-with-one-li","title":"commons beanutils alternative","body":"<p>A valid alternative with no conflicts with other libraries is <a href=\"https://github.com/HotelsDotCom/bull\" rel=\"nofollow noreferrer\">BULL</a>, you can find a guide on how to use it on <a href=\"https://dzone.com/articles/how-to-transform-any-type-of-java-bean-with-one-li\" rel=\"nofollow noreferrer\">DZone</a>. It offers the possibility to also perform object transformation while coping.</p>\n"}],"owner":{"account_id":188971,"reputation":3864,"user_id":428013,"accept_rate":85,"display_name":"Steven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10188,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":4029590,"answer_count":6,"score":8,"last_activity_date":1653956048,"creation_date":1287122630,"question_id":3939849,"body_markdown":"I am looking for a commons beanutils alternative.\r\nThe reason is that beanutils relies on commons-logging which is conflicting with existing libraries I am using.\r\n\r\nI would like a small self-contained alternative which will cause no/minimal conflicts.\r\n\r\nThe main functionality I am after is nested property retrieval.\r\n\r\nThanks in advance,\r\nSteven","title":"commons beanutils alternative","body":"<p>I am looking for a commons beanutils alternative.\nThe reason is that beanutils relies on commons-logging which is conflicting with existing libraries I am using.</p>\n\n<p>I would like a small self-contained alternative which will cause no/minimal conflicts.</p>\n\n<p>The main functionality I am after is nested property retrieval.</p>\n\n<p>Thanks in advance,\nSteven</p>\n"},{"tags":["javascript","java","html","css","android-studio"],"comments":[{"owner":{"account_id":14606682,"reputation":6073,"user_id":10549313,"display_name":"Bravo"},"score":1,"creation_date":1653953940,"post_id":72440899,"comment_id":127971576,"body_markdown":"the javascript code should be easily converted to java, as long as you now the basics of java - however, since it&#39;s clear you have no java knowledge, you&#39;ll be struggling with converting HTML and CSS","body":"the javascript code should be easily converted to java, as long as you now the basics of java - however, since it&#39;s clear you have no java knowledge, you&#39;ll be struggling with converting HTML and CSS"},{"owner":{"account_id":15623408,"reputation":714,"user_id":11271671,"display_name":"Laisender"},"score":0,"creation_date":1653954186,"post_id":72440899,"comment_id":127971605,"body_markdown":"If you want to learn Java, this could be a great project after the basics! I can reccommend [Processing for Java](https://processing.org/de/) . This will give you a more easy entry to java and it has very good support for graphical applications like a game! I used it in a lot of small games and it has a very elegant syntax, even if it is java.. //EDIT just read you want to use android studio :D nevermind","body":"If you want to learn Java, this could be a great project after the basics! I can reccommend <a href=\"https://processing.org/de/\" rel=\"nofollow noreferrer\">Processing for Java</a> . This will give you a more easy entry to java and it has very good support for graphical applications like a game! I used it in a lot of small games and it has a very elegant syntax, even if it is java.. //EDIT just read you want to use android studio :D nevermind"},{"owner":{"account_id":6177434,"reputation":30471,"user_id":4813913,"display_name":"m4n0"},"score":0,"creation_date":1653954570,"post_id":72440899,"comment_id":127971655,"body_markdown":"I would suggest you to follow a HTML, CSS and JavaScript video tutorial of any simple app instead of looking for assistance which is not focused. It will help you in the long run.","body":"I would suggest you to follow a HTML, CSS and JavaScript video tutorial of any simple app instead of looking for assistance which is not focused. It will help you in the long run."},{"owner":{"account_id":15899027,"reputation":31,"user_id":11471952,"display_name":"Allie Johnson"},"score":0,"creation_date":1653954810,"post_id":72440899,"comment_id":127971686,"body_markdown":"Hey guys! I have learned the basics but the way that we learned was that we had about 3 months learning one language and then we would switch to another. You can imagine how that might jumble up a beginner. I get my languages mixed up sometimes!\n\nThe first part in particular regarding the variables has me the most confused. Mostly on how to convert that syntax to a java form. var gameData = {\n        Points: 0,\n        PointsPerClick: 1,\n        PointsPerClickCost: 10\n      } \n\nSince I refer to gameData throughout the entire coding, I want to be sure that I have the correct syntax.","body":"Hey guys! I have learned the basics but the way that we learned was that we had about 3 months learning one language and then we would switch to another. You can imagine how that might jumble up a beginner. I get my languages mixed up sometimes!  The first part in particular regarding the variables has me the most confused. Mostly on how to convert that syntax to a java form. var gameData = {         Points: 0,         PointsPerClick: 1,         PointsPerClickCost: 10       }   Since I refer to gameData throughout the entire coding, I want to be sure that I have the correct syntax."}],"answers":[{"tags":[],"owner":{"account_id":515658,"reputation":108,"user_id":1436073,"display_name":"baig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653955751,"creation_date":1653955751,"answer_id":72441066,"question_id":72440899,"body_markdown":"&gt; Particularly the first variable that defines several other variables below. I would appreciate assistance.\r\n\r\nOne solution is to create a class named `GameData` with publicly accessible static variables:\r\n\r\n```java\r\nclass GameData {\r\n    public static int points = 0;\r\n    public static int pointsPerClick = 1;\r\n    public static int PointsPerClickCost = 10;\r\n}    \r\n```\r\n\r\nNow you can access these variables using the dot notation: `GameData.points`.\r\n\r\nHowever, I should specify that this is not idiomatic Java. An idiomatic solution would create a class named `GameData` and then instantiate objects of that class using the `new` keyword.","title":"How would I go about turning JavaScript into Java?","body":"<blockquote>\n<p>Particularly the first variable that defines several other variables below. I would appreciate assistance.</p>\n</blockquote>\n<p>One solution is to create a class named <code>GameData</code> with publicly accessible static variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class GameData {\n    public static int points = 0;\n    public static int pointsPerClick = 1;\n    public static int PointsPerClickCost = 10;\n}    \n</code></pre>\n<p>Now you can access these variables using the dot notation: <code>GameData.points</code>.</p>\n<p>However, I should specify that this is not idiomatic Java. An idiomatic solution would create a class named <code>GameData</code> and then instantiate objects of that class using the <code>new</code> keyword.</p>\n"}],"owner":{"account_id":15899027,"reputation":31,"user_id":11471952,"display_name":"Allie Johnson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653968872,"accepted_answer_id":72441066,"answer_count":1,"score":0,"last_activity_date":1653955751,"creation_date":1653953747,"question_id":72440899,"body_markdown":"I would like to use the following code in Android studio, instead of via a web browser. However, I am having trouble converting javascript into java. Particularly the first variable that defines several other variables below. I would appreciate assistance. This is the beginning of an idle game.\r\n\r\nmain.js\r\n   \r\n\r\n     var gameData = {\r\n            Points: 0,\r\n            PointsPerClick: 1,\r\n            PointsPerClickCost: 10\r\n          }\r\n        \r\n          const perClickUpgrade = document.getElementById(&quot;perClickUpgrade&quot;); \r\n        \r\n          perClickUpgrade.addEventListener(&quot;click&quot;, function handleClick() { \r\n          \r\n          perClickUpgrade.textContent = &quot;Upgrade Evolution Level (Currently Level &quot; + gameData.PointsPerClick + &quot;) Cost: &quot; + gameData.PointsPerClickCost + &quot; Points&quot;;\r\n          \r\n          }); \r\n        \r\n          function Upgrade() {\r\n            gameData.Points += gameData.PointsPerClick\r\n            document.getElementById(&quot;EvolPoints&quot;).innerHTML = gameData.Points + &quot; Evolution Points&quot;\r\n        \r\n          }\r\n        \r\n          function BuyPointsPerClick() {\r\n            if (gameData.Points &gt;= gameData.PointsPerClickCost) {\r\n              gameData.Points-= gameData.PointsPerClickCost\r\n              gameData.PointsPerClick += 1\r\n              gameData.PointsPerClickCost *= 2\r\n              document.getElementById(&quot;EvolPoints&quot;).innerHTML = gameData.Points + &quot; Evolution Points&quot;\r\n            document.getElementById(&quot;perClickUpgrade&quot;).innerHTML = &quot;Upgrade Evol Level (Currently Level &quot; + gameData.PointsPerClick + &quot;) Cost: &quot; + gameData.PointsPerClickCost + &quot; Points&quot;\r\n            }\r\n        \r\n        \r\n            var mainGameLoop = window.setInterval(function() {\r\n              Upgrade()\r\n            }, 1000)\r\n          \r\n        function LevelTen() {\r\n        if (gameData.Points &gt;= 10 ) {\r\n          alert(&quot;This is an alert message box.&quot;);  // display string message\r\n        }\r\n        \r\n        }\r\n        \r\n          }\r\n          function LevelTen() {\r\n            if (gameData.PointsPerClick &gt; 9 &amp;&amp; gameData.PointsPerClick &lt; 11) {\r\n              alert(&quot;Your Creature Has Evolved to Level Ten!&quot;);  // display string message      \r\n            }\r\n            }\r\n\r\nindex.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;\r\n      &lt;head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;title&gt;Evolution Idle Game&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;idlescreen.css&quot;&gt;\r\n        \r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;body style=&quot;background-color:rgb(0, 0, 0);&quot; &gt;&lt;/body&gt;\r\n        &lt;p id=&quot;EvolPoints&quot; class=&quot;evol-points&quot;&gt;0 Evolution Points&lt;/p&gt;\r\n        &lt;button onclick=&quot;Upgrade(), LevelTen()&quot; style=&quot;background-color:#f14e4e&quot; class=&quot;btn2&quot;&gt;Click to Upgrade&lt;/button&gt;\r\n        &lt;button onclick=&quot;BuyPointsPerClick(), LevelTen()&quot; style=&quot;background-color:#f1bb4e&quot; id=&quot;perClickUpgrade&quot; class=&quot;btn2&quot;&gt;Click to Start Automation&lt;/button&gt;\r\n        &lt;script src=&quot;main.js&quot; charset=&quot;utf-8&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n        &lt;img src=&quot;./Pictures/bat.png&quot; &gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nidlescreen.css\r\n\r\n    .evol-points {\r\n      color: #ffffff\r\n    }\r\n    \r\n      .btn2 {padding: 15px 25px;\r\n        font-size: 24px;\r\n        text-align: center;\r\n        text-decoration: none;\r\n        outline: none;\r\n        color: #fff;\r\n        cursor: pointer;\r\n        background-color: #4CAF50;\r\n        border: none;\r\n        border-radius: 15px;\r\n        box-shadow: 0 9px #999;\r\n      }\r\n      \r\n      .btn2:hover {background-color: #3e8e41}\r\n      \r\n      .btn2:active {\r\n        background-color: #3e8e41;\r\n        box-shadow: 0 5px #666;\r\n        transform: translateY(4px);\r\n      }\r\n\r\n  \r\n\r\n\r\n","title":"How would I go about turning JavaScript into Java?","body":"<p>I would like to use the following code in Android studio, instead of via a web browser. However, I am having trouble converting javascript into java. Particularly the first variable that defines several other variables below. I would appreciate assistance. This is the beginning of an idle game.</p>\n<p>main.js</p>\n<pre><code> var gameData = {\n        Points: 0,\n        PointsPerClick: 1,\n        PointsPerClickCost: 10\n      }\n    \n      const perClickUpgrade = document.getElementById(&quot;perClickUpgrade&quot;); \n    \n      perClickUpgrade.addEventListener(&quot;click&quot;, function handleClick() { \n      \n      perClickUpgrade.textContent = &quot;Upgrade Evolution Level (Currently Level &quot; + gameData.PointsPerClick + &quot;) Cost: &quot; + gameData.PointsPerClickCost + &quot; Points&quot;;\n      \n      }); \n    \n      function Upgrade() {\n        gameData.Points += gameData.PointsPerClick\n        document.getElementById(&quot;EvolPoints&quot;).innerHTML = gameData.Points + &quot; Evolution Points&quot;\n    \n      }\n    \n      function BuyPointsPerClick() {\n        if (gameData.Points &gt;= gameData.PointsPerClickCost) {\n          gameData.Points-= gameData.PointsPerClickCost\n          gameData.PointsPerClick += 1\n          gameData.PointsPerClickCost *= 2\n          document.getElementById(&quot;EvolPoints&quot;).innerHTML = gameData.Points + &quot; Evolution Points&quot;\n        document.getElementById(&quot;perClickUpgrade&quot;).innerHTML = &quot;Upgrade Evol Level (Currently Level &quot; + gameData.PointsPerClick + &quot;) Cost: &quot; + gameData.PointsPerClickCost + &quot; Points&quot;\n        }\n    \n    \n        var mainGameLoop = window.setInterval(function() {\n          Upgrade()\n        }, 1000)\n      \n    function LevelTen() {\n    if (gameData.Points &gt;= 10 ) {\n      alert(&quot;This is an alert message box.&quot;);  // display string message\n    }\n    \n    }\n    \n      }\n      function LevelTen() {\n        if (gameData.PointsPerClick &gt; 9 &amp;&amp; gameData.PointsPerClick &lt; 11) {\n          alert(&quot;Your Creature Has Evolved to Level Ten!&quot;);  // display string message      \n        }\n        }\n</code></pre>\n<p>index.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;title&gt;Evolution Idle Game&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;idlescreen.css&quot;&gt;\n    \n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;body style=&quot;background-color:rgb(0, 0, 0);&quot; &gt;&lt;/body&gt;\n    &lt;p id=&quot;EvolPoints&quot; class=&quot;evol-points&quot;&gt;0 Evolution Points&lt;/p&gt;\n    &lt;button onclick=&quot;Upgrade(), LevelTen()&quot; style=&quot;background-color:#f14e4e&quot; class=&quot;btn2&quot;&gt;Click to Upgrade&lt;/button&gt;\n    &lt;button onclick=&quot;BuyPointsPerClick(), LevelTen()&quot; style=&quot;background-color:#f1bb4e&quot; id=&quot;perClickUpgrade&quot; class=&quot;btn2&quot;&gt;Click to Start Automation&lt;/button&gt;\n    &lt;script src=&quot;main.js&quot; charset=&quot;utf-8&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n    &lt;img src=&quot;./Pictures/bat.png&quot; &gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>idlescreen.css</p>\n<pre><code>.evol-points {\n  color: #ffffff\n}\n\n  .btn2 {padding: 15px 25px;\n    font-size: 24px;\n    text-align: center;\n    text-decoration: none;\n    outline: none;\n    color: #fff;\n    cursor: pointer;\n    background-color: #4CAF50;\n    border: none;\n    border-radius: 15px;\n    box-shadow: 0 9px #999;\n  }\n  \n  .btn2:hover {background-color: #3e8e41}\n  \n  .btn2:active {\n    background-color: #3e8e41;\n    box-shadow: 0 5px #666;\n    transform: translateY(4px);\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jsp","spring-security"],"comments":[{"owner":{"account_id":23191669,"reputation":614,"user_id":17287940,"display_name":"Keivan Soleimani"},"score":1,"creation_date":1653844116,"post_id":72425676,"comment_id":127945295,"body_markdown":"Does this help you ? https://stackoverflow.com/questions/56074739/initial-login-page-not-showing-when-using-spring-boot-security","body":"Does this help you ? <a href=\"https://stackoverflow.com/questions/56074739/initial-login-page-not-showing-when-using-spring-boot-security\" title=\"initial login page not showing when using spring boot security\">stackoverflow.com/questions/56074739/&hellip;</a>"},{"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"score":0,"creation_date":1653845664,"post_id":72425676,"comment_id":127945629,"body_markdown":"I am pretty sure I&#39;ve done what is mentioned. In my securityFilterChain, I&#39;ve added &quot;/loginpage&quot; as an arguement to antMatchers and permited access to it. So it shouldn&#39;t be getting blocked by Spring Security.","body":"I am pretty sure I&#39;ve done what is mentioned. In my securityFilterChain, I&#39;ve added &quot;/loginpage&quot; as an arguement to antMatchers and permited access to it. So it shouldn&#39;t be getting blocked by Spring Security."},{"owner":{"account_id":23191669,"reputation":614,"user_id":17287940,"display_name":"Keivan Soleimani"},"score":0,"creation_date":1653846179,"post_id":72425676,"comment_id":127945716,"body_markdown":"Please insert / at the begining of the @RequestMapping(&quot;/loginpage&quot;) at the LoginController class and then test.","body":"Please insert / at the begining of the @RequestMapping(&quot;/loginpage&quot;) at the LoginController class and then test."},{"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"score":0,"creation_date":1653851711,"post_id":72425676,"comment_id":127946843,"body_markdown":"I&#39;ve tried that as well, same result.","body":"I&#39;ve tried that as well, same result."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653889055,"post_id":72425676,"comment_id":127952376,"body_markdown":"Use `@Controller` **not** `@RestController`. Also you should set `formLoging().loginPage(`/loginpage`).permittAll()`. I would also ditch JSP and use something like Thymeleaf as JSP and an embedded container are a bit of a pain to get working.","body":"Use <code>@Controller</code> <b>not</b> <code>@RestController</code>. Also you should set <code>formLoging().loginPage(</code>/loginpage<code>).permittAll()</code>. I would also ditch JSP and use something like Thymeleaf as JSP and an embedded container are a bit of a pain to get working."},{"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"score":0,"creation_date":1653917840,"post_id":72425676,"comment_id":127961928,"body_markdown":"So I made the changes you mentioned. Now on launch it directs me to loginpage, but still getting the same error. I placed my html file in resources/templates. My html file looks like this. I edited the post above to show what I have changed thus far.","body":"So I made the changes you mentioned. Now on launch it directs me to loginpage, but still getting the same error. I placed my html file in resources/templates. My html file looks like this. I edited the post above to show what I have changed thus far."}],"answers":[{"tags":[],"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653848747,"creation_date":1653848747,"answer_id":72426243,"question_id":72425676,"body_markdown":"From the official Spring Boot documentation: \r\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.static-content\r\n&gt; &lt;div&gt;By default, resources are mapped on /**, but you can tune that with the spring.mvc.static-path-pattern property. For instance, relocating all resources to /resources/** can be achieved as follows:&lt;/div&gt;\r\n&gt; \r\n&gt; spring.mvc.static-path-pattern=/resources/**\r\n&gt; \r\n&gt; You can also customize the static resource locations by using the spring.web.resources.static-locations property (replacing the default values with a list of directory locations). The root servlet context path, &quot;/&quot;, is automatically added as a location as well.\r\n&gt; \r\n&gt; In addition to the standard static resource locations mentioned earlier, a special case is made for Webjars content. Any resources with a path in /webjars/** are served from jar files if they are packaged in the Webjars format.\r\n&gt; \r\n&gt; **Do not use the src/main/webapp directory if your application is packaged as a jar**. Although this directory is a common standard, it works only with war packaging, and it is silently ignored by most build tools if you generate a jar.\r\n\r\nSo consider moving JSP pages to another allowed directory.\r\nAlso please change @RestController to @Controller. It will not work with @RestController because of @ResponseBody which included in this annotation","title":"My loginpage won&#39;t show on springboot application","body":"<p>From the official Spring Boot documentation:\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.static-content\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.static-content</a></p>\n<blockquote>\nBy default, resources are mapped on /**, but you can tune that with the spring.mvc.static-path-pattern property. For instance, relocating all resources to /resources/** can be achieved as follows:\n<p>spring.mvc.static-path-pattern=/resources/**</p>\n<p>You can also customize the static resource locations by using the spring.web.resources.static-locations property (replacing the default values with a list of directory locations). The root servlet context path, &quot;/&quot;, is automatically added as a location as well.</p>\n<p>In addition to the standard static resource locations mentioned earlier, a special case is made for Webjars content. Any resources with a path in /webjars/** are served from jar files if they are packaged in the Webjars format.</p>\n<p><strong>Do not use the src/main/webapp directory if your application is packaged as a jar</strong>. Although this directory is a common standard, it works only with war packaging, and it is silently ignored by most build tools if you generate a jar.</p>\n</blockquote>\n<p>So consider moving JSP pages to another allowed directory.\nAlso please change @RestController to @Controller. It will not work with @RestController because of @ResponseBody which included in this annotation</p>\n"},{"tags":[],"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653953760,"creation_date":1653920262,"answer_id":72435811,"question_id":72425676,"body_markdown":"The issue has been solved. \r\n\r\nI decided to use *Thymeleaf* instead of *JSP*, and managed to get my page to be shown.","title":"My loginpage won&#39;t show on springboot application","body":"<p>The issue has been solved.</p>\n<p>I decided to use <em>Thymeleaf</em> instead of <em>JSP</em>, and managed to get my page to be shown.</p>\n"}],"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653953760,"creation_date":1653843803,"question_id":72425676,"body_markdown":"I am currently implementing a login page of an application I want to make. I am now trying to get the loginpage (html file) to display when I visit http://localhost:3307/loginpage. But every time I do this I keep getting &quot;Whitelabel Error Page&quot;. It is directing me to localhost:3307/loginpage but its giving this error instead of showing my html page. From my understanding this happens when you&#39;ve made a mistake and its not actually interacting with the file.Would appreciate any help I can get, thanks. \r\n\r\nMy application Properties (I normally use the correct username/password)\r\n```\r\nserver.port=3307\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/bookcollection\r\nspring.datasource.driverClassName= com.mysql.cj.jdbc.Driver\r\nspring.datasource.username=\r\nspring.datasource.password=\r\n\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n```\r\n\r\nMy WebSecurity. I allowed access to the /loginpage.\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\tprivate final UserService userService;\r\n\tprivate final BCryptPasswordEncoder passwordEncoder;\r\n\t\r\n\tpublic WebSecurityConfig(UserService userService, BCryptPasswordEncoder passwordEncoder) {\r\n\t\tthis.userService = userService;\r\n\t\tthis.passwordEncoder = passwordEncoder;\r\n\t}\r\n\t\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n        \t.csrf().disable()\r\n            .authorizeHttpRequests()\r\n            \t.antMatchers(&quot;/api/v*/registration/**&quot;)\r\n            \t.permitAll()\r\n            \t.anyRequest()\r\n            \t.authenticated().and()\r\n            \t.formLogin().loginPage(&quot;/loginpage&quot;).permitAll();\r\n        \r\n        return http.build();\r\n    }\r\n\r\n    \r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\r\n    \t\r\n    }\r\n    \r\n    @Bean\r\n    public DaoAuthenticationProvider daoAutenticationProvider() {\r\n    \tDaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n    \tprovider.setPasswordEncoder(passwordEncoder);\r\n    \tprovider.setUserDetailsService(userService);\r\n    \treturn provider;\r\n    }\r\n}\r\n\r\n```\r\nThis is my LoginController. From my understanding @RequestMapping is by default a Get request. I am using that print statement to see if anything would pop up in the console (it doesn&#39;t). \r\n\r\n```\r\n@Controller\r\npublic class LoginController {\r\n\t\r\n\t@GetMapping\r\n\tpublic String getLogin(Model model) {\r\n\r\n\t\treturn &quot;loginpage&quot;;\r\n\t}\r\n}\r\n\r\n```\r\nThis is my html file which is placed in resources/templates\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Login Page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"My loginpage won&#39;t show on springboot application","body":"<p>I am currently implementing a login page of an application I want to make. I am now trying to get the loginpage (html file) to display when I visit http://localhost:3307/loginpage. But every time I do this I keep getting &quot;Whitelabel Error Page&quot;. It is directing me to localhost:3307/loginpage but its giving this error instead of showing my html page. From my understanding this happens when you've made a mistake and its not actually interacting with the file.Would appreciate any help I can get, thanks.</p>\n<p>My application Properties (I normally use the correct username/password)</p>\n<pre><code>server.port=3307\n\nspring.datasource.url=jdbc:mysql://localhost:3306/bookcollection\nspring.datasource.driverClassName= com.mysql.cj.jdbc.Driver\nspring.datasource.username=\nspring.datasource.password=\n\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n<p>My WebSecurity. I allowed access to the /loginpage.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final UserService userService;\n    private final BCryptPasswordEncoder passwordEncoder;\n    \n    public WebSecurityConfig(UserService userService, BCryptPasswordEncoder passwordEncoder) {\n        this.userService = userService;\n        this.passwordEncoder = passwordEncoder;\n    }\n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .authorizeHttpRequests()\n                .antMatchers(&quot;/api/v*/registration/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated().and()\n                .formLogin().loginPage(&quot;/loginpage&quot;).permitAll();\n        \n        return http.build();\n    }\n\n    \n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\n        \n    }\n    \n    @Bean\n    public DaoAuthenticationProvider daoAutenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(userService);\n        return provider;\n    }\n}\n\n</code></pre>\n<p>This is my LoginController. From my understanding @RequestMapping is by default a Get request. I am using that print statement to see if anything would pop up in the console (it doesn't).</p>\n<pre><code>@Controller\npublic class LoginController {\n    \n    @GetMapping\n    public String getLogin(Model model) {\n\n        return &quot;loginpage&quot;;\n    }\n}\n\n</code></pre>\n<p>This is my html file which is placed in resources/templates</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Login Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","jsp","tomcat","intellij-idea","jstl"],"answers":[{"tags":[],"owner":{"account_id":6915852,"reputation":894,"user_id":5310163,"display_name":"Shams Ul Azeem"},"down_vote_count":1,"up_vote_count":78,"is_accepted":true,"score":77,"last_activity_date":1597716811,"creation_date":1441651052,"answer_id":32444393,"question_id":31043869,"body_markdown":"First add this to the top of your `.jsp` file:\r\n\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n\r\nIt will still give syntax error but you can fix that by adding `javax.servlet:jstl:1.2` as a module dependency. To do that, follow these steps:\r\n\r\n 1. Click your project name and press &lt;kbd&gt;F4&lt;/kbd&gt; to bring up the module settings dialog.\r\n 2. Then go to the `dependencies` tab in the `modules` section.\r\n 3. Click the green `+` icon `` library `` From Maven.\r\n 4. Search for `javax.servlet:jstl:1.2` in the search bar and press OK and it will download and add the above mentioned library as a module.\r\n 5. Now you should not have any kind of syntax error.\r\n","title":"IntelliJ and JSP/JSTL cannot resolve taglib for JSTL in tomcat7","body":"<p>First add this to the top of your <code>.jsp</code> file:</p>\n<pre><code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n</code></pre>\n<p>It will still give syntax error but you can fix that by adding <code>javax.servlet:jstl:1.2</code> as a module dependency. To do that, follow these steps:</p>\n<ol>\n<li>Click your project name and press <kbd>F4</kbd> to bring up the module settings dialog.</li>\n<li>Then go to the <code>dependencies</code> tab in the <code>modules</code> section.</li>\n<li>Click the green <code>+</code> icon <code></code> library <code></code> From Maven.</li>\n<li>Search for <code>javax.servlet:jstl:1.2</code> in the search bar and press OK and it will download and add the above mentioned library as a module.</li>\n<li>Now you should not have any kind of syntax error.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6929756,"reputation":649,"user_id":5319590,"display_name":"Sineth Lakshitha"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1540647782,"creation_date":1540647782,"answer_id":53022476,"question_id":31043869,"body_markdown":"If you are using maven, add following code in pom.xml inside the `&lt;dependencies&gt;&lt;/dependencies&gt;` tag\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"IntelliJ and JSP/JSTL cannot resolve taglib for JSTL in tomcat7","body":"<p>If you are using maven, add following code in pom.xml inside the <code>&lt;dependencies&gt;&lt;/dependencies&gt;</code> tag</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2313596,"reputation":1534,"user_id":2031150,"accept_rate":92,"display_name":"Jack J"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560891115,"creation_date":1546019789,"answer_id":53962471,"question_id":31043869,"body_markdown":"If you are still getting errors after following the instructions provided by Shams UI Azeem, you may need to add the JSTL library to the WAR Exploded artifact.  To do this:\r\n\r\n1. Go to Project Structure.  Under Project Settings, select Artifacts.  On the bottom of the menu box, there may be a message which mentions that the JSTL library used is not included in the WAR.\r\n\r\n2a.  &lt;b&gt;Message visible.&lt;/b&gt;  If the message is displayed, there should be a Fix button next to it.  Click this Fix button.  Select &quot;add &lt;code&gt;javax.servlet:jstl:1.2&lt;/code&gt; to the artifact&quot;.\r\n\r\n2b.  &lt;b&gt;Message not visible.&lt;/b&gt;  If the message is not displayed, then look above to see if the &lt;code&gt;javax.servet:jstl:1.2 (Project Library)&lt;/code&gt; is underneath the Available Elements column.  If it is, right click it and select &quot;Put into /WEB-INF/lib&quot;.\r\n\r\nIf you are working with Maven, the Fix message will not appear, though you will still need to do this.\r\n\r\n","title":"IntelliJ and JSP/JSTL cannot resolve taglib for JSTL in tomcat7","body":"<p>If you are still getting errors after following the instructions provided by Shams UI Azeem, you may need to add the JSTL library to the WAR Exploded artifact.  To do this:</p>\n\n<ol>\n<li>Go to Project Structure.  Under Project Settings, select Artifacts.  On the bottom of the menu box, there may be a message which mentions that the JSTL library used is not included in the WAR.</li>\n</ol>\n\n<p>2a.  <b>Message visible.</b>  If the message is displayed, there should be a Fix button next to it.  Click this Fix button.  Select \"add <code>javax.servlet:jstl:1.2</code> to the artifact\".</p>\n\n<p>2b.  <b>Message not visible.</b>  If the message is not displayed, then look above to see if the <code>javax.servet:jstl:1.2 (Project Library)</code> is underneath the Available Elements column.  If it is, right click it and select \"Put into /WEB-INF/lib\".</p>\n\n<p>If you are working with Maven, the Fix message will not appear, though you will still need to do this.</p>\n"},{"tags":[],"owner":{"account_id":6466919,"reputation":371,"user_id":5008508,"display_name":"Alex Ureche"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611046186,"creation_date":1611046186,"answer_id":65788075,"question_id":31043869,"body_markdown":"As per Maven Repository, **javax.servlet:jstl** has moved to **javax.servlet.jsp.jstl**, however the later does not fix the URI resolution issue.\r\n\r\nAdding the old **javax.servlet:jstl** dependency solves the issue.","title":"IntelliJ and JSP/JSTL cannot resolve taglib for JSTL in tomcat7","body":"<p>As per Maven Repository, <strong>javax.servlet:jstl</strong> has moved to <strong>javax.servlet.jsp.jstl</strong>, however the later does not fix the URI resolution issue.</p>\n<p>Adding the old <strong>javax.servlet:jstl</strong> dependency solves the issue.</p>\n"},{"tags":[],"owner":{"account_id":23336049,"reputation":1,"user_id":17411696,"display_name":"javalearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642151664,"creation_date":1642105745,"answer_id":70702735,"question_id":31043869,"body_markdown":"I finally got it to work using these:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.glassfish.web/javax.servlet.jsp.jstl --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"IntelliJ and JSP/JSTL cannot resolve taglib for JSTL in tomcat7","body":"<p>I finally got it to work using these:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.glassfish.web/javax.servlet.jsp.jstl --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22788769,"reputation":43,"user_id":16943445,"display_name":"Amresh Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653953628,"creation_date":1653583422,"answer_id":72395245,"question_id":31043869,"body_markdown":"The problem is there because by default jstl jar is added for scope **Compile Time Only** We need to make it to get added for **Runtime** to do that.\r\n\r\n 1. Click your project name and press &lt;kbd&gt;F4&lt;/kbd&gt; to bring up the module settings dialog **or** Right Click on Project name and find **Open Module Settings**.\r\n 2. Go to the dependencies tab in the modules section.\r\n 3. Find the `javax.servlet:jstl:x.x`, look at its scope, change it to **Runtime**.\r\n 4. Also, you need to add `jstl:jar` to `WEB-INF/lib` folder.\r\n ","title":"IntelliJ and JSP/JSTL cannot resolve taglib for JSTL in tomcat7","body":"<p>The problem is there because by default jstl jar is added for scope <strong>Compile Time Only</strong> We need to make it to get added for <strong>Runtime</strong> to do that.</p>\n<ol>\n<li>Click your project name and press <kbd>F4</kbd> to bring up the module settings dialog <strong>or</strong> Right Click on Project name and find <strong>Open Module Settings</strong>.</li>\n<li>Go to the dependencies tab in the modules section.</li>\n<li>Find the <code>javax.servlet:jstl:x.x</code>, look at its scope, change it to <strong>Runtime</strong>.</li>\n<li>Also, you need to add <code>jstl:jar</code> to <code>WEB-INF/lib</code> folder.</li>\n</ol>\n"}],"owner":{"account_id":2381561,"reputation":634,"user_id":2083474,"display_name":"dsadnick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52835,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"closed_date":1653987430,"accepted_answer_id":32444393,"answer_count":6,"score":24,"last_activity_date":1653953628,"creation_date":1435217237,"question_id":31043869,"body_markdown":"First of all my JSTl code works on my server because i have the proper Jar file in the Lib folder in tomcat7.  This is just really an IDEA problem.  My questions comes down to where i put the same jar file in my file directory within IntelliJ. \r\n\r\nI have ran into a error in IntelliJ and JSTL.\r\n\r\nMy problem is that when i use \r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n\r\nIt results in Cannot resolve taglib with uri.  I have tried different Jar files and I do know that i have to correct version for my servlet.  \r\n\r\nIm running tomcat7 on Ubuntu Server 15.04, and IntelliJ 14.1.3.\r\n\r\nI have tried importing the jar file though the Project Structure, and including it in various places but still the same error after re-building the project, and closing down and reopening the IDEA.  \r\n\r\nThis sample code runs when deployed to tomcat but IntelliJ keeps giving errors.\r\n    \r\n    &lt;table border=&quot;1&quot;&gt;\r\n        &lt;c:forEach var=&quot;a&quot; items=&quot;${data}&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;${a}&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/table&gt;\r\n\r\n    &lt;c:forEach begin=&quot;0&quot; end=&quot;255&quot; var=&quot;i&quot;&gt;\r\n        &lt;span style=&#39;color:rgb(\r\n            &lt;c:out value=&quot;${i}&quot;/&gt;,\r\n            &lt;c:out value=&quot;${i}&quot;/&gt;,\r\n            &lt;c:out value=&quot;${i}&quot;/&gt;);&#39;&gt;\r\n            &lt;c:out value=&quot;${i}&quot;/&gt;&lt;/span&gt; &lt;br /&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nI would like to know how to stop IntelliJ from giving errors on my Syntax even though the code works.\r\n\r\nI have read https://stackoverflow.com/questions/7253034/jstl-in-intellij-gives-errors-in-jsp\r\n\r\nand \r\n\r\nhttps://www.jetbrains.com/idea/features/jsp_editor.html\r\n\r\nStill no luck.","title":"IntelliJ and JSP/JSTL cannot resolve taglib for JSTL in tomcat7","body":"<p>First of all my JSTl code works on my server because i have the proper Jar file in the Lib folder in tomcat7.  This is just really an IDEA problem.  My questions comes down to where i put the same jar file in my file directory within IntelliJ. </p>\n\n<p>I have ran into a error in IntelliJ and JSTL.</p>\n\n<p>My problem is that when i use </p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n</code></pre>\n\n<p>It results in Cannot resolve taglib with uri.  I have tried different Jar files and I do know that i have to correct version for my servlet.  </p>\n\n<p>Im running tomcat7 on Ubuntu Server 15.04, and IntelliJ 14.1.3.</p>\n\n<p>I have tried importing the jar file though the Project Structure, and including it in various places but still the same error after re-building the project, and closing down and reopening the IDEA.  </p>\n\n<p>This sample code runs when deployed to tomcat but IntelliJ keeps giving errors.</p>\n\n<pre><code>&lt;table border=\"1\"&gt;\n    &lt;c:forEach var=\"a\" items=\"${data}\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${a}&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n&lt;/table&gt;\n\n&lt;c:forEach begin=\"0\" end=\"255\" var=\"i\"&gt;\n    &lt;span style='color:rgb(\n        &lt;c:out value=\"${i}\"/&gt;,\n        &lt;c:out value=\"${i}\"/&gt;,\n        &lt;c:out value=\"${i}\"/&gt;);'&gt;\n        &lt;c:out value=\"${i}\"/&gt;&lt;/span&gt; &lt;br /&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>I would like to know how to stop IntelliJ from giving errors on my Syntax even though the code works.</p>\n\n<p>I have read <a href=\"https://stackoverflow.com/questions/7253034/jstl-in-intellij-gives-errors-in-jsp\">JSTL in IntelliJ gives errors in JSP</a></p>\n\n<p>and </p>\n\n<p><a href=\"https://www.jetbrains.com/idea/features/jsp_editor.html\" rel=\"noreferrer\">https://www.jetbrains.com/idea/features/jsp_editor.html</a></p>\n\n<p>Still no luck.</p>\n"},{"tags":["java","selenium","selenium-webdriver","nullpointerexception","xssf"],"owner":{"account_id":25254767,"reputation":11,"user_id":19086688,"display_name":"Shivraj Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653953405,"creation_date":1653373606,"question_id":72358102,"body_markdown":"In the actual pipeline (*locally it works*) I am getting an error:\r\n```\r\n[Utils] [ERROR] [Error] java.lang.NullPointerException \r\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.getSheet(XSSFWorkbook.java:1112)\r\nat utilities.ExcelData\r\n```\r\n[See this screenshot for the full error message.][1]\r\n\r\nBelow is the code that I&#39;ve used.\r\n\r\n    @DataProvider\r\n\tpublic Object[][] GetDataFromExcelSheet() throws Exception {\r\n\r\n\t\tSystem.out.println(&quot;Enter GetDataFromExcelSheet&quot;);\r\n\t\t// Get all the data of excel method\r\n\t\t// Main Objective: Create data array which will contain excel data\r\n\r\n\t\tExcelDataProvider excelDataProviderObj = new ExcelDataProvider();\r\n\r\n\t\t// 1. Find excel sheet name\r\n\t\t\r\n\t\texcelDataProviderObj.GetSheetName(PropertiesfileDataProvider.GetPropertyValue(&quot;nameofthesheet&quot;));\r\n\t\t// 2. Find total rows of excel\r\n\t\tint rows = excelDataProviderObj.FindTotalRows();\r\n\t\tSystem.out.println(&quot;number of rows found as: &quot; +rows);\r\n\t\tObject[][] data = new Object[rows][6];\r\n\t\tfor (int i = 0; i &lt; rows; i++) \r\n\t\t{\r\n\t\t\tdata[i][0] = excelDataProviderObj.GetCellData(i, 0);\r\n\t\t\tdata[i][1] = excelDataProviderObj.GetCellData(i, 1);\r\n\t\t\tdata[i][2] = excelDataProviderObj.GetCellData(i, 2);\r\n\t\t\tdata[i][3] = excelDataProviderObj.GetCellData(i, 3);\r\n\t\t\tdata[i][4] = excelDataProviderObj.GetCellData(i, 4);\r\n\t\t\tdata[i][5] = excelDataProviderObj.GetCellData(i, 5);\r\n\t\t\t\r\n\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Exit GetDataFromExcelSheet&quot;);\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n    public class ExcelDataProvider\r\n    {\r\n    XSSFSheet sheetName;\r\n    \r\n    public void GetSheetName(String SheetName) throws Exception\r\n\t\r\n    {\r\n    \tSystem.out.println(&quot;Enter GetSheetName&quot;);\r\n\t\tFile file=new File(&quot;.\\\\TestData\\\\TestData.xlsx&quot;);\r\n\t\tFileInputStream fs=new FileInputStream(file);\r\n\r\n\t\tXSSFWorkbook wb=new XSSFWorkbook(fs);\r\n\t\t//CommonFunctions commonFunctionsObj=new CommonFunctions(driver);\r\n\t\tif(PropertiesfileDataProvider.GetPropertyValue(&quot;URL&quot;).contains(&quot;urltag&quot;))\r\n\t\t{\r\n\t\t\tsheetName= wb.getSheet(SheetName);\r\n\t\t}\r\n\t\telse\r\n\t\t\t\r\n\t\tsheetName= wb.getSheet(SheetName);\r\n    \tSystem.out.println(&quot;Exit GetSheetName&quot;);\r\n\r\n\t}\r\n\tpublic int FindTotalRows()\r\n\t{\r\n\t\tint totalRows=sheetName.getLastRowNum()+1;\r\n\t\t//System.out.println(totalRows);\r\n\t\t//System.out.println(sheetName);\r\n\t\treturn totalRows;\r\n\t\t\r\n\t}\r\n\r\n\tpublic String GetCellData(int row,int column)\r\n\t{\r\n\t\tString data=sheetName.getRow(row).getCell(column).getStringCellValue();\r\n\t\t//String data=sheetName.getRow(row).getCell(column).getColumnIndex();\r\n\t\t//String data=sheetName.getRow(row).getCell(column).toString();\r\n\r\n\t\tSystem.out.println(data);\r\n\t\treturn data;\r\n\t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VQlA2.png","title":"java.lang.NullPointerException at org.apache.poi.xssf.usermodel","body":"<p>In the actual pipeline (<em>locally it works</em>) I am getting an error:</p>\n<pre><code>[Utils] [ERROR] [Error] java.lang.NullPointerException \nat org.apache.poi.xssf.usermodel.XSSFWorkbook.getSheet(XSSFWorkbook.java:1112)\nat utilities.ExcelData\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VQlA2.png\" rel=\"nofollow noreferrer\">See this screenshot for the full error message.</a></p>\n<p>Below is the code that I've used.</p>\n<pre><code>@DataProvider\npublic Object[][] GetDataFromExcelSheet() throws Exception {\n\n    System.out.println(&quot;Enter GetDataFromExcelSheet&quot;);\n    // Get all the data of excel method\n    // Main Objective: Create data array which will contain excel data\n\n    ExcelDataProvider excelDataProviderObj = new ExcelDataProvider();\n\n    // 1. Find excel sheet name\n    \n    excelDataProviderObj.GetSheetName(PropertiesfileDataProvider.GetPropertyValue(&quot;nameofthesheet&quot;));\n    // 2. Find total rows of excel\n    int rows = excelDataProviderObj.FindTotalRows();\n    System.out.println(&quot;number of rows found as: &quot; +rows);\n    Object[][] data = new Object[rows][6];\n    for (int i = 0; i &lt; rows; i++) \n    {\n        data[i][0] = excelDataProviderObj.GetCellData(i, 0);\n        data[i][1] = excelDataProviderObj.GetCellData(i, 1);\n        data[i][2] = excelDataProviderObj.GetCellData(i, 2);\n        data[i][3] = excelDataProviderObj.GetCellData(i, 3);\n        data[i][4] = excelDataProviderObj.GetCellData(i, 4);\n        data[i][5] = excelDataProviderObj.GetCellData(i, 5);\n        \n\n    }\n    System.out.println(&quot;Exit GetDataFromExcelSheet&quot;);\n\n    return data;\n}\n\npublic class ExcelDataProvider\n{\nXSSFSheet sheetName;\n\npublic void GetSheetName(String SheetName) throws Exception\n\n{\n    System.out.println(&quot;Enter GetSheetName&quot;);\n    File file=new File(&quot;.\\\\TestData\\\\TestData.xlsx&quot;);\n    FileInputStream fs=new FileInputStream(file);\n\n    XSSFWorkbook wb=new XSSFWorkbook(fs);\n    //CommonFunctions commonFunctionsObj=new CommonFunctions(driver);\n    if(PropertiesfileDataProvider.GetPropertyValue(&quot;URL&quot;).contains(&quot;urltag&quot;))\n    {\n        sheetName= wb.getSheet(SheetName);\n    }\n    else\n        \n    sheetName= wb.getSheet(SheetName);\n    System.out.println(&quot;Exit GetSheetName&quot;);\n\n}\npublic int FindTotalRows()\n{\n    int totalRows=sheetName.getLastRowNum()+1;\n    //System.out.println(totalRows);\n    //System.out.println(sheetName);\n    return totalRows;\n    \n}\n\npublic String GetCellData(int row,int column)\n{\n    String data=sheetName.getRow(row).getCell(column).getStringCellValue();\n    //String data=sheetName.getRow(row).getCell(column).getColumnIndex();\n    //String data=sheetName.getRow(row).getCell(column).toString();\n\n    System.out.println(data);\n    return data;\n}\n}\n</code></pre>\n"},{"tags":["java","if-statement","java-17","switch-expression"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653953214,"creation_date":1653951746,"answer_id":72440751,"question_id":72440703,"body_markdown":"The code you&#39;ve provided can be made into a [`switch-expression`](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28) like that:\r\n\r\n    public static int parseDays(String durationString) {\r\n        String[] parts = durationString.split(&quot; &quot;);\r\n        \r\n        return switch(parts.length) {\r\n            case 2 -&gt; unitValueCalculation(parts[1], parts[0]);\r\n            case 1 -&gt; parts[0].equalsIgnoreCase(&quot;once&quot;) ? 1 : 0;\r\n            default -&gt; 0;\r\n        };\r\n    }\r\n\r\nThe length of the `parts` array should be used inside the parentheses `()` of the `switch`. And each particular length (`1` and `2`) should be used as a *case-constant*. \r\n\r\nThe `default` case covers all unspecified array sizes.","title":"Changing a chain of If-statements into a Switch-expression","body":"<p>The code you've provided can be made into a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\"><code>switch-expression</code></a> like that:</p>\n<pre><code>public static int parseDays(String durationString) {\n    String[] parts = durationString.split(&quot; &quot;);\n    \n    return switch(parts.length) {\n        case 2 -&gt; unitValueCalculation(parts[1], parts[0]);\n        case 1 -&gt; parts[0].equalsIgnoreCase(&quot;once&quot;) ? 1 : 0;\n        default -&gt; 0;\n    };\n}\n</code></pre>\n<p>The length of the <code>parts</code> array should be used inside the parentheses <code>()</code> of the <code>switch</code>. And each particular length (<code>1</code> and <code>2</code>) should be used as a <em>case-constant</em>.</p>\n<p>The <code>default</code> case covers all unspecified array sizes.</p>\n"}],"owner":{"account_id":11223131,"reputation":621,"user_id":8233658,"accept_rate":80,"display_name":"rds80"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72440751,"answer_count":1,"score":1,"last_activity_date":1653953214,"creation_date":1653951198,"question_id":72440703,"body_markdown":"I&#39;m trying to convert the below `if` *statement* into a `switch` *expression*.\r\n\r\n    public static int parseDays(String durationString) {\r\n        String[] parts = durationString.split(&quot; &quot;);\r\n        if (parts.length == 2) {\r\n            return unitValueCalculation(parts[1], parts[0]);\r\n        }\r\n        else if (parts.length == 1)\r\n        {\r\n            if (parts[0].equalsIgnoreCase(&quot;once&quot;)) return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\nThis is what I&#39;ve got:\r\n\r\n\t public static int parseDays(String durationString) {\r\n\t\t   \r\n\t\t\tswitch (durationString) {\r\n\t\t\t\tcase durationString.split(&quot; &quot;).length  == 2 -&gt; unitValueCalculation(parts[1], parts[2]);\r\n\t\t\t}\r\nI&#39;m not sure what to do about the case statement, though.\r\n\r\nAny ideas would be appreciated.","title":"Changing a chain of If-statements into a Switch-expression","body":"<p>I'm trying to convert the below <code>if</code> <em>statement</em> into a <code>switch</code> <em>expression</em>.</p>\n<pre><code>public static int parseDays(String durationString) {\n    String[] parts = durationString.split(&quot; &quot;);\n    if (parts.length == 2) {\n        return unitValueCalculation(parts[1], parts[0]);\n    }\n    else if (parts.length == 1)\n    {\n        if (parts[0].equalsIgnoreCase(&quot;once&quot;)) return 1;\n    }\n    return 0;\n}\n</code></pre>\n<p>This is what I've got:</p>\n<pre><code> public static int parseDays(String durationString) {\n       \n        switch (durationString) {\n            case durationString.split(&quot; &quot;).length  == 2 -&gt; unitValueCalculation(parts[1], parts[2]);\n        }\n</code></pre>\n<p>I'm not sure what to do about the case statement, though.</p>\n<p>Any ideas would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-mvc"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":1,"creation_date":1653943669,"post_id":72438479,"comment_id":127969874,"body_markdown":"Why don&#39;t you just instatiate the class : List&lt;Campaign&gt; campaignes= new ArrayList&lt;&gt;() Page&lt;Campaign&gt; pagedResponse = new PageImpl(companies) and then return it Mockito.when(campaignRepository.findAll(Mockito.any(Pageable.class))).thenReturn(pagedResponse) ?","body":"Why don&#39;t you just instatiate the class : List&lt;Campaign&gt; campaignes= new ArrayList&lt;&gt;() Page&lt;Campaign&gt; pagedResponse = new PageImpl(companies) and then return it Mockito.when(campaignRepository.findAll(Mockito.any(Pageable&zwnj;&#8203;.class))).thenReturn&zwnj;&#8203;(pagedResponse) ?"},{"owner":{"account_id":13147502,"reputation":336,"user_id":9497126,"display_name":"acakojic"},"score":0,"creation_date":1653990904,"post_id":72438479,"comment_id":127979790,"body_markdown":"Your answer is working properly, it can be as accepted answer. But other one have more details to add on, like Pageable, total count, etc.. so I will accept other one","body":"Your answer is working properly, it can be as accepted answer. But other one have more details to add on, like Pageable, total count, etc.. so I will accept other one"}],"answers":[{"tags":[],"owner":{"account_id":4678173,"reputation":2456,"user_id":3787750,"accept_rate":48,"display_name":"Ekansh Rastogi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1653953044,"creation_date":1653953044,"answer_id":72440848,"question_id":72438479,"body_markdown":"easiest way would be to create an object instead of mocking the class.\r\n\r\n```\r\nPage&lt;TournamentEntity&gt; tournamentEntitiesPage = new PageImpl&lt;&gt;(List.of(obj1, obj2), pageable, 0);\r\n```","title":"How to mock Page with content data in Unit Test?","body":"<p>easiest way would be to create an object instead of mocking the class.</p>\n<pre><code>Page&lt;TournamentEntity&gt; tournamentEntitiesPage = new PageImpl&lt;&gt;(List.of(obj1, obj2), pageable, 0);\n</code></pre>\n"}],"owner":{"account_id":13147502,"reputation":336,"user_id":9497126,"display_name":"acakojic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4369,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72440848,"answer_count":1,"score":6,"last_activity_date":1653953044,"creation_date":1653934286,"question_id":72438479,"body_markdown":"How to return Page&lt;Campaign&gt; content in Spring Boot Unit test service layer? How to mock this data with some values and later on test it?  \r\n\r\n\r\nService that needs to be tested: \r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\n@Transactional(readOnly = true)\r\npublic class CampaignReadServiceImpl02 {\r\n\r\n    private final CampaignRepository campaignRepository;\r\n\r\n\r\n    public Page&lt;Campaign&gt; getAll(int page, int size) {\r\n\r\n        Pageable pageable = PageRequest.of(page, size);\r\n\r\n        Page&lt;Campaign&gt; pages = campaignRepository.findAll(pageable);\r\n\r\n        return pages;\r\n    }\r\n}\r\n```\r\nThe class that mocks data in Unit test\r\n\r\n```\r\n@Slf4j\r\n@ExtendWith(MockitoExtension.class)\r\npublic class CampaignReadServiceTest {\r\n\r\n    @Mock\r\n    private CampaignRepository campaignRepository;\r\n\r\n    private CampaignReadServiceImpl02 campaignReadServiceImpl02;\r\n\r\n    @BeforeEach\r\n    public void beforeEach() {\r\n        campaignReadServiceImpl02 = new CampaignReadServiceImpl02(campaignRepository);\r\n    }\r\n\r\n    @Test\r\n    public void testGetAll02() {\r\n        log.info(&quot;Testing get all campaigns method&quot;);\r\n\r\n        //this need to have content data inside of page.getContent(), need to be added\r\n        Page&lt;Campaign&gt; page = Mockito.mock(Page.class);\r\n\r\n        Mockito.when(campaignRepository.findAll(Mockito.any(Pageable.class))).thenReturn(page);\r\n\r\n        Page&lt;Campaign&gt; result = campaignReadServiceImpl02.getAll(2, 2);\r\n\r\n        Assertions.assertNotNull(result);\r\n\r\n        Mockito.verify(campaignRepository, Mockito.times(1)).findAll(Mockito.any(Pageable.class));\r\n        Mockito.verifyNoMoreInteractions(campaignRepository);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow to mock `Page&lt;Campaign&gt; page = Mockito.mock(Page.class);` to get `result.getContent();` when Service repository is injected in Service.. \r\n\r\nI can&#39;t test `result.getContent()` because I don&#39;t have data from repository, maube because I need to change mock `Page&lt;Campaign&gt; page` with `Page.class` to something else?\r\n\r\nHow to properly mock  `Page&lt;Campaign&gt; page = Mockito.mock(Page.class);` that will return some data later on in service: result.getContent().name(), etc..\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to mock Page with content data in Unit Test?","body":"<p>How to return Page content in Spring Boot Unit test service layer? How to mock this data with some values and later on test it?</p>\n<p>Service that needs to be tested:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Transactional(readOnly = true)\npublic class CampaignReadServiceImpl02 {\n\n    private final CampaignRepository campaignRepository;\n\n\n    public Page&lt;Campaign&gt; getAll(int page, int size) {\n\n        Pageable pageable = PageRequest.of(page, size);\n\n        Page&lt;Campaign&gt; pages = campaignRepository.findAll(pageable);\n\n        return pages;\n    }\n}\n</code></pre>\n<p>The class that mocks data in Unit test</p>\n<pre><code>@Slf4j\n@ExtendWith(MockitoExtension.class)\npublic class CampaignReadServiceTest {\n\n    @Mock\n    private CampaignRepository campaignRepository;\n\n    private CampaignReadServiceImpl02 campaignReadServiceImpl02;\n\n    @BeforeEach\n    public void beforeEach() {\n        campaignReadServiceImpl02 = new CampaignReadServiceImpl02(campaignRepository);\n    }\n\n    @Test\n    public void testGetAll02() {\n        log.info(&quot;Testing get all campaigns method&quot;);\n\n        //this need to have content data inside of page.getContent(), need to be added\n        Page&lt;Campaign&gt; page = Mockito.mock(Page.class);\n\n        Mockito.when(campaignRepository.findAll(Mockito.any(Pageable.class))).thenReturn(page);\n\n        Page&lt;Campaign&gt; result = campaignReadServiceImpl02.getAll(2, 2);\n\n        Assertions.assertNotNull(result);\n\n        Mockito.verify(campaignRepository, Mockito.times(1)).findAll(Mockito.any(Pageable.class));\n        Mockito.verifyNoMoreInteractions(campaignRepository);\n    }\n}\n\n</code></pre>\n<p>How to mock <code>Page&lt;Campaign&gt; page = Mockito.mock(Page.class);</code> to get <code>result.getContent();</code> when Service repository is injected in Service..</p>\n<p>I can't test <code>result.getContent()</code> because I don't have data from repository, maube because I need to change mock <code>Page&lt;Campaign&gt; page</code> with <code>Page.class</code> to something else?</p>\n<p>How to properly mock  <code>Page&lt;Campaign&gt; page = Mockito.mock(Page.class);</code> that will return some data later on in service: result.getContent().name(), etc..</p>\n"},{"tags":["java","android","android-studio","picasso"],"answers":[{"tags":[],"owner":{"account_id":12729591,"reputation":665,"user_id":9246764,"display_name":"David Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624538759,"creation_date":1624538759,"answer_id":68116068,"question_id":68115258,"body_markdown":"Perhaps you&#39;re missing **imageView = findViewById(R.id.imageView);**? It&#39;s probably because **imageView** is null.","title":"Cannot resolve method &#39;with(anonymous com.android.volley.Response.Listener&lt;java.lang.String&gt;)&#39;","body":"<p>Perhaps you're missing <strong>imageView = findViewById(R.id.imageView);</strong>? It's probably because <strong>imageView</strong> is null.</p>\n"},{"tags":[],"owner":{"account_id":20174649,"reputation":1,"user_id":14796622,"display_name":"PRAYANK VERMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653952475,"creation_date":1640437879,"answer_id":70480258,"question_id":68115258,"body_markdown":"REPLACE Gilde.with(this) to Glide.with(MainActivity.this)\r\n\r\n\r\n","title":"Cannot resolve method &#39;with(anonymous com.android.volley.Response.Listener&lt;java.lang.String&gt;)&#39;","body":"<p>REPLACE Gilde.with(this) to Glide.with(MainActivity.this)</p>\n"}],"owner":{"account_id":22032392,"reputation":3,"user_id":16299466,"display_name":"Eldin Veliji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68116068,"answer_count":2,"score":0,"last_activity_date":1653952475,"creation_date":1624535628,"question_id":68115258,"body_markdown":"I&#39;m building a weather application where if the user types the name of a city and clicks a button, it displays different things like the temperature, sunrise, sunset, etc. Everything is working fine except for the icons, I cannot get them to work. I tried using the Picasso and Glide library but none of them seem to work\r\nHere&#39;s the code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    EditText editText;\r\n    Button button;\r\n    ImageView imageView;\r\n    TextView country_tx, city_tx, temp_tx, latitude_tx, longitude_tx, sunrise_tx, humidity_tx, sunset_tx, pressure_tx, windSpeed_tx;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        editText = findViewById(R.id.EditText);\r\n        button = findViewById(R.id.button);\r\n        country_tx = findViewById(R.id.country);\r\n        city_tx = findViewById(R.id.city);\r\n        temp_tx = findViewById(R.id.temperature);\r\n        latitude_tx = findViewById(R.id.latitude);\r\n        longitude_tx = findViewById(R.id.longitude);\r\n        sunrise_tx = findViewById(R.id.sunrise);\r\n        sunset_tx = findViewById(R.id.sunset);\r\n        humidity_tx = findViewById(R.id.humidity);\r\n        pressure_tx = findViewById(R.id.pressure);\r\n        windSpeed_tx = findViewById(R.id.windSpeed);\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                findWeather();\r\n            }\r\n        });\r\n    }\r\n    public void findWeather() {\r\n        String city = editText.getText().toString();\r\n        String url = &quot;https://api.openweathermap.org/data/2.5/weather?q=&quot; + city + &quot;&amp;appid=f30e42aed61593e2c954e35d72cf9e77&amp;units=metric&quot;;\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                //Thirja e API\r\n                try {\r\n\r\n                    JSONObject jsonObject = new JSONObject(response);\r\n\r\n                    //Find the State\r\n                    JSONObject object1 = jsonObject.getJSONObject(&quot;sys&quot;);\r\n                    String country_find = object1.getString(&quot;country&quot;);\r\n                    country_tx.setText(country_find);\r\n\r\n                    //Find the city\r\n                    String city_find = jsonObject.getString(&quot;name&quot;);\r\n                    city_tx.setText(city_find);\r\n\r\n                    //Find the temperature\r\n                    JSONObject object2 = jsonObject.getJSONObject(&quot;main&quot;);\r\n                    String temp_find = object2.getString(&quot;temp&quot;);\r\n                    temp_tx.setText(temp_find + &quot;&#176;C&quot;);\r\n\r\n                    //Finding the icon\r\n\r\n                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;weather&quot;);\r\n                    JSONObject obj = jsonArray.getJSONObject(0);\r\n                    String icon = obj.getString(&quot;icon&quot;);\r\n                    String url = &quot;https://openweathermap.org/img/wn/&quot;+icon+&quot;@2x.png&quot;;\r\n                    Glide.with(this).load(url).into(imageView);\r\n\r\n\r\n\r\n                    // Finding the latitude\r\n                    JSONObject object3 = jsonObject.getJSONObject(&quot;coord&quot;);\r\n                    double lat_find = object3.getDouble(&quot;lat&quot;);\r\n                    latitude_tx.setText(lat_find + &quot;&#176;  N&quot;);\r\n\r\n                    //Finding the longitude\r\n                    JSONObject object4 = jsonObject.getJSONObject(&quot;coord&quot;);\r\n                    double lon_find = object4.getDouble(&quot;lon&quot;);\r\n                    longitude_tx.setText(lon_find + &quot;&#176;  E&quot;);\r\n\r\n                    //finding the sunrise\r\n                    JSONObject object5 = jsonObject.getJSONObject(&quot;sys&quot;);\r\n                    long sunrise_find = Long.parseLong(object5.getString(&quot;sunrise&quot;));\r\n                    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n                    String date = sdf.format(new java.util.Date (sunrise_find*1000));\r\n                    sunrise_tx.setText(date);\r\n\r\n                    //Finding the sunset\r\n                    JSONObject object6 = jsonObject.getJSONObject(&quot;sys&quot;);\r\n                    long sunset_find = Long.parseLong(object6.getString(&quot;sunset&quot;));\r\n                    SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n                    String date2 = sdf2.format(new java.util.Date (sunset_find*1000));\r\n                    sunset_tx.setText(date2);\r\n\r\n                    //Finding the humidity\r\n                    JSONObject object7 = jsonObject.getJSONObject(&quot;main&quot;);\r\n                    int humidity_find = object7.getInt(&quot;humidity&quot;);\r\n                    humidity_tx.setText(humidity_find + &quot;  %&quot;);\r\n\r\n                    //Finding the pressure\r\n                    JSONObject object8 = jsonObject.getJSONObject(&quot;main&quot;);\r\n                    String pressure_find = object8.getString(&quot;pressure&quot;);\r\n                    pressure_tx.setText(pressure_find + &quot;  hPa&quot;);\r\n\r\n                    //Finding the wind speed\r\n                    JSONObject object9 = jsonObject.getJSONObject(&quot;wind&quot;);\r\n                    String windSpeed_find = object9.getString(&quot;speed&quot;);\r\n                    windSpeed_tx.setText(windSpeed_find + &quot;  km/h&quot;);\r\n\r\n\r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(MainActivity.this, error.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n        requestQueue.add(stringRequest);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.mainmenu, menu);\r\n        return true;\r\n    }\r\n\r\nThe error `[Cannot resolve method &#39;with(anonymous com.android.volley.Response.Listener&lt;java.lang.String&gt;)&#39;]` that I&#39;m getting is in this part of the code: **Glide.with(this).load(url).into(imageView);**:\r\n\r\n    //Finding the icon\r\n                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;weather&quot;);\r\n                    JSONObject obj = jsonArray.getJSONObject(0);\r\n                    String icon = obj.getString(&quot;icon&quot;);\r\n                    String url = &quot;https://openweathermap.org/img/wn/&quot;+icon+&quot;@2x.png&quot;;\r\n                    Glide.with(this).load(url).into(imageView);\r\n\r\nAlso here&#39;s the code that i&#39;ve tried with Picasso:\r\n\r\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;weather&quot;);\r\n                    JSONObject obj = jsonArray.getJSONObject(0);\r\n                    String icon = obj.getString(&quot;icon&quot;);\r\n                    String url = &quot;https://openweathermap.org/img/wn/&quot;+icon+&quot;@2x.png&quot;;\r\n                    Picasso.get().load(url).into(imageView);\r\nThe Picasso code doesn&#39;t throw any errors but as soon as I click the button for the data to show up, the application just closes.\r\n\r\nAny help would be greatly Appreciated. Thank you","title":"Cannot resolve method &#39;with(anonymous com.android.volley.Response.Listener&lt;java.lang.String&gt;)&#39;","body":"<p>I'm building a weather application where if the user types the name of a city and clicks a button, it displays different things like the temperature, sunrise, sunset, etc. Everything is working fine except for the icons, I cannot get them to work. I tried using the Picasso and Glide library but none of them seem to work\nHere's the code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nEditText editText;\nButton button;\nImageView imageView;\nTextView country_tx, city_tx, temp_tx, latitude_tx, longitude_tx, sunrise_tx, humidity_tx, sunset_tx, pressure_tx, windSpeed_tx;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    editText = findViewById(R.id.EditText);\n    button = findViewById(R.id.button);\n    country_tx = findViewById(R.id.country);\n    city_tx = findViewById(R.id.city);\n    temp_tx = findViewById(R.id.temperature);\n    latitude_tx = findViewById(R.id.latitude);\n    longitude_tx = findViewById(R.id.longitude);\n    sunrise_tx = findViewById(R.id.sunrise);\n    sunset_tx = findViewById(R.id.sunset);\n    humidity_tx = findViewById(R.id.humidity);\n    pressure_tx = findViewById(R.id.pressure);\n    windSpeed_tx = findViewById(R.id.windSpeed);\n\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            findWeather();\n        }\n    });\n}\npublic void findWeather() {\n    String city = editText.getText().toString();\n    String url = &quot;https://api.openweathermap.org/data/2.5/weather?q=&quot; + city + &quot;&amp;appid=f30e42aed61593e2c954e35d72cf9e77&amp;units=metric&quot;;\n\n    StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response) {\n            //Thirja e API\n            try {\n\n                JSONObject jsonObject = new JSONObject(response);\n\n                //Find the State\n                JSONObject object1 = jsonObject.getJSONObject(&quot;sys&quot;);\n                String country_find = object1.getString(&quot;country&quot;);\n                country_tx.setText(country_find);\n\n                //Find the city\n                String city_find = jsonObject.getString(&quot;name&quot;);\n                city_tx.setText(city_find);\n\n                //Find the temperature\n                JSONObject object2 = jsonObject.getJSONObject(&quot;main&quot;);\n                String temp_find = object2.getString(&quot;temp&quot;);\n                temp_tx.setText(temp_find + &quot;C&quot;);\n\n                //Finding the icon\n\n                JSONArray jsonArray = jsonObject.getJSONArray(&quot;weather&quot;);\n                JSONObject obj = jsonArray.getJSONObject(0);\n                String icon = obj.getString(&quot;icon&quot;);\n                String url = &quot;https://openweathermap.org/img/wn/&quot;+icon+&quot;@2x.png&quot;;\n                Glide.with(this).load(url).into(imageView);\n\n\n\n                // Finding the latitude\n                JSONObject object3 = jsonObject.getJSONObject(&quot;coord&quot;);\n                double lat_find = object3.getDouble(&quot;lat&quot;);\n                latitude_tx.setText(lat_find + &quot;  N&quot;);\n\n                //Finding the longitude\n                JSONObject object4 = jsonObject.getJSONObject(&quot;coord&quot;);\n                double lon_find = object4.getDouble(&quot;lon&quot;);\n                longitude_tx.setText(lon_find + &quot;  E&quot;);\n\n                //finding the sunrise\n                JSONObject object5 = jsonObject.getJSONObject(&quot;sys&quot;);\n                long sunrise_find = Long.parseLong(object5.getString(&quot;sunrise&quot;));\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm&quot;);\n                String date = sdf.format(new java.util.Date (sunrise_find*1000));\n                sunrise_tx.setText(date);\n\n                //Finding the sunset\n                JSONObject object6 = jsonObject.getJSONObject(&quot;sys&quot;);\n                long sunset_find = Long.parseLong(object6.getString(&quot;sunset&quot;));\n                SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;HH:mm&quot;);\n                String date2 = sdf2.format(new java.util.Date (sunset_find*1000));\n                sunset_tx.setText(date2);\n\n                //Finding the humidity\n                JSONObject object7 = jsonObject.getJSONObject(&quot;main&quot;);\n                int humidity_find = object7.getInt(&quot;humidity&quot;);\n                humidity_tx.setText(humidity_find + &quot;  %&quot;);\n\n                //Finding the pressure\n                JSONObject object8 = jsonObject.getJSONObject(&quot;main&quot;);\n                String pressure_find = object8.getString(&quot;pressure&quot;);\n                pressure_tx.setText(pressure_find + &quot;  hPa&quot;);\n\n                //Finding the wind speed\n                JSONObject object9 = jsonObject.getJSONObject(&quot;wind&quot;);\n                String windSpeed_find = object9.getString(&quot;speed&quot;);\n                windSpeed_tx.setText(windSpeed_find + &quot;  km/h&quot;);\n\n\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(MainActivity.this, error.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\n\n        }\n    });\n    RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n    requestQueue.add(stringRequest);\n\n}\n\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.mainmenu, menu);\n    return true;\n}\n</code></pre>\n<p>The error <code>[Cannot resolve method 'with(anonymous com.android.volley.Response.Listener&lt;java.lang.String&gt;)']</code> that I'm getting is in this part of the code: <strong>Glide.with(this).load(url).into(imageView);</strong>:</p>\n<pre><code>//Finding the icon\n                JSONArray jsonArray = jsonObject.getJSONArray(&quot;weather&quot;);\n                JSONObject obj = jsonArray.getJSONObject(0);\n                String icon = obj.getString(&quot;icon&quot;);\n                String url = &quot;https://openweathermap.org/img/wn/&quot;+icon+&quot;@2x.png&quot;;\n                Glide.with(this).load(url).into(imageView);\n</code></pre>\n<p>Also here's the code that i've tried with Picasso:</p>\n<pre><code>JSONArray jsonArray = jsonObject.getJSONArray(&quot;weather&quot;);\n                JSONObject obj = jsonArray.getJSONObject(0);\n                String icon = obj.getString(&quot;icon&quot;);\n                String url = &quot;https://openweathermap.org/img/wn/&quot;+icon+&quot;@2x.png&quot;;\n                Picasso.get().load(url).into(imageView);\n</code></pre>\n<p>The Picasso code doesn't throw any errors but as soon as I click the button for the data to show up, the application just closes.</p>\n<p>Any help would be greatly Appreciated. Thank you</p>\n"},{"tags":["java","javascript","google-maps","webview","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1339089379,"creation_date":1339027091,"answer_id":10923952,"question_id":10918039,"body_markdown":"See the [JavaFX WebView tutorial][1] sections:\r\n\r\n - Processing JavaScript Commands \r\n - Making Upcalls from JavaScript to JavaFX\r\n\r\nMake sure you use JavaFX 2.1+ when doing this, as JavaFX 2.0 does not have full support for upcalls from javaScript to JavaFX.\r\n\r\n----------\r\n\r\n\r\n&gt; How to call javascript functions from JavaFX controller?\r\n\r\nJava code to be executed after the document has loaded:\r\n\r\n    webView.getEngine().executeScript(&quot;&lt;write your javascript here&gt;&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; How to send back the variables from javascript (longitude, latitude, etc)?\r\n\r\nHere is a generic communication sample, replace it with the actual Java and JavaScript logic you want to execute.\r\n\r\nJava code:\r\n\r\n    // Add a Java callback object to a WebEngine document once it has loaded.\r\n    webEngine.getLoadWorker().stateProperty().addListener(\r\n      new ChangeListener&lt;State&gt;() {  \r\n        @Override public void changed(ObservableValue&lt;? extends State&gt; ov, State oldState, State newState) {\r\n          if (newState == State.SUCCEEDED) {\r\n            JSObject win = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n            win.setMember(&quot;app&quot;, new JavaApp());\r\n          }\r\n        }\r\n      });\r\n    }\r\n    ...\r\n    // JavaScript interface object\r\n    private class JavaApp {\r\n      public void exit() {\r\n        Platform.exit();\r\n      }\r\n    }\r\n\r\nJavaScript code (in this case embedded in an onclick handler for a html href):\r\n\r\n    &lt;a href=&quot;about:blank&quot; onclick=&quot;app.exit()&quot;&gt;Exit the Application&lt;/a&gt;\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/webview/jfxpub-webview.htm","title":"How to pass data from WebView to controller and vice-versa in JavaFX","body":"<p>See the <a href=\"http://docs.oracle.com/javafx/2/webview/jfxpub-webview.htm\" rel=\"noreferrer\">JavaFX WebView tutorial</a> sections:</p>\n\n<ul>\n<li>Processing JavaScript Commands </li>\n<li>Making Upcalls from JavaScript to JavaFX</li>\n</ul>\n\n<p>Make sure you use JavaFX 2.1+ when doing this, as JavaFX 2.0 does not have full support for upcalls from javaScript to JavaFX.</p>\n\n<hr>\n\n<blockquote>\n  <p>How to call javascript functions from JavaFX controller?</p>\n</blockquote>\n\n<p>Java code to be executed after the document has loaded:</p>\n\n<pre><code>webView.getEngine().executeScript(\"&lt;write your javascript here&gt;\");\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>How to send back the variables from javascript (longitude, latitude, etc)?</p>\n</blockquote>\n\n<p>Here is a generic communication sample, replace it with the actual Java and JavaScript logic you want to execute.</p>\n\n<p>Java code:</p>\n\n<pre><code>// Add a Java callback object to a WebEngine document once it has loaded.\nwebEngine.getLoadWorker().stateProperty().addListener(\n  new ChangeListener&lt;State&gt;() {  \n    @Override public void changed(ObservableValue&lt;? extends State&gt; ov, State oldState, State newState) {\n      if (newState == State.SUCCEEDED) {\n        JSObject win = (JSObject) webEngine.executeScript(\"window\");\n        win.setMember(\"app\", new JavaApp());\n      }\n    }\n  });\n}\n...\n// JavaScript interface object\nprivate class JavaApp {\n  public void exit() {\n    Platform.exit();\n  }\n}\n</code></pre>\n\n<p>JavaScript code (in this case embedded in an onclick handler for a html href):</p>\n\n<pre><code>&lt;a href=\"about:blank\" onclick=\"app.exit()\"&gt;Exit the Application&lt;/a&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13853881,"reputation":251,"user_id":10001149,"display_name":"Moh_beh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653951924,"creation_date":1653940117,"answer_id":72439380,"question_id":10918039,"body_markdown":"Before you need sure you can use :\r\n\r\n    import netscape.javascript.JSObject;\r\n\r\n\r\n\r\n1) Create a project with JavaFx and Maven\r\n\r\n2)check these Files:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHelloApplicaion.java\r\n\r\n\r\n    package com.example.map;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 1100, 500);\r\n            stage.setResizable(false);\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\nHelloController.java\r\n\r\n\r\n    package com.example.map;\r\n    \r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.concurrent.Worker;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    import javafx.beans.value.ChangeListener;\r\n    import netscape.javascript.JSObject;\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    import  java.lang.*;\r\n    import javafx.concurrent.Worker.State;\r\n    public class HelloController  implements Initializable {\r\n        @FXML\r\n        private WebView view;\r\n        private WebEngine engine;\r\n        @FXML\r\n        private Button b1, b2, b4 ,b3;\r\n        \r\n    //    private String link = &quot;file:///index.html&quot;;\r\n        private String link = getClass().getResource(&quot;index.html&quot;).toExternalForm();\r\n        \r\n        @FXML\r\n        protected void from_pc_to_webview() {\r\n            b3.setText(&quot;Welcome to JavaFX Application!&quot;);\r\n            String name=&quot;sssss&quot;;\r\n            engine.setJavaScriptEnabled(true);\r\n            engine.executeScript(&quot;me()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle rb) {\r\n            engine = view.getEngine();\r\n            engine.load(link);\r\n            Worker&lt;Void&gt; worker = engine.getLoadWorker();\r\n    \r\n            worker.stateProperty().addListener(new ChangeListener&lt;State&gt;() {\r\n                @Override\r\n                public void changed(ObservableValue&lt;? extends State&gt; observableValue, State state, State t1) {\r\n    \r\n                    if (t1 == Worker.State.SUCCEEDED) {\r\n                        JSObject window = (JSObject) engine.executeScript(&quot;window&quot;);\r\n                        window.setMember(&quot;myObject&quot;, new MyObject());\r\n    \r\n                    }\r\n    \r\n                }\r\n            });\r\n    \r\n        }//initialize\r\n    \r\n        public static class MyObject {\r\n    \r\n            public void doIt() {\r\n                System.out.println(&quot;Get data from Html &lt;---------&quot;);\r\n            }\r\n        }\r\n    \r\n        @FXML\r\n        protected void b1() {\r\n    //        b4.setText(&quot;Welcome to JavaFX Application!&quot;);\r\n            engine.setJavaScriptEnabled(true);\r\n            String me=&quot;ddddddddddddddddddddddddddddddddddddddddddddd&quot;;\r\n            engine.executeScript(&quot;me(&#39;&quot;+me+&quot;&#39;);&quot;);\r\n            System.out.println(&quot;eeeeeeeeeeeeeeeeeeeeeeeeee&quot;);\r\n        }\r\n    \r\n    }//CLASS\r\n\r\n\r\nhello-view.fxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;?import javafx.scene.web.*?&gt;\r\n    \r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.map.HelloController&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;WebView fx:id=&quot;view&quot; layoutX=&quot;50.0&quot; layoutY=&quot;0.0&quot; prefHeight=&quot;2.0&quot; prefWidth=&quot;3.0&quot; AnchorPane.bottomAnchor=&quot;30.0&quot; AnchorPane.leftAnchor=&quot;100.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;60.0&quot; /&gt;\r\n    \r\n            &lt;Button fx:id=&quot;b1&quot; layoutX=&quot;0.0&quot; layoutY=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;b1&quot;     onAction=&quot;#b1&quot;  /&gt;\r\n            &lt;Button fx:id=&quot;b2&quot; layoutX=&quot;55.0&quot; layoutY=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;b2&quot; /&gt;\r\n            &lt;Button fx:id=&quot;b3&quot; layoutX=&quot;165.0&quot; layoutY=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;send_to_web&quot;   onAction=&quot;#from_pc_to_webview&quot;/&gt;\r\n        &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\n\r\n\r\nindex.html\r\n\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;form id=&quot;form1&quot; name=&quot;form1&quot;&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;text1&quot;&gt;text value&lt;/input&gt;\r\n    &lt;/form&gt;\r\n    &lt;button onclick=&quot;java.hi()&quot;&gt;Submit&lt;/button&gt;\r\n    &lt;br/&gt;\r\n    &lt;div id=&quot;fd&quot;&gt;fffffffff&lt;/div&gt;\r\n    &lt;button onclick=&quot;me()&quot;&gt;me&lt;/button&gt;\r\n    &lt;button onclick=&quot;ddddddddddd()&quot;&gt;html---&gt;java&lt;/button&gt;\r\n    &lt;button onclick=&quot;ddddddddddd()&quot;&gt;ddddddddddd&lt;/button&gt;\r\n    &lt;script&gt;\r\n        function  me(me){\r\n            var myDiv = document.getElementById(&quot;fd&quot;);\r\n            myDiv.innerHTML = me;\r\n    \r\n        }\r\n        function  ddddddddddd(){\r\n            var myDiv = document.getElementById(&quot;fd&quot;);\r\n            myDiv.innerHTML = &quot;-------------------&quot;;\r\n            window.myObject.doIt();\r\n        }\r\n        \r\n    &lt;/script&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nMaybe you need to update your Maven :\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8dP65.png\r\n  [2]: https://i.stack.imgur.com/ZNCw7.png\r\n  [3]: https://i.stack.imgur.com/G6b46.png","title":"How to pass data from WebView to controller and vice-versa in JavaFX","body":"<p>Before you need sure you can use :</p>\n<pre><code>import netscape.javascript.JSObject;\n</code></pre>\n<ol>\n<li>Create a project with JavaFx and Maven</li>\n</ol>\n<p>2)check these Files:</p>\n<p><a href=\"https://i.stack.imgur.com/8dP65.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8dP65.png\" alt=\"enter image description here\" /></a></p>\n<p>HelloApplicaion.java</p>\n<pre><code>package com.example.map;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    \n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 1100, 500);\n        stage.setResizable(false);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>HelloController.java</p>\n<pre><code>package com.example.map;\n\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Worker;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.beans.value.ChangeListener;\nimport netscape.javascript.JSObject;\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport  java.lang.*;\nimport javafx.concurrent.Worker.State;\npublic class HelloController  implements Initializable {\n    @FXML\n    private WebView view;\n    private WebEngine engine;\n    @FXML\n    private Button b1, b2, b4 ,b3;\n    \n//    private String link = &quot;file:///index.html&quot;;\n    private String link = getClass().getResource(&quot;index.html&quot;).toExternalForm();\n    \n    @FXML\n    protected void from_pc_to_webview() {\n        b3.setText(&quot;Welcome to JavaFX Application!&quot;);\n        String name=&quot;sssss&quot;;\n        engine.setJavaScriptEnabled(true);\n        engine.executeScript(&quot;me()&quot;);\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        engine = view.getEngine();\n        engine.load(link);\n        Worker&lt;Void&gt; worker = engine.getLoadWorker();\n\n        worker.stateProperty().addListener(new ChangeListener&lt;State&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends State&gt; observableValue, State state, State t1) {\n\n                if (t1 == Worker.State.SUCCEEDED) {\n                    JSObject window = (JSObject) engine.executeScript(&quot;window&quot;);\n                    window.setMember(&quot;myObject&quot;, new MyObject());\n\n                }\n\n            }\n        });\n\n    }//initialize\n\n    public static class MyObject {\n\n        public void doIt() {\n            System.out.println(&quot;Get data from Html &lt;---------&quot;);\n        }\n    }\n\n    @FXML\n    protected void b1() {\n//        b4.setText(&quot;Welcome to JavaFX Application!&quot;);\n        engine.setJavaScriptEnabled(true);\n        String me=&quot;ddddddddddddddddddddddddddddddddddddddddddddd&quot;;\n        engine.executeScript(&quot;me('&quot;+me+&quot;');&quot;);\n        System.out.println(&quot;eeeeeeeeeeeeeeeeeeeeeeeeee&quot;);\n    }\n\n}//CLASS\n</code></pre>\n<p>hello-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.web.*?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.map.HelloController&quot;&gt;\n    &lt;children&gt;\n        &lt;WebView fx:id=&quot;view&quot; layoutX=&quot;50.0&quot; layoutY=&quot;0.0&quot; prefHeight=&quot;2.0&quot; prefWidth=&quot;3.0&quot; AnchorPane.bottomAnchor=&quot;30.0&quot; AnchorPane.leftAnchor=&quot;100.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;60.0&quot; /&gt;\n\n        &lt;Button fx:id=&quot;b1&quot; layoutX=&quot;0.0&quot; layoutY=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;b1&quot;     onAction=&quot;#b1&quot;  /&gt;\n        &lt;Button fx:id=&quot;b2&quot; layoutX=&quot;55.0&quot; layoutY=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;b2&quot; /&gt;\n        &lt;Button fx:id=&quot;b3&quot; layoutX=&quot;165.0&quot; layoutY=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;send_to_web&quot;   onAction=&quot;#from_pc_to_webview&quot;/&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>index.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form id=&quot;form1&quot; name=&quot;form1&quot;&gt;\n    &lt;input type=&quot;text&quot; id=&quot;text1&quot;&gt;text value&lt;/input&gt;\n&lt;/form&gt;\n&lt;button onclick=&quot;java.hi()&quot;&gt;Submit&lt;/button&gt;\n&lt;br/&gt;\n&lt;div id=&quot;fd&quot;&gt;fffffffff&lt;/div&gt;\n&lt;button onclick=&quot;me()&quot;&gt;me&lt;/button&gt;\n&lt;button onclick=&quot;ddddddddddd()&quot;&gt;html---&gt;java&lt;/button&gt;\n&lt;button onclick=&quot;ddddddddddd()&quot;&gt;ddddddddddd&lt;/button&gt;\n&lt;script&gt;\n    function  me(me){\n        var myDiv = document.getElementById(&quot;fd&quot;);\n        myDiv.innerHTML = me;\n\n    }\n    function  ddddddddddd(){\n        var myDiv = document.getElementById(&quot;fd&quot;);\n        myDiv.innerHTML = &quot;-------------------&quot;;\n        window.myObject.doIt();\n    }\n    \n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZNCw7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZNCw7.png\" alt=\"enter image description here\" /></a></p>\n<p>Maybe you need to update your Maven :</p>\n<p><a href=\"https://i.stack.imgur.com/G6b46.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G6b46.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1282185,"reputation":5572,"user_id":1236048,"accept_rate":81,"display_name":"user1236048"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7255,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10923952,"answer_count":2,"score":8,"last_activity_date":1653951924,"creation_date":1338999199,"question_id":10918039,"body_markdown":"So I&#39;ve found this [tutorial][1] on how to use google maps API in a Desktop JavaFX application. \r\n\r\nThe point is that I can&#39;t figure out how can I pass data from WebView (javascripts variables, jsons..) to controller and viceversa. \r\n\r\n\r\nI&#39;d like to make an textfield that on textinput to automaticaly search that address and add an marker there (and viceversa when I move the marker to populate the input). The javascript standalone is no problem for me, but I don&#39;t know how to call javascript functions from JavaFX controller or how to send back the variables from javascript (longitude, latitude, etc)\r\n\r\n\r\n  [1]: http://java-buddy.blogspot.ro/2012/03/embed-google-maps-in-javafx-webview.html","title":"How to pass data from WebView to controller and vice-versa in JavaFX","body":"<p>So I've found this <a href=\"http://java-buddy.blogspot.ro/2012/03/embed-google-maps-in-javafx-webview.html\">tutorial</a> on how to use google maps API in a Desktop JavaFX application. </p>\n\n<p>The point is that I can't figure out how can I pass data from WebView (javascripts variables, jsons..) to controller and viceversa. </p>\n\n<p>I'd like to make an textfield that on textinput to automaticaly search that address and add an marker there (and viceversa when I move the marker to populate the input). The javascript standalone is no problem for me, but I don't know how to call javascript functions from JavaFX controller or how to send back the variables from javascript (longitude, latitude, etc)</p>\n"},{"tags":["java","multithreading","synchronization","interrupt","thread-priority"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653895205,"post_id":72430451,"comment_id":127953926,"body_markdown":"Please explain what output you are expecting, and why.","body":"Please explain what output you are expecting, and why."},{"owner":{"account_id":25424330,"reputation":13,"user_id":19229713,"display_name":"PranjalTech"},"score":0,"creation_date":1653896138,"post_id":72430451,"comment_id":127954242,"body_markdown":"@tgdavies I am expecting the output based on the priority I have assigned. That is &quot;Logistic Officer X 5times&quot; then the interrupt call.","body":"@tgdavies I am expecting the output based on the priority I have assigned. That is &quot;Logistic Officer X 5times&quot; then the interrupt call."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653896350,"post_id":72430451,"comment_id":127954308,"body_markdown":"Given that you start thread 1 immediately, I&#39;m not sure why you expect that? And what do you expect that calling `interrupt()` on a `Thread` which hasn&#39;t started should do?","body":"Given that you start thread 1 immediately, I&#39;m not sure why you expect that? And what do you expect that calling <code>interrupt()</code> on a <code>Thread</code> which hasn&#39;t started should do?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653899388,"post_id":72430451,"comment_id":127955276,"body_markdown":"also check the [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Thread.html#interrupt()) of `interrupt()`: &quot;*Interrupting a thread that is not alive need not have any effect.*&quot; ([and](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Thread.html#isAlive()) &quot;*A thread is alive if it has been started and has not yet died.*&quot;)","body":"also check the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Thread.html#interrupt()\" rel=\"nofollow noreferrer\">documentation</a> of <code>interrupt()</code>: &quot;<i>Interrupting a thread that is not alive need not have any effect.</i>&quot; (<a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Thread.html#isAlive()\" rel=\"nofollow noreferrer\">and</a> &quot;<i>A thread is alive if it has been started and has not yet died.</i>&quot;)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1653904847,"post_id":72430451,"comment_id":127957252,"body_markdown":"`jobname` should be `volatile`.","body":"<code>jobname</code> should be <code>volatile</code>."},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":0,"creation_date":1653951387,"post_id":72430451,"comment_id":127971222,"body_markdown":"@PranjalTech What happens if `t1` grabs the lock before any other thread even starts?","body":"@PranjalTech What happens if <code>t1</code> grabs the lock before any other thread even starts?"}],"answers":[{"tags":[],"owner":{"account_id":7412403,"reputation":11,"user_id":13578964,"display_name":"GopalSir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653898993,"creation_date":1653898464,"answer_id":72431121,"question_id":72430451,"body_markdown":"You are interrupting Thread 2 even before it has started , so It&#39;s not going to throw that exception that you are hoping it should . \r\n\r\nput that interrupt statement after T2.start()\r\n\r\n","title":"setPriority() method and interrupt() method is not executing","body":"<p>You are interrupting Thread 2 even before it has started , so It's not going to throw that exception that you are hoping it should .</p>\n<p>put that interrupt statement after T2.start()</p>\n"},{"tags":[],"owner":{"account_id":2521751,"reputation":1991,"user_id":2191979,"accept_rate":37,"display_name":"Pakira"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653950822,"creation_date":1653950822,"answer_id":72440675,"question_id":72430451,"body_markdown":"I think you need to understand the meaning of `setPriority`. `Thread.setPriority` does not set the execution order of threads but helps the thread scheduler to decide which thread should be given priority when allocating the CPU.\r\n\r\nThis [answer][1] can give you more details.\r\n\r\nAnd regarding the interrupt method, you have it in the wrong place. \r\n\r\n  [1]: https://stackoverflow.com/questions/44617921/java-multithreading-setpriority/44618037#44618037","title":"setPriority() method and interrupt() method is not executing","body":"<p>I think you need to understand the meaning of <code>setPriority</code>. <code>Thread.setPriority</code> does not set the execution order of threads but helps the thread scheduler to decide which thread should be given priority when allocating the CPU.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/44617921/java-multithreading-setpriority/44618037#44618037\">answer</a> can give you more details.</p>\n<p>And regarding the interrupt method, you have it in the wrong place.</p>\n"}],"owner":{"account_id":25424330,"reputation":13,"user_id":19229713,"display_name":"PranjalTech"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72440675,"answer_count":2,"score":1,"last_activity_date":1653950822,"creation_date":1653895002,"question_id":72430451,"body_markdown":"In the code below I am trying to implement *synchronization*. The code works perfectly fine. But when I try to use the **setPriority()** method or **interrupt()** method it does not give me the desired output. Can anyone let me know what is going wrong here?\r\n\r\n*Code:*\r\n\r\n    class Show{\r\n    \t\r\n    \tpublic synchronized void assignjob(String jobname) {\r\n    \t\tfor(int i=0; i&lt;5;i++) {\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Your new job role is:&quot;+jobname);\r\n    \t\t\t\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tSystem.out.println(&quot;Thread Interrupted&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n    \r\n    class MyThread extends Thread{\r\n    \t\r\n    \tShow s;\r\n    \tString jobname;\r\n    \t\r\n    \tMyThread(Show s, String jobname)\r\n    \t{\r\n    \t\tthis.s=s;\r\n    \t\tthis.jobname=jobname;\r\n    \t}\r\n    \t\r\n    \tpublic void run() {\r\n    \t\ts.assignjob(jobname);\r\n    \t}\r\n    }\r\n    \r\n    public class SynchronizationExamples {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tShow s=new Show();\r\n    \t\tMyThread t1= new MyThread(s,&quot;junior developer&quot;);\r\n    \t\tMyThread t2=new MyThread(s,&quot;Manager&quot;);\r\n    \t\tMyThread t3= new MyThread(s,&quot;Logistic Officer&quot;);\r\n    \t\t\r\n    \t\tt1.setPriority(4);\r\n    \t\tt1.start();\r\n    \t\tt3.setPriority(7);\r\n    \t\tt3.start();\r\n    \t\tt2.interrupt();\r\n    \t\tt2.setPriority(6);\r\n    \t\tt2.start();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n*Output:*\r\n\r\nThe output here is not according to the priority set in the code snippet above and neither is the interrupt call handled.\r\n\r\n    Your new job role is:junior developer\r\n    Your new job role is:junior developer\r\n    Your new job role is:junior developer\r\n    Your new job role is:junior developer\r\n    Your new job role is:junior developer\r\n    Your new job role is:Logistic Officer\r\n    Your new job role is:Logistic Officer\r\n    Your new job role is:Logistic Officer\r\n    Your new job role is:Logistic Officer\r\n    Your new job role is:Logistic Officer\r\n    Your new job role is:Manager\r\n    Your new job role is:Manager\r\n    Your new job role is:Manager\r\n    Your new job role is:Manager\r\n    Your new job role is:Manager\r\n\r\n","title":"setPriority() method and interrupt() method is not executing","body":"<p>In the code below I am trying to implement <em>synchronization</em>. The code works perfectly fine. But when I try to use the <strong>setPriority()</strong> method or <strong>interrupt()</strong> method it does not give me the desired output. Can anyone let me know what is going wrong here?</p>\n<p><em>Code:</em></p>\n<pre><code>class Show{\n    \n    public synchronized void assignjob(String jobname) {\n        for(int i=0; i&lt;5;i++) {\n            \n            System.out.println(&quot;Your new job role is:&quot;+jobname);\n            \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                System.out.println(&quot;Thread Interrupted&quot;);\n            }\n        }\n        \n    }\n}\n\nclass MyThread extends Thread{\n    \n    Show s;\n    String jobname;\n    \n    MyThread(Show s, String jobname)\n    {\n        this.s=s;\n        this.jobname=jobname;\n    }\n    \n    public void run() {\n        s.assignjob(jobname);\n    }\n}\n\npublic class SynchronizationExamples {\n\n    public static void main(String[] args) {\n    \n        Show s=new Show();\n        MyThread t1= new MyThread(s,&quot;junior developer&quot;);\n        MyThread t2=new MyThread(s,&quot;Manager&quot;);\n        MyThread t3= new MyThread(s,&quot;Logistic Officer&quot;);\n        \n        t1.setPriority(4);\n        t1.start();\n        t3.setPriority(7);\n        t3.start();\n        t2.interrupt();\n        t2.setPriority(6);\n        t2.start();\n\n    }\n\n}\n</code></pre>\n<p><em>Output:</em></p>\n<p>The output here is not according to the priority set in the code snippet above and neither is the interrupt call handled.</p>\n<pre><code>Your new job role is:junior developer\nYour new job role is:junior developer\nYour new job role is:junior developer\nYour new job role is:junior developer\nYour new job role is:junior developer\nYour new job role is:Logistic Officer\nYour new job role is:Logistic Officer\nYour new job role is:Logistic Officer\nYour new job role is:Logistic Officer\nYour new job role is:Logistic Officer\nYour new job role is:Manager\nYour new job role is:Manager\nYour new job role is:Manager\nYour new job role is:Manager\nYour new job role is:Manager\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1653859627,"post_id":72427192,"comment_id":127948250,"body_markdown":"What does ClientValidator.validate do ?","body":"What does ClientValidator.validate do ?"},{"owner":{"account_id":25372465,"reputation":39,"user_id":19186050,"display_name":"Franck TCHIENGUEN"},"score":0,"creation_date":1653869942,"post_id":72427192,"comment_id":127949872,"body_markdown":"validate the present or not of attribute","body":"validate the present or not of attribute"},{"owner":{"account_id":8766155,"reputation":91,"user_id":6554429,"display_name":"mohamed chadad"},"score":0,"creation_date":1653872404,"post_id":72427192,"comment_id":127950141,"body_markdown":"Can you show us the errors list returned with the exception?","body":"Can you show us the errors list returned with the exception?"},{"owner":{"account_id":25372465,"reputation":39,"user_id":19186050,"display_name":"Franck TCHIENGUEN"},"score":0,"creation_date":1653873321,"post_id":72427192,"comment_id":127950234,"body_markdown":"@mohamedchadad yes i added it in the topic","body":"@mohamedchadad yes i added it in the topic"},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1653877589,"post_id":72427192,"comment_id":127950736,"body_markdown":"There&#39;s a lot of code here that doesn&#39;t seem related to the issue. Can you provide a [**minimal**, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)? I tried using just your `ClientDto` and a `PostMapping` endpoint, and it was working as expected.","body":"There&#39;s a lot of code here that doesn&#39;t seem related to the issue. Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><b>minimal</b>, reproducible example</a>? I tried using just your <code>ClientDto</code> and a <code>PostMapping</code> endpoint, and it was working as expected."},{"owner":{"account_id":25372465,"reputation":39,"user_id":19186050,"display_name":"Franck TCHIENGUEN"},"score":0,"creation_date":1653906898,"post_id":72427192,"comment_id":127957961,"body_markdown":"@Knox I don&#39;t know where is the problem because all POST request that using the embedded attribute Adress don&#39;t work.","body":"@Knox I don&#39;t know where is the problem because all POST request that using the embedded attribute Adress don&#39;t work."},{"owner":{"account_id":25372465,"reputation":39,"user_id":19186050,"display_name":"Franck TCHIENGUEN"},"score":0,"creation_date":1653924644,"post_id":72427192,"comment_id":127964661,"body_markdown":"I think that jackson can&#39;t able to map a JSON to Entity. But i don&#39;t know how to tell it to serialize","body":"I think that jackson can&#39;t able to map a JSON to Entity. But i don&#39;t know how to tell it to serialize"},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":1,"creation_date":1653941671,"post_id":72427192,"comment_id":127969341,"body_markdown":"@FranckTCHIENGUEN Please see the &quot;Minimal&quot; section of the link I sent- it describes how to produce an example even if you don&#39;t know where the problem is. If the problem is that all fields of `ClientDto` when it&#39;s a request body are null, then you should limit the scope to your controller, ideally with a `System.out.println()` showing the null, and the `ClientDto` itself. We don&#39;t need `Client`, `Adresse`, `ClientDto#fromEntity`, `ClientDto#toEntity`, and so on. Otherwise, we have to clean up all of that ourselves to get it to compile. And when I did, I wasn&#39;t seeing the same issue.","body":"@FranckTCHIENGUEN Please see the &quot;Minimal&quot; section of the link I sent- it describes how to produce an example even if you don&#39;t know where the problem is. If the problem is that all fields of <code>ClientDto</code> when it&#39;s a request body are null, then you should limit the scope to your controller, ideally with a <code>System.out.println()</code> showing the null, and the <code>ClientDto</code> itself. We don&#39;t need <code>Client</code>, <code>Adresse</code>, <code>ClientDto#fromEntity</code>, <code>ClientDto#toEntity</code>, and so on. Otherwise, we have to clean up all of that ourselves to get it to compile. And when I did, I wasn&#39;t seeing the same issue."},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1653941779,"post_id":72427192,"comment_id":127969362,"body_markdown":"It would be easier if you give us something that we can both run and see the problem, otherwise we&#39;ll be on different pages (which is why I am already not able to reproduce the same error you are seeing).","body":"It would be easier if you give us something that we can both run and see the problem, otherwise we&#39;ll be on different pages (which is why I am already not able to reproduce the same error you are seeing)."},{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1653953425,"post_id":72427192,"comment_id":127971502,"body_markdown":"try putting the url at the end of the curl command, I&#39;m not sure it&#39;s going to work with the arguments after the url.","body":"try putting the url at the end of the curl command, I&#39;m not sure it&#39;s going to work with the arguments after the url."},{"owner":{"account_id":25372465,"reputation":39,"user_id":19186050,"display_name":"Franck TCHIENGUEN"},"score":0,"creation_date":1653990639,"post_id":72427192,"comment_id":127979695,"body_markdown":"@Knox ok. I will do better next time. it&#39;s my first question on stack over flow","body":"@Knox ok. I will do better next time. it&#39;s my first question on stack over flow"},{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1654021243,"post_id":72427192,"comment_id":127991567,"body_markdown":"No need to apologize, and welcome to SO.","body":"No need to apologize, and welcome to SO."}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1653949840,"creation_date":1653949840,"answer_id":72440597,"question_id":72427192,"body_markdown":"You may have incorrect import in your controller: \r\n\r\nAdd:\r\n\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n\r\nRemove:\r\n\r\n    import io.swagger.v3.oas.annotations.parameters.RequestBody;\r\n\r\n","title":"Spring Boot : Values of all attributes of DTO are null","body":"<p>You may have incorrect import in your controller:</p>\n<p>Add:</p>\n<pre><code>import org.springframework.web.bind.annotation.RequestBody;\n</code></pre>\n<p>Remove:</p>\n<pre><code>import io.swagger.v3.oas.annotations.parameters.RequestBody;\n</code></pre>\n"}],"owner":{"account_id":25372465,"reputation":39,"user_id":19186050,"display_name":"Franck TCHIENGUEN"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4315,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653949840,"creation_date":1653857350,"question_id":72427192,"body_markdown":"I&#39;m developing a Spring Boot application and I have a problem with my POST request. When I do the request it seems that every field in the request body is null.\r\n\r\nClient entity\r\n\r\n```java\r\n    package com.tradeManagementApp.tradeManagement.model;\r\n    \r\n    import lombok.*;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Table(name =&quot;Client&quot;)\r\n    @Entity\r\n    public class Client extends AdstractEntity{\r\n    \r\n        @Column(name = &quot;nom&quot;)\r\n        private String nom;\r\n    \r\n        @Column(name = &quot;prenom&quot;)\r\n        private String prenom;\r\n    \r\n        @Column(name = &quot;photo&quot;)\r\n        private String photo;\r\n    \r\n        @Embedded\r\n        private Adresse adresse;\r\n    \r\n        @Column(name = &quot;mail&quot;)\r\n        private String mail;\r\n    \r\n        @Column(name = &quot;tel&quot;)\r\n        private String tel;\r\n    \r\n        @Column(name = &quot;identreprise&quot;)\r\n        private int idEntreprise;\r\n    \r\n        @OneToMany(mappedBy = &quot;client&quot;)\r\n        private List&lt;CommandeClient&gt; commandeClients;\r\n    }\r\n```\r\n\r\nAdress entity\r\n```java\r\n    package com.tradeManagementApp.tradeManagement.model;\r\n    \r\n    import lombok.*;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Embeddable;\r\n    import java.io.Serializable;\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Embeddable\r\n    public class Adresse implements Serializable {\r\n    \r\n    \r\n        @Column(name = &quot;adresee1&quot;)\r\n        private  String adresse1;\r\n    \r\n        @Column(name = &quot;adresee2&quot;)\r\n        private  String adresse2;\r\n    \r\n        @Column(name = &quot;ville&quot;)\r\n        private  String ville;\r\n    \r\n        @Column(name = &quot;pays&quot;)\r\n        private  String pays;\r\n    \r\n        @Column(name = &quot;codepostal&quot;)\r\n        private  String codepostal;\r\n    }\r\n```\r\n\r\nClient DTO\r\n```java\r\n    \r\n    @Builder\r\n    @Data\r\n    public class ClientDto {\r\n    \r\n        private Integer id;\r\n        private String nom;\r\n        private String prenom;\r\n        private String photo;\r\n        private AdresseDto adresse;\r\n        private String mail;\r\n        private Integer idEntreprise;\r\n        private String tel;\r\n        @JsonIgnore\r\n        private List&lt;CommandeClientDto&gt; commandeClients;\r\n    \r\n        public static ClientDto fromEntity (Client client){\r\n            if (client == null){\r\n    \r\n    //            todo throw an exception\r\n                return null;\r\n            }\r\n    \r\n            return ClientDto.builder()\r\n                    .id(client.getId())\r\n                    .nom(client.getNom())\r\n                    .prenom(client.getPrenom())\r\n                    .photo(client.getPhoto())\r\n                    .adresse(AdresseDto.fromEntity(client.getAdresse()))\r\n                    .mail(client.getMail())\r\n                    .idEntreprise(client.getIdEntreprise())\r\n                    .tel(client.getTel())\r\n                    .build();\r\n        }\r\n    \r\n        public static Client toEntity(ClientDto clientDto){\r\n            if (clientDto == null){\r\n    \r\n    //            todo throw an exception\r\n                return null;\r\n            }\r\n    \r\n            Client client = new Client();\r\n    \r\n            client.setId(clientDto.getId());\r\n            client.setNom(clientDto.getNom());\r\n            client.setPrenom(clientDto.getPrenom());\r\n            client.setPhoto(clientDto.getPhoto());\r\n            client.setMail(clientDto.getMail());\r\n            client.setTel(clientDto.getTel());\r\n            client.setIdEntreprise(clientDto.getIdEntreprise());\r\n            client.setAdresse(AdresseDto.toEntity(clientDto.getAdresse()));\r\n    \r\n            return client;\r\n        }\r\n    \r\n    }\r\n```\r\n\r\nAdress DTO\r\n```java\r\n    \r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Data\r\n    public class AdresseDto {\r\n    \r\n        private  String adresse1;\r\n        private  String adresse2;\r\n        private  String ville;\r\n        private  String pays;\r\n        private  String codePostal;\r\n    \r\n        public static AdresseDto fromEntity(Adresse adresse){\r\n            if (adresse == null){\r\n    \r\n    //            todo throw an exception\r\n                return null;\r\n            }\r\n            return AdresseDto.builder()\r\n                    .adresse1(adresse.getAdresse1())\r\n                    .adresse2(adresse.getAdresse2())\r\n                    .ville(adresse.getVille())\r\n                    .pays(adresse.getPays())\r\n                    .codePostal(adresse.getCodepostal())\r\n                    .build();\r\n        }\r\n    \r\n        public static Adresse toEntity (AdresseDto adresseDto){\r\n            if (adresseDto == null){\r\n    \r\n    //            todo throw an exception\r\n                return null;\r\n            }\r\n    \r\n    \r\n            Adresse adresse = new Adresse();\r\n    \r\n            adresse.setAdresse1(adresseDto.getAdresse1());\r\n            adresse.setAdresse2(adresseDto.getAdresse2());\r\n            adresse.setVille(adresseDto.getVille());\r\n            adresse.setPays(adresseDto.getPays());\r\n            adresse.setCodepostal(adresseDto.getCodePostal());\r\n    \r\n            return adresse;\r\n        }\r\n    }\r\n```\r\n\r\nclient validator\r\n```\r\n    public class ClientValidator {\r\n    \r\n        public static List&lt;String&gt; validate (ClientDto clientDto){\r\n            List&lt;String&gt; errors = new ArrayList&lt;&gt;();\r\n    \r\n            if (clientDto == null){\r\n                errors.add(&quot;veuillez renseignez le nom du client&quot;);\r\n                errors.add(&quot;veuillez renseignez le prenom du client&quot;);\r\n                errors.add(&quot;veuillez renseignez l&#39;email du client&quot;);\r\n                return errors;\r\n            }\r\n            if ( !StringUtils.hasLength(clientDto.getNom())){\r\n                errors.add(&quot;veuillez renseignez le nom du client&quot;);\r\n            }\r\n            if ( !StringUtils.hasLength(clientDto.getPrenom())){\r\n                errors.add(&quot;veuillez renseignez le prenom du client&quot;);\r\n            }\r\n            if ( !StringUtils.hasLength(clientDto.getMail())){\r\n                errors.add(&quot;veuillez renseignez l&#39;email du client&quot;);\r\n            }\r\n            if ( !StringUtils.hasLength(clientDto.getTel())){\r\n                errors.add(&quot;veuillez renseignez le numero de telephone du client&quot;);\r\n            }\r\n    \r\n            return errors;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nSave client method in Service\r\n```\r\n    @Override\r\n        public ClientDto save(ClientDto clientDto) {\r\n            List&lt;String&gt; errors = ClientValidator.validate(clientDto);\r\n    \r\n            if (!errors.isEmpty()){\r\n                log.error(&quot;Client is not Valid {}&quot;,clientDto);\r\n                throw new InvalidEntityException(&quot;le client est invalide&quot;, ErrorCode.CLIENT_NOT_VALID, errors);\r\n            }\r\n            return ClientDto.fromEntity(\r\n                    clientRepositry.save(ClientDto.toEntity(clientDto))\r\n            );\r\n        } \r\n```\r\n\r\nClient controller\r\n```java\r\n   \r\n        @PostMapping(value = CLIENT_ENDPOIND+&quot;/&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        @Operation(summary = &quot;enregistrer un client&quot;, description = &quot;cette methode permet de enregistrer un client&quot;\r\n        )\r\n        @ApiResponses(value = {\r\n                @ApiResponse(responseCode = &quot;200&quot;, description = &quot;client enregistrer avec succ&#233;e&quot;),\r\n                @ApiResponse(responseCode = &quot;400&quot;, description = &quot;les informations du clients ne sont pas valides&quot;)\r\n        })\r\n        ClientDto save(@RequestBody ClientDto clientDto);\r\n```\r\n\r\nWhen i do a post request using swagger UI\r\n\r\n    curl -X &#39;POST&#39; \\\r\n      &#39;http://localhost:8080/tradeManagement/v1/clients/&#39; \\\r\n      -H &#39;accept: application/json&#39; \\\r\n      -H &#39;Content-Type: application/json&#39; \\\r\n      -d &#39;{\r\n      \r\n      &quot;nom&quot;: &quot;string&quot;,\r\n      &quot;prenom&quot;: &quot;string&quot;,\r\n      &quot;photo&quot;: &quot;string&quot;,\r\n      &quot;adresse&quot;: {\r\n        &quot;adresse1&quot;: &quot;string&quot;,\r\n        &quot;adresse2&quot;: &quot;string&quot;,\r\n        &quot;ville&quot;: &quot;string&quot;,\r\n        &quot;pays&quot;: &quot;string&quot;,\r\n        &quot;codePostal&quot;: &quot;string&quot;\r\n      },\r\n      &quot;mail&quot;: &quot;string&quot;,\r\n      &quot;idEntreprise&quot;: 0,\r\n      &quot;tel&quot;: &quot;string&quot;\r\n    }&#39;\r\n\r\nI have an error stating that the values of all attributes of customer Dto are null.\r\n\r\n    ERROR 13948 --- [nio-8080-exec-6] c.t.t.s.i.ClientServiceImplementation    : Client is not Valid ClientDto(id=null, nom=null, prenom=null, photo=null, adresse=null, mail=null, idEntreprise=null, tel=null, commandeClients=null)\r\n\r\nresponse body\r\n\r\n    {\r\n      &quot;httpCode&quot;: 400,\r\n      &quot;errorCode&quot;: &quot;CLIENT_NOT_VALID&quot;,\r\n      &quot;message&quot;: &quot;le client est invalide&quot;,\r\n      &quot;errors&quot;: [\r\n        &quot;veuillez renseignez le nom du client&quot;,\r\n        &quot;veuillez renseignez le prenom du client&quot;,\r\n        &quot;veuillez renseignez l&#39;email du client&quot;,\r\n        &quot;veuillez renseignez le numero de telephone du client&quot;\r\n      ]\r\n    }","title":"Spring Boot : Values of all attributes of DTO are null","body":"<p>I'm developing a Spring Boot application and I have a problem with my POST request. When I do the request it seems that every field in the request body is null.</p>\n<p>Client entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.tradeManagementApp.tradeManagement.model;\n    \n    import lombok.*;\n    \n    import javax.persistence.*;\n    import java.util.List;\n    \n    @Data\n    @Builder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @EqualsAndHashCode(callSuper = true)\n    @Table(name =&quot;Client&quot;)\n    @Entity\n    public class Client extends AdstractEntity{\n    \n        @Column(name = &quot;nom&quot;)\n        private String nom;\n    \n        @Column(name = &quot;prenom&quot;)\n        private String prenom;\n    \n        @Column(name = &quot;photo&quot;)\n        private String photo;\n    \n        @Embedded\n        private Adresse adresse;\n    \n        @Column(name = &quot;mail&quot;)\n        private String mail;\n    \n        @Column(name = &quot;tel&quot;)\n        private String tel;\n    \n        @Column(name = &quot;identreprise&quot;)\n        private int idEntreprise;\n    \n        @OneToMany(mappedBy = &quot;client&quot;)\n        private List&lt;CommandeClient&gt; commandeClients;\n    }\n</code></pre>\n<p>Adress entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.tradeManagementApp.tradeManagement.model;\n    \n    import lombok.*;\n    \n    import javax.persistence.Column;\n    import javax.persistence.Embeddable;\n    import java.io.Serializable;\n    \n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Embeddable\n    public class Adresse implements Serializable {\n    \n    \n        @Column(name = &quot;adresee1&quot;)\n        private  String adresse1;\n    \n        @Column(name = &quot;adresee2&quot;)\n        private  String adresse2;\n    \n        @Column(name = &quot;ville&quot;)\n        private  String ville;\n    \n        @Column(name = &quot;pays&quot;)\n        private  String pays;\n    \n        @Column(name = &quot;codepostal&quot;)\n        private  String codepostal;\n    }\n</code></pre>\n<p>Client DTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \n    @Builder\n    @Data\n    public class ClientDto {\n    \n        private Integer id;\n        private String nom;\n        private String prenom;\n        private String photo;\n        private AdresseDto adresse;\n        private String mail;\n        private Integer idEntreprise;\n        private String tel;\n        @JsonIgnore\n        private List&lt;CommandeClientDto&gt; commandeClients;\n    \n        public static ClientDto fromEntity (Client client){\n            if (client == null){\n    \n    //            todo throw an exception\n                return null;\n            }\n    \n            return ClientDto.builder()\n                    .id(client.getId())\n                    .nom(client.getNom())\n                    .prenom(client.getPrenom())\n                    .photo(client.getPhoto())\n                    .adresse(AdresseDto.fromEntity(client.getAdresse()))\n                    .mail(client.getMail())\n                    .idEntreprise(client.getIdEntreprise())\n                    .tel(client.getTel())\n                    .build();\n        }\n    \n        public static Client toEntity(ClientDto clientDto){\n            if (clientDto == null){\n    \n    //            todo throw an exception\n                return null;\n            }\n    \n            Client client = new Client();\n    \n            client.setId(clientDto.getId());\n            client.setNom(clientDto.getNom());\n            client.setPrenom(clientDto.getPrenom());\n            client.setPhoto(clientDto.getPhoto());\n            client.setMail(clientDto.getMail());\n            client.setTel(clientDto.getTel());\n            client.setIdEntreprise(clientDto.getIdEntreprise());\n            client.setAdresse(AdresseDto.toEntity(clientDto.getAdresse()));\n    \n            return client;\n        }\n    \n    }\n</code></pre>\n<p>Adress DTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Builder\n    @Data\n    public class AdresseDto {\n    \n        private  String adresse1;\n        private  String adresse2;\n        private  String ville;\n        private  String pays;\n        private  String codePostal;\n    \n        public static AdresseDto fromEntity(Adresse adresse){\n            if (adresse == null){\n    \n    //            todo throw an exception\n                return null;\n            }\n            return AdresseDto.builder()\n                    .adresse1(adresse.getAdresse1())\n                    .adresse2(adresse.getAdresse2())\n                    .ville(adresse.getVille())\n                    .pays(adresse.getPays())\n                    .codePostal(adresse.getCodepostal())\n                    .build();\n        }\n    \n        public static Adresse toEntity (AdresseDto adresseDto){\n            if (adresseDto == null){\n    \n    //            todo throw an exception\n                return null;\n            }\n    \n    \n            Adresse adresse = new Adresse();\n    \n            adresse.setAdresse1(adresseDto.getAdresse1());\n            adresse.setAdresse2(adresseDto.getAdresse2());\n            adresse.setVille(adresseDto.getVille());\n            adresse.setPays(adresseDto.getPays());\n            adresse.setCodepostal(adresseDto.getCodePostal());\n    \n            return adresse;\n        }\n    }\n</code></pre>\n<p>client validator</p>\n<pre><code>    public class ClientValidator {\n    \n        public static List&lt;String&gt; validate (ClientDto clientDto){\n            List&lt;String&gt; errors = new ArrayList&lt;&gt;();\n    \n            if (clientDto == null){\n                errors.add(&quot;veuillez renseignez le nom du client&quot;);\n                errors.add(&quot;veuillez renseignez le prenom du client&quot;);\n                errors.add(&quot;veuillez renseignez l'email du client&quot;);\n                return errors;\n            }\n            if ( !StringUtils.hasLength(clientDto.getNom())){\n                errors.add(&quot;veuillez renseignez le nom du client&quot;);\n            }\n            if ( !StringUtils.hasLength(clientDto.getPrenom())){\n                errors.add(&quot;veuillez renseignez le prenom du client&quot;);\n            }\n            if ( !StringUtils.hasLength(clientDto.getMail())){\n                errors.add(&quot;veuillez renseignez l'email du client&quot;);\n            }\n            if ( !StringUtils.hasLength(clientDto.getTel())){\n                errors.add(&quot;veuillez renseignez le numero de telephone du client&quot;);\n            }\n    \n            return errors;\n        }\n    }\n\n</code></pre>\n<p>Save client method in Service</p>\n<pre><code>    @Override\n        public ClientDto save(ClientDto clientDto) {\n            List&lt;String&gt; errors = ClientValidator.validate(clientDto);\n    \n            if (!errors.isEmpty()){\n                log.error(&quot;Client is not Valid {}&quot;,clientDto);\n                throw new InvalidEntityException(&quot;le client est invalide&quot;, ErrorCode.CLIENT_NOT_VALID, errors);\n            }\n            return ClientDto.fromEntity(\n                    clientRepositry.save(ClientDto.toEntity(clientDto))\n            );\n        } \n</code></pre>\n<p>Client controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>   \n        @PostMapping(value = CLIENT_ENDPOIND+&quot;/&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n        @Operation(summary = &quot;enregistrer un client&quot;, description = &quot;cette methode permet de enregistrer un client&quot;\n        )\n        @ApiResponses(value = {\n                @ApiResponse(responseCode = &quot;200&quot;, description = &quot;client enregistrer avec succe&quot;),\n                @ApiResponse(responseCode = &quot;400&quot;, description = &quot;les informations du clients ne sont pas valides&quot;)\n        })\n        ClientDto save(@RequestBody ClientDto clientDto);\n</code></pre>\n<p>When i do a post request using swagger UI</p>\n<pre><code>curl -X 'POST' \\\n  'http://localhost:8080/tradeManagement/v1/clients/' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \n  &quot;nom&quot;: &quot;string&quot;,\n  &quot;prenom&quot;: &quot;string&quot;,\n  &quot;photo&quot;: &quot;string&quot;,\n  &quot;adresse&quot;: {\n    &quot;adresse1&quot;: &quot;string&quot;,\n    &quot;adresse2&quot;: &quot;string&quot;,\n    &quot;ville&quot;: &quot;string&quot;,\n    &quot;pays&quot;: &quot;string&quot;,\n    &quot;codePostal&quot;: &quot;string&quot;\n  },\n  &quot;mail&quot;: &quot;string&quot;,\n  &quot;idEntreprise&quot;: 0,\n  &quot;tel&quot;: &quot;string&quot;\n}'\n</code></pre>\n<p>I have an error stating that the values of all attributes of customer Dto are null.</p>\n<pre><code>ERROR 13948 --- [nio-8080-exec-6] c.t.t.s.i.ClientServiceImplementation    : Client is not Valid ClientDto(id=null, nom=null, prenom=null, photo=null, adresse=null, mail=null, idEntreprise=null, tel=null, commandeClients=null)\n</code></pre>\n<p>response body</p>\n<pre><code>{\n  &quot;httpCode&quot;: 400,\n  &quot;errorCode&quot;: &quot;CLIENT_NOT_VALID&quot;,\n  &quot;message&quot;: &quot;le client est invalide&quot;,\n  &quot;errors&quot;: [\n    &quot;veuillez renseignez le nom du client&quot;,\n    &quot;veuillez renseignez le prenom du client&quot;,\n    &quot;veuillez renseignez l'email du client&quot;,\n    &quot;veuillez renseignez le numero de telephone du client&quot;\n  ]\n}\n</code></pre>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1653944839,"post_id":72440005,"comment_id":127970156,"body_markdown":"Cities does seem to be an ArrayList so a list, not an array, is that correct ?","body":"Cities does seem to be an ArrayList so a list, not an array, is that correct ?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1653944867,"post_id":72440005,"comment_id":127970165,"body_markdown":"Can you share both classes definition, so we can rnu your code ?","body":"Can you share both classes definition, so we can rnu your code ?"},{"owner":{"account_id":25333601,"reputation":21,"user_id":19153066,"display_name":"JohnJavaS"},"score":0,"creation_date":1653944930,"post_id":72440005,"comment_id":127970170,"body_markdown":"@azro yes Cities is an Arraylist","body":"@azro yes Cities is an Arraylist"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1653945385,"post_id":72440005,"comment_id":127970273,"body_markdown":"Regarding your title that doesn&#39;t seem very for you the difference between list and array, you may . I&#39;d suggest some read like https://www.geeksforgeeks.org/array-vs-arraylist-in-java/ If i&#39;m wrong, don&#39;t bother to tell me ;)","body":"Regarding your title that doesn&#39;t seem very for you the difference between list and array, you may . I&#39;d suggest some read like <a href=\"https://www.geeksforgeeks.org/array-vs-arraylist-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/array-vs-arraylist-in-java</a> If i&#39;m wrong, don&#39;t bother to tell me ;)"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653945243,"creation_date":1653945243,"answer_id":72440093,"question_id":72440005,"body_markdown":"As you want to do something for each country, you need to loop on the coutries, then apply the logic\r\n\r\n\r\n    for (Country c : countries) {\r\n        City max2 = c.cities.stream().max(Comparator.comparingInt(City::getPopulation))\r\n                .orElseThrow(NoSuchElementException::new);\r\n        System.out.println(c.getName() + &quot; &quot; + max2.getName() + &quot; &quot; + max2.getPopulation());\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    Japan Tokyo 100000\r\n    USA NYC 4000000\r\n\r\n\r\n---\r\n\r\nNote : java variable naming convention is lowerCamelCase\r\n\r\n    class Country {\r\n        int code;\r\n        String name;\r\n        String capital;\r\n        int population;\r\n        String continent;\r\n        List&lt;City&gt; cities;\r\n    }","title":"Find the City with highest population in each Country from a List of Countries using Stream API","body":"<p>As you want to do something for each country, you need to loop on the coutries, then apply the logic</p>\n<pre><code>for (Country c : countries) {\n    City max2 = c.cities.stream().max(Comparator.comparingInt(City::getPopulation))\n            .orElseThrow(NoSuchElementException::new);\n    System.out.println(c.getName() + &quot; &quot; + max2.getName() + &quot; &quot; + max2.getPopulation());\n}\n</code></pre>\n\n<pre><code>Japan Tokyo 100000\nUSA NYC 4000000\n</code></pre>\n<hr />\n<p>Note : java variable naming convention is lowerCamelCase</p>\n<pre><code>class Country {\n    int code;\n    String name;\n    String capital;\n    int population;\n    String continent;\n    List&lt;City&gt; cities;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653948744,"creation_date":1653946604,"answer_id":72440261,"question_id":72440005,"body_markdown":"&gt; I am trying to find the highest populated city of each Country.\r\n\r\nThat&#39;s how you can create a list of the most populated cities in each country:\r\n```\r\nList&lt;City&gt; largestCities = countries.stream()\r\n    .map(country -&gt; country.getCities().stream().max(Comparator.comparingInt(City::getPopulation)))\r\n    .map(Optional::orElseThrow)\r\n    .collect(Collectors.toList());\r\n    \r\nlargestCities.forEach(System.out::println);\r\n```\r\n*Output:*\r\n```\r\nCity{CountryCode=1, name=&#39;Tokyo&#39;, population=100000}\r\nCity{CountryCode=2, name=&#39;NYC&#39;, population=4000000}\r\n```\r\n\r\n[*A link to the Online Demo*](https://www.jdoodle.com/ia/rBr)\r\n\r\n*Important notes:*\r\n\r\n* Providing `NoSuchElementException` an argument of `orElseThrow()` doesn&#39;t make sense because [parameterless version](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow()) of this method throw `NoSuchElementException` is a case of *empty optional*.\r\n\r\n* Adhere to the [*Java Naming Conventions*](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html). Names of variables and methods should be written in so-called *camel-case* (*mixed case*) and always start with a lower case letter: `cities`, `getCities()`, `countryCode`, `population`, etc.\r\n\r\n* Write your code against interfaces not against concrete implementations, use `List` instead of `ArrayList`. See https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\r\n\r\n* Use access modifiers to encapsulate class-members withing the class. In order to be able to change a state of a particular field you need to introduce a method, avoid accessing the field directly from outside the class (*don&#39;t access the field directly - it&#39;s not a good practice in Java*):\r\n```\r\nprivate List&lt;City&gt; cities = new ArrayList&lt;City&gt;();\r\n\r\npublic void addCity(City city) {\r\n    cities.add(city);\r\n}\r\n```","title":"Find the City with highest population in each Country from a List of Countries using Stream API","body":"<blockquote>\n<p>I am trying to find the highest populated city of each Country.</p>\n</blockquote>\n<p>That's how you can create a list of the most populated cities in each country:</p>\n<pre><code>List&lt;City&gt; largestCities = countries.stream()\n    .map(country -&gt; country.getCities().stream().max(Comparator.comparingInt(City::getPopulation)))\n    .map(Optional::orElseThrow)\n    .collect(Collectors.toList());\n    \nlargestCities.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>City{CountryCode=1, name='Tokyo', population=100000}\nCity{CountryCode=2, name='NYC', population=4000000}\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/rBr\" rel=\"nofollow noreferrer\"><em>A link to the Online Demo</em></a></p>\n<p><em>Important notes:</em></p>\n<ul>\n<li><p>Providing <code>NoSuchElementException</code> an argument of <code>orElseThrow()</code> doesn't make sense because <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow()\" rel=\"nofollow noreferrer\">parameterless version</a> of this method throw <code>NoSuchElementException</code> is a case of <em>empty optional</em>.</p>\n</li>\n<li><p>Adhere to the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\"><em>Java Naming Conventions</em></a>. Names of variables and methods should be written in so-called <em>camel-case</em> (<em>mixed case</em>) and always start with a lower case letter: <code>cities</code>, <code>getCities()</code>, <code>countryCode</code>, <code>population</code>, etc.</p>\n</li>\n<li><p>Write your code against interfaces not against concrete implementations, use <code>List</code> instead of <code>ArrayList</code>. See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n</li>\n<li><p>Use access modifiers to encapsulate class-members withing the class. In order to be able to change a state of a particular field you need to introduce a method, avoid accessing the field directly from outside the class (<em>don't access the field directly - it's not a good practice in Java</em>):</p>\n</li>\n</ul>\n<pre><code>private List&lt;City&gt; cities = new ArrayList&lt;City&gt;();\n\npublic void addCity(City city) {\n    cities.add(city);\n}\n</code></pre>\n"}],"owner":{"account_id":25333601,"reputation":21,"user_id":19153066,"display_name":"JohnJavaS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72440093,"answer_count":2,"score":1,"last_activity_date":1653949623,"creation_date":1653944480,"question_id":72440005,"body_markdown":"I have two classes: `Country` and `City`.\r\n\r\nCountry has the following attributes: `Countrycode`, `Countryname`, `capital`, `population`, `Continent` and a list of type `City`.\r\n\r\nCity has `countrycode`, `name` and `population` attributes.\r\n\r\nI am trying to find the highest populated city of each Country.\r\n\r\nI want to use the Stream API.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.NoSuchElementException;\r\n\r\npublic class Main13 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tArrayList&lt;Country&gt; Countries=new ArrayList&lt;Country&gt;();\r\n\t\t\r\n\t\t//Countrycode,Countryname,capital,population,Continent\r\n\t\t\r\n\t\tCountry coun1=new Country(1,&quot;Japan&quot;,&quot;Tokyo&quot;,4000000,&quot;Asia&quot;);\r\n\t\tCountry coun2=new Country(2,&quot;USA&quot;,&quot;DC&quot;,400000000,&quot;America&quot;);\r\n\t\t\r\n\t\t\r\n\t\tCity c1=new City(1,&quot;Tokyo&quot;,100000);\r\n\t\tCity c2=new City(1,&quot;Osaka&quot;,10000);\r\n\t\tCity c3=new City(1,&quot;Nagoya&quot;,20000);\r\n\t\t\r\n\t\tCity n1=new City(2,&quot;NYC&quot;,4000000);\r\n\t\tCity n2=new City(2,&quot;LA&quot;,1000000);\r\n\t\t\r\n\t\t\r\n\t\tcoun1.Cities.add(c1);\r\n\t\tcoun1.Cities.add(c2);\r\n\t\tcoun1.Cities.add(c3);\r\n\t\t\r\n\t\tcoun2.Cities.add(n1);\r\n\t\tcoun2.Cities.add(n2);\r\n\t\t\r\n\t\tCountries.add(coun1);\r\n\t\tCountries.add(coun2);\r\n\t\t\r\n\t\tCountry Max2=Countries.stream().max(Comparator.comparingInt(Country::getpop)).orElseThrow(NoSuchElementException::new);\r\n\t\t\r\n\t\tSystem.out.println(Max2.Countryname);\r\n\t}\r\n\r\n}\r\n\r\n////////////////////////////////////////////\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Country {\r\n\tint countrycode;\r\n\tString Countryname; \r\n\tString Capital; \r\n\tint Population;\r\n\tString Continent; \r\n\tArrayList&lt;City&gt; Cities=new ArrayList&lt;City&gt;();\r\n\r\n\tpublic Country(int code,String n,String c,int p,String con) {\r\n\t\tcountrycode=code;\r\n\t\tCountryname=n; \r\n\t\tCapital=c; \r\n\t\tPopulation=p;\r\n\t\tContinent=con;\r\n\t}\r\n\r\n\tpublic int getpop() {\r\n\t\treturn Population;\r\n\t}\r\n\r\n}\r\n////////////////////////\r\n\r\npublic class City {\r\n\r\n\tint CountryCode;\r\n\tString name;\r\n\tint Population;\r\n\t\r\n\t\r\n\t\r\n\tpublic City(int code,String n,int pop) {\r\n\t\tCountryCode=code;\r\n\t\tname=n;\r\n\t\tPopulation=pop;\r\n\t}\r\n}\r\n\r\n```\r\n","title":"Find the City with highest population in each Country from a List of Countries using Stream API","body":"<p>I have two classes: <code>Country</code> and <code>City</code>.</p>\n<p>Country has the following attributes: <code>Countrycode</code>, <code>Countryname</code>, <code>capital</code>, <code>population</code>, <code>Continent</code> and a list of type <code>City</code>.</p>\n<p>City has <code>countrycode</code>, <code>name</code> and <code>population</code> attributes.</p>\n<p>I am trying to find the highest populated city of each Country.</p>\n<p>I want to use the Stream API.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.NoSuchElementException;\n\npublic class Main13 {\n\n    public static void main(String[] args) {\n        \n        ArrayList&lt;Country&gt; Countries=new ArrayList&lt;Country&gt;();\n        \n        //Countrycode,Countryname,capital,population,Continent\n        \n        Country coun1=new Country(1,&quot;Japan&quot;,&quot;Tokyo&quot;,4000000,&quot;Asia&quot;);\n        Country coun2=new Country(2,&quot;USA&quot;,&quot;DC&quot;,400000000,&quot;America&quot;);\n        \n        \n        City c1=new City(1,&quot;Tokyo&quot;,100000);\n        City c2=new City(1,&quot;Osaka&quot;,10000);\n        City c3=new City(1,&quot;Nagoya&quot;,20000);\n        \n        City n1=new City(2,&quot;NYC&quot;,4000000);\n        City n2=new City(2,&quot;LA&quot;,1000000);\n        \n        \n        coun1.Cities.add(c1);\n        coun1.Cities.add(c2);\n        coun1.Cities.add(c3);\n        \n        coun2.Cities.add(n1);\n        coun2.Cities.add(n2);\n        \n        Countries.add(coun1);\n        Countries.add(coun2);\n        \n        Country Max2=Countries.stream().max(Comparator.comparingInt(Country::getpop)).orElseThrow(NoSuchElementException::new);\n        \n        System.out.println(Max2.Countryname);\n    }\n\n}\n\n////////////////////////////////////////////\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Country {\n    int countrycode;\n    String Countryname; \n    String Capital; \n    int Population;\n    String Continent; \n    ArrayList&lt;City&gt; Cities=new ArrayList&lt;City&gt;();\n\n    public Country(int code,String n,String c,int p,String con) {\n        countrycode=code;\n        Countryname=n; \n        Capital=c; \n        Population=p;\n        Continent=con;\n    }\n\n    public int getpop() {\n        return Population;\n    }\n\n}\n////////////////////////\n\npublic class City {\n\n    int CountryCode;\n    String name;\n    int Population;\n    \n    \n    \n    public City(int code,String n,int pop) {\n        CountryCode=code;\n        name=n;\n        Population=pop;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","testing","junit","parameters"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1523298335,"post_id":49739180,"comment_id":86493111,"body_markdown":"Is there a typo somewhere? Parameterized test needs constructor or field injection. Your thing looks kinda like it wants to do constructor injection, but there is no constructor, there is a method called `AddDurationsTest`.","body":"Is there a typo somewhere? Parameterized test needs constructor or field injection. Your thing looks kinda like it wants to do constructor injection, but there is no constructor, there is a method called <code>AddDurationsTest</code>."},{"owner":{"account_id":18223968,"reputation":796,"user_id":13264143,"display_name":"John Glen"},"score":0,"creation_date":1653948503,"post_id":49739180,"comment_id":127970855,"body_markdown":"Ha, I was looking in the wrong spot for this Exception and your question made it obvious where the error was.","body":"Ha, I was looking in the wrong spot for this Exception and your question made it obvious where the error was."}],"answers":[{"tags":[],"owner":{"account_id":5910933,"reputation":951,"user_id":4651234,"accept_rate":0,"display_name":"Yuriy Alevohin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523298608,"creation_date":1523298608,"answer_id":49739410,"question_id":49739180,"body_markdown":"Constructor name should be the same as class name and shouldn&#39;t declare returning type. You have class `ReportTableOperationsTest` and method which pretend to be constructor `void AddDurationsTest` . So just fix it like\r\n\r\n    private long value1, value2, expected;\r\n\r\n    public ReportTableOperationsTest(long value1, long value2, long expected) {\r\n        this.value1 = value1;\r\n        this.value2 = value2;\r\n        this.expected = expected;\r\n    }\r\n\r\n","title":"JUnit Parameterized Tests - IllegalArgumentException: wrong number of arguments","body":"<p>Constructor name should be the same as class name and shouldn't declare returning type. You have class <code>ReportTableOperationsTest</code> and method which pretend to be constructor <code>void AddDurationsTest</code> . So just fix it like</p>\n\n<pre><code>private long value1, value2, expected;\n\npublic ReportTableOperationsTest(long value1, long value2, long expected) {\n    this.value1 = value1;\n    this.value2 = value2;\n    this.expected = expected;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18223968,"reputation":796,"user_id":13264143,"display_name":"John Glen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653948725,"creation_date":1653948725,"answer_id":72440486,"question_id":49739180,"body_markdown":"I was able to find an example of how to implement this in Kotlin for those Kotlin coders who come across here. The example is from here: https://gist.github.com/rossharper/8f6c3c169b6b5c23e12c\r\n\r\n```\r\n@RunWith(Parameterized::class)\r\nclass KotlinTest(val paramOne: Int, val paramTwo: String) {\r\n\r\n    companion object {\r\n        @JvmStatic\r\n        @Parameterized.Parameters\r\n        fun data() : Collection&lt;Array&lt;Any&gt;&gt; {\r\n            return listOf(\r\n                    arrayOf(1, &quot;I&quot;),         // First test:  (paramOne = 1, paramTwo = &quot;I&quot;)\r\n                    arrayOf(1999, &quot;MCMXCIX&quot;) // Second test: (paramOne = 1999, paramTwo = &quot;MCMXCIX&quot;)\r\n            )\r\n        }\r\n    }\r\n```","title":"JUnit Parameterized Tests - IllegalArgumentException: wrong number of arguments","body":"<p>I was able to find an example of how to implement this in Kotlin for those Kotlin coders who come across here. The example is from here: <a href=\"https://gist.github.com/rossharper/8f6c3c169b6b5c23e12c\" rel=\"nofollow noreferrer\">https://gist.github.com/rossharper/8f6c3c169b6b5c23e12c</a></p>\n<pre><code>@RunWith(Parameterized::class)\nclass KotlinTest(val paramOne: Int, val paramTwo: String) {\n\n    companion object {\n        @JvmStatic\n        @Parameterized.Parameters\n        fun data() : Collection&lt;Array&lt;Any&gt;&gt; {\n            return listOf(\n                    arrayOf(1, &quot;I&quot;),         // First test:  (paramOne = 1, paramTwo = &quot;I&quot;)\n                    arrayOf(1999, &quot;MCMXCIX&quot;) // Second test: (paramOne = 1999, paramTwo = &quot;MCMXCIX&quot;)\n            )\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":13002017,"reputation":53,"user_id":9397816,"display_name":"Gustavo Correa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2012,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49739410,"answer_count":2,"score":1,"last_activity_date":1653948725,"creation_date":1523297650,"question_id":49739180,"body_markdown":"I&#39;m developing a Java Spring project. I have little experience with JUnit, and encountered this problem when creating parameterized tests. \r\n\r\nI&#39;m making a sample test of the method ReportTableOperations.addDurations() which is basically  a SUM of two long values.\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class ReportTableOperationsTest {\r\n      \r\n        @Parameters\r\n        public static Collection&lt;Object[]&gt; data() {\r\n          return Arrays.asList(new Object[][] {\r\n              {3600L, 3600L, 7200L},\r\n              {2000L, 3600L, 5600L}\r\n          });\r\n        }\r\n        \r\n        private long value1, value2, expected;\r\n        \r\n        public void AddDurationsTest(long value1, long value2, long expected) {\r\n            this.value1 = value1;\r\n            this.value2 = value2;\r\n            this.expected = expected;\r\n        }\r\n\r\n        \r\n        @Test\r\n        public void testAddDurations() throws Exception {\r\n                      \r\n            assertThat(ReportTableOperations.addDurations(value1, value2), is(expected));\r\n\r\n        } \r\n\r\n     }\r\n\r\nBut I&#39;m encountering the following errors when executing the test:\r\n\r\n    **java.lang.IllegalArgumentException: wrong number of arguments**\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.createTestUsingConstructorInjection(BlockJUnit4ClassRunnerWithParameters.java:43)\r\n\tat org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.createTest(BlockJUnit4ClassRunnerWithParameters.java:38)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:539)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:761)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:461)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:207)\r\n\r\n\r\nAnyone has any ideas in what could be causing this?\r\n\r\n","title":"JUnit Parameterized Tests - IllegalArgumentException: wrong number of arguments","body":"<p>I'm developing a Java Spring project. I have little experience with JUnit, and encountered this problem when creating parameterized tests. </p>\n\n<p>I'm making a sample test of the method ReportTableOperations.addDurations() which is basically  a SUM of two long values.</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class ReportTableOperationsTest {\n\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() {\n      return Arrays.asList(new Object[][] {\n          {3600L, 3600L, 7200L},\n          {2000L, 3600L, 5600L}\n      });\n    }\n\n    private long value1, value2, expected;\n\n    public void AddDurationsTest(long value1, long value2, long expected) {\n        this.value1 = value1;\n        this.value2 = value2;\n        this.expected = expected;\n    }\n\n\n    @Test\n    public void testAddDurations() throws Exception {\n\n        assertThat(ReportTableOperations.addDurations(value1, value2), is(expected));\n\n    } \n\n }\n</code></pre>\n\n<p>But I'm encountering the following errors when executing the test:</p>\n\n<pre><code>**java.lang.IllegalArgumentException: wrong number of arguments**\n\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.createTestUsingConstructorInjection(BlockJUnit4ClassRunnerWithParameters.java:43)\nat org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.createTest(BlockJUnit4ClassRunnerWithParameters.java:38)\nat org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runners.Suite.runChild(Suite.java:128)\nat org.junit.runners.Suite.runChild(Suite.java:27)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:539)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:761)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:461)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:207)\n</code></pre>\n\n<p>Anyone has any ideas in what could be causing this?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1653941941,"post_id":72439562,"comment_id":127969406,"body_markdown":"Either that or the font you&#39;re using on the terminal doesn&#39;t support unicode. Change font.","body":"Either that or the font you&#39;re using on the terminal doesn&#39;t support unicode. Change font."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1653942957,"post_id":72439562,"comment_id":127969674,"body_markdown":"https://stackoverflow.com/a/50371070/2834978","body":"<a href=\"https://stackoverflow.com/a/50371070/2834978\">stackoverflow.com/a/50371070/2834978</a>"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1653943737,"post_id":72439562,"comment_id":127969887,"body_markdown":"Those character display fine for me. Most likely your console font doesn&#39;t contain those emoji.","body":"Those character display fine for me. Most likely your console font doesn&#39;t contain those emoji."},{"owner":{"account_id":25186752,"reputation":1,"user_id":19027527,"display_name":"Alessandro Bettoni"},"score":0,"creation_date":1654007990,"post_id":72439562,"comment_id":127986864,"body_markdown":"The console support unicode , on another project it works but not in this one","body":"The console support unicode , on another project it works but not in this one"}],"owner":{"account_id":25186752,"reputation":1,"user_id":19027527,"display_name":"Alessandro Bettoni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653947565,"creation_date":1653941313,"question_id":72439562,"body_markdown":"    public void outPutFilter() {\r\n\t\tfor (int i = 0 ; i&lt;11 ; i++) {\r\n\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t\tfor (int j = 0 ; j&lt;11 ; j++) {\r\n\t\t\t\tswitch (battleCamp[i][j]) {\r\n\t\t\t\t\tcase&quot;S&quot;:{\r\n\t\t\t\t\t\tSystem.out.printf(&quot;&#128167;&quot; + &quot; &quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase&quot;H&quot;:{\r\n\t\t\t\t\t\tSystem.out.printf(&quot;X&quot; + &quot; &quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase&quot;0&quot;:{\r\n\t\t\t\t\t\tSystem.out.printf(&quot;&#128167;&quot; + &quot; &quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault:{\r\n\t\t\t\t\t\tSystem.out.printf(battleCamp[i][j] + &quot; &quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t}\r\n\t}\r\n\r\nWhen I run the code I do not see the emojis do you know why ?\r\nI use the utf-8 standard but still not to show me the emojis, I also tried to use unicode but it does not work the same","title":"Eclipse doesn&#39;t Show emojis","body":"<pre><code>public void outPutFilter() {\n    for (int i = 0 ; i&lt;11 ; i++) {\n        System.out.print(&quot;\\n&quot;);\n        for (int j = 0 ; j&lt;11 ; j++) {\n            switch (battleCamp[i][j]) {\n                case&quot;S&quot;:{\n                    System.out.printf(&quot;&quot; + &quot; &quot;);\n                    break;\n                }\n                case&quot;H&quot;:{\n                    System.out.printf(&quot;X&quot; + &quot; &quot;);\n                    break;\n                }\n                case&quot;0&quot;:{\n                    System.out.printf(&quot;&quot; + &quot; &quot;);\n                    break;\n                }\n                default:{\n                    System.out.printf(battleCamp[i][j] + &quot; &quot;);\n                    break;\n                }\n            }\n        } \n    }\n}\n</code></pre>\n<p>When I run the code I do not see the emojis do you know why ?\nI use the utf-8 standard but still not to show me the emojis, I also tried to use unicode but it does not work the same</p>\n"},{"tags":["java","android","react-native","gradle"],"answers":[{"tags":[],"owner":{"account_id":2589226,"reputation":2234,"user_id":2244284,"accept_rate":47,"display_name":"Gavin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653947354,"creation_date":1653947354,"answer_id":72440334,"question_id":72418554,"body_markdown":"Managed to get past this by:\r\n\r\n- Opening the `android` directory in Android Studio\r\n- Open setting **Build, Execution, Deployment &gt; Build Tools &gt; Gradle**\r\n- **Gradle Projects** section\r\n- Open the **Gradle JDK** drop-down and select &#39;Add JDK&#39; nagivating to the correct one.\r\n\r\nIn _android studio_ click retry on the blue failed gradle build bar and let it do its thing.\r\n\r\nOnce it&#39;s finished running `npx react-native run-android` worked as expected.\r\n\r\nnb. Android Studio crashed a lot between these steps.\r\n\r\n---\r\n\r\nStill have no idea what causes it.","title":"React Native cannot find Java executable, using wrong javaHome","body":"<p>Managed to get past this by:</p>\n<ul>\n<li>Opening the <code>android</code> directory in Android Studio</li>\n<li>Open setting <strong>Build, Execution, Deployment &gt; Build Tools &gt; Gradle</strong></li>\n<li><strong>Gradle Projects</strong> section</li>\n<li>Open the <strong>Gradle JDK</strong> drop-down and select 'Add JDK' nagivating to the correct one.</li>\n</ul>\n<p>In <em>android studio</em> click retry on the blue failed gradle build bar and let it do its thing.</p>\n<p>Once it's finished running <code>npx react-native run-android</code> worked as expected.</p>\n<p>nb. Android Studio crashed a lot between these steps.</p>\n<hr />\n<p>Still have no idea what causes it.</p>\n"}],"owner":{"account_id":2589226,"reputation":2234,"user_id":2244284,"accept_rate":47,"display_name":"Gavin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653947354,"creation_date":1653764939,"question_id":72418554,"body_markdown":"`react-native run-android` consistently fails due to an incorrect javaHome, but it&#39;s not the one defined by the environment. Where do I find this?\r\n\r\n---\r\n\r\nOn a new create-react-app React Native project I get error:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe\r\n```\r\n\r\nI don&#39;t have `jdk1.8.0_162` on this machine.\r\n\r\nthe `JAVA_HOME` environment variable is set to C:\\Program Files\\OpenJDK\\openjdk-11.0.15_10` (for my user and the system) which exists and works as expected.\r\n\r\nSimilarly both the system and user variables include `C:\\Program Files\\OpenJDK\\openjdk-11.0.15_10` in their respective `Path` env variables. No setting points at a jdk1.8.0_162 directory.\r\n\r\nSo far as I can tell `gradlew.bat` get the java path from `JAVA_HOME`. Where is it getting `C:\\Program Files\\Java\\jdk1.8.0_162` from?","title":"React Native cannot find Java executable, using wrong javaHome","body":"<p><code>react-native run-android</code> consistently fails due to an incorrect javaHome, but it's not the one defined by the environment. Where do I find this?</p>\n<hr />\n<p>On a new create-react-app React Native project I get error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe\n</code></pre>\n<p>I don't have <code>jdk1.8.0_162</code> on this machine.</p>\n<p>the <code>JAVA_HOME</code> environment variable is set to C:\\Program Files\\OpenJDK\\openjdk-11.0.15_10` (for my user and the system) which exists and works as expected.</p>\n<p>Similarly both the system and user variables include <code>C:\\Program Files\\OpenJDK\\openjdk-11.0.15_10</code> in their respective <code>Path</code> env variables. No setting points at a jdk1.8.0_162 directory.</p>\n<p>So far as I can tell <code>gradlew.bat</code> get the java path from <code>JAVA_HOME</code>. Where is it getting <code>C:\\Program Files\\Java\\jdk1.8.0_162</code> from?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2521751,"reputation":1991,"user_id":2191979,"accept_rate":37,"display_name":"Pakira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653947028,"creation_date":1653946354,"answer_id":72440232,"question_id":72438828,"body_markdown":"In Leetcode it fails because the Test case input is wrong. In your example, you have used [1,2,2,3,null,null,3,4,null,null,4] which is not valid, you are missing an extra `null` value before the last `4` in your array. \r\nSo the correct array input is [1,2,2,3,null,null,3,4,null,null,`null`,4]\r\n\r\nHowever, There are couple of improvement I would suggest\r\n- There is no need call `calculate` function 2 times because main resurcive calls are made later.\r\n\r\nHere is the updated code - \r\n\r\n      private boolean result= Boolean.TRUE;\r\n\t  public boolean isBalanced(TreeNode root) {\r\n\t\t calculateDepth(root);\r\n\t\t return result;\r\n\t   }\r\n\r\n\t    public int calculateDepth(TreeNode root){\r\n\t        if (root == null)\r\n\t            return 0;\r\n\t        int left = calculateDepth(root.left);\r\n\t        int right = calculateDepth(root.right);\r\n\t        if(Math.abs(left - right) &gt; 1)\r\n\t        \tresult= Boolean.FALSE;\r\n\t        return 1+Math.max(left,right);\r\n\t    }\r\n\r\n","title":"Why my recursion solution for checking the balanced tree is not correct?","body":"<p>In Leetcode it fails because the Test case input is wrong. In your example, you have used [1,2,2,3,null,null,3,4,null,null,4] which is not valid, you are missing an extra <code>null</code> value before the last <code>4</code> in your array.\nSo the correct array input is [1,2,2,3,null,null,3,4,null,null,<code>null</code>,4]</p>\n<p>However, There are couple of improvement I would suggest</p>\n<ul>\n<li>There is no need call <code>calculate</code> function 2 times because main resurcive calls are made later.</li>\n</ul>\n<p>Here is the updated code -</p>\n<pre><code>  private boolean result= Boolean.TRUE;\n  public boolean isBalanced(TreeNode root) {\n     calculateDepth(root);\n     return result;\n   }\n\n    public int calculateDepth(TreeNode root){\n        if (root == null)\n            return 0;\n        int left = calculateDepth(root.left);\n        int right = calculateDepth(root.right);\n        if(Math.abs(left - right) &gt; 1)\n            result= Boolean.FALSE;\n        return 1+Math.max(left,right);\n    }\n</code></pre>\n"}],"owner":{"account_id":25390982,"reputation":1,"user_id":19201971,"display_name":"Yuanning Ma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653947028,"creation_date":1653936383,"question_id":72438828,"body_markdown":"```\r\npublic boolean isBalanced(TreeNode root) {\r\n        if (root == null)\r\n            return true;\r\n        int left = calculateDepth(root.left);\r\n        int right = calculateDepth(root.right);\r\n\r\n        int differ = left &gt;= right ? left-right : right - left;\r\n        if (differ&lt;=1)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    public int calculateDepth(TreeNode root){\r\n        if (root == null)\r\n            return 0;\r\n        int left = calculateDepth(root.left);\r\n        int right = calculateDepth(root.right);\r\n        return (left == 0 || right == 0) ? left+right+1 : 1+Math.max(left,right);\r\n    }\r\n```\r\n\r\nThis is the leetcode110:  Balanced Binary Tree. 203 / 228 test cases passed. It failed in this case: [1,2,2,3,null,null,3,4,null,null,4]. I tested this case on Intellij, it works fine but it failed in leetcode. This is the code I used on Intellij Idea to test.\r\n\r\n```\r\npublic class leetcode110 {\r\n    public boolean isBalanced(TreeNode root) {\r\n        if (root == null)\r\n            return true;\r\n        int left = calculateDepth(root.left);\r\n        int right = calculateDepth(root.right);\r\n\r\n        int differ = left &gt;= right ? left-right : right - left;\r\n        if (differ&lt;=1)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    public int calculateDepth(TreeNode root){\r\n        if (root == null)\r\n            return 0;\r\n        int left = calculateDepth(root.left);\r\n        int right = calculateDepth(root.right);\r\n        return (left == 0 || right == 0) ? left+right+1 : 1+Math.max(left,right);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        TreeNode n1 = new TreeNode(1);\r\n        TreeNode n2 = new TreeNode(2);\r\n        TreeNode n3 = new TreeNode(2);\r\n        TreeNode n4 = new TreeNode(3);\r\n        TreeNode n5 = new TreeNode(3);\r\n        TreeNode n6 = new TreeNode(4);\r\n        TreeNode n7 = new TreeNode(4);\r\n        n1.left = n2;\r\n        n1.right=n3;\r\n        n2.left=n4;\r\n        n3.right=n5;\r\n        n4.left=n6;\r\n        n5.right=n7;\r\n\r\n        leetcode110 sol = new leetcode110();\r\n        System.out.println(sol.isBalanced(n1));\r\n\r\n    }\r\n}\r\n```","title":"Why my recursion solution for checking the balanced tree is not correct?","body":"<pre><code>public boolean isBalanced(TreeNode root) {\n        if (root == null)\n            return true;\n        int left = calculateDepth(root.left);\n        int right = calculateDepth(root.right);\n\n        int differ = left &gt;= right ? left-right : right - left;\n        if (differ&lt;=1)\n            return true;\n        return false;\n    }\n\n    public int calculateDepth(TreeNode root){\n        if (root == null)\n            return 0;\n        int left = calculateDepth(root.left);\n        int right = calculateDepth(root.right);\n        return (left == 0 || right == 0) ? left+right+1 : 1+Math.max(left,right);\n    }\n</code></pre>\n<p>This is the leetcode110:  Balanced Binary Tree. 203 / 228 test cases passed. It failed in this case: [1,2,2,3,null,null,3,4,null,null,4]. I tested this case on Intellij, it works fine but it failed in leetcode. This is the code I used on Intellij Idea to test.</p>\n<pre><code>public class leetcode110 {\n    public boolean isBalanced(TreeNode root) {\n        if (root == null)\n            return true;\n        int left = calculateDepth(root.left);\n        int right = calculateDepth(root.right);\n\n        int differ = left &gt;= right ? left-right : right - left;\n        if (differ&lt;=1)\n            return true;\n        return false;\n    }\n\n    public int calculateDepth(TreeNode root){\n        if (root == null)\n            return 0;\n        int left = calculateDepth(root.left);\n        int right = calculateDepth(root.right);\n        return (left == 0 || right == 0) ? left+right+1 : 1+Math.max(left,right);\n    }\n\n    public static void main(String[] args) {\n        TreeNode n1 = new TreeNode(1);\n        TreeNode n2 = new TreeNode(2);\n        TreeNode n3 = new TreeNode(2);\n        TreeNode n4 = new TreeNode(3);\n        TreeNode n5 = new TreeNode(3);\n        TreeNode n6 = new TreeNode(4);\n        TreeNode n7 = new TreeNode(4);\n        n1.left = n2;\n        n1.right=n3;\n        n2.left=n4;\n        n3.right=n5;\n        n4.left=n6;\n        n5.right=n7;\n\n        leetcode110 sol = new leetcode110();\n        System.out.println(sol.isBalanced(n1));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","macos","shortcut"],"comments":[{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1653944023,"post_id":72439903,"comment_id":127969953,"body_markdown":"You can try cmd+space, also look here: https://www.shortcutfoo.com/app/dojos/eclipse-mac/cheatsheet","body":"You can try cmd+space, also look here: <a href=\"https://www.shortcutfoo.com/app/dojos/eclipse-mac/cheatsheet\" rel=\"nofollow noreferrer\">shortcutfoo.com/app/dojos/eclipse-mac/cheatsheet</a>"}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653946486,"creation_date":1653946486,"answer_id":72440251,"question_id":72439903,"body_markdown":"Unless you&#39;ve done something strange, Spotlight Search defaults to Cmd+Space across the entire system and is why Content Assist in Eclipse defaults to Ctrl+Space, just like on other OSes. You can reconcile the key mappings from the system Settings&#39; Keyboard&gt;Shortcuts panel, by choosing Spotlight there, and Eclipse&#39;s Keys preference page, by searching by name for &quot;Content Assist&quot;.\r\n\r\n[![macOS Settings][1]][1]\r\n\r\n[![Eclipse Preferences][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cy799.png\r\n  [2]: https://i.stack.imgur.com/4tizO.png","title":"Shortcuts for Mac Users: Eclipse","body":"<p>Unless you've done something strange, Spotlight Search defaults to Cmd+Space across the entire system and is why Content Assist in Eclipse defaults to Ctrl+Space, just like on other OSes. You can reconcile the key mappings from the system Settings' Keyboard&gt;Shortcuts panel, by choosing Spotlight there, and Eclipse's Keys preference page, by searching by name for &quot;Content Assist&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/Cy799.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cy799.png\" alt=\"macOS Settings\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/4tizO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4tizO.png\" alt=\"Eclipse Preferences\" /></a></p>\n"}],"owner":{"account_id":20924417,"reputation":31,"user_id":16818884,"display_name":"Ramenyum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72440251,"answer_count":1,"score":1,"last_activity_date":1653946486,"creation_date":1653943760,"question_id":72439903,"body_markdown":"I want to use a shortcut to autocomplete System.out.print in **Java**, I read that I should use Ctrl+Space, but I have a mac and when I do Ctrl+Space it shows Spotlight Search, do you know if there is another way for mac users?\r\n\r\nThe shortcut in Eclipse is: (Write) **sysout** and press Ctrl+Space","title":"Shortcuts for Mac Users: Eclipse","body":"<p>I want to use a shortcut to autocomplete System.out.print in <strong>Java</strong>, I read that I should use Ctrl+Space, but I have a mac and when I do Ctrl+Space it shows Spotlight Search, do you know if there is another way for mac users?</p>\n<p>The shortcut in Eclipse is: (Write) <strong>sysout</strong> and press Ctrl+Space</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-datastore"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1628604078,"post_id":68727903,"comment_id":121461652,"body_markdown":"See if this helps you https://github.com/googleapis/google-cloud-datastore/issues/86","body":"See if this helps you <a href=\"https://github.com/googleapis/google-cloud-datastore/issues/86\" rel=\"nofollow noreferrer\">github.com/googleapis/google-cloud-datastore/issues/86</a>"},{"owner":{"account_id":7771799,"reputation":109,"user_id":5881066,"display_name":"Amrit Kr Lama"},"score":0,"creation_date":1628604737,"post_id":68727903,"comment_id":121462005,"body_markdown":"@SusanMustafa Thank you for the quick reply Susan. I did see that article before posting the question. That didn&#39;t help.","body":"@SusanMustafa Thank you for the quick reply Susan. I did see that article before posting the question. That didn&#39;t help."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1628605451,"post_id":68727903,"comment_id":121462370,"body_markdown":"Curious if you actually authenticated it? gcloud auth application-default login","body":"Curious if you actually authenticated it? gcloud auth application-default login"},{"owner":{"account_id":7771799,"reputation":109,"user_id":5881066,"display_name":"Amrit Kr Lama"},"score":0,"creation_date":1628607527,"post_id":68727903,"comment_id":121463355,"body_markdown":"The credential is stored as an encoded key in the properties file. So, that should not be the problem. I&#39;ve verified it.","body":"The credential is stored as an encoded key in the properties file. So, that should not be the problem. I&#39;ve verified it."},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1628617422,"post_id":68727903,"comment_id":121467491,"body_markdown":"Deployed to **what** server? How is that server configured for networking? If Compute Engine, which scopes are assigned to the default service account?","body":"Deployed to <b>what</b> server? How is that server configured for networking? If Compute Engine, which scopes are assigned to the default service account?"},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1628655367,"post_id":68727903,"comment_id":121475955,"body_markdown":"Put the content of your comment in your question and not as a comment (too hard to read).","body":"Put the content of your comment in your question and not as a comment (too hard to read)."},{"owner":{"account_id":22087098,"reputation":327,"user_id":16345778,"display_name":"Rajeev Tirumalasetty"},"score":0,"creation_date":1628688498,"post_id":68727903,"comment_id":121488211,"body_markdown":"Can you please check if [this thread](https://stackoverflow.com/questions/24802435/got-error-whenever-trying-to-get-access-token-from-service-account) answers your question ?","body":"Can you please check if <a href=\"https://stackoverflow.com/questions/24802435/got-error-whenever-trying-to-get-access-token-from-service-account\">this thread</a> answers your question ?"},{"owner":{"account_id":7771799,"reputation":109,"user_id":5881066,"display_name":"Amrit Kr Lama"},"score":0,"creation_date":1633603398,"post_id":68727903,"comment_id":122806453,"body_markdown":"@RajeevTirumalasetty - That didn&#39;t help. But thank you for the comment.","body":"@RajeevTirumalasetty - That didn&#39;t help. But thank you for the comment."}],"answers":[{"tags":[],"owner":{"account_id":7771799,"reputation":109,"user_id":5881066,"display_name":"Amrit Kr Lama"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1633603584,"creation_date":1633603584,"answer_id":69479782,"question_id":68727903,"body_markdown":"Turned out that it was a connectivity issue. Our server (in AWS) didn&#39;t have the right to access datastore. ","title":"Getting java.io.IOException: Error getting access token for service account: connect timed out while making a call to datastore","body":"<p>Turned out that it was a connectivity issue. Our server (in AWS) didn't have the right to access datastore.</p>\n"}],"owner":{"account_id":7771799,"reputation":109,"user_id":5881066,"display_name":"Amrit Kr Lama"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69479782,"answer_count":1,"score":0,"last_activity_date":1653946043,"creation_date":1628602781,"question_id":68727903,"body_markdown":"My application works fine locally and I&#39;m able to connect to GCP Datastore from local. But when deployed to a server, I&#39;m getting the below exception.\r\n\r\n```\r\nCaused by: com.google.datastore.v1.client.DatastoreException: I/O error\\n\\t\r\nat com.google.datastore.v1.client.RemoteRpc.makeException(RemoteRpc.java:136)\\n\\t\r\nat com.google.datastore.v1.client.RemoteRpc.call(RemoteRpc.java:105)\\n\\t\r\nat com.google.datastore.v1.client.Datastore.beginTransaction(Datastore.java:79)\\n\\t\r\nat com.google.cloud.datastore.spi.v1.HttpDatastoreRpc.beginTransaction(HttpDatastoreRpc.java:153)\\n\\t... 92 common frames omitted\\nCaused by: java.io.IOException: Error getting access token for service account: connect timed out\\n\\t\r\nat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:444)\\n\\t\r\nat com.google.auth.oauth2.OAuth2Credentials.refresh(OAuth2Credentials.java:157)\\n\\t\r\nat com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:145)\\n\\t\r\nat com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:603)\\n\\t\r\nat com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:91)\\n\\t\r\nat com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159)\\n\\t\r\nat com.google.cloud.http.CensusHttpModule$CensusHttpRequestInitializer.initialize(CensusHttpModule.java:109)\\n\\t\r\nat com.google.cloud.datastore.spi.v1.HttpDatastoreRpc$1.initialize(HttpDatastoreRpc.java:91)\\n\\t\r\nat com.google.datastore.v1.client.RemoteRpc.call(RemoteRpc.java:91)\\n\\t... 94 common frames omitted\\nCaused by: java.net.SocketTimeoutException: connect timed out\\n\\t\r\nat java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\\n\\t\r\nat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\\n\\t\r\nat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\\n\\t\r\nat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\\n\\t\r\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\\n\\t\r\nat java.base/java.net.Socket.connect(Socket.java:591)\\n\\t\r\nat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:285)\\n\\t\r\nat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\\n\\t\r\nat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)\\n\\t\r\nat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)\\n\\t\r\nat java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:265)\\n\\t\r\nat java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:372)\\n\\t\r\nat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\\n\\t\r\nat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1181)\\n\\t\r\nat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1075)\\n\\t\r\nat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\\n\\t\r\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1356)\\n\\t\r\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1331)\\n\\t\r\nat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:241)\\n\\t\r\nat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113)\\n\\t\r\nat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84)\\n\\t\r\nat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012)\\n\\t\r\nat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:441) \r\n```\r\n\r\n\r\nEdit - \r\nScopes under this credential\r\n\r\n```\r\n[https://www.googleapis.com/auth/pubsub,\r\n https://www.googleapis.com/auth/spanner.admin,\r\n https://www.googleapis.com/auth/spanner.data, \r\nhttps://www.googleapis.com/auth/datastore, \r\nhttps://www.googleapis.com/auth/sqlservice.admin, \r\nhttps://www.googleapis.com/auth/devstorage.read_only, \r\nhttps://www.googleapis.com/auth/devstorage.read_write, \r\nhttps://www.googleapis.com/auth/cloudruntimeconfig, \r\nhttps://www.googleapis.com/auth/trace.append, \r\nhttps://www.googleapis.com/auth/cloud-platform, \r\nhttps://www.googleapis.com/auth/cloud-vision, \r\nhttps://www.googleapis.com/auth/bigquery, \r\nhttps://www.googleapis.com/auth/monitoring.write]\r\n```\r\n\r\nAny lead will be appreciated.\r\nThank you in advance!","title":"Getting java.io.IOException: Error getting access token for service account: connect timed out while making a call to datastore","body":"<p>My application works fine locally and I'm able to connect to GCP Datastore from local. But when deployed to a server, I'm getting the below exception.</p>\n<pre><code>Caused by: com.google.datastore.v1.client.DatastoreException: I/O error\\n\\t\nat com.google.datastore.v1.client.RemoteRpc.makeException(RemoteRpc.java:136)\\n\\t\nat com.google.datastore.v1.client.RemoteRpc.call(RemoteRpc.java:105)\\n\\t\nat com.google.datastore.v1.client.Datastore.beginTransaction(Datastore.java:79)\\n\\t\nat com.google.cloud.datastore.spi.v1.HttpDatastoreRpc.beginTransaction(HttpDatastoreRpc.java:153)\\n\\t... 92 common frames omitted\\nCaused by: java.io.IOException: Error getting access token for service account: connect timed out\\n\\t\nat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:444)\\n\\t\nat com.google.auth.oauth2.OAuth2Credentials.refresh(OAuth2Credentials.java:157)\\n\\t\nat com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:145)\\n\\t\nat com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:603)\\n\\t\nat com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:91)\\n\\t\nat com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159)\\n\\t\nat com.google.cloud.http.CensusHttpModule$CensusHttpRequestInitializer.initialize(CensusHttpModule.java:109)\\n\\t\nat com.google.cloud.datastore.spi.v1.HttpDatastoreRpc$1.initialize(HttpDatastoreRpc.java:91)\\n\\t\nat com.google.datastore.v1.client.RemoteRpc.call(RemoteRpc.java:91)\\n\\t... 94 common frames omitted\\nCaused by: java.net.SocketTimeoutException: connect timed out\\n\\t\nat java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\\n\\t\nat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\\n\\t\nat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\\n\\t\nat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\\n\\t\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\\n\\t\nat java.base/java.net.Socket.connect(Socket.java:591)\\n\\t\nat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:285)\\n\\t\nat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\\n\\t\nat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)\\n\\t\nat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)\\n\\t\nat java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:265)\\n\\t\nat java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:372)\\n\\t\nat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\\n\\t\nat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1181)\\n\\t\nat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1075)\\n\\t\nat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\\n\\t\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1356)\\n\\t\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1331)\\n\\t\nat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:241)\\n\\t\nat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113)\\n\\t\nat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84)\\n\\t\nat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012)\\n\\t\nat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:441) \n</code></pre>\n<p>Edit -\nScopes under this credential</p>\n<pre><code>[https://www.googleapis.com/auth/pubsub,\n https://www.googleapis.com/auth/spanner.admin,\n https://www.googleapis.com/auth/spanner.data, \nhttps://www.googleapis.com/auth/datastore, \nhttps://www.googleapis.com/auth/sqlservice.admin, \nhttps://www.googleapis.com/auth/devstorage.read_only, \nhttps://www.googleapis.com/auth/devstorage.read_write, \nhttps://www.googleapis.com/auth/cloudruntimeconfig, \nhttps://www.googleapis.com/auth/trace.append, \nhttps://www.googleapis.com/auth/cloud-platform, \nhttps://www.googleapis.com/auth/cloud-vision, \nhttps://www.googleapis.com/auth/bigquery, \nhttps://www.googleapis.com/auth/monitoring.write]\n</code></pre>\n<p>Any lead will be appreciated.\nThank you in advance!</p>\n"},{"tags":["java","algorithm","integer","hex"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1653854978,"post_id":72426859,"comment_id":127947463,"body_markdown":"There must be a typo in the problem description; &#39;the number 1 comes out at ffffffff&#39; just does not make sense. For example, if it said `-1 must come out as ffffffff`, that makes perfect sense (look up &quot;two&#39;s complement&quot;). To fix you code to work properly with negative numbers, you probably want to look into `&gt;&gt;` and `&amp;` (the bitwise operators), and forget about the notion of bases.","body":"There must be a typo in the problem description; &#39;the number 1 comes out at ffffffff&#39; just does not make sense. For example, if it said <code>-1 must come out as ffffffff</code>, that makes perfect sense (look up &quot;two&#39;s complement&quot;). To fix you code to work properly with negative numbers, you probably want to look into <code>&gt;&gt;</code> and <code>&amp;</code> (the bitwise operators), and forget about the notion of bases."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1653855989,"post_id":72426859,"comment_id":127947613,"body_markdown":"Indeed a typo, probably caused by a copy/paste issue. I found [this source](https://www.cl.cam.ac.uk/teaching/exams/pastpapers/y2006p1q3.pdf)","body":"Indeed a typo, probably caused by a copy/paste issue. I found <a href=\"https://www.cl.cam.ac.uk/teaching/exams/pastpapers/y2006p1q3.pdf\" rel=\"nofollow noreferrer\">this source</a>"},{"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"score":0,"creation_date":1653856277,"post_id":72426859,"comment_id":127947665,"body_markdown":"@rzwitserloot, thank you, I will take a look at it now and work out a solution.","body":"@rzwitserloot, thank you, I will take a look at it now and work out a solution."},{"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"score":0,"creation_date":1653856330,"post_id":72426859,"comment_id":127947675,"body_markdown":"@trincot, nice finding, most probably my lecturer made a mistake during copy/pasting, thanks for that, now I can work out a solution since the confusion is cleared up!","body":"@trincot, nice finding, most probably my lecturer made a mistake during copy/pasting, thanks for that, now I can work out a solution since the confusion is cleared up!"},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1653856395,"post_id":72426859,"comment_id":127947691,"body_markdown":"A more complete copy (with context) can be found on [maths.cam.ac.uk](https://www.maths.cam.ac.uk/undergrad/pastpapers/files/2006/PaperIA_5.pdf).","body":"A more complete copy (with context) can be found on <a href=\"https://www.maths.cam.ac.uk/undergrad/pastpapers/files/2006/PaperIA_5.pdf\" rel=\"nofollow noreferrer\">maths.cam.ac.uk</a>."}],"answers":[{"tags":[],"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653945660,"creation_date":1653945660,"answer_id":72440148,"question_id":72426859,"body_markdown":"I ended up solving this problem as follows:\r\n\r\n```java\r\npublic class Main {\r\n    public static String toHex(int d) {\r\n        if(d == 0) {\r\n            return &quot;0&quot;;\r\n        }\r\n\r\n        String codes = &quot;0123456789abcdef&quot;;\r\n\r\n        StringBuilder builder = new StringBuilder(8);\r\n        builder.setLength(8);\r\n\r\n        for (int i = 7; i &gt;= 0; i--) {\r\n            /**\r\n             * 19 in binary is 10011 and 15 is 01111, when using &amp; (and) bitwise operator\r\n             * It becomes 00011, which is 3\r\n             */\r\n            builder.setCharAt(i, codes.charAt(d &amp; 15));\r\n            /**\r\n             *  Right arithmetic shift, for example:\r\n             *  19 in binary is 10011 after shifting to the right 4 places it becomes\r\n             *  00001\r\n             */\r\n            d &gt;&gt;= 4;\r\n        }\r\n\r\n        return removeLeadingZeros(builder.toString());\r\n    }\r\n\r\n    public static String removeLeadingZeros(String str){\r\n        StringBuilder strB = new StringBuilder(str);\r\n        int index = 0;\r\n\r\n        while (strB.length() &gt; 0 &amp;&amp; strB.charAt(index) == &#39;0&#39;) {\r\n            strB.deleteCharAt(index);\r\n        }\r\n\r\n        return strB.toString();\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(toHex(-1).equals(Integer.toHexString(-1))); // true\r\n        System.out.println(toHex(19).equals(Integer.toHexString(19))); // true\r\n    }\r\n}\r\n```\r\n\r\nI want to say thanks to [@rzwitserloot][1] and [@trincot][2] for pointing me in the right direction.\r\n\r\nThe hex code can be found at [eddmann][3], I added some comments and the ability to remove leading zeroes.\r\n\r\nHopefully, this helps others with a similar types of questions.\r\n\r\nMore about [Arithmetic Shift][4] and [Bitwise Operations][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/768644/rzwitserloot\r\n  [2]: https://stackoverflow.com/users/5459839/trincot\r\n  [3]: https://eddmann.com/posts/decimal-to-hexadecimal-using-bitwise-bit-shift-operations-in-java/\r\n  [4]: https://en.wikipedia.org/wiki/Arithmetic_shift\r\n  [5]: https://en.wikipedia.org/wiki/Bitwise_operation","title":"Convert Integer to Hex where decimal 1 representation is FFFFFF","body":"<p>I ended up solving this problem as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static String toHex(int d) {\n        if(d == 0) {\n            return &quot;0&quot;;\n        }\n\n        String codes = &quot;0123456789abcdef&quot;;\n\n        StringBuilder builder = new StringBuilder(8);\n        builder.setLength(8);\n\n        for (int i = 7; i &gt;= 0; i--) {\n            /**\n             * 19 in binary is 10011 and 15 is 01111, when using &amp; (and) bitwise operator\n             * It becomes 00011, which is 3\n             */\n            builder.setCharAt(i, codes.charAt(d &amp; 15));\n            /**\n             *  Right arithmetic shift, for example:\n             *  19 in binary is 10011 after shifting to the right 4 places it becomes\n             *  00001\n             */\n            d &gt;&gt;= 4;\n        }\n\n        return removeLeadingZeros(builder.toString());\n    }\n\n    public static String removeLeadingZeros(String str){\n        StringBuilder strB = new StringBuilder(str);\n        int index = 0;\n\n        while (strB.length() &gt; 0 &amp;&amp; strB.charAt(index) == '0') {\n            strB.deleteCharAt(index);\n        }\n\n        return strB.toString();\n    }\n\n\n    public static void main(String[] args) {\n        System.out.println(toHex(-1).equals(Integer.toHexString(-1))); // true\n        System.out.println(toHex(19).equals(Integer.toHexString(19))); // true\n    }\n}\n</code></pre>\n<p>I want to say thanks to <a href=\"https://stackoverflow.com/users/768644/rzwitserloot\">@rzwitserloot</a> and <a href=\"https://stackoverflow.com/users/5459839/trincot\">@trincot</a> for pointing me in the right direction.</p>\n<p>The hex code can be found at <a href=\"https://eddmann.com/posts/decimal-to-hexadecimal-using-bitwise-bit-shift-operations-in-java/\" rel=\"nofollow noreferrer\">eddmann</a>, I added some comments and the ability to remove leading zeroes.</p>\n<p>Hopefully, this helps others with a similar types of questions.</p>\n<p>More about <a href=\"https://en.wikipedia.org/wiki/Arithmetic_shift\" rel=\"nofollow noreferrer\">Arithmetic Shift</a> and <a href=\"https://en.wikipedia.org/wiki/Bitwise_operation\" rel=\"nofollow noreferrer\">Bitwise Operations</a></p>\n"}],"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72440148,"answer_count":1,"score":0,"last_activity_date":1653945660,"creation_date":1653854254,"question_id":72426859,"body_markdown":"I have been trying to solve the following mock exam paper problem, unfortunately, I am unable to rationalise how it is possible to transform the decimal 1 into hexadecimal &quot;ffffff&quot; string. Hopefully, someone could point me in the right direction, since even the actual Integer.toHextString returns 1 hexadecimal string for 1 decimal.\r\n\r\nProblem statement:\r\n\r\n&gt; Suppose that you are forbidden from using printf or\r\n&gt; Integer.toHexString, or indeed any other existing library way of doing\r\n&gt; it, but you still need to display a Java integer in hexadecimal as one\r\n&gt; to eight digits. For instance, you are to display the number 19\r\n&gt; (decimal) as the string 13, and 1 must come out as ffffffff.\r\n&gt; \r\n&gt; Write a Java method called toHex that takes an integer as its argument\r\n&gt; and returns the string form of the hexadecimal representation of that\r\n&gt; number\r\n\r\nMy code is as follows:\r\n\r\n```java\r\npublic class Main {\r\n    public static String toHex(int d) {\r\n        String digits = &quot;0123456789ABCDEF&quot;;\r\n        if (d &lt;= 0) return &quot;0&quot;;\r\n        int base = 16; \r\n        String hex = &quot;&quot;;\r\n        while (d &gt; 0) {\r\n            int digit = d % base;              // rightmost digit\r\n            hex = digits.charAt(digit) + hex;  // string concatenation\r\n            d = d / base;\r\n        }\r\n        return hex;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Integer.toHexString(-1)); // outputs: ffffff\r\n        System.out.println(Integer.toHexString(1)); // outputs: 1\r\n        System.out.println(Main.toHex(1)); // outputs: 1\r\n    }\r\n}\r\n```\r\n","title":"Convert Integer to Hex where decimal 1 representation is FFFFFF","body":"<p>I have been trying to solve the following mock exam paper problem, unfortunately, I am unable to rationalise how it is possible to transform the decimal 1 into hexadecimal &quot;ffffff&quot; string. Hopefully, someone could point me in the right direction, since even the actual Integer.toHextString returns 1 hexadecimal string for 1 decimal.</p>\n<p>Problem statement:</p>\n<blockquote>\n<p>Suppose that you are forbidden from using printf or\nInteger.toHexString, or indeed any other existing library way of doing\nit, but you still need to display a Java integer in hexadecimal as one\nto eight digits. For instance, you are to display the number 19\n(decimal) as the string 13, and 1 must come out as ffffffff.</p>\n<p>Write a Java method called toHex that takes an integer as its argument\nand returns the string form of the hexadecimal representation of that\nnumber</p>\n</blockquote>\n<p>My code is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static String toHex(int d) {\n        String digits = &quot;0123456789ABCDEF&quot;;\n        if (d &lt;= 0) return &quot;0&quot;;\n        int base = 16; \n        String hex = &quot;&quot;;\n        while (d &gt; 0) {\n            int digit = d % base;              // rightmost digit\n            hex = digits.charAt(digit) + hex;  // string concatenation\n            d = d / base;\n        }\n        return hex;\n    }\n\n\n    public static void main(String[] args) {\n        System.out.println(Integer.toHexString(-1)); // outputs: ffffff\n        System.out.println(Integer.toHexString(1)); // outputs: 1\n        System.out.println(Main.toHex(1)); // outputs: 1\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","facebook-login","java-threads"],"comments":[{"owner":{"account_id":1657095,"reputation":3768,"user_id":1526347,"accept_rate":75,"display_name":"jingx"},"score":0,"creation_date":1526228313,"post_id":50317289,"comment_id":87652070,"body_markdown":"If you keep it in thread local, `getCurrentUser` must be called on the **same thread** where `setCurrentUser` was previously called. If your app is web-based, the request triggering `getCurrentUser` may be handled by a different thread than the one handled sign in.","body":"If you keep it in thread local, <code>getCurrentUser</code> must be called on the <b>same thread</b> where <code>setCurrentUser</code> was previously called. If your app is web-based, the request triggering <code>getCurrentUser</code> may be handled by a different thread than the one handled sign in."},{"owner":{"account_id":3313642,"reputation":133,"user_id":2786475,"display_name":"rhazkoomar"},"score":0,"creation_date":1526331976,"post_id":50317289,"comment_id":87694271,"body_markdown":"Can you suggest me any other alternatives for thread local. I am stuck with it.","body":"Can you suggest me any other alternatives for thread local. I am stuck with it."}],"owner":{"account_id":3313642,"reputation":133,"user_id":2786475,"display_name":"rhazkoomar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653945174,"creation_date":1526222547,"question_id":50317289,"body_markdown":"I have been try to integrate social login in my spring application. Previously I had encountered errors like no bean name facebook and connectionRepository. Once I integrated code from https://github.com/spring-social/spring-social-google-example, specially socialConfig and other files , I was able to move forward. But still I get error, `java.lang.IllegalStateException: No user is currently signed in`, which exists on `SecurityContext.java` file where the `getCurrentUser()` method throws `IllegalStateException`, Even though I have set the currentUser from the `SimpleSignInAdapter.signIn` method.\r\nFor facebook user i have used the `org.springframework.social.facebook.api.User` and set `SecurityContext.setCurrentUser(new User(userId, null, null, null, null, null));`\r\n\r\nError occurs from ConnectionRepository.connectionRepository while calling User user = SecurityContext.getCurrentUser(). I have printed the value and it returns null and exception is thrown. I havent used threadlocal before and having difficulties working it. Is there another alternatives for threadlocal and any other possible solution ?\r\n\r\n\r\n\r\nMy SecurityContext class is as below\r\n\r\n    public  final class SecurityContext  {\r\n    \r\n    \tprivate static final ThreadLocal&lt;User&gt; currentUser = new ThreadLocal&lt;User&gt;();\r\n    \tprivate static Logger logger = LoggerFactory.getLogger(SecurityContext.class);\r\n    \r\n    \tpublic static User getCurrentUser() {\r\n    \t\tUser user = currentUser.get();\r\n    \t\tif (user == null) {\r\n    \t\t\tthrow new IllegalStateException(&quot;No user is currently signed in&quot;);\r\n    \t\t}\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic static void setCurrentUser(User user) {\r\n    \t\tcurrentUser.set(user);\r\n    \t}\r\n    \r\n    \tpublic static boolean userSignedIn() {\r\n    \t\treturn currentUser.get() != null;\r\n    \t}\r\n    \r\n    \tpublic static void remove() {\r\n    \t\tcurrentUser.remove();\r\n    \t}\r\n    \r\n    }\r\n\r\nThe ThreadLocal&lt;User&gt; currentUser is set from following class\r\n\r\n    public final class SimpleSignInAdapter implements SignInAdapter {\r\n    \r\n    \tprivate final UserCookieGenerator userCookieGenerator = new UserCookieGenerator();\r\n    \t\r\n    \tpublic String signIn(String userId, Connection&lt;?&gt; connection, NativeWebRequest request) {\r\n    User user= new User(userId, null, null, null, null, null);\r\n    \t\tSecurityContext.setCurrentUser(user);\r\n    \t\tuserCookieGenerator.addCookie(userId, request.getNativeResponse(HttpServletResponse.class));\r\n    \t\t boolean flag = true;\r\n    \t        if (flag) {        \r\n    \t            return &quot;/signup&quot;;\r\n    \t        }\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\nBelow is my connectionRepository method from socialConfig.class from where the error occurs while calling SecurityContext.getCurrentUser() which is null even thoogh the currentuser is set in above class.\r\n\r\n    \t@Bean\r\n    @Scope(value=&quot;request&quot;, proxyMode=ScopedProxyMode.INTERFACES)\r\n    public ConnectionRepository connectionRepository() {\r\n        User user = SecurityContext.getCurrentUser();\r\n        ConnectionRepositorycr=usersConnectionRepository().createConnectionRepository(user.getId());\r\n        logger.debug(&quot;cr==&gt;&quot;+cr);\r\n        return cr;\r\n    }","title":"java.lang.IllegalStateException: No user is currently signed in","body":"<p>I have been try to integrate social login in my spring application. Previously I had encountered errors like no bean name facebook and connectionRepository. Once I integrated code from <a href=\"https://github.com/spring-social/spring-social-google-example\" rel=\"nofollow noreferrer\">https://github.com/spring-social/spring-social-google-example</a>, specially socialConfig and other files , I was able to move forward. But still I get error, <code>java.lang.IllegalStateException: No user is currently signed in</code>, which exists on <code>SecurityContext.java</code> file where the <code>getCurrentUser()</code> method throws <code>IllegalStateException</code>, Even though I have set the currentUser from the <code>SimpleSignInAdapter.signIn</code> method.\nFor facebook user i have used the <code>org.springframework.social.facebook.api.User</code> and set <code>SecurityContext.setCurrentUser(new User(userId, null, null, null, null, null));</code></p>\n<p>Error occurs from ConnectionRepository.connectionRepository while calling User user = SecurityContext.getCurrentUser(). I have printed the value and it returns null and exception is thrown. I havent used threadlocal before and having difficulties working it. Is there another alternatives for threadlocal and any other possible solution ?</p>\n<p>My SecurityContext class is as below</p>\n<pre><code>public  final class SecurityContext  {\n\n    private static final ThreadLocal&lt;User&gt; currentUser = new ThreadLocal&lt;User&gt;();\n    private static Logger logger = LoggerFactory.getLogger(SecurityContext.class);\n\n    public static User getCurrentUser() {\n        User user = currentUser.get();\n        if (user == null) {\n            throw new IllegalStateException(&quot;No user is currently signed in&quot;);\n        }\n        return user;\n    }\n\n    public static void setCurrentUser(User user) {\n        currentUser.set(user);\n    }\n\n    public static boolean userSignedIn() {\n        return currentUser.get() != null;\n    }\n\n    public static void remove() {\n        currentUser.remove();\n    }\n\n}\n</code></pre>\n<p>The ThreadLocal currentUser is set from following class</p>\n<pre><code>public final class SimpleSignInAdapter implements SignInAdapter {\n\n    private final UserCookieGenerator userCookieGenerator = new UserCookieGenerator();\n    \n    public String signIn(String userId, Connection&lt;?&gt; connection, NativeWebRequest request) {\nUser user= new User(userId, null, null, null, null, null);\n        SecurityContext.setCurrentUser(user);\n        userCookieGenerator.addCookie(userId, request.getNativeResponse(HttpServletResponse.class));\n         boolean flag = true;\n            if (flag) {        \n                return &quot;/signup&quot;;\n            }\n        return null;\n    }\n}\n</code></pre>\n<p>Below is my connectionRepository method from socialConfig.class from where the error occurs while calling SecurityContext.getCurrentUser() which is null even thoogh the currentuser is set in above class.</p>\n<pre><code>    @Bean\n@Scope(value=&quot;request&quot;, proxyMode=ScopedProxyMode.INTERFACES)\npublic ConnectionRepository connectionRepository() {\n    User user = SecurityContext.getCurrentUser();\n    ConnectionRepositorycr=usersConnectionRepository().createConnectionRepository(user.getId());\n    logger.debug(&quot;cr==&gt;&quot;+cr);\n    return cr;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","payara"],"comments":[{"owner":{"account_id":8519609,"reputation":1036,"user_id":6387012,"display_name":"TOvidiu"},"score":0,"creation_date":1653772307,"post_id":72418969,"comment_id":127934037,"body_markdown":"so you could run and access that endpoint locally (when ran from Gradle / IntelliJ ), right?\nare you able to pull some logs from Payara and share them with us?","body":"so you could run and access that endpoint locally (when ran from Gradle / IntelliJ ), right? are you able to pull some logs from Payara and share them with us?"},{"owner":{"account_id":22433888,"reputation":61,"user_id":16639393,"display_name":"George Wright"},"score":0,"creation_date":1653825022,"post_id":72418969,"comment_id":127941098,"body_markdown":"Thank you very much for your reply. I use Maven and not Gradle (I should have mentioned it). The logs of the docker container show absolutely nothing when I get the 404 error and the same happens in the logs of the dockerized payara. I updated the original post to see them as confirmation. I hope you can help.","body":"Thank you very much for your reply. I use Maven and not Gradle (I should have mentioned it). The logs of the docker container show absolutely nothing when I get the 404 error and the same happens in the logs of the dockerized payara. I updated the original post to see them as confirmation. I hope you can help."},{"owner":{"account_id":8519609,"reputation":1036,"user_id":6387012,"display_name":"TOvidiu"},"score":0,"creation_date":1653835649,"post_id":72418969,"comment_id":127943271,"body_markdown":"Have you taken into consideration the fact payara appends the .war name to the URL? so it should be something like host:port/WAR_NAME/index?","body":"Have you taken into consideration the fact payara appends the .war name to the URL? so it should be something like host:port/WAR_NAME/index?"},{"owner":{"account_id":22433888,"reputation":61,"user_id":16639393,"display_name":"George Wright"},"score":0,"creation_date":1653845182,"post_id":72418969,"comment_id":127945531,"body_markdown":"Yes I took it into account because it works the same way on localhost, but to be sure I also copied the context root (war name) from the Payara&#39;s admin panel.","body":"Yes I took it into account because it works the same way on localhost, but to be sure I also copied the context root (war name) from the Payara&#39;s admin panel."},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1653902991,"post_id":72418969,"comment_id":127956541,"body_markdown":"The logs from the dockerized Payara don&#39;t event show the deployment process of your application. Are you sure it&#39;s deployed at all? Are there any errors appearing during this?","body":"The logs from the dockerized Payara don&#39;t event show the deployment process of your application. Are you sure it&#39;s deployed at all? Are there any errors appearing during this?"},{"owner":{"account_id":22433888,"reputation":61,"user_id":16639393,"display_name":"George Wright"},"score":0,"creation_date":1653904522,"post_id":72418969,"comment_id":127957128,"body_markdown":"Thank you for your reply. The logs of the docker container indicate that the deployment was successful. I believe they have configured it such that you can access it directly from your IDE rather than having to seek for logs via the Payara&#39;s admin panel. However, I enter each time and check the admin panel to see if the application has been deployed, and I even copy the context root to ensure that I access the right url. Please keep in mind that when I deploy other applications that do not use the spring framework, everything works fine.","body":"Thank you for your reply. The logs of the docker container indicate that the deployment was successful. I believe they have configured it such that you can access it directly from your IDE rather than having to seek for logs via the Payara&#39;s admin panel. However, I enter each time and check the admin panel to see if the application has been deployed, and I even copy the context root to ensure that I access the right url. Please keep in mind that when I deploy other applications that do not use the spring framework, everything works fine."},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1653907391,"post_id":72418969,"comment_id":127958130,"body_markdown":"Ok, disregard the last comment, I see the app context root is `/springapp`. What&#39;s the URL of the requests you tried and got 404 for?","body":"Ok, disregard the last comment, I see the app context root is <code>&#47;springapp</code>. What&#39;s the URL of the requests you tried and got 404 for?"},{"owner":{"account_id":22433888,"reputation":61,"user_id":16639393,"display_name":"George Wright"},"score":0,"creation_date":1653907948,"post_id":72418969,"comment_id":127958340,"body_markdown":"The url I tried was this: http://localhost:8080/springapp/index","body":"The url I tried was this: <a href=\"http://localhost:8080/springapp/index\" rel=\"nofollow noreferrer\">localhost:8080/springapp/index</a>"},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1653913366,"post_id":72418969,"comment_id":127960289,"body_markdown":"Try connecting to your running payara container with something like `docker exec -it &lt;container name&gt; bash` and verify your app endpoints with `asadmin list-rest-endpoints springapp` command (to make sure the app is actually named &quot;springapp&quot; you can run `asadmin list-applications`).  I&#39;d also suggest enabling debug logging level in your application.properties (`logging.level.root=debug`) to see if any request comes through to your application.","body":"Try connecting to your running payara container with something like <code>docker exec -it &lt;container name&gt; bash</code> and verify your app endpoints with <code>asadmin list-rest-endpoints springapp</code> command (to make sure the app is actually named &quot;springapp&quot; you can run <code>asadmin list-applications</code>).  I&#39;d also suggest enabling debug logging level in your application.properties (<code>logging.level.root=debug</code>) to see if any request comes through to your application."},{"owner":{"account_id":22433888,"reputation":61,"user_id":16639393,"display_name":"George Wright"},"score":0,"creation_date":1653945118,"post_id":72418969,"comment_id":127970212,"body_markdown":"@dekkard I followed all your instructions and updated the logs in the original post (after the word &quot;EDIT&quot;). Unfortunately I do not see any problem, I hope you can see something more.","body":"@dekkard I followed all your instructions and updated the logs in the original post (after the word &quot;EDIT&quot;). Unfortunately I do not see any problem, I hope you can see something more."}],"owner":{"account_id":22433888,"reputation":61,"user_id":16639393,"display_name":"George Wright"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653944958,"creation_date":1653768767,"question_id":72418969,"body_markdown":"I have been trying for three days to deploy a `Spring` application (jdk/jre 11) with `IntelliJ` on a dockerized `Payara` application server without success, since my requests are getting error 404 not found. So I guessed it was my application&#39;s fault to finally find out after hours of testing that no Spring application can run without this error.\r\n\r\nWhether it is a simple rest api:\r\n\r\n    @RestController(&quot;/&quot;)\r\n    public class Controller {\r\n        @GetMapping(&quot;index&quot;)\r\n        public ResponseEntity&lt;String&gt; testValidationService() {\r\n            return new ResponseEntity&lt;&gt;(&quot;it works&quot;, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nor it is a simple html page with a simple controller to redirect to it, I get error 404. It&#39;s really hard to believe that something so simple can not work.\r\n\r\nOf course all of the above are working on localhosted `Payara` and of course I have tried all the solutions suggested in other threads without success. Please note that admin panel of dockerized `Payara` shows that the deployment is successful so the app is running. Please also note that other `Java` 11 applications (without `Spring` framework) are working fine) So the question is one and very simple:\r\n\r\n**How can I deploy a simple hello world spring application (jdk 11) (war packaging) (without 404 errors) in this version of dockerized payara [payara/server-full:5.2022.2-jdk11][1]?**\r\n\r\nYou can easily reproduce my issue using the following Dockerfile:\r\n\r\n    FROM payara/server-full:5.2022.2-jdk11\r\n    EXPOSE 4848 8080 8181 9009\r\n    COPY target/springapp.war $DEPLOY_DIR\r\n\r\nAfter built you can run it using the following command:\r\n\r\n    docker run --publish 8080:8080 --publish 4848:4848 [image_name]\r\n\r\n**EDIT**\r\n\r\n**Logs after @dekkard&#39;s suggestions:**\r\n\r\n**from the container:**\r\n\r\n    [Entrypoint] running /opt/payara/scripts/init_1_generate_deploy_commands.sh\r\n    Adding deployment target /opt/payara/deployments/springapp.war to post boot commands\r\n    \r\n    [Entrypoint] ignoring /opt/payara/scripts/init.d/*\r\n    \r\n    Executing Payara Server with the following command line:\r\n    /usr/lib/jvm/zulu11-ca-amd64/bin/java\r\n    -cp\r\n    /opt/payara/appserver/glassfish/modules/glassfish.jar\r\n    -XX:+UnlockDiagnosticVMOptions\r\n    --add-opens=java.base/java.net=ALL-UNNAMED\r\n    --add-opens=java.base/sun.net.www.protocol.jrt=ALL-UNNAMED\r\n    --add-opens=java.management/sun.management=ALL-UNNAMED\r\n    --add-exports=java.base/jdk.internal.ref=ALL-UNNAMED\r\n    --add-opens=java.naming/javax.naming.spi=ALL-UNNAMED\r\n    --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\r\n    --add-opens=java.base/java.nio=ALL-UNNAMED\r\n    --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED\r\n    --add-opens=java.logging/java.util.logging=ALL-UNNAMED\r\n    --add-opens=java.base/sun.net.www.protocol.jar=ALL-UNNAMED\r\n    --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\r\n    --add-opens=java.base/java.util=ALL-UNNAMED\r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n    -XX:NewRatio=2\r\n    -XX:+UseContainerSupport\r\n    -XX:MaxRAMPercentage=70.0\r\n    -Xbootclasspath/a:/opt/payara/appserver/glassfish/lib/grizzly-npn-api.jar\r\n    -Xss512k\r\n    -server\r\n    -javaagent:/opt/payara/appserver/glassfish/lib/monitor/flashlight-agent.jar\r\n    -Djavax.xml.accessExternalSchema=all\r\n    -Djavax.net.ssl.trustStore=/opt/payara/appserver/glassfish/domains/domain1/config/cacerts.jks\r\n    -Djdk.tls.rejectClientInitiatedRenegotiation=true\r\n    -Djdk.corba.allowOutputStreamSubclass=true\r\n    -Dfelix.fileinstall.dir=/opt/payara/appserver/glassfish/modules/autostart/\r\n    -Dorg.glassfish.additionalOSGiBundlesToStart=org.apache.felix.shell,org.apache.felix.gogo.runtime,org.apache.felix.gogo.shell,org.apache.felix.gogo.command,org.apache.felix.shell.remote,org.apache.felix.fileinstall\r\n    -Dcom.sun.aas.installRoot=/opt/payara/appserver/glassfish\r\n    -Dfelix.fileinstall.poll=5000\r\n    -Djava.security.policy=/opt/payara/appserver/glassfish/domains/domain1/config/server.policy\r\n    -Dosgi.shell.telnet.maxconn=1\r\n    -Dfelix.fileinstall.bundles.startTransient=true\r\n    -Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory\r\n    -Dfelix.fileinstall.log.level=2\r\n    -Djavax.net.ssl.keyStore=/opt/payara/appserver/glassfish/domains/domain1/config/keystore.jks\r\n    -Djava.security.auth.login.config=/opt/payara/appserver/glassfish/domains/domain1/config/login.conf\r\n    -Dfelix.fileinstall.disableConfigSave=false\r\n    -Dorg.glassfish.grizzly.DEFAULT_MEMORY_MANAGER=org.glassfish.grizzly.memory.HeapMemoryManager\r\n    -Dfelix.fileinstall.bundles.new.start=true\r\n    -Dcom.sun.aas.instanceRoot=/opt/payara/appserver/glassfish/domains/domain1\r\n    -Dosgi.shell.telnet.port=6666\r\n    -Dgosh.args=--nointeractive\r\n    -Dcom.sun.enterprise.security.httpsOutboundKeyAlias=s1as\r\n    -Dorg.jboss.weld.serialization.beanIdentifierIndexOptimization=false\r\n    -Dosgi.shell.telnet.ip=127.0.0.1\r\n    -Djdk.attach.allowAttachSelf=true\r\n    -DANTLR_USE_DIRECT_CLASS_LOADING=true\r\n    -Djava.awt.headless=true\r\n    -Dcom.ctc.wstx.returnNullForDefaultNamespace=true\r\n    -Djdbc.drivers=org.h2.Driver\r\n    -Dorg.glassfish.grizzly.nio.DefaultSelectorHandler.force-selector-spin-detection=true\r\n    -Djava.library.path=/opt/payara/appserver/glassfish/lib:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib\r\n    com.sun.enterprise.glassfish.bootstrap.ASMain\r\n    -prebootcommandfile\r\n    /opt/payara/config/pre-boot-commands-final.asadmin\r\n    -upgrade\r\n    false\r\n    -read-stdin\r\n    true\r\n    -postbootcommandfile\r\n    /opt/payara/config/post-boot-commands-final.asadmin\r\n    -domainname\r\n    domain1\r\n    -domaindir\r\n    /opt/payara/appserver/glassfish/domains/domain1\r\n    -asadmin-args\r\n    --host,,,localhost,,,--port,,,4848,,,--user,,,admin,,,--passwordfile,,,/opt/payara/passwordFile,,,--secure=false,,,--terse=false,,,--extraterse=false,,,--echo=false,,,--interactive=false,,,--autoname=false,,,start-domain,,,--verbose=false,,,--watchdog=false,,,--debug=false,,,--domaindir,,,/opt/payara/appserver/glassfish/domains,,,domain1\r\n    -instancename\r\n    server\r\n    -type\r\n    DAS\r\n    -verbose\r\n    false\r\n    -asadmin-classpath\r\n    /opt/payara/appserver/glassfish/lib/client/appserver-cli.jar\r\n    -debug\r\n    false\r\n    -asadmin-classname\r\n    com.sun.enterprise.admin.cli.AdminMain\r\n    -watchdog\r\n    false\r\n    \r\n    Launching Payara Server on Felix platform\r\n    May 30, 2022 8:36:06 PM com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner createBundleProvisioner\r\n    INFO: Create bundle provisioner class = class com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.\r\n    Registered com.sun.enterprise.glassfish.bootstrap.osgi.EmbeddedOSGiGlassFishRuntime@7a378326 in service registry.\r\n    Reading in commandments from /opt/payara/config/pre-boot-commands-final.asadmin\r\n    #!## LogManagerService.postConstruct : rootFolder=/opt/payara/appserver/glassfish\r\n    #!## LogManagerService.postConstruct : templateDir=/opt/payara/appserver/glassfish/lib/templates\r\n    #!## LogManagerService.postConstruct : src=/opt/payara/appserver/glassfish/lib/templates/logging.properties\r\n    #!## LogManagerService.postConstruct : dest=/opt/payara/appserver/glassfish/domains/domain1/config/logging.properties\r\n    [#|2022-05-30T20:36:11.341+0000|INFO|Payara 5.2022.2|javax.enterprise.logging|_ThreadID=28;_ThreadName=RunLevelControllerThread-1653942971189;_TimeMillis=1653942971341;_LevelValue=800;_MessageID=NCLS-LOGGING-00009;|\r\n      Running Payara Version: Payara Server  5.2022.2 #badassfish (build 306)|#]\r\n    \r\n    [#|2022-05-30T20:36:11.350+0000|INFO|Payara 5.2022.2|javax.enterprise.logging|_ThreadID=28;_ThreadName=RunLevelControllerThread-1653942971189;_TimeMillis=1653942971350;_LevelValue=800;_MessageID=NCLS-LOGGING-00010;|\r\n      Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter|#]\r\n    \r\n    [#|2022-05-30T20:36:11.816+0000|INFO|Payara 5.2022.2|org.glassfish.ha.store.spi.BackingStoreFactoryRegistry|_ThreadID=30;_ThreadName=RunLevelControllerThread-1653942971199;_TimeMillis=1653942971816;_LevelValue=800;|\r\n      Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry|#]\r\n    \r\n    [#|2022-05-30T20:36:14.412+0000|INFO|Payara 5.2022.2|fish.payara.nucleus.hazelcast.HazelcastCore|_ThreadID=28;_ThreadName=RunLevelControllerThread-1653942971189;_TimeMillis=1653942974412;_LevelValue=800;|\r\n      Hazelcast Instance Bound to JNDI at payara/Hazelcast|#]\r\n    \r\n    [#|2022-05-30T20:36:14.413+0000|INFO|Payara 5.2022.2|fish.payara.nucleus.hazelcast.HazelcastCore|_ThreadID=28;_ThreadName=RunLevelControllerThread-1653942971189;_TimeMillis=1653942974413;_LevelValue=800;|\r\n      JSR107 Caching Provider Bound to JNDI at payara/CachingProvider|#]\r\n\r\n**from payara:**\r\n\r\n    [2022-05-30T20:36:06.293+0000] [] [INFO] [NCLS-GFLAUNCHER-00005] [javax.enterprise.launcher] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1653942966293] [levelValue: 800] [[\r\n      JVM invocation command line:\r\n    /usr/lib/jvm/zulu11-ca-amd64/bin/java\r\n    -cp\r\n    /opt/payara/appserver/glassfish/modules/glassfish.jar\r\n    -XX:+UnlockDiagnosticVMOptions\r\n    --add-opens=java.base/java.net=ALL-UNNAMED\r\n    --add-opens=java.base/sun.net.www.protocol.jrt=ALL-UNNAMED\r\n    --add-opens=java.management/sun.management=ALL-UNNAMED\r\n    --add-exports=java.base/jdk.internal.ref=ALL-UNNAMED\r\n    --add-opens=java.naming/javax.naming.spi=ALL-UNNAMED\r\n    --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\r\n    --add-opens=java.base/java.nio=ALL-UNNAMED\r\n    --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED\r\n    --add-opens=java.logging/java.util.logging=ALL-UNNAMED\r\n    --add-opens=java.base/sun.net.www.protocol.jar=ALL-UNNAMED\r\n    --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\r\n    --add-opens=java.base/java.util=ALL-UNNAMED\r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n    -XX:NewRatio=2\r\n    -XX:+UseContainerSupport\r\n    -XX:MaxRAMPercentage=70.0\r\n    -Xbootclasspath/a:/opt/payara/appserver/glassfish/lib/grizzly-npn-api.jar\r\n    -Xss512k\r\n    -server\r\n    -javaagent:/opt/payara/appserver/glassfish/lib/monitor/flashlight-agent.jar\r\n    -Djavax.xml.accessExternalSchema=all\r\n    -Djavax.net.ssl.trustStore=/opt/payara/appserver/glassfish/domains/domain1/config/cacerts.jks\r\n    -Djdk.tls.rejectClientInitiatedRenegotiation=true\r\n    -Djdk.corba.allowOutputStreamSubclass=true\r\n    -Dfelix.fileinstall.dir=/opt/payara/appserver/glassfish/modules/autostart/\r\n    -Dorg.glassfish.additionalOSGiBundlesToStart=org.apache.felix.shell,org.apache.felix.gogo.runtime,org.apache.felix.gogo.shell,org.apache.felix.gogo.command,org.apache.felix.shell.remote,org.apache.felix.fileinstall\r\n    -Dcom.sun.aas.installRoot=/opt/payara/appserver/glassfish\r\n    -Dfelix.fileinstall.poll=5000\r\n    -Djava.security.policy=/opt/payara/appserver/glassfish/domains/domain1/config/server.policy\r\n    -Dosgi.shell.telnet.maxconn=1\r\n    -Dfelix.fileinstall.bundles.startTransient=true\r\n    -Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory\r\n    -Dfelix.fileinstall.log.level=2\r\n    -Djavax.net.ssl.keyStore=/opt/payara/appserver/glassfish/domains/domain1/config/keystore.jks\r\n    -Djava.security.auth.login.config=/opt/payara/appserver/glassfish/domains/domain1/config/login.conf\r\n    -Dfelix.fileinstall.disableConfigSave=false\r\n    -Dorg.glassfish.grizzly.DEFAULT_MEMORY_MANAGER=org.glassfish.grizzly.memory.HeapMemoryManager\r\n    -Dfelix.fileinstall.bundles.new.start=true\r\n    -Dcom.sun.aas.instanceRoot=/opt/payara/appserver/glassfish/domains/domain1\r\n    -Dosgi.shell.telnet.port=6666\r\n    -Dgosh.args=--nointeractive\r\n    -Dcom.sun.enterprise.security.httpsOutboundKeyAlias=s1as\r\n    -Dorg.jboss.weld.serialization.beanIdentifierIndexOptimization=false\r\n    -Dosgi.shell.telnet.ip=127.0.0.1\r\n    -Djdk.attach.allowAttachSelf=true\r\n    -DANTLR_USE_DIRECT_CLASS_LOADING=true\r\n    -Djava.awt.headless=true\r\n    -Dcom.ctc.wstx.returnNullForDefaultNamespace=true\r\n    -Djdbc.drivers=org.h2.Driver\r\n    -Dorg.glassfish.grizzly.nio.DefaultSelectorHandler.force-selector-spin-detection=true\r\n    -Djava.library.path=/opt/payara/appserver/glassfish/lib:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib\r\n    com.sun.enterprise.glassfish.bootstrap.ASMain\r\n    -prebootcommandfile\r\n    /opt/payara/config/pre-boot-commands-final.asadmin\r\n    -upgrade\r\n    false\r\n    -read-stdin\r\n    true\r\n    -postbootcommandfile\r\n    /opt/payara/config/post-boot-commands-final.asadmin\r\n    -domainname\r\n    domain1\r\n    -domaindir\r\n    /opt/payara/appserver/glassfish/domains/domain1\r\n    -asadmin-args\r\n    --host,,,localhost,,,--port,,,4848,,,--user,,,admin,,,--passwordfile,,,/opt/payara/passwordFile,,,--secure=false,,,--terse=false,,,--extraterse=false,,,--echo=false,,,--interactive=false,,,--autoname=false,,,start-domain,,,--verbose=false,,,--watchdog=false,,,--debug=false,,,--domaindir,,,/opt/payara/appserver/glassfish/domains,,,domain1\r\n    -instancename\r\n    server\r\n    -type\r\n    DAS\r\n    -verbose\r\n    false\r\n    -asadmin-classpath\r\n    /opt/payara/appserver/glassfish/lib/client/appserver-cli.jar\r\n    -debug\r\n    false\r\n    -asadmin-classname\r\n    com.sun.enterprise.admin.cli.AdminMain\r\n    -watchdog\r\n    false]]\r\n\r\n**proof of successful deployment:**\r\n\r\n[![payara][2]][2]\r\n\r\n\r\n  [1]: https://hub.docker.com/layers/server-full/payara/server-full/5.2022.2-jdk11/images/sha256-e061c9bc4e8ef0ad332e86dbe70cf61757f680f7d3e24e0964d42693a069bce6\r\n  [2]: https://i.stack.imgur.com/gKsGG.png","title":"Spring Boot (jdk11) maven web app cannot run in payara/server-full:5.2022.2-jdk11 docker container","body":"<p>I have been trying for three days to deploy a <code>Spring</code> application (jdk/jre 11) with <code>IntelliJ</code> on a dockerized <code>Payara</code> application server without success, since my requests are getting error 404 not found. So I guessed it was my application's fault to finally find out after hours of testing that no Spring application can run without this error.</p>\n<p>Whether it is a simple rest api:</p>\n<pre><code>@RestController(&quot;/&quot;)\npublic class Controller {\n    @GetMapping(&quot;index&quot;)\n    public ResponseEntity&lt;String&gt; testValidationService() {\n        return new ResponseEntity&lt;&gt;(&quot;it works&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>or it is a simple html page with a simple controller to redirect to it, I get error 404. It's really hard to believe that something so simple can not work.</p>\n<p>Of course all of the above are working on localhosted <code>Payara</code> and of course I have tried all the solutions suggested in other threads without success. Please note that admin panel of dockerized <code>Payara</code> shows that the deployment is successful so the app is running. Please also note that other <code>Java</code> 11 applications (without <code>Spring</code> framework) are working fine) So the question is one and very simple:</p>\n<p><strong>How can I deploy a simple hello world spring application (jdk 11) (war packaging) (without 404 errors) in this version of dockerized payara <a href=\"https://hub.docker.com/layers/server-full/payara/server-full/5.2022.2-jdk11/images/sha256-e061c9bc4e8ef0ad332e86dbe70cf61757f680f7d3e24e0964d42693a069bce6\" rel=\"nofollow noreferrer\">payara/server-full:5.2022.2-jdk11</a>?</strong></p>\n<p>You can easily reproduce my issue using the following Dockerfile:</p>\n<pre><code>FROM payara/server-full:5.2022.2-jdk11\nEXPOSE 4848 8080 8181 9009\nCOPY target/springapp.war $DEPLOY_DIR\n</code></pre>\n<p>After built you can run it using the following command:</p>\n<pre><code>docker run --publish 8080:8080 --publish 4848:4848 [image_name]\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p><strong>Logs after @dekkard's suggestions:</strong></p>\n<p><strong>from the container:</strong></p>\n<pre><code>[Entrypoint] running /opt/payara/scripts/init_1_generate_deploy_commands.sh\nAdding deployment target /opt/payara/deployments/springapp.war to post boot commands\n\n[Entrypoint] ignoring /opt/payara/scripts/init.d/*\n\nExecuting Payara Server with the following command line:\n/usr/lib/jvm/zulu11-ca-amd64/bin/java\n-cp\n/opt/payara/appserver/glassfish/modules/glassfish.jar\n-XX:+UnlockDiagnosticVMOptions\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=java.base/sun.net.www.protocol.jrt=ALL-UNNAMED\n--add-opens=java.management/sun.management=ALL-UNNAMED\n--add-exports=java.base/jdk.internal.ref=ALL-UNNAMED\n--add-opens=java.naming/javax.naming.spi=ALL-UNNAMED\n--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\n--add-opens=java.base/java.nio=ALL-UNNAMED\n--add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.logging/java.util.logging=ALL-UNNAMED\n--add-opens=java.base/sun.net.www.protocol.jar=ALL-UNNAMED\n--add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\n--add-opens=java.base/java.util=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n-XX:NewRatio=2\n-XX:+UseContainerSupport\n-XX:MaxRAMPercentage=70.0\n-Xbootclasspath/a:/opt/payara/appserver/glassfish/lib/grizzly-npn-api.jar\n-Xss512k\n-server\n-javaagent:/opt/payara/appserver/glassfish/lib/monitor/flashlight-agent.jar\n-Djavax.xml.accessExternalSchema=all\n-Djavax.net.ssl.trustStore=/opt/payara/appserver/glassfish/domains/domain1/config/cacerts.jks\n-Djdk.tls.rejectClientInitiatedRenegotiation=true\n-Djdk.corba.allowOutputStreamSubclass=true\n-Dfelix.fileinstall.dir=/opt/payara/appserver/glassfish/modules/autostart/\n-Dorg.glassfish.additionalOSGiBundlesToStart=org.apache.felix.shell,org.apache.felix.gogo.runtime,org.apache.felix.gogo.shell,org.apache.felix.gogo.command,org.apache.felix.shell.remote,org.apache.felix.fileinstall\n-Dcom.sun.aas.installRoot=/opt/payara/appserver/glassfish\n-Dfelix.fileinstall.poll=5000\n-Djava.security.policy=/opt/payara/appserver/glassfish/domains/domain1/config/server.policy\n-Dosgi.shell.telnet.maxconn=1\n-Dfelix.fileinstall.bundles.startTransient=true\n-Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory\n-Dfelix.fileinstall.log.level=2\n-Djavax.net.ssl.keyStore=/opt/payara/appserver/glassfish/domains/domain1/config/keystore.jks\n-Djava.security.auth.login.config=/opt/payara/appserver/glassfish/domains/domain1/config/login.conf\n-Dfelix.fileinstall.disableConfigSave=false\n-Dorg.glassfish.grizzly.DEFAULT_MEMORY_MANAGER=org.glassfish.grizzly.memory.HeapMemoryManager\n-Dfelix.fileinstall.bundles.new.start=true\n-Dcom.sun.aas.instanceRoot=/opt/payara/appserver/glassfish/domains/domain1\n-Dosgi.shell.telnet.port=6666\n-Dgosh.args=--nointeractive\n-Dcom.sun.enterprise.security.httpsOutboundKeyAlias=s1as\n-Dorg.jboss.weld.serialization.beanIdentifierIndexOptimization=false\n-Dosgi.shell.telnet.ip=127.0.0.1\n-Djdk.attach.allowAttachSelf=true\n-DANTLR_USE_DIRECT_CLASS_LOADING=true\n-Djava.awt.headless=true\n-Dcom.ctc.wstx.returnNullForDefaultNamespace=true\n-Djdbc.drivers=org.h2.Driver\n-Dorg.glassfish.grizzly.nio.DefaultSelectorHandler.force-selector-spin-detection=true\n-Djava.library.path=/opt/payara/appserver/glassfish/lib:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib\ncom.sun.enterprise.glassfish.bootstrap.ASMain\n-prebootcommandfile\n/opt/payara/config/pre-boot-commands-final.asadmin\n-upgrade\nfalse\n-read-stdin\ntrue\n-postbootcommandfile\n/opt/payara/config/post-boot-commands-final.asadmin\n-domainname\ndomain1\n-domaindir\n/opt/payara/appserver/glassfish/domains/domain1\n-asadmin-args\n--host,,,localhost,,,--port,,,4848,,,--user,,,admin,,,--passwordfile,,,/opt/payara/passwordFile,,,--secure=false,,,--terse=false,,,--extraterse=false,,,--echo=false,,,--interactive=false,,,--autoname=false,,,start-domain,,,--verbose=false,,,--watchdog=false,,,--debug=false,,,--domaindir,,,/opt/payara/appserver/glassfish/domains,,,domain1\n-instancename\nserver\n-type\nDAS\n-verbose\nfalse\n-asadmin-classpath\n/opt/payara/appserver/glassfish/lib/client/appserver-cli.jar\n-debug\nfalse\n-asadmin-classname\ncom.sun.enterprise.admin.cli.AdminMain\n-watchdog\nfalse\n\nLaunching Payara Server on Felix platform\nMay 30, 2022 8:36:06 PM com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner createBundleProvisioner\nINFO: Create bundle provisioner class = class com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.\nRegistered com.sun.enterprise.glassfish.bootstrap.osgi.EmbeddedOSGiGlassFishRuntime@7a378326 in service registry.\nReading in commandments from /opt/payara/config/pre-boot-commands-final.asadmin\n#!## LogManagerService.postConstruct : rootFolder=/opt/payara/appserver/glassfish\n#!## LogManagerService.postConstruct : templateDir=/opt/payara/appserver/glassfish/lib/templates\n#!## LogManagerService.postConstruct : src=/opt/payara/appserver/glassfish/lib/templates/logging.properties\n#!## LogManagerService.postConstruct : dest=/opt/payara/appserver/glassfish/domains/domain1/config/logging.properties\n[#|2022-05-30T20:36:11.341+0000|INFO|Payara 5.2022.2|javax.enterprise.logging|_ThreadID=28;_ThreadName=RunLevelControllerThread-1653942971189;_TimeMillis=1653942971341;_LevelValue=800;_MessageID=NCLS-LOGGING-00009;|\n  Running Payara Version: Payara Server  5.2022.2 #badassfish (build 306)|#]\n\n[#|2022-05-30T20:36:11.350+0000|INFO|Payara 5.2022.2|javax.enterprise.logging|_ThreadID=28;_ThreadName=RunLevelControllerThread-1653942971189;_TimeMillis=1653942971350;_LevelValue=800;_MessageID=NCLS-LOGGING-00010;|\n  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter|#]\n\n[#|2022-05-30T20:36:11.816+0000|INFO|Payara 5.2022.2|org.glassfish.ha.store.spi.BackingStoreFactoryRegistry|_ThreadID=30;_ThreadName=RunLevelControllerThread-1653942971199;_TimeMillis=1653942971816;_LevelValue=800;|\n  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry|#]\n\n[#|2022-05-30T20:36:14.412+0000|INFO|Payara 5.2022.2|fish.payara.nucleus.hazelcast.HazelcastCore|_ThreadID=28;_ThreadName=RunLevelControllerThread-1653942971189;_TimeMillis=1653942974412;_LevelValue=800;|\n  Hazelcast Instance Bound to JNDI at payara/Hazelcast|#]\n\n[#|2022-05-30T20:36:14.413+0000|INFO|Payara 5.2022.2|fish.payara.nucleus.hazelcast.HazelcastCore|_ThreadID=28;_ThreadName=RunLevelControllerThread-1653942971189;_TimeMillis=1653942974413;_LevelValue=800;|\n  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider|#]\n</code></pre>\n<p><strong>from payara:</strong></p>\n<pre><code>[2022-05-30T20:36:06.293+0000] [] [INFO] [NCLS-GFLAUNCHER-00005] [javax.enterprise.launcher] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1653942966293] [levelValue: 800] [[\n  JVM invocation command line:\n/usr/lib/jvm/zulu11-ca-amd64/bin/java\n-cp\n/opt/payara/appserver/glassfish/modules/glassfish.jar\n-XX:+UnlockDiagnosticVMOptions\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=java.base/sun.net.www.protocol.jrt=ALL-UNNAMED\n--add-opens=java.management/sun.management=ALL-UNNAMED\n--add-exports=java.base/jdk.internal.ref=ALL-UNNAMED\n--add-opens=java.naming/javax.naming.spi=ALL-UNNAMED\n--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\n--add-opens=java.base/java.nio=ALL-UNNAMED\n--add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.logging/java.util.logging=ALL-UNNAMED\n--add-opens=java.base/sun.net.www.protocol.jar=ALL-UNNAMED\n--add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\n--add-opens=java.base/java.util=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n-XX:NewRatio=2\n-XX:+UseContainerSupport\n-XX:MaxRAMPercentage=70.0\n-Xbootclasspath/a:/opt/payara/appserver/glassfish/lib/grizzly-npn-api.jar\n-Xss512k\n-server\n-javaagent:/opt/payara/appserver/glassfish/lib/monitor/flashlight-agent.jar\n-Djavax.xml.accessExternalSchema=all\n-Djavax.net.ssl.trustStore=/opt/payara/appserver/glassfish/domains/domain1/config/cacerts.jks\n-Djdk.tls.rejectClientInitiatedRenegotiation=true\n-Djdk.corba.allowOutputStreamSubclass=true\n-Dfelix.fileinstall.dir=/opt/payara/appserver/glassfish/modules/autostart/\n-Dorg.glassfish.additionalOSGiBundlesToStart=org.apache.felix.shell,org.apache.felix.gogo.runtime,org.apache.felix.gogo.shell,org.apache.felix.gogo.command,org.apache.felix.shell.remote,org.apache.felix.fileinstall\n-Dcom.sun.aas.installRoot=/opt/payara/appserver/glassfish\n-Dfelix.fileinstall.poll=5000\n-Djava.security.policy=/opt/payara/appserver/glassfish/domains/domain1/config/server.policy\n-Dosgi.shell.telnet.maxconn=1\n-Dfelix.fileinstall.bundles.startTransient=true\n-Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory\n-Dfelix.fileinstall.log.level=2\n-Djavax.net.ssl.keyStore=/opt/payara/appserver/glassfish/domains/domain1/config/keystore.jks\n-Djava.security.auth.login.config=/opt/payara/appserver/glassfish/domains/domain1/config/login.conf\n-Dfelix.fileinstall.disableConfigSave=false\n-Dorg.glassfish.grizzly.DEFAULT_MEMORY_MANAGER=org.glassfish.grizzly.memory.HeapMemoryManager\n-Dfelix.fileinstall.bundles.new.start=true\n-Dcom.sun.aas.instanceRoot=/opt/payara/appserver/glassfish/domains/domain1\n-Dosgi.shell.telnet.port=6666\n-Dgosh.args=--nointeractive\n-Dcom.sun.enterprise.security.httpsOutboundKeyAlias=s1as\n-Dorg.jboss.weld.serialization.beanIdentifierIndexOptimization=false\n-Dosgi.shell.telnet.ip=127.0.0.1\n-Djdk.attach.allowAttachSelf=true\n-DANTLR_USE_DIRECT_CLASS_LOADING=true\n-Djava.awt.headless=true\n-Dcom.ctc.wstx.returnNullForDefaultNamespace=true\n-Djdbc.drivers=org.h2.Driver\n-Dorg.glassfish.grizzly.nio.DefaultSelectorHandler.force-selector-spin-detection=true\n-Djava.library.path=/opt/payara/appserver/glassfish/lib:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib\ncom.sun.enterprise.glassfish.bootstrap.ASMain\n-prebootcommandfile\n/opt/payara/config/pre-boot-commands-final.asadmin\n-upgrade\nfalse\n-read-stdin\ntrue\n-postbootcommandfile\n/opt/payara/config/post-boot-commands-final.asadmin\n-domainname\ndomain1\n-domaindir\n/opt/payara/appserver/glassfish/domains/domain1\n-asadmin-args\n--host,,,localhost,,,--port,,,4848,,,--user,,,admin,,,--passwordfile,,,/opt/payara/passwordFile,,,--secure=false,,,--terse=false,,,--extraterse=false,,,--echo=false,,,--interactive=false,,,--autoname=false,,,start-domain,,,--verbose=false,,,--watchdog=false,,,--debug=false,,,--domaindir,,,/opt/payara/appserver/glassfish/domains,,,domain1\n-instancename\nserver\n-type\nDAS\n-verbose\nfalse\n-asadmin-classpath\n/opt/payara/appserver/glassfish/lib/client/appserver-cli.jar\n-debug\nfalse\n-asadmin-classname\ncom.sun.enterprise.admin.cli.AdminMain\n-watchdog\nfalse]]\n</code></pre>\n<p><strong>proof of successful deployment:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/gKsGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gKsGG.png\" alt=\"payara\" /></a></p>\n"},{"tags":["java","spring","hibernate","spring-mvc","jackson"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653944828,"creation_date":1653944828,"answer_id":72440036,"question_id":72440026,"body_markdown":"I think your problem is `@JsonIgnore`. It will mark a property or list of properties to be ignored. Remove `@JsonIgnore` over your fileds.","title":"Hibernate named query doesn&#39;t return all the result in select clause by using entity java","body":"<p>I think your problem is <code>@JsonIgnore</code>. It will mark a property or list of properties to be ignored. Remove <code>@JsonIgnore</code> over your fileds.</p>\n"}],"owner":{"account_id":24280012,"reputation":123,"user_id":18226690,"display_name":"ln3106"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653944828,"creation_date":1653944675,"question_id":72440026,"body_markdown":"I have a java entity called Product in which I have a property having a manytoone relation and another property having the manytomany relation as well as other properties having native java types (String,Int,double)\r\n\r\n    @Entity\r\n    @Table(name=&quot;PRODUCT&quot;)\r\n    @NamedQueries(\r\n    @NamedQuery(\r\n    name=&quot;findProductByCategoryAndPictures&quot;\r\n    query=&quot;Select distinct p from Product p inner join p.categories cat inner join p.picture pic  where p.id = :idProduct&quot;\r\n    )\r\n    )\r\n    public class Product {\r\n        private int id;\r\n        private String name;\r\n        private double price;\r\n        private int quantity;\r\n        @JsonIgnore\r\n        @ManyToOne\r\n        @JoinColumns({@JoinColumn(...),@JoinColumn(...)})\r\n        private Category categories ;\r\n        @JsonIgnore\r\n        @ManyToMany\r\n        @JoinTable(name=&quot;Picture&quot;,joinColumns={})\r\n        private List&lt;Picture&gt; picture ;\r\n        \r\n        // Getters &amp; Setters\r\n    }\r\n\r\nI created a named query in which I retrieve my Product object with joins on my two properties manytoone and manytomany, but I can&#39;t get in the result of my object the values of my two other properties. I only get the values of my native properties\r\n\r\nI have juste this result \r\n\r\n    {\r\n     &quot;id&quot; :&quot;1&quot;,\r\n     &quot;name&quot; :&quot;test&quot;,\r\n     &quot;price&quot; :&quot;10&quot;,\r\n     &quot;quantity&quot; :&quot;18&quot;,\r\n    }\r\n\r\nbut i want to have this result \r\n\r\n    {\r\n     &quot;id&quot; :&quot;1&quot;,\r\n     &quot;name&quot; :&quot;test&quot;,\r\n     &quot;price&quot; :&quot;10&quot;,\r\n     &quot;quantity&quot; :&quot;18&quot;,\r\n     &quot;categories&quot; :&quot;...&quot; ,\r\n     &quot;picture&quot; :[] ,\r\n    }\r\n\r\nHow can i do this ?","title":"Hibernate named query doesn&#39;t return all the result in select clause by using entity java","body":"<p>I have a java entity called Product in which I have a property having a manytoone relation and another property having the manytomany relation as well as other properties having native java types (String,Int,double)</p>\n<pre><code>@Entity\n@Table(name=&quot;PRODUCT&quot;)\n@NamedQueries(\n@NamedQuery(\nname=&quot;findProductByCategoryAndPictures&quot;\nquery=&quot;Select distinct p from Product p inner join p.categories cat inner join p.picture pic  where p.id = :idProduct&quot;\n)\n)\npublic class Product {\n    private int id;\n    private String name;\n    private double price;\n    private int quantity;\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumns({@JoinColumn(...),@JoinColumn(...)})\n    private Category categories ;\n    @JsonIgnore\n    @ManyToMany\n    @JoinTable(name=&quot;Picture&quot;,joinColumns={})\n    private List&lt;Picture&gt; picture ;\n    \n    // Getters &amp; Setters\n}\n</code></pre>\n<p>I created a named query in which I retrieve my Product object with joins on my two properties manytoone and manytomany, but I can't get in the result of my object the values of my two other properties. I only get the values of my native properties</p>\n<p>I have juste this result</p>\n<pre><code>{\n &quot;id&quot; :&quot;1&quot;,\n &quot;name&quot; :&quot;test&quot;,\n &quot;price&quot; :&quot;10&quot;,\n &quot;quantity&quot; :&quot;18&quot;,\n}\n</code></pre>\n<p>but i want to have this result</p>\n<pre><code>{\n &quot;id&quot; :&quot;1&quot;,\n &quot;name&quot; :&quot;test&quot;,\n &quot;price&quot; :&quot;10&quot;,\n &quot;quantity&quot; :&quot;18&quot;,\n &quot;categories&quot; :&quot;...&quot; ,\n &quot;picture&quot; :[] ,\n}\n</code></pre>\n<p>How can i do this ?</p>\n"},{"tags":["java","spring","spring-boot","exception"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653944539,"creation_date":1653944539,"answer_id":72440010,"question_id":72438298,"body_markdown":"The problem is in this line of code:\r\n\r\n     Object[] weather = restTemplate.getForObject(url, Object[].class);\r\n\r\nYou&#39;re mapping this JSON :\r\n\r\n    {\r\n    &quot;last&quot;: {\r\n    &quot;gameId&quot;: 5104,\r\n    &quot;drawId&quot;: 2446,\r\n    &quot;drawTime&quot;: 1653850800000,\r\n    &quot;status&quot;: &quot;results&quot;,\r\n    &quot;drawBreak&quot;: 1800000,\r\n    &quot;visualDraw&quot;: 2446,\r\n    &quot;pricePoints&quot;: {\r\n    &quot;amount&quot;: 0.5\r\n    },\r\n    &quot;winningNumbers&quot;: {\r\n    &quot;list&quot;: [\r\n    1,\r\n    9,\r\n    19,\r\n    22,\r\n    33\r\n    ],\r\n    &quot;bonus&quot;: [\r\n    1\r\n    ]\r\n    },\r\n    ...\r\n    }\r\n\r\nWhich is not array, it&#39;s an object, and that&#39;s why you are getting error described in your question.\r\n\r\nChange above line of code to:\r\n\r\n    Object weather = restTemplate.getForObject(url, Object.class);\r\n\r\nand it should work fine.","title":"Multiple nested exceptions while trying to consume JSON documents from API&#39;s","body":"<p>The problem is in this line of code:</p>\n<pre><code> Object[] weather = restTemplate.getForObject(url, Object[].class);\n</code></pre>\n<p>You're mapping this JSON :</p>\n<pre><code>{\n&quot;last&quot;: {\n&quot;gameId&quot;: 5104,\n&quot;drawId&quot;: 2446,\n&quot;drawTime&quot;: 1653850800000,\n&quot;status&quot;: &quot;results&quot;,\n&quot;drawBreak&quot;: 1800000,\n&quot;visualDraw&quot;: 2446,\n&quot;pricePoints&quot;: {\n&quot;amount&quot;: 0.5\n},\n&quot;winningNumbers&quot;: {\n&quot;list&quot;: [\n1,\n9,\n19,\n22,\n33\n],\n&quot;bonus&quot;: [\n1\n]\n},\n...\n}\n</code></pre>\n<p>Which is not array, it's an object, and that's why you are getting error described in your question.</p>\n<p>Change above line of code to:</p>\n<pre><code>Object weather = restTemplate.getForObject(url, Object.class);\n</code></pre>\n<p>and it should work fine.</p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72440010,"answer_count":1,"score":0,"last_activity_date":1653944539,"creation_date":1653933094,"question_id":72438298,"body_markdown":"I&#39;ve created a simple Spring Boot app, in which I am trying to consume an API through JSON information. Below you can see the simple code I created using RestTemplate on the Service Class. The problem I am facing is that when I am using the API url below, I am getting the following nested exception.\r\n\r\n[![Nested Exception Received][1]][1]\r\n\r\nIn case I am using API url with less information, everything works fine. What am I doing wrong?\r\n\r\n**CONTROLLER CLASS**\r\n```\r\npackage com.andrekreou.iot;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\npublic class RestSpringBootController {\r\n\r\n    private final Service service;\r\n\r\n    @Autowired\r\n    public RestSpringBootController(Service service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/opap&quot;)\r\n    public List&lt;Object&gt; getWeather(){\r\n        return service.getWeather();\r\n    }\r\n}\r\n```\r\n\r\n**SERVICE CLASS**\r\n```\r\npackage com.andrekreou.iot;\r\n\r\nimport org.springframework.web.client.RestTemplate;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n@org.springframework.stereotype.Service\r\npublic class Service {\r\n\r\n    public List&lt;Object&gt; getWeather(){\r\n        String url = &quot;https://api.opap.gr/draws/v3.0/5104/last-result-and-active&quot;;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        Object[] weather = restTemplate.getForObject(url, Object[].class);\r\n        return Arrays.asList(weather);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a2dqe.png","title":"Multiple nested exceptions while trying to consume JSON documents from API&#39;s","body":"<p>I've created a simple Spring Boot app, in which I am trying to consume an API through JSON information. Below you can see the simple code I created using RestTemplate on the Service Class. The problem I am facing is that when I am using the API url below, I am getting the following nested exception.</p>\n<p><a href=\"https://i.stack.imgur.com/a2dqe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a2dqe.png\" alt=\"Nested Exception Received\" /></a></p>\n<p>In case I am using API url with less information, everything works fine. What am I doing wrong?</p>\n<p><strong>CONTROLLER CLASS</strong></p>\n<pre><code>package com.andrekreou.iot;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class RestSpringBootController {\n\n    private final Service service;\n\n    @Autowired\n    public RestSpringBootController(Service service) {\n        this.service = service;\n    }\n\n    @GetMapping(path = &quot;/opap&quot;)\n    public List&lt;Object&gt; getWeather(){\n        return service.getWeather();\n    }\n}\n</code></pre>\n<p><strong>SERVICE CLASS</strong></p>\n<pre><code>package com.andrekreou.iot;\n\nimport org.springframework.web.client.RestTemplate;\nimport java.util.Arrays;\nimport java.util.List;\n\n@org.springframework.stereotype.Service\npublic class Service {\n\n    public List&lt;Object&gt; getWeather(){\n        String url = &quot;https://api.opap.gr/draws/v3.0/5104/last-result-and-active&quot;;\n        RestTemplate restTemplate = new RestTemplate();\n        Object[] weather = restTemplate.getForObject(url, Object[].class);\n        return Arrays.asList(weather);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10619895,"reputation":83,"user_id":7821336,"display_name":"mre"},"score":0,"creation_date":1653919797,"post_id":72435374,"comment_id":127962725,"body_markdown":"I have to process the input text anyway with more complex logic in the backend. So I don&#39;t care if there are empty values or not. I prefer a cleaner and easier to read (and easier to understand) regex. So be free to allow or deny empty values based on &quot;easy first&quot;.","body":"I have to process the input text anyway with more complex logic in the backend. So I don&#39;t care if there are empty values or not. I prefer a cleaner and easier to read (and easier to understand) regex. So be free to allow or deny empty values based on &quot;easy first&quot;."},{"owner":{"account_id":10619895,"reputation":83,"user_id":7821336,"display_name":"mre"},"score":0,"creation_date":1653919939,"post_id":72435374,"comment_id":127962777,"body_markdown":"Like `^(\\w+)=(\\w+)(,\\w+)*$`   ?","body":"Like <code>^(\\w+)=(\\w+)(,\\w+)*$</code>   ?"},{"owner":{"account_id":10619895,"reputation":83,"user_id":7821336,"display_name":"mre"},"score":0,"creation_date":1653920332,"post_id":72435374,"comment_id":127962920,"body_markdown":"You are right. I had a different approach in my mind and wanted to use the same regex in the backend. But while asking my question, I realized that is much easier to cut the string at the `=` sign, then at the `,` signs in the backend. So there is really no need for capture groups any more.","body":"You are right. I had a different approach in my mind and wanted to use the same regex in the backend. But while asking my question, I realized that is much easier to cut the string at the <code>=</code> sign, then at the <code>,</code> signs in the backend. So there is really no need for capture groups any more."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1653924577,"post_id":72435374,"comment_id":127964636,"body_markdown":"Must the first part be only letters, or can numbers be used too. Ie is `123=abc` valid?","body":"Must the first part be only letters, or can numbers be used too. Ie is <code>123=abc</code> valid?"},{"owner":{"account_id":10619895,"reputation":83,"user_id":7821336,"display_name":"mre"},"score":0,"creation_date":1654006213,"post_id":72435374,"comment_id":127985995,"body_markdown":"First part must be `\\w`. So `123=abc` is valid.","body":"First part must be <code>\\w</code>. So <code>123=abc</code> is valid."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1653924038,"creation_date":1653924038,"answer_id":72436614,"question_id":72435374,"body_markdown":"I used this code, but it does not use any regex. Code:\r\n```java\r\nimport java.util.*;\r\n\r\npublic class MyClass {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString something1 = &quot;Something=Item1,Item2,Item3&quot;;\r\n\t\tString something2 = &quot;Something=&quot;;\r\n\t\tString something3 = &quot;Something&quot;;\r\n\t\tString something4 = &quot;=Item1,Item2,Item3&quot;;\r\n\t\t\r\n\t\tSystem.out.println(isValid(something1));\r\n\t\tSystem.out.println(isValid(something2));\r\n\t\tSystem.out.println(isValid(something3));\r\n\t\tSystem.out.println(isValid(something4));\r\n\t}\r\n\t\r\n\tpublic static boolean isValid(String string) {\r\n\t\t\r\n\t\tboolean checkPart1Correct = string.contains(&quot;=&quot;); // check if it has = sign\r\n\t\tif(!checkPart1Correct) return false;\r\n\t\t\r\n\t\t//now we will split and see it it has items and the text before the = sign is not empty\r\n\t\tString[] partsOfString = string.split(&quot;=&quot;);\r\n\t\tif(partsOfString[0].trim().isEmpty()) return false;\r\n\t\ttry {\r\n\t\t\tif(partsOfString[1] == null) return false;\r\n\t\t}catch(Exception e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif(partsOfString[1] == null) return false;\r\n\t\tString[] items = partsOfString[1].split(&quot;,&quot;);\r\n\t\tif(items.length == 0) return false;\r\n\t\t\r\n\t\t//now, we will make the items into a list, and then you can do whatever you want\r\n\t\tList&lt;String&gt; itemsList = Arrays.asList(items);\r\n\t\t\r\n\t\t//you can do whatever you want with that list\r\n\t\t\r\n\t\treturn true;\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAfter testing it [here](https://onecompiler.com/java/3y5kn9pr5), you can see it in action. Also, these are the checks done in this code:\r\n\r\n\r\n1. It will check if the text before the = sign is not empty.\r\n2. It will check if it has the = sign.\r\n3. It will check if the items are not empty\r\n4. It will also give us the list of the items in that list.","title":"Validate string like &quot;abc=def,123,xyz&quot; with regex","body":"<p>I used this code, but it does not use any regex. Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class MyClass {\n\n    public static void main(String[] args) {\n        String something1 = &quot;Something=Item1,Item2,Item3&quot;;\n        String something2 = &quot;Something=&quot;;\n        String something3 = &quot;Something&quot;;\n        String something4 = &quot;=Item1,Item2,Item3&quot;;\n        \n        System.out.println(isValid(something1));\n        System.out.println(isValid(something2));\n        System.out.println(isValid(something3));\n        System.out.println(isValid(something4));\n    }\n    \n    public static boolean isValid(String string) {\n        \n        boolean checkPart1Correct = string.contains(&quot;=&quot;); // check if it has = sign\n        if(!checkPart1Correct) return false;\n        \n        //now we will split and see it it has items and the text before the = sign is not empty\n        String[] partsOfString = string.split(&quot;=&quot;);\n        if(partsOfString[0].trim().isEmpty()) return false;\n        try {\n            if(partsOfString[1] == null) return false;\n        }catch(Exception e) {\n            return false;\n        }\n        if(partsOfString[1] == null) return false;\n        String[] items = partsOfString[1].split(&quot;,&quot;);\n        if(items.length == 0) return false;\n        \n        //now, we will make the items into a list, and then you can do whatever you want\n        List&lt;String&gt; itemsList = Arrays.asList(items);\n        \n        //you can do whatever you want with that list\n        \n        return true;        \n    }\n}\n\n</code></pre>\n<p>After testing it <a href=\"https://onecompiler.com/java/3y5kn9pr5\" rel=\"nofollow noreferrer\">here</a>, you can see it in action. Also, these are the checks done in this code:</p>\n<ol>\n<li>It will check if the text before the = sign is not empty.</li>\n<li>It will check if it has the = sign.</li>\n<li>It will check if the items are not empty</li>\n<li>It will also give us the list of the items in that list.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653943092,"creation_date":1653924497,"answer_id":72436710,"question_id":72435374,"body_markdown":"Try this regex:\r\n\r\n    \\w+=\\w+(,\\w+)*\r\n\r\nwhich is used like this in Java:\r\n\r\n    if (input.matches(&quot;\\\\w+=\\\\w+(,\\\\w+)*&quot;)) {\r\n        // input is OK\r\n    }\r\n\r\n---\r\n\r\nIf the first part should not have numbers, use this instead:\r\n\r\n    [a-zA-Z_]+=\\w+(,\\w+)*\r\n\r\nOr if just the first character should not be a number (ie it should be a valid Java variable name), use this:\r\n\r\n    [a-zA-Z_]\\w*=\\w+(,\\w+)*\r\n","title":"Validate string like &quot;abc=def,123,xyz&quot; with regex","body":"<p>Try this regex:</p>\n<pre><code>\\w+=\\w+(,\\w+)*\n</code></pre>\n<p>which is used like this in Java:</p>\n<pre><code>if (input.matches(&quot;\\\\w+=\\\\w+(,\\\\w+)*&quot;)) {\n    // input is OK\n}\n</code></pre>\n<hr />\n<p>If the first part should not have numbers, use this instead:</p>\n<pre><code>[a-zA-Z_]+=\\w+(,\\w+)*\n</code></pre>\n<p>Or if just the first character should not be a number (ie it should be a valid Java variable name), use this:</p>\n<pre><code>[a-zA-Z_]\\w*=\\w+(,\\w+)*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653925440,"creation_date":1653924833,"answer_id":72436768,"question_id":72435374,"body_markdown":"You are not repeating the comma in the group, that is why it does not work when having multiple comma separated values.\r\n\r\nIf you want to get separate matches for the key and the values, you can use the `\\G` anchor.\r\n\r\n    (?:^(\\w+)=|\\G(?!^))(\\w+)(?:,|$)\r\n\r\n**Explanation**\r\n\r\n- `(?:` Non capture group\r\n  - `^(\\w+)=` Assert start of string and capture 1+ word chars in group 1\r\n  - `|` Or\r\n  - `\\G(?!^)` Assert the postion at the end of the previous match, not at the start\r\n- `)` Close non capture group\r\n- `(\\w+)` Capture group 2, match 1+ word characters\r\n- `(?:,|$)` Match either `,` or assert end of string\r\n\r\n[Regex demo](https://regex101.com/r/0OSaNP/1) | [Java demo](https://ideone.com/n0QFs4)\r\n\r\nFor example:\r\n\r\n    String regex = &quot;(?:^(\\\\w+)=|\\\\G(?!^))(\\\\w+)(?:,|$)&quot;;\r\n    Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n    String[] strings = {&quot;Something=Item1,Item2,Item3&quot;, &quot;someOtherThing=Some_Item&quot;, &quot;Something=&quot;};\r\n\r\n    for (String s : strings) {\r\n        Matcher matcher = pattern.matcher(s);\r\n    \r\n        while (matcher.find()) {\r\n            String gr1 = matcher.group(1);\r\n            String gr2 = matcher.group(2);\r\n    \r\n            if (gr1 != null) {\r\n                System.out.println(&quot;Group 1: &quot; + gr1);\r\n            }\r\n            if (gr2 != null) {\r\n                System.out.println(&quot;Group 2: &quot; + gr2);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    Group 1: Something\r\n    Group 2: Item1\r\n    Group 2: Item2\r\n    Group 2: Item3\r\n    Group 1: someOtherThing\r\n    Group 2: Some_Item","title":"Validate string like &quot;abc=def,123,xyz&quot; with regex","body":"<p>You are not repeating the comma in the group, that is why it does not work when having multiple comma separated values.</p>\n<p>If you want to get separate matches for the key and the values, you can use the <code>\\G</code> anchor.</p>\n<pre><code>(?:^(\\w+)=|\\G(?!^))(\\w+)(?:,|$)\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>(?:</code> Non capture group\n<ul>\n<li><code>^(\\w+)=</code> Assert start of string and capture 1+ word chars in group 1</li>\n<li><code>|</code> Or</li>\n<li><code>\\G(?!^)</code> Assert the postion at the end of the previous match, not at the start</li>\n</ul>\n</li>\n<li><code>)</code> Close non capture group</li>\n<li><code>(\\w+)</code> Capture group 2, match 1+ word characters</li>\n<li><code>(?:,|$)</code> Match either <code>,</code> or assert end of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/0OSaNP/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/n0QFs4\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>For example:</p>\n<pre><code>String regex = &quot;(?:^(\\\\w+)=|\\\\G(?!^))(\\\\w+)(?:,|$)&quot;;\nPattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\nString[] strings = {&quot;Something=Item1,Item2,Item3&quot;, &quot;someOtherThing=Some_Item&quot;, &quot;Something=&quot;};\n\nfor (String s : strings) {\n    Matcher matcher = pattern.matcher(s);\n\n    while (matcher.find()) {\n        String gr1 = matcher.group(1);\n        String gr2 = matcher.group(2);\n\n        if (gr1 != null) {\n            System.out.println(&quot;Group 1: &quot; + gr1);\n        }\n        if (gr2 != null) {\n            System.out.println(&quot;Group 2: &quot; + gr2);\n        }\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Group 1: Something\nGroup 2: Item1\nGroup 2: Item2\nGroup 2: Item3\nGroup 1: someOtherThing\nGroup 2: Some_Item\n</code></pre>\n"}],"owner":{"account_id":10619895,"reputation":83,"user_id":7821336,"display_name":"mre"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72436768,"answer_count":3,"score":0,"last_activity_date":1653943092,"creation_date":1653918357,"question_id":72435374,"body_markdown":"I would like to verify the syntax of an input field with a regex. The field should accept text like the following examples:\r\n\r\n```\r\nSomething=Item1,Item2,Item3\r\nsomeOtherThing=Some_Item\r\n```\r\n\r\nThere has to be a word, a `=` sign and a list of comma separated words. The list must contain at least one entry. So `abc=` should be invalid, but `abc=123` is valid.\r\n\r\nI am using a framework which allows a regular expression (Java) to mark the input field as valid or invalid. How can I express this rule in a regex?\r\n\r\nWith the aid of https://stackoverflow.com/a/65244969/7821336, I am able to validate the comma separated list. But as soon as I prepend my stuff with the assignment, the regex does not work any longer:\r\n\r\n```\r\n(\\w+)=((?:\\w+)+),?   // does not work!\r\n```","title":"Validate string like &quot;abc=def,123,xyz&quot; with regex","body":"<p>I would like to verify the syntax of an input field with a regex. The field should accept text like the following examples:</p>\n<pre><code>Something=Item1,Item2,Item3\nsomeOtherThing=Some_Item\n</code></pre>\n<p>There has to be a word, a <code>=</code> sign and a list of comma separated words. The list must contain at least one entry. So <code>abc=</code> should be invalid, but <code>abc=123</code> is valid.</p>\n<p>I am using a framework which allows a regular expression (Java) to mark the input field as valid or invalid. How can I express this rule in a regex?</p>\n<p>With the aid of <a href=\"https://stackoverflow.com/a/65244969/7821336\">https://stackoverflow.com/a/65244969/7821336</a>, I am able to validate the comma separated list. But as soon as I prepend my stuff with the assignment, the regex does not work any longer:</p>\n<pre><code>(\\w+)=((?:\\w+)+),?   // does not work!\n</code></pre>\n"},{"tags":["java","annotations","lombok"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":2,"creation_date":1653942834,"post_id":72439738,"comment_id":127969633,"body_markdown":"but if the field is never null, then why shouldn&#39;t the getter enforce the same? is this for educational purposes or do you have a realistic reason why you want to do this?","body":"but if the field is never null, then why shouldn&#39;t the getter enforce the same? is this for educational purposes or do you have a realistic reason why you want to do this?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1653942923,"post_id":72439738,"comment_id":127969663,"body_markdown":"Why would you want Lombok not to propagate this?","body":"Why would you want Lombok not to propagate this?"},{"owner":{"account_id":3156423,"reputation":1077,"user_id":2668735,"accept_rate":56,"display_name":"user2668735"},"score":0,"creation_date":1654076899,"post_id":72439738,"comment_id":128004016,"body_markdown":"@LouisWasserman because this annotation should be automatically propagated by the IDE/compiler and users should decided if they want to see them or not, we should not have to write it explicitly everywhere in the code, otherwise it will become ulgy very fast.","body":"@LouisWasserman because this annotation should be automatically propagated by the IDE/compiler and users should decided if they want to see them or not, we should not have to write it explicitly everywhere in the code, otherwise it will become ulgy very fast."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1654096952,"post_id":72439738,"comment_id":128011543,"body_markdown":"Nah.  Every method should explicitly declare its nullability.","body":"Nah.  Every method should explicitly declare its nullability."},{"owner":{"account_id":5487585,"reputation":109,"user_id":5623197,"display_name":"Ricardo Terra"},"score":0,"creation_date":1654629393,"post_id":72439738,"comment_id":128134961,"body_markdown":"It is definitely not educational. I am Java consultant and JSF 2.3 running on JDK 17 does not work properly due to this propagation (field to Lombok created getter). I changed all annotations to @NotEmpty and it works just fine. However, I just want to understand two things: (i) why does Lombok propagate some annotations and does not others? and (ii) why does not Lombok provide us with some configuration to determine what we want to propagate or not.","body":"It is definitely not educational. I am Java consultant and JSF 2.3 running on JDK 17 does not work properly due to this propagation (field to Lombok created getter). I changed all annotations to @NotEmpty and it works just fine. However, I just want to understand two things: (i) why does Lombok propagate some annotations and does not others? and (ii) why does not Lombok provide us with some configuration to determine what we want to propagate or not."},{"owner":{"account_id":2236584,"reputation":576,"user_id":1972803,"display_name":"Badaro"},"score":0,"creation_date":1667627001,"post_id":72439738,"comment_id":131216211,"body_markdown":"This behaviour was introduced in lombok 1.18.24. The Projectlombok [may release a fix in a 1.18.26 version](https://github.com/projectlombok/lombok/issues/3180) - someday. Perhaps you can use the 1.18.22 version meanwhile.","body":"This behaviour was introduced in lombok 1.18.24. The Projectlombok <a href=\"https://github.com/projectlombok/lombok/issues/3180\" rel=\"nofollow noreferrer\">may release a fix in a 1.18.26 version</a> - someday. Perhaps you can use the 1.18.22 version meanwhile."},{"owner":{"account_id":5487585,"reputation":109,"user_id":5623197,"display_name":"Ricardo Terra"},"score":0,"creation_date":1668548694,"post_id":72439738,"comment_id":131431612,"body_markdown":"Indeed Badaro. I am using NotEmpty and it worked for me better than the older one. But I am going to check if the 1.18.26 version fixed it. Thanks.","body":"Indeed Badaro. I am using NotEmpty and it worked for me better than the older one. But I am going to check if the 1.18.26 version fixed it. Thanks."}],"owner":{"account_id":5487585,"reputation":109,"user_id":5623197,"display_name":"Ricardo Terra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":0,"score":3,"last_activity_date":1653942572,"creation_date":1653942572,"question_id":72439738,"body_markdown":"My question is simple and the answer could be simpler but I haven&#39;t found anything so far.\r\n\r\n[![Original code][1]][1]\r\n\r\nLombok 1.18.24 (last so far) propagates annotation &quot;@NotNull&quot; to its generated getter method, as I checked out using a decompiler over the .class file:\r\n\r\n[![Generated code][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wbPhO.png\r\n  [2]: https://i.stack.imgur.com/agYVa.png\r\n\r\nIt is funny because other annotations such as @javax.validation.constraints.NotEmpty, it does not propagate. It is my solution so far. \r\n\r\nI tried to use `lombok.config` as follows (but no success):\r\n\r\n&gt; lombok.copyableAnnotations -= javax.validation.constraints.NotNull\r\n\r\nand as follows (no success either):\r\n\r\n&gt; clear lombok.addNullAnnotations\r\n\r\nIn short, I would like Lombok **does** not propagate it. *How to avoid @Getter propagates field annotation @javax.validation.constraints.NotNull to respective getter?*\r\n\r\n\r\n","title":"Why @Getter of Lombok propagates field annotation @NotNull?","body":"<p>My question is simple and the answer could be simpler but I haven't found anything so far.</p>\n<p><a href=\"https://i.stack.imgur.com/wbPhO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wbPhO.png\" alt=\"Original code\" /></a></p>\n<p>Lombok 1.18.24 (last so far) propagates annotation &quot;@NotNull&quot; to its generated getter method, as I checked out using a decompiler over the .class file:</p>\n<p><a href=\"https://i.stack.imgur.com/agYVa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/agYVa.png\" alt=\"Generated code\" /></a></p>\n<p>It is funny because other annotations such as @javax.validation.constraints.NotEmpty, it does not propagate. It is my solution so far.</p>\n<p>I tried to use <code>lombok.config</code> as follows (but no success):</p>\n<blockquote>\n<p>lombok.copyableAnnotations -= javax.validation.constraints.NotNull</p>\n</blockquote>\n<p>and as follows (no success either):</p>\n<blockquote>\n<p>clear lombok.addNullAnnotations</p>\n</blockquote>\n<p>In short, I would like Lombok <strong>does</strong> not propagate it. <em>How to avoid @Getter propagates field annotation @javax.validation.constraints.NotNull to respective getter?</em></p>\n"},{"tags":["java","json","mapping","dto","objectmapper"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1653496263,"post_id":72369840,"comment_id":127868692,"body_markdown":"What kind of exception are you getting?","body":"What kind of exception are you getting?"},{"owner":{"account_id":6327303,"reputation":396,"user_id":4960012,"accept_rate":42,"display_name":"Jarvis"},"score":0,"creation_date":1653920420,"post_id":72369840,"comment_id":127962961,"body_markdown":"@AddeusExMachina I&#39;ve added the exception","body":"@AddeusExMachina I&#39;ve added the exception"},{"owner":{"account_id":6327303,"reputation":396,"user_id":4960012,"accept_rate":42,"display_name":"Jarvis"},"score":0,"creation_date":1653942630,"post_id":72369840,"comment_id":127969575,"body_markdown":"I&#39;ve updated the question with solution. Not sure if it&#39;s ok.","body":"I&#39;ve updated the question with solution. Not sure if it&#39;s ok."}],"owner":{"account_id":6327303,"reputation":396,"user_id":4960012,"accept_rate":42,"display_name":"Jarvis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653942571,"creation_date":1653428894,"question_id":72369840,"body_markdown":"I have very weird API and code, partly legacy (the reason of RestTemplate is provided).\r\n\r\nI&#39;m getting the result from source with JSON and mapping it to array of inner objects.\r\n\r\nUnfortunately, the data is not consistent.\r\n\r\nIt&#39;s supposed to be:\r\n\r\n    [{\r\n      &quot;a&quot;: 1,\r\n      &quot;b&quot;: 2,\r\n      &quot;c&quot;: 3\r\n    },\r\n    {\r\n      &quot;a&quot;: 4,\r\n      &quot;b&quot;: 5,\r\n      &quot;c&quot;: 6\r\n    }]\r\n\r\nHowever, in fact it&#39;s:\r\n\r\n    [{\r\n      &quot;a&quot;: 1,\r\n      &quot;b&quot;: 2,\r\n      &quot;c&quot;: 3\r\n    },\r\n    {\r\n      &quot;a&quot;: 4,\r\n      &quot;b&quot;: 5\r\n    }]\r\n\r\nNo one thought of such case and obviously we have\r\n\r\n    MyDTO[] result = restTemplate\r\n                    .getForObject(uriString, MyDTO[].class);\r\n\r\nMyDTO:\r\n\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class MyDTO {\r\n    \r\n        private Long a;\r\n        private Long b;\r\n        private Long c;\r\n    \r\n    }\r\n\r\nFor sure, exception here.\r\n\r\nHow do I have to implement the processing of such a piece of data correctly?\r\n\r\nShould I use something like:\r\n\r\n    ResponseEntity&lt;String&gt; result = restTemplate\r\n                    .getForEntity(uriString, String.class);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode root = mapper.readTree(result.getBody());\r\n\r\nThen handle the JSON somehow with streams ([https://stackoverflow.com/questions/30385072/does-jackson-support-java-8-stream][1])?\r\n\r\nIt looks like bad workaround, better to say hardcode.\r\nWhat is the best practise for the case?\r\n\r\n**UPD**\r\n\r\nThe exception I got:\r\n\r\n    at [Source: (PushbackInputStream); line: 1, column: 158483] (through reference chain: java.lang.Object[][3147]-&gt;MyDTO[&quot;b&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.weirdNumberException(DeserializationContext.java:1714)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleWeirdNumberValue(DeserializationContext.java:992)\r\n    \tat com.fasterxml.jackson.databind.deser.std.EnumDeserializer.deserialize(EnumDeserializer.java:200)\r\n    \tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:371)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\r\n    \tat com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:195)\r\n    \tat com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:21)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4524)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3519)\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:273)\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:242)\r\n    \tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:105)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:741)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)\r\n    \tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:315)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:100)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n    \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:130)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat datadog.trace.instrumentation.springweb.HandlerMappingResourceNameFilter.doFilterInternal(HandlerMappingResourceNameFilter.java:50)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n\r\n\r\n**UPD2**\r\n\r\nI&#39;ve found the solution. I&#39;m not sure if it&#39;s optimised.\r\nIs there any better solution? (I&#39;m looking for the best practice)\r\n\r\n```\r\nObject[] result = restTemplate\r\n    .getForObject(uriBuilder.toUriString(), Object[].class);\r\n\r\n// because I need Set, could be .toList(), .toMap()\r\nArrays.stream(result)\r\n    .map(obj -&gt; mapper.convertValue(obj, MyDTO.class))\r\n    .collect(Collectors.toSet());\r\n\r\n// result with MyDTO[] as described in my requirements\r\nArrays.stream(result)\r\n    .map(obj -&gt; mapper.convertValue(obj, MyDTO.class))\r\n    .toArray(MyDTO[]::new);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30385072/does-jackson-support-java-8-stream","title":"How to filter (or alter) a request result with RestTemplate.getForObject (Best Practice for mapping not-consistent data)?","body":"<p>I have very weird API and code, partly legacy (the reason of RestTemplate is provided).</p>\n<p>I'm getting the result from source with JSON and mapping it to array of inner objects.</p>\n<p>Unfortunately, the data is not consistent.</p>\n<p>It's supposed to be:</p>\n<pre><code>[{\n  &quot;a&quot;: 1,\n  &quot;b&quot;: 2,\n  &quot;c&quot;: 3\n},\n{\n  &quot;a&quot;: 4,\n  &quot;b&quot;: 5,\n  &quot;c&quot;: 6\n}]\n</code></pre>\n<p>However, in fact it's:</p>\n<pre><code>[{\n  &quot;a&quot;: 1,\n  &quot;b&quot;: 2,\n  &quot;c&quot;: 3\n},\n{\n  &quot;a&quot;: 4,\n  &quot;b&quot;: 5\n}]\n</code></pre>\n<p>No one thought of such case and obviously we have</p>\n<pre><code>MyDTO[] result = restTemplate\n                .getForObject(uriString, MyDTO[].class);\n</code></pre>\n<p>MyDTO:</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\npublic class MyDTO {\n\n    private Long a;\n    private Long b;\n    private Long c;\n\n}\n</code></pre>\n<p>For sure, exception here.</p>\n<p>How do I have to implement the processing of such a piece of data correctly?</p>\n<p>Should I use something like:</p>\n<pre><code>ResponseEntity&lt;String&gt; result = restTemplate\n                .getForEntity(uriString, String.class);\nObjectMapper mapper = new ObjectMapper();\nJsonNode root = mapper.readTree(result.getBody());\n</code></pre>\n<p>Then handle the JSON somehow with streams (<a href=\"https://stackoverflow.com/questions/30385072/does-jackson-support-java-8-stream\">Does Jackson support java 8 stream()?</a>)?</p>\n<p>It looks like bad workaround, better to say hardcode.\nWhat is the best practise for the case?</p>\n<p><strong>UPD</strong></p>\n<p>The exception I got:</p>\n<pre><code>at [Source: (PushbackInputStream); line: 1, column: 158483] (through reference chain: java.lang.Object[][3147]-&gt;MyDTO[&quot;b&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.weirdNumberException(DeserializationContext.java:1714)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdNumberValue(DeserializationContext.java:992)\n    at com.fasterxml.jackson.databind.deser.std.EnumDeserializer.deserialize(EnumDeserializer.java:200)\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:371)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:195)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:21)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4524)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3519)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:273)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:242)\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:105)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:741)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:315)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:100)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:130)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at datadog.trace.instrumentation.springweb.HandlerMappingResourceNameFilter.doFilterInternal(HandlerMappingResourceNameFilter.java:50)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p><strong>UPD2</strong></p>\n<p>I've found the solution. I'm not sure if it's optimised.\nIs there any better solution? (I'm looking for the best practice)</p>\n<pre><code>Object[] result = restTemplate\n    .getForObject(uriBuilder.toUriString(), Object[].class);\n\n// because I need Set, could be .toList(), .toMap()\nArrays.stream(result)\n    .map(obj -&gt; mapper.convertValue(obj, MyDTO.class))\n    .collect(Collectors.toSet());\n\n// result with MyDTO[] as described in my requirements\nArrays.stream(result)\n    .map(obj -&gt; mapper.convertValue(obj, MyDTO.class))\n    .toArray(MyDTO[]::new);\n</code></pre>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1653937985,"post_id":72439049,"comment_id":127968557,"body_markdown":"And what is your question? What errro do you get? Where does the actual output not match your expectations?","body":"And what is your question? What errro do you get? Where does the actual output not match your expectations?"},{"owner":{"account_id":16979771,"reputation":33,"user_id":17431891,"display_name":"eques"},"score":0,"creation_date":1653938045,"post_id":72439049,"comment_id":127968578,"body_markdown":"i dont have an error, the question is how to write such method delete","body":"i dont have an error, the question is how to write such method delete"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1653938156,"post_id":72439049,"comment_id":127968593,"body_markdown":"Where are you stuck with the implementation? Are there any edge cases that are not handled correctly? How would you solve it and why doesn&#39;t it work? Stack Overflow is not a &quot;please write code for me&quot; platform","body":"Where are you stuck with the implementation? Are there any edge cases that are not handled correctly? How would you solve it and why doesn&#39;t it work? Stack Overflow is not a &quot;please write code for me&quot; platform"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653942486,"creation_date":1653938118,"answer_id":72439092,"question_id":72439049,"body_markdown":"Your tree seems to be a recursive data structure.\r\n\r\nSuppose you want to delete Level N, then traverse down recursively to `N- 1`\r\n[![Step 1][1]][1]\r\nCheck at Level N-1 for four cases:\r\n1) it has a left and a right child (node 2)\r\n2) it has only a left child (node 6)\r\n3) it has only a right child (node 10)\r\n4) no children (node 7)\r\n\r\nWhen you try to delete Level N\r\n[![enter image description here][2]][2]\r\nYou have to fixup the remaining nodes\r\n[![enter image description here][3]][3]\r\nThat is why you start at Level N-1, because you need the parent of each node at level N for the fix-up phase.\r\n\r\nThe four cases above can easily be reduced to:\r\n* If the left child of the left child exists, set the left child to the left child of the left child. (4.left = 4.left.left)\r\n* else if the right child of the left child exists, set the left child to the right child of the left child. (4.left = 4.left.right)\r\n* else NO-OP\r\n\r\nFor the right child e.g. node 4 it&#39;s exactly the same.\r\n\r\nActually, the fix-up is all you need. Afterwards, let the GC clean up for you and you are done.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JNV1L.png\r\n  [2]: https://i.stack.imgur.com/U8IIS.png\r\n  [3]: https://i.stack.imgur.com/W6q3X.png","title":"Method to delete certain level of binary tree","body":"<p>Your tree seems to be a recursive data structure.</p>\n<p>Suppose you want to delete Level N, then traverse down recursively to <code>N- 1</code>\n<a href=\"https://i.stack.imgur.com/JNV1L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JNV1L.png\" alt=\"Step 1\" /></a>\nCheck at Level N-1 for four cases:</p>\n<ol>\n<li>it has a left and a right child (node 2)</li>\n<li>it has only a left child (node 6)</li>\n<li>it has only a right child (node 10)</li>\n<li>no children (node 7)</li>\n</ol>\n<p>When you try to delete Level N\n<a href=\"https://i.stack.imgur.com/U8IIS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U8IIS.png\" alt=\"enter image description here\" /></a>\nYou have to fixup the remaining nodes\n<a href=\"https://i.stack.imgur.com/W6q3X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W6q3X.png\" alt=\"enter image description here\" /></a>\nThat is why you start at Level N-1, because you need the parent of each node at level N for the fix-up phase.</p>\n<p>The four cases above can easily be reduced to:</p>\n<ul>\n<li>If the left child of the left child exists, set the left child to the left child of the left child. (4.left = 4.left.left)</li>\n<li>else if the right child of the left child exists, set the left child to the right child of the left child. (4.left = 4.left.right)</li>\n<li>else NO-OP</li>\n</ul>\n<p>For the right child e.g. node 4 it's exactly the same.</p>\n<p>Actually, the fix-up is all you need. Afterwards, let the GC clean up for you and you are done.</p>\n"}],"owner":{"account_id":16979771,"reputation":33,"user_id":17431891,"display_name":"eques"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72439092,"answer_count":1,"score":0,"last_activity_date":1653942486,"creation_date":1653937860,"question_id":72439049,"body_markdown":"I have class ```SimpleTree``` just basic binary tree:\r\n\r\n    public class SimpleTree&lt;T extends Comparable&lt;T&gt;&gt; {\r\n    protected class TreeItem {\r\n        public T value;\r\n        public TreeItem left;\r\n        public TreeItem right;\r\n\r\n        public TreeItem(T value, TreeItem left, TreeItem right) {\r\n            this.value = value;\r\n            this.left = left;\r\n            this.right = right;\r\n        }\r\n\r\n        public TreeItem(T value) {\r\n            this(value, null, null);\r\n        }\r\n\r\n        public T getValue() {\r\n            return value;\r\n        }\r\n\r\n        public TreeItem getLeft() {\r\n            return left;\r\n        }\r\n\r\n        public TreeItem getRight() {\r\n            return right;\r\n        }\r\n\r\n        public void setValue(T value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    protected TreeItem item = null;\r\n    protected int size = 0; // number of elements\r\n\r\nAnd the problem is to write method:\r\n\r\n   \r\n\r\n     public void delete(TreeItem item, int level) {\r\n    ...\r\n    } \r\nWhere ```level``` is the level of the elements in some tree (root level == 0). For example ```level == 1```:\r\n\r\n    Before:\r\n                8 ----- 0 level root\r\n               / \\\r\n              /   \\  (size == 6)\r\n             /     \\\r\n            5       10 ----- 1 level\r\n           / \\       \\\r\n          2   6      11 ----- 2 level and etc.\r\n\r\n    After:\r\n                    8 ----- 0 level\r\n                   / \\\r\n                  /   \\   (size == 3)\r\n                 /     \\\r\n                /       \\ \r\n               /         \\\r\n              2           11 ----- 1 level\r\nOnly LEFT leaf of DELETED elements is saved, if we dont have such -&gt; save the right.","title":"Method to delete certain level of binary tree","body":"<p>I have class <code>SimpleTree</code> just basic binary tree:</p>\n<pre><code>public class SimpleTree&lt;T extends Comparable&lt;T&gt;&gt; {\nprotected class TreeItem {\n    public T value;\n    public TreeItem left;\n    public TreeItem right;\n\n    public TreeItem(T value, TreeItem left, TreeItem right) {\n        this.value = value;\n        this.left = left;\n        this.right = right;\n    }\n\n    public TreeItem(T value) {\n        this(value, null, null);\n    }\n\n    public T getValue() {\n        return value;\n    }\n\n    public TreeItem getLeft() {\n        return left;\n    }\n\n    public TreeItem getRight() {\n        return right;\n    }\n\n    public void setValue(T value) {\n        this.value = value;\n    }\n}\n\nprotected TreeItem item = null;\nprotected int size = 0; // number of elements\n</code></pre>\n<p>And the problem is to write method:</p>\n<pre><code> public void delete(TreeItem item, int level) {\n...\n} \n</code></pre>\n<p>Where <code>level</code> is the level of the elements in some tree (root level == 0). For example <code>level == 1</code>:</p>\n<pre><code>Before:\n            8 ----- 0 level root\n           / \\\n          /   \\  (size == 6)\n         /     \\\n        5       10 ----- 1 level\n       / \\       \\\n      2   6      11 ----- 2 level and etc.\n\nAfter:\n                8 ----- 0 level\n               / \\\n              /   \\   (size == 3)\n             /     \\\n            /       \\ \n           /         \\\n          2           11 ----- 1 level\n</code></pre>\n<p>Only LEFT leaf of DELETED elements is saved, if we dont have such -&gt; save the right.</p>\n"},{"tags":["java","operators","indexoutofboundsexception"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1653927660,"post_id":72437153,"comment_id":127965630,"body_markdown":"Are you familiar with logical operator [short-circuiting](https://stackoverflow.com/q/8759868/12567365)? This means the `&amp;&amp;` expression in the first solution is not equivalent to the `&amp;&amp;` expression in the second solution. (Short circuiting applies in Java and JavaScript, just as an aside).","body":"Are you familiar with logical operator <a href=\"https://stackoverflow.com/q/8759868/12567365\">short-circuiting</a>? This means the <code>&amp;&amp;</code> expression in the first solution is not equivalent to the <code>&amp;&amp;</code> expression in the second solution. (Short circuiting applies in Java and JavaScript, just as an aside)."},{"owner":{"account_id":19309253,"reputation":1,"user_id":14115410,"display_name":"Will"},"score":0,"creation_date":1653929060,"post_id":72437153,"comment_id":127966048,"body_markdown":"Thanks, I didn&#39;t think of this when coding and completely forgot this rule. I thought it read `nums1_copy[p1]` first in the second solution and thus threw the exception immediately.","body":"Thanks, I didn&#39;t think of this when coding and completely forgot this rule. I thought it read <code>nums1_copy[p1]</code> first in the second solution and thus threw the exception immediately."}],"answers":[{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653928235,"creation_date":1653928235,"answer_id":72437445,"question_id":72437153,"body_markdown":"In the first snippet, you check the index `p1` before accessing it in `nums_copy`, in the second you check it after. The way `&amp;&amp;` works is that it evaluates the first operand. If it&#39;s true, it goes on to evaluate the second operand. If not, then the second operand is skipped because `A &amp;&amp; B` requires both A and B to be true in order to be true, so if A is false you know `A &amp;&amp; B` is false regardless of B. This is called short-circuiting. Note something similar happens with `||`, which doesn&#39;t evaluate the second operand if the first one is already true (since it knows then that the whole expression will be true for sure).\r\n\r\nTo come back to your case, this means the access to index `p1` will be skipped in your first solution when this access is illegal (i.e. when `p1 &gt;= m`) but the illegal access will still occur in the second solution, hence the exception.","title":"Java operator order causes array index out of bounds exception","body":"<p>In the first snippet, you check the index <code>p1</code> before accessing it in <code>nums_copy</code>, in the second you check it after. The way <code>&amp;&amp;</code> works is that it evaluates the first operand. If it's true, it goes on to evaluate the second operand. If not, then the second operand is skipped because <code>A &amp;&amp; B</code> requires both A and B to be true in order to be true, so if A is false you know <code>A &amp;&amp; B</code> is false regardless of B. This is called short-circuiting. Note something similar happens with <code>||</code>, which doesn't evaluate the second operand if the first one is already true (since it knows then that the whole expression will be true for sure).</p>\n<p>To come back to your case, this means the access to index <code>p1</code> will be skipped in your first solution when this access is illegal (i.e. when <code>p1 &gt;= m</code>) but the illegal access will still occur in the second solution, hence the exception.</p>\n"}],"owner":{"account_id":19309253,"reputation":1,"user_id":14115410,"display_name":"Will"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653943283,"answer_count":1,"score":0,"last_activity_date":1653942313,"creation_date":1653926695,"question_id":72437153,"body_markdown":"When i was doing leetcode 88.merge sorted array, I tried two similar solutions. First solution is correct but the second solution causes array index out of bounds exception. \r\n\r\nThe difference is `(p1 &lt; m &amp;&amp; nums1_copy[p1] &lt; nums2[p2])` in the first solution and `(nums1_copy[p1] &lt; nums2[p2] &amp;&amp; p1 &lt; m)` in the second solution.\r\n\r\nWhat is the reason? I am a beginner in java and I was working with javascript and never faced this issue.\r\n\r\nThanks a lot.\r\n\r\n```\r\n// first solution\r\n  public void merge(int[] nums1, int m, int[] nums2, int n) {\r\n        int[] nums1_copy = new int[m];\r\n        int p1 = 0;\r\n        int p2 = 0; \r\n        \r\n        for (int i = 0; i &lt; m; i++) {\r\n            nums1_copy[i] = nums1[i];\r\n        }\r\n        \r\n        for (int i = 0; i &lt; m + n; i++) {\r\n            if (p2 &gt;= n || (p1 &lt; m &amp;&amp; nums1_copy[p1] &lt; nums2[p2])) {\r\n                nums1[i] = nums1_copy[p1++];\r\n            } else {\r\n                nums1[i] = nums2[p2++];\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n// second solution\r\npublic void merge(int[] nums1, int m, int[] nums2, int n) {\r\n        int[] nums1_copy = new int[m];\r\n        int p1 = 0;\r\n        int p2 = 0; \r\n        \r\n        for (int i = 0; i &lt; m; i++) {\r\n            nums1_copy[i] = nums1[i];\r\n        }\r\n        \r\n        for (int i = 0; i &lt; m + n; i++) {\r\n            if (p2 &gt;= n || (nums1_copy[p1] &lt; nums2[p2] &amp;&amp; p1 &lt; m)) {\r\n                nums1[i] = nums1_copy[p1++];\r\n            } else {\r\n                nums1[i] = nums2[p2++];\r\n            }\r\n        }\r\n    }\r\n```","title":"Java operator order causes array index out of bounds exception","body":"<p>When i was doing leetcode 88.merge sorted array, I tried two similar solutions. First solution is correct but the second solution causes array index out of bounds exception.</p>\n<p>The difference is <code>(p1 &lt; m &amp;&amp; nums1_copy[p1] &lt; nums2[p2])</code> in the first solution and <code>(nums1_copy[p1] &lt; nums2[p2] &amp;&amp; p1 &lt; m)</code> in the second solution.</p>\n<p>What is the reason? I am a beginner in java and I was working with javascript and never faced this issue.</p>\n<p>Thanks a lot.</p>\n<pre><code>// first solution\n  public void merge(int[] nums1, int m, int[] nums2, int n) {\n        int[] nums1_copy = new int[m];\n        int p1 = 0;\n        int p2 = 0; \n        \n        for (int i = 0; i &lt; m; i++) {\n            nums1_copy[i] = nums1[i];\n        }\n        \n        for (int i = 0; i &lt; m + n; i++) {\n            if (p2 &gt;= n || (p1 &lt; m &amp;&amp; nums1_copy[p1] &lt; nums2[p2])) {\n                nums1[i] = nums1_copy[p1++];\n            } else {\n                nums1[i] = nums2[p2++];\n            }\n        }\n    }\n</code></pre>\n<pre><code>// second solution\npublic void merge(int[] nums1, int m, int[] nums2, int n) {\n        int[] nums1_copy = new int[m];\n        int p1 = 0;\n        int p2 = 0; \n        \n        for (int i = 0; i &lt; m; i++) {\n            nums1_copy[i] = nums1[i];\n        }\n        \n        for (int i = 0; i &lt; m + n; i++) {\n            if (p2 &gt;= n || (nums1_copy[p1] &lt; nums2[p2] &amp;&amp; p1 &lt; m)) {\n                nums1[i] = nums1_copy[p1++];\n            } else {\n                nums1[i] = nums2[p2++];\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1446047589,"post_id":33395438,"comment_id":54582635,"body_markdown":"Maven doesn&#39;t _run_ code, it compiles it. I&#39;m not sure what specific problem you want to solve here. Are you running some code with the `exec-maven-plugin`?","body":"Maven doesn&#39;t <i>run</i> code, it compiles it. I&#39;m not sure what specific problem you want to solve here. Are you running some code with the <code>exec-maven-plugin</code>?"},{"owner":{"account_id":2090327,"reputation":8485,"user_id":1860309,"accept_rate":53,"display_name":"Boris Brodski"},"score":0,"creation_date":1446047829,"post_id":33395438,"comment_id":54582838,"body_markdown":"No, I&#39;m running code within a maven plugin!","body":"No, I&#39;m running code within a maven plugin!"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1446047969,"post_id":33395438,"comment_id":54582947,"body_markdown":"Can&#39;t you modify the Maven plugin to set some custom system property instead?","body":"Can&#39;t you modify the Maven plugin to set some custom system property instead?"},{"owner":{"account_id":7095204,"reputation":399,"user_id":5429061,"display_name":"javaguest"},"score":0,"creation_date":1446047998,"post_id":33395438,"comment_id":54582971,"body_markdown":"maybe check for a pom.xml in the project root?","body":"maybe check for a pom.xml in the project root?"},{"owner":{"account_id":317563,"reputation":4412,"user_id":634324,"accept_rate":89,"display_name":"Charles"},"score":0,"creation_date":1504897455,"post_id":33395438,"comment_id":79208685,"body_markdown":"Did you ever find a solution to this? What method did you end up using? Existence of pom.xml doesn&#39;t mean that the code is being run using Maven.","body":"Did you ever find a solution to this? What method did you end up using? Existence of pom.xml doesn&#39;t mean that the code is being run using Maven."},{"owner":{"account_id":2090327,"reputation":8485,"user_id":1860309,"accept_rate":53,"display_name":"Boris Brodski"},"score":0,"creation_date":1504902497,"post_id":33395438,"comment_id":79210903,"body_markdown":"@Charles I used a &quot;dirty&quot; solution, setting a global variable from a Maven-plugin part and read it from the library-core part. Still looking for a nice solution though.","body":"@Charles I used a &quot;dirty&quot; solution, setting a global variable from a Maven-plugin part and read it from the library-core part. Still looking for a nice solution though."}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446048458,"creation_date":1446048458,"answer_id":33396037,"question_id":33395438,"body_markdown":"Unless you wrote a Maven plugin, and your code is part of that Maven plugin, and you are configuring that code by adding your to pom.xml under the build/plugins/plugin area, you are likely only using Maven to compile.\r\n\r\nChecking an environmental variable will not tell you if you are &quot;in the maven plugin&quot; because the environmental variable exists even when maven isn&#39;t running.  To see if you are &quot;in the maven plugin&quot; you need to ask maven to do dependency injection and see if it fails (That&#39;s done through plexus containers, and if you don&#39;t recognize what I&#39;m talking about, again you are not in the maven plugin).\r\n\r\nI am 99% certain that your code fails when asking maven to compile it.  That&#39;s likely due to your compiler configuration have stricter requirements than the IDE you are using.  If so, the best answer is to fix your code to comply with the stricter Maven requirements; because, strict requirements are typically put in place to ensure the code runs properly in more scenarios.\r\n\r\nI would also check your maven build configuration (pom.xml) to see if it is using the same version of java as your IDE.  Sometimes when you configuration your IDE, you select a different compilation level (say java 1.8) than your maven pom.xml would use (say Java 1.7).","title":"Check if Java code is running within a Maven plugin","body":"<p>Unless you wrote a Maven plugin, and your code is part of that Maven plugin, and you are configuring that code by adding your to pom.xml under the build/plugins/plugin area, you are likely only using Maven to compile.</p>\n\n<p>Checking an environmental variable will not tell you if you are \"in the maven plugin\" because the environmental variable exists even when maven isn't running.  To see if you are \"in the maven plugin\" you need to ask maven to do dependency injection and see if it fails (That's done through plexus containers, and if you don't recognize what I'm talking about, again you are not in the maven plugin).</p>\n\n<p>I am 99% certain that your code fails when asking maven to compile it.  That's likely due to your compiler configuration have stricter requirements than the IDE you are using.  If so, the best answer is to fix your code to comply with the stricter Maven requirements; because, strict requirements are typically put in place to ensure the code runs properly in more scenarios.</p>\n\n<p>I would also check your maven build configuration (pom.xml) to see if it is using the same version of java as your IDE.  Sometimes when you configuration your IDE, you select a different compilation level (say java 1.8) than your maven pom.xml would use (say Java 1.7).</p>\n"},{"tags":[],"owner":{"account_id":357783,"reputation":5010,"user_id":698168,"display_name":"Julien Kronegg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653941610,"creation_date":1653941610,"answer_id":72439608,"question_id":33395438,"body_markdown":"As I&#39;m using Maven Surefire (which override the `System.out` console writer to ` org.apache.maven.surefire.api.report.ConsoleOutputCapture$ForwardingPrintStream`), I can detect I&#39;m &quot;in Maven&quot;:\r\n\r\n    if (System.out.getClass().getName().contains(&quot;maven&quot;)) {\r\n        // in Maven\r\n    }\r\n\r\nI use this mechanism to have extensive logging when my unit tests are ran interactively from the IDE, but I can reduce logging when the tests are ran &quot;in Maven&quot;.","title":"Check if Java code is running within a Maven plugin","body":"<p>As I'm using Maven Surefire (which override the <code>System.out</code> console writer to <code> org.apache.maven.surefire.api.report.ConsoleOutputCapture$ForwardingPrintStream</code>), I can detect I'm &quot;in Maven&quot;:</p>\n<pre><code>if (System.out.getClass().getName().contains(&quot;maven&quot;)) {\n    // in Maven\n}\n</code></pre>\n<p>I use this mechanism to have extensive logging when my unit tests are ran interactively from the IDE, but I can reduce logging when the tests are ran &quot;in Maven&quot;.</p>\n"}],"owner":{"account_id":2090327,"reputation":8485,"user_id":1860309,"accept_rate":53,"display_name":"Boris Brodski"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1327,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":2,"score":4,"last_activity_date":1653941610,"creation_date":1446046911,"question_id":33395438,"body_markdown":"I&#39;m writing an Xtext-based code generator that may be called:\r\n\r\n* directly (using `main(String[])` method)\r\n* within Eclipse (as an Eclipse code generator plugin)\r\n* through the &#39;xtext-maven-plugin&#39;\r\n\r\nNow I have to workaround some Maven-specific issues. In order to do this I need to know if my code is running within Maven or not.\r\n\r\nMy first idea was to check the `maven.home` system property like this:\r\n\r\n    if (System.getProperty(&quot;maven.home&quot;) != null) {\r\n        // In Maven\r\n    }\r\n\r\nIs there a better way of doing this?\r\n","title":"Check if Java code is running within a Maven plugin","body":"<p>I'm writing an Xtext-based code generator that may be called:</p>\n\n<ul>\n<li>directly (using <code>main(String[])</code> method)</li>\n<li>within Eclipse (as an Eclipse code generator plugin)</li>\n<li>through the 'xtext-maven-plugin'</li>\n</ul>\n\n<p>Now I have to workaround some Maven-specific issues. In order to do this I need to know if my code is running within Maven or not.</p>\n\n<p>My first idea was to check the <code>maven.home</code> system property like this:</p>\n\n<pre><code>if (System.getProperty(\"maven.home\") != null) {\n    // In Maven\n}\n</code></pre>\n\n<p>Is there a better way of doing this?</p>\n"},{"tags":["java","jgit"],"comments":[{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1653411059,"post_id":72362952,"comment_id":127844304,"body_markdown":"I think this is answered here: https://stackoverflow.com/questions/1685228/how-to-cat-a-file-in-jgit If you already know the object ID (i.e. &#39;hash&#39;) of the file, you can skip to the line `ObjectLoader loader = repository.open(objectId);`","body":"I think this is answered here: <a href=\"https://stackoverflow.com/questions/1685228/how-to-cat-a-file-in-jgit\" title=\"how to cat a file in jgit\">stackoverflow.com/questions/1685228/how-to-cat-a-file-in-jgi&zwnj;&#8203;t</a> If you already know the object ID (i.e. &#39;hash&#39;) of the file, you can skip to the line <code>ObjectLoader loader = repository.open(objectId);</code>"},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1653562656,"post_id":72362952,"comment_id":127884326,"body_markdown":"Does this answer your question? [How to &quot;cat&quot; a file in JGit?](https://stackoverflow.com/questions/1685228/how-to-cat-a-file-in-jgit)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1685228/how-to-cat-a-file-in-jgit\">How to &quot;cat&quot; a file in JGit?</a>"},{"owner":{"account_id":25126527,"reputation":1,"user_id":18974264,"display_name":"Siyu Zhou"},"score":0,"creation_date":1653940460,"post_id":72362952,"comment_id":127969068,"body_markdown":"Thank you for your answer. But actually, the post you gave is not what I want. And I found another tutorial which solve my question: https://www.codeaffine.com/2014/10/20/git-internals/","body":"Thank you for your answer. But actually, the post you gave is not what I want. And I found another tutorial which solve my question: <a href=\"https://www.codeaffine.com/2014/10/20/git-internals/\" rel=\"nofollow noreferrer\">codeaffine.com/2014/10/20/git-internals</a>"}],"answers":[{"tags":[],"owner":{"account_id":25126527,"reputation":1,"user_id":18974264,"display_name":"Siyu Zhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653940737,"creation_date":1653940737,"answer_id":72439464,"question_id":72362952,"body_markdown":"I found a tutorial that solves my question: https://www.codeaffine.com/2014/10/20/git-internals/\r\n\r\nHere is the core code in this tutorial that corresponds to the command git file-cat:\r\n\r\n    ObjectReader objectReader = repository.newObjectReader();\r\n    ObjectLoader objectLoader = objectReader.open( blobId );\r\n    int type = objectLoader.getType(); // Constants.OBJ_BLOB\r\n    byte[] bytes = objectLoader.getBytes();\r\n    String helloWorld = new String( bytes, &quot;utf-8&quot; ) // Hello World!\r\n\r\n","title":"Is there a method to find a file by hash in JGit","body":"<p>I found a tutorial that solves my question: <a href=\"https://www.codeaffine.com/2014/10/20/git-internals/\" rel=\"nofollow noreferrer\">https://www.codeaffine.com/2014/10/20/git-internals/</a></p>\n<p>Here is the core code in this tutorial that corresponds to the command git file-cat:</p>\n<pre><code>ObjectReader objectReader = repository.newObjectReader();\nObjectLoader objectLoader = objectReader.open( blobId );\nint type = objectLoader.getType(); // Constants.OBJ_BLOB\nbyte[] bytes = objectLoader.getBytes();\nString helloWorld = new String( bytes, &quot;utf-8&quot; ) // Hello World!\n</code></pre>\n"}],"owner":{"account_id":25126527,"reputation":1,"user_id":18974264,"display_name":"Siyu Zhou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72439464,"answer_count":1,"score":0,"last_activity_date":1653940737,"creation_date":1653395577,"question_id":72362952,"body_markdown":"I am coding a Java program with JGit to handle the local Git repository. I am wondering if there is a way to find a committed file via hash in JGit like what the command git file-cat -p &lt;fileHash&gt; does in the terminal? To be specific, given the hash of a file, the program should return the file content if it has been committed before, otherwise, return null. the file to be retrieved can be from any previous commit.\r\n","title":"Is there a method to find a file by hash in JGit","body":"<p>I am coding a Java program with JGit to handle the local Git repository. I am wondering if there is a way to find a committed file via hash in JGit like what the command git file-cat -p  does in the terminal? To be specific, given the hash of a file, the program should return the file content if it has been committed before, otherwise, return null. the file to be retrieved can be from any previous commit.</p>\n"},{"tags":["java","maven","signals"],"comments":[{"owner":{"account_id":23695794,"reputation":31,"user_id":17719526,"display_name":"Only Fish"},"score":2,"creation_date":1640247516,"post_id":70416439,"comment_id":124551023,"body_markdown":"mvn clean install -DskipTests -Pexclude-abusive-message-filter","body":"mvn clean install -DskipTests -Pexclude-abusive-message-filter"}],"owner":{"account_id":23695794,"reputation":31,"user_id":17719526,"display_name":"Only Fish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1653940441,"creation_date":1639961427,"question_id":70416439,"body_markdown":"\r\nSteps to install and compile. :\r\n```\r\ngit clone https://github.com/signalapp/Signal-Server.git\r\n\r\ncd Signal-Server\r\n\r\nmvn -version\r\nApache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\r\nMaven home: /opt/maven\r\nJava version: 17.0.1, vendor: Oracle Corporation, runtime: /usr/lib/jvm/java-17-oracle\r\nDefault locale: en, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.11.0-1022-aws&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n~/Signal-Server$ java -version\r\njava version &quot;17.0.1&quot; 2021-10-19 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n\r\nmvn clean install -DskipTests\t\r\n\r\njava -jar service/target/TextSecureServer-7.5.1-dirty-SNAPSHOT.jar server config/sample.yml\r\n```\r\nI get this error:\r\n```\r\nno main manifest attribute, in service/target/TextSecureServer-7.5.1-dirty-SNAPSHOT.jar\r\n```\r\n\r\nDoes anyone know how to fix this problem? If more data is needed, I will provide.","title":"TextSecureServer-7.5.1 not run","body":"<p>Steps to install and compile. :</p>\n<pre><code>git clone https://github.com/signalapp/Signal-Server.git\n\ncd Signal-Server\n\nmvn -version\nApache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\nMaven home: /opt/maven\nJava version: 17.0.1, vendor: Oracle Corporation, runtime: /usr/lib/jvm/java-17-oracle\nDefault locale: en, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.11.0-1022-aws&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n\n~/Signal-Server$ java -version\njava version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n\nmvn clean install -DskipTests   \n\njava -jar service/target/TextSecureServer-7.5.1-dirty-SNAPSHOT.jar server config/sample.yml\n</code></pre>\n<p>I get this error:</p>\n<pre><code>no main manifest attribute, in service/target/TextSecureServer-7.5.1-dirty-SNAPSHOT.jar\n</code></pre>\n<p>Does anyone know how to fix this problem? If more data is needed, I will provide.</p>\n"},{"tags":["java","github","jgit"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653940180,"creation_date":1653940180,"answer_id":72439389,"question_id":72375663,"body_markdown":"Even without JGit, you would still need to clone a repository in order to query its log history.\r\n\r\nJGit uses [`git.log().addRange(from, to).call();`][1], with `from` and `to` the [peeled object of the commits][2].\r\n\r\nBut that call is done within a *local* repository.\r\n\r\nFor anything involving a remote repository only, you would need the GitHub API, like its [compare REST API][3], provided you are ready [to manage its pagination][4].  \r\nJGit is likely not involved for that kind of call. A [`gh api` call][5] would.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48806230/6309\r\n  [2]: https://stackoverflow.com/a/44693685/6309\r\n  [3]: https://docs.github.com/en/rest/commits/commits#compare-two-commits=\r\n  [4]: https://stackoverflow.com/a/70509725/6309\r\n  [5]: https://cli.github.com/manual/gh_api","title":"How to get list of commits between any two commits Using Jgit without cloning the repository?","body":"<p>Even without JGit, you would still need to clone a repository in order to query its log history.</p>\n<p>JGit uses <a href=\"https://stackoverflow.com/a/48806230/6309\"><code>git.log().addRange(from, to).call();</code></a>, with <code>from</code> and <code>to</code> the <a href=\"https://stackoverflow.com/a/44693685/6309\">peeled object of the commits</a>.</p>\n<p>But that call is done within a <em>local</em> repository.</p>\n<p>For anything involving a remote repository only, you would need the GitHub API, like its <a href=\"https://docs.github.com/en/rest/commits/commits#compare-two-commits=\" rel=\"nofollow noreferrer\">compare REST API</a>, provided you are ready <a href=\"https://stackoverflow.com/a/70509725/6309\">to manage its pagination</a>.<br />\nJGit is likely not involved for that kind of call. A <a href=\"https://cli.github.com/manual/gh_api\" rel=\"nofollow noreferrer\"><code>gh api</code> call</a> would.</p>\n"}],"owner":{"account_id":25385373,"reputation":29,"user_id":19197244,"display_name":"Akshit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653940180,"creation_date":1653473319,"question_id":72375663,"body_markdown":"So, I was working on a project in which I have to find the list of commits between any two commits, By cloning the repo, we can do it using simple diff, But I want to find a way in which we don&#39;t have to clone the full repo, and find the commits only. ","title":"How to get list of commits between any two commits Using Jgit without cloning the repository?","body":"<p>So, I was working on a project in which I have to find the list of commits between any two commits, By cloning the repo, we can do it using simple diff, But I want to find a way in which we don't have to clone the full repo, and find the commits only.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1653935115,"post_id":72438529,"comment_id":127967820,"body_markdown":"Don&#39;t think you need the closing `/`, but if you&#39;re using a URL, shouldn&#39;t you use the [getReferenceFromUrl](https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase#public-databasereference-getreferencefromurl-string-url) method?","body":"Don&#39;t think you need the closing <code>&#47;</code>, but if you&#39;re using a URL, shouldn&#39;t you use the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase#public-databasereference-getreferencefromurl-string-url\" rel=\"nofollow noreferrer\">getReferenceFromUrl</a> method?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653939868,"creation_date":1653939868,"answer_id":72439330,"question_id":72438529,"body_markdown":"Instead of this:\r\n\r\n```\r\nFirebaseDatabase database = FirebaseDatabase.getInstance();\r\nDatabaseReference myRef = database.getReference(&quot;https://my-application-fe439-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\r\n```\r\n\r\nshould use this:\r\n\r\n```\r\nFirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://my-application-fe439-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\r\nDatabaseReference myRef = database.getReference();\r\n```\r\n\r\nAlso see the documentation on [connecting to the Realtime Database](https://firebase.google.com/docs/database/android/start#write_to_your_database), which says:\r\n\r\n&gt;  To get a reference to a database other than a `us-central1` default database, you must pass the database URL to `getInstance()`.","title":"Firebase store data offline","body":"<p>Instead of this:</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance();\nDatabaseReference myRef = database.getReference(&quot;https://my-application-fe439-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\n</code></pre>\n<p>should use this:</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://my-application-fe439-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\nDatabaseReference myRef = database.getReference();\n</code></pre>\n<p>Also see the documentation on <a href=\"https://firebase.google.com/docs/database/android/start#write_to_your_database\" rel=\"nofollow noreferrer\">connecting to the Realtime Database</a>, which says:</p>\n<blockquote>\n<p>To get a reference to a database other than a <code>us-central1</code> default database, you must pass the database URL to <code>getInstance()</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":18598158,"reputation":27,"user_id":13553617,"display_name":"Emil Mester"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72439330,"answer_count":1,"score":0,"last_activity_date":1653939868,"creation_date":1653934552,"question_id":72438529,"body_markdown":"I&#39;m trying to store the data I get from JSON string so I can use the app offline but I keep getting this error :\r\n\r\n&gt; Caused by: com.google.firebase.database.DatabaseException: Invalid Firebase Database path: https://my-application-fe439-default-rtdb.europe-west1.firebasedatabase.app/. Firebase Database paths must not contain &#39;.&#39;, &#39;#&#39;, &#39;$&#39;, &#39;[&#39;, or &#39;]&#39;  \r\n\r\nMy question is, did I write the code wrong? Cause the path seems good. I tried to remove &quot; - &quot; but I get the same error.                                                                             This is the class where I wrote the code: \r\n\r\n\r\n    public class NutritionPlan1 extends AppCompatActivity {\r\n        private String TAG = MainActivity.class.getSimpleName();\r\n        private ListView lv;\r\n    \r\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; resultList;\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            super.onOptionsItemSelected(item);\r\n            switch (item.getItemId()) {\r\n                case android.R.id.home:\r\n                    finish();\r\n                    break;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_nutrition_plan1);\r\n    \r\n            FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n            DatabaseReference myRef = database.getReference(&quot;https://my-application-fe439-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\r\n    \r\n            myRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    // This method is called once with the initial value and again\r\n                    // whenever data at this location is updated.\r\n                    String value = dataSnapshot.getValue(String.class);\r\n                    Log.d(TAG, &quot;Value is: &quot; + value);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    // Failed to read value\r\n                    Log.w(TAG, &quot;Failed to read value.&quot;, error.toException());\r\n                }\r\n            });\r\n    \r\n            Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n    \r\n            if (getSupportActionBar() != null){\r\n                getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n                getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n            }\r\n    \r\n            resultList = new ArrayList&lt;&gt;();\r\n            lv = (ListView) findViewById(R.id.list);\r\n            new GetContacts().execute();\r\n        }\r\n    \r\n        private class GetContacts extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            @Override\r\n            protected void onPreExecute() {\r\n                super.onPreExecute();\r\n                Toast.makeText(NutritionPlan1.this,&quot;Json Data is downloading&quot;,Toast.LENGTH_LONG).show();\r\n    \r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... arg0) {\r\n                HttpHandler sh = new HttpHandler();\r\n                // Making a request to url and getting response\r\n                String url = &quot;https://api.spoonacular.com/recipes/complexSearch?diet=vegetarian&amp;addRecipeNutrition=true&amp;apiKey=d22842b0ca9148839497a0022902ae97&quot;;\r\n    \r\n                String jsonStr = sh.makeServiceCall(url);\r\n    \r\n    \r\n                Log.e(TAG, &quot;Response from url: &quot; + jsonStr);\r\n                if (jsonStr != null) {\r\n                    try {\r\n                        JSONObject jsonObj = new JSONObject(jsonStr);\r\n    \r\n                        // Getting JSON Array node\r\n                        JSONArray results = jsonObj.getJSONArray(&quot;results&quot;);\r\n    \r\n                        // looping through All items\r\n                        for (int i = 0; i &lt; results.length(); i++) {\r\n                            JSONObject c = results.getJSONObject(i);\r\n                            String title = c.getString(&quot;title&quot;);\r\n                            String healthScore = c.getString(&quot;healthScore&quot;);\r\n                            String servings = c.getString(&quot;servings&quot;);\r\n                            String pricePerServing = c.getString(&quot;pricePerServing&quot;);\r\n                            String readyInMinutes = c.getString(&quot;readyInMinutes&quot;);\r\n    \r\n                            // tmp hash map for single contact\r\n                            HashMap&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n    \r\n                            // adding each child node to HashMap key =&gt; value\r\n                            result.put(&quot;title&quot;,title);\r\n                            result.put(&quot;pricePerServing&quot;,&quot;Cost: &quot; + pricePerServing);\r\n                            result.put(&quot;servings&quot;,&quot;Servings: &quot; + servings);\r\n                            result.put(&quot;healthScore&quot;,&quot;Health Score: &quot; +healthScore);\r\n                            result.put(&quot;readyInMinutes&quot;,&quot;Time to cook: &quot; +readyInMinutes +&quot;minutes&quot; );\r\n    \r\n                            // adding contact to contact list\r\n                            resultList.add(result);\r\n                        }\r\n                    } catch (final JSONException e) {\r\n                        Log.e(TAG, &quot;Json parsing error: &quot; + e.getMessage());\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Toast.makeText(getApplicationContext(),\r\n                                        &quot;Json parsing error: &quot; + e.getMessage(),Toast.LENGTH_LONG).show();\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    Log.e(TAG, &quot;Couldn&#39;t get json from server.&quot;);\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            Toast.makeText(getApplicationContext(),\r\n                                    &quot;Couldn&#39;t get json from server. Check LogCat for possible errors!&quot;,\r\n                                    Toast.LENGTH_LONG).show();\r\n                        }\r\n                    });\r\n                }\r\n    \r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void result) {\r\n                super.onPostExecute(result);\r\n                ListAdapter adapter = new SimpleAdapter(NutritionPlan1.this, resultList,\r\n                        R.layout.list_nutrition_plans, new String[]{ &quot;title&quot;,&quot;pricePerServing&quot;,&quot;servings&quot;,&quot;healthScore&quot;,&quot;readyInMinutes&quot;},\r\n                        new int[]{R.id.title, R.id.pricePerServing,R.id.servings,R.id.healthscore,R.id.readyInMinutes});\r\n                lv.setAdapter(adapter);\r\n            }\r\n        }\r\n    }             ","title":"Firebase store data offline","body":"<p>I'm trying to store the data I get from JSON string so I can use the app offline but I keep getting this error :</p>\n<blockquote>\n<p>Caused by: com.google.firebase.database.DatabaseException: Invalid Firebase Database path: <a href=\"https://my-application-fe439-default-rtdb.europe-west1.firebasedatabase.app/\" rel=\"nofollow noreferrer\">https://my-application-fe439-default-rtdb.europe-west1.firebasedatabase.app/</a>. Firebase Database paths must not contain '.', '#', '$', '[', or ']'</p>\n</blockquote>\n<p>My question is, did I write the code wrong? Cause the path seems good. I tried to remove &quot; - &quot; but I get the same error.                                                                             This is the class where I wrote the code:</p>\n<pre><code>public class NutritionPlan1 extends AppCompatActivity {\n    private String TAG = MainActivity.class.getSimpleName();\n    private ListView lv;\n\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; resultList;\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        super.onOptionsItemSelected(item);\n        switch (item.getItemId()) {\n            case android.R.id.home:\n                finish();\n                break;\n        }\n        return true;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_nutrition_plan1);\n\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n        DatabaseReference myRef = database.getReference(&quot;https://my-application-fe439-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\n\n        myRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                // This method is called once with the initial value and again\n                // whenever data at this location is updated.\n                String value = dataSnapshot.getValue(String.class);\n                Log.d(TAG, &quot;Value is: &quot; + value);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // Failed to read value\n                Log.w(TAG, &quot;Failed to read value.&quot;, error.toException());\n            }\n        });\n\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        if (getSupportActionBar() != null){\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n            getSupportActionBar().setDisplayShowHomeEnabled(true);\n        }\n\n        resultList = new ArrayList&lt;&gt;();\n        lv = (ListView) findViewById(R.id.list);\n        new GetContacts().execute();\n    }\n\n    private class GetContacts extends AsyncTask&lt;Void, Void, Void&gt; {\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            Toast.makeText(NutritionPlan1.this,&quot;Json Data is downloading&quot;,Toast.LENGTH_LONG).show();\n\n        }\n\n        @Override\n        protected Void doInBackground(Void... arg0) {\n            HttpHandler sh = new HttpHandler();\n            // Making a request to url and getting response\n            String url = &quot;https://api.spoonacular.com/recipes/complexSearch?diet=vegetarian&amp;addRecipeNutrition=true&amp;apiKey=d22842b0ca9148839497a0022902ae97&quot;;\n\n            String jsonStr = sh.makeServiceCall(url);\n\n\n            Log.e(TAG, &quot;Response from url: &quot; + jsonStr);\n            if (jsonStr != null) {\n                try {\n                    JSONObject jsonObj = new JSONObject(jsonStr);\n\n                    // Getting JSON Array node\n                    JSONArray results = jsonObj.getJSONArray(&quot;results&quot;);\n\n                    // looping through All items\n                    for (int i = 0; i &lt; results.length(); i++) {\n                        JSONObject c = results.getJSONObject(i);\n                        String title = c.getString(&quot;title&quot;);\n                        String healthScore = c.getString(&quot;healthScore&quot;);\n                        String servings = c.getString(&quot;servings&quot;);\n                        String pricePerServing = c.getString(&quot;pricePerServing&quot;);\n                        String readyInMinutes = c.getString(&quot;readyInMinutes&quot;);\n\n                        // tmp hash map for single contact\n                        HashMap&lt;String, String&gt; result = new HashMap&lt;&gt;();\n\n                        // adding each child node to HashMap key =&gt; value\n                        result.put(&quot;title&quot;,title);\n                        result.put(&quot;pricePerServing&quot;,&quot;Cost: &quot; + pricePerServing);\n                        result.put(&quot;servings&quot;,&quot;Servings: &quot; + servings);\n                        result.put(&quot;healthScore&quot;,&quot;Health Score: &quot; +healthScore);\n                        result.put(&quot;readyInMinutes&quot;,&quot;Time to cook: &quot; +readyInMinutes +&quot;minutes&quot; );\n\n                        // adding contact to contact list\n                        resultList.add(result);\n                    }\n                } catch (final JSONException e) {\n                    Log.e(TAG, &quot;Json parsing error: &quot; + e.getMessage());\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            Toast.makeText(getApplicationContext(),\n                                    &quot;Json parsing error: &quot; + e.getMessage(),Toast.LENGTH_LONG).show();\n                        }\n                    });\n                }\n            } else {\n                Log.e(TAG, &quot;Couldn't get json from server.&quot;);\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        Toast.makeText(getApplicationContext(),\n                                &quot;Couldn't get json from server. Check LogCat for possible errors!&quot;,\n                                Toast.LENGTH_LONG).show();\n                    }\n                });\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n            super.onPostExecute(result);\n            ListAdapter adapter = new SimpleAdapter(NutritionPlan1.this, resultList,\n                    R.layout.list_nutrition_plans, new String[]{ &quot;title&quot;,&quot;pricePerServing&quot;,&quot;servings&quot;,&quot;healthScore&quot;,&quot;readyInMinutes&quot;},\n                    new int[]{R.id.title, R.id.pricePerServing,R.id.servings,R.id.healthscore,R.id.readyInMinutes});\n            lv.setAdapter(adapter);\n        }\n    }\n}             \n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1653939335,"post_id":72438956,"comment_id":127968817,"body_markdown":"Is the Gson tag on your question correct? Gson does not have a `createObjectBuilder()` method.","body":"Is the Gson tag on your question correct? Gson does not have a <code>createObjectBuilder()</code> method."},{"owner":{"account_id":13732279,"reputation":55,"user_id":9909533,"display_name":"Luis Marcelo Santos"},"score":0,"creation_date":1653939434,"post_id":72438956,"comment_id":127968834,"body_markdown":"Good observation, I removed the tag","body":"Good observation, I removed the tag"},{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":1,"creation_date":1653940738,"post_id":72438956,"comment_id":127969127,"body_markdown":"Does this answer your question? [Remove key from a Json inside a JsonObject](https://stackoverflow.com/questions/34092346/remove-key-from-a-json-inside-a-jsonobject)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34092346/remove-key-from-a-json-inside-a-jsonobject\">Remove key from a Json inside a JsonObject</a>"}],"owner":{"account_id":13732279,"reputation":55,"user_id":9909533,"display_name":"Luis Marcelo Santos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653939399,"creation_date":1653937118,"question_id":72438956,"body_markdown":"How to remove a Json key. I looked for some examples on the portal itself, but none solved what I need.\r\n\r\ni need to eliminate a json property, is it possible to do? It is like?\r\n\r\n    import javax.json.Json;\r\n    import javax.json.JsonObject;\r\n        public JsonObject getData() {\t\t\t\t\r\n        \t\tJsonObject jsonObj = Json.createObjectBuilder()\r\n        \t\t\t\t.add(&quot;instanceType&quot;, &quot;XXXXX&quot;)\r\n        \t\t\t.build();\t\t\r\n        \t\treturn jsonObj;\r\n        \t}\r\n    \r\n    the json output is like this:\r\n    \r\n        {\r\n            &quot;instanceType&quot;: {\r\n                &quot;chars&quot;: &quot;XXXXX&quot;,\r\n                &quot;string&quot;: &quot;XXXXX&quot;,\r\n                &quot;valueType&quot;: &quot;STRING&quot;\r\n            }\r\n        }\r\n\r\n\r\nbut I need it to look like this:\r\n\r\n    {\r\n        &quot;instanceType&quot;: {\r\n            &quot;string&quot;: &quot;XXXXXX&quot;,\r\n            &quot;valueType&quot;: &quot;STRING&quot;\r\n        }\r\n    }\r\n\r\n","title":"How to drop key in JsonObject","body":"<p>How to remove a Json key. I looked for some examples on the portal itself, but none solved what I need.</p>\n<p>i need to eliminate a json property, is it possible to do? It is like?</p>\n<pre><code>import javax.json.Json;\nimport javax.json.JsonObject;\n    public JsonObject getData() {               \n            JsonObject jsonObj = Json.createObjectBuilder()\n                    .add(&quot;instanceType&quot;, &quot;XXXXX&quot;)\n                .build();       \n            return jsonObj;\n        }\n\nthe json output is like this:\n\n    {\n        &quot;instanceType&quot;: {\n            &quot;chars&quot;: &quot;XXXXX&quot;,\n            &quot;string&quot;: &quot;XXXXX&quot;,\n            &quot;valueType&quot;: &quot;STRING&quot;\n        }\n    }\n</code></pre>\n<p>but I need it to look like this:</p>\n<pre><code>{\n    &quot;instanceType&quot;: {\n        &quot;string&quot;: &quot;XXXXXX&quot;,\n        &quot;valueType&quot;: &quot;STRING&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","spring-security","spring-webflux","mutual-authentication"],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653939230,"creation_date":1601496034,"answer_id":64144890,"question_id":64126371,"body_markdown":"Yes this is possible. You can even further secure your web application by validating the CN field of a certificate and block it if it doesnt has the correct name. I am not sure if this is possible with Spring Security out of the box, but I know it is possible with AOP by using AspectJ. In this way you can intercept the request after a succesfull ssl handshake and before it enters your controller. I would definitely advise to read this article: [Intro to AspectJ][1] as it would help you to understand the basic concept of the library.\r\n\r\nWhat you can do is create an annotation, for example: AdditionalCertificateValidations which can take a list of allowed and not allowed common names. See below for an implementation. In this way you can decide on every controller which CN you want to allow and not allow.\r\n\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface AdditionalCertificateValidations {\r\n\r\n    String[] allowedCommonNames()       default {};\r\n    String[] notAllowedCommonNames()    default {};\r\n\r\n}\r\n```\r\n\r\nAfterwords you can annotate your controller with the above annotation and specify the common names:\r\n```java\r\n@Controller\r\npublic class HelloWorldController {\r\n\r\n    @AdditionalCertificateValidations(allowedCommonNames = {&quot;my-common-name-a&quot;, &quot;my-common-name-b&quot;}, notAllowedCommonNames = {&quot;my-common-name-c&quot;})\r\n    @GetMapping(value = &quot;/api/hello&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; hello() {\r\n        return ResponseEntity.ok(&quot;Hello&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow you need to provide an implementation for the annotation. The actual class which will intercept the request and also validate the certificate content.\r\n\r\n```java\r\n@Aspect\r\n@Configuration\r\n@EnableAspectJAutoProxy\r\npublic class AdditionalCertificateValidationsAspect {\r\n\r\n    private static final String KEY_CERTIFICATE_ATTRIBUTE = &quot;javax.servlet.request.X509Certificate&quot;;\r\n    private static final Pattern COMMON_NAME_PATTERN = Pattern.compile(&quot;(?&lt;=CN=)(.*?)(?=,)&quot;);\r\n\r\n    @Around(&quot;@annotation(certificateValidations)&quot;)\r\n    public Object validate(ProceedingJoinPoint joinPoint,\r\n                           AdditionalCertificateValidations certificateValidations) throws Throwable {\r\n\r\n        List&lt;String&gt; allowedCommonNames = Arrays.asList(certificateValidations.allowedCommonNames());\r\n        List&lt;String&gt; notAllowedCommonNames = Arrays.asList(certificateValidations.notAllowedCommonNames());\r\n\r\n        Optional&lt;String&gt; allowedCommonName = getCommonNameFromCertificate()\r\n                .filter(commonName -&gt; allowedCommonNames.isEmpty() || allowedCommonNames.contains(commonName))\r\n                .filter(commonName -&gt; notAllowedCommonNames.isEmpty() || !notAllowedCommonNames.contains(commonName));\r\n\r\n        if (allowedCommonName.isPresent()) {\r\n            return joinPoint.proceed();\r\n        } else {\r\n            return ResponseEntity.badRequest().body(&quot;This certificate is not a valid one&quot;);\r\n        }\r\n    }\r\n\r\n    private Optional&lt;String&gt; getCommonNameFromCertificate() {\r\n        return getCertificatesFromRequest()\r\n                .map(Arrays::stream)\r\n                .flatMap(Stream::findFirst)\r\n                .map(X509Certificate::getSubjectX500Principal)\r\n                .map(X500Principal::getName)\r\n                .flatMap(this::getCommonName);\r\n    }\r\n\r\n    private Optional&lt;X509Certificate[]&gt; getCertificatesFromRequest() {\r\n        return Optional.ofNullable((X509Certificate[]) ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes())\r\n                .getRequest()\r\n                .getAttribute(KEY_CERTIFICATE_ATTRIBUTE));\r\n    }\r\n\r\n    private Optional&lt;String&gt; getCommonName(String subjectDistinguishedName) {\r\n        Matcher matcher = COMMON_NAME_PATTERN.matcher(subjectDistinguishedName);\r\n\r\n        if (matcher.find()) {\r\n            return Optional.of(matcher.group());\r\n        } else {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nWith the above configuration a client with the allowed common name will get a 200 status code with the hello message and other clients will get a 400 status code with the message: This certificate is not a valid one. You can use the above options with the following additional library:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe example project can be found here: [GitHub - Java Tutorials][2]\r\n\r\nThe example code snippets can be found here:\r\n\r\n - [AdditionalCertificateValidations][3]\r\n - [AdditionalCertificateValidationsAspect][4]\r\n - [HelloWorldController][5]\r\n\r\n=============== update 1#\r\n\r\nI discovered that the CN name can also be validate with only spring security. See for detailed explanation with examples here: https://www.baeldung.com/x-509-authentication-in-spring-security#2-spring-security-configuration\r\n\r\nFirst you need to tell spring to intercept every request, authorise and authenticate by overriding the `configure` method with your own logic, see below for an example. It will extract the common name field and treat it as a &quot;User Name&quot; and it will check with the UserDetailsService if the user is known. Your controller also needs to be annotated with `@PreAuthorize(&quot;hasAuthority(&#39;ROLE_USER&#39;)&quot;)`\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class X509AuthenticationServer extends WebSecurityConfigurerAdapter {\r\n    ...\r\n \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests().anyRequest().authenticated()\r\n          .and()\r\n          .x509()\r\n            .subjectPrincipalRegex(&quot;CN=(.*?)(?:,|$)&quot;)\r\n            .userDetailsService(userDetailsService());\r\n    }\r\n \r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return new UserDetailsService() {\r\n            @Override\r\n            public UserDetails loadUserByUsername(String username) {\r\n                if (username.equals(&quot;Bob&quot;)) {\r\n                    return new User(username, &quot;&quot;, \r\n                      AuthorityUtils\r\n                        .commaSeparatedStringToAuthorityList(&quot;ROLE_USER&quot;));\r\n                }\r\n                throw new UsernameNotFoundException(&quot;User not found!&quot;);\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\n```\r\n\r\n=============== update 2#\r\n\r\nI somehow missed the point it should be in a non-blocking fashion. The reactive flow is kinda similar to the example provided within the first update above. The following configuration would do the trick for you:\r\n\r\n```java\r\n@Bean\r\npublic SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n    return http\r\n            .x509(Customizer.withDefaults())\r\n            .authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic MapReactiveUserDetailsService mapReactiveUserDetailsService() {\r\n    UserDetails bob = User.withUsername(&quot;Bob&quot;)\r\n            .authorities(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;))\r\n            .password(&quot;&quot;)\r\n            .build();\r\n\r\n    return new MapReactiveUserDetailsService(bob);\r\n}\r\n```\r\n\r\nI created a working example implementation based on the above input, see here for the details: [GitHub - Spring security with common name validation][6]\r\n\r\n\r\n  [1]: https://www.baeldung.com/aspectj\r\n  [2]: https://github.com/Hakky54/java-tutorials\r\n  [3]: https://github.com/Hakky54/java-tutorials/blob/main/spring-cn-validation-with-aop/server-with-cn-validation/src/main/java/nl/altindag/server/aspect/AdditionalCertificateValidations.java\r\n  [4]: https://github.com/Hakky54/java-tutorials/blob/main/spring-cn-validation-with-aop/server-with-cn-validation/src/main/java/nl/altindag/server/aspect/AdditionalCertificateValidationsAspect.java\r\n  [5]: https://github.com/Hakky54/java-tutorials/blob/main/spring-cn-validation-with-aop/server-with-cn-validation/src/main/java/nl/altindag/server/controller/HelloWorldController.java\r\n  [6]: https://github.com/Hakky54/java-tutorials/tree/main/spring-security-cn-validation-for-reactive-server","title":"Spring Webflux Security - authorized endpoint based on client certificate","body":"<p>Yes this is possible. You can even further secure your web application by validating the CN field of a certificate and block it if it doesnt has the correct name. I am not sure if this is possible with Spring Security out of the box, but I know it is possible with AOP by using AspectJ. In this way you can intercept the request after a succesfull ssl handshake and before it enters your controller. I would definitely advise to read this article: <a href=\"https://www.baeldung.com/aspectj\" rel=\"nofollow noreferrer\">Intro to AspectJ</a> as it would help you to understand the basic concept of the library.</p>\n<p>What you can do is create an annotation, for example: AdditionalCertificateValidations which can take a list of allowed and not allowed common names. See below for an implementation. In this way you can decide on every controller which CN you want to allow and not allow.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface AdditionalCertificateValidations {\n\n    String[] allowedCommonNames()       default {};\n    String[] notAllowedCommonNames()    default {};\n\n}\n</code></pre>\n<p>Afterwords you can annotate your controller with the above annotation and specify the common names:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class HelloWorldController {\n\n    @AdditionalCertificateValidations(allowedCommonNames = {&quot;my-common-name-a&quot;, &quot;my-common-name-b&quot;}, notAllowedCommonNames = {&quot;my-common-name-c&quot;})\n    @GetMapping(value = &quot;/api/hello&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\n    public ResponseEntity&lt;String&gt; hello() {\n        return ResponseEntity.ok(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n<p>Now you need to provide an implementation for the annotation. The actual class which will intercept the request and also validate the certificate content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Configuration\n@EnableAspectJAutoProxy\npublic class AdditionalCertificateValidationsAspect {\n\n    private static final String KEY_CERTIFICATE_ATTRIBUTE = &quot;javax.servlet.request.X509Certificate&quot;;\n    private static final Pattern COMMON_NAME_PATTERN = Pattern.compile(&quot;(?&lt;=CN=)(.*?)(?=,)&quot;);\n\n    @Around(&quot;@annotation(certificateValidations)&quot;)\n    public Object validate(ProceedingJoinPoint joinPoint,\n                           AdditionalCertificateValidations certificateValidations) throws Throwable {\n\n        List&lt;String&gt; allowedCommonNames = Arrays.asList(certificateValidations.allowedCommonNames());\n        List&lt;String&gt; notAllowedCommonNames = Arrays.asList(certificateValidations.notAllowedCommonNames());\n\n        Optional&lt;String&gt; allowedCommonName = getCommonNameFromCertificate()\n                .filter(commonName -&gt; allowedCommonNames.isEmpty() || allowedCommonNames.contains(commonName))\n                .filter(commonName -&gt; notAllowedCommonNames.isEmpty() || !notAllowedCommonNames.contains(commonName));\n\n        if (allowedCommonName.isPresent()) {\n            return joinPoint.proceed();\n        } else {\n            return ResponseEntity.badRequest().body(&quot;This certificate is not a valid one&quot;);\n        }\n    }\n\n    private Optional&lt;String&gt; getCommonNameFromCertificate() {\n        return getCertificatesFromRequest()\n                .map(Arrays::stream)\n                .flatMap(Stream::findFirst)\n                .map(X509Certificate::getSubjectX500Principal)\n                .map(X500Principal::getName)\n                .flatMap(this::getCommonName);\n    }\n\n    private Optional&lt;X509Certificate[]&gt; getCertificatesFromRequest() {\n        return Optional.ofNullable((X509Certificate[]) ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes())\n                .getRequest()\n                .getAttribute(KEY_CERTIFICATE_ATTRIBUTE));\n    }\n\n    private Optional&lt;String&gt; getCommonName(String subjectDistinguishedName) {\n        Matcher matcher = COMMON_NAME_PATTERN.matcher(subjectDistinguishedName);\n\n        if (matcher.find()) {\n            return Optional.of(matcher.group());\n        } else {\n            return Optional.empty();\n        }\n    }\n\n}\n</code></pre>\n<p>With the above configuration a client with the allowed common name will get a 200 status code with the hello message and other clients will get a 400 status code with the message: This certificate is not a valid one. You can use the above options with the following additional library:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The example project can be found here: <a href=\"https://github.com/Hakky54/java-tutorials\" rel=\"nofollow noreferrer\">GitHub - Java Tutorials</a></p>\n<p>The example code snippets can be found here:</p>\n<ul>\n<li><a href=\"https://github.com/Hakky54/java-tutorials/blob/main/spring-cn-validation-with-aop/server-with-cn-validation/src/main/java/nl/altindag/server/aspect/AdditionalCertificateValidations.java\" rel=\"nofollow noreferrer\">AdditionalCertificateValidations</a></li>\n<li><a href=\"https://github.com/Hakky54/java-tutorials/blob/main/spring-cn-validation-with-aop/server-with-cn-validation/src/main/java/nl/altindag/server/aspect/AdditionalCertificateValidationsAspect.java\" rel=\"nofollow noreferrer\">AdditionalCertificateValidationsAspect</a></li>\n<li><a href=\"https://github.com/Hakky54/java-tutorials/blob/main/spring-cn-validation-with-aop/server-with-cn-validation/src/main/java/nl/altindag/server/controller/HelloWorldController.java\" rel=\"nofollow noreferrer\">HelloWorldController</a></li>\n</ul>\n<p>=============== update 1#</p>\n<p>I discovered that the CN name can also be validate with only spring security. See for detailed explanation with examples here: <a href=\"https://www.baeldung.com/x-509-authentication-in-spring-security#2-spring-security-configuration\" rel=\"nofollow noreferrer\">https://www.baeldung.com/x-509-authentication-in-spring-security#2-spring-security-configuration</a></p>\n<p>First you need to tell spring to intercept every request, authorise and authenticate by overriding the <code>configure</code> method with your own logic, see below for an example. It will extract the common name field and treat it as a &quot;User Name&quot; and it will check with the UserDetailsService if the user is known. Your controller also needs to be annotated with <code>@PreAuthorize(&quot;hasAuthority('ROLE_USER')&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class X509AuthenticationServer extends WebSecurityConfigurerAdapter {\n    ...\n \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().anyRequest().authenticated()\n          .and()\n          .x509()\n            .subjectPrincipalRegex(&quot;CN=(.*?)(?:,|$)&quot;)\n            .userDetailsService(userDetailsService());\n    }\n \n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new UserDetailsService() {\n            @Override\n            public UserDetails loadUserByUsername(String username) {\n                if (username.equals(&quot;Bob&quot;)) {\n                    return new User(username, &quot;&quot;, \n                      AuthorityUtils\n                        .commaSeparatedStringToAuthorityList(&quot;ROLE_USER&quot;));\n                }\n                throw new UsernameNotFoundException(&quot;User not found!&quot;);\n            }\n        };\n    }\n}\n\n</code></pre>\n<p>=============== update 2#</p>\n<p>I somehow missed the point it should be in a non-blocking fashion. The reactive flow is kinda similar to the example provided within the first update above. The following configuration would do the trick for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n    return http\n            .x509(Customizer.withDefaults())\n            .authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\n            .build();\n}\n\n@Bean\npublic MapReactiveUserDetailsService mapReactiveUserDetailsService() {\n    UserDetails bob = User.withUsername(&quot;Bob&quot;)\n            .authorities(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;))\n            .password(&quot;&quot;)\n            .build();\n\n    return new MapReactiveUserDetailsService(bob);\n}\n</code></pre>\n<p>I created a working example implementation based on the above input, see here for the details: <a href=\"https://github.com/Hakky54/java-tutorials/tree/main/spring-security-cn-validation-for-reactive-server\" rel=\"nofollow noreferrer\">GitHub - Spring security with common name validation</a></p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1386,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":64144890,"answer_count":1,"score":0,"last_activity_date":1653939230,"creation_date":1601407756,"question_id":64126371,"body_markdown":"Question about Spring Security with Webflux.\r\n\r\nI have a SpringBoot Webflux web app with Spring Security. The same app also have SSL Server enabled with keystore and truststore for two way SSL, mTLS.\r\n\r\nAt this point, already, clients trying to request endpoints from my app are failing if they do not have the correct client certificate, this is great! Nothing done on the app layer, just configuring the keystore and truststore, amazing.\r\n\r\nQuestion: Is it possible to further authorize who can access a particular endpoint based on the client certificate itself?\r\n\r\nBy that I mean, maybe with Spring Security, a client client1 coming with a valid client certificate want to request /endpointA will be able to access it if the certificate has a correct CN. But client2 will be rejected to request /endpointA if client2 has the wrong CN.\r\n\r\nVice versa, client A who has the wrong CN will not be able to request /endpointB, only available to client2 that will have the good client2 CN.\r\n\r\nAnd of course, if client3 has the incorrect CN for both /endpointA and /endpointB, client3 will not be able to request any of those (but he has a valid client certificate).\r\n\r\nWould it be possible to provide example with Spring Webflux, (not MVC) please?\r\nFinally, if this possible? How? (code snippet will be great).\r\n\r\nThank you","title":"Spring Webflux Security - authorized endpoint based on client certificate","body":"<p>Question about Spring Security with Webflux.</p>\n<p>I have a SpringBoot Webflux web app with Spring Security. The same app also have SSL Server enabled with keystore and truststore for two way SSL, mTLS.</p>\n<p>At this point, already, clients trying to request endpoints from my app are failing if they do not have the correct client certificate, this is great! Nothing done on the app layer, just configuring the keystore and truststore, amazing.</p>\n<p>Question: Is it possible to further authorize who can access a particular endpoint based on the client certificate itself?</p>\n<p>By that I mean, maybe with Spring Security, a client client1 coming with a valid client certificate want to request /endpointA will be able to access it if the certificate has a correct CN. But client2 will be rejected to request /endpointA if client2 has the wrong CN.</p>\n<p>Vice versa, client A who has the wrong CN will not be able to request /endpointB, only available to client2 that will have the good client2 CN.</p>\n<p>And of course, if client3 has the incorrect CN for both /endpointA and /endpointB, client3 will not be able to request any of those (but he has a valid client certificate).</p>\n<p>Would it be possible to provide example with Spring Webflux, (not MVC) please?\nFinally, if this possible? How? (code snippet will be great).</p>\n<p>Thank you</p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1653932941,"post_id":72436915,"comment_id":127967213,"body_markdown":"@Ayoub Elmo, is that a form login that you&#39;re using? How did you setup your WebSecurityConfigurerAdapter?","body":"@Ayoub Elmo, is that a form login that you&#39;re using? How did you setup your WebSecurityConfigurerAdapter?"},{"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"score":0,"creation_date":1653933957,"post_id":72436915,"comment_id":127967498,"body_markdown":"@dsp_user, Yes I am using formLogin. I also added permition to the login page. I added my WebSecurityConfigurations above.","body":"@dsp_user, Yes I am using formLogin. I also added permition to the login page. I added my WebSecurityConfigurations above."}],"answers":[{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653938912,"creation_date":1653935656,"answer_id":72438717,"question_id":72436915,"body_markdown":"In case of a login error, you can tell Spring to redirect to another page that&#39;ll handle the error (this is done when configuring the Spring web security)\r\n\r\n    ....\r\n    .authenticated().and()\r\n                .formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/loginFailure&quot;)\r\n\r\nIf you don&#39;t specify a page for failed logins, Spring will simply return your login page with an error parameter (e.g /login?error ), You can access this parameter in Thymeleaf and display the error to the user then.\r\n\r\n       &lt;div th:if=&quot;${param.error != null}&quot; &gt;\r\n\t\t\t\t\t\t\r\n\t\t\t&lt;span  &gt;Wrong credentials &lt;/span&gt; \r\n\t\t\t\t\t\t\r\n\t\t&lt;/div&gt;\r\n\r\nAlso, there&#39;s no need to write your endpoint (loginUser in this case) to handle the login process as Spring will do this automatically for you provided that you&#39;ve set up the AuthenticationManager properly.","title":"Trying to get my login page to respond properly to invalid/valid inputs","body":"<p>In case of a login error, you can tell Spring to redirect to another page that'll handle the error (this is done when configuring the Spring web security)</p>\n<pre><code>....\n.authenticated().and()\n            .formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/loginFailure&quot;)\n</code></pre>\n<p>If you don't specify a page for failed logins, Spring will simply return your login page with an error parameter (e.g /login?error ), You can access this parameter in Thymeleaf and display the error to the user then.</p>\n<pre><code>   &lt;div th:if=&quot;${param.error != null}&quot; &gt;\n                    \n        &lt;span  &gt;Wrong credentials &lt;/span&gt; \n                    \n    &lt;/div&gt;\n</code></pre>\n<p>Also, there's no need to write your endpoint (loginUser in this case) to handle the login process as Spring will do this automatically for you provided that you've set up the AuthenticationManager properly.</p>\n"}],"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653938912,"creation_date":1653925488,"question_id":72436915,"body_markdown":"I am currently trying to get my login page (using spring boot/Thymeleaf) to respond to invalid inputs (wrong email/password) by showing the same page but with an additional message saying &quot;Email or Password is incorrect&quot;. Its not working thus far, and it seems like my controller isn&#39;t even interacting with the inputs at all. The reason I think this is because when I submit invalid inputs it doesn&#39;t return to /login like it is specified in the controller&#39;s Post method, instead it goes to &quot;http://localhost:3307/login?error&quot;, which makes me think that the controller&#39;s post method isn&#39;t working at all. Here is my html code (using some bootstrap template) and my UserController.\r\n\r\nHTML code (its maybe a little messy)\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;link href=&quot;//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; id=&quot;bootstrap-css&quot;&gt;\r\n\t\r\n\t\t&lt;script src=&quot;//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t\r\n\t\t&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n\t\t\r\n\t\t&lt;title&gt;Login Page&lt;/title&gt;\r\n\t&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div id=&quot;login&quot;&gt;\r\n        &lt;h3 class=&quot;text-center text-white pt-5&quot;&gt;Login form&lt;/h3&gt;\r\n        &lt;div class=&quot;container&quot;&gt;\r\n            &lt;div id=&quot;login-row&quot; class=&quot;row justify-content-center align-items-center&quot;&gt;\r\n                &lt;div id=&quot;login-column&quot; class=&quot;col-md-6&quot;&gt;\r\n                    &lt;div id=&quot;login-box&quot; class=&quot;col-md-12&quot;&gt;\r\n                            &lt;h3 class=&quot;text-center text-info&quot;&gt;Login&lt;/h3&gt;\r\n                            &lt;form id=&quot;login-form&quot; class=&quot;form&quot; th:action=&quot;@{/login}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\r\n                        \t&lt;p th:if=&quot;${invalidCredentials}&quot; class=&quot;error&quot;&gt;Email or Password is incorrect&lt;/p&gt;\r\n                            &lt;div class=&quot;form-group&quot;&gt;\r\n                                &lt;label for=&quot;email&quot; class=&quot;text-info&quot;&gt;Email:&lt;/label&gt;&lt;br&gt;\r\n                                &lt;input type=&quot;text&quot; name=&quot;email&quot; id=&quot;email&quot; class=&quot;form-control&quot;&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div class=&quot;form-group&quot;&gt;\r\n                                &lt;label for=&quot;password&quot; class=&quot;text-info&quot;&gt;Password:&lt;/label&gt;&lt;br&gt;\r\n                                &lt;input type=&quot;text&quot; name=&quot;password&quot; id=&quot;password&quot; class=&quot;form-control&quot;&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div class=&quot;form-group&quot;&gt;\r\n                                &lt;input type=&quot;submit&quot; name=&quot;submit&quot; class=&quot;btn btn-info btn-md&quot; value=&quot;submit&quot;&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div id=&quot;register-link&quot; class=&quot;text-right&quot;&gt;\r\n                                &lt;a href=&quot;#&quot; class=&quot;text-info&quot;&gt;Register here&lt;/a&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/form&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nMy Controller Class\r\n\r\n```\r\n\r\n@Controller\r\npublic class UserController {\r\n\t\r\n\tUserRepository userRepo;\r\n\tUserService userService;\r\n\t\r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login(Model model) {\r\n\t\tUser user=new User();\r\n\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/login&quot;)\r\n\tpublic String loginUser(@ModelAttribute(&quot;user&quot;) User user, Model model) {\r\n\t\t//Checking if User exists and if information is correct\r\n\t\tif(userRepo.findByEmail(user.getEmail()).isPresent()) {\r\n\t\t\tUserDetails userDetails = userService.loadUserByUsername(user.getEmail());\r\n\r\n\t\t\t//Wrong PassWord\r\n\t\t\tif(!userDetails.getPassword().equals(user.getPassword())) {\r\n\t\t\t\tmodel.addAttribute(&quot;invaldCredentials&quot;, true);\r\n\t\t\t\treturn &quot;login&quot;;\r\n\t\t\t} \r\n\t\t\t//Correct info given, redirecting to home page\r\n\t\t\telse {\r\n\t\t\t\treturn &quot;home&quot;;\r\n\t\t\t}\r\n\t\t} \r\n\t\t//No existing User affiliated with given Email\r\n\t\tmodel.addAttribute(&quot;invalidCredentials&quot;, true);\r\n\t\t\t\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nMy WebSecurityConfigurations\r\n\r\n```\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\tprivate final UserService userService;\r\n\tprivate final BCryptPasswordEncoder passwordEncoder;\r\n\t\r\n\tpublic WebSecurityConfig(UserService userService, BCryptPasswordEncoder passwordEncoder) {\r\n\t\tthis.userService = userService;\r\n\t\tthis.passwordEncoder = passwordEncoder;\r\n\t}\r\n\t\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n        \t.csrf().disable()\r\n            .authorizeHttpRequests()\r\n            \t.antMatchers(&quot;/registration/**&quot;, &quot;/login&quot;)\r\n            \t.permitAll()\r\n            \t.anyRequest()\r\n            \t.authenticated().and()\r\n            \t.formLogin().loginPage(&quot;/login&quot;).permitAll();;\r\n        \r\n        return http.build();\r\n    }\r\n\r\n    \r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\r\n    \t\r\n    }\r\n    \r\n    @Bean\r\n    public DaoAuthenticationProvider daoAutenticationProvider() {\r\n    \tDaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n    \tprovider.setPasswordEncoder(passwordEncoder);\r\n    \tprovider.setUserDetailsService(userService);\r\n    \treturn provider;\r\n    }\r\n}\r\n\r\n```","title":"Trying to get my login page to respond properly to invalid/valid inputs","body":"<p>I am currently trying to get my login page (using spring boot/Thymeleaf) to respond to invalid inputs (wrong email/password) by showing the same page but with an additional message saying &quot;Email or Password is incorrect&quot;. Its not working thus far, and it seems like my controller isn't even interacting with the inputs at all. The reason I think this is because when I submit invalid inputs it doesn't return to /login like it is specified in the controller's Post method, instead it goes to &quot;http://localhost:3307/login?error&quot;, which makes me think that the controller's post method isn't working at all. Here is my html code (using some bootstrap template) and my UserController.</p>\n<p>HTML code (its maybe a little messy)</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n    &lt;head&gt;\n        &lt;link href=&quot;//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; id=&quot;bootstrap-css&quot;&gt;\n    \n        &lt;script src=&quot;//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n        \n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n        \n        &lt;title&gt;Login Page&lt;/title&gt;\n    &lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=&quot;login&quot;&gt;\n        &lt;h3 class=&quot;text-center text-white pt-5&quot;&gt;Login form&lt;/h3&gt;\n        &lt;div class=&quot;container&quot;&gt;\n            &lt;div id=&quot;login-row&quot; class=&quot;row justify-content-center align-items-center&quot;&gt;\n                &lt;div id=&quot;login-column&quot; class=&quot;col-md-6&quot;&gt;\n                    &lt;div id=&quot;login-box&quot; class=&quot;col-md-12&quot;&gt;\n                            &lt;h3 class=&quot;text-center text-info&quot;&gt;Login&lt;/h3&gt;\n                            &lt;form id=&quot;login-form&quot; class=&quot;form&quot; th:action=&quot;@{/login}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\n                            &lt;p th:if=&quot;${invalidCredentials}&quot; class=&quot;error&quot;&gt;Email or Password is incorrect&lt;/p&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n                                &lt;label for=&quot;email&quot; class=&quot;text-info&quot;&gt;Email:&lt;/label&gt;&lt;br&gt;\n                                &lt;input type=&quot;text&quot; name=&quot;email&quot; id=&quot;email&quot; class=&quot;form-control&quot;&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n                                &lt;label for=&quot;password&quot; class=&quot;text-info&quot;&gt;Password:&lt;/label&gt;&lt;br&gt;\n                                &lt;input type=&quot;text&quot; name=&quot;password&quot; id=&quot;password&quot; class=&quot;form-control&quot;&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n                                &lt;input type=&quot;submit&quot; name=&quot;submit&quot; class=&quot;btn btn-info btn-md&quot; value=&quot;submit&quot;&gt;\n                            &lt;/div&gt;\n                            &lt;div id=&quot;register-link&quot; class=&quot;text-right&quot;&gt;\n                                &lt;a href=&quot;#&quot; class=&quot;text-info&quot;&gt;Register here&lt;/a&gt;\n                            &lt;/div&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My Controller Class</p>\n<pre><code>\n@Controller\npublic class UserController {\n    \n    UserRepository userRepo;\n    UserService userService;\n    \n    @GetMapping(&quot;/login&quot;)\n    public String login(Model model) {\n        User user=new User();\n        model.addAttribute(&quot;user&quot;, user);\n        return &quot;login&quot;;\n    }\n    \n    @PostMapping(&quot;/login&quot;)\n    public String loginUser(@ModelAttribute(&quot;user&quot;) User user, Model model) {\n        //Checking if User exists and if information is correct\n        if(userRepo.findByEmail(user.getEmail()).isPresent()) {\n            UserDetails userDetails = userService.loadUserByUsername(user.getEmail());\n\n            //Wrong PassWord\n            if(!userDetails.getPassword().equals(user.getPassword())) {\n                model.addAttribute(&quot;invaldCredentials&quot;, true);\n                return &quot;login&quot;;\n            } \n            //Correct info given, redirecting to home page\n            else {\n                return &quot;home&quot;;\n            }\n        } \n        //No existing User affiliated with given Email\n        model.addAttribute(&quot;invalidCredentials&quot;, true);\n            \n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>My WebSecurityConfigurations</p>\n<pre><code>\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final UserService userService;\n    private final BCryptPasswordEncoder passwordEncoder;\n    \n    public WebSecurityConfig(UserService userService, BCryptPasswordEncoder passwordEncoder) {\n        this.userService = userService;\n        this.passwordEncoder = passwordEncoder;\n    }\n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .authorizeHttpRequests()\n                .antMatchers(&quot;/registration/**&quot;, &quot;/login&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated().and()\n                .formLogin().loginPage(&quot;/login&quot;).permitAll();;\n        \n        return http.build();\n    }\n\n    \n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\n        \n    }\n    \n    @Bean\n    public DaoAuthenticationProvider daoAutenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(userService);\n        return provider;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","json","spring-boot","gson"],"answers":[{"tags":[],"owner":{"account_id":13483165,"reputation":144,"user_id":9727790,"display_name":"Emerson Gonzalez"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1653938295,"creation_date":1653938295,"answer_id":72439114,"question_id":72438943,"body_markdown":"A solution would be to use `Gson` and `JsonObject`\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.JsonObject;\r\n\r\n    try(FileReader reader = new FileReader(&quot;C:\\\\Users\\\\b\\\\Desktop\\\\test.json&quot;)){\r\n                Gson gson = new Gson();\r\n                JsonObject jsonObject = gson.fromJson(reader, JsonObject.class);\r\n                System.out.println(jsonObject);\r\n            } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nthe Output\r\n\r\n    {&quot;name&quot;:&quot;Smith&quot;,&quot;Weight&quot;:42.000,&quot;Height&quot;:160.050}","title":"Reading values from JSON file with exact decimal points with Java","body":"<p>A solution would be to use <code>Gson</code> and <code>JsonObject</code></p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.JsonObject;\n\ntry(FileReader reader = new FileReader(&quot;C:\\\\Users\\\\b\\\\Desktop\\\\test.json&quot;)){\n            Gson gson = new Gson();\n            JsonObject jsonObject = gson.fromJson(reader, JsonObject.class);\n            System.out.println(jsonObject);\n        } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>the Output</p>\n<pre><code>{&quot;name&quot;:&quot;Smith&quot;,&quot;Weight&quot;:42.000,&quot;Height&quot;:160.050}\n</code></pre>\n"}],"owner":{"account_id":25429774,"reputation":33,"user_id":19234383,"display_name":"Sewwandi Nisansala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72439114,"answer_count":1,"score":0,"last_activity_date":1653938295,"creation_date":1653937050,"question_id":72438943,"body_markdown":"I have a json file as below.\r\n```\r\n   {\r\n    &quot;name&quot;: &quot;Smith&quot;,\r\n    &quot;Weight&quot;: 42.000,\r\n    &quot;Height&quot;: 160.050 \r\n   }\r\n```\r\n\r\nI have written the following java code to read this file.\r\n```\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\nimport org.json.simple.parser.ParseException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\npublic class TestFileReaderApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\treadFile();\r\n\t}\r\n\r\n\r\n\tpublic static void readFile()  {\r\n\t\tJSONParser jsonParser = new JSONParser();\r\n\t\tJSONObject requestBody = null;\r\n\t\ttry(FileReader reader = new FileReader(&quot;C:\\\\Users\\\\b\\\\Desktop\\\\test.json&quot;)){\r\n\t\t\trequestBody = (JSONObject) jsonParser.parse(reader);\r\n\t\t\tSystem.out.println(requestBody);\r\n\t\t} catch (IOException | ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nOutput shows as follow:\r\n```\r\n{&quot;name&quot;:&quot;Smith&quot;,&quot;Height&quot;:160.05,&quot;Weight&quot;:42.0}\r\n```\r\n\r\nWhen I debug the program JSON reads 160.050 as 160.05 and 42.000 as 42.0\r\n\r\n  ![Text]( https://i.stack.imgur.com/b413y.png)\r\n\r\nI need Weight and Height values decimal points as it is. The number of decimal points can be changed. How can I read a json file as a JSONObject with the given decimal points?","title":"Reading values from JSON file with exact decimal points with Java","body":"<p>I have a json file as below.</p>\n<pre><code>   {\n    &quot;name&quot;: &quot;Smith&quot;,\n    &quot;Weight&quot;: 42.000,\n    &quot;Height&quot;: 160.050 \n   }\n</code></pre>\n<p>I have written the following java code to read this file.</p>\n<pre><code>import org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class TestFileReaderApplication {\n\n    public static void main(String[] args) {\n        readFile();\n    }\n\n\n    public static void readFile()  {\n        JSONParser jsonParser = new JSONParser();\n        JSONObject requestBody = null;\n        try(FileReader reader = new FileReader(&quot;C:\\\\Users\\\\b\\\\Desktop\\\\test.json&quot;)){\n            requestBody = (JSONObject) jsonParser.parse(reader);\n            System.out.println(requestBody);\n        } catch (IOException | ParseException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Output shows as follow:</p>\n<pre><code>{&quot;name&quot;:&quot;Smith&quot;,&quot;Height&quot;:160.05,&quot;Weight&quot;:42.0}\n</code></pre>\n<p>When I debug the program JSON reads 160.050 as 160.05 and 42.000 as 42.0</p>\n<p><img src=\"https://i.stack.imgur.com/b413y.png\" alt=\"Text\" /></p>\n<p>I need Weight and Height values decimal points as it is. The number of decimal points can be changed. How can I read a json file as a JSONObject with the given decimal points?</p>\n"},{"tags":["java","dictionary","hashmap"],"comments":[{"owner":{"account_id":1416134,"reputation":706,"user_id":1341775,"accept_rate":44,"display_name":"imprezzeb"},"score":2,"creation_date":1541911796,"post_id":53245918,"comment_id":93376915,"body_markdown":"By simply calling the remove(key) that will remove the element with that key.","body":"By simply calling the remove(key) that will remove the element with that key."},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1541911959,"post_id":53245918,"comment_id":93376942,"body_markdown":"What do you mean by a **random** entry?  By whom will the random entry be chosen?","body":"What do you mean by a <b>random</b> entry?  By whom will the random entry be chosen?"},{"owner":{"account_id":12674916,"reputation":85,"user_id":9211086,"display_name":"JennaTools"},"score":0,"creation_date":1541912320,"post_id":53245918,"comment_id":93376989,"body_markdown":"I should&#39;ve been more clear, I generate a random number and then retrieve the value that corresponds with that random number. I need to return the value and then remove the entry from the map.","body":"I should&#39;ve been more clear, I generate a random number and then retrieve the value that corresponds with that random number. I need to return the value and then remove the entry from the map."},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1541912666,"post_id":53245918,"comment_id":93377025,"body_markdown":"Use `.keySet` method on `HashMap` to obtain all the existing keys as a `Set`; use `.toArray` method on the key set to get an array of the keys.  Generate a random number between zero and the size of the key array; get the key `k` at that index, use `.remove(k)` on the `HashMap`.","body":"Use <code>.keySet</code> method on <code>HashMap</code> to obtain all the existing keys as a <code>Set</code>; use <code>.toArray</code> method on the key set to get an array of the keys.  Generate a random number between zero and the size of the key array; get the key <code>k</code> at that index, use <code>.remove(k)</code> on the <code>HashMap</code>."}],"answers":[{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1541911729,"creation_date":1541911729,"answer_id":53245933,"question_id":53245918,"body_markdown":"Maybe `Map#computeIfPresent` would work in your case. From its [documentation](https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#computeIfPresent(K,java.util.function.BiFunction)):\n\n&gt;If the value for the specified key is present and non-null, attempts to compute a new mapping given the key and its current mapped value.\n&gt;\n&gt;If the remapping function returns null, the mapping is removed.\n\n    var map = new HashMap&lt;Integer, String&gt;();\n\n    map.put(1, &quot;One&quot;);\n    map.put(2, &quot;Two&quot;);\n    map.put(3, &quot;Three&quot;);\n\n    map.computeIfPresent(2, (k, v) -&gt; {\n        // `v` is equal to &quot;Two&quot;\n        return null; // Returning `null` removes the entry from the map.\n    });\n\n    System.out.println(map);\n\nThe above code outputs the following:\n\n    {1=One, 3=Three}\n\nIf you were to use a `ConcurrentHashMap`, then this would be an atomic operation.","title":"Java HashMap - How to simultaneously get and then remove a random entry from a HashMap?","body":"<p>Maybe <code>Map#computeIfPresent</code> would work in your case. From its <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#computeIfPresent(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>If the value for the specified key is present and non-null, attempts to compute a new mapping given the key and its current mapped value.</p>\n<p>If the remapping function returns null, the mapping is removed.</p>\n</blockquote>\n<pre><code>var map = new HashMap&lt;Integer, String&gt;();\n\nmap.put(1, &quot;One&quot;);\nmap.put(2, &quot;Two&quot;);\nmap.put(3, &quot;Three&quot;);\n\nmap.computeIfPresent(2, (k, v) -&gt; {\n    // `v` is equal to &quot;Two&quot;\n    return null; // Returning `null` removes the entry from the map.\n});\n\nSystem.out.println(map);\n</code></pre>\n<p>The above code outputs the following:</p>\n<pre><code>{1=One, 3=Three}\n</code></pre>\n<p>If you were to use a <code>ConcurrentHashMap</code>, then this would be an atomic operation.</p>\n"},{"tags":[],"owner":{"account_id":14631957,"reputation":17,"user_id":10567436,"display_name":"Yulo Vallejos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541915816,"creation_date":1541912312,"answer_id":53245979,"question_id":53245918,"body_markdown":"I would do it like this:\r\n\r\n    Hashmap&lt;Integer, Object&gt; example;\r\n    int randomNum = ThreadLocalRandom.current().nextInt(0, example.size());\r\n    example.getValue() //do something\r\n    example.remove(new Integer(randomNum));\r\n","title":"Java HashMap - How to simultaneously get and then remove a random entry from a HashMap?","body":"<p>I would do it like this:</p>\n\n<pre><code>Hashmap&lt;Integer, Object&gt; example;\nint randomNum = ThreadLocalRandom.current().nextInt(0, example.size());\nexample.getValue() //do something\nexample.remove(new Integer(randomNum));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541914851,"creation_date":1541914851,"answer_id":53246157,"question_id":53245918,"body_markdown":"The problem, as I understand it, is this: given a `HashMap` you want to \r\n\r\n 1. Choose a key at random from among the the keys currently associated in the `Map`;\r\n 2. Remove that association of that randomly chosen key from the map; and\r\n 3. Return the value that had, until recently, been associated with that key\r\n\r\nHere&#39;s an example of how to do this, along with some a little test/demonstration routine:\r\n\r\n    public class Main\r\n    {\r\n        private static &lt;K, V&gt; V removeRandomEntry(Map&lt;K, V&gt; map){\r\n            Set&lt;K&gt; keySet = map.keySet();\r\n            List&lt;K&gt; keyList = new ArrayList&lt;&gt;(keySet);\r\n            K keyToRemove = keyList.get((int)(Math.random()*keyList.size()));\r\n            return map.remove(keyToRemove);\r\n        }\r\n\r\n        public static void main(String[] args){\r\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            for(int i = 0; i &lt; 100; ++i)\r\n                map.put(&quot;Key&quot; + i, &quot;Value&quot;+i);\r\n            int pass = 0;\r\n            while (!map.isEmpty())\r\n                System.out.println(&quot;Pass &quot; + (++pass) + &quot;: Removed: &quot; + removeRandomEntry(map));\r\n        }\r\n    }","title":"Java HashMap - How to simultaneously get and then remove a random entry from a HashMap?","body":"<p>The problem, as I understand it, is this: given a <code>HashMap</code> you want to </p>\n\n<ol>\n<li>Choose a key at random from among the the keys currently associated in the <code>Map</code>;</li>\n<li>Remove that association of that randomly chosen key from the map; and</li>\n<li>Return the value that had, until recently, been associated with that key</li>\n</ol>\n\n<p>Here's an example of how to do this, along with some a little test/demonstration routine:</p>\n\n<pre><code>public class Main\n{\n    private static &lt;K, V&gt; V removeRandomEntry(Map&lt;K, V&gt; map){\n        Set&lt;K&gt; keySet = map.keySet();\n        List&lt;K&gt; keyList = new ArrayList&lt;&gt;(keySet);\n        K keyToRemove = keyList.get((int)(Math.random()*keyList.size()));\n        return map.remove(keyToRemove);\n    }\n\n    public static void main(String[] args){\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        for(int i = 0; i &lt; 100; ++i)\n            map.put(\"Key\" + i, \"Value\"+i);\n        int pass = 0;\n        while (!map.isEmpty())\n            System.out.println(\"Pass \" + (++pass) + \": Removed: \" + removeRandomEntry(map));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1653937894,"creation_date":1653937894,"answer_id":72439056,"question_id":53245918,"body_markdown":"The best way to both return and remove the key-value pair from a `HashMap` is by using the `remove(key)` method. This method removes the entry associated with the `key` and returns its corresponding value.\r\n\r\n    Integer randomNumber = new Random().nextInt(10);\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n    String valueOfRandomNumberKey = map.remove(randomNumber);\r\n\r\n","title":"Java HashMap - How to simultaneously get and then remove a random entry from a HashMap?","body":"<p>The best way to both return and remove the key-value pair from a <code>HashMap</code> is by using the <code>remove(key)</code> method. This method removes the entry associated with the <code>key</code> and returns its corresponding value.</p>\n<pre><code>Integer randomNumber = new Random().nextInt(10);\nMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\nString valueOfRandomNumberKey = map.remove(randomNumber);\n</code></pre>\n"}],"owner":{"account_id":12674916,"reputation":85,"user_id":9211086,"display_name":"JennaTools"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7619,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":53245933,"answer_count":4,"score":7,"last_activity_date":1653937894,"creation_date":1541911456,"question_id":53245918,"body_markdown":"I was wondering if it is possible to get a random value from a HashMap and then straight after remove that key/value from the HashMap? I can&#39;t seem to find any method that works, would a different data structure be more appropriate for this?\r\n\r\nEdit:\r\nI should&#39;ve been more clear, I generate a random number and then retrieve the value that corresponds with that random number. I need to return the value and then remove the entry from the map.","title":"Java HashMap - How to simultaneously get and then remove a random entry from a HashMap?","body":"<p>I was wondering if it is possible to get a random value from a HashMap and then straight after remove that key/value from the HashMap? I can't seem to find any method that works, would a different data structure be more appropriate for this?</p>\n\n<p>Edit:\nI should've been more clear, I generate a random number and then retrieve the value that corresponds with that random number. I need to return the value and then remove the entry from the map.</p>\n"},{"tags":["java","algorithm","java-stream"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1653916634,"post_id":72434949,"comment_id":127961464,"body_markdown":"must it be `Stream`? What about the `removeAll()` method? Check [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Set.html#removeAll(java.util.Collection))","body":"must it be <code>Stream</code>? What about the <code>removeAll()</code> method? Check <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Set.html#removeAll(java.util.Collection)\" rel=\"nofollow noreferrer\">documentation</a>"},{"owner":{"account_id":22615747,"reputation":124,"user_id":16795292,"display_name":"don"},"score":2,"creation_date":1653922373,"post_id":72434949,"comment_id":127963817,"body_markdown":"you are right, it should not have been necessarily Stream, however, I did try the removeAll all method, and IntelliJ complained that it may be slow (bcs i was applying it to a Set apparently). Thats why I assumed that the next best choice would be Streams.","body":"you are right, it should not have been necessarily Stream, however, I did try the removeAll all method, and IntelliJ complained that it may be slow (bcs i was applying it to a Set apparently). Thats why I assumed that the next best choice would be Streams."}],"answers":[{"tags":[],"owner":{"account_id":395867,"reputation":2757,"user_id":759049,"accept_rate":96,"display_name":"Pateman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653916712,"creation_date":1653916712,"answer_id":72435004,"question_id":72434949,"body_markdown":"You can take a look at the `removeIf()` method from the `Collection` interface. So you can say something like:\r\n\r\n    theSet.removeIf(theList::contains)\r\n\r\nIt will also return a `boolean` that indicates whether any elements were removed or not.","title":"Remove items from a Set that are present in a List - Streams","body":"<p>You can take a look at the <code>removeIf()</code> method from the <code>Collection</code> interface. So you can say something like:</p>\n<pre><code>theSet.removeIf(theList::contains)\n</code></pre>\n<p>It will also return a <code>boolean</code> that indicates whether any elements were removed or not.</p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653937647,"creation_date":1653917077,"answer_id":72435084,"question_id":72434949,"body_markdown":"If your set is mutable, you could just remove all entries present in your list from the set like so: \r\n\r\n```java\r\ntheSet.removeAll(theList);\r\n```\r\n\r\nSuppose your set is immutable, then you can filter it with a stream resulting in a new set missing the entries present in the list like so:\r\n\r\n```java\r\nvar newSet = theSet.stream()\r\n    .filter(n -&gt; !theList.contains(n))\r\n    .collect(Collectors.toSet());\r\n```\r\n\r\nFor Java 11+ you could use a method reference for the filter predicate via composition:\r\n\r\n```java\r\nvar newSet = theSet.stream()\r\n    .filter(Predicate.not(theList::contains))\r\n    .collect(Collectors.toSet());\r\n```\r\n\r\n## Little note on performance ##\r\nBoth approaches (removeAll and via streams) run in **O(N * M)** where *N* is the size of `theSet` and *M* the size of `theList`. It boils down to two nested for-loops.\r\n\r\nAn easy enhancement would be to turn `theList` into a set and driving the cost of the linear contains check down to an asymptotic runtime of **O(1)**.\r\n\r\n```java\r\nvar numsToExclude = new HashSet&lt;&gt;(theList);\r\nvar newSet = theSet.stream()\r\n    .filter(Predicate.not(numsToExclude::contains))\r\n    .collect(Collectors.toSet());\r\n```","title":"Remove items from a Set that are present in a List - Streams","body":"<p>If your set is mutable, you could just remove all entries present in your list from the set like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>theSet.removeAll(theList);\n</code></pre>\n<p>Suppose your set is immutable, then you can filter it with a stream resulting in a new set missing the entries present in the list like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var newSet = theSet.stream()\n    .filter(n -&gt; !theList.contains(n))\n    .collect(Collectors.toSet());\n</code></pre>\n<p>For Java 11+ you could use a method reference for the filter predicate via composition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var newSet = theSet.stream()\n    .filter(Predicate.not(theList::contains))\n    .collect(Collectors.toSet());\n</code></pre>\n<h2>Little note on performance</h2>\n<p>Both approaches (removeAll and via streams) run in <strong>O(N * M)</strong> where <em>N</em> is the size of <code>theSet</code> and <em>M</em> the size of <code>theList</code>. It boils down to two nested for-loops.</p>\n<p>An easy enhancement would be to turn <code>theList</code> into a set and driving the cost of the linear contains check down to an asymptotic runtime of <strong>O(1)</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var numsToExclude = new HashSet&lt;&gt;(theList);\nvar newSet = theSet.stream()\n    .filter(Predicate.not(numsToExclude::contains))\n    .collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653925322,"creation_date":1653925322,"answer_id":72436877,"question_id":72434949,"body_markdown":"I doubt a stream is as fast as a simple loop consider the streams overhead. You are always going have to iterate over the entire list so I would do it like so. This presumes the original set is immutable.\r\n```\r\nList&lt;Integer&gt; list = List.of(1,2,5,8,9,10);\r\nSet&lt;Integer&gt; set = Set.of(3,4,8,2,1);\r\nSet&lt;Integer&gt; result = new HashSet&lt;&gt;(set);\r\n\t\t\r\nfor(int val : list) {\r\n\t result.remove(val);\r\n}\r\nSystem.out.println(&quot;Before: &quot; + set);\r\nSystem.out.println(&quot;After:  &quot; + result);\r\n```\r\nprints\r\n```\r\nBefore: [1, 8, 4, 3, 2]\r\nAfter:  [3, 4]\r\n\r\n```\r\nSince Sets can&#39;t hold duplicates, encountering duplicates in the removal list won&#39;t affect the outcome.  So if you could gather those in a `Set` rather than a `List` it might offer some improvement.\r\n\r\nFinally, your `Object` to be removed must override `equals` and `hashCode` for the above to work.","title":"Remove items from a Set that are present in a List - Streams","body":"<p>I doubt a stream is as fast as a simple loop consider the streams overhead. You are always going have to iterate over the entire list so I would do it like so. This presumes the original set is immutable.</p>\n<pre><code>List&lt;Integer&gt; list = List.of(1,2,5,8,9,10);\nSet&lt;Integer&gt; set = Set.of(3,4,8,2,1);\nSet&lt;Integer&gt; result = new HashSet&lt;&gt;(set);\n        \nfor(int val : list) {\n     result.remove(val);\n}\nSystem.out.println(&quot;Before: &quot; + set);\nSystem.out.println(&quot;After:  &quot; + result);\n</code></pre>\n<p>prints</p>\n<pre><code>Before: [1, 8, 4, 3, 2]\nAfter:  [3, 4]\n\n</code></pre>\n<p>Since Sets can't hold duplicates, encountering duplicates in the removal list won't affect the outcome.  So if you could gather those in a <code>Set</code> rather than a <code>List</code> it might offer some improvement.</p>\n<p>Finally, your <code>Object</code> to be removed must override <code>equals</code> and <code>hashCode</code> for the above to work.</p>\n"}],"owner":{"account_id":22615747,"reputation":124,"user_id":16795292,"display_name":"don"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72435084,"answer_count":3,"score":1,"last_activity_date":1653937647,"creation_date":1653916456,"question_id":72434949,"body_markdown":"I am trying to remove some objects from a Set (HashSet), but only if they are also present into a List (LinkedList).\r\nHow can I achieve this with Java 8+ features (streams).\r\n\r\n`Set&lt;MyObject&gt; theSet -&gt; want to remove items that are present in the list`\r\n\r\n    List&lt;MyObject&gt; theList\r\n\r\nI have overriden the equals and hashcode for MyObject (use only a few fields for comparison of equality).\r\n","title":"Remove items from a Set that are present in a List - Streams","body":"<p>I am trying to remove some objects from a Set (HashSet), but only if they are also present into a List (LinkedList).\nHow can I achieve this with Java 8+ features (streams).</p>\n<p><code>Set&lt;MyObject&gt; theSet -&gt; want to remove items that are present in the list</code></p>\n<pre><code>List&lt;MyObject&gt; theList\n</code></pre>\n<p>I have overriden the equals and hashcode for MyObject (use only a few fields for comparison of equality).</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1653930844,"post_id":72437776,"comment_id":127966601,"body_markdown":"That&#39;s called a lambda function. Instructions here: https://kotlinlang.org/docs/lambdas.html","body":"That&#39;s called a lambda function. Instructions here: <a href=\"https://kotlinlang.org/docs/lambdas.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/lambdas.html</a>"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1653934956,"post_id":72437776,"comment_id":127967768,"body_markdown":"Yeah, your second one should work if you remove the ``() -&gt;``. The stuff before the arrow is where any variables passed into the lambda are declared, so that ``()`` is confusing it. It looks like the lambda you&#39;re providing takes some parameter, so it&#39;s interpreting it as an ``(Any?) -&gt; Unit``&quot; (a function that takes some object and returns &quot;nothing&quot;) rather than the ``() -&gt; Unit`` function (no parameters) that ``setOnClickListener`` is expecting","body":"Yeah, your second one should work if you remove the <code>() -&gt;</code>. The stuff before the arrow is where any variables passed into the lambda are declared, so that <code>()</code> is confusing it. It looks like the lambda you&#39;re providing takes some parameter, so it&#39;s interpreting it as an <code>(Any?) -&gt; Unit</code>&quot; (a function that takes some object and returns &quot;nothing&quot;) rather than the <code>() -&gt; Unit</code> function (no parameters) that <code>setOnClickListener</code> is expecting"},{"owner":{"account_id":15726141,"reputation":25,"user_id":11347735,"display_name":"Ander Lopez"},"score":0,"creation_date":1653973536,"post_id":72437776,"comment_id":127974299,"body_markdown":"@cactustictacs yep it did, I also try with fun() = ... and it worked","body":"@cactustictacs yep it did, I also try with fun() = ... and it worked"}],"answers":[{"tags":[],"owner":{"account_id":9215190,"reputation":151,"user_id":6846621,"display_name":"j2Milad7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653937458,"creation_date":1653937458,"answer_id":72438997,"question_id":72437776,"body_markdown":"Did you have tried this?\r\n\r\n    val template: MessageTemplate = Builder(&quot;Hello world!&quot;).setTitle(&quot;Hello&quot;)\r\n                .addAction(\r\n                    Builder()\r\n                        .setTitle(&quot;Next screen&quot;)\r\n                        .setOnClickListener { getScreenManager().push(SecondScreen(getCarContext())) }\r\n                        .build()\r\n                )\r\n                .build()","title":"How can I write this Java arrow function in Kotlin","body":"<p>Did you have tried this?</p>\n<pre><code>val template: MessageTemplate = Builder(&quot;Hello world!&quot;).setTitle(&quot;Hello&quot;)\n            .addAction(\n                Builder()\n                    .setTitle(&quot;Next screen&quot;)\n                    .setOnClickListener { getScreenManager().push(SecondScreen(getCarContext())) }\n                    .build()\n            )\n            .build()\n</code></pre>\n"}],"owner":{"account_id":15726141,"reputation":25,"user_id":11347735,"display_name":"Ander Lopez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72438997,"answer_count":1,"score":0,"last_activity_date":1653937458,"creation_date":1653929897,"question_id":72437776,"body_markdown":"I&#39;m new using Kotlin and I have to develop an app for Android Auto. I just did write a code for creating the first Hello World screen but now I wanna add a button for navigate to another screen. The problem is that I did this in Java like the code below but I don&#39;t know how to write this arrow function (```setOnClickListener(() -&gt; getScreenManager().push(new SecondScreen(getCarContext())))```) in Kontlin\r\n\r\nThis is the code in Java:\r\n```\r\npublic Template onGetTemplate() {\r\n        //Row row = new Row.Builder().setTitle(&quot;Hello world&quot;).addText(&quot;Example&quot;).build();\r\n        MessageTemplate template = new MessageTemplate.Builder(&quot;Hello world!&quot;).setTitle(&quot;Hello&quot;)\r\n                .addAction(\r\n                        new Action.Builder()\r\n                                .setTitle(&quot;Next screen&quot;)\r\n                                .setOnClickListener(\r\n                                        () -&gt; getScreenManager().push(new SecondScreen(getCarContext())))\r\n                                .build())\r\n                .build();\r\n        return template;\r\n    }\r\n```\r\n\r\nI have tried with this:\r\n**1)**\r\n```\r\nMessageTemplate.Builder(&quot;Hello world!&quot;).setTitle(&quot;Hello&quot;)\r\n            .addAction(\r\n                Action.Builder()\r\n                    .setTitle(&quot;Next screen&quot;)\r\n                    .setOnClickListener(\r\n                        () -&gt; getScreenManager().push(SecondScreen(getCarContext()))).build()).build()\r\n```\r\n\r\nAnd this:\r\n**2)**\r\n```\r\nMessageTemplate.Builder(&quot;Hello world!&quot;).setTitle(&quot;Hello&quot;)\r\n            .addAction(\r\n                Action.Builder()\r\n                    .setTitle(&quot;Next screen&quot;)\r\n                    .setOnClickListener(\r\n                        {() -&gt; getScreenManager().push(SecondScreen(getCarContext()))}).build()).build()\r\n```\r\nBut I only received these results:\r\n1) Expecting an expression\r\n\r\n2) Expecting a name, Type mismatch: inferred type is (Any?) -&gt; Unit but () -&gt; Unit was expected, Expected no parameters","title":"How can I write this Java arrow function in Kotlin","body":"<p>I'm new using Kotlin and I have to develop an app for Android Auto. I just did write a code for creating the first Hello World screen but now I wanna add a button for navigate to another screen. The problem is that I did this in Java like the code below but I don't know how to write this arrow function (<code>setOnClickListener(() -&gt; getScreenManager().push(new SecondScreen(getCarContext())))</code>) in Kontlin</p>\n<p>This is the code in Java:</p>\n<pre><code>public Template onGetTemplate() {\n        //Row row = new Row.Builder().setTitle(&quot;Hello world&quot;).addText(&quot;Example&quot;).build();\n        MessageTemplate template = new MessageTemplate.Builder(&quot;Hello world!&quot;).setTitle(&quot;Hello&quot;)\n                .addAction(\n                        new Action.Builder()\n                                .setTitle(&quot;Next screen&quot;)\n                                .setOnClickListener(\n                                        () -&gt; getScreenManager().push(new SecondScreen(getCarContext())))\n                                .build())\n                .build();\n        return template;\n    }\n</code></pre>\n<p>I have tried with this:\n<strong>1)</strong></p>\n<pre><code>MessageTemplate.Builder(&quot;Hello world!&quot;).setTitle(&quot;Hello&quot;)\n            .addAction(\n                Action.Builder()\n                    .setTitle(&quot;Next screen&quot;)\n                    .setOnClickListener(\n                        () -&gt; getScreenManager().push(SecondScreen(getCarContext()))).build()).build()\n</code></pre>\n<p>And this:\n<strong>2)</strong></p>\n<pre><code>MessageTemplate.Builder(&quot;Hello world!&quot;).setTitle(&quot;Hello&quot;)\n            .addAction(\n                Action.Builder()\n                    .setTitle(&quot;Next screen&quot;)\n                    .setOnClickListener(\n                        {() -&gt; getScreenManager().push(SecondScreen(getCarContext()))}).build()).build()\n</code></pre>\n<p>But I only received these results:</p>\n<ol>\n<li><p>Expecting an expression</p>\n</li>\n<li><p>Expecting a name, Type mismatch: inferred type is (Any?) -&gt; Unit but () -&gt; Unit was expected, Expected no parameters</p>\n</li>\n</ol>\n"},{"tags":["java","classloader","uniqueidentifier","identifier","local-class"],"answers":[{"tags":[],"owner":{"account_id":25424392,"reputation":69,"user_id":19229766,"display_name":"TwoOfTwelve"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653934377,"creation_date":1653934377,"answer_id":72438494,"question_id":72438283,"body_markdown":"I just compiled the code and ran it on my machine. It works without any problems.\r\n\r\nMaybe try to delete all existing class files and recompile everything.\r\n\r\nOtherwise you can try a different java version, I had similar problems related to that in the past.","title":"Why is there a ClassLoader exception when there are 2 objects with similar type names","body":"<p>I just compiled the code and ran it on my machine. It works without any problems.</p>\n<p>Maybe try to delete all existing class files and recompile everything.</p>\n<p>Otherwise you can try a different java version, I had similar problems related to that in the past.</p>\n"},{"tags":[],"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653935768,"creation_date":1653935768,"answer_id":72438738,"question_id":72438283,"body_markdown":"On Windows, file names are case-insensitive.  This means that files called Something$ABC.class and Something$Abc.class cannot be distinguished.\r\n\r\nMeanwhile, of course, the language itself is case-sensitive, and expects the file name and the name of the class within the file to match.\r\n\r\nYour only recourse seems to be to rename either the class or the interface.\r\n","title":"Why is there a ClassLoader exception when there are 2 objects with similar type names","body":"<p>On Windows, file names are case-insensitive.  This means that files called Something$ABC.class and Something$Abc.class cannot be distinguished.</p>\n<p>Meanwhile, of course, the language itself is case-sensitive, and expects the file name and the name of the class within the file to match.</p>\n<p>Your only recourse seems to be to rename either the class or the interface.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1656,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72438738,"answer_count":2,"score":3,"last_activity_date":1653935768,"creation_date":1653932968,"question_id":72438283,"body_markdown":"I have a class with 2 methods.\r\n\r\n- In `method1()`, I create a `local record` called `Abc`. This `local record` is only available to `method1()` because it was ***defined*** in `method1()` ([here are the rules on it according to Java][1]).\r\n\r\n- In `method2()`, I create a `local interface` called `ABC`. Notice that there is a capitalization difference here. The `local record` was named `Abc`, but this `local interface` is named `ABC`.\r\n\r\nHere is the class.\r\n\r\n```java\r\n//package ..... //commenting out package information, as I sincerely doubt that is the cause\r\n\r\n/** There seems to be a class loader error when running the below method in main(). */\r\npublic class ClassLoaderIssue\r\n{\r\n\r\n   /** Method 1. */\r\n   private void method1()\r\n   {\r\n   \r\n      record Abc(int a)\r\n      {\r\n      \r\n         public static String iDontCare()\r\n         {\r\n         \r\n            return &quot;ignore this method&quot;;\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      System.out.println(Abc.iDontCare()); //error\r\n   \r\n   }\r\n   \r\n   /** Method 2. */\r\n   private void method2()\r\n   {\r\n   \r\n      interface ABC\r\n      {\r\n      \r\n      }\r\n      \r\n   }\r\n   \r\n \r\n   /**\r\n    * \r\n    * Main method.\r\n    * \r\n    * @param   args  commandline arguments that we don&#39;t care about for this example.\r\n    * \r\n    */\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      new ClassLoaderIssue().method1();\r\n   \r\n   }\r\n   \r\n}\r\n```\r\n\r\nAnd here is the Exception that I get.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: ClassLoaderIssue$1ABC (wrong name: ClassLoaderIssue$1Abc)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat ClassLoaderIssue.method1(ClassLoaderIssue.java:23)\r\n\tat ClassLoaderIssue.main(ClassLoaderIssue.java:49)\r\n```\r\n\r\nAnd here is some relevant information.\r\n\r\n```\r\nJava compile command = C:\\Program Files\\Java\\jdk-17.0.2\\bin\\javac.exe\r\nJava run command = C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe\r\n```\r\n\r\nObviously, this is just a runnable example of the problem, but I have a situation where it is extremely convenient and helpful to have `local class/enum/record` to handle weird state at the very edges of my domain. Therefore, I use this pattern a lot, but this is the first time I have come across this issue.\r\n\r\nNow obviously, there are many ways to go around this. The simplest being that I could just rename the enum for one. I already tried that and that worked. Same for the interface.\r\n\r\nBut why does this happen?\r\n\r\n**EDIT** - I also tested this with Java 18 and got the same result. I used a brand new file, a brand new folder, and I copied and pasted the text (not the file), into an empty file with the same name. Same error. I can&#39;t really get a cleaner test than that.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.3","title":"Why is there a ClassLoader exception when there are 2 objects with similar type names","body":"<p>I have a class with 2 methods.</p>\n<ul>\n<li><p>In <code>method1()</code>, I create a <code>local record</code> called <code>Abc</code>. This <code>local record</code> is only available to <code>method1()</code> because it was <em><strong>defined</strong></em> in <code>method1()</code> (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.3\" rel=\"nofollow noreferrer\">here are the rules on it according to Java</a>).</p>\n</li>\n<li><p>In <code>method2()</code>, I create a <code>local interface</code> called <code>ABC</code>. Notice that there is a capitalization difference here. The <code>local record</code> was named <code>Abc</code>, but this <code>local interface</code> is named <code>ABC</code>.</p>\n</li>\n</ul>\n<p>Here is the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//package ..... //commenting out package information, as I sincerely doubt that is the cause\n\n/** There seems to be a class loader error when running the below method in main(). */\npublic class ClassLoaderIssue\n{\n\n   /** Method 1. */\n   private void method1()\n   {\n   \n      record Abc(int a)\n      {\n      \n         public static String iDontCare()\n         {\n         \n            return &quot;ignore this method&quot;;\n         \n         }\n      \n      }\n      \n      System.out.println(Abc.iDontCare()); //error\n   \n   }\n   \n   /** Method 2. */\n   private void method2()\n   {\n   \n      interface ABC\n      {\n      \n      }\n      \n   }\n   \n \n   /**\n    * \n    * Main method.\n    * \n    * @param   args  commandline arguments that we don't care about for this example.\n    * \n    */\n   public static void main(String[] args)\n   {\n   \n      new ClassLoaderIssue().method1();\n   \n   }\n   \n}\n</code></pre>\n<p>And here is the Exception that I get.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: ClassLoaderIssue$1ABC (wrong name: ClassLoaderIssue$1Abc)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at ClassLoaderIssue.method1(ClassLoaderIssue.java:23)\n    at ClassLoaderIssue.main(ClassLoaderIssue.java:49)\n</code></pre>\n<p>And here is some relevant information.</p>\n<pre><code>Java compile command = C:\\Program Files\\Java\\jdk-17.0.2\\bin\\javac.exe\nJava run command = C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe\n</code></pre>\n<p>Obviously, this is just a runnable example of the problem, but I have a situation where it is extremely convenient and helpful to have <code>local class/enum/record</code> to handle weird state at the very edges of my domain. Therefore, I use this pattern a lot, but this is the first time I have come across this issue.</p>\n<p>Now obviously, there are many ways to go around this. The simplest being that I could just rename the enum for one. I already tried that and that worked. Same for the interface.</p>\n<p>But why does this happen?</p>\n<p><strong>EDIT</strong> - I also tested this with Java 18 and got the same result. I used a brand new file, a brand new folder, and I copied and pasted the text (not the file), into an empty file with the same name. Same error. I can't really get a cleaner test than that.</p>\n"},{"tags":["java","date","datetime-format"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1653917574,"post_id":72435074,"comment_id":127961825,"body_markdown":"Are the two machines using the same Java version? I got the Ubuntu output on my mac book, with Java 17.","body":"Are the two machines using the same Java version? I got the Ubuntu output on my mac book, with Java 17."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1653917642,"post_id":72435074,"comment_id":127961863,"body_markdown":"What&#39;s the Locale on each machine?","body":"What&#39;s the Locale on each machine?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653917924,"post_id":72435074,"comment_id":127961973,"body_markdown":"@Sweeper Hm. I got the &quot;2022-19&quot; output on my Mac (m1 air), with Java 17 (Zulu 17.28.13). Default Locale en_GB","body":"@Sweeper Hm. I got the &quot;2022-19&quot; output on my Mac (m1 air), with Java 17 (Zulu 17.28.13). Default Locale en_GB"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1653918037,"post_id":72435074,"comment_id":127962019,"body_markdown":"@Michael Ah must be a locale/start of week problem then. I set the locale to `Locale.UK` and it output `2022-19`.","body":"@Michael Ah must be a locale/start of week problem then. I set the locale to <code>Locale.UK</code> and it output <code>2022-19</code>."},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1653918122,"post_id":72435074,"comment_id":127962053,"body_markdown":"Yeah, looks like it&#39;s Locale problem, but when I supply locale to DateTimeFormatter with `.ofLocale()` it did not help","body":"Yeah, looks like it&#39;s Locale problem, but when I supply locale to DateTimeFormatter with <code>.ofLocale()</code> it did not help"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653918200,"post_id":72435074,"comment_id":127962092,"body_markdown":"@ByeBye Please edit your question to include the default Locale from each machine (`Locale.getDefault()`).","body":"@ByeBye Please edit your question to include the default Locale from each machine (<code>Locale.getDefault()</code>)."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1653919260,"post_id":72435074,"comment_id":127962511,"body_markdown":"`new Locale(&quot;en_GB&quot;)` is not the correct way to make a `Locale` object... Just do `Locale.UK`? I even wrote that in my comment...","body":"<code>new Locale(&quot;en_GB&quot;)</code> is not the correct way to make a <code>Locale</code> object... Just do <code>Locale.UK</code>? I even wrote that in my comment..."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1653920257,"post_id":72435074,"comment_id":127962881,"body_markdown":"The *entire* pattern is locale specific. See [`ofPattern`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#withLocale-java.util.Locale-): &quot;... The formatter will use the default FORMAT locale...&quot;","body":"The <i>entire</i> pattern is locale specific. See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#withLocale-java.util.Locale-\" rel=\"nofollow noreferrer\"><code>ofPattern</code></a>: &quot;... The formatter will use the default FORMAT locale...&quot;"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1653920344,"post_id":72435074,"comment_id":127962926,"body_markdown":"*Still, the question is why pattern `ww` is Locale specific?* Which week number would you expect to have if not the week number of the formatters locale? Locales do not have the same week numbers, they dont even begin a new week on the same day-of-week.","body":"<i>Still, the question is why pattern <code>ww</code> is Locale specific?</i> Which week number would you expect to have if not the week number of the formatters locale? Locales do not have the same week numbers, they dont even begin a new week on the same day-of-week."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1653920663,"post_id":72435074,"comment_id":127963053,"body_markdown":"If I remember correctly, weeks start on Sundays in the US (and on Mondays in UK).","body":"If I remember correctly, weeks start on Sundays in the US (and on Mondays in UK)."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1653932954,"creation_date":1653921011,"answer_id":72435981,"question_id":72435074,"body_markdown":"In the US locale, the first week of the year can have one to seven days, whereas in the UK, the first week of the year needs to have at least 4 days.\r\n\r\n```\r\nWeekFields.of(Locale.UK).getMinimalDaysInFirstWeek() // 4\r\nWeekFields.of(Locale.US).getMinimalDaysInFirstWeek() // 1\r\n```\r\n\r\nAlso, a US week starts on a Sunday, whereas a UK week starts on a Monday.\r\n\r\nThis means that for the US, the first week of 2022 is the single Saturday of 2022-01-01, and 2022-01-02 is the start of the second week. On the other hand, for the UK, the first week of 2022 starts from 2022-01-03, since the first two days of the year don&#39;t form a week. And this is where that extra week for the US machine came about.\r\n\r\nWhen creating a `DateTimeFormatter` using [`ofPattern`][1], the default formatting locale of the machine is used:\r\n\r\n&gt; The formatter will use the [default FORMAT locale][2]. This can be changed using `withLocale(Locale)` on the returned formatter\r\n\r\nHence the difference.\r\n\r\nI suppose you want standard [ISO 8601 weeks][3] here, and not want anything to do with locales. One way to do this is to construct a `DateTimeFormatter` using `IsoFields`:\r\n\r\n    var dtf = new DateTimeFormatterBuilder()\r\n      .  appendValue(IsoFields.WEEK_BASED_YEAR, 4)\r\n        .appendLiteral(&#39;-&#39;)\r\n        .appendValue(IsoFields.WEEK_OF_WEEK_BASED_YEAR, 2)\r\n        .toFormatter().withZone(ZoneOffset.UTC);\r\n    System.out.println(\r\n        dtf.format(Instant.parse(&quot;2022-05-10T00:00:00.00Z&quot;))\r\n    );\r\n    System.out.println(\r\n        dtf.format(Instant.parse(&quot;2022-05-17T00:00:00.00Z&quot;))\r\n    );\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#withLocale-java.util.Locale-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#getDefault-java.util.Locale.Category-\r\n  [3]: https://en.wikipedia.org/wiki/ISO_week_date\r\n","title":"DateTimeFormatter of YYYY-ww resolves differently on mac and ubuntu","body":"<p>In the US locale, the first week of the year can have one to seven days, whereas in the UK, the first week of the year needs to have at least 4 days.</p>\n<pre><code>WeekFields.of(Locale.UK).getMinimalDaysInFirstWeek() // 4\nWeekFields.of(Locale.US).getMinimalDaysInFirstWeek() // 1\n</code></pre>\n<p>Also, a US week starts on a Sunday, whereas a UK week starts on a Monday.</p>\n<p>This means that for the US, the first week of 2022 is the single Saturday of 2022-01-01, and 2022-01-02 is the start of the second week. On the other hand, for the UK, the first week of 2022 starts from 2022-01-03, since the first two days of the year don't form a week. And this is where that extra week for the US machine came about.</p>\n<p>When creating a <code>DateTimeFormatter</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#withLocale-java.util.Locale-\" rel=\"nofollow noreferrer\"><code>ofPattern</code></a>, the default formatting locale of the machine is used:</p>\n<blockquote>\n<p>The formatter will use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#getDefault-java.util.Locale.Category-\" rel=\"nofollow noreferrer\">default FORMAT locale</a>. This can be changed using <code>withLocale(Locale)</code> on the returned formatter</p>\n</blockquote>\n<p>Hence the difference.</p>\n<p>I suppose you want standard <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">ISO 8601 weeks</a> here, and not want anything to do with locales. One way to do this is to construct a <code>DateTimeFormatter</code> using <code>IsoFields</code>:</p>\n<pre><code>var dtf = new DateTimeFormatterBuilder()\n  .  appendValue(IsoFields.WEEK_BASED_YEAR, 4)\n    .appendLiteral('-')\n    .appendValue(IsoFields.WEEK_OF_WEEK_BASED_YEAR, 2)\n    .toFormatter().withZone(ZoneOffset.UTC);\nSystem.out.println(\n    dtf.format(Instant.parse(&quot;2022-05-10T00:00:00.00Z&quot;))\n);\nSystem.out.println(\n    dtf.format(Instant.parse(&quot;2022-05-17T00:00:00.00Z&quot;))\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653935511,"creation_date":1653934608,"answer_id":72438534,"question_id":72435074,"body_markdown":"# Definition of week varies by locale\r\n\r\nThe [Answer by Sweeper][1] is correct. There are several definitions of a week, and they vary by locale. \r\n\r\nYou asked: \r\n\r\n&gt; Still, the question is why pattern ww is Locale specific? \r\n\r\nBecause the definition of *week* is cultural. \r\n\r\nEven limiting our scope to the seven-day week currently common in the West, which of those seven days is first day of the week? Monday is common in Europe &#127466;&#127482;, while the US &#127482;&#127480; uses Sunday. Should week # 1 start with the first occurrence of that first day of week? Or should the week start with January 1? \r\n\r\n# ISO 8601 standard\r\n\r\nIf you want consistency, consider using the standard [ISO 8601][2] week definition:\r\n\r\n - Monday is first day of week, Sunday last.\r\n - Week # 1 contains the first Thursday of the calendar year.\r\n - A week-based year has either 52 or 53 complete 7-day weeks.\r\n - The first and last week may have zero or more days from the previous/next Calendar year, respectively. \r\n\r\nThe standard format is four-digit year, hyphen, a `W`, and two digits for week number. The standard formats are cleverly designed to avoid ambiguity, be easily parsed by machine, and be understandable by humans across cultures. \r\n\r\nTo work with ISO 8601 weeks, I suggest adding the [*ThreeTen-Extra*](https://www.threeten.org/threeten-extra/) library to your project for its [`YearWeek`](https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/YearWeek.html) class.\r\n\r\n    YearWeek yw = YearWeek.parse( &quot;2022-W19&quot; ) ;\r\n    String output = yw.toString() ;\r\n\r\nGet year-week by date. \r\n\r\n    LocalDate ld = LocalDate.parse( &quot;2022-05-10&quot; ) ;\r\n    YearWeek yw = YearWeek.from( ld ) ;\r\n\r\nGet year-week from a moment in UTC represented by text in standard ISO 8601 format. The `Z` on the end seen below means an offset from UTC of zero hours-minutes-seconds, and is pronounced Zulu. \r\n\r\n    String input = &quot;2022-05-10T00:00:00.00Z&quot; ; \r\n    Instant instant = Instant.parse( input ) ;\r\n    OffsetDateTime odt = instant.at( ZoneOffset.UTC ) ;\r\n    YearWeek yw = YearWeek.from( odt ) ; \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72435981/642706\r\n  [2]: https://en.wikipedia.org/wiki/ISO_week_date","title":"DateTimeFormatter of YYYY-ww resolves differently on mac and ubuntu","body":"<h1>Definition of week varies by locale</h1>\n<p>The <a href=\"https://stackoverflow.com/a/72435981/642706\">Answer by Sweeper</a> is correct. There are several definitions of a week, and they vary by locale.</p>\n<p>You asked:</p>\n<blockquote>\n<p>Still, the question is why pattern ww is Locale specific?</p>\n</blockquote>\n<p>Because the definition of <em>week</em> is cultural.</p>\n<p>Even limiting our scope to the seven-day week currently common in the West, which of those seven days is first day of the week? Monday is common in Europe , while the US  uses Sunday. Should week # 1 start with the first occurrence of that first day of week? Or should the week start with January 1?</p>\n<h1>ISO 8601 standard</h1>\n<p>If you want consistency, consider using the standard <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">ISO 8601</a> week definition:</p>\n<ul>\n<li>Monday is first day of week, Sunday last.</li>\n<li>Week # 1 contains the first Thursday of the calendar year.</li>\n<li>A week-based year has either 52 or 53 complete 7-day weeks.</li>\n<li>The first and last week may have zero or more days from the previous/next Calendar year, respectively.</li>\n</ul>\n<p>The standard format is four-digit year, hyphen, a <code>W</code>, and two digits for week number. The standard formats are cleverly designed to avoid ambiguity, be easily parsed by machine, and be understandable by humans across cultures.</p>\n<p>To work with ISO 8601 weeks, I suggest adding the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project for its <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a> class.</p>\n<pre><code>YearWeek yw = YearWeek.parse( &quot;2022-W19&quot; ) ;\nString output = yw.toString() ;\n</code></pre>\n<p>Get year-week by date.</p>\n<pre><code>LocalDate ld = LocalDate.parse( &quot;2022-05-10&quot; ) ;\nYearWeek yw = YearWeek.from( ld ) ;\n</code></pre>\n<p>Get year-week from a moment in UTC represented by text in standard ISO 8601 format. The <code>Z</code> on the end seen below means an offset from UTC of zero hours-minutes-seconds, and is pronounced Zulu.</p>\n<pre><code>String input = &quot;2022-05-10T00:00:00.00Z&quot; ; \nInstant instant = Instant.parse( input ) ;\nOffsetDateTime odt = instant.at( ZoneOffset.UTC ) ;\nYearWeek yw = YearWeek.from( odt ) ; \n</code></pre>\n"}],"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72435981,"answer_count":2,"score":2,"last_activity_date":1653935511,"creation_date":1653917056,"question_id":72435074,"body_markdown":"    System.out.println(\r\n        DateTimeFormatter.ofPattern(&quot;YYYY-ww&quot;).withZone(ZoneOffset.UTC).format(Instant.parse(&quot;2022-05-10T00:00:00.00Z&quot;))\r\n    );\r\n    System.out.println(\r\n        DateTimeFormatter.ofPattern(&quot;YYYY-ww&quot;).withZone(ZoneOffset.UTC).format(Instant.parse(&quot;2022-05-17T00:00:00.00Z&quot;))\r\n    );\r\n\r\nWhy this pattern `YYYY-ww` resolves differently on Ubuntu and Mac:\r\n\r\n**Ubuntu**: (default locale en_US, my computer)\r\n    \r\n    2022-20\r\n    2022-21\r\n\r\n**Mac:** (default locale en_GB)\r\n    \r\n    2022-19\r\n    2022-20\r\n\r\n**EDIT**\r\n\r\n\r\n    System.out.println(\r\n        DateTimeFormatter.ofPattern(&quot;YYYY-ww&quot;).withLocale(Locale.UK).withZone(ZoneOffset.UTC).format(Instant.parse(&quot;2022-05-10T00:00:00.00Z&quot;))\r\n    );\r\n    System.out.println(\r\n        DateTimeFormatter.ofPattern(&quot;YYYY-ww&quot;).withLocale(Locale.UK).withZone(ZoneOffset.UTC).format(Instant.parse(&quot;2022-05-17T00:00:00.00Z&quot;))\r\n    );\r\n\r\nreturns:\r\n\r\n    2022-19\r\n    2022-20 \r\n\r\nStill, the question is why pattern `ww` is Locale specific? I don&#39;t see that in documentation for https://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html\r\nor https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html ","title":"DateTimeFormatter of YYYY-ww resolves differently on mac and ubuntu","body":"<pre><code>System.out.println(\n    DateTimeFormatter.ofPattern(&quot;YYYY-ww&quot;).withZone(ZoneOffset.UTC).format(Instant.parse(&quot;2022-05-10T00:00:00.00Z&quot;))\n);\nSystem.out.println(\n    DateTimeFormatter.ofPattern(&quot;YYYY-ww&quot;).withZone(ZoneOffset.UTC).format(Instant.parse(&quot;2022-05-17T00:00:00.00Z&quot;))\n);\n</code></pre>\n<p>Why this pattern <code>YYYY-ww</code> resolves differently on Ubuntu and Mac:</p>\n<p><strong>Ubuntu</strong>: (default locale en_US, my computer)</p>\n<pre><code>2022-20\n2022-21\n</code></pre>\n<p><strong>Mac:</strong> (default locale en_GB)</p>\n<pre><code>2022-19\n2022-20\n</code></pre>\n<p><strong>EDIT</strong></p>\n<pre><code>System.out.println(\n    DateTimeFormatter.ofPattern(&quot;YYYY-ww&quot;).withLocale(Locale.UK).withZone(ZoneOffset.UTC).format(Instant.parse(&quot;2022-05-10T00:00:00.00Z&quot;))\n);\nSystem.out.println(\n    DateTimeFormatter.ofPattern(&quot;YYYY-ww&quot;).withLocale(Locale.UK).withZone(ZoneOffset.UTC).format(Instant.parse(&quot;2022-05-17T00:00:00.00Z&quot;))\n);\n</code></pre>\n<p>returns:</p>\n<pre><code>2022-19\n2022-20 \n</code></pre>\n<p>Still, the question is why pattern <code>ww</code> is Locale specific? I don't see that in documentation for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html</a>\nor <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a></p>\n"},{"tags":["java","arraylist","pageable"],"owner":{"account_id":13010317,"reputation":13,"user_id":9403597,"display_name":"Diogo Zucchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653935450,"creation_date":1653935450,"question_id":72438679,"body_markdown":"I basically need to create an ordered pagination through a list of objects.\r\nI ended up creating a method that returns the pagination, although the ordering is still not working, I would like to know if there is any other better way that is, i&#39;m using Java 11.\r\n\r\n    private Page&lt;UsuarioDto&gt; paginationUsuariosDto(List&lt;UsuarioDto&gt; usuarios, Integer page, Integer size, Sort sort) {\r\n        PageRequest pageable = PageRequest.of(page, size, sort);\r\n        int max = (size*(page+1)&gt;usuarios.size()) ? usuarios.size() : size*(page+1);\r\n        Page&lt;UsuarioDto&gt; usuarioDtoPage = new PageImpl&lt;&gt;(usuarios.subList(page * size, max), pageable, usuarios.size());\r\n        return usuarioDtoPage;\r\n    }","title":"Create a Pagination by ArrayList","body":"<p>I basically need to create an ordered pagination through a list of objects.\nI ended up creating a method that returns the pagination, although the ordering is still not working, I would like to know if there is any other better way that is, i'm using Java 11.</p>\n<pre><code>private Page&lt;UsuarioDto&gt; paginationUsuariosDto(List&lt;UsuarioDto&gt; usuarios, Integer page, Integer size, Sort sort) {\n    PageRequest pageable = PageRequest.of(page, size, sort);\n    int max = (size*(page+1)&gt;usuarios.size()) ? usuarios.size() : size*(page+1);\n    Page&lt;UsuarioDto&gt; usuarioDtoPage = new PageImpl&lt;&gt;(usuarios.subList(page * size, max), pageable, usuarios.size());\n    return usuarioDtoPage;\n}\n</code></pre>\n"},{"tags":["java","bitset"],"answers":[{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653934375,"creation_date":1653933439,"answer_id":72438342,"question_id":72438292,"body_markdown":"Your `Bitset` creates an underlying `long[]` to store the values. Reading the code of `Bitset#set`, I would say it&#39;s safe to say that the array will never be larger than `max(nums) / 64 * 2 = max(nums) / 32`. Since `long` has a fixed size, this comes down to `O(max(nums))`. If `nums` contains large values, you can do better with a hash map.\r\n\r\nI&#39;m trying this out with simple code, and it seems to corroborate my reading of the code. \r\n\r\n```\r\nBitSet bitSet = new BitSet();\r\n\r\nbitSet.set(100);\r\nSystem.out.println(bitSet.toLongArray().length); // 2 (max(nums) / 32 = 3.125)\r\n\r\nbitSet.set(64000);\r\nSystem.out.println(bitSet.toLongArray().length); // 1001 (max(nums) / 32 = 2000)\r\n\r\nbitSet.set(100_000);\r\nSystem.out.println(bitSet.toLongArray().length); // 1563 (max(nums) / 32 = 3125)\r\n```\r\n\r\nNote that the `2` factor I added is conservative, in general it will be a smaller factor, that&#39;s why my formula consistently over-estimates the actual length of the long array, but never by more than a factor of 2. This is the code in `Bitset` that made me add it:\r\n\r\n\r\n    private void ensureCapacity(int wordsRequired) {\r\n        if (words.length &lt; wordsRequired) {\r\n            // Allocate larger of doubled size or required size\r\n            int request = Math.max(2 * words.length, wordsRequired);\r\n            words = Arrays.copyOf(words, request);\r\n            sizeIsSticky = false;\r\n        }\r\n    }\r\n\r\nIn summary, I would say the bit set is only a good idea if you have reason to believe you have smaller values than you have values (count). For example, if you have only two values but they are over a billion in value, you will needlessly allocate an array of several million elements.\r\n\r\nAdditionally, even in cases where values remain small, this solutions performs poorly for sorted arrays because `Bitset#set` will always reallocate and copy the array, so your complexity is not linear at all, it&#39;s quadratic in `max(nums)`, which can be terrible if `max(nums)` is very large. To be linear, you would need to first find the maximum, allocate the necessary length in the `Bitset`, and then only go through the array.\r\n\r\nAt this point, using a map is simpler and fits all situations. If speed really matters, my bet is that the `Bitset` will beat a map under specific conditions (lots of values, but small, and by pre-sizing the bit set as described).","title":"What is the space complexity of bitset in this scenario","body":"<p>Your <code>Bitset</code> creates an underlying <code>long[]</code> to store the values. Reading the code of <code>Bitset#set</code>, I would say it's safe to say that the array will never be larger than <code>max(nums) / 64 * 2 = max(nums) / 32</code>. Since <code>long</code> has a fixed size, this comes down to <code>O(max(nums))</code>. If <code>nums</code> contains large values, you can do better with a hash map.</p>\n<p>I'm trying this out with simple code, and it seems to corroborate my reading of the code.</p>\n<pre><code>BitSet bitSet = new BitSet();\n\nbitSet.set(100);\nSystem.out.println(bitSet.toLongArray().length); // 2 (max(nums) / 32 = 3.125)\n\nbitSet.set(64000);\nSystem.out.println(bitSet.toLongArray().length); // 1001 (max(nums) / 32 = 2000)\n\nbitSet.set(100_000);\nSystem.out.println(bitSet.toLongArray().length); // 1563 (max(nums) / 32 = 3125)\n</code></pre>\n<p>Note that the <code>2</code> factor I added is conservative, in general it will be a smaller factor, that's why my formula consistently over-estimates the actual length of the long array, but never by more than a factor of 2. This is the code in <code>Bitset</code> that made me add it:</p>\n<pre><code>private void ensureCapacity(int wordsRequired) {\n    if (words.length &lt; wordsRequired) {\n        // Allocate larger of doubled size or required size\n        int request = Math.max(2 * words.length, wordsRequired);\n        words = Arrays.copyOf(words, request);\n        sizeIsSticky = false;\n    }\n}\n</code></pre>\n<p>In summary, I would say the bit set is only a good idea if you have reason to believe you have smaller values than you have values (count). For example, if you have only two values but they are over a billion in value, you will needlessly allocate an array of several million elements.</p>\n<p>Additionally, even in cases where values remain small, this solutions performs poorly for sorted arrays because <code>Bitset#set</code> will always reallocate and copy the array, so your complexity is not linear at all, it's quadratic in <code>max(nums)</code>, which can be terrible if <code>max(nums)</code> is very large. To be linear, you would need to first find the maximum, allocate the necessary length in the <code>Bitset</code>, and then only go through the array.</p>\n<p>At this point, using a map is simpler and fits all situations. If speed really matters, my bet is that the <code>Bitset</code> will beat a map under specific conditions (lots of values, but small, and by pre-sizing the bit set as described).</p>\n"}],"owner":{"account_id":20606151,"reputation":85,"user_id":15126353,"display_name":"Kol256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72438342,"answer_count":1,"score":0,"last_activity_date":1653934375,"creation_date":1653933045,"question_id":72438292,"body_markdown":"I am doing a leetcode problem where I have to find the duplicate of an array of size [1-N] inclusive and came upon this solution:\r\n\r\n``` \r\n    public int findDuplicate(int[] nums) {\r\n        BitSet bit = new BitSet();\r\n        for(int num : nums) {\r\n            if(!bit.get(num)) {\r\n                bit.set(num);\r\n            } else {\r\n                return num;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n```\r\nThe use of bitset here im assuming is similar to using boolean[] to keep track if we saw the current number previously. So my question is what the space complexity is for this? The runtime seems to be O(n) where n is the size of the input array. Would the same be true for the space complexity?\r\n\r\nLink to problem : https://leetcode.com/problems/find-the-duplicate-number/\r\n\r\n\r\n","title":"What is the space complexity of bitset in this scenario","body":"<p>I am doing a leetcode problem where I have to find the duplicate of an array of size [1-N] inclusive and came upon this solution:</p>\n<pre><code>    public int findDuplicate(int[] nums) {\n        BitSet bit = new BitSet();\n        for(int num : nums) {\n            if(!bit.get(num)) {\n                bit.set(num);\n            } else {\n                return num;\n            }\n        }\n        return -1;\n    }\n</code></pre>\n<p>The use of bitset here im assuming is similar to using boolean[] to keep track if we saw the current number previously. So my question is what the space complexity is for this? The runtime seems to be O(n) where n is the size of the input array. Would the same be true for the space complexity?</p>\n<p>Link to problem : <a href=\"https://leetcode.com/problems/find-the-duplicate-number/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/find-the-duplicate-number/</a></p>\n"},{"tags":["java","maven","slf4j"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653916349,"post_id":72434193,"comment_id":127961350,"body_markdown":"Tricky but surely it&#39;s not too much trouble to do it manually? If you wanted to avoid doing it manually, you could use `git` and check out a different version before running `mvn package`","body":"Tricky but surely it&#39;s not too much trouble to do it manually? If you wanted to avoid doing it manually, you could use <code>git</code> and check out a different version before running <code>mvn package</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653917336,"post_id":72434193,"comment_id":127961739,"body_markdown":"This is based on my understanding on the fact that you want that config *in the jar and active*.","body":"This is based on my understanding on the fact that you want that config <i>in the jar and active</i>."},{"owner":{"account_id":17287714,"reputation":103,"user_id":12519963,"display_name":"PrOF"},"score":0,"creation_date":1653919012,"post_id":72434193,"comment_id":127962407,"body_markdown":"I could do it manually, and that&#39;s what I&#39;ll do if I don&#39;t find something better","body":"I could do it manually, and that&#39;s what I&#39;ll do if I don&#39;t find something better"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653920403,"post_id":72434193,"comment_id":127962952,"body_markdown":"`git` would solve it for you and would be a good tool for your source control of course anyway","body":"<code>git</code> would solve it for you and would be a good tool for your source control of course anyway"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654000298,"post_id":72434193,"comment_id":127983445,"body_markdown":"@g00se how exactly do you solve it with git?","body":"@g00se how exactly do you solve it with git?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654003726,"post_id":72434193,"comment_id":127984824,"body_markdown":"@Thorbj&#248;rnRavnAndersen the `mvn package` operation would operate on the file(s) you have checked out at the time, so you&#39;d simply check out the log config that logs to file instead of console","body":"@Thorbj&#248;rnRavnAndersen the <code>mvn package</code> operation would operate on the file(s) you have checked out at the time, so you&#39;d simply check out the log config that logs to file instead of console"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654004179,"post_id":72434193,"comment_id":127985031,"body_markdown":"@g00se I dont think your approach will work well.  This is generally not how you do it in a build server.","body":"@g00se I dont think your approach will work well.  This is generally not how you do it in a build server."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654004318,"post_id":72434193,"comment_id":127985096,"body_markdown":"@Thorbj&#248;rnRavnAndersen It would actually just be how it worked by default if you happened to be using git. I take it you don&#39;t ;)","body":"@Thorbj&#248;rnRavnAndersen It would actually just be how it worked by default if you happened to be using git. I take it you don&#39;t ;)"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654012035,"post_id":72434193,"comment_id":127988596,"body_markdown":"@g00se i use git.  Do you use a build server?","body":"@g00se i use git.  Do you use a build server?"}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653924997,"creation_date":1653916573,"answer_id":72434977,"question_id":72434193,"body_markdown":"If your jar file has already been built you could override your properties:\r\n\r\n```\r\njava -jar myjar.jar --spring.config.location=D:\\wherever\\new-logger.properties\r\n```\r\n\r\nHowever, I checked it for Spring Boot projects.\r\n\r\nYou could check more information here:\r\n\r\n- [Externalized Configuration](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config)","title":"Switch SLF4J SimpleLogger properties file with Maven","body":"<p>If your jar file has already been built you could override your properties:</p>\n<pre><code>java -jar myjar.jar --spring.config.location=D:\\wherever\\new-logger.properties\n</code></pre>\n<p>However, I checked it for Spring Boot projects.</p>\n<p>You could check more information here:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">Externalized Configuration</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653926495,"creation_date":1653926495,"answer_id":72437103,"question_id":72434193,"body_markdown":"When you&#39;re running your application, you can place the  `simplelogger.properties` file in your class path or working directory of your program.\r\n\r\n    `-- work-dir\r\n        |-- myApp.jar\r\n        `-- simplelogger.properties\r\n\r\nIf your application runs properly in IDE and if it isn&#39;t running properly when packaged, maybe your JAR file doesn&#39;t contain the resources. In that case, you can use the following configuration in your `pom.xml` file to copy the resources to your JAR file.\r\n\r\n    &lt;configuration&gt;\r\n        &lt;outputDirectory&gt;${basedir}/target/classes&lt;/outputDirectory&gt;\r\n        &lt;includeEmptyDirs&gt;true&lt;/includeEmptyDirs&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${basedir}/src/customize&lt;/directory&gt;\r\n                &lt;filtering&gt;false&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${basedir}/src/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;false&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/configuration&gt;\r\n\r\n ","title":"Switch SLF4J SimpleLogger properties file with Maven","body":"<p>When you're running your application, you can place the  <code>simplelogger.properties</code> file in your class path or working directory of your program.</p>\n<pre><code>`-- work-dir\n    |-- myApp.jar\n    `-- simplelogger.properties\n</code></pre>\n<p>If your application runs properly in IDE and if it isn't running properly when packaged, maybe your JAR file doesn't contain the resources. In that case, you can use the following configuration in your <code>pom.xml</code> file to copy the resources to your JAR file.</p>\n<pre><code>&lt;configuration&gt;\n    &lt;outputDirectory&gt;${basedir}/target/classes&lt;/outputDirectory&gt;\n    &lt;includeEmptyDirs&gt;true&lt;/includeEmptyDirs&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${basedir}/src/customize&lt;/directory&gt;\n            &lt;filtering&gt;false&lt;/filtering&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${basedir}/src/resources&lt;/directory&gt;\n            &lt;filtering&gt;false&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653933897,"creation_date":1653933897,"answer_id":72438424,"question_id":72434193,"body_markdown":"This is somewhat an X-Y problem.  I would suggest doing this instead:\r\n\r\nHave two modules.  The one you have, and put your simplelogger configuration file in the _test_ part of the classpath.  This will ensure it doesn&#39;t go in the resulting jar (which is much of the reason for your current problem).\r\n\r\nThen have a deployment module which adds the deployment configuration file to your artifact from above in the form you need it.  When you get to needing multiple deployments just create a module for each. ","title":"Switch SLF4J SimpleLogger properties file with Maven","body":"<p>This is somewhat an X-Y problem.  I would suggest doing this instead:</p>\n<p>Have two modules.  The one you have, and put your simplelogger configuration file in the <em>test</em> part of the classpath.  This will ensure it doesn't go in the resulting jar (which is much of the reason for your current problem).</p>\n<p>Then have a deployment module which adds the deployment configuration file to your artifact from above in the form you need it.  When you get to needing multiple deployments just create a module for each.</p>\n"}],"owner":{"account_id":17287714,"reputation":103,"user_id":12519963,"display_name":"PrOF"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1653933897,"creation_date":1653912951,"question_id":72434193,"body_markdown":"I&#39;ve got a typical Maven project structure with the `simplelogger.properties` file on the classpath:\r\n```\r\n+MyProject\r\n`-- src\r\n    |-- main/java/com.mypackage.MyClass\r\n    `-- resources\r\n        `-- simplelogger.properties\r\n```\r\nThis works perfectly from the IDE as the correct SimpleLogger configuration is already on the classpath.\r\nI&#39;d like to have another `simplelogger.properties` file in the packaged finished .jar (output to file instead of to System.out).\r\n\r\nIs there a way to replace the `simplelogger.properties` on the classpath file with another `simplelogger.properties` file from somewhere else with Maven when packaging a .jar?","title":"Switch SLF4J SimpleLogger properties file with Maven","body":"<p>I've got a typical Maven project structure with the <code>simplelogger.properties</code> file on the classpath:</p>\n<pre><code>+MyProject\n`-- src\n    |-- main/java/com.mypackage.MyClass\n    `-- resources\n        `-- simplelogger.properties\n</code></pre>\n<p>This works perfectly from the IDE as the correct SimpleLogger configuration is already on the classpath.\nI'd like to have another <code>simplelogger.properties</code> file in the packaged finished .jar (output to file instead of to System.out).</p>\n<p>Is there a way to replace the <code>simplelogger.properties</code> on the classpath file with another <code>simplelogger.properties</code> file from somewhere else with Maven when packaging a .jar?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8690,"page":1302,"page_size":100}
