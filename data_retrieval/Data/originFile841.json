{"items":[{"tags":["java","arrays","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669844763,"post_id":74634468,"comment_id":131738592,"body_markdown":"Streams aren&#39;t really great for comparison of one element to the rest of the stream. There&#39;s edge cases like `#max`, or `#sorted`, but overall the solution doing this with streams will be extremely convoluted compared to your code above.","body":"Streams aren&#39;t really great for comparison of one element to the rest of the stream. There&#39;s edge cases like <code>#max</code>, or <code>#sorted</code>, but overall the solution doing this with streams will be extremely convoluted compared to your code above."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669905294,"creation_date":1669852887,"answer_id":74635495,"question_id":74634468,"body_markdown":"Regardless of the implementation (*streams or loops*) performing brute-force iterations over the whole list for each element of the list isn&#39;t the best way to solve this problem.\r\n\r\nWe can index the elements by generating a Map of type `Map&lt;Integer,Boolean&gt;` (credits to *@Holger* for this idea), where Keys would represent unique values in the given list and the corresponding boolean Values would denote whether the occurs more than once. Then we can iterate over the Keys of the Map, checking for each key if the corresponding key, which is equal to `result - key` is present in the Map.\r\n\r\nThere&#39;s one edge case, though, that we need to address:\r\n\r\n* if `result` is even and there&#39;s a single element in the list, which is equal to `result / 2` checking if `result - key` is present in the map is not sufficient and in this case the Value would be handy to check if associated key has a pair (*to construct the target sum*).\r\n\r\nIf you want to use Stream API firstly to generate a Map, you can use of Collector [`toMap()`][toMap].\r\n\r\nThen create a stream over the Keys of the Map and apply [`anyMatch()`][anyMatch] operation to obtain the `boolean` result:\r\n\r\n    static boolean validateArray(int result, List&lt;Integer&gt; array) {\r\n        Map&lt;Integer, Boolean&gt; hasPair = array.stream()\r\n            .collect(Collectors.toMap(\r\n                Function.identity(),  // Key\r\n                i -&gt; false,           // Value - the element has been encountered for the first time, therefore Value is false\r\n                (left, right) -&gt; true // mergeFunction - resolves value of a duplicated Key a true (it has a pair) \r\n            ));\r\n        \r\n        return hasPair.keySet().stream()\r\n            .anyMatch(key -&gt; key * 2 == result ?\r\n                hasPair.get(key) : hasPair.containsKey(result - key)\r\n            );\r\n    }\r\n\r\n\r\n\r\n   [toMap]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\r\n\r\n   [anyMatch]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)","title":"Iterating Java Arrays with Streams","body":"<p>Regardless of the implementation (<em>streams or loops</em>) performing brute-force iterations over the whole list for each element of the list isn't the best way to solve this problem.</p>\n<p>We can index the elements by generating a Map of type <code>Map&lt;Integer,Boolean&gt;</code> (credits to <em>@Holger</em> for this idea), where Keys would represent unique values in the given list and the corresponding boolean Values would denote whether the occurs more than once. Then we can iterate over the Keys of the Map, checking for each key if the corresponding key, which is equal to <code>result - key</code> is present in the Map.</p>\n<p>There's one edge case, though, that we need to address:</p>\n<ul>\n<li>if <code>result</code> is even and there's a single element in the list, which is equal to <code>result / 2</code> checking if <code>result - key</code> is present in the map is not sufficient and in this case the Value would be handy to check if associated key has a pair (<em>to construct the target sum</em>).</li>\n</ul>\n<p>If you want to use Stream API firstly to generate a Map, you can use of Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a>.</p>\n<p>Then create a stream over the Keys of the Map and apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>anyMatch()</code></a> operation to obtain the <code>boolean</code> result:</p>\n<pre><code>static boolean validateArray(int result, List&lt;Integer&gt; array) {\n    Map&lt;Integer, Boolean&gt; hasPair = array.stream()\n        .collect(Collectors.toMap(\n            Function.identity(),  // Key\n            i -&gt; false,           // Value - the element has been encountered for the first time, therefore Value is false\n            (left, right) -&gt; true // mergeFunction - resolves value of a duplicated Key a true (it has a pair) \n        ));\n    \n    return hasPair.keySet().stream()\n        .anyMatch(key -&gt; key * 2 == result ?\n            hasPair.get(key) : hasPair.containsKey(result - key)\n        );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669894351,"creation_date":1669894351,"answer_id":74641208,"question_id":74634468,"body_markdown":"If you use a bit different solution using `Set&lt;Integer&gt;` to find an addition complement into the result, then you can easily convert the solution into Stream API.\r\n\r\n**Iterative approach**\r\n```java\r\nSet&lt;Integer&gt; set = Set.copyOf(array);\r\nfor (Integer integer : array) {\r\n\tif (set.contains(result - integer) &amp;&amp; (result != 2 * integer)) {\r\n\t\tSystem.out.printf(&quot;Found %s + %s = %s&quot;, integer, result - integer, result);\r\n\t\treturn true;\r\n\t}\r\n}\r\nSystem.out.printf(&quot;Found found no two numbers their addition would result in in %s%n&quot;, result);\r\nreturn false;\r\n```\r\n\r\n**Stream API approach (with logging)**\r\n```java\r\nSet&lt;Integer&gt; set = Set.copyOf(array);\r\nreturn array.stream()\r\n\t.filter(integer -&gt; set.contains(result - integer) &amp;&amp; (result != 2 * integer))\r\n\t.findFirst()\r\n\t.map(integer -&gt; {\r\n\t\tSystem.out.printf(&quot;Found %s + %s = %s%n&quot;, integer, result - integer, result);\r\n\t\treturn true;\r\n\t})\r\n\t.orElseGet(() -&gt; {\r\n\t\tSystem.out.printf(&quot;Found found no two numbers their addition would result in in %s%n&quot;, result);\r\n\t\treturn false;\r\n\t});\r\n```\r\n\r\nAnd if you don&#39;t need to log the results and you care only about the result, the whole stream can be simplified and shortened.\r\n\r\n**Stream API approach (result only)**\r\n```java\r\nSet&lt;Integer&gt; set = Set.copyOf(array);\r\nreturn array.stream()\r\n\t\t.anyMatch(integer -&gt; set.contains(result - integer) &amp;&amp; (result != 2 * integer));\r\n```\r\n\r\n____\r\n\r\n**Remark**:\r\nThe algorithm used in all snippets above is simple. You iterate each number in the array and check whether its difference from the `result` would be a number found in the `Set&lt;Integer&gt;` of the array (constant look-up: `O(1)`). To eliminate the currently iterated number (in case the requested `result` would be `2 * integer`), such a check is added. This solution assumes there are no duplicated numbers in the input `array`. In such a case, the `Set&lt;Integer&gt;` shall be used instead and there is no need of a conversion.","title":"Iterating Java Arrays with Streams","body":"<p>If you use a bit different solution using <code>Set&lt;Integer&gt;</code> to find an addition complement into the result, then you can easily convert the solution into Stream API.</p>\n<p><strong>Iterative approach</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Integer&gt; set = Set.copyOf(array);\nfor (Integer integer : array) {\n    if (set.contains(result - integer) &amp;&amp; (result != 2 * integer)) {\n        System.out.printf(&quot;Found %s + %s = %s&quot;, integer, result - integer, result);\n        return true;\n    }\n}\nSystem.out.printf(&quot;Found found no two numbers their addition would result in in %s%n&quot;, result);\nreturn false;\n</code></pre>\n<p><strong>Stream API approach (with logging)</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Integer&gt; set = Set.copyOf(array);\nreturn array.stream()\n    .filter(integer -&gt; set.contains(result - integer) &amp;&amp; (result != 2 * integer))\n    .findFirst()\n    .map(integer -&gt; {\n        System.out.printf(&quot;Found %s + %s = %s%n&quot;, integer, result - integer, result);\n        return true;\n    })\n    .orElseGet(() -&gt; {\n        System.out.printf(&quot;Found found no two numbers their addition would result in in %s%n&quot;, result);\n        return false;\n    });\n</code></pre>\n<p>And if you don't need to log the results and you care only about the result, the whole stream can be simplified and shortened.</p>\n<p><strong>Stream API approach (result only)</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Integer&gt; set = Set.copyOf(array);\nreturn array.stream()\n        .anyMatch(integer -&gt; set.contains(result - integer) &amp;&amp; (result != 2 * integer));\n</code></pre>\n<hr />\n<p><strong>Remark</strong>:\nThe algorithm used in all snippets above is simple. You iterate each number in the array and check whether its difference from the <code>result</code> would be a number found in the <code>Set&lt;Integer&gt;</code> of the array (constant look-up: <code>O(1)</code>). To eliminate the currently iterated number (in case the requested <code>result</code> would be <code>2 * integer</code>), such a check is added. This solution assumes there are no duplicated numbers in the input <code>array</code>. In such a case, the <code>Set&lt;Integer&gt;</code> shall be used instead and there is no need of a conversion.</p>\n"}],"owner":{"account_id":26803874,"reputation":53,"user_id":20395420,"display_name":"MATEO VALENCIA MINOTA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1669906020,"creation_date":1669844389,"question_id":74634468,"body_markdown":"So here&#39;s a simple algorithmic problem,\r\n\r\n&gt;Given a list of integers, check if there are two numbers in this list that when added together give eight (8).\r\n\r\nHere&#39;s my solution,\r\n\r\n```\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    static List&lt;Integer&gt; arrayOne = List.of(1,3,6,9);\r\n    static List&lt;Integer&gt; arrayTwo = List.of(1,6,2,10);\r\n\r\n    static boolean validateArray(int result, List&lt;Integer&gt; array){\r\n        for (int i = 0; i&lt;array.size() - 1; i++){\r\n            for (int j = i + 1; j &lt; array.size(); j ++){\r\n                int value1 = array.get(i);\r\n                int value2 = array.get(j);\r\n                if(value1 + value2 == result){\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(validateArray(8, arrayTwo));\r\n    }\r\n}\r\n```\r\n\r\nThis works fine. What I&#39;m trying to learn is how to rewrite this code in Java 8. As in what the different options with the loops in Java 8.","title":"Iterating Java Arrays with Streams","body":"<p>So here's a simple algorithmic problem,</p>\n<blockquote>\n<p>Given a list of integers, check if there are two numbers in this list that when added together give eight (8).</p>\n</blockquote>\n<p>Here's my solution,</p>\n<pre><code>import java.util.List;\n\npublic class Main {\n\n    static List&lt;Integer&gt; arrayOne = List.of(1,3,6,9);\n    static List&lt;Integer&gt; arrayTwo = List.of(1,6,2,10);\n\n    static boolean validateArray(int result, List&lt;Integer&gt; array){\n        for (int i = 0; i&lt;array.size() - 1; i++){\n            for (int j = i + 1; j &lt; array.size(); j ++){\n                int value1 = array.get(i);\n                int value2 = array.get(j);\n                if(value1 + value2 == result){\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    public static void main(String[] args) {\n\n        System.out.println(validateArray(8, arrayTwo));\n    }\n}\n</code></pre>\n<p>This works fine. What I'm trying to learn is how to rewrite this code in Java 8. As in what the different options with the loops in Java 8.</p>\n"},{"tags":["java","spring-boot","session","httpsession"],"answers":[{"tags":[],"owner":{"account_id":2307261,"reputation":7757,"user_id":2026293,"display_name":"pczeus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1570149539,"creation_date":1521329100,"answer_id":49342927,"question_id":49333907,"body_markdown":"In SpringMVC you can have the HttpSession injected automatically by adding it as a parameter to your method. So, you login could be something similar to:\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String login(@ModelAttribute(&quot;users&quot;) Users user, HttpSession session)\r\n    {\r\n        if(userService.authUser(user)) { //Made this method up\r\n            session.setAttribute(&quot;username&quot;, user.getUsername());\r\n            view.setViewName(&quot;homepage&quot;); //Made up view\r\n        }\r\n        else{\r\n            return new ModelAndView(&quot;Login&quot;);\r\n        }\r\n    }","title":"How to set session attributes in Spring Boot?","body":"<p>In SpringMVC you can have the HttpSession injected automatically by adding it as a parameter to your method. So, you login could be something similar to:</p>\n\n<pre><code>@GetMapping(\"/login\")\npublic String login(@ModelAttribute(\"users\") Users user, HttpSession session)\n{\n    if(userService.authUser(user)) { //Made this method up\n        session.setAttribute(\"username\", user.getUsername());\n        view.setViewName(\"homepage\"); //Made up view\n    }\n    else{\n        return new ModelAndView(\"Login\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1866698,"reputation":1553,"user_id":1690081,"accept_rate":57,"display_name":"Mihkel L."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559147924,"creation_date":1559147924,"answer_id":56365099,"question_id":49333907,"body_markdown":"    @Autowired\r\n    ObjectFactory&lt;HttpSession&gt; httpSessionFactory;\r\n    .\r\n    .\r\n    .\r\n    HttpSession session = httpSessionFactory.getObject();\r\n    \r\n\r\n[Works good. Thanks to this post.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48489304/1690081","title":"How to set session attributes in Spring Boot?","body":"<pre><code>@Autowired\nObjectFactory&lt;HttpSession&gt; httpSessionFactory;\n.\n.\n.\nHttpSession session = httpSessionFactory.getObject();\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/48489304/1690081\">Works good. Thanks to this post.</a></p>\n"},{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669905926,"creation_date":1669905926,"answer_id":74643715,"question_id":49333907,"body_markdown":"If you use Spring Security, registered a bean listening for Spring Security&#39;s `InteractiveAuthenticationSuccessEvent` and `SessionDestroyedEvent` events. These events fire without any explicit configuration in a default Spring Boot environment.  \r\n\r\nSee https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.security:\r\n\r\n&gt;  The basic features you get by default in a web application are:\r\n&gt;  * . . .\r\n&gt;  * A DefaultAuthenticationEventPublisher for publishing authentication events.\r\n\r\nBy handling these events you can add &quot;username&quot; as a session attribute immediately after a user logons and remove that attribute when the security session (security context) is destroyed:\r\n\r\n    @Component\r\n    public class SessionStoreUsernameAuthEventHandler {\r\n\r\n      @EventListener\r\n      public void audit(InteractiveAuthenticationSuccessEvent e) {\r\n        getSession().ifPresent(s -&gt; s.setAttribute(&quot;username&quot;, e.getAuthentication().getName()));\r\n      }\r\n\r\n      @EventListener\r\n      public void audit(SessionDestroyedEvent e) {\r\n        getSession().ifPresent(s -&gt; s.removeAttribute(&quot;username&quot;));\r\n      }\r\n      \r\n      private static Optional&lt;HttpServletRequest&gt; getCurrentRequest() {\r\n        return Optional.ofNullable(RequestContextHolder.getRequestAttributes())\r\n          .filter(ServletRequestAttributes.class::isInstance)\r\n          .map(ServletRequestAttributes.class::cast)\r\n          .map(ServletRequestAttributes::getRequest);\r\n      }\r\n\r\n      private static Optional&lt;HttpSession&gt; getSession() {\r\n        return getCurrentRequest().map(HttpServletRequest::getSession);\r\n      }\r\n    }\r\n\r\n","title":"How to set session attributes in Spring Boot?","body":"<p>If you use Spring Security, registered a bean listening for Spring Security's <code>InteractiveAuthenticationSuccessEvent</code> and <code>SessionDestroyedEvent</code> events. These events fire without any explicit configuration in a default Spring Boot environment.</p>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.security\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.security</a>:</p>\n<blockquote>\n<p>The basic features you get by default in a web application are:</p>\n<ul>\n<li>. . .</li>\n<li>A DefaultAuthenticationEventPublisher for publishing authentication events.</li>\n</ul>\n</blockquote>\n<p>By handling these events you can add &quot;username&quot; as a session attribute immediately after a user logons and remove that attribute when the security session (security context) is destroyed:</p>\n<pre><code>@Component\npublic class SessionStoreUsernameAuthEventHandler {\n\n  @EventListener\n  public void audit(InteractiveAuthenticationSuccessEvent e) {\n    getSession().ifPresent(s -&gt; s.setAttribute(&quot;username&quot;, e.getAuthentication().getName()));\n  }\n\n  @EventListener\n  public void audit(SessionDestroyedEvent e) {\n    getSession().ifPresent(s -&gt; s.removeAttribute(&quot;username&quot;));\n  }\n  \n  private static Optional&lt;HttpServletRequest&gt; getCurrentRequest() {\n    return Optional.ofNullable(RequestContextHolder.getRequestAttributes())\n      .filter(ServletRequestAttributes.class::isInstance)\n      .map(ServletRequestAttributes.class::cast)\n      .map(ServletRequestAttributes::getRequest);\n  }\n\n  private static Optional&lt;HttpSession&gt; getSession() {\n    return getCurrentRequest().map(HttpServletRequest::getSession);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10519181,"reputation":839,"user_id":7769315,"display_name":"Manish Bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22209,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1669905926,"creation_date":1521274392,"question_id":49333907,"body_markdown":"I want to set a *session attribute* with the name that is send by user. User will first login in. And when he logged in I want that his username will set as session attribute. \r\n\r\nWhat should I do?\r\n\r\nThis is my controller:\r\n   \r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n\t\treturn &quot;Login&quot;;\r\n\t}\r\n\r\n\t@PostMapping(&quot;/loginCheck&quot;)\r\n\tpublic String checkLogin(@ModelAttribute(&quot;users&quot;) Users user) {\r\n\t\tif (userService.checkUser(user)) {\r\n\t\t\treturn &quot;redirect:/&quot;+user.getUsername()+&quot;/&quot;;\r\n\t\t} else {\r\n\t\t\treturn &quot;Login&quot;;\r\n        }\r\n\t}\r\n\r\n\t@PostMapping(&quot;/signup&quot;)\r\n\tpublic ModelAndView createuser(@ModelAttribute(&quot;users&quot;) Users user) {\r\n\t\tif (userService.checkUser(user)) {\r\n\t\t\treturn new ModelAndView(&quot;Login&quot;);\r\n\t\t} else {\r\n\t\t\tuserService.adduser(user);\r\n\t\t\treturn new ModelAndView(&quot;Login&quot;);\r\n\t\t}\r\n\t}\r\n\r\n&lt;br&gt;\r\nNow how I set the username as session which I am getting in `user.getUsername()`?\r\n\r\n","title":"How to set session attributes in Spring Boot?","body":"<p>I want to set a <em>session attribute</em> with the name that is send by user. User will first login in. And when he logged in I want that his username will set as session attribute. </p>\n\n<p>What should I do?</p>\n\n<p>This is my controller:</p>\n\n<pre><code>@GetMapping(\"/login\")\npublic String login() {\n    return \"Login\";\n}\n\n@PostMapping(\"/loginCheck\")\npublic String checkLogin(@ModelAttribute(\"users\") Users user) {\n    if (userService.checkUser(user)) {\n        return \"redirect:/\"+user.getUsername()+\"/\";\n    } else {\n        return \"Login\";\n    }\n}\n\n@PostMapping(\"/signup\")\npublic ModelAndView createuser(@ModelAttribute(\"users\") Users user) {\n    if (userService.checkUser(user)) {\n        return new ModelAndView(\"Login\");\n    } else {\n        userService.adduser(user);\n        return new ModelAndView(\"Login\");\n    }\n}\n</code></pre>\n\n<p><br>\nNow how I set the username as session which I am getting in <code>user.getUsername()</code>?</p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1668156831,"post_id":74400027,"comment_id":131342074,"body_markdown":"1. You don&#39;t need to special-case `buildings` being empty: if you write it &quot;normally&quot; that will logically follow. 2. why return `null`? Is that ever an appropriate return value? What could you return instead (ignoring that the rest of the method isn&#39;t fully written for now). 3. How would you do it &quot;manually&quot; on paper? What would you do to get the averages?","body":"1. You don&#39;t need to special-case <code>buildings</code> being empty: if you write it &quot;normally&quot; that will logically follow. 2. why return <code>null</code>? Is that ever an appropriate return value? What could you return instead (ignoring that the rest of the method isn&#39;t fully written for now). 3. How would you do it &quot;manually&quot; on paper? What would you do to get the averages?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668158056,"creation_date":1668158056,"answer_id":74400287,"question_id":74400027,"body_markdown":"To make a performant average solution from a list of numeric values, keep two variables : the sum of them, the count of them, then `avg = sum/count`\r\n\r\nAs we need to do it for each Category, we need a grouping step, an idea could be to make lists of prices for each Category, but that will be memory consuming, so we&#39;re sticking to the first idea of `sum` and `count`, for each Category\r\n\r\n\r\n    static Map&lt;Category, Double&gt; averagePricePerCategory(List&lt;Building&gt; buildings) {\r\n        Map&lt;Category, Double&gt; sumPriceCategory = new HashMap&lt;&gt;();\r\n        Map&lt;Category, Integer&gt; countPriceCategory = new HashMap&lt;&gt;();\r\n\r\n        for (Building building : buildings) {\r\n            sumPriceCategory.merge(building.getCategory(), building.getPrice(), Double::sum);\r\n            countPriceCategory.merge(building.getCategory(), 1, Integer::sum);\r\n        }\r\n\r\n        Map&lt;Category, Double&gt; avgPriceCategory = new HashMap&lt;&gt;();\r\n        for (Map.Entry&lt;Category, Double&gt; entry : sumPriceCategory.entrySet()) {\r\n            avgPriceCategory.put(entry.getKey(), entry.getValue() / countPriceCategory.get(entry.getKey()));\r\n        }\r\n        return avgPriceCategory;\r\n    }\r\n\r\n---\r\n\r\n    List&lt;Building&gt; buildings = List.of(\r\n            new Building(10, new Category(&quot;house&quot;)), new Building(20, new Category(&quot;house&quot;)),\r\n            new Building(30, new Category(&quot;house&quot;)), new Building(40, new Category(&quot;house&quot;)),\r\n            new Building(40, new Category(&quot;school&quot;)), new Building(400, new Category(&quot;school&quot;))\r\n    );\r\n    System.out.println(averagePricePerCategory(buildings)); // {school=220.0, house=25.0}\r\n\r\n","title":"Iterating to a List of objects and adding to a HashMap after calculating the average","body":"<p>To make a performant average solution from a list of numeric values, keep two variables : the sum of them, the count of them, then <code>avg = sum/count</code></p>\n<p>As we need to do it for each Category, we need a grouping step, an idea could be to make lists of prices for each Category, but that will be memory consuming, so we're sticking to the first idea of <code>sum</code> and <code>count</code>, for each Category</p>\n<pre><code>static Map&lt;Category, Double&gt; averagePricePerCategory(List&lt;Building&gt; buildings) {\n    Map&lt;Category, Double&gt; sumPriceCategory = new HashMap&lt;&gt;();\n    Map&lt;Category, Integer&gt; countPriceCategory = new HashMap&lt;&gt;();\n\n    for (Building building : buildings) {\n        sumPriceCategory.merge(building.getCategory(), building.getPrice(), Double::sum);\n        countPriceCategory.merge(building.getCategory(), 1, Integer::sum);\n    }\n\n    Map&lt;Category, Double&gt; avgPriceCategory = new HashMap&lt;&gt;();\n    for (Map.Entry&lt;Category, Double&gt; entry : sumPriceCategory.entrySet()) {\n        avgPriceCategory.put(entry.getKey(), entry.getValue() / countPriceCategory.get(entry.getKey()));\n    }\n    return avgPriceCategory;\n}\n</code></pre>\n<hr />\n<pre><code>List&lt;Building&gt; buildings = List.of(\n        new Building(10, new Category(&quot;house&quot;)), new Building(20, new Category(&quot;house&quot;)),\n        new Building(30, new Category(&quot;house&quot;)), new Building(40, new Category(&quot;house&quot;)),\n        new Building(40, new Category(&quot;school&quot;)), new Building(400, new Category(&quot;school&quot;))\n);\nSystem.out.println(averagePricePerCategory(buildings)); // {school=220.0, house=25.0}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5015322,"reputation":105,"user_id":4030320,"display_name":"Giuseppe Gallo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669905641,"creation_date":1668158795,"answer_id":74400406,"question_id":74400027,"body_markdown":"If I got the point of your question correct, using stream api you could use something like this:\r\n\r\n    static Map&lt;Category, Double&gt; averagePricePerCategory(List&lt;Building&gt; buildings) {\r\n    \t\treturn buildings.stream().collect(Collectors.groupingBy(Building::getCategory, Collectors.averagingDouble(Building::getPrice)));\r\n    \t}\r\n\r\nYou can find more examples about grouping with stream api here: https://www.baeldung.com/java-groupingby-collector","title":"Iterating to a List of objects and adding to a HashMap after calculating the average","body":"<p>If I got the point of your question correct, using stream api you could use something like this:</p>\n<pre><code>static Map&lt;Category, Double&gt; averagePricePerCategory(List&lt;Building&gt; buildings) {\n        return buildings.stream().collect(Collectors.groupingBy(Building::getCategory, Collectors.averagingDouble(Building::getPrice)));\n    }\n</code></pre>\n<p>You can find more examples about grouping with stream api here: <a href=\"https://www.baeldung.com/java-groupingby-collector\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-groupingby-collector</a></p>\n"}],"owner":{"account_id":26898562,"reputation":1,"user_id":20476094,"display_name":"Lucian Negru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1669905641,"creation_date":1668156565,"question_id":74400027,"body_markdown":"I need to create a function\r\n```\r\nMap&lt;Category, Double&gt; averagePricePerCategory\r\n```\r\nthat receives a `List&lt;Buildings&gt; buildings` as a parameter of objects that have:\r\n\r\n\r\n```\r\nprivate int price;\r\nprivate String neighborhood;\r\nprivate Category category;\r\n```\r\n\r\nI need to get the price for each of them, calculate the average and return a Map with their respective category and its average price.\r\nI&#39;m really struggling to understand how I can do this. \r\n\r\n\r\nSo far I&#39;m stuck at what to do next and how it should like.\r\n\r\n\r\n```\r\nstatic Map&lt;Category, Double&gt; averagePricePerCategory(List&lt;Building&gt; buildings) {\r\n    Map&lt;String, Double&gt; averagePriceCategory = new HashMap&lt;&gt;();\r\n    Category x = buildings.get(0).getCategory();\r\n    if(buildings.isEmpty()){\r\n        return new HashMap&lt;&gt;();\r\n    }else{\r\n        for(Building b: buildings){\r\n\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n","title":"Iterating to a List of objects and adding to a HashMap after calculating the average","body":"<p>I need to create a function</p>\n<pre><code>Map&lt;Category, Double&gt; averagePricePerCategory\n</code></pre>\n<p>that receives a <code>List&lt;Buildings&gt; buildings</code> as a parameter of objects that have:</p>\n<pre><code>private int price;\nprivate String neighborhood;\nprivate Category category;\n</code></pre>\n<p>I need to get the price for each of them, calculate the average and return a Map with their respective category and its average price.\nI'm really struggling to understand how I can do this.</p>\n<p>So far I'm stuck at what to do next and how it should like.</p>\n<pre><code>static Map&lt;Category, Double&gt; averagePricePerCategory(List&lt;Building&gt; buildings) {\n    Map&lt;String, Double&gt; averagePriceCategory = new HashMap&lt;&gt;();\n    Category x = buildings.get(0).getCategory();\n    if(buildings.isEmpty()){\n        return new HashMap&lt;&gt;();\n    }else{\n        for(Building b: buildings){\n\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1427153278,"post_id":29222290,"comment_id":46653462,"body_markdown":"Note that a `double` *cannot* store 0.01, but it can store 0.01000000000000000020816681711721685132943093776702880859375 (actual value; I didn&#39;t just mash my number keys to get that). As such, there is no way to round a `double` exactly to a multiple of 0.01 and store the result as a `double`.","body":"Note that a <code>double</code> <i>cannot</i> store 0.01, but it can store 0.0100000000000000002081668171172168513294309377670288085937&zwnj;&#8203;5 (actual value; I didn&#39;t just mash my number keys to get that). As such, there is no way to round a <code>double</code> exactly to a multiple of 0.01 and store the result as a <code>double</code>."},{"owner":{"display_name":"user3133925"},"score":1,"creation_date":1555139061,"post_id":29222290,"comment_id":98013347,"body_markdown":"Possible duplicate of [How do I generate random integers within a specific range in Java?](https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java\">How do I generate random integers within a specific range in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427153330,"creation_date":1427153330,"answer_id":29222335,"question_id":29222290,"body_markdown":"**Edit: misread original post**:\r\n\r\nYou will want to multiply by 100, and then cast to an `int` to truncate it, or `Math.round` it instead:\r\n\r\n    System.out.println(Math.round(x*100)); // rounds up or down\r\n\r\nor\r\n\r\n    System.out.println((int) (x*100));\r\n\r\n**Original:**\r\n\r\n\r\nUse [`String.format(String, Object...)`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-):\r\n\r\n    System.out.println(String.format(&quot;%.2f&quot;, x));\r\n\r\nThe `%.2f` is a [format string](http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax).","title":"how to make Math.random round to a number","body":"<p><strong>Edit: misread original post</strong>:</p>\n\n<p>You will want to multiply by 100, and then cast to an <code>int</code> to truncate it, or <code>Math.round</code> it instead:</p>\n\n<pre><code>System.out.println(Math.round(x*100)); // rounds up or down\n</code></pre>\n\n<p>or</p>\n\n<pre><code>System.out.println((int) (x*100));\n</code></pre>\n\n<p><strong>Original:</strong></p>\n\n<p>Use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\" rel=\"nofollow\"><code>String.format(String, Object...)</code></a>:</p>\n\n<pre><code>System.out.println(String.format(\"%.2f\", x));\n</code></pre>\n\n<p>The <code>%.2f</code> is a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow\">format string</a>.</p>\n"},{"tags":[],"owner":{"account_id":3381661,"reputation":125,"user_id":2838587,"display_name":"Targa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427153355,"creation_date":1427153355,"answer_id":29222340,"question_id":29222290,"body_markdown":"Have you tried \r\n\r\n    Math.round(x)\r\n\r\nCheckout this link for the documentation: http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)\r\n\r\nEDIT:\r\nI might not have fully understanded your question, but I think if you use\r\n    \r\n    Math.round(Math.random*100)\r\n\r\nYou&#39;ll get a number between 0 and 100.","title":"how to make Math.random round to a number","body":"<p>Have you tried </p>\n\n<pre><code>Math.round(x)\n</code></pre>\n\n<p>Checkout this link for the documentation: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)</a></p>\n\n<p>EDIT:\nI might not have fully understanded your question, but I think if you use</p>\n\n<pre><code>Math.round(Math.random*100)\n</code></pre>\n\n<p>You'll get a number between 0 and 100.</p>\n"},{"tags":[],"owner":{"account_id":2048438,"reputation":8159,"user_id":1827992,"accept_rate":88,"display_name":"BevynQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427153527,"creation_date":1427153527,"answer_id":29222373,"question_id":29222290,"body_markdown":"I prefer to use BigDecimal when dealing with floating point numbers\r\n\r\n    BigDecimal myRounded = new BigDeicmal(Math.random()).setScale(2, BigDecimal.ROUND_HALF_UP);","title":"how to make Math.random round to a number","body":"<p>I prefer to use BigDecimal when dealing with floating point numbers</p>\n\n<pre><code>BigDecimal myRounded = new BigDeicmal(Math.random()).setScale(2, BigDecimal.ROUND_HALF_UP);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2049346,"reputation":1928,"user_id":1828662,"accept_rate":71,"display_name":"Steven Manuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427153723,"creation_date":1427153723,"answer_id":29222400,"question_id":29222290,"body_markdown":"Since Math.random() returns a double between 0.0 to 1.0, you can just multiply the result with 100. So 0.0 * 100 = 0, 1.0 * 100 = 100, and everything in between will always be between 0 and 100.\r\n\r\nUse Math.round() to get a full integer number. So if the random number is 0.03454, multiplied by 100 = 3.454. Round it to get 3.","title":"how to make Math.random round to a number","body":"<p>Since Math.random() returns a double between 0.0 to 1.0, you can just multiply the result with 100. So 0.0 * 100 = 0, 1.0 * 100 = 100, and everything in between will always be between 0 and 100.</p>\n\n<p>Use Math.round() to get a full integer number. So if the random number is 0.03454, multiplied by 100 = 3.454. Round it to get 3.</p>\n"},{"tags":[],"owner":{"account_id":5413851,"reputation":350,"user_id":4309628,"display_name":"Hender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555138323,"creation_date":1555138323,"answer_id":55662877,"question_id":29222290,"body_markdown":"correct:\r\n\r\n    int var = (int)Math.round(Math.random()*100)\r\n\r\nINCORRECT:\r\n\r\n    int var = Math.round(Math.random()*100)\r\n\r\nyou need to downcast to integer before assign to integer variable in order to don&#39;t get an error like this:\r\nerror: incompatible types: possible lossy conversion from long to int\r\n\r\n\t\t\tint var = Math.round( Math.random() * 3);\r\n                                ^","title":"how to make Math.random round to a number","body":"<p>correct:</p>\n\n<pre><code>int var = (int)Math.round(Math.random()*100)\n</code></pre>\n\n<p>INCORRECT:</p>\n\n<pre><code>int var = Math.round(Math.random()*100)\n</code></pre>\n\n<p>you need to downcast to integer before assign to integer variable in order to don't get an error like this:\nerror: incompatible types: possible lossy conversion from long to int</p>\n\n<pre><code>        int var = Math.round( Math.random() * 3);\n                            ^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27065112,"reputation":1,"user_id":20616609,"display_name":"user20616609"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669905461,"creation_date":1669572000,"answer_id":74592479,"question_id":29222290,"body_markdown":"When you create the variable multiply it by 100 like so:\r\n```\r\ndouble a = Math.random()*100;\r\n```\r\nthen when you have to print it put an `(int)` before the variable just like down here:\r\n```\r\nSystem.out.print((int)a);\r\n```","title":"how to make Math.random round to a number","body":"<p>When you create the variable multiply it by 100 like so:</p>\n<pre><code>double a = Math.random()*100;\n</code></pre>\n<p>then when you have to print it put an <code>(int)</code> before the variable just like down here:</p>\n<pre><code>System.out.print((int)a);\n</code></pre>\n"}],"owner":{"account_id":5900932,"reputation":13,"user_id":4644476,"display_name":"robbbbin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29222335,"answer_count":6,"score":1,"last_activity_date":1669905461,"creation_date":1427153088,"question_id":29222290,"body_markdown":"I am making a lottery type game and using Math.random() for the numbers.  I want it to always print out what number you got in relation to 0 - 100 (so if Math.random outputted 0.03454 and the number to win was below 0.05, it would set the text of a label to 5).  How would you make it round to just a 0.00 number?\r\nHere is some of the code if  you want to see what I mean.\r\n\r\n    public void lotterymath()\r\n\t{\r\n\t\tdouble x = Math.random();\r\n\t\tSystem.out.println(x);\r\n\t\t\r\n\t\tif (x &lt;= 0.02)\r\n\t\t\toutput.setText(&quot;you win  &quot; + x);\r\n\t\telse\r\n\t\t\toutput.setText( &quot;you lost  &quot; + x);\r\n\t}\r\n\r\nI also have a button below that calls lotterymath() by the way :)","title":"how to make Math.random round to a number","body":"<p>I am making a lottery type game and using Math.random() for the numbers.  I want it to always print out what number you got in relation to 0 - 100 (so if Math.random outputted 0.03454 and the number to win was below 0.05, it would set the text of a label to 5).  How would you make it round to just a 0.00 number?\nHere is some of the code if  you want to see what I mean.</p>\n\n<pre><code>public void lotterymath()\n{\n    double x = Math.random();\n    System.out.println(x);\n\n    if (x &lt;= 0.02)\n        output.setText(\"you win  \" + x);\n    else\n        output.setText( \"you lost  \" + x);\n}\n</code></pre>\n\n<p>I also have a button below that calls lotterymath() by the way :)</p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669831592,"post_id":74632100,"comment_id":131734667,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669843956,"post_id":74632100,"comment_id":131738350,"body_markdown":"It’s quite possible the problem is your `main` method.  You are not supposed to use Swing in any thread other than the AWT event dispatch thread.  Try changing the main method to `EventQueue.invokeLater(() -&gt; new PrincipalLayout().setVisible(true));`.  See https://docs.oracle.com/javase/tutorial/uiswing/concurrency/ for details.","body":"It’s quite possible the problem is your <code>main</code> method.  You are not supposed to use Swing in any thread other than the AWT event dispatch thread.  Try changing the main method to <code>EventQueue.invokeLater(() -&gt; new PrincipalLayout().setVisible(true));</code>.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency</a> for details."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1669871188,"post_id":74632100,"comment_id":131742693,"body_markdown":"[mcve] please.. mind the __M__! Note: your model implementation is wrong - it has to fire appropriate notifications when modified (making explicit repaint calls in clients obsolete)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. mind the <b>M</b>! Note: your model implementation is wrong - it has to fire appropriate notifications when modified (making explicit repaint calls in clients obsolete)"}],"answers":[{"tags":[],"owner":{"account_id":26176941,"reputation":14,"user_id":19906744,"display_name":"Marcos Lopez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669905343,"creation_date":1669905343,"answer_id":74643571,"question_id":74632100,"body_markdown":"Well I finally solved the problem, what was happening was that the .form file generates a method called &quot;initComponents&quot; as you will see in the constructor above I was not calling that method... So adding it to the constructor solved it. \r\nit was nonsense.\r\n\r\nThe solution\r\n```java\r\npublic PrincipalLayout() {\r\n        this.service = new ProductService();\r\n        this.model = new TableModel(service.selectAllProducts());\r\n        initComponents();\r\n    }\r\n```","title":"Bug error does not load the window with Java Swing","body":"<p>Well I finally solved the problem, what was happening was that the .form file generates a method called &quot;initComponents&quot; as you will see in the constructor above I was not calling that method... So adding it to the constructor solved it.\nit was nonsense.</p>\n<p>The solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>public PrincipalLayout() {\n        this.service = new ProductService();\n        this.model = new TableModel(service.selectAllProducts());\n        initComponents();\n    }\n</code></pre>\n"}],"owner":{"account_id":26176941,"reputation":14,"user_id":19906744,"display_name":"Marcos Lopez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74643571,"answer_count":1,"score":-1,"last_activity_date":1669905343,"creation_date":1669830617,"question_id":74632100,"body_markdown":"First I put them in context, I&#39;m working on a small project with Java Swing. Before the project was made with Java 8 and Ant and it worked fine. I decided to update the code to Java 17 and Maven, at this point the problems started (I&#39;m with the Netbeans IDE)\r\n\r\nThe problem comes now, when you run the program it only shows a small window that doesn&#39;t even show one of the components that should appear\r\n\r\nWhen running the program\r\nThe view that should show is like this\r\n\r\n[![introducir la descripci&#243;n de la imagen aqu&#237;][1]][1]\r\n\r\nIn its place appears\r\n\r\n[![introducir la descripci&#243;n de la imagen aqu&#237;][2]][2]\r\n\r\nWhen expanding the windows\r\n[![introducir la descripci&#243;n de la imagen aqu&#237;][3]][3]\r\n\r\nIn the actual pom.xml file i have these dependencies\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n```\r\nThe project with Ant had these libraries\r\n\r\n[![enter image description here][4]][4]\r\n\r\nWhen the program starts, the layout constructor is executed, which calls these classes\r\n```java\r\npublic PrincipalLayout() {\r\n        this.service = new ProductService();\r\n        //La base de datos esta vacia\r\n        this.model = new TableModel(service.selectAllProducts());\r\n}\r\n\r\n//constructor and parameters of ProductService\r\nprivate final InMemoryProductRepository mysqlController;\r\nprivate List&lt;Product&gt; inMemoryList;\r\npublic ProductService(){\r\n        this.mysqlController = new InMemoryProductRepository();\r\n        var optionalProducts = mysqlController.selectAll();\r\n        \r\n        if(optionalProducts.isPresent())\r\n            optionalProducts.get().forEach(p-&gt; this.inMemoryList.add( p));\r\n        if(optionalProducts.isEmpty())\r\n            this.inMemoryList.addAll(Collections.emptyList())\r\n}\r\n\r\n//the selectAll from the repository\r\n@Override\r\npublic Optional&lt;List&lt;Product&gt;&gt; selectAll() {\r\n        List&lt;Product&gt; products = Collections.emptyList();\r\n\r\n        try {\r\n            PreparedStatement preparedStatement = ConnectionJDBC\r\n                    .getConnection().prepareStatement(SQL_SELECT.getCommand());\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n     \r\n            while (resultSet.next()) {\r\n                var product = new Product(\r\n                        resultSet.getInt(&quot;product_id&quot;),\r\n                        resultSet.getString(&quot;name&quot;),\r\n                        resultSet.getDouble(&quot;price&quot;)\r\n                );\r\n                products.add(product);\r\n            }\r\n\r\n            ConnectionJDBC.close(resultSet);\r\n            ConnectionJDBC.close(preparedStatement);\r\n            ConnectionJDBC.close(ConnectionJDBC.getConnection());\r\n        } catch (SQLException ex) {\r\n            JOptionPane.showMessageDialog(null, &quot;Ocurrio un error al ejecutar SellectAll&quot;, &quot;ERROR&quot;, 0);\r\n        }\r\n   \r\n        return Optional.of(products);\r\n}\r\n\r\n```\r\n\r\nI&#39;m still editing the question to see if that way it&#39;s possible to find the place with the possible error, I&#39;m still accepting suggestions in the code :)\r\n\r\n  [1]: https://i.stack.imgur.com/iYHEV.png\r\n  [2]: https://i.stack.imgur.com/qCLhT.png\r\n  [3]: https://i.stack.imgur.com/gGP8W.png\r\n  [4]: https://i.stack.imgur.com/7piq2.png","title":"Bug error does not load the window with Java Swing","body":"<p>First I put them in context, I'm working on a small project with Java Swing. Before the project was made with Java 8 and Ant and it worked fine. I decided to update the code to Java 17 and Maven, at this point the problems started (I'm with the Netbeans IDE)</p>\n<p>The problem comes now, when you run the program it only shows a small window that doesn't even show one of the components that should appear</p>\n<p>When running the program\nThe view that should show is like this</p>\n<p><a href=\"https://i.stack.imgur.com/iYHEV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iYHEV.png\" alt=\"introducir la descripción de la imagen aquí\" /></a></p>\n<p>In its place appears</p>\n<p><a href=\"https://i.stack.imgur.com/qCLhT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qCLhT.png\" alt=\"introducir la descripción de la imagen aquí\" /></a></p>\n<p>When expanding the windows\n<a href=\"https://i.stack.imgur.com/gGP8W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gGP8W.png\" alt=\"introducir la descripción de la imagen aquí\" /></a></p>\n<p>In the actual pom.xml file i have these dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\n            &lt;version&gt;2.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>The project with Ant had these libraries</p>\n<p><a href=\"https://i.stack.imgur.com/7piq2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7piq2.png\" alt=\"enter image description here\" /></a></p>\n<p>When the program starts, the layout constructor is executed, which calls these classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>public PrincipalLayout() {\n        this.service = new ProductService();\n        //La base de datos esta vacia\n        this.model = new TableModel(service.selectAllProducts());\n}\n\n//constructor and parameters of ProductService\nprivate final InMemoryProductRepository mysqlController;\nprivate List&lt;Product&gt; inMemoryList;\npublic ProductService(){\n        this.mysqlController = new InMemoryProductRepository();\n        var optionalProducts = mysqlController.selectAll();\n        \n        if(optionalProducts.isPresent())\n            optionalProducts.get().forEach(p-&gt; this.inMemoryList.add( p));\n        if(optionalProducts.isEmpty())\n            this.inMemoryList.addAll(Collections.emptyList())\n}\n\n//the selectAll from the repository\n@Override\npublic Optional&lt;List&lt;Product&gt;&gt; selectAll() {\n        List&lt;Product&gt; products = Collections.emptyList();\n\n        try {\n            PreparedStatement preparedStatement = ConnectionJDBC\n                    .getConnection().prepareStatement(SQL_SELECT.getCommand());\n            ResultSet resultSet = preparedStatement.executeQuery();\n     \n            while (resultSet.next()) {\n                var product = new Product(\n                        resultSet.getInt(&quot;product_id&quot;),\n                        resultSet.getString(&quot;name&quot;),\n                        resultSet.getDouble(&quot;price&quot;)\n                );\n                products.add(product);\n            }\n\n            ConnectionJDBC.close(resultSet);\n            ConnectionJDBC.close(preparedStatement);\n            ConnectionJDBC.close(ConnectionJDBC.getConnection());\n        } catch (SQLException ex) {\n            JOptionPane.showMessageDialog(null, &quot;Ocurrio un error al ejecutar SellectAll&quot;, &quot;ERROR&quot;, 0);\n        }\n   \n        return Optional.of(products);\n}\n\n</code></pre>\n<p>I'm still editing the question to see if that way it's possible to find the place with the possible error, I'm still accepting suggestions in the code :)</p>\n"},{"tags":["java","sql","hql"],"answers":[{"tags":[],"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497945419,"creation_date":1497945419,"answer_id":44647120,"question_id":44647021,"body_markdown":"Hql does not support `interval`. You have to use `between`. \r\nIf you want, you can also use native query.","title":"Interval expression in hql","body":"<p>Hql does not support <code>interval</code>. You have to use <code>between</code>. \nIf you want, you can also use native query.</p>\n"},{"tags":[],"owner":{"account_id":22356844,"reputation":27,"user_id":16586982,"display_name":"Ilyasse Hanafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669905096,"creation_date":1669905096,"answer_id":74643511,"question_id":44647021,"body_markdown":"you can use the make_interval function.\r\n\r\nI found out that it works with HQL Queries, \r\nYou can define the parameter like that : \r\n    \r\n\r\n&gt; make_interval( NUMBEROFYEARS )\r\n\r\n&gt; make_interval( days = NUMBEROFDAYS )\r\n\r\nYou can refere to this web site for more about make_interval :\r\nhttps://pgpedia.info/m/make_interval.html\r\n","title":"Interval expression in hql","body":"<p>you can use the make_interval function.</p>\n<p>I found out that it works with HQL Queries,\nYou can define the parameter like that :</p>\n<blockquote>\n<p>make_interval( NUMBEROFYEARS )</p>\n</blockquote>\n<blockquote>\n<p>make_interval( days = NUMBEROFDAYS )</p>\n</blockquote>\n<p>You can refere to this web site for more about make_interval :\n<a href=\"https://pgpedia.info/m/make_interval.html\" rel=\"nofollow noreferrer\">https://pgpedia.info/m/make_interval.html</a></p>\n"}],"owner":{"account_id":6335916,"reputation":125,"user_id":4919313,"accept_rate":25,"display_name":"user4919313"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669905096,"creation_date":1497945114,"question_id":44647021,"body_markdown":"I am trying to launch this sql with hql and it doesn&#39;t work due to &#39;* interval&#39; expression.\r\n\r\nThe sql calculates the avg in 5 mins intervals.\r\n\r\nHow could be changed the sql to make it works with hql?\r\n\r\n    SELECT date_trunc(&#39;hour&#39;, update_timestamp) + (( cast (date_part(&#39;minute&#39;, update_timestamp) as int) / 5) +1) * interval &#39;5 min&#39; AS minute\r\n          ,  sum(t.free_spaces) as orders_count\r\n    FROM  myTable t\r\n    GROUP BY 1 ORDER BY 1 ASC","title":"Interval expression in hql","body":"<p>I am trying to launch this sql with hql and it doesn't work due to '* interval' expression.</p>\n\n<p>The sql calculates the avg in 5 mins intervals.</p>\n\n<p>How could be changed the sql to make it works with hql?</p>\n\n<pre><code>SELECT date_trunc('hour', update_timestamp) + (( cast (date_part('minute', update_timestamp) as int) / 5) +1) * interval '5 min' AS minute\n      ,  sum(t.free_spaces) as orders_count\nFROM  myTable t\nGROUP BY 1 ORDER BY 1 ASC\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1669837756,"post_id":74633357,"comment_id":131736621,"body_markdown":"Modifying and querying the queue all in one go makes streams really quite awkward.  I  strongly advise just not using streams here.","body":"Modifying and querying the queue all in one go makes streams really quite awkward.  I  strongly advise just not using streams here."},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1669837898,"post_id":74633357,"comment_id":131736668,"body_markdown":"Just saying, the first is much more readable and  that I think is good.","body":"Just saying, the first is much more readable and  that I think is good."},{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":0,"creation_date":1669838395,"post_id":74633357,"comment_id":131736819,"body_markdown":"Like I said, I&#39;m mostly just curious.","body":"Like I said, I&#39;m mostly just curious."},{"owner":{"account_id":3691991,"reputation":1761,"user_id":3074381,"accept_rate":90,"display_name":"cghislai"},"score":0,"creation_date":1669841286,"post_id":74633357,"comment_id":131737617,"body_markdown":"if you extract a method, you can use a method reference:   `Stream.generate(fringe::poll).takeWhile(Objects::nonNull)\n        .filter(s-&gt;myMethodWithSideEffects(s,q))\n        .findFirst().orElse(null);`","body":"if you extract a method, you can use a method reference:   <code>Stream.generate(fringe::poll).takeWhile(Objects::nonNull)         .filter(s-&gt;myMethodWithSideEffects(s,q))         .findFirst().orElse(null);</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669852118,"post_id":74633357,"comment_id":131740106,"body_markdown":"Seems like this would violate the [non-interference](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#NonInterference) recommendation.","body":"Seems like this would violate the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#NonInterference\" rel=\"nofollow noreferrer\">non-interference</a> recommendation."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669861895,"creation_date":1669861895,"answer_id":74636352,"question_id":74633357,"body_markdown":"It looks like you&#39;re trying a traversal algorithm like Breadth first search using Streams (and `q` in your code probably stands for `Queue`).\r\n\r\nIn this case, replacing a loop with a stream isn&#39;t a bright idea because both of the versions of the code you&#39;ve provided are broken.\r\n\r\nHere&#39;s a couple quotes from the Stream API documentation.\r\n\r\n[**Non-interference**][non-interference]:\r\n\r\n&gt; Accordingly, behavioral parameters in stream pipelines whose source\r\n&gt; might not be concurrent **should never modify the stream&#39;s data\r\n&gt; source**. A behavioral parameter is said to interfere with a\r\n&gt; non-concurrent data source if it modifies, or causes to be modified,\r\n&gt; the stream&#39;s data source. The **need for non-interference applies to\r\n&gt; all pipelines**, not just parallel ones. **Unless** the stream\r\n&gt; **source is concurrent**, modifying a stream&#39;s data source during execution of a stream pipeline can cause exceptions, incorrect\r\n&gt; answers, or nonconformant behavior.\r\n\r\nSo if the stream source `q` is not concurrent, the code is broken. Let&#39;s move further.\r\n\r\n[**Side-effects**][side-effects]\r\n\r\n&gt; If the behavioral parameters do have side-effects, unless explicitly\r\n&gt; stated, there are no guarantees as to:\r\n&gt; \r\n&gt; * the **visibility** of those **side-effects to other threads**;\r\n&gt; * that different operations on the &quot;same&quot; element within the same stream pipeline are executed in the same thread; and\r\n&gt; * that **behavioral parameters are always invoked**, since a **stream implementation is free to elide operations** (or entire stages) from a\r\n&gt; stream pipeline if it can prove that it would not affect the result of\r\n&gt; the computation.\r\n\r\nA quote from the Javadoc of [`Stream.filter()`][filter]\r\n\r\n&gt; **Parameters:**\r\n&gt; \r\n&gt; `predicate` - a **non-interfering**, **stateless** predicate to apply to each\r\n&gt; element to determine if it should be included\r\n\r\nSo you&#39;re using a `Predicate` of the `filter` to performs side-effects and interfere with the source of data. Which is discouraged by the documentation. There&#39;s no intermediate operations in the API which were designed for such purposes. By their nature intermediate operations are lazy and in certain circumstances can be optimized away. For that reason side-effects you really need to be executed should not be incorporated into an intermediate operation. This is especially true for `peek()` mentioned in another answer, which according to documentation was designed exclusively to support debugging and can be thrown out from the pipeline because it isn&#39;t meant to perform resulting action as opposed to the terminal operations `forEach()` and `forEachOrdered()`, which also should be used with caution (and they would not help in implementing BFS).\r\n\r\nThat said, there&#39;s no correct and clean way to achieve what you want using Streams.\r\n\r\n\r\n\r\n   [non-interference]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Non-interference\r\n\r\n   [side-effects]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\r\n\r\n   [filter]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)","title":"Use Java streams to perform action on any element only with lambdas","body":"<p>It looks like you're trying a traversal algorithm like Breadth first search using Streams (and <code>q</code> in your code probably stands for <code>Queue</code>).</p>\n<p>In this case, replacing a loop with a stream isn't a bright idea because both of the versions of the code you've provided are broken.</p>\n<p>Here's a couple quotes from the Stream API documentation.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Non-interference\" rel=\"nofollow noreferrer\"><strong>Non-interference</strong></a>:</p>\n<blockquote>\n<p>Accordingly, behavioral parameters in stream pipelines whose source\nmight not be concurrent <strong>should never modify the stream's data\nsource</strong>. A behavioral parameter is said to interfere with a\nnon-concurrent data source if it modifies, or causes to be modified,\nthe stream's data source. The <strong>need for non-interference applies to\nall pipelines</strong>, not just parallel ones. <strong>Unless</strong> the stream\n<strong>source is concurrent</strong>, modifying a stream's data source during execution of a stream pipeline can cause exceptions, incorrect\nanswers, or nonconformant behavior.</p>\n</blockquote>\n<p>So if the stream source <code>q</code> is not concurrent, the code is broken. Let's move further.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><strong>Side-effects</strong></a></p>\n<blockquote>\n<p>If the behavioral parameters do have side-effects, unless explicitly\nstated, there are no guarantees as to:</p>\n<ul>\n<li>the <strong>visibility</strong> of those <strong>side-effects to other threads</strong>;</li>\n<li>that different operations on the &quot;same&quot; element within the same stream pipeline are executed in the same thread; and</li>\n<li>that <strong>behavioral parameters are always invoked</strong>, since a <strong>stream implementation is free to elide operations</strong> (or entire stages) from a\nstream pipeline if it can prove that it would not affect the result of\nthe computation.</li>\n</ul>\n</blockquote>\n<p>A quote from the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Stream.filter()</code></a></p>\n<blockquote>\n<p><strong>Parameters:</strong></p>\n<p><code>predicate</code> - a <strong>non-interfering</strong>, <strong>stateless</strong> predicate to apply to each\nelement to determine if it should be included</p>\n</blockquote>\n<p>So you're using a <code>Predicate</code> of the <code>filter</code> to performs side-effects and interfere with the source of data. Which is discouraged by the documentation. There's no intermediate operations in the API which were designed for such purposes. By their nature intermediate operations are lazy and in certain circumstances can be optimized away. For that reason side-effects you really need to be executed should not be incorporated into an intermediate operation. This is especially true for <code>peek()</code> mentioned in another answer, which according to documentation was designed exclusively to support debugging and can be thrown out from the pipeline because it isn't meant to perform resulting action as opposed to the terminal operations <code>forEach()</code> and <code>forEachOrdered()</code>, which also should be used with caution (and they would not help in implementing BFS).</p>\n<p>That said, there's no correct and clean way to achieve what you want using Streams.</p>\n"}],"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669904835,"creation_date":1669837548,"question_id":74633357,"body_markdown":"I&#39;ve written this code not for practical purpose but mostly out of curiosity... (btw, I know the title is not great but I couldn&#39;t think of something better... suggestions are welcome)\r\n\r\nConsider the following:\r\n```\r\nState next = Stream.generate(q::poll).takeWhile(Objects::nonNull)\r\n    .filter(s -&gt; {\r\n        if (atGoal(s)) return true;\r\n        s.expand().forEach(q::add);\r\n        return false;\r\n    }).findFirst().orElse(null);\r\n```\r\n\r\nSay I wanted to shorten it to use only lambdas... how would I do it?\r\n\r\nI managed this, but I was wondering if there&#39;s some way to avoid the part with `anyMatch(b -&gt; true)`\r\n```\r\nState goal = Stream.generate(fringe::poll).takeWhile(Objects::nonNull)\r\n    .filter(s -&gt; atGoal(s) || s.expand().map(fringe::add).anyMatch(b -&gt; true))\r\n    .findFirst().orElse(null);\r\n```","title":"Use Java streams to perform action on any element only with lambdas","body":"<p>I've written this code not for practical purpose but mostly out of curiosity... (btw, I know the title is not great but I couldn't think of something better... suggestions are welcome)</p>\n<p>Consider the following:</p>\n<pre><code>State next = Stream.generate(q::poll).takeWhile(Objects::nonNull)\n    .filter(s -&gt; {\n        if (atGoal(s)) return true;\n        s.expand().forEach(q::add);\n        return false;\n    }).findFirst().orElse(null);\n</code></pre>\n<p>Say I wanted to shorten it to use only lambdas... how would I do it?</p>\n<p>I managed this, but I was wondering if there's some way to avoid the part with <code>anyMatch(b -&gt; true)</code></p>\n<pre><code>State goal = Stream.generate(fringe::poll).takeWhile(Objects::nonNull)\n    .filter(s -&gt; atGoal(s) || s.expand().map(fringe::add).anyMatch(b -&gt; true))\n    .findFirst().orElse(null);\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":13761444,"reputation":7542,"user_id":9931092,"display_name":"Amit Baranes"},"score":0,"creation_date":1586858783,"post_id":61204824,"comment_id":108276092,"body_markdown":"What would you like to get?","body":"What would you like to get?"},{"owner":{"account_id":10661869,"reputation":357,"user_id":7849631,"display_name":"Mike"},"score":0,"creation_date":1586859907,"post_id":61204824,"comment_id":108276646,"body_markdown":"@AmitBaranes I put some meta to `Map&lt;String, String&gt;` for every object. So sometimes I heed to collect all metas or check if meta exists or something else.","body":"@AmitBaranes I put some meta to <code>Map&lt;String, String&gt;</code> for every object. So sometimes I heed to collect all metas or check if meta exists or something else."},{"owner":{"account_id":10661869,"reputation":357,"user_id":7849631,"display_name":"Mike"},"score":0,"creation_date":1586861293,"post_id":61204824,"comment_id":108277307,"body_markdown":"@AmitBaranes this meta: `PutObjectRequest.builder().bucket(bucket).key(key).metadata(Map(&quot;1&quot; -&gt; &quot;2&quot;).asJava).build()`","body":"@AmitBaranes this meta: <code>PutObjectRequest.builder().bucket(bucket).key(key).metadata(&zwnj;&#8203;Map(&quot;1&quot; -&gt; &quot;2&quot;).asJava).build()</code>"}],"answers":[{"tags":[],"owner":{"account_id":10661869,"reputation":357,"user_id":7849631,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586879080,"creation_date":1586879080,"answer_id":61211733,"question_id":61204824,"body_markdown":"s3Client.headObject(...).metadata()","title":"AWS Java SDK 2.0 get s3 object meta only","body":"<p>s3Client.headObject(...).metadata()</p>\n"}],"owner":{"account_id":10661869,"reputation":357,"user_id":7849631,"display_name":"Mike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1507,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61211733,"answer_count":1,"score":2,"last_activity_date":1669904822,"creation_date":1586857604,"question_id":61204824,"body_markdown":"Is it possible to get S3 Object metadata without downloading the whole file?\r\nLooks like v 1.0 has this feature, but I can&#39;t find it for 2.0.","title":"AWS Java SDK 2.0 get s3 object meta only","body":"<p>Is it possible to get S3 Object metadata without downloading the whole file?\nLooks like v 1.0 has this feature, but I can't find it for 2.0.</p>\n"},{"tags":["java","spring","csv","spring-batch"],"comments":[{"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"score":0,"creation_date":1428483629,"post_id":29509074,"comment_id":47176520,"body_markdown":"[email, name..., &quot;quoted...&quot;] would lead to 3 values, if i use [email, &quot;name,something&quot;] it works as espected, because the quotecharacter just says &quot;ignore a linie delimiter inside quotation marks&quot;, what do you expect?","body":"[email, name..., &quot;quoted...&quot;] would lead to 3 values, if i use [email, &quot;name,something&quot;] it works as espected, because the quotecharacter just says &quot;ignore a linie delimiter inside quotation marks&quot;, what do you expect?"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1428484092,"post_id":29509074,"comment_id":47176788,"body_markdown":"@MichaelPralow  I want to parse the above shown CSV file.","body":"@MichaelPralow  I want to parse the above shown CSV file."},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1428484122,"post_id":29509074,"comment_id":47176804,"body_markdown":"Removed unused configuration","body":"Removed unused configuration"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1428484563,"post_id":29509074,"comment_id":47177075,"body_markdown":"What I got to know after debug is that my BufferedReader reads till it encounters a new line character. After that it stops reading. While the data that I have posted here is still on a new line. Is there a way to parse such CSV files with spring-batch FlatFileItemReader?","body":"What I got to know after debug is that my BufferedReader reads till it encounters a new line character. After that it stops reading. While the data that I have posted here is still on a new line. Is there a way to parse such CSV files with spring-batch FlatFileItemReader?"},{"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"score":0,"creation_date":1428495580,"post_id":29509074,"comment_id":47184362,"body_markdown":"is each logical line distributed on 2 lines? maybe http://stackoverflow.com/questions/9939851/spring-batch-how-to-process-multi-line-log-files gives you a starting point","body":"is each logical line distributed on 2 lines? maybe <a href=\"http://stackoverflow.com/questions/9939851/spring-batch-how-to-process-multi-line-log-files\" title=\"spring batch how to process multi line log files\">stackoverflow.com/questions/9939851/&hellip;</a> gives you a starting point"},{"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"score":1,"creation_date":1428503414,"post_id":29509074,"comment_id":47190304,"body_markdown":"I don&#39;t see anything obviously wrong with your configuration and we have a unit test for this very scenario (https://github.com/spring-projects/spring-batch/blob/master/spring-batch-infrastructure/src/test/java/org/springframework/batch/item/file/transform/DelimitedLineTokenizerTests.java#L311) so I know it works.  You only show the configuration for your `LineMapper` here...are you using any type of custom `RecordSeparatorPolicy`?","body":"I don&#39;t see anything obviously wrong with your configuration and we have a unit test for this very scenario (<a href=\"https://github.com/spring-projects/spring-batch/blob/master/spring-batch-infrastructure/src/test/java/org/springframework/batch/item/file/transform/DelimitedLineTokenizerTests.java#L311\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/blob/master/&hellip;</a>) so I know it works.  You only show the configuration for your <code>LineMapper</code> here...are you using any type of custom <code>RecordSeparatorPolicy</code>?"},{"owner":{"account_id":51694,"reputation":1101,"user_id":1616612,"display_name":"Saifuddin Merchant"},"score":0,"creation_date":1428517676,"post_id":29509074,"comment_id":47199571,"body_markdown":"It should have worked out of the box. The default delimiter is the double quote character &quot; According to the document it should have skipped line endings --&gt; Convenient constant for the common case of a &quot; character used to escape delimiters or line endings.","body":"It should have worked out of the box. The default delimiter is the double quote character &quot; According to the document it should have skipped line endings --&gt; Convenient constant for the common case of a &quot; character used to escape delimiters or line endings."},{"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"score":0,"creation_date":1428522556,"post_id":29509074,"comment_id":47202472,"body_markdown":"made some quick tests, seems to be that the tokenizer is not the root of the problem, but the flatfileitemreader (or component inside it)","body":"made some quick tests, seems to be that the tokenizer is not the root of the problem, but the flatfileitemreader (or component inside it)"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1428556436,"post_id":29509074,"comment_id":47214119,"body_markdown":"I debugged the code and find  out taht the reader in it reads till it encounters a new line character.","body":"I debugged the code and find  out taht the reader in it reads till it encounters a new line character."}],"answers":[{"tags":[],"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1428558259,"creation_date":1428523782,"answer_id":29524404,"question_id":29509074,"body_markdown":"out of the box the FlatFileItemReader uses a [SimpleRecordSeparatorPolicy][1], for your usecase \r\n\r\n- commented part goes over 2 or more lines\r\n\r\nyou need to set the [DefaultRecordSeparatorPolicy][2]\r\n\r\nCited from its javadoc:\r\n\r\n&gt; A RecordSeparatorPolicy that treats all lines as record endings, as\r\n&gt; long as they do not have unterminated quotes, and do not end in a\r\n&gt; continuation marker.\r\n\r\nexample xml configuration\r\n\r\n    &lt;bean id=&quot;reader&quot; \r\n          class=&quot;org.springframework.batch.item.file.FlatFileItemReader&quot;&gt;\r\n          ...\r\n        &lt;property name=&quot;recordSeparatorPolicy&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.batch.item.file.separator.DefaultRecordSeparatorPolicy&quot; /&gt;\r\n        &lt;/property&gt;\r\n          ...\r\n    &lt;/bean&gt;\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/separator/SimpleRecordSeparatorPolicy.html\r\n  [2]: http://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/separator/DefaultRecordSeparatorPolicy.html","title":"Reading line breaks in CSV which are quoted in the file in FlatfileItemReader of spring batch","body":"<p>out of the box the FlatFileItemReader uses a <a href=\"http://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/separator/SimpleRecordSeparatorPolicy.html\">SimpleRecordSeparatorPolicy</a>, for your usecase </p>\n\n<ul>\n<li>commented part goes over 2 or more lines</li>\n</ul>\n\n<p>you need to set the <a href=\"http://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/separator/DefaultRecordSeparatorPolicy.html\">DefaultRecordSeparatorPolicy</a></p>\n\n<p>Cited from its javadoc:</p>\n\n<blockquote>\n  <p>A RecordSeparatorPolicy that treats all lines as record endings, as\n  long as they do not have unterminated quotes, and do not end in a\n  continuation marker.</p>\n</blockquote>\n\n<p>example xml configuration</p>\n\n<pre><code>&lt;bean id=\"reader\" \n      class=\"org.springframework.batch.item.file.FlatFileItemReader\"&gt;\n      ...\n    &lt;property name=\"recordSeparatorPolicy\"&gt;\n        &lt;bean class=\"org.springframework.batch.item.file.separator.DefaultRecordSeparatorPolicy\" /&gt;\n    &lt;/property&gt;\n      ...\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7442315,"reputation":501,"user_id":6462836,"accept_rate":40,"display_name":"saurabh gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599558657,"creation_date":1599558657,"answer_id":63791391,"question_id":29509074,"body_markdown":"    itemReader.setRecordSeparatorPolicy(new DefaultRecordSeparatorPolicy());","title":"Reading line breaks in CSV which are quoted in the file in FlatfileItemReader of spring batch","body":"<pre><code>itemReader.setRecordSeparatorPolicy(new DefaultRecordSeparatorPolicy());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19968934,"reputation":61,"user_id":14634884,"display_name":"Sardar Fahad Ashfaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669904371,"creation_date":1669904371,"answer_id":74643330,"question_id":29509074,"body_markdown":"Complete bean configuration for reading csv file with qouted new line characters\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;Object&gt; flatFileItemReader() {\r\n\r\n        FlatFileItemReader&lt;Object&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n        reader.setResource(new FileSystemResource(&quot;resource.csv&quot;));\r\n        \r\n        // Add this line to your code\r\n        reader.setRecordSeparatorPolicy(new DefaultRecordSeparatorPolicy());\r\n       \r\n        return reader;\r\n    }","title":"Reading line breaks in CSV which are quoted in the file in FlatfileItemReader of spring batch","body":"<p>Complete bean configuration for reading csv file with qouted new line characters</p>\n<pre><code>@Bean\npublic FlatFileItemReader&lt;Object&gt; flatFileItemReader() {\n\n    FlatFileItemReader&lt;Object&gt; reader = new FlatFileItemReader&lt;&gt;();\n    reader.setResource(new FileSystemResource(&quot;resource.csv&quot;));\n    \n    // Add this line to your code\n    reader.setRecordSeparatorPolicy(new DefaultRecordSeparatorPolicy());\n   \n    return reader;\n}\n</code></pre>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6988,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29524404,"answer_count":3,"score":11,"last_activity_date":1669904371,"creation_date":1428480022,"question_id":29509074,"body_markdown":"I am trying to parse a CSV file with FlatFileItemReader. This CSV contains some quoted newline characters as shown below.\r\n\r\n    email, name\r\n    abc@z.com, &quot;NEW NAME\r\n     ABC&quot;\r\n\r\nBut this parsing is failing with required fields are 2 but actual is 1.\r\n\r\nWhat I am missing in my FlatFileReader configuration?\r\n\r\n    &lt;property name=&quot;lineMapper&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;org.springframework.batch.item.file.mapping.DefaultLineMapper&quot;&gt;\r\n    \r\n    \t\t\t\t&lt;!-- The lineTokenizer divides individual lines up into units of work --&gt;\r\n    \t\t\t\t&lt;property name=&quot;lineTokenizer&quot;&gt;\r\n    \t\t\t\t\t&lt;bean\r\n    \t\t\t\t\t\tclass=&quot;org.springframework.batch.item.file.transform.DelimitedLineTokenizer&quot;&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t\t\t&lt;!-- Names of the CSV columns --&gt;\r\n    \t\t\t\t\t\t&lt;property name=&quot;names&quot;\r\n    \t\t\t\t\t\t\tvalue=&quot;email,name&quot; /&gt;\r\n    \t\t\t\t\t&lt;/bean&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \r\n    \t\t\t\t&lt;!-- The fieldSetMapper maps a line in the file to a Product object --&gt;\r\n    \t\t\t\t&lt;property name=&quot;fieldSetMapper&quot;&gt;\r\n    \t\t\t\t\t&lt;bean\r\n    \t\t\t\t\t\tclass=&quot;com.abc.testme.batchjobs.util.CustomerFieldSetMapper&quot; /&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/property&gt;","title":"Reading line breaks in CSV which are quoted in the file in FlatfileItemReader of spring batch","body":"<p>I am trying to parse a CSV file with FlatFileItemReader. This CSV contains some quoted newline characters as shown below.</p>\n\n<pre><code>email, name\nabc@z.com, \"NEW NAME\n ABC\"\n</code></pre>\n\n<p>But this parsing is failing with required fields are 2 but actual is 1.</p>\n\n<p>What I am missing in my FlatFileReader configuration?</p>\n\n<pre><code>&lt;property name=\"lineMapper\"&gt;\n            &lt;bean class=\"org.springframework.batch.item.file.mapping.DefaultLineMapper\"&gt;\n\n                &lt;!-- The lineTokenizer divides individual lines up into units of work --&gt;\n                &lt;property name=\"lineTokenizer\"&gt;\n                    &lt;bean\n                        class=\"org.springframework.batch.item.file.transform.DelimitedLineTokenizer\"&gt;\n\n                        &lt;!-- Names of the CSV columns --&gt;\n                        &lt;property name=\"names\"\n                            value=\"email,name\" /&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n\n                &lt;!-- The fieldSetMapper maps a line in the file to a Product object --&gt;\n                &lt;property name=\"fieldSetMapper\"&gt;\n                    &lt;bean\n                        class=\"com.abc.testme.batchjobs.util.CustomerFieldSetMapper\" /&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n</code></pre>\n"},{"tags":["java","mysql","sql","hibernate","jpa"],"comments":[{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1669903943,"post_id":74643169,"comment_id":131752471,"body_markdown":"here is answer on your question: https://stackoverflow.com/questions/62548985/hibernate-generates-one-id-for-two-tables-entities","body":"here is answer on your question: <a href=\"https://stackoverflow.com/questions/62548985/hibernate-generates-one-id-for-two-tables-entities\" title=\"hibernate generates one id for two tables entities\">stackoverflow.com/questions/62548985/&hellip;</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669931371,"post_id":74643169,"comment_id":131761530,"body_markdown":"The question is a duplicate, but the linked one really doesn&#39;t answer it - the reason is because you haven&#39;t specified the sequence to use, so they both default to using the same sequence generator. By defining different generators, each can use their own independent series of sequences.","body":"The question is a duplicate, but the linked one really doesn&#39;t answer it - the reason is because you haven&#39;t specified the sequence to use, so they both default to using the same sequence generator. By defining different generators, each can use their own independent series of sequences."}],"owner":{"account_id":24266423,"reputation":1,"user_id":20078115,"display_name":"Игорь"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669903659,"creation_date":1669903659,"question_id":74643169,"body_markdown":"I have two tables with one2many relationship. For some reason, records from the second table continue the ID numbering after the first, and do not start over.\r\n\r\n\r\n```\r\n@Entity\r\npublic class Result {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String date;\r\n    private String bank;\r\n    private Integer baseCurrency;\r\n    private String baseCurrencyLit;\r\n\r\n    @OneToMany(mappedBy = &quot;result&quot;, cascade = CascadeType.ALL)\r\n    //@OrderColumn(name = &quot;array_index&quot;)\r\n    //private ExchangeRate[] exchangeRate;\r\n    private List&lt;ExchangeRate&gt; exchangeRate;\r\n\r\n```\r\n\r\n\r\n```\r\n@Entity\r\npublic class ExchangeRate {\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n    private String baseCurrency;\r\n    private String currency;\r\n    private Float saleRateNB;\r\n    private Float purchaseRateNB;\r\n    private Float saleRate;\r\n    private Float purchaseRate;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name= &quot;result_id&quot;)\r\n    private Result result;\r\n```\r\n\r\n\r\nResult:\r\n[enter image description here](https://i.stack.imgur.com/JNxER.png)\r\n[enter image description here](https://i.stack.imgur.com/tTwz0.png)","title":"common id for two tables one to many","body":"<p>I have two tables with one2many relationship. For some reason, records from the second table continue the ID numbering after the first, and do not start over.</p>\n<pre><code>@Entity\npublic class Result {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String date;\n    private String bank;\n    private Integer baseCurrency;\n    private String baseCurrencyLit;\n\n    @OneToMany(mappedBy = &quot;result&quot;, cascade = CascadeType.ALL)\n    //@OrderColumn(name = &quot;array_index&quot;)\n    //private ExchangeRate[] exchangeRate;\n    private List&lt;ExchangeRate&gt; exchangeRate;\n\n</code></pre>\n<pre><code>@Entity\npublic class ExchangeRate {\n    @Id\n    @GeneratedValue\n    private Integer id;\n    private String baseCurrency;\n    private String currency;\n    private Float saleRateNB;\n    private Float purchaseRateNB;\n    private Float saleRate;\n    private Float purchaseRate;\n\n    @ManyToOne\n    @JoinColumn(name= &quot;result_id&quot;)\n    private Result result;\n</code></pre>\n<p>Result:\n<a href=\"https://i.stack.imgur.com/JNxER.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/tTwz0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","class"],"comments":[{"owner":{"account_id":13909160,"reputation":76,"user_id":10042809,"display_name":"Fahad Bin Asif"},"score":0,"creation_date":1669904082,"post_id":74643125,"comment_id":131752520,"body_markdown":"Please provide the code where you are facing issue. Btw the error say to declare color resource named purple_500 or may be change it where it is used.","body":"Please provide the code where you are facing issue. Btw the error say to declare color resource named purple_500 or may be change it where it is used."},{"owner":{"account_id":17439943,"reputation":1,"user_id":12642221,"display_name":"Muqadas"},"score":0,"creation_date":1669906516,"post_id":74643125,"comment_id":131753447,"body_markdown":"okay sure, I have changed it where I am using it. Now ,it showing output.Thanks for your help.","body":"okay sure, I have changed it where I am using it. Now ,it showing output.Thanks for your help."}],"owner":{"account_id":17439943,"reputation":1,"user_id":12642221,"display_name":"Muqadas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669903454,"creation_date":1669903454,"question_id":74643125,"body_markdown":"I want to integrate **com.google.android.material.textfield.TextInputLayou**t. In my android application, I have added below code in my xml file for the Email EditText, for username , for password . I have also added dependencies in build.gradle. Now , its not instantiating the one or more classes result not showing the output activity.\r\n\r\ntry this:\r\n\r\n```\r\nandroid.content.res.Resources$NotFoundException: Could not find color resource matching value 0x7F06FF0A (resolved name: purple_500) in current configuration.\r\n\tat android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1161)\r\n\tat android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1137)\r\n\tat android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1141)\r\n\tat android.content.res.Resources_Delegate.getColorStateList(Resources_Delegate.java:264)\r\n\tat android.content.res.Resources.getColorStateList(Resources.java:1126)\r\n\tat androidx.core.content.res.ResourcesCompat$Api23Impl.getColorStateList(ResourcesCompat.java:688)\r\n\tat androidx.core.content.res.ResourcesCompat.getColorStateList(ResourcesCompat.java:244)\r\n\tat androidx.core.content.ContextCompat.getColorStateList(ContextCompat.java:519)\r\n\tat androidx.appcompat.content.res.AppCompatResources.getColorStateList(AppCompatResources.java:48)\r\n\tat androidx.appcompat.widget.TintTypedArray.getColorStateList(TintTypedArray.java:179)\r\n\tat com.google.android.material.textfield.TextInputLayout.&lt;init&gt;(TextInputLayout.java:649)\r\n\tat com.google.android.material.textfield.TextInputLayout.&lt;init&gt;(TextInputLayout.java:446)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.jetbrains.android.uipreview.ViewLoader.createNewInstance(ViewLoader.java:351)\r\n\tat org.jetbrains.android.uipreview.ViewLoader.loadClass(ViewLoader.java:200)\r\n\tat org.jetbrains.android.uipreview.ViewLoader.loadView(ViewLoader.java:161)\r\n\tat com.android.tools.idea.rendering.LayoutlibCallbackImpl.loadView(LayoutlibCallbackImpl.java:294)\r\n\tat android.view.BridgeInflater.loadCustomView(BridgeInflater.java:417)\r\n\tat android.view.BridgeInflater.loadCustomView(BridgeInflater.java:428)\r\n\tat android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:332)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:505)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:359)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:436)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:717)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$9(RenderTask.java:873)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:192)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```","title":"Failed to instantiate one or more classes in android studio","body":"<p>I want to integrate <strong>com.google.android.material.textfield.TextInputLayou</strong>t. In my android application, I have added below code in my xml file for the Email EditText, for username , for password . I have also added dependencies in build.gradle. Now , its not instantiating the one or more classes result not showing the output activity.</p>\n<p>try this:</p>\n<pre><code>android.content.res.Resources$NotFoundException: Could not find color resource matching value 0x7F06FF0A (resolved name: purple_500) in current configuration.\n    at android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1161)\n    at android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1137)\n    at android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1141)\n    at android.content.res.Resources_Delegate.getColorStateList(Resources_Delegate.java:264)\n    at android.content.res.Resources.getColorStateList(Resources.java:1126)\n    at androidx.core.content.res.ResourcesCompat$Api23Impl.getColorStateList(ResourcesCompat.java:688)\n    at androidx.core.content.res.ResourcesCompat.getColorStateList(ResourcesCompat.java:244)\n    at androidx.core.content.ContextCompat.getColorStateList(ContextCompat.java:519)\n    at androidx.appcompat.content.res.AppCompatResources.getColorStateList(AppCompatResources.java:48)\n    at androidx.appcompat.widget.TintTypedArray.getColorStateList(TintTypedArray.java:179)\n    at com.google.android.material.textfield.TextInputLayout.&lt;init&gt;(TextInputLayout.java:649)\n    at com.google.android.material.textfield.TextInputLayout.&lt;init&gt;(TextInputLayout.java:446)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.jetbrains.android.uipreview.ViewLoader.createNewInstance(ViewLoader.java:351)\n    at org.jetbrains.android.uipreview.ViewLoader.loadClass(ViewLoader.java:200)\n    at org.jetbrains.android.uipreview.ViewLoader.loadView(ViewLoader.java:161)\n    at com.android.tools.idea.rendering.LayoutlibCallbackImpl.loadView(LayoutlibCallbackImpl.java:294)\n    at android.view.BridgeInflater.loadCustomView(BridgeInflater.java:417)\n    at android.view.BridgeInflater.loadCustomView(BridgeInflater.java:428)\n    at android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:332)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:505)\n    at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:359)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:436)\n    at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\n    at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:717)\n    at com.android.tools.idea.rendering.RenderTask.lambda$inflate$9(RenderTask.java:873)\n    at com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:192)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":27105919,"reputation":19,"user_id":20651757,"display_name":"jarome"},"score":0,"creation_date":1669865405,"post_id":74636507,"comment_id":131742006,"body_markdown":"The LiteStringMap source: [LiteStringMap.java](https://jlhblog.oss-cn-beijing.aliyuncs.com/tools/LiteStringMap.java)","body":"The LiteStringMap source: <a href=\"https://jlhblog.oss-cn-beijing.aliyuncs.com/tools/LiteStringMap.java\" rel=\"nofollow noreferrer\">LiteStringMap.java</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1669876677,"post_id":74636507,"comment_id":131743654,"body_markdown":"Scanning through your source code it is the `EntrySetWrapper.toArray()` methods that throw `UnsupportedOperationException`. Probably Idea uses these methods when trying to display the contents of the `liteStringMap`. You can test out this idea by returning an empty array instead of throwing `UnsupportedOperationException`.","body":"Scanning through your source code it is the <code>EntrySetWrapper.toArray()</code> methods that throw <code>UnsupportedOperationException</code>. Probably Idea uses these methods when trying to display the contents of the <code>liteStringMap</code>. You can test out this idea by returning an empty array instead of throwing <code>UnsupportedOperationException</code>."},{"owner":{"account_id":27105919,"reputation":19,"user_id":20651757,"display_name":"jarome"},"score":0,"creation_date":1669883798,"post_id":74636507,"comment_id":131745491,"body_markdown":"Thank you very much，I added the `EntrySetWrapper.toArray` implementation","body":"Thank you very much，I added the <code>EntrySetWrapper.toArray</code> implementation"}],"owner":{"account_id":27105919,"reputation":19,"user_id":20651757,"display_name":"jarome"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669903381,"creation_date":1669863675,"question_id":74636507,"body_markdown":"In the Idea Debugger, the custom Map implementation class has an error with the following error:\r\n\r\n&gt;Unable to evaluate the expression Method throw &#39;java.lang.UnsupportedOperationException&#39; exception\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t have a solution。\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NVIXW.png","title":"Idea Debugger : Unable to evaluate the expression Method throw &#39;java.lang.UnsupportedOperationException&#39; exception","body":"<p>In the Idea Debugger, the custom Map implementation class has an error with the following error:</p>\n<blockquote>\n<p>Unable to evaluate the expression Method throw 'java.lang.UnsupportedOperationException' exception</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/NVIXW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NVIXW.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't have a solution。</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6419041,"reputation":3386,"user_id":4976247,"accept_rate":55,"display_name":"Vishal Vaishnav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502350032,"creation_date":1502350032,"answer_id":45607127,"question_id":45607059,"body_markdown":"Use ProgressBar in AlertDialogue&#39;s xml;\r\n\r\n    LayoutInflater li = LayoutInflater.from(getContext());\r\n    View promptsView = li.inflate(R.layout.prompts_study_level, null);\r\n    AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(getContext());\r\n    alertDialogBuilder.setView(promptsView);\r\n    final AlertDialog alertDialog = alertDialogBuilder.create();\r\n    alertDialog.show();\r\n    final ProgressBar progressBar= (ProgressBar) promptsView.findViewById(R.id.progressBar );\r\n\r\nin `prompts_study_level.xml` You can use ProgressBar.","title":"Replicate ProgressDialog with AlertDialog","body":"<p>Use ProgressBar in AlertDialogue's xml;</p>\n\n<pre><code>LayoutInflater li = LayoutInflater.from(getContext());\nView promptsView = li.inflate(R.layout.prompts_study_level, null);\nAlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(getContext());\nalertDialogBuilder.setView(promptsView);\nfinal AlertDialog alertDialog = alertDialogBuilder.create();\nalertDialog.show();\nfinal ProgressBar progressBar= (ProgressBar) promptsView.findViewById(R.id.progressBar );\n</code></pre>\n\n<p>in <code>prompts_study_level.xml</code> You can use ProgressBar.</p>\n"},{"tags":[],"owner":{"account_id":9752416,"reputation":874,"user_id":7230266,"accept_rate":50,"display_name":"Shashwat Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502350696,"creation_date":1502350696,"answer_id":45607352,"question_id":45607059,"body_markdown":"create a class MyDialog:\r\n\r\n   \r\n\r\n     public class MyDialog {\r\n    \r\n        private ProgressDialog dialog;\r\n        private View view;\r\n        Context context;\r\n    public MyDialog(Context context) {\r\n            this.context = context;\r\n            dialog = new ProgressDialog(context, R.style.AlertDialog);\r\n            view=new View(context);\r\n        }\r\n    \r\n        public void ShowProgressDialog(Boolean cancellable) {\r\n            try {\r\n                dialog.show();\r\n                dialog.setCanceledOnTouchOutside(false);\r\n                dialog.setContentView(R.layout.custom_progress_view);\r\n                dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                dialog.setCancelable(cancellable);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void CancelProgressDialog() {\r\n            if (dialog != null) {\r\n                dialog.dismiss();\r\n            }\r\n        }\r\n    }\r\n\r\nin your activity:\r\n\r\n    MyDialog mydialog=new MyDialog(this);\r\n    \r\n    mydialog.ShowProgressDialog(false);\r\n    mydialog.CancelProgressDialog();\r\n\r\nIn style folder\r\nR.style.AlertDialog:\r\n\r\n       &lt;style name=&quot;AlertDialog&quot; parent=&quot;@android:style/Theme.Material.Light.Dialog.Alert&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;#000000&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nand in your custom progressview xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;android.support.v7.widget.CardView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;220dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:padding=&quot;@dimen/margin_10&quot;\r\n            android:background=&quot;@drawable/header_img&quot;&gt;\r\n    \r\n            &lt;ProgressBar\r\n                android:id=&quot;@+id/progressBar&quot;\r\n                style=&quot;?android:attr/progressBarStyle&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:indeterminate=&quot;true&quot;\r\n                android:layout_marginTop=&quot;@dimen/card_elevation_10&quot;\r\n                android:indeterminateTintMode=&quot;src_atop&quot;\r\n                android:indeterminateTint=&quot;@color/white&quot;\r\n                android:layout_gravity=&quot;center_vertical|center_horizontal&quot;\r\n                android:maxHeight=&quot;32dp&quot;\r\n                android:minHeight=&quot;32dp&quot;\r\n                android:minWidth=&quot;32dp&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n            android:id=&quot;@+id/TxtRefPicname&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:layout_marginTop=&quot;@dimen/card_elevation_10&quot;\r\n            android:layout_toRightOf=&quot;@+id/progressBar&quot;\r\n            android:text=&quot;Please Wait...&quot;\r\n                android:layout_margin=&quot;@dimen/textsize_20&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textStyle=&quot;normal&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/android.support.v7.widget.CardView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n","title":"Replicate ProgressDialog with AlertDialog","body":"<p>create a class MyDialog:</p>\n\n<pre><code> public class MyDialog {\n\n    private ProgressDialog dialog;\n    private View view;\n    Context context;\npublic MyDialog(Context context) {\n        this.context = context;\n        dialog = new ProgressDialog(context, R.style.AlertDialog);\n        view=new View(context);\n    }\n\n    public void ShowProgressDialog(Boolean cancellable) {\n        try {\n            dialog.show();\n            dialog.setCanceledOnTouchOutside(false);\n            dialog.setContentView(R.layout.custom_progress_view);\n            dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\n            dialog.setCancelable(cancellable);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void CancelProgressDialog() {\n        if (dialog != null) {\n            dialog.dismiss();\n        }\n    }\n}\n</code></pre>\n\n<p>in your activity:</p>\n\n<pre><code>MyDialog mydialog=new MyDialog(this);\n\nmydialog.ShowProgressDialog(false);\nmydialog.CancelProgressDialog();\n</code></pre>\n\n<p>In style folder\nR.style.AlertDialog:</p>\n\n<pre><code>   &lt;style name=\"AlertDialog\" parent=\"@android:style/Theme.Material.Light.Dialog.Alert\"&gt;\n    &lt;item name=\"android:textColor\"&gt;#000000&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>and in your custom progressview xml:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n&lt;android.support.v7.widget.CardView\n    android:layout_width=\"wrap_content\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"220dp\"\n        android:layout_height=\"80dp\"\n        android:layout_gravity=\"center\"\n        android:padding=\"@dimen/margin_10\"\n        android:background=\"@drawable/header_img\"&gt;\n\n        &lt;ProgressBar\n            android:id=\"@+id/progressBar\"\n            style=\"?android:attr/progressBarStyle\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerVertical=\"true\"\n            android:indeterminate=\"true\"\n            android:layout_marginTop=\"@dimen/card_elevation_10\"\n            android:indeterminateTintMode=\"src_atop\"\n            android:indeterminateTint=\"@color/white\"\n            android:layout_gravity=\"center_vertical|center_horizontal\"\n            android:maxHeight=\"32dp\"\n            android:minHeight=\"32dp\"\n            android:minWidth=\"32dp\" /&gt;\n\n        &lt;TextView\n        android:id=\"@+id/TxtRefPicname\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerVertical=\"true\"\n        android:layout_marginTop=\"@dimen/card_elevation_10\"\n        android:layout_toRightOf=\"@+id/progressBar\"\n        android:text=\"Please Wait...\"\n            android:layout_margin=\"@dimen/textsize_20\"\n        android:textSize=\"18sp\"\n        android:textColor=\"@color/white\"\n        android:textStyle=\"normal\" /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/android.support.v7.widget.CardView&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12397237,"reputation":750,"user_id":9881599,"display_name":"tasjapr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669903332,"creation_date":1669903332,"answer_id":74643092,"question_id":45607059,"body_markdown":"**Kotlin solution with androidx DialogFragment**\r\n\r\nBy using DialogFragment you don&#39;t have to resize the window every time and on every screen where you need to show the dialog, it&#39;s stable and clean solution\r\n\r\n1) Create dialog class\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nclass BaseProgressDialog : DialogFragment() {\r\n\r\n    companion object {\r\n        const val DIALOG_TAG = &quot;BaseProgressDialogFragment&quot;\r\n    }\r\n\r\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\r\n        return activity?.let {\r\n            val builder = AlertDialog.Builder(it, R.style.MainAlertDialog)\r\n            val inflater = requireActivity().layoutInflater\r\n            val dialogView = inflater.inflate(R.layout.progress_dialog, null)\r\n\r\n            builder.setView(dialogView)\r\n            builder.create()\r\n        } ?: throw IllegalStateException(&quot;Activity cannot be null&quot;)\r\n    }\r\n\r\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\r\n        dialog?.setCanceledOnTouchOutside(false)\r\n        dialog?.setCancelable(false)\r\n        return super.onCreateView(inflater, container, savedInstanceState)\r\n    }\r\n\r\n    override fun onResume() {\r\n        super.onResume()\r\n        val size = resources.getDimensionPixelSize(R.dimen.size_80dp)\r\n        dialog?.window?.setLayout(size, size)\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n2) Create style in your `styles.xml`\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;style name=&quot;MainAlertDialog&quot; parent=&quot;Theme.AppCompat.Light.Dialog.Alert&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/bg_alert_dialog&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\n3) Create background for your dialog `bg_alert_dialog.xml`\r\n\r\n```lang-xml\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;solid android:color=&quot;?attr/colorSecondary&quot;/&gt;\r\n    &lt;corners android:radius=&quot;@dimen/radius_10dp&quot; /&gt;\r\n&lt;/shape&gt;\r\n```\r\n\r\n4) Create layout for dialog `progress_dialog.xml`. You can add TextView or remove progress indicator according to your design\r\n\r\n```lang-xml\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/bg_alert_dialog&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;@dimen/padding_16dp&quot;&gt;\r\n\r\n    &lt;com.google.android.material.progressindicator.CircularProgressIndicator\r\n        android:layout_width=&quot;@dimen/size_40dp&quot;\r\n        android:layout_height=&quot;@dimen/size_40dp&quot;\r\n        android:indeterminate=&quot;true&quot;\r\n        app:indicatorColor=&quot;?attr/colorPrimary&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n5) Call dialog in the Fragment\r\n\r\n```kotlin\r\nprivate var progressDialog = BaseProgressDialog()\r\nactivity?.let {\r\n   progressDialog.show(it.supportFragmentManager, BaseProgressDialog.DIALOG_TAG)\r\n}\r\n```\r\n\r\nAnd this is what it will look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lKRxH.jpg","title":"Replicate ProgressDialog with AlertDialog","body":"<p><strong>Kotlin solution with androidx DialogFragment</strong></p>\n<p>By using DialogFragment you don't have to resize the window every time and on every screen where you need to show the dialog, it's stable and clean solution</p>\n<ol>\n<li>Create dialog class</li>\n</ol>\n<pre><code>\nclass BaseProgressDialog : DialogFragment() {\n\n    companion object {\n        const val DIALOG_TAG = \"BaseProgressDialogFragment\"\n    }\n\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n        return activity?.let {\n            val builder = AlertDialog.Builder(it, R.style.MainAlertDialog)\n            val inflater = requireActivity().layoutInflater\n            val dialogView = inflater.inflate(R.layout.progress_dialog, null)\n\n            builder.setView(dialogView)\n            builder.create()\n        } ?: throw IllegalStateException(\"Activity cannot be null\")\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        dialog?.setCanceledOnTouchOutside(false)\n        dialog?.setCancelable(false)\n        return super.onCreateView(inflater, container, savedInstanceState)\n    }\n\n    override fun onResume() {\n        super.onResume()\n        val size = resources.getDimensionPixelSize(R.dimen.size_80dp)\n        dialog?.window?.setLayout(size, size)\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create style in your <code>styles.xml</code></li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;style name=&quot;MainAlertDialog&quot; parent=&quot;Theme.AppCompat.Light.Dialog.Alert&quot;&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/bg_alert_dialog&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Create background for your dialog <code>bg_alert_dialog.xml</code></li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;solid android:color=&quot;?attr/colorSecondary&quot;/&gt;\n    &lt;corners android:radius=&quot;@dimen/radius_10dp&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n<ol start=\"4\">\n<li>Create layout for dialog <code>progress_dialog.xml</code>. You can add TextView or remove progress indicator according to your design</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/bg_alert_dialog&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;@dimen/padding_16dp&quot;&gt;\n\n    &lt;com.google.android.material.progressindicator.CircularProgressIndicator\n        android:layout_width=&quot;@dimen/size_40dp&quot;\n        android:layout_height=&quot;@dimen/size_40dp&quot;\n        android:indeterminate=&quot;true&quot;\n        app:indicatorColor=&quot;?attr/colorPrimary&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<ol start=\"5\">\n<li>Call dialog in the Fragment</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private var progressDialog = BaseProgressDialog()\nactivity?.let {\n   progressDialog.show(it.supportFragmentManager, BaseProgressDialog.DIALOG_TAG)\n}\n</code></pre>\n<p>And this is what it will look like:</p>\n<p><a href=\"https://i.stack.imgur.com/lKRxH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lKRxH.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8348366,"reputation":661,"user_id":6271389,"accept_rate":63,"display_name":"Alphonse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669903332,"creation_date":1502349817,"question_id":45607059,"body_markdown":"What I am trying is to replicate the ProgressDialog since it is deprecated.\r\nI generate a new AlertDialog in java and in front-end I&#39;ve build a ProgressBar-round.\r\njava:\r\n    \r\n\r\n    AlertDialog alertDialog = new AlertDialog.Builder(SplashScreenActivity.this).create();\r\n    alertDialog.setMessage(&quot;Logging in...&quot;);\r\n\r\nlayout:\r\n\r\n \r\n\r\n     &lt;ProgressBar\r\n        android:id=&quot;@+id/progressBar3&quot;\r\n        style=&quot;?android:attr/progressBarStyle&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:indeterminate=&quot;true&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        tools:layout_editor_absoluteX=&quot;284dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;343dp&quot; /&gt;\r\n\r\nBut I fail to understand how can I place progress bar in the AlertDialog right above the message. Also I try to make the progress bar blue and I don&#39;t see any property like that. Can anyone explain it to me please ( I have just started programming in Android Studio so I apologise for my lack of knowledge ). Thank you all for your time!\r\n","title":"Replicate ProgressDialog with AlertDialog","body":"<p>What I am trying is to replicate the ProgressDialog since it is deprecated.\nI generate a new AlertDialog in java and in front-end I've build a ProgressBar-round.\njava:</p>\n\n<pre><code>AlertDialog alertDialog = new AlertDialog.Builder(SplashScreenActivity.this).create();\nalertDialog.setMessage(\"Logging in...\");\n</code></pre>\n\n<p>layout:</p>\n\n<pre><code> &lt;ProgressBar\n    android:id=\"@+id/progressBar3\"\n    style=\"?android:attr/progressBarStyle\"\n    android:layout_width=\"200dp\"\n    android:layout_height=\"200dp\"\n    android:indeterminate=\"true\"\n    android:visibility=\"visible\"\n    tools:layout_editor_absoluteX=\"284dp\"\n    tools:layout_editor_absoluteY=\"343dp\" /&gt;\n</code></pre>\n\n<p>But I fail to understand how can I place progress bar in the AlertDialog right above the message. Also I try to make the progress bar blue and I don't see any property like that. Can anyone explain it to me please ( I have just started programming in Android Studio so I apologise for my lack of knowledge ). Thank you all for your time!</p>\n"},{"tags":["java","android-studio","google-cloud-firestore","mpandroidchart"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1669707634,"post_id":74610456,"comment_id":131697632,"body_markdown":"Please edit your question and add your database structure as a screenshot. Besides that, what exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"Please edit your question and add your database structure as a screenshot. Besides that, what exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1669730313,"post_id":74610456,"comment_id":131705392,"body_markdown":"You never do anything with the data you fetch inside `onComplete` with the query - you would need to add it to an array and set that on the chart (either inside `onComplete` or by calling a separate method from `onComplete` with the data you retrieved).","body":"You never do anything with the data you fetch inside <code>onComplete</code> with the query - you would need to add it to an array and set that on the chart (either inside <code>onComplete</code> or by calling a separate method from <code>onComplete</code> with the data you retrieved)."},{"owner":{"account_id":27081463,"reputation":3,"user_id":20630562,"display_name":"teachmetocode"},"score":0,"creation_date":1669876649,"post_id":74610456,"comment_id":131743647,"body_markdown":"@AlexMamo thanks ill change it, there&#39;s nothing wrong with the code, i just dont know how to display the data i got after i get in from the firebase. i hope to know how to code it since i cant find a tutorial that explains how because im new to coding.","body":"@AlexMamo thanks ill change it, there&#39;s nothing wrong with the code, i just dont know how to display the data i got after i get in from the firebase. i hope to know how to code it since i cant find a tutorial that explains how because im new to coding."},{"owner":{"account_id":27081463,"reputation":3,"user_id":20630562,"display_name":"teachmetocode"},"score":0,"creation_date":1669876813,"post_id":74610456,"comment_id":131743690,"body_markdown":"@TylerV oh okay thanks! can you please maybe show how to add that array, since ive tried adding it on the Arraylist&lt;pieEntries&gt; but it doesnt seem to work. i kinda get the i should put it in a new arraylist but i dont know how to code and place the data from the oncomplete to the arraylist.","body":"@TylerV oh okay thanks! can you please maybe show how to add that array, since ive tried adding it on the Arraylist&lt;pieEntries&gt; but it doesnt seem to work. i kinda get the i should put it in a new arraylist but i dont know how to code and place the data from the oncomplete to the arraylist."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1669900646,"post_id":74610456,"comment_id":131751075,"body_markdown":"You may find [this question](https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-or-launches-a-coroutine-return-an-empty-o/70178210#70178210) useful for dealing with the async call too.","body":"You may find <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-or-launches-a-coroutine-return-an-empty-o/70178210#70178210\">this question</a> useful for dealing with the async call too."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669903066,"creation_date":1669877725,"answer_id":74637943,"question_id":74610456,"body_markdown":"If you need to have an `ArrayList` full of `PieEntry` objects, then you have to iterate through the result, as you already do, and add those objects to the list:\r\n\r\n        db.collection(&quot;Warranty&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            List&lt;PieEntry&gt; entries = new ArrayList&lt;&gt;();\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                PieEntry entry = document.toObject(PieEntry.class);\r\n                                entries.add()entry;\r\n                            }\r\n                            //Do what you need to do with the list.\r\n                        } else {\r\n                            Log.d(&quot;TAG&quot;, &quot;Error getting documents: &quot;, task.getException());\r\n                        }\r\n                    }\r\n                });\r\n\r\nPlease also note that Firebase API is asynchronous. So you cannot simply use the `entries` list outside the callback.","title":"How to display data in arraylist from database on chart MPAndroidchart","body":"<p>If you need to have an <code>ArrayList</code> full of <code>PieEntry</code> objects, then you have to iterate through the result, as you already do, and add those objects to the list:</p>\n<pre><code>    db.collection(&quot;Warranty&quot;)\n            .get()\n            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        List&lt;PieEntry&gt; entries = new ArrayList&lt;&gt;();\n                        for (QueryDocumentSnapshot document : task.getResult()) {\n                            PieEntry entry = document.toObject(PieEntry.class);\n                            entries.add()entry;\n                        }\n                        //Do what you need to do with the list.\n                    } else {\n                        Log.d(&quot;TAG&quot;, &quot;Error getting documents: &quot;, task.getException());\n                    }\n                }\n            });\n</code></pre>\n<p>Please also note that Firebase API is asynchronous. So you cannot simply use the <code>entries</code> list outside the callback.</p>\n"}],"owner":{"account_id":27081463,"reputation":3,"user_id":20630562,"display_name":"teachmetocode"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74637943,"answer_count":1,"score":-1,"last_activity_date":1669903066,"creation_date":1669706892,"question_id":74610456,"body_markdown":"Im trying to display the data i have in firestore database to my chart, ive set up an trial data on firestore to use. im new to using mpchart and firestore so im confused on how to display the data on the piechart and linegraph\r\n\r\nThis is my code so far\r\n\r\n```\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private PieChart pieChart;\r\n    LineChart lineChart;\r\n    LineData lineData;\r\n    LineDataSet lineDataSet;\r\n    ArrayList lineEntries;\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        pieChart = findViewById(R.id.piechartmain);\r\n        setPieChart();\r\n        loadPiechartData();\r\n\r\n        lineChart = findViewById(R.id.linechart);\r\n        lineChart.setTouchEnabled(true);\r\n        lineChart.setPinchZoom(true);\r\n\r\n        getEntries();\r\n        lineDataSet = new LineDataSet(lineEntries, &quot;&quot;);\r\n        lineData = new LineData(lineDataSet);\r\n        lineChart.setData(lineData);\r\n        lineData.setDrawValues(true);\r\n        lineData.setValueTextSize(12f);\r\n        lineData.setValueTextColor(Color.BLACK);\r\n        lineDataSet.setColors(ColorTemplate.JOYFUL_COLORS);\r\n        lineDataSet.setValueTextColor(Color.BLACK);\r\n        lineDataSet.setValueTextSize(18f);\r\n        lineChart.getDescription().setEnabled(false);\r\n\r\n\r\n\r\n    }\r\n\r\n    private void getEntries() {\r\n        lineEntries = new ArrayList&lt;&gt;();\r\n        lineEntries.add(new Entry(1f, 0));\r\n        lineEntries.add(new Entry(2f, 1));\r\n        lineEntries.add(new Entry(3f, 2));\r\n        lineEntries.add(new Entry(4f, 3));\r\n        lineEntries.add(new Entry(5f, 4));\r\n\r\n    }\r\n\r\n    private void setPieChart() {\r\n        pieChart.setDrawHoleEnabled(true);\r\n        pieChart.setUsePercentValues(true);\r\n        pieChart.setEntryLabelTextSize(12);\r\n        pieChart.setEntryLabelColor(Color.BLACK);\r\n        pieChart.setCenterText(&quot;expenses&quot;);\r\n        pieChart.setCenterTextSize(24);\r\n        pieChart.getDescription().setEnabled(false);\r\n\r\n        Legend l = pieChart.getLegend();\r\n        l.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);\r\n        l.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);\r\n        l.setOrientation(Legend.LegendOrientation.VERTICAL);\r\n        l.setDrawInside(false);\r\n        l.setEnabled(true);\r\n    }\r\n\r\n    private void loadPiechartData() {\r\n\r\n\r\n        ArrayList&lt;PieEntry&gt; entries = new ArrayList&lt;&gt;();\r\n        String label = &quot;type&quot;;\r\n\r\n        db.collection(&quot;Warranty&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                Log.d(&quot;TAG&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\r\n                            }\r\n                        } else {\r\n                            Log.d(&quot;TAG&quot;, &quot;Error getting documents: &quot;, task.getException());\r\n                        }\r\n                    }\r\n                });\r\n\r\n        entries.add(new PieEntry(0.2f,&quot;food&quot;));\r\n        entries.add(new PieEntry(0.15f,&quot;elec&quot;));\r\n        entries.add(new PieEntry(0.20f,&quot;school&quot;));\r\n        entries.add(new PieEntry(0.12f,&quot;entertainment&quot;));\r\n        entries.add(new PieEntry(0.25f,&quot;Gas&quot;));\r\n\r\n        ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;();\r\n        for (int color: ColorTemplate.MATERIAL_COLORS){\r\n            colors.add(color);\r\n        }\r\n        for (int color: ColorTemplate.VORDIPLOM_COLORS) {\r\n            colors.add(color);\r\n        }\r\n\r\n        PieDataSet dataSet = new PieDataSet(entries, &quot;monthly expense&quot;);\r\n        dataSet.setColors(colors);\r\n\r\n        PieData data = new PieData(dataSet);\r\n        data.setDrawValues(true);\r\n        data.setValueFormatter(new PercentFormatter(pieChart));\r\n        data.setValueTextSize(12f);\r\n        data.setValueTextColor(Color.BLACK);\r\n\r\n        pieChart.setData(data);\r\n        pieChart.invalidate();\r\n        pieChart.animateY(1000, Easing.EaseInOutQuad);\r\n    }\r\n\r\n}\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\nhere is my database\r\n[enter image description here][1]\r\n\r\n\r\nim kinda lost on how to display data from firestore since i searched their query already,  though i cant display it on the chart. im new so please guide me, thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QlFjs.png","title":"How to display data in arraylist from database on chart MPAndroidchart","body":"<p>Im trying to display the data i have in firestore database to my chart, ive set up an trial data on firestore to use. im new to using mpchart and firestore so im confused on how to display the data on the piechart and linegraph</p>\n<p>This is my code so far</p>\n<pre><code>\n\npublic class MainActivity extends AppCompatActivity {\n    private PieChart pieChart;\n    LineChart lineChart;\n    LineData lineData;\n    LineDataSet lineDataSet;\n    ArrayList lineEntries;\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        pieChart = findViewById(R.id.piechartmain);\n        setPieChart();\n        loadPiechartData();\n\n        lineChart = findViewById(R.id.linechart);\n        lineChart.setTouchEnabled(true);\n        lineChart.setPinchZoom(true);\n\n        getEntries();\n        lineDataSet = new LineDataSet(lineEntries, &quot;&quot;);\n        lineData = new LineData(lineDataSet);\n        lineChart.setData(lineData);\n        lineData.setDrawValues(true);\n        lineData.setValueTextSize(12f);\n        lineData.setValueTextColor(Color.BLACK);\n        lineDataSet.setColors(ColorTemplate.JOYFUL_COLORS);\n        lineDataSet.setValueTextColor(Color.BLACK);\n        lineDataSet.setValueTextSize(18f);\n        lineChart.getDescription().setEnabled(false);\n\n\n\n    }\n\n    private void getEntries() {\n        lineEntries = new ArrayList&lt;&gt;();\n        lineEntries.add(new Entry(1f, 0));\n        lineEntries.add(new Entry(2f, 1));\n        lineEntries.add(new Entry(3f, 2));\n        lineEntries.add(new Entry(4f, 3));\n        lineEntries.add(new Entry(5f, 4));\n\n    }\n\n    private void setPieChart() {\n        pieChart.setDrawHoleEnabled(true);\n        pieChart.setUsePercentValues(true);\n        pieChart.setEntryLabelTextSize(12);\n        pieChart.setEntryLabelColor(Color.BLACK);\n        pieChart.setCenterText(&quot;expenses&quot;);\n        pieChart.setCenterTextSize(24);\n        pieChart.getDescription().setEnabled(false);\n\n        Legend l = pieChart.getLegend();\n        l.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);\n        l.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);\n        l.setOrientation(Legend.LegendOrientation.VERTICAL);\n        l.setDrawInside(false);\n        l.setEnabled(true);\n    }\n\n    private void loadPiechartData() {\n\n\n        ArrayList&lt;PieEntry&gt; entries = new ArrayList&lt;&gt;();\n        String label = &quot;type&quot;;\n\n        db.collection(&quot;Warranty&quot;)\n                .get()\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            for (QueryDocumentSnapshot document : task.getResult()) {\n                                Log.d(&quot;TAG&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\n                            }\n                        } else {\n                            Log.d(&quot;TAG&quot;, &quot;Error getting documents: &quot;, task.getException());\n                        }\n                    }\n                });\n\n        entries.add(new PieEntry(0.2f,&quot;food&quot;));\n        entries.add(new PieEntry(0.15f,&quot;elec&quot;));\n        entries.add(new PieEntry(0.20f,&quot;school&quot;));\n        entries.add(new PieEntry(0.12f,&quot;entertainment&quot;));\n        entries.add(new PieEntry(0.25f,&quot;Gas&quot;));\n\n        ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;();\n        for (int color: ColorTemplate.MATERIAL_COLORS){\n            colors.add(color);\n        }\n        for (int color: ColorTemplate.VORDIPLOM_COLORS) {\n            colors.add(color);\n        }\n\n        PieDataSet dataSet = new PieDataSet(entries, &quot;monthly expense&quot;);\n        dataSet.setColors(colors);\n\n        PieData data = new PieData(dataSet);\n        data.setDrawValues(true);\n        data.setValueFormatter(new PercentFormatter(pieChart));\n        data.setValueTextSize(12f);\n        data.setValueTextColor(Color.BLACK);\n\n        pieChart.setData(data);\n        pieChart.invalidate();\n        pieChart.animateY(1000, Easing.EaseInOutQuad);\n    }\n\n}\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>here is my database\n<a href=\"https://i.stack.imgur.com/QlFjs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>im kinda lost on how to display data from firestore since i searched their query already,  though i cant display it on the chart. im new so please guide me, thanks!</p>\n"},{"tags":["java","file","rename"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669903176,"post_id":74642849,"comment_id":131752154,"body_markdown":"`if (!(my_folder.exists() &amp;&amp; my_folder.isDirectory())) { // Error}` Don&#39;t use [underscores](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)\nin variable names - only in capitalized constants","body":"<code>if (!(my_folder.exists() &amp;&amp; my_folder.isDirectory())) { &#47;&#47; Error}</code> Don&#39;t use <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">underscores</a> in variable names - only in capitalized constants"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669902901,"creation_date":1669902901,"answer_id":74642993,"question_id":74642849,"body_markdown":"Like most methods in `File`, `listFiles()` doesn&#39;t throw an exception if it can&#39;t read the files, but instead returns `null`. That&#39;s documented, and that&#39;s what&#39;s happening here.\r\n\r\nTry the following to see _why_ you can&#39;t read the contents:\r\n```java\r\ntry (DirectoryStream&lt;Path&gt; directoryStream = Files.newDirectoryStream(my_folder.toPath())) {\r\n    for (Path myFile : directoryStream) {\r\n        System.out.println(myFile);\r\n    }\r\n}\r\n```\r\nThat will most likely throw an `IOException` that tells you what went wrong.","title":"Was trying to rename multiple files in java and encountered the following error:","body":"<p>Like most methods in <code>File</code>, <code>listFiles()</code> doesn't throw an exception if it can't read the files, but instead returns <code>null</code>. That's documented, and that's what's happening here.</p>\n<p>Try the following to see <em>why</em> you can't read the contents:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (DirectoryStream&lt;Path&gt; directoryStream = Files.newDirectoryStream(my_folder.toPath())) {\n    for (Path myFile : directoryStream) {\n        System.out.println(myFile);\n    }\n}\n</code></pre>\n<p>That will most likely throw an <code>IOException</code> that tells you what went wrong.</p>\n"}],"owner":{"account_id":27111816,"reputation":1,"user_id":20656856,"display_name":"sse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669902901,"creation_date":1669902298,"question_id":74642849,"body_markdown":"```none\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n        at rename_1.main(rename_1.java:8)\r\n```\r\nCode:\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\npublic class rename_1{\r\n   public static void main(String[] argv) throws IOException{\r\n      String path_to_folder = &quot;C:\\\\Users\\\\sara\\\\fileUP\\\\test&quot;;\r\n      File my_folder = new File(path_to_folder);\r\n      File[] array_file = my_folder.listFiles();\r\n      for (int i = 0; i &lt; array_file.length; i++){\r\n         if (array_file[i].isFile()){\r\n            File my_file = new File(path_to_folder + &quot;\\\\&quot; + array_file[i].getName());\r\n            String long_file_name = array_file[i].getName();\r\n            String[] my_token = long_file_name.split(&quot;\\s&quot;);\r\n            String new_file = my_token[1];\r\n            System.out.println(long_file_name);\r\n            System.out.print(new_file);\r\n            my_file.renameTo(new File(path_to_folder + &quot;\\\\&quot; + new_file + &quot;.pdf&quot;));\r\n         }\r\n      }\r\n   }\r\n}\r\n```","title":"Was trying to rename multiple files in java and encountered the following error:","body":"<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n        at rename_1.main(rename_1.java:8)\n</code></pre>\n<p>Code:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\npublic class rename_1{\n   public static void main(String[] argv) throws IOException{\n      String path_to_folder = &quot;C:\\\\Users\\\\sara\\\\fileUP\\\\test&quot;;\n      File my_folder = new File(path_to_folder);\n      File[] array_file = my_folder.listFiles();\n      for (int i = 0; i &lt; array_file.length; i++){\n         if (array_file[i].isFile()){\n            File my_file = new File(path_to_folder + &quot;\\\\&quot; + array_file[i].getName());\n            String long_file_name = array_file[i].getName();\n            String[] my_token = long_file_name.split(&quot;\\s&quot;);\n            String new_file = my_token[1];\n            System.out.println(long_file_name);\n            System.out.print(new_file);\n            my_file.renameTo(new File(path_to_folder + &quot;\\\\&quot; + new_file + &quot;.pdf&quot;));\n         }\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","lambda","java-stream","lazy-evaluation"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669902076,"post_id":74642767,"comment_id":131751695,"body_markdown":"Did you consider `Stream.of(() -&gt; expression1(), () -&gt; expression2(), ... )` ? If yes, what&#39;s wrong with it? That would be a stream of suppliers which can lazily evaluated in the stream. For instance `Stream.of().map(Supplier::get).filter().findFirst()`.","body":"Did you consider <code>Stream.of(() -&gt; expression1(), () -&gt; expression2(), ... )</code> ? If yes, what&#39;s wrong with it? That would be a stream of suppliers which can lazily evaluated in the stream. For instance <code>Stream.of().map(Supplier::get).filter().findFirst()</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1669902644,"post_id":74642767,"comment_id":131751946,"body_markdown":"Compare with https://stackoverflow.com/a/28833677/2711488","body":"Compare with <a href=\"https://stackoverflow.com/a/28833677/2711488\">stackoverflow.com/a/28833677/2711488</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669902860,"creation_date":1669902860,"answer_id":74642980,"question_id":74642767,"body_markdown":"You can create a `Stream&lt;Supplier&gt;` using `Stream.of()` exactly in the same a stream of any other objects.\r\n\r\n```\r\nStream&lt;Supplier&lt;MyClass&gt;&gt; s = Stream.of(\r\n    () -&gt; expression1(),\r\n    () -&gt; expression2(),\r\n    () -&gt; expression3()\r\n);\r\n```\r\n\r\nThen these suppliers can lazily evaluated in the stream.\r\n\r\n*Example:*\r\n\r\n```\r\nMyClass result = s.map(Supplier::get)\r\n    .filter(someCondition)\r\n    .findFirst()\r\n    .orElseThrow();\r\n```","title":"How to generate lazy stream from a fixed number of expressions in Java?","body":"<p>You can create a <code>Stream&lt;Supplier&gt;</code> using <code>Stream.of()</code> exactly in the same a stream of any other objects.</p>\n<pre><code>Stream&lt;Supplier&lt;MyClass&gt;&gt; s = Stream.of(\n    () -&gt; expression1(),\n    () -&gt; expression2(),\n    () -&gt; expression3()\n);\n</code></pre>\n<p>Then these suppliers can lazily evaluated in the stream.</p>\n<p><em>Example:</em></p>\n<pre><code>MyClass result = s.map(Supplier::get)\n    .filter(someCondition)\n    .findFirst()\n    .orElseThrow();\n</code></pre>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669902860,"creation_date":1669901922,"question_id":74642767,"body_markdown":"I would like to get the same as [Stream.of][1], but lazy. I.e. I want to do the same as\r\n\r\n    Stream&lt;MyClass&gt; s = Stream.of(\r\n       expression1(),\r\n       expression2(),\r\n       expression3(),\r\n       ...\r\n    )\r\n\r\nI can do\r\n\r\n    List&lt;Supplier&lt;MyClass&gt;&gt; s = Arrays.asList(\r\n       ()-&gt;expression1(),\r\n       ()-&gt;expression2(),\r\n       ()-&gt;expression3(),\r\n       ...\r\n    )\r\n\r\nbut can it be done with streams? Note that it would be duplication if suppliers are put into stream elements...\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T...-\r\n","title":"How to generate lazy stream from a fixed number of expressions in Java?","body":"<p>I would like to get the same as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T...-\" rel=\"nofollow noreferrer\">Stream.of</a>, but lazy. I.e. I want to do the same as</p>\n<pre><code>Stream&lt;MyClass&gt; s = Stream.of(\n   expression1(),\n   expression2(),\n   expression3(),\n   ...\n)\n</code></pre>\n<p>I can do</p>\n<pre><code>List&lt;Supplier&lt;MyClass&gt;&gt; s = Arrays.asList(\n   ()-&gt;expression1(),\n   ()-&gt;expression2(),\n   ()-&gt;expression3(),\n   ...\n)\n</code></pre>\n<p>but can it be done with streams? Note that it would be duplication if suppliers are put into stream elements...</p>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":15144230,"reputation":1347,"user_id":10928439,"display_name":"Simon Jacobs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669902748,"creation_date":1669902748,"answer_id":74642950,"question_id":74642686,"body_markdown":"Your build fails because it is not searching the Gradle Plugin Portal for plugins.\r\n\r\nThis happens because you are calling `pluginManagement.repositories()` in `settings.gradle` without calling `pluginManagement.repositories.gradlePluginPortal()`. Add this call and your error should be fixed.\r\n\r\nThis happens because if you add a new plugin repository you need to explicitly specify `gradlePluginPortal()` as explained in the [documentation](https://docs.gradle.org/current/userguide/plugins.html#sec:custom_plugin_repositories).\r\n\r\n","title":"Building Gradle application in terminal using wrapper fails","body":"<p>Your build fails because it is not searching the Gradle Plugin Portal for plugins.</p>\n<p>This happens because you are calling <code>pluginManagement.repositories()</code> in <code>settings.gradle</code> without calling <code>pluginManagement.repositories.gradlePluginPortal()</code>. Add this call and your error should be fixed.</p>\n<p>This happens because if you add a new plugin repository you need to explicitly specify <code>gradlePluginPortal()</code> as explained in the <a href=\"https://docs.gradle.org/current/userguide/plugins.html#sec:custom_plugin_repositories\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669902748,"creation_date":1669901456,"question_id":74642686,"body_markdown":"When trying to use gradle wrapper to build the app I&#39;m getting this error:\r\n```\r\n* What went wrong:\r\nPlugin [id: &#39;io.freefair.lombok&#39;, version: &#39;5.3.0&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;io.freefair.lombok:io.freefair.lombok.gradle.plugin:5.3.0&#39;)\r\n  Searched in the following repositories:\r\n    maven(repo link)\r\n\r\n```\r\nIf I try running the applicaiton or running the build task from Intelij&#39;s gradle tab everything works fine. I tried clearing cache for gradle and intelij but nothing is working. ","title":"Building Gradle application in terminal using wrapper fails","body":"<p>When trying to use gradle wrapper to build the app I'm getting this error:</p>\n<pre><code>* What went wrong:\nPlugin [id: 'io.freefair.lombok', version: '5.3.0'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'io.freefair.lombok:io.freefair.lombok.gradle.plugin:5.3.0')\n  Searched in the following repositories:\n    maven(repo link)\n\n</code></pre>\n<p>If I try running the applicaiton or running the build task from Intelij's gradle tab everything works fine. I tried clearing cache for gradle and intelij but nothing is working.</p>\n"},{"tags":["java","eclipse","maven","java-8","java-7"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669646141,"post_id":74602129,"comment_id":131683080,"body_markdown":"Without doing a real analysis, you should consider Java 11 or 17, as both 1.7 or 1.8 are End-of-Life.","body":"Without doing a real analysis, you should consider Java 11 or 17, as both 1.7 or 1.8 are End-of-Life."},{"owner":{"account_id":2429554,"reputation":367,"user_id":2120779,"display_name":"Randolf"},"score":0,"creation_date":1669647299,"post_id":74602129,"comment_id":131683463,"body_markdown":"Actually, the real project is an enterprise project that runs on a Tomcat 7 with Java 7 and that is compiled with Java 8 and what I want is to unify the compiler and the execution so that they are with the same version of Java, in this case with Java 7. This is just an example to reproduce the problem...","body":"Actually, the real project is an enterprise project that runs on a Tomcat 7 with Java 7 and that is compiled with Java 8 and what I want is to unify the compiler and the execution so that they are with the same version of Java, in this case with Java 7. This is just an example to reproduce the problem..."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1669648036,"post_id":74602129,"comment_id":131683744,"body_markdown":"The error comes from a class from Google Guava. That&#39;s used by Maven - `org.apache.maven:maven-core` has a dependency on `com.google.inject:guice` which has a dependency on `com.google.guava:guava`.  The Guava used by `maven-core` 3.8.4 and 3.8.6 is 25.1-android, which is built to be compatible with Java 7. My guess is that Eclipse comes with a newer version of Guava which somehow overrides the version used by Maven. What happens if you build on the command line with Maven 3.8.4?","body":"The error comes from a class from Google Guava. That&#39;s used by Maven - <code>org.apache.maven:maven-core</code> has a dependency on <code>com.google.inject:guice</code> which has a dependency on <code>com.google.guava:guava</code>.  The Guava used by <code>maven-core</code> 3.8.4 and 3.8.6 is 25.1-android, which is built to be compatible with Java 7. My guess is that Eclipse comes with a newer version of Guava which somehow overrides the version used by Maven. What happens if you build on the command line with Maven 3.8.4?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1669651047,"post_id":74602129,"comment_id":131684978,"body_markdown":"If the Maven version that is included in Eclipse does not work for you, you can install a Maven on your system and configure it in the preferences _Maven &gt; Installations_. In the Maven run configuration you can choose in the _Main_ tab at the bottom whether to use the _EMBEDDED_ one or the one you installed. Does running Maven of the same version as the embedded one make a difference? I wouldn&#39;t assume so, but it&#39;s up to you to find that out.","body":"If the Maven version that is included in Eclipse does not work for you, you can install a Maven on your system and configure it in the preferences <i>Maven &gt; Installations</i>. In the Maven run configuration you can choose in the <i>Main</i> tab at the bottom whether to use the <i>EMBEDDED</i> one or the one you installed. Does running Maven of the same version as the embedded one make a difference? I wouldn&#39;t assume so, but it&#39;s up to you to find that out."},{"owner":{"account_id":2429554,"reputation":367,"user_id":2120779,"display_name":"Randolf"},"score":0,"creation_date":1669883818,"post_id":74602129,"comment_id":131745503,"body_markdown":"Thanks both. @rob-spoor You are right. I saw in the plugins folder of eclipse a plugin named `com.google.guava_30.1.0.v20210127-2300.jar`. Opening this jar in `\\META-INF\\maven\\org.eclipse.orbit.bundles\\com.google.guava\\pom.xml` there are a dependency to `com.google.guava` with version `30.1-jre` and in https://github.com/google/guava says `The JRE flavor requires JDK 1.8 or higher`, so the version should be `31.1-android`. If you post as and answer, I&#180;ll mark as accepted. Thank you.","body":"Thanks both. @rob-spoor You are right. I saw in the plugins folder of eclipse a plugin named <code>com.google.guava_30.1.0.v20210127-2300.jar</code>. Opening this jar in <code>\\META-INF\\maven\\org.eclipse.orbit.bundles\\com.google.guava\\p&zwnj;&#8203;om.xml</code> there are a dependency to <code>com.google.guava</code> with version <code>30.1-jre</code> and in <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">github.com/google/guava</a> says <code>The JRE flavor requires JDK 1.8 or higher</code>, so the version should be <code>31.1-android</code>. If you post as and answer, I&#180;ll mark as accepted. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669902689,"creation_date":1669902689,"answer_id":74642938,"question_id":74602129,"body_markdown":"The error comes from a class from Google Guava. That&#39;s used by Maven - org.apache.maven:maven-core has a dependency on com.google.inject:guice which has a dependency on com.google.guava:guava. The Guava used by maven-core 3.8.4 and 3.8.6 is 25.1-android, which is built to be compatible with Java 7. My guess is that Eclipse comes with a newer version of Guava which somehow overrides the version used by Maven.","title":"Maven build fails through Eclipse with Java 7","body":"<p>The error comes from a class from Google Guava. That's used by Maven - org.apache.maven:maven-core has a dependency on com.google.inject:guice which has a dependency on com.google.guava:guava. The Guava used by maven-core 3.8.4 and 3.8.6 is 25.1-android, which is built to be compatible with Java 7. My guess is that Eclipse comes with a newer version of Guava which somehow overrides the version used by Maven.</p>\n"}],"owner":{"account_id":2429554,"reputation":367,"user_id":2120779,"display_name":"Randolf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74642938,"answer_count":1,"score":0,"last_activity_date":1669902689,"creation_date":1669645850,"question_id":74602129,"body_markdown":"I&#39;ve set up a new Maven project webapp with Eclipse 2022-06 (4.24.0) which has Maven 3.8.4 embedded. According to the [Maven release notes info][1] requires Java 1.7.\r\n\r\nIf I do a package with Java 1.7, the build fails with an error that indicates that need Java 1.8:\r\n```\r\nApache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\r\nMaven home: D:\\Proyectos\\java\\hello-world\\eclipse\\workspace\\hello-world\\EMBEDDED\r\nJava version: 1.7.0_79, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.7.0_79\\jre\r\nDefault locale: es_ES, platform encoding: UTF-8\r\nOS name: &quot;windows 8.1&quot;, version: &quot;6.3&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n---------------------------------------------------\r\nconstituent[0]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/\r\nconstituent[1]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-core-3.8.4.jar\r\nconstituent[2]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-model-3.8.4.jar\r\nconstituent[3]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-settings-3.8.4.jar\r\nconstituent[4]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-settings-builder-3.8.4.jar\r\nconstituent[5]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-builder-support-3.8.4.jar\r\nconstituent[6]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-repository-metadata-3.8.4.jar\r\nconstituent[7]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-artifact-3.8.4.jar\r\nconstituent[8]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-plugin-api-3.8.4.jar\r\nconstituent[9]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-model-builder-3.8.4.jar\r\nconstituent[10]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-provider-3.8.4.jar\r\nconstituent[11]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-api-1.6.3.jar\r\nconstituent[12]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-spi-1.6.3.jar\r\nconstituent[13]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-util-1.6.3.jar\r\nconstituent[14]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-shared-utils-3.3.4.jar\r\nconstituent[15]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-io-2.6.jar\r\nconstituent[16]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/org.eclipse.sisu.inject-0.3.5.jar\r\nconstituent[17]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/guice-4.2.2-no_aop.jar\r\nconstituent[18]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-utils-3.3.0.jar\r\nconstituent[19]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-interpolation-1.26.jar\r\nconstituent[20]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-component-annotations-2.1.0.jar\r\nconstituent[21]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-lang3-3.8.1.jar\r\nconstituent[22]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-embedder-3.8.4.jar\r\nconstituent[23]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/javax.annotation-api-1.2.jar\r\nconstituent[24]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-sec-dispatcher-2.0.jar\r\nconstituent[25]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-cipher-2.0.jar\r\nconstituent[26]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-cli-1.4.jar\r\nconstituent[27]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-compat-3.8.4.jar\r\nconstituent[28]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/wagon-provider-api-3.4.3.jar\r\nconstituent[29]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/org.eclipse.sisu.plexus-0.3.5.jar\r\nconstituent[30]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/aether-connector-okhttp-0.17.8.jar\r\nconstituent[31]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/okhttp-3.14.1.jar\r\nconstituent[32]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/okio-1.17.3.jar\r\nconstituent[33]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-impl-1.6.3.jar\r\nconstituent[34]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-connector-basic-1.6.3.jar\r\nconstituent[35]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-transport-wagon-1.6.3.jar\r\nconstituent[36]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/wagon-file-3.4.3.jar\r\nconstituent[37]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/jansi-2.4.0.jar\r\nconstituent[38]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.18.1.20211008-0657/\r\nconstituent[39]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.18.1.20211008-0657/jars/slf4j-simple-1.7.30.jar\r\nconstituent[40]: file:/D:/Proyectos/java/hello-world/eclipse/configuration/org.eclipse.osgi/9/0/.cp/\r\nconstituent[41]: file:/D:/Proyectos/java/hello-world/eclipse/configuration/org.eclipse.osgi/879/0/.cp/\r\nconstituent[42]: file:/D:/Proyectos/java/hello-world/eclipse/configuration/org.eclipse.osgi/30/0/.cp/\r\n---------------------------------------------------\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/google/common/collect/ImmutableSet : Unsupported major.minor version 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\r\n\tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n\tat com.google.inject.internal.Errors.&lt;clinit&gt;(Errors.java:105)\r\n\tat com.google.inject.internal.InternalInjectorCreator.&lt;init&gt;(InternalInjectorCreator.java:61)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:87)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:69)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:59)\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\r\n\tat org.apache.maven.cli.MavenCli.container(MavenCli.java:651)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n```\r\n\r\nBut, if I change the JRE compiler to 1.8, the build is success:\r\n[![enter image description here][2]][2]\r\n\r\nFurthermore, if I configure a new maven runtime with Maven 3.6.2, external of eclipse, I can compile with Java 1.7 and Java 1.8.\r\n\r\nThis is my pom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hello-world&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;hello-world Maven Webapp&lt;/name&gt;\r\n\t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n\t&lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;hello-world&lt;/finalName&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSo, it&#39;s a eclipse bug? or isn&#180;t really compatible Maven 3.8.4 with Java 7? Or I missing any extra config?\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://maven.apache.org/docs/history.html\r\n  [2]: https://i.stack.imgur.com/NXBRF.png","title":"Maven build fails through Eclipse with Java 7","body":"<p>I've set up a new Maven project webapp with Eclipse 2022-06 (4.24.0) which has Maven 3.8.4 embedded. According to the <a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">Maven release notes info</a> requires Java 1.7.</p>\n<p>If I do a package with Java 1.7, the build fails with an error that indicates that need Java 1.8:</p>\n<pre><code>Apache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\nMaven home: D:\\Proyectos\\java\\hello-world\\eclipse\\workspace\\hello-world\\EMBEDDED\nJava version: 1.7.0_79, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.7.0_79\\jre\nDefault locale: es_ES, platform encoding: UTF-8\nOS name: &quot;windows 8.1&quot;, version: &quot;6.3&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n---------------------------------------------------\nconstituent[0]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/\nconstituent[1]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-core-3.8.4.jar\nconstituent[2]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-model-3.8.4.jar\nconstituent[3]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-settings-3.8.4.jar\nconstituent[4]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-settings-builder-3.8.4.jar\nconstituent[5]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-builder-support-3.8.4.jar\nconstituent[6]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-repository-metadata-3.8.4.jar\nconstituent[7]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-artifact-3.8.4.jar\nconstituent[8]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-plugin-api-3.8.4.jar\nconstituent[9]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-model-builder-3.8.4.jar\nconstituent[10]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-provider-3.8.4.jar\nconstituent[11]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-api-1.6.3.jar\nconstituent[12]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-spi-1.6.3.jar\nconstituent[13]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-util-1.6.3.jar\nconstituent[14]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-shared-utils-3.3.4.jar\nconstituent[15]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-io-2.6.jar\nconstituent[16]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/org.eclipse.sisu.inject-0.3.5.jar\nconstituent[17]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/guice-4.2.2-no_aop.jar\nconstituent[18]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-utils-3.3.0.jar\nconstituent[19]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-interpolation-1.26.jar\nconstituent[20]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-component-annotations-2.1.0.jar\nconstituent[21]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-lang3-3.8.1.jar\nconstituent[22]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-embedder-3.8.4.jar\nconstituent[23]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/javax.annotation-api-1.2.jar\nconstituent[24]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-sec-dispatcher-2.0.jar\nconstituent[25]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-cipher-2.0.jar\nconstituent[26]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-cli-1.4.jar\nconstituent[27]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-compat-3.8.4.jar\nconstituent[28]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/wagon-provider-api-3.4.3.jar\nconstituent[29]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/org.eclipse.sisu.plexus-0.3.5.jar\nconstituent[30]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/aether-connector-okhttp-0.17.8.jar\nconstituent[31]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/okhttp-3.14.1.jar\nconstituent[32]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/okio-1.17.3.jar\nconstituent[33]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-impl-1.6.3.jar\nconstituent[34]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-connector-basic-1.6.3.jar\nconstituent[35]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-transport-wagon-1.6.3.jar\nconstituent[36]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/wagon-file-3.4.3.jar\nconstituent[37]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/jansi-2.4.0.jar\nconstituent[38]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.18.1.20211008-0657/\nconstituent[39]: file:/D:/Proyectos/java/hello-world/eclipse/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.18.1.20211008-0657/jars/slf4j-simple-1.7.30.jar\nconstituent[40]: file:/D:/Proyectos/java/hello-world/eclipse/configuration/org.eclipse.osgi/9/0/.cp/\nconstituent[41]: file:/D:/Proyectos/java/hello-world/eclipse/configuration/org.eclipse.osgi/879/0/.cp/\nconstituent[42]: file:/D:/Proyectos/java/hello-world/eclipse/configuration/org.eclipse.osgi/30/0/.cp/\n---------------------------------------------------\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/google/common/collect/ImmutableSet : Unsupported major.minor version 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    at com.google.inject.internal.Errors.&lt;clinit&gt;(Errors.java:105)\n    at com.google.inject.internal.InternalInjectorCreator.&lt;init&gt;(InternalInjectorCreator.java:61)\n    at com.google.inject.Guice.createInjector(Guice.java:87)\n    at com.google.inject.Guice.createInjector(Guice.java:69)\n    at com.google.inject.Guice.createInjector(Guice.java:59)\n    at org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\n    at org.apache.maven.cli.MavenCli.container(MavenCli.java:651)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n</code></pre>\n<p>But, if I change the JRE compiler to 1.8, the build is success:\n<a href=\"https://i.stack.imgur.com/NXBRF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NXBRF.png\" alt=\"enter image description here\" /></a></p>\n<p>Furthermore, if I configure a new maven runtime with Maven 3.6.2, external of eclipse, I can compile with Java 1.7 and Java 1.8.</p>\n<p>This is my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;hello-world&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;hello-world Maven Webapp&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;hello-world&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.7&lt;/source&gt;\n                        &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>So, it's a eclipse bug? or isn´t really compatible Maven 3.8.4 with Java 7? Or I missing any extra config?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","spring-cloud","kafka-consumer-api","event-listener"],"answers":[{"tags":[],"owner":{"account_id":5507150,"reputation":371,"user_id":4374701,"display_name":"akoz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669902265,"creation_date":1646901598,"answer_id":71421084,"question_id":71199098,"body_markdown":"According to Spring Cloud Stream [docs][1] you could use property `spring.cloud.stream.bindings.&lt;bindingName&gt;.consumer.autoStartup=false` which will stop `BindingService` from automatically starting consumer binding. Then you can do it yourself whenever you need, e.g. in `ApplicationReadyEvent` listener.\r\n\r\n    public class DelayedBindingStarter {\r\n\r\n        private final BindingsEndpoint bindingsEndpoint;\r\n\r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void applicationReady() {\r\n            bindingsEndpoint.changeState(&quot;binding_name&quot;, BindingsLifecycleController.State.STARTED);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_consumer_properties","title":"How to run consumer @StreamListener only after ApplicationReadyEvent method completed?","body":"<p>According to Spring Cloud Stream <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_consumer_properties\" rel=\"nofollow noreferrer\">docs</a> you could use property <code>spring.cloud.stream.bindings.&lt;bindingName&gt;.consumer.autoStartup=false</code> which will stop <code>BindingService</code> from automatically starting consumer binding. Then you can do it yourself whenever you need, e.g. in <code>ApplicationReadyEvent</code> listener.</p>\n<pre><code>public class DelayedBindingStarter {\n\n    private final BindingsEndpoint bindingsEndpoint;\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void applicationReady() {\n        bindingsEndpoint.changeState(&quot;binding_name&quot;, BindingsLifecycleController.State.STARTED);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71421084,"answer_count":1,"score":0,"last_activity_date":1669902265,"creation_date":1645393627,"question_id":71199098,"body_markdown":"I have a consumer method with\r\n\r\n```\r\n@StreamListener(target = Sink.INPUT)\r\nmethod()\r\n```\r\n\r\nAnd I have a method with an event listener\r\n```\r\n@EventListener(ApplicationReadyEvent.class)\r\nmethod()...\r\n```\r\n\r\nIs it possible to configure @StreamListener to start listening only after @EventListener method is completed?","title":"How to run consumer @StreamListener only after ApplicationReadyEvent method completed?","body":"<p>I have a consumer method with</p>\n<pre><code>@StreamListener(target = Sink.INPUT)\nmethod()\n</code></pre>\n<p>And I have a method with an event listener</p>\n<pre><code>@EventListener(ApplicationReadyEvent.class)\nmethod()...\n</code></pre>\n<p>Is it possible to configure @StreamListener to start listening only after @EventListener method is completed?</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669826194,"post_id":74631180,"comment_id":131732864,"body_markdown":"The scheduler will return a `BukkitTask` object (or similar) which has a #cancel method. You can also use `BukkitRunnable` which has a `#cancel` method within the class itself, allowing you to simply `this.cancel()` in the runnable body. Note that the `#onQuit` you&#39;ve shown is scheduling a second, _new_ task and then cancelling it, you are not cancelling the original task.","body":"The scheduler will return a <code>BukkitTask</code> object (or similar) which has a #cancel method. You can also use <code>BukkitRunnable</code> which has a <code>#cancel</code> method within the class itself, allowing you to simply <code>this.cancel()</code> in the runnable body. Note that the <code>#onQuit</code> you&#39;ve shown is scheduling a second, <i>new</i> task and then cancelling it, you are not cancelling the original task."},{"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"score":0,"creation_date":1669826636,"post_id":74631180,"comment_id":131733018,"body_markdown":"Thanks so much - please see the changed code above - shall I put &#39;if(!thePlayer.isOnline()) {&#39; in the first @event?","body":"Thanks so much - please see the changed code above - shall I put &#39;if(!thePlayer.isOnline()) {&#39; in the first @event?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669826806,"post_id":74631180,"comment_id":131733070,"body_markdown":"You shouldn&#39;t check `Player#isOnline` from a `PlayerQuitEvent`, but there&#39;s a larger problem of scope: `taskID` was defined in `#onLogin`, but this doesn&#39;t make it automatically available in `#onQuit`. While a naive approach could be storing `taskID` in a field, you&#39;ll end up with each new player joining overwriting the last `taskID`. The solution here imo is to use a `Map&lt;UUID, Integer&gt;` for the task IDs, and then removing them in `#onQuit` for the logging-off player.","body":"You shouldn&#39;t check <code>Player#isOnline</code> from a <code>PlayerQuitEvent</code>, but there&#39;s a larger problem of scope: <code>taskID</code> was defined in <code>#onLogin</code>, but this doesn&#39;t make it automatically available in <code>#onQuit</code>. While a naive approach could be storing <code>taskID</code> in a field, you&#39;ll end up with each new player joining overwriting the last <code>taskID</code>. The solution here imo is to use a <code>Map&lt;UUID, Integer&gt;</code> for the task IDs, and then removing them in <code>#onQuit</code> for the logging-off player."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669902145,"creation_date":1669902145,"answer_id":74642818,"question_id":74631180,"body_markdown":"You code is actually working only for one player. You should save task object for each player with a Map.\r\n\r\nI suggest you to use `runTaskTimer` to have a BukkitTask, then use like this:\r\n```java\r\nHashMap&lt;UUID, BukkitTask&gt; tasks = new HashMap&lt;&gt;()\r\n```\r\nWhen player login:\r\n```\r\nBukkitTask task = getServer().getScheduler().runTaskTimer(this, () -&gt; doThing(), 0, 20);\r\ntasks.put(player.getUniqueId(), task); // add in map\r\n```\r\nFinally, when player left:\r\n```java\r\nBukkitTask task = tasks.remove(player.getUniqueId()); // remove from map if exist\r\nif(task != null) { // task found\r\n   task.cancel();\r\n}\r\n```","title":"Cancelling a scheduled repeater on Bukkit/Java","body":"<p>You code is actually working only for one player. You should save task object for each player with a Map.</p>\n<p>I suggest you to use <code>runTaskTimer</code> to have a BukkitTask, then use like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;UUID, BukkitTask&gt; tasks = new HashMap&lt;&gt;()\n</code></pre>\n<p>When player login:</p>\n<pre><code>BukkitTask task = getServer().getScheduler().runTaskTimer(this, () -&gt; doThing(), 0, 20);\ntasks.put(player.getUniqueId(), task); // add in map\n</code></pre>\n<p>Finally, when player left:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BukkitTask task = tasks.remove(player.getUniqueId()); // remove from map if exist\nif(task != null) { // task found\n   task.cancel();\n}\n</code></pre>\n"}],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669902226,"creation_date":1669826057,"question_id":74631180,"body_markdown":"I am programming a plugin that **records the coordinates** of players in minecraft throughout the game, in Java with Bukkit API.\r\n\r\nI have used a **&#39;repeating task&#39;** structure in my bukkit/java code below. \r\n\r\nHowever, I need to **&#39;cancel&#39;** this repeating task when a **particular player** logs off, as otherwise, if player &#39;A&#39; logs in and logs off 50 times in a row, I will have 50 running tasks. \r\n\r\nThe idea is to stop the runnable of player &#39;A&#39; **if and only if** player &#39;A&#39; logs off (and not B). \r\n\r\nAm I right in saying that the following code will cancel the repeating task for a particular player only **when that particular player logs off**?\r\n\r\nI would be so grateful for a helping hand! \r\n\r\n```\r\n   @EventHandler\r\n    public void onLogin(final PlayerJoinEvent event) {\r\n        final Player thePlayer = event.getPlayer();\r\n        this.stopRepeater = true;\r\n        final Location playerSpawnLocation = thePlayer.getLocation();\r\n        getLogger().info(String.valueOf(thePlayer.getName()) + &quot; is logging in!&quot;);\r\n        getLogger().info(&quot;Welcome &quot; + thePlayer.getName() + &quot;. Your current position is: &quot; + playerSpawnLocation);\r\n        int taskID = Bukkit.getServer().getScheduler().scheduleSyncRepeatingTask(this, () -&gt; {\r\n            if(this.stopRepeater) {\r\n                this.logToFile(thePlayer, thePlayer.getLocation());\r\n            }\r\n        }, 0L, 20L);}\r\n    \r\n    @EventHandler\r\n    public void onQuit(final PlayerQuitEvent event) {\r\n    \tPlayer thePlayer = event.getPlayer(); \r\n    \tif(!thePlayer.isOnline()) {\r\n            this.stopRepeater = false;  \r\n            Bukkit.getScheduler().cancelTask(taskID); \r\n            getLogger().info(String.valueOf(event.getPlayer().getName()) + &quot; has left the game&quot;);\r\n    \t}\r\n    }\r\n```\r\n","title":"Cancelling a scheduled repeater on Bukkit/Java","body":"<p>I am programming a plugin that <strong>records the coordinates</strong> of players in minecraft throughout the game, in Java with Bukkit API.</p>\n<p>I have used a <strong>'repeating task'</strong> structure in my bukkit/java code below.</p>\n<p>However, I need to <strong>'cancel'</strong> this repeating task when a <strong>particular player</strong> logs off, as otherwise, if player 'A' logs in and logs off 50 times in a row, I will have 50 running tasks.</p>\n<p>The idea is to stop the runnable of player 'A' <strong>if and only if</strong> player 'A' logs off (and not B).</p>\n<p>Am I right in saying that the following code will cancel the repeating task for a particular player only <strong>when that particular player logs off</strong>?</p>\n<p>I would be so grateful for a helping hand!</p>\n<pre><code>   @EventHandler\n    public void onLogin(final PlayerJoinEvent event) {\n        final Player thePlayer = event.getPlayer();\n        this.stopRepeater = true;\n        final Location playerSpawnLocation = thePlayer.getLocation();\n        getLogger().info(String.valueOf(thePlayer.getName()) + &quot; is logging in!&quot;);\n        getLogger().info(&quot;Welcome &quot; + thePlayer.getName() + &quot;. Your current position is: &quot; + playerSpawnLocation);\n        int taskID = Bukkit.getServer().getScheduler().scheduleSyncRepeatingTask(this, () -&gt; {\n            if(this.stopRepeater) {\n                this.logToFile(thePlayer, thePlayer.getLocation());\n            }\n        }, 0L, 20L);}\n    \n    @EventHandler\n    public void onQuit(final PlayerQuitEvent event) {\n        Player thePlayer = event.getPlayer(); \n        if(!thePlayer.isOnline()) {\n            this.stopRepeater = false;  \n            Bukkit.getScheduler().cancelTask(taskID); \n            getLogger().info(String.valueOf(event.getPlayer().getName()) + &quot; has left the game&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","c#","android","kotlin","unity-game-engine"],"comments":[{"owner":{"account_id":19312652,"reputation":355,"user_id":14118026,"display_name":"Udhaya"},"score":0,"creation_date":1670153274,"post_id":74622912,"comment_id":131803258,"body_markdown":"The error seems not valid for your case. I mean the error is not because of the code you have posted. Have you used any dependencies like `com.gamepon.services`?","body":"The error seems not valid for your case. I mean the error is not because of the code you have posted. Have you used any dependencies like <code>com.gamepon.services</code>?"},{"owner":{"account_id":17735941,"reputation":11,"user_id":12877315,"display_name":"chronoschou"},"score":0,"creation_date":1670828771,"post_id":74622912,"comment_id":131955156,"body_markdown":"Hi thank you for the reply,I found out that it&#39;s something related to my api interface,I&#39;ll update my question","body":"Hi thank you for the reply,I found out that it&#39;s something related to my api interface,I&#39;ll update my question"}],"owner":{"account_id":17735941,"reputation":11,"user_id":12877315,"display_name":"chronoschou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669901026,"creation_date":1669782590,"question_id":74622912,"body_markdown":"**My Goal：**  \r\nHi,I&#39;m developing a mobile game that require Unity to call a function in Android.\r\n\r\n**I expect：**  \r\nThe result I&#39;m expecting is when Unity call a funtion in Android fragment, Android will return a data back to Unity, and it works.but...  \r\n  \r\n**Problems I got：**  \r\nBut the api inside the function doesn&#39;t work.\r\n\r\n**The Code and process：**  \r\n(The code in Unity is called script 1, and script 2 represent Android function I tried to call)  \r\n  \r\nI try to call the android function with Unity, so I used script 1(CallAndoirdFunctionFromUnity) \r\n\r\n```\r\n jo = new AndroidJavaObject(&quot;com.Myproject.ui.fragment.GameFragment&quot;);\r\n jo.Call(&quot;createData&quot;, new object[] {1});\r\n```\r\n\r\nto call createData function  in script 2, and I added :\r\n\r\n```\r\nprintln(&quot;startCreatData&quot;\r\n```\r\n\r\nto see if the createData  function in script 2 was successfully executed .  \r\n  \r\n**The Result：**  \r\nLogcat of Andorid Studio shown that the createData function was executed,but api errors occurred,this is the error message：\r\n\r\n```\r\nAndroidJavaException: java.lang.NullPointerException: Attempt to invoke interface method &#39;retrofit2.Call com.gamepon.services.RestAPIInterface.doUserDataRequestWithNumberOfData(java.lang.Integer, com.Myproject.model.request.CreateData)&#39; on a null object reference\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke interface method &#39;retrofit2.Call com.gamepon.services.RestAPIInterface.doUserDataRequestWithNumberOfData(java.lang.Integer, com.project.model.request.CreatDataRequest)&#39; on a null object reference\r\n```\r\n\r\nAny method to fix this error with API? thank you.","title":"How to call an Android function with Unity code without receiving API errors","body":"<p><strong>My Goal：</strong><br />\nHi,I'm developing a mobile game that require Unity to call a function in Android.</p>\n<p><strong>I expect：</strong><br />\nThe result I'm expecting is when Unity call a funtion in Android fragment, Android will return a data back to Unity, and it works.but...</p>\n<p><strong>Problems I got：</strong><br />\nBut the api inside the function doesn't work.</p>\n<p><strong>The Code and process：</strong><br />\n(The code in Unity is called script 1, and script 2 represent Android function I tried to call)</p>\n<p>I try to call the android function with Unity, so I used script 1(CallAndoirdFunctionFromUnity)</p>\n<pre><code> jo = new AndroidJavaObject(&quot;com.Myproject.ui.fragment.GameFragment&quot;);\n jo.Call(&quot;createData&quot;, new object[] {1});\n</code></pre>\n<p>to call createData function  in script 2, and I added :</p>\n<pre><code>println(&quot;startCreatData&quot;\n</code></pre>\n<p>to see if the createData  function in script 2 was successfully executed .</p>\n<p><strong>The Result：</strong><br />\nLogcat of Andorid Studio shown that the createData function was executed,but api errors occurred,this is the error message：</p>\n<pre><code>AndroidJavaException: java.lang.NullPointerException: Attempt to invoke interface method 'retrofit2.Call com.gamepon.services.RestAPIInterface.doUserDataRequestWithNumberOfData(java.lang.Integer, com.Myproject.model.request.CreateData)' on a null object reference\n                                                                                                    java.lang.NullPointerException: Attempt to invoke interface method 'retrofit2.Call com.gamepon.services.RestAPIInterface.doUserDataRequestWithNumberOfData(java.lang.Integer, com.project.model.request.CreatDataRequest)' on a null object reference\n</code></pre>\n<p>Any method to fix this error with API? thank you.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-security-rest"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1546250766,"post_id":53984320,"comment_id":94809351,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/39314176/filter-invoke-twice-when-register-as-spring-bean","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/39314176/filter-invoke-twice-when-register-as-spring-bean\" title=\"filter invoke twice when register as spring bean\">stackoverflow.com/questions/39314176/&hellip;</a>"},{"owner":{"account_id":5100087,"reputation":2121,"user_id":4089958,"accept_rate":54,"display_name":"eigenharsha"},"score":0,"creation_date":1546327696,"post_id":53984320,"comment_id":94825026,"body_markdown":"@dur nope, I just want to disable filter for particular api that configured in webSecurity.ignoring().","body":"@dur nope, I just want to disable filter for particular api that configured in webSecurity.ignoring()."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1546339291,"post_id":53984320,"comment_id":94826941,"body_markdown":"Yes, I know. And?","body":"Yes, I know. And?"},{"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"score":0,"creation_date":1670055446,"post_id":53984320,"comment_id":131787632,"body_markdown":"Duplicate, Here is the answer: https://stackoverflow.com/a/74642554/4972367","body":"Duplicate, Here is the answer: <a href=\"https://stackoverflow.com/a/74642554/4972367\">stackoverflow.com/a/74642554/4972367</a>"}],"owner":{"account_id":5100087,"reputation":2121,"user_id":4089958,"accept_rate":54,"display_name":"eigenharsha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669900937,"creation_date":1546237863,"question_id":53984320,"body_markdown":"I created a custom filter for token authentication `AuthenticationTokenFilter ` and it is extended by `OncePerRequestFilter`. I configure some APIs as whitelist APIs in my `SecurityConfig`, for these whitelist Apis, I tried to bypass my `AuthenticationTokenFilter `.\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @Order(SecurityProperties.BASIC_AUTH_ORDER)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private AuthenticationTokenFilter authenticationTokenFilter;\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n        \r\n            http.authorizeRequests().\r\n                regexMatchers(&quot;^(?!/webjars/).*&quot;,\r\n                        &quot;^(?!/swagger-resources/).*&quot;,\r\n                        &quot;^(?!/swagger-ui.html).*&quot;).permitAll().\r\n                antMatchers(&quot;/healthcheck/ping&quot;,\r\n                        &quot;/user&quot; + ApiMapper.SIGN_IN_API,\r\n                        &quot;/user&quot; + ApiMapper.FORGET_PASSWORD,\r\n                        &quot;/user&quot; + ApiMapper.SIGN_OUT_API,\r\n                        ApiMapper.SWAGGER_RESOURCE,\r\n                        ApiMapper.FAVICON_ICO,\r\n                        ApiMapper.APP_ENDPOINTS).permitAll().\r\n                anyRequest().authenticated().\r\n                and().\r\n                // If user isn&#39;t authorised to access a path...\r\n                        exceptionHandling().\r\n                // ...redirect them to /403\r\n                        accessDeniedPage(&quot;/403&quot;).\r\n                and().\r\n                anonymous().disable();\r\n\r\n            http.addFilterBefore(authenticationTokenFilter, BasicAuthenticationFilter.class);\r\n        }\r\n\r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n\r\n            web.ignoring().\r\n                regexMatchers(&quot;^(?!/webjars/).*&quot;).\r\n                regexMatchers(&quot;^(?!/swagger-resources/).*&quot;).\r\n                regexMatchers(&quot;^(?!/swagger-ui.html/).*&quot;).\r\n                antMatchers(&quot;/healthcheck/ping&quot;,\r\n                &quot;/user&quot; + ApiMapper.SIGN_IN_API,\r\n                &quot;/user&quot; + ApiMapper.FORGET_PASSWORD,\r\n                &quot;/user&quot; + ApiMapper.SIGN_OUT_API,\r\n                ApiMapper.SWAGGER_RESOURCE + &quot;/.*&quot;,\r\n                ApiMapper.FAVICON_ICO,\r\n                ApiMapper.APP_ENDPOINTS);\r\n        }\r\n    }\r\n\r\nI found a similar answer [here][1] but I already ignoring at `WebSecurity` configuration. So, why I need to write the same on Filter level.\r\n\r\nWhere I&#39;m doing wrong or maybe I&#39;m in the wrong context.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52370411/springboot-bypass-onceperrequestfilter-filters","title":"How to ignore OncePerRequestFilter for specific apis","body":"<p>I created a custom filter for token authentication <code>AuthenticationTokenFilter</code> and it is extended by <code>OncePerRequestFilter</code>. I configure some APIs as whitelist APIs in my <code>SecurityConfig</code>, for these whitelist Apis, I tried to bypass my <code>AuthenticationTokenFilter</code>.</p>\n\n<pre><code>@EnableWebSecurity\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@Order(SecurityProperties.BASIC_AUTH_ORDER)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private AuthenticationTokenFilter authenticationTokenFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests().\n            regexMatchers(\"^(?!/webjars/).*\",\n                    \"^(?!/swagger-resources/).*\",\n                    \"^(?!/swagger-ui.html).*\").permitAll().\n            antMatchers(\"/healthcheck/ping\",\n                    \"/user\" + ApiMapper.SIGN_IN_API,\n                    \"/user\" + ApiMapper.FORGET_PASSWORD,\n                    \"/user\" + ApiMapper.SIGN_OUT_API,\n                    ApiMapper.SWAGGER_RESOURCE,\n                    ApiMapper.FAVICON_ICO,\n                    ApiMapper.APP_ENDPOINTS).permitAll().\n            anyRequest().authenticated().\n            and().\n            // If user isn't authorised to access a path...\n                    exceptionHandling().\n            // ...redirect them to /403\n                    accessDeniedPage(\"/403\").\n            and().\n            anonymous().disable();\n\n        http.addFilterBefore(authenticationTokenFilter, BasicAuthenticationFilter.class);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n\n        web.ignoring().\n            regexMatchers(\"^(?!/webjars/).*\").\n            regexMatchers(\"^(?!/swagger-resources/).*\").\n            regexMatchers(\"^(?!/swagger-ui.html/).*\").\n            antMatchers(\"/healthcheck/ping\",\n            \"/user\" + ApiMapper.SIGN_IN_API,\n            \"/user\" + ApiMapper.FORGET_PASSWORD,\n            \"/user\" + ApiMapper.SIGN_OUT_API,\n            ApiMapper.SWAGGER_RESOURCE + \"/.*\",\n            ApiMapper.FAVICON_ICO,\n            ApiMapper.APP_ENDPOINTS);\n    }\n}\n</code></pre>\n\n<p>I found a similar answer <a href=\"https://stackoverflow.com/questions/52370411/springboot-bypass-onceperrequestfilter-filters\">here</a> but I already ignoring at <code>WebSecurity</code> configuration. So, why I need to write the same on Filter level.</p>\n\n<p>Where I'm doing wrong or maybe I'm in the wrong context.</p>\n"},{"tags":["java","filenotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248979874,"creation_date":1248979874,"answer_id":1208580,"question_id":1208566,"body_markdown":"Perhaps the application doesn&#39;t have the correct access to write to the file? Is it read-only or otherwise protected?\r\n\r\n`FileOutputStream.open()` is a native method, I would assume any sort of exception message such as &quot;The parameter is incorrect&quot; is coming from the underlying OS.\r\n\r\n**BTW:** the `File` constructor does not call `FileOutputStream.open()`, so is the exception not actually coming from the code you posted here?","title":"Typically, what does it mean when java returns a &quot;The parameter is incorrect&quot;","body":"<p>Perhaps the application doesn't have the correct access to write to the file? Is it read-only or otherwise protected?</p>\n\n<p><code>FileOutputStream.open()</code> is a native method, I would assume any sort of exception message such as \"The parameter is incorrect\" is coming from the underlying OS.</p>\n\n<p><strong>BTW:</strong> the <code>File</code> constructor does not call <code>FileOutputStream.open()</code>, so is the exception not actually coming from the code you posted here?</p>\n"},{"tags":[],"owner":{"account_id":32633,"reputation":65360,"user_id":90691,"accept_rate":87,"display_name":"marcgg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248979930,"creation_date":1248979930,"answer_id":1208587,"question_id":1208566,"body_markdown":"Maybe it&#39;s because of the backslashes in the path? Path too long? File name invalid for this error (special caracters...) ? \r\n\r\nI might be totally wrong, but worth a try since it sounds like a OS dependent error.","title":"Typically, what does it mean when java returns a &quot;The parameter is incorrect&quot;","body":"<p>Maybe it's because of the backslashes in the path? Path too long? File name invalid for this error (special caracters...) ? </p>\n\n<p>I might be totally wrong, but worth a try since it sounds like a OS dependent error.</p>\n"},{"tags":[],"owner":{"account_id":27831,"reputation":10324,"user_id":73826,"accept_rate":100,"display_name":"JeffH"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669900814,"creation_date":1248980408,"answer_id":1208633,"question_id":1208566,"body_markdown":"This looks like a [reported bug][1] on Windows machines.\r\n\r\nUnder normal situations, something like a path that has a colon (:) in it which does not refer to a drive letter would cause this message.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6262148","title":"Typically, what does it mean when java returns a &quot;The parameter is incorrect&quot;","body":"<p>This looks like a <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6262148\" rel=\"nofollow noreferrer\">reported bug</a> on Windows machines.</p>\n<p>Under normal situations, something like a path that has a colon (:) in it which does not refer to a drive letter would cause this message.</p>\n"},{"tags":[],"owner":{"account_id":47768,"reputation":485,"user_id":141597,"display_name":"Doldrim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1248980603,"creation_date":1248980603,"answer_id":1208653,"question_id":1208566,"body_markdown":"It appears to be an issue with the path you&#39;re using. Try using file.getPath() before you open it to debug what is going on with your path.\r\n\r\n    \r\n    File file = new File(workingDir, obj.getName() + &quot;.xls&quot;);\r\n    System.out.println(&quot;Path=&quot;+file.getPath());\r\n    outputStream = new FileOutputStream(file);","title":"Typically, what does it mean when java returns a &quot;The parameter is incorrect&quot;","body":"<p>It appears to be an issue with the path you're using. Try using file.getPath() before you open it to debug what is going on with your path.</p>\n\n<pre><code>File file = new File(workingDir, obj.getName() + \".xls\");\nSystem.out.println(\"Path=\"+file.getPath());\noutputStream = new FileOutputStream(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249002638,"creation_date":1249002638,"answer_id":1210205,"question_id":1208566,"body_markdown":"\r\nIf your &quot;workingDir&quot; is a relative path, then are you sure you are on the correct &quot;current directory&quot; when you moved your app from unix to windows? Maybe, you should check what the current directory of the running application is.","title":"Typically, what does it mean when java returns a &quot;The parameter is incorrect&quot;","body":"<p>If your \"workingDir\" is a relative path, then are you sure you are on the correct \"current directory\" when you moved your app from unix to windows? Maybe, you should check what the current directory of the running application is.</p>\n"},{"tags":[],"owner":{"account_id":49243,"reputation":129,"user_id":146549,"display_name":"df."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1249005652,"creation_date":1249005652,"answer_id":1210317,"question_id":1208566,"body_markdown":"Make sure the user that runs the JVM process has the right permissions to access that file.","title":"Typically, what does it mean when java returns a &quot;The parameter is incorrect&quot;","body":"<p>Make sure the user that runs the JVM process has the right permissions to access that file.</p>\n"}],"owner":{"display_name":"user130532"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5668,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1208633,"answer_count":6,"score":4,"last_activity_date":1669900814,"creation_date":1248979708,"question_id":1208566,"body_markdown":"I am creating a file like so \r\n\r\n    try {\r\n        File file = new File(workingDir, obj.getName() + &quot;.xls&quot;);\r\n        outputStream = new FileOutputStream(file);\r\n    } catch (FileNotFoundException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\n\r\nAnd I am getting \r\n\r\n    java.io.FileNotFoundException: ..\\a\\relative\\path\\obj_name.xls (The parameter is incorrect)\r\n        at java.io.FileOutputStream.open(Native Method)\r\n        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\r\n        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\r\n\r\nWhat does &quot;the parameter is incorrect&quot; mean? The pathname I validated exists; shouldn&#39;t it just create the file name? This is on a windows machine. The code works without this error on unix based systems. \r\n\r\n\r\n--- \r\n**Update**\r\n\r\nVerified that the file exists that the output stream is attempting to write to. Also verified that the file is writable. After much fussing, I removed the actual path and just passed in the file name (not desired) and that works. So the issue has something to do with the path. Do I need to escape the characters in the path? ","title":"Typically, what does it mean when java returns a &quot;The parameter is incorrect&quot;","body":"<p>I am creating a file like so </p>\n\n<pre><code>try {\n    File file = new File(workingDir, obj.getName() + \".xls\");\n    outputStream = new FileOutputStream(file);\n} catch (FileNotFoundException ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n\n<p>And I am getting </p>\n\n<pre><code>java.io.FileNotFoundException: ..\\a\\relative\\path\\obj_name.xls (The parameter is incorrect)\n    at java.io.FileOutputStream.open(Native Method)\n    at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\n    at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\n</code></pre>\n\n<p>What does \"the parameter is incorrect\" mean? The pathname I validated exists; shouldn't it just create the file name? This is on a windows machine. The code works without this error on unix based systems. </p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Verified that the file exists that the output stream is attempting to write to. Also verified that the file is writable. After much fussing, I removed the actual path and just passed in the file name (not desired) and that works. So the issue has something to do with the path. Do I need to escape the characters in the path? </p>\n"},{"tags":["java","eclipse","wsdl","jax-ws"],"comments":[{"owner":{"account_id":97300,"reputation":547,"user_id":263995,"accept_rate":86,"display_name":"Sanjay Rao"},"score":0,"creation_date":1338702817,"post_id":10868169,"comment_id":14160080,"body_markdown":"I found this link but couldn&#39;t understand much http://www.eclipse.org/webtools/jst/components/ws/1.0/news/jst-ws-1.0news.html","body":"I found this link but couldn&#39;t understand much <a href=\"http://www.eclipse.org/webtools/jst/components/ws/1.0/news/jst-ws-1.0news.html\" rel=\"nofollow noreferrer\">eclipse.org/webtools/jst/components/ws/1.0/news/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1548429,"reputation":3528,"user_id":1441374,"accept_rate":68,"display_name":"Omkar Shetkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339047202,"creation_date":1339047202,"answer_id":10926193,"question_id":10868169,"body_markdown":"I was getting the same error with CXF version 2.6.1. But I tried with CXF version 2.3.11. Now it works :) but not clear why it doesn&#39;t work with version 2.6.1.","title":"eclipse error: Selection must be WSDL","body":"<p>I was getting the same error with CXF version 2.6.1. But I tried with CXF version 2.3.11. Now it works :) but not clear why it doesn't work with version 2.6.1.</p>\n"},{"tags":[],"owner":{"account_id":2262235,"reputation":36,"user_id":1991993,"display_name":"John Taylor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1358553786,"creation_date":1358553786,"answer_id":14409630,"question_id":10868169,"body_markdown":"hmm I got the same message with CXF 2.7.2\r\n\r\nI went back and added annotations within the create a Service Endpoint Interface section of the wizard (I created and SEI) and it worked.\r\n\r\nI think, because neither my implementation nor the service endpoint interface had annotations originally, the WSDL could not be generated and the wizard could not continue, generating a &#39;Selection must be WSDL&#39; message instead...or at least that is my belief at the moment :)","title":"eclipse error: Selection must be WSDL","body":"<p>hmm I got the same message with CXF 2.7.2</p>\n\n<p>I went back and added annotations within the create a Service Endpoint Interface section of the wizard (I created and SEI) and it worked.</p>\n\n<p>I think, because neither my implementation nor the service endpoint interface had annotations originally, the WSDL could not be generated and the wizard could not continue, generating a 'Selection must be WSDL' message instead...or at least that is my belief at the moment :)</p>\n"},{"tags":[],"owner":{"account_id":1547802,"reputation":668,"user_id":1440910,"accept_rate":25,"display_name":"Sriks"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1358886097,"creation_date":1358886097,"answer_id":14467316,"question_id":10868169,"body_markdown":"I have got the same Error with CXF 2.7.1. This Error happened When I got 2 Services in WSDL and try to create Web Service Client out of it. I don&#39;t know why its showing up weird error because I am generating Client stubs from WSDL only. But when I create with One Service in WSDL, I didn&#39;t get any error. Do you know how to handle WSDL when its got 2 Services inside? How to generate Client out of that WSDL.","title":"eclipse error: Selection must be WSDL","body":"<p>I have got the same Error with CXF 2.7.1. This Error happened When I got 2 Services in WSDL and try to create Web Service Client out of it. I don't know why its showing up weird error because I am generating Client stubs from WSDL only. But when I create with One Service in WSDL, I didn't get any error. Do you know how to handle WSDL when its got 2 Services inside? How to generate Client out of that WSDL.</p>\n"},{"tags":[],"owner":{"account_id":2463633,"reputation":119,"user_id":2147205,"accept_rate":22,"display_name":"montjoile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382477697,"creation_date":1382477697,"answer_id":19528815,"question_id":10868169,"body_markdown":"I was having the same error and got the thing work by rigth-clicking the java class and selecting new-&gt;web service, instead of selecting the java resources package","title":"eclipse error: Selection must be WSDL","body":"<p>I was having the same error and got the thing work by rigth-clicking the java class and selecting new->web service, instead of selecting the java resources package</p>\n"},{"tags":[],"owner":{"account_id":3996614,"reputation":1,"user_id":3293931,"display_name":"jasonMcneel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392052985,"creation_date":1392052985,"answer_id":21683843,"question_id":10868169,"body_markdown":"&gt; In the wizard Web Service type is Bottom up Java Bean Web Service. There are two sliders and i want it to indicate Test Service and Test Client to recreate the error i.e Selection must be WSDL which appears at the end of Test Client. \r\n\r\nBeneath the &quot;Bottom up Java Bean Web Service&quot; you specified a class.\r\nInspect this class&#39; methods. \r\nThe methods cannot have an unknown (to the web service client&#39;s) return values.","title":"eclipse error: Selection must be WSDL","body":"<blockquote>\n  <p>In the wizard Web Service type is Bottom up Java Bean Web Service. There are two sliders and i want it to indicate Test Service and Test Client to recreate the error i.e Selection must be WSDL which appears at the end of Test Client. </p>\n</blockquote>\n\n<p>Beneath the \"Bottom up Java Bean Web Service\" you specified a class.\nInspect this class' methods. \nThe methods cannot have an unknown (to the web service client's) return values.</p>\n"},{"tags":[],"owner":{"account_id":5629051,"reputation":1,"user_id":4456485,"display_name":"Lim Ki Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421307236,"creation_date":1421307236,"answer_id":27958616,"question_id":10868169,"body_markdown":"I was the same error But I solved it.\r\nMy case is ... Because class not created. First check your compile class,  Build path &gt; output folder.\r\nif class not found then Build Path &gt; Order and Export :  all check after  Project Clean and\r\ncheck compile class.\r\nSorry I&#39;m poor English But Let you know my experience.\r\nGood luck !\r\n\r\n    ","title":"eclipse error: Selection must be WSDL","body":"<p>I was the same error But I solved it.\nMy case is ... Because class not created. First check your compile class,  Build path > output folder.\nif class not found then Build Path > Order and Export :  all check after  Project Clean and\ncheck compile class.\nSorry I'm poor English But Let you know my experience.\nGood luck !</p>\n"},{"tags":[],"owner":{"account_id":5388081,"reputation":341,"user_id":4291412,"accept_rate":33,"display_name":"Ashish"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1438835558,"creation_date":1438835558,"answer_id":31846899,"question_id":10868169,"body_markdown":"I am newbie in Java WebService and was also facing the similar issue while following a [tutorial][1] \r\n\r\n\r\n  [1]: https://angelozerr.wordpress.com/2011/08/23/jaxwscxf_step1/\r\n\r\nI downgraded the CXF version from 3.1.1 to 2.4.2, cleaned-out the old dependencies and rebuilt the project. And it started working for me.\r\n\r\nP.S. - I am using JDK 1.7.","title":"eclipse error: Selection must be WSDL","body":"<p>I am newbie in Java WebService and was also facing the similar issue while following a <a href=\"https://angelozerr.wordpress.com/2011/08/23/jaxwscxf_step1/\" rel=\"nofollow\">tutorial</a> </p>\n\n<p>I downgraded the CXF version from 3.1.1 to 2.4.2, cleaned-out the old dependencies and rebuilt the project. And it started working for me.</p>\n\n<p>P.S. - I am using JDK 1.7.</p>\n"},{"tags":[],"owner":{"account_id":9774637,"reputation":1,"user_id":7245149,"display_name":"Maciek Tokarczyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480770924,"creation_date":1480770924,"answer_id":40948152,"question_id":10868169,"body_markdown":"Actually just changing the CXF version helped me. I Recommend to do the same\r\nThanks","title":"eclipse error: Selection must be WSDL","body":"<p>Actually just changing the CXF version helped me. I Recommend to do the same\nThanks</p>\n"},{"tags":[],"owner":{"account_id":12489888,"reputation":1,"user_id":9091816,"display_name":"Keshav Varma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669900497,"creation_date":1669900497,"answer_id":74642471,"question_id":10868169,"body_markdown":"None of the answer work for me as well. So I observed that launching the server and client together showed this error for the client. When I tried starting the only server keeping client off I am able to do that without any issues. Only thing is that I don&#39;t get UI to test the service, but I can test it using soap UI.","title":"eclipse error: Selection must be WSDL","body":"<p>None of the answer work for me as well. So I observed that launching the server and client together showed this error for the client. When I tried starting the only server keeping client off I am able to do that without any issues. Only thing is that I don't get UI to test the service, but I can test it using soap UI.</p>\n"}],"owner":{"account_id":97300,"reputation":547,"user_id":263995,"accept_rate":86,"display_name":"Sanjay Rao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20689,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14409630,"answer_count":9,"score":7,"last_activity_date":1669900497,"creation_date":1338702078,"question_id":10868169,"body_markdown":"I am trying to create a simple web service using Apache CXF 2.6 runtime in Tomcat v7 using Java in Eclipse. I am following this tutorial http://www.youtube.com/watch?v=o2Vjs8ylmFM&amp;feature=autoplay&amp;list=ULtSVs_nwD1Ug&amp;playnext=1\r\n\r\nIn this video i am following the wizard create a new XML based Web Service in Eclipse.\r\n\r\nIn the wizard Web Service type is Bottom up Java Bean Web Service. There are two sliders and i want it to indicate Test Service and Test Client to recreate the error i.e Selection must be WSDL which appears at the end of Test Client. \r\n\r\nPlease help me understand what am i missing ?","title":"eclipse error: Selection must be WSDL","body":"<p>I am trying to create a simple web service using Apache CXF 2.6 runtime in Tomcat v7 using Java in Eclipse. I am following this tutorial <a href=\"http://www.youtube.com/watch?v=o2Vjs8ylmFM&amp;feature=autoplay&amp;list=ULtSVs_nwD1Ug&amp;playnext=1\" rel=\"noreferrer\">http://www.youtube.com/watch?v=o2Vjs8ylmFM&amp;feature=autoplay&amp;list=ULtSVs_nwD1Ug&amp;playnext=1</a></p>\n\n<p>In this video i am following the wizard create a new XML based Web Service in Eclipse.</p>\n\n<p>In the wizard Web Service type is Bottom up Java Bean Web Service. There are two sliders and i want it to indicate Test Service and Test Client to recreate the error i.e Selection must be WSDL which appears at the end of Test Client. </p>\n\n<p>Please help me understand what am i missing ?</p>\n"},{"tags":["java","time","intervals"],"comments":[{"owner":{"account_id":446019,"reputation":48115,"user_id":838807,"accept_rate":89,"display_name":"musefan"},"score":2,"creation_date":1436273010,"post_id":31268818,"comment_id":50532211,"body_markdown":"possible duplicate of [java: run a function after a specific number of seconds](http://stackoverflow.com/questions/2258066/java-run-a-function-after-a-specific-number-of-seconds)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2258066/java-run-a-function-after-a-specific-number-of-seconds\">java: run a function after a specific number of seconds</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user5073753"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1436276540,"creation_date":1436274001,"answer_id":31269218,"question_id":31268818,"body_markdown":"The answer is using the javax.swing.Timer and java.util.Timer together:\r\n\r\n        private static javax.swing.Timer t; \r\n    \tpublic static void main(String[] args) {\r\n    \t\tt = null;\r\n    \t\tt = new Timer(2000,new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tSystem.out.println(&quot;Printing statement after every 2 seconds&quot;);\r\n    \t\t\t\t//t.stop(); // if you want only one print uncomment this line\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\tjava.util.Timer tt = new java.util.Timer(false);\r\n    \t\ttt.schedule(new TimerTask() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tt.start();\r\n    \t\t\t}\r\n    \t\t}, 0);\r\n    \t}\r\n\r\nObviously you can achieve the printing intervals of 2 seconds with the use of java.util.Timer only, but if you want to stop it after one printing it would be difficult somehow.\r\n\r\nAlso do not mix threads in your code while you can do it without threads!\r\n\r\n\r\nHope this would be helpful!\r\n\r\n","title":"Time interval in Java","body":"<p>The answer is using the javax.swing.Timer and java.util.Timer together:</p>\n\n<pre><code>    private static javax.swing.Timer t; \n    public static void main(String[] args) {\n        t = null;\n        t = new Timer(2000,new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                System.out.println(\"Printing statement after every 2 seconds\");\n                //t.stop(); // if you want only one print uncomment this line\n            }\n        });\n\n        java.util.Timer tt = new java.util.Timer(false);\n        tt.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                t.start();\n            }\n        }, 0);\n    }\n</code></pre>\n\n<p>Obviously you can achieve the printing intervals of 2 seconds with the use of java.util.Timer only, but if you want to stop it after one printing it would be difficult somehow.</p>\n\n<p>Also do not mix threads in your code while you can do it without threads!</p>\n\n<p>Hope this would be helpful!</p>\n"},{"tags":[],"owner":{"account_id":4271424,"reputation":176,"user_id":3493153,"accept_rate":69,"display_name":"Vishnu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436276381,"creation_date":1436274987,"answer_id":31269640,"question_id":31268818,"body_markdown":"Create a Class:\r\n\r\n    class SayHello extends TimerTask {\r\n        public void run() {\r\n           System.out.println(&quot;Printing statement after every 2 seconds&quot;); \r\n        }\r\n    }\r\n\r\nCall the same from your main method:\r\n\r\n    public class sample {\r\n\t    public static void main(String[] args) {\r\n\t\t    Timer timer = new Timer();\r\n\t\t    timer.schedule(new SayHello(), 2000, 2000);\r\n                                                   \r\n\t    }\r\n    }\r\n","title":"Time interval in Java","body":"<p>Create a Class:</p>\n\n<pre><code>class SayHello extends TimerTask {\n    public void run() {\n       System.out.println(\"Printing statement after every 2 seconds\"); \n    }\n}\n</code></pre>\n\n<p>Call the same from your main method:</p>\n\n<pre><code>public class sample {\n    public static void main(String[] args) {\n        Timer timer = new Timer();\n        timer.schedule(new SayHello(), 2000, 2000);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10515039,"reputation":81,"user_id":7749404,"display_name":"ragavan B.V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631117802,"creation_date":1631117802,"answer_id":69106546,"question_id":31268818,"body_markdown":"It can be achieved using Timer class\r\n\r\n    new Timer().scheduleAtFixedRate(new TimerTask(){\r\n    \t\t    @Override\r\n    \t\t    public void run(){\r\n    \t\t       System.out.println(&quot;print after every 5 seconds&quot;);\r\n    \t\t    }\r\n    \t\t},0,5000);\r\n    \t\t\r\n\r\n\t\r\n","title":"Time interval in Java","body":"<p>It can be achieved using Timer class</p>\n<pre><code>new Timer().scheduleAtFixedRate(new TimerTask(){\n            @Override\n            public void run(){\n               System.out.println(&quot;print after every 5 seconds&quot;);\n            }\n        },0,5000);\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25249790,"reputation":1,"user_id":19082443,"display_name":"Programmer Mahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669900462,"creation_date":1669430744,"answer_id":74579371,"question_id":31268818,"body_markdown":"**You Must try this code. It works for me. **\r\nUse *Visual Studio* and create Main.java file then paste this code and right click mouse&gt;run java\r\n\r\n    `public class Main {\r\n    public static void main(String[] args) {\r\n      for (int i = 0; i &lt;= 12; i++) {\r\n        System.out.println(i);\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n        }\r\n      }  \r\n    }\r\n  }\r\n  `","title":"Time interval in Java","body":"<p>**You Must try this code. It works for me. **\nUse <em>Visual Studio</em> and create Main.java file then paste this code and right click mouse&gt;run java</p>\n<pre><code>`public class Main {\npublic static void main(String[] args) {\n  for (int i = 0; i &lt;= 12; i++) {\n    System.out.println(i);\n    try {\n        Thread.sleep(1000);\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n  }  \n}\n</code></pre>\n<p>}\n`</p>\n"}],"owner":{"account_id":6089643,"reputation":23,"user_id":4752413,"display_name":"Naveed Jamali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20381,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":31269218,"answer_count":4,"score":1,"last_activity_date":1669900462,"creation_date":1436272890,"question_id":31268818,"body_markdown":"how to call a method after a time interval?\r\ne.g if want to print a statement on screen after 2 second, what is its procedure?\r\n\r\n\r\n    System.out.println(&quot;Printing statement after every 2 seconds&quot;);","title":"Time interval in Java","body":"<p>how to call a method after a time interval?\ne.g if want to print a statement on screen after 2 second, what is its procedure?</p>\n\n<pre><code>System.out.println(\"Printing statement after every 2 seconds\");\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1669898861,"post_id":74642045,"comment_id":131750475,"body_markdown":"`path is correct,` Well show your path. What is the value? `data.getData().getPath()` . We know its not correct ;-)","body":"<code>path is correct,</code> Well show your path. What is the value? <code>data.getData().getPath()</code> . We know its not correct ;-)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669898928,"post_id":74642045,"comment_id":131750497,"body_markdown":"After you told that also tell the value of `data.getData().toString()`.","body":"After you told that also tell the value of <code>data.getData().toString()</code>."},{"owner":{"account_id":17095572,"reputation":131,"user_id":12370643,"display_name":"Zafar"},"score":0,"creation_date":1669899485,"post_id":74642045,"comment_id":131750687,"body_markdown":"System.out.println(&quot;###&quot;+data.getData().getPath()); - I/System.out: ###/document/raw:/storage/emulated/0/Download/kitobidarsi/drawing_11.png","body":"System.out.println(&quot;###&quot;+data.getData().getPath()); - I/System.out: ###/document/raw:/storage/emulated/0/Download/kitobidarsi/dr&zwnj;&#8203;awing_11.png"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669900357,"post_id":74642045,"comment_id":131750975,"body_markdown":"After you told that also tell the value of `data.getData().toString()`.","body":"After you told that also tell the value of <code>data.getData().toString()</code>."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1669900519,"post_id":74642045,"comment_id":131751028,"body_markdown":"There are a lot of reasons the path will not work, maybe you didn&#39;t grant the storage permission or the file path is null or empty, or invalid..., check your logcat","body":"There are a lot of reasons the path will not work, maybe you didn&#39;t grant the storage permission or the file path is null or empty, or invalid..., check your logcat"},{"owner":{"account_id":17095572,"reputation":131,"user_id":12370643,"display_name":"Zafar"},"score":0,"creation_date":1669900821,"post_id":74642045,"comment_id":131751137,"body_markdown":"Permission is ok, because was saved a lot files by my app, it is not null : Logcat: I/System.out: ###/document/raw:/storage/emulated/0/Download/kitobidarsi/drawing_11.png\nE/BitmapFactory: Unable to decode stream: java.io.FileNotFoundException: /document/raw:/storage/emulated/0/Download/kitobidarsi/drawing_11.png (No such file or directory),   but realy I see this file in my mobile","body":"Permission is ok, because was saved a lot files by my app, it is not null : Logcat: I/System.out: ###/document/raw:/storage/emulated/0/Download/kitobidarsi/dr&zwnj;&#8203;awing_11.png E/BitmapFactory: Unable to decode stream: java.io.FileNotFoundException: /document/raw:/storage/emulated/0/Download/kitobidarsi/drawi&zwnj;&#8203;ng_11.png (No such file or directory),   but realy I see this file in my mobile"},{"owner":{"account_id":17095572,"reputation":131,"user_id":12370643,"display_name":"Zafar"},"score":0,"creation_date":1669901398,"post_id":74642045,"comment_id":131751387,"body_markdown":"BitmapFactory.decodeFile(&quot;/storage/emulated/0/Download/kitobidarsi/drawing_11.png&quot;);  this works","body":"BitmapFactory.decodeFile(&quot;/storage/emulated/0/Download/kitob&zwnj;&#8203;idarsi/drawing_11.pn&zwnj;&#8203;g&quot;);  this works"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669902933,"post_id":74642045,"comment_id":131752082,"body_markdown":"You still did not tell the value of `data.getData().toString()` Instead you messed aroud quite a bit obtaining that path..","body":"You still did not tell the value of <code>data.getData().toString()</code> Instead you messed aroud quite a bit obtaining that path.."},{"owner":{"account_id":17095572,"reputation":131,"user_id":12370643,"display_name":"Zafar"},"score":0,"creation_date":1669904637,"post_id":74642045,"comment_id":131752701,"body_markdown":"Solved but bad solution :  String ddd = data.getData().getPath();\n            ddd =ddd.substring(ddd.indexOf(&quot;:&quot;)+1 ); , What do you think , in different mobiles could be makes errors ?","body":"Solved but bad solution :  String ddd = data.getData().getPath();             ddd =ddd.substring(ddd.indexOf(&quot;:&quot;)+1 ); , What do you think , in different mobiles could be makes errors ?"}],"owner":{"account_id":17095572,"reputation":131,"user_id":12370643,"display_name":"Zafar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669900415,"creation_date":1669898577,"question_id":74642045,"body_markdown":"I would like to set background in `LinearLayout` from file, path is correct, but not works\r\n``` \r\nBitmap bitmap5 = BitmapFactory.decodeFile(data.getData().getPath());\r\nBitmapDrawable bitmapDrawable = new BitmapDrawable(bitmap5);\r\nmDrawingPad.setBackground(bitmapDrawable);\r\n```","title":"Set background in linear layout from Bitmap from file","body":"<p>I would like to set background in <code>LinearLayout</code> from file, path is correct, but not works</p>\n<pre><code>Bitmap bitmap5 = BitmapFactory.decodeFile(data.getData().getPath());\nBitmapDrawable bitmapDrawable = new BitmapDrawable(bitmap5);\nmDrawingPad.setBackground(bitmapDrawable);\n</code></pre>\n"},{"tags":["java","eclipse","javafx","scenebuilder"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1669887157,"post_id":74639631,"comment_id":131746586,"body_markdown":"We can&#39;t tell you why code we don&#39;t know and which you didn&#39;t show us produces an error.","body":"We can&#39;t tell you why code we don&#39;t know and which you didn&#39;t show us produces an error."},{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1669887616,"post_id":74639631,"comment_id":131746722,"body_markdown":"Please add your code; it will help you to get a better and quicker answer :)","body":"Please add your code; it will help you to get a better and quicker answer :)"},{"owner":{"account_id":22318655,"reputation":1,"user_id":16541608,"display_name":"Dami"},"score":0,"creation_date":1669889745,"post_id":74639631,"comment_id":131747475,"body_markdown":"OH GOD SPIDERS and Reg, I have added the codes. What do you think is causing the error?","body":"OH GOD SPIDERS and Reg, I have added the codes. What do you think is causing the error?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1669891717,"post_id":74639631,"comment_id":131748126,"body_markdown":"The reference in the fxml needs to be to an existing method in your controller. So you need to show your controller with the method `public void addAction(ActionEvent event)`. Why do you think the initialize method you have pasted is relevant at all? It really appears you just pasted some random code.","body":"The reference in the fxml needs to be to an existing method in your controller. So you need to show your controller with the method <code>public void addAction(ActionEvent event)</code>. Why do you think the initialize method you have pasted is relevant at all? It really appears you just pasted some random code."},{"owner":{"account_id":22318655,"reputation":1,"user_id":16541608,"display_name":"Dami"},"score":0,"creation_date":1669892548,"post_id":74639631,"comment_id":131748398,"body_markdown":"The method public void addAction(ActionEvent event) is present in my controller. Is there another way to reference it?","body":"The method public void addAction(ActionEvent event) is present in my controller. Is there another way to reference it?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1669892601,"post_id":74639631,"comment_id":131748421,"body_markdown":"I see you have a `public final void addAction(ActionEvent event)` in an anonymous class in the initialize method. There is no way the fxml loader would know to look that up. You need to move that to a method in your controller itself.","body":"I see you have a <code>public final void addAction(ActionEvent event)</code> in an anonymous class in the initialize method. There is no way the fxml loader would know to look that up. You need to move that to a method in your controller itself."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1669892642,"post_id":74639631,"comment_id":131748436,"body_markdown":"&quot;The method public void addAction(ActionEvent event) is present in my controller.&quot; You need to show that.","body":"&quot;The method public void addAction(ActionEvent event) is present in my controller.&quot; You need to show that."},{"owner":{"account_id":22318655,"reputation":1,"user_id":16541608,"display_name":"Dami"},"score":0,"creation_date":1669892833,"post_id":74639631,"comment_id":131748509,"body_markdown":"I have been struggling with this error for almost 5 hours now, hence the reason I pasted the initialize method, peradventure an error is there. lol. I&#39;m getting frustrated.","body":"I have been struggling with this error for almost 5 hours now, hence the reason I pasted the initialize method, peradventure an error is there. lol. I&#39;m getting frustrated."},{"owner":{"account_id":22318655,"reputation":1,"user_id":16541608,"display_name":"Dami"},"score":0,"creation_date":1669893400,"post_id":74639631,"comment_id":131748708,"body_markdown":"Thanks matt. My code is running properly after moving  it to the controller itself as you said.","body":"Thanks matt. My code is running properly after moving  it to the controller itself as you said."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1669895795,"post_id":74639631,"comment_id":131749494,"body_markdown":"[mcve] is required __always__ for debugging questions - there is too much that can possibly go wrong, particularly (though certainly not only :) with lesser experinced coders. Without there&#39;s nothing to do but playing guessing games which have some charm but at the end of the day are a waste of time for all. Also for future readers - who are at the focus of this site! - if there is no clear problem statement (with [mcve]! - rubbing in) it&#39;s less probable that they find the answer, even if it&#39;s good.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is required <b>always</b> for debugging questions - there is too much that can possibly go wrong, particularly (though certainly not only :) with lesser experinced coders. Without there&#39;s nothing to do but playing guessing games which have some charm but at the end of the day are a waste of time for all. Also for future readers - who are at the focus of this site! - if there is no clear problem statement (with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>! - rubbing in) it&#39;s less probable that they find the answer, even if it&#39;s good."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1669896209,"post_id":74639631,"comment_id":131749620,"body_markdown":"curious: from which tutorial do you learn? Naturally, everything that can be wrong/misunderstood sooner or later will go wrong/misunderstood .. the human brain is very creative .. but: assuming a method in a changelistener (its existence in itself is far from usual trails) can be found by loading/wiring mechanism is .. a extremely big stretch :)","body":"curious: from which tutorial do you learn? Naturally, everything that can be wrong/misunderstood sooner or later will go wrong/misunderstood .. the human brain is very creative .. but: assuming a method in a changelistener (its existence in itself is far from usual trails) can be found by loading/wiring mechanism is .. a extremely big stretch :)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1669899508,"post_id":74639631,"comment_id":131750698,"body_markdown":"Why did you edit the question so the cause of the problem is no longer visible?","body":"Why did you edit the question so the cause of the problem is no longer visible?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1669900441,"post_id":74639631,"comment_id":131751004,"body_markdown":"@James_D good catch :) reverted","body":"@James_D good catch :) reverted"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669894662,"creation_date":1669894274,"answer_id":74641194,"question_id":74639631,"body_markdown":"When you have an fxml and an associated controller, \r\n\r\n    fx:controller=&quot;org.openjfx.FxmlTestController&quot;\r\n\r\nThen you can reference methods of that controller with #methodName. For your example **we can only assume** your controller is named `MainController` then your `onAction` declaration.\r\n\r\n    onAction=&quot;#addAction&quot;\r\n\r\nThat means you should have a method in your main controller with the signature `public void addAction(ActionEvent event)`.\r\n\r\n\r\n\r\n&gt; Below is a snippet of the MainController:\r\n\r\nWhen you say something like this, it really helps to say &quot;why&quot; you&#39;re including this bit. As somebody with pretty good grasp of basic knowledge about javafx and fxml, I did not think to look at the change listener for a method named &quot;addAction&quot;\r\n\r\nMaybe something like.\r\n\r\n&gt; Below is a snippet of the MainController that shows my method `public void addAction(ActionEvent event)`. Why doesn&#39;t my .fxml file find that method?\r\n\r\nGlad to hear you got it working.","title":"Why does my code keep displaying error resolving onAction event handler when launched?","body":"<p>When you have an fxml and an associated controller,</p>\n<pre><code>fx:controller=&quot;org.openjfx.FxmlTestController&quot;\n</code></pre>\n<p>Then you can reference methods of that controller with #methodName. For your example <strong>we can only assume</strong> your controller is named <code>MainController</code> then your <code>onAction</code> declaration.</p>\n<pre><code>onAction=&quot;#addAction&quot;\n</code></pre>\n<p>That means you should have a method in your main controller with the signature <code>public void addAction(ActionEvent event)</code>.</p>\n<blockquote>\n<p>Below is a snippet of the MainController:</p>\n</blockquote>\n<p>When you say something like this, it really helps to say &quot;why&quot; you're including this bit. As somebody with pretty good grasp of basic knowledge about javafx and fxml, I did not think to look at the change listener for a method named &quot;addAction&quot;</p>\n<p>Maybe something like.</p>\n<blockquote>\n<p>Below is a snippet of the MainController that shows my method <code>public void addAction(ActionEvent event)</code>. Why doesn't my .fxml file find that method?</p>\n</blockquote>\n<p>Glad to hear you got it working.</p>\n"}],"owner":{"account_id":22318655,"reputation":1,"user_id":16541608,"display_name":"Dami"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1669958687,"answer_count":1,"score":-2,"last_activity_date":1669900348,"creation_date":1669887022,"question_id":74639631,"body_markdown":"I am just starting tutorials on JavaFx properties and I keep receiving the error below when running my code.\r\n\r\n&gt; javafx.fxml.LoadException: Error resolving onAction=&#39;#addAction&#39;,\r\n&gt; either the event handler is not in the Namespace or there is an error\r\n&gt; in the script.\r\n&gt; /C:/Users/user/eclipse-workspace/JavaFXBeans/bin/application/Main.fxml:15\r\n\r\n\r\nI have linked the MainController with the SceneBuilder and also linked the ActionEvent to the Button on SceneBuilder, yet I keep receiving the same error code.\r\n\r\nBelow is a snippet of the fxml code:\r\n\r\n    &lt;Button layoutX=&quot;98.0&quot; layoutY=&quot;192.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addAction&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;86.0&quot; text=&quot;++&quot; textFill=&quot;RED&quot;&gt;\r\n        &lt;font&gt;\r\n            &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot; /&gt;\r\n        &lt;/font&gt;      \r\n    &lt;/Button&gt;\r\n\r\n(onAction=&quot;#addAction&quot;) is underlined red in the above code.\r\n\r\nBelow is a snippet of the MainController that shows my method:\r\n\r\n   \t\t\t\t\t\r\n\r\n    public void initialize(URL arg0, ResourceBundle arg1) {\r\n        numObj.setmyNum(0);\r\n        numObj.intMethod().addListener(new ChangeListener&lt;Object&gt;() { \r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends Object&gt; arg0, Object arg1, Object arg2) { \r\n                lblStatus.setText(new Integer(numObj.getmyNum()).toString());           \r\n                \r\n            }\r\n            \r\n\r\n        public final void addAction(ActionEvent event) {\r\n            numObj.setmyNum(numObj.getmyNum());\r\n        }\r\n        \t\t\t\r\n Why doesn&#39;t my .fxml file find that method?\r\n","title":"Why does my code keep displaying error resolving onAction event handler when launched?","body":"<p>I am just starting tutorials on JavaFx properties and I keep receiving the error below when running my code.</p>\n<blockquote>\n<p>javafx.fxml.LoadException: Error resolving onAction='#addAction',\neither the event handler is not in the Namespace or there is an error\nin the script.\n/C:/Users/user/eclipse-workspace/JavaFXBeans/bin/application/Main.fxml:15</p>\n</blockquote>\n<p>I have linked the MainController with the SceneBuilder and also linked the ActionEvent to the Button on SceneBuilder, yet I keep receiving the same error code.</p>\n<p>Below is a snippet of the fxml code:</p>\n<pre><code>&lt;Button layoutX=&quot;98.0&quot; layoutY=&quot;192.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addAction&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;86.0&quot; text=&quot;++&quot; textFill=&quot;RED&quot;&gt;\n    &lt;font&gt;\n        &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot; /&gt;\n    &lt;/font&gt;      \n&lt;/Button&gt;\n</code></pre>\n<p>(onAction=&quot;#addAction&quot;) is underlined red in the above code.</p>\n<p>Below is a snippet of the MainController that shows my method:</p>\n<pre><code>public void initialize(URL arg0, ResourceBundle arg1) {\n    numObj.setmyNum(0);\n    numObj.intMethod().addListener(new ChangeListener&lt;Object&gt;() { \n        @Override\n        public void changed(ObservableValue&lt;? extends Object&gt; arg0, Object arg1, Object arg2) { \n            lblStatus.setText(new Integer(numObj.getmyNum()).toString());           \n            \n        }\n        \n\n    public final void addAction(ActionEvent event) {\n        numObj.setmyNum(numObj.getmyNum());\n    }\n                \n</code></pre>\n<p>Why doesn't my .fxml file find that method?</p>\n"},{"tags":["java","powerset"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669131262,"post_id":74535066,"comment_id":131571570,"body_markdown":"This is a sufficiently involved algorithm you should not be printing as part of your code - return a set of sets and have a separate method for printing them. It will be more flexible and easier to debug.","body":"This is a sufficiently involved algorithm you should not be printing as part of your code - return a set of sets and have a separate method for printing them. It will be more flexible and easier to debug."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669131339,"post_id":74535066,"comment_id":131571607,"body_markdown":"Also, when asking a question on SO, you should tell us exactly what went wrong - what result did this give, if not the desired one?","body":"Also, when asking a question on SO, you should tell us exactly what went wrong - what result did this give, if not the desired one?"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669131479,"post_id":74535066,"comment_id":131571668,"body_markdown":"You should also be clear what you mean by &quot;mathematical order&quot;.","body":"You should also be clear what you mean by &quot;mathematical order&quot;."},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1669141234,"post_id":74535066,"comment_id":131575370,"body_markdown":"Please check relevant problems on leetcode.com They have solutions","body":"Please check relevant problems on leetcode.com They have solutions"}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669134500,"creation_date":1669134500,"answer_id":74535986,"question_id":74535066,"body_markdown":"So looking at the list you provided, I would not call that &quot;mathematical order&quot; - what your code produces actually looks more like what I would expect. That&#39;s how most algorithms will naturally produce such a power set.\r\n\r\nBut, fine, say you want it like that. Making an algorithm to naturally produce it in that order is going to be a pain. If you&#39;re printing as you create the power set, there&#39;s no way around that - you have to print each element in the order your algorithm visits it. However, if you instead return the power set and *then* print it, it&#39;s trivial to sort it however you want in between.\r\n\r\nIn the below code I (messily) implement my own method to generate the sorted set, just cause arrays are a pain. (Actually everything in Java is a pain.)\r\n\r\n```import java.util.*;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      \r\n      List&lt;String&gt; setAsList = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n      List&lt;List&lt;String&gt;&gt; powerSet = powerSetWithPrefix(new ArrayList(), setAsList);\r\n      powerSet.sort( (List&lt;String&gt; l1, List&lt;String&gt; l2) -&gt; l1.size() - l2.size());\r\n      printPowerSet(powerSet);\r\n\r\n    }\r\n    static List&lt;List&lt;String&gt;&gt; powerSetWithPrefix(List&lt;String&gt; prefix, List&lt;String&gt; remaining){\r\n        if (remaining.isEmpty()) {\r\n            List&lt;List&lt;String&gt;&gt; ret = new ArrayList();\r\n            ret.add(prefix);\r\n            return ret;\r\n        }\r\n        List&lt;String&gt; tail = remaining.subList(1, remaining.size());\r\n        String head = remaining.get(0);\r\n        List&lt;String&gt; prefixWithout = new ArrayList(prefix);\r\n        List&lt;String&gt; prefixWith = new ArrayList(prefix);\r\n        prefixWith.add(head);\r\n        List&lt;List&lt;String&gt;&gt; powerSet = powerSetWithPrefix(prefixWith, tail);\r\n        powerSet.addAll(powerSetWithPrefix(prefixWithout, tail));\r\n        return powerSet;\r\n    }\r\n    static void printPowerSet(List&lt;List&lt;String&gt;&gt; powerSet){\r\n        System.out.println(&quot;Printing powerset:&quot;);\r\n        for (List&lt;String&gt; set:  powerSet) {\r\n            System.out.printf(&quot;[%s]\\n&quot;, String.join(&quot;, &quot;, set));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBy separating the powerSet logic from the printing logic, it&#39;s easy to control the format of the output without having to wrestle with the algorithm.\r\n\r\nIf you really need to somehow have an algorithm that will visit shorter lists first, you&#39;d need to write something akin to a breadth-first-search, which would be a lot clunkier.","title":"Obtaining power set in mathematical order","body":"<p>So looking at the list you provided, I would not call that &quot;mathematical order&quot; - what your code produces actually looks more like what I would expect. That's how most algorithms will naturally produce such a power set.</p>\n<p>But, fine, say you want it like that. Making an algorithm to naturally produce it in that order is going to be a pain. If you're printing as you create the power set, there's no way around that - you have to print each element in the order your algorithm visits it. However, if you instead return the power set and <em>then</em> print it, it's trivial to sort it however you want in between.</p>\n<p>In the below code I (messily) implement my own method to generate the sorted set, just cause arrays are a pain. (Actually everything in Java is a pain.)</p>\n<pre><code>\npublic class MyClass {\n    public static void main(String args[]) {\n      \n      List&lt;String&gt; setAsList = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\n      List&lt;List&lt;String&gt;&gt; powerSet = powerSetWithPrefix(new ArrayList(), setAsList);\n      powerSet.sort( (List&lt;String&gt; l1, List&lt;String&gt; l2) -&gt; l1.size() - l2.size());\n      printPowerSet(powerSet);\n\n    }\n    static List&lt;List&lt;String&gt;&gt; powerSetWithPrefix(List&lt;String&gt; prefix, List&lt;String&gt; remaining){\n        if (remaining.isEmpty()) {\n            List&lt;List&lt;String&gt;&gt; ret = new ArrayList();\n            ret.add(prefix);\n            return ret;\n        }\n        List&lt;String&gt; tail = remaining.subList(1, remaining.size());\n        String head = remaining.get(0);\n        List&lt;String&gt; prefixWithout = new ArrayList(prefix);\n        List&lt;String&gt; prefixWith = new ArrayList(prefix);\n        prefixWith.add(head);\n        List&lt;List&lt;String&gt;&gt; powerSet = powerSetWithPrefix(prefixWith, tail);\n        powerSet.addAll(powerSetWithPrefix(prefixWithout, tail));\n        return powerSet;\n    }\n    static void printPowerSet(List&lt;List&lt;String&gt;&gt; powerSet){\n        System.out.println(&quot;Printing powerset:&quot;);\n        for (List&lt;String&gt; set:  powerSet) {\n            System.out.printf(&quot;[%s]\\n&quot;, String.join(&quot;, &quot;, set));\n        }\n    }\n}\n</code></pre>\n<p>By separating the powerSet logic from the printing logic, it's easy to control the format of the output without having to wrestle with the algorithm.</p>\n<p>If you really need to somehow have an algorithm that will visit shorter lists first, you'd need to write something akin to a breadth-first-search, which would be a lot clunkier.</p>\n"},{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669900344,"creation_date":1669137366,"answer_id":74536634,"question_id":74535066,"body_markdown":"This is a fun algorithm and one Knuth considers.\r\nIt&#39;s actually far easier than it sounds.\r\n\r\nI&#39;m interpreting the order to be:\r\n\r\nOutput the subsets in order of cardinality (starting with the empty set then singletons then pairs and so on).\r\n\r\nWithin that order then further order them lexically with each other based on position of the included members ({1,2} is before {1,3} is before {2,3}).\r\n\r\nThe example below shows a set of 4 objects because 3 objects doesn&#39;t quite reveal what&#39;s going on...\r\n\r\nIt works on an array of `boolean` flags to indicate membership.\r\nAt each step look for a `false` flag after at least one `true` flag.\r\nIf found then set that `false` flag to `true` and set the number of true flags counted so far minus one back to the start. \r\n\r\nIf not found because all flags are set, we&#39;ve just output the full set. So finish.\r\nOtherwise it wasn&#39;t found because the set flags have migrated to the end, so start with the first subset with more members (the count+1 flags set).\r\n\r\nYou can comment back in the line `dump(flags,fruit);` to see the fruit.\r\nBut the flags output is the most illuminating.\r\n\r\n\r\n    class Subsets\r\n    {\r\n    \tpublic static boolean advance(boolean[] flags){\r\n    \t\tint count=0;\r\n    \t\tfor(int i=0;i&lt;flags.length;++i){\r\n    \t\t\tif(flags[i]){\r\n    \t\t\t\t++count;\r\n    \t\t\t}else{\r\n    \t\t\t\tif(count&gt;0){\r\n    \t\t\t\t\tflags[i]=true;\r\n    \t\t\t\t\tfor(int j=0;j&lt;(count-1);++j){\r\n    \t\t\t\t\t\tflags[j]=true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tfor(int j=(count-1);j&lt;i;++j){\r\n    \t\t\t\t\t\tflags[j]=false;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t//Fell off the end.\r\n    \t\tif(count==flags.length){\r\n    \t\t\treturn false; // All flags set.\r\n    \t\t}\r\n            //Rack &#39;em up for subsets larger than the ones we&#39;ve finished.\r\n    \t\tfor(int i=0;i&lt;=count;++i){\r\n    \t\t\tflags[i]=true;\r\n    \t\t}\r\n    \t\tfor(int i=count+1;i&lt;flags.length;++i){\r\n    \t\t\tflags[i]=false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    \tpublic static void dump(boolean[] flags){\r\n    \t\tfor(int i=0;i&lt;flags.length;++i){\r\n    \t\t\tSystem.out.print(flags[i]?&#39;Y&#39;:&#39;N&#39;);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \t\r\n    \tpublic static void dump(boolean[] flags,String[] items){\r\n    \t\tfor(int i=0;i&lt;flags.length;++i){\r\n    \t\t\tif(flags[i]){\r\n    \t\t\t\tSystem.out.print(items[i]+&quot; &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \t\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tString[] fruit={&quot;Apple&quot;,&quot;Mango&quot;,&quot;Banana&quot;,&quot;Pear&quot;};\r\n    \t\tboolean[] flags=new boolean [4];\r\n    \t\tdo{\r\n    \t\t\tdump(flags);\r\n    \t\t\t//dump(flags,fruit);\r\n    \t\t}while(advance(flags));\r\n    \t}\r\n    }\r\n\r\nExpected Output:\r\n\r\n    NNNN\r\n    YNNN\r\n    NYNN\r\n    NNYN\r\n    NNNY\r\n    YYNN\r\n    YNYN\r\n    NYYN\r\n    YNNY\r\n    NYNY\r\n    NNYY\r\n    YYYN\r\n    YYNY\r\n    YNYY\r\n    NYYY\r\n    YYYY\r\n\r\n\r\nRefer to: Art of Computer Programming, Volume 4A, The: Combinatorial Algorithms, Part 1.\r\n","title":"Obtaining power set in mathematical order","body":"<p>This is a fun algorithm and one Knuth considers.\nIt's actually far easier than it sounds.</p>\n<p>I'm interpreting the order to be:</p>\n<p>Output the subsets in order of cardinality (starting with the empty set then singletons then pairs and so on).</p>\n<p>Within that order then further order them lexically with each other based on position of the included members ({1,2} is before {1,3} is before {2,3}).</p>\n<p>The example below shows a set of 4 objects because 3 objects doesn't quite reveal what's going on...</p>\n<p>It works on an array of <code>boolean</code> flags to indicate membership.\nAt each step look for a <code>false</code> flag after at least one <code>true</code> flag.\nIf found then set that <code>false</code> flag to <code>true</code> and set the number of true flags counted so far minus one back to the start.</p>\n<p>If not found because all flags are set, we've just output the full set. So finish.\nOtherwise it wasn't found because the set flags have migrated to the end, so start with the first subset with more members (the count+1 flags set).</p>\n<p>You can comment back in the line <code>dump(flags,fruit);</code> to see the fruit.\nBut the flags output is the most illuminating.</p>\n<pre><code>class Subsets\n{\n    public static boolean advance(boolean[] flags){\n        int count=0;\n        for(int i=0;i&lt;flags.length;++i){\n            if(flags[i]){\n                ++count;\n            }else{\n                if(count&gt;0){\n                    flags[i]=true;\n                    for(int j=0;j&lt;(count-1);++j){\n                        flags[j]=true;\n                    }\n                    for(int j=(count-1);j&lt;i;++j){\n                        flags[j]=false;\n                    }\n                    return true;\n                }\n            }\n        }\n        //Fell off the end.\n        if(count==flags.length){\n            return false; // All flags set.\n        }\n        //Rack 'em up for subsets larger than the ones we've finished.\n        for(int i=0;i&lt;=count;++i){\n            flags[i]=true;\n        }\n        for(int i=count+1;i&lt;flags.length;++i){\n            flags[i]=false;\n        }\n        return true;\n    }\n    \n    public static void dump(boolean[] flags){\n        for(int i=0;i&lt;flags.length;++i){\n            System.out.print(flags[i]?'Y':'N');\n        }\n        System.out.println();\n    }\n    \n    public static void dump(boolean[] flags,String[] items){\n        for(int i=0;i&lt;flags.length;++i){\n            if(flags[i]){\n                System.out.print(items[i]+&quot; &quot;);\n            }\n        }\n        System.out.println();\n    }\n    \n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String[] fruit={&quot;Apple&quot;,&quot;Mango&quot;,&quot;Banana&quot;,&quot;Pear&quot;};\n        boolean[] flags=new boolean [4];\n        do{\n            dump(flags);\n            //dump(flags,fruit);\n        }while(advance(flags));\n    }\n}\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>NNNN\nYNNN\nNYNN\nNNYN\nNNNY\nYYNN\nYNYN\nNYYN\nYNNY\nNYNY\nNNYY\nYYYN\nYYNY\nYNYY\nNYYY\nYYYY\n</code></pre>\n<p>Refer to: Art of Computer Programming, Volume 4A, The: Combinatorial Algorithms, Part 1.</p>\n"}],"owner":{"account_id":22874714,"reputation":13,"user_id":17017229,"display_name":"Prashant Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74536634,"answer_count":2,"score":-1,"last_activity_date":1669900344,"creation_date":1669130652,"question_id":74535066,"body_markdown":"The powerset of {1, 2, 3} is:\r\n\r\n{{}, {1}, {2}, {3}, {1, 2}, {1, 3}, {2, 3}, {1, 2, 3}}\r\n\r\nI have a String array in java,\r\n\r\n```\r\n        String elements={&quot;apple&quot;,&quot;mango&quot;,&quot;banana&quot;};\r\n        String set[]=elements.split(&quot;[ ,]+&quot;);\r\n```\r\n\r\nHow do I print the power set of this array in the Mathematical order?\r\n(I have tried bit manipulation method, it does not gives the solution in that order! ) \r\n\r\nMy bit manipulation method! Did not give the required result!\r\n```\r\nstatic void printPowerSet(String[] set) {\r\n        long pset = (long) Math.pow(2, set.length);\r\n        System.out.print(&quot;Power Set is \\n{&quot;);\r\n        for (int i = 0; i &lt; pset; i++) {\r\n            System.out.print(&quot;{&quot;);\r\n            for (int j = 0; j &lt; set.length; j++) {\r\n                if ((i &amp; (1 &lt;&lt; j)) &gt; 0){\r\n                    System.out.print(set[j] + &quot; &quot;);\r\n                    \r\n                }\r\n                if (i == 0 &amp;&amp; j==0 )\r\n                    System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println(&quot;}&quot;);\r\n        }\r\n        System.out.println(&quot; } \\n&quot;);\r\n    }\r\n```\r\n","title":"Obtaining power set in mathematical order","body":"<p>The powerset of {1, 2, 3} is:</p>\n<p>{{}, {1}, {2}, {3}, {1, 2}, {1, 3}, {2, 3}, {1, 2, 3}}</p>\n<p>I have a String array in java,</p>\n<pre><code>        String elements={&quot;apple&quot;,&quot;mango&quot;,&quot;banana&quot;};\n        String set[]=elements.split(&quot;[ ,]+&quot;);\n</code></pre>\n<p>How do I print the power set of this array in the Mathematical order?\n(I have tried bit manipulation method, it does not gives the solution in that order! )</p>\n<p>My bit manipulation method! Did not give the required result!</p>\n<pre><code>static void printPowerSet(String[] set) {\n        long pset = (long) Math.pow(2, set.length);\n        System.out.print(&quot;Power Set is \\n{&quot;);\n        for (int i = 0; i &lt; pset; i++) {\n            System.out.print(&quot;{&quot;);\n            for (int j = 0; j &lt; set.length; j++) {\n                if ((i &amp; (1 &lt;&lt; j)) &gt; 0){\n                    System.out.print(set[j] + &quot; &quot;);\n                    \n                }\n                if (i == 0 &amp;&amp; j==0 )\n                    System.out.print(&quot; &quot;);\n            }\n            System.out.println(&quot;}&quot;);\n        }\n        System.out.println(&quot; } \\n&quot;);\n    }\n</code></pre>\n"},{"tags":["java","android","view"],"comments":[{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1449565879,"post_id":34151872,"comment_id":56050568,"body_markdown":"you can check if the view is not null","body":"you can check if the view is not null"},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1449565994,"post_id":34151872,"comment_id":56050650,"body_markdown":"well that&#39;s not good enough, because then if it was initialized with other layout it would still enter the if statement. \nIn my case, I want it to enter the if statement only if it has been initialized with this specific layout.","body":"well that&#39;s not good enough, because then if it was initialized with other layout it would still enter the if statement.  In my case, I want it to enter the if statement only if it has been initialized with this specific layout."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1449566040,"post_id":34151872,"comment_id":56050685,"body_markdown":"I don&#39;t believe your `if` conditional is ever going to be true. One option is to set the tag on `mView` to the layout&#39;s ID when you initialize it, then check that in the `if`.","body":"I don&#39;t believe your <code>if</code> conditional is ever going to be true. One option is to set the tag on <code>mView</code> to the layout&#39;s ID when you initialize it, then check that in the <code>if</code>."},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":1,"creation_date":1449566257,"post_id":34151872,"comment_id":56050826,"body_markdown":"Interesting. I&#39;ll try that, Thanks","body":"Interesting. I&#39;ll try that, Thanks"}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1449566347,"creation_date":1449566347,"answer_id":34152052,"question_id":34151872,"body_markdown":"    if( mView == inflater.inflate( R.layout.main_item, null ) )\r\n\r\nis gonna be always false. Either because `mView` is or is not null. That&#39;s because `inflater.inflate` returns a new instance of `main_item.xml` every time it is invoked. You could check the view with `getId()`, if you assigned one to the root in `main_item.xml`  ","title":"A resources-efficient way to compare views to layouts in Android","body":"<pre><code>if( mView == inflater.inflate( R.layout.main_item, null ) )\n</code></pre>\n\n<p>is gonna be always false. Either because <code>mView</code> is or is not null. That's because <code>inflater.inflate</code> returns a new instance of <code>main_item.xml</code> every time it is invoked. You could check the view with <code>getId()</code>, if you assigned one to the root in <code>main_item.xml</code>  </p>\n"},{"tags":[],"owner":{"account_id":11070566,"reputation":685,"user_id":8128825,"display_name":"Barrrettt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669900218,"creation_date":1669900218,"answer_id":74642418,"question_id":34151872,"body_markdown":"For my future self, by example:\r\n\r\n    int itemId = view.getId();\r\n    int resID =  getLayoutInflater().inflate(R.layout.my_view, null ).getId();\r\n    if (itemId == resID )return true;\r\n\r\nif view is kind of resouce then return true","title":"A resources-efficient way to compare views to layouts in Android","body":"<p>For my future self, by example:</p>\n<pre><code>int itemId = view.getId();\nint resID =  getLayoutInflater().inflate(R.layout.my_view, null ).getId();\nif (itemId == resID )return true;\n</code></pre>\n<p>if view is kind of resouce then return true</p>\n"}],"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34152052,"answer_count":2,"score":1,"last_activity_date":1669900218,"creation_date":1449565813,"question_id":34151872,"body_markdown":"I need to check if a certain View has been initialized with a certain layout. \r\nWhat I&#39;ve done now to solve it is:\r\n\r\n    if( mView == inflater.inflate( R.layout.main_item, null ) )\r\n\r\nIs there a more efficient way to implement this kind of comparison ?","title":"A resources-efficient way to compare views to layouts in Android","body":"<p>I need to check if a certain View has been initialized with a certain layout. \nWhat I've done now to solve it is:</p>\n\n<pre><code>if( mView == inflater.inflate( R.layout.main_item, null ) )\n</code></pre>\n\n<p>Is there a more efficient way to implement this kind of comparison ?</p>\n"},{"tags":["java","android","android-studio","implementation","onactivityresult"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1669896704,"post_id":74641492,"comment_id":131749773,"body_markdown":"You cannot execute this code inside other classes as you are using outer class instance like `MainActivity.this` and `path` ... also off-topic: Uri is not a path to file assuming the you will have path to file after collon in uri is terrible mistake...","body":"You cannot execute this code inside other classes as you are using outer class instance like <code>MainActivity.this</code> and <code>path</code> ... also off-topic: Uri is not a path to file assuming the you will have path to file after collon in uri is terrible mistake..."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669899354,"post_id":74641492,"comment_id":131750631,"body_markdown":"`I want to be able to execute it` It is unclear what you mean by that.","body":"<code>I want to be able to execute it</code> It is unclear what you mean by that."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669900183,"creation_date":1669900183,"answer_id":74642409,"question_id":74641492,"body_markdown":"&gt;&gt;I want to be able to execute it\r\n\r\nIf you mean something like executing `activityResultLauncher.launch(...)` in another class then yes that is possible.\r\n\r\nJust instantiate the other class with an `ActivityResultLauncher` parameter giving it your instance value.\r\n\r\nOr if you want to use a static function from another class give that function that parameter.","title":"Implement registerForActivityResult and use it in other classes","body":"<blockquote>\n<blockquote>\n<p>I want to be able to execute it</p>\n</blockquote>\n</blockquote>\n<p>If you mean something like executing <code>activityResultLauncher.launch(...)</code> in another class then yes that is possible.</p>\n<p>Just instantiate the other class with an <code>ActivityResultLauncher</code> parameter giving it your instance value.</p>\n<p>Or if you want to use a static function from another class give that function that parameter.</p>\n"}],"owner":{"account_id":22092532,"reputation":11,"user_id":16350386,"display_name":"LoreX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669900183,"creation_date":1669895793,"question_id":74641492,"body_markdown":"```java\r\n\r\n      activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n            @Override\r\n            public void onActivityResult(ActivityResult result) {\r\n                if(result.getResultCode() == Activity.RESULT_OK) {\r\n                    if (result.getData() != null) {\r\n                        path = &quot;/&quot; + result.getData().getData().getPath().substring(result.getData().getData().getPath().indexOf(&quot;:&quot;) + 1);\r\n                        Toast.makeText(MainActivity.this, path, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nSo, this code is inside of the onCreate() method but I want to be able to execute it in other classes as I already did with buttons(implementing onClicklistener for multi buttons). However I couldn&#39;t figured out how to.","title":"Implement registerForActivityResult and use it in other classes","body":"<pre class=\"lang-java prettyprint-override\"><code>\n      activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if(result.getResultCode() == Activity.RESULT_OK) {\n                    if (result.getData() != null) {\n                        path = &quot;/&quot; + result.getData().getData().getPath().substring(result.getData().getData().getPath().indexOf(&quot;:&quot;) + 1);\n                        Toast.makeText(MainActivity.this, path, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        });\n</code></pre>\n<p>So, this code is inside of the onCreate() method but I want to be able to execute it in other classes as I already did with buttons(implementing onClicklistener for multi buttons). However I couldn't figured out how to.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669899595,"post_id":74642182,"comment_id":131750728,"body_markdown":"ImageIO does not read SVG files.  Doing an internet search turns up several results, but they all use third-party libraries.","body":"ImageIO does not read SVG files.  Doing an internet search turns up several results, but they all use third-party libraries."},{"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"score":0,"creation_date":1669899790,"post_id":74642182,"comment_id":131750786,"body_markdown":"Yes I found multiple libraries, but I&#39;m not supposed to use them.","body":"Yes I found multiple libraries, but I&#39;m not supposed to use them."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1669900027,"post_id":74642182,"comment_id":131750853,"body_markdown":"It&#39;s SPI, so you can plug in whatever you want. Of the default implementations, no. It&#39;s all raster formats, no vectors: https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/classes/com/sun/imageio/plugins","body":"It&#39;s SPI, so you can plug in whatever you want. Of the default implementations, no. It&#39;s all raster formats, no vectors: <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/classes/com/sun/imageio/plugins\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/tree/master/src/java.desktop/share/&hellip;</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1669900118,"post_id":74642182,"comment_id":131750888,"body_markdown":"Javafx handles svg, so if youre using an old oracle jdk8 then it doesn&#39;t need to be a &quot;an external library&quot;","body":"Javafx handles svg, so if youre using an old oracle jdk8 then it doesn&#39;t need to be a &quot;an external library&quot;"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669900348,"post_id":74642182,"comment_id":131750971,"body_markdown":"According to [Wikipedia](https://en.wikipedia.org/wiki/SVG), SVG is an XML-based vector image format.  Read the file, create a BufferedImage and save that as a PNG file.","body":"According to <a href=\"https://en.wikipedia.org/wiki/SVG\" rel=\"nofollow noreferrer\">Wikipedia</a>, SVG is an XML-based vector image format.  Read the file, create a BufferedImage and save that as a PNG file."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1669900657,"post_id":74642182,"comment_id":131751078,"body_markdown":"@GilbertLeBlanc Please explain how parsing an SVG XML file magically renders the intended graphical representation without implementing the SVG specification?","body":"@GilbertLeBlanc Please explain how parsing an SVG XML file magically renders the intended graphical representation without implementing the SVG specification?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1669900910,"post_id":74642182,"comment_id":131751173,"body_markdown":"@ThomasBehr I&#39;m not sure I get your point. You can create a javafx element that will render an svg image. https://blogs.oracle.com/java/post/javafx-webview-overview","body":"@ThomasBehr I&#39;m not sure I get your point. You can create a javafx element that will render an svg image. <a href=\"https://blogs.oracle.com/java/post/javafx-webview-overview\" rel=\"nofollow noreferrer\">blogs.oracle.com/java/post/javafx-webview-overview</a>"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1669902172,"post_id":74642182,"comment_id":131751742,"body_markdown":"@matt Thank you very much for the link to the blog post.","body":"@matt Thank you very much for the link to the blog post."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669908407,"post_id":74642182,"comment_id":131754200,"body_markdown":"Formats with built-in support in ImageIO: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/imageio/package-summary.html","body":"Formats with built-in support in ImageIO: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java&zwnj;&#8203;x/&hellip;</a>"}],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669900089,"creation_date":1669899230,"question_id":74642182,"body_markdown":"I&#39;m trying to convert SVG to PNG and I should not use any third party dependencies. I have svg string and creating a svg file from it, now I would like to convert this file to png image. But I have an issue converting it. `imageReaderIterator.next()` has no next to return and throws exception. So, I thought `ImageIO.getImageReaders()` may not work for SVG files.\r\n\r\n    String inFilename = cgmPdfRequest.getModelName() + &quot;_&quot; + userId + &quot;.svg&quot;;\r\n    String outFileName = cgmPdfRequest.getModelName() + &quot;_&quot; + userId + &quot;.png&quot;;\r\n    try (FileWriter fileWriter = new FileWriter(fileStorageProperties.getUploadDir() + &quot;/&quot; + inFilename)) {\r\n    \tfileWriter.write(cgmPdfRequest.getSvgStr());\r\n    }\r\n    InputStream stream = new FileInputStream(fileStorageProperties.getUploadDir() + &quot;/&quot; + inFilename);\r\n    ImageInputStream imageInputStream = ImageIO.createImageInputStream(stream);\r\n    Iterator&lt;ImageReader&gt; imageReaderIterator = ImageIO.getImageReaders(imageInputStream);\r\n    ImageReader imageReader = imageReaderIterator.next();\r\n    BufferedImage img = imageReader.read(0);\r\n    File outFile = new File(fileStorageProperties.getUploadDir() + &quot;/&quot; + outFileName);\r\n    ImageIO.write(img, &quot;png&quot;, outFile);","title":"Does ImageIO.getImageReaders() of Java work for SVG files?","body":"<p>I'm trying to convert SVG to PNG and I should not use any third party dependencies. I have svg string and creating a svg file from it, now I would like to convert this file to png image. But I have an issue converting it. <code>imageReaderIterator.next()</code> has no next to return and throws exception. So, I thought <code>ImageIO.getImageReaders()</code> may not work for SVG files.</p>\n<pre><code>String inFilename = cgmPdfRequest.getModelName() + &quot;_&quot; + userId + &quot;.svg&quot;;\nString outFileName = cgmPdfRequest.getModelName() + &quot;_&quot; + userId + &quot;.png&quot;;\ntry (FileWriter fileWriter = new FileWriter(fileStorageProperties.getUploadDir() + &quot;/&quot; + inFilename)) {\n    fileWriter.write(cgmPdfRequest.getSvgStr());\n}\nInputStream stream = new FileInputStream(fileStorageProperties.getUploadDir() + &quot;/&quot; + inFilename);\nImageInputStream imageInputStream = ImageIO.createImageInputStream(stream);\nIterator&lt;ImageReader&gt; imageReaderIterator = ImageIO.getImageReaders(imageInputStream);\nImageReader imageReader = imageReaderIterator.next();\nBufferedImage img = imageReader.read(0);\nFile outFile = new File(fileStorageProperties.getUploadDir() + &quot;/&quot; + outFileName);\nImageIO.write(img, &quot;png&quot;, outFile);\n</code></pre>\n"},{"tags":["macos","java","java-7"],"comments":[{"owner":{"account_id":1561637,"reputation":760,"user_id":1451382,"accept_rate":100,"display_name":"Failsafe"},"score":0,"creation_date":1341493583,"post_id":11344871,"comment_id":14939514,"body_markdown":"So what exactly is your question? Do you want to set the root user to Java 7?","body":"So what exactly is your question? Do you want to set the root user to Java 7?"},{"owner":{"account_id":1629132,"reputation":350,"user_id":1504041,"display_name":"Philipp Schneider"},"score":0,"creation_date":1341493657,"post_id":11344871,"comment_id":14939548,"body_markdown":"I want that the java for root is the same as for the normal user. In my case &#39;sudo java -version&#39; should also be version 7","body":"I want that the java for root is the same as for the normal user. In my case &#39;sudo java -version&#39; should also be version 7"},{"owner":{"account_id":1561637,"reputation":760,"user_id":1451382,"accept_rate":100,"display_name":"Failsafe"},"score":0,"creation_date":1341495358,"post_id":11344871,"comment_id":14940334,"body_markdown":"Try setting your JAVA_HOME to the updated version of java.","body":"Try setting your JAVA_HOME to the updated version of java."},{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":0,"creation_date":1341499907,"post_id":11344871,"comment_id":14942442,"body_markdown":"@Failsafe - this is not the way to do it on OSX","body":"@Failsafe - this is not the way to do it on OSX"},{"owner":{"account_id":1561637,"reputation":760,"user_id":1451382,"accept_rate":100,"display_name":"Failsafe"},"score":0,"creation_date":1341500410,"post_id":11344871,"comment_id":14942698,"body_markdown":"@Mark - Ah well I was just throwing stuff out there.. I didn&#39;t actually know the answer, I don&#39;t really use mac&#39;s that often for dev stuff.","body":"@Mark - Ah well I was just throwing stuff out there.. I didn&#39;t actually know the answer, I don&#39;t really use mac&#39;s that often for dev stuff."}],"answers":[{"tags":[],"owner":{"account_id":1580982,"reputation":57898,"user_id":1468366,"accept_rate":78,"display_name":"MvG"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1341493793,"creation_date":1341493793,"answer_id":11345027,"question_id":11344871,"body_markdown":"It appears that the java version used by the link you specified depends on the `JAVA_VERSION` environment variable. Could it be that this variable is set for your user, but will be cleared by `sudo`? In that case, explicitely unsetting it for the user or setting it for root should help to keep them in sync. Of course, you might also replace the `/A/` by the actual version you want to execute.","title":"mac os java version from root is different","body":"<p>It appears that the java version used by the link you specified depends on the <code>JAVA_VERSION</code> environment variable. Could it be that this variable is set for your user, but will be cleared by <code>sudo</code>? In that case, explicitely unsetting it for the user or setting it for root should help to keep them in sync. Of course, you might also replace the <code>/A/</code> by the actual version you want to execute.</p>\n"},{"tags":[],"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1341495260,"creation_date":1341495260,"answer_id":11345457,"question_id":11344871,"body_markdown":"Under OSX /usr/bin/java locates the java version to be used by looking at what you chose using `/Applications/Utilities/Java Preferences.app`. The files ths uses are also updated by the Oracle updater.\r\n\r\nAs you have to drag the versions manually to set Java 1.7 you will have only set this for the user you run it as ie not root. To set it for root I ran the app as `sudo /Applications/Utilities/Java\\ Preferences.app/Contents/MacOS/Java\\ Preferences ` and moved 1.7 to the top.\r\n\r\nAs far as I can see the files the app updates are in `~/Library/Preferences/ByHost/com.apple.java.JavaPreferences.&lt;hex number&gt;.plist` where `&lt;hex number&gt;` is machine related. Root&#39;s home directory is /var/root so I now have `/var/root/Library/Preferences/ByHost/com.apple.java.JavaPreferences.&lt;hex number&gt;.plist`","title":"mac os java version from root is different","body":"<p>Under OSX /usr/bin/java locates the java version to be used by looking at what you chose using <code>/Applications/Utilities/Java Preferences.app</code>. The files ths uses are also updated by the Oracle updater.</p>\n\n<p>As you have to drag the versions manually to set Java 1.7 you will have only set this for the user you run it as ie not root. To set it for root I ran the app as <code>sudo /Applications/Utilities/Java\\ Preferences.app/Contents/MacOS/Java\\ Preferences</code> and moved 1.7 to the top.</p>\n\n<p>As far as I can see the files the app updates are in <code>~/Library/Preferences/ByHost/com.apple.java.JavaPreferences.&lt;hex number&gt;.plist</code> where <code>&lt;hex number&gt;</code> is machine related. Root's home directory is /var/root so I now have <code>/var/root/Library/Preferences/ByHost/com.apple.java.JavaPreferences.&lt;hex number&gt;.plist</code></p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363899725,"creation_date":1363899725,"answer_id":15558036,"question_id":11344871,"body_markdown":"Caught the same issue on Mac OS X 10.7.5 + JRE 1.6.0_43 + JDK 1.7.0_17.\r\n\r\n - java -version =&gt; 1.7 \r\n - sudo java -version =&gt; 1.6\r\n\r\nOpen java control panel with sudo, this fixes the problem:\r\n\r\n - sudo /usr/bin/javaws -viewer\r\n","title":"mac os java version from root is different","body":"<p>Caught the same issue on Mac OS X 10.7.5 + JRE 1.6.0_43 + JDK 1.7.0_17.</p>\n\n<ul>\n<li>java -version => 1.7 </li>\n<li>sudo java -version => 1.6</li>\n</ul>\n\n<p>Open java control panel with sudo, this fixes the problem:</p>\n\n<ul>\n<li>sudo /usr/bin/javaws -viewer</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14745500,"reputation":896,"user_id":10648987,"display_name":"Cristian Zumelzu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669900038,"creation_date":1669900038,"answer_id":74642386,"question_id":11344871,"body_markdown":"For me non of the answers above mentioned worked. In MacOS sudo may clear environment values so that is why your JAVA_HOME is different in sudo and without. \r\n\r\nOne solution that worked for me is to go to `/etc/sudoers` file and check `env_reset` or `env_keep` property.\r\n\r\nYou have the description of each property here:\r\n\r\n    env_reset   If set, sudo will reset the environment to only contain the following variables: HOME, LOGNAME, PATH, SHELL, TERM, and USER (in addi-\r\n               tion to the SUDO_* variables).  Of these, only TERM is copied unaltered from the old environment.  The other variables are set to\r\n               default values (possibly modified by the value of the set_logname option).  If sudo was compiled with the SECURE_PATH option, its value\r\n               will be used for the PATH environment variable.  Other variables may be preserved with the env_keep option.\r\n    \r\n    env_keep    Environment variables to be preserved in the user&#39;s environment when the env_reset option is in effect.  This allows fine-grained con-\r\n               trol over the environment sudo-spawned processes will receive.  The argument may be a double-quoted, space-separated list or a single\r\n               value without double-quotes.  The list can be replaced, added to, deleted from, or disabled by using the =, +=, -=, and ! operators\r\n               respectively.  This list has no default members.\r\n\r\n\r\nSo for keep the JAVA_HOME and tell sudo not change it ( and take the value by default or setted in your /.bash_profile) you should add a value for `env_keep` as follow\r\n\r\n    Defaults   env_keep += &quot;JAVA_HOME&quot;","title":"mac os java version from root is different","body":"<p>For me non of the answers above mentioned worked. In MacOS sudo may clear environment values so that is why your JAVA_HOME is different in sudo and without.</p>\n<p>One solution that worked for me is to go to <code>/etc/sudoers</code> file and check <code>env_reset</code> or <code>env_keep</code> property.</p>\n<p>You have the description of each property here:</p>\n<pre><code>env_reset   If set, sudo will reset the environment to only contain the following variables: HOME, LOGNAME, PATH, SHELL, TERM, and USER (in addi-\n           tion to the SUDO_* variables).  Of these, only TERM is copied unaltered from the old environment.  The other variables are set to\n           default values (possibly modified by the value of the set_logname option).  If sudo was compiled with the SECURE_PATH option, its value\n           will be used for the PATH environment variable.  Other variables may be preserved with the env_keep option.\n\nenv_keep    Environment variables to be preserved in the user's environment when the env_reset option is in effect.  This allows fine-grained con-\n           trol over the environment sudo-spawned processes will receive.  The argument may be a double-quoted, space-separated list or a single\n           value without double-quotes.  The list can be replaced, added to, deleted from, or disabled by using the =, +=, -=, and ! operators\n           respectively.  This list has no default members.\n</code></pre>\n<p>So for keep the JAVA_HOME and tell sudo not change it ( and take the value by default or setted in your /.bash_profile) you should add a value for <code>env_keep</code> as follow</p>\n<pre><code>Defaults   env_keep += &quot;JAVA_HOME&quot;\n</code></pre>\n"}],"owner":{"account_id":1629132,"reputation":350,"user_id":1504041,"display_name":"Philipp Schneider"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3493,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":11345457,"answer_count":4,"score":6,"last_activity_date":1669900038,"creation_date":1341493211,"question_id":11344871,"body_markdown":"after installing jdk7u5 for mac os I got different java-versions for &quot;normal&quot; user and root.\r\n\r\n`java -version` gives me the 7.\r\n\r\n`sudo java -version` gives me the 6.\r\n\r\nI&#39;ve looked up in the \r\n`/System/Library/Frameworks/JavaVM.framework/Versions/` found that there are some links. After I resolved the links to the real Directory I tried it again with the whole path.\r\n\r\n`/System/Library/Frameworks/JavaVM.framework/Versions/A/Commands/java -version`\r\n -&gt; 7\r\n\r\n`sudo /System/Library/Frameworks/JavaVM.framework/Versions/A/Commands/java -version` -&gt; 6\r\n\r\nSame with javac!\r\n\r\nHope you guys could help me!\r\n","title":"mac os java version from root is different","body":"<p>after installing jdk7u5 for mac os I got different java-versions for \"normal\" user and root.</p>\n\n<p><code>java -version</code> gives me the 7.</p>\n\n<p><code>sudo java -version</code> gives me the 6.</p>\n\n<p>I've looked up in the \n<code>/System/Library/Frameworks/JavaVM.framework/Versions/</code> found that there are some links. After I resolved the links to the real Directory I tried it again with the whole path.</p>\n\n<p><code>/System/Library/Frameworks/JavaVM.framework/Versions/A/Commands/java -version</code>\n -> 7</p>\n\n<p><code>sudo /System/Library/Frameworks/JavaVM.framework/Versions/A/Commands/java -version</code> -> 6</p>\n\n<p>Same with javac!</p>\n\n<p>Hope you guys could help me!</p>\n"},{"tags":["java","ssl","mutual-authentication","java-http-client"],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669899987,"creation_date":1633786053,"answer_id":69507126,"question_id":69506869,"body_markdown":"I think this question is similar to https://stackoverflow.com/q/65868599/6777695 the answer I have provided there is similar to this one.\r\n\r\nThis option is unfortunately not available by default. After you have supplied the SSLContext to the HttpClient and build the client you cannot change the SSLContext. You will need to create a new SSLContext and a new HttpClient, but there is a workaround which will do the trick to apply a reload/update.\r\n\r\nI had the same challenge for one of my projects and I solved it by using a custom trustmanager and keymanager which wraps around the actual trustmanager and keymanager while having the capability of swapping the actual trustmanager and keymanager. So you can use the following setup if you still want to accomplish it without the need of recreating the HttpClient and SSLContext:\r\n\r\n```java\r\nSSLFactory baseSslFactory = SSLFactory.builder()\r\n          .withDummyIdentityMaterial()\r\n          .withDummyTrustMaterial()\r\n          .withSwappableIdentityMaterial()\r\n          .withSwappableTrustMaterial()\r\n          .build();\r\n          \r\nHttpClient httpClient = HttpClient.newBuilder()\r\n          .sslParameters(sslFactory.getSslParameters())\r\n          .sslContext(sslFactory.getSslContext())\r\n          .build()\r\n\r\nRunnable sslUpdater = () -&gt; {\r\n   SSLFactory updatedSslFactory = SSLFactory.builder()\r\n          .withIdentityMaterial(Paths.get(&quot;/path/to/your/identity.jks&quot;), &quot;password&quot;.toCharArray())\r\n          .withTrustMaterial(Paths.get(&quot;/path/to/your/truststore.jks&quot;), &quot;password&quot;.toCharArray())\r\n          .build();\r\n    \r\n   SSLFactoryUtils.reload(baseSslFactory, updatedSslFactory)\r\n};\r\n\r\n// initial update of ssl material to replace the dummies\r\nsslUpdater.run();\r\n   \r\n// update ssl material every hour    \r\nExecutors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(sslUpdater, 1, 1, TimeUnit.HOURS);\r\n\r\n// execute https request\r\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nSee here for the documentation of this option: [Swapping KeyManager and TrustManager at runtime][1]\r\n\r\nAnd here for an actual working example: [Example swapping certificates at runtime with HttpUrlConnection][2] \r\n\r\nAnd here for a server side example: [Example swapping certificates at runtime with Spring Boot and Jetty][3] Also other servers are possible such as [Netty][4] or [Vert.x][5] as long as they can either use SSLContext, SSLServerSocketFactory, TrustManager or KeyManager\r\n\r\nYou can add the library to your project with:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\r\n    &lt;version&gt;7.4.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou can view the full documentation and other examples here: [GitHub - SSLContext Kickstart][6]\r\n\r\nBy the way I need to add a small disclaimer I am the maintainer of the library.\r\n\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart#support-for-swapping-keymanager-and-trustmanager-at-runtime\r\n  [2]: https://github.com/Hakky54/sslcontext-kickstart/blob/5bcc06a862d654e5e59daa4175c39abe230b8fb6/sslcontext-kickstart/src/test/java/nl/altindag/ssl/SSLFactoryIT.java#L233\r\n  [3]: https://github.com/Hakky54/java-tutorials/tree/main/instant-server-ssl-reloading\r\n  [4]: https://github.com/Hakky54/java-tutorials/tree/main/instant-server-ssl-reloading-with-netty/netty-server\r\n  [5]: https://github.com/Hakky54/java-tutorials/tree/main/instant-server-ssl-reloading-with-vertx/vertx-server\r\n  [6]: https://github.com/Hakky54/sslcontext-kickstart","title":"Reloading a java.net.http.HttpClient&#39;s SSLContext","body":"<p>I think this question is similar to <a href=\"https://stackoverflow.com/q/65868599/6777695\">How to renew keystore (SSLContext) in Spring Data Geode connections without restarting?</a> the answer I have provided there is similar to this one.</p>\n<p>This option is unfortunately not available by default. After you have supplied the SSLContext to the HttpClient and build the client you cannot change the SSLContext. You will need to create a new SSLContext and a new HttpClient, but there is a workaround which will do the trick to apply a reload/update.</p>\n<p>I had the same challenge for one of my projects and I solved it by using a custom trustmanager and keymanager which wraps around the actual trustmanager and keymanager while having the capability of swapping the actual trustmanager and keymanager. So you can use the following setup if you still want to accomplish it without the need of recreating the HttpClient and SSLContext:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLFactory baseSslFactory = SSLFactory.builder()\n          .withDummyIdentityMaterial()\n          .withDummyTrustMaterial()\n          .withSwappableIdentityMaterial()\n          .withSwappableTrustMaterial()\n          .build();\n          \nHttpClient httpClient = HttpClient.newBuilder()\n          .sslParameters(sslFactory.getSslParameters())\n          .sslContext(sslFactory.getSslContext())\n          .build()\n\nRunnable sslUpdater = () -&gt; {\n   SSLFactory updatedSslFactory = SSLFactory.builder()\n          .withIdentityMaterial(Paths.get(&quot;/path/to/your/identity.jks&quot;), &quot;password&quot;.toCharArray())\n          .withTrustMaterial(Paths.get(&quot;/path/to/your/truststore.jks&quot;), &quot;password&quot;.toCharArray())\n          .build();\n    \n   SSLFactoryUtils.reload(baseSslFactory, updatedSslFactory)\n};\n\n// initial update of ssl material to replace the dummies\nsslUpdater.run();\n   \n// update ssl material every hour    \nExecutors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(sslUpdater, 1, 1, TimeUnit.HOURS);\n\n// execute https request\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>See here for the documentation of this option: <a href=\"https://github.com/Hakky54/sslcontext-kickstart#support-for-swapping-keymanager-and-trustmanager-at-runtime\" rel=\"nofollow noreferrer\">Swapping KeyManager and TrustManager at runtime</a></p>\n<p>And here for an actual working example: <a href=\"https://github.com/Hakky54/sslcontext-kickstart/blob/5bcc06a862d654e5e59daa4175c39abe230b8fb6/sslcontext-kickstart/src/test/java/nl/altindag/ssl/SSLFactoryIT.java#L233\" rel=\"nofollow noreferrer\">Example swapping certificates at runtime with HttpUrlConnection</a></p>\n<p>And here for a server side example: <a href=\"https://github.com/Hakky54/java-tutorials/tree/main/instant-server-ssl-reloading\" rel=\"nofollow noreferrer\">Example swapping certificates at runtime with Spring Boot and Jetty</a> Also other servers are possible such as <a href=\"https://github.com/Hakky54/java-tutorials/tree/main/instant-server-ssl-reloading-with-netty/netty-server\" rel=\"nofollow noreferrer\">Netty</a> or <a href=\"https://github.com/Hakky54/java-tutorials/tree/main/instant-server-ssl-reloading-with-vertx/vertx-server\" rel=\"nofollow noreferrer\">Vert.x</a> as long as they can either use SSLContext, SSLServerSocketFactory, TrustManager or KeyManager</p>\n<p>You can add the library to your project with:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\n    &lt;version&gt;7.4.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can view the full documentation and other examples here: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a></p>\n<p>By the way I need to add a small disclaimer I am the maintainer of the library.</p>\n"}],"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5558,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69507126,"answer_count":1,"score":2,"last_activity_date":1669899987,"creation_date":1633783718,"question_id":69506869,"body_markdown":"I&#39;ve got a program that makes use of the [`java.net.http.HttpClient`][1], which was introduced in Java 11, to connect and send requests to internal services. These services are mutually authenticated, both presenting certificates issued by an internal CA.\r\n\r\nFor example,\r\n\r\n```java\r\nSSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.3&quot;);\r\nKeyManager keys = /* load our cert and key */;\r\nTrustManager trust = /* load our trusted CA */;\r\nsslContext.init(keys, trust, secureRandom);\r\n\r\nHttpClient.Builder builder = HttpClient.newBuilder().sslContext(sslContext);\r\nHttpClient client = builder.build();\r\n```\r\n\r\nOn our hosts, the client&#39;s certificate and private key get rotated pretty regularly, more often than the host or application gets a chance to restart. I&#39;d like to be able to reload the `HttpClient`&#39;s `SSLContext` with the new cert/key pair while it&#39;s still running, but can&#39;t see any way to do so.\r\n\r\nAfter the `HttpClient` has been built, it only provides an [`sslContext()`][2] getter to retrieve the `SSLContext`. It doesn&#39;t seem to have an API to set a new one. \r\n\r\nIs there any other mechanism to achieve this?\r\n\r\n(I&#39;m thinking of something like Jetty&#39;s [`SslContextFactory#reload(SSLContext)`][3] method.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.html\r\n  [2]: https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.html#sslContext()\r\n  [3]: https://www.eclipse.org/jetty/javadoc/jetty-9/org/eclipse/jetty/util/ssl/SslContextFactory.html#reload(java.util.function.Consumer)","title":"Reloading a java.net.http.HttpClient&#39;s SSLContext","body":"<p>I've got a program that makes use of the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\"><code>java.net.http.HttpClient</code></a>, which was introduced in Java 11, to connect and send requests to internal services. These services are mutually authenticated, both presenting certificates issued by an internal CA.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.3&quot;);\nKeyManager keys = /* load our cert and key */;\nTrustManager trust = /* load our trusted CA */;\nsslContext.init(keys, trust, secureRandom);\n\nHttpClient.Builder builder = HttpClient.newBuilder().sslContext(sslContext);\nHttpClient client = builder.build();\n</code></pre>\n<p>On our hosts, the client's certificate and private key get rotated pretty regularly, more often than the host or application gets a chance to restart. I'd like to be able to reload the <code>HttpClient</code>'s <code>SSLContext</code> with the new cert/key pair while it's still running, but can't see any way to do so.</p>\n<p>After the <code>HttpClient</code> has been built, it only provides an <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.net.http/java/net/http/HttpClient.html#sslContext()\" rel=\"nofollow noreferrer\"><code>sslContext()</code></a> getter to retrieve the <code>SSLContext</code>. It doesn't seem to have an API to set a new one.</p>\n<p>Is there any other mechanism to achieve this?</p>\n<p>(I'm thinking of something like Jetty's <a href=\"https://www.eclipse.org/jetty/javadoc/jetty-9/org/eclipse/jetty/util/ssl/SslContextFactory.html#reload(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>SslContextFactory#reload(SSLContext)</code></a> method.)</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669899908,"creation_date":1669899588,"answer_id":74642265,"question_id":74642210,"body_markdown":"The error indicates that the Spring class `org.springframework.boot.loader.JarLauncher` has class version 61 (Java 17). Spring Boot 3 [requires Java 17][1]. You cannot use it on Java 8, even if you compile your own classes targeting Java 8.\r\n\r\nIf you want to use Spring Boot 3, you will need to upgrade to Java 17, otherwise you need to remain on Spring Boot 2.7.x or lower.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support","title":"java.lang.UnsupportedClassVersionError org/springframework/boot/loader/JarLauncher has been compiled by a more recent version of the Java Runtime","body":"<p>The error indicates that the Spring class <code>org.springframework.boot.loader.JarLauncher</code> has class version 61 (Java 17). Spring Boot 3 <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support\" rel=\"nofollow noreferrer\">requires Java 17</a>. You cannot use it on Java 8, even if you compile your own classes targeting Java 8.</p>\n<p>If you want to use Spring Boot 3, you will need to upgrade to Java 17, otherwise you need to remain on Spring Boot 2.7.x or lower.</p>\n"}],"owner":{"account_id":1467167,"reputation":1919,"user_id":1379706,"accept_rate":62,"display_name":"stallion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74642265,"answer_count":1,"score":0,"last_activity_date":1669899908,"creation_date":1669899353,"question_id":74642210,"body_markdown":"I understand that this question has been asked many times in Stack Overflow and I have researched many of them, so please check this.\r\n\r\n```none\r\nvinays@Vinays-MacBook-Pro demo % java -jar target/spring-boot-hello-1.0.jar\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/loader/JarLauncher has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\r\nvinays@Vinays-MacBook-Pro demo % \r\n```\r\n\r\nMy pom file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n\t\t\thttp://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;artifactId&gt;spring-boot-hello&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;Spring Boot Hello World Example&lt;/name&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nBoth my ```maven.compiler.target``` and ```maven.compiler.source``` are set to 1.8 and i have java 1.8 running in my mac (M1).\r\n\r\n```none\r\njava.class.version = 52.0\r\n    java.endorsed.dirs = /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/endorsed\r\n    java.ext.dirs = /Users/vinays/Library/Java/Extensions\r\n        /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext\r\n        /Library/Java/Extensions\r\n        /Network/Library/Java/Extensions\r\n        /System/Library/Java/Extensions\r\n        /usr/lib/java\r\n    java.home = /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre\r\n    java.io.tmpdir = /var/folders/46/7pq574c14f51kn1h8gjsz0hw0000gn/T/\r\n    java.library.path = /Users/vinays/Library/Java/Extensions\r\n        /Library/Java/Extensions\r\n        /Network/Library/Java/Extensions\r\n        /System/Library/Java/Extensions\r\n        /usr/lib/java\r\n        .\r\n    java.runtime.name = OpenJDK Runtime Environment\r\n    java.runtime.version = 1.8.0_292-b10\r\n    java.specification.name = Java Platform API Specification\r\n    java.specification.vendor = Oracle Corporation\r\n    java.specification.version = 1.8\r\n    java.vendor = AdoptOpenJDK\r\n    java.vendor.url = https://adoptopenjdk.net/\r\n    java.vendor.url.bug = https://github.com/AdoptOpenJDK/openjdk-support/issues\r\n    java.version = 1.8.0_292\r\n    java.vm.info = mixed mode\r\n    java.vm.name = OpenJDK 64-Bit Server VM\r\n    java.vm.specification.name = Java Virtual Machine Specification\r\n    java.vm.specification.vendor = Oracle Corporation\r\n    java.vm.specification.version = 1.8\r\n    java.vm.vendor = AdoptOpenJDK\r\n    java.vm.version = 25.292-b10\r\n    line.separator = \\n \r\n    os.arch = x86_64\r\n    os.name = Mac OS X\r\n    os.version = 10.16\r\n    path.separator = :\r\n    socksNonProxyHosts = local|*.local|169.254/16|*.169.254/16\r\n    sun.arch.data.model = 64\r\n```\r\n\r\nI am not sure why I am still getting the issue.","title":"java.lang.UnsupportedClassVersionError org/springframework/boot/loader/JarLauncher has been compiled by a more recent version of the Java Runtime","body":"<p>I understand that this question has been asked many times in Stack Overflow and I have researched many of them, so please check this.</p>\n<pre class=\"lang-none prettyprint-override\"><code>vinays@Vinays-MacBook-Pro demo % java -jar target/spring-boot-hello-1.0.jar\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/loader/JarLauncher has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\nvinays@Vinays-MacBook-Pro demo % \n</code></pre>\n<p>My pom file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n            http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;spring-boot-hello&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Spring Boot Hello World Example&lt;/name&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Both my <code>maven.compiler.target</code> and <code>maven.compiler.source</code> are set to 1.8 and i have java 1.8 running in my mac (M1).</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.class.version = 52.0\n    java.endorsed.dirs = /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/endorsed\n    java.ext.dirs = /Users/vinays/Library/Java/Extensions\n        /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext\n        /Library/Java/Extensions\n        /Network/Library/Java/Extensions\n        /System/Library/Java/Extensions\n        /usr/lib/java\n    java.home = /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre\n    java.io.tmpdir = /var/folders/46/7pq574c14f51kn1h8gjsz0hw0000gn/T/\n    java.library.path = /Users/vinays/Library/Java/Extensions\n        /Library/Java/Extensions\n        /Network/Library/Java/Extensions\n        /System/Library/Java/Extensions\n        /usr/lib/java\n        .\n    java.runtime.name = OpenJDK Runtime Environment\n    java.runtime.version = 1.8.0_292-b10\n    java.specification.name = Java Platform API Specification\n    java.specification.vendor = Oracle Corporation\n    java.specification.version = 1.8\n    java.vendor = AdoptOpenJDK\n    java.vendor.url = https://adoptopenjdk.net/\n    java.vendor.url.bug = https://github.com/AdoptOpenJDK/openjdk-support/issues\n    java.version = 1.8.0_292\n    java.vm.info = mixed mode\n    java.vm.name = OpenJDK 64-Bit Server VM\n    java.vm.specification.name = Java Virtual Machine Specification\n    java.vm.specification.vendor = Oracle Corporation\n    java.vm.specification.version = 1.8\n    java.vm.vendor = AdoptOpenJDK\n    java.vm.version = 25.292-b10\n    line.separator = \\n \n    os.arch = x86_64\n    os.name = Mac OS X\n    os.version = 10.16\n    path.separator = :\n    socksNonProxyHosts = local|*.local|169.254/16|*.169.254/16\n    sun.arch.data.model = 64\n</code></pre>\n<p>I am not sure why I am still getting the issue.</p>\n"},{"tags":["java","ms-word","apache-poi","bulletedlist"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641381666,"creation_date":1641381215,"answer_id":70591922,"question_id":70582769,"body_markdown":"I have provided multiple answers for how to create Word numberings already. Also for how to create multilevel numberings. For example: https://stackoverflow.com/questions/39723790/apache-poi-multiline-bullet-point-is-working-but-not-multiple-paragaraph/39753711#39753711 and https://stackoverflow.com/questions/43155172/how-can-i-add-list-in-poi-word-ordered-number-or-other-symbol-for-list-symbol/43164999#43164999.\r\n\r\nBut as you are asking for documentstion too, I will try to shed more light on this.\r\n\r\nModern Word documents (`*.docx`) are using [Office Open XML](https://en.wikipedia.org/wiki/Office_Open_XML) file format. The format was initially standardized by the Ecma (as ECMA-376), and by the ISO and IEC (as ISO/IEC 29500) in later versions. It is a ZIP archive containing XML and other files in a special directory structure. So one easily can unzip a `*.docx` file and have a look into the internals.\r\n\r\nBasing in those standardisations, `apache` has developed XML beans in `org.openxmlformats.schemas` classes. Up to `apache poi` version 4 those classes were shipped in [ooxml-schemas](https://mvnrepository.com/artifact/org.apache.poi/ooxml-schemas). From `apache poi` version 5 on they are in [poi-ooxml-full](https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-full). There is a `poi-ooxml-lite` version too. But this does only contain those beans which are used by the high level `apache poi` classes. So it lacks some beans when it comes to more special use cases.\r\n\r\nUnfortunately there is no documentation for the `org.openxmlformats.schemas` classes public available. But of course one can download the sources and do `javadoc` from those sources to have at least the API documentation.\r\n\r\n`XWPF` is `apache poi`&#39;s high level implementation of the Office Open XML part used by Microsoft Word. It uses the `org.openxmlformats.schemas` beans to implement more convenient methods. It is documented in https://poi.apache.org/: [Apache POI - Javadocs](https://poi.apache.org/apidocs/index.html), [POI-XWPF - A Quick Guide](https://poi.apache.org/components/document/quick-guide-xwpf.html). But `XWPF` does not contain all the possibilities and features of Microsoft Word up to now. So for some special use cases one need knowledge about the XML and the usage of the `org.openxmlformats.schemas` beans.\r\n\r\nSince `*.docx` is simply a ZIP archive, the most expedient way will be creating a simple `*.docx` file using Microsoft Word itself and then unzip the  `*.docx` to get what XML was been created. Then trying to recreate that XML using `XWPF` and the `org.openxmlformats.schemas` beans.\r\n\r\nWhen it comes to numberings one will find that there is a `/word/numbering.xml` in the `*.docx` ZIP archive which contains the XML for the numbering definitions. Each definition consists on a `abstractNum` containing the definition even for multiple indent levels  of a numbering and a `num` which links to that `abstractNum`. The `num` has a `numId` which gets used in `/word/document.xml` to mark those paragraphs which are contained in a enumeration. The paragraphs also might have a `ilv` (indent level) which tells how deep they are indendet in that enumeration.\r\n\r\n`XWPF` does not fully provide creating all features of the `abstractNum` in the numbering. It provides `XWPFAbstractNum` which has a constructor taking a `org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum`. So that `CTAbstractNum` needs to be created using the low level beans. Simplest way is creating it from XML given as `String`. The XML one can get by creating a simple `*.docx` file having a numbering using Microsoft Word itself and then unzip the  `*.docx` ZIP archive. \r\n\r\nIf one is able to read XML then this XML will be self explaining. The elements are well named. What one needs to know is that measurement units of indention and hang&#237;ng is `twips` (twentieth of an inch point). And that the symbols used for bullet points sonetimes comes from the additional Windows fonts Symbol and/or Wingdings. Those fonts also needs to be set in the XML then. And the values are ASCII values which uses the special glyphs of those special fonts then.\r\n\r\nFollowing complete example shows this. It creates your showed enumeration one time as a bullet list and one time as a numbered list.\r\n\r\n\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTNumbering;\r\n    \r\n    import java.math.BigInteger;\r\n    \r\n    import java.util.Map; \r\n    import java.util.TreeMap; \r\n    \r\n    public class CreateWordMultilevelLists {\r\n    \r\n     static String cTAbstractNumBulletXML = \r\n      &quot;&lt;w:abstractNum xmlns:w=\\&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main\\&quot; w:abstractNumId=\\&quot;0\\&quot;&gt;&quot;\r\n    + &quot;&lt;w:multiLevelType w:val=\\&quot;hybridMultilevel\\&quot;/&gt;&quot;\r\n    + &quot;&lt;w:lvl w:ilvl=\\&quot;0\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;bullet\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;\\uF0B7\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;720\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt;&lt;w:rFonts w:ascii=\\&quot;Symbol\\&quot; w:hAnsi=\\&quot;Symbol\\&quot; w:hint=\\&quot;default\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt;&quot;\r\n    + &quot;&lt;w:lvl w:ilvl=\\&quot;1\\&quot; w:tentative=\\&quot;1\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;bullet\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;\\u2013\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;1440\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt;&lt;w:rFonts w:ascii=\\&quot;Courier New\\&quot; w:hAnsi=\\&quot;Courier New\\&quot; w:cs=\\&quot;Courier New\\&quot; w:hint=\\&quot;default\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt;&quot;\r\n    + &quot;&lt;w:lvl w:ilvl=\\&quot;2\\&quot; w:tentative=\\&quot;1\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;bullet\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;\\u26Ac\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;2160\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt;&lt;w:rFonts w:ascii=\\&quot;Courier New\\&quot; w:hAnsi=\\&quot;Courier New\\&quot; w:hint=\\&quot;default\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt;&quot;\r\n    + &quot;&lt;/w:abstractNum&gt;&quot;;\t\r\n    \r\n     static String cTAbstractNumDecimalXML = \r\n      &quot;&lt;w:abstractNum xmlns:w=\\&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main\\&quot; w:abstractNumId=\\&quot;1\\&quot;&gt;&quot;\r\n    + &quot;&lt;w:multiLevelType w:val=\\&quot;hybridMultilevel\\&quot;/&gt;&quot;\r\n    + &quot;&lt;w:lvl w:ilvl=\\&quot;0\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;720\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;/w:lvl&gt;&quot;\r\n    + &quot;&lt;w:lvl w:ilvl=\\&quot;1\\&quot; w:tentative=\\&quot;1\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1.%2\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;1440\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;/w:lvl&gt;&quot;\r\n    + &quot;&lt;w:lvl w:ilvl=\\&quot;2\\&quot; w:tentative=\\&quot;1\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1.%2.%3\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;2160\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;/w:lvl&gt;&quot;\r\n    + &quot;&lt;/w:abstractNum&gt;&quot;;\r\n    \r\n     static BigInteger createNumbering(XWPFDocument document, String abstractNumXML) throws Exception {\r\n      CTNumbering cTNumbering = CTNumbering.Factory.parse(abstractNumXML);\r\n      CTAbstractNum cTAbstractNum = cTNumbering.getAbstractNumArray(0);\r\n      XWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\r\n      XWPFNumbering numbering = document.createNumbering();\r\n      BigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\r\n      BigInteger numID = numbering.addNum(abstractNumID);\r\n      return numID;\r\n     }\r\n     \r\n     static void setIndentLevel(XWPFParagraph paragraph, BigInteger level) {\r\n      if (paragraph.getCTP().isSetPPr()) {\r\n       if (paragraph.getCTP().getPPr().isSetNumPr()) {\r\n        if (paragraph.getCTP().getPPr().getNumPr().isSetIlvl()) {\r\n    \t paragraph.getCTP().getPPr().getNumPr().getIlvl().setVal(level);\r\n    \t} else {\r\n         paragraph.getCTP().getPPr().getNumPr().addNewIlvl().setVal(level);\r\n    \t}\r\n       }\r\n      }\r\n     }\r\n     \r\n     static BigInteger getIndentLevelFromNumberingString(String numberingString) {\r\n      String[] levels = numberingString.split(&quot;\\\\.&quot;);\r\n      int level = levels.length -1;\r\n      return BigInteger.valueOf(level);\r\n     }\r\n     \r\n     static void insertListContent(XWPFDocument document, TreeMap&lt;String, String&gt; listContent, BigInteger numID) {\r\n      for (Map.Entry&lt;String, String&gt; entry : listContent.entrySet()) {\r\n       String key = entry.getKey();\r\n       String value = entry.getValue();\r\n       XWPFParagraph paragraph = document.createParagraph();\r\n       paragraph.setNumID(numID);\r\n       setIndentLevel(paragraph, getIndentLevelFromNumberingString(key));\r\n       XWPFRun run = paragraph.createRun();\r\n       run.setText(value); \r\n       if (!entry.equals(listContent.lastEntry())) paragraph.setSpacingAfter(0);\r\n      } \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \t \r\n      TreeMap&lt;String, String&gt; listContent = new TreeMap&lt;String, String&gt;();\r\n      listContent.put(&quot;1&quot;, &quot;One&quot;);\r\n      listContent.put(&quot;1.1&quot;, &quot;AAA&quot;);\r\n      listContent.put(&quot;1.1.1&quot;, &quot;aaa&quot;);\r\n      listContent.put(&quot;1.1.2&quot;, &quot;bbb&quot;);\r\n      listContent.put(&quot;1.1.3&quot;, &quot;ccc&quot;);\r\n      listContent.put(&quot;1.2&quot;, &quot;BBB&quot;);\r\n      listContent.put(&quot;1.2.1&quot;, &quot;xyz&quot;);\r\n      listContent.put(&quot;1.2.2&quot;, &quot;abc&quot;);\r\n      listContent.put(&quot;2&quot;, &quot;Two&quot;);\r\n      listContent.put(&quot;2.1&quot;, &quot;AAA&quot;);\r\n      listContent.put(&quot;2.1.1&quot;, &quot;mmm&quot;);\r\n      listContent.put(&quot;2.1.2&quot;, &quot;nnn&quot;);\r\n      listContent.put(&quot;2.2&quot;, &quot;ZZZ&quot;);\r\n      listContent.put(&quot;2.2.1&quot;, &quot;bbb&quot;);\r\n      listContent.put(&quot;2.2.2&quot;, &quot;nnn&quot;);\r\n      \r\n      XWPFDocument document = new XWPFDocument();\r\n      \r\n      BigInteger numIDBulletList = createNumbering(document, cTAbstractNumBulletXML);\r\n      BigInteger numIDDecimalList = createNumbering(document, cTAbstractNumDecimalXML);\r\n      \r\n      XWPFParagraph paragraph = document.createParagraph();\r\n      XWPFRun run=paragraph.createRun();  \r\n      run.setText(&quot;The bullet list:&quot;);\r\n      \r\n      insertListContent(document, listContent, numIDBulletList);\r\n      \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;Paragraph after the list.&quot;);\r\n      \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;The decimal list:&quot;);\r\n      \r\n      insertListContent(document, listContent, numIDDecimalList);\r\n      \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;Paragraph after the list.&quot;);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;./CreateWordMultilevelLists.docx&quot;);    \r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    }\r\n\r\n","title":"Creating nested bullet lists in Word using POI v5","body":"<p>I have provided multiple answers for how to create Word numberings already. Also for how to create multilevel numberings. For example: <a href=\"https://stackoverflow.com/questions/39723790/apache-poi-multiline-bullet-point-is-working-but-not-multiple-paragaraph/39753711#39753711\">Apache poi multiline bullet point is working but not multiple paragaraph?</a> and <a href=\"https://stackoverflow.com/questions/43155172/how-can-i-add-list-in-poi-word-ordered-number-or-other-symbol-for-list-symbol/43164999#43164999\">How can I add List in poi word, ordered number or other symbol for list symbol?</a>.</p>\n<p>But as you are asking for documentstion too, I will try to shed more light on this.</p>\n<p>Modern Word documents (<code>*.docx</code>) are using <a href=\"https://en.wikipedia.org/wiki/Office_Open_XML\" rel=\"nofollow noreferrer\">Office Open XML</a> file format. The format was initially standardized by the Ecma (as ECMA-376), and by the ISO and IEC (as ISO/IEC 29500) in later versions. It is a ZIP archive containing XML and other files in a special directory structure. So one easily can unzip a <code>*.docx</code> file and have a look into the internals.</p>\n<p>Basing in those standardisations, <code>apache</code> has developed XML beans in <code>org.openxmlformats.schemas</code> classes. Up to <code>apache poi</code> version 4 those classes were shipped in <a href=\"https://mvnrepository.com/artifact/org.apache.poi/ooxml-schemas\" rel=\"nofollow noreferrer\">ooxml-schemas</a>. From <code>apache poi</code> version 5 on they are in <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-full\" rel=\"nofollow noreferrer\">poi-ooxml-full</a>. There is a <code>poi-ooxml-lite</code> version too. But this does only contain those beans which are used by the high level <code>apache poi</code> classes. So it lacks some beans when it comes to more special use cases.</p>\n<p>Unfortunately there is no documentation for the <code>org.openxmlformats.schemas</code> classes public available. But of course one can download the sources and do <code>javadoc</code> from those sources to have at least the API documentation.</p>\n<p><code>XWPF</code> is <code>apache poi</code>'s high level implementation of the Office Open XML part used by Microsoft Word. It uses the <code>org.openxmlformats.schemas</code> beans to implement more convenient methods. It is documented in <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">https://poi.apache.org/</a>: <a href=\"https://poi.apache.org/apidocs/index.html\" rel=\"nofollow noreferrer\">Apache POI - Javadocs</a>, <a href=\"https://poi.apache.org/components/document/quick-guide-xwpf.html\" rel=\"nofollow noreferrer\">POI-XWPF - A Quick Guide</a>. But <code>XWPF</code> does not contain all the possibilities and features of Microsoft Word up to now. So for some special use cases one need knowledge about the XML and the usage of the <code>org.openxmlformats.schemas</code> beans.</p>\n<p>Since <code>*.docx</code> is simply a ZIP archive, the most expedient way will be creating a simple <code>*.docx</code> file using Microsoft Word itself and then unzip the  <code>*.docx</code> to get what XML was been created. Then trying to recreate that XML using <code>XWPF</code> and the <code>org.openxmlformats.schemas</code> beans.</p>\n<p>When it comes to numberings one will find that there is a <code>/word/numbering.xml</code> in the <code>*.docx</code> ZIP archive which contains the XML for the numbering definitions. Each definition consists on a <code>abstractNum</code> containing the definition even for multiple indent levels  of a numbering and a <code>num</code> which links to that <code>abstractNum</code>. The <code>num</code> has a <code>numId</code> which gets used in <code>/word/document.xml</code> to mark those paragraphs which are contained in a enumeration. The paragraphs also might have a <code>ilv</code> (indent level) which tells how deep they are indendet in that enumeration.</p>\n<p><code>XWPF</code> does not fully provide creating all features of the <code>abstractNum</code> in the numbering. It provides <code>XWPFAbstractNum</code> which has a constructor taking a <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum</code>. So that <code>CTAbstractNum</code> needs to be created using the low level beans. Simplest way is creating it from XML given as <code>String</code>. The XML one can get by creating a simple <code>*.docx</code> file having a numbering using Microsoft Word itself and then unzip the  <code>*.docx</code> ZIP archive.</p>\n<p>If one is able to read XML then this XML will be self explaining. The elements are well named. What one needs to know is that measurement units of indention and hangíng is <code>twips</code> (twentieth of an inch point). And that the symbols used for bullet points sonetimes comes from the additional Windows fonts Symbol and/or Wingdings. Those fonts also needs to be set in the XML then. And the values are ASCII values which uses the special glyphs of those special fonts then.</p>\n<p>Following complete example shows this. It creates your showed enumeration one time as a bullet list and one time as a numbered list.</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTNumbering;\n\nimport java.math.BigInteger;\n\nimport java.util.Map; \nimport java.util.TreeMap; \n\npublic class CreateWordMultilevelLists {\n\n static String cTAbstractNumBulletXML = \n  &quot;&lt;w:abstractNum xmlns:w=\\&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main\\&quot; w:abstractNumId=\\&quot;0\\&quot;&gt;&quot;\n+ &quot;&lt;w:multiLevelType w:val=\\&quot;hybridMultilevel\\&quot;/&gt;&quot;\n+ &quot;&lt;w:lvl w:ilvl=\\&quot;0\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;bullet\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;\\uF0B7\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;720\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt;&lt;w:rFonts w:ascii=\\&quot;Symbol\\&quot; w:hAnsi=\\&quot;Symbol\\&quot; w:hint=\\&quot;default\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt;&quot;\n+ &quot;&lt;w:lvl w:ilvl=\\&quot;1\\&quot; w:tentative=\\&quot;1\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;bullet\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;\\u2013\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;1440\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt;&lt;w:rFonts w:ascii=\\&quot;Courier New\\&quot; w:hAnsi=\\&quot;Courier New\\&quot; w:cs=\\&quot;Courier New\\&quot; w:hint=\\&quot;default\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt;&quot;\n+ &quot;&lt;w:lvl w:ilvl=\\&quot;2\\&quot; w:tentative=\\&quot;1\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;bullet\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;\\u26Ac\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;2160\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt;&lt;w:rFonts w:ascii=\\&quot;Courier New\\&quot; w:hAnsi=\\&quot;Courier New\\&quot; w:hint=\\&quot;default\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt;&quot;\n+ &quot;&lt;/w:abstractNum&gt;&quot;;   \n\n static String cTAbstractNumDecimalXML = \n  &quot;&lt;w:abstractNum xmlns:w=\\&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main\\&quot; w:abstractNumId=\\&quot;1\\&quot;&gt;&quot;\n+ &quot;&lt;w:multiLevelType w:val=\\&quot;hybridMultilevel\\&quot;/&gt;&quot;\n+ &quot;&lt;w:lvl w:ilvl=\\&quot;0\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;720\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;/w:lvl&gt;&quot;\n+ &quot;&lt;w:lvl w:ilvl=\\&quot;1\\&quot; w:tentative=\\&quot;1\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1.%2\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;1440\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;/w:lvl&gt;&quot;\n+ &quot;&lt;w:lvl w:ilvl=\\&quot;2\\&quot; w:tentative=\\&quot;1\\&quot;&gt;&lt;w:start w:val=\\&quot;1\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1.%2.%3\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&lt;w:pPr&gt;&lt;w:ind w:left=\\&quot;2160\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;/w:lvl&gt;&quot;\n+ &quot;&lt;/w:abstractNum&gt;&quot;;\n\n static BigInteger createNumbering(XWPFDocument document, String abstractNumXML) throws Exception {\n  CTNumbering cTNumbering = CTNumbering.Factory.parse(abstractNumXML);\n  CTAbstractNum cTAbstractNum = cTNumbering.getAbstractNumArray(0);\n  XWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\n  XWPFNumbering numbering = document.createNumbering();\n  BigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\n  BigInteger numID = numbering.addNum(abstractNumID);\n  return numID;\n }\n \n static void setIndentLevel(XWPFParagraph paragraph, BigInteger level) {\n  if (paragraph.getCTP().isSetPPr()) {\n   if (paragraph.getCTP().getPPr().isSetNumPr()) {\n    if (paragraph.getCTP().getPPr().getNumPr().isSetIlvl()) {\n     paragraph.getCTP().getPPr().getNumPr().getIlvl().setVal(level);\n    } else {\n     paragraph.getCTP().getPPr().getNumPr().addNewIlvl().setVal(level);\n    }\n   }\n  }\n }\n \n static BigInteger getIndentLevelFromNumberingString(String numberingString) {\n  String[] levels = numberingString.split(&quot;\\\\.&quot;);\n  int level = levels.length -1;\n  return BigInteger.valueOf(level);\n }\n \n static void insertListContent(XWPFDocument document, TreeMap&lt;String, String&gt; listContent, BigInteger numID) {\n  for (Map.Entry&lt;String, String&gt; entry : listContent.entrySet()) {\n   String key = entry.getKey();\n   String value = entry.getValue();\n   XWPFParagraph paragraph = document.createParagraph();\n   paragraph.setNumID(numID);\n   setIndentLevel(paragraph, getIndentLevelFromNumberingString(key));\n   XWPFRun run = paragraph.createRun();\n   run.setText(value); \n   if (!entry.equals(listContent.lastEntry())) paragraph.setSpacingAfter(0);\n  } \n }\n\n public static void main(String[] args) throws Exception {\n     \n  TreeMap&lt;String, String&gt; listContent = new TreeMap&lt;String, String&gt;();\n  listContent.put(&quot;1&quot;, &quot;One&quot;);\n  listContent.put(&quot;1.1&quot;, &quot;AAA&quot;);\n  listContent.put(&quot;1.1.1&quot;, &quot;aaa&quot;);\n  listContent.put(&quot;1.1.2&quot;, &quot;bbb&quot;);\n  listContent.put(&quot;1.1.3&quot;, &quot;ccc&quot;);\n  listContent.put(&quot;1.2&quot;, &quot;BBB&quot;);\n  listContent.put(&quot;1.2.1&quot;, &quot;xyz&quot;);\n  listContent.put(&quot;1.2.2&quot;, &quot;abc&quot;);\n  listContent.put(&quot;2&quot;, &quot;Two&quot;);\n  listContent.put(&quot;2.1&quot;, &quot;AAA&quot;);\n  listContent.put(&quot;2.1.1&quot;, &quot;mmm&quot;);\n  listContent.put(&quot;2.1.2&quot;, &quot;nnn&quot;);\n  listContent.put(&quot;2.2&quot;, &quot;ZZZ&quot;);\n  listContent.put(&quot;2.2.1&quot;, &quot;bbb&quot;);\n  listContent.put(&quot;2.2.2&quot;, &quot;nnn&quot;);\n  \n  XWPFDocument document = new XWPFDocument();\n  \n  BigInteger numIDBulletList = createNumbering(document, cTAbstractNumBulletXML);\n  BigInteger numIDDecimalList = createNumbering(document, cTAbstractNumDecimalXML);\n  \n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run=paragraph.createRun();  \n  run.setText(&quot;The bullet list:&quot;);\n  \n  insertListContent(document, listContent, numIDBulletList);\n  \n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;Paragraph after the list.&quot;);\n  \n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;The decimal list:&quot;);\n  \n  insertListContent(document, listContent, numIDDecimalList);\n  \n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;Paragraph after the list.&quot;);\n\n  FileOutputStream out = new FileOutputStream(&quot;./CreateWordMultilevelLists.docx&quot;);    \n  document.write(out);\n  out.close();\n  document.close();\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70591922,"answer_count":1,"score":0,"last_activity_date":1669899731,"creation_date":1641317268,"question_id":70582769,"body_markdown":"I am working in Java, using the following Maven dependency (and no others):\r\n\r\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n      &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;5.0.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nand the following class, gleaned from another SO post:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.math.BigInteger;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.XWPFAbstractNum;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFNumbering;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n    import org.apache.poi.xwpf.usermodel.XWPFRun;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTLvl;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.STNumberFormat;\r\n    \r\n    public class CreateSimpleWordBulletList\r\n    {\r\n    \r\n      public static void main(String[] args) throws Exception\r\n      {\r\n    \r\n        CTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\r\n        \r\n        // Next we set the AbstractNumId. This requires care.\r\n        // Since we are in a new document we can start numbering from 0.\r\n        // But if we have an existing document, we must determine the next free\r\n        // number first.\r\n        cTAbstractNum.setAbstractNumId(BigInteger.valueOf(0));\r\n    \r\n        // Bullet list\r\n        CTLvl cTLvl = cTAbstractNum.addNewLvl();\r\n        cTLvl.addNewNumFmt().setVal(STNumberFormat.BULLET);\r\n        cTLvl.addNewLvlText().setVal(&quot;•&quot;);\r\n    \r\n        XWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\r\n        XWPFDocument document = new XWPFDocument();\r\n        XWPFNumbering numbering = document.createNumbering();\r\n    \r\n        BigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\r\n        BigInteger numID = numbering.addNum(abstractNumID);\r\n    \r\n        XWPFParagraph paragraph = document.createParagraph();\r\n    \r\n        XWPFRun run = paragraph.createRun();\r\n        run.setText(&quot;A list having defined gap between bullet point and text:&quot;);\r\n    \r\n        ArrayList&lt;String&gt; documentList = new ArrayList&lt;String&gt;(Arrays.asList(new String[] { &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot; }));\r\n        for (String string : documentList)\r\n        {\r\n          paragraph = document.createParagraph();\r\n          paragraph.setNumID(numID);\r\n          // set indents in Twips (twentieth of an inch point, 1440 Twips = 1 inch\r\n          paragraph.setIndentFromLeft(1440 / 4); // indent from left 360 Twips = 1/4\r\n                                                 // inch\r\n          paragraph.setIndentationHanging(1440 / 4); // indentation hanging 360\r\n                                                     // Twips = 1/4 inch\r\n                                                     // so bullet point hangs 1/4\r\n                                                     // inch before the text at\r\n                                                     // indentation 0\r\n          run = paragraph.createRun();\r\n          run.setText(string);\r\n        }\r\n    \r\n        paragraph = document.createParagraph();\r\n    \r\n        FileOutputStream out = new FileOutputStream(&quot;CreateWordSimplestBulletList.docx&quot;);\r\n        document.write(out);\r\n        out.close();\r\n        document.close();\r\n    \r\n      }\r\n    }\r\n\r\nThis creates a bullet list, as I want; I hope to indent it, but that&#39;s secondary.\r\n\r\nThe real modification I need to make to it is to add two more levels of lists, so that the result, in the Word document, resembles the following:\r\n\r\n    * One\r\n        - AAA\r\n            o aaa\r\n            o bbb\r\n            o ccc\r\n        - BBB\r\n            o xyz\r\n            o abc\r\n    * Two\r\n        - AAA\r\n            o mmm\r\n            o nnn\r\n        - ZZZ\r\n            o bbb\r\n            o nnn\r\n\r\netc.\r\n\r\nI hope it won&#39;t be necessary for someone to write code for me for this, but I do not understand nor find any documentation for `CTAbstractNum`, `CTLvl`, or the `XWPF*` classes. If there is documentation on those that would suffice, then someone could just point me to that. \r\n\r\nI gather from other the comment here that the value set in `CTAbstractNum.setAbstractNumId()` identifies the numbering level document-wide, so that it should be applied to all the items at the outermost level, and that, conceptually, another such ID would be applied to all items at the same level within each bullet (e.g., the &#39;aaa&#39;, &#39;bbb&#39;, &#39;ccc&#39; strings in the above illustration). I&#39;m guessing different IDs would be created and applied to each such internal list. But I hate guessing about that when I don&#39;t know anything about the conceptual model for the API. Trial-and-error programming is such a bore.\r\n","title":"Creating nested bullet lists in Word using POI v5","body":"<p>I am working in Java, using the following Maven dependency (and no others):</p>\n<pre><code>  &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>and the following class, gleaned from another SO post:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.math.BigInteger;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\nimport org.apache.poi.xwpf.usermodel.XWPFAbstractNum;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFNumbering;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.poi.xwpf.usermodel.XWPFRun;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTLvl;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.STNumberFormat;\n\npublic class CreateSimpleWordBulletList\n{\n\n  public static void main(String[] args) throws Exception\n  {\n\n    CTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\n    \n    // Next we set the AbstractNumId. This requires care.\n    // Since we are in a new document we can start numbering from 0.\n    // But if we have an existing document, we must determine the next free\n    // number first.\n    cTAbstractNum.setAbstractNumId(BigInteger.valueOf(0));\n\n    // Bullet list\n    CTLvl cTLvl = cTAbstractNum.addNewLvl();\n    cTLvl.addNewNumFmt().setVal(STNumberFormat.BULLET);\n    cTLvl.addNewLvlText().setVal(&quot;•&quot;);\n\n    XWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\n    XWPFDocument document = new XWPFDocument();\n    XWPFNumbering numbering = document.createNumbering();\n\n    BigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\n    BigInteger numID = numbering.addNum(abstractNumID);\n\n    XWPFParagraph paragraph = document.createParagraph();\n\n    XWPFRun run = paragraph.createRun();\n    run.setText(&quot;A list having defined gap between bullet point and text:&quot;);\n\n    ArrayList&lt;String&gt; documentList = new ArrayList&lt;String&gt;(Arrays.asList(new String[] { &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot; }));\n    for (String string : documentList)\n    {\n      paragraph = document.createParagraph();\n      paragraph.setNumID(numID);\n      // set indents in Twips (twentieth of an inch point, 1440 Twips = 1 inch\n      paragraph.setIndentFromLeft(1440 / 4); // indent from left 360 Twips = 1/4\n                                             // inch\n      paragraph.setIndentationHanging(1440 / 4); // indentation hanging 360\n                                                 // Twips = 1/4 inch\n                                                 // so bullet point hangs 1/4\n                                                 // inch before the text at\n                                                 // indentation 0\n      run = paragraph.createRun();\n      run.setText(string);\n    }\n\n    paragraph = document.createParagraph();\n\n    FileOutputStream out = new FileOutputStream(&quot;CreateWordSimplestBulletList.docx&quot;);\n    document.write(out);\n    out.close();\n    document.close();\n\n  }\n}\n</code></pre>\n<p>This creates a bullet list, as I want; I hope to indent it, but that's secondary.</p>\n<p>The real modification I need to make to it is to add two more levels of lists, so that the result, in the Word document, resembles the following:</p>\n<pre><code>* One\n    - AAA\n        o aaa\n        o bbb\n        o ccc\n    - BBB\n        o xyz\n        o abc\n* Two\n    - AAA\n        o mmm\n        o nnn\n    - ZZZ\n        o bbb\n        o nnn\n</code></pre>\n<p>etc.</p>\n<p>I hope it won't be necessary for someone to write code for me for this, but I do not understand nor find any documentation for <code>CTAbstractNum</code>, <code>CTLvl</code>, or the <code>XWPF*</code> classes. If there is documentation on those that would suffice, then someone could just point me to that.</p>\n<p>I gather from other the comment here that the value set in <code>CTAbstractNum.setAbstractNumId()</code> identifies the numbering level document-wide, so that it should be applied to all the items at the outermost level, and that, conceptually, another such ID would be applied to all items at the same level within each bullet (e.g., the 'aaa', 'bbb', 'ccc' strings in the above illustration). I'm guessing different IDs would be created and applied to each such internal list. But I hate guessing about that when I don't know anything about the conceptual model for the API. Trial-and-error programming is such a bore.</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1669066150,"post_id":74524362,"comment_id":131554534,"body_markdown":"Please [edit] your question to include the full complete error message you get. Also add a [mcve] of your problem to your question to make it easier to reproduce the issue. Also add a detailed description where your different class loaders are coming from and why you don&#39;t have just one.","body":"Please <a href=\"https://stackoverflow.com/posts/74524362/edit\">edit</a> your question to include the full complete error message you get. Also add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your problem to your question to make it easier to reproduce the issue. Also add a detailed description where your different class loaders are coming from and why you don&#39;t have just one."},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1669098047,"post_id":74524362,"comment_id":131559953,"body_markdown":"@Progman I made the requested changes :)","body":"@Progman I made the requested changes :)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669752500,"post_id":74524362,"comment_id":131713281,"body_markdown":"If the code is so **private** and special that you cannot share a reproducer, why are you asking about it in **public**? It is like wishing to eat the cake, but keep it at the same time.","body":"If the code is so <b>private</b> and special that you cannot share a reproducer, why are you asking about it in <b>public</b>? It is like wishing to eat the cake, but keep it at the same time."},{"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"score":0,"creation_date":1669896335,"post_id":74524362,"comment_id":131749659,"body_markdown":"Why do you have the generics flipped? So in this method you have `&lt;T extends Arg2, S extends Arg1&gt;` but in Foo you have them in the correct order `&lt;S extends Arg1, T extends Arg2&gt;`? Also Foo is a parametrized class, so adding &lt;?, ?&gt; will increase the readability. However, your provided code literally does not help at all, because clearly the issue with initializing the objects in the first place, which you give less attention.","body":"Why do you have the generics flipped? So in this method you have <code>&lt;T extends Arg2, S extends Arg1&gt;</code> but in Foo you have them in the correct order <code>&lt;S extends Arg1, T extends Arg2&gt;</code>? Also Foo is a parametrized class, so adding &lt;?, ?&gt; will increase the readability. However, your provided code literally does not help at all, because clearly the issue with initializing the objects in the first place, which you give less attention."}],"answers":[{"tags":[],"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669720508,"creation_date":1669720508,"answer_id":74613197,"question_id":74524362,"body_markdown":"Two classes with the same name from different class loaders are considered to be different classes at runtime. [1]\r\n\r\nThe &quot;argument type mismatch&quot; error is saying that you are passing in an &quot;Arg2&quot; instance from one class loader, but the constructor needs an &quot;Arg2&quot; instance from the other class loader.\r\n\r\nYou will need to find a way to pass arguments of the correct class, including from the correct class loader, to the constructor. You haven&#39;t included enough context here for me to say how you might achieve that. GL\r\n\r\n#### Further reading\r\n\r\n[1] https://kepler-project.org/developers/teams/framework/design-docs/trade-studies/custom-class-loading/using-multiple-classloaders.html\r\n&gt;  If different versions of the same class are loaded by different class loaders, then modules that use those different class loaders cannot exchange objects of that type.","title":"Creating a New Instance of a class via Reflection with Arguments from multiple Class Loaders","body":"<p>Two classes with the same name from different class loaders are considered to be different classes at runtime. [1]</p>\n<p>The &quot;argument type mismatch&quot; error is saying that you are passing in an &quot;Arg2&quot; instance from one class loader, but the constructor needs an &quot;Arg2&quot; instance from the other class loader.</p>\n<p>You will need to find a way to pass arguments of the correct class, including from the correct class loader, to the constructor. You haven't included enough context here for me to say how you might achieve that. GL</p>\n<h4>Further reading</h4>\n<p>[1] <a href=\"https://kepler-project.org/developers/teams/framework/design-docs/trade-studies/custom-class-loading/using-multiple-classloaders.html\" rel=\"nofollow noreferrer\">https://kepler-project.org/developers/teams/framework/design-docs/trade-studies/custom-class-loading/using-multiple-classloaders.html</a></p>\n<blockquote>\n<p>If different versions of the same class are loaded by different class loaders, then modules that use those different class loaders cannot exchange objects of that type.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669899688,"creation_date":1669899688,"answer_id":74642297,"question_id":74524362,"body_markdown":"You cannot use different objects across `ClassLoaders`. Class `Foo` loaded from `app` `ClassLoader` ≠ `Foo` loaded from another `ClassLoader` instance. Please see the following code sample:\r\n```Java\r\nimport com.google.gson.Gson;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        var customClassLoader = new CustomClassLoader();\r\n        \r\n        //////////////////////    normal reflection   //////////////////////\r\n        Test.class.getMethod(&quot;foo&quot;, Foo.class).invoke(null, new Foo()); // equivalent to foo(new Foo);\r\n        \r\n        //////////////////////    instantiating a new Foo obj from a custom class loader   //////////////////////\r\n        var foo = customClassLoader.findClass(Foo.class.getName()).getDeclaredConstructor().newInstance();\r\n        \r\n        try {\r\n            //////////////////////    calling foo by passing a Foo obj from different ClassLoader   //////////////////////\r\n            Test.class.getMethod(&quot;foo&quot;, Foo.class).invoke(null, foo); // yields java.lang.IllegalArgumentException: argument type mismatch!\r\n        } catch (IllegalArgumentException e) {\r\n            System.err.println(e);\r\n        }\r\n        \r\n        //////////////////////    workaround, using gson to serialize the obj   //////////////////////\r\n        var gson = new Gson();\r\n        Foo serializedFoo = gson.fromJson(gson.toJson(foo), Foo.class);\r\n        Test.class.getMethod(&quot;foo&quot;, Foo.class).invoke(null, serializedFoo); // no exception\r\n    }\r\n\r\n    public static void foo(Foo foo) {\r\n        System.out.println(&quot;Test#foo: &quot; + foo.getClass().getClassLoader().getName());\r\n    }\r\n\r\n    public static class Foo {\r\n    }\r\n\r\n    public static class CustomClassLoader extends ClassLoader {\r\n\r\n        public CustomClassLoader() {\r\n            super(&quot;custom&quot;, getSystemClassLoader());\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; findClass(String name) throws ClassFormatError {\r\n            InputStream inputStream = getClass().getClassLoader().getResourceAsStream(name.replace(&#39;.&#39;, File.separatorChar) + &quot;.class&quot;);\r\n            ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\n            int nextValue;\r\n            try {\r\n                while ((nextValue = inputStream.read()) != -1) byteStream.write(nextValue);\r\n                inputStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            var data = byteStream.toByteArray();\r\n            return defineClass(name, data, 0, data.length);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nDepending on you usage, this might not be the most efficient solution, but one that will always work. A better solution would be using reflection, but you will be forced to do everything with reflection. Something like this:\r\n\r\n```Java\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        var customClassLoader = new CustomClassLoader();\r\n\r\n        Test.class.getMethod(&quot;foo&quot;, Object.class).invoke(null, new Foo());\r\n        var foo = customClassLoader.findClass(Foo.class.getName()).getDeclaredConstructor().newInstance();\r\n\r\n        Test.class.getMethod(&quot;foo&quot;, Object.class).invoke(null, foo);\r\n    }\r\n\r\n    public static void foo(Object foo) throws Exception {\r\n        if (foo.getClass().getClassLoader() instanceof CustomClassLoader) {\r\n            foo.getClass().getMethod(&quot;sayFoo&quot;).invoke(foo);\r\n        } else {\r\n            ((Foo) foo).sayFoo();\r\n        }\r\n    }\r\n\r\n    public static class Foo {\r\n        public void sayFoo() {\r\n            System.out.println(&quot;Foo&quot;);\r\n        }\r\n    }\r\n\r\n    public static class CustomClassLoader extends ClassLoader {\r\n\r\n        public CustomClassLoader() {\r\n            super(&quot;custom&quot;, getSystemClassLoader());\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; findClass(String name) throws ClassFormatError {\r\n            InputStream inputStream = getClass().getClassLoader().getResourceAsStream(name.replace(&#39;.&#39;, File.separatorChar) + &quot;.class&quot;);\r\n            ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\n            int nextValue;\r\n            try {\r\n                while ((nextValue = inputStream.read()) != -1) byteStream.write(nextValue);\r\n                inputStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            var data = byteStream.toByteArray();\r\n            return defineClass(name, data, 0, data.length);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Creating a New Instance of a class via Reflection with Arguments from multiple Class Loaders","body":"<p>You cannot use different objects across <code>ClassLoaders</code>. Class <code>Foo</code> loaded from <code>app</code> <code>ClassLoader</code> ≠ <code>Foo</code> loaded from another <code>ClassLoader</code> instance. Please see the following code sample:</p>\n<pre><code>import com.google.gson.Gson;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class Test {\n\n    public static void main(String[] args) throws Exception {\n        var customClassLoader = new CustomClassLoader();\n        \n        //////////////////////    normal reflection   //////////////////////\n        Test.class.getMethod(&quot;foo&quot;, Foo.class).invoke(null, new Foo()); // equivalent to foo(new Foo);\n        \n        //////////////////////    instantiating a new Foo obj from a custom class loader   //////////////////////\n        var foo = customClassLoader.findClass(Foo.class.getName()).getDeclaredConstructor().newInstance();\n        \n        try {\n            //////////////////////    calling foo by passing a Foo obj from different ClassLoader   //////////////////////\n            Test.class.getMethod(&quot;foo&quot;, Foo.class).invoke(null, foo); // yields java.lang.IllegalArgumentException: argument type mismatch!\n        } catch (IllegalArgumentException e) {\n            System.err.println(e);\n        }\n        \n        //////////////////////    workaround, using gson to serialize the obj   //////////////////////\n        var gson = new Gson();\n        Foo serializedFoo = gson.fromJson(gson.toJson(foo), Foo.class);\n        Test.class.getMethod(&quot;foo&quot;, Foo.class).invoke(null, serializedFoo); // no exception\n    }\n\n    public static void foo(Foo foo) {\n        System.out.println(&quot;Test#foo: &quot; + foo.getClass().getClassLoader().getName());\n    }\n\n    public static class Foo {\n    }\n\n    public static class CustomClassLoader extends ClassLoader {\n\n        public CustomClassLoader() {\n            super(&quot;custom&quot;, getSystemClassLoader());\n        }\n\n        @Override\n        public Class&lt;?&gt; findClass(String name) throws ClassFormatError {\n            InputStream inputStream = getClass().getClassLoader().getResourceAsStream(name.replace('.', File.separatorChar) + &quot;.class&quot;);\n            ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n            int nextValue;\n            try {\n                while ((nextValue = inputStream.read()) != -1) byteStream.write(nextValue);\n                inputStream.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            var data = byteStream.toByteArray();\n            return defineClass(name, data, 0, data.length);\n        }\n    }\n\n}\n</code></pre>\n<p>Depending on you usage, this might not be the most efficient solution, but one that will always work. A better solution would be using reflection, but you will be forced to do everything with reflection. Something like this:</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class Test {\n\n    public static void main(String[] args) throws Exception {\n        var customClassLoader = new CustomClassLoader();\n\n        Test.class.getMethod(&quot;foo&quot;, Object.class).invoke(null, new Foo());\n        var foo = customClassLoader.findClass(Foo.class.getName()).getDeclaredConstructor().newInstance();\n\n        Test.class.getMethod(&quot;foo&quot;, Object.class).invoke(null, foo);\n    }\n\n    public static void foo(Object foo) throws Exception {\n        if (foo.getClass().getClassLoader() instanceof CustomClassLoader) {\n            foo.getClass().getMethod(&quot;sayFoo&quot;).invoke(foo);\n        } else {\n            ((Foo) foo).sayFoo();\n        }\n    }\n\n    public static class Foo {\n        public void sayFoo() {\n            System.out.println(&quot;Foo&quot;);\n        }\n    }\n\n    public static class CustomClassLoader extends ClassLoader {\n\n        public CustomClassLoader() {\n            super(&quot;custom&quot;, getSystemClassLoader());\n        }\n\n        @Override\n        public Class&lt;?&gt; findClass(String name) throws ClassFormatError {\n            InputStream inputStream = getClass().getClassLoader().getResourceAsStream(name.replace('.', File.separatorChar) + &quot;.class&quot;);\n            ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n            int nextValue;\n            try {\n                while ((nextValue = inputStream.read()) != -1) byteStream.write(nextValue);\n                inputStream.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            var data = byteStream.toByteArray();\n            return defineClass(name, data, 0, data.length);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74642297,"answer_count":2,"score":0,"last_activity_date":1669899688,"creation_date":1669061281,"question_id":74524362,"body_markdown":"Hello I am trying to create a new instance of a class via reflection:\r\n\r\nIn the example below the following applies:\r\n1. This is a method in a subclass of Arg1\r\n2. Data is an object which stores class references which are associated with each other\r\n```\r\n    public &lt;T extends Arg2, S extends Arg1&gt; Foo\r\n    getFoo(@NotNull Data&lt;T, S&gt; data) {\r\n        Class&lt;?&gt;[] classes = new Class&lt;?&gt;[]{data.getArg1(), data.getArg2()};\r\n        T entity = getArg2(data);\r\n        try {\r\n            Class&lt;? extends Foo&gt; clazz = data.getFoo();\r\n            Constructor&lt;? extends Foo&gt; constructor = clazz.getDeclaredConstructor(classes);\r\n            constructor.setAccessible(true);\r\n            Object[] objects = new Object[]{this, entity};\r\n            return constructor.newInstance(objects);\r\n        } catch (InstantiationException | IllegalAccessException | InvocationTargetException | NoSuchMethodException |\r\n                 ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nThis code works when the provided arguments are from the same class loader, yet the code fails when the arguments are from different class loaders. As such, multiple Class Loaders as arguments causes the failure of the method.\r\n\r\nIs there any way I can get Java to accept my Arguments from multiple class loaders?\r\n\r\nEdit: The reason I have multiple class loaders is due to the fact that I load external jar files which were compiled against this applications API into the application using a custom `URLClassLoader`.\r\n\r\nAs to the minimal reproducible example, I cannot at this time provide an example as this is private code which I do not own. The owner of the code would have to give me express permission to upload such an extensive chunk of the code (It&#39;s a bunch of classes that are essentially the cornerstone to the entire application). I can and will run any and all suggestions though and will forward this post to the owner for their approval. \r\n\r\nAny help is much appreciated :)\r\n\r\nEdit 2:\r\n\r\nHere the code with debug messages:\r\n```\r\n    public &lt;T extends Arg2, S extends Arg1&gt; Foo\r\n    getFoo(@NotNull Data&lt;T, S&gt; data) {\r\n        Class&lt;?&gt;[] classes = new Class&lt;?&gt;[]{data.getArg1(), data.getArg2()};\r\n        T entity = getArg2(data);\r\n        try {\r\n            Class&lt;? extends Foo&gt; clazz = data.getFoo();\r\n            System.out.println(clazz.getClassLoader());\r\n            Constructor&lt;? extends Foo&gt; constructor = clazz.getDeclaredConstructor(classes);\r\n            constructor.setAccessible(true);\r\n            System.out.println(this.getClass().getClassLoader());\r\n            System.out.println(entity.getClassLoader());\r\n            Object[] objects = new Object[]{this, entity};\r\n            return constructor.newInstance(objects);\r\n        } catch (InstantiationException | IllegalAccessException | InvocationTargetException | NoSuchMethodException |\r\n                 ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nGiven that Arg1, Arg2 and Foo are Classes which are part of the base application, the output is as follows:\r\n```\r\njdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\r\njdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\r\njdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\r\n```\r\nGiven that Arg1 and Foo are Classes which are from the same external Jar File and Arg2 remains a class that is part of the base application:\r\n```\r\nClass Loader for a single jar file\r\nJoined Class Loader for all jar files\r\njdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\r\njava.lang.IllegalArgumentException: argument type mismatch\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n```\r\nNote: These are the only two use cases\r\n","title":"Creating a New Instance of a class via Reflection with Arguments from multiple Class Loaders","body":"<p>Hello I am trying to create a new instance of a class via reflection:</p>\n<p>In the example below the following applies:</p>\n<ol>\n<li>This is a method in a subclass of Arg1</li>\n<li>Data is an object which stores class references which are associated with each other</li>\n</ol>\n<pre><code>    public &lt;T extends Arg2, S extends Arg1&gt; Foo\n    getFoo(@NotNull Data&lt;T, S&gt; data) {\n        Class&lt;?&gt;[] classes = new Class&lt;?&gt;[]{data.getArg1(), data.getArg2()};\n        T entity = getArg2(data);\n        try {\n            Class&lt;? extends Foo&gt; clazz = data.getFoo();\n            Constructor&lt;? extends Foo&gt; constructor = clazz.getDeclaredConstructor(classes);\n            constructor.setAccessible(true);\n            Object[] objects = new Object[]{this, entity};\n            return constructor.newInstance(objects);\n        } catch (InstantiationException | IllegalAccessException | InvocationTargetException | NoSuchMethodException |\n                 ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>This code works when the provided arguments are from the same class loader, yet the code fails when the arguments are from different class loaders. As such, multiple Class Loaders as arguments causes the failure of the method.</p>\n<p>Is there any way I can get Java to accept my Arguments from multiple class loaders?</p>\n<p>Edit: The reason I have multiple class loaders is due to the fact that I load external jar files which were compiled against this applications API into the application using a custom <code>URLClassLoader</code>.</p>\n<p>As to the minimal reproducible example, I cannot at this time provide an example as this is private code which I do not own. The owner of the code would have to give me express permission to upload such an extensive chunk of the code (It's a bunch of classes that are essentially the cornerstone to the entire application). I can and will run any and all suggestions though and will forward this post to the owner for their approval.</p>\n<p>Any help is much appreciated :)</p>\n<p>Edit 2:</p>\n<p>Here the code with debug messages:</p>\n<pre><code>    public &lt;T extends Arg2, S extends Arg1&gt; Foo\n    getFoo(@NotNull Data&lt;T, S&gt; data) {\n        Class&lt;?&gt;[] classes = new Class&lt;?&gt;[]{data.getArg1(), data.getArg2()};\n        T entity = getArg2(data);\n        try {\n            Class&lt;? extends Foo&gt; clazz = data.getFoo();\n            System.out.println(clazz.getClassLoader());\n            Constructor&lt;? extends Foo&gt; constructor = clazz.getDeclaredConstructor(classes);\n            constructor.setAccessible(true);\n            System.out.println(this.getClass().getClassLoader());\n            System.out.println(entity.getClassLoader());\n            Object[] objects = new Object[]{this, entity};\n            return constructor.newInstance(objects);\n        } catch (InstantiationException | IllegalAccessException | InvocationTargetException | NoSuchMethodException |\n                 ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Given that Arg1, Arg2 and Foo are Classes which are part of the base application, the output is as follows:</p>\n<pre><code>jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\njdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\njdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\n</code></pre>\n<p>Given that Arg1 and Foo are Classes which are from the same external Jar File and Arg2 remains a class that is part of the base application:</p>\n<pre><code>Class Loader for a single jar file\nJoined Class Loader for all jar files\njdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\njava.lang.IllegalArgumentException: argument type mismatch\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n</code></pre>\n<p>Note: These are the only two use cases</p>\n"},{"tags":["java","logging","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7875516,"reputation":4147,"user_id":5951420,"display_name":"kimy82"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1494341982,"creation_date":1494341724,"answer_id":43873186,"question_id":43872823,"body_markdown":"Add the following to the the package of your choice.\r\n\r\n    logging.level.&lt;package&gt;=OFF\r\n\r\n`logging.level.root=OFF` doesn&#180;t work for me","title":"Spring boot - Cannot turn off logging","body":"<p>Add the following to the the package of your choice.</p>\n\n<pre><code>logging.level.&lt;package&gt;=OFF\n</code></pre>\n\n<p><code>logging.level.root=OFF</code> doesn´t work for me</p>\n"},{"tags":[],"owner":{"account_id":1275298,"reputation":3439,"user_id":1230694,"accept_rate":80,"display_name":"berimbolo"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1582611977,"creation_date":1494402472,"answer_id":43886432,"question_id":43872823,"body_markdown":"To answer my own question: after trial and error, I finally ended up with the following which suppresses all output on startup via the `application.properties` file:\r\n\r\n     logging.level.root=OFF\r\n     logging.level.org.springframework.boot=OFF\r\n     spring.main.banner-mode=OFF","title":"Spring boot - Cannot turn off logging","body":"<p>To answer my own question: after trial and error, I finally ended up with the following which suppresses all output on startup via the <code>application.properties</code> file:</p>\n\n<pre><code> logging.level.root=OFF\n logging.level.org.springframework.boot=OFF\n spring.main.banner-mode=OFF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620928338,"creation_date":1620928338,"answer_id":67523908,"question_id":43872823,"body_markdown":"The problem with your approach is that it only configures the root level logger; individual logs will be turned back on if the matching logger properties are set (e.g. `logging.level.org.springframework.boot=DEBUG`).  I&#39;m guessing that&#39;s why your [self answer](https://stackoverflow.com/a/43886432/1108305) needed to explicitly disable the `org.springframework.boot` logger as well as the root logger.\r\n\r\nOne approach to completely disable logging would be to create a special `logback.xml` file that disables logging completely.\r\n\r\n```lang-xml\r\n&lt;configuration&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nIf you _always_ want logging turned off, you can just create the `logback.xml` file and put it in the root package (e.g. `src/main/resources/logback.xml`).  If you only want it disabled in certain scenarios (e.g. if in a &quot;nologging&quot; Spring [profile](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-definition-profiles)), you could create a custom file with a different name (`logback-off.xml`) and specify that as the config file for the profiles/cases where you want it disabled.\r\n\r\n```lang-yaml\r\nlogging.config=classpath:logback-off.xml\r\n```","title":"Spring boot - Cannot turn off logging","body":"<p>The problem with your approach is that it only configures the root level logger; individual logs will be turned back on if the matching logger properties are set (e.g. <code>logging.level.org.springframework.boot=DEBUG</code>).  I'm guessing that's why your <a href=\"https://stackoverflow.com/a/43886432/1108305\">self answer</a> needed to explicitly disable the <code>org.springframework.boot</code> logger as well as the root logger.</p>\n<p>One approach to completely disable logging would be to create a special <code>logback.xml</code> file that disables logging completely.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>If you <em>always</em> want logging turned off, you can just create the <code>logback.xml</code> file and put it in the root package (e.g. <code>src/main/resources/logback.xml</code>).  If you only want it disabled in certain scenarios (e.g. if in a &quot;nologging&quot; Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-definition-profiles\" rel=\"nofollow noreferrer\">profile</a>), you could create a custom file with a different name (<code>logback-off.xml</code>) and specify that as the config file for the profiles/cases where you want it disabled.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging.config=classpath:logback-off.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18126074,"reputation":51,"user_id":13181599,"display_name":"Mahammad Yusifov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669899630,"creation_date":1669899630,"answer_id":74642282,"question_id":43872823,"body_markdown":"For those who still couldn&#39;t fix problem. I was calling jar file to create some objects. The class in that jar file was writing unwanted log. I tried everything, went through so many forums. \r\n\r\nSo solution for me was to set ROOT to only ERROR:\r\n\r\nIn `application.yml`\r\n\r\n    logging:\r\n      level:\r\n        ROOT: ERROR\r\n        com.mypackage: INFO\r\n        org.springframework.*: INFO\r\n\r\n\r\n\r\n**So, this way only errors will be shown in the log but also info logs that you have configured.**\r\n\r\nI&#39;m putting here some codes I&#39;ve tried didn&#39;t work for me but may work for someone else:\r\n\r\nIn `application.yml`,\r\nI tried this:\r\n\r\n    logging:\r\n      level:\r\n        com.organization.package: OFF\r\n\r\nI tried this:\r\n\r\n    logging:\r\n      level:\r\n        com.organization.package.*: OFF\r\n\r\nI tried this:\r\n\r\n    ClassThatLogsUnwanted class = new ClassThatLogsUnwanted();\r\n    Logger.getLogger(class.getName()).setLevel(Level.OFF);","title":"Spring boot - Cannot turn off logging","body":"<p>For those who still couldn't fix problem. I was calling jar file to create some objects. The class in that jar file was writing unwanted log. I tried everything, went through so many forums.</p>\n<p>So solution for me was to set ROOT to only ERROR:</p>\n<p>In <code>application.yml</code></p>\n<pre><code>logging:\n  level:\n    ROOT: ERROR\n    com.mypackage: INFO\n    org.springframework.*: INFO\n</code></pre>\n<p><strong>So, this way only errors will be shown in the log but also info logs that you have configured.</strong></p>\n<p>I'm putting here some codes I've tried didn't work for me but may work for someone else:</p>\n<p>In <code>application.yml</code>,\nI tried this:</p>\n<pre><code>logging:\n  level:\n    com.organization.package: OFF\n</code></pre>\n<p>I tried this:</p>\n<pre><code>logging:\n  level:\n    com.organization.package.*: OFF\n</code></pre>\n<p>I tried this:</p>\n<pre><code>ClassThatLogsUnwanted class = new ClassThatLogsUnwanted();\nLogger.getLogger(class.getName()).setLevel(Level.OFF);\n</code></pre>\n"}],"owner":{"account_id":1275298,"reputation":3439,"user_id":1230694,"accept_rate":80,"display_name":"berimbolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17067,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":43886432,"answer_count":4,"score":20,"last_activity_date":1669899630,"creation_date":1494340796,"question_id":43872823,"body_markdown":"I am trying to turn off the console output in STS for a spring boot application using the application.properties file.\r\n\r\nSetting the value logging.level.root does seem to have some effect but I can never turn it off completely and nor can I turn off the auto configuration report output.\r\n\r\n    logging.level.root=OFF\r\n    spring.main.banner-mode=OFF\r\n    application.version=@project.version@\r\n\r\nThe banner does get turned off by the property spring.main.banner-mode.\r\n\r\nFor some reason with the above properties I still get DEBUG output from spring on startup:\r\n\r\n     2017-05-09 15:33:16.744 DEBUG 11772 --- [           main] .b.l.ClasspathLoggingApplicationListener : Application started with classpath:\r\n     2017-05-09 15:33:16.798 DEBUG 11772 --- [           main] o.s.boot.SpringApplication               : Loading source class \r\n\r\nThere are more lines telling me which properties files are being loaded but I dont want to fill up this post with them.\r\n\r\nFollowing from this I then get the autoconfiguration report output.\r\n\r\nI am wondering if I have a configuration issue and if this would cause spring to continue to output on start up?","title":"Spring boot - Cannot turn off logging","body":"<p>I am trying to turn off the console output in STS for a spring boot application using the application.properties file.</p>\n\n<p>Setting the value logging.level.root does seem to have some effect but I can never turn it off completely and nor can I turn off the auto configuration report output.</p>\n\n<pre><code>logging.level.root=OFF\nspring.main.banner-mode=OFF\napplication.version=@project.version@\n</code></pre>\n\n<p>The banner does get turned off by the property spring.main.banner-mode.</p>\n\n<p>For some reason with the above properties I still get DEBUG output from spring on startup:</p>\n\n<pre><code> 2017-05-09 15:33:16.744 DEBUG 11772 --- [           main] .b.l.ClasspathLoggingApplicationListener : Application started with classpath:\n 2017-05-09 15:33:16.798 DEBUG 11772 --- [           main] o.s.boot.SpringApplication               : Loading source class \n</code></pre>\n\n<p>There are more lines telling me which properties files are being loaded but I dont want to fill up this post with them.</p>\n\n<p>Following from this I then get the autoconfiguration report output.</p>\n\n<p>I am wondering if I have a configuration issue and if this would cause spring to continue to output on start up?</p>\n"},{"tags":["java","scala","amazon-s3","aws-java-sdk","aws-java-sdk-2.x"],"answers":[{"tags":[],"owner":{"account_id":16097018,"reputation":74,"user_id":11618918,"display_name":"Gabriel Tunaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669899548,"creation_date":1669899548,"answer_id":74642257,"question_id":74616188,"body_markdown":"My suspicions is that instead of writing the actual string it tries to write the string object. Maybe it would work if you&#39;d call the putObject method with a parameter of type byte array.\r\nI think some of the answers [here][1] might help you\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2499132/how-to-write-a-string-to-amazon-s3-bucket","title":"How to fix JSON string uploading to S3 with contents of &quot;[value: string]&quot; rather than actual data","body":"<p>My suspicions is that instead of writing the actual string it tries to write the string object. Maybe it would work if you'd call the putObject method with a parameter of type byte array.\nI think some of the answers <a href=\"https://stackoverflow.com/questions/2499132/how-to-write-a-string-to-amazon-s3-bucket\">here</a> might help you</p>\n"}],"owner":{"account_id":5055889,"reputation":986,"user_id":4059141,"accept_rate":62,"display_name":"Alex Kerr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669899548,"creation_date":1669734743,"question_id":74616188,"body_markdown":"In Scala, I&#39;m using the AWS Java SDK to upload a simple JSON string (containing a few rows of data from a database). The upload appears to work fine but the content of the uploaded file once it&#39;s in the S3 bucket is just &quot;`[value: string]`&quot; instead of the actual data. Before I upload I print the data out and confirm the data type is String. How do I fix this? I&#39;m assuming it&#39;s one small tweak, but not sure what.\r\n\r\n(I can&#39;t write the data to a file before upload, it has to be from the string, though I&#39;d be willing to massage that into an InputStream or whatever, if need be - not sure how to do that though).\r\n\r\n    import com.amazonaws.services.s3.AmazonS3Client\r\n    import com.amazonaws.auth.BasicAWSCredentials\r\n    import com.amazonaws.ClientConfiguration\r\n    \r\n    val query = &quot;[My SQL query]&quot;;\r\n    val results = spark.sql(query);\r\n    val JSONdata = results.toJSON;\r\n    \r\n    var JSONstring:String = JSONdata.toString;\r\n\r\n    try {\r\n        println(JSONstring); // Displays my valid JSON data\r\n        println(JSONstring.getClass); // Displays &quot;class java.lang.String&quot;\r\n        val result = amazonS3Client.putObject(bucketName, objectKey, JSONstring);\r\n        println(&quot;Result: &quot; + result.getETag());\r\n    } catch {\r\n        case e: Exception =&gt; println(&quot;Error: &quot; + e.getMessage());\r\n    }\r\n\r\nThanks","title":"How to fix JSON string uploading to S3 with contents of &quot;[value: string]&quot; rather than actual data","body":"<p>In Scala, I'm using the AWS Java SDK to upload a simple JSON string (containing a few rows of data from a database). The upload appears to work fine but the content of the uploaded file once it's in the S3 bucket is just &quot;<code>[value: string]</code>&quot; instead of the actual data. Before I upload I print the data out and confirm the data type is String. How do I fix this? I'm assuming it's one small tweak, but not sure what.</p>\n<p>(I can't write the data to a file before upload, it has to be from the string, though I'd be willing to massage that into an InputStream or whatever, if need be - not sure how to do that though).</p>\n<pre><code>import com.amazonaws.services.s3.AmazonS3Client\nimport com.amazonaws.auth.BasicAWSCredentials\nimport com.amazonaws.ClientConfiguration\n\nval query = &quot;[My SQL query]&quot;;\nval results = spark.sql(query);\nval JSONdata = results.toJSON;\n\nvar JSONstring:String = JSONdata.toString;\n\ntry {\n    println(JSONstring); // Displays my valid JSON data\n    println(JSONstring.getClass); // Displays &quot;class java.lang.String&quot;\n    val result = amazonS3Client.putObject(bucketName, objectKey, JSONstring);\n    println(&quot;Result: &quot; + result.getETag());\n} catch {\n    case e: Exception =&gt; println(&quot;Error: &quot; + e.getMessage());\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669898434,"post_id":74641725,"comment_id":131750344,"body_markdown":"`gson.fromJson(getInfo(url), Result.class);` I assume that `fromJson()` does not call `ExchangeRate#setResult()` and therefore hibernate doesn&#39;t insert the ID there. As for the ID starting with 2, its probably how the database is set up","body":"<code>gson.fromJson(getInfo(url), Result.class);</code> I assume that <code>fromJson()</code> does not call <code>ExchangeRate#setResult()</code> and therefore hibernate doesn&#39;t insert the ID there. As for the ID starting with 2, its probably how the database is set up"},{"owner":{"account_id":24266423,"reputation":1,"user_id":20078115,"display_name":"Игорь"},"score":0,"creation_date":1669899417,"post_id":74641725,"comment_id":131750658,"body_markdown":"oh yeah. My solution:\n Result res = gson.fromJson(getInfo(url), Result.class);\n            List&lt;ExchangeRate&gt; list = res.getExchangeRate();\n            for(ExchangeRate exchangeRate : list){\n                exchangeRate.setResult(res);\n            }\n            res.setExchangeRate(list);\n\nIt works","body":"oh yeah. My solution:  Result res = gson.fromJson(getInfo(url), Result.class);             List&lt;ExchangeRate&gt; list = res.getExchangeRate();             for(ExchangeRate exchangeRate : list){                 exchangeRate.setResult(res);             }             res.setExchangeRate(list);  It works"}],"owner":{"account_id":24266423,"reputation":1,"user_id":20078115,"display_name":"Игорь"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669899352,"creation_date":1669897020,"question_id":74641725,"body_markdown":"GitHub - rostyF/bankingProjectDemo\r\n\r\nI work with api bank. It returns the following result:\r\n\r\n\r\n```\r\n {\r\n                &quot;date&quot;:&quot;01.12.2014&quot;,&quot;bank&quot;:&quot;PB&quot;,&quot;baseCurrency&quot;:980,&quot;baseCurrencyLit&quot;:&quot;UAH&quot;,&quot;exchangeRate&quot;:\r\n                [\r\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;CHF&quot;,&quot;saleRateNB&quot;:15.6389750,&quot;purchaseRateNB&quot;:15.6389750,&quot;saleRate&quot;:17.0000000,&quot;purchaseRate&quot;:15.5000000},\r\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;EUR&quot;,&quot;saleRateNB&quot;:18.7949200,&quot;purchaseRateNB&quot;:18.7949200,&quot;saleRate&quot;:20.0000000,&quot;purchaseRate&quot;:19.2000000},\r\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;saleRateNB&quot;:23.6324910,&quot;purchaseRateNB&quot;:23.6324910,&quot;saleRate&quot;:25.8000000,&quot;purchaseRate&quot;:24.0000000},\r\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;PLZ&quot;,&quot;saleRateNB&quot;:4.4922010,&quot;purchaseRateNB&quot;:4.4922010,&quot;saleRate&quot;:5.0000000,&quot;purchaseRate&quot;:4.2000000},\r\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;SEK&quot;,&quot;saleRateNB&quot;:2.0283750,&quot;purchaseRateNB&quot;:2.0283750},\r\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;UAH&quot;,&quot;saleRateNB&quot;:1.0000000,&quot;purchaseRateNB&quot;:1.0000000},\r\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;USD&quot;,&quot;saleRateNB&quot;:15.0564130,&quot;purchaseRateNB&quot;:15.0564130,&quot;saleRate&quot;:15.7000000,&quot;purchaseRate&quot;:15.3500000},\r\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;XAU&quot;,&quot;saleRateNB&quot;:17747.7470000,&quot;purchaseRateNB&quot;:17747.7470000},\r\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;CAD&quot;,&quot;saleRateNB&quot;:13.2107400,&quot;purchaseRateNB&quot;:13.2107400,&quot;saleRate&quot;:15.0000000,&quot;purchaseRate&quot;:13.0000000}\r\n                ]\r\n            }\r\n```\r\n\r\nAccording to this json, I created two classes (entities) Result and ExchangeRate. Logically, we have a One To Many connection, so I placed the annotations accordingly.\r\nAs a result, for some reason, we have a strange result.\r\nThe result_id column contains null , although it should have had an ID attached to result(1).\r\n[enter image description here](https://i.stack.imgur.com/ZlxuJ.png)\r\n\r\nAlso, for some reason, in the same table, the id starts with 2, not 1.\r\nPlease explain what I did wrong, maybe I misunderstood something. Many thanks in advance!\r\n\r\n\r\n```\r\n@Entity\r\npublic class Result {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String date;\r\n    private String bank;\r\n    private Integer baseCurrency;\r\n    private String baseCurrencyLit;\r\n\r\n    @OneToMany(mappedBy = &quot;result&quot;, cascade = CascadeType.ALL)\r\n    //@OrderColumn(name = &quot;array_index&quot;)\r\n    //private ExchangeRate[] exchangeRate;\r\n    private List&lt;ExchangeRate&gt; exchangeRate;\r\n\r\n    public Result() {\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\n```\r\n@Entity\r\npublic class ExchangeRate {\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n    private String baseCurrency;\r\n    private String currency;\r\n    private Float saleRateNB;\r\n    private Float purchaseRateNB;\r\n    private Float saleRate;\r\n    private Float purchaseRate;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name= &quot;result_id&quot;)\r\n    private Result result;\r\n\r\n    public ExchangeRate() {\r\n    }\r\n```\r\n\r\n\r\n```\r\npublic class Main {\r\n    static EntityManagerFactory emf;\r\n    static EntityManager em;\r\n    private static final String NAME = &quot;bankingTest&quot;;\r\n    //static int id = 0;\r\n    public static void main(String[] args) {\r\n        try {\r\n            URL url = new URL(&quot;https://api.privatbank.ua/p24api/exchange_rates?date=01.12.2021&quot;);\r\n\r\n            Gson gson = new GsonBuilder().create();\r\n\r\n            Result res = gson.fromJson(getInfo(url), Result.class);\r\n\r\n            emf = Persistence.createEntityManagerFactory(NAME);\r\n            em = emf.createEntityManager();\r\n\r\n            em.getTransaction().begin();\r\n            em.persist(res);\r\n            long id = res.getId();\r\n            em.getTransaction().commit();\r\n\r\n\r\n\r\n            em.close();\r\n            emf.close();\r\n\r\n\r\n\r\n\r\n\r\n        } catch (MalformedURLException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n\r\n    }\r\n    public static String getInfo(URL url) throws IOException {\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        BufferedReader in = new BufferedReader(\r\n                new InputStreamReader(con.getInputStream()));\r\n        String inputLine;\r\n        StringBuffer content = new StringBuffer();\r\n        while ((inputLine = in.readLine()) != null) {\r\n            content.append(inputLine);\r\n        }\r\n        in.close();\r\n        con.disconnect();\r\n        return content.toString();\r\n    }\r\n\r\n}\r\n```\r\n","title":"Problem with a OneToMany connection in DB","body":"<p>GitHub - rostyF/bankingProjectDemo</p>\n<p>I work with api bank. It returns the following result:</p>\n<pre><code> {\n                &quot;date&quot;:&quot;01.12.2014&quot;,&quot;bank&quot;:&quot;PB&quot;,&quot;baseCurrency&quot;:980,&quot;baseCurrencyLit&quot;:&quot;UAH&quot;,&quot;exchangeRate&quot;:\n                [\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;CHF&quot;,&quot;saleRateNB&quot;:15.6389750,&quot;purchaseRateNB&quot;:15.6389750,&quot;saleRate&quot;:17.0000000,&quot;purchaseRate&quot;:15.5000000},\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;EUR&quot;,&quot;saleRateNB&quot;:18.7949200,&quot;purchaseRateNB&quot;:18.7949200,&quot;saleRate&quot;:20.0000000,&quot;purchaseRate&quot;:19.2000000},\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;saleRateNB&quot;:23.6324910,&quot;purchaseRateNB&quot;:23.6324910,&quot;saleRate&quot;:25.8000000,&quot;purchaseRate&quot;:24.0000000},\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;PLZ&quot;,&quot;saleRateNB&quot;:4.4922010,&quot;purchaseRateNB&quot;:4.4922010,&quot;saleRate&quot;:5.0000000,&quot;purchaseRate&quot;:4.2000000},\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;SEK&quot;,&quot;saleRateNB&quot;:2.0283750,&quot;purchaseRateNB&quot;:2.0283750},\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;UAH&quot;,&quot;saleRateNB&quot;:1.0000000,&quot;purchaseRateNB&quot;:1.0000000},\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;USD&quot;,&quot;saleRateNB&quot;:15.0564130,&quot;purchaseRateNB&quot;:15.0564130,&quot;saleRate&quot;:15.7000000,&quot;purchaseRate&quot;:15.3500000},\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;XAU&quot;,&quot;saleRateNB&quot;:17747.7470000,&quot;purchaseRateNB&quot;:17747.7470000},\n                    {&quot;baseCurrency&quot;:&quot;UAH&quot;,&quot;currency&quot;:&quot;CAD&quot;,&quot;saleRateNB&quot;:13.2107400,&quot;purchaseRateNB&quot;:13.2107400,&quot;saleRate&quot;:15.0000000,&quot;purchaseRate&quot;:13.0000000}\n                ]\n            }\n</code></pre>\n<p>According to this json, I created two classes (entities) Result and ExchangeRate. Logically, we have a One To Many connection, so I placed the annotations accordingly.\nAs a result, for some reason, we have a strange result.\nThe result_id column contains null , although it should have had an ID attached to result(1).\n<a href=\"https://i.stack.imgur.com/ZlxuJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Also, for some reason, in the same table, the id starts with 2, not 1.\nPlease explain what I did wrong, maybe I misunderstood something. Many thanks in advance!</p>\n<pre><code>@Entity\npublic class Result {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String date;\n    private String bank;\n    private Integer baseCurrency;\n    private String baseCurrencyLit;\n\n    @OneToMany(mappedBy = &quot;result&quot;, cascade = CascadeType.ALL)\n    //@OrderColumn(name = &quot;array_index&quot;)\n    //private ExchangeRate[] exchangeRate;\n    private List&lt;ExchangeRate&gt; exchangeRate;\n\n    public Result() {\n    }\n\n\n\n</code></pre>\n<pre><code>@Entity\npublic class ExchangeRate {\n    @Id\n    @GeneratedValue\n    private Integer id;\n    private String baseCurrency;\n    private String currency;\n    private Float saleRateNB;\n    private Float purchaseRateNB;\n    private Float saleRate;\n    private Float purchaseRate;\n\n    @ManyToOne\n    @JoinColumn(name= &quot;result_id&quot;)\n    private Result result;\n\n    public ExchangeRate() {\n    }\n</code></pre>\n<pre><code>public class Main {\n    static EntityManagerFactory emf;\n    static EntityManager em;\n    private static final String NAME = &quot;bankingTest&quot;;\n    //static int id = 0;\n    public static void main(String[] args) {\n        try {\n            URL url = new URL(&quot;https://api.privatbank.ua/p24api/exchange_rates?date=01.12.2021&quot;);\n\n            Gson gson = new GsonBuilder().create();\n\n            Result res = gson.fromJson(getInfo(url), Result.class);\n\n            emf = Persistence.createEntityManagerFactory(NAME);\n            em = emf.createEntityManager();\n\n            em.getTransaction().begin();\n            em.persist(res);\n            long id = res.getId();\n            em.getTransaction().commit();\n\n\n\n            em.close();\n            emf.close();\n\n\n\n\n\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n\n    }\n    public static String getInfo(URL url) throws IOException {\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(&quot;GET&quot;);\n\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        BufferedReader in = new BufferedReader(\n                new InputStreamReader(con.getInputStream()));\n        String inputLine;\n        StringBuffer content = new StringBuffer();\n        while ((inputLine = in.readLine()) != null) {\n            content.append(inputLine);\n        }\n        in.close();\n        con.disconnect();\n        return content.toString();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","ms-word","ascii","hebrew","spire.doc"],"answers":[{"tags":[],"owner":{"account_id":19097253,"reputation":33,"user_id":13946261,"display_name":"michaelwed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642696622,"creation_date":1642696622,"answer_id":70790021,"question_id":70789357,"body_markdown":"I fix that by changing this:\r\n```\r\nBufferedReader abc = new BufferedReader(new FileReader(&quot;carNumbers.txt&quot;));\r\n```\r\n\r\nto this\r\n```\r\nBufferedReader abc = new BufferedReader(new InputStreamReader\r\n    (new FileInputStream(&quot;carNumbers.txt&quot;),&quot;UTF-8&quot;));\r\n```\r\n","title":"hebrew characters from txt file does not display on word after compile to JAR file using spire.doc.jar","body":"<p>I fix that by changing this:</p>\n<pre><code>BufferedReader abc = new BufferedReader(new FileReader(&quot;carNumbers.txt&quot;));\n</code></pre>\n<p>to this</p>\n<pre><code>BufferedReader abc = new BufferedReader(new InputStreamReader\n    (new FileInputStream(&quot;carNumbers.txt&quot;),&quot;UTF-8&quot;));\n</code></pre>\n"}],"owner":{"account_id":19097253,"reputation":33,"user_id":13946261,"display_name":"michaelwed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669899213,"creation_date":1642694079,"question_id":70789357,"body_markdown":"I write in java code with spire.doc.jar that use BufferedReader to take some words from txt file and display it on word document at the end,\r\nthis is how it read the txt file:\r\n\r\n```\r\nBufferedReader abc = new BufferedReader(new FileReader(&quot;carNumbers.txt&quot;));\r\n```\r\n\r\neverything works well but when I export my all code into jar file and run it in CMD\r\nthe word document come out with wired characters, instead of hebrew:\r\n1.\tהריני לאשר בזאת\r\n\r\ni get:\r\n\r\n�׳™׳&#215;׳•׳&#168; ׳•׳&#169;׳�׳™׳˜\r\n\r\nhebrew words that gets added to the word file with finalText.appendText like that:\r\n```\r\nfinalText.appendText(&quot;,בכבוד רב&quot; );\r\n```\r\n\r\ngets added to the word doc just fine\r\n\r\nwhat i need to do to fix that please?\r\n \r\n","title":"hebrew characters from txt file does not display on word after compile to JAR file using spire.doc.jar","body":"<p>I write in java code with spire.doc.jar that use BufferedReader to take some words from txt file and display it on word document at the end,\nthis is how it read the txt file:</p>\n<pre><code>BufferedReader abc = new BufferedReader(new FileReader(&quot;carNumbers.txt&quot;));\n</code></pre>\n<p>everything works well but when I export my all code into jar file and run it in CMD\nthe word document come out with wired characters, instead of hebrew:</p>\n<ol>\n<li>הריני לאשר בזאת</li>\n</ol>\n<p>i get:</p>\n<p>�׳™׳×׳•׳¨ ׳•׳©׳�׳™׳˜</p>\n<p>hebrew words that gets added to the word file with finalText.appendText like that:</p>\n<pre><code>finalText.appendText(&quot;,בכבוד רב&quot; );\n</code></pre>\n<p>gets added to the word doc just fine</p>\n<p>what i need to do to fix that please?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669892550,"creation_date":1669892550,"answer_id":74640836,"question_id":74640754,"body_markdown":"Try adding this annotation as well, over &#39;*MinimalJpaApplication*&#39; class:\r\n\r\n    @EnableJpaRepositories(&quot;my.package.base.*&quot;)","title":"Error during startup of Spring Boot JPA app with error that entity class is not a manged type","body":"<p>Try adding this annotation as well, over '<em>MinimalJpaApplication</em>' class:</p>\n<pre><code>@EnableJpaRepositories(&quot;my.package.base.*&quot;)\n</code></pre>\n"}],"owner":{"account_id":15068247,"reputation":23,"user_id":10874634,"display_name":"Habi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74640836,"answer_count":1,"score":1,"last_activity_date":1669899134,"creation_date":1669892157,"question_id":74640754,"body_markdown":"First I am quite new to Springboot, learning from examples, but I am struggling with a real simple one.\r\n\r\nI have a very minimal Springboot App with 1 Main Class, 1 repository, 1 entity.\r\nThe database is PosgreSQL.\r\n\r\nWhen starting the application the output contains the error message\r\n\r\n*org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cityRepository&#39; defined in com.d043114.minimalJPA.CityRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: **Not a managed type: class com.d043114.minimalJPA.City***\r\n \r\n\r\nThe repository looks like this\r\n\r\n```\r\npackage com.d043114.minimalJPA;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface CityRepository extends CrudRepository&lt;City, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nThe entity is like this:\r\n\r\n```\r\npackage com.d043114.minimalJPA;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;cities&quot;)\r\npublic class City {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO )\r\n\tprivate long ID;\r\n\t\r\n\tpublic long getID() {\r\n\t\treturn ID;\r\n\t}\r\n\r\n\tpublic void setID(long iD) {\r\n\t\tID = iD;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tprivate String name;\r\n\r\n}\r\n\r\n```\r\nThe main class is basic as well\r\n\r\n\r\n```\r\npackage com.d043114.minimalJPA;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n\r\n@ComponentScan(basePackages = &quot;com.d043114.minimalJPA&quot;)\r\n@SpringBootApplication\r\n@EntityScan(&quot;com.d043114.minimlaJPA&quot;)\r\npublic class MinimalJpaApplication {\r\n\r\n\tpublic static void main(String\\[\\] args) {\r\n\t\tSpringApplication.run(MinimalJpaApplication.class, args);\r\n\r\n        City berlin = new City();\r\n\t\tberlin.setName(&quot;Berlin&quot;);\r\n\t\tberlin.setIsCapital(true);\r\n\t\t\r\n\t\tCity duesseldorf = new City();\r\n\t\tduesseldorf.setName(&quot;D&#252;sseldorf&quot;);\r\n\t\tduesseldorf.setIsCapital(false);\r\n\t\t\r\n\t\t\r\n\t\tCityRepository cityRepository =   appcontext.getBean(CityRepository.class);\r\n\r\n\t\tcityRepository.save(berlin);\r\n\t\tcityRepository.save(duesseldorf);\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\nI played around with the @EntityScan and @ComponentScan, but am suprised that it is not working, even though repository, main class and entity are under the same package.\r\n","title":"Error during startup of Spring Boot JPA app with error that entity class is not a manged type","body":"<p>First I am quite new to Springboot, learning from examples, but I am struggling with a real simple one.</p>\n<p>I have a very minimal Springboot App with 1 Main Class, 1 repository, 1 entity.\nThe database is PosgreSQL.</p>\n<p>When starting the application the output contains the error message</p>\n<p><em>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cityRepository' defined in com.d043114.minimalJPA.CityRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: <strong>Not a managed type: class com.d043114.minimalJPA.City</strong></em></p>\n<p>The repository looks like this</p>\n<pre><code>package com.d043114.minimalJPA;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface CityRepository extends CrudRepository&lt;City, Long&gt; {\n\n}\n</code></pre>\n<p>The entity is like this:</p>\n<pre><code>package com.d043114.minimalJPA;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;cities&quot;)\npublic class City {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO )\n    private long ID;\n    \n    public long getID() {\n        return ID;\n    }\n\n    public void setID(long iD) {\n        ID = iD;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    private String name;\n\n}\n\n</code></pre>\n<p>The main class is basic as well</p>\n<pre><code>package com.d043114.minimalJPA;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\n\n\n@ComponentScan(basePackages = &quot;com.d043114.minimalJPA&quot;)\n@SpringBootApplication\n@EntityScan(&quot;com.d043114.minimlaJPA&quot;)\npublic class MinimalJpaApplication {\n\n    public static void main(String\\[\\] args) {\n        SpringApplication.run(MinimalJpaApplication.class, args);\n\n        City berlin = new City();\n        berlin.setName(&quot;Berlin&quot;);\n        berlin.setIsCapital(true);\n        \n        City duesseldorf = new City();\n        duesseldorf.setName(&quot;Düsseldorf&quot;);\n        duesseldorf.setIsCapital(false);\n        \n        \n        CityRepository cityRepository =   appcontext.getBean(CityRepository.class);\n\n        cityRepository.save(berlin);\n        cityRepository.save(duesseldorf);\n\n    }\n\n}\n\n\n</code></pre>\n<p>I played around with the @EntityScan and @ComponentScan, but am suprised that it is not working, even though repository, main class and entity are under the same package.</p>\n"},{"tags":["java","localdate","datetimeformatter"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1623487047,"creation_date":1623487047,"answer_id":67947089,"question_id":67947041,"body_markdown":"Regarding your variable `LocalDate formattedDate`, you&#39;re misunderstanding the concept of formatted date.\r\n\r\n&gt; A formatted date **is a String**, because you can control it&#39;s format.\r\n\r\nWhen the object is a `LocalDate` instance, it contains value to determine a position in the time, when you just print it it has its default formatting, it you want one **specific formatting** you need a **String** representation of your date\r\n\r\n\r\n------\r\n\r\n    String year = &quot;2021&quot;, dayString = &quot;1&quot;, monthString = &quot;3&quot;;\r\n\r\n    LocalDate date = LocalDate.of(\r\n            Integer.parseInt(year),\r\n            Integer.parseInt(monthString),\r\n            Integer.parseInt(dayString)\r\n    );\r\n\r\n    System.out.println(date); // 2021-03-01\r\n\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n    String formattedDate = date.format(dtf);\r\n    System.out.println(&quot;Formatted Date = &quot; + formattedDate); // Formatted Date = 01-03-2021\r\n\r\n","title":"Java - How to get the correct date format with LocalDate","body":"<p>Regarding your variable <code>LocalDate formattedDate</code>, you're misunderstanding the concept of formatted date.</p>\n<blockquote>\n<p>A formatted date <strong>is a String</strong>, because you can control it's format.</p>\n</blockquote>\n<p>When the object is a <code>LocalDate</code> instance, it contains value to determine a position in the time, when you just print it it has its default formatting, it you want one <strong>specific formatting</strong> you need a <strong>String</strong> representation of your date</p>\n<hr />\n<pre><code>String year = &quot;2021&quot;, dayString = &quot;1&quot;, monthString = &quot;3&quot;;\n\nLocalDate date = LocalDate.of(\n        Integer.parseInt(year),\n        Integer.parseInt(monthString),\n        Integer.parseInt(dayString)\n);\n\nSystem.out.println(date); // 2021-03-01\n\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\nString formattedDate = date.format(dtf);\nSystem.out.println(&quot;Formatted Date = &quot; + formattedDate); // Formatted Date = 01-03-2021\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669898338,"creation_date":1623487748,"answer_id":67947182,"question_id":67947041,"body_markdown":"You have used `Y` (week-based-year) instead of `y` (year-of-era). Learn the difference from the [documentation](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) and from answers to [this question](https://stackoverflow.com/q/34691582/10819573).\r\n\r\nSimply create a `LocalDate` with the year, month and day and format it to a `String` using a `DateTimeFormatter`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint day = 12, month = 6, year = 2021;\r\n    \t\tLocalDate date = LocalDate.of(year, month, day);\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;, Locale.ENGLISH);\r\n    \t\tString formatted = dtf.format(date);\r\n    \t\tSystem.out.println(formatted);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2021-06-12\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\n\r\nHere, you can use `y` instead of `u` but [I prefer `u` to `y`](https://stackoverflow.com/a/65928023/10819573).\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\nNote\r\n--\r\n\r\nA `LocalDate` is supposed to represent date units (year, month, day),  and not a specific format. The default format used by [`LocalDate#toString`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--) is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601#Dates) standard. For a specific format, you need to format it into a `String` as shown above. It is like representing `double d = 5.0` as the `5.000` which is done by formatting `d` into a `String` of this format.\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            double d = 5.0;\r\n            NumberFormat formatter = new DecimalFormat(&quot;#0.000&quot;);\r\n            String formatted = formatter.format(d);\r\n            System.out.println(formatted);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    5.000\r\n\r\n  [1]: https://ideone.com/Hbo8C2\r\n","title":"Java - How to get the correct date format with LocalDate","body":"<p>You have used <code>Y</code> (week-based-year) instead of <code>y</code> (year-of-era). Learn the difference from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">documentation</a> and from answers to <a href=\"https://stackoverflow.com/q/34691582/10819573\">this question</a>.</p>\n<p>Simply create a <code>LocalDate</code> with the year, month and day and format it to a <code>String</code> using a <code>DateTimeFormatter</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        int day = 12, month = 6, year = 2021;\n        LocalDate date = LocalDate.of(year, month, day);\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;, Locale.ENGLISH);\n        String formatted = dtf.format(date);\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-06-12\n</code></pre>\n<p><a href=\"https://ideone.com/Hbo8C2\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Here, you can use <code>y</code> instead of <code>u</code> but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer <code>u</code> to <code>y</code></a>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<h2>Note</h2>\n<p>A <code>LocalDate</code> is supposed to represent date units (year, month, day),  and not a specific format. The default format used by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--\" rel=\"nofollow noreferrer\"><code>LocalDate#toString</code></a> is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Dates\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. For a specific format, you need to format it into a <code>String</code> as shown above. It is like representing <code>double d = 5.0</code> as the <code>5.000</code> which is done by formatting <code>d</code> into a <code>String</code> of this format.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        double d = 5.0;\n        NumberFormat formatter = new DecimalFormat(&quot;#0.000&quot;);\n        String formatted = formatter.format(d);\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>5.000\n</code></pre>\n"}],"owner":{"account_id":17710210,"reputation":35,"user_id":15386423,"display_name":"xorian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1046,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67947089,"answer_count":2,"score":1,"last_activity_date":1669898338,"creation_date":1623486649,"question_id":67947041,"body_markdown":"I&#39;ve been having trouble correctly formatting the date as dd-MM-YYYY.\r\n\r\nWhen I arrange the String dateString in the order of year-month-day, or year-day-month, it allows the date to be formatted.\r\n\r\nIt seems to only work when the yearParsed String as at the begginning of dateString.\r\n\r\nAttempting to use DateTimeFormatter.ofPattern(&quot;dd-MM-YYYY&quot;) didn&#39;t seem to affect the date so it looks like I was not using it correctly.\r\n\r\nCould you please let me know what I am doing wrong? \r\n\r\nThe user inputs a day, month and year one at a time, and I am looking to output the date as: 01-12-2000. The if/else are there to add a &#39;0&#39; in front, if the date or month input is a single digit.\r\n\r\nAny help would be greatly appreciated.\r\n\r\nThank you!\r\n\r\n\r\n        String yearParsed = String.valueOf(year);\r\n        String monthParsed;\r\n        String dayParsed;\r\n        if (dayString.length() == 1) {         \r\n            dayParsed = &quot;0&quot; + String.valueOf(day); \r\n        }\r\n        else {\r\n            dayParsed = String.valueOf(day);\r\n        }\r\n        if (monthString.length() == 1) {         \r\n            monthParsed = &quot;0&quot; + String.valueOf(month);        \r\n        }\r\n        else {\r\n            monthParsed = String.valueOf(month);\r\n        }\r\n        \r\n        String dateString = yearParsed + &quot;-&quot; + monthParsed + &quot;-&quot; + dayParsed;\r\n        //String dateString = dayParsed + &quot;-&quot; + monthParsed + &quot;-&quot; + yearParsed;\r\n\r\n        System.out.println(&quot;dateString &quot; + dateString);\r\n        \r\n        LocalDate formattedDate = null;  \r\n        DateTimeFormatter dateTimeFormatter;  \r\n        dateTimeFormatter = DateTimeFormatter.ISO_LOCAL_DATE;\r\n        //dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-YYYY&quot;);\r\n\r\n        formattedDate = formattedDate.parse(String.format(dateString, dateTimeFormatter));\r\n        System.out.println(&quot;Formatted Date = &quot; + formattedDate);","title":"Java - How to get the correct date format with LocalDate","body":"<p>I've been having trouble correctly formatting the date as dd-MM-YYYY.</p>\n<p>When I arrange the String dateString in the order of year-month-day, or year-day-month, it allows the date to be formatted.</p>\n<p>It seems to only work when the yearParsed String as at the begginning of dateString.</p>\n<p>Attempting to use DateTimeFormatter.ofPattern(&quot;dd-MM-YYYY&quot;) didn't seem to affect the date so it looks like I was not using it correctly.</p>\n<p>Could you please let me know what I am doing wrong?</p>\n<p>The user inputs a day, month and year one at a time, and I am looking to output the date as: 01-12-2000. The if/else are there to add a '0' in front, if the date or month input is a single digit.</p>\n<p>Any help would be greatly appreciated.</p>\n<p>Thank you!</p>\n<pre><code>    String yearParsed = String.valueOf(year);\n    String monthParsed;\n    String dayParsed;\n    if (dayString.length() == 1) {         \n        dayParsed = &quot;0&quot; + String.valueOf(day); \n    }\n    else {\n        dayParsed = String.valueOf(day);\n    }\n    if (monthString.length() == 1) {         \n        monthParsed = &quot;0&quot; + String.valueOf(month);        \n    }\n    else {\n        monthParsed = String.valueOf(month);\n    }\n    \n    String dateString = yearParsed + &quot;-&quot; + monthParsed + &quot;-&quot; + dayParsed;\n    //String dateString = dayParsed + &quot;-&quot; + monthParsed + &quot;-&quot; + yearParsed;\n\n    System.out.println(&quot;dateString &quot; + dateString);\n    \n    LocalDate formattedDate = null;  \n    DateTimeFormatter dateTimeFormatter;  \n    dateTimeFormatter = DateTimeFormatter.ISO_LOCAL_DATE;\n    //dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-YYYY&quot;);\n\n    formattedDate = formattedDate.parse(String.format(dateString, dateTimeFormatter));\n    System.out.println(&quot;Formatted Date = &quot; + formattedDate);\n</code></pre>\n"},{"tags":["java","eclipse","maven","pom.xml"],"comments":[{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1669888726,"post_id":74639229,"comment_id":131747136,"body_markdown":"Maybe this could be resolved by changing the allowed version ranges of the dependencies of the legacy pom editor (assuming there is no actual incompatibility, and the limitation to 1.x is arbitrary).","body":"Maybe this could be resolved by changing the allowed version ranges of the dependencies of the legacy pom editor (assuming there is no actual incompatibility, and the limitation to 1.x is arbitrary)."},{"owner":{"account_id":11897821,"reputation":127,"user_id":8706661,"display_name":"HellJosun"},"score":0,"creation_date":1672560793,"post_id":74639229,"comment_id":132305833,"body_markdown":"Thanks to the questioner, I was able to solve the problem. thank you (In the 2022-03 Eclipse version, it was possible to solve it by referring to the questioner&#39;s picture.) I was experiencing a problem in pom.xml where all letters were the same color.","body":"Thanks to the questioner, I was able to solve the problem. thank you (In the 2022-03 Eclipse version, it was possible to solve it by referring to the questioner&#39;s picture.) I was experiencing a problem in pom.xml where all letters were the same color."}],"answers":[{"tags":[],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669898073,"creation_date":1669898073,"answer_id":74641949,"question_id":74639229,"body_markdown":"I reported an issue and the answer is no: https://github.com/eclipse-m2e/m2e-core/issues/1109","title":"Is it possible to get the &quot;POM Editor (Legacy) using WebTools SourceEditing UI&quot; running in Eclipse 2022-09 or later?","body":"<p>I reported an issue and the answer is no: <a href=\"https://github.com/eclipse-m2e/m2e-core/issues/1109\" rel=\"nofollow noreferrer\">https://github.com/eclipse-m2e/m2e-core/issues/1109</a></p>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669898103,"creation_date":1669885117,"question_id":74639229,"body_markdown":"When doing a fresh install of Eclipse 2022-09, the legacy pom editor is not available to install anymore:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can add an older update site:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd then select the legacy editor:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut the installation fails with this message:\r\n\r\n    Cannot complete the install because of a conflicting dependency.\r\n      Software being installed: M2E - POM Editor (Legacy) using WebTools SourceEditing UI 1.18.3.20220122-2204 (org.eclipse.m2e.sse.ui.feature.feature.group 1.18.3.20220122-2204)\r\n      Software currently installed: M2E - Maven Integration for Eclipse 2.0.4.20220904-1703 (org.eclipse.m2e.feature.feature.group 2.0.4.20220904-1703)\r\n      Only one of the following can be installed at once: \r\n        M2E Maven Integration for Eclipse Core 2.0.3.20220904-1703 (org.eclipse.m2e.core 2.0.3.20220904-1703)\r\n        M2E Maven Integration for Eclipse Core 1.18.4.20220208-0831 (org.eclipse.m2e.core 1.18.4.20220208-0831)\r\n      Cannot satisfy dependency:\r\n        From: M2E Maven POM File XML Editor 1.18.3.20220122-2204 (org.eclipse.m2e.editor.xml 1.18.3.20220122-2204)\r\n        To: osgi.bundle; org.eclipse.m2e.core [1.16.0,2.0.0)\r\n      Cannot satisfy dependency:\r\n        From: M2E - Maven Integration for Eclipse 2.0.4.20220904-1703 (org.eclipse.m2e.feature.feature.group 2.0.4.20220904-1703)\r\n        To: org.eclipse.equinox.p2.iu; org.eclipse.m2e.core [2.0.3.20220904-1703,2.0.3.20220904-1703]\r\n      Cannot satisfy dependency:\r\n        From: M2E - POM Editor (Legacy) using WebTools SourceEditing UI 1.18.3.20220122-2204 (org.eclipse.m2e.sse.ui.feature.feature.group 1.18.3.20220122-2204)\r\n        To: org.eclipse.equinox.p2.iu; org.eclipse.m2e.editor.xml [1.18.3.20220122-2204,1.18.3.20220122-2204]\r\n\r\nEclipse offers to resolve the conflict by uninstalling a few other features, but uninstalling the maven integration doesn&#39;t sound good:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nMore testing: Looks like the legacy POM editor also prevents updating a fresh install of 2022-06 (with legacy editor) to 2022-09 because of conflicting version dependencies for &#39;M2E Maven Integration for Eclipse Core&#39;:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nMore resources:\r\n\r\n- https://www.eclipse.org/lists/cross-project-issues-dev/msg19384.html\r\n- https://github.com/eclipse-m2e/m2e-core/issues/138\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PFN67.png\r\n  [2]: https://i.stack.imgur.com/9IFpL.png\r\n  [3]: https://i.stack.imgur.com/tHFjL.png\r\n  [4]: https://i.stack.imgur.com/hghFt.png\r\n  [5]: https://i.stack.imgur.com/a2pGY.png","title":"Is it possible to get the &quot;POM Editor (Legacy) using WebTools SourceEditing UI&quot; running in Eclipse 2022-09 or later?","body":"<p>When doing a fresh install of Eclipse 2022-09, the legacy pom editor is not available to install anymore:</p>\n<p><a href=\"https://i.stack.imgur.com/PFN67.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PFN67.png\" alt=\"enter image description here\" /></a></p>\n<p>I can add an older update site:</p>\n<p><a href=\"https://i.stack.imgur.com/9IFpL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9IFpL.png\" alt=\"enter image description here\" /></a></p>\n<p>And then select the legacy editor:</p>\n<p><a href=\"https://i.stack.imgur.com/tHFjL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tHFjL.png\" alt=\"enter image description here\" /></a></p>\n<p>But the installation fails with this message:</p>\n<pre><code>Cannot complete the install because of a conflicting dependency.\n  Software being installed: M2E - POM Editor (Legacy) using WebTools SourceEditing UI 1.18.3.20220122-2204 (org.eclipse.m2e.sse.ui.feature.feature.group 1.18.3.20220122-2204)\n  Software currently installed: M2E - Maven Integration for Eclipse 2.0.4.20220904-1703 (org.eclipse.m2e.feature.feature.group 2.0.4.20220904-1703)\n  Only one of the following can be installed at once: \n    M2E Maven Integration for Eclipse Core 2.0.3.20220904-1703 (org.eclipse.m2e.core 2.0.3.20220904-1703)\n    M2E Maven Integration for Eclipse Core 1.18.4.20220208-0831 (org.eclipse.m2e.core 1.18.4.20220208-0831)\n  Cannot satisfy dependency:\n    From: M2E Maven POM File XML Editor 1.18.3.20220122-2204 (org.eclipse.m2e.editor.xml 1.18.3.20220122-2204)\n    To: osgi.bundle; org.eclipse.m2e.core [1.16.0,2.0.0)\n  Cannot satisfy dependency:\n    From: M2E - Maven Integration for Eclipse 2.0.4.20220904-1703 (org.eclipse.m2e.feature.feature.group 2.0.4.20220904-1703)\n    To: org.eclipse.equinox.p2.iu; org.eclipse.m2e.core [2.0.3.20220904-1703,2.0.3.20220904-1703]\n  Cannot satisfy dependency:\n    From: M2E - POM Editor (Legacy) using WebTools SourceEditing UI 1.18.3.20220122-2204 (org.eclipse.m2e.sse.ui.feature.feature.group 1.18.3.20220122-2204)\n    To: org.eclipse.equinox.p2.iu; org.eclipse.m2e.editor.xml [1.18.3.20220122-2204,1.18.3.20220122-2204]\n</code></pre>\n<p>Eclipse offers to resolve the conflict by uninstalling a few other features, but uninstalling the maven integration doesn't sound good:</p>\n<p><a href=\"https://i.stack.imgur.com/hghFt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hghFt.png\" alt=\"enter image description here\" /></a></p>\n<p>More testing: Looks like the legacy POM editor also prevents updating a fresh install of 2022-06 (with legacy editor) to 2022-09 because of conflicting version dependencies for 'M2E Maven Integration for Eclipse Core':</p>\n<p><a href=\"https://i.stack.imgur.com/a2pGY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a2pGY.png\" alt=\"enter image description here\" /></a></p>\n<p>More resources:</p>\n<ul>\n<li><a href=\"https://www.eclipse.org/lists/cross-project-issues-dev/msg19384.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/lists/cross-project-issues-dev/msg19384.html</a></li>\n<li><a href=\"https://github.com/eclipse-m2e/m2e-core/issues/138\" rel=\"nofollow noreferrer\">https://github.com/eclipse-m2e/m2e-core/issues/138</a></li>\n</ul>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":27058224,"reputation":1,"user_id":20610627,"display_name":"riv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669898020,"creation_date":1669513034,"answer_id":74586888,"question_id":74586794,"body_markdown":"Firstly, I&#39;m assuming the blocks that grow the worldborder are ore-types like Diamond ore and Iron ore. An idea to prevent this exploit would be to prevent players from placing that ore-type entirely, hopefully that won&#39;t be a problem. \r\n\r\nYou could use the `Class BlockPlaceEvent`, and method `getBlockPlaced()` to achieve this.\r\n\r\nAlso, I&#39;d recommend using `switch` statements rather than multiple ifs. ","title":"Is there a way to check if a block has already been broken before and a player hasn&#39;t just replaced it? Spiggot","body":"<p>Firstly, I'm assuming the blocks that grow the worldborder are ore-types like Diamond ore and Iron ore. An idea to prevent this exploit would be to prevent players from placing that ore-type entirely, hopefully that won't be a problem.</p>\n<p>You could use the <code>Class BlockPlaceEvent</code>, and method <code>getBlockPlaced()</code> to achieve this.</p>\n<p>Also, I'd recommend using <code>switch</code> statements rather than multiple ifs.</p>\n"},{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669513277,"creation_date":1669513277,"answer_id":74586902,"question_id":74586794,"body_markdown":"You can create a global variable containing the coordinates of blocks that have been broken. In order for the most efficient solution, I&#39;d recommend this variable be a `HashSet`, as there is an O(1) time complexity for checking for the presence of an element.\r\n```java\r\nprivate final Set&lt;Location&gt; blocksBroken = new HashSet&lt;&gt;();\r\n```\r\nThen in your `onBlockBreak` method, at the start you can check if the location of the block is in the `Set` - if it is, don&#39;t expand the border:\r\n```java\r\nif (blocksBroken.contains(e.getBlock().getLocation())) return;\r\n```\r\nBut in the case that the border is expanded, simply add the location of the broken block to the `Set`:\r\n```java\r\nblocksBroken.add(e.getBlock().getLocation());\r\n```\r\n\r\nIt is worth noting that this solution is really only efficient assuming there will not be a ridiculously high number of blocks broken by players, because for every block broken, the location of the block is broken in memory. This means that the amount of memory used by the solution is proportional to the number of blocks broken (O(n) space complexity). Personally, I&#39;d really only concern about this after ~10,000 blocks.","title":"Is there a way to check if a block has already been broken before and a player hasn&#39;t just replaced it? Spiggot","body":"<p>You can create a global variable containing the coordinates of blocks that have been broken. In order for the most efficient solution, I'd recommend this variable be a <code>HashSet</code>, as there is an O(1) time complexity for checking for the presence of an element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Set&lt;Location&gt; blocksBroken = new HashSet&lt;&gt;();\n</code></pre>\n<p>Then in your <code>onBlockBreak</code> method, at the start you can check if the location of the block is in the <code>Set</code> - if it is, don't expand the border:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (blocksBroken.contains(e.getBlock().getLocation())) return;\n</code></pre>\n<p>But in the case that the border is expanded, simply add the location of the broken block to the <code>Set</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>blocksBroken.add(e.getBlock().getLocation());\n</code></pre>\n<p>It is worth noting that this solution is really only efficient assuming there will not be a ridiculously high number of blocks broken by players, because for every block broken, the location of the block is broken in memory. This means that the amount of memory used by the solution is proportional to the number of blocks broken (O(n) space complexity). Personally, I'd really only concern about this after ~10,000 blocks.</p>\n"},{"tags":[],"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669515312,"creation_date":1669515312,"answer_id":74587031,"question_id":74586794,"body_markdown":"You could set the owner of the item and prevent placing if an owner is set.","title":"Is there a way to check if a block has already been broken before and a player hasn&#39;t just replaced it? Spiggot","body":"<p>You could set the owner of the item and prevent placing if an owner is set.</p>\n"},{"tags":[],"owner":{"account_id":26114681,"reputation":1,"user_id":19808007,"display_name":"Jimmy Graham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669718857,"creation_date":1669718857,"answer_id":74612822,"question_id":74586794,"body_markdown":"I have solved this i can create a listener for when a block gets added to someone’s inventory then add a persistent variable there and check in the onblockbreak listener","title":"Is there a way to check if a block has already been broken before and a player hasn&#39;t just replaced it? Spiggot","body":"<p>I have solved this i can create a listener for when a block gets added to someone’s inventory then add a persistent variable there and check in the onblockbreak listener</p>\n"}],"owner":{"account_id":26114681,"reputation":1,"user_id":19808007,"display_name":"Jimmy Graham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74612822,"answer_count":4,"score":-1,"last_activity_date":1669898020,"creation_date":1669511669,"question_id":74586794,"body_markdown":"I&#39;m creating a plugin with Spiggot that every time you break a certain block or kill and entity it expands the border(The border is gonna start of being small). I have realised that after someone breaking a block they can replace in and repeat meaning the border will become infinite does anyone know a way I can prevent this I thought about using persistent variables inside the items but they were blocks that had been broken not items so I couldn&#39;t I don&#39;t think this question needs any code but for some reason if you need the main part here it is:\r\n\r\n```\r\n@EventHandler\r\npublic void onBlockBreak(BlockBreakEvent e)\r\n{\r\n    if (e.getBlock().getType() == Material.DIAMOND_ORE)\r\n    {\r\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;worldborder add 6 1&quot;);\r\n    }\r\n    if (e.getBlock().getType() == Material.IRON_ORE)\r\n    {\r\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;worldborder add 0.5 1&quot;);\r\n    }\r\n    if (e.getBlock().getType() == Material.GOLD_ORE)\r\n    {\r\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;worldborder add 1 1&quot;);\r\n    }\r\n    if (e.getBlock().getType() == Material.ANCIENT_DEBRIS)\r\n    {\r\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;worldborder add 0.5 1&quot;);\r\n    }\r\n}\r\n```","title":"Is there a way to check if a block has already been broken before and a player hasn&#39;t just replaced it? Spiggot","body":"<p>I'm creating a plugin with Spiggot that every time you break a certain block or kill and entity it expands the border(The border is gonna start of being small). I have realised that after someone breaking a block they can replace in and repeat meaning the border will become infinite does anyone know a way I can prevent this I thought about using persistent variables inside the items but they were blocks that had been broken not items so I couldn't I don't think this question needs any code but for some reason if you need the main part here it is:</p>\n<pre><code>@EventHandler\npublic void onBlockBreak(BlockBreakEvent e)\n{\n    if (e.getBlock().getType() == Material.DIAMOND_ORE)\n    {\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;worldborder add 6 1&quot;);\n    }\n    if (e.getBlock().getType() == Material.IRON_ORE)\n    {\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;worldborder add 0.5 1&quot;);\n    }\n    if (e.getBlock().getType() == Material.GOLD_ORE)\n    {\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;worldborder add 1 1&quot;);\n    }\n    if (e.getBlock().getType() == Material.ANCIENT_DEBRIS)\n    {\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;worldborder add 0.5 1&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","bytearrayoutputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669831163,"post_id":74631365,"comment_id":131734526,"body_markdown":"That&#39;s not really what that class is for. If you want to return several different byte arrays why don&#39;t you just call `String.getBytes()` however many times you need to?","body":"That&#39;s not really what that class is for. If you want to return several different byte arrays why don&#39;t you just call <code>String.getBytes()</code> however many times you need to?"},{"owner":{"account_id":27101188,"reputation":1,"user_id":20647725,"display_name":"AKK"},"score":0,"creation_date":1669835863,"post_id":74631365,"comment_id":131736125,"body_markdown":"very true, issue is we are using ide/libraries from a customer and it has some strange behavior, returning values like String.getBytes() results in crash and no one has figured out why does it happen, that is why resorted to ByteArrayOutputStream which luckily worked . It may sound naive but this is a fix we are in","body":"very true, issue is we are using ide/libraries from a customer and it has some strange behavior, returning values like String.getBytes() results in crash and no one has figured out why does it happen, that is why resorted to ByteArrayOutputStream which luckily worked . It may sound naive but this is a fix we are in"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669831179,"creation_date":1669831179,"answer_id":74632220,"question_id":74631365,"body_markdown":"You have to call `toByteArray()` on each individual `ByteArrayOutputStream` in the array.  You can create your own `byte[][]` to store that in.  That said, of course, the code you&#39;ve shown us has no reason to use `ByteArrayOutputStream`, since it&#39;s just using it to copy the result of `&quot;string&quot;.getBytes()`.","title":"return multiple byte arrays using ByteArrayOutputStream","body":"<p>You have to call <code>toByteArray()</code> on each individual <code>ByteArrayOutputStream</code> in the array.  You can create your own <code>byte[][]</code> to store that in.  That said, of course, the code you've shown us has no reason to use <code>ByteArrayOutputStream</code>, since it's just using it to copy the result of <code>&quot;string&quot;.getBytes()</code>.</p>\n"}],"owner":{"account_id":27101188,"reputation":1,"user_id":20647725,"display_name":"AKK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669898006,"creation_date":1669826987,"question_id":74631365,"body_markdown":"I am struggling to return multiple byte arrays using ByteArrayOutputStream. I have multiple string values that need to be converted to separate byte arrays and then return each one of them. My issue is that toByteArray() method does not work on ByteArrayOutputStream[], compiler shows following error &quot;cannot invoke toByteArray() on the array type ByteArrayOutputStream[]&quot;. Here is the code:\r\n\r\n```\r\nint Count = getListsize.size(); &lt;--- List has two elements of type String\r\nByteArrayOutputStream[] baos = new ByteArrayOutputStream[Count];\r\n\r\n   for (int i = 0; i &lt; Count; i++) {\r\n    \tbaos[i].write(&quot;string&quot;.getBytes());\r\n    \t\t\t\t\r\n   }\r\n    return baos.toByteArray();   &lt;--- Doesn&#39;t work with the ByteArrayOutputStream[]\r\n```","title":"return multiple byte arrays using ByteArrayOutputStream","body":"<p>I am struggling to return multiple byte arrays using ByteArrayOutputStream. I have multiple string values that need to be converted to separate byte arrays and then return each one of them. My issue is that toByteArray() method does not work on ByteArrayOutputStream[], compiler shows following error &quot;cannot invoke toByteArray() on the array type ByteArrayOutputStream[]&quot;. Here is the code:</p>\n<pre><code>int Count = getListsize.size(); &lt;--- List has two elements of type String\nByteArrayOutputStream[] baos = new ByteArrayOutputStream[Count];\n\n   for (int i = 0; i &lt; Count; i++) {\n        baos[i].write(&quot;string&quot;.getBytes());\n                    \n   }\n    return baos.toByteArray();   &lt;--- Doesn't work with the ByteArrayOutputStream[]\n</code></pre>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669897714,"creation_date":1669897714,"answer_id":74641875,"question_id":74641707,"body_markdown":"In controller class you have given the request mapping as &#39;/car-list&#39;. So any other mappings of the class would be accessed by that. So to access the &#39;/order&#39; mapping you need to give full path in th:action &#39;@{/car-list/order}&#39;.","title":"Spring 404 error when trying to get object from view","body":"<p>In controller class you have given the request mapping as '/car-list'. So any other mappings of the class would be accessed by that. So to access the '/order' mapping you need to give full path in th:action '@{/car-list/order}'.</p>\n"}],"owner":{"account_id":26693559,"reputation":51,"user_id":20301773,"display_name":"Collander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74641875,"answer_count":1,"score":0,"last_activity_date":1669897714,"creation_date":1669896913,"question_id":74641707,"body_markdown":"Hi I&#39;m trying to send a select option to a controller from the user. I&#39;ve had trouble with this for about a week and I can&#39;t figure it out. I&#39;m loading my Car entity into the view and just want it passed back to the controller in the orderVehicle function.\r\n\r\nMy Controller CarViewController.java\r\n````\r\n@Controller\r\n@RequestMapping(&quot;/car-list&quot;)\r\npublic class CarViewController {\r\n\r\n    @Autowired\r\n    private CarService carService;\r\n\r\n    @GetMapping\r\n    public String carList(Model model) {\r\n\r\n       \r\n        Location limerick = new Location(&quot;Limerick&quot;);\r\n        Location cork = new Location(&quot;Cork&quot;);\r\n\r\n        //Drop down/table lists per location\r\n        ArrayList&lt;Car&gt; location1cars = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Car&gt; location2cars = new ArrayList&lt;&gt;();\r\n\r\n        ArrayList&lt;Car&gt; cars = (ArrayList&lt;Car&gt;) carService.getAllCars();\r\n\r\n        for (int i = 0; i &lt; cars.size() / 2; i++) {\r\n            location1cars.add(cars.get(i));\r\n        }\r\n        for (int i = cars.size() / 2; i &lt; cars.size(); i++) {\r\n            location2cars.add(cars.get(i));\r\n        }\r\n\r\n\r\n        model.addAttribute(&quot;location1&quot;, limerick);\r\n        model.addAttribute(&quot;location1vehicles&quot;, location1cars);\r\n\r\n\r\n        return &quot;car-list&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/order&quot;)\r\n    public String orderVehicle(@RequestParam(value = &quot;SelectVehicle&quot;) Car vehicle, @ModelAttribute Car car) {\r\n\r\n        System.out.println(car.getVehicleID());\r\n        System.out.println(vehicle.getVehicleID());\r\n        System.out.println(&quot;Test&quot;);\r\n        \r\n        return &quot;order&quot;;\r\n    }\r\n}\r\n````\r\nMy view car-list.html\r\n\r\n````\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;title&gt;Vehicle List&lt;/title&gt;\r\n\r\n  &lt;h1&gt;Location List&lt;/h1&gt;\r\n\r\n  &lt;h2 th:text=&quot;${location1.locationName}&quot;&gt;Locations&lt;/h2&gt;\r\n  &lt;h3&gt;Vehicle List&lt;/h3&gt;\r\n  &lt;table class=&quot;table table-stripped&quot;&gt;\r\n    &lt;tr th:each=&quot;vehicle : ${location1vehicles}&quot;&gt;\r\n      &lt;td th:text=&quot;${vehicle.name}&quot;&gt;Vehicle Name&lt;/td&gt;\r\n      &lt;td th:text=&quot;${vehicle.BodyType}&quot;&gt;Vehicle Body Style&lt;/td&gt;\r\n      &lt;td th:text=&quot;${vehicle.EngineSize}&quot;&gt;Vehicle Engine Size&lt;/td&gt;\r\n      &lt;td th:text=&quot;${vehicle.fuel}&quot;&gt;Vehicle Fuel Type&lt;/td&gt;\r\n      &lt;td th:text=&quot;${vehicle.SeatCapacity}&quot;&gt;Vehicle Seat Capacity&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n\r\n  &lt;h4&gt;Select Vehicle&lt;/h4&gt;\r\n  &lt;form th:action=&quot;@{/order}&quot; th:object=&quot;${car}&quot;&gt;\r\n    &lt;select name=&quot;SelectVehicle&quot; id=&quot;SelectVehicle&quot;&gt;\r\n      &lt;option value=&quot;0&quot;&gt;Select Vehicle&lt;/option&gt;\r\n      &lt;option th:each=&quot;vehicle : ${location1vehicles}&quot;\r\n              th:value=&quot;${vehicle}&quot;\r\n              th:text=&quot;${vehicle.name}&quot;&gt;&lt;/option&gt;\r\n    &lt;/select&gt;\r\n    &lt;button type=&quot;submit&quot; th:value=&quot;#{vehicle.vehicleID}&quot;&gt;Order Vehicle&lt;/button&gt;\r\n  &lt;/form&gt;\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;/html&gt;\r\n\r\n````\r\n\r\nWhen I click the button in the view I get a 404 error. I see the object reference in the link, how  can I access that object and get rid of this error? What I&#39;m looking for in my controller is to able to access the vehicle ID which is the primary key of Car so that I can query my db for the car the user selected. Thanks.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uEK6P.png","title":"Spring 404 error when trying to get object from view","body":"<p>Hi I'm trying to send a select option to a controller from the user. I've had trouble with this for about a week and I can't figure it out. I'm loading my Car entity into the view and just want it passed back to the controller in the orderVehicle function.</p>\n<p>My Controller CarViewController.java</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/car-list&quot;)\npublic class CarViewController {\n\n    @Autowired\n    private CarService carService;\n\n    @GetMapping\n    public String carList(Model model) {\n\n       \n        Location limerick = new Location(&quot;Limerick&quot;);\n        Location cork = new Location(&quot;Cork&quot;);\n\n        //Drop down/table lists per location\n        ArrayList&lt;Car&gt; location1cars = new ArrayList&lt;&gt;();\n        ArrayList&lt;Car&gt; location2cars = new ArrayList&lt;&gt;();\n\n        ArrayList&lt;Car&gt; cars = (ArrayList&lt;Car&gt;) carService.getAllCars();\n\n        for (int i = 0; i &lt; cars.size() / 2; i++) {\n            location1cars.add(cars.get(i));\n        }\n        for (int i = cars.size() / 2; i &lt; cars.size(); i++) {\n            location2cars.add(cars.get(i));\n        }\n\n\n        model.addAttribute(&quot;location1&quot;, limerick);\n        model.addAttribute(&quot;location1vehicles&quot;, location1cars);\n\n\n        return &quot;car-list&quot;;\n    }\n\n    @PostMapping(&quot;/order&quot;)\n    public String orderVehicle(@RequestParam(value = &quot;SelectVehicle&quot;) Car vehicle, @ModelAttribute Car car) {\n\n        System.out.println(car.getVehicleID());\n        System.out.println(vehicle.getVehicleID());\n        System.out.println(&quot;Test&quot;);\n        \n        return &quot;order&quot;;\n    }\n}\n</code></pre>\n<p>My view car-list.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;Vehicle List&lt;/title&gt;\n\n  &lt;h1&gt;Location List&lt;/h1&gt;\n\n  &lt;h2 th:text=&quot;${location1.locationName}&quot;&gt;Locations&lt;/h2&gt;\n  &lt;h3&gt;Vehicle List&lt;/h3&gt;\n  &lt;table class=&quot;table table-stripped&quot;&gt;\n    &lt;tr th:each=&quot;vehicle : ${location1vehicles}&quot;&gt;\n      &lt;td th:text=&quot;${vehicle.name}&quot;&gt;Vehicle Name&lt;/td&gt;\n      &lt;td th:text=&quot;${vehicle.BodyType}&quot;&gt;Vehicle Body Style&lt;/td&gt;\n      &lt;td th:text=&quot;${vehicle.EngineSize}&quot;&gt;Vehicle Engine Size&lt;/td&gt;\n      &lt;td th:text=&quot;${vehicle.fuel}&quot;&gt;Vehicle Fuel Type&lt;/td&gt;\n      &lt;td th:text=&quot;${vehicle.SeatCapacity}&quot;&gt;Vehicle Seat Capacity&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n\n  &lt;h4&gt;Select Vehicle&lt;/h4&gt;\n  &lt;form th:action=&quot;@{/order}&quot; th:object=&quot;${car}&quot;&gt;\n    &lt;select name=&quot;SelectVehicle&quot; id=&quot;SelectVehicle&quot;&gt;\n      &lt;option value=&quot;0&quot;&gt;Select Vehicle&lt;/option&gt;\n      &lt;option th:each=&quot;vehicle : ${location1vehicles}&quot;\n              th:value=&quot;${vehicle}&quot;\n              th:text=&quot;${vehicle.name}&quot;&gt;&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;button type=&quot;submit&quot; th:value=&quot;#{vehicle.vehicleID}&quot;&gt;Order Vehicle&lt;/button&gt;\n  &lt;/form&gt;\n\n&lt;/head&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<p>When I click the button in the view I get a 404 error. I see the object reference in the link, how  can I access that object and get rid of this error? What I'm looking for in my controller is to able to access the vehicle ID which is the primary key of Car so that I can query my db for the car the user selected. Thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/uEK6P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uEK6P.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","math","multidimensional-array"],"comments":[{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1669894085,"post_id":74640999,"comment_id":131748956,"body_markdown":"What are the requirements here? Do you want to have a solution for exactly the numbers in the image or do you want a method that creates a 2D array based on some rules?","body":"What are the requirements here? Do you want to have a solution for exactly the numbers in the image or do you want a method that creates a 2D array based on some rules?"},{"owner":{"account_id":27110191,"reputation":11,"user_id":20655450,"display_name":"ZN00PS"},"score":0,"creation_date":1669894471,"post_id":74640999,"comment_id":131749090,"body_markdown":"I want solution for exactly the numbers in the image.","body":"I want solution for exactly the numbers in the image."}],"answers":[{"tags":[],"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669895826,"creation_date":1669895826,"answer_id":74641502,"question_id":74640999,"body_markdown":"Here the program for your problem. I&#39;ve also added the printing of the 2d array. It accepts any 1:1 size of the array, you can modify the size of your wanting using the variable `final int ARRAY_SIZE`.\r\n````\r\npublic class StackOverflow {\r\n\r\n    public static void main(String[] args) {\r\n        final int ARRAY_SIZE = 10;\r\n        int[][] array = new int[ARRAY_SIZE][ARRAY_SIZE];\r\n\r\n        //filling of values for 2d array\r\n        for (int i = 0, k = 1; i &lt; array.length ; i++) {\r\n            for (int j = i + 3; j &gt; i; j--, k++) {\r\n                if (j &gt; array.length) {\r\n                    k--;\r\n                    continue;\r\n                }\r\n                array[j - 1][array.length - i - 1] = k;\r\n            }\r\n        }\r\n\r\n        //printing of 2d array\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            for (int j = 0; j &lt; array.length; j++) {\r\n                if (array[i][j] == 0) \r\n                    System.out.print(array[i][j] + &quot;  &quot;);\r\n                else if (array[i][j] &gt; 9) \r\n                    System.out.print(array[i][j] + &quot; &quot;);\r\n                else\r\n                    System.out.print(array[i][j] + &quot;  &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}","title":"Java, 2D array specified organization","body":"<p>Here the program for your problem. I've also added the printing of the 2d array. It accepts any 1:1 size of the array, you can modify the size of your wanting using the variable <code>final int ARRAY_SIZE</code>.</p>\n<pre><code>public class StackOverflow {\n\n    public static void main(String[] args) {\n        final int ARRAY_SIZE = 10;\n        int[][] array = new int[ARRAY_SIZE][ARRAY_SIZE];\n\n        //filling of values for 2d array\n        for (int i = 0, k = 1; i &lt; array.length ; i++) {\n            for (int j = i + 3; j &gt; i; j--, k++) {\n                if (j &gt; array.length) {\n                    k--;\n                    continue;\n                }\n                array[j - 1][array.length - i - 1] = k;\n            }\n        }\n\n        //printing of 2d array\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length; j++) {\n                if (array[i][j] == 0) \n                    System.out.print(array[i][j] + &quot;  &quot;);\n                else if (array[i][j] &gt; 9) \n                    System.out.print(array[i][j] + &quot; &quot;);\n                else\n                    System.out.print(array[i][j] + &quot;  &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27110191,"reputation":11,"user_id":20655450,"display_name":"ZN00PS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669896542,"creation_date":1669893323,"question_id":74640999,"body_markdown":"I have to make 2D array [10][10] to be filled like this:\r\n(https://i.stack.imgur.com/WCRGu.png)\r\nPlease, can someone help me with this?\r\n`\r\n```\r\n\tint j, i;\r\n\tint n=1;\r\n\t\r\n\tfor (j=9; j&gt;=0;j--) {\r\n\t\tfor (i=11-j; i&gt;=9-j; i++) {\r\n\t\t\tif(i&lt;10) {\r\n\t\t\t\ta[i][j]=n;\r\n\t\t\t\tn++;\r\n\t\t\t}else{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfor (i=0;i&lt;=9;i++) {\r\n\t\tfor(j=0;j&lt;=9;j++) {\r\n\t\t\tSystem.out.print(a[i][j] + &quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n```\r\n`","title":"Java, 2D array specified organization","body":"<p>I have to make 2D array [10][10] to be filled like this:\n(https://i.stack.imgur.com/WCRGu.png)\nPlease, can someone help me with this?\n`</p>\n<pre><code>    int j, i;\n    int n=1;\n    \n    for (j=9; j&gt;=0;j--) {\n        for (i=11-j; i&gt;=9-j; i++) {\n            if(i&lt;10) {\n                a[i][j]=n;\n                n++;\n            }else{\n                break;\n            }\n        }\n    }\n\n    for (i=0;i&lt;=9;i++) {\n        for(j=0;j&lt;=9;j++) {\n            System.out.print(a[i][j] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":27110859,"reputation":26,"user_id":20656032,"display_name":"Hugo Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669896427,"creation_date":1669896427,"answer_id":74641614,"question_id":74641558,"body_markdown":"One way to make a flexible and secure connection between a server and its clients without storing their URLs is to use WebSockets. WebSockets is a protocol that allows for full-duplex communication between a server and its clients. This means that the server and the clients can both send and receive messages at the same time, and the connection remains open until it is closed by one of the parties.\r\n\r\nUsing WebSockets, the server can send messages to specific clients or broadcast messages to all connected clients. This allows for both private messaging and broadcast chat functionality in your application.\r\n\r\nYou can use a WebSockets library such as Socket.io for Java (https://github.com/socketio/socket.io-client-java). This library makes it easy to set up WebSockets on the server and handle incoming and outgoing messages from clients.\r\n\r\nSome resources that may be helpful for learning more about WebSockets and implementing:\r\n\r\n* The WebSockets API: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API\r\n* Socket.io: https://socket.io/\r\n* A tutorial on using Socket.io for real-time communication: https://socket.io/get-started/chat/","title":"How to make proper server connection without storing client URLs on the server","body":"<p>One way to make a flexible and secure connection between a server and its clients without storing their URLs is to use WebSockets. WebSockets is a protocol that allows for full-duplex communication between a server and its clients. This means that the server and the clients can both send and receive messages at the same time, and the connection remains open until it is closed by one of the parties.</p>\n<p>Using WebSockets, the server can send messages to specific clients or broadcast messages to all connected clients. This allows for both private messaging and broadcast chat functionality in your application.</p>\n<p>You can use a WebSockets library such as Socket.io for Java (<a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">https://github.com/socketio/socket.io-client-java</a>). This library makes it easy to set up WebSockets on the server and handle incoming and outgoing messages from clients.</p>\n<p>Some resources that may be helpful for learning more about WebSockets and implementing:</p>\n<ul>\n<li>The WebSockets API: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API</a></li>\n<li>Socket.io: <a href=\"https://socket.io/\" rel=\"nofollow noreferrer\">https://socket.io/</a></li>\n<li>A tutorial on using Socket.io for real-time communication: <a href=\"https://socket.io/get-started/chat/\" rel=\"nofollow noreferrer\">https://socket.io/get-started/chat/</a></li>\n</ul>\n"}],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669929318,"accepted_answer_id":74641614,"answer_count":1,"score":0,"last_activity_date":1669896427,"creation_date":1669896192,"question_id":74641558,"body_markdown":"I am implementing a rather simple communicator - one broadcast chat and multiple others for private messaging between users/clients. The purpose of this app is educational and I want to use solutions that are (preferably:)) simple yet modern, flexible, and used in real life, I started implementation using RestController and I stored clients&#39; URLs in the database but I quickly understood that this is not good practice. I want to ask about links and resources that may address the following questions:\r\n1. How to make a flexible and secure connection between server and client without storing the latter URL?\r\n2. What is the correct protocol for information exchange in this kind of application\r\n\r\n","title":"How to make proper server connection without storing client URLs on the server","body":"<p>I am implementing a rather simple communicator - one broadcast chat and multiple others for private messaging between users/clients. The purpose of this app is educational and I want to use solutions that are (preferably:)) simple yet modern, flexible, and used in real life, I started implementation using RestController and I stored clients' URLs in the database but I quickly understood that this is not good practice. I want to ask about links and resources that may address the following questions:</p>\n<ol>\n<li>How to make a flexible and secure connection between server and client without storing the latter URL?</li>\n<li>What is the correct protocol for information exchange in this kind of application</li>\n</ol>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669893695,"creation_date":1669893695,"answer_id":74641081,"question_id":74640683,"body_markdown":"Why do you think it should? What if 2 consumers want to handle the result of the same future, and one is prepared to wait longer than the other? The first would kill it for the second, which it might&#39;ve completed in time for.\r\n\r\nIn any case, Java doesn&#39;t have the concept of killing a task. The best you can do is set a flag asking it to stop - an interrupt - but that relies on the task checking and respecting the flag. Your tasks do, since `Thread.sleep()` implicitly checks the interrupt flag, but it&#39;s a contrived example, and a lot of tasks wouldn&#39;t ever check it.","title":"Shouldn&#39;t CompletableFuture.get(timeout) kill the task?","body":"<p>Why do you think it should? What if 2 consumers want to handle the result of the same future, and one is prepared to wait longer than the other? The first would kill it for the second, which it might've completed in time for.</p>\n<p>In any case, Java doesn't have the concept of killing a task. The best you can do is set a flag asking it to stop - an interrupt - but that relies on the task checking and respecting the flag. Your tasks do, since <code>Thread.sleep()</code> implicitly checks the interrupt flag, but it's a contrived example, and a lot of tasks wouldn't ever check it.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669896295,"creation_date":1669896295,"answer_id":74641577,"question_id":74640683,"body_markdown":"The timeout for the `get` method only tells, when the execution of the `get` method should be stopped. It does not affect the computation of the result. This applies to all futures.\r\n\r\nSo, to interrupt a task, you would need to call `cancel(true)` but [in case of `CompletableFuture`] not even that will interrupt the task:\r\n\r\n&gt; ##### Parameters:\r\n&gt;  - `mayInterruptIfRunning` - this value has no effect in this implementation because interrupts are not used to control processing.”\r\n\r\nIf you want interruptible tasks, you need to use an [`ExecutorService`], but you can also use the same thread pool as `CompletableFuture`’s default executor:\r\n\r\n```java\r\npublic static void main(String[] args) throws InterruptedException, ExecutionException {\r\n    ExecutorService es = ForkJoinPool.commonPool();\r\n    Future&lt;Void&gt; c1 = es.submit(() -&gt; {\r\n        System.out.println(&quot;Start CF 1&quot;);\r\n        Thread.sleep(1000);\r\n        System.out.println(1);\r\n        return null;\r\n    });\r\n\r\n    Future&lt;Void&gt; c2 = es.submit(() -&gt; {\r\n        System.out.println(&quot;Start CF 2&quot;);\r\n        Thread.sleep(1000);\r\n        System.out.println(2);\r\n        return null;\r\n    });\r\n\r\n    long start = System.currentTimeMillis();\r\n    try {\r\n        c1.get(500, TimeUnit.MILLISECONDS);\r\n    } catch(TimeoutException e) {\r\n        c1.cancel(true);\r\n        System.out.println(&quot;timeout after &quot;\r\n                + (System.currentTimeMillis() - start) + &quot;ms, canceled&quot;);\r\n    }\r\n    c2.get();\r\n}\r\n```\r\nNote that the interruption may still be too slow to prevent the printing of `1`. On my machine, I needed at least `Thread.sleep(1100);` to interrupt the task before the printing.\r\n\r\n[in case of `CompletableFuture`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#cancel(boolean)\r\n[`ExecutorService`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html","title":"Shouldn&#39;t CompletableFuture.get(timeout) kill the task?","body":"<p>The timeout for the <code>get</code> method only tells, when the execution of the <code>get</code> method should be stopped. It does not affect the computation of the result. This applies to all futures.</p>\n<p>So, to interrupt a task, you would need to call <code>cancel(true)</code> but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#cancel(boolean)\" rel=\"nofollow noreferrer\">in case of <code>CompletableFuture</code></a> not even that will interrupt the task:</p>\n<blockquote>\n<h5>Parameters:</h5>\n<ul>\n<li><code>mayInterruptIfRunning</code> - this value has no effect in this implementation because interrupts are not used to control processing.”</li>\n</ul>\n</blockquote>\n<p>If you want interruptible tasks, you need to use an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>, but you can also use the same thread pool as <code>CompletableFuture</code>’s default executor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException, ExecutionException {\n    ExecutorService es = ForkJoinPool.commonPool();\n    Future&lt;Void&gt; c1 = es.submit(() -&gt; {\n        System.out.println(&quot;Start CF 1&quot;);\n        Thread.sleep(1000);\n        System.out.println(1);\n        return null;\n    });\n\n    Future&lt;Void&gt; c2 = es.submit(() -&gt; {\n        System.out.println(&quot;Start CF 2&quot;);\n        Thread.sleep(1000);\n        System.out.println(2);\n        return null;\n    });\n\n    long start = System.currentTimeMillis();\n    try {\n        c1.get(500, TimeUnit.MILLISECONDS);\n    } catch(TimeoutException e) {\n        c1.cancel(true);\n        System.out.println(&quot;timeout after &quot;\n                + (System.currentTimeMillis() - start) + &quot;ms, canceled&quot;);\n    }\n    c2.get();\n}\n</code></pre>\n<p>Note that the interruption may still be too slow to prevent the printing of <code>1</code>. On my machine, I needed at least <code>Thread.sleep(1100);</code> to interrupt the task before the printing.</p>\n"}],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74641081,"answer_count":2,"score":0,"last_activity_date":1669896295,"creation_date":1669891798,"question_id":74640683,"body_markdown":"I&#39;m running two instances of `CompletableFuture`, which wait 1 second and print something to the console. The first one I interrupt after 0.5 seconds. So I expect only the second one to print, but in fact both do. What&#39;s going on here?\r\n\r\nHere&#39;s the code:\r\n```\r\nCompletableFuture&lt;Void&gt; c1 = CompletableFuture.runAsync(() -&gt; {\r\n\tSystem.out.println(&quot;Start CF 1&quot;);\r\n\ttry {\r\n\t\tThread.sleep(1000);\r\n\t} catch (InterruptedException e) {\r\n\t\tthrow new RuntimeException(e);\r\n\t}\r\n\tSystem.out.println(1);\r\n});\r\n\r\nCompletableFuture&lt;Void&gt; c2 = CompletableFuture.runAsync(() -&gt; {\r\n\tSystem.out.println(&quot;Start CF 2&quot;);\r\n\ttry {\r\n\t\tThread.sleep(1000);\r\n\t} catch (InterruptedException e) {\r\n\t\tthrow new RuntimeException(e);\r\n\t}\r\n\tSystem.out.println(2);\r\n});\r\n\r\nlong start = System.currentTimeMillis();\r\ntry {\r\n\tc1.get(500, TimeUnit.MILLISECONDS);\r\n} catch (TimeoutException e) {\r\n\tSystem.out.println(&quot;CF interrupted after &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\r\n}\r\nc2.get();\r\n```\r\n\r\nAnd it prints:\r\n```\r\nStart CF 1\r\nStart CF 2\r\nCF interrupted after 510ms\r\n2\r\n1\r\n```\r\n","title":"Shouldn&#39;t CompletableFuture.get(timeout) kill the task?","body":"<p>I'm running two instances of <code>CompletableFuture</code>, which wait 1 second and print something to the console. The first one I interrupt after 0.5 seconds. So I expect only the second one to print, but in fact both do. What's going on here?</p>\n<p>Here's the code:</p>\n<pre><code>CompletableFuture&lt;Void&gt; c1 = CompletableFuture.runAsync(() -&gt; {\n    System.out.println(&quot;Start CF 1&quot;);\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n    System.out.println(1);\n});\n\nCompletableFuture&lt;Void&gt; c2 = CompletableFuture.runAsync(() -&gt; {\n    System.out.println(&quot;Start CF 2&quot;);\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n    System.out.println(2);\n});\n\nlong start = System.currentTimeMillis();\ntry {\n    c1.get(500, TimeUnit.MILLISECONDS);\n} catch (TimeoutException e) {\n    System.out.println(&quot;CF interrupted after &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\n}\nc2.get();\n</code></pre>\n<p>And it prints:</p>\n<pre><code>Start CF 1\nStart CF 2\nCF interrupted after 510ms\n2\n1\n</code></pre>\n"},{"tags":["java","spring","spring-boot","threadpool","hikaricp"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1669817105,"post_id":74627355,"comment_id":131729044,"body_markdown":"&#39;project lead asked me to use 4 threads - 1 thread to execute the service method and other 3 threads to execute the above said 3 methods&#39; - what is the rationale behind this request? It is generally a good idea to keep methods corresponding to a single unit of work on the same thread, as transactions do not span multiple threads. Please describe the actual use case a little better, then perhaps we might help","body":"&#39;project lead asked me to use 4 threads - 1 thread to execute the service method and other 3 threads to execute the above said 3 methods&#39; - what is the rationale behind this request? It is generally a good idea to keep methods corresponding to a single unit of work on the same thread, as transactions do not span multiple threads. Please describe the actual use case a little better, then perhaps we might help"},{"owner":{"account_id":4306986,"reputation":84,"user_id":3519122,"accept_rate":0,"display_name":"Kannan Sundararaj"},"score":0,"creation_date":1669872593,"post_id":74627355,"comment_id":131742882,"body_markdown":"the 3 methods take a common input and sends messages to different queues .","body":"the 3 methods take a common input and sends messages to different queues ."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1669895729,"post_id":74627355,"comment_id":131749470,"body_markdown":"Fair enough, but why does the enqueuing need to happen asynchronously? Couldn&#39;t those three methods just run serially?","body":"Fair enough, but why does the enqueuing need to happen asynchronously? Couldn&#39;t those three methods just run serially?"}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669896106,"creation_date":1669896106,"answer_id":74641546,"question_id":74627355,"body_markdown":"It would be helpful to understand *why* you feel you need to run those three methods in parallel. \r\n\r\nIn any case, you can solve/mitigate the issue by: \r\n\r\n* setting the [appropriate `connectionTimeout`, and `maximumPoolSize`](https://github.com/brettwooldridge/HikariCP#essentials) to make sure either the pool autoscales to meet the application demand, or the additional threads do not timeout while waiting for the connection to be released, and/or\r\n* making sure the time the connection is open during the execution of those three methods is as short as possible, e.g. the thread is not doing heavy calculations, file access etc. within a `@Transactional` method. \r\n\r\nRegarding the second bullet point, if you absolutely need the operations to be atomic, perhaps you could use optimistic locking (pull out the information you need and finish the unit of work there, do the heavylifting on a detached copy of the data, initiate another unit of work, see if the data changed in the meantime, and if so, retry the whole process, otherwise just update the data with your copy). ","title":"Thread not releasing jdbc connection in spring boot","body":"<p>It would be helpful to understand <em>why</em> you feel you need to run those three methods in parallel.</p>\n<p>In any case, you can solve/mitigate the issue by:</p>\n<ul>\n<li>setting the <a href=\"https://github.com/brettwooldridge/HikariCP#essentials\" rel=\"nofollow noreferrer\">appropriate <code>connectionTimeout</code>, and <code>maximumPoolSize</code></a> to make sure either the pool autoscales to meet the application demand, or the additional threads do not timeout while waiting for the connection to be released, and/or</li>\n<li>making sure the time the connection is open during the execution of those three methods is as short as possible, e.g. the thread is not doing heavy calculations, file access etc. within a <code>@Transactional</code> method.</li>\n</ul>\n<p>Regarding the second bullet point, if you absolutely need the operations to be atomic, perhaps you could use optimistic locking (pull out the information you need and finish the unit of work there, do the heavylifting on a detached copy of the data, initiate another unit of work, see if the data changed in the meantime, and if so, retry the whole process, otherwise just update the data with your copy).</p>\n"}],"owner":{"account_id":4306986,"reputation":84,"user_id":3519122,"accept_rate":0,"display_name":"Kannan Sundararaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669896106,"creation_date":1669809150,"question_id":74627355,"body_markdown":"We have a spring boot application whose starting point is an API. The API calls an interface say ITradeService which implements Callable. The ITradeService has a method service() which calls 7 methods in turn out of which the last three say method5() method6() and method7() are independent.\r\n\r\nIn the SIT,UAT environment for some reasons out of 4 nodes only one node is active and my project lead asked me to use 4 threads - 1 thread to execute the service method and other 3 threads to execute the above said 3 methods.\r\n\r\nWe have these three layers in our project\r\n\r\n - Controller(Rest API)\r\n - Service ITradeService    \r\n           TradeServiceImpl    \r\n           Type1TradeServiceImpl\r\n           Type2TradeServiceImpl\r\n           Type3TradeServiceImpl\r\n - DAO     CommonDao    Type1Dao    Type2Dao    Type3Dao\r\n\r\nWe use JdbcTemplate in each of our DAO classes.\r\n\r\nIn our application.yaml we have configured the hikari database connection pool as 2\r\n\r\nWhen i tried to execute the threads using ThreadPoolTaskExecutor for 4 requests the process is working as expected but when i send the 5th request it is saying\r\n\r\nCannotCreateTransactionException Could not open JDBC Connection for transaction\r\n\r\nI understand that the 4 threads are holding the JDBC Connection.\r\nI should make the threads release the JDBC connection and send it back to the hikari connection pool\r\nor\r\ni should close the threads upon task completion\r\n\r\nHow should i do it in a spring specific way?\r\n\r\n","title":"Thread not releasing jdbc connection in spring boot","body":"<p>We have a spring boot application whose starting point is an API. The API calls an interface say ITradeService which implements Callable. The ITradeService has a method service() which calls 7 methods in turn out of which the last three say method5() method6() and method7() are independent.</p>\n<p>In the SIT,UAT environment for some reasons out of 4 nodes only one node is active and my project lead asked me to use 4 threads - 1 thread to execute the service method and other 3 threads to execute the above said 3 methods.</p>\n<p>We have these three layers in our project</p>\n<ul>\n<li>Controller(Rest API)</li>\n<li>Service ITradeService<br />\nTradeServiceImpl<br />\nType1TradeServiceImpl\nType2TradeServiceImpl\nType3TradeServiceImpl</li>\n<li>DAO     CommonDao    Type1Dao    Type2Dao    Type3Dao</li>\n</ul>\n<p>We use JdbcTemplate in each of our DAO classes.</p>\n<p>In our application.yaml we have configured the hikari database connection pool as 2</p>\n<p>When i tried to execute the threads using ThreadPoolTaskExecutor for 4 requests the process is working as expected but when i send the 5th request it is saying</p>\n<p>CannotCreateTransactionException Could not open JDBC Connection for transaction</p>\n<p>I understand that the 4 threads are holding the JDBC Connection.\nI should make the threads release the JDBC connection and send it back to the hikari connection pool\nor\ni should close the threads upon task completion</p>\n<p>How should i do it in a spring specific way?</p>\n"},{"tags":["java","gradle","openapi-generator"],"owner":{"account_id":25700797,"reputation":11,"user_id":19460884,"display_name":"Denq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669896079,"creation_date":1669896079,"question_id":74641542,"body_markdown":"My generator setup looks like this\r\n\r\n```\r\ntask generateRbsModel(type: GenerateTask) {\r\n    generatorName = &quot;spring&quot;\r\n    inputSpec = &quot;$rootDir/...openapi.yaml&quot;\r\n    outputDir = &quot;${buildDir}/generate-resources/main&quot;\r\n    modelPackage = &quot;....model&quot;\r\n    generateModelTests = false\r\n    globalProperties = [\r\n            modelDocs: &quot;false&quot;,\r\n            apis: &quot;false&quot;,\r\n            models: &quot;&quot;\r\n    ]\r\n    configOptions = [\r\n            library: &quot;spring-boot&quot;,\r\n            dateLibrary: &quot;java8&quot;\r\n    ]\r\n}\r\n```\r\n\r\nI would like to override the toString() method so that when the class object is displayed, the fields c with the value null are not displayed\r\n```\r\nIs it possible to configure the generation of the toString method that will not display fields with null values?","title":"Generate toString method using OpenApi generator without outputting null values","body":"<p>My generator setup looks like this</p>\n<pre><code>task generateRbsModel(type: GenerateTask) {\n    generatorName = &quot;spring&quot;\n    inputSpec = &quot;$rootDir/...openapi.yaml&quot;\n    outputDir = &quot;${buildDir}/generate-resources/main&quot;\n    modelPackage = &quot;....model&quot;\n    generateModelTests = false\n    globalProperties = [\n            modelDocs: &quot;false&quot;,\n            apis: &quot;false&quot;,\n            models: &quot;&quot;\n    ]\n    configOptions = [\n            library: &quot;spring-boot&quot;,\n            dateLibrary: &quot;java8&quot;\n    ]\n}\n</code></pre>\n<p>I would like to override the toString() method so that when the class object is displayed, the fields c with the value null are not displayed</p>\n<pre><code>Is it possible to configure the generation of the toString method that will not display fields with null values?\n</code></pre>\n"},{"tags":["java","option-type"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1600356344,"post_id":63941255,"comment_id":113068540,"body_markdown":"Because `.orElseThrow()` returns `String` and not `Optional&lt;String&gt;`. You&#39;re chaining the `.map()` method, which is the way it&#39;s meant to be used.","body":"Because <code>.orElseThrow()</code> returns <code>String</code> and not <code>Optional&lt;String&gt;</code>. You&#39;re chaining the <code>.map()</code> method, which is the way it&#39;s meant to be used."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1600356384,"post_id":63941255,"comment_id":113068564,"body_markdown":"It returns a `String`. The first step (`map(...)`) maps the `Optional&lt;User&gt;` to an `Optional&lt;String&gt;`. The second step (`orElseThrow(...)`) unwraps the `Optional&lt;String&gt;`, thus returning a `String`. --- You can find the source code of `Optional::map` [here](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Optional.java#l210).","body":"It returns a <code>String</code>. The first step (<code>map(...)</code>) maps the <code>Optional&lt;User&gt;</code> to an <code>Optional&lt;String&gt;</code>. The second step (<code>orElseThrow(...)</code>) unwraps the <code>Optional&lt;String&gt;</code>, thus returning a <code>String</code>. --- You can find the source code of <code>Optional::map</code> <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Optional.java#l210\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600356535,"creation_date":1600356535,"answer_id":63941368,"question_id":63941255,"body_markdown":"You are totally correct.  The `map()` method returns an Optional, and I applaud your use of the javadoc.  The difference here is that you then invoke the `orElseThrow()` method *on that Optional* that `map()` returned.  If you refer to the [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-) for `orElseThrow()`, you will see that it returns &quot;the present value [of the Optional]&quot;.  In this case, that is a String.","title":"How does Optional.map() exactly works?","body":"<p>You are totally correct.  The <code>map()</code> method returns an Optional, and I applaud your use of the javadoc.  The difference here is that you then invoke the <code>orElseThrow()</code> method <em>on that Optional</em> that <code>map()</code> returned.  If you refer to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">javadoc</a> for <code>orElseThrow()</code>, you will see that it returns &quot;the present value [of the Optional]&quot;.  In this case, that is a String.</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669895753,"creation_date":1600357347,"answer_id":63941618,"question_id":63941255,"body_markdown":"The whole chain of operations returns a `String`:\r\n- The first step ([`map(...)`][OptionalMapAPI]) maps the `Optional&lt;User&gt;` to an `Optional&lt;String&gt;`.\r\n- The second step ([`orElseThrow(...)`][OptionalOrElseThrowAPI]) unwraps the `Optional&lt;String&gt;`, thus returning a `String` (or throwing an `IllegalArgumentException`, if empty).\r\n\r\nWe can find the source code of `Optional::map` [here][OptionalMapSources].\r\n\r\n[OptionalMapAPI]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\r\n[OptionalOrElseThrowAPI]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)\r\n[OptionalMapSources]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Optional.java#l210","title":"How does Optional.map() exactly works?","body":"<p>The whole chain of operations returns a <code>String</code>:</p>\n<ul>\n<li>The first step (<a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map(...)</code></a>) maps the <code>Optional&lt;User&gt;</code> to an <code>Optional&lt;String&gt;</code>.</li>\n<li>The second step (<a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>orElseThrow(...)</code></a>) unwraps the <code>Optional&lt;String&gt;</code>, thus returning a <code>String</code> (or throwing an <code>IllegalArgumentException</code>, if empty).</li>\n</ul>\n<p>We can find the source code of <code>Optional::map</code> <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Optional.java#l210\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10222,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":63941618,"answer_count":2,"score":2,"last_activity_date":1669895753,"creation_date":1600356105,"question_id":63941255,"body_markdown":"According to [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-), Optional.map() returns an Optional. \r\n\r\nIn the following snippet:\r\n    \r\n    public String getName(Long tpUserId) {\r\n        Optional&lt;TpUser&gt; selectedTpUser = tpUserRepo.findById(tpUserId);\r\n        return selectedTpUser.map(user -&gt; user.getFirstName() + &quot; &quot; + user.getSurName())\r\n            .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No user found for this id&quot;));\r\n      }\r\n\r\nit looks like, I want to return a String but I get an Optional&lt;String&gt;. Nevertheless there is no compile error. Why?\r\n","title":"How does Optional.map() exactly works?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">javadoc</a>, Optional.map() returns an Optional.</p>\n<p>In the following snippet:</p>\n<pre><code>public String getName(Long tpUserId) {\n    Optional&lt;TpUser&gt; selectedTpUser = tpUserRepo.findById(tpUserId);\n    return selectedTpUser.map(user -&gt; user.getFirstName() + &quot; &quot; + user.getSurName())\n        .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No user found for this id&quot;));\n  }\n</code></pre>\n<p>it looks like, I want to return a String but I get an Optional. Nevertheless there is no compile error. Why?</p>\n"},{"tags":["java","node.js","android-studio","firebase-realtime-database","google-cloud-functions"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1669820311,"post_id":74629408,"comment_id":131730450,"body_markdown":"It sounds like you want to [notify users when something interesting happens in the database](https://firebase.google.com/docs/functions/use-cases#notify_users_when_something_interesting_happens), so I recommend checking out that section in the documentation.","body":"It sounds like you want to <a href=\"https://firebase.google.com/docs/functions/use-cases#notify_users_when_something_interesting_happens\" rel=\"nofollow noreferrer\">notify users when something interesting happens in the database</a>, so I recommend checking out that section in the documentation."},{"owner":{"account_id":26035811,"reputation":17,"user_id":19741271,"display_name":"Timow"},"score":0,"creation_date":1669820505,"post_id":74629408,"comment_id":131730540,"body_markdown":"Thank you I will check on that! @FrankvanPuffelen","body":"Thank you I will check on that! @FrankvanPuffelen"}],"owner":{"account_id":26035811,"reputation":17,"user_id":19741271,"display_name":"Timow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669820345,"answer_count":0,"score":0,"last_activity_date":1669895729,"creation_date":1669818538,"question_id":74629408,"body_markdown":"I have this project with two applications, an admin and a client application. This project is an SOS application, wherein the admin application is the response to the emergency, and the client application is the user requesting help. What I want to happen is that whenever a user request help(adds data on firebase real-time database), the cloud function will listen to that and calls the notification function in my admin application that will notify all the admin accounts.","title":"How to call a function using node.js in my android application when data is added in firebase realtime database","body":"<p>I have this project with two applications, an admin and a client application. This project is an SOS application, wherein the admin application is the response to the emergency, and the client application is the user requesting help. What I want to happen is that whenever a user request help(adds data on firebase real-time database), the cloud function will listen to that and calls the notification function in my admin application that will notify all the admin accounts.</p>\n"},{"tags":["java","json","jackson","deserialization","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669895125,"creation_date":1669895125,"answer_id":74641366,"question_id":74641023,"body_markdown":"There are the Jacksons mixins for exactly this case, a super useful feature!\r\n\r\nFor your case, define the mixin class and annotate it as if you were annotating the original; you only need to include the overrides, e.g.:\r\n\r\n```java\r\n@JsonIgnoreProperties({ &quot;id&quot; })\r\npublic class ResultMixin {\r\n  // nothing else required!\r\n}\r\n```\r\n\r\nNow, you will have to hook on the `ObjectMapper` creation to define the mixin. This depends on the framework you are using, but in the end it should look like this:\r\n\r\n```java\r\nObjectMapper om = ...\r\nom.addMixIn(Result.class, ResultMixin.class);\r\n```\r\n\r\nNow this `ObjectMapper` will take into account the information from you mixin to serialize objects of type `Result` (and ignore the synthetic `id` property).","title":"Modify JSON AST whilst deserializing without annotations","body":"<p>There are the Jacksons mixins for exactly this case, a super useful feature!</p>\n<p>For your case, define the mixin class and annotate it as if you were annotating the original; you only need to include the overrides, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties({ &quot;id&quot; })\npublic class ResultMixin {\n  // nothing else required!\n}\n</code></pre>\n<p>Now, you will have to hook on the <code>ObjectMapper</code> creation to define the mixin. This depends on the framework you are using, but in the end it should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper om = ...\nom.addMixIn(Result.class, ResultMixin.class);\n</code></pre>\n<p>Now this <code>ObjectMapper</code> will take into account the information from you mixin to serialize objects of type <code>Result</code> (and ignore the synthetic <code>id</code> property).</p>\n"},{"tags":[],"owner":{"account_id":23739,"reputation":4125,"user_id":59724,"accept_rate":33,"display_name":"Graham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669895685,"creation_date":1669895685,"answer_id":74641467,"question_id":74641023,"body_markdown":"And, of course, I&#39;ve just found out how to do it :)\r\n\r\nI can use `BeanDeserializerModifier` instead to make things act as needed.\r\n\r\n```java\r\npublic class MyDeserializerModifier extends BeanDeserializerModifier {\r\n    @Override\r\n    public List&lt;BeanPropertyDefinition&gt; updateProperties(final DeserializationConfig config,\r\n        final BeanDescription beanDesc, final List&lt;BeanPropertyDefinition&gt; propDefs) {\r\n        if (beanDesc.getBeanClass().equals(Result.class)) {\r\n            propDefs.removeIf(prop -&gt; prop.getName().equals(&quot;id&quot;));\r\n        }\r\n\r\n        return super.updateProperties(config, beanDesc, propDefs);\r\n    }\r\n\r\n    @Override\r\n    public BeanDeserializerBuilder updateBuilder(final DeserializationConfig config, final BeanDescription beanDesc,\r\n        final BeanDeserializerBuilder builder) {\r\n        if (beanDesc.getBeanClass().equals(Result.class)) {\r\n            builder.addIgnorable(&quot;id&quot;);\r\n        }\r\n\r\n        return super.updateBuilder(config, beanDesc, builder);\r\n    }\r\n}\r\n\r\n```","title":"Modify JSON AST whilst deserializing without annotations","body":"<p>And, of course, I've just found out how to do it :)</p>\n<p>I can use <code>BeanDeserializerModifier</code> instead to make things act as needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDeserializerModifier extends BeanDeserializerModifier {\n    @Override\n    public List&lt;BeanPropertyDefinition&gt; updateProperties(final DeserializationConfig config,\n        final BeanDescription beanDesc, final List&lt;BeanPropertyDefinition&gt; propDefs) {\n        if (beanDesc.getBeanClass().equals(Result.class)) {\n            propDefs.removeIf(prop -&gt; prop.getName().equals(&quot;id&quot;));\n        }\n\n        return super.updateProperties(config, beanDesc, propDefs);\n    }\n\n    @Override\n    public BeanDeserializerBuilder updateBuilder(final DeserializationConfig config, final BeanDescription beanDesc,\n        final BeanDeserializerBuilder builder) {\n        if (beanDesc.getBeanClass().equals(Result.class)) {\n            builder.addIgnorable(&quot;id&quot;);\n        }\n\n        return super.updateBuilder(config, beanDesc, builder);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23739,"reputation":4125,"user_id":59724,"accept_rate":33,"display_name":"Graham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74641366,"answer_count":2,"score":0,"last_activity_date":1669895685,"creation_date":1669893446,"question_id":74641023,"body_markdown":"I&#39;m trying to write some code that will deserialize JSON into *somebody elses class*. That is, I don&#39;t own the target class so I can&#39;t annotate it.\r\n\r\nIn particular, this class has some helper methods that are complicating the deserialization process. Something like this:\r\n\r\n```java\r\nclass Result {\r\n  private List&lt;String&gt; ids;\r\n\r\n  public List&lt;String&gt; getIds() {\r\n    return ids;\r\n  }\r\n\r\n  public void setIds(List&lt;String&gt; ids) {\r\n    this.ids = ids;\r\n  }\r\n\r\n  // Helpers\r\n  public String getId() {\r\n    return this.ids.isEmpty() ? null : this.ids.get(0);\r\n  }\r\n\r\n  public void setId(String id) {\r\n    this.ids = List.of(id);\r\n  }\r\n}\r\n```\r\n\r\nWhen serialized, we get both `ids` and `id` come through as fields:\r\n```json\r\n{\r\n  &quot;ids&quot;: [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;],\r\n  &quot;id&quot;: &quot;1&quot;\r\n}\r\n```\r\n\r\nAnd then when deserializing this JSON, Jackson is calling both setters - reasonably enough - and thus the object is wrong. The end result is that the `ids` field is set to `[&quot;1&quot;]` and *not* `[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]` as it should be.\r\n\r\nSo what I want to be able to do is fix this. And I&#39;m thinking that the easiest/safest/best way is to be able to modify the JSON AST somewhere in the deserializing process. Specifically by just removing the &quot;id&quot; field from the JSON so that it doesn&#39;t get seen by the standard deserializer. (I know this works by doing it manually with string manipulation, but that&#39;s awful)\r\n\r\nI could write a full deserializer for all the fields, but then I&#39;m beholden to maintaining it if any new fields are added in the future, when all I actually want to do is ignore one single field and have everything else processed as normal. The real class actually has about a dozen fields at present, and I can&#39;t guarantee that it won&#39;t change in the future.\r\n\r\nWhat I can&#39;t work out is how to do this. I was really hoping there was just some standard `JsonDeserializer` subclass that would let me do this, but I can&#39;t find one. The best I&#39;ve been able to work out is a normal `StdDeserializer` that then uses `parser.getCodec().treeToValue()` - courtesty of [this answer](https://stackoverflow.com/a/53053393/59724) - except that this results in an infinite loop as it calls back into the exact same deserializer every time!\r\n\r\nFrustratingly, most answers to this problem are &quot;Just annotate the class&quot; - and that&#39;s not an option here!\r\n\r\nIs there a standard way to achieve this?\r\n\r\nCheers","title":"Modify JSON AST whilst deserializing without annotations","body":"<p>I'm trying to write some code that will deserialize JSON into <em>somebody elses class</em>. That is, I don't own the target class so I can't annotate it.</p>\n<p>In particular, this class has some helper methods that are complicating the deserialization process. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Result {\n  private List&lt;String&gt; ids;\n\n  public List&lt;String&gt; getIds() {\n    return ids;\n  }\n\n  public void setIds(List&lt;String&gt; ids) {\n    this.ids = ids;\n  }\n\n  // Helpers\n  public String getId() {\n    return this.ids.isEmpty() ? null : this.ids.get(0);\n  }\n\n  public void setId(String id) {\n    this.ids = List.of(id);\n  }\n}\n</code></pre>\n<p>When serialized, we get both <code>ids</code> and <code>id</code> come through as fields:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ids&quot;: [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;],\n  &quot;id&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>And then when deserializing this JSON, Jackson is calling both setters - reasonably enough - and thus the object is wrong. The end result is that the <code>ids</code> field is set to <code>[&quot;1&quot;]</code> and <em>not</em> <code>[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</code> as it should be.</p>\n<p>So what I want to be able to do is fix this. And I'm thinking that the easiest/safest/best way is to be able to modify the JSON AST somewhere in the deserializing process. Specifically by just removing the &quot;id&quot; field from the JSON so that it doesn't get seen by the standard deserializer. (I know this works by doing it manually with string manipulation, but that's awful)</p>\n<p>I could write a full deserializer for all the fields, but then I'm beholden to maintaining it if any new fields are added in the future, when all I actually want to do is ignore one single field and have everything else processed as normal. The real class actually has about a dozen fields at present, and I can't guarantee that it won't change in the future.</p>\n<p>What I can't work out is how to do this. I was really hoping there was just some standard <code>JsonDeserializer</code> subclass that would let me do this, but I can't find one. The best I've been able to work out is a normal <code>StdDeserializer</code> that then uses <code>parser.getCodec().treeToValue()</code> - courtesty of <a href=\"https://stackoverflow.com/a/53053393/59724\">this answer</a> - except that this results in an infinite loop as it calls back into the exact same deserializer every time!</p>\n<p>Frustratingly, most answers to this problem are &quot;Just annotate the class&quot; - and that's not an option here!</p>\n<p>Is there a standard way to achieve this?</p>\n<p>Cheers</p>\n"},{"tags":["java","cucumber-java"],"owner":{"account_id":25803908,"reputation":11,"user_id":19545763,"display_name":"Daffa FPintu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669895547,"creation_date":1669895547,"question_id":74641434,"body_markdown":"i just activate in my code\r\n\r\n```\r\ncucumber.publish.enabled = true\r\n```\r\n\r\nand the link has successfully generated\r\n\r\n│ View your Cucumber Report at:                                            │\r\n\r\n│ https://reports.cucumber.io/reports/eec74059-cf30-4771-85ea-5e12779d2629 \r\n\r\nthe problem i want to share the link to slack, how do i get the link from command line ? thank you","title":"how do i get link publishing cucumber report in java","body":"<p>i just activate in my code</p>\n<pre><code>cucumber.publish.enabled = true\n</code></pre>\n<p>and the link has successfully generated</p>\n<p>│ View your Cucumber Report at:                                            │</p>\n<p>│ <a href=\"https://reports.cucumber.io/reports/eec74059-cf30-4771-85ea-5e12779d2629\" rel=\"nofollow noreferrer\">https://reports.cucumber.io/reports/eec74059-cf30-4771-85ea-5e12779d2629</a></p>\n<p>the problem i want to share the link to slack, how do i get the link from command line ? thank you</p>\n"},{"tags":["java","android","android-room","android-viewpager2"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1669873396,"post_id":74636501,"comment_id":131743007,"body_markdown":"I&#39;m sure that you execute `updateSingleVocabularyCard` in a background thread don&#39;t ya?","body":"I&#39;m sure that you execute <code>updateSingleVocabularyCard</code> in a background thread don&#39;t ya?"}],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669895536,"creation_date":1669894546,"answer_id":74641242,"question_id":74636501,"body_markdown":"There are several ways to propagate an event from the adapter to the activity where you manage your cards using `ViewPager2`. Let&#39;s have a look how it can be done either using an interface or using the same view model. But in any case I strongly recommend you to update your database in a background thread to prevent any possible UI lags.\r\n\r\n### 1. Using an interface\r\nThis option is more flexible since you can propagate events as well as pass data as parameters. You can also reuse this interface for other cases. As far as I See you have a holder that has 2 buttons for the users to make choices. So our event here would be something like `ChoiceEventListener`, let&#39;s call this interface like so. Then you&#39;d have to add a method to handle this event from within anywhere you wanna hear this event, and let&#39;s call its handle method `onChoice()`. Finally we would need a variable to indicate what the choice is. Now that ready to implement, let&#39;s write the new interface...  \r\n\r\n**ChoiceEventListener.java**\r\n```lang-java\r\npublic interface ChoiceEventListener {\r\n    void onChoice(VocabularyCard vocabularyCard, boolean choice);\r\n}\r\n```\r\n\r\nThe next thing to do is to implement this interface where you want to listen to this event. In this case it is in your activity. There are 2 ways to do this:\r\n1. You make your activity to inherit its methods using the `implements` keyword  \r\n**YourActivity.java**\r\n```lang-java\r\npublic class YourActivity extends AppCompatActivity implements ChoiceEventListener {\r\n\r\n    // Use a background thread for database operations\r\n    private Executor executor = Executors.newSingleThreadExecutor();\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_test);\r\n        initAll();\r\n\r\n        // You must construct your adapter class with the listener\r\n        ViewPager2Adapter adapter = new ViewPager2Adapter(/* Other params... */, this);\r\n    }\r\n\r\n    @Override\r\n    public void onChoice(VocabularyCard vocabularyCard, boolean choice) {\r\n        if(choice) {\r\n            // User pressed the correct button\r\n        }\r\n        else {\r\n            // User pressed the false button\r\n        }\r\n\r\n        // Update card in the background\r\n        executor.execute(()-&gt; vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard));\r\n    }\r\n}\r\n```\r\n2. You can implement it as an anonymous function  \r\n**YourActivity.java**\r\n```lang-java\r\npublic class YourActivity extends AppCompatActivity {\r\n\r\n    // Use a background thread for database operations\r\n    private Executor executor = Executors.newSingleThreadExecutor();\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_test);\r\n        initAll();\r\n\r\n        // You must construct your adapter class with the listener\r\n        ViewPager2Adapter adapter = new ViewPager2Adapter(/* Other params... */, (vocabularyCard, choice) -&gt; {\r\n            if(choice) {\r\n                // User pressed the correct button\r\n            }\r\n            else {\r\n                // User pressed the false button\r\n            }\r\n\r\n            // Update card in the background\r\n            executor.execute(()-&gt; vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard));\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nFinally the ViewPager2Adapter class implementation would be something like this:\r\n**ViewPager2Adapter.java**\r\n```lang-java\r\npublic class ViewPager2Adapter extends RecyclerView.Adapter&lt;ViewPager2ViewHolder&gt; {\r\n\r\n    // Here is your listener to deliver the choice event to it\r\n    private final ChoiceEventListener listener;\r\n\r\n    // Constructor\r\n    public ViewPager2Adapter(/* Other params... */, ChoiceEventListener listener) {\r\n        /* Other inits */\r\n        this.listener = listener;\r\n    }\r\n\r\n\r\n    public void onBindViewHolder(@NonNull @NotNull ViewHolder holder, int position) {\r\n        VocabularyCard vocabularyCard = currentCards.get(position);\r\n        holder.btn_correct.setOnClickListener(view -&gt; {\r\n            listener.onChoice(vocabularyCard, true); // true for correct\r\n        });\r\n        holder.btn_false.setOnClickListener(v15 -&gt; {\r\n            listener.onChoice(vocabularyCard, false); // false for false :)\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n### 2. Use the ViewModel for inter-communication\r\nIn this option we use a `LiveData` object to make page switching. The only thing you need to know in your activity is the current position which you get it from the adapter class. Once you update it in the adapter, set the current position value in live data so that you can switch the page in your activity.  \r\n\r\n**VocabularyViewModel.java**\r\n```lang-java\r\npublic class VocabularyViewModel extends ViewModel {\r\n    public MutableLiveData&lt;Integer&gt; mldCurrentPosition = new MutableLiveData&lt;&gt;(0);\r\n}\r\n```\r\n\r\n**YourActivity.java**\r\n```lang-java\r\npublic class YourActivity extends AppCompatActivity {\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_test);\r\n        initAll();\r\n\r\n        vocabularyViewModel.mldCurrentPosition().observe(this, currentPosition -&gt; {\r\n            if(currenPosition == null) return; // ignore when null\r\n            viewpager2.setCurrentItem(currentPosition + 1);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFinally the ViewPager2Adapter class implementation would be something like this:\r\n**ViewPager2Adapter.java**\r\n```lang-java\r\npublic class ViewPager2Adapter extends RecyclerView.Adapter&lt;ViewPager2ViewHolder&gt; {\r\n\r\n    // Use a background thread for database operations\r\n    private Executor executor = Executors.newSingleThreadExecutor();\r\n\r\n    public void onBindViewHolder(@NonNull @NotNull ViewHolder holder, int position) {\r\n        VocabularyCard vocabularyCard = currentCards.get(position);\r\n        holder.btn_correct.setOnClickListener(view -&gt; {\r\n            // Update card in the background\r\n            executor.execute(()-&gt; vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard));\r\n            // Then invoke switching to the next card\r\n            vocabularyViewModel.mldCurrentPosition.setValue(position + 1);\r\n        });\r\n        holder.btn_false.setOnClickListener(v15 -&gt; {\r\n            // Update card in the background\r\n            executor.execute(()-&gt; vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard));\r\n            // Then invoke switching to the next card\r\n            vocabularyViewModel.mldCurrentPosition.setValue(position + 1);\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"How can you change ViewPager2 position inside the ViewPager2Adapter?","body":"<p>There are several ways to propagate an event from the adapter to the activity where you manage your cards using <code>ViewPager2</code>. Let's have a look how it can be done either using an interface or using the same view model. But in any case I strongly recommend you to update your database in a background thread to prevent any possible UI lags.</p>\n<h3>1. Using an interface</h3>\n<p>This option is more flexible since you can propagate events as well as pass data as parameters. You can also reuse this interface for other cases. As far as I See you have a holder that has 2 buttons for the users to make choices. So our event here would be something like <code>ChoiceEventListener</code>, let's call this interface like so. Then you'd have to add a method to handle this event from within anywhere you wanna hear this event, and let's call its handle method <code>onChoice()</code>. Finally we would need a variable to indicate what the choice is. Now that ready to implement, let's write the new interface...</p>\n<p><strong>ChoiceEventListener.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ChoiceEventListener {\n    void onChoice(VocabularyCard vocabularyCard, boolean choice);\n}\n</code></pre>\n<p>The next thing to do is to implement this interface where you want to listen to this event. In this case it is in your activity. There are 2 ways to do this:</p>\n<ol>\n<li>You make your activity to inherit its methods using the <code>implements</code> keyword<br />\n<strong>YourActivity.java</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourActivity extends AppCompatActivity implements ChoiceEventListener {\n\n    // Use a background thread for database operations\n    private Executor executor = Executors.newSingleThreadExecutor();\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n        initAll();\n\n        // You must construct your adapter class with the listener\n        ViewPager2Adapter adapter = new ViewPager2Adapter(/* Other params... */, this);\n    }\n\n    @Override\n    public void onChoice(VocabularyCard vocabularyCard, boolean choice) {\n        if(choice) {\n            // User pressed the correct button\n        }\n        else {\n            // User pressed the false button\n        }\n\n        // Update card in the background\n        executor.execute(()-&gt; vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard));\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>You can implement it as an anonymous function<br />\n<strong>YourActivity.java</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourActivity extends AppCompatActivity {\n\n    // Use a background thread for database operations\n    private Executor executor = Executors.newSingleThreadExecutor();\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n        initAll();\n\n        // You must construct your adapter class with the listener\n        ViewPager2Adapter adapter = new ViewPager2Adapter(/* Other params... */, (vocabularyCard, choice) -&gt; {\n            if(choice) {\n                // User pressed the correct button\n            }\n            else {\n                // User pressed the false button\n            }\n\n            // Update card in the background\n            executor.execute(()-&gt; vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard));\n        });\n    }\n}\n</code></pre>\n<p>Finally the ViewPager2Adapter class implementation would be something like this:\n<strong>ViewPager2Adapter.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ViewPager2Adapter extends RecyclerView.Adapter&lt;ViewPager2ViewHolder&gt; {\n\n    // Here is your listener to deliver the choice event to it\n    private final ChoiceEventListener listener;\n\n    // Constructor\n    public ViewPager2Adapter(/* Other params... */, ChoiceEventListener listener) {\n        /* Other inits */\n        this.listener = listener;\n    }\n\n\n    public void onBindViewHolder(@NonNull @NotNull ViewHolder holder, int position) {\n        VocabularyCard vocabularyCard = currentCards.get(position);\n        holder.btn_correct.setOnClickListener(view -&gt; {\n            listener.onChoice(vocabularyCard, true); // true for correct\n        });\n        holder.btn_false.setOnClickListener(v15 -&gt; {\n            listener.onChoice(vocabularyCard, false); // false for false :)\n        });\n    }\n}\n</code></pre>\n<h3>2. Use the ViewModel for inter-communication</h3>\n<p>In this option we use a <code>LiveData</code> object to make page switching. The only thing you need to know in your activity is the current position which you get it from the adapter class. Once you update it in the adapter, set the current position value in live data so that you can switch the page in your activity.</p>\n<p><strong>VocabularyViewModel.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class VocabularyViewModel extends ViewModel {\n    public MutableLiveData&lt;Integer&gt; mldCurrentPosition = new MutableLiveData&lt;&gt;(0);\n}\n</code></pre>\n<p><strong>YourActivity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourActivity extends AppCompatActivity {\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n        initAll();\n\n        vocabularyViewModel.mldCurrentPosition().observe(this, currentPosition -&gt; {\n            if(currenPosition == null) return; // ignore when null\n            viewpager2.setCurrentItem(currentPosition + 1);\n        }\n    }\n}\n</code></pre>\n<p>Finally the ViewPager2Adapter class implementation would be something like this:\n<strong>ViewPager2Adapter.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ViewPager2Adapter extends RecyclerView.Adapter&lt;ViewPager2ViewHolder&gt; {\n\n    // Use a background thread for database operations\n    private Executor executor = Executors.newSingleThreadExecutor();\n\n    public void onBindViewHolder(@NonNull @NotNull ViewHolder holder, int position) {\n        VocabularyCard vocabularyCard = currentCards.get(position);\n        holder.btn_correct.setOnClickListener(view -&gt; {\n            // Update card in the background\n            executor.execute(()-&gt; vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard));\n            // Then invoke switching to the next card\n            vocabularyViewModel.mldCurrentPosition.setValue(position + 1);\n        });\n        holder.btn_false.setOnClickListener(v15 -&gt; {\n            // Update card in the background\n            executor.execute(()-&gt; vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard));\n            // Then invoke switching to the next card\n            vocabularyViewModel.mldCurrentPosition.setValue(position + 1);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10602603,"reputation":13,"user_id":7809106,"display_name":"MBAdonis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74641242,"answer_count":1,"score":1,"last_activity_date":1669895536,"creation_date":1669863558,"question_id":74636501,"body_markdown":"I programmed a Vocabulary Trainer with Vocabulary Cards. The Vocabulary Cards are Entries in a Room Database created from an asset. I am displaying these Vocabulary Cards with ViewPager2 in an Activity. I have a &#39;correct&#39; and a &#39;false&#39; button and when the user clicks on either, I want to update the Vocabulary Card (-&gt; The entry in the sqlite database) and automatically swipe to the next item of the ViewPager2.\r\n\r\nIf I implement the buttons in the ViewPager2Adapter, I can&#39;t find a way to change the position of the ViewPager2. If I implement the buttons in the activity the sqlite entry does not update properly (After it updates the entry, the activity is constantly refreshed, it seems like it never the leaves the OnClick methode of the button).\r\n\r\nSo is it possible to change the position of ViewPager2 from inside the ViewPager2Adpater?\r\n\r\nThanks for your help!\r\n\r\n\r\nThat is the relevant code if I have the buttons in my ViewPager2Adapter. Here I don&#39;t know how to change the position of the ViewPager2\r\n```\r\npublic void onBindViewHolder(@NonNull @NotNull ViewHolder holder, int position) {\r\n    VocabularyCard vocabularyCard = currentCards.get(position);\r\n    holder.btn_correct.setOnClickListener(view -&gt; {\r\n        vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard);\r\n    });\r\n    holder.btn_false.setOnClickListener(v15 -&gt; {\r\n        vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard);\r\n    });\r\n\r\n\r\n```\r\nThat is the relevant code if I have the buttons in the Activity. Here the update function triggers an infinite updating of the Activity:\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_test);\r\n    initAll();\r\n\r\n    btn_correct_2.setOnClickListener(view -&gt; {\r\n        int currentPos = viewpager2.getCurrentItem();\r\n        vocabularyViewModel.getCurrentCards().observe(this, vocabularyCards -&gt; {\r\n            if (vocabularyCards.size() == currentPos){\r\n                Intent intent = new Intent(TestActivity.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }else {\r\n                viewpager2.setCurrentItem(currentPos + 1);\r\n            }\r\n            VocabularyCard vocabularyCard = vocabularyCards.get(currentPos);\r\n            vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard);\r\n        });\r\n\r\n    });\r\n    btn_false_2.setOnClickListener(view -&gt; {\r\n        int currentPos = viewpager2.getCurrentItem();\r\n        vocabularyViewModel.getCurrentCards().observe(this, vocabularyCards -&gt; {\r\n            if (vocabularyCards.size() == currentPos){\r\n                Intent intent = new Intent(TestActivity.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }else {\r\n                viewpager2.setCurrentItem(currentPos + 1);\r\n            }\r\n            VocabularyCard vocabularyCard = vocabularyCards.get(currentPos);\r\n            vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard);\r\n        });\r\n\r\n    });\r\n\r\n\r\n\r\n\r\n   \r\n        Objects.requireNonNull(getSupportActionBar()).setTitle(getResources().getString(R.string.learn_new_words));\r\n        LiveData&lt;List&lt;VocabularyCard&gt;&gt; allNewCards = vocabularyViewModel.getAllNewCards(goal);\r\n        allNewCards.observe(this, vocabularyCards -&gt; vocabularyViewModel.setCurrentCards(vocabularyCards));\r\n        vocabularyViewModel.getCurrentCards().observe(this, vocabularyCards -&gt; {\r\n            viewPager2Adapter.setCurrentCards(vocabularyCards);\r\n            viewpager2.setAdapter(viewPager2Adapter);\r\n            viewpager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n                @Override\r\n                public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n                    super.onPageScrolled(position, positionOffset, positionOffsetPixels);\r\n                }\r\n\r\n                @Override\r\n                public void onPageSelected(int position) {\r\n                    super.onPageSelected(position);\r\n                }\r\n\r\n                @Override\r\n                public void onPageScrollStateChanged(int state) {\r\n                    super.onPageScrollStateChanged(state);\r\n                }\r\n            });\r\n        });\r\n   \r\n```\r\nThe update function in the Room DAO is straightforward:\r\n\r\n```\r\n@Update\r\nvoid updateSingleVocabularyCard(VocabularyCard vocabularyCard);\r\n```\r\n\r\n\r\nI left out all the code that is not relevant.","title":"How can you change ViewPager2 position inside the ViewPager2Adapter?","body":"<p>I programmed a Vocabulary Trainer with Vocabulary Cards. The Vocabulary Cards are Entries in a Room Database created from an asset. I am displaying these Vocabulary Cards with ViewPager2 in an Activity. I have a 'correct' and a 'false' button and when the user clicks on either, I want to update the Vocabulary Card (-&gt; The entry in the sqlite database) and automatically swipe to the next item of the ViewPager2.</p>\n<p>If I implement the buttons in the ViewPager2Adapter, I can't find a way to change the position of the ViewPager2. If I implement the buttons in the activity the sqlite entry does not update properly (After it updates the entry, the activity is constantly refreshed, it seems like it never the leaves the OnClick methode of the button).</p>\n<p>So is it possible to change the position of ViewPager2 from inside the ViewPager2Adpater?</p>\n<p>Thanks for your help!</p>\n<p>That is the relevant code if I have the buttons in my ViewPager2Adapter. Here I don't know how to change the position of the ViewPager2</p>\n<pre><code>public void onBindViewHolder(@NonNull @NotNull ViewHolder holder, int position) {\n    VocabularyCard vocabularyCard = currentCards.get(position);\n    holder.btn_correct.setOnClickListener(view -&gt; {\n        vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard);\n    });\n    holder.btn_false.setOnClickListener(v15 -&gt; {\n        vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard);\n    });\n\n\n</code></pre>\n<p>That is the relevant code if I have the buttons in the Activity. Here the update function triggers an infinite updating of the Activity:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_test);\n    initAll();\n\n    btn_correct_2.setOnClickListener(view -&gt; {\n        int currentPos = viewpager2.getCurrentItem();\n        vocabularyViewModel.getCurrentCards().observe(this, vocabularyCards -&gt; {\n            if (vocabularyCards.size() == currentPos){\n                Intent intent = new Intent(TestActivity.this, MainActivity.class);\n                startActivity(intent);\n            }else {\n                viewpager2.setCurrentItem(currentPos + 1);\n            }\n            VocabularyCard vocabularyCard = vocabularyCards.get(currentPos);\n            vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard);\n        });\n\n    });\n    btn_false_2.setOnClickListener(view -&gt; {\n        int currentPos = viewpager2.getCurrentItem();\n        vocabularyViewModel.getCurrentCards().observe(this, vocabularyCards -&gt; {\n            if (vocabularyCards.size() == currentPos){\n                Intent intent = new Intent(TestActivity.this, MainActivity.class);\n                startActivity(intent);\n            }else {\n                viewpager2.setCurrentItem(currentPos + 1);\n            }\n            VocabularyCard vocabularyCard = vocabularyCards.get(currentPos);\n            vocabularyViewModel.updateSingleVocabularyCard(vocabularyCard);\n        });\n\n    });\n\n\n\n\n   \n        Objects.requireNonNull(getSupportActionBar()).setTitle(getResources().getString(R.string.learn_new_words));\n        LiveData&lt;List&lt;VocabularyCard&gt;&gt; allNewCards = vocabularyViewModel.getAllNewCards(goal);\n        allNewCards.observe(this, vocabularyCards -&gt; vocabularyViewModel.setCurrentCards(vocabularyCards));\n        vocabularyViewModel.getCurrentCards().observe(this, vocabularyCards -&gt; {\n            viewPager2Adapter.setCurrentCards(vocabularyCards);\n            viewpager2.setAdapter(viewPager2Adapter);\n            viewpager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n                @Override\n                public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n                    super.onPageScrolled(position, positionOffset, positionOffsetPixels);\n                }\n\n                @Override\n                public void onPageSelected(int position) {\n                    super.onPageSelected(position);\n                }\n\n                @Override\n                public void onPageScrollStateChanged(int state) {\n                    super.onPageScrollStateChanged(state);\n                }\n            });\n        });\n   \n</code></pre>\n<p>The update function in the Room DAO is straightforward:</p>\n<pre><code>@Update\nvoid updateSingleVocabularyCard(VocabularyCard vocabularyCard);\n</code></pre>\n<p>I left out all the code that is not relevant.</p>\n"},{"tags":["java","xml","scala","go","influxdb"],"owner":{"account_id":27110356,"reputation":11,"user_id":20655593,"display_name":"Yalcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669895494,"creation_date":1669895494,"question_id":74641429,"body_markdown":"I want to extract data from EMC Recovery Point with scala and influxdb and transfer it to influxdb. I was able to pull the data, but I had a problem transferring the data. The data does not appear in influxdb. I&#39;m having problems transferring data.\r\n\r\nI am sharing my collector.xml file and influxdb.scala, collector.scala, output.scala, RP.scala files below. I think there is an error in my output.scala file.(RP = Recovery Point)\r\n\r\n`My Collector.xml file`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;collector&gt;\r\n  &lt;extractors&gt;\r\n    &lt;extractor name=&quot;rp&quot;&gt;\r\n      &lt;baseUrl&gt;https://MY-RP-IP:7225/fapi/rest/5_1&lt;/baseUrl&gt;\r\n    &lt;/extractor&gt;\r\n  &lt;/extractors&gt;\r\n  &lt;outputs&gt;\r\n    &lt;output name=&quot;influxdb&quot;&gt;\r\n      &lt;type&gt;influxdb&lt;/type&gt;\r\n      &lt;address&gt;MY-Influxdb-IP&lt;/address&gt;\r\n      &lt;port&gt;8086&lt;/port&gt;\r\n      &lt;dbname&gt;RP&lt;/dbname&gt;\r\n    &lt;/output&gt;\r\n  &lt;/outputs&gt;\r\n  &lt;systems&gt;\r\n    &lt;system&gt;\r\n      &lt;name&gt;rp01&lt;/name&gt;\r\n      &lt;class&gt;rp&lt;/class&gt;\r\n      &lt;interval&gt;10 min&lt;/interval&gt;\r\n      &lt;extractor name=&quot;rp&quot;&gt;\r\n        &lt;address&gt;MY-RP-IP&lt;/address&gt;\r\n        &lt;username&gt;admin&lt;/username&gt;\r\n        &lt;password&gt;pass&lt;/password&gt;\r\n        &lt;ver&gt;5.2.1&lt;/ver&gt;\r\n      &lt;/extractor&gt;\r\n      &lt;output&gt;influxdb&lt;/output&gt;\r\n    &lt;/system&gt;\r\n  &lt;/systems&gt;\r\n&lt;/collector&gt;\r\n```\r\n\r\n`My influxdb.scala file`\r\n\r\n```\r\nimport scala.util.Try\r\nimport java.util.concurrent.TimeUnit\r\n\r\nimport org.influxdb.{InfluxDB, InfluxDBFactory}\r\nimport org.influxdb.InfluxDB.ConsistencyLevel\r\nimport org.influxdb.dto.Point.Builder\r\nimport org.influxdb.dto.{BatchPoints, Point}\r\n\r\n// Output to InfluxDB\r\nclass Influx(name: String, config: Map[String, String],\r\n               sysConfig: Map[String, Option[String]])\r\n  extends Output(name, config, sysConfig) with Logger {\r\n\r\n  val loggerFile: String = propOrElse(&quot;USC_HOME&quot;, &quot;&quot;) + &quot;log/collector-error.log&quot;\r\n\r\n  // Common parameters\r\n  val address: Option[String] =\r\n    if (config.contains(&quot;address&quot;))\r\n      Some(config(&quot;address&quot;))\r\n    else\r\n      None\r\n\r\n  val port: Option[Int] =\r\n    if (config.contains(&quot;port&quot;))\r\n      Some(config(&quot;port&quot;).toInt)\r\n    else\r\n      None\r\n\r\n  val dbname: Option[String] =\r\n    if (config.contains(&quot;dbname&quot;))\r\n      Some(config(&quot;dbname&quot;))\r\n    else\r\n      None\r\n\r\n  var influxDB: InfluxDB = _\r\n\r\n  // Validation by common parameters\r\n  //def isValid: Boolean = config.contains(&quot;address&quot;) &amp; config.contains(&quot;port&quot;) &amp;\r\n    //config.contains(&quot;dbname&quot;)\r\n\r\n  // Connection initialization before data output\r\n  def start(): Unit = {\r\n    influxDB = InfluxDBFactory.connect(&quot;http://MY-Influxdb-IP:8086&quot;,&quot;user&quot;,&quot;pass&quot;)\r\n  }\r\n\r\n  // Convert numbers in data from String type to Double type\r\n  def parseDouble(s: String): Option[Double] = Try { s.toDouble }.toOption\r\n\r\n  // Output data comes in &#39;msg&#39; and &#39;data&#39; structures\r\n  def out(msg: Map[Int, (String, String)], timestamp: Long, data: Map[String, String]): Unit = {\r\n\r\n    val header: Map[String, String] = (msg.values map (v =&gt; v._1 -&gt; v._2)).toMap\r\n\r\n    val batchPoints: BatchPoints = BatchPoints\r\n      .database(databaseName)\r\n      .retentionPolicy(&quot;autogen&quot;)\r\n      .consistency(ConsistencyLevel.ALL)\r\n      .build()\r\n\r\n    val point: Builder = Point.measurement(header(&quot;measurement&quot;))\r\n      .time(timestamp.toLong, TimeUnit.SECONDS)\r\n      .tag(&quot;storage&quot;, sysConfig(&quot;name&quot;).get)\r\n      .tag(&quot;class&quot;, sysConfig(&quot;class&quot;).get)\r\n\r\n    if (sysConfig(&quot;type&quot;).isDefined) point.tag(&quot;type&quot;, sysConfig(&quot;type&quot;).get)\r\n\r\n    (header.keySet = &quot;measurement&quot;) foreach {k =&gt; point.tag(k, header(k))}\r\n\r\n    data.foreach {p =&gt;\r\n      if (parseDouble(p._2).isDefined) point.addField(p._1, parseDouble(p._2).get)\r\n      else point.addField(p._1, p._2)\r\n    }\r\n\r\n    batchPoints.point(point.build())\r\n    influxDB.write(batchPoints)\r\n  }\r\n\r\n  // Closing connection after data output\r\n  def stop(): Unit = {\r\n    influxDB.close()\r\n  }\r\n}\r\n```\r\n\r\n`My Output.scala file`\r\n\r\n```\r\npackage universalstoragecollector\r\n\r\n// Template for outputs\r\nabstract class Output(name: String, config: Map[String, String],\r\n                      sysConfig: Map[String, Option[String]] = Map()) {\r\n  def isValid: Boolean\r\n  def start(): Unit\r\n  def out(msg: Map[Int, (String, String)], timestamp: Long, data: Map[String, String]): Unit\r\n  def stop(): Unit\r\n}\r\n\r\n// Known outputs are listed here\r\nobject Output {\r\n  def apply(name: String, config: Map[String, String],\r\n            sysConfig: Map[String, Option[String]] = Map()): Output = {\r\n    config.getOrElse(&quot;type&quot;, &quot;&quot;) match {\r\n      case &quot;carbon&quot; =&gt; new Carbon(&quot;carbon&quot;, config, sysConfig)\r\n      case &quot;influxdb&quot; =&gt; new Influx(&quot;influxdb&quot;, config, sysConfig)\r\n      case _ =&gt; new Output(name, config, sysConfig) {\r\n                  def isValid = false\r\n                  def start(): Unit = {}\r\n                  def out(msg: Map[Int, (String, String)],\r\n                          timestamp: Long,\r\n                          data: Map[String, String]): Unit = {}\r\n                  def stop(): Unit = {}\r\n                }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n`My Extractor.scala file`\r\n\r\n```\r\npackage universalstoragecollector\r\n\r\nimport scala.xml._\r\n\r\n// Template for extractors\r\nabstract class Extractor(name: String, param: Node,\r\n                         sysName: String, sysParam: Node = &lt;node&gt;&lt;/node&gt;,\r\n                         out: Output = Output(&quot;&quot;, Map(), Map())) {\r\n  def isValid: Boolean\r\n  def isSystemValid: Boolean\r\n  def ask(): Unit\r\n}\r\n\r\n// Known extractors are listed here\r\nobject Extractor {\r\n  def apply(name: String, param: Node,\r\n            sysName: String = &quot;&quot;, sysParam: Node = &lt;node&gt;&lt;/node&gt;,\r\n            out: Output = Output(&quot;&quot;, Map(), Map())): Extractor =\r\n    name.toLowerCase match {\r\n        case &quot;rp&quot; =&gt; new RP(&quot;rp&quot;, param, sysName, sysParam, out)\r\n        case _ =&gt; new Extractor(name, param, sysName, sysParam, out) {\r\n                    def isValid: Boolean = false\r\n                    def isSystemValid: Boolean = false\r\n                    def ask(): Unit = {}\r\n                  }\r\n    }\r\n}\r\n```\r\n\r\n`My RP.scala file`\r\n\r\n```\r\npackage universalstoragecollector\r\n\r\nimport scala.util.Properties.propOrElse\r\nimport scala.util.matching.Regex\r\nimport scala.xml.Node\r\nimport scalaj.http._\r\nimport net.liftweb.json._\r\n\r\n// clusters\r\ncase class ID(id: Long)\r\ncase class Cluster(clusterUID: ID, clusterName: String)\r\ncase class ClustersInformation(clustersInformation: List[Cluster])\r\n\r\n// clusters/statistics\r\ncase class CR(cluster: ID, compressionRatio: Long)\r\ncase class OT(cluster: ID, outThroughput: Long)\r\ncase class ATS(inThroughput: Long, connectionsOutThroughput: List[OT])\r\ncase class ITS(inThroughput: Long, connectionsOutThroughput: List[OT])\r\ncase class Traffic(connectionsCompressionRatio: List[CR],\r\n                   applicationThroughputStatistics: ATS,\r\n                   applicationIncomingWrites: Long,\r\n                   initThroughputStatistics: ITS)\r\ncase class ClustersStatistics(clusterUID: ID, traffic: Traffic)\r\n\r\n// rpas/statistics\r\ncase class RPAUID(clusterUID: ID, rpaNumber: Int)\r\ncase class RPA(rpaUID: RPAUID, cpuUsage: Int, traffic: Traffic)\r\ncase class RPAsStatistics(innerSet: List[RPA])\r\n\r\n// groups information\r\ncase class CUID(clusterUID: ID, copyUID: Long)\r\ncase class CopyUID(groupUID: ID, globalCopyUID: CUID)\r\ncase class CI(groupCopyUID: CopyUID, name: String, role: String, vmsInformation: List[String])\r\ncase class Group(groupUID: ID, name: String, enabled: Boolean,\r\n                 productionCopiesUID: List[CopyUID], groupCopiesInformation: List[CI])\r\ncase class GroupsInfo(innerSet: List[Group])\r\n\r\n// groups/statistics\r\ncase class CStat(savedSpace: Long, percentageOfSavedSpace: Long)\r\ncase class TIM(timeInMicroSeconds: Long)\r\ncase class JournalStatistics(distributionFinished: Boolean,\r\n                             imageAccessSizeLeftInBytes: String,\r\n                             imageAccessTimeLeftInSeconds: String,\r\n                             imageAccessTotalSizeInBytes: String,\r\n                             tspUsagePercentage: String,\r\n                             tspUsageInBytes: String,\r\n                             journalLagInBytes: Long,\r\n                             consolidationStatistics: CStat,\r\n                             fastForward: Boolean,\r\n                             movingFrom: TIM,\r\n                             movingTo: TIM,\r\n                             actualJournalSizeInBytes: Long,\r\n                             actualJournalUsageInBytes: Long,\r\n                             usagePercentFromDistributionCapacity: Double)\r\ncase class CGCopyStat(copyUID: CopyUID,\r\n                      averageIncomingThroughput: Long, averageIncomingWrites: Long,\r\n                      incomingThroughput: Long, incomingWrites: Long,\r\n                      journalStatistics: JournalStatistics)\r\ncase class LinkUID(groupUID: ID, firstCopy: CUID, secondCopy: CUID)\r\ncase class InitStat(initCompletionPortion: Long, initIncomingThroughput: Long,\r\n                    initOutgoingThroughput: Long, numberOfGrids: Long)\r\ncase class Lag(transactionCounter: Long, timeCounter: Long, dataCounter: Long)\r\ncase class TPRPA(rpaUID: RPAUID, numberOfGrids: Long, outgoingThroughput: Long)\r\ncase class PipeStat(averageJournalCompressionRatio: Long, compressionRatio: Long,\r\n                    detachData: String, detachDataRate: String, lag: Lag,\r\n                    numberOfGrids: Long, outgoingThroughput: Long,\r\n                    outgoingThroughputPerRPA: List[TPRPA],\r\n                    replicationMode: String, syncRemoteLink: Boolean,\r\n                    deduplicationRatio: Long, averageDeduplicationRatio: Long)\r\ncase class CGLinkStat(linkUID: LinkUID, initStatistics: InitStat, pipeStatistics: PipeStat)\r\ncase class GroupStat(consistencyGroupUID: ID,\r\n                     consistencyGroupCopyStatistics: List[CGCopyStat],\r\n                     consistencyGroupLinkStatistics: List[CGLinkStat]\r\n                    )\r\ncase class GroupsStatistics(innerSet: List[GroupStat])\r\n\r\n\r\nclass RP(name: String, param: Node, sysName: String, sysParam: Node, out: Output)\r\n  extends Extractor(name, param, sysName, sysParam, out) with Logger {\r\n\r\n  implicit val formats = DefaultFormats\r\n  val loggerFile: String = propOrElse(&quot;USC_HOME&quot;, &quot;&quot;) + &quot;/log/collector-error.log&quot;\r\n  val arg: Regex = &quot;(#)([A-Za-z]+)&quot;.r\r\n  var timestamp: Long = _\r\n\r\n  // Common parameters\r\n  val baseUrl: Option[String] =\r\n    if ((param \\ &quot;baseUrl&quot;).length &gt; 0)\r\n      Some((param \\ &quot;baseUrl&quot;).head.child.mkString)\r\n    else\r\n      None\r\n\r\n  // Concrete Storage system parameters\r\n  val address: Option[String] =\r\n    if ((sysParam \\ &quot;address&quot;).length &gt; 0)\r\n      Some((sysParam \\ &quot;address&quot;).head.child.text)\r\n    else\r\n      None\r\n\r\n  val username: Option[String] =\r\n    if ((sysParam \\ &quot;username&quot;).length &gt; 0)\r\n      Some((sysParam \\ &quot;username&quot;).head.child.text)\r\n    else\r\n      None\r\n\r\n  val password: Option[String] =\r\n    if ((sysParam \\ &quot;password&quot;).length &gt; 0)\r\n      Some((sysParam \\ &quot;password&quot;).head.child.text)\r\n    else\r\n      None\r\n\r\n  val ver: Option[String] =\r\n    if ((sysParam \\ &quot;ver&quot;).length &gt; 0)\r\n      Some((sysParam \\ &quot;ver&quot;).head.child.text)\r\n    else\r\n      None\r\n\r\n  val systemValid: Boolean =\r\n    address.isDefined &amp; username.isDefined &amp; password.isDefined &amp; ver.isDefined\r\n\r\n  val urlParam: Map[String, String] =\r\n    if (systemValid)\r\n      Map(&quot;ip&quot; -&gt; address.get, &quot;ver&quot; -&gt; ver.get)\r\n    else\r\n      Map()\r\n\r\n  def isValid: Boolean = baseUrl.isDefined\r\n  def isSystemValid: Boolean = systemValid\r\n\r\n  def ask(): Unit = {\r\n    timestamp = System.currentTimeMillis / 1000\r\n    var msg: Map[Int, (String, String)] = Map()\r\n    var data: Map[String, String] = Map()\r\n\r\n    val base: String = (baseUrl.get.split(&quot;/&quot;) map {\r\n      case arg(_, a2) =&gt; urlParam.getOrElse(a2, &quot;&quot;)\r\n      case c =&gt; c\r\n    }).mkString(&quot;/&quot;)\r\n\r\n    var clusters: Map[Long, String] = Map()\r\n    var groupsInfo: Map[Long, Map[String, Any]] = Map()\r\n\r\n    // clusters\r\n    try {\r\n      val url: String = base + &quot;/clusters&quot;\r\n      val response: HttpResponse[String] =\r\n        Http(url)\r\n          .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\r\n          .auth(username.get, password.get)\r\n          .option(HttpOptions.allowUnsafeSSL)\r\n          .asString\r\n\r\n      if (response.code == 200)\r\n        clusters =\r\n          (parse(response.body)\r\n            .extract[ClustersInformation]\r\n            .clustersInformation flatMap { c =&gt;\r\n            Map(c.clusterUID.id -&gt; c.clusterName)\r\n          }).toMap\r\n    } catch {\r\n      case e: Exception =&gt; log(s&quot;$sysName, /clusters: $e&quot;)\r\n    }\r\n\r\n    // clusters/statistics\r\n    try {\r\n      clusters foreach { cluster =&gt;\r\n        val url: String =  base + &quot;/clusters/&quot; + cluster._1 + &quot;/statistics&quot;\r\n        val response: HttpResponse[String] =\r\n          Http(url)\r\n            .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\r\n            .auth(username.get, password.get)\r\n            .option(HttpOptions.allowUnsafeSSL)\r\n            .asString\r\n\r\n        if (response.code == 200) {\r\n          val cs = parse(response.body).extract[ClustersStatistics]\r\n          cs.traffic.connectionsCompressionRatio foreach { c =&gt;\r\n            msg = Map(\r\n              1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\r\n              2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\r\n              3 -&gt; (&quot;traffic&quot;, &quot;connectionsCompressionRatio&quot;),\r\n              4 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\r\n            )\r\n            data = Map(&quot;compressionRatio&quot; -&gt; c.compressionRatio.toString)\r\n            out.out(msg, timestamp, data)\r\n          }\r\n\r\n          msg = Map(\r\n            1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\r\n            2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\r\n            3 -&gt; (&quot;traffic&quot;, &quot;applicationThroughputStatistics&quot;)\r\n          )\r\n          data =\r\n            Map(&quot;inThroughput&quot; -&gt; cs.traffic.applicationThroughputStatistics.inThroughput.toString)\r\n          out.out(msg, timestamp, data)\r\n\r\n          cs.traffic.applicationThroughputStatistics.connectionsOutThroughput foreach { c =&gt;\r\n            msg = Map(\r\n              1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\r\n              2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\r\n              3 -&gt; (&quot;traffic&quot;, &quot;applicationThroughputStatistics&quot;),\r\n              4 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\r\n            )\r\n            data = Map(&quot;outThroughput&quot; -&gt; c.outThroughput.toString)\r\n            out.out(msg, timestamp, data)\r\n          }\r\n\r\n          msg = Map(\r\n            1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\r\n            2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\r\n            3 -&gt; (&quot;traffic&quot;, &quot;applicationIncomingWrites&quot;)\r\n          )\r\n          data =\r\n            Map(&quot;applicationIncomingWrites&quot; -&gt; cs.traffic.applicationIncomingWrites.toString)\r\n          out.out(msg, timestamp, data)\r\n\r\n          msg = Map(\r\n            1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\r\n            2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\r\n            3 -&gt; (&quot;traffic&quot;, &quot;initThroughputStatistics&quot;)\r\n          )\r\n          data =\r\n            Map(&quot;inThroughput&quot; -&gt; cs.traffic.initThroughputStatistics.inThroughput.toString)\r\n          out.out(msg, timestamp, data)\r\n\r\n          cs.traffic.initThroughputStatistics.connectionsOutThroughput foreach { c =&gt;\r\n            msg = Map(\r\n              1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\r\n              2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\r\n              3 -&gt; (&quot;traffic&quot;, &quot;initThroughputStatistics&quot;),\r\n              4 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\r\n            )\r\n            data = Map(&quot;outThroughput&quot; -&gt; c.outThroughput.toString)\r\n            out.out(msg, timestamp, data)\r\n          }\r\n        }\r\n      }\r\n    } catch {\r\n      case e: Exception =&gt; log(s&quot;$sysName, /clusters/statistics: $e&quot;)\r\n    }\r\n\r\n    // rpas/statistics\r\n    try {\r\n      val url: String = base + &quot;/rpas/statistics&quot;\r\n      val response: HttpResponse[String] =\r\n        Http(url)\r\n          .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\r\n          .auth(username.get, password.get)\r\n          .option(HttpOptions.allowUnsafeSSL)\r\n          .asString\r\n\r\n      if (response.code == 200) {\r\n        val rpas = parse(response.body).extract[RPAsStatistics].innerSet\r\n        rpas foreach {r =&gt;\r\n          msg = Map(\r\n            1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\r\n            2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\r\n            3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString)\r\n          )\r\n          data = Map(&quot;cpuUsage&quot; -&gt; r.cpuUsage.toString)\r\n          out.out(msg, timestamp, data)\r\n\r\n          r.traffic.connectionsCompressionRatio foreach {c =&gt;\r\n            msg = Map(\r\n              1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\r\n              2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\r\n              3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\r\n              4 -&gt; (&quot;traffic&quot;, &quot;connectionsCompressionRatio&quot;),\r\n              5 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\r\n            )\r\n            data = Map(&quot;compressionRatio&quot; -&gt; c.compressionRatio.toString)\r\n            out.out(msg, timestamp, data)\r\n          }\r\n\r\n          msg = Map(\r\n            1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\r\n            2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\r\n            3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\r\n            4 -&gt; (&quot;traffic&quot;, &quot;applicationThroughputStatistics&quot;)\r\n          )\r\n          data =\r\n            Map(&quot;inThroughput&quot; -&gt; r.traffic.applicationThroughputStatistics.inThroughput.toString)\r\n          out.out(msg, timestamp, data)\r\n\r\n          r.traffic.applicationThroughputStatistics.connectionsOutThroughput foreach {c =&gt;\r\n            msg = Map(\r\n              1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\r\n              2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\r\n              3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\r\n              4 -&gt; (&quot;traffic&quot;, &quot;applicationThroughputStatistics&quot;),\r\n              5 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\r\n            )\r\n            data = Map(&quot;outThroughput&quot; -&gt; c.outThroughput.toString)\r\n            out.out(msg, timestamp, data)\r\n          }\r\n\r\n          msg = Map(\r\n            1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\r\n            2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\r\n            3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\r\n            4 -&gt; (&quot;traffic&quot;, &quot;applicationIncomingWrites&quot;)\r\n          )\r\n          data =\r\n            Map(&quot;applicationIncomingWrites&quot; -&gt; r.traffic.applicationIncomingWrites.toString)\r\n          out.out(msg, timestamp, data)\r\n\r\n          msg = Map(\r\n            1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\r\n            2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\r\n            3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\r\n            4 -&gt; (&quot;traffic&quot;, &quot;initThroughputStatistics&quot;)\r\n          )\r\n          data =\r\n            Map(&quot;inThroughput&quot; -&gt; r.traffic.initThroughputStatistics.inThroughput.toString)\r\n          out.out(msg, timestamp, data)\r\n\r\n          r.traffic.initThroughputStatistics.connectionsOutThroughput foreach {c =&gt;\r\n            msg = Map(\r\n              1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\r\n              2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\r\n              3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\r\n              4 -&gt; (&quot;traffic&quot;, &quot;initThroughputStatistics&quot;),\r\n              5 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\r\n            )\r\n            data = Map(&quot;outThroughput&quot; -&gt; c.outThroughput.toString)\r\n            out.out(msg, timestamp, data)\r\n          }\r\n        }\r\n      }\r\n    } catch {\r\n      case e: Exception =&gt; log(s&quot;$sysName, /rpas/statistics: $e&quot;)\r\n    }\r\n\r\n    // groups information and statistics\r\n    try {\r\n      // groups information\r\n      var url: String = base + &quot;/groups/information&quot;\r\n      var response: HttpResponse[String] =\r\n        Http(url)\r\n          .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\r\n          .auth(username.get, password.get)\r\n          .option(HttpOptions.allowUnsafeSSL)\r\n          .asString\r\n      if (response.code == 200) {\r\n        groupsInfo =\r\n          (parse(response.body).extract[GroupsInfo].innerSet map { g =&gt;\r\n            val groupCopies: Map[Long, (String, String)] =\r\n              (g.groupCopiesInformation map { c =&gt;\r\n                (c.groupCopyUID.globalCopyUID.copyUID, (c.name, c.role))\r\n              }).toMap\r\n            g.groupUID.id -&gt;\r\n              Map(&quot;name&quot; -&gt; g.name,\r\n                &quot;productionCopiesUID&quot; -&gt; g.productionCopiesUID.head.globalCopyUID.copyUID,\r\n                &quot;groupCopiesInformation&quot; -&gt; groupCopies)\r\n          }).toMap\r\n\r\n        // groups/statistics\r\n        url = base + &quot;/groups/statistics&quot;\r\n        response =\r\n          Http(url)\r\n            .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\r\n            .auth(username.get, password.get)\r\n            .option(HttpOptions.allowUnsafeSSL)\r\n            .asString\r\n\r\n        if (response.code == 200) {\r\n          val gs = parse(response.body).extract[GroupsStatistics].innerSet\r\n          gs foreach { g =&gt;\r\n            g.consistencyGroupCopyStatistics foreach { c =&gt;\r\n              val copyID = c.copyUID.globalCopyUID.copyUID\r\n              val copyInfo =\r\n                groupsInfo(c.copyUID.groupUID.id)(&quot;groupCopiesInformation&quot;)\r\n                  .asInstanceOf[Map[Long, (String, String)]](copyID)\r\n              msg = Map(\r\n                1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\r\n                2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupCopyStatistics&quot;),\r\n                3 -&gt; (&quot;copy&quot;, copyInfo._1.toString)\r\n              )\r\n              data =\r\n                Map(&quot;averageIncomingThroughput&quot; -&gt; c.averageIncomingThroughput.toString,\r\n                    &quot;averageIncomingWrites&quot; -&gt; c.averageIncomingWrites.toString,\r\n                    &quot;incomingThroughput&quot; -&gt; c.incomingThroughput.toString,\r\n                    &quot;incomingWrites&quot; -&gt; c.incomingWrites.toString\r\n                )\r\n              out.out(msg, timestamp, data)\r\n\r\n              if (copyInfo._2 == &quot;REPLICA&quot;) {\r\n                msg = Map(\r\n                  1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\r\n                  2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupCopyStatistics&quot;),\r\n                  3 -&gt; (&quot;copy&quot;, copyInfo._1.toString),\r\n                  4 -&gt; (&quot;measurement&quot;, &quot;journalStatistics&quot;)\r\n                )\r\n                data =\r\n                  Map(&quot;averageIncomingThroughput&quot; -&gt; c.journalStatistics.actualJournalSizeInBytes.toString,\r\n                      &quot;actualJournalSizeInBytes&quot; -&gt; c.journalStatistics.actualJournalUsageInBytes.toString,\r\n                      &quot;actualJournalUsageInBytes&quot; -&gt; c.incomingThroughput.toString,\r\n                      &quot;usagePercentFromDistributionCapacity&quot; -&gt;\r\n                        ((math rint c.journalStatistics.usagePercentFromDistributionCapacity * 100) / 100).toString,\r\n                      &quot;journalLagInBytes&quot; -&gt; c.journalStatistics.journalLagInBytes.toString\r\n                  )\r\n                out.out(msg, timestamp, data)\r\n              }\r\n            }\r\n\r\n            g.consistencyGroupLinkStatistics foreach { c =&gt;\r\n              val copyInfo =\r\n                groupsInfo(c.linkUID.groupUID.id)(&quot;groupCopiesInformation&quot;).asInstanceOf[Map[Long, (String, String)]]\r\n              msg = Map(\r\n                1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\r\n                2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupLinkStatistics&quot;),\r\n                3 -&gt; (&quot;firstCopy&quot;, copyInfo(c.linkUID.firstCopy.copyUID)._1.toString),\r\n                4 -&gt; (&quot;secondCopy&quot;, copyInfo(c.linkUID.secondCopy.copyUID)._1.toString),\r\n                5 -&gt; (&quot;stat&quot;, &quot;initStatistics&quot;)\r\n              )\r\n              data =\r\n                Map(&quot;initCompletionPortion&quot; -&gt; c.initStatistics.initCompletionPortion.toString,\r\n                    &quot;initIncomingThroughput&quot; -&gt; c.initStatistics.initIncomingThroughput.toString,\r\n                    &quot;initOutgoingThroughput&quot; -&gt; c.initStatistics.initOutgoingThroughput.toString,\r\n                    &quot;numberOfGrids&quot; -&gt; c.initStatistics.numberOfGrids.toString\r\n                )\r\n              out.out(msg, timestamp, data)\r\n\r\n              msg = Map(\r\n                1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\r\n                2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupLinkStatistics&quot;),\r\n                3 -&gt; (&quot;firstCopy&quot;, copyInfo(c.linkUID.firstCopy.copyUID)._1.toString),\r\n                4 -&gt; (&quot;secondCopy&quot;, copyInfo(c.linkUID.secondCopy.copyUID)._1.toString),\r\n                5 -&gt; (&quot;stat&quot;, &quot;pipeStatistics&quot;)\r\n              )\r\n              data =\r\n                Map(&quot;averageJournalCompressionRatio&quot; -&gt; c.pipeStatistics.averageJournalCompressionRatio.toString,\r\n                    &quot;compressionRatio&quot; -&gt; c.pipeStatistics.compressionRatio.toString,\r\n                    &quot;numberOfGrids&quot; -&gt; c.pipeStatistics.numberOfGrids.toString,\r\n                    &quot;outgoingThroughput&quot; -&gt; c.pipeStatistics.outgoingThroughput.toString,\r\n                    &quot;deduplicationRatio&quot; -&gt; c.pipeStatistics.deduplicationRatio.toString,\r\n                    &quot;averageDeduplicationRatio&quot; -&gt; c.pipeStatistics.averageDeduplicationRatio.toString\r\n                )\r\n              out.out(msg, timestamp, data)\r\n\r\n              if (c.pipeStatistics.detachData != &quot;null&quot;) {\r\n                data = Map(&quot;detachData&quot; -&gt; c.pipeStatistics.detachData.toString)\r\n                out.out(msg, timestamp, data)\r\n              }\r\n              if (c.pipeStatistics.detachDataRate != &quot;null&quot;) {\r\n                data = Map(&quot;detachDataRate&quot; -&gt; c.pipeStatistics.detachDataRate.toString)\r\n                out.out(msg, timestamp, data)\r\n              }\r\n\r\n              msg = Map(\r\n                1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\r\n                2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupLinkStatistics&quot;),\r\n                3 -&gt; (&quot;firstCopy&quot;, copyInfo(c.linkUID.firstCopy.copyUID)._1.toString),\r\n                4 -&gt; (&quot;secondCopy&quot;, copyInfo(c.linkUID.secondCopy.copyUID)._1.toString),\r\n                5 -&gt; (&quot;stat&quot;, &quot;pipeStatistics&quot;),\r\n                6 -&gt; (&quot;measurement&quot;, &quot;lag&quot;)\r\n              )\r\n              data =\r\n                Map(&quot;transactionCounter&quot; -&gt; c.pipeStatistics.lag.transactionCounter.toString,\r\n                  &quot;timeCounter&quot; -&gt; c.pipeStatistics.lag.timeCounter.toString,\r\n                  &quot;dataCounter&quot; -&gt; c.pipeStatistics.lag.dataCounter.toString\r\n                )\r\n              out.out(msg, timestamp, data)\r\n\r\n              c.pipeStatistics.outgoingThroughputPerRPA foreach { r =&gt;\r\n                msg = Map(\r\n                  1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\r\n                  2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupLinkStatistics&quot;),\r\n                  3 -&gt; (&quot;firstCopy&quot;, copyInfo(c.linkUID.firstCopy.copyUID)._1.toString),\r\n                  4 -&gt; (&quot;secondCopy&quot;, copyInfo(c.linkUID.secondCopy.copyUID)._1.toString),\r\n                  5 -&gt; (&quot;stat&quot;, &quot;pipeStatistics&quot;),\r\n                  6 -&gt; (&quot;measurement&quot;, &quot;outgoingThroughputPerRPA&quot;),\r\n                  7 -&gt; (&quot;outCluster&quot;, clusters(r.rpaUID.clusterUID.id)),\r\n                  8 -&gt; (&quot;outRPA&quot;, r.rpaUID.rpaNumber.toString)\r\n                )\r\n                data =\r\n                  Map(&quot;numberOfGrids&quot; -&gt; r.numberOfGrids.toString,\r\n                      &quot;outgoingThroughput&quot; -&gt; r.outgoingThroughput.toString\r\n                  )\r\n                out.out(msg, timestamp, data)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } catch {\r\n      case e: Exception =&gt; log(s&quot;$sysName, /groups: $e RP.scala&quot;)\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n&gt; And My Log File\r\n```\r\n`Thu Dec 01 11:35:37 UTC 2022 rp01, /clusters/statistics: java.util.NoSuchElementException: key not found: measurement\r\nThu Dec 01 11:35:37 UTC 2022 rp01, /rpas/statistics: java.util.NoSuchElementException: key not found: measurement\r\nThu Dec 01 11:35:37 UTC 2022 rp01, /groups: net.liftweb.json.MappingException: No usable value for innerSet\r\nNo usable value for groupCopiesInformation\r\nNo usable value for vmsInformation\r\nDo not know how to convert JObject(List(JField(vmUID,JObject(List(JField(uuid,JString(500823dd-6738-b445-c705-7ad0d2b4e67c)), JField(virtualCenterUID,JObject(List(JField(uuid,JString(1a5e7115-0def-4796-b155-89d0c20e4ea5)))))))), JField(vmName,JString(YalcinMustafa_Management-win)), JField(vmBiosUuid,JString(4208652e-3aae-11bb-03a8-47d5ad33e1fc)))) into class java.lang.String\r\n`\r\n```\r\n\r\nI want to extract data from EMC Recovery Point with scala and influxdb and design a monitoring with these data. But even though I saw that the services were running and the data was pulled from RP, I could not transfer this data to InfluxDB.\r\n\r\n`Thanks in advance`","title":"EMC Recover Point Monitoring with scala and influxdb","body":"<p>I want to extract data from EMC Recovery Point with scala and influxdb and transfer it to influxdb. I was able to pull the data, but I had a problem transferring the data. The data does not appear in influxdb. I'm having problems transferring data.</p>\n<p>I am sharing my collector.xml file and influxdb.scala, collector.scala, output.scala, RP.scala files below. I think there is an error in my output.scala file.(RP = Recovery Point)</p>\n<p><code>My Collector.xml file</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;collector&gt;\n  &lt;extractors&gt;\n    &lt;extractor name=&quot;rp&quot;&gt;\n      &lt;baseUrl&gt;https://MY-RP-IP:7225/fapi/rest/5_1&lt;/baseUrl&gt;\n    &lt;/extractor&gt;\n  &lt;/extractors&gt;\n  &lt;outputs&gt;\n    &lt;output name=&quot;influxdb&quot;&gt;\n      &lt;type&gt;influxdb&lt;/type&gt;\n      &lt;address&gt;MY-Influxdb-IP&lt;/address&gt;\n      &lt;port&gt;8086&lt;/port&gt;\n      &lt;dbname&gt;RP&lt;/dbname&gt;\n    &lt;/output&gt;\n  &lt;/outputs&gt;\n  &lt;systems&gt;\n    &lt;system&gt;\n      &lt;name&gt;rp01&lt;/name&gt;\n      &lt;class&gt;rp&lt;/class&gt;\n      &lt;interval&gt;10 min&lt;/interval&gt;\n      &lt;extractor name=&quot;rp&quot;&gt;\n        &lt;address&gt;MY-RP-IP&lt;/address&gt;\n        &lt;username&gt;admin&lt;/username&gt;\n        &lt;password&gt;pass&lt;/password&gt;\n        &lt;ver&gt;5.2.1&lt;/ver&gt;\n      &lt;/extractor&gt;\n      &lt;output&gt;influxdb&lt;/output&gt;\n    &lt;/system&gt;\n  &lt;/systems&gt;\n&lt;/collector&gt;\n</code></pre>\n<p><code>My influxdb.scala file</code></p>\n<pre><code>import scala.util.Try\nimport java.util.concurrent.TimeUnit\n\nimport org.influxdb.{InfluxDB, InfluxDBFactory}\nimport org.influxdb.InfluxDB.ConsistencyLevel\nimport org.influxdb.dto.Point.Builder\nimport org.influxdb.dto.{BatchPoints, Point}\n\n// Output to InfluxDB\nclass Influx(name: String, config: Map[String, String],\n               sysConfig: Map[String, Option[String]])\n  extends Output(name, config, sysConfig) with Logger {\n\n  val loggerFile: String = propOrElse(&quot;USC_HOME&quot;, &quot;&quot;) + &quot;log/collector-error.log&quot;\n\n  // Common parameters\n  val address: Option[String] =\n    if (config.contains(&quot;address&quot;))\n      Some(config(&quot;address&quot;))\n    else\n      None\n\n  val port: Option[Int] =\n    if (config.contains(&quot;port&quot;))\n      Some(config(&quot;port&quot;).toInt)\n    else\n      None\n\n  val dbname: Option[String] =\n    if (config.contains(&quot;dbname&quot;))\n      Some(config(&quot;dbname&quot;))\n    else\n      None\n\n  var influxDB: InfluxDB = _\n\n  // Validation by common parameters\n  //def isValid: Boolean = config.contains(&quot;address&quot;) &amp; config.contains(&quot;port&quot;) &amp;\n    //config.contains(&quot;dbname&quot;)\n\n  // Connection initialization before data output\n  def start(): Unit = {\n    influxDB = InfluxDBFactory.connect(&quot;http://MY-Influxdb-IP:8086&quot;,&quot;user&quot;,&quot;pass&quot;)\n  }\n\n  // Convert numbers in data from String type to Double type\n  def parseDouble(s: String): Option[Double] = Try { s.toDouble }.toOption\n\n  // Output data comes in 'msg' and 'data' structures\n  def out(msg: Map[Int, (String, String)], timestamp: Long, data: Map[String, String]): Unit = {\n\n    val header: Map[String, String] = (msg.values map (v =&gt; v._1 -&gt; v._2)).toMap\n\n    val batchPoints: BatchPoints = BatchPoints\n      .database(databaseName)\n      .retentionPolicy(&quot;autogen&quot;)\n      .consistency(ConsistencyLevel.ALL)\n      .build()\n\n    val point: Builder = Point.measurement(header(&quot;measurement&quot;))\n      .time(timestamp.toLong, TimeUnit.SECONDS)\n      .tag(&quot;storage&quot;, sysConfig(&quot;name&quot;).get)\n      .tag(&quot;class&quot;, sysConfig(&quot;class&quot;).get)\n\n    if (sysConfig(&quot;type&quot;).isDefined) point.tag(&quot;type&quot;, sysConfig(&quot;type&quot;).get)\n\n    (header.keySet = &quot;measurement&quot;) foreach {k =&gt; point.tag(k, header(k))}\n\n    data.foreach {p =&gt;\n      if (parseDouble(p._2).isDefined) point.addField(p._1, parseDouble(p._2).get)\n      else point.addField(p._1, p._2)\n    }\n\n    batchPoints.point(point.build())\n    influxDB.write(batchPoints)\n  }\n\n  // Closing connection after data output\n  def stop(): Unit = {\n    influxDB.close()\n  }\n}\n</code></pre>\n<p><code>My Output.scala file</code></p>\n<pre><code>package universalstoragecollector\n\n// Template for outputs\nabstract class Output(name: String, config: Map[String, String],\n                      sysConfig: Map[String, Option[String]] = Map()) {\n  def isValid: Boolean\n  def start(): Unit\n  def out(msg: Map[Int, (String, String)], timestamp: Long, data: Map[String, String]): Unit\n  def stop(): Unit\n}\n\n// Known outputs are listed here\nobject Output {\n  def apply(name: String, config: Map[String, String],\n            sysConfig: Map[String, Option[String]] = Map()): Output = {\n    config.getOrElse(&quot;type&quot;, &quot;&quot;) match {\n      case &quot;carbon&quot; =&gt; new Carbon(&quot;carbon&quot;, config, sysConfig)\n      case &quot;influxdb&quot; =&gt; new Influx(&quot;influxdb&quot;, config, sysConfig)\n      case _ =&gt; new Output(name, config, sysConfig) {\n                  def isValid = false\n                  def start(): Unit = {}\n                  def out(msg: Map[Int, (String, String)],\n                          timestamp: Long,\n                          data: Map[String, String]): Unit = {}\n                  def stop(): Unit = {}\n                }\n    }\n  }\n}\n</code></pre>\n<p><code>My Extractor.scala file</code></p>\n<pre><code>package universalstoragecollector\n\nimport scala.xml._\n\n// Template for extractors\nabstract class Extractor(name: String, param: Node,\n                         sysName: String, sysParam: Node = &lt;node&gt;&lt;/node&gt;,\n                         out: Output = Output(&quot;&quot;, Map(), Map())) {\n  def isValid: Boolean\n  def isSystemValid: Boolean\n  def ask(): Unit\n}\n\n// Known extractors are listed here\nobject Extractor {\n  def apply(name: String, param: Node,\n            sysName: String = &quot;&quot;, sysParam: Node = &lt;node&gt;&lt;/node&gt;,\n            out: Output = Output(&quot;&quot;, Map(), Map())): Extractor =\n    name.toLowerCase match {\n        case &quot;rp&quot; =&gt; new RP(&quot;rp&quot;, param, sysName, sysParam, out)\n        case _ =&gt; new Extractor(name, param, sysName, sysParam, out) {\n                    def isValid: Boolean = false\n                    def isSystemValid: Boolean = false\n                    def ask(): Unit = {}\n                  }\n    }\n}\n</code></pre>\n<p><code>My RP.scala file</code></p>\n<pre><code>package universalstoragecollector\n\nimport scala.util.Properties.propOrElse\nimport scala.util.matching.Regex\nimport scala.xml.Node\nimport scalaj.http._\nimport net.liftweb.json._\n\n// clusters\ncase class ID(id: Long)\ncase class Cluster(clusterUID: ID, clusterName: String)\ncase class ClustersInformation(clustersInformation: List[Cluster])\n\n// clusters/statistics\ncase class CR(cluster: ID, compressionRatio: Long)\ncase class OT(cluster: ID, outThroughput: Long)\ncase class ATS(inThroughput: Long, connectionsOutThroughput: List[OT])\ncase class ITS(inThroughput: Long, connectionsOutThroughput: List[OT])\ncase class Traffic(connectionsCompressionRatio: List[CR],\n                   applicationThroughputStatistics: ATS,\n                   applicationIncomingWrites: Long,\n                   initThroughputStatistics: ITS)\ncase class ClustersStatistics(clusterUID: ID, traffic: Traffic)\n\n// rpas/statistics\ncase class RPAUID(clusterUID: ID, rpaNumber: Int)\ncase class RPA(rpaUID: RPAUID, cpuUsage: Int, traffic: Traffic)\ncase class RPAsStatistics(innerSet: List[RPA])\n\n// groups information\ncase class CUID(clusterUID: ID, copyUID: Long)\ncase class CopyUID(groupUID: ID, globalCopyUID: CUID)\ncase class CI(groupCopyUID: CopyUID, name: String, role: String, vmsInformation: List[String])\ncase class Group(groupUID: ID, name: String, enabled: Boolean,\n                 productionCopiesUID: List[CopyUID], groupCopiesInformation: List[CI])\ncase class GroupsInfo(innerSet: List[Group])\n\n// groups/statistics\ncase class CStat(savedSpace: Long, percentageOfSavedSpace: Long)\ncase class TIM(timeInMicroSeconds: Long)\ncase class JournalStatistics(distributionFinished: Boolean,\n                             imageAccessSizeLeftInBytes: String,\n                             imageAccessTimeLeftInSeconds: String,\n                             imageAccessTotalSizeInBytes: String,\n                             tspUsagePercentage: String,\n                             tspUsageInBytes: String,\n                             journalLagInBytes: Long,\n                             consolidationStatistics: CStat,\n                             fastForward: Boolean,\n                             movingFrom: TIM,\n                             movingTo: TIM,\n                             actualJournalSizeInBytes: Long,\n                             actualJournalUsageInBytes: Long,\n                             usagePercentFromDistributionCapacity: Double)\ncase class CGCopyStat(copyUID: CopyUID,\n                      averageIncomingThroughput: Long, averageIncomingWrites: Long,\n                      incomingThroughput: Long, incomingWrites: Long,\n                      journalStatistics: JournalStatistics)\ncase class LinkUID(groupUID: ID, firstCopy: CUID, secondCopy: CUID)\ncase class InitStat(initCompletionPortion: Long, initIncomingThroughput: Long,\n                    initOutgoingThroughput: Long, numberOfGrids: Long)\ncase class Lag(transactionCounter: Long, timeCounter: Long, dataCounter: Long)\ncase class TPRPA(rpaUID: RPAUID, numberOfGrids: Long, outgoingThroughput: Long)\ncase class PipeStat(averageJournalCompressionRatio: Long, compressionRatio: Long,\n                    detachData: String, detachDataRate: String, lag: Lag,\n                    numberOfGrids: Long, outgoingThroughput: Long,\n                    outgoingThroughputPerRPA: List[TPRPA],\n                    replicationMode: String, syncRemoteLink: Boolean,\n                    deduplicationRatio: Long, averageDeduplicationRatio: Long)\ncase class CGLinkStat(linkUID: LinkUID, initStatistics: InitStat, pipeStatistics: PipeStat)\ncase class GroupStat(consistencyGroupUID: ID,\n                     consistencyGroupCopyStatistics: List[CGCopyStat],\n                     consistencyGroupLinkStatistics: List[CGLinkStat]\n                    )\ncase class GroupsStatistics(innerSet: List[GroupStat])\n\n\nclass RP(name: String, param: Node, sysName: String, sysParam: Node, out: Output)\n  extends Extractor(name, param, sysName, sysParam, out) with Logger {\n\n  implicit val formats = DefaultFormats\n  val loggerFile: String = propOrElse(&quot;USC_HOME&quot;, &quot;&quot;) + &quot;/log/collector-error.log&quot;\n  val arg: Regex = &quot;(#)([A-Za-z]+)&quot;.r\n  var timestamp: Long = _\n\n  // Common parameters\n  val baseUrl: Option[String] =\n    if ((param \\ &quot;baseUrl&quot;).length &gt; 0)\n      Some((param \\ &quot;baseUrl&quot;).head.child.mkString)\n    else\n      None\n\n  // Concrete Storage system parameters\n  val address: Option[String] =\n    if ((sysParam \\ &quot;address&quot;).length &gt; 0)\n      Some((sysParam \\ &quot;address&quot;).head.child.text)\n    else\n      None\n\n  val username: Option[String] =\n    if ((sysParam \\ &quot;username&quot;).length &gt; 0)\n      Some((sysParam \\ &quot;username&quot;).head.child.text)\n    else\n      None\n\n  val password: Option[String] =\n    if ((sysParam \\ &quot;password&quot;).length &gt; 0)\n      Some((sysParam \\ &quot;password&quot;).head.child.text)\n    else\n      None\n\n  val ver: Option[String] =\n    if ((sysParam \\ &quot;ver&quot;).length &gt; 0)\n      Some((sysParam \\ &quot;ver&quot;).head.child.text)\n    else\n      None\n\n  val systemValid: Boolean =\n    address.isDefined &amp; username.isDefined &amp; password.isDefined &amp; ver.isDefined\n\n  val urlParam: Map[String, String] =\n    if (systemValid)\n      Map(&quot;ip&quot; -&gt; address.get, &quot;ver&quot; -&gt; ver.get)\n    else\n      Map()\n\n  def isValid: Boolean = baseUrl.isDefined\n  def isSystemValid: Boolean = systemValid\n\n  def ask(): Unit = {\n    timestamp = System.currentTimeMillis / 1000\n    var msg: Map[Int, (String, String)] = Map()\n    var data: Map[String, String] = Map()\n\n    val base: String = (baseUrl.get.split(&quot;/&quot;) map {\n      case arg(_, a2) =&gt; urlParam.getOrElse(a2, &quot;&quot;)\n      case c =&gt; c\n    }).mkString(&quot;/&quot;)\n\n    var clusters: Map[Long, String] = Map()\n    var groupsInfo: Map[Long, Map[String, Any]] = Map()\n\n    // clusters\n    try {\n      val url: String = base + &quot;/clusters&quot;\n      val response: HttpResponse[String] =\n        Http(url)\n          .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\n          .auth(username.get, password.get)\n          .option(HttpOptions.allowUnsafeSSL)\n          .asString\n\n      if (response.code == 200)\n        clusters =\n          (parse(response.body)\n            .extract[ClustersInformation]\n            .clustersInformation flatMap { c =&gt;\n            Map(c.clusterUID.id -&gt; c.clusterName)\n          }).toMap\n    } catch {\n      case e: Exception =&gt; log(s&quot;$sysName, /clusters: $e&quot;)\n    }\n\n    // clusters/statistics\n    try {\n      clusters foreach { cluster =&gt;\n        val url: String =  base + &quot;/clusters/&quot; + cluster._1 + &quot;/statistics&quot;\n        val response: HttpResponse[String] =\n          Http(url)\n            .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\n            .auth(username.get, password.get)\n            .option(HttpOptions.allowUnsafeSSL)\n            .asString\n\n        if (response.code == 200) {\n          val cs = parse(response.body).extract[ClustersStatistics]\n          cs.traffic.connectionsCompressionRatio foreach { c =&gt;\n            msg = Map(\n              1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\n              2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\n              3 -&gt; (&quot;traffic&quot;, &quot;connectionsCompressionRatio&quot;),\n              4 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\n            )\n            data = Map(&quot;compressionRatio&quot; -&gt; c.compressionRatio.toString)\n            out.out(msg, timestamp, data)\n          }\n\n          msg = Map(\n            1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\n            2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\n            3 -&gt; (&quot;traffic&quot;, &quot;applicationThroughputStatistics&quot;)\n          )\n          data =\n            Map(&quot;inThroughput&quot; -&gt; cs.traffic.applicationThroughputStatistics.inThroughput.toString)\n          out.out(msg, timestamp, data)\n\n          cs.traffic.applicationThroughputStatistics.connectionsOutThroughput foreach { c =&gt;\n            msg = Map(\n              1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\n              2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\n              3 -&gt; (&quot;traffic&quot;, &quot;applicationThroughputStatistics&quot;),\n              4 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\n            )\n            data = Map(&quot;outThroughput&quot; -&gt; c.outThroughput.toString)\n            out.out(msg, timestamp, data)\n          }\n\n          msg = Map(\n            1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\n            2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\n            3 -&gt; (&quot;traffic&quot;, &quot;applicationIncomingWrites&quot;)\n          )\n          data =\n            Map(&quot;applicationIncomingWrites&quot; -&gt; cs.traffic.applicationIncomingWrites.toString)\n          out.out(msg, timestamp, data)\n\n          msg = Map(\n            1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\n            2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\n            3 -&gt; (&quot;traffic&quot;, &quot;initThroughputStatistics&quot;)\n          )\n          data =\n            Map(&quot;inThroughput&quot; -&gt; cs.traffic.initThroughputStatistics.inThroughput.toString)\n          out.out(msg, timestamp, data)\n\n          cs.traffic.initThroughputStatistics.connectionsOutThroughput foreach { c =&gt;\n            msg = Map(\n              1 -&gt; (&quot;statistics&quot;, &quot;clusters&quot;),\n              2 -&gt; (&quot;cluster&quot;, clusters(cs.clusterUID.id)),\n              3 -&gt; (&quot;traffic&quot;, &quot;initThroughputStatistics&quot;),\n              4 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\n            )\n            data = Map(&quot;outThroughput&quot; -&gt; c.outThroughput.toString)\n            out.out(msg, timestamp, data)\n          }\n        }\n      }\n    } catch {\n      case e: Exception =&gt; log(s&quot;$sysName, /clusters/statistics: $e&quot;)\n    }\n\n    // rpas/statistics\n    try {\n      val url: String = base + &quot;/rpas/statistics&quot;\n      val response: HttpResponse[String] =\n        Http(url)\n          .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\n          .auth(username.get, password.get)\n          .option(HttpOptions.allowUnsafeSSL)\n          .asString\n\n      if (response.code == 200) {\n        val rpas = parse(response.body).extract[RPAsStatistics].innerSet\n        rpas foreach {r =&gt;\n          msg = Map(\n            1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\n            2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\n            3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString)\n          )\n          data = Map(&quot;cpuUsage&quot; -&gt; r.cpuUsage.toString)\n          out.out(msg, timestamp, data)\n\n          r.traffic.connectionsCompressionRatio foreach {c =&gt;\n            msg = Map(\n              1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\n              2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\n              3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\n              4 -&gt; (&quot;traffic&quot;, &quot;connectionsCompressionRatio&quot;),\n              5 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\n            )\n            data = Map(&quot;compressionRatio&quot; -&gt; c.compressionRatio.toString)\n            out.out(msg, timestamp, data)\n          }\n\n          msg = Map(\n            1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\n            2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\n            3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\n            4 -&gt; (&quot;traffic&quot;, &quot;applicationThroughputStatistics&quot;)\n          )\n          data =\n            Map(&quot;inThroughput&quot; -&gt; r.traffic.applicationThroughputStatistics.inThroughput.toString)\n          out.out(msg, timestamp, data)\n\n          r.traffic.applicationThroughputStatistics.connectionsOutThroughput foreach {c =&gt;\n            msg = Map(\n              1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\n              2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\n              3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\n              4 -&gt; (&quot;traffic&quot;, &quot;applicationThroughputStatistics&quot;),\n              5 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\n            )\n            data = Map(&quot;outThroughput&quot; -&gt; c.outThroughput.toString)\n            out.out(msg, timestamp, data)\n          }\n\n          msg = Map(\n            1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\n            2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\n            3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\n            4 -&gt; (&quot;traffic&quot;, &quot;applicationIncomingWrites&quot;)\n          )\n          data =\n            Map(&quot;applicationIncomingWrites&quot; -&gt; r.traffic.applicationIncomingWrites.toString)\n          out.out(msg, timestamp, data)\n\n          msg = Map(\n            1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\n            2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\n            3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\n            4 -&gt; (&quot;traffic&quot;, &quot;initThroughputStatistics&quot;)\n          )\n          data =\n            Map(&quot;inThroughput&quot; -&gt; r.traffic.initThroughputStatistics.inThroughput.toString)\n          out.out(msg, timestamp, data)\n\n          r.traffic.initThroughputStatistics.connectionsOutThroughput foreach {c =&gt;\n            msg = Map(\n              1 -&gt; (&quot;statistics&quot;, &quot;rpas&quot;),\n              2 -&gt; (&quot;cluster&quot;, clusters(r.rpaUID.clusterUID.id)),\n              3 -&gt; (&quot;rpa&quot;,r.rpaUID.rpaNumber.toString),\n              4 -&gt; (&quot;traffic&quot;, &quot;initThroughputStatistics&quot;),\n              5 -&gt; (&quot;outCluster&quot;, clusters(c.cluster.id))\n            )\n            data = Map(&quot;outThroughput&quot; -&gt; c.outThroughput.toString)\n            out.out(msg, timestamp, data)\n          }\n        }\n      }\n    } catch {\n      case e: Exception =&gt; log(s&quot;$sysName, /rpas/statistics: $e&quot;)\n    }\n\n    // groups information and statistics\n    try {\n      // groups information\n      var url: String = base + &quot;/groups/information&quot;\n      var response: HttpResponse[String] =\n        Http(url)\n          .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\n          .auth(username.get, password.get)\n          .option(HttpOptions.allowUnsafeSSL)\n          .asString\n      if (response.code == 200) {\n        groupsInfo =\n          (parse(response.body).extract[GroupsInfo].innerSet map { g =&gt;\n            val groupCopies: Map[Long, (String, String)] =\n              (g.groupCopiesInformation map { c =&gt;\n                (c.groupCopyUID.globalCopyUID.copyUID, (c.name, c.role))\n              }).toMap\n            g.groupUID.id -&gt;\n              Map(&quot;name&quot; -&gt; g.name,\n                &quot;productionCopiesUID&quot; -&gt; g.productionCopiesUID.head.globalCopyUID.copyUID,\n                &quot;groupCopiesInformation&quot; -&gt; groupCopies)\n          }).toMap\n\n        // groups/statistics\n        url = base + &quot;/groups/statistics&quot;\n        response =\n          Http(url)\n            .timeout(connTimeoutMs = 1000, readTimeoutMs = 10000)\n            .auth(username.get, password.get)\n            .option(HttpOptions.allowUnsafeSSL)\n            .asString\n\n        if (response.code == 200) {\n          val gs = parse(response.body).extract[GroupsStatistics].innerSet\n          gs foreach { g =&gt;\n            g.consistencyGroupCopyStatistics foreach { c =&gt;\n              val copyID = c.copyUID.globalCopyUID.copyUID\n              val copyInfo =\n                groupsInfo(c.copyUID.groupUID.id)(&quot;groupCopiesInformation&quot;)\n                  .asInstanceOf[Map[Long, (String, String)]](copyID)\n              msg = Map(\n                1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\n                2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupCopyStatistics&quot;),\n                3 -&gt; (&quot;copy&quot;, copyInfo._1.toString)\n              )\n              data =\n                Map(&quot;averageIncomingThroughput&quot; -&gt; c.averageIncomingThroughput.toString,\n                    &quot;averageIncomingWrites&quot; -&gt; c.averageIncomingWrites.toString,\n                    &quot;incomingThroughput&quot; -&gt; c.incomingThroughput.toString,\n                    &quot;incomingWrites&quot; -&gt; c.incomingWrites.toString\n                )\n              out.out(msg, timestamp, data)\n\n              if (copyInfo._2 == &quot;REPLICA&quot;) {\n                msg = Map(\n                  1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\n                  2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupCopyStatistics&quot;),\n                  3 -&gt; (&quot;copy&quot;, copyInfo._1.toString),\n                  4 -&gt; (&quot;measurement&quot;, &quot;journalStatistics&quot;)\n                )\n                data =\n                  Map(&quot;averageIncomingThroughput&quot; -&gt; c.journalStatistics.actualJournalSizeInBytes.toString,\n                      &quot;actualJournalSizeInBytes&quot; -&gt; c.journalStatistics.actualJournalUsageInBytes.toString,\n                      &quot;actualJournalUsageInBytes&quot; -&gt; c.incomingThroughput.toString,\n                      &quot;usagePercentFromDistributionCapacity&quot; -&gt;\n                        ((math rint c.journalStatistics.usagePercentFromDistributionCapacity * 100) / 100).toString,\n                      &quot;journalLagInBytes&quot; -&gt; c.journalStatistics.journalLagInBytes.toString\n                  )\n                out.out(msg, timestamp, data)\n              }\n            }\n\n            g.consistencyGroupLinkStatistics foreach { c =&gt;\n              val copyInfo =\n                groupsInfo(c.linkUID.groupUID.id)(&quot;groupCopiesInformation&quot;).asInstanceOf[Map[Long, (String, String)]]\n              msg = Map(\n                1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\n                2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupLinkStatistics&quot;),\n                3 -&gt; (&quot;firstCopy&quot;, copyInfo(c.linkUID.firstCopy.copyUID)._1.toString),\n                4 -&gt; (&quot;secondCopy&quot;, copyInfo(c.linkUID.secondCopy.copyUID)._1.toString),\n                5 -&gt; (&quot;stat&quot;, &quot;initStatistics&quot;)\n              )\n              data =\n                Map(&quot;initCompletionPortion&quot; -&gt; c.initStatistics.initCompletionPortion.toString,\n                    &quot;initIncomingThroughput&quot; -&gt; c.initStatistics.initIncomingThroughput.toString,\n                    &quot;initOutgoingThroughput&quot; -&gt; c.initStatistics.initOutgoingThroughput.toString,\n                    &quot;numberOfGrids&quot; -&gt; c.initStatistics.numberOfGrids.toString\n                )\n              out.out(msg, timestamp, data)\n\n              msg = Map(\n                1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\n                2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupLinkStatistics&quot;),\n                3 -&gt; (&quot;firstCopy&quot;, copyInfo(c.linkUID.firstCopy.copyUID)._1.toString),\n                4 -&gt; (&quot;secondCopy&quot;, copyInfo(c.linkUID.secondCopy.copyUID)._1.toString),\n                5 -&gt; (&quot;stat&quot;, &quot;pipeStatistics&quot;)\n              )\n              data =\n                Map(&quot;averageJournalCompressionRatio&quot; -&gt; c.pipeStatistics.averageJournalCompressionRatio.toString,\n                    &quot;compressionRatio&quot; -&gt; c.pipeStatistics.compressionRatio.toString,\n                    &quot;numberOfGrids&quot; -&gt; c.pipeStatistics.numberOfGrids.toString,\n                    &quot;outgoingThroughput&quot; -&gt; c.pipeStatistics.outgoingThroughput.toString,\n                    &quot;deduplicationRatio&quot; -&gt; c.pipeStatistics.deduplicationRatio.toString,\n                    &quot;averageDeduplicationRatio&quot; -&gt; c.pipeStatistics.averageDeduplicationRatio.toString\n                )\n              out.out(msg, timestamp, data)\n\n              if (c.pipeStatistics.detachData != &quot;null&quot;) {\n                data = Map(&quot;detachData&quot; -&gt; c.pipeStatistics.detachData.toString)\n                out.out(msg, timestamp, data)\n              }\n              if (c.pipeStatistics.detachDataRate != &quot;null&quot;) {\n                data = Map(&quot;detachDataRate&quot; -&gt; c.pipeStatistics.detachDataRate.toString)\n                out.out(msg, timestamp, data)\n              }\n\n              msg = Map(\n                1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\n                2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupLinkStatistics&quot;),\n                3 -&gt; (&quot;firstCopy&quot;, copyInfo(c.linkUID.firstCopy.copyUID)._1.toString),\n                4 -&gt; (&quot;secondCopy&quot;, copyInfo(c.linkUID.secondCopy.copyUID)._1.toString),\n                5 -&gt; (&quot;stat&quot;, &quot;pipeStatistics&quot;),\n                6 -&gt; (&quot;measurement&quot;, &quot;lag&quot;)\n              )\n              data =\n                Map(&quot;transactionCounter&quot; -&gt; c.pipeStatistics.lag.transactionCounter.toString,\n                  &quot;timeCounter&quot; -&gt; c.pipeStatistics.lag.timeCounter.toString,\n                  &quot;dataCounter&quot; -&gt; c.pipeStatistics.lag.dataCounter.toString\n                )\n              out.out(msg, timestamp, data)\n\n              c.pipeStatistics.outgoingThroughputPerRPA foreach { r =&gt;\n                msg = Map(\n                  1 -&gt; (&quot;group&quot;, groupsInfo(g.consistencyGroupUID.id)(&quot;name&quot;).toString),\n                  2 -&gt; (&quot;statistics&quot;, &quot;consistencyGroupLinkStatistics&quot;),\n                  3 -&gt; (&quot;firstCopy&quot;, copyInfo(c.linkUID.firstCopy.copyUID)._1.toString),\n                  4 -&gt; (&quot;secondCopy&quot;, copyInfo(c.linkUID.secondCopy.copyUID)._1.toString),\n                  5 -&gt; (&quot;stat&quot;, &quot;pipeStatistics&quot;),\n                  6 -&gt; (&quot;measurement&quot;, &quot;outgoingThroughputPerRPA&quot;),\n                  7 -&gt; (&quot;outCluster&quot;, clusters(r.rpaUID.clusterUID.id)),\n                  8 -&gt; (&quot;outRPA&quot;, r.rpaUID.rpaNumber.toString)\n                )\n                data =\n                  Map(&quot;numberOfGrids&quot; -&gt; r.numberOfGrids.toString,\n                      &quot;outgoingThroughput&quot; -&gt; r.outgoingThroughput.toString\n                  )\n                out.out(msg, timestamp, data)\n              }\n            }\n          }\n        }\n      }\n    } catch {\n      case e: Exception =&gt; log(s&quot;$sysName, /groups: $e RP.scala&quot;)\n    }\n  }\n}\n</code></pre>\n<blockquote>\n<p>And My Log File</p>\n</blockquote>\n<pre><code>`Thu Dec 01 11:35:37 UTC 2022 rp01, /clusters/statistics: java.util.NoSuchElementException: key not found: measurement\nThu Dec 01 11:35:37 UTC 2022 rp01, /rpas/statistics: java.util.NoSuchElementException: key not found: measurement\nThu Dec 01 11:35:37 UTC 2022 rp01, /groups: net.liftweb.json.MappingException: No usable value for innerSet\nNo usable value for groupCopiesInformation\nNo usable value for vmsInformation\nDo not know how to convert JObject(List(JField(vmUID,JObject(List(JField(uuid,JString(500823dd-6738-b445-c705-7ad0d2b4e67c)), JField(virtualCenterUID,JObject(List(JField(uuid,JString(1a5e7115-0def-4796-b155-89d0c20e4ea5)))))))), JField(vmName,JString(YalcinMustafa_Management-win)), JField(vmBiosUuid,JString(4208652e-3aae-11bb-03a8-47d5ad33e1fc)))) into class java.lang.String\n`\n</code></pre>\n<p>I want to extract data from EMC Recovery Point with scala and influxdb and design a monitoring with these data. But even though I saw that the services were running and the data was pulled from RP, I could not transfer this data to InfluxDB.</p>\n<p><code>Thanks in advance</code></p>\n"},{"tags":["java","spring-boot","dependency-injection","aop","spring-aop"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1669894843,"post_id":74641141,"comment_id":131749206,"body_markdown":"[Here&#39;s](https://stackoverflow.com/a/56140668/19979867) the solution","body":"<a href=\"https://stackoverflow.com/a/56140668/19979867\">Here&#39;s</a> the solution"},{"owner":{"account_id":19309935,"reputation":27,"user_id":14115937,"display_name":"Slava Ugnachyov"},"score":0,"creation_date":1669895586,"post_id":74641141,"comment_id":131749429,"body_markdown":"I have edited the post. I am not sure I can proceed with new arguments because controller has its own arguments which can be erased.","body":"I have edited the post. I am not sure I can proceed with new arguments because controller has its own arguments which can be erased."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1669897835,"post_id":74641141,"comment_id":131750114,"body_markdown":"You have all the arguments in the controller available in `joinPoint` object. You can send the same parameters plus a new one. You will have to add a new parameter in the Controller though.","body":"You have all the arguments in the controller available in <code>joinPoint</code> object. You can send the same parameters plus a new one. You will have to add a new parameter in the Controller though."}],"owner":{"account_id":19309935,"reputation":27,"user_id":14115937,"display_name":"Slava Ugnachyov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669895439,"creation_date":1669894037,"question_id":74641141,"body_markdown":"Here is the situation. I have a starter which performs checks on every request. I have performed it by creating such an aspect:\r\n\r\n        @Around(&quot;execution(* (@org.springframework.web.bind.annotation.RestController *).*(..))&quot;)\r\n        public Object check(final ProceedingJoinPoint joinPoint) {\r\n    \r\n            CheckResponse checkResponse = client.check();\r\n            if (checkResponse.getDate().before(new Date())) {\r\n                 throw new CheckException(&quot;message&quot;);\r\n            }\r\n       \r\n            try {\r\n                return joinPoint.proceed();\r\n            } catch (Throwable e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\nEverything worked fine until I needed to use this `CheckResponse` in my rest controller.\r\nHow can I get it inside there? I thought about creating request scoped beans inside my aspect and injecting it into controller with spring but I can&#39;t figure out how to do it programmatically. I guess another way can be using reflection but I am inclined to more elegant ways. Maybe you have any ideas?\r\n\r\nP.S. The controller method has its own parameters such as @RequestParam, and using joinPoint.proceed() can override those parameters. I am trying to make this thing as much universal as possible.","title":"Pass/inject object to adviced method in spring","body":"<p>Here is the situation. I have a starter which performs checks on every request. I have performed it by creating such an aspect:</p>\n<pre><code>    @Around(&quot;execution(* (@org.springframework.web.bind.annotation.RestController *).*(..))&quot;)\n    public Object check(final ProceedingJoinPoint joinPoint) {\n\n        CheckResponse checkResponse = client.check();\n        if (checkResponse.getDate().before(new Date())) {\n             throw new CheckException(&quot;message&quot;);\n        }\n   \n        try {\n            return joinPoint.proceed();\n        } catch (Throwable e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Everything worked fine until I needed to use this <code>CheckResponse</code> in my rest controller.\nHow can I get it inside there? I thought about creating request scoped beans inside my aspect and injecting it into controller with spring but I can't figure out how to do it programmatically. I guess another way can be using reflection but I am inclined to more elegant ways. Maybe you have any ideas?</p>\n<p>P.S. The controller method has its own parameters such as @RequestParam, and using joinPoint.proceed() can override those parameters. I am trying to make this thing as much universal as possible.</p>\n"},{"tags":["java","maven","maven-assembly-plugin"],"comments":[{"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"score":2,"creation_date":1336594363,"post_id":10521014,"comment_id":13610448,"body_markdown":"Your question does not contain all the information needed. Post your pom.xml, assembly.xml, current output and desired output.","body":"Your question does not contain all the information needed. Post your pom.xml, assembly.xml, current output and desired output."}],"answers":[{"tags":[],"owner":{"account_id":156587,"reputation":15475,"user_id":373962,"accept_rate":86,"display_name":"Miquel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336630520,"creation_date":1336630520,"answer_id":10528420,"question_id":10521014,"body_markdown":"HAve you tried adding an includes section:\r\n\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n\r\nBefore your excludes?","title":"Maven assembly include all jars but one (exclude doesn&#39;t work)","body":"<p>HAve you tried adding an includes section:</p>\n\n<pre><code>        &lt;includes&gt;\n            &lt;include&gt;**&lt;/include&gt;\n        &lt;/includes&gt;\n</code></pre>\n\n<p>Before your excludes?</p>\n"},{"tags":[],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336633986,"creation_date":1336633986,"answer_id":10529082,"question_id":10521014,"body_markdown":"Set that dependency&#39;s scope to provided. That should do the trick, if it&#39;s a direct dependency of your project. If it&#39;s not, then try to explicitly add it as a dependency of your assembly and still set it to scope:provided.","title":"Maven assembly include all jars but one (exclude doesn&#39;t work)","body":"<p>Set that dependency's scope to provided. That should do the trick, if it's a direct dependency of your project. If it's not, then try to explicitly add it as a dependency of your assembly and still set it to scope:provided.</p>\n"}],"owner":{"account_id":415073,"reputation":1735,"user_id":789656,"accept_rate":63,"display_name":"Se Norm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669895222,"creation_date":1336584063,"question_id":10521014,"body_markdown":"I am trying to do exactly that: https://stackoverflow.com/a/1793017/789656\r\n\r\nHowever, in my case I want some jars not being put in the lib folder. I tried to add\r\n\r\n    &lt;excludes&gt;\r\n      &lt;exclude&gt;special*.jar&lt;/exclude&gt;\r\n    &lt;/excludes&gt;\r\n\r\nBut it doesn&#39;t do the trick, because as stated [here][1] \r\n\r\n&gt; Include patterns take precedence over exclude patterns\r\n\r\nHow do I have to configure the assembly to achieve what I want?\r\n\r\n  [1]: https://maven.apache.org/plugins-archives/maven-assembly-plugin-LATEST/advanced-descriptor-topics.html","title":"Maven assembly include all jars but one (exclude doesn&#39;t work)","body":"<p>I am trying to do exactly that: <a href=\"https://stackoverflow.com/a/1793017/789656\">https://stackoverflow.com/a/1793017/789656</a></p>\n<p>However, in my case I want some jars not being put in the lib folder. I tried to add</p>\n<pre><code>&lt;excludes&gt;\n  &lt;exclude&gt;special*.jar&lt;/exclude&gt;\n&lt;/excludes&gt;\n</code></pre>\n<p>But it doesn't do the trick, because as stated <a href=\"https://maven.apache.org/plugins-archives/maven-assembly-plugin-LATEST/advanced-descriptor-topics.html\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>Include patterns take precedence over exclude patterns</p>\n</blockquote>\n<p>How do I have to configure the assembly to achieve what I want?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"score":0,"creation_date":1669372203,"post_id":74571330,"comment_id":131631955,"body_markdown":"@Dattq2303 I did try that but I can&#39;t work it out inside the &quot;for&quot; cycle","body":"@Dattq2303 I did try that but I can&#39;t work it out inside the &quot;for&quot; cycle"},{"owner":{"account_id":15558166,"reputation":302,"user_id":11223954,"display_name":"Dattq2303"},"score":0,"creation_date":1669372536,"post_id":74571330,"comment_id":131632039,"body_markdown":"You need to add NextDays object to your question. And also be clear about what you want. Please edit your question.","body":"You need to add NextDays object to your question. And also be clear about what you want. Please edit your question."},{"owner":{"account_id":6746752,"reputation":298,"user_id":5198144,"display_name":"Pekinek"},"score":0,"creation_date":1669372784,"post_id":74571330,"comment_id":131632115,"body_markdown":"So you want to have only one element in WeeklyForecast.rain list? If you want to have just highest number there instead of list you need to change your model.","body":"So you want to have only one element in WeeklyForecast.rain list? If you want to have just highest number there instead of list you need to change your model."}],"answers":[{"tags":[],"owner":{"account_id":6746752,"reputation":298,"user_id":5198144,"display_name":"Pekinek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669895216,"creation_date":1669373230,"answer_id":74571621,"question_id":74571330,"body_markdown":"This should do the trick:\r\n\r\n    public List&lt;WeeklyForecast&gt; convert(){\r\n\r\n        AllForecast allForecast = Templates.restTemplate(restTemplate);\r\n        List&lt;NextDays&gt; something = allForecast.getNextDays();\r\n        List&lt;WeeklyForecast&gt; result = new ArrayList&lt;WeeklyForecast&gt;();\r\n        \r\n        \r\n        for (int i=0; i&lt; something.size(); i++){\r\n            NextDays before = something.get(i);\r\n            WeeklyForecast weekly = new WeeklyForecast(\r\n              before.getData().getData(),\r\n              before.getTemperature().getMaximumTemperature(),\r\n              before.getTemperature().getMinimumTemperature(),\r\n              before.getRain().stream().mapToInt(Integer::parseInt).max().orElse(-1));\r\n\r\n            result.add(i, weekly);\r\n        }\r\n        \r\n        return result;   \r\n    }","title":"Picking the highest number in a list of strings","body":"<p>This should do the trick:</p>\n<pre><code>public List&lt;WeeklyForecast&gt; convert(){\n\n    AllForecast allForecast = Templates.restTemplate(restTemplate);\n    List&lt;NextDays&gt; something = allForecast.getNextDays();\n    List&lt;WeeklyForecast&gt; result = new ArrayList&lt;WeeklyForecast&gt;();\n    \n    \n    for (int i=0; i&lt; something.size(); i++){\n        NextDays before = something.get(i);\n        WeeklyForecast weekly = new WeeklyForecast(\n          before.getData().getData(),\n          before.getTemperature().getMaximumTemperature(),\n          before.getTemperature().getMinimumTemperature(),\n          before.getRain().stream().mapToInt(Integer::parseInt).max().orElse(-1));\n\n        result.add(i, weekly);\n    }\n    \n    return result;   \n}\n</code></pre>\n"}],"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1669373654,"accepted_answer_id":74571621,"answer_count":1,"score":-1,"last_activity_date":1669895216,"creation_date":1669371911,"question_id":74571330,"body_markdown":"I have a string list with &quot;numbers&quot;:\r\n `&quot;Rain Probability&quot;: [\r\n&quot;100&quot;,\r\n&quot;95&quot;,\r\n&quot;95&quot;\r\n]`\r\n\r\nAnd I want to be able to get only the highest one. I then put everything in a List&lt;WeeklyForecast&gt; called &quot;result&quot; but instead pf the string list I want just the highest number.\r\n\r\n`\r\n```\r\npublic List&lt;WeeklyForecast&gt; convert(){\r\n\r\n        AllForecast allForecast = Templates.restTemplate(restTemplate);\r\n        List&lt;NextDays&gt; something = allForecast.getNextDays();\r\n        List&lt;WeeklyForecast&gt; result = new ArrayList&lt;WeeklyForecast&gt;();\r\n        \r\n        \r\n        for (int i=0; i&lt; something.size(); i++){\r\n            NextDays before = something.get(i);\r\n            WeeklyForecast weekly = new WeeklyForecast(\r\n              before.getData().getData(),\r\n              before.getTemperature().getMaximumTemperature(),\r\n              before.getTemperature().getMinimumTemperature(),\r\n              before.getRain());\r\n\r\n            result.add(i,weekly);\r\n        }\r\n        \r\n        return result;\r\n       \r\n       // before.getRain().stream().mapToInt(Integer::parseInt).max().orElse(-1)     \r\n     \r\n        \r\n    }\r\n```\r\n`\r\n\r\nThis is my WeeklyForecast Model:\r\n\r\n```\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class WeeklyForecast {\r\n\r\n    @JsonProperty(&quot;Date&quot;)\r\n    private String data;\r\n\r\n    @JsonProperty(&quot;Maximum Temperature&quot;)\r\n    private String tempMax;\r\n\r\n    @JsonProperty(&quot;Minimum Temperature&quot;)\r\n    private String tempMin;\r\n\r\n    @JsonProperty(&quot;Rain Probability&quot;)\r\n    private int rain;\r\n\r\n}\r\n\r\n```\r\nAnd the NextDays object:\r\n\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class NextDays {\r\n\r\n\t@JsonProperty(&quot;@attributes&quot;)\r\n\tprivate NextDate data;\r\n\r\n\tprivate List&lt;String&gt; rain;\r\n\r\n\t@JsonProperty(&quot;temperatura&quot;)\r\n\tprivate NextTemperature temperature;\r\n\r\n\tpublic NextDays(){\r\n\t\train = new ArrayList&lt;&gt;();\r\n\t}\r\n\r\n\tpublic NextDate getData() {\r\n\t\treturn data;\r\n\t}\r\n\r\n\tpublic void setData(NextDate data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n\tpublic NextTemperature getTemperature() {\r\n\t\treturn temperature;\r\n\t}\r\n\r\n\tpublic void setTemperature(NextTemperature temperature) {\r\n\t\tthis.temperature = temperature;\r\n\t}\r\n\r\n\t@JsonSetter(&quot;prob_precipitacion&quot;)\r\n\tpublic void setNextRain(JsonNode nextRain) {\r\n\r\n\t\tif (nextRain != null) {\r\n\t\t\tif (nextRain.isTextual()) {\r\n\t\t\t\train.add(nextRain.asText());\r\n\t\t\t} else if (nextRain.isArray()) {\r\n\t\t\t\tfor(JsonNode node : nextRain) {\r\n\t\t\t\t\train.add(node.asText());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic List&lt;String&gt; getRain() {\r\n\t\treturn rain;\r\n\t}\r\n}\r\n\r\n\r\n    \r\n\r\nI have to convert the string list into an int rigth? How can I do it?\r\nI want to do this inside de &quot;for&quot; cycle is possible.\r\nRegards.","title":"Picking the highest number in a list of strings","body":"<p>I have a string list with &quot;numbers&quot;:\n<code>&quot;Rain Probability&quot;: [ &quot;100&quot;, &quot;95&quot;, &quot;95&quot; ]</code></p>\n<p>And I want to be able to get only the highest one. I then put everything in a List called &quot;result&quot; but instead pf the string list I want just the highest number.</p>\n<p>`</p>\n<pre><code>public List&lt;WeeklyForecast&gt; convert(){\n\n        AllForecast allForecast = Templates.restTemplate(restTemplate);\n        List&lt;NextDays&gt; something = allForecast.getNextDays();\n        List&lt;WeeklyForecast&gt; result = new ArrayList&lt;WeeklyForecast&gt;();\n        \n        \n        for (int i=0; i&lt; something.size(); i++){\n            NextDays before = something.get(i);\n            WeeklyForecast weekly = new WeeklyForecast(\n              before.getData().getData(),\n              before.getTemperature().getMaximumTemperature(),\n              before.getTemperature().getMinimumTemperature(),\n              before.getRain());\n\n            result.add(i,weekly);\n        }\n        \n        return result;\n       \n       // before.getRain().stream().mapToInt(Integer::parseInt).max().orElse(-1)     \n     \n        \n    }\n</code></pre>\n<p>`</p>\n<p>This is my WeeklyForecast Model:</p>\n<pre><code>import java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class WeeklyForecast {\n\n    @JsonProperty(&quot;Date&quot;)\n    private String data;\n\n    @JsonProperty(&quot;Maximum Temperature&quot;)\n    private String tempMax;\n\n    @JsonProperty(&quot;Minimum Temperature&quot;)\n    private String tempMin;\n\n    @JsonProperty(&quot;Rain Probability&quot;)\n    private int rain;\n\n}\n\n</code></pre>\n<p>And the NextDays object:</p>\n<p>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class NextDays {</p>\n<pre><code>@JsonProperty(&quot;@attributes&quot;)\nprivate NextDate data;\n\nprivate List&lt;String&gt; rain;\n\n@JsonProperty(&quot;temperatura&quot;)\nprivate NextTemperature temperature;\n\npublic NextDays(){\n    rain = new ArrayList&lt;&gt;();\n}\n\npublic NextDate getData() {\n    return data;\n}\n\npublic void setData(NextDate data) {\n    this.data = data;\n}\n\npublic NextTemperature getTemperature() {\n    return temperature;\n}\n\npublic void setTemperature(NextTemperature temperature) {\n    this.temperature = temperature;\n}\n\n@JsonSetter(&quot;prob_precipitacion&quot;)\npublic void setNextRain(JsonNode nextRain) {\n\n    if (nextRain != null) {\n        if (nextRain.isTextual()) {\n            rain.add(nextRain.asText());\n        } else if (nextRain.isArray()) {\n            for(JsonNode node : nextRain) {\n                rain.add(node.asText());\n            }\n        }\n    }\n}\n\npublic List&lt;String&gt; getRain() {\n    return rain;\n}\n</code></pre>\n<p>}</p>\n<p>I have to convert the string list into an int rigth? How can I do it?\nI want to do this inside de &quot;for&quot; cycle is possible.\nRegards.</p>\n"},{"tags":["java","selenium","web-scraping"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669894806,"creation_date":1669894806,"answer_id":74641298,"question_id":74641249,"body_markdown":"As you are using:\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n\r\nSo in the begining instead of:\r\n\r\n    webdriver.gecko.driver\r\n\r\nYou need to supply:\r\n\r\n    webdriver.chrome.driver","title":"Cant access to the chrome settings","body":"<p>As you are using:</p>\n<pre><code>WebDriver driver = new ChromeDriver();\n</code></pre>\n<p>So in the begining instead of:</p>\n<pre><code>webdriver.gecko.driver\n</code></pre>\n<p>You need to supply:</p>\n<pre><code>webdriver.chrome.driver\n</code></pre>\n"}],"owner":{"account_id":27110504,"reputation":1,"user_id":20655742,"display_name":"Shreker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669894806,"creation_date":1669894597,"question_id":74641249,"body_markdown":"I&#39;m making an app that needs to autolog.For that, I&#39;m using selenium to open a new tab and get the user and the password with web scrapping but I&#39;m getting an java.net.MalformedURLException: unknown protocol: chrome when tryng to get the source code.How can I solve this? thxx\r\n\r\n```\r\n\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;.\\\\driver/chromedriver.exe&quot;);\r\n\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\r\n\t\tdriver.manage().window().maximize();\r\n\r\n\t\tdriver.get(&quot;chrome://settings/passwords?search=contra&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tURL dirURL = new URL(&quot;chrome://settings/passwords?search=contra&quot;);\r\n\t\t\tInputStream entry = dirURL.openStream();\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(entry));\r\n\r\n\t\t\tString line = &quot;&quot;;\r\n\t\t\tString sourceCode = &quot;&quot;;\r\n\t\t\tdo {\r\n\t\t\t\tsourceCode += line + &quot;\\n&quot;;\r\n\t\t\t\tline = reader.readLine();\r\n\t\t\t} while (line != null);\r\n\t\t\t\r\n\t\t\tSystem.out.println(sourceCode);\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\n```\r\n","title":"Cant access to the chrome settings","body":"<p>I'm making an app that needs to autolog.For that, I'm using selenium to open a new tab and get the user and the password with web scrapping but I'm getting an java.net.MalformedURLException: unknown protocol: chrome when tryng to get the source code.How can I solve this? thxx</p>\n<pre><code>\n\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;.\\\\driver/chromedriver.exe&quot;);\n\n        WebDriver driver = new ChromeDriver();\n\n        driver.manage().window().maximize();\n\n        driver.get(&quot;chrome://settings/passwords?search=contra&quot;);\n\n        try {\n            URL dirURL = new URL(&quot;chrome://settings/passwords?search=contra&quot;);\n            InputStream entry = dirURL.openStream();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(entry));\n\n            String line = &quot;&quot;;\n            String sourceCode = &quot;&quot;;\n            do {\n                sourceCode += line + &quot;\\n&quot;;\n                line = reader.readLine();\n            } while (line != null);\n            \n            System.out.println(sourceCode);\n            \n            \n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    \n</code></pre>\n"},{"tags":["java","mysql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669893809,"creation_date":1669817046,"answer_id":74629079,"question_id":74628294,"body_markdown":"The mapping is wrong because JPA cannot guess that `ListAlarmJoinTable` is essentially a join table (with an extra property). JPA sees your setup and thinks the relations `Alarm` &amp;rarr; `AlarmListId` and `AlarmList` &amp;rarr; `AlarmListId` have nothing to do with the fields of the `AlarmListId`, that you intended to be foreign keys.\r\n\r\nChange the `AlarmListId` as follows to make the relation explicit:\r\n\r\n```java\r\n@Embeddable\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class AlarmListId implements Serializable {\r\n    @ManyToOne(optional=false, fetch=LAZY)\r\n    private Alarm alarm;\r\n    @ManyToOne(optional=false, fetch=LAZY)\r\n    private AlarmList list;\r\n\r\n    // You MUST implement hashCode() and equals(), probably Lombok&#39;s\r\n    // @EqualsAndHashCode is enough but please check the semantics!!!\r\n}\r\n```\r\n\r\nNow, you have to use `mappedBy` in the `@OneToMany` annotations over `Alarm.alarmLists` and `AlarmList.alarms`. I *think* the value should be:\r\n\r\n```java\r\n    @OneToMany(..., mappedBy = &quot;id.alarm&quot;)\r\n    private List&lt;ListAlarmJoinTable&gt; alarmLists;\r\n\r\n    // AND:\r\n\r\n    @OneToMany(..., mappedBy = &quot;id.list&quot;)\r\n    private List&lt;ListAlarmJoinTable&gt; alarms;\r\n```\r\n\r\nThe `mappedBy` property will help JPA understand that these are just the reverse sides of the *same* relation.","title":"Hibernate creates wrong table relations in MySQL","body":"<p>The mapping is wrong because JPA cannot guess that <code>ListAlarmJoinTable</code> is essentially a join table (with an extra property). JPA sees your setup and thinks the relations <code>Alarm</code> → <code>AlarmListId</code> and <code>AlarmList</code> → <code>AlarmListId</code> have nothing to do with the fields of the <code>AlarmListId</code>, that you intended to be foreign keys.</p>\n<p>Change the <code>AlarmListId</code> as follows to make the relation explicit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AlarmListId implements Serializable {\n    @ManyToOne(optional=false, fetch=LAZY)\n    private Alarm alarm;\n    @ManyToOne(optional=false, fetch=LAZY)\n    private AlarmList list;\n\n    // You MUST implement hashCode() and equals(), probably Lombok's\n    // @EqualsAndHashCode is enough but please check the semantics!!!\n}\n</code></pre>\n<p>Now, you have to use <code>mappedBy</code> in the <code>@OneToMany</code> annotations over <code>Alarm.alarmLists</code> and <code>AlarmList.alarms</code>. I <em>think</em> the value should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @OneToMany(..., mappedBy = &quot;id.alarm&quot;)\n    private List&lt;ListAlarmJoinTable&gt; alarmLists;\n\n    // AND:\n\n    @OneToMany(..., mappedBy = &quot;id.list&quot;)\n    private List&lt;ListAlarmJoinTable&gt; alarms;\n</code></pre>\n<p>The <code>mappedBy</code> property will help JPA understand that these are just the reverse sides of the <em>same</em> relation.</p>\n"}],"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74629079,"answer_count":1,"score":0,"last_activity_date":1669893809,"creation_date":1669813590,"question_id":74628294,"body_markdown":"I have a problem with Hibernate. I am using Spring 2.7.5. I have three entities.\r\n\r\n- Alarm,\r\n- AlarmList,\r\n- ListAlarmJoinTable.\r\n\r\nAlarm and AlarmList are in a MtoM relation. The tricky part is that they are not referencing each other, but they both have a OneToMany reference to the ListAlarmJoinTable. \r\n\r\nHere are the classes:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;alarm&quot;)\r\npublic class Alarm {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Integer alarmId;\r\n\r\n    @Column(unique = true)\r\n    String name;\r\n    private Long time;\r\n    private Integer code;\r\n    private Integer priority;\r\n    private String source;\r\n    private String description;\r\n    private String codeAsAsString;\r\n    private String priorityAsString;\r\n    private Integer dmId;\r\n    private Boolean internal;\r\n    private Integer instnaceindex;\r\n\r\n    @OneToMany(orphanRemoval = true, cascade = {CascadeType.REMOVE, CascadeType.MERGE})\r\n    private List&lt;ListAlarmJoinTable&gt; alarmLists;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;JsonAlarm [time=&quot; + time + &quot;, code=&quot; + code + &quot;, priority=&quot;\r\n                + priority + &quot;, source=&quot; + source + &quot;, description=&quot;\r\n                + description + &quot;, alarmId=&quot; + alarmId + &quot;, codeAsAsString=&quot;\r\n                + codeAsAsString + &quot;, priorityAsString=&quot; + priorityAsString\r\n                + &quot;, dmId=&quot; + dmId + &quot;, internal=&quot; + internal\r\n                + &quot;, instnaceindex=&quot; + instnaceindex + &quot;]&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Table(name = &quot;alarm_list&quot;)\r\npublic class AlarmList {\r\n\r\n    @Id\r\n    private String name;\r\n\r\n    @OneToMany(orphanRemoval = true, cascade = {CascadeType.REMOVE, CascadeType.MERGE})\r\n    private List&lt;ListSequenceJoinTable&gt; alarmSequences;\r\n\r\n    @OneToMany(orphanRemoval = true, cascade = {CascadeType.REMOVE, CascadeType.MERGE})\r\n    private List&lt;ListAlarmJoinTable&gt; alarms;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;list_alarms_join_table&quot;)\r\npublic class ListAlarmJoinTable {\r\n\r\n    @EmbeddedId\r\n    private AlarmListId id;\r\n    private int position;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Embeddable\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class AlarmListId implements Serializable {\r\n\r\n    private Integer alarmId;\r\n    private String listId;\r\n\r\n}\r\n```\r\n\r\n\r\nWhen Hibernate creates the schema and tables, it creates the following tables: \r\n\r\n&quot;alarm&quot;, &quot;alarm_list&quot;, &quot;alarm_alarm_lists&quot; , &quot;alarm_list_alarms&quot;, &quot;list_alarms_join_table&quot;.\r\n\r\nWhat I actually need are these: &quot;alarm&quot;, &quot;alarm_list&quot;, &quot;list_alarms_join_table&quot;.\r\nNow, at first I thought it was the dialect, so I tried out every MySQL dialect and it didn&#39;t work. I even ran `maven clean install` (even though I knew that wouldn&#39;t change anything). \r\n\r\nFor further information this is my application.properties:\r\n\r\n[enter image description here](https://i.stack.imgur.com/zjmxB.png)\r\n","title":"Hibernate creates wrong table relations in MySQL","body":"<p>I have a problem with Hibernate. I am using Spring 2.7.5. I have three entities.</p>\n<ul>\n<li>Alarm,</li>\n<li>AlarmList,</li>\n<li>ListAlarmJoinTable.</li>\n</ul>\n<p>Alarm and AlarmList are in a MtoM relation. The tricky part is that they are not referencing each other, but they both have a OneToMany reference to the ListAlarmJoinTable.</p>\n<p>Here are the classes:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;alarm&quot;)\npublic class Alarm {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Integer alarmId;\n\n    @Column(unique = true)\n    String name;\n    private Long time;\n    private Integer code;\n    private Integer priority;\n    private String source;\n    private String description;\n    private String codeAsAsString;\n    private String priorityAsString;\n    private Integer dmId;\n    private Boolean internal;\n    private Integer instnaceindex;\n\n    @OneToMany(orphanRemoval = true, cascade = {CascadeType.REMOVE, CascadeType.MERGE})\n    private List&lt;ListAlarmJoinTable&gt; alarmLists;\n\n    @Override\n    public String toString() {\n        return &quot;JsonAlarm [time=&quot; + time + &quot;, code=&quot; + code + &quot;, priority=&quot;\n                + priority + &quot;, source=&quot; + source + &quot;, description=&quot;\n                + description + &quot;, alarmId=&quot; + alarmId + &quot;, codeAsAsString=&quot;\n                + codeAsAsString + &quot;, priorityAsString=&quot; + priorityAsString\n                + &quot;, dmId=&quot; + dmId + &quot;, internal=&quot; + internal\n                + &quot;, instnaceindex=&quot; + instnaceindex + &quot;]&quot;;\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@ToString\n@Table(name = &quot;alarm_list&quot;)\npublic class AlarmList {\n\n    @Id\n    private String name;\n\n    @OneToMany(orphanRemoval = true, cascade = {CascadeType.REMOVE, CascadeType.MERGE})\n    private List&lt;ListSequenceJoinTable&gt; alarmSequences;\n\n    @OneToMany(orphanRemoval = true, cascade = {CascadeType.REMOVE, CascadeType.MERGE})\n    private List&lt;ListAlarmJoinTable&gt; alarms;\n\n}\n</code></pre>\n<pre><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Table(name = &quot;list_alarms_join_table&quot;)\npublic class ListAlarmJoinTable {\n\n    @EmbeddedId\n    private AlarmListId id;\n    private int position;\n\n}\n</code></pre>\n<pre><code>@Embeddable\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AlarmListId implements Serializable {\n\n    private Integer alarmId;\n    private String listId;\n\n}\n</code></pre>\n<p>When Hibernate creates the schema and tables, it creates the following tables:</p>\n<p>&quot;alarm&quot;, &quot;alarm_list&quot;, &quot;alarm_alarm_lists&quot; , &quot;alarm_list_alarms&quot;, &quot;list_alarms_join_table&quot;.</p>\n<p>What I actually need are these: &quot;alarm&quot;, &quot;alarm_list&quot;, &quot;list_alarms_join_table&quot;.\nNow, at first I thought it was the dialect, so I tried out every MySQL dialect and it didn't work. I even ran <code>maven clean install</code> (even though I knew that wouldn't change anything).</p>\n<p>For further information this is my application.properties:</p>\n<p><a href=\"https://i.stack.imgur.com/zjmxB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","log4j","slf4j"],"answers":[{"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669893618,"creation_date":1669893618,"answer_id":74641062,"question_id":74631129,"body_markdown":"For [`RollingFileAppender`][1] you must specify both a `RollingPolicy` and a `TriggeringPolicy`. Here is the quote from that link:\r\n&gt; To be of any use, a RollingFileAppender must have both a RollingPolicy and a TriggeringPolicy set up.\r\n\r\nAlso\r\n&gt; However, if its RollingPolicy also implements the TriggeringPolicy interface, then only the former needs to be specified explicitly.\r\n\r\nAnd indeed, if you look into the source code of `RollingFileAppender` [here][2] and [here][3] you will see that there are &quot;not-null&quot; preconditions on those policies:\r\n```\r\npublic void start() {\r\n    if (triggeringPolicy == null) {\r\n        addWarn(&quot;No TriggeringPolicy was set for the RollingFileAppender named &quot; + getName());\r\n        addWarn(MORE_INFO_PREFIX + RFA_NO_TP_URL);\r\n        return; // BOOM\r\n    }\r\n    ...\r\n    if (rollingPolicy == null) {\r\n        addError(&quot;No RollingPolicy was set for the RollingFileAppender named &quot; + getName());\r\n        addError(MORE_INFO_PREFIX + RFA_NO_RP_URL);\r\n        return; // BOOM\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\n\r\nSo, to remediate the situation your relevant piece of code can be like the below if you use the standard [`TimeBasedRollingPolicy`][4] which is:\r\n&gt; TimeBasedRollingPolicy is possibly the most popular rolling policy. It defines a rollover policy based on time, for example by day or by month.\r\n\r\n```\r\nRollingFileAppender&lt;ILoggingEvent&gt; fileAppender = new RollingFileAppender&lt;&gt;();\r\nfileAppender.setFile(&quot;test_two.log&quot;);\r\nfileAppender.setEncoder(ple);\r\nfileAppender.setContext(lc);\r\n\r\nTimeBasedRollingPolicy&lt;ILoggingEvent&gt; logFilePolicy = new TimeBasedRollingPolicy&lt;&gt;();\r\nlogFilePolicy.setContext(lc);\r\nlogFilePolicy.setParent(fileAppender);\r\nlogFilePolicy.setFileNamePattern(&quot;test_two.log.%d{yyyy-MM-dd_HH}&quot;);\r\nlogFilePolicy.setMaxHistory(7);\r\nlogFilePolicy.start();\r\n\r\nfileAppender.setRollingPolicy(logFilePolicy);\r\nfileAppender.start();\r\n```\r\n\r\nUsing this code I can see the configured `test_two.log` file being always created.\r\n\r\n  [1]: https://logback.qos.ch/manual/appenders.html#RollingFileAppender\r\n  [2]: https://github.com/qos-ch/logback/blob/master/logback-core/src/main/java/ch/qos/logback/core/rolling/RollingFileAppender.java#L52\r\n  [3]: https://github.com/qos-ch/logback/blob/55502546142897ef6d579568ac8ec8933577e88a/logback-core/src/main/java/ch/qos/logback/core/rolling/RollingFileAppender.java#L74\r\n  [4]: https://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy","title":"RollingFileAppender doesn&#39;t create the log file","body":"<p>For <a href=\"https://logback.qos.ch/manual/appenders.html#RollingFileAppender\" rel=\"nofollow noreferrer\"><code>RollingFileAppender</code></a> you must specify both a <code>RollingPolicy</code> and a <code>TriggeringPolicy</code>. Here is the quote from that link:</p>\n<blockquote>\n<p>To be of any use, a RollingFileAppender must have both a RollingPolicy and a TriggeringPolicy set up.</p>\n</blockquote>\n<p>Also</p>\n<blockquote>\n<p>However, if its RollingPolicy also implements the TriggeringPolicy interface, then only the former needs to be specified explicitly.</p>\n</blockquote>\n<p>And indeed, if you look into the source code of <code>RollingFileAppender</code> <a href=\"https://github.com/qos-ch/logback/blob/master/logback-core/src/main/java/ch/qos/logback/core/rolling/RollingFileAppender.java#L52\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/qos-ch/logback/blob/55502546142897ef6d579568ac8ec8933577e88a/logback-core/src/main/java/ch/qos/logback/core/rolling/RollingFileAppender.java#L74\" rel=\"nofollow noreferrer\">here</a> you will see that there are &quot;not-null&quot; preconditions on those policies:</p>\n<pre><code>public void start() {\n    if (triggeringPolicy == null) {\n        addWarn(&quot;No TriggeringPolicy was set for the RollingFileAppender named &quot; + getName());\n        addWarn(MORE_INFO_PREFIX + RFA_NO_TP_URL);\n        return; // BOOM\n    }\n    ...\n    if (rollingPolicy == null) {\n        addError(&quot;No RollingPolicy was set for the RollingFileAppender named &quot; + getName());\n        addError(MORE_INFO_PREFIX + RFA_NO_RP_URL);\n        return; // BOOM\n    }\n    ...\n}\n</code></pre>\n<p>So, to remediate the situation your relevant piece of code can be like the below if you use the standard <a href=\"https://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy\" rel=\"nofollow noreferrer\"><code>TimeBasedRollingPolicy</code></a> which is:</p>\n<blockquote>\n<p>TimeBasedRollingPolicy is possibly the most popular rolling policy. It defines a rollover policy based on time, for example by day or by month.</p>\n</blockquote>\n<pre><code>RollingFileAppender&lt;ILoggingEvent&gt; fileAppender = new RollingFileAppender&lt;&gt;();\nfileAppender.setFile(&quot;test_two.log&quot;);\nfileAppender.setEncoder(ple);\nfileAppender.setContext(lc);\n\nTimeBasedRollingPolicy&lt;ILoggingEvent&gt; logFilePolicy = new TimeBasedRollingPolicy&lt;&gt;();\nlogFilePolicy.setContext(lc);\nlogFilePolicy.setParent(fileAppender);\nlogFilePolicy.setFileNamePattern(&quot;test_two.log.%d{yyyy-MM-dd_HH}&quot;);\nlogFilePolicy.setMaxHistory(7);\nlogFilePolicy.start();\n\nfileAppender.setRollingPolicy(logFilePolicy);\nfileAppender.start();\n</code></pre>\n<p>Using this code I can see the configured <code>test_two.log</code> file being always created.</p>\n"}],"owner":{"account_id":15067418,"reputation":101,"user_id":10874073,"display_name":"pavan kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74641062,"answer_count":1,"score":0,"last_activity_date":1669893618,"creation_date":1669825854,"question_id":74631129,"body_markdown":"When i use RollingFileAppender, it doesn&#39;t create the log file, but if I use FileAppender it creates the log file.\r\nwith fileAppender = new RollingFileAppender&lt;ILoggingEvent&gt;(); no log file is created.\r\nwith fileAppender = new FileAppender&lt;ILoggingEvent&gt;(); log file is created.\r\n\r\n```\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport ch.qos.logback.classic.Level;\r\nimport ch.qos.logback.classic.Logger;\r\nimport ch.qos.logback.classic.LoggerContext;\r\nimport ch.qos.logback.classic.encoder.PatternLayoutEncoder;\r\nimport ch.qos.logback.classic.spi.ILoggingEvent;\r\nimport ch.qos.logback.core.FileAppender;\r\nimport ch.qos.logback.core.rolling.RollingFileAppender;\r\n\r\npublic class LoggerUtils {\r\n\tprivate static final String FILE_APPENDER = &quot;FILE_APPENDER&quot;;\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tLogger foo = createLoggerFor(&quot;foo&quot;);\r\n\t\tLogger bar = createLoggerFor(&quot;bar&quot;);\r\n\t\tfoo.info(&quot;this is from foo log&quot;);\r\n\t\tbar.info(&quot;this is from bar log&quot;);\r\n\t}\r\n\r\n\tprivate static Logger createLoggerFor(String string) {\r\n\t\tLoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n\t\t\r\n\t\tPatternLayoutEncoder ple = new PatternLayoutEncoder();\r\n        ple.setPattern(&quot;%date %level [%thread] %logger{10} [%file:%line] %msg%n&quot;);\r\n        ple.setContext(lc);\r\n        ple.start();\r\n        FileAppender&lt;ILoggingEvent&gt; fileAppender = new RollingFileAppender&lt;ILoggingEvent&gt;();\r\n        fileAppender.setFile(&quot;test_two.log&quot;);\r\n        fileAppender.setEncoder(ple);\r\n        fileAppender.setContext(lc);\r\n        fileAppender.start();\r\n\r\n\t\tLogger logger = (Logger) LoggerFactory.getLogger(string);\r\n\t\tlogger.addAppender(fileAppender);\r\n\t\tlogger.setLevel(Level.DEBUG);\r\n\t\tlogger.setAdditive(false);\r\n\t\tlogger.warn(&quot;Testing....&quot;);\r\n\r\n\t\treturn logger;\r\n\t}\r\n\r\n}\r\n```","title":"RollingFileAppender doesn&#39;t create the log file","body":"<p>When i use RollingFileAppender, it doesn't create the log file, but if I use FileAppender it creates the log file.\nwith fileAppender = new RollingFileAppender(); no log file is created.\nwith fileAppender = new FileAppender(); log file is created.</p>\n<pre><code>import org.slf4j.LoggerFactory;\n\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.classic.encoder.PatternLayoutEncoder;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.FileAppender;\nimport ch.qos.logback.core.rolling.RollingFileAppender;\n\npublic class LoggerUtils {\n    private static final String FILE_APPENDER = &quot;FILE_APPENDER&quot;;\n    public static void main(String[] args) throws InterruptedException {\n        Logger foo = createLoggerFor(&quot;foo&quot;);\n        Logger bar = createLoggerFor(&quot;bar&quot;);\n        foo.info(&quot;this is from foo log&quot;);\n        bar.info(&quot;this is from bar log&quot;);\n    }\n\n    private static Logger createLoggerFor(String string) {\n        LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\n        \n        PatternLayoutEncoder ple = new PatternLayoutEncoder();\n        ple.setPattern(&quot;%date %level [%thread] %logger{10} [%file:%line] %msg%n&quot;);\n        ple.setContext(lc);\n        ple.start();\n        FileAppender&lt;ILoggingEvent&gt; fileAppender = new RollingFileAppender&lt;ILoggingEvent&gt;();\n        fileAppender.setFile(&quot;test_two.log&quot;);\n        fileAppender.setEncoder(ple);\n        fileAppender.setContext(lc);\n        fileAppender.start();\n\n        Logger logger = (Logger) LoggerFactory.getLogger(string);\n        logger.addAppender(fileAppender);\n        logger.setLevel(Level.DEBUG);\n        logger.setAdditive(false);\n        logger.warn(&quot;Testing....&quot;);\n\n        return logger;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","angular","typescript","post","get"],"comments":[{"owner":{"account_id":11391688,"reputation":722,"user_id":8351493,"display_name":"Barkha"},"score":1,"creation_date":1669891898,"post_id":74640544,"comment_id":131748181,"body_markdown":"where are you calling putEditBoard and putAddBoard? are you subscribing to them? you also need to return from putEditBoard, only then you will be able to subscribe to it","body":"where are you calling putEditBoard and putAddBoard? are you subscribing to them? you also need to return from putEditBoard, only then you will be able to subscribe to it"},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1669893343,"post_id":74640544,"comment_id":131748687,"body_markdown":"@Barkha I don&#39;t need to get data  from post request, only sending","body":"@Barkha I don&#39;t need to get data  from post request, only sending"},{"owner":{"account_id":11391688,"reputation":722,"user_id":8351493,"display_name":"Barkha"},"score":1,"creation_date":1669893399,"post_id":74640544,"comment_id":131748706,"body_markdown":"you still need to subscribe, otherwise calls will not happen\nThese are observables and they are only called when you subscribe to them","body":"you still need to subscribe, otherwise calls will not happen These are observables and they are only called when you subscribe to them"}],"answers":[{"tags":[],"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669893578,"creation_date":1669893578,"answer_id":74641053,"question_id":74640544,"body_markdown":"@Barkha was right, subscribe is necessary to put","title":"Post request doesn&#39;t work in Interceptor. Angular 15","body":"<p>@Barkha was right, subscribe is necessary to put</p>\n"}],"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74641053,"answer_count":1,"score":0,"last_activity_date":1669893578,"creation_date":1669891231,"question_id":74640544,"body_markdown":"I have a class with get and post requests, also I made an interceptor. Get requsts works, but post not, what&#39;s the reason?\r\n\r\nClass with request methods:\r\n\r\n\r\n```\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport {Observable} from &quot;rxjs&quot;;\r\nimport {HttpClient, HttpHeaders} from &quot;@angular/common/http&quot;;\r\nimport { Probe } from &#39;../entities/Probe&#39;;\r\nimport { TokenStorageService } from &#39;../auth/token-storage.service&#39;;\r\nimport { JwtResponse } from &#39;../auth/jwt-response&#39;;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class UserService {\r\n\r\n  private tableUrl = &#39;http://localhost:8088/api/table&#39;;\r\n  private editUrl = &#39;http://localhost:8088/api/table/edit/&#39;;\r\n  private addUrl = &#39;http://localhost:8088/api/table/add&#39;;\r\n\r\n  constructor(private http: HttpClient,private token: TokenStorageService) { }\r\n\r\n  getProbesBoard() {\r\n    console.log(&quot;------&quot;)\r\n    return this.http.get&lt;Probe[]&gt;(this.tableUrl);\r\n  }\r\n\r\n  getAddBoard() {\r\n    return this.http.get&lt;any[]&gt;(this.addUrl);\r\n  }\r\n\r\n  getGetBoard(id:number){\r\n    return this.http.get&lt;any[]&gt;(this.editUrl+id);\r\n  }\r\n\r\n  putEditBoard(probe:any, id:number){\r\n    console.log(&#39;Post&#39;)\r\n    this.http.post(this.editUrl+id,probe)\r\n  }\r\n\r\n  putAddBoard(probe: Probe){\r\n    return this.http.post(this.addUrl,probe);\r\n  }\r\n}\r\n\r\n```\r\n\r\nClass interceptor:\r\n\r\n\r\n```\r\nimport {Injectable} from &quot;@angular/core&quot;;\r\nimport {HTTP_INTERCEPTORS, HttpHandler, HttpInterceptor, HttpRequest, HttpHeaders} from &quot;@angular/common/http&quot;;\r\nimport {TokenStorageService} from &quot;./token-storage.service&quot;;\r\n\r\nconst TOKEN_HEADER_KEY = &#39;Authorization&#39;;\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({&#39;Content-Type&#39;: &#39;application/json&#39;})\r\n};\r\n\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n  constructor(private token: TokenStorageService) {\r\n  }\r\n\r\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler) {\r\n    let authReq = req;\r\n    const token = &#39;Bearer &#39; + this.token.getToken();\r\n    authReq = req.clone({headers: req.headers.set(TOKEN_HEADER_KEY, token).set(&#39;Content-Type&#39;, &#39;application/json&#39;)});\r\n    console.log(&#39;Intercepted HTTP call&#39;, authReq);\r\n    return next.handle(authReq);\r\n  }\r\n}\r\n\r\nexport const httpInterceptorProviders = [\r\n  {provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true}\r\n];\r\n\r\n```\r\n\r\nHere is the logs:\r\nBefore a post request\r\n[![Before sending a post request](https://i.stack.imgur.com/67UuW.png)](https://i.stack.imgur.com/67UuW.png)\r\n\r\nAfter a post request\r\n[![After][1]][1]\r\n\r\nIn the logs it didn&#39;t even tried to send a post request\r\n\r\nI checked, is the method putEditBoard() is called putting a console.log inside it and it&#39;s called after pushing the button\r\n\r\nI want to make post requests, which would be refactored by Interceptore\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CHTCQ.png","title":"Post request doesn&#39;t work in Interceptor. Angular 15","body":"<p>I have a class with get and post requests, also I made an interceptor. Get requsts works, but post not, what's the reason?</p>\n<p>Class with request methods:</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport {Observable} from &quot;rxjs&quot;;\nimport {HttpClient, HttpHeaders} from &quot;@angular/common/http&quot;;\nimport { Probe } from '../entities/Probe';\nimport { TokenStorageService } from '../auth/token-storage.service';\nimport { JwtResponse } from '../auth/jwt-response';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  private tableUrl = 'http://localhost:8088/api/table';\n  private editUrl = 'http://localhost:8088/api/table/edit/';\n  private addUrl = 'http://localhost:8088/api/table/add';\n\n  constructor(private http: HttpClient,private token: TokenStorageService) { }\n\n  getProbesBoard() {\n    console.log(&quot;------&quot;)\n    return this.http.get&lt;Probe[]&gt;(this.tableUrl);\n  }\n\n  getAddBoard() {\n    return this.http.get&lt;any[]&gt;(this.addUrl);\n  }\n\n  getGetBoard(id:number){\n    return this.http.get&lt;any[]&gt;(this.editUrl+id);\n  }\n\n  putEditBoard(probe:any, id:number){\n    console.log('Post')\n    this.http.post(this.editUrl+id,probe)\n  }\n\n  putAddBoard(probe: Probe){\n    return this.http.post(this.addUrl,probe);\n  }\n}\n\n</code></pre>\n<p>Class interceptor:</p>\n<pre><code>import {Injectable} from &quot;@angular/core&quot;;\nimport {HTTP_INTERCEPTORS, HttpHandler, HttpInterceptor, HttpRequest, HttpHeaders} from &quot;@angular/common/http&quot;;\nimport {TokenStorageService} from &quot;./token-storage.service&quot;;\n\nconst TOKEN_HEADER_KEY = 'Authorization';\n\nconst httpOptions = {\n  headers: new HttpHeaders({'Content-Type': 'application/json'})\n};\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\n  constructor(private token: TokenStorageService) {\n  }\n\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler) {\n    let authReq = req;\n    const token = 'Bearer ' + this.token.getToken();\n    authReq = req.clone({headers: req.headers.set(TOKEN_HEADER_KEY, token).set('Content-Type', 'application/json')});\n    console.log('Intercepted HTTP call', authReq);\n    return next.handle(authReq);\n  }\n}\n\nexport const httpInterceptorProviders = [\n  {provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true}\n];\n\n</code></pre>\n<p>Here is the logs:\nBefore a post request\n<a href=\"https://i.stack.imgur.com/67UuW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/67UuW.png\" alt=\"Before sending a post request\" /></a></p>\n<p>After a post request\n<a href=\"https://i.stack.imgur.com/CHTCQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHTCQ.png\" alt=\"After\" /></a></p>\n<p>In the logs it didn't even tried to send a post request</p>\n<p>I checked, is the method putEditBoard() is called putting a console.log inside it and it's called after pushing the button</p>\n<p>I want to make post requests, which would be refactored by Interceptore</p>\n"},{"tags":["java","fork-join","project-loom","structured-concurrency"],"comments":[{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1668915019,"post_id":74487536,"comment_id":131521061,"body_markdown":"I&#39;ll need to learn more about RecursiveAction but a red-flag in your question is on pooling virtual threads. A major theme in the videos/articles on Loom is that virtual threads should not be pooled. They are cheap; a commodity.","body":"I&#39;ll need to learn more about RecursiveAction but a red-flag in your question is on pooling virtual threads. A major theme in the videos/articles on Loom is that virtual threads should not be pooled. They are cheap; a commodity."},{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":0,"creation_date":1668942469,"post_id":74487536,"comment_id":131524178,"body_markdown":"that&#39;s true, though I&#39;m interested in the provided functionality of Recursive*, having more theads to work with.","body":"that&#39;s true, though I&#39;m interested in the provided functionality of Recursive*, having more theads to work with."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669893543,"creation_date":1669893543,"answer_id":74641042,"question_id":74487536,"body_markdown":"[`RecursiveAction`] is a subclass of [`ForkJoinTask`] which is, as the name suggests and the documentation even says literally, an\r\n\r\n&gt; Abstract base class for tasks that run within a [`ForkJoinPool`].\r\n\r\nWhile the [`ForkJoinPool`] can be [customized with a thread factory], it’s not [the standard thread factory], but [a special factory] for producing [`ForkJoinWorkerThread`] instances. Since these threads are subclasses of `Thread`, they can’t be created with the virtual thread factory.\r\n\r\nSo, you can’t use [`RecursiveAction`] with virtual threads. The same applies to `RecursiveTask`. But it’s worth rethinking what using these classes with virtual threads would gain you.\r\n\r\nThe main challenge, to implement decomposition of your task into sub-task is on you, anyway. What these classes provide you, are features specifically for dealing with the Fork/Join pool and balancing the workload with the available platform threads. When you want to perform each sub-task on its own virtual thread, you don’t need this. So you can easily implement a recursive task with virtual threads without the built-in classes, e.g.\r\n\r\n```java\r\nrecord PseudoTask(int from, int to) {\r\n    public static CompletableFuture&lt;Void&gt; run(int from, int to) {\r\n        return CompletableFuture.runAsync(\r\n            new PseudoTask(from, to)::compute, Thread::startVirtualThread);\r\n    }\r\n\r\n    protected void compute() {\r\n        int mid = (from + to) &gt;&gt;&gt; 1;\r\n        if(mid == from) {\r\n            // simulate actual processing with potentially blocking operations\r\n            LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\r\n        }\r\n        else {\r\n            CompletableFuture&lt;Void&gt; sub1 = run(from, mid), sub2 = run(mid, to);\r\n            sub1.join();\r\n            sub2.join();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis example just doesn’t care about limiting the subdivision nor avoiding blocking `join()` calls and it still performs well when running, e.g. `PseudoTask.run(0, 1_000).join();` You might notice that with larger ranges, the techniques known from the other recursive task implementations can be useful here too, where the sub-task is rather cheap.\r\n\r\nE.g., you may only submit one half of the range to another thread and process the other half locally, like\r\n\r\n```java\r\nrecord PseudoTask(int from, int to) {\r\n    public static CompletableFuture&lt;Void&gt; run(int from, int to) {\r\n        return CompletableFuture.runAsync(\r\n            new PseudoTask(from, to)::compute, Thread::startVirtualThread);\r\n    }\r\n\r\n    protected void compute() {\r\n        CompletableFuture&lt;Void&gt; f = null;\r\n        for(int from = this.from, mid; ; from = mid) {\r\n            mid = (from + to) &gt;&gt;&gt; 1;\r\n            if (mid == from) {\r\n                // simulate actual processing with potentially blocking operations\r\n                LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\r\n                break;\r\n            } else {\r\n                CompletableFuture&lt;Void&gt; sub1 = run(from, mid);\r\n                if(f == null) f = sub1; else f = CompletableFuture.allOf(f, sub1);\r\n            }\r\n        }\r\n        if(f != null) f.join();\r\n    }\r\n}\r\n```\r\n\r\nwhich makes a notable difference when running, e.g. `PseudoTask.run(0, 1_000_000).join();` which will use only 1 million threads in the second example rather than 2 millions. But, of course, that’s a discussion on a different level than with platform threads where neither approach would work reasonably.\r\n\r\n---\r\n\r\nAnother upcoming option is the [`StructuredTaskScope`] which allows to spawn sub-tasks and wait for their completion\r\n\r\n```java\r\nrecord PseudoTask(int from, int to) {\r\n    public static void run(int from, int to) {\r\n        try (var scope = new StructuredTaskScope.ShutdownOnFailure()) {\r\n            new PseudoTask(from, to).compute(scope);\r\n            scope.join();\r\n        } catch (InterruptedException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\n    protected Void compute(StructuredTaskScope&lt;Object&gt; scope) {\r\n        for(int from = this.from, mid; ; from = mid) {\r\n            mid = (from + to) &gt;&gt;&gt; 1;\r\n            if (mid == from) {\r\n                // simulate actual processing with potentially blocking operations\r\n                LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\r\n                break;\r\n            } else {\r\n                var sub = new PseudoTask(from, mid);\r\n                scope.fork(() -&gt; sub.compute(scope));\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nHere, the tasks do not wait for the completion of their sub-task but only the root task waits for the completion of all tasks. But this feature is in incubator state, hence, may take even longer than the virtual threads feature, to become production-ready.\r\n\r\n[`RecursiveAction`]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/RecursiveAction.html\r\n[`ForkJoinTask`]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinTask.html\r\n[`ForkJoinPool`]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\r\n[customized with a thread factory]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#%3Cinit%3E(int,java.util.concurrent.ForkJoinPool.ForkJoinWorkerThreadFactory,java.lang.Thread.UncaughtExceptionHandler,boolean)\r\n[the standard thread factory]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ThreadFactory.html\r\n[a special factory]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinPool.ForkJoinWorkerThreadFactory.html\r\n[`ForkJoinWorkerThread`]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinWorkerThread.html\r\n[`StructuredTaskScope`]: https://docs.oracle.com/en/java/javase/19/docs/api/jdk.incubator.concurrent/jdk/incubator/concurrent/StructuredTaskScope.html","title":"In Loom, can I use virtual threads for Recursive[Action/Task]?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/RecursiveAction.html\" rel=\"nofollow noreferrer\"><code>RecursiveAction</code></a> is a subclass of <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinTask.html\" rel=\"nofollow noreferrer\"><code>ForkJoinTask</code></a> which is, as the name suggests and the documentation even says literally, an</p>\n<blockquote>\n<p>Abstract base class for tasks that run within a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\"><code>ForkJoinPool</code></a>.</p>\n</blockquote>\n<p>While the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\"><code>ForkJoinPool</code></a> can be <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#%3Cinit%3E(int,java.util.concurrent.ForkJoinPool.ForkJoinWorkerThreadFactory,java.lang.Thread.UncaughtExceptionHandler,boolean)\" rel=\"nofollow noreferrer\">customized with a thread factory</a>, it’s not <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ThreadFactory.html\" rel=\"nofollow noreferrer\">the standard thread factory</a>, but <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinPool.ForkJoinWorkerThreadFactory.html\" rel=\"nofollow noreferrer\">a special factory</a> for producing <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ForkJoinWorkerThread.html\" rel=\"nofollow noreferrer\"><code>ForkJoinWorkerThread</code></a> instances. Since these threads are subclasses of <code>Thread</code>, they can’t be created with the virtual thread factory.</p>\n<p>So, you can’t use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/RecursiveAction.html\" rel=\"nofollow noreferrer\"><code>RecursiveAction</code></a> with virtual threads. The same applies to <code>RecursiveTask</code>. But it’s worth rethinking what using these classes with virtual threads would gain you.</p>\n<p>The main challenge, to implement decomposition of your task into sub-task is on you, anyway. What these classes provide you, are features specifically for dealing with the Fork/Join pool and balancing the workload with the available platform threads. When you want to perform each sub-task on its own virtual thread, you don’t need this. So you can easily implement a recursive task with virtual threads without the built-in classes, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record PseudoTask(int from, int to) {\n    public static CompletableFuture&lt;Void&gt; run(int from, int to) {\n        return CompletableFuture.runAsync(\n            new PseudoTask(from, to)::compute, Thread::startVirtualThread);\n    }\n\n    protected void compute() {\n        int mid = (from + to) &gt;&gt;&gt; 1;\n        if(mid == from) {\n            // simulate actual processing with potentially blocking operations\n            LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\n        }\n        else {\n            CompletableFuture&lt;Void&gt; sub1 = run(from, mid), sub2 = run(mid, to);\n            sub1.join();\n            sub2.join();\n        }\n    }\n}\n</code></pre>\n<p>This example just doesn’t care about limiting the subdivision nor avoiding blocking <code>join()</code> calls and it still performs well when running, e.g. <code>PseudoTask.run(0, 1_000).join();</code> You might notice that with larger ranges, the techniques known from the other recursive task implementations can be useful here too, where the sub-task is rather cheap.</p>\n<p>E.g., you may only submit one half of the range to another thread and process the other half locally, like</p>\n<pre class=\"lang-java prettyprint-override\"><code>record PseudoTask(int from, int to) {\n    public static CompletableFuture&lt;Void&gt; run(int from, int to) {\n        return CompletableFuture.runAsync(\n            new PseudoTask(from, to)::compute, Thread::startVirtualThread);\n    }\n\n    protected void compute() {\n        CompletableFuture&lt;Void&gt; f = null;\n        for(int from = this.from, mid; ; from = mid) {\n            mid = (from + to) &gt;&gt;&gt; 1;\n            if (mid == from) {\n                // simulate actual processing with potentially blocking operations\n                LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\n                break;\n            } else {\n                CompletableFuture&lt;Void&gt; sub1 = run(from, mid);\n                if(f == null) f = sub1; else f = CompletableFuture.allOf(f, sub1);\n            }\n        }\n        if(f != null) f.join();\n    }\n}\n</code></pre>\n<p>which makes a notable difference when running, e.g. <code>PseudoTask.run(0, 1_000_000).join();</code> which will use only 1 million threads in the second example rather than 2 millions. But, of course, that’s a discussion on a different level than with platform threads where neither approach would work reasonably.</p>\n<hr />\n<p>Another upcoming option is the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.incubator.concurrent/jdk/incubator/concurrent/StructuredTaskScope.html\" rel=\"nofollow noreferrer\"><code>StructuredTaskScope</code></a> which allows to spawn sub-tasks and wait for their completion</p>\n<pre class=\"lang-java prettyprint-override\"><code>record PseudoTask(int from, int to) {\n    public static void run(int from, int to) {\n        try (var scope = new StructuredTaskScope.ShutdownOnFailure()) {\n            new PseudoTask(from, to).compute(scope);\n            scope.join();\n        } catch (InterruptedException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    protected Void compute(StructuredTaskScope&lt;Object&gt; scope) {\n        for(int from = this.from, mid; ; from = mid) {\n            mid = (from + to) &gt;&gt;&gt; 1;\n            if (mid == from) {\n                // simulate actual processing with potentially blocking operations\n                LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\n                break;\n            } else {\n                var sub = new PseudoTask(from, mid);\n                scope.fork(() -&gt; sub.compute(scope));\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Here, the tasks do not wait for the completion of their sub-task but only the root task waits for the completion of all tasks. But this feature is in incubator state, hence, may take even longer than the virtual threads feature, to become production-ready.</p>\n"}],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74641042,"answer_count":1,"score":5,"last_activity_date":1669893543,"creation_date":1668763959,"question_id":74487536,"body_markdown":"Is it possible to use RecursiveAction, for example, in conjunction with -- instead of the fork/join pool -- a pool of virtual threads (before I attempt a poorly-designed, custom effort)?","title":"In Loom, can I use virtual threads for Recursive[Action/Task]?","body":"<p>Is it possible to use RecursiveAction, for example, in conjunction with -- instead of the fork/join pool -- a pool of virtual threads (before I attempt a poorly-designed, custom effort)?</p>\n"},{"tags":["java","properties","configuration","jvm","properties-file"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666786138,"post_id":74207092,"comment_id":131017324,"body_markdown":"You gotta let your code know which property to load based on some variable. How are you loading the properties now? How&#39;s the application packaged?","body":"You gotta let your code know which property to load based on some variable. How are you loading the properties now? How&#39;s the application packaged?"},{"owner":{"account_id":11251055,"reputation":35,"user_id":8252154,"display_name":"Basar"},"score":0,"creation_date":1666787772,"post_id":74207092,"comment_id":131017939,"body_markdown":"@Leonardo Emmanuel de Azevedo I have just added my way","body":"@Leonardo Emmanuel de Azevedo I have just added my way"}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666789275,"creation_date":1666789275,"answer_id":74208238,"question_id":74207092,"body_markdown":"I suppose you have a jar jar file with your application.\r\nGiven that, you can create a script to run it based on the server.\r\n\r\nIn the entry point of the application you can parse the arguments:\r\n```Java\r\npublic static void Main(String[] args){\r\n    if (args.length == 1)\r\n        System.exit(1);\r\n\r\n    String server = args[1];\r\n    init(server);\r\n}\r\n```\r\nThen, the init will be a little bit different:\r\n```Java\r\nstatic void init(String server) {\r\nResourceBundle resourceBundle;\r\nswitch (server){\r\n    case &quot;server1&quot;:\r\n        resourceBundle = ResourceBundle.getBundle(&quot;application.server1.properties&quot;);\r\n        break;\r\n    }\r\n}\r\n```\r\n&lt;strong&gt;Note:&lt;/strong&gt; Be aware that the above code does not compile.","title":"set active profile without spring","body":"<p>I suppose you have a jar jar file with your application.\nGiven that, you can create a script to run it based on the server.</p>\n<p>In the entry point of the application you can parse the arguments:</p>\n<pre><code>public static void Main(String[] args){\n    if (args.length == 1)\n        System.exit(1);\n\n    String server = args[1];\n    init(server);\n}\n</code></pre>\n<p>Then, the init will be a little bit different:</p>\n<pre><code>static void init(String server) {\nResourceBundle resourceBundle;\nswitch (server){\n    case &quot;server1&quot;:\n        resourceBundle = ResourceBundle.getBundle(&quot;application.server1.properties&quot;);\n        break;\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> Be aware that the above code does not compile.</p>\n"},{"tags":[],"owner":{"account_id":11251055,"reputation":35,"user_id":8252154,"display_name":"Basar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669893393,"creation_date":1669893393,"answer_id":74641012,"question_id":74207092,"body_markdown":"I have defined local variable for different servers like **-DENV=prd1** and **-DENV=prd2**\r\n\r\n    public static void init(String server) {\r\n      String env = System.getProperty(&quot;ENV&quot;)\r\n      ResourceBundle res = ResourceBundle.getBundle(&quot;application.&quot; + env );\r\n    }","title":"set active profile without spring","body":"<p>I have defined local variable for different servers like <strong>-DENV=prd1</strong> and <strong>-DENV=prd2</strong></p>\n<pre><code>public static void init(String server) {\n  String env = System.getProperty(&quot;ENV&quot;)\n  ResourceBundle res = ResourceBundle.getBundle(&quot;application.&quot; + env );\n}\n</code></pre>\n"}],"owner":{"account_id":11251055,"reputation":35,"user_id":8252154,"display_name":"Basar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74641012,"answer_count":2,"score":0,"last_activity_date":1669893393,"creation_date":1666784094,"question_id":74207092,"body_markdown":"Our web app need to run on two different servers. There are also two different properties files for those servers, like application.prd1.properties and application.prd1.properties. I do not use spring boot. So I can not use **-Dspring.profiles.active=prd1** script.\r\n\r\nNow I am getting the properties file like below image\r\n[![enter image description here][1]][1]\r\n\r\nHow can I use two different properties files on two different servers without spring boot?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jg6uU.png","title":"set active profile without spring","body":"<p>Our web app need to run on two different servers. There are also two different properties files for those servers, like application.prd1.properties and application.prd1.properties. I do not use spring boot. So I can not use <strong>-Dspring.profiles.active=prd1</strong> script.</p>\n<p>Now I am getting the properties file like below image\n<a href=\"https://i.stack.imgur.com/jg6uU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jg6uU.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I use two different properties files on two different servers without spring boot?</p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1669627992,"post_id":74598190,"comment_id":131676918,"body_markdown":"null layout is __wrong__, always! study https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":"null layout is <b>wrong</b>, always! study <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1669647221,"post_id":74598190,"comment_id":131683435,"body_markdown":"1) Class names should start with an uppercase character. Learn and follow Java naming conventions. 2) The usage of static variables is wrong. I suggest you read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html). You will find plenty of working example to help you better structure your code.","body":"1) Class names should start with an uppercase character. Learn and follow Java naming conventions. 2) The usage of static variables is wrong. I suggest you read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a>. You will find plenty of working example to help you better structure your code."}],"answers":[{"tags":[],"owner":{"account_id":27061243,"reputation":1,"user_id":20613235,"display_name":"vimlesh kumar pandey"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1669893237,"creation_date":1669627614,"answer_id":74598475,"question_id":74598190,"body_markdown":"Try this :\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.text.DecimalFormat;\r\n    \r\n    public class Test2 implements ActionListener {\r\n    \r\n        public static void main(String[] args) {\r\n            new Test2();\r\n        }\r\n    \r\n        static JPanel mainPanel, cubePanel;\r\n        static JFrame frame;\r\n        static Container container = new Container();\r\n        static JLabel calculatorFor;\r\n        static JButton sphereButton, rightCylinderButton, rightConeButton, rectangularPrismButton, triangularPrismButton,\r\n                cubeButton, squarePyramidButton, rectangularPyramidButton, ellipsoidButton, tetrahedronButton, backToPreviousFrameButton;\r\n        static Font font = new Font(null, Font.PLAIN, 30);\r\n        static JLabel enterValueForEdge;\r\n        static JTextField edgeTextField;\r\n        static JTextArea surfaceAreaTextArea, surfaceAreaFormulaTextArea, surfaceAreaSolutionTextArea;\r\n        static JButton calculateButton;\r\n        static double edge;\r\n        static DecimalFormat surfaceAreaDecimal;\r\n    \r\n        public Test2() {\r\n            frame = new JFrame(&quot;Calculating for Surface Area&quot;);\r\n    \r\n            calculatorFor = new JLabel(&quot;Calculator for the Surface Area of:&quot;);\r\n            calculatorFor.setSize(600, 40);\r\n            calculatorFor.setLocation(100, 50);\r\n            calculatorFor.setFont(font);\r\n            calculatorFor.setFocusable(false);\r\n    \r\n            sphereButton = new JButton(&quot;Sphere &quot;);\r\n            sphereButton.setSize(400, 40);\r\n            sphereButton.setLocation(100, 100);\r\n            sphereButton.setFont(font);\r\n            sphereButton.addActionListener(this);\r\n            sphereButton.setFocusable(false);\r\n    \r\n            rightCylinderButton = new JButton(&quot;Right Cylinder&quot;);\r\n            rightCylinderButton.setSize(400, 40);\r\n            rightCylinderButton.setLocation(100, 150);\r\n            rightCylinderButton.setFont(font);\r\n            rightCylinderButton.addActionListener(this);\r\n            rightCylinderButton.setFocusable(false);\r\n    \r\n            rightConeButton = new JButton(&quot;Right Cone&quot;);\r\n            rightConeButton.setSize(400, 40);\r\n            rightConeButton.setLocation(100, 200);\r\n            rightConeButton.setFont(font);\r\n            rightConeButton.addActionListener(this);\r\n            rightConeButton.setFocusable(false);\r\n    \r\n            rectangularPrismButton = new JButton(&quot;Rectangular Prism&quot;);\r\n            rectangularPrismButton.setSize(400, 40);\r\n            rectangularPrismButton.setLocation(100, 250);\r\n            rectangularPrismButton.setFont(font);\r\n            rectangularPrismButton.addActionListener(this);\r\n            rectangularPrismButton.setFocusable(false);\r\n    \r\n            triangularPrismButton = new JButton(&quot;Triangular Prism&quot;);\r\n            triangularPrismButton.setSize(400, 40);\r\n            triangularPrismButton.setLocation(100, 300);\r\n            triangularPrismButton.setFont(font);\r\n            triangularPrismButton.addActionListener(this);\r\n            triangularPrismButton.setFocusable(false);\r\n    \r\n            cubeButton = new JButton(&quot;Cube&quot;);\r\n            cubeButton.setSize(400, 40);\r\n            cubeButton.setLocation(100, 350);\r\n            cubeButton.setFont(font);\r\n            cubeButton.addActionListener(this);\r\n            cubeButton.setFocusable(false);\r\n    \r\n            squarePyramidButton = new JButton(&quot;Square Pyramid&quot;);\r\n            squarePyramidButton.setSize(400, 40);\r\n            squarePyramidButton.setLocation(100, 400);\r\n            squarePyramidButton.setFont(font);\r\n            squarePyramidButton.addActionListener(this);\r\n            squarePyramidButton.setFocusable(false);\r\n    \r\n            rectangularPyramidButton = new JButton(&quot;Rectangular Pyramid&quot;);\r\n            rectangularPyramidButton.setSize(400, 40);\r\n            rectangularPyramidButton.setLocation(100, 450);\r\n            rectangularPyramidButton.setFont(font);\r\n            rectangularPyramidButton.addActionListener(this);\r\n            rectangularPyramidButton.setFocusable(false);\r\n    \r\n            ellipsoidButton = new JButton(&quot;Ellipsoid&quot;);\r\n            ellipsoidButton.setSize(400, 40);\r\n            ellipsoidButton.setLocation(100, 500);\r\n            ellipsoidButton.setFont(font);\r\n            ellipsoidButton.addActionListener(this);\r\n            ellipsoidButton.setFocusable(false);\r\n    \r\n            tetrahedronButton = new JButton(&quot;Tetrahedron&quot;);\r\n            tetrahedronButton.setSize(400, 40);\r\n            tetrahedronButton.setLocation(100, 550);\r\n            tetrahedronButton.setFont(font);\r\n            tetrahedronButton.addActionListener(this);\r\n            tetrahedronButton.setFocusable(false);\r\n    \r\n            backToPreviousFrameButton = new JButton(&quot;Back&quot;);\r\n            backToPreviousFrameButton.setSize(100, 40);\r\n            backToPreviousFrameButton.setLocation(900, 600);\r\n            backToPreviousFrameButton.setFont(font);\r\n            backToPreviousFrameButton.addActionListener(this);\r\n            backToPreviousFrameButton.setFocusable(false);\r\n    \r\n            mainPanel = new JPanel();\r\n            mainPanel.setBounds(0, 0, 1080, 720);\r\n            mainPanel.setLayout(null);\r\n            mainPanel.setBackground(Color.decode(&quot;#FAF7FC&quot;));\r\n    \r\n            mainPanel.add(calculatorFor);\r\n            mainPanel.add(sphereButton);\r\n            mainPanel.add(rightCylinderButton);\r\n            mainPanel.add(rightConeButton);\r\n            mainPanel.add(rectangularPrismButton);\r\n            mainPanel.add(triangularPrismButton);\r\n            mainPanel.add(cubeButton);\r\n            mainPanel.add(squarePyramidButton);\r\n            mainPanel.add(rectangularPyramidButton);\r\n            mainPanel.add(ellipsoidButton);\r\n            mainPanel.add(tetrahedronButton);\r\n            mainPanel.add(backToPreviousFrameButton);\r\n    \r\n            frame.getContentPane().add(mainPanel);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().setBackground(Color.decode(&quot;#FAF7FC&quot;));\r\n            frame.setLayout(new BorderLayout());\r\n            frame.setSize(1080, 720);\r\n            frame.setResizable(false);\r\n            frame.setVisible(true);\r\n            frame.setLocationRelativeTo(null);\r\n        }\r\n    \r\n        public Container cubePanel() {\r\n    \r\n            enterValueForEdge = new JLabel(&quot;Enter Edge:&quot;);\r\n            enterValueForEdge.setSize(200, 40);\r\n            enterValueForEdge.setLocation(100, 50);\r\n            enterValueForEdge.setFont(font);\r\n            enterValueForEdge.setFocusable(false);\r\n    \r\n            edgeTextField = new JTextField();\r\n            edgeTextField.setSize(400, 40);\r\n            edgeTextField.setLocation(300, 50);\r\n            edgeTextField.setFont(font);\r\n    \r\n            calculateButton = new JButton(&quot;Calculate&quot;);\r\n            calculateButton.setSize(200, 40);\r\n            calculateButton.setLocation(100, 100);\r\n            calculateButton.setFont(font);\r\n            calculateButton.addActionListener(this);\r\n            calculateButton.setFocusable(false);\r\n    \r\n            surfaceAreaFormulaTextArea = new JTextArea(&quot;SA = 6a&#178;&quot;);\r\n            surfaceAreaFormulaTextArea.setSize(400, 40);\r\n            surfaceAreaFormulaTextArea.setLocation(100, 150);\r\n            surfaceAreaFormulaTextArea.setFont(font);\r\n            surfaceAreaFormulaTextArea.setEditable(false);\r\n    \r\n            surfaceAreaTextArea = new JTextArea(&quot;SA: &quot;);\r\n            surfaceAreaTextArea.setSize(500, 40);\r\n            surfaceAreaTextArea.setLocation(100, 200);\r\n            surfaceAreaTextArea.setFont(font);\r\n            surfaceAreaTextArea.setEditable(false);\r\n    \r\n            surfaceAreaSolutionTextArea = new JTextArea();\r\n            surfaceAreaSolutionTextArea.setSize(900, 80);\r\n            surfaceAreaSolutionTextArea.setLocation(100, 250);\r\n            surfaceAreaSolutionTextArea.setFont(font);\r\n            surfaceAreaSolutionTextArea.setEditable(false);\r\n            surfaceAreaSolutionTextArea.setLineWrap(true);\r\n    \r\n            backToPreviousFrameButton = new JButton(&quot;Back&quot;);\r\n            backToPreviousFrameButton.setSize(100, 40);\r\n            backToPreviousFrameButton.setLocation(900, 600);\r\n            backToPreviousFrameButton.setFont(font);\r\n            backToPreviousFrameButton.addActionListener(this);\r\n            backToPreviousFrameButton.setFocusable(false);\r\n    \r\n            cubePanel = new JPanel();\r\n            cubePanel.setBounds(0, 0, 1080, 720);\r\n            cubePanel.setLayout(null);\r\n            cubePanel.setBackground(Color.decode(&quot;#FAF7FC&quot;));\r\n    \r\n            container = new Container();\r\n    \r\n            cubePanel.add(enterValueForEdge);\r\n            cubePanel.add(edgeTextField);\r\n            cubePanel.add(calculateButton);\r\n            cubePanel.add(surfaceAreaFormulaTextArea);\r\n            cubePanel.add(surfaceAreaTextArea);\r\n            cubePanel.add(surfaceAreaSolutionTextArea);\r\n            cubePanel.add(backToPreviousFrameButton);\r\n    \r\n            container.add(cubePanel);\r\n            container.setLayout(null);\r\n            container.setBackground(Color.getColor(&quot;#FAF7FH&quot;));\r\n            return container;\r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n    \r\n            if (e.getSource() == sphereButton) {\r\n                new sphereFrame();\r\n                frame.dispose();\r\n            }\r\n    \r\n            if (e.getSource() == rightCylinderButton) {\r\n                new rightCylinderFrame();\r\n                frame.dispose();\r\n            }\r\n    \r\n            if (e.getSource() == rightConeButton) {\r\n                new rightConeFrame();\r\n                frame.dispose();\r\n            }\r\n    \r\n            if (e.getSource() == rectangularPrismButton) {\r\n                new rectangularPrismFrame();\r\n                frame.dispose();\r\n            }\r\n    \r\n            if (e.getSource() == triangularPrismButton) {\r\n                //new triangularPrismFrame();\r\n                frame.dispose();\r\n            }\r\n    \r\n            if (e.getSource() == cubeButton) {\r\n                frame.getContentPane().removeAll();\r\n                frame.add(cubePanel());\r\n                frame.repaint();\r\n                frame.revalidate();\r\n                System.out.println(&quot;Remove&quot;);\r\n                frame.getContentPane().add(container);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n   \r\n","title":"My content pane show only white even if it has components on it","body":"<p>Try this :</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.text.DecimalFormat;\n\npublic class Test2 implements ActionListener {\n\n    public static void main(String[] args) {\n        new Test2();\n    }\n\n    static JPanel mainPanel, cubePanel;\n    static JFrame frame;\n    static Container container = new Container();\n    static JLabel calculatorFor;\n    static JButton sphereButton, rightCylinderButton, rightConeButton, rectangularPrismButton, triangularPrismButton,\n            cubeButton, squarePyramidButton, rectangularPyramidButton, ellipsoidButton, tetrahedronButton, backToPreviousFrameButton;\n    static Font font = new Font(null, Font.PLAIN, 30);\n    static JLabel enterValueForEdge;\n    static JTextField edgeTextField;\n    static JTextArea surfaceAreaTextArea, surfaceAreaFormulaTextArea, surfaceAreaSolutionTextArea;\n    static JButton calculateButton;\n    static double edge;\n    static DecimalFormat surfaceAreaDecimal;\n\n    public Test2() {\n        frame = new JFrame(&quot;Calculating for Surface Area&quot;);\n\n        calculatorFor = new JLabel(&quot;Calculator for the Surface Area of:&quot;);\n        calculatorFor.setSize(600, 40);\n        calculatorFor.setLocation(100, 50);\n        calculatorFor.setFont(font);\n        calculatorFor.setFocusable(false);\n\n        sphereButton = new JButton(&quot;Sphere &quot;);\n        sphereButton.setSize(400, 40);\n        sphereButton.setLocation(100, 100);\n        sphereButton.setFont(font);\n        sphereButton.addActionListener(this);\n        sphereButton.setFocusable(false);\n\n        rightCylinderButton = new JButton(&quot;Right Cylinder&quot;);\n        rightCylinderButton.setSize(400, 40);\n        rightCylinderButton.setLocation(100, 150);\n        rightCylinderButton.setFont(font);\n        rightCylinderButton.addActionListener(this);\n        rightCylinderButton.setFocusable(false);\n\n        rightConeButton = new JButton(&quot;Right Cone&quot;);\n        rightConeButton.setSize(400, 40);\n        rightConeButton.setLocation(100, 200);\n        rightConeButton.setFont(font);\n        rightConeButton.addActionListener(this);\n        rightConeButton.setFocusable(false);\n\n        rectangularPrismButton = new JButton(&quot;Rectangular Prism&quot;);\n        rectangularPrismButton.setSize(400, 40);\n        rectangularPrismButton.setLocation(100, 250);\n        rectangularPrismButton.setFont(font);\n        rectangularPrismButton.addActionListener(this);\n        rectangularPrismButton.setFocusable(false);\n\n        triangularPrismButton = new JButton(&quot;Triangular Prism&quot;);\n        triangularPrismButton.setSize(400, 40);\n        triangularPrismButton.setLocation(100, 300);\n        triangularPrismButton.setFont(font);\n        triangularPrismButton.addActionListener(this);\n        triangularPrismButton.setFocusable(false);\n\n        cubeButton = new JButton(&quot;Cube&quot;);\n        cubeButton.setSize(400, 40);\n        cubeButton.setLocation(100, 350);\n        cubeButton.setFont(font);\n        cubeButton.addActionListener(this);\n        cubeButton.setFocusable(false);\n\n        squarePyramidButton = new JButton(&quot;Square Pyramid&quot;);\n        squarePyramidButton.setSize(400, 40);\n        squarePyramidButton.setLocation(100, 400);\n        squarePyramidButton.setFont(font);\n        squarePyramidButton.addActionListener(this);\n        squarePyramidButton.setFocusable(false);\n\n        rectangularPyramidButton = new JButton(&quot;Rectangular Pyramid&quot;);\n        rectangularPyramidButton.setSize(400, 40);\n        rectangularPyramidButton.setLocation(100, 450);\n        rectangularPyramidButton.setFont(font);\n        rectangularPyramidButton.addActionListener(this);\n        rectangularPyramidButton.setFocusable(false);\n\n        ellipsoidButton = new JButton(&quot;Ellipsoid&quot;);\n        ellipsoidButton.setSize(400, 40);\n        ellipsoidButton.setLocation(100, 500);\n        ellipsoidButton.setFont(font);\n        ellipsoidButton.addActionListener(this);\n        ellipsoidButton.setFocusable(false);\n\n        tetrahedronButton = new JButton(&quot;Tetrahedron&quot;);\n        tetrahedronButton.setSize(400, 40);\n        tetrahedronButton.setLocation(100, 550);\n        tetrahedronButton.setFont(font);\n        tetrahedronButton.addActionListener(this);\n        tetrahedronButton.setFocusable(false);\n\n        backToPreviousFrameButton = new JButton(&quot;Back&quot;);\n        backToPreviousFrameButton.setSize(100, 40);\n        backToPreviousFrameButton.setLocation(900, 600);\n        backToPreviousFrameButton.setFont(font);\n        backToPreviousFrameButton.addActionListener(this);\n        backToPreviousFrameButton.setFocusable(false);\n\n        mainPanel = new JPanel();\n        mainPanel.setBounds(0, 0, 1080, 720);\n        mainPanel.setLayout(null);\n        mainPanel.setBackground(Color.decode(&quot;#FAF7FC&quot;));\n\n        mainPanel.add(calculatorFor);\n        mainPanel.add(sphereButton);\n        mainPanel.add(rightCylinderButton);\n        mainPanel.add(rightConeButton);\n        mainPanel.add(rectangularPrismButton);\n        mainPanel.add(triangularPrismButton);\n        mainPanel.add(cubeButton);\n        mainPanel.add(squarePyramidButton);\n        mainPanel.add(rectangularPyramidButton);\n        mainPanel.add(ellipsoidButton);\n        mainPanel.add(tetrahedronButton);\n        mainPanel.add(backToPreviousFrameButton);\n\n        frame.getContentPane().add(mainPanel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setBackground(Color.decode(&quot;#FAF7FC&quot;));\n        frame.setLayout(new BorderLayout());\n        frame.setSize(1080, 720);\n        frame.setResizable(false);\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n    }\n\n    public Container cubePanel() {\n\n        enterValueForEdge = new JLabel(&quot;Enter Edge:&quot;);\n        enterValueForEdge.setSize(200, 40);\n        enterValueForEdge.setLocation(100, 50);\n        enterValueForEdge.setFont(font);\n        enterValueForEdge.setFocusable(false);\n\n        edgeTextField = new JTextField();\n        edgeTextField.setSize(400, 40);\n        edgeTextField.setLocation(300, 50);\n        edgeTextField.setFont(font);\n\n        calculateButton = new JButton(&quot;Calculate&quot;);\n        calculateButton.setSize(200, 40);\n        calculateButton.setLocation(100, 100);\n        calculateButton.setFont(font);\n        calculateButton.addActionListener(this);\n        calculateButton.setFocusable(false);\n\n        surfaceAreaFormulaTextArea = new JTextArea(&quot;SA = 6a²&quot;);\n        surfaceAreaFormulaTextArea.setSize(400, 40);\n        surfaceAreaFormulaTextArea.setLocation(100, 150);\n        surfaceAreaFormulaTextArea.setFont(font);\n        surfaceAreaFormulaTextArea.setEditable(false);\n\n        surfaceAreaTextArea = new JTextArea(&quot;SA: &quot;);\n        surfaceAreaTextArea.setSize(500, 40);\n        surfaceAreaTextArea.setLocation(100, 200);\n        surfaceAreaTextArea.setFont(font);\n        surfaceAreaTextArea.setEditable(false);\n\n        surfaceAreaSolutionTextArea = new JTextArea();\n        surfaceAreaSolutionTextArea.setSize(900, 80);\n        surfaceAreaSolutionTextArea.setLocation(100, 250);\n        surfaceAreaSolutionTextArea.setFont(font);\n        surfaceAreaSolutionTextArea.setEditable(false);\n        surfaceAreaSolutionTextArea.setLineWrap(true);\n\n        backToPreviousFrameButton = new JButton(&quot;Back&quot;);\n        backToPreviousFrameButton.setSize(100, 40);\n        backToPreviousFrameButton.setLocation(900, 600);\n        backToPreviousFrameButton.setFont(font);\n        backToPreviousFrameButton.addActionListener(this);\n        backToPreviousFrameButton.setFocusable(false);\n\n        cubePanel = new JPanel();\n        cubePanel.setBounds(0, 0, 1080, 720);\n        cubePanel.setLayout(null);\n        cubePanel.setBackground(Color.decode(&quot;#FAF7FC&quot;));\n\n        container = new Container();\n\n        cubePanel.add(enterValueForEdge);\n        cubePanel.add(edgeTextField);\n        cubePanel.add(calculateButton);\n        cubePanel.add(surfaceAreaFormulaTextArea);\n        cubePanel.add(surfaceAreaTextArea);\n        cubePanel.add(surfaceAreaSolutionTextArea);\n        cubePanel.add(backToPreviousFrameButton);\n\n        container.add(cubePanel);\n        container.setLayout(null);\n        container.setBackground(Color.getColor(&quot;#FAF7FH&quot;));\n        return container;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        if (e.getSource() == sphereButton) {\n            new sphereFrame();\n            frame.dispose();\n        }\n\n        if (e.getSource() == rightCylinderButton) {\n            new rightCylinderFrame();\n            frame.dispose();\n        }\n\n        if (e.getSource() == rightConeButton) {\n            new rightConeFrame();\n            frame.dispose();\n        }\n\n        if (e.getSource() == rectangularPrismButton) {\n            new rectangularPrismFrame();\n            frame.dispose();\n        }\n\n        if (e.getSource() == triangularPrismButton) {\n            //new triangularPrismFrame();\n            frame.dispose();\n        }\n\n        if (e.getSource() == cubeButton) {\n            frame.getContentPane().removeAll();\n            frame.add(cubePanel());\n            frame.repaint();\n            frame.revalidate();\n            System.out.println(&quot;Remove&quot;);\n            frame.getContentPane().add(container);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669655214,"creation_date":1669654354,"answer_id":74603952,"question_id":74598190,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nHere&#39;s the GUI I created.\r\n\r\n[![Start][1]][1]\r\n\r\nPress the &quot;Cube&quot; button to bring up the page for the cube calculation.\r\n\r\n[![Cube calculation][2]][2]\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).\r\n\r\nThe `JFrame` has a default `BorderLayout` and holds the main `JPanel`.  The main `JPanel` uses a [CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) to display the various calculation `JPanels`.  Using a `CardLayout` is much easier than managing multiple `JFrames` and provides a nicer user experience.\r\n\r\nI used Swing layout managers to position the Swing components on the various `JPanels`.\r\n\r\nThe start `JPanel` consists of two subordinate `JPanels`.  The title `JPanel` uses a `FlowLayout` to display the title.  The button `JPanel` uses a `GridLayout` to display the various calculation `JButtons`.  You can create complex `JPanels` by nesting multiple simple `JPanels`.\r\n\r\nThe cube calculation `JPanel` was the only one you had in your code, so it was the only one I created.  I made it a method, but you can create a separate class for each of the calculations.  The cube calculation `JPanel` uses a `GridBagLayout` to create a form-like `JPanel`.  I used lambda expressions to create the `ActionListener` for each of the `JButtons`, since they were so simple.\r\n\r\nI made the start `JPanel` button `ActionListener` a separate class just to get the code away from the `for` loop that creates the `JButtons`.\r\n\r\nHere&#39;s the complete runnable code. \r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class CardLayoutGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new CardLayoutGUI());\r\n    \t}\r\n    \r\n    \tprivate CardLayout cardLayout;\r\n    \r\n    \tprivate JTextField edgeTextField, surfaceAreaSolutionTextField;\r\n    \r\n    \tprivate JPanel mainPanel;\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Calculating for Surface Area&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tthis.mainPanel = createMainPanel();\r\n    \t\tframe.add(mainPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tcardLayout = new CardLayout();\r\n    \t\tJPanel panel = new JPanel(cardLayout);\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \r\n    \t\tpanel.add(createStartPanel(), &quot;Start&quot;);\r\n    \t\tpanel.add(createCubeCalculationPanel(), &quot;Cube&quot;);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createStartPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \r\n    \t\tpanel.add(createTitlePanel(), BorderLayout.NORTH);\r\n    \t\tpanel.add(createButtonPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createTitlePanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tFont font = new Font(Font.DIALOG, Font.PLAIN, 36);\r\n    \r\n    \t\tJLabel label = new JLabel(&quot;Calculator for the Surface Area of:&quot;);\r\n    \t\tlabel.setFont(font);\r\n    \t\tpanel.add(label);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tString[] text = { &quot;Sphere&quot;, &quot;Right Cylinder&quot;, &quot;Right Cone&quot;,\r\n    \t\t\t\t&quot;Rectangular Prism&quot;, &quot;Triangular Prism&quot;, &quot;Cube&quot;,\r\n    \t\t\t\t&quot;Square Pyramid&quot;, &quot;Rectangular Pyramid&quot;, &quot;Ellipsoid&quot;,\r\n    \t\t\t\t&quot;Tetrahedron&quot; };\r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 3, 5, 5));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tFont font = new Font(null, Font.PLAIN, 24);\r\n    \t\tButtonListener listener = new ButtonListener();\r\n    \r\n    \t\tfor (String s : text) {\r\n    \t\t\tJButton button = new JButton(s);\r\n    \t\t\tbutton.addActionListener(listener);\r\n    \t\t\tbutton.setFont(font);\r\n    \t\t\tpanel.add(button);\r\n    \t\t}\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createCubeCalculationPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridBagLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tFont titleFont = new Font(null, Font.PLAIN, 32);\r\n    \t\tFont font = new Font(null, Font.PLAIN, 16);\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.anchor = GridBagConstraints.LINE_START;\r\n    \t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\tgbc.insets = new Insets(0, 5, 5, 5);\r\n    \t\tgbc.weighty = 1.0;\r\n    \r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 0;\r\n    \t\tJLabel label = new JLabel(&quot;SA = 6a&#178;&quot;);\r\n    \t\tlabel.setFont(titleFont);\r\n    \t\tpanel.add(label, gbc);\r\n    \r\n    \t\tgbc.gridwidth = 1;\r\n    \t\tgbc.gridy++;\r\n    \t\tlabel = new JLabel(&quot;Edge:&quot;);\r\n    \t\tlabel.setFont(font);\r\n    \t\tpanel.add(label, gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\tedgeTextField = new JTextField(10);\r\n    \t\tedgeTextField.setFont(font);\r\n    \t\tpanel.add(edgeTextField, gbc);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tlabel = new JLabel(&quot;SA:&quot;);\r\n    \t\tlabel.setFont(font);\r\n    \t\tpanel.add(label, gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\tsurfaceAreaSolutionTextField = new JTextField(10);\r\n    \t\tsurfaceAreaSolutionTextField.setFont(font);\r\n    \t\tsurfaceAreaSolutionTextField.setEditable(false);\r\n    \t\tpanel.add(surfaceAreaSolutionTextField, gbc);\r\n    \r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tJButton calculateButton = new JButton(&quot;Calculate&quot;);\r\n    \t\tcalculateButton.addActionListener(event -&gt; {\r\n    \t\t\tdouble edge = Double.valueOf(edgeTextField.getText());\r\n    \t\t\tdouble sa = 6.0 * edge * edge;\r\n    \t\t\tsurfaceAreaSolutionTextField.setText(Double.toString(sa));\r\n    \t\t});\r\n    \t\tcalculateButton.setFont(font);\r\n    \t\tpanel.add(calculateButton, gbc);\r\n    \r\n    \t\tgbc.gridy++;\r\n    \t\tJButton backButton = new JButton(&quot;Back&quot;);\r\n    \t\tbackButton.addActionListener(event -&gt; {\r\n    \t\t\tcardLayout.show(mainPanel, &quot;Start&quot;);\r\n    \t\t});\r\n    \t\tbackButton.setFont(font);\r\n    \t\tpanel.add(backButton, gbc);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tpublic class ButtonListener implements ActionListener {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tJButton button = (JButton) event.getSource();\r\n    \t\t\tString text = button.getText();\r\n    \t\t\tcardLayout.show(mainPanel, text);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/PwHtB.png\r\n  [2]: https://i.stack.imgur.com/usvm6.png\r\n","title":"My content pane show only white even if it has components on it","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>Here's the GUI I created.</p>\n<p><a href=\"https://i.stack.imgur.com/PwHtB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PwHtB.png\" alt=\"Start\" /></a></p>\n<p>Press the &quot;Cube&quot; button to bring up the page for the cube calculation.</p>\n<p><a href=\"https://i.stack.imgur.com/usvm6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usvm6.png\" alt=\"Cube calculation\" /></a></p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>The <code>JFrame</code> has a default <code>BorderLayout</code> and holds the main <code>JPanel</code>.  The main <code>JPanel</code> uses a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout</a> to display the various calculation <code>JPanels</code>.  Using a <code>CardLayout</code> is much easier than managing multiple <code>JFrames</code> and provides a nicer user experience.</p>\n<p>I used Swing layout managers to position the Swing components on the various <code>JPanels</code>.</p>\n<p>The start <code>JPanel</code> consists of two subordinate <code>JPanels</code>.  The title <code>JPanel</code> uses a <code>FlowLayout</code> to display the title.  The button <code>JPanel</code> uses a <code>GridLayout</code> to display the various calculation <code>JButtons</code>.  You can create complex <code>JPanels</code> by nesting multiple simple <code>JPanels</code>.</p>\n<p>The cube calculation <code>JPanel</code> was the only one you had in your code, so it was the only one I created.  I made it a method, but you can create a separate class for each of the calculations.  The cube calculation <code>JPanel</code> uses a <code>GridBagLayout</code> to create a form-like <code>JPanel</code>.  I used lambda expressions to create the <code>ActionListener</code> for each of the <code>JButtons</code>, since they were so simple.</p>\n<p>I made the start <code>JPanel</code> button <code>ActionListener</code> a separate class just to get the code away from the <code>for</code> loop that creates the <code>JButtons</code>.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class CardLayoutGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new CardLayoutGUI());\n    }\n\n    private CardLayout cardLayout;\n\n    private JTextField edgeTextField, surfaceAreaSolutionTextField;\n\n    private JPanel mainPanel;\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Calculating for Surface Area&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        this.mainPanel = createMainPanel();\n        frame.add(mainPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createMainPanel() {\n        cardLayout = new CardLayout();\n        JPanel panel = new JPanel(cardLayout);\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n\n        panel.add(createStartPanel(), &quot;Start&quot;);\n        panel.add(createCubeCalculationPanel(), &quot;Cube&quot;);\n\n        return panel;\n    }\n\n    private JPanel createStartPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n\n        panel.add(createTitlePanel(), BorderLayout.NORTH);\n        panel.add(createButtonPanel(), BorderLayout.CENTER);\n\n        return panel;\n    }\n\n    private JPanel createTitlePanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        Font font = new Font(Font.DIALOG, Font.PLAIN, 36);\n\n        JLabel label = new JLabel(&quot;Calculator for the Surface Area of:&quot;);\n        label.setFont(font);\n        panel.add(label);\n\n        return panel;\n    }\n\n    private JPanel createButtonPanel() {\n        String[] text = { &quot;Sphere&quot;, &quot;Right Cylinder&quot;, &quot;Right Cone&quot;,\n                &quot;Rectangular Prism&quot;, &quot;Triangular Prism&quot;, &quot;Cube&quot;,\n                &quot;Square Pyramid&quot;, &quot;Rectangular Pyramid&quot;, &quot;Ellipsoid&quot;,\n                &quot;Tetrahedron&quot; };\n        JPanel panel = new JPanel(new GridLayout(0, 3, 5, 5));\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        Font font = new Font(null, Font.PLAIN, 24);\n        ButtonListener listener = new ButtonListener();\n\n        for (String s : text) {\n            JButton button = new JButton(s);\n            button.addActionListener(listener);\n            button.setFont(font);\n            panel.add(button);\n        }\n\n        return panel;\n    }\n\n    private JPanel createCubeCalculationPanel() {\n        JPanel panel = new JPanel(new GridBagLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        Font titleFont = new Font(null, Font.PLAIN, 32);\n        Font font = new Font(null, Font.PLAIN, 16);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(0, 5, 5, 5);\n        gbc.weighty = 1.0;\n\n        gbc.gridwidth = 2;\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        JLabel label = new JLabel(&quot;SA = 6a²&quot;);\n        label.setFont(titleFont);\n        panel.add(label, gbc);\n\n        gbc.gridwidth = 1;\n        gbc.gridy++;\n        label = new JLabel(&quot;Edge:&quot;);\n        label.setFont(font);\n        panel.add(label, gbc);\n\n        gbc.gridx++;\n        edgeTextField = new JTextField(10);\n        edgeTextField.setFont(font);\n        panel.add(edgeTextField, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        label = new JLabel(&quot;SA:&quot;);\n        label.setFont(font);\n        panel.add(label, gbc);\n\n        gbc.gridx++;\n        surfaceAreaSolutionTextField = new JTextField(10);\n        surfaceAreaSolutionTextField.setFont(font);\n        surfaceAreaSolutionTextField.setEditable(false);\n        panel.add(surfaceAreaSolutionTextField, gbc);\n\n        gbc.gridwidth = 2;\n        gbc.gridx = 0;\n        gbc.gridy++;\n        JButton calculateButton = new JButton(&quot;Calculate&quot;);\n        calculateButton.addActionListener(event -&gt; {\n            double edge = Double.valueOf(edgeTextField.getText());\n            double sa = 6.0 * edge * edge;\n            surfaceAreaSolutionTextField.setText(Double.toString(sa));\n        });\n        calculateButton.setFont(font);\n        panel.add(calculateButton, gbc);\n\n        gbc.gridy++;\n        JButton backButton = new JButton(&quot;Back&quot;);\n        backButton.addActionListener(event -&gt; {\n            cardLayout.show(mainPanel, &quot;Start&quot;);\n        });\n        backButton.setFont(font);\n        panel.add(backButton, gbc);\n\n        return panel;\n    }\n\n    public class ButtonListener implements ActionListener {\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            JButton button = (JButton) event.getSource();\n            String text = button.getText();\n            cardLayout.show(mainPanel, text);\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25976066,"reputation":7,"user_id":19690501,"display_name":"Bruce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74603952,"answer_count":2,"score":-1,"last_activity_date":1669893237,"creation_date":1669626024,"question_id":74598190,"body_markdown":"I&#39;m doing this as a challenge for myself. My problem is that when I click on the button, the content pane appears plain even if the `JPanel` has components in it.\r\n\r\nI&#39;ve tried adding the components on the frame but I get an error: &gt;Cannot read field &quot;parent&quot; because &quot;comp&quot; is null.\r\n\r\nI&#39;ve tried other layout on `JFrame` and `JPanel` and still it didn&#39;t show.\r\n\r\nHere&#39;s the full code: \r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.text.DecimalFormat;\r\n\r\npublic class test implements ActionListener{\r\n\r\n    public static void main(String [] args) {\r\n        new test();\r\n    }\r\n    static JPanel mainPanel, cubePanel;\r\n    static JFrame frame;\r\n    static Container container = new Container();\r\n    static JLabel calculatorFor;\r\n    static JButton sphereButton, rightCylinderButton, rightConeButton, rectangularPrismButton, triangularPrismButton,\r\n            cubeButton, squarePyramidButton, rectangularPyramidButton, ellipsoidButton, tetrahedronButton ,backToPreviousFrameButton;\r\n    static Font font = new Font(null, Font.PLAIN, 30);\r\n    static JLabel enterValueForEdge;\r\n    static JTextField edgeTextField;\r\n    static JTextArea surfaceAreaTextArea, surfaceAreaFormulaTextArea, surfaceAreaSolutionTextArea;\r\n    static JButton calculateButton;\r\n    static double edge;\r\n    static DecimalFormat surfaceAreaDecimal;\r\n    public test(){\r\n        frame = new JFrame(&quot;Calculating for Surface Area&quot;);\r\n\r\n        calculatorFor = new JLabel(&quot;Calculator for the Surface Area of:&quot;);\r\n        calculatorFor.setSize(600, 40);\r\n        calculatorFor.setLocation(100, 50);\r\n        calculatorFor.setFont(font);\r\n        calculatorFor.setFocusable(false);\r\n\r\n        sphereButton = new JButton(&quot;Sphere &quot;);\r\n        sphereButton.setSize(400, 40);\r\n        sphereButton.setLocation(100, 100);\r\n        sphereButton.setFont(font);\r\n        sphereButton.addActionListener(this);\r\n        sphereButton.setFocusable(false);\r\n\r\n        rightCylinderButton = new JButton(&quot;Right Cylinder&quot;);\r\n        rightCylinderButton.setSize(400, 40);\r\n        rightCylinderButton.setLocation(100, 150);\r\n        rightCylinderButton.setFont(font);\r\n        rightCylinderButton.addActionListener(this);\r\n        rightCylinderButton.setFocusable(false);\r\n\r\n        rightConeButton = new JButton(&quot;Right Cone&quot;);\r\n        rightConeButton.setSize(400, 40);\r\n        rightConeButton.setLocation(100, 200);\r\n        rightConeButton.setFont(font);\r\n        rightConeButton.addActionListener(this);\r\n        rightConeButton.setFocusable(false);\r\n\r\n        rectangularPrismButton = new JButton(&quot;Rectangular Prism&quot;);\r\n        rectangularPrismButton.setSize(400, 40);\r\n        rectangularPrismButton.setLocation(100, 250);\r\n        rectangularPrismButton.setFont(font);\r\n        rectangularPrismButton.addActionListener(this);\r\n        rectangularPrismButton.setFocusable(false);\r\n\r\n        triangularPrismButton = new JButton(&quot;Triangular Prism&quot;);\r\n        triangularPrismButton.setSize(400, 40);\r\n        triangularPrismButton.setLocation(100, 300);\r\n        triangularPrismButton.setFont(font);\r\n        triangularPrismButton.addActionListener(this);\r\n        triangularPrismButton.setFocusable(false);\r\n\r\n        cubeButton = new JButton(&quot;Cube&quot;);\r\n        cubeButton.setSize(400, 40);\r\n        cubeButton.setLocation(100, 350);\r\n        cubeButton.setFont(font);\r\n        cubeButton.addActionListener(this);\r\n        cubeButton.setFocusable(false);\r\n\r\n        squarePyramidButton = new JButton(&quot;Square Pyramid&quot;);\r\n        squarePyramidButton.setSize(400, 40);\r\n        squarePyramidButton.setLocation(100, 400);\r\n        squarePyramidButton.setFont(font);\r\n        squarePyramidButton.addActionListener(this);\r\n        squarePyramidButton.setFocusable(false);\r\n\r\n        rectangularPyramidButton = new JButton(&quot;Rectangular Pyramid&quot;);\r\n        rectangularPyramidButton.setSize(400, 40);\r\n        rectangularPyramidButton.setLocation(100, 450);\r\n        rectangularPyramidButton.setFont(font);\r\n        rectangularPyramidButton.addActionListener(this);\r\n        rectangularPyramidButton.setFocusable(false);\r\n\r\n        ellipsoidButton = new JButton(&quot;Ellipsoid&quot;);\r\n        ellipsoidButton.setSize(400, 40);\r\n        ellipsoidButton.setLocation(100, 500);\r\n        ellipsoidButton.setFont(font);\r\n        ellipsoidButton.addActionListener(this);\r\n        ellipsoidButton.setFocusable(false);\r\n\r\n        tetrahedronButton = new JButton(&quot;Tetrahedron&quot;);\r\n        tetrahedronButton.setSize(400, 40);\r\n        tetrahedronButton.setLocation(100, 550);\r\n        tetrahedronButton.setFont(font);\r\n        tetrahedronButton.addActionListener(this);\r\n        tetrahedronButton.setFocusable(false);\r\n\r\n        backToPreviousFrameButton = new JButton(&quot;Back&quot;);\r\n        backToPreviousFrameButton.setSize(100, 40);\r\n        backToPreviousFrameButton.setLocation(900, 600);\r\n        backToPreviousFrameButton.setFont(font);\r\n        backToPreviousFrameButton.addActionListener(this);\r\n        backToPreviousFrameButton.setFocusable(false);\r\n\r\n        mainPanel = new JPanel();\r\n        mainPanel.setBounds(0, 0, 1080, 720);\r\n        mainPanel.setLayout(null);\r\n        mainPanel.setBackground(Color.decode(&quot;#FAF7FC&quot;));\r\n\r\n        mainPanel.add(calculatorFor);\r\n        mainPanel.add(sphereButton);\r\n        mainPanel.add(rightCylinderButton);\r\n        mainPanel.add(rightConeButton);\r\n        mainPanel.add(rectangularPrismButton);\r\n        mainPanel.add(triangularPrismButton);\r\n        mainPanel.add(cubeButton);\r\n        mainPanel.add(squarePyramidButton);\r\n        mainPanel.add(rectangularPyramidButton);\r\n        mainPanel.add(ellipsoidButton);\r\n        mainPanel.add(tetrahedronButton);\r\n        mainPanel.add(backToPreviousFrameButton);\r\n\r\n        frame.getContentPane().add(mainPanel);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().setBackground(Color.decode(&quot;#FAF7FC&quot;));\r\n        frame.setLayout(new BorderLayout());\r\n        frame.setSize(1080,720);\r\n        frame.setResizable(false);\r\n        frame.setVisible(true);\r\n        frame.setLocationRelativeTo(null);\r\n    }\r\n\r\n    public void cubePanel(){\r\n\r\n        enterValueForEdge = new JLabel(&quot;Enter Edge:&quot;);\r\n        enterValueForEdge.setSize(200, 40);\r\n        enterValueForEdge.setLocation(100, 50);\r\n        enterValueForEdge.setFont(font);\r\n        enterValueForEdge.setFocusable(false);\r\n\r\n        edgeTextField = new JTextField();\r\n        edgeTextField.setSize(400, 40);\r\n        edgeTextField.setLocation(300, 50);\r\n        edgeTextField.setFont(font);\r\n\r\n        calculateButton = new JButton(&quot;Calculate&quot;);\r\n        calculateButton.setSize(200, 40);\r\n        calculateButton.setLocation(100, 100);\r\n        calculateButton.setFont(font);\r\n        calculateButton.addActionListener(this);\r\n        calculateButton.setFocusable(false);\r\n\r\n        surfaceAreaFormulaTextArea = new JTextArea(&quot;SA = 6a&#178;&quot;);\r\n        surfaceAreaFormulaTextArea.setSize(400, 40);\r\n        surfaceAreaFormulaTextArea.setLocation(100, 150);\r\n        surfaceAreaFormulaTextArea.setFont(font);\r\n        surfaceAreaFormulaTextArea.setEditable(false);\r\n\r\n        surfaceAreaTextArea = new JTextArea(&quot;SA: &quot;);\r\n        surfaceAreaTextArea.setSize(500, 40);\r\n        surfaceAreaTextArea.setLocation(100, 200);\r\n        surfaceAreaTextArea.setFont(font);\r\n        surfaceAreaTextArea.setEditable(false);\r\n\r\n        surfaceAreaSolutionTextArea = new JTextArea();\r\n        surfaceAreaSolutionTextArea.setSize(900, 80);\r\n        surfaceAreaSolutionTextArea.setLocation(100, 250);\r\n        surfaceAreaSolutionTextArea.setFont(font);\r\n        surfaceAreaSolutionTextArea.setEditable(false);\r\n        surfaceAreaSolutionTextArea.setLineWrap(true);\r\n\r\n        backToPreviousFrameButton = new JButton(&quot;Back&quot;);\r\n        backToPreviousFrameButton.setSize(100, 40);\r\n        backToPreviousFrameButton.setLocation(900, 600);\r\n        backToPreviousFrameButton.setFont(font);\r\n        backToPreviousFrameButton.addActionListener(this);\r\n        backToPreviousFrameButton.setFocusable(false);\r\n\r\n        cubePanel = new JPanel();\r\n        cubePanel.setBounds(0, 0, 1080, 720);\r\n        cubePanel.setLayout(null);\r\n        cubePanel.setBackground(Color.decode(&quot;#FAF7FC&quot;));\r\n\r\n        container = new Container();\r\n\r\n        cubePanel.add(enterValueForEdge);\r\n        cubePanel.add(edgeTextField);\r\n        cubePanel.add(calculateButton);\r\n        cubePanel.add(surfaceAreaFormulaTextArea);\r\n        cubePanel.add(surfaceAreaTextArea);\r\n        cubePanel.add(surfaceAreaSolutionTextArea);\r\n        cubePanel.add(backToPreviousFrameButton);\r\n\r\n        container.add(cubePanel);\r\n        container.setLayout(null);\r\n        container.setBackground(Color.decode(&quot;#FAF7FH&quot;));\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n        if(e.getSource() == sphereButton){\r\n            new sphereFrame();\r\n            frame.dispose();\r\n        }\r\n\r\n        if(e.getSource() == rightCylinderButton){\r\n            new rightCylinderFrame();\r\n            frame.dispose();\r\n        }\r\n\r\n        if(e.getSource() == rightConeButton){\r\n            new rightConeFrame();\r\n            frame.dispose();\r\n        }\r\n\r\n        if(e.getSource() == rectangularPrismButton){\r\n            new rectangularPrismFrame();\r\n            frame.dispose();\r\n        }\r\n\r\n        if(e.getSource() == triangularPrismButton){\r\n            new triangularPrismFrame();\r\n            frame.dispose();\r\n        }\r\n\r\n       if(e.getSource() == cubeButton){\r\n            frame.getContentPane().removeAll();\r\n            frame.add(cubePanel);\r\n            frame.repaint();\r\n            frame.revalidate();\r\n            System.out.println(&quot;Remove&quot;);\r\n            frame.getContentPane().add(container);\r\n       }\r\n}","title":"My content pane show only white even if it has components on it","body":"<p>I'm doing this as a challenge for myself. My problem is that when I click on the button, the content pane appears plain even if the <code>JPanel</code> has components in it.</p>\n<p>I've tried adding the components on the frame but I get an error: &gt;Cannot read field &quot;parent&quot; because &quot;comp&quot; is null.</p>\n<p>I've tried other layout on <code>JFrame</code> and <code>JPanel</code> and still it didn't show.</p>\n<p>Here's the full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.text.DecimalFormat;\n\npublic class test implements ActionListener{\n\n    public static void main(String [] args) {\n        new test();\n    }\n    static JPanel mainPanel, cubePanel;\n    static JFrame frame;\n    static Container container = new Container();\n    static JLabel calculatorFor;\n    static JButton sphereButton, rightCylinderButton, rightConeButton, rectangularPrismButton, triangularPrismButton,\n            cubeButton, squarePyramidButton, rectangularPyramidButton, ellipsoidButton, tetrahedronButton ,backToPreviousFrameButton;\n    static Font font = new Font(null, Font.PLAIN, 30);\n    static JLabel enterValueForEdge;\n    static JTextField edgeTextField;\n    static JTextArea surfaceAreaTextArea, surfaceAreaFormulaTextArea, surfaceAreaSolutionTextArea;\n    static JButton calculateButton;\n    static double edge;\n    static DecimalFormat surfaceAreaDecimal;\n    public test(){\n        frame = new JFrame(&quot;Calculating for Surface Area&quot;);\n\n        calculatorFor = new JLabel(&quot;Calculator for the Surface Area of:&quot;);\n        calculatorFor.setSize(600, 40);\n        calculatorFor.setLocation(100, 50);\n        calculatorFor.setFont(font);\n        calculatorFor.setFocusable(false);\n\n        sphereButton = new JButton(&quot;Sphere &quot;);\n        sphereButton.setSize(400, 40);\n        sphereButton.setLocation(100, 100);\n        sphereButton.setFont(font);\n        sphereButton.addActionListener(this);\n        sphereButton.setFocusable(false);\n\n        rightCylinderButton = new JButton(&quot;Right Cylinder&quot;);\n        rightCylinderButton.setSize(400, 40);\n        rightCylinderButton.setLocation(100, 150);\n        rightCylinderButton.setFont(font);\n        rightCylinderButton.addActionListener(this);\n        rightCylinderButton.setFocusable(false);\n\n        rightConeButton = new JButton(&quot;Right Cone&quot;);\n        rightConeButton.setSize(400, 40);\n        rightConeButton.setLocation(100, 200);\n        rightConeButton.setFont(font);\n        rightConeButton.addActionListener(this);\n        rightConeButton.setFocusable(false);\n\n        rectangularPrismButton = new JButton(&quot;Rectangular Prism&quot;);\n        rectangularPrismButton.setSize(400, 40);\n        rectangularPrismButton.setLocation(100, 250);\n        rectangularPrismButton.setFont(font);\n        rectangularPrismButton.addActionListener(this);\n        rectangularPrismButton.setFocusable(false);\n\n        triangularPrismButton = new JButton(&quot;Triangular Prism&quot;);\n        triangularPrismButton.setSize(400, 40);\n        triangularPrismButton.setLocation(100, 300);\n        triangularPrismButton.setFont(font);\n        triangularPrismButton.addActionListener(this);\n        triangularPrismButton.setFocusable(false);\n\n        cubeButton = new JButton(&quot;Cube&quot;);\n        cubeButton.setSize(400, 40);\n        cubeButton.setLocation(100, 350);\n        cubeButton.setFont(font);\n        cubeButton.addActionListener(this);\n        cubeButton.setFocusable(false);\n\n        squarePyramidButton = new JButton(&quot;Square Pyramid&quot;);\n        squarePyramidButton.setSize(400, 40);\n        squarePyramidButton.setLocation(100, 400);\n        squarePyramidButton.setFont(font);\n        squarePyramidButton.addActionListener(this);\n        squarePyramidButton.setFocusable(false);\n\n        rectangularPyramidButton = new JButton(&quot;Rectangular Pyramid&quot;);\n        rectangularPyramidButton.setSize(400, 40);\n        rectangularPyramidButton.setLocation(100, 450);\n        rectangularPyramidButton.setFont(font);\n        rectangularPyramidButton.addActionListener(this);\n        rectangularPyramidButton.setFocusable(false);\n\n        ellipsoidButton = new JButton(&quot;Ellipsoid&quot;);\n        ellipsoidButton.setSize(400, 40);\n        ellipsoidButton.setLocation(100, 500);\n        ellipsoidButton.setFont(font);\n        ellipsoidButton.addActionListener(this);\n        ellipsoidButton.setFocusable(false);\n\n        tetrahedronButton = new JButton(&quot;Tetrahedron&quot;);\n        tetrahedronButton.setSize(400, 40);\n        tetrahedronButton.setLocation(100, 550);\n        tetrahedronButton.setFont(font);\n        tetrahedronButton.addActionListener(this);\n        tetrahedronButton.setFocusable(false);\n\n        backToPreviousFrameButton = new JButton(&quot;Back&quot;);\n        backToPreviousFrameButton.setSize(100, 40);\n        backToPreviousFrameButton.setLocation(900, 600);\n        backToPreviousFrameButton.setFont(font);\n        backToPreviousFrameButton.addActionListener(this);\n        backToPreviousFrameButton.setFocusable(false);\n\n        mainPanel = new JPanel();\n        mainPanel.setBounds(0, 0, 1080, 720);\n        mainPanel.setLayout(null);\n        mainPanel.setBackground(Color.decode(&quot;#FAF7FC&quot;));\n\n        mainPanel.add(calculatorFor);\n        mainPanel.add(sphereButton);\n        mainPanel.add(rightCylinderButton);\n        mainPanel.add(rightConeButton);\n        mainPanel.add(rectangularPrismButton);\n        mainPanel.add(triangularPrismButton);\n        mainPanel.add(cubeButton);\n        mainPanel.add(squarePyramidButton);\n        mainPanel.add(rectangularPyramidButton);\n        mainPanel.add(ellipsoidButton);\n        mainPanel.add(tetrahedronButton);\n        mainPanel.add(backToPreviousFrameButton);\n\n        frame.getContentPane().add(mainPanel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setBackground(Color.decode(&quot;#FAF7FC&quot;));\n        frame.setLayout(new BorderLayout());\n        frame.setSize(1080,720);\n        frame.setResizable(false);\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n    }\n\n    public void cubePanel(){\n\n        enterValueForEdge = new JLabel(&quot;Enter Edge:&quot;);\n        enterValueForEdge.setSize(200, 40);\n        enterValueForEdge.setLocation(100, 50);\n        enterValueForEdge.setFont(font);\n        enterValueForEdge.setFocusable(false);\n\n        edgeTextField = new JTextField();\n        edgeTextField.setSize(400, 40);\n        edgeTextField.setLocation(300, 50);\n        edgeTextField.setFont(font);\n\n        calculateButton = new JButton(&quot;Calculate&quot;);\n        calculateButton.setSize(200, 40);\n        calculateButton.setLocation(100, 100);\n        calculateButton.setFont(font);\n        calculateButton.addActionListener(this);\n        calculateButton.setFocusable(false);\n\n        surfaceAreaFormulaTextArea = new JTextArea(&quot;SA = 6a²&quot;);\n        surfaceAreaFormulaTextArea.setSize(400, 40);\n        surfaceAreaFormulaTextArea.setLocation(100, 150);\n        surfaceAreaFormulaTextArea.setFont(font);\n        surfaceAreaFormulaTextArea.setEditable(false);\n\n        surfaceAreaTextArea = new JTextArea(&quot;SA: &quot;);\n        surfaceAreaTextArea.setSize(500, 40);\n        surfaceAreaTextArea.setLocation(100, 200);\n        surfaceAreaTextArea.setFont(font);\n        surfaceAreaTextArea.setEditable(false);\n\n        surfaceAreaSolutionTextArea = new JTextArea();\n        surfaceAreaSolutionTextArea.setSize(900, 80);\n        surfaceAreaSolutionTextArea.setLocation(100, 250);\n        surfaceAreaSolutionTextArea.setFont(font);\n        surfaceAreaSolutionTextArea.setEditable(false);\n        surfaceAreaSolutionTextArea.setLineWrap(true);\n\n        backToPreviousFrameButton = new JButton(&quot;Back&quot;);\n        backToPreviousFrameButton.setSize(100, 40);\n        backToPreviousFrameButton.setLocation(900, 600);\n        backToPreviousFrameButton.setFont(font);\n        backToPreviousFrameButton.addActionListener(this);\n        backToPreviousFrameButton.setFocusable(false);\n\n        cubePanel = new JPanel();\n        cubePanel.setBounds(0, 0, 1080, 720);\n        cubePanel.setLayout(null);\n        cubePanel.setBackground(Color.decode(&quot;#FAF7FC&quot;));\n\n        container = new Container();\n\n        cubePanel.add(enterValueForEdge);\n        cubePanel.add(edgeTextField);\n        cubePanel.add(calculateButton);\n        cubePanel.add(surfaceAreaFormulaTextArea);\n        cubePanel.add(surfaceAreaTextArea);\n        cubePanel.add(surfaceAreaSolutionTextArea);\n        cubePanel.add(backToPreviousFrameButton);\n\n        container.add(cubePanel);\n        container.setLayout(null);\n        container.setBackground(Color.decode(&quot;#FAF7FH&quot;));\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        if(e.getSource() == sphereButton){\n            new sphereFrame();\n            frame.dispose();\n        }\n\n        if(e.getSource() == rightCylinderButton){\n            new rightCylinderFrame();\n            frame.dispose();\n        }\n\n        if(e.getSource() == rightConeButton){\n            new rightConeFrame();\n            frame.dispose();\n        }\n\n        if(e.getSource() == rectangularPrismButton){\n            new rectangularPrismFrame();\n            frame.dispose();\n        }\n\n        if(e.getSource() == triangularPrismButton){\n            new triangularPrismFrame();\n            frame.dispose();\n        }\n\n       if(e.getSource() == cubeButton){\n            frame.getContentPane().removeAll();\n            frame.add(cubePanel);\n            frame.repaint();\n            frame.revalidate();\n            System.out.println(&quot;Remove&quot;);\n            frame.getContentPane().add(container);\n       }\n}\n</code></pre>\n"},{"tags":["java","swing","jframe","jbutton","keylistener"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669774917,"creation_date":1669747226,"answer_id":74618809,"question_id":74617510,"body_markdown":"Normally you click on the button. When the button is pressed the background of the button is painted in the selected state. When you release the mouse button the Action is invoked, and the button is repainted in its normal state.\r\n\r\nFor just using the keyboard you will need to manually set the state of the `ButtonModel` so the button can be painted correctly. This is done by adding `Key Bindings` to the button to handle the &quot;pressed/released&quot; state:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class CalculatorPanel2 extends JPanel\r\n    {\r\n    \tprivate JTextField display;\r\n    \r\n    \tpublic CalculatorPanel2()\r\n    \t{\r\n    \t\tAction pressedAction = new AbstractAction()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tJButton button = (JButton)e.getSource();\r\n    \t\t\t\tButtonModel model = button.getModel();\r\n    \t\t\t\tmodel.setPressed(true);\r\n    \t\t\t\tmodel.setArmed(true);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tAction releasedAction = new AbstractAction()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tJButton button = (JButton)e.getSource();\r\n    \t\t\t\tButtonModel model = button.getModel();\r\n    \t\t\t\tmodel.setPressed(false);\r\n    \t\t\t\tmodel.setArmed(false);\r\n    \t\t\t\tdisplay.replaceSelection(e.getActionCommand());\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tsetLayout( new BorderLayout() );\r\n    \r\n    \t\tdisplay = new JTextField();\r\n    \t\tdisplay.setEditable( false );\r\n    \t\tdisplay.setHorizontalAlignment(JTextField.RIGHT);\r\n    \t\tadd(display, BorderLayout.NORTH);\r\n    \r\n    \t\tJPanel buttonPanel = new JPanel();\r\n    \t\tbuttonPanel.setLayout( new GridLayout(0, 5) );\r\n    \t\tadd(buttonPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t{\r\n    \t\t\tString text = String.valueOf(i);\r\n    \t\t\tJButton button = new JButton( text );\r\n    \t\t\tbutton.setBorder( new LineBorder(Color.BLACK) );\r\n    \t\t\tbutton.setPreferredSize( new Dimension(30, 30) );\r\n    \t\t\tbuttonPanel.add( button );\r\n    \r\n    \t\t\tInputMap inputMap = button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\r\n    \t\t\tString pressed = &quot;pressed &quot; + text;\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(pressed), pressed);\r\n    \t\t\tbutton.getActionMap().put(pressed, pressedAction);\r\n    \t\t\tString released = &quot;released &quot; + text;\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(released), released);\r\n    \t\t\tbutton.getActionMap().put(released, releasedAction);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;Calculator Panel&quot;);\r\n    \t\tframe.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n    \t\tframe.add( new CalculatorPanel2() );\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo( null );\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nIf you really want to control the background color, then you can just use:\r\n\r\n\tbutton.setBackground(Color.RED);\r\n\r\nand\r\n\r\n\tbutton.setBackground(null);\r\n\r\nin the pressed/released actions respectively and remove the &quot;model&quot; logic.\r\n\r\n","title":"How can i change the button colour on Virtual Keyboard Java using KeyListener library?","body":"<p>Normally you click on the button. When the button is pressed the background of the button is painted in the selected state. When you release the mouse button the Action is invoked, and the button is repainted in its normal state.</p>\n<p>For just using the keyboard you will need to manually set the state of the <code>ButtonModel</code> so the button can be painted correctly. This is done by adding <code>Key Bindings</code> to the button to handle the &quot;pressed/released&quot; state:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class CalculatorPanel2 extends JPanel\n{\n    private JTextField display;\n\n    public CalculatorPanel2()\n    {\n        Action pressedAction = new AbstractAction()\n        {\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n                JButton button = (JButton)e.getSource();\n                ButtonModel model = button.getModel();\n                model.setPressed(true);\n                model.setArmed(true);\n            }\n        };\n\n        Action releasedAction = new AbstractAction()\n        {\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n                JButton button = (JButton)e.getSource();\n                ButtonModel model = button.getModel();\n                model.setPressed(false);\n                model.setArmed(false);\n                display.replaceSelection(e.getActionCommand());\n            }\n        };\n\n        setLayout( new BorderLayout() );\n\n        display = new JTextField();\n        display.setEditable( false );\n        display.setHorizontalAlignment(JTextField.RIGHT);\n        add(display, BorderLayout.NORTH);\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setLayout( new GridLayout(0, 5) );\n        add(buttonPanel, BorderLayout.CENTER);\n\n        for (int i = 0; i &lt; 10; i++)\n        {\n            String text = String.valueOf(i);\n            JButton button = new JButton( text );\n            button.setBorder( new LineBorder(Color.BLACK) );\n            button.setPreferredSize( new Dimension(30, 30) );\n            buttonPanel.add( button );\n\n            InputMap inputMap = button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\n            String pressed = &quot;pressed &quot; + text;\n            inputMap.put(KeyStroke.getKeyStroke(pressed), pressed);\n            button.getActionMap().put(pressed, pressedAction);\n            String released = &quot;released &quot; + text;\n            inputMap.put(KeyStroke.getKeyStroke(released), released);\n            button.getActionMap().put(released, releasedAction);\n        }\n    }\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;Calculator Panel&quot;);\n        frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n        frame.add( new CalculatorPanel2() );\n        frame.pack();\n        frame.setLocationRelativeTo( null );\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n<p>If you really want to control the background color, then you can just use:</p>\n<pre><code>button.setBackground(Color.RED);\n</code></pre>\n<p>and</p>\n<pre><code>button.setBackground(null);\n</code></pre>\n<p>in the pressed/released actions respectively and remove the &quot;model&quot; logic.</p>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669892985,"creation_date":1669764585,"answer_id":74621371,"question_id":74617510,"body_markdown":"A straight-forward approach would be to add the following four things:\r\n\r\n\r\n* In your `initWidget` method add a `KeyListener` to your\r\n  `JTextArea` (not to your `JButton`s) so that your `keyPressed` and `keyReleased`\r\n  methods will actually be called when you type something.\r\n  \r\n      taL.addKeyListener(this);\r\n\r\n* Add a [`Map`][1] to your class where you will store the mapping\r\n  from key-codes to buttons.\r\n\r\n      private final Map&lt;Integer, JButton&gt; map = new HashMap&lt;&gt;();\r\n\r\n* In your `initWidget` method, while adding all the buttons store\r\n  the mapping from key-codes (available as constants\r\n  [`KeyEvent.VK_*`][2]) to buttons in the map mentioned above.\r\n  I also recommend making this method easier readable by swapping out\r\n  the repetitive parts into a method of its own.\r\n  Then you don&#39;t need the string arrays (`firstRow`, `secondRow`, ...)\r\n  and the button arrays (`first`, `second`, ...) anymore.\r\n  \r\n      private void initWidget() {\r\n\t      ....\r\n\t\t  \r\n          addButton(KeyEvent.VK_DEAD_TILDE, &quot;~&quot;, 10, 300, 45, 45);\r\n          addButton(KeyEvent.VK_1, &quot;1&quot;, 60, 300, 45, 45);\r\n          addButton(KeyEvent.VK_2, &quot;2&quot;, 110, 300, 45, 45);\r\n          addButton(KeyEvent.VK_3, &quot;3&quot;, 160, 300, 45, 45);\r\n          addButton(KeyEvent.VK_4, &quot;4&quot;, 210, 300, 45, 45);\r\n          addButton(KeyEvent.VK_5, &quot;5&quot;, 260, 300, 45, 45);\r\n          addButton(KeyEvent.VK_6, &quot;6&quot;, 310, 300, 45, 45);\r\n          ....\r\n          addButton(KeyEvent.VK_SPACE, &quot;&quot;, 215, 500, 305, 45);\r\n          addButton(KeyEvent.VK_LEFT, &quot;&lt;&quot;, 630, 500, 45, 45);\r\n          addButton(KeyEvent.VK_DOWN, &quot;V&quot;, 680, 500, 45, 45);\r\n          addButton(KeyEvent.VK_RIGHT, &quot;&gt;&quot;, 730, 500, 45, 45);\r\n      }\r\n  \r\n      private void addButton(int keyCode, String text, int x, int y, int w, int h) {\r\n          JButton button = new JButton(text);\r\n          button.setBorder(BorderFactory.createRaisedBevelBorder());\r\n          button.setBackground(Color.LIGHT_GRAY);\r\n          button.setBounds(x, y, w, h);\r\n          cont.add(button);\r\n          map.put(keyCode, button);  // save the mapping from key-code to button\r\n      }\r\n\r\n\r\n* In your `keyPressed` and `keyReleased` methods react\r\n  by finding the corresponding button for the key-code\r\n  and highlighting that button.\r\n  \r\n      @Override\r\n\t  public void keyPressed(KeyEvent e) {\r\n          JButton button = map.get(e.getKeyCode());  // find the button\r\n          if (button != null)\r\n              button.setBackground(Color.RED);\r\n\t  }\r\n      \r\n      @Override\r\n      public void keyReleased(KeyEvent e) {\r\n          JButton button = map.get(e.getKeyCode());  // find the button\r\n          if (button != null)\r\n              button.setBackground(Color.LIGHT_GRAY);\r\n      }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/awt/event/KeyEvent.html#field.summary","title":"How can i change the button colour on Virtual Keyboard Java using KeyListener library?","body":"<p>A straight-forward approach would be to add the following four things:</p>\n<ul>\n<li><p>In your <code>initWidget</code> method add a <code>KeyListener</code> to your\n<code>JTextArea</code> (not to your <code>JButton</code>s) so that your <code>keyPressed</code> and <code>keyReleased</code>\nmethods will actually be called when you type something.</p>\n<pre><code>taL.addKeyListener(this);\n</code></pre>\n</li>\n<li><p>Add a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> to your class where you will store the mapping\nfrom key-codes to buttons.</p>\n<pre><code>private final Map&lt;Integer, JButton&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n</li>\n<li><p>In your <code>initWidget</code> method, while adding all the buttons store\nthe mapping from key-codes (available as constants\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/KeyEvent.html#field.summary\" rel=\"nofollow noreferrer\"><code>KeyEvent.VK_*</code></a>) to buttons in the map mentioned above.\nI also recommend making this method easier readable by swapping out\nthe repetitive parts into a method of its own.\nThen you don't need the string arrays (<code>firstRow</code>, <code>secondRow</code>, ...)\nand the button arrays (<code>first</code>, <code>second</code>, ...) anymore.</p>\n<pre><code>private void initWidget() {\n    ....\n\n    addButton(KeyEvent.VK_DEAD_TILDE, &quot;~&quot;, 10, 300, 45, 45);\n    addButton(KeyEvent.VK_1, &quot;1&quot;, 60, 300, 45, 45);\n    addButton(KeyEvent.VK_2, &quot;2&quot;, 110, 300, 45, 45);\n    addButton(KeyEvent.VK_3, &quot;3&quot;, 160, 300, 45, 45);\n    addButton(KeyEvent.VK_4, &quot;4&quot;, 210, 300, 45, 45);\n    addButton(KeyEvent.VK_5, &quot;5&quot;, 260, 300, 45, 45);\n    addButton(KeyEvent.VK_6, &quot;6&quot;, 310, 300, 45, 45);\n    ....\n    addButton(KeyEvent.VK_SPACE, &quot;&quot;, 215, 500, 305, 45);\n    addButton(KeyEvent.VK_LEFT, &quot;&lt;&quot;, 630, 500, 45, 45);\n    addButton(KeyEvent.VK_DOWN, &quot;V&quot;, 680, 500, 45, 45);\n    addButton(KeyEvent.VK_RIGHT, &quot;&gt;&quot;, 730, 500, 45, 45);\n}\n\nprivate void addButton(int keyCode, String text, int x, int y, int w, int h) {\n    JButton button = new JButton(text);\n    button.setBorder(BorderFactory.createRaisedBevelBorder());\n    button.setBackground(Color.LIGHT_GRAY);\n    button.setBounds(x, y, w, h);\n    cont.add(button);\n    map.put(keyCode, button);  // save the mapping from key-code to button\n}\n</code></pre>\n</li>\n<li><p>In your <code>keyPressed</code> and <code>keyReleased</code> methods react\nby finding the corresponding button for the key-code\nand highlighting that button.</p>\n<pre><code>@Override\npublic void keyPressed(KeyEvent e) {\n    JButton button = map.get(e.getKeyCode());  // find the button\n    if (button != null)\n        button.setBackground(Color.RED);\n}\n\n@Override\npublic void keyReleased(KeyEvent e) {\n    JButton button = map.get(e.getKeyCode());  // find the button\n    if (button != null)\n        button.setBackground(Color.LIGHT_GRAY);\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27087181,"reputation":3,"user_id":20635511,"display_name":"Kaezel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74621371,"answer_count":2,"score":0,"last_activity_date":1669892985,"creation_date":1669740715,"question_id":74617510,"body_markdown":"how can i change the button color(for highlight it) after i press my keyboard keys?\r\nlike the label said &quot;Type some text using your keyboard.The keys you press will be **highlighted** and text will be displayed.&quot;\r\n\r\n\r\nhere is my code, what should i add in the code so when i press key on my keyboard, the button on the JFrame will change color? thanks\r\nlike example, on my keyboard i press A, and on the JFrame button A will change color from gray to red(example) after i release it, the color(red) changing back to default color(gray) i set\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Container;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JTextArea;\r\n\r\n/**\r\n *\r\n * @author frint6\r\n */\r\npublic class GUITyping extends JFrame implements KeyListener {\r\n    private final JLabel lFp = new JLabel(&quot;Type some text using your keyboard. The keys you press will be highlighted and the text will be displayed.&quot;);\r\n    private final JLabel lSp = new JLabel(&quot;Note: Clicking the buttons with your mouse will not perform any action.&quot;);\r\n    private final JTextArea taL = new JTextArea();\r\n    private final String firstRow[] = {&quot;~&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;0&quot;,&quot;-&quot;,&quot;+&quot;,&quot;Backspace&quot;};\r\n    private final String secondRow[] = {&quot;Tab&quot;,&quot;Q&quot;,&quot;W&quot;,&quot;E&quot;,&quot;R&quot;,&quot;T&quot;,&quot;Y&quot;,&quot;U&quot;,&quot;I&quot;,&quot;O&quot;,&quot;P&quot;,&quot;[&quot;,&quot;]&quot;,&quot;\\\\&quot;};\r\n    private final String thirdRow[] = {&quot;Caps&quot;,&quot;A&quot;,&quot;S&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;:&quot;,&quot;\\&quot;&quot;,&quot;Enter&quot;};\r\n    private final String fourthRow[] = {&quot;Shift&quot;,&quot;Z&quot;,&quot;X&quot;,&quot;C&quot;,&quot;V&quot;,&quot;B&quot;,&quot;N&quot;,&quot;M&quot;,&quot;,&quot;,&quot;.&quot;,&quot;?&quot;,&quot;^&quot;};\r\n    private final String fifthRow[] = {&quot;       &quot;,&quot;&lt;&quot;,&quot;\\\\/&quot;,&quot;&gt;&quot;};\r\n    private JButton first[];\r\n    private JButton second[];\r\n    private JButton third[];\r\n    private JButton fourth[];\r\n    private JButton fifth[];\r\n    private final Container cont = getContentPane();\r\n    \r\n    GUITyping(){\r\n        super(&quot;Typing Application&quot;);\r\n        initWidget();\r\n    }\r\n    \r\n    private void initWidget(){\r\n        cont.setLayout(null);\r\n        lFp.setBounds(10, 0, 600, 30);\r\n        lSp.setBounds(10, 20, 400, 30);\r\n        taL.setBounds(10,50,765,230);\r\n        taL.setBorder(BorderFactory.createLoweredBevelBorder());\r\n        cont.add(lFp);\r\n        cont.add(lSp);\r\n        cont.add(taL);\r\n        \r\n        first = new JButton[firstRow.length];\r\n        for(int i = 0; i &lt; firstRow.length; ++i){\r\n            JButton a = new JButton(firstRow[i]);\r\n            first[i] = a;\r\n            first[i].addKeyListener(this);\r\n            first[i].setBorder(BorderFactory.createRaisedBevelBorder());\r\n            first[i].setBackground(Color.LIGHT_GRAY);\r\n            cont.add(first[i]);\r\n        }\r\n        \r\n        second = new JButton[secondRow.length];\r\n        for(int i = 0; i &lt; secondRow.length; ++i){\r\n            JButton b = new JButton(secondRow[i]);\r\n            second[i] = b;\r\n            second[i].addKeyListener(this);\r\n            second[i].setBorder(BorderFactory.createRaisedBevelBorder());\r\n            second[i].setBackground(Color.LIGHT_GRAY);\r\n            cont.add(second[i]);\r\n        }\r\n        \r\n        third = new JButton[thirdRow.length];\r\n        for(int i = 0; i &lt; thirdRow.length; ++i){\r\n            JButton c = new JButton(thirdRow[i]);\r\n            third[i] = c;\r\n            third[i].addKeyListener(this);\r\n            third[i].setBorder(BorderFactory.createRaisedBevelBorder());\r\n            third[i].setBackground(Color.LIGHT_GRAY);\r\n            cont.add(third[i]);\r\n        }\r\n        \r\n        fourth = new JButton[fourthRow.length];\r\n        for(int i = 0; i &lt; fourthRow.length; ++i){\r\n            JButton d = new JButton(fourthRow[i]);\r\n            fourth[i] = d;\r\n            fourth[i].addKeyListener(this);\r\n            fourth[i].setBorder(BorderFactory.createRaisedBevelBorder());\r\n            fourth[i].setBackground(Color.LIGHT_GRAY);\r\n            cont.add(fourth[i]);\r\n        }\r\n        \r\n        fifth = new JButton[fifthRow.length];\r\n        for(int i = 0; i &lt; fifthRow.length; ++i){\r\n            JButton e = new JButton(fifthRow[i]);\r\n            fifth[i] = e;\r\n            fifth[i].addKeyListener(this);\r\n            fifth[i].setBorder(BorderFactory.createRaisedBevelBorder());\r\n            fifth[i].setBackground(Color.LIGHT_GRAY);\r\n            cont.add(fifth[i]);\r\n        }\r\n        \r\n        first[0].setBounds(10, 300, 45, 45);\r\n        first[1].setBounds(60, 300, 45, 45);\r\n        first[2].setBounds(110, 300, 45, 45);\r\n        first[3].setBounds(160, 300, 45, 45);\r\n        first[4].setBounds(210, 300, 45, 45);\r\n        first[5].setBounds(260, 300, 45, 45);\r\n        first[6].setBounds(310, 300, 45, 45);\r\n        first[7].setBounds(360, 300, 45, 45);\r\n        first[8].setBounds(410, 300, 45, 45);\r\n        first[9].setBounds(460, 300, 45, 45);\r\n        first[10].setBounds(510, 300, 45, 45);\r\n        first[11].setBounds(560, 300, 45, 45);\r\n        first[12].setBounds(610, 300, 45, 45);\r\n        first[13].setBounds(660, 300, 115, 45);\r\n        \r\n        second[0].setBounds(10, 350, 75, 45);\r\n        second[1].setBounds(90, 350, 45, 45);\r\n        second[2].setBounds(140, 350, 46, 45);\r\n        second[3].setBounds(190, 350, 45, 45);\r\n        second[4].setBounds(240, 350, 45, 45);\r\n        second[5].setBounds(290, 350, 45, 45);\r\n        second[6].setBounds(340, 350, 45, 45);\r\n        second[7].setBounds(390, 350, 45, 45);\r\n        second[8].setBounds(440, 350, 45, 45);\r\n        second[9].setBounds(490, 350, 45, 45);\r\n        second[10].setBounds(540, 350, 45, 45);\r\n        second[11].setBounds(590, 350, 45, 45);\r\n        second[12].setBounds(640, 350, 45, 45);\r\n        second[13].setBounds(690, 350, 85, 45);\r\n        \r\n        third[0].setBounds(10, 400, 75, 45);\r\n        third[1].setBounds(90, 400, 45, 45);\r\n        third[2].setBounds(140, 400, 46, 45);\r\n        third[3].setBounds(190, 400, 45, 45);\r\n        third[4].setBounds(240, 400, 45, 45);\r\n        third[5].setBounds(290, 400, 45, 45);\r\n        third[6].setBounds(340, 400, 45, 45);\r\n        third[7].setBounds(390, 400, 45, 45);\r\n        third[8].setBounds(440, 400, 45, 45);\r\n        third[9].setBounds(490, 400, 45, 45);\r\n        third[10].setBounds(540, 400, 45, 45);\r\n        third[11].setBounds(590, 400, 45, 45);\r\n        third[12].setBounds(640, 400, 135, 45);\r\n        \r\n        fourth[0].setBounds(10, 450, 105, 45);\r\n        fourth[1].setBounds(120, 450, 45, 45);\r\n        fourth[2].setBounds(170, 450, 45, 45);\r\n        fourth[3].setBounds(220, 450, 45, 45);\r\n        fourth[4].setBounds(270, 450, 45, 45);\r\n        fourth[5].setBounds(320, 450, 45, 45);\r\n        fourth[6].setBounds(370, 450, 45, 45);\r\n        fourth[7].setBounds(420, 450, 45, 45);\r\n        fourth[8].setBounds(470, 450, 45, 45);\r\n        fourth[9].setBounds(520, 450, 45, 45);\r\n        fourth[10].setBounds(570, 450, 45, 45);\r\n        fourth[11].setBounds(680, 450, 45, 45);\r\n        \r\n        fifth[0].setBounds(215, 500, 305, 45);\r\n        fifth[1].setBounds(630, 500, 45, 45);\r\n        fifth[2].setBounds(680, 500, 45, 45);\r\n        fifth[3].setBounds(730, 500, 45, 45);\r\n    }\r\n    \r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        \r\n    }\r\n    \r\n    private class Actions implements ActionListener {\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            \r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How can i change the button colour on Virtual Keyboard Java using KeyListener library?","body":"<p>how can i change the button color(for highlight it) after i press my keyboard keys?\nlike the label said &quot;Type some text using your keyboard.The keys you press will be <strong>highlighted</strong> and text will be displayed.&quot;</p>\n<p>here is my code, what should i add in the code so when i press key on my keyboard, the button on the JFrame will change color? thanks\nlike example, on my keyboard i press A, and on the JFrame button A will change color from gray to red(example) after i release it, the color(red) changing back to default color(gray) i set</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Container;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JTextArea;\n\n/**\n *\n * @author frint6\n */\npublic class GUITyping extends JFrame implements KeyListener {\n    private final JLabel lFp = new JLabel(&quot;Type some text using your keyboard. The keys you press will be highlighted and the text will be displayed.&quot;);\n    private final JLabel lSp = new JLabel(&quot;Note: Clicking the buttons with your mouse will not perform any action.&quot;);\n    private final JTextArea taL = new JTextArea();\n    private final String firstRow[] = {&quot;~&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;0&quot;,&quot;-&quot;,&quot;+&quot;,&quot;Backspace&quot;};\n    private final String secondRow[] = {&quot;Tab&quot;,&quot;Q&quot;,&quot;W&quot;,&quot;E&quot;,&quot;R&quot;,&quot;T&quot;,&quot;Y&quot;,&quot;U&quot;,&quot;I&quot;,&quot;O&quot;,&quot;P&quot;,&quot;[&quot;,&quot;]&quot;,&quot;\\\\&quot;};\n    private final String thirdRow[] = {&quot;Caps&quot;,&quot;A&quot;,&quot;S&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;:&quot;,&quot;\\&quot;&quot;,&quot;Enter&quot;};\n    private final String fourthRow[] = {&quot;Shift&quot;,&quot;Z&quot;,&quot;X&quot;,&quot;C&quot;,&quot;V&quot;,&quot;B&quot;,&quot;N&quot;,&quot;M&quot;,&quot;,&quot;,&quot;.&quot;,&quot;?&quot;,&quot;^&quot;};\n    private final String fifthRow[] = {&quot;       &quot;,&quot;&lt;&quot;,&quot;\\\\/&quot;,&quot;&gt;&quot;};\n    private JButton first[];\n    private JButton second[];\n    private JButton third[];\n    private JButton fourth[];\n    private JButton fifth[];\n    private final Container cont = getContentPane();\n    \n    GUITyping(){\n        super(&quot;Typing Application&quot;);\n        initWidget();\n    }\n    \n    private void initWidget(){\n        cont.setLayout(null);\n        lFp.setBounds(10, 0, 600, 30);\n        lSp.setBounds(10, 20, 400, 30);\n        taL.setBounds(10,50,765,230);\n        taL.setBorder(BorderFactory.createLoweredBevelBorder());\n        cont.add(lFp);\n        cont.add(lSp);\n        cont.add(taL);\n        \n        first = new JButton[firstRow.length];\n        for(int i = 0; i &lt; firstRow.length; ++i){\n            JButton a = new JButton(firstRow[i]);\n            first[i] = a;\n            first[i].addKeyListener(this);\n            first[i].setBorder(BorderFactory.createRaisedBevelBorder());\n            first[i].setBackground(Color.LIGHT_GRAY);\n            cont.add(first[i]);\n        }\n        \n        second = new JButton[secondRow.length];\n        for(int i = 0; i &lt; secondRow.length; ++i){\n            JButton b = new JButton(secondRow[i]);\n            second[i] = b;\n            second[i].addKeyListener(this);\n            second[i].setBorder(BorderFactory.createRaisedBevelBorder());\n            second[i].setBackground(Color.LIGHT_GRAY);\n            cont.add(second[i]);\n        }\n        \n        third = new JButton[thirdRow.length];\n        for(int i = 0; i &lt; thirdRow.length; ++i){\n            JButton c = new JButton(thirdRow[i]);\n            third[i] = c;\n            third[i].addKeyListener(this);\n            third[i].setBorder(BorderFactory.createRaisedBevelBorder());\n            third[i].setBackground(Color.LIGHT_GRAY);\n            cont.add(third[i]);\n        }\n        \n        fourth = new JButton[fourthRow.length];\n        for(int i = 0; i &lt; fourthRow.length; ++i){\n            JButton d = new JButton(fourthRow[i]);\n            fourth[i] = d;\n            fourth[i].addKeyListener(this);\n            fourth[i].setBorder(BorderFactory.createRaisedBevelBorder());\n            fourth[i].setBackground(Color.LIGHT_GRAY);\n            cont.add(fourth[i]);\n        }\n        \n        fifth = new JButton[fifthRow.length];\n        for(int i = 0; i &lt; fifthRow.length; ++i){\n            JButton e = new JButton(fifthRow[i]);\n            fifth[i] = e;\n            fifth[i].addKeyListener(this);\n            fifth[i].setBorder(BorderFactory.createRaisedBevelBorder());\n            fifth[i].setBackground(Color.LIGHT_GRAY);\n            cont.add(fifth[i]);\n        }\n        \n        first[0].setBounds(10, 300, 45, 45);\n        first[1].setBounds(60, 300, 45, 45);\n        first[2].setBounds(110, 300, 45, 45);\n        first[3].setBounds(160, 300, 45, 45);\n        first[4].setBounds(210, 300, 45, 45);\n        first[5].setBounds(260, 300, 45, 45);\n        first[6].setBounds(310, 300, 45, 45);\n        first[7].setBounds(360, 300, 45, 45);\n        first[8].setBounds(410, 300, 45, 45);\n        first[9].setBounds(460, 300, 45, 45);\n        first[10].setBounds(510, 300, 45, 45);\n        first[11].setBounds(560, 300, 45, 45);\n        first[12].setBounds(610, 300, 45, 45);\n        first[13].setBounds(660, 300, 115, 45);\n        \n        second[0].setBounds(10, 350, 75, 45);\n        second[1].setBounds(90, 350, 45, 45);\n        second[2].setBounds(140, 350, 46, 45);\n        second[3].setBounds(190, 350, 45, 45);\n        second[4].setBounds(240, 350, 45, 45);\n        second[5].setBounds(290, 350, 45, 45);\n        second[6].setBounds(340, 350, 45, 45);\n        second[7].setBounds(390, 350, 45, 45);\n        second[8].setBounds(440, 350, 45, 45);\n        second[9].setBounds(490, 350, 45, 45);\n        second[10].setBounds(540, 350, 45, 45);\n        second[11].setBounds(590, 350, 45, 45);\n        second[12].setBounds(640, 350, 45, 45);\n        second[13].setBounds(690, 350, 85, 45);\n        \n        third[0].setBounds(10, 400, 75, 45);\n        third[1].setBounds(90, 400, 45, 45);\n        third[2].setBounds(140, 400, 46, 45);\n        third[3].setBounds(190, 400, 45, 45);\n        third[4].setBounds(240, 400, 45, 45);\n        third[5].setBounds(290, 400, 45, 45);\n        third[6].setBounds(340, 400, 45, 45);\n        third[7].setBounds(390, 400, 45, 45);\n        third[8].setBounds(440, 400, 45, 45);\n        third[9].setBounds(490, 400, 45, 45);\n        third[10].setBounds(540, 400, 45, 45);\n        third[11].setBounds(590, 400, 45, 45);\n        third[12].setBounds(640, 400, 135, 45);\n        \n        fourth[0].setBounds(10, 450, 105, 45);\n        fourth[1].setBounds(120, 450, 45, 45);\n        fourth[2].setBounds(170, 450, 45, 45);\n        fourth[3].setBounds(220, 450, 45, 45);\n        fourth[4].setBounds(270, 450, 45, 45);\n        fourth[5].setBounds(320, 450, 45, 45);\n        fourth[6].setBounds(370, 450, 45, 45);\n        fourth[7].setBounds(420, 450, 45, 45);\n        fourth[8].setBounds(470, 450, 45, 45);\n        fourth[9].setBounds(520, 450, 45, 45);\n        fourth[10].setBounds(570, 450, 45, 45);\n        fourth[11].setBounds(680, 450, 45, 45);\n        \n        fifth[0].setBounds(215, 500, 305, 45);\n        fifth[1].setBounds(630, 500, 45, 45);\n        fifth[2].setBounds(680, 500, 45, 45);\n        fifth[3].setBounds(730, 500, 45, 45);\n    }\n    \n    @Override\n    public void keyTyped(KeyEvent e) {\n        \n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        \n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        \n    }\n    \n    private class Actions implements ActionListener {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","date","datetime"],"answers":[{"tags":[],"owner":{"account_id":56173,"reputation":4101,"user_id":168233,"accept_rate":86,"display_name":"Serhiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530702911,"creation_date":1530702911,"answer_id":51172344,"question_id":51171736,"body_markdown":"It is failing because your string does not have the date related tokens. Check the example in the official [documentation][1]. In order to make it work you will need to add year/month/day data:\r\n\r\n    String timewithZone= &quot;2018-07-3T05:03:05.875+02:00&quot;;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME","title":"java.time.format.DateTimeParseException: could not be parsed at index 0","body":"<p>It is failing because your string does not have the date related tokens. Check the example in the official <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME\" rel=\"nofollow noreferrer\">documentation</a>. In order to make it work you will need to add year/month/day data:</p>\n\n<pre><code>String timewithZone= \"2018-07-3T05:03:05.875+02:00\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530703691,"creation_date":1530703380,"answer_id":51172499,"question_id":51171736,"body_markdown":"You cannot use the DateTimeFormatter.ISO_OFFSET_DATE_TIME because your date format does not adhere to that. \r\n\r\nIn fact, you don&#39;t even have a real date because there is no date component, only a time component.\r\nYou could define your own SimpleDateFormat instance with the format you&#39;re receiving, but you&#39;ll have to handle the fact that this data isn&#39;t really all that useful without date information. For example, that offset doesn&#39;t really tell us that much, because it might be in some region&#39;s Daylight Savings Time (DST) or not. And this heavily depends on on what actual DATE it is, not just what time.\r\n\r\nYou&#39;ll have to find out what the provider of this data even means with this, because right now you simply don&#39;t have enough information to really parse this into a proper date.\r\n\r\nIf this data just means a simple time stamp, used for for example saying &quot;our worldwide office hours lunch time is at 12:30&quot; then you could us the LocalTime class. That would be one of the few cases where a time string like this without a date is really useful. I have a sneaking suspicion this is not your scenario though.","title":"java.time.format.DateTimeParseException: could not be parsed at index 0","body":"<p>You cannot use the DateTimeFormatter.ISO_OFFSET_DATE_TIME because your date format does not adhere to that. </p>\n\n<p>In fact, you don't even have a real date because there is no date component, only a time component.\nYou could define your own SimpleDateFormat instance with the format you're receiving, but you'll have to handle the fact that this data isn't really all that useful without date information. For example, that offset doesn't really tell us that much, because it might be in some region's Daylight Savings Time (DST) or not. And this heavily depends on on what actual DATE it is, not just what time.</p>\n\n<p>You'll have to find out what the provider of this data even means with this, because right now you simply don't have enough information to really parse this into a proper date.</p>\n\n<p>If this data just means a simple time stamp, used for for example saying \"our worldwide office hours lunch time is at 12:30\" then you could us the LocalTime class. That would be one of the few cases where a time string like this without a date is really useful. I have a sneaking suspicion this is not your scenario though.</p>\n"},{"tags":[],"owner":{"account_id":5357663,"reputation":429,"user_id":4269911,"accept_rate":18,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530704367,"creation_date":1530704367,"answer_id":51172806,"question_id":51171736,"body_markdown":"A workaround may be \r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ss.SSSz&quot;);\r\n\tString str = &quot;05:03:05.875+02:00&quot;;\r\n\tLocalTime time = LocalTime.parse(str, formatter);\r\n\tSystem.out.println(time);\r\n\r\nI tried the code in the format what you are getting,\r\n\r\nOutput : \r\n&gt; 05:03:05.875\r\n\r\nIs this the one you are looking for?","title":"java.time.format.DateTimeParseException: could not be parsed at index 0","body":"<p>A workaround may be </p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"HH:mm:ss.SSSz\");\nString str = \"05:03:05.875+02:00\";\nLocalTime time = LocalTime.parse(str, formatter);\nSystem.out.println(time);\n</code></pre>\n\n<p>I tried the code in the format what you are getting,</p>\n\n<p>Output : </p>\n\n<blockquote>\n  <p>05:03:05.875</p>\n</blockquote>\n\n<p>Is this the one you are looking for?</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530717852,"creation_date":1530717110,"answer_id":51176746,"question_id":51171736,"body_markdown":"\t\tString timewithZone = &quot;05:03:05.875+02:00&quot;;\r\n\t\tOffsetTime time = OffsetTime.parse(timewithZone);\r\n\t\tSystem.out.println(&quot;Parsed into &quot; + time);\r\n\r\nThis outputs\r\n\r\n&gt; Parsed into 05:03:05.875+02:00\r\n\r\nYour string contains a time and an offset, but no date. This conforms nicely, neither with an `ISO_OFFSET_DATE_TIME` nor a `ZonedDateTime`, but with an `OffsetTime`, a seldom used class that I think is there exactly because such a thing sometimes occurs in XML.\r\n\r\nThere is also an `ISO_OFFSET_TIME` formatter built in, but since this is the default format for `OffsetTime` we do not need to specify it.","title":"java.time.format.DateTimeParseException: could not be parsed at index 0","body":"<pre><code>    String timewithZone = \"05:03:05.875+02:00\";\n    OffsetTime time = OffsetTime.parse(timewithZone);\n    System.out.println(\"Parsed into \" + time);\n</code></pre>\n\n<p>This outputs</p>\n\n<blockquote>\n  <p>Parsed into 05:03:05.875+02:00</p>\n</blockquote>\n\n<p>Your string contains a time and an offset, but no date. This conforms nicely, neither with an <code>ISO_OFFSET_DATE_TIME</code> nor a <code>ZonedDateTime</code>, but with an <code>OffsetTime</code>, a seldom used class that I think is there exactly because such a thing sometimes occurs in XML.</p>\n\n<p>There is also an <code>ISO_OFFSET_TIME</code> formatter built in, but since this is the default format for <code>OffsetTime</code> we do not need to specify it.</p>\n"}],"owner":{"account_id":13831555,"reputation":39,"user_id":9984280,"display_name":"Roei Givati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1669892825,"creation_date":1530700884,"question_id":51171736,"body_markdown":"I am trying to convert a String to timestamp. \r\nmy string contains time and time zone (&#39;05:03:05.875+02:00&#39;) but I get the following error: \r\n\r\n**error**\r\n\r\n&gt; java.time.format.DateTimeParseException: Text &#39;05:03:05.875+02:00&#39;\r\n&gt; could not be parsed at index 0\r\n\r\n**Code**\r\n\r\n     String timewithZone= &quot;05:03:05.875+02:00&quot;;\r\n    DateTimeFormatter formatter=DateTimeFormatter.ISO_OFFSET_DATE_TIME;\r\n    final ZonedDateTime a2=ZonedDateTime.parse(timewithZone,formatter);\r\n\r\n","title":"java.time.format.DateTimeParseException: could not be parsed at index 0","body":"<p>I am trying to convert a String to timestamp. \nmy string contains time and time zone ('05:03:05.875+02:00') but I get the following error: </p>\n\n<p><strong>error</strong></p>\n\n<blockquote>\n  <p>java.time.format.DateTimeParseException: Text '05:03:05.875+02:00'\n  could not be parsed at index 0</p>\n</blockquote>\n\n<p><strong>Code</strong></p>\n\n<pre><code> String timewithZone= \"05:03:05.875+02:00\";\nDateTimeFormatter formatter=DateTimeFormatter.ISO_OFFSET_DATE_TIME;\nfinal ZonedDateTime a2=ZonedDateTime.parse(timewithZone,formatter);\n</code></pre>\n"},{"tags":["java","spring","eclipse","pom.xml"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669891506,"post_id":74640531,"comment_id":131748048,"body_markdown":"what happens when you run `mvn compile` in the terminal?","body":"what happens when you run <code>mvn compile</code> in the terminal?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1669892414,"post_id":74640531,"comment_id":131748350,"body_markdown":"The pom.xml has an error marker - try fixing whatever that problem is.","body":"The pom.xml has an error marker - try fixing whatever that problem is."}],"owner":{"account_id":27109900,"reputation":1,"user_id":20655199,"display_name":"Surya Sikha Rej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669892387,"creation_date":1669891178,"question_id":74640531,"body_markdown":"Showing missing jars but the jars are present in m2 folder:\r\n\r\n![showing missing jars but the jars are present in m2 folder](https://i.stack.imgur.com/svf4V.png)\r\n\r\nProject structure:\r\n\r\n![project structure](https://i.stack.imgur.com/BiYKv.png)\r\n\r\n\r\nTried deleting m2 folder and updating maven project but not working.","title":"Eclipse Maven Issue Showing missing","body":"<p>Showing missing jars but the jars are present in m2 folder:</p>\n<p><img src=\"https://i.stack.imgur.com/svf4V.png\" alt=\"showing missing jars but the jars are present in m2 folder\" /></p>\n<p>Project structure:</p>\n<p><img src=\"https://i.stack.imgur.com/BiYKv.png\" alt=\"project structure\" /></p>\n<p>Tried deleting m2 folder and updating maven project but not working.</p>\n"},{"tags":["java","karel"],"answers":[{"tags":[],"owner":{"account_id":2032092,"reputation":36381,"user_id":1815485,"display_name":"A--C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1361219829,"creation_date":1361219829,"answer_id":14944868,"question_id":14944809,"body_markdown":"I&#39;d say to read their [documentation thoroughly.][1]\r\n\r\nThe method signature is \r\n\r\n    public boolean isBesideThing(IPredicate kindOfThing)\r\n\r\nSo you have to match the signature and pass an `IPredicate`.\r\n\r\n  [1]: http://www.learningwithrobots.com/doc/becker/robots/RobotSE.html","title":"Karel Robot: Cannot find symbol","body":"<p>I'd say to read their <a href=\"http://www.learningwithrobots.com/doc/becker/robots/RobotSE.html\" rel=\"nofollow\">documentation thoroughly.</a></p>\n\n<p>The method signature is </p>\n\n<pre><code>public boolean isBesideThing(IPredicate kindOfThing)\n</code></pre>\n\n<p>So you have to match the signature and pass an <code>IPredicate</code>.</p>\n"}],"owner":{"account_id":2383069,"reputation":125,"user_id":2084665,"accept_rate":75,"display_name":"Leif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14944868,"answer_count":1,"score":0,"last_activity_date":1669892353,"creation_date":1361219581,"question_id":14944809,"body_markdown":"Throughout a maze, I am trying to have my robot put a thing down(putThing) every intersection where one is not already at. RobotSE has the boolean method, isBesideThing(), which I am attempting to use. However, I keep getting the compiling error:\r\n\r\n    MazeIDudItz.java:24: cannot find symbol\r\n    symbol  : method isBesideThing()\r\n    location: class MazeBot\r\n\t\t    if(!this.isBesideThing())\r\n\r\n\r\nI have tried everything that I know how to do. I changed it to a public boolean method ,containing a return value, with no avail. Here is my class extender for RobotSE. This is my first programming class so my apologies ahead of time if I am unclear or what I say does not completely make sense. I know that when I get that error I misspelled something, forgot something, or did not import something. I should only have to import becker.robots.*; since RobotSE is a sub class.\r\n\r\n    class MazeBot extends RobotSE\r\n    {\r\n      \r\n      public MazeBot(City theCity, int str, int ave, Direction dir, int numThings)\r\n      {\r\n        super(theCity, str, ave, dir, numThings);\r\n      }   \r\n      \r\n      private boolean isAtEndSpot()\r\n      {\r\n        return (this.getAvenue() == 9 &amp;&amp; this.getStreet() == 10);   \r\n      }\r\n      \r\n      public void dontPickThatUp()\r\n      {\r\n        while(!this.isBesideThing())\r\n        {  \r\n          this.putThing();\r\n        }    \r\n      }   \r\n      \r\n      public void moveCheck()\r\n      {\r\n        if(this.frontIsClear())\r\n        {  \r\n          this.move();\r\n        }\r\n        else\r\n        {   \r\n          this.turnAround();\r\n        }\r\n      }                   \r\n      \r\n      public void checkRight()\r\n      {\r\n        this.turnRight();\r\n        if (this.frontIsClear())\r\n        {   \r\n          this.moveCheck();\r\n        }\r\n        else\r\n        {  \r\n          this.turnLeft();    \r\n          this.moveCheck();\r\n        }\r\n      }\r\n      \r\n      public void NavigateMaze()\r\n      {\r\n        while (!this.isAtEndSpot())\r\n        {\r\n          this.checkRight();\r\n        }\r\n        \r\n      }   \r\n    }\r\n\r\nI appreciate your help and advice!\r\n","title":"Karel Robot: Cannot find symbol","body":"<p>Throughout a maze, I am trying to have my robot put a thing down(putThing) every intersection where one is not already at. RobotSE has the boolean method, isBesideThing(), which I am attempting to use. However, I keep getting the compiling error:</p>\n\n<pre><code>MazeIDudItz.java:24: cannot find symbol\nsymbol  : method isBesideThing()\nlocation: class MazeBot\n        if(!this.isBesideThing())\n</code></pre>\n\n<p>I have tried everything that I know how to do. I changed it to a public boolean method ,containing a return value, with no avail. Here is my class extender for RobotSE. This is my first programming class so my apologies ahead of time if I am unclear or what I say does not completely make sense. I know that when I get that error I misspelled something, forgot something, or did not import something. I should only have to import becker.robots.*; since RobotSE is a sub class.</p>\n\n<pre><code>class MazeBot extends RobotSE\n{\n\n  public MazeBot(City theCity, int str, int ave, Direction dir, int numThings)\n  {\n    super(theCity, str, ave, dir, numThings);\n  }   \n\n  private boolean isAtEndSpot()\n  {\n    return (this.getAvenue() == 9 &amp;&amp; this.getStreet() == 10);   \n  }\n\n  public void dontPickThatUp()\n  {\n    while(!this.isBesideThing())\n    {  \n      this.putThing();\n    }    \n  }   \n\n  public void moveCheck()\n  {\n    if(this.frontIsClear())\n    {  \n      this.move();\n    }\n    else\n    {   \n      this.turnAround();\n    }\n  }                   \n\n  public void checkRight()\n  {\n    this.turnRight();\n    if (this.frontIsClear())\n    {   \n      this.moveCheck();\n    }\n    else\n    {  \n      this.turnLeft();    \n      this.moveCheck();\n    }\n  }\n\n  public void NavigateMaze()\n  {\n    while (!this.isAtEndSpot())\n    {\n      this.checkRight();\n    }\n\n  }   \n}\n</code></pre>\n\n<p>I appreciate your help and advice!</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669892077,"creation_date":1669892077,"answer_id":74640742,"question_id":74640379,"body_markdown":"The easiest way is using qualifiers:\r\n\r\n``` java\r\n@Configuration\r\npublic class MyConfiguration {\r\n\r\n   @Bean\r\n   @Qualifier(&quot;jdbcReader&quot;)\r\n   public DbReader jdbcReader(String connStr /*read this from @ConfigurationProperties / @Value */) {\r\n      return new JdbcReader(connStr);\r\n   }\r\n   ... // other readers here ...\r\n   \r\n   @Bean\r\n   @Qualifier(&quot;devNullProcessor&quot;)\r\n   public DataProcessor devNullProcessor() {\r\n      return new DevNullProcessor();\r\n   }\r\n\r\n   @Bean\r\n   public Pipe samplePipe(@Qualifier(&quot;jdbcReader&quot;) DbReader reader, @Qualifier(&quot;devNullProcessor&quot;) DataProcessor processor) {\r\n      return new Pipe(reader, processor);\r\n   }\r\n}\r\n```\r\n\r\nThis however means that the configuration itself is done by the programmer in Java. In your example it seems like you would like to create beans without specifying them  in advance, only based on the yaml configuration.\r\n\r\nIn this case you&#39;ll probably want to use `BeanFactoryPostProcessor` that will allow dynamic bean creation. This is a completely different approach from what I&#39;ve described above though. \r\n\r\nIn a nutshell, its a spring&#39;s abstraction (an interface) that you can implement. It will be called by Spring when the application context starts and will allow registration of bean definitions from which Spring will later create beans. Since its a code you can register as many bean definitions as you want in the implementation of the processor.\r\n\r\nThere are many examples of using bean factory post processors in the internet. Quick googling shows [this one][1] for instance\r\n\r\n\r\n  [1]: https://zetcode.com/spring/beanfactorypostprocessor/","title":"Wire Spring beans by some ref id","body":"<p>The easiest way is using qualifiers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyConfiguration {\n\n   @Bean\n   @Qualifier(&quot;jdbcReader&quot;)\n   public DbReader jdbcReader(String connStr /*read this from @ConfigurationProperties / @Value */) {\n      return new JdbcReader(connStr);\n   }\n   ... // other readers here ...\n   \n   @Bean\n   @Qualifier(&quot;devNullProcessor&quot;)\n   public DataProcessor devNullProcessor() {\n      return new DevNullProcessor();\n   }\n\n   @Bean\n   public Pipe samplePipe(@Qualifier(&quot;jdbcReader&quot;) DbReader reader, @Qualifier(&quot;devNullProcessor&quot;) DataProcessor processor) {\n      return new Pipe(reader, processor);\n   }\n}\n</code></pre>\n<p>This however means that the configuration itself is done by the programmer in Java. In your example it seems like you would like to create beans without specifying them  in advance, only based on the yaml configuration.</p>\n<p>In this case you'll probably want to use <code>BeanFactoryPostProcessor</code> that will allow dynamic bean creation. This is a completely different approach from what I've described above though.</p>\n<p>In a nutshell, its a spring's abstraction (an interface) that you can implement. It will be called by Spring when the application context starts and will allow registration of bean definitions from which Spring will later create beans. Since its a code you can register as many bean definitions as you want in the implementation of the processor.</p>\n<p>There are many examples of using bean factory post processors in the internet. Quick googling shows <a href=\"https://zetcode.com/spring/beanfactorypostprocessor/\" rel=\"nofollow noreferrer\">this one</a> for instance</p>\n"}],"owner":{"account_id":441496,"reputation":3100,"user_id":831614,"accept_rate":63,"display_name":"Soteric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74640742,"answer_count":1,"score":2,"last_activity_date":1669892077,"creation_date":1669890396,"question_id":74640379,"body_markdown":"I have an issue wiring beans via configuration. I have some Pipe that needs to read data from some source and process the data in one way or another. The data source and the way to process the data is based on configuration values. In code it is implemented like the following structure:\r\n```\r\nclass Pipe {\r\n  DBReader reader;\r\n  List&lt;DataProcessor&gt; dataProcessors;\r\n}\r\n```\r\nThere are many pipes of the same type are configured. Each may have one of the DBReader implementation: for example JDBC reader which depends on particular data source or File reader which depends on some file name. It can also have 0..n DataProcessor, each implementation is also depends on its own set of parameters.\r\n```\r\ninterface DBReader {\r\n  Data readData();\r\n}\r\n\r\nclass JdbcReader implements DBReader {\r\n  DataSource dataSource;\r\n}\r\n\r\nclass FileReader implements DBReader {\r\n  String fileName\r\n}\r\n```\r\n\r\n```\r\ninterface DataProcessor {\r\n  void processData(Data data);\r\n}\r\n\r\nclass CopyDataProcessor implements DataProcessor {\r\n  int param1;\r\n  int param2;\r\n}\r\n\r\nclass DevNullDataProcessor implements DataProcessor {\r\n  String hostName;\r\n}\r\n```\r\nIn configuration it will be like this:\r\n```\r\ndatasources:\r\n  dataSource:\r\n    id: 1\r\n    connectionString: &quot;postgres://la-la-la&quot;\r\n  dataSource:\r\n    id: 2\r\n    connectionString: &quot;mysql://la-la-la&quot;\r\n\r\ndbReaders:\r\n  dbReader:\r\n    id: 1\r\n    type: jdbc // &quot;com.example.reader.JdbcReader&quot;\r\n    dataSourceRef: 1\r\n  dbReader:\r\n    id: 2\r\n    type: file\r\n    filename: &quot;customers.json&quot;\r\n  dbReader:\r\n    id: 3\r\n    type: jdbc\r\n    dataSourceRef: 2\r\n\r\ndataProcessors:\r\n  dataProcessor:\r\n    id: 1\r\n    impl: &quot;com.example.processors.CopyDataProcessor&quot;\r\n    param1: 4\r\n    param2: 8\r\n  dataProcessor:\r\n    id: 2\r\n    impl: &quot;com.example.processors.DevNullProcessor&quot;\r\n    hostName: Alpha\r\n\r\npipes:\r\n  pipe:\r\n    readerRef: 1\r\n    dataProcessorsRef: [1, 2]\r\n  pipe:\r\n    readerRef: 2\r\n    dataProcessorsRef: [2]\r\n```\r\nIs it possible to do it in Spring using annotation based configuration? Can I autowire beans by id? For example can I make Spring to load all the configured data processors and readers and wire them by those Refs in configuration. Maybe Spring can load beans as maps and then autowire using id as a key to the map? Or maybe I can use some factories to do that? Could please anyone guide me in the right direction?","title":"Wire Spring beans by some ref id","body":"<p>I have an issue wiring beans via configuration. I have some Pipe that needs to read data from some source and process the data in one way or another. The data source and the way to process the data is based on configuration values. In code it is implemented like the following structure:</p>\n<pre><code>class Pipe {\n  DBReader reader;\n  List&lt;DataProcessor&gt; dataProcessors;\n}\n</code></pre>\n<p>There are many pipes of the same type are configured. Each may have one of the DBReader implementation: for example JDBC reader which depends on particular data source or File reader which depends on some file name. It can also have 0..n DataProcessor, each implementation is also depends on its own set of parameters.</p>\n<pre><code>interface DBReader {\n  Data readData();\n}\n\nclass JdbcReader implements DBReader {\n  DataSource dataSource;\n}\n\nclass FileReader implements DBReader {\n  String fileName\n}\n</code></pre>\n<pre><code>interface DataProcessor {\n  void processData(Data data);\n}\n\nclass CopyDataProcessor implements DataProcessor {\n  int param1;\n  int param2;\n}\n\nclass DevNullDataProcessor implements DataProcessor {\n  String hostName;\n}\n</code></pre>\n<p>In configuration it will be like this:</p>\n<pre><code>datasources:\n  dataSource:\n    id: 1\n    connectionString: &quot;postgres://la-la-la&quot;\n  dataSource:\n    id: 2\n    connectionString: &quot;mysql://la-la-la&quot;\n\ndbReaders:\n  dbReader:\n    id: 1\n    type: jdbc // &quot;com.example.reader.JdbcReader&quot;\n    dataSourceRef: 1\n  dbReader:\n    id: 2\n    type: file\n    filename: &quot;customers.json&quot;\n  dbReader:\n    id: 3\n    type: jdbc\n    dataSourceRef: 2\n\ndataProcessors:\n  dataProcessor:\n    id: 1\n    impl: &quot;com.example.processors.CopyDataProcessor&quot;\n    param1: 4\n    param2: 8\n  dataProcessor:\n    id: 2\n    impl: &quot;com.example.processors.DevNullProcessor&quot;\n    hostName: Alpha\n\npipes:\n  pipe:\n    readerRef: 1\n    dataProcessorsRef: [1, 2]\n  pipe:\n    readerRef: 2\n    dataProcessorsRef: [2]\n</code></pre>\n<p>Is it possible to do it in Spring using annotation based configuration? Can I autowire beans by id? For example can I make Spring to load all the configured data processors and readers and wire them by those Refs in configuration. Maybe Spring can load beans as maps and then autowire using id as a key to the map? Or maybe I can use some factories to do that? Could please anyone guide me in the right direction?</p>\n"},{"tags":["java","file","date","for-loop","stream"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1667580924,"post_id":74320191,"comment_id":131208136,"body_markdown":"*At the moment I have something that is working but I have to add the &quot;time&quot; treatment in order to get the last file of each* - You are not processing the names on the basis of date at all. All you are doing is picking up the last file of the respective prefix. So, it doesn&#39;t matter if filenames contain the time in the end.","body":"<i>At the moment I have something that is working but I have to add the &quot;time&quot; treatment in order to get the last file of each</i> - You are not processing the names on the basis of date at all. All you are doing is picking up the last file of the respective prefix. So, it doesn&#39;t matter if filenames contain the time in the end."},{"owner":{"account_id":25570449,"reputation":55,"user_id":19350908,"display_name":"JhinKazama"},"score":0,"creation_date":1667581229,"post_id":74320191,"comment_id":131208257,"body_markdown":"What I wanted to say is that i&#39;m missing the processing of the date, I edited my post I just realized that it was not clear","body":"What I wanted to say is that i&#39;m missing the processing of the date, I edited my post I just realized that it was not clear"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667583217,"creation_date":1667583217,"answer_id":74320952,"question_id":74320191,"body_markdown":"Loop through your file names. \r\n\r\nExtract the date portion. One way to do this is to use methods on `String` class such as `split` and `replace`. \r\n\r\nParse the date portion as a `LocalDate`. Use the predefined formatter for parsing the “basic” (condensed) version of the standard ISO 8601 format. \r\n\r\n    LocalDate ld = LocalDate.parse( input , DateTimeFormatter.BASIC_ISO_DATE ) ;\r\n\r\nCompare the dates using their natural ordering, with `isBefore`, `isAfter`, and `isEqual`. Remember which file has the latest date as you loop. ","title":"How do I get the most recent file based on a date in the filename?","body":"<p>Loop through your file names.</p>\n<p>Extract the date portion. One way to do this is to use methods on <code>String</code> class such as <code>split</code> and <code>replace</code>.</p>\n<p>Parse the date portion as a <code>LocalDate</code>. Use the predefined formatter for parsing the “basic” (condensed) version of the standard ISO 8601 format.</p>\n<pre><code>LocalDate ld = LocalDate.parse( input , DateTimeFormatter.BASIC_ISO_DATE ) ;\n</code></pre>\n<p>Compare the dates using their natural ordering, with <code>isBefore</code>, <code>isAfter</code>, and <code>isEqual</code>. Remember which file has the latest date as you loop.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669891349,"creation_date":1667598235,"answer_id":74323276,"question_id":74320191,"body_markdown":"A clean approach would be to create a `Compartor` and use the same with the stream by initializing it with corresponding prefixes.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    class FilesComparator implements Comparator&lt;String&gt; {\r\n        private String prefix;\r\n    \r\n        FilesComparator(String prefix) {\r\n            this.prefix = prefix;\r\n        }\r\n    \r\n        @Override\r\n        public int compare(String s1, String s2) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;&#39;&quot; + prefix + &quot;&#39;uuuuMMdd&#39;.txt&#39;&quot;);\r\n            LocalDate ldt1 = LocalDate.parse(s1, parser);\r\n            LocalDate ldt2 = LocalDate.parse(s2, parser);\r\n            return ldt1.compareTo(ldt2);\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; files = List.of(\r\n                    &quot;users_20221104.txt&quot;, &quot;users_20221106.txt&quot;, &quot;users_20221105.txt&quot;,\r\n                    &quot;dealers_20221104.txt&quot;, &quot;dealers_20221106.txt&quot;, &quot;dealers_20221105.txt&quot;,\r\n                    &quot;nations_20221104.txt&quot;, &quot;nations_20221106.txt&quot;, &quot;nations_20221105.txt&quot;);\r\n    \r\n            String usersFileTxt = getLatestFile(files, &quot;users_&quot;).get();\r\n            System.out.println(usersFileTxt);\r\n    \r\n            String dealersFileTxt = getLatestFile(files, &quot;dealers_&quot;).get();\r\n            System.out.println(dealersFileTxt);\r\n    \r\n            String nationsFileTxt = getLatestFile(files, &quot;nations_&quot;).get();\r\n            System.out.println(nationsFileTxt);\r\n        }\r\n    \r\n        static Optional&lt;String&gt; getLatestFile(List&lt;String&gt; files, String prefix) {\r\n            return files.stream()\r\n                    .filter(filename -&gt; filename.startsWith(prefix))\r\n                    .max(new FilesComparator(prefix));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    users_20221106.txt\r\n    dealers_20221106.txt\r\n    nations_20221106.txt\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**\r\n\r\n","title":"How do I get the most recent file based on a date in the filename?","body":"<p>A clean approach would be to create a <code>Compartor</code> and use the same with the stream by initializing it with corresponding prefixes.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Optional;\n\nclass FilesComparator implements Comparator&lt;String&gt; {\n    private String prefix;\n\n    FilesComparator(String prefix) {\n        this.prefix = prefix;\n    }\n\n    @Override\n    public int compare(String s1, String s2) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;'&quot; + prefix + &quot;'uuuuMMdd'.txt'&quot;);\n        LocalDate ldt1 = LocalDate.parse(s1, parser);\n        LocalDate ldt2 = LocalDate.parse(s2, parser);\n        return ldt1.compareTo(ldt2);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; files = List.of(\n                &quot;users_20221104.txt&quot;, &quot;users_20221106.txt&quot;, &quot;users_20221105.txt&quot;,\n                &quot;dealers_20221104.txt&quot;, &quot;dealers_20221106.txt&quot;, &quot;dealers_20221105.txt&quot;,\n                &quot;nations_20221104.txt&quot;, &quot;nations_20221106.txt&quot;, &quot;nations_20221105.txt&quot;);\n\n        String usersFileTxt = getLatestFile(files, &quot;users_&quot;).get();\n        System.out.println(usersFileTxt);\n\n        String dealersFileTxt = getLatestFile(files, &quot;dealers_&quot;).get();\n        System.out.println(dealersFileTxt);\n\n        String nationsFileTxt = getLatestFile(files, &quot;nations_&quot;).get();\n        System.out.println(nationsFileTxt);\n    }\n\n    static Optional&lt;String&gt; getLatestFile(List&lt;String&gt; files, String prefix) {\n        return files.stream()\n                .filter(filename -&gt; filename.startsWith(prefix))\n                .max(new FilesComparator(prefix));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>users_20221106.txt\ndealers_20221106.txt\nnations_20221106.txt\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n"}],"owner":{"account_id":25570449,"reputation":55,"user_id":19350908,"display_name":"JhinKazama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669891349,"creation_date":1667579466,"question_id":74320191,"body_markdown":"I have a directory which contains files like this : \r\n{users_20221104.txt | users_20221105.txt |\r\nusers_20221106.txt\r\n\r\ndealers_20221104.txt |\r\ndealers_20221105.txt |\r\ndealers_20221106.txt |\r\n\r\nnations_20221104.txt |\r\nnations_20221105.txt |\r\nnations_20221106.txt }\r\n\r\nI need to retrieve only the last file of each occurence, which means users_20221106, dealers_20221106 and nations_20221106\r\n\r\nAt the moment I have something like this :\r\n\r\n```\r\n    private void downloadFiles()  {\r\n        List&lt;String&gt; filesPath = ftpClient.listFiles(ftpFolderIn);\r\n        String usersFileTxt = null;\r\n        String dealerFileTxt = null;\r\n        String nationFileTxt = null;\r\n        \r\n        for (String filepath : filesPath) {\r\n            if (filepath.contains(&quot;users&quot;)) {\r\n                usersFileTxt = filepath;\r\n            }\r\n            if (filepath.contains(&quot;dealers&quot;)) {\r\n                dealerFileTxt = filepath;\r\n            }\r\n            if (filepath.contains(&quot;nations&quot;)) {\r\n                nationFileTxt = filepath;\r\n            }\r\n        }\r\n        usersFile = ftpClient.downloadFile(usersFileTxt);\r\n        dealerFile = ftpClient.downloadFile(dealerFileTxt);\r\n        nationFile = ftpClient.downloadFile(nationFileTxt);\r\n    }\r\n\r\n```","title":"How do I get the most recent file based on a date in the filename?","body":"<p>I have a directory which contains files like this :\n{users_20221104.txt | users_20221105.txt |\nusers_20221106.txt</p>\n<p>dealers_20221104.txt |\ndealers_20221105.txt |\ndealers_20221106.txt |</p>\n<p>nations_20221104.txt |\nnations_20221105.txt |\nnations_20221106.txt }</p>\n<p>I need to retrieve only the last file of each occurence, which means users_20221106, dealers_20221106 and nations_20221106</p>\n<p>At the moment I have something like this :</p>\n<pre><code>    private void downloadFiles()  {\n        List&lt;String&gt; filesPath = ftpClient.listFiles(ftpFolderIn);\n        String usersFileTxt = null;\n        String dealerFileTxt = null;\n        String nationFileTxt = null;\n        \n        for (String filepath : filesPath) {\n            if (filepath.contains(&quot;users&quot;)) {\n                usersFileTxt = filepath;\n            }\n            if (filepath.contains(&quot;dealers&quot;)) {\n                dealerFileTxt = filepath;\n            }\n            if (filepath.contains(&quot;nations&quot;)) {\n                nationFileTxt = filepath;\n            }\n        }\n        usersFile = ftpClient.downloadFile(usersFileTxt);\n        dealerFile = ftpClient.downloadFile(dealerFileTxt);\n        nationFile = ftpClient.downloadFile(nationFileTxt);\n    }\n\n</code></pre>\n"},{"tags":["java","filesystems"],"comments":[{"owner":{"account_id":48447,"reputation":44848,"user_id":143938,"display_name":"Jonathan Feinberg"},"score":1,"creation_date":1266345973,"post_id":2275362,"comment_id":2237912,"body_markdown":"Wild guess: some screwed up attributes on an intermediary directory that gets traversed with the absolute path.","body":"Wild guess: some screwed up attributes on an intermediary directory that gets traversed with the absolute path."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1266347983,"post_id":2275362,"comment_id":2238213,"body_markdown":"On Windows XP with JDK 1.6.0_16 and Java 1.6.0_18, I get true, true. true, false.  Having said that, my directory doesn&#39;t have any spaces, special characters, or denied permissions on it.","body":"On Windows XP with JDK 1.6.0_16 and Java 1.6.0_18, I get true, true. true, false.  Having said that, my directory doesn&#39;t have any spaces, special characters, or denied permissions on it."}],"answers":[{"tags":[],"owner":{"account_id":5460,"reputation":6354,"user_id":8792,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266345904,"creation_date":1266345904,"answer_id":2275394,"question_id":2275362,"body_markdown":"On this line:\r\n\r\n    File sub_b = new File(root.getAbsolutePath()+&quot;/sub&quot;);\r\n\r\nYou should be using the constant `File.separator` (dependent on the underlying system) rather than a hard-coded forward slash.","title":"Java : File.exists() inconsistencies when setting &quot;user.dir&quot;","body":"<p>On this line:</p>\n\n<pre><code>File sub_b = new File(root.getAbsolutePath()+\"/sub\");\n</code></pre>\n\n<p>You should be using the constant <code>File.separator</code> (dependent on the underlying system) rather than a hard-coded forward slash.</p>\n"},{"tags":[],"owner":{"account_id":98243,"reputation":1354,"user_id":266063,"accept_rate":62,"display_name":"Furunomoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266345955,"creation_date":1266345955,"answer_id":2275400,"question_id":2275362,"body_markdown":"I think it&#39;s the directory separator, since Windows usually use backslash &quot;\\&quot; while Linux use normal slash &quot;/&quot;.\r\n\r\nTry changing the line into :\r\n\r\n    File sub_b = new File(root.getAbsolutePath() + System.getProperty(&quot;file.separator&quot;) + &quot;sub&quot;);","title":"Java : File.exists() inconsistencies when setting &quot;user.dir&quot;","body":"<p>I think it's the directory separator, since Windows usually use backslash \"\\\" while Linux use normal slash \"/\".</p>\n\n<p>Try changing the line into :</p>\n\n<pre><code>File sub_b = new File(root.getAbsolutePath() + System.getProperty(\"file.separator\") + \"sub\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92852,"reputation":73276,"user_id":254279,"display_name":"Thomas Pornin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266346006,"creation_date":1266346006,"answer_id":2275407,"question_id":2275362,"body_markdown":"This may be a file separator issue. On Windows, the standard file separator is the backslash (`\\`). When you create `sub_b` you create a path name (as a `String`) which contains both slashes and backslashes. The system may get a bit confused on that.\r\n","title":"Java : File.exists() inconsistencies when setting &quot;user.dir&quot;","body":"<p>This may be a file separator issue. On Windows, the standard file separator is the backslash (<code>\\</code>). When you create <code>sub_b</code> you create a path name (as a <code>String</code>) which contains both slashes and backslashes. The system may get a bit confused on that.</p>\n"},{"tags":[],"owner":{"account_id":80795,"reputation":8986,"user_id":228208,"accept_rate":88,"display_name":"Kylar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266346122,"creation_date":1266346122,"answer_id":2275422,"question_id":2275362,"body_markdown":"These results should be deterministic across machines. Let me break this down by line:\r\n\r\n    System.out.println(&quot;sub_a exists ? &quot;+sub_a.exists());\r\n\r\nHere, you&#39;re asking if this file actually exists in the filesystem. This should always return the same, assuming the file exists.\r\n\r\n    System.out.println(&quot;sub_b exists ? &quot;+sub_b.exists());\r\nSame thing. You&#39;re checking to see if this file actually exists.\r\n\r\n    System.out.println(&quot;Path equals ? &quot;+ (sub_a.getAbsolutePath().equals(sub_b.getAbsolutePath())));\r\n\r\nHere you&#39;re seeing if the *AbsolutePath* is the same. \r\n\r\n    System.out.println(&quot;Obj equals ? &quot;+ (sub_a.equals(sub_b)));\r\nAnd here, you&#39;re doing an object comparison with .equals() which under the hood will call the FileSystem class to do a compare() of the two object&#39;s *path* objects, not their *AbsolutePath*.\r\n\r\nThe likelyhood is that the file separator is wrong. Try substituting File.separator in the construction of sub_b, like this:\r\n\r\n    File sub_b = new File(root.getAbsolutePath()+File.separator+&quot;sub&quot;);\r\n\r\n \r\n","title":"Java : File.exists() inconsistencies when setting &quot;user.dir&quot;","body":"<p>These results should be deterministic across machines. Let me break this down by line:</p>\n\n<pre><code>System.out.println(\"sub_a exists ? \"+sub_a.exists());\n</code></pre>\n\n<p>Here, you're asking if this file actually exists in the filesystem. This should always return the same, assuming the file exists.</p>\n\n<pre><code>System.out.println(\"sub_b exists ? \"+sub_b.exists());\n</code></pre>\n\n<p>Same thing. You're checking to see if this file actually exists.</p>\n\n<pre><code>System.out.println(\"Path equals ? \"+ (sub_a.getAbsolutePath().equals(sub_b.getAbsolutePath())));\n</code></pre>\n\n<p>Here you're seeing if the <em>AbsolutePath</em> is the same. </p>\n\n<pre><code>System.out.println(\"Obj equals ? \"+ (sub_a.equals(sub_b)));\n</code></pre>\n\n<p>And here, you're doing an object comparison with .equals() which under the hood will call the FileSystem class to do a compare() of the two object's <em>path</em> objects, not their <em>AbsolutePath</em>.</p>\n\n<p>The likelyhood is that the file separator is wrong. Try substituting File.separator in the construction of sub_b, like this:</p>\n\n<pre><code>File sub_b = new File(root.getAbsolutePath()+File.separator+\"sub\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11848,"reputation":9165,"user_id":23056,"accept_rate":100,"display_name":"nicerobot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266347634,"creation_date":1266346641,"answer_id":2275491,"question_id":2275362,"body_markdown":"`File` can represents an _abstract_ path. Creating a `File` for `tmp` and one from the absolute path of `tmp` will not be equal `File` objects though their absolute paths are equal.\r\n\r\nI&#39;m not exactly sure of a scenario where sub_a won&#39;t exist but sub_b will but i doubt it&#39;s a separator issue. I suspect it&#39;s something to do with this statement from the [javadoc for File(File,String)][1]:\r\n\r\n&gt; each pathname string is converted into an abstract pathname and the child abstract pathname is resolved against the parent.\r\n\r\nI don&#39;t know a situation on Unix-based file systems where, from within `/full/path/to`, `./tmp/sub` will exist but `/full/path/to/tmp` will not.\r\n\r\nIf the problem is consistent between systems, it can be understood more clearly by dumping more of each `File` object&#39;s state instead of just printing comparisons.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/io/File.html#File(java.io.File,%20java.lang.String)","title":"Java : File.exists() inconsistencies when setting &quot;user.dir&quot;","body":"<p><code>File</code> can represents an <em>abstract</em> path. Creating a <code>File</code> for <code>tmp</code> and one from the absolute path of <code>tmp</code> will not be equal <code>File</code> objects though their absolute paths are equal.</p>\n\n<p>I'm not exactly sure of a scenario where sub_a won't exist but sub_b will but i doubt it's a separator issue. I suspect it's something to do with this statement from the <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/io/File.html#File(java.io.File,%20java.lang.String)\" rel=\"nofollow noreferrer\">javadoc for File(File,String)</a>:</p>\n\n<blockquote>\n  <p>each pathname string is converted into an abstract pathname and the child abstract pathname is resolved against the parent.</p>\n</blockquote>\n\n<p>I don't know a situation on Unix-based file systems where, from within <code>/full/path/to</code>, <code>./tmp/sub</code> will exist but <code>/full/path/to/tmp</code> will not.</p>\n\n<p>If the problem is consistent between systems, it can be understood more clearly by dumping more of each <code>File</code> object's state instead of just printing comparisons.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1669891138,"creation_date":1266411040,"answer_id":2280674,"question_id":2275362,"body_markdown":"Setting `user.dir` is unsupported. It should be considered a read-only property.\r\n\r\nFor example the evaluation of [Bug 4117557][1] in the Sun Bug Parade contains this text:\r\n\r\n&gt; &quot;user.dir&quot;, which is initialized during jvm startup, should be used as an \r\ninformative/readonly system property, try to customize it via command line\r\n-Duser.dir=xyz will end up at implementation dependend/unspecified behavior.\r\n\r\nWhile this text is about setting it on the command line, setting it via `setProperty()` is most likely equally undefined.\r\n\r\nWhen you can reproduce the problem **without** setting `user.dir` manually, then you&#39;ve found a genuine problem.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4117557","title":"Java : File.exists() inconsistencies when setting &quot;user.dir&quot;","body":"<p>Setting <code>user.dir</code> is unsupported. It should be considered a read-only property.</p>\n<p>For example the evaluation of <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4117557\" rel=\"nofollow noreferrer\">Bug 4117557</a> in the Sun Bug Parade contains this text:</p>\n<blockquote>\n<p>&quot;user.dir&quot;, which is initialized during jvm startup, should be used as an\ninformative/readonly system property, try to customize it via command line\n-Duser.dir=xyz will end up at implementation dependend/unspecified behavior.</p>\n</blockquote>\n<p>While this text is about setting it on the command line, setting it via <code>setProperty()</code> is most likely equally undefined.</p>\n<p>When you can reproduce the problem <strong>without</strong> setting <code>user.dir</code> manually, then you've found a genuine problem.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1266415567,"creation_date":1266415567,"answer_id":2281259,"question_id":2275362,"body_markdown":"Add the following lines to your test:  \r\n\r\n    System.out.println(&quot;sub_a = &quot; + sub_a);\r\n    System.out.println(&quot;sub_b = &quot; + sub_b);\r\n    \r\nConclusions:\r\n\r\n1) sub_a is a relative path and sub_b is an absolute one.  \r\n\r\n2) `exists()` does not use the absolute path\r\n\r\n3) setting the environment variable `user.dir` does not change the current user directory, used by `exists()` \r\n\r\n4) getAbsolutePath uses the `user.dir` variable instead of the real current user directory! At least for Windows (see Win32FileSystem.getuserPath). That&#39;s the problem! (Bug?)\r\n\r\n\r\n","title":"Java : File.exists() inconsistencies when setting &quot;user.dir&quot;","body":"<p>Add the following lines to your test:  </p>\n\n<pre><code>System.out.println(\"sub_a = \" + sub_a);\nSystem.out.println(\"sub_b = \" + sub_b);\n</code></pre>\n\n<p>Conclusions:</p>\n\n<p>1) sub_a is a relative path and sub_b is an absolute one.  </p>\n\n<p>2) <code>exists()</code> does not use the absolute path</p>\n\n<p>3) setting the environment variable <code>user.dir</code> does not change the current user directory, used by <code>exists()</code> </p>\n\n<p>4) getAbsolutePath uses the <code>user.dir</code> variable instead of the real current user directory! At least for Windows (see Win32FileSystem.getuserPath). That's the problem! (Bug?)</p>\n"}],"owner":{"account_id":40817,"reputation":45766,"user_id":118437,"accept_rate":93,"display_name":"glmxndr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5864,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":2280674,"answer_count":7,"score":10,"last_activity_date":1669891138,"creation_date":1266345593,"question_id":2275362,"body_markdown":"JRE 6, on Windows XP.\r\n\r\nInstanciating two File objects with different constructors leads to inconsistent results in the `File.exists()` method.\r\n\r\n***Disclaimer :** &lt;s&gt;the code below is an abstract, not the actual code. I do not believe this is a File.separator issue at all. I first asked to get early reactions, in case I missed a well understood issue.&lt;/s&gt; It now seems that resetting the `user.dir` system property is one of the causes to this problem. The code below is now reproducible and usable as is. You can copy/paste the Java class and try it, it should behave consistently with what I have listed as results.*\r\n\r\n**Setup:**\r\n\r\nCreate the folder architecture `C:\\toto\\tmp\\sub`.\r\n\r\nLaunch the following class from within any folder which does not contain a `tmp/sub` sub-folder architecture.\r\n\r\n**Code:**\r\n\r\n    public class TestFileExists {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.setProperty(&quot;user.dir&quot;, &quot;C:\\\\toto\\\\&quot;);\r\n    \r\n            File root = new File(&quot;tmp&quot;);\r\n    \r\n            File sub_a = new File(root, &quot;sub&quot;);\r\n    \r\n            File sub_b = new File(root.getAbsolutePath()+&quot;/sub&quot;);\r\n    \r\n            System.out.println(&quot;sub_a path ? &quot;+sub_a.getAbsolutePath());\r\n            System.out.println(&quot;sub_a exists ? &quot;+sub_a.exists());\r\n            System.out.println(&quot;sub_b path ? &quot;+sub_b.getAbsolutePath());\r\n            System.out.println(&quot;sub_b exists ? &quot;+sub_b.exists());\r\n            System.out.println(&quot;Path equals ? &quot;+ (sub_a.getAbsolutePath().equals(sub_b.getAbsolutePath())));\r\n            System.out.println(&quot;Obj equals ? &quot;+ (sub_a.equals(sub_b)));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**Result :**\r\n\r\n    sub_a path ? C:\\toto\\tmp\\sub\r\n    sub_a exists ? false\r\n    sub_b path ? C:\\toto\\tmp\\sub\r\n    sub_b exists ? true\r\n    Path equals ? true\r\n    Obj equals ? false\r\n\r\nI don&#39;t understand the line `sub_a exists ? false`, &lt;s&gt;and the result is not consistent from machine to machine, nor with the root initial path&lt;/s&gt; ant the result is now consistent with from machine to machine. \r\n\r\nNow if you reexecute the class by calling java from the command line, from a folder which does contain a `tmp/sub` sub-folder architecture (like if you call it from `D:\\`, having `D:\\tmp\\sub`), you will get the expected : \r\n\r\n    sub_a path ? C:\\toto\\tmp\\sub\r\n    sub_a exists ? true\r\n    sub_b path ? C:\\toto\\tmp\\sub\r\n    sub_b exists ? true\r\n    Path equals ? true\r\n    Obj equals ? false\r\n\r\nBut the existence of `sub_a` is clearly a false positive, because it checks the existence of another folder than the one described by the `getAbsolutePath()`.\r\n\r\nSo I strongly suspect that `File.exists()` depends on the actual Java execution path, and that file existence is not consistent with the absolute path, and `exists()` uses another path than the &quot;user.dir&quot; system property to check the file system.\r\n\r\nAny idea where this problem could come from ?","title":"Java : File.exists() inconsistencies when setting &quot;user.dir&quot;","body":"<p>JRE 6, on Windows XP.</p>\n\n<p>Instanciating two File objects with different constructors leads to inconsistent results in the <code>File.exists()</code> method.</p>\n\n<p><strong><em>Disclaimer :</strong> <s>the code below is an abstract, not the actual code. I do not believe this is a File.separator issue at all. I first asked to get early reactions, in case I missed a well understood issue.</s> It now seems that resetting the <code>user.dir</code> system property is one of the causes to this problem. The code below is now reproducible and usable as is. You can copy/paste the Java class and try it, it should behave consistently with what I have listed as results.</em></p>\n\n<p><strong>Setup:</strong></p>\n\n<p>Create the folder architecture <code>C:\\toto\\tmp\\sub</code>.</p>\n\n<p>Launch the following class from within any folder which does not contain a <code>tmp/sub</code> sub-folder architecture.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>public class TestFileExists {\n\n    public static void main(String[] args) {\n\n        System.setProperty(\"user.dir\", \"C:\\\\toto\\\\\");\n\n        File root = new File(\"tmp\");\n\n        File sub_a = new File(root, \"sub\");\n\n        File sub_b = new File(root.getAbsolutePath()+\"/sub\");\n\n        System.out.println(\"sub_a path ? \"+sub_a.getAbsolutePath());\n        System.out.println(\"sub_a exists ? \"+sub_a.exists());\n        System.out.println(\"sub_b path ? \"+sub_b.getAbsolutePath());\n        System.out.println(\"sub_b exists ? \"+sub_b.exists());\n        System.out.println(\"Path equals ? \"+ (sub_a.getAbsolutePath().equals(sub_b.getAbsolutePath())));\n        System.out.println(\"Obj equals ? \"+ (sub_a.equals(sub_b)));\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Result :</strong></p>\n\n<pre><code>sub_a path ? C:\\toto\\tmp\\sub\nsub_a exists ? false\nsub_b path ? C:\\toto\\tmp\\sub\nsub_b exists ? true\nPath equals ? true\nObj equals ? false\n</code></pre>\n\n<p>I don't understand the line <code>sub_a exists ? false</code>, <s>and the result is not consistent from machine to machine, nor with the root initial path</s> ant the result is now consistent with from machine to machine. </p>\n\n<p>Now if you reexecute the class by calling java from the command line, from a folder which does contain a <code>tmp/sub</code> sub-folder architecture (like if you call it from <code>D:\\</code>, having <code>D:\\tmp\\sub</code>), you will get the expected : </p>\n\n<pre><code>sub_a path ? C:\\toto\\tmp\\sub\nsub_a exists ? true\nsub_b path ? C:\\toto\\tmp\\sub\nsub_b exists ? true\nPath equals ? true\nObj equals ? false\n</code></pre>\n\n<p>But the existence of <code>sub_a</code> is clearly a false positive, because it checks the existence of another folder than the one described by the <code>getAbsolutePath()</code>.</p>\n\n<p>So I strongly suspect that <code>File.exists()</code> depends on the actual Java execution path, and that file existence is not consistent with the absolute path, and <code>exists()</code> uses another path than the \"user.dir\" system property to check the file system.</p>\n\n<p>Any idea where this problem could come from ?</p>\n"},{"tags":["java","api","https"],"comments":[{"owner":{"account_id":3347267,"reputation":781,"user_id":2812189,"display_name":"fbastien"},"score":1,"creation_date":1668878081,"post_id":74502011,"comment_id":131515266,"body_markdown":"The URL is missing a 2nd slash after https: in the code snippet you provided. Is it missing in your real code as well?","body":"The URL is missing a 2nd slash after https: in the code snippet you provided. Is it missing in your real code as well?"},{"owner":{"account_id":25227466,"reputation":1,"user_id":19063120,"display_name":"Fadi"},"score":0,"creation_date":1668882978,"post_id":74502011,"comment_id":131516304,"body_markdown":"@fbastien It is not missing, this is a mistake when replacing my token by &#171;&#160;{myToken}&#160;&#187;","body":"@fbastien It is not missing, this is a mistake when replacing my token by &#171; {myToken} &#187;"},{"owner":{"account_id":3347267,"reputation":781,"user_id":2812189,"display_name":"fbastien"},"score":0,"creation_date":1669665732,"post_id":74502011,"comment_id":131689711,"body_markdown":"@Fadi HTTP 401 is an authorization/authentication error. This may be due to your browser unnoticeably sending some auth data that your script doesn&#39;t, or the API provider having some script protection. Can you check the `WWW-Authenticate` header(s) in the response you get? It should indicate how to authenticate. You should be able to retrieve headers with `conn.getHeaderFields()` or `conn.getHeaderField(&quot;WWW-Authenticate&quot;)`","body":"@Fadi HTTP 401 is an authorization/authentication error. This may be due to your browser unnoticeably sending some auth data that your script doesn&#39;t, or the API provider having some script protection. Can you check the <code>WWW-Authenticate</code> header(s) in the response you get? It should indicate how to authenticate. You should be able to retrieve headers with <code>conn.getHeaderFields()</code> or <code>conn.getHeaderField(&quot;WWW-Authenticate&quot;)</code>"},{"owner":{"account_id":25227466,"reputation":1,"user_id":19063120,"display_name":"Fadi"},"score":0,"creation_date":1669890511,"post_id":74502011,"comment_id":131747727,"body_markdown":"@starball thank you ! :) Also, thank you for your help, i finally found a solution before I saw your response.","body":"@starball thank you ! :) Also, thank you for your help, i finally found a solution before I saw your response."},{"owner":{"account_id":25227466,"reputation":1,"user_id":19063120,"display_name":"Fadi"},"score":0,"creation_date":1669890628,"post_id":74502011,"comment_id":131747765,"body_markdown":"@fbastien thank you for your help and you clarification. I found a solution to bypass this issue.","body":"@fbastien thank you for your help and you clarification. I found a solution to bypass this issue."}],"answers":[{"tags":[],"owner":{"account_id":25227466,"reputation":1,"user_id":19063120,"display_name":"Fadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669890788,"creation_date":1669890788,"answer_id":74640453,"question_id":74502011,"body_markdown":"Finally, I stopped calling the API from the Java code.\r\nWhat I do know is I create a process to curl the api from the terminal and I just fetch the output. I guess it&#39;s not the best solution but it works fine now.","title":"API works with token when called in chrome, but does not work with the same token when called from my code","body":"<p>Finally, I stopped calling the API from the Java code.\nWhat I do know is I create a process to curl the api from the terminal and I just fetch the output. I guess it's not the best solution but it works fine now.</p>\n"}],"owner":{"account_id":25227466,"reputation":1,"user_id":19063120,"display_name":"Fadi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74640453,"answer_count":1,"score":0,"last_activity_date":1669890788,"creation_date":1668877809,"question_id":74502011,"body_markdown":"I am trying to make an API call to get data from Navitia.\r\n\r\nThe URL looks like this :\r\n\r\n```\r\nhttps://{myToken}@api.navitia.io/v1/journeys?from={...}\r\n```\r\n\r\nWhen I copy paste the complete URL in a private tab browser it works fine, but when I call the API from my code I get a 401 error.\r\n\r\nThis is the code to call the API :\r\n\r\n```\r\nString sURL = &quot;https://{myToken}@api.navitia.io/v1/journeys?from=&quot; +longDeparture +&quot;;&quot; + latDeparture + &quot;&amp;to=&quot;+ longArrival+ &quot;;&quot;+latArrival +&quot;&amp;&quot;;\r\nURL url = new URL(sURL);\r\n\r\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\nconn.setRequestMethod(&quot;GET&quot;);\r\nconn.connect();\r\n\r\nint responseCode = conn.getResponseCode();\r\nif (responseCode != 200) {\r\n    throw new RuntimeException(&quot;HttpResponseCode: &quot; + responseCode);\r\n} else {...}\r\n```\r\n\r\nBut it works here when copy pasting :\r\n\r\n[enter image description here](https://i.stack.imgur.com/iyodp.png)","title":"API works with token when called in chrome, but does not work with the same token when called from my code","body":"<p>I am trying to make an API call to get data from Navitia.</p>\n<p>The URL looks like this :</p>\n<pre><code>https://{myToken}@api.navitia.io/v1/journeys?from={...}\n</code></pre>\n<p>When I copy paste the complete URL in a private tab browser it works fine, but when I call the API from my code I get a 401 error.</p>\n<p>This is the code to call the API :</p>\n<pre><code>String sURL = &quot;https://{myToken}@api.navitia.io/v1/journeys?from=&quot; +longDeparture +&quot;;&quot; + latDeparture + &quot;&amp;to=&quot;+ longArrival+ &quot;;&quot;+latArrival +&quot;&amp;&quot;;\nURL url = new URL(sURL);\n\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\nconn.setRequestMethod(&quot;GET&quot;);\nconn.connect();\n\nint responseCode = conn.getResponseCode();\nif (responseCode != 200) {\n    throw new RuntimeException(&quot;HttpResponseCode: &quot; + responseCode);\n} else {...}\n</code></pre>\n<p>But it works here when copy pasting :</p>\n<p><a href=\"https://i.stack.imgur.com/iyodp.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1669805335,"post_id":74626210,"comment_id":131724890,"body_markdown":"This is an opinion base question, I think and it&#39;s now allowed here. Anyhow, the idea is to let the database engine to do all the &quot;heavy&quot; tasks, your code should not. Besides that, in the second approach, you are going to call the repository many times, this is not good.","body":"This is an opinion base question, I think and it&#39;s now allowed here. Anyhow, the idea is to let the database engine to do all the &quot;heavy&quot; tasks, your code should not. Besides that, in the second approach, you are going to call the repository many times, this is not good."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1669805439,"post_id":74626210,"comment_id":131724932,"body_markdown":"Depending on the use case, you can include `List&lt;Theme&gt; themesReference` as a `@OneToMany` on `anotherEntity`, though this depends on the use case you have. If thats not possible, then performance wise, the first approach will most probably be faster. AFAIK you will be loading the whole object (with lazy dependencies) in the first approach","body":"Depending on the use case, you can include <code>List&lt;Theme&gt; themesReference</code> as a <code>@OneToMany</code> on <code>anotherEntity</code>, though this depends on the use case you have. If thats not possible, then performance wise, the first approach will most probably be faster. AFAIK you will be loading the whole object (with lazy dependencies) in the first approach"}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669806323,"creation_date":1669806323,"answer_id":74626741,"question_id":74626210,"body_markdown":"I would suggest the second approach because the `getReferenceById` method calls the `getReference` method of the underlying `EntityManager`, which only instantiates and returns a proxy object using the provided primary key value, **without** querying the database. \r\n\r\nThe first approach is considered an anti-pattern when using it to reference entity associations since there is always an additional query executed.\r\n\r\nFor reference: [FindById Anti-Pattern][1], [How and when to use JPA’s getReference() Method][2]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/spring-data-jpa-findbyid/\r\n  [2]: https://thorben-janssen.com/jpa-getreference/","title":"Spring JPA Repository: What is the best practice, use findAllById or iterate over IDs and call getReferenceById","body":"<p>I would suggest the second approach because the <code>getReferenceById</code> method calls the <code>getReference</code> method of the underlying <code>EntityManager</code>, which only instantiates and returns a proxy object using the provided primary key value, <strong>without</strong> querying the database.</p>\n<p>The first approach is considered an anti-pattern when using it to reference entity associations since there is always an additional query executed.</p>\n<p>For reference: <a href=\"https://vladmihalcea.com/spring-data-jpa-findbyid/\" rel=\"nofollow noreferrer\">FindById Anti-Pattern</a>, <a href=\"https://thorben-janssen.com/jpa-getreference/\" rel=\"nofollow noreferrer\">How and when to use JPA’s getReference() Method</a></p>\n"}],"owner":{"account_id":25121175,"reputation":77,"user_id":19010015,"display_name":"Rafael Furtado"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2736,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74626741,"answer_count":1,"score":3,"last_activity_date":1669890689,"creation_date":1669803965,"question_id":74626210,"body_markdown":"So, I&#39;m in a situation where I need to get the reference of some entities in the database to vinculate them with another entity that has a relationship with them. Still, I doubt what is the better approach to achieve this.\r\n\r\nI read some people saying that the *repository.**getReferenceById**()* throws an exception if the entity doesn&#39;t exist with the given ID and, if it exists, will load it in lazy mode. That&#39;s good because I don&#39;t need to access any attribute of the entity.\r\n\r\nAnd the *repository.**findAllById**()* will return a list with all the entities found. Correct me if I&#39;m wrong, but this method returns a list where the entities are also loaded in lazy mode.\r\n\r\nSo, I want to know the best approach to fetch the entity&#39;s reference to associate it with another.\r\n\r\nSome example code are below:\r\n```\r\n// 1&#186; Approach, using findAllById\r\n\r\nList&lt;Integer&gt; themesIds = service.getThemesIds();  // This line is just to illustrate the flux\r\n\r\nList&lt;Theme&gt; themesReference = themeRepository.findAllById(themesIds);\r\n\r\nanotherEntity.setThemes(themesReference);\r\n```\r\n\r\n```\r\n// 2&#186; Approach, iterate over IDs and call getReferenceById\r\n\r\nList&lt;Integer&gt; themesIds = service.getThemesIds();  // This line is just to illustrate the flux\r\n\r\nList&lt;Theme&gt; themesReference = themesIds.stream()\r\n                                       .map(id-&gt; themeRepository.getReferenceById(id))\r\n                                       .collect(Collectors.toSet());\r\n\r\nanotherEntity.setThemes(themesReference);\r\n```\r\n\r\nI think the first approach will result in only one query to fetch the entities, which may be better, and the second will perform N queries to fetch the entities, which I feel is worst.\r\n\r\nWhich one should I use?\r\n\r\nIf you know another way to do this, share it with me &#128515;","title":"Spring JPA Repository: What is the best practice, use findAllById or iterate over IDs and call getReferenceById","body":"<p>So, I'm in a situation where I need to get the reference of some entities in the database to vinculate them with another entity that has a relationship with them. Still, I doubt what is the better approach to achieve this.</p>\n<p>I read some people saying that the <em>repository.<strong>getReferenceById</strong>()</em> throws an exception if the entity doesn't exist with the given ID and, if it exists, will load it in lazy mode. That's good because I don't need to access any attribute of the entity.</p>\n<p>And the <em>repository.<strong>findAllById</strong>()</em> will return a list with all the entities found. Correct me if I'm wrong, but this method returns a list where the entities are also loaded in lazy mode.</p>\n<p>So, I want to know the best approach to fetch the entity's reference to associate it with another.</p>\n<p>Some example code are below:</p>\n<pre><code>// 1º Approach, using findAllById\n\nList&lt;Integer&gt; themesIds = service.getThemesIds();  // This line is just to illustrate the flux\n\nList&lt;Theme&gt; themesReference = themeRepository.findAllById(themesIds);\n\nanotherEntity.setThemes(themesReference);\n</code></pre>\n<pre><code>// 2º Approach, iterate over IDs and call getReferenceById\n\nList&lt;Integer&gt; themesIds = service.getThemesIds();  // This line is just to illustrate the flux\n\nList&lt;Theme&gt; themesReference = themesIds.stream()\n                                       .map(id-&gt; themeRepository.getReferenceById(id))\n                                       .collect(Collectors.toSet());\n\nanotherEntity.setThemes(themesReference);\n</code></pre>\n<p>I think the first approach will result in only one query to fetch the entities, which may be better, and the second will perform N queries to fetch the entities, which I feel is worst.</p>\n<p>Which one should I use?</p>\n<p>If you know another way to do this, share it with me 😃</p>\n"},{"tags":["java","android-studio","android-12"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1669281603,"post_id":74557689,"comment_id":131610664,"body_markdown":"Somehow the error messages do not match with the manifest. The error messages are about activities in the &quot;com.onesignal&quot; namespace, the manifest references the &quot;com.Coading.freecode&quot; namespace.","body":"Somehow the error messages do not match with the manifest. The error messages are about activities in the &quot;com.onesignal&quot; namespace, the manifest references the &quot;com.Coading.freecode&quot; namespace."}],"answers":[{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669292313,"creation_date":1669292313,"answer_id":74560671,"question_id":74557689,"body_markdown":"Problem with `exported`. You need to set `android:exported=&quot;false&quot;` to all other activities (`android:exported=&quot;true&quot;` for launch activity or start activity). \r\n\r\nIf you&#39;re targeting android &gt;=12 set all other activity to `android:exported=&quot;false&quot;`\r\n\r\nLike below code\r\n```\r\n&lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.MainActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:exported=&quot;false&quot; // as here mentioned\r\n            android:windowSoftInputMode=&quot;adjustPan&quot; /&gt;\r\n```\r\nThe exported attribute is used to define if an activity, service, or receiver in your app is accessible and can be launched from an external application.\r\n\r\nMaking it mandatory to define the exported value of each activity, service, and receiver adds a new layer of security. Since the developer will need to set it in order to compile the app to Android 12.\r\n\r\nSee doc https://developer.android.com/about/versions/12/behavior-changes-12#exported\r\n\r\nRead more: https://cafonsomota.medium.com/android-12-dont-forget-to-set-android-exported-on-your-activities-services-and-receivers-3bee33f37beb\r\n\r\nHope this helps.","title":"The source code of my project was on target 30, and now when I wanted to change it to 33, I got this error","body":"<p>Problem with <code>exported</code>. You need to set <code>android:exported=&quot;false&quot;</code> to all other activities (<code>android:exported=&quot;true&quot;</code> for launch activity or start activity).</p>\n<p>If you're targeting android &gt;=12 set all other activity to <code>android:exported=&quot;false&quot;</code></p>\n<p>Like below code</p>\n<pre><code>&lt;activity\n            android:name=&quot;com.Coading.freecode.activity.MainActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:exported=&quot;false&quot; // as here mentioned\n            android:windowSoftInputMode=&quot;adjustPan&quot; /&gt;\n</code></pre>\n<p>The exported attribute is used to define if an activity, service, or receiver in your app is accessible and can be launched from an external application.</p>\n<p>Making it mandatory to define the exported value of each activity, service, and receiver adds a new layer of security. Since the developer will need to set it in order to compile the app to Android 12.</p>\n<p>See doc <a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/12/behavior-changes-12#exported</a></p>\n<p>Read more: <a href=\"https://cafonsomota.medium.com/android-12-dont-forget-to-set-android-exported-on-your-activities-services-and-receivers-3bee33f37beb\" rel=\"nofollow noreferrer\">https://cafonsomota.medium.com/android-12-dont-forget-to-set-android-exported-on-your-activities-services-and-receivers-3bee33f37beb</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":21485831,"reputation":3,"user_id":15832482,"display_name":"tfih313"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669890530,"creation_date":1669278383,"question_id":74557689,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nApparently, there is an error in the code regarding android:exported, which should be true. In this error, it is stated that I must clearly state that android:exported=&quot;true&quot; is about the receiver. Now my problem is that I did not use the receiver at all in AndroidManifest. Please help based on the image and source code of AndroidManifest that I have attached.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera.autofocus&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;com.Coading.freecode.MyApp&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.CamScanner&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;\r\n            tools:replace=&quot;android:authorities&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot;\r\n                tools:replace=&quot;android:resource&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;activity android:name=&quot;com.Coading.freecode.activity.BaseActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.SplashActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.MainActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.ScannerActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.yalantis.ucrop.UCropActivity&quot;\r\n            android:theme=&quot;@style/uCropStyle&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.IDCardPreviewActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.CropDocumentActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.CurrentFilterActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.SavedDocumentActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.DocumentEditorActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;adjustNothing&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.SavedEditDocumentActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.SavedDocumentPreviewActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.NoteActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.ImageToTextActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.GroupDocumentActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.PDFViewerActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.QRGenerateActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.QRReaderActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.Coading.freecode.activity.PrivacyPolicyActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.vision.DEPENDENCIES&quot;\r\n            android:value=&quot;ocr&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;@string/admob_app_id&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C3CZc.png","title":"The source code of my project was on target 30, and now when I wanted to change it to 33, I got this error","body":"<p><a href=\"https://i.stack.imgur.com/C3CZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C3CZc.png\" alt=\"enter image description here\" /></a></p>\n<p>Apparently, there is an error in the code regarding android:exported, which should be true. In this error, it is stated that I must clearly state that android:exported=&quot;true&quot; is about the receiver. Now my problem is that I did not use the receiver at all in AndroidManifest. Please help based on the image and source code of AndroidManifest that I have attached.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera.autofocus&quot;\n        android:required=&quot;false&quot; /&gt;\n\n\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;com.Coading.freecode.MyApp&quot;\n        android:allowBackup=&quot;true&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.CamScanner&quot;\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\n\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;\n            tools:replace=&quot;android:authorities&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot;\n                tools:replace=&quot;android:resource&quot; /&gt;\n        &lt;/provider&gt;\n\n        &lt;activity android:name=&quot;com.Coading.freecode.activity.BaseActivity&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.SplashActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.MainActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;adjustPan&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.ScannerActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.yalantis.ucrop.UCropActivity&quot;\n            android:theme=&quot;@style/uCropStyle&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.IDCardPreviewActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.CropDocumentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.CurrentFilterActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.SavedDocumentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.DocumentEditorActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;adjustNothing&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.SavedEditDocumentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.SavedDocumentPreviewActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.NoteActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.ImageToTextActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.GroupDocumentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.PDFViewerActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.QRGenerateActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.QRReaderActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.Coading.freecode.activity.PrivacyPolicyActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.vision.DEPENDENCIES&quot;\n            android:value=&quot;ocr&quot; /&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;@string/admob_app_id&quot; /&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","list","unit-testing","junit","compare"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669805089,"post_id":74626370,"comment_id":131724783,"body_markdown":"Without the source of Task, no way to tell. Does `Task` have an `equals` method? If it doesn&#39;t, there&#39;s your answer.","body":"Without the source of Task, no way to tell. Does <code>Task</code> have an <code>equals</code> method? If it doesn&#39;t, there&#39;s your answer."}],"answers":[{"tags":[],"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669824405,"creation_date":1669824405,"answer_id":74630809,"question_id":74626370,"body_markdown":"The main reason for your issue is that you&#39;re trying to compare between `ArrayList` and `UnmodifiableList` (or `UnmodifiableRandomAccessList`), and those are obviously not the same objects...\r\n\r\nNow let&#39;s look at the details.\r\n\r\nIf you check `Arrays.of(...)` implementation you would find the following:\r\n\r\n```java\r\n    public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\r\n        return new ArrayList&lt;&gt;(a);\r\n    }\r\n```\r\n\r\nwhile if you look at `Collections.unmodifiableList(...)` you would find:\r\n\r\n```java\r\n    public static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\r\n        if (list.getClass() == UnmodifiableList.class || list.getClass() == UnmodifiableRandomAccessList.class) {\r\n           return (List&lt;T&gt;) list;\r\n        }\r\n\r\n        return (list instanceof RandomAccess ?\r\n                new UnmodifiableRandomAccessList&lt;&gt;(list) :\r\n                new UnmodifiableList&lt;&gt;(list));\r\n    }\r\n```\r\n\r\nAs you can see, the 2 methods return different types of objects, and therefore the `equals()` method returns `false`.","title":"Java | Two Lists with the same type and content arent the same when compared","body":"<p>The main reason for your issue is that you're trying to compare between <code>ArrayList</code> and <code>UnmodifiableList</code> (or <code>UnmodifiableRandomAccessList</code>), and those are obviously not the same objects...</p>\n<p>Now let's look at the details.</p>\n<p>If you check <code>Arrays.of(...)</code> implementation you would find the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\n        return new ArrayList&lt;&gt;(a);\n    }\n</code></pre>\n<p>while if you look at <code>Collections.unmodifiableList(...)</code> you would find:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\n        if (list.getClass() == UnmodifiableList.class || list.getClass() == UnmodifiableRandomAccessList.class) {\n           return (List&lt;T&gt;) list;\n        }\n\n        return (list instanceof RandomAccess ?\n                new UnmodifiableRandomAccessList&lt;&gt;(list) :\n                new UnmodifiableList&lt;&gt;(list));\n    }\n</code></pre>\n<p>As you can see, the 2 methods return different types of objects, and therefore the <code>equals()</code> method returns <code>false</code>.</p>\n"}],"owner":{"account_id":25757542,"reputation":1,"user_id":19508982,"display_name":"TheWOK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669890519,"creation_date":1669804753,"question_id":74626370,"body_markdown":"I am doing some unit tests right now and for some reason when I compare two lists with the same content and type, the List.equals method returns `false` when I compare them. \r\n\r\nI created a List that represents how the actual output should look (expected), and also the list containing the actual output (actual).\r\n\r\n\r\nWhen I run the debugger I can see that the content is the same on both but I noticed that the actual is a &quot;UnmodifiableRandomAccessList&quot;. After I googled what this is I thought maybe when I turn the other list (expected) also in a &quot;UnmodifiableRandomAccessList&quot; it could work, but it didn&#39;t. What I also noticed is that inside the debugger the expected and actual lists have different @&#39;s appended after the type. (You can see what I mean within a screenshot)\r\n\r\nThe Unit Test:\r\n\r\n``` java\r\n    @Test\r\n    void findPrivateTasksByUserIDTest(){\r\n        TaskRepositoryImpl tri = new TaskRepositoryImpl(mongoTemplate);\r\n        ObjectId privateTCObjectID = new ObjectId();\r\n        TaskCollection privateTC = mockTC;\r\n        privateTC.setMembers(new ArrayList&lt;&gt;());\r\n        privateTC.setTeamID(&quot;&quot;);\r\n        privateTC.setId(privateTCObjectID.toHexString());\r\n        mongoTemplate.save(privateTC,&quot;taskCollection&quot;);\r\n        mongoTemplate.save(mockTC, &quot;taskCollection&quot;);\r\n        Task privateTask = mockTask;\r\n        privateTask.setListId(privateTCObjectID.toHexString());\r\n        mongoTemplate.save(privateTask,&quot;task&quot;);\r\n        mongoTemplate.save(mockTask, &quot;task&quot;);\r\n        List&lt;Task&gt; correctList = Arrays.asList(privateTask);\r\n        correctList = Collections.unmodifiableList(correctList);\r\n\r\n        List&lt;Task&gt; taskList = tri.findPrivateTasksByUserID(mockUserID);\r\n        System.out.println(taskList.isEmpty());\r\n        assertEquals(true, taskList.equals(correctList));\r\n    }\r\n```\r\nWhat the Debugger shows on all variables:\r\n\r\n[![Debugger][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/Phddo.png\r\n\r\nConsole Output when running the unit test:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :true\r\nActual   :false\r\n&lt;Click to see difference&gt;\r\n\r\n\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\taorg.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\r\n\tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1142)\r\n\tat com.taskfly.task.TaskRepositoryImplTest.findPrivateTasksByUserIDTest(TaskRepositoryImplTest.java:89)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n","title":"Java | Two Lists with the same type and content arent the same when compared","body":"<p>I am doing some unit tests right now and for some reason when I compare two lists with the same content and type, the List.equals method returns <code>false</code> when I compare them.</p>\n<p>I created a List that represents how the actual output should look (expected), and also the list containing the actual output (actual).</p>\n<p>When I run the debugger I can see that the content is the same on both but I noticed that the actual is a &quot;UnmodifiableRandomAccessList&quot;. After I googled what this is I thought maybe when I turn the other list (expected) also in a &quot;UnmodifiableRandomAccessList&quot; it could work, but it didn't. What I also noticed is that inside the debugger the expected and actual lists have different @'s appended after the type. (You can see what I mean within a screenshot)</p>\n<p>The Unit Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void findPrivateTasksByUserIDTest(){\n        TaskRepositoryImpl tri = new TaskRepositoryImpl(mongoTemplate);\n        ObjectId privateTCObjectID = new ObjectId();\n        TaskCollection privateTC = mockTC;\n        privateTC.setMembers(new ArrayList&lt;&gt;());\n        privateTC.setTeamID(&quot;&quot;);\n        privateTC.setId(privateTCObjectID.toHexString());\n        mongoTemplate.save(privateTC,&quot;taskCollection&quot;);\n        mongoTemplate.save(mockTC, &quot;taskCollection&quot;);\n        Task privateTask = mockTask;\n        privateTask.setListId(privateTCObjectID.toHexString());\n        mongoTemplate.save(privateTask,&quot;task&quot;);\n        mongoTemplate.save(mockTask, &quot;task&quot;);\n        List&lt;Task&gt; correctList = Arrays.asList(privateTask);\n        correctList = Collections.unmodifiableList(correctList);\n\n        List&lt;Task&gt; taskList = tri.findPrivateTasksByUserID(mockUserID);\n        System.out.println(taskList.isEmpty());\n        assertEquals(true, taskList.equals(correctList));\n    }\n</code></pre>\n<p>What the Debugger shows on all variables:</p>\n<p><a href=\"https://i.stack.imgur.com/Phddo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Phddo.png\" alt=\"Debugger\" /></a></p>\n<p>Console Output when running the unit test:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :true\nActual   :false\n&lt;Click to see difference&gt;\n\n\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    aorg.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1142)\n    at com.taskfly.task.TaskRepositoryImplTest.findPrivateTasksByUserIDTest(TaskRepositoryImplTest.java:89)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","json","xml","jackson"],"comments":[{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":0,"creation_date":1473863909,"post_id":39493173,"comment_id":66303974,"body_markdown":"Is there any chance that that server also supports `application/json`?","body":"Is there any chance that that server also supports <code>application&#47;json</code>?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1473864077,"post_id":39493173,"comment_id":66304073,"body_markdown":"Jackson has an XML converter as well, by the way","body":"Jackson has an XML converter as well, by the way"},{"owner":{"account_id":7287924,"reputation":1456,"user_id":5555429,"accept_rate":36,"display_name":"sudar"},"score":0,"creation_date":1473864180,"post_id":39493173,"comment_id":66304146,"body_markdown":"Yes.. When i post like this :                                                            httpPost.setEntity(new StringEntity(aobj, ContentType.create(&quot;application/json&quot;)));\nresponse = httpclient.execute(target, httpPost);                                          I am getting success or failure response as in xml format form server.","body":"Yes.. When i post like this :                                                            httpPost.setEntity(new StringEntity(aobj, ContentType.create(&quot;application/json&quot;))); response = httpclient.execute(target, httpPost);                                          I am getting success or failure response as in xml format form server."},{"owner":{"account_id":7287924,"reputation":1456,"user_id":5555429,"accept_rate":36,"display_name":"sudar"},"score":0,"creation_date":1473864321,"post_id":39493173,"comment_id":66304251,"body_markdown":"@cricket_007 But i dont want to create the pojo class for that .. for success it sent me success message and in  failure it sent me error message so.","body":"@cricket_007 But i dont want to create the pojo class for that .. for success it sent me success message and in  failure it sent me error message so."},{"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1473875720,"post_id":39493173,"comment_id":66311060,"body_markdown":"I&#39;m not sure if this question is really off-topic. The OP didn&#39;t ask us to recommend or find a book, tool, software library, tutorial or other off-site resource. They asked if there is any way to convert a XML to JSON *without any third party API*.","body":"I&#39;m not sure if this question is really off-topic. The OP didn&#39;t ask us to recommend or find a book, tool, software library, tutorial or other off-site resource. They asked if there is any way to convert a XML to JSON <i>without any third party API</i>."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1624289940,"post_id":39493173,"comment_id":120312215,"body_markdown":"Note: Jackson 2.12 has significantly improved support for XML reading into POJOs and `JsonNode` -- see https://cowtowncoder.medium.com/jackson-2-12-improved-xml-b9487889a23f -- which does allow conversion between XML and JSON using `JsonNode` (or `java.lang.Object`) as intermediate value.","body":"Note: Jackson 2.12 has significantly improved support for XML reading into POJOs and <code>JsonNode</code> -- see <a href=\"https://cowtowncoder.medium.com/jackson-2-12-improved-xml-b9487889a23f\" rel=\"nofollow noreferrer\">cowtowncoder.medium.com/jackson-2-12-improved-xml-b9487889a2&zwnj;&#8203;3f</a> -- which does allow conversion between XML and JSON using <code>JsonNode</code> (or <code>java.lang.Object</code>) as intermediate value."},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1641546712,"post_id":39493173,"comment_id":124836941,"body_markdown":"Underscore-java library has a static method U.xmlToJson(xml).","body":"Underscore-java library has a static method U.xmlToJson(xml)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1473864561,"creation_date":1473864223,"answer_id":39493378,"question_id":39493173,"body_markdown":"&gt; Is there any way to convert xml to json without using any third party API?\r\n\r\nIf you are being practical, no there isn&#39;t.\r\n\r\nThe step of parsing the XML can be performed using APIs that are part of Java SE.  However going from the parsed XML (e.g. a DOM) to JSON requires a JSON support library, and Java SE does not include one.\r\n\r\n(In theory you *could* write such a library yourself, but what is the point of doing that?)\r\n\r\n------------------\r\n\r\n&gt; I used Jackson but for this I need to create POJO.\r\n\r\n@Cassio points out that Jackson allows you to do this translation without writing POJOs.  Alternatively, look at other (3rd-party) JSON APIs for Java; see http://www.json.org for a list of alternatives.  Some of the simpler ones don&#39;t involve defining POJOs","title":"How to convert XML to JSON using only Jackson?","body":"<blockquote>\n  <p>Is there any way to convert xml to json without using any third party API?</p>\n</blockquote>\n\n<p>If you are being practical, no there isn't.</p>\n\n<p>The step of parsing the XML can be performed using APIs that are part of Java SE.  However going from the parsed XML (e.g. a DOM) to JSON requires a JSON support library, and Java SE does not include one.</p>\n\n<p>(In theory you <em>could</em> write such a library yourself, but what is the point of doing that?)</p>\n\n<hr>\n\n<blockquote>\n  <p>I used Jackson but for this I need to create POJO.</p>\n</blockquote>\n\n<p>@Cassio points out that Jackson allows you to do this translation without writing POJOs.  Alternatively, look at other (3rd-party) JSON APIs for Java; see <a href=\"http://www.json.org\" rel=\"nofollow\">http://www.json.org</a> for a list of alternatives.  Some of the simpler ones don't involve defining POJOs</p>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1624290669,"creation_date":1473864256,"answer_id":39493394,"question_id":39493173,"body_markdown":"Using Jackson 2.x\r\n--\r\n\r\nYou can do that with Jackson and no POJOs are required for that:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\r\n                 &quot;&lt;errors&gt;\\n&quot; +\r\n                 &quot;  &lt;error&gt;\\n&quot; +\r\n                 &quot;    &lt;status&gt;400&lt;/status&gt;\\n&quot; +\r\n                 &quot;    &lt;message&gt;The field &#39;quantity&#39; is invalid.&lt;/message&gt;\\n&quot; +\r\n                 &quot;    &lt;details&gt;\\n&quot; +\r\n                 &quot;      &lt;invalid_reason&gt;The quantity specified is greater than the quantity of the product that is available to ship.&lt;/invalid_reason&gt;\\n&quot; +\r\n                 &quot;      &lt;available_quantity&gt;0&lt;/available_quantity&gt;\\n&quot; +\r\n                 &quot;      &lt;order_product_id&gt;12525&lt;/order_product_id&gt;\\n&quot; +\r\n                 &quot;    &lt;/details&gt;\\n&quot; +\r\n                 &quot;  &lt;/error&gt;\\n&quot; +\r\n                 &quot;&lt;/errors&gt;&quot;;\r\n\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    JsonNode node = xmlMapper.readTree(xml.getBytes());\r\n\r\n    ObjectMapper jsonMapper = new ObjectMapper();\r\n    String json = jsonMapper.writeValueAsString(node);\r\n    \r\nThe following dependencies are required:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBe aware of the `XmlMapper` limitations stated in the [documentation][1]:\r\n\r\n&gt; **Tree Model is only supported in limited fashion:** specifically, Java arrays and `Collections` can be written, but can not be read, since it is not possible to distinguish Arrays and Objects without additional information.\r\n\r\n\r\nAs nicely highlighted by the [Jackson author in the comments][2], **Jackson 2.12** finally [improved XML handling][3], so that duplicates are preserved **if** using `JsonNode` or `Object` as target types.\r\n\r\n\r\nUsing JSON.org\r\n--\r\n\r\nYou also can do it with JSON.org:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\r\n                 &quot;&lt;errors&gt;\\n&quot; +\r\n                 &quot;  &lt;error&gt;\\n&quot; +\r\n                 &quot;    &lt;status&gt;400&lt;/status&gt;\\n&quot; +\r\n                 &quot;    &lt;message&gt;The field &#39;quantity&#39; is invalid.&lt;/message&gt;\\n&quot; +\r\n                 &quot;    &lt;details&gt;\\n&quot; +\r\n                 &quot;      &lt;invalid_reason&gt;The quantity specified is greater than the quantity of the product that is available to ship.&lt;/invalid_reason&gt;\\n&quot; +\r\n                 &quot;      &lt;available_quantity&gt;0&lt;/available_quantity&gt;\\n&quot; +\r\n                 &quot;      &lt;order_product_id&gt;12525&lt;/order_product_id&gt;\\n&quot; +\r\n                 &quot;    &lt;/details&gt;\\n&quot; +\r\n                 &quot;  &lt;/error&gt;\\n&quot; +\r\n                 &quot;&lt;/errors&gt;&quot;;\r\n    \r\n    String json = XML.toJSONObject(xml).toString();\r\n\r\nThe following dependency is required:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20160810&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformat-xml\r\n  [2]: https://stackoverflow.com/questions/39493173/how-to-convert-xml-to-json-using-only-jackson/39493394?noredirect=1#comment120312236_39493394\r\n  [3]: https://cowtowncoder.medium.com/jackson-2-12-improved-xml-b9487889a23f","title":"How to convert XML to JSON using only Jackson?","body":"<h2>Using Jackson 2.x</h2>\n<p>You can do that with Jackson and no POJOs are required for that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\n             &quot;&lt;errors&gt;\\n&quot; +\n             &quot;  &lt;error&gt;\\n&quot; +\n             &quot;    &lt;status&gt;400&lt;/status&gt;\\n&quot; +\n             &quot;    &lt;message&gt;The field 'quantity' is invalid.&lt;/message&gt;\\n&quot; +\n             &quot;    &lt;details&gt;\\n&quot; +\n             &quot;      &lt;invalid_reason&gt;The quantity specified is greater than the quantity of the product that is available to ship.&lt;/invalid_reason&gt;\\n&quot; +\n             &quot;      &lt;available_quantity&gt;0&lt;/available_quantity&gt;\\n&quot; +\n             &quot;      &lt;order_product_id&gt;12525&lt;/order_product_id&gt;\\n&quot; +\n             &quot;    &lt;/details&gt;\\n&quot; +\n             &quot;  &lt;/error&gt;\\n&quot; +\n             &quot;&lt;/errors&gt;&quot;;\n\nXmlMapper xmlMapper = new XmlMapper();\nJsonNode node = xmlMapper.readTree(xml.getBytes());\n\nObjectMapper jsonMapper = new ObjectMapper();\nString json = jsonMapper.writeValueAsString(node);\n</code></pre>\n<p>The following dependencies are required:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Be aware of the <code>XmlMapper</code> limitations stated in the <a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>Tree Model is only supported in limited fashion:</strong> specifically, Java arrays and <code>Collections</code> can be written, but can not be read, since it is not possible to distinguish Arrays and Objects without additional information.</p>\n</blockquote>\n<p>As nicely highlighted by the <a href=\"https://stackoverflow.com/questions/39493173/how-to-convert-xml-to-json-using-only-jackson/39493394?noredirect=1#comment120312236_39493394\">Jackson author in the comments</a>, <strong>Jackson 2.12</strong> finally <a href=\"https://cowtowncoder.medium.com/jackson-2-12-improved-xml-b9487889a23f\" rel=\"nofollow noreferrer\">improved XML handling</a>, so that duplicates are preserved <strong>if</strong> using <code>JsonNode</code> or <code>Object</code> as target types.</p>\n<h2>Using JSON.org</h2>\n<p>You also can do it with JSON.org:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\n             &quot;&lt;errors&gt;\\n&quot; +\n             &quot;  &lt;error&gt;\\n&quot; +\n             &quot;    &lt;status&gt;400&lt;/status&gt;\\n&quot; +\n             &quot;    &lt;message&gt;The field 'quantity' is invalid.&lt;/message&gt;\\n&quot; +\n             &quot;    &lt;details&gt;\\n&quot; +\n             &quot;      &lt;invalid_reason&gt;The quantity specified is greater than the quantity of the product that is available to ship.&lt;/invalid_reason&gt;\\n&quot; +\n             &quot;      &lt;available_quantity&gt;0&lt;/available_quantity&gt;\\n&quot; +\n             &quot;      &lt;order_product_id&gt;12525&lt;/order_product_id&gt;\\n&quot; +\n             &quot;    &lt;/details&gt;\\n&quot; +\n             &quot;  &lt;/error&gt;\\n&quot; +\n             &quot;&lt;/errors&gt;&quot;;\n\nString json = XML.toJSONObject(xml).toString();\n</code></pre>\n<p>The following dependency is required:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20160810&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2860382,"reputation":131,"user_id":2455784,"display_name":"Ganesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518095297,"creation_date":1518095297,"answer_id":48686256,"question_id":39493173,"body_markdown":"    package com.src.test;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    \r\n    import net.sf.json.JSON;\r\n    import net.sf.json.xml.XMLSerializer;\r\n    \r\n    public class JSONConverter {\r\n    \tprivate static URL url = null;\r\n    \tprivate static InputStream input = null;\r\n    \r\n    \tpublic static void main(String args[]) throws IOException {\r\n    \t\ttry {\r\n    \t\t\turl = JSONConverter.class.getClassLoader().getResource(&quot;sampleXmlFilePath.xml&quot;);\r\n    \t\t\tinput = url.openStream();\r\n    \t\t\tString xmlData = IOUtils.toString(input);\r\n    \t\t\t\r\n    \t\t\tXMLSerializer xmlSerializer = new XMLSerializer();\r\n    \t\t\tJSON json = xmlSerializer.read(xmlData);\r\n    \t\t\tSystem.out.println(&quot;JSON format : &quot; + json);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tinput.close();\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to convert XML to JSON using only Jackson?","body":"<pre><code>package com.src.test;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\n\nimport org.apache.commons.io.IOUtils;\n\nimport net.sf.json.JSON;\nimport net.sf.json.xml.XMLSerializer;\n\npublic class JSONConverter {\n    private static URL url = null;\n    private static InputStream input = null;\n\n    public static void main(String args[]) throws IOException {\n        try {\n            url = JSONConverter.class.getClassLoader().getResource(\"sampleXmlFilePath.xml\");\n            input = url.openStream();\n            String xmlData = IOUtils.toString(input);\n\n            XMLSerializer xmlSerializer = new XMLSerializer();\n            JSON json = xmlSerializer.read(xmlData);\n            System.out.println(\"JSON format : \" + json);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            input.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1028935,"reputation":1696,"user_id":1037644,"accept_rate":100,"display_name":"Tino M Thomas"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1542187639,"creation_date":1542187639,"answer_id":53296833,"question_id":39493173,"body_markdown":"I know that I am too late for an answer here. But I am writing this for the new guys who stumbled upon this question and thinking to use @Cassio&#39;s answer.\r\n\r\nThe problem of using `XmlMpper` to de-serialize to a `JsonNode` is that, when there are multiple elements with the same name at the same level, then it will replace the previous one with the new one and end up with data loss. Usually, we&#39;ve to add this to an array. To tackle this problem, we can override the `_handleDuplicateField()` method of the `JsonNodeDeserializer` class. Enough talking. Let&#39;s see the code\r\n\r\n    public class DuplicateToArrayJsonNodeDeserializer extends JsonNodeDeserializer {\r\n\r\n\t    @Override\r\n\t    protected void _handleDuplicateField(JsonParser p, DeserializationContext ctxt, \r\n            JsonNodeFactory nodeFactory,String fieldName, ObjectNode objectNode,\r\n            JsonNode oldValue, JsonNode newValue) throws JsonProcessingException {\r\n\t\t    ArrayNode node;\r\n\t\t    if(oldValue instanceof ArrayNode){\r\n\t\t\t    node = (ArrayNode) oldValue;\r\n\t\t\t    node.add(newValue);\r\n\t\t    } else {\r\n\t\t\t    node = nodeFactory.arrayNode();\r\n\t\t\t    node.add(oldValue);\r\n\t\t\t    node.add(newValue);\r\n\t\t    }\r\n\t\t    objectNode.set(fieldName, node);\r\n\t    }\r\n    }\r\nSince we&#39;ve overridden the default deserializer, we also need to register this in the `XmlMapper` to make it work.\r\n\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n\txmlMapper.registerModule(new SimpleModule().addDeserializer(\r\n        JsonNode.class, \r\n        new DuplicateToArrayJsonNodeDeserializer()\r\n    ));\r\n\tJsonNode node = xmlMapper.readTree(payLoad);","title":"How to convert XML to JSON using only Jackson?","body":"<p>I know that I am too late for an answer here. But I am writing this for the new guys who stumbled upon this question and thinking to use @Cassio's answer.</p>\n\n<p>The problem of using <code>XmlMpper</code> to de-serialize to a <code>JsonNode</code> is that, when there are multiple elements with the same name at the same level, then it will replace the previous one with the new one and end up with data loss. Usually, we've to add this to an array. To tackle this problem, we can override the <code>_handleDuplicateField()</code> method of the <code>JsonNodeDeserializer</code> class. Enough talking. Let's see the code</p>\n\n<pre><code>public class DuplicateToArrayJsonNodeDeserializer extends JsonNodeDeserializer {\n\n    @Override\n    protected void _handleDuplicateField(JsonParser p, DeserializationContext ctxt, \n        JsonNodeFactory nodeFactory,String fieldName, ObjectNode objectNode,\n        JsonNode oldValue, JsonNode newValue) throws JsonProcessingException {\n        ArrayNode node;\n        if(oldValue instanceof ArrayNode){\n            node = (ArrayNode) oldValue;\n            node.add(newValue);\n        } else {\n            node = nodeFactory.arrayNode();\n            node.add(oldValue);\n            node.add(newValue);\n        }\n        objectNode.set(fieldName, node);\n    }\n}\n</code></pre>\n\n<p>Since we've overridden the default deserializer, we also need to register this in the <code>XmlMapper</code> to make it work.</p>\n\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nxmlMapper.registerModule(new SimpleModule().addDeserializer(\n    JsonNode.class, \n    new DuplicateToArrayJsonNodeDeserializer()\n));\nJsonNode node = xmlMapper.readTree(payLoad);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3708844,"reputation":91,"user_id":3221492,"display_name":"prodigy4440"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551305825,"creation_date":1551305825,"answer_id":54915384,"question_id":39493173,"body_markdown":"Using jackson\r\n```import com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport java.io.IOException;\r\n\r\npublic class JsonUtil {\r\n\r\n    private static XmlMapper XML_MAPPER = new XmlMapper();\r\n    private static ObjectMapper JSON_MAPPER = new ObjectMapper();\r\n\r\n    public static ObjectMapper getJsonMapper(){\r\n        return JSON_MAPPER;\r\n    }\r\n\r\n    public static XmlMapper getXmlMapper(){\r\n        return XML_MAPPER;\r\n    }\r\n\r\n    public static String xmlToJson(String xml){\r\n        try {\r\n            return getJsonMapper().writeValueAsString(getXmlMapper().readTree(xml));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n}\r\n```","title":"How to convert XML to JSON using only Jackson?","body":"<p>Using jackson</p>\n\n<pre><code>import com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport java.io.IOException;\n\npublic class JsonUtil {\n\n    private static XmlMapper XML_MAPPER = new XmlMapper();\n    private static ObjectMapper JSON_MAPPER = new ObjectMapper();\n\n    public static ObjectMapper getJsonMapper(){\n        return JSON_MAPPER;\n    }\n\n    public static XmlMapper getXmlMapper(){\n        return XML_MAPPER;\n    }\n\n    public static String xmlToJson(String xml){\n        try {\n            return getJsonMapper().writeValueAsString(getXmlMapper().readTree(xml));\n        } catch (IOException e) {\n            e.printStackTrace();\n            return \"\";\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9079412,"reputation":91,"user_id":6759754,"display_name":"Prakasam Dhamodhiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564643038,"creation_date":1564643038,"answer_id":57303467,"question_id":39493173,"body_markdown":"I have just followed **cassiomolin** steps. I have faced below exception while using the jackson 2.x libraries.\r\n\r\n    Cannot create XMLStreamReader or XMLEventReader from a org.codehaus.stax2.io.Stax2ByteArraySource\r\n\r\nIf you also face the above exception. Add the below code to fix the issue. Then you can able to see the converted JSON without the namespace.\r\n\r\n    JacksonXmlModule module = new JacksonXmlModule();\r\n    module.setDefaultUseWrapper(false);\r\n    XmlMapper xmlMapper = new XmlMapper(module);\r\n\r\n**Tips :** \r\nIf you want to convert the XML without the namespace then use jackson library. Dont go for org.json libs. It doesnt support this use case.","title":"How to convert XML to JSON using only Jackson?","body":"<p>I have just followed <strong>cassiomolin</strong> steps. I have faced below exception while using the jackson 2.x libraries.</p>\n\n<pre><code>Cannot create XMLStreamReader or XMLEventReader from a org.codehaus.stax2.io.Stax2ByteArraySource\n</code></pre>\n\n<p>If you also face the above exception. Add the below code to fix the issue. Then you can able to see the converted JSON without the namespace.</p>\n\n<pre><code>JacksonXmlModule module = new JacksonXmlModule();\nmodule.setDefaultUseWrapper(false);\nXmlMapper xmlMapper = new XmlMapper(module);\n</code></pre>\n\n<p><strong>Tips :</strong> \nIf you want to convert the XML without the namespace then use jackson library. Dont go for org.json libs. It doesnt support this use case.</p>\n"},{"tags":[],"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669890494,"creation_date":1624985899,"answer_id":68182867,"question_id":39493173,"body_markdown":"According to the author of Jackson, [Jackson 2.12 is able to read XML with readTree even with duplicate elements](https://github.com/FasterXML/jackson-dataformat-xml/issues/187#issuecomment-865132191):\r\n\r\n&gt; Note: Jackson version 2.12 DOES allow reading of duplicate elements with readTree().\r\n(also works for nominal type of java.lang.Object, so-called &quot;untyped&quot; binding).\r\n\r\nSo from Jackson 2.12 on, you can just use \r\n\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    JsonNode node = xmlMapper.readTree(xml.getBytes());\r\n","title":"How to convert XML to JSON using only Jackson?","body":"<p>According to the author of Jackson, <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/187#issuecomment-865132191\" rel=\"nofollow noreferrer\">Jackson 2.12 is able to read XML with readTree even with duplicate elements</a>:</p>\n<blockquote>\n<p>Note: Jackson version 2.12 DOES allow reading of duplicate elements with readTree().\n(also works for nominal type of java.lang.Object, so-called &quot;untyped&quot; binding).</p>\n</blockquote>\n<p>So from Jackson 2.12 on, you can just use</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nJsonNode node = xmlMapper.readTree(xml.getBytes());\n</code></pre>\n"}],"owner":{"account_id":7287924,"reputation":1456,"user_id":5555429,"accept_rate":36,"display_name":"sudar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55459,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"answer_count":7,"score":22,"last_activity_date":1669890494,"creation_date":1473863715,"question_id":39493173,"body_markdown":"I am getting a response from server as XML. But I need to display this in JSON format.\r\n\r\nIs there any way to convert it without any third party API? I used Jackson but for this I need to create POJO.\r\n\r\nThe response from server is like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&#39;1.0&#39;?&gt;\r\n    &lt;errors&gt;&lt;error&gt;&lt;status&gt;400&lt;/status&gt;&lt;message&gt;The field &#39;quantity&#39; is invalid.&lt;/message&gt;&lt;details&gt;&lt;invalid_reason&gt;The quantity specified is greater than the quantity of the product that is available to ship.&lt;/invalid_reason&gt;&lt;available_quantity&gt;0&lt;/available_quantity&gt;&lt;order_product_id&gt;12525&lt;/order_product_id&gt;&lt;/details&gt;&lt;/error&gt;&lt;/errors&gt;","title":"How to convert XML to JSON using only Jackson?","body":"<p>I am getting a response from server as XML. But I need to display this in JSON format.</p>\n\n<p>Is there any way to convert it without any third party API? I used Jackson but for this I need to create POJO.</p>\n\n<p>The response from server is like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0'?&gt;\n&lt;errors&gt;&lt;error&gt;&lt;status&gt;400&lt;/status&gt;&lt;message&gt;The field 'quantity' is invalid.&lt;/message&gt;&lt;details&gt;&lt;invalid_reason&gt;The quantity specified is greater than the quantity of the product that is available to ship.&lt;/invalid_reason&gt;&lt;available_quantity&gt;0&lt;/available_quantity&gt;&lt;order_product_id&gt;12525&lt;/order_product_id&gt;&lt;/details&gt;&lt;/error&gt;&lt;/errors&gt;\n</code></pre>\n"},{"tags":["java","xml"],"owner":{"account_id":27109590,"reputation":11,"user_id":20654935,"display_name":"Judit Garcia Yustes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669890326,"creation_date":1669890326,"question_id":74640361,"body_markdown":"when i&#39;m try to obtain a diagonal gradient with two colors in a button recibe that:[the diagonal apply to gradient but not is a perfect diagonal in component](https://i.stack.imgur.com/9PAZD.png)\r\nBut i spect this: [perfect line in the component](https://i.stack.imgur.com/nGz8Z.png)\r\n\r\nThe code used is: \r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape\r\n    android:shape=&quot;rectangle&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;corners\r\n        android:radius=&quot;?attr/size.button.borderRadius&quot; /&gt;\r\n    &lt;size\r\n        android:height=&quot;?attr/size.button.height&quot;\r\n        android:width=&quot;?attr/size.button.width&quot; /&gt;\r\n    &lt;gradient\r\n        android:angle=&quot;45&quot;\r\n        android:startColor=&quot;#ff0000&quot;\r\n        android:endColor=&quot;#0000ff&quot;\r\n        android:type=&quot;linear&quot; /&gt;\r\n&lt;/shape&gt;\r\n```\r\n\r\n\r\nAny help is welcome. Thank you in advance.\r\n\r\n\r\n\r\n\r\nI try to apply a gradient linear, angle 45&#186;","title":"How to apply a perfect diagonal gradient on a button in .xml with two colors?","body":"<p>when i'm try to obtain a diagonal gradient with two colors in a button recibe that:<a href=\"https://i.stack.imgur.com/9PAZD.png\" rel=\"nofollow noreferrer\">the diagonal apply to gradient but not is a perfect diagonal in component</a>\nBut i spect this: <a href=\"https://i.stack.imgur.com/nGz8Z.png\" rel=\"nofollow noreferrer\">perfect line in the component</a></p>\n<p>The code used is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape\n    android:shape=&quot;rectangle&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;corners\n        android:radius=&quot;?attr/size.button.borderRadius&quot; /&gt;\n    &lt;size\n        android:height=&quot;?attr/size.button.height&quot;\n        android:width=&quot;?attr/size.button.width&quot; /&gt;\n    &lt;gradient\n        android:angle=&quot;45&quot;\n        android:startColor=&quot;#ff0000&quot;\n        android:endColor=&quot;#0000ff&quot;\n        android:type=&quot;linear&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>Any help is welcome. Thank you in advance.</p>\n<p>I try to apply a gradient linear, angle 45º</p>\n"},{"tags":["java","testing","selenium","asynchronous","mockito"],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1669890193,"creation_date":1396979320,"answer_id":22944544,"question_id":22944202,"body_markdown":"This is not a super clean solution but you can do this (`XX` is the supposed return type here):\r\n\r\n    final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    doReturn(new Answer&lt;XX&gt;()\r\n        {\r\n            @Override\r\n            public XX answer(InvocationOnMock invocation)\r\n            {\r\n                latch.countDown();\r\n                return someInstanceOfXX;\r\n            }\r\n        }\r\n    ).when(myMock).myMethod(&quot;expectedArg&quot;);\r\n\r\nThen, to test if the method is called, do:\r\n\r\n    try {\r\n        assertTrue(latch.await(5L, TimeUnit.SECONDS));\r\n    } catch (InterruptedException e) {\r\n        // Urgh... Failed. Deal with it and:\r\n        Thread.currentThread().interrupt();\r\n    }\r\n\r\n\r\n","title":"Mockito: wait for an invocation that matches arguments","body":"<p>This is not a super clean solution but you can do this (<code>XX</code> is the supposed return type here):</p>\n<pre><code>final CountDownLatch latch = new CountDownLatch(1);\n\ndoReturn(new Answer&lt;XX&gt;()\n    {\n        @Override\n        public XX answer(InvocationOnMock invocation)\n        {\n            latch.countDown();\n            return someInstanceOfXX;\n        }\n    }\n).when(myMock).myMethod(&quot;expectedArg&quot;);\n</code></pre>\n<p>Then, to test if the method is called, do:</p>\n<pre><code>try {\n    assertTrue(latch.await(5L, TimeUnit.SECONDS));\n} catch (InterruptedException e) {\n    // Urgh... Failed. Deal with it and:\n    Thread.currentThread().interrupt();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1068527,"reputation":1621,"user_id":1068385,"display_name":"juhoautio"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1401745202,"creation_date":1401745202,"answer_id":24003733,"question_id":22944202,"body_markdown":"If you are able to set a fixed number of calls to expect, it can be done with an `ArgumentCaptor`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import static org.hamcrest.CoreMatchers.hasItem;\r\n    \r\n    @Captor ArgumentCaptor&lt;String&gt; arg;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        // init the @Captor\r\n        initMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void testWithTimeoutCallOrderDoesntMatter() throws Exception {\r\n        // there must be exactly 99 calls\r\n        verify(myMock, timeout(5000).times(99)).myMethod(arg.capture());\r\n        assertThat(arg.getAllValues(), hasItem(&quot;expectedArg&quot;));\r\n    }\r\n\r\nAnother way is to specify all the expected values to verify, but those need to be provided in the exact order that they are invoked. The difference to the above solution is that this doesn&#39;t fail even if the mock is additionally called with some non-verified arguments. In other words, no need to know the number of total invocations. Code example:\r\n\r\n&lt;!-- language: java --&gt;\r\n    \r\n    @Test\r\n    public void testWithTimeoutFollowingCallsDoNotMatter() throws Exception {\r\n        // the order until expected arg is specific\r\n        verify(callback, timeout(5000)).call(&quot;firstExpectedArg&quot;);\r\n        verify(callback, timeout(5000)).call(&quot;expectedArg&quot;);\r\n        // no need to tell more, if additional calls come after the expected arg\r\n        // verify(callback, timeout(5000)).call(&quot;randomArg&quot;);\r\n    }\r\n","title":"Mockito: wait for an invocation that matches arguments","body":"<p>If you are able to set a fixed number of calls to expect, it can be done with an <code>ArgumentCaptor</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import static org.hamcrest.CoreMatchers.hasItem;\n\n@Captor ArgumentCaptor&lt;String&gt; arg;\n\n@Before\npublic void setUp() throws Exception {\n    // init the @Captor\n    initMocks(this);\n}\n\n@Test\npublic void testWithTimeoutCallOrderDoesntMatter() throws Exception {\n    // there must be exactly 99 calls\n    verify(myMock, timeout(5000).times(99)).myMethod(arg.capture());\n    assertThat(arg.getAllValues(), hasItem(\"expectedArg\"));\n}\n</code></pre>\n\n<p>Another way is to specify all the expected values to verify, but those need to be provided in the exact order that they are invoked. The difference to the above solution is that this doesn't fail even if the mock is additionally called with some non-verified arguments. In other words, no need to know the number of total invocations. Code example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testWithTimeoutFollowingCallsDoNotMatter() throws Exception {\n    // the order until expected arg is specific\n    verify(callback, timeout(5000)).call(\"firstExpectedArg\");\n    verify(callback, timeout(5000)).call(\"expectedArg\");\n    // no need to tell more, if additional calls come after the expected arg\n    // verify(callback, timeout(5000)).call(\"randomArg\");\n}\n</code></pre>\n"}],"owner":{"account_id":471788,"reputation":593,"user_id":879802,"accept_rate":25,"display_name":"Bryan Hart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54098,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":2,"score":50,"last_activity_date":1669890193,"creation_date":1396978227,"question_id":22944202,"body_markdown":"I&#39;m writing a selenium test and verifying the server behavior with mockito. Specifically, when a button is clicked, I want to make sure the page controller calls a particular method on a dependency which I&#39;ve mocked.\r\n\r\nBecause it is a selenium test, I need to wait for the mock to be invoked in another thread, so I&#39;m using mockito timeout.\r\n\r\n    verify(myMock, timeout(5000).times(1)).myMethod(&quot;expectedArg&quot;);\r\n\r\nThe trouble that I&#39;m having is that myMethod is called many times... rather than waiting for an invocation that matches the expected arguments, timeout only waits for the first invocation.\r\nIf I use Thread.sleep(50000) rather than timeout(50000), it works as expected... but that&#39;s dirty so I&#39;m hoping to avoid it.\r\n\r\nHow do I wait for myMethod to be invoked with the expected input?","title":"Mockito: wait for an invocation that matches arguments","body":"<p>I'm writing a selenium test and verifying the server behavior with mockito. Specifically, when a button is clicked, I want to make sure the page controller calls a particular method on a dependency which I've mocked.</p>\n\n<p>Because it is a selenium test, I need to wait for the mock to be invoked in another thread, so I'm using mockito timeout.</p>\n\n<pre><code>verify(myMock, timeout(5000).times(1)).myMethod(\"expectedArg\");\n</code></pre>\n\n<p>The trouble that I'm having is that myMethod is called many times... rather than waiting for an invocation that matches the expected arguments, timeout only waits for the first invocation.\nIf I use Thread.sleep(50000) rather than timeout(50000), it works as expected... but that's dirty so I'm hoping to avoid it.</p>\n\n<p>How do I wait for myMethod to be invoked with the expected input?</p>\n"},{"tags":["java","pdf","adobe","digital-signature","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1374489902,"post_id":17783511,"comment_id":25943089,"body_markdown":"Where do you see the full chain? In Adobe Reader? That may be because the Reader has the certificates in its own stores. Or retrieves them from the OS&#39;s store. Or retrieves them via LDAP from some remote directory server indicated in the user certificate... Please supply the PDF in question if you want to know for sure. But if you want to embed all required certificates, you generally will have to tap other resources than merely the PDF in question. If you also control the original signing routine, though, you might enforce complete certificate chain embedding there and then.","body":"Where do you see the full chain? In Adobe Reader? That may be because the Reader has the certificates in its own stores. Or retrieves them from the OS&#39;s store. Or retrieves them via LDAP from some remote directory server indicated in the user certificate... Please supply the PDF in question if you want to know for sure. But if you want to embed all required certificates, you generally will have to tap other resources than merely the PDF in question. If you also control the original signing routine, though, you might enforce complete certificate chain embedding there and then."},{"owner":{"account_id":3057654,"reputation":5535,"user_id":2590960,"accept_rate":54,"display_name":"grep"},"score":0,"creation_date":1374496581,"post_id":17783511,"comment_id":25946965,"body_markdown":"I fount my certificate in Store of org.bouncycastle.cms.CMSSignedData.","body":"I fount my certificate in Store of org.bouncycastle.cms.CMSSignedData."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1374499948,"post_id":17783511,"comment_id":25949174,"body_markdown":"`CMSSignedData` is just a helper class allowing to dissect and build the signatures that **Contents** key. Thus, the certificates actually are where you pointed at in your graphic... ;)","body":"<code>CMSSignedData</code> is just a helper class allowing to dissect and build the signatures that <b>Contents</b> key. Thus, the certificates actually are where you pointed at in your graphic... ;)"}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542462676,"creation_date":1542458337,"answer_id":53351341,"question_id":17783511,"body_markdown":"You can find code to show the certificate chain in the ShowSignature.java example in the examples subproject of the PDFBox source code [download][1] or in the [repository][2].\r\n\r\nHere&#39;s some code reduced from there, which is only applicable for certain signature subtypes (adbe.pkcs7.detached and ETSI.CAdES.detached, the others can be seen in the mentioned example):\r\n\r\n    try (PDDocument document = PDDocument.load(file))\r\n    {\r\n        for (PDSignature sig : document.getSignatureDictionaries())\r\n        {\r\n            COSDictionary sigDict = sig.getCOSObject();\r\n            COSString contents = (COSString) sigDict.getDictionaryObject(COSName.CONTENTS);\r\n            CMSSignedData signedData = new CMSSignedData(contents.getBytes());\r\n            Store&lt;X509CertificateHolder&gt; certificatesStore = signedData.getCertificates();\r\n            JcaX509CertificateConverter certificateConverter = new JcaX509CertificateConverter();\r\n            Collection&lt;X509CertificateHolder&gt; matches = certificatesStore.getMatches(null);\r\n            System.out.println(&quot;Certificates in chain: &quot; + matches.size());\r\n            System.out.println();\r\n            int n = 0;\r\n            for (X509CertificateHolder certificateHolder : matches)\r\n            {\r\n                ++n;\r\n                X509Certificate certificate = certificateConverter.getCertificate(certificateHolder);\r\n                System.out.println(&quot;Certificate &quot; + n + &quot;:&quot;);\r\n                System.out.println(certificate);\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\nThe ShowSignature.java example has much more to offer: it checks the signature validity, whether the signature covers the whole document and (new in 2.0.13) checks the whole certificate chain including revocation (OCSP or CRL).\r\n\r\n  [1]: https://pdfbox.apache.org/download.cgi\r\n  [2]: https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/signature/ShowSignature.java?view=markup","title":"where is certificate chain in PDF","body":"<p>You can find code to show the certificate chain in the ShowSignature.java example in the examples subproject of the PDFBox source code <a href=\"https://pdfbox.apache.org/download.cgi\" rel=\"nofollow noreferrer\">download</a> or in the <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/signature/ShowSignature.java?view=markup\" rel=\"nofollow noreferrer\">repository</a>.</p>\n\n<p>Here's some code reduced from there, which is only applicable for certain signature subtypes (adbe.pkcs7.detached and ETSI.CAdES.detached, the others can be seen in the mentioned example):</p>\n\n<pre><code>try (PDDocument document = PDDocument.load(file))\n{\n    for (PDSignature sig : document.getSignatureDictionaries())\n    {\n        COSDictionary sigDict = sig.getCOSObject();\n        COSString contents = (COSString) sigDict.getDictionaryObject(COSName.CONTENTS);\n        CMSSignedData signedData = new CMSSignedData(contents.getBytes());\n        Store&lt;X509CertificateHolder&gt; certificatesStore = signedData.getCertificates();\n        JcaX509CertificateConverter certificateConverter = new JcaX509CertificateConverter();\n        Collection&lt;X509CertificateHolder&gt; matches = certificatesStore.getMatches(null);\n        System.out.println(\"Certificates in chain: \" + matches.size());\n        System.out.println();\n        int n = 0;\n        for (X509CertificateHolder certificateHolder : matches)\n        {\n            ++n;\n            X509Certificate certificate = certificateConverter.getCertificate(certificateHolder);\n            System.out.println(\"Certificate \" + n + \":\");\n            System.out.println(certificate);\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n\n<p>The ShowSignature.java example has much more to offer: it checks the signature validity, whether the signature covers the whole document and (new in 2.0.13) checks the whole certificate chain including revocation (OCSP or CRL).</p>\n"}],"owner":{"account_id":3057654,"reputation":5535,"user_id":2590960,"accept_rate":54,"display_name":"grep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1526,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669890171,"creation_date":1374483761,"question_id":17783511,"body_markdown":"I&#39;ve just signed a document. The signer certificate has one issuer intermediate certificate and intermediate&#39;s issuer is the root certificate.\r\n\r\nI sign document and I see the full chain of that certificate. But when I see in PDF explorer, there is only Signer certificate:\r\n\r\n\r\n\r\n  ![enter image description here][1]\r\n\r\nI need that certificate chain. I&#39;m going to get them using PDFbox, but I have no idea where it is.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/008gE.jpg","title":"where is certificate chain in PDF","body":"<p>I've just signed a document. The signer certificate has one issuer intermediate certificate and intermediate's issuer is the root certificate.</p>\n\n<p>I sign document and I see the full chain of that certificate. But when I see in PDF explorer, there is only Signer certificate:</p>\n\n<p><img src=\"https://i.stack.imgur.com/008gE.jpg\" alt=\"enter image description here\"></p>\n\n<p>I need that certificate chain. I'm going to get them using PDFbox, but I have no idea where it is.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1538469074,"post_id":52604631,"comment_id":92143499,"body_markdown":"Who says we declare it as `private static`? I never saw it that way.","body":"Who says we declare it as <code>private static</code>? I never saw it that way."}],"answers":[{"tags":[],"owner":{"account_id":11322569,"reputation":869,"user_id":8302531,"display_name":"Arty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538472208,"creation_date":1538472208,"answer_id":52605550,"question_id":52604631,"body_markdown":"I dont know anything about selenium but i know private and static.\r\n\r\nA **private** member is only accessible within the same class as it is declared. So you cant access your url from another class or packages.\r\n\r\nA **static** member is a member of a class that isn&#39;t associated with an instance of a class. Instead, the member belongs to the class itself. As a result, you can access the static member without first creating a class instance. So static variable are global variables they are created before class creation. \r\n\r\nHope you can figure out :)","title":"Why do we declare URL variable as private static String in selenium?","body":"<p>I dont know anything about selenium but i know private and static.</p>\n\n<p>A <strong>private</strong> member is only accessible within the same class as it is declared. So you cant access your url from another class or packages.</p>\n\n<p>A <strong>static</strong> member is a member of a class that isn't associated with an instance of a class. Instead, the member belongs to the class itself. As a result, you can access the static member without first creating a class instance. So static variable are global variables they are created before class creation. </p>\n\n<p>Hope you can figure out :)</p>\n"},{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669890122,"creation_date":1538472620,"answer_id":52605648,"question_id":52604631,"body_markdown":"`String` is [immutable][1], once an object is created you can&#39;t change its value. By declaring your URL as `private static` you declare, that you expect only a single URL `String` instance which will be shared between objects of your class (although you are not using `final` so you possibly want to change URL value). \r\n\r\nThis is not a requirement though and declaring constants as separate fields is usually done to improve code readability. Note, that compile-time `String` constants are [interned][2] by the the Java compiler during compilation.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Immutable_object\r\n  [2]: https://en.wikipedia.org/wiki/String_interning","title":"Why do we declare URL variable as private static String in selenium?","body":"<p><code>String</code> is <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable</a>, once an object is created you can't change its value. By declaring your URL as <code>private static</code> you declare, that you expect only a single URL <code>String</code> instance which will be shared between objects of your class (although you are not using <code>final</code> so you possibly want to change URL value).</p>\n<p>This is not a requirement though and declaring constants as separate fields is usually done to improve code readability. Note, that compile-time <code>String</code> constants are <a href=\"https://en.wikipedia.org/wiki/String_interning\" rel=\"nofollow noreferrer\">interned</a> by the the Java compiler during compilation.</p>\n"}],"owner":{"display_name":"user8130223"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1669890122,"creation_date":1538468787,"question_id":52604631,"body_markdown":"I know that for url we use String but why do we make it private static","title":"Why do we declare URL variable as private static String in selenium?","body":"<p>I know that for url we use String but why do we make it private static</p>\n"},{"tags":["java","segment"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1669887825,"post_id":74639762,"comment_id":131746791,"body_markdown":"We need `이미지분할` code to help you.","body":"We need <code>이미지분할</code> code to help you."},{"owner":{"display_name":"user20654610"},"score":0,"creation_date":1669889651,"post_id":74639762,"comment_id":131747439,"body_markdown":"Repeat? Do I have to write the same thing on top of it like I put in the basic image?","body":"Repeat? Do I have to write the same thing on top of it like I put in the basic image?"},{"owner":{"display_name":"user20654610"},"score":0,"creation_date":1669889901,"post_id":74639762,"comment_id":131747537,"body_markdown":"This time, I put it up properly","body":"This time, I put it up properly"}],"owner":{"display_name":"user20654610"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669890013,"creation_date":1669887578,"question_id":74639762,"body_markdown":"```\r\nimport java.awt.event.*;\r\nimport java.awt.image.*;\r\nimport java.awt.*;\r\nimport java.awt.color.*;\r\nimport java.io.*;\r\nimport javax.imageio.*;\r\nimport javax.swing.*;\r\n\r\n// 이미지유틸리티.java, 이미지분할.java\r\npublic class Image_Segmentation_Demo extends JComponent{\r\n    public static void main(String[] args) {\r\n        JFrame f = new JFrame();\r\n        String FName = &quot;Hok1.png&quot;;\r\n        이미지분할 Seg = new 이미지분할(FName);\r\n        BufferedImage Source  = Seg.getImage();\r\n//        BufferedImageOp Target = new BufferedImage(ImageIO.write(&quot;example.jpg&quot;));\r\n        BufferedImageOp Target = new ColorConvertOp(ColorSpace.getInstance(ColorSpace.CS_GRAY), null);\r\n        BufferedImage Ref = Target.filter(Source, null);\r\n        Seg.setSecondImage(Ref);\r\n        f.setLayout(new BorderLayout());\r\n        f.add(Seg, BorderLayout.CENTER);\r\n        f.setSize(f.getPreferredSize());\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI want to show an image other than gray when I click it down with my mouse\r\nI think we need to change this part to do that, but I don&#39;t know what to do\r\n```\r\nBufferedImageOp Target = new ColorConvertOp(ColorSpace.getInstance(ColorSpace.CS_GRAY), null);\r\n```\r\n이미지분할 Here&#39;s the extra code.\r\nI don&#39;t know how to edit it, so I&#39;m uploading it properly\r\nI don&#39;t know how to fill in the insufficient explanation.It&#39;s my first time, so it&#39;s really hard to write\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.geom.Line2D;\r\n    \r\n    import javax.swing.*;\r\n    \r\n    public class 이미지분할 extends JPanel {\r\n      private BufferedImage 이미지;\r\n      private BufferedImage 두번째이미지;\r\n      private int 분할x;\r\n      \r\n      public 이미지분할(String 경로) {\r\n        setImage(경로); init();\r\n      }\r\n      \r\n      public 이미지분할(BufferedImage 버퍼이미지) {\r\n        setImage(버퍼이미지); init();\r\n      }\r\n    \r\n      public void setImage(String 경로) {\r\n        Image 버퍼이미지 = 이미지유틸리티.로드봉쇄(경로);\r\n        이미지 = 이미지유틸리티.이미지버퍼생성(버퍼이미지);\r\n      }\r\n    \r\n      public void setImage(BufferedImage 버퍼이미지) { 이미지 = 버퍼이미지; }\r\n    \r\n      public void setSecondImage(BufferedImage 버퍼이미지) {\r\n        두번째이미지 = 버퍼이미지; repaint();\r\n      }\r\n      \r\n      public BufferedImage getImage() { return 이미지; }\r\n      public BufferedImage getSecondImage() { return 두번째이미지; }\r\n      \r\n      private void init() {\r\n        setBackground(Color.white);\r\n        addMouseListener(new MouseAdapter() {\r\n          public void mousePressed(MouseEvent me) {\r\n            분할x = me.getY(); repaint();\r\n          }\r\n        });\r\n        addMouseMotionListener(new MouseMotionAdapter() {\r\n          public void mouseDragged(MouseEvent me) {\r\n            분할x = me.getY(); repaint();\r\n          }\r\n        });\r\n      }\r\n      \r\n      public void paint(Graphics g) {\r\n        Graphics2D g2 = (Graphics2D)g;\r\n        int width = getSize().width;\r\n        int height = getSize().height;\r\n        \r\n        // 명확하게 윈도우 비우기\r\n        Rectangle clear = new Rectangle(0, 0, width, height);\r\n        g2.setPaint(getBackground());\r\n        g2.fill(clear);\r\n        // 첫 번째 버퍼 이미지 절단(적절한 경우)\r\n        if (분할x != 0 &amp;&amp; 두번째이미지 != null) {\r\n          Rectangle 첫번째클립 = new Rectangle(0, 분할x, width, height - 분할x);\r\n          g2.setClip(첫번째클립);\r\n        }\r\n        g2.drawImage(getImage(), 0, 0, null);\r\n        \r\n        if (분할x == 0 || 두번째이미지 == null) return;\r\n        \r\n        Rectangle 두번째클립 = new Rectangle(0, 0, width, 분할x);\r\n        g2.setClip(두번째클립);\r\n        g2.drawImage(두번째이미지, 0, 0, null);\r\n        \r\n        Line2D 분할선 = new Line2D.Float(0, 분할x, width, 분할x);\r\n        g2.setClip(null);\r\n        g2.setColor(Color.white);\r\n        g2.draw(분할선);\r\n      }\r\n    \r\n      public Dimension getPreferredSize() {\r\n        int width = getImage().getWidth();\r\n        int height = getImage().getHeight();\r\n        if (두번째이미지 != null) {\r\n          width = Math.max(width, 두번째이미지.getWidth());\r\n          height = Math.max(height, 두번째이미지.getHeight());\r\n        }\r\n        return new Dimension(width, height);\r\n      }\r\n    }\r\n    ```","title":"Image Segmentation Demo","body":"<pre><code>import java.awt.event.*;\nimport java.awt.image.*;\nimport java.awt.*;\nimport java.awt.color.*;\nimport java.io.*;\nimport javax.imageio.*;\nimport javax.swing.*;\n\n// 이미지유틸리티.java, 이미지분할.java\npublic class Image_Segmentation_Demo extends JComponent{\n    public static void main(String[] args) {\n        JFrame f = new JFrame();\n        String FName = &quot;Hok1.png&quot;;\n        이미지분할 Seg = new 이미지분할(FName);\n        BufferedImage Source  = Seg.getImage();\n//        BufferedImageOp Target = new BufferedImage(ImageIO.write(&quot;example.jpg&quot;));\n        BufferedImageOp Target = new ColorConvertOp(ColorSpace.getInstance(ColorSpace.CS_GRAY), null);\n        BufferedImage Ref = Target.filter(Source, null);\n        Seg.setSecondImage(Ref);\n        f.setLayout(new BorderLayout());\n        f.add(Seg, BorderLayout.CENTER);\n        f.setSize(f.getPreferredSize());\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n}\n</code></pre>\n<p>I want to show an image other than gray when I click it down with my mouse\nI think we need to change this part to do that, but I don't know what to do</p>\n<pre><code>BufferedImageOp Target = new ColorConvertOp(ColorSpace.getInstance(ColorSpace.CS_GRAY), null);\n</code></pre>\n<p>이미지분할 Here's the extra code.\nI don't know how to edit it, so I'm uploading it properly\nI don't know how to fill in the insufficient explanation.It's my first time, so it's really hard to write</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport java.awt.geom.Line2D;\n\nimport javax.swing.*;\n\npublic class 이미지분할 extends JPanel {\n  private BufferedImage 이미지;\n  private BufferedImage 두번째이미지;\n  private int 분할x;\n  \n  public 이미지분할(String 경로) {\n    setImage(경로); init();\n  }\n  \n  public 이미지분할(BufferedImage 버퍼이미지) {\n    setImage(버퍼이미지); init();\n  }\n\n  public void setImage(String 경로) {\n    Image 버퍼이미지 = 이미지유틸리티.로드봉쇄(경로);\n    이미지 = 이미지유틸리티.이미지버퍼생성(버퍼이미지);\n  }\n\n  public void setImage(BufferedImage 버퍼이미지) { 이미지 = 버퍼이미지; }\n\n  public void setSecondImage(BufferedImage 버퍼이미지) {\n    두번째이미지 = 버퍼이미지; repaint();\n  }\n  \n  public BufferedImage getImage() { return 이미지; }\n  public BufferedImage getSecondImage() { return 두번째이미지; }\n  \n  private void init() {\n    setBackground(Color.white);\n    addMouseListener(new MouseAdapter() {\n      public void mousePressed(MouseEvent me) {\n        분할x = me.getY(); repaint();\n      }\n    });\n    addMouseMotionListener(new MouseMotionAdapter() {\n      public void mouseDragged(MouseEvent me) {\n        분할x = me.getY(); repaint();\n      }\n    });\n  }\n  \n  public void paint(Graphics g) {\n    Graphics2D g2 = (Graphics2D)g;\n    int width = getSize().width;\n    int height = getSize().height;\n    \n    // 명확하게 윈도우 비우기\n    Rectangle clear = new Rectangle(0, 0, width, height);\n    g2.setPaint(getBackground());\n    g2.fill(clear);\n    // 첫 번째 버퍼 이미지 절단(적절한 경우)\n    if (분할x != 0 &amp;&amp; 두번째이미지 != null) {\n      Rectangle 첫번째클립 = new Rectangle(0, 분할x, width, height - 분할x);\n      g2.setClip(첫번째클립);\n    }\n    g2.drawImage(getImage(), 0, 0, null);\n    \n    if (분할x == 0 || 두번째이미지 == null) return;\n    \n    Rectangle 두번째클립 = new Rectangle(0, 0, width, 분할x);\n    g2.setClip(두번째클립);\n    g2.drawImage(두번째이미지, 0, 0, null);\n    \n    Line2D 분할선 = new Line2D.Float(0, 분할x, width, 분할x);\n    g2.setClip(null);\n    g2.setColor(Color.white);\n    g2.draw(분할선);\n  }\n\n  public Dimension getPreferredSize() {\n    int width = getImage().getWidth();\n    int height = getImage().getHeight();\n    if (두번째이미지 != null) {\n      width = Math.max(width, 두번째이미지.getWidth());\n      height = Math.max(height, 두번째이미지.getHeight());\n    }\n    return new Dimension(width, height);\n  }\n}\n```\n</code></pre>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":935627,"reputation":1480,"user_id":964592,"display_name":"Fredrik LS"},"score":1,"creation_date":1669890490,"post_id":74640289,"comment_id":131747722,"body_markdown":"By looking at the writeObject-implementation it&#39;s not atomic:   \n `s.defaultWriteObject();\n s.writeInt(buckets);\n s.writeInt(size);\n internalWriteEntries(s)` so if for instance after `s.writeInt(size);` is written, another thread updates the map....","body":"By looking at the writeObject-implementation it&#39;s not atomic:     <code>s.defaultWriteObject();  s.writeInt(buckets);  s.writeInt(size);  internalWriteEntries(s)</code> so if for instance after <code>s.writeInt(size);</code> is written, another thread updates the map...."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1669890536,"post_id":74640289,"comment_id":131747732,"body_markdown":"`HashMap` is **not** thread-safe. So anything could occur if multiple threads interact with it. You could get exceptions, or skip elements or whatever. It really depends on the implementation.","body":"<code>HashMap</code> is <b>not</b> thread-safe. So anything could occur if multiple threads interact with it. You could get exceptions, or skip elements or whatever. It really depends on the implementation."},{"owner":{"account_id":935627,"reputation":1480,"user_id":964592,"display_name":"Fredrik LS"},"score":0,"creation_date":1669890663,"post_id":74640289,"comment_id":131747777,"body_markdown":"It&#39;s not just related to HashMap. I know that HashMap isn&#39;t thread-safe. You could look at the implementation for `java.util.ConcurrentHashMap.writeObject` and ask the same question.","body":"It&#39;s not just related to HashMap. I know that HashMap isn&#39;t thread-safe. You could look at the implementation for <code>java.util.ConcurrentHashMap.writeObject</code> and ask the same question."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1669891611,"post_id":74640289,"comment_id":131748089,"body_markdown":"But the implementation of `writeObject` in the CHM is thread-safe. So you can do anything to that map and it won&#39;t break the `writeObject` method. But of course an element could be missed. If it was added after a bin has already been traversed.","body":"But the implementation of <code>writeObject</code> in the CHM is thread-safe. So you can do anything to that map and it won&#39;t break the <code>writeObject</code> method. But of course an element could be missed. If it was added after a bin has already been traversed."},{"owner":{"account_id":935627,"reputation":1480,"user_id":964592,"display_name":"Fredrik LS"},"score":0,"creation_date":1669891935,"post_id":74640289,"comment_id":131748196,"body_markdown":"What version of Java or where do you find/see/where does it state that the `writeObject` for CHM is thread-safe?","body":"What version of Java or where do you find/see/where does it state that the <code>writeObject</code> for CHM is thread-safe?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1669893275,"post_id":74640289,"comment_id":131748659,"body_markdown":"Fundamentally serialization is just &quot;reading from the object and writing it elsewhere&quot;. So if the object isn&#39;t thread-safe, so serializing while also writing to the object in some other way is also unsafe. If the object is thread-safe and the serialization code doesn&#39;t mess up, then it can be safe. Same as with any other read operation.","body":"Fundamentally serialization is just &quot;reading from the object and writing it elsewhere&quot;. So if the object isn&#39;t thread-safe, so serializing while also writing to the object in some other way is also unsafe. If the object is thread-safe and the serialization code doesn&#39;t mess up, then it can be safe. Same as with any other read operation."},{"owner":{"account_id":935627,"reputation":1480,"user_id":964592,"display_name":"Fredrik LS"},"score":0,"creation_date":1669894556,"post_id":74640289,"comment_id":131749118,"body_markdown":"@joachimSauer what is your assesment of e.g. CHM? Would you say it&#39;s safe to write to CHM during serialization?","body":"@joachimSauer what is your assesment of e.g. CHM? Would you say it&#39;s safe to write to CHM during serialization?"}],"owner":{"account_id":935627,"reputation":1480,"user_id":964592,"display_name":"Fredrik LS"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669889920,"creation_date":1669889920,"question_id":74640289,"body_markdown":"Is it safe to update an object during serialization. For instance, while serializing a very large java.util.HashMap, is there a risk that the serialized HashMap is corrupted if during serialization, the HashMap is updated by another thread? So one thread serializes the HashMap while another thread updates the map. By looking at the code for `java.util.HashMap.writeObject` it seems like it might happen. ","title":"Writing to a Java object during serialization","body":"<p>Is it safe to update an object during serialization. For instance, while serializing a very large java.util.HashMap, is there a risk that the serialized HashMap is corrupted if during serialization, the HashMap is updated by another thread? So one thread serializes the HashMap while another thread updates the map. By looking at the code for <code>java.util.HashMap.writeObject</code> it seems like it might happen.</p>\n"},{"tags":["java","concurrency","completable-future"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1669842996,"post_id":74634145,"comment_id":131738066,"body_markdown":"Please clarify _&quot;GetSiteMeterTariffValues returns a different type after the task is complete&quot;_","body":"Please clarify <i>&quot;GetSiteMeterTariffValues returns a different type after the task is complete&quot;</i>"},{"owner":{"account_id":9525212,"reputation":355,"user_id":7078609,"accept_rate":82,"display_name":"Kelvin Davis"},"score":0,"creation_date":1669844123,"post_id":74634145,"comment_id":131738398,"body_markdown":"I may actually just need to call the call method.","body":"I may actually just need to call the call method."}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669889919,"creation_date":1669889919,"answer_id":74640287,"question_id":74634145,"body_markdown":"`CompletableFuture.supplyAsync()` expects a `Supplier` which is the equivalent of `Callable` for `ExecutorService`.\r\n\r\nThe way you do it currently, you are just providing a `Supplier` that creates a `Callable`, but of course your `Callable` (`GetSiteMeterTariffValues`) is not called.\r\n\r\nYou just need to make `GetSiteMeterTariffValues` implement `Supplier` and use it directly in `CompletableFuture.supplyAsync()`:\r\n\r\n    CompletableFuture.supplyAsync(\r\n        new GetSiteMeterTariffValues(\r\n            site.getSite_id(),\r\n            methaneConversionVal,\r\n            nitrogenConversionVal,\r\n            bu_id,\r\n            region_id,\r\n            facility_id,\r\n            status,\r\n            resource_id,\r\n            metertype_id,\r\n            currentCalendarYear,\r\n            currentFiscalYear,\r\n            fiscalYearStartMonth,\r\n            dates,\r\n            meterMapper,\r\n            sqlSessionTemplate),\r\n        taskExecutor)\r\n\r\nNote that `Supplier` does not allow throwing checked exceptions, so you cannot just use a method reference to `Callable.call()`.","title":"Passing Class that runs task to Completable Future SupplyAsync","body":"<p><code>CompletableFuture.supplyAsync()</code> expects a <code>Supplier</code> which is the equivalent of <code>Callable</code> for <code>ExecutorService</code>.</p>\n<p>The way you do it currently, you are just providing a <code>Supplier</code> that creates a <code>Callable</code>, but of course your <code>Callable</code> (<code>GetSiteMeterTariffValues</code>) is not called.</p>\n<p>You just need to make <code>GetSiteMeterTariffValues</code> implement <code>Supplier</code> and use it directly in <code>CompletableFuture.supplyAsync()</code>:</p>\n<pre><code>CompletableFuture.supplyAsync(\n    new GetSiteMeterTariffValues(\n        site.getSite_id(),\n        methaneConversionVal,\n        nitrogenConversionVal,\n        bu_id,\n        region_id,\n        facility_id,\n        status,\n        resource_id,\n        metertype_id,\n        currentCalendarYear,\n        currentFiscalYear,\n        fiscalYearStartMonth,\n        dates,\n        meterMapper,\n        sqlSessionTemplate),\n    taskExecutor)\n</code></pre>\n<p>Note that <code>Supplier</code> does not allow throwing checked exceptions, so you cannot just use a method reference to <code>Callable.call()</code>.</p>\n"}],"owner":{"account_id":9525212,"reputation":355,"user_id":7078609,"accept_rate":82,"display_name":"Kelvin Davis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74640287,"answer_count":1,"score":0,"last_activity_date":1669889919,"creation_date":1669842295,"question_id":74634145,"body_markdown":"Trying to compare implementations of futures vs completed futures and check if the non blocking nature of completable futures is a better use case for my problem. Having an issue getting my completable impl to work correctly. \r\n\r\n\r\n```\r\n        Collection&lt;Future&lt;ArrayList&lt;MeterTariffValues&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n        List&lt;CompletableFuture&lt;GetSiteMeterTariffValues&gt;&gt; completableFutures = new ArrayList&lt;&gt;(); \r\n\r\n\r\n        for (Site site : sites) {\r\n            completableFutures.add(\r\n                CompletableFuture.supplyAsync(new Supplier&lt;GetSiteMeterTariffValues&gt;() {\r\n                    @Override\r\n                    public GetSiteMeterTariffValues get() {\r\n                        return  new GetSiteMeterTariffValues(\r\n                            site.getSite_id(),\r\n                            methaneConversionVal,\r\n                            nitrogenConversionVal,\r\n                            bu_id,\r\n                            region_id,\r\n                            facility_id,\r\n                            status,\r\n                            resource_id,\r\n                            metertype_id,\r\n                            currentCalendarYear,\r\n                            currentFiscalYear,\r\n                            fiscalYearStartMonth,\r\n                            dates,\r\n                            meterMapper,\r\n                            sqlSessionTemplate);\r\n                    }\r\n                }, taskExecutor)\r\n            );\r\n            \r\n            futures.add(\r\n                    taskExecutor.submit(\r\n                            new GetSiteMeterTariffValues(\r\n                                    site.getSite_id(),\r\n                                    methaneConversionVal,\r\n                                    nitrogenConversionVal,\r\n                                    bu_id,\r\n                                    region_id,\r\n                                    facility_id,\r\n                                    status,\r\n                                    resource_id,\r\n                                    metertype_id,\r\n                                    currentCalendarYear,\r\n                                    currentFiscalYear,\r\n                                    fiscalYearStartMonth,\r\n                                    dates,\r\n                                    meterMapper,\r\n                                    sqlSessionTemplate)));\r\n        }\r\n```\r\n\r\nThe issue with the Completable implementation, is that it wont recognize that GetSiteMeterTariffValues returns a different type after the task is complete. \r\n\r\nIt returns \r\n```\r\npublic ArrayList&lt;MeterTariffValues&gt; call() \r\n```\r\n\r\nBut task executor is fine with this\r\n\r\n```\r\n        for (Future&lt;ArrayList&lt;MeterTariffValues&gt;&gt; future : futures) {\r\n\r\n            long start = System.currentTimeMillis();\r\n            ArrayList&lt;MeterTariffValues&gt; siteMeterTariffMonthlyValues = future.get();\r\n            long end = System.currentTimeMillis();\r\n            long totalMS = end - start;\r\n            total += totalMS;\r\n            meterTariffValues.addAll(siteMeterTariffMonthlyValues);\r\n        }\r\n```\r\n\r\nSo im wondering how i can do similar the above with completablefutures.\r\n\r\nNote:GetSiteMeterTariffValues implements Callable&lt;ArrayList&lt;MeterTariffValues&gt;&gt;","title":"Passing Class that runs task to Completable Future SupplyAsync","body":"<p>Trying to compare implementations of futures vs completed futures and check if the non blocking nature of completable futures is a better use case for my problem. Having an issue getting my completable impl to work correctly.</p>\n<pre><code>        Collection&lt;Future&lt;ArrayList&lt;MeterTariffValues&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n        List&lt;CompletableFuture&lt;GetSiteMeterTariffValues&gt;&gt; completableFutures = new ArrayList&lt;&gt;(); \n\n\n        for (Site site : sites) {\n            completableFutures.add(\n                CompletableFuture.supplyAsync(new Supplier&lt;GetSiteMeterTariffValues&gt;() {\n                    @Override\n                    public GetSiteMeterTariffValues get() {\n                        return  new GetSiteMeterTariffValues(\n                            site.getSite_id(),\n                            methaneConversionVal,\n                            nitrogenConversionVal,\n                            bu_id,\n                            region_id,\n                            facility_id,\n                            status,\n                            resource_id,\n                            metertype_id,\n                            currentCalendarYear,\n                            currentFiscalYear,\n                            fiscalYearStartMonth,\n                            dates,\n                            meterMapper,\n                            sqlSessionTemplate);\n                    }\n                }, taskExecutor)\n            );\n            \n            futures.add(\n                    taskExecutor.submit(\n                            new GetSiteMeterTariffValues(\n                                    site.getSite_id(),\n                                    methaneConversionVal,\n                                    nitrogenConversionVal,\n                                    bu_id,\n                                    region_id,\n                                    facility_id,\n                                    status,\n                                    resource_id,\n                                    metertype_id,\n                                    currentCalendarYear,\n                                    currentFiscalYear,\n                                    fiscalYearStartMonth,\n                                    dates,\n                                    meterMapper,\n                                    sqlSessionTemplate)));\n        }\n</code></pre>\n<p>The issue with the Completable implementation, is that it wont recognize that GetSiteMeterTariffValues returns a different type after the task is complete.</p>\n<p>It returns</p>\n<pre><code>public ArrayList&lt;MeterTariffValues&gt; call() \n</code></pre>\n<p>But task executor is fine with this</p>\n<pre><code>        for (Future&lt;ArrayList&lt;MeterTariffValues&gt;&gt; future : futures) {\n\n            long start = System.currentTimeMillis();\n            ArrayList&lt;MeterTariffValues&gt; siteMeterTariffMonthlyValues = future.get();\n            long end = System.currentTimeMillis();\n            long totalMS = end - start;\n            total += totalMS;\n            meterTariffValues.addAll(siteMeterTariffMonthlyValues);\n        }\n</code></pre>\n<p>So im wondering how i can do similar the above with completablefutures.</p>\n<p>Note:GetSiteMeterTariffValues implements Callable&lt;ArrayList&gt;</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1669886378,"post_id":74639471,"comment_id":131746322,"body_markdown":"surround the line of code that throws that with a try catch for that type, in the catch block return null","body":"surround the line of code that throws that with a try catch for that type, in the catch block return null"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1669886644,"post_id":74639471,"comment_id":131746414,"body_markdown":"Surround the code with try-catch is the wrong solution. There something wrong with the mapping, the database is missing a foreign key, or the way you are deleting entities. Without the mapping it&#39;s hard to say, but I suspect you are mapping a many-to-one as lazy even if the association can be null.","body":"Surround the code with try-catch is the wrong solution. There something wrong with the mapping, the database is missing a foreign key, or the way you are deleting entities. Without the mapping it&#39;s hard to say, but I suspect you are mapping a many-to-one as lazy even if the association can be null."},{"owner":{"account_id":13466622,"reputation":147,"user_id":9716641,"display_name":"Steph"},"score":0,"creation_date":1669886812,"post_id":74639471,"comment_id":131746466,"body_markdown":"@DavideD&#39;Alto Yes - the database is missing a foreign key - but I need a way to handle this situation without my code failing","body":"@DavideD&#39;Alto Yes - the database is missing a foreign key - but I need a way to handle this situation without my code failing"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1669886997,"post_id":74639471,"comment_id":131746535,"body_markdown":"That&#39;s what foreign keys are for :) In the table User there is a reference to a row that no longer exist. If you don&#39;t want to see the error you need to make sure that when the client is deleted, the table with the reference to it is updated as well.","body":"That&#39;s what foreign keys are for :) In the table User there is a reference to a row that no longer exist. If you don&#39;t want to see the error you need to make sure that when the client is deleted, the table with the reference to it is updated as well."},{"owner":{"account_id":13466622,"reputation":147,"user_id":9716641,"display_name":"Steph"},"score":0,"creation_date":1669887738,"post_id":74639471,"comment_id":131746768,"body_markdown":"@DavideD&#39;Alto Hi Davide - I understand - but unfortunately I have no control over whether the table with the reference is updated as well. I am just creating this code to run on many different instances with tables I have not created. So if I am understanding correctly, that this cannot be handled by my code in any way?","body":"@DavideD&#39;Alto Hi Davide - I understand - but unfortunately I have no control over whether the table with the reference is updated as well. I am just creating this code to run on many different instances with tables I have not created. So if I am understanding correctly, that this cannot be handled by my code in any way?"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1669887857,"post_id":74639471,"comment_id":131746809,"body_markdown":"I&#39;ve answered your question with some options. But if you cannot touch the database, it&#39;s probably better if you don&#39;t map it as an association.","body":"I&#39;ve answered your question with some options. But if you cannot touch the database, it&#39;s probably better if you don&#39;t map it as an association."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1669888266,"post_id":74639471,"comment_id":131746977,"body_markdown":"I think you should mention in the question that there are no constraints in the database, or people will close it because of a lack of clarity","body":"I think you should mention in the question that there are no constraints in the database, or people will close it because of a lack of clarity"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669889671,"creation_date":1669887740,"answer_id":74639798,"question_id":74639471,"body_markdown":"It seems that your database is missing a foreign key constraint.\r\nThis means that the table mapping `User` has a reference to a row in the table for `Client` that no longer exist.\r\n\r\nThis can only happen if a client has been deleted without updating the user table. The solution would be to add a foreign key constraint between the tables.\r\n\r\nKeep in mind that if the data in your tables are not correct, when Hibernate loads the entity `User`, it will also believe there&#39;s a client. This means that `User#getClient` won&#39;t be null, and every place in the code where you have a check like `user.getClient() == null` is going to fail. A try-catch approach won&#39;t help you with this (unless you set the association to null in case of error, I guess).\r\n\r\nThe solutions I can think of:\r\n1. Add the foreign key constraint (imho, the best solution)\r\n2. Don&#39;t map the association, map `client_id` as an attribute and load the client using a second query or find (I would only do this if you cannot update the database)\r\n   ```java\r\n   class User {\r\n       @Column(name = &quot;client_id&quot;)\r\n       Long clientId;\r\n   }\r\n\r\n   User user = ...\r\n   Client client = session.find(Client.class, user.getClientId());\r\n   ```\r\n3. You can load the client via `session.find(Client.class, user.getClient().getId())` and set the association with the result:\r\n   ```java\r\n   User user = //...\r\n   Client client = session.find(Client.class, user.getClient().getId());\r\n   user.setClient(client);\r\n   ```\r\n4. Don&#39;t map the association at all in `User`, and run a native SQL query to load the client:\r\n   ```\r\n   User user = ...\r\n   String sql = &quot;select * from Client c join User u on c.id = u.client_id where u.id = :uid&quot;;\r\n   Client client = session.createNativeQuery(sql, Client.class)\r\n       .setParameter(&quot;uid&quot;, user.getId())\r\n       .getSingleResultOrNull();\r\n   ```\r\n\r\nYou can pick what works best for you, but keep in mind that mapping an association without the foreign key constraint, will cause all sort of consistency issues.\r\n\r\nI&#39;ve decided to put option 3 only because, sometimes, people have some impossible situations at work, but I wouldn&#39;t recommend it.\r\n\r\n\r\n","title":"Return null instead of org.hibernate.ObjectNotFoundException: Java","body":"<p>It seems that your database is missing a foreign key constraint.\nThis means that the table mapping <code>User</code> has a reference to a row in the table for <code>Client</code> that no longer exist.</p>\n<p>This can only happen if a client has been deleted without updating the user table. The solution would be to add a foreign key constraint between the tables.</p>\n<p>Keep in mind that if the data in your tables are not correct, when Hibernate loads the entity <code>User</code>, it will also believe there's a client. This means that <code>User#getClient</code> won't be null, and every place in the code where you have a check like <code>user.getClient() == null</code> is going to fail. A try-catch approach won't help you with this (unless you set the association to null in case of error, I guess).</p>\n<p>The solutions I can think of:</p>\n<ol>\n<li>Add the foreign key constraint (imho, the best solution)</li>\n<li>Don't map the association, map <code>client_id</code> as an attribute and load the client using a second query or find (I would only do this if you cannot update the database)\n<pre class=\"lang-java prettyprint-override\"><code>class User {\n    @Column(name = &quot;client_id&quot;)\n    Long clientId;\n}\n\nUser user = ...\nClient client = session.find(Client.class, user.getClientId());\n</code></pre>\n</li>\n<li>You can load the client via <code>session.find(Client.class, user.getClient().getId())</code> and set the association with the result:\n<pre class=\"lang-java prettyprint-override\"><code>User user = //...\nClient client = session.find(Client.class, user.getClient().getId());\nuser.setClient(client);\n</code></pre>\n</li>\n<li>Don't map the association at all in <code>User</code>, and run a native SQL query to load the client:\n<pre><code>User user = ...\nString sql = &quot;select * from Client c join User u on c.id = u.client_id where u.id = :uid&quot;;\nClient client = session.createNativeQuery(sql, Client.class)\n    .setParameter(&quot;uid&quot;, user.getId())\n    .getSingleResultOrNull();\n</code></pre>\n</li>\n</ol>\n<p>You can pick what works best for you, but keep in mind that mapping an association without the foreign key constraint, will cause all sort of consistency issues.</p>\n<p>I've decided to put option 3 only because, sometimes, people have some impossible situations at work, but I wouldn't recommend it.</p>\n"}],"owner":{"account_id":13466622,"reputation":147,"user_id":9716641,"display_name":"Steph"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74639798,"answer_count":1,"score":-1,"last_activity_date":1669889671,"creation_date":1669886232,"question_id":74639471,"body_markdown":"I have a table called ```ad_session``` which logs user sessions. I am using Java to get a list of all successful sessions from that table. I then loop through that list to get the user for each session (which is a foreign key to the ```ad_user``` table). I then get the client that belongs to that user, and I add the client to a list. However, one of the users no longer exists, so my code stops running and it gives throws the following exception:\r\n```\r\norg.hibernate.ObjectNotFoundException: No row with the given identifier exists: [ADUser#76A5C22E6D2446A399AE9AD7C1DED0C7]\r\n```\r\n\r\nThis is my original code:\r\n```\r\n\r\nList&lt;Session&gt; sessions = getAllSuccessfulSessionsInTable();\r\nList&lt;Client&gt; clientsForThatDay = new ArrayList&lt;&gt;();\r\n\r\ntry {\r\n   for (Session session : sessions) {\r\n     //code fails when trying to get the non-existent user:\r\n     User user = session.getCreatedBy();\r\n     Client userClient = user.getClient();\r\n     clientsForThatDay.add(userClient);\r\n   }\r\n} catch (Exception e) {     \r\n     log.error(&quot;Error getting client from user: &quot;, e);\r\n}\r\n```\r\n\r\nI assumed that when getting a non-existent record, it would return null, so this is what I tried:\r\n```\r\nList&lt;Session&gt; sessions = getAllSuccessfulSessionsInTable();\r\nList&lt;Client&gt; clientsForThatDay = new ArrayList&lt;&gt;();\r\n\r\n//Create new user object to stand in place of the non-existent user\r\nUser deletedUser = new User();\r\ndeletedUser.setName(&quot;Deleted User&quot;);\r\n\r\n//Create new client object to stand in place of the non-existent client\r\nClient deletedUserClient = new Client();\r\ndeletedUserClient.setName(&quot;Unknown Client&quot;);\r\n\r\ntry {\r\n  for (Session session : sessions) {\r\n    //check is User is null, if it is, use the deletedUser object, otherwise, use the existing user\r\n    User user = session.getCreatedBy() == null ? deletedUser : session.getCreatedBy();\r\n    \r\n    Client userClient = user.getName().equals(&quot;Deleted User&quot;) ? deletedUserClient : user.getClient();\r\n    clientsForThatDay.add(userClient);\r\n   }\r\n} catch (Exception e) {\r\n   log.error(&quot;Error getting client from user: &quot;, e);\r\n}\r\n```\r\n\r\nHowever, it is not returning null, it&#39;s just throwing the exception and then stopping. \r\n**How can I get it to return null here so I can deal with the missing record without my code stopping?** \r\nThanks in advance for any suggestions.","title":"Return null instead of org.hibernate.ObjectNotFoundException: Java","body":"<p>I have a table called <code>ad_session</code> which logs user sessions. I am using Java to get a list of all successful sessions from that table. I then loop through that list to get the user for each session (which is a foreign key to the <code>ad_user</code> table). I then get the client that belongs to that user, and I add the client to a list. However, one of the users no longer exists, so my code stops running and it gives throws the following exception:</p>\n<pre><code>org.hibernate.ObjectNotFoundException: No row with the given identifier exists: [ADUser#76A5C22E6D2446A399AE9AD7C1DED0C7]\n</code></pre>\n<p>This is my original code:</p>\n<pre><code>\nList&lt;Session&gt; sessions = getAllSuccessfulSessionsInTable();\nList&lt;Client&gt; clientsForThatDay = new ArrayList&lt;&gt;();\n\ntry {\n   for (Session session : sessions) {\n     //code fails when trying to get the non-existent user:\n     User user = session.getCreatedBy();\n     Client userClient = user.getClient();\n     clientsForThatDay.add(userClient);\n   }\n} catch (Exception e) {     \n     log.error(&quot;Error getting client from user: &quot;, e);\n}\n</code></pre>\n<p>I assumed that when getting a non-existent record, it would return null, so this is what I tried:</p>\n<pre><code>List&lt;Session&gt; sessions = getAllSuccessfulSessionsInTable();\nList&lt;Client&gt; clientsForThatDay = new ArrayList&lt;&gt;();\n\n//Create new user object to stand in place of the non-existent user\nUser deletedUser = new User();\ndeletedUser.setName(&quot;Deleted User&quot;);\n\n//Create new client object to stand in place of the non-existent client\nClient deletedUserClient = new Client();\ndeletedUserClient.setName(&quot;Unknown Client&quot;);\n\ntry {\n  for (Session session : sessions) {\n    //check is User is null, if it is, use the deletedUser object, otherwise, use the existing user\n    User user = session.getCreatedBy() == null ? deletedUser : session.getCreatedBy();\n    \n    Client userClient = user.getName().equals(&quot;Deleted User&quot;) ? deletedUserClient : user.getClient();\n    clientsForThatDay.add(userClient);\n   }\n} catch (Exception e) {\n   log.error(&quot;Error getting client from user: &quot;, e);\n}\n</code></pre>\n<p>However, it is not returning null, it's just throwing the exception and then stopping.\n<strong>How can I get it to return null here so I can deal with the missing record without my code stopping?</strong>\nThanks in advance for any suggestions.</p>\n"},{"tags":["java","spring","spring-boot","pdfbox","java-io"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1669896124,"post_id":74640146,"comment_id":131749594,"body_markdown":"What PDFBox version are you using?","body":"What PDFBox version are you using?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1669898538,"post_id":74640146,"comment_id":131750373,"body_markdown":"Also share the PDF","body":"Also share the PDF"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1669935385,"post_id":74640146,"comment_id":131762491,"body_markdown":"Indeed, as the issue occurs only for some pdfs, we need representative examples to analyze.","body":"Indeed, as the issue occurs only for some pdfs, we need representative examples to analyze."},{"owner":{"account_id":27109375,"reputation":1,"user_id":20654756,"display_name":"Akhil Kumar"},"score":0,"creation_date":1670019700,"post_id":74640146,"comment_id":131783504,"body_markdown":"@TilmanHausherr I am using apache pdfbox version 2.0.8. And this is happening not for any particular pdf(s). Which pdf(s) is not  returning the number of pages in first go that same pdf is returning the number of pages in second go.\nSo I don&#39;t think this is related to any particular pdf(s).","body":"@TilmanHausherr I am using apache pdfbox version 2.0.8. And this is happening not for any particular pdf(s). Which pdf(s) is not  returning the number of pages in first go that same pdf is returning the number of pages in second go. So I don&#39;t think this is related to any particular pdf(s)."},{"owner":{"account_id":27109375,"reputation":1,"user_id":20654756,"display_name":"Akhil Kumar"},"score":0,"creation_date":1670020511,"post_id":74640146,"comment_id":131783659,"body_markdown":"@TilmanHausherr \nSuch as we have total 10000 pdfs for which we need to get the number of pages so I load PDDocument object and get the number of pages one by one. Once the cycle will complete then we get the number of pages for all the pdf(s) except 10 to 20 and while i retry with the same code for those 10 to 20 pdf(s) then it will get the number of pages for remaining pdf(s).","body":"@TilmanHausherr  Such as we have total 10000 pdfs for which we need to get the number of pages so I load PDDocument object and get the number of pages one by one. Once the cycle will complete then we get the number of pages for all the pdf(s) except 10 to 20 and while i retry with the same code for those 10 to 20 pdf(s) then it will get the number of pages for remaining pdf(s)."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1670062775,"post_id":74640146,"comment_id":131788735,"body_markdown":"Why are you using 2.0.8 when the current version is 2.0.27? Do you get the files directly from disk or as a stream from some service?","body":"Why are you using 2.0.8 when the current version is 2.0.27? Do you get the files directly from disk or as a stream from some service?"},{"owner":{"account_id":27109375,"reputation":1,"user_id":20654756,"display_name":"Akhil Kumar"},"score":0,"creation_date":1670309343,"post_id":74640146,"comment_id":131840371,"body_markdown":"@TilmanHausherr I am getting the files from disk not using any stream.\n\nWhile this application was developed, that time 2.0.8 was the latest one.\n\nTo update the version may resolve the issue???","body":"@TilmanHausherr I am getting the files from disk not using any stream.  While this application was developed, that time 2.0.8 was the latest one.  To update the version may resolve the issue???"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1670329838,"post_id":74640146,"comment_id":131846958,"body_markdown":"Who knows. But if you&#39;re using a versioned library, make sure to update it regularly. Unless you work at equifax. https://en.wikipedia.org/wiki/2017_Equifax_data_breach","body":"Who knows. But if you&#39;re using a versioned library, make sure to update it regularly. Unless you work at equifax. <a href=\"https://en.wikipedia.org/wiki/2017_Equifax_data_breach\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/2017_Equifax_data_breach</a>"}],"owner":{"account_id":27109375,"reputation":1,"user_id":20654756,"display_name":"Akhil Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669889143,"creation_date":1669889143,"question_id":74640146,"body_markdown":"My code load multiple pdfs from a folder location and calculate the number of pages. Below code is returning correct page number for many pdfs but for few pdfs it is returning 0. While I am retrying to get the number of pages for those pdfs then the same code is able to calculate the number of pages for those pdfs.\r\n\r\nPlease find enclosed code which is use for calculating the number of pages:\r\n`\r\n```\r\npublic static int getPageCount(Path file) throws IOException {\r\n\t\tPDDocument document = PDDocument.load(file.toFile());\r\n\t\tint pageCount = 0;\r\n\t\ttry {\r\n\t\t\tpageCount = document.getNumberOfPages();\r\n\t\t} finally {\r\n\t\t\tdocument.close();\r\n\t\t}\r\n\t\treturn pageCount;\r\n\t}\r\n```\r\n`\r\n\r\nI want to know the reason why it is not calculating the number of pages for every pdfs.","title":"Apache Pdf Box returning number of pages 0 while processing multiple pdfs","body":"<p>My code load multiple pdfs from a folder location and calculate the number of pages. Below code is returning correct page number for many pdfs but for few pdfs it is returning 0. While I am retrying to get the number of pages for those pdfs then the same code is able to calculate the number of pages for those pdfs.</p>\n<p>Please find enclosed code which is use for calculating the number of pages:\n`</p>\n<pre><code>public static int getPageCount(Path file) throws IOException {\n        PDDocument document = PDDocument.load(file.toFile());\n        int pageCount = 0;\n        try {\n            pageCount = document.getNumberOfPages();\n        } finally {\n            document.close();\n        }\n        return pageCount;\n    }\n</code></pre>\n<p>`</p>\n<p>I want to know the reason why it is not calculating the number of pages for every pdfs.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","nativequery"],"answers":[{"tags":[],"owner":{"account_id":1476884,"reputation":536,"user_id":5474918,"display_name":"martinspielmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1598339834,"creation_date":1598308869,"answer_id":63569607,"question_id":63569550,"body_markdown":"You used organizationId twice instead of name. Like this instead:\r\n\r\n    @Query(value=&quot;SELECT * FROM ORGANIZATION WHERE id = :organizationId AND NAME LIKE %:name% LIMIT 1 &quot;, nativeQuery = true)\r\n\r\n ","title":"How to use @Query annotation","body":"<p>You used organizationId twice instead of name. Like this instead:</p>\n<pre><code>@Query(value=&quot;SELECT * FROM ORGANIZATION WHERE id = :organizationId AND NAME LIKE %:name% LIMIT 1 &quot;, nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":16017137,"reputation":313,"user_id":12892702,"display_name":"kingified"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63569607,"answer_count":1,"score":0,"last_activity_date":1669889015,"creation_date":1598308446,"question_id":63569550,"body_markdown":"I am trying to use the @Query to create a custom method in my jpa repository but I am getting the following error at runtime, please help me check it out. Thanks in advance\r\n\r\nbelow is the code\r\n\r\n\r\n```\r\npublic interface OrganizationRepository extends JpaRepository&lt;Organization, Long&gt; {\r\n        \r\n    List&lt;Organization&gt; findByDeleted(Boolean isDeleted);\r\n    \r\n    List&lt;Organization&gt; findAllByDeletedOrderById(Boolean isDeleted);\r\n\r\n    @Query(value=&quot;SELECT * FROM ORGANIZATION WHERE id = :organizationId AND NAME LIKE %:organizationId% LIMIT 1 &quot;, nativeQuery = true)\r\n    Organization findFirstNameByNameLike(@Param(&quot;organizationId&quot;) Long organizationId, @Param(&quot;name&quot;) String name);\r\n    \r\n}\r\n\r\n```\r\n\r\n\r\nbelow is the runtime error\r\n\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Using named parameters for method public abstract com.oasis.firsbacklogbackend.entity.Organization com.oasis.firsbacklogbackend.repository.OrganizationRepository.findFirstNameByNameLike(java.lang.Long,java.lang.String) but parameter &#39;Optional[name]&#39; not found in annotated query &#39;SELECT * FROM ORGANIZATION WHERE id = :organizationId AND NAME LIKE %:organizationId% LIMIT 1 &#39;!\r\n\r\n```\r\n\r\n\r\nI would appreciate any help","title":"How to use @Query annotation","body":"<p>I am trying to use the @Query to create a custom method in my jpa repository but I am getting the following error at runtime, please help me check it out. Thanks in advance</p>\n<p>below is the code</p>\n<pre><code>public interface OrganizationRepository extends JpaRepository&lt;Organization, Long&gt; {\n        \n    List&lt;Organization&gt; findByDeleted(Boolean isDeleted);\n    \n    List&lt;Organization&gt; findAllByDeletedOrderById(Boolean isDeleted);\n\n    @Query(value=&quot;SELECT * FROM ORGANIZATION WHERE id = :organizationId AND NAME LIKE %:organizationId% LIMIT 1 &quot;, nativeQuery = true)\n    Organization findFirstNameByNameLike(@Param(&quot;organizationId&quot;) Long organizationId, @Param(&quot;name&quot;) String name);\n    \n}\n\n</code></pre>\n<p>below is the runtime error</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Using named parameters for method public abstract com.oasis.firsbacklogbackend.entity.Organization com.oasis.firsbacklogbackend.repository.OrganizationRepository.findFirstNameByNameLike(java.lang.Long,java.lang.String) but parameter 'Optional[name]' not found in annotated query 'SELECT * FROM ORGANIZATION WHERE id = :organizationId AND NAME LIKE %:organizationId% LIMIT 1 '!\n\n</code></pre>\n<p>I would appreciate any help</p>\n"},{"tags":["java","spring","service","configuration"],"answers":[{"tags":[],"owner":{"account_id":27109524,"reputation":1,"user_id":20654882,"display_name":"rootman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669888955,"creation_date":1669888955,"answer_id":74640097,"question_id":66831086,"body_markdown":"I ran into the same issue yesterday but it worked for me this morning. consider moving the two exporters to the same configuration class","title":"Exporting two services in Spring","body":"<p>I ran into the same issue yesterday but it worked for me this morning. consider moving the two exporters to the same configuration class</p>\n"}],"owner":{"account_id":20523958,"reputation":13,"user_id":15062869,"display_name":"hackermanwow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669888955,"creation_date":1616846274,"question_id":66831086,"body_markdown":"I have a problem in Spring such that I get the next error when I try to export two services from server to client:\r\n```\r\nCaused by: org.springframework.remoting.RemoteLookupFailureException: Could not find RMI service [rmi://localhost:1099/ClientsService] in RMI registry; nested exception is java.rmi.NotBoundException: ClientsService\r\n\r\n```\r\nThis is my Configuration in the server side:\r\n```\r\n@Configuration\r\npublic class ClientsServerConfig {\r\n    @Bean\r\n    RmiServiceExporter rmiServiceExporter() {\r\n        RmiServiceExporter rmiServiceExporter = new RmiServiceExporter();\r\n        rmiServiceExporter.setServiceInterface(ClientService.class);\r\n        rmiServiceExporter.setService(clientService());\r\n        rmiServiceExporter.setServiceName(&quot;ClientsService&quot;);\r\n        return rmiServiceExporter;\r\n    }\r\n    @Bean\r\n    ClientService clientService() {\r\n        return new ClientsServiceImpl(clientRepository());\r\n    }\r\n    @Bean\r\n    RepositoryInterface&lt;Long, Client&gt; clientRepository() {\r\n        return new ClientDbRepository();\r\n    }\r\n}\r\n``` \r\nand\r\n```\r\n@Configuration\r\npublic class GunProviderServerConfig{\r\n    @Bean\r\n    RmiServiceExporter rmiServiceExporter() {\r\n        RmiServiceExporter rmiServiceExporter = new RmiServiceExporter();\r\n        rmiServiceExporter.setServiceInterface(GunProviderService.class);\r\n        rmiServiceExporter.setService(gunProviderService());\r\n        rmiServiceExporter.setServiceName(&quot;GunProviderService&quot;);\r\n        return rmiServiceExporter;\r\n    }\r\n    @Bean\r\n    GunProviderService gunProviderService() {\r\n        return new GunProviderServiceImpl(gunProviderRepository());\r\n    }\r\n    @Bean\r\n    RepositoryInterface&lt;Long, GunProvider&gt; gunProviderRepository() {\r\n        return new GunProviderDbRepository();\r\n    }\r\n}\r\n```\r\nand this is the configuration in the client side:\r\n```\r\n@Configuration\r\npublic class ClientConfig {\r\n\r\n    @Bean\r\n    RmiProxyFactoryBean rmiProxyFactoryBean() {\r\n        RmiProxyFactoryBean rmiProxyFactoryBean = new RmiProxyFactoryBean();\r\n        rmiProxyFactoryBean.setServiceUrl(&quot;rmi://localhost:1099/ClientsService&quot;);\r\n        rmiProxyFactoryBean.setServiceInterface(ClientService.class);\r\n        return rmiProxyFactoryBean;\r\n    }\r\n    @Bean\r\n    RmiProxyFactoryBean rmiProxyFactoryBean2() {\r\n        RmiProxyFactoryBean rmiProxyFactoryBean = new RmiProxyFactoryBean();\r\n        rmiProxyFactoryBean.setServiceUrl(&quot;rmi://localhost:1099/GunProviderService&quot;);\r\n        rmiProxyFactoryBean.setServiceInterface(GunProviderService.class);\r\n        return rmiProxyFactoryBean;\r\n    }\r\n```\r\nAnd the error is caused I think because the application does not know what service to use when two are exported. If I comment &quot;GunProviderServerConfig&quot; and &quot;rmiProxyFactoryBean2&quot; such that I have only the ClientService, the app will work.\r\n","title":"Exporting two services in Spring","body":"<p>I have a problem in Spring such that I get the next error when I try to export two services from server to client:</p>\n<pre><code>Caused by: org.springframework.remoting.RemoteLookupFailureException: Could not find RMI service [rmi://localhost:1099/ClientsService] in RMI registry; nested exception is java.rmi.NotBoundException: ClientsService\n\n</code></pre>\n<p>This is my Configuration in the server side:</p>\n<pre><code>@Configuration\npublic class ClientsServerConfig {\n    @Bean\n    RmiServiceExporter rmiServiceExporter() {\n        RmiServiceExporter rmiServiceExporter = new RmiServiceExporter();\n        rmiServiceExporter.setServiceInterface(ClientService.class);\n        rmiServiceExporter.setService(clientService());\n        rmiServiceExporter.setServiceName(&quot;ClientsService&quot;);\n        return rmiServiceExporter;\n    }\n    @Bean\n    ClientService clientService() {\n        return new ClientsServiceImpl(clientRepository());\n    }\n    @Bean\n    RepositoryInterface&lt;Long, Client&gt; clientRepository() {\n        return new ClientDbRepository();\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Configuration\npublic class GunProviderServerConfig{\n    @Bean\n    RmiServiceExporter rmiServiceExporter() {\n        RmiServiceExporter rmiServiceExporter = new RmiServiceExporter();\n        rmiServiceExporter.setServiceInterface(GunProviderService.class);\n        rmiServiceExporter.setService(gunProviderService());\n        rmiServiceExporter.setServiceName(&quot;GunProviderService&quot;);\n        return rmiServiceExporter;\n    }\n    @Bean\n    GunProviderService gunProviderService() {\n        return new GunProviderServiceImpl(gunProviderRepository());\n    }\n    @Bean\n    RepositoryInterface&lt;Long, GunProvider&gt; gunProviderRepository() {\n        return new GunProviderDbRepository();\n    }\n}\n</code></pre>\n<p>and this is the configuration in the client side:</p>\n<pre><code>@Configuration\npublic class ClientConfig {\n\n    @Bean\n    RmiProxyFactoryBean rmiProxyFactoryBean() {\n        RmiProxyFactoryBean rmiProxyFactoryBean = new RmiProxyFactoryBean();\n        rmiProxyFactoryBean.setServiceUrl(&quot;rmi://localhost:1099/ClientsService&quot;);\n        rmiProxyFactoryBean.setServiceInterface(ClientService.class);\n        return rmiProxyFactoryBean;\n    }\n    @Bean\n    RmiProxyFactoryBean rmiProxyFactoryBean2() {\n        RmiProxyFactoryBean rmiProxyFactoryBean = new RmiProxyFactoryBean();\n        rmiProxyFactoryBean.setServiceUrl(&quot;rmi://localhost:1099/GunProviderService&quot;);\n        rmiProxyFactoryBean.setServiceInterface(GunProviderService.class);\n        return rmiProxyFactoryBean;\n    }\n</code></pre>\n<p>And the error is caused I think because the application does not know what service to use when two are exported. If I comment &quot;GunProviderServerConfig&quot; and &quot;rmiProxyFactoryBean2&quot; such that I have only the ClientService, the app will work.</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webclient","timeoutexception"],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669888212,"creation_date":1669888212,"question_id":74639897,"body_markdown":"I have put few attempts for retry for web requests, but I want to control overall timeout as well, like the any request which comes from the client to the webclient should not take more then 60 seconds which included retry as well.\r\n\r\nNow, I see the options to control per http read level as belowv: \r\n\r\n            HttpClient httpClient = HttpClient.create()\r\n                    .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 12000)\r\n                    .responseTimeout(Duration.ofMillis(60000));\r\n\r\n                return WebClient.builder()\r\n                        .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                        .defaultHeaders( h -&gt; {\r\n                            h.setContentType(MediaType.APPLICATION_JSON);\r\n                            h.setAccept(List.of(MediaType.APPLICATION_JSON));\r\n                        })\r\n                        .build();\r\n\r\nNow, this doesnot include the retry time which might happen in case of any error. \r\nSo how to control the enforce overall time in such case..","title":"how to timeout the request made through webClient in 60 seconds including retry","body":"<p>I have put few attempts for retry for web requests, but I want to control overall timeout as well, like the any request which comes from the client to the webclient should not take more then 60 seconds which included retry as well.</p>\n<p>Now, I see the options to control per http read level as belowv:</p>\n<pre><code>        HttpClient httpClient = HttpClient.create()\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 12000)\n                .responseTimeout(Duration.ofMillis(60000));\n\n            return WebClient.builder()\n                    .clientConnector(new ReactorClientHttpConnector(httpClient))\n                    .defaultHeaders( h -&gt; {\n                        h.setContentType(MediaType.APPLICATION_JSON);\n                        h.setAccept(List.of(MediaType.APPLICATION_JSON));\n                    })\n                    .build();\n</code></pre>\n<p>Now, this doesnot include the retry time which might happen in case of any error.\nSo how to control the enforce overall time in such case..</p>\n"},{"tags":["java","spring-boot","testing","junit","mocking"],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669888140,"creation_date":1669886519,"answer_id":74639537,"question_id":74639185,"body_markdown":"Your test is calling an endpoint so you need at least the controller and web layer to be there. You cannot do this easily with only a unit test.\r\n\r\nRemoving `@SpringBootTest` does not just &#39;make the test load faster&#39;. It also omits firing up the application context and web layer which you need for your test.\r\n\r\nThe test application context is cached by Spring, allowing multiple test methods to run faster than each one individually. The cache is controlled via the [DirtiesContext][1]. Currently it is set to BEFORE_EACH_TEST_METHOD, maybe you could try BEFORE_CLASS so it cleans up the cache once before the test class instead of before each test method.\r\n\r\nAlso you can use `@WebMvcTest` instead of `@SpringBootTest`. This intializes only the spring web layer instead of the complete application context. And you can narrow that down to a specific controller by providing its class.\r\n\r\nSo you can optimize your test a bit like this:\r\n\r\n    @WebMvcTest(Controller.class)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS)\r\n    public class TestController {\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n        private Gson gson = new Gson();\r\n\r\n\r\nSee [this tutorial][2] to gain understanding of the different Spring options to test the web layer\r\n\r\n  [1]: https://www.baeldung.com/spring-dirtiescontext\r\n  [2]: https://spring.io/guides/gs/testing-web/\r\n\r\nEDIT: As a simple unit test:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class TestController {\r\n\r\n        @InjectMocks\r\n        private Controller controller;\r\n\r\n        @Test\r\n        public void addPer() {\r\n            PostPer postPerDto = PostPer.builder()\r\n                .nombre(&quot;nombre&quot;)\r\n                .detalles(&quot;detalles&quot;)\r\n                .precio(50.0f)\r\n                .build();\r\n\r\n            PostPerResponse response = controller.postPer(postPerDto);\r\n\r\n            assertEquals(200, response.getStatus());\r\n        }\r\n\r\n    }","title":"NullPointerException MockMvc with ExtendWith (test Junit Springboot)","body":"<p>Your test is calling an endpoint so you need at least the controller and web layer to be there. You cannot do this easily with only a unit test.</p>\n<p>Removing <code>@SpringBootTest</code> does not just 'make the test load faster'. It also omits firing up the application context and web layer which you need for your test.</p>\n<p>The test application context is cached by Spring, allowing multiple test methods to run faster than each one individually. The cache is controlled via the <a href=\"https://www.baeldung.com/spring-dirtiescontext\" rel=\"nofollow noreferrer\">DirtiesContext</a>. Currently it is set to BEFORE_EACH_TEST_METHOD, maybe you could try BEFORE_CLASS so it cleans up the cache once before the test class instead of before each test method.</p>\n<p>Also you can use <code>@WebMvcTest</code> instead of <code>@SpringBootTest</code>. This intializes only the spring web layer instead of the complete application context. And you can narrow that down to a specific controller by providing its class.</p>\n<p>So you can optimize your test a bit like this:</p>\n<pre><code>@WebMvcTest(Controller.class)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS)\npublic class TestController {\n    @Autowired\n    private MockMvc mockMvc;\n    private Gson gson = new Gson();\n</code></pre>\n<p>See <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">this tutorial</a> to gain understanding of the different Spring options to test the web layer</p>\n<p>EDIT: As a simple unit test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class TestController {\n\n    @InjectMocks\n    private Controller controller;\n\n    @Test\n    public void addPer() {\n        PostPer postPerDto = PostPer.builder()\n            .nombre(&quot;nombre&quot;)\n            .detalles(&quot;detalles&quot;)\n            .precio(50.0f)\n            .build();\n\n        PostPerResponse response = controller.postPer(postPerDto);\n\n        assertEquals(200, response.getStatus());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13518788,"reputation":13,"user_id":11326354,"display_name":"SeNTiHaDeS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74639537,"answer_count":1,"score":1,"last_activity_date":1669888140,"creation_date":1669884835,"question_id":74639185,"body_markdown":"I have a problem doing tests Mocking with Junit. It turns out that if I put the @SpringBootTest annotation it works perfectly, on the other hand if I remove it and leave it only with @ExtendWith(MockitoExtension.class) so that the tests load faster, it gives me the following error and it doesn&#39;t work. I don&#39;t know if I need to put another annotation, or what I should do.\r\n\r\n\r\n`java.lang.NullPointerException: Cannot invoke        &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mockMvc&quot; is null`\r\n\r\n`\r\n```\r\nimport com.google.gson.Gson;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\n\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\n\r\nimport org.springframework.test.annotation.DirtiesContext;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\n\r\nimport javax.ws.rs.core.MediaType;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n\r\n//@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith(MockitoExtension.class)\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_EACH_TEST_METHOD)\r\npublic class TestController {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    Gson gson = new Gson();\r\n\r\n    @Test\r\n    public void addPer() throws Exception {\r\n        PostPer postPerDto = PostPer.builder()\r\n                .nombre(&quot;nombre&quot;)\r\n                .detalles(&quot;detalles&quot;)\r\n                .precio(50.0f)\r\n                .build();\r\n        mockMvc.perform(post(&quot;/per/addPer&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(gson.toJson(postPerDto)))\r\n                .andDo(print())\r\n                .andExpect(status().isCreated());\r\n    }\r\n\r\n }\r\n```\r\n`\r\n\r\n\r\nI have tried different solutions such as using RunWith that I have seen around here, and nothing. I did that too https://stackoverflow.com/questions/62262257/spring-boot-junit-5-test-with-extendwithmockitoextension-class-not-working","title":"NullPointerException MockMvc with ExtendWith (test Junit Springboot)","body":"<p>I have a problem doing tests Mocking with Junit. It turns out that if I put the @SpringBootTest annotation it works perfectly, on the other hand if I remove it and leave it only with @ExtendWith(MockitoExtension.class) so that the tests load faster, it gives me the following error and it doesn't work. I don't know if I need to put another annotation, or what I should do.</p>\n<p><code>java.lang.NullPointerException: Cannot invoke        &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mockMvc&quot; is null</code></p>\n<p>`</p>\n<pre><code>import com.google.gson.Gson;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\n\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\n\nimport org.springframework.test.annotation.DirtiesContext;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.web.servlet.MockMvc;\n\nimport javax.ws.rs.core.MediaType;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n\n//@SpringBootTest\n@AutoConfigureMockMvc\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(MockitoExtension.class)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_EACH_TEST_METHOD)\npublic class TestController {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    Gson gson = new Gson();\n\n    @Test\n    public void addPer() throws Exception {\n        PostPer postPerDto = PostPer.builder()\n                .nombre(&quot;nombre&quot;)\n                .detalles(&quot;detalles&quot;)\n                .precio(50.0f)\n                .build();\n        mockMvc.perform(post(&quot;/per/addPer&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(gson.toJson(postPerDto)))\n                .andDo(print())\n                .andExpect(status().isCreated());\n    }\n\n }\n</code></pre>\n<p>`</p>\n<p>I have tried different solutions such as using RunWith that I have seen around here, and nothing. I did that too <a href=\"https://stackoverflow.com/questions/62262257/spring-boot-junit-5-test-with-extendwithmockitoextension-class-not-working\">Spring Boot JUnit 5 test with @ExtendWith(MockitoExtension.class) not working - mocks are null, MockitoJUnitRunner is working</a></p>\n"},{"tags":["java","xml","ms-project","mpxj"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669824904,"post_id":74629231,"comment_id":131732382,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":13221,"reputation":2529,"user_id":26415,"display_name":"Jon Iles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669888018,"creation_date":1669888018,"answer_id":74639863,"question_id":74629231,"body_markdown":"Unfortunately using an MPP file is the only way for you to specify the visual appearance of a schedule automatically when it is opened by Microsoft Project.\r\n\r\nYou have a few options:\r\n* I believe [Aspose.Tasks](https://products.aspose.com/tasks) can generate MPP files, so it may be that as part of that you can configure the layout you want\r\n* As you are already working with Excel you may want to consider using VBA which would allow you to both extract the data you need from Excel, populate the schedule in MS Project and configure the layout of the schedule.\r\n* Finally, if you want to use MPXJ, when you generate the MSPDI file and import it into Microsoft Project you are given some options about how the file is opened (as a new schedule, append to an existing schedule, update an existing schedule). If you create an empty &quot;template&quot; MPP file with the visual layout you require, using the append or update options when you open the XML file and selecting the template file as the target should give you a finished file using the data you&#39;ve generated with the visual layout you need.","title":"How to make MPXJ-Library show work column in mpp File using Java","body":"<p>Unfortunately using an MPP file is the only way for you to specify the visual appearance of a schedule automatically when it is opened by Microsoft Project.</p>\n<p>You have a few options:</p>\n<ul>\n<li>I believe <a href=\"https://products.aspose.com/tasks\" rel=\"nofollow noreferrer\">Aspose.Tasks</a> can generate MPP files, so it may be that as part of that you can configure the layout you want</li>\n<li>As you are already working with Excel you may want to consider using VBA which would allow you to both extract the data you need from Excel, populate the schedule in MS Project and configure the layout of the schedule.</li>\n<li>Finally, if you want to use MPXJ, when you generate the MSPDI file and import it into Microsoft Project you are given some options about how the file is opened (as a new schedule, append to an existing schedule, update an existing schedule). If you create an empty &quot;template&quot; MPP file with the visual layout you require, using the append or update options when you open the XML file and selecting the template file as the target should give you a finished file using the data you've generated with the visual layout you need.</li>\n</ul>\n"}],"owner":{"account_id":27099689,"reputation":15,"user_id":20646465,"display_name":"Florian B&#228;r"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74639863,"answer_count":1,"score":0,"last_activity_date":1669888018,"creation_date":1669817768,"question_id":74629231,"body_markdown":"I&#39;m doing an internal Project, in Java, where i have to read an Excel and Parse it into a mpp respectively a MS Project compatible .xml file. I&#39;m creating the file and everythings working fine. \r\nBut i want to show the columns &quot;Work&quot; and &quot;ID&quot; by default. \r\n\r\nI can show them in MS Projects and the values are as I expect them to be, but i have to select and show them. Is there a possibility to show them by default when you open the .xml file?\r\n\r\n\r\nI tried a lot and searched:\r\n- https://www.mpxj.org/\r\n- https://www.mpxj.org/apidocs/overview-summary.html\r\n- https://github.com/tmyroadctfig/mpxj/tree/master/net/sf/mpxj\r\n- https://stackoverflow.com/questions/23543279/adding-columns-to-header-in-mpxj-using-projectwriter\r\n\r\nas well as StackOverflow. But i didn&#39;t found any Information helping me out or it wasn&#39;t helpful cause methods changed and i didn&#39;t found the equivalent new ones. \r\n\r\nthis is where i fill the tasks and resources of my mpp.\r\n\r\n    if (!extractedRow.getElement().isEmpty())\r\n                {\r\n                    element = contract.addTask();\r\n                    element.setName(extractedRow.getElement());\r\n                    element.setStart(startingDate);\r\n                    element.setOutlineLevel(LookUp.Mpp_Conversion_Element_OutlineLevel());\r\n                    element.setID(id++);\r\n\r\n                }\r\n                else if (!extractedRow.getWorkpackage().isEmpty())\r\n                {\r\n                    workpackage = Objects.requireNonNull(element).addTask();\r\n                    workpackage.setName(extractedRow.getWorkpackage());\r\n                    workpackage.setOutlineLevel(LookUp.Mpp_Conversion_Workpackage_OutlineLevel());\r\n                    workpackage.setID(id++);\r\n\r\n                }\r\n                else if (!extractedRow.getTask().isEmpty())\r\n                {\r\n                    task = Objects.requireNonNull(workpackage).addTask();\r\n                    task.setName(extractedRow.getTask());\r\n                    task.setType(TaskType.FIXED_WORK);\r\n                    task.setOutlineLevel(LookUp.Mpp_Conversion_Task_OutlineLevel());\r\n                    task.setWork(Duration.getInstance(extractedRow.getEstimatedTime(), TimeUnit.HOURS));\r\n                    task.setDuration(Duration.getInstance(extractedRow.getEstimatedTime() / 8, TimeUnit.DAYS));\r\n                    task.setRemainingWork(Duration.getInstance(extractedRow.getEstimatedTime(), TimeUnit.HOURS));\r\n                    task.setID(id++);\r\n\r\n                    if (!extractedRow.getRole().isEmpty())\r\n                    {\r\n                        for (Resource resource : _project.getResources())\r\n                        {\r\n                            if (resource.getName().equals(_filereader.get_mapper().getMapping(extractedRow.getRole())))\r\n                            {\r\n                                assn = Objects.requireNonNull(task).addResourceAssignment(resource);\r\n                                assn.setStart(task.getStart());\r\n                                assn.setWork(Duration.getInstance(extractedRow.getEstimatedTime(), TimeUnit.HOURS));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\nKind Regards","title":"How to make MPXJ-Library show work column in mpp File using Java","body":"<p>I'm doing an internal Project, in Java, where i have to read an Excel and Parse it into a mpp respectively a MS Project compatible .xml file. I'm creating the file and everythings working fine.\nBut i want to show the columns &quot;Work&quot; and &quot;ID&quot; by default.</p>\n<p>I can show them in MS Projects and the values are as I expect them to be, but i have to select and show them. Is there a possibility to show them by default when you open the .xml file?</p>\n<p>I tried a lot and searched:</p>\n<ul>\n<li><a href=\"https://www.mpxj.org/\" rel=\"nofollow noreferrer\">https://www.mpxj.org/</a></li>\n<li><a href=\"https://www.mpxj.org/apidocs/overview-summary.html\" rel=\"nofollow noreferrer\">https://www.mpxj.org/apidocs/overview-summary.html</a></li>\n<li><a href=\"https://github.com/tmyroadctfig/mpxj/tree/master/net/sf/mpxj\" rel=\"nofollow noreferrer\">https://github.com/tmyroadctfig/mpxj/tree/master/net/sf/mpxj</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23543279/adding-columns-to-header-in-mpxj-using-projectwriter\">adding columns to header in mpxj using ProjectWriter</a></li>\n</ul>\n<p>as well as StackOverflow. But i didn't found any Information helping me out or it wasn't helpful cause methods changed and i didn't found the equivalent new ones.</p>\n<p>this is where i fill the tasks and resources of my mpp.</p>\n<pre><code>if (!extractedRow.getElement().isEmpty())\n            {\n                element = contract.addTask();\n                element.setName(extractedRow.getElement());\n                element.setStart(startingDate);\n                element.setOutlineLevel(LookUp.Mpp_Conversion_Element_OutlineLevel());\n                element.setID(id++);\n\n            }\n            else if (!extractedRow.getWorkpackage().isEmpty())\n            {\n                workpackage = Objects.requireNonNull(element).addTask();\n                workpackage.setName(extractedRow.getWorkpackage());\n                workpackage.setOutlineLevel(LookUp.Mpp_Conversion_Workpackage_OutlineLevel());\n                workpackage.setID(id++);\n\n            }\n            else if (!extractedRow.getTask().isEmpty())\n            {\n                task = Objects.requireNonNull(workpackage).addTask();\n                task.setName(extractedRow.getTask());\n                task.setType(TaskType.FIXED_WORK);\n                task.setOutlineLevel(LookUp.Mpp_Conversion_Task_OutlineLevel());\n                task.setWork(Duration.getInstance(extractedRow.getEstimatedTime(), TimeUnit.HOURS));\n                task.setDuration(Duration.getInstance(extractedRow.getEstimatedTime() / 8, TimeUnit.DAYS));\n                task.setRemainingWork(Duration.getInstance(extractedRow.getEstimatedTime(), TimeUnit.HOURS));\n                task.setID(id++);\n\n                if (!extractedRow.getRole().isEmpty())\n                {\n                    for (Resource resource : _project.getResources())\n                    {\n                        if (resource.getName().equals(_filereader.get_mapper().getMapping(extractedRow.getRole())))\n                        {\n                            assn = Objects.requireNonNull(task).addResourceAssignment(resource);\n                            assn.setStart(task.getStart());\n                            assn.setWork(Duration.getInstance(extractedRow.getEstimatedTime(), TimeUnit.HOURS));\n                        }\n                    }\n                }\n            }\n</code></pre>\n<p>Kind Regards</p>\n"},{"tags":["java","html","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":14809070,"reputation":55,"user_id":10695261,"display_name":"fatcatpl"},"score":0,"creation_date":1669889535,"post_id":74638759,"comment_id":131747394,"body_markdown":"Additional info: running System.out.println(driver.getPageSource()) also returns that &lt;script&gt;...&lt;/script&gt; tag with only 3 values instead of full content available in browser&#39;s dev console.","body":"Additional info: running System.out.println(driver.getPageSource()) also returns that &lt;script&gt;...&lt;/script&gt; tag with only 3 values instead of full content available in browser&#39;s dev console."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669887509,"creation_date":1669887509,"answer_id":74639747,"question_id":74638759,"body_markdown":"This xpath `&quot;//script[not(@src)]&quot;` seems to be problematic.\r\n\r\nUsing different locator and  `element.getAttribute(&quot;innerHTML&quot;)` works fine.\r\n\r\n\tList&lt;WebElement&gt; scriptTags = driver.findElements(By.tagName(&quot;script&quot;));\r\n\tfor (WebElement scriptTag: scriptTags) {\r\n\t\tString src = scriptTag.getAttribute(&quot;src&quot;); // getting empty string for the third script tag (not null)\r\n\t\tif (src.length() == 0) {\r\n\t\t\tString innerHTML = scriptTag.getAttribute(&quot;innerHTML&quot;);\r\n\t\t\tSystem.out.println(innerHTML);\r\n\t\t}\r\n\t}","title":"InnerText and innerHTML return only part of script tag contents in Selenium","body":"<p>This xpath <code>&quot;//script[not(@src)]&quot;</code> seems to be problematic.</p>\n<p>Using different locator and  <code>element.getAttribute(&quot;innerHTML&quot;)</code> works fine.</p>\n<pre><code>List&lt;WebElement&gt; scriptTags = driver.findElements(By.tagName(&quot;script&quot;));\nfor (WebElement scriptTag: scriptTags) {\n    String src = scriptTag.getAttribute(&quot;src&quot;); // getting empty string for the third script tag (not null)\n    if (src.length() == 0) {\n        String innerHTML = scriptTag.getAttribute(&quot;innerHTML&quot;);\n        System.out.println(innerHTML);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14809070,"reputation":55,"user_id":10695261,"display_name":"fatcatpl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669887509,"creation_date":1669882576,"question_id":74638759,"body_markdown":"I&#39;m trying to automate front-end tests for client&#39;s webpage in Selenium (java). I need to retrieve data from the contents of \\&lt;script\\&gt;\\&lt;/script\\&gt; tag from the HTML below.\r\n\r\n```\r\n&lt;html&gt;\r\n&lt;head&gt;...&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;...&lt;/div&gt;\r\n&lt;div&gt;...&lt;/div&gt;\r\n&lt;div&gt;...&lt;/div&gt;\r\n&lt;script src=&quot;/smth/smth/script.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;/another/smth/script.js&quot;&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\n\tvar A = 2;\r\n    var B = &quot;this-is-random-set-of-numbers-and-letters&quot;;\r\n    var C = &quot;Thats a name&quot;;\r\n    var D = {&quot;key&quot; : &quot;value&quot;, &quot;key2&quot; : &quot;value2&quot;, &quot;keyN&quot; : &quot;valueN&quot;};\r\n    var E = {&quot;key&quot; : &quot;value&quot;, &quot;key2&quot; : &quot;value2&quot;, &quot;key3&quot; : [{&quot;keyA&quot;: &quot;valueA&quot;, &quot;keyB&quot;:&quot;valueB&quot;, &quot;keyC&quot;:&quot;valueC&quot;}, {&quot;keyD&quot;: &quot;valueD&quot;, &quot;keyE&quot;:&quot;valueE&quot;, &quot;keyF&quot;:&quot;valueF&quot;}], &quot;keyN&quot; : &quot;valueN&quot;};\r\n    var F = [];\r\n    var _G = &quot;another-random-set-of-numbers-and-letters&quot;;\r\n    var _H = &quot;_letters&quot;;\r\n    var I = null;\r\n    var J = true;\r\n    var K = null;\r\n    var L = &quot;yet-another-random-set-of-numbers-and-letters&quot;;\r\n    var M = &quot;Status name&quot;;\r\n    var N = {&quot;key&quot;:[],&quot;key1&quot;:[&quot;value1&quot;,&quot;value2&quot;,&quot;value3&quot;,&quot;value4&quot;&quot;]};\r\n    var O = null;\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nWhen trying to retrieve the contents, I only get the following values:\r\n\r\n```\r\n  var _G = &quot;another-random-set-of-numbers-and-letters&quot;;\r\n  var _H = &quot;_letters&quot;;\r\n  var N = {&quot;key&quot;:[],&quot;key1&quot;:[&quot;value1&quot;,&quot;value2&quot;,&quot;value3&quot;,&quot;value4&quot;&quot;]};\r\n```\r\n\r\nI tried the following approaches:\r\n\r\n```\r\nBy by = By.xpath(&quot;//script[not(@src)]&quot;)\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(60));\r\nWebElement myElement = wait.until(ExpectedConditions.presenceOfElementLocated(by));\r\nString value = myElement.getAttribute(&quot;innerHTML&quot;); // as well as innerText\r\n```\r\n\r\n```\r\nJavascriptExecutor js = (JavascriptExecutor) driver;\r\nString query = &quot;var listOfScriptElements = document.getElementsByTagName(&#39;script&#39;); return listOfScriptElements[(listOfScriptElements.length)-1].innerText;&quot;; // yes, the &lt;script&gt; in question will always be at the end of the list\r\nString jsResponse = js.executeScript(query).toString();\r\n```\r\n\r\nAll options return the same response - only 3 variables instead of the whole content.\r\nI thought maybe it was loading dynamically, so I paused script execution manually (before trying to find the element), confirmed in browser&#39;s developer console that the contents were already available in DOM, then unpaused the script - it did not help.\r\nIs it possible there&#39;s some sort of bot management blocking me from accessing only part of \\&lt;script\\&gt; tag? It&#39;s the only part of the webpage I am unable to reach.","title":"InnerText and innerHTML return only part of script tag contents in Selenium","body":"<p>I'm trying to automate front-end tests for client's webpage in Selenium (java). I need to retrieve data from the contents of &lt;script&gt;&lt;/script&gt; tag from the HTML below.</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;...&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;...&lt;/div&gt;\n&lt;div&gt;...&lt;/div&gt;\n&lt;div&gt;...&lt;/div&gt;\n&lt;script src=&quot;/smth/smth/script.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/another/smth/script.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n    var A = 2;\n    var B = &quot;this-is-random-set-of-numbers-and-letters&quot;;\n    var C = &quot;Thats a name&quot;;\n    var D = {&quot;key&quot; : &quot;value&quot;, &quot;key2&quot; : &quot;value2&quot;, &quot;keyN&quot; : &quot;valueN&quot;};\n    var E = {&quot;key&quot; : &quot;value&quot;, &quot;key2&quot; : &quot;value2&quot;, &quot;key3&quot; : [{&quot;keyA&quot;: &quot;valueA&quot;, &quot;keyB&quot;:&quot;valueB&quot;, &quot;keyC&quot;:&quot;valueC&quot;}, {&quot;keyD&quot;: &quot;valueD&quot;, &quot;keyE&quot;:&quot;valueE&quot;, &quot;keyF&quot;:&quot;valueF&quot;}], &quot;keyN&quot; : &quot;valueN&quot;};\n    var F = [];\n    var _G = &quot;another-random-set-of-numbers-and-letters&quot;;\n    var _H = &quot;_letters&quot;;\n    var I = null;\n    var J = true;\n    var K = null;\n    var L = &quot;yet-another-random-set-of-numbers-and-letters&quot;;\n    var M = &quot;Status name&quot;;\n    var N = {&quot;key&quot;:[],&quot;key1&quot;:[&quot;value1&quot;,&quot;value2&quot;,&quot;value3&quot;,&quot;value4&quot;&quot;]};\n    var O = null;\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>When trying to retrieve the contents, I only get the following values:</p>\n<pre><code>  var _G = &quot;another-random-set-of-numbers-and-letters&quot;;\n  var _H = &quot;_letters&quot;;\n  var N = {&quot;key&quot;:[],&quot;key1&quot;:[&quot;value1&quot;,&quot;value2&quot;,&quot;value3&quot;,&quot;value4&quot;&quot;]};\n</code></pre>\n<p>I tried the following approaches:</p>\n<pre><code>By by = By.xpath(&quot;//script[not(@src)]&quot;)\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(60));\nWebElement myElement = wait.until(ExpectedConditions.presenceOfElementLocated(by));\nString value = myElement.getAttribute(&quot;innerHTML&quot;); // as well as innerText\n</code></pre>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\nString query = &quot;var listOfScriptElements = document.getElementsByTagName('script'); return listOfScriptElements[(listOfScriptElements.length)-1].innerText;&quot;; // yes, the &lt;script&gt; in question will always be at the end of the list\nString jsResponse = js.executeScript(query).toString();\n</code></pre>\n<p>All options return the same response - only 3 variables instead of the whole content.\nI thought maybe it was loading dynamically, so I paused script execution manually (before trying to find the element), confirmed in browser's developer console that the contents were already available in DOM, then unpaused the script - it did not help.\nIs it possible there's some sort of bot management blocking me from accessing only part of &lt;script&gt; tag? It's the only part of the webpage I am unable to reach.</p>\n"},{"tags":["java","swagger-ui","springfox"],"owner":{"account_id":4339280,"reputation":353,"user_id":3542984,"accept_rate":36,"display_name":"Clamari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669887323,"creation_date":1632083250,"question_id":69246859,"body_markdown":"I have a POST endpoint which receives a @ModelAttribute parameter. Everything is working ok, but the swagger documentation fails to have the descriptions, examples, etc.\r\n\r\nI am using java 11, springboot 2.5.4 and springfox-boot-starter 3.0.0\r\n\r\nHere is my code:\r\n\r\n    @Api\r\n    @RestController\r\n    @RequestMapping(&quot;/foo&quot;)\r\n    @Validated\r\n    public class MyRest {\r\n    \t@PostMapping(value = &quot;/{id}/bar&quot;, consumes = { MediaType.MULTIPART_FORM_DATA_VALUE })\r\n    \t@ApiOperation(value = &quot;Do nothing&quot;, notes = &quot;This endpoint does nothing&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; search(\r\n    \t\t\t@ModelAttribute MyModelRequest request,\r\n    \r\n    \t\t\t@ApiParam(value = &quot;Folder ID&quot;, required = true)\r\n    \t\t\t@PathVariable String id) {\r\n    \t\t// some business code\r\n    \t\treturn new ResponseEntity&lt;&gt;(&quot;lorem ipsum&quot;, HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\nMyModelRequest\r\n\r\n    @ApiModel\r\n    @Data\r\n    public class MyModelRequest {\r\n    \r\n    \t@ApiParam(name = &quot;fileName&quot;, value = &quot;The name of the image to be stored in database&quot;)\r\n    \t@ApiModelProperty(value = &quot;name model description&quot;, example = &quot;summer picture&quot;, required = true)\r\n    \tprivate String name;\r\n    \r\n    \t@DecimalMin(&quot;0.00&quot;)\r\n    \t@DecimalMax(&quot;100.00&quot;)\r\n    \t@ApiParam(name = &quot;accuracy&quot;, value = &quot;The required accuracy&quot;)\r\n    \t@ApiModelProperty(value = &quot;Minimum required accuracy&quot;, example = &quot;95.15&quot;, required = false)\r\n    \tprivate BigDecimal accuracy;\r\n    \r\n    \t@ApiParam(name = &quot;marginTop&quot;, value = &quot;Top margin of the image&quot;)\r\n    \t@ApiModelProperty(value = &quot;Separation between top item and the image&quot;, example = &quot;300&quot;, required = false)\r\n    \tprivate Integer marginTop;\r\n    \r\n    \t@ApiParam(name = &quot;image&quot;)\r\n    \t@ApiModelProperty(value = &quot;The image to be stored&quot;, example = &quot;vacations.png&quot;, required = true)\r\n    \tprivate MultipartFile image;\r\n    }\r\n\r\nAnd this is the generated swagger doc\r\n\r\n[![Swagger][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PQWoB.png\r\n\r\n**UPDATE:** I noticed that if I change the `consumes = { MediaType.MULTIPART_FORM_DATA_VALUE }` for `consumes = { MediaType.APPLICATION_JSON_VALUE }` or remove the whole &quot;consumes&quot; parameter from the endpoint, the documentation shows up correctly, however, doing this will make the fileupload fail.","title":"Document a multipart/form-data endpoint with Springfox","body":"<p>I have a POST endpoint which receives a @ModelAttribute parameter. Everything is working ok, but the swagger documentation fails to have the descriptions, examples, etc.</p>\n<p>I am using java 11, springboot 2.5.4 and springfox-boot-starter 3.0.0</p>\n<p>Here is my code:</p>\n<pre><code>@Api\n@RestController\n@RequestMapping(&quot;/foo&quot;)\n@Validated\npublic class MyRest {\n    @PostMapping(value = &quot;/{id}/bar&quot;, consumes = { MediaType.MULTIPART_FORM_DATA_VALUE })\n    @ApiOperation(value = &quot;Do nothing&quot;, notes = &quot;This endpoint does nothing&quot;)\n    public ResponseEntity&lt;String&gt; search(\n            @ModelAttribute MyModelRequest request,\n\n            @ApiParam(value = &quot;Folder ID&quot;, required = true)\n            @PathVariable String id) {\n        // some business code\n        return new ResponseEntity&lt;&gt;(&quot;lorem ipsum&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>MyModelRequest</p>\n<pre><code>@ApiModel\n@Data\npublic class MyModelRequest {\n\n    @ApiParam(name = &quot;fileName&quot;, value = &quot;The name of the image to be stored in database&quot;)\n    @ApiModelProperty(value = &quot;name model description&quot;, example = &quot;summer picture&quot;, required = true)\n    private String name;\n\n    @DecimalMin(&quot;0.00&quot;)\n    @DecimalMax(&quot;100.00&quot;)\n    @ApiParam(name = &quot;accuracy&quot;, value = &quot;The required accuracy&quot;)\n    @ApiModelProperty(value = &quot;Minimum required accuracy&quot;, example = &quot;95.15&quot;, required = false)\n    private BigDecimal accuracy;\n\n    @ApiParam(name = &quot;marginTop&quot;, value = &quot;Top margin of the image&quot;)\n    @ApiModelProperty(value = &quot;Separation between top item and the image&quot;, example = &quot;300&quot;, required = false)\n    private Integer marginTop;\n\n    @ApiParam(name = &quot;image&quot;)\n    @ApiModelProperty(value = &quot;The image to be stored&quot;, example = &quot;vacations.png&quot;, required = true)\n    private MultipartFile image;\n}\n</code></pre>\n<p>And this is the generated swagger doc</p>\n<p><a href=\"https://i.stack.imgur.com/PQWoB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PQWoB.png\" alt=\"Swagger\" /></a></p>\n<p><strong>UPDATE:</strong> I noticed that if I change the <code>consumes = { MediaType.MULTIPART_FORM_DATA_VALUE }</code> for <code>consumes = { MediaType.APPLICATION_JSON_VALUE }</code> or remove the whole &quot;consumes&quot; parameter from the endpoint, the documentation shows up correctly, however, doing this will make the fileupload fail.</p>\n"},{"tags":["java","spring","http"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1650871791,"post_id":71995859,"comment_id":127216704,"body_markdown":"You dont have to &quot;clone&quot; the stream, just make it rewindable and you can always inspect the buffer length. getContentLength will be rather only when client will send it as header - and this might not be accurate anyway.","body":"You dont have to &quot;clone&quot; the stream, just make it rewindable and you can always inspect the buffer length. getContentLength will be rather only when client will send it as header - and this might not be accurate anyway."}],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650871992,"creation_date":1650871992,"answer_id":71995936,"question_id":71995859,"body_markdown":"This may be done directly in the configuration file of your Spring application, e.g in application.yml .\r\n\r\nThe following would limit sizes to 1Gb.\r\n\r\n\r\n    spring:\r\n      http:\r\n        multipart:\r\n          max-file-size: 1000MB\r\n          max-request-size: 1000MB","title":"What&#39;s the most reliable way to limit HTTP body size?","body":"<p>This may be done directly in the configuration file of your Spring application, e.g in application.yml .</p>\n<p>The following would limit sizes to 1Gb.</p>\n<pre><code>spring:\n  http:\n    multipart:\n      max-file-size: 1000MB\n      max-request-size: 1000MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650872002,"creation_date":1650872002,"answer_id":71995938,"question_id":71995859,"body_markdown":"You can use Tomcat&#39;s settings to do that \r\n\r\n    spring.servlet.multipart.max-file-size=1MB\r\n    spring.servlet.multipart.max-request-size=1MB\r\n\r\nThat is obivously for embedded Tomcat if you are using SpringBoot. Otherwise you will have to do such configuration on connector settings which can be found in Tomcat documentation","title":"What&#39;s the most reliable way to limit HTTP body size?","body":"<p>You can use Tomcat's settings to do that</p>\n<pre><code>spring.servlet.multipart.max-file-size=1MB\nspring.servlet.multipart.max-request-size=1MB\n</code></pre>\n<p>That is obivously for embedded Tomcat if you are using SpringBoot. Otherwise you will have to do such configuration on connector settings which can be found in Tomcat documentation</p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650872031,"answer_count":2,"score":0,"last_activity_date":1669887282,"creation_date":1650871598,"question_id":71995859,"body_markdown":"I&#39;d like to **limit** the allowed length of the bodies of incoming HTTP POST requests in my Spring-based Java server application.\r\n\r\nMost of these requests contain payloads with content type application/json. However, some of them have other content types, e.g. some controllers receive application/octet-stream from a messaging service.\r\n\r\nSo far, I had been working with a javax.servlet.Filter, that inspects the content length and rejects any overlong requests:\r\n\r\n```\r\n@Component\r\n@WebFilter(urlPatterns = &quot;my-path/*&quot;)\r\npublic class Limiter implements Filter {\r\n\r\n    private static final int MAX_CONTENT_LENGTH_IN_BYTES = 5000;\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n            throws IOException, ServletException {\r\n        int length = servletRequest.getContentLength();\r\n        if (length &gt; MAX_CONTENT_LENGTH_IN_BYTES) {\r\n            // reject request with HTTP 400 Bad Request\r\n        } else {\r\n            // let the request pass\r\n        }\r\n\r\n}\r\n```\r\n\r\nWhile this works fine for JSON-based contents, it fails for some of the others, esp. the octet-streams. For these cases, `getContentLength()` consistently returns `-1`. [From the Java documentation](https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getContentLength()), I gather that this indicates that the length is unavailable from the input stream.\r\n\r\nWhat&#39;s a more reliable way to inspect the content length? Clone the stream, then retrieve it as a string and check the string&#39;s length?\r\n\r\nSimilar questions like https://stackoverflow.com/questions/33232849/increase-http-post-maxpostsize-in-spring-boot were answered by pointing at settings like `spring.servlet.multipart.max-request-size`. We tried all of these and they do not work in our case. These settings are designed for multipart data transfer, where the payload is distributed over multiple requests that are then reassembled by the recipient; they do not apply to single requests. Note also that in the existing questions, users would like to **increase** the allowed request size. Increasing means they already have a size limit in place that works. In our case, we do not have a working configuration, but want to create one.","title":"What&#39;s the most reliable way to limit HTTP body size?","body":"<p>I'd like to <strong>limit</strong> the allowed length of the bodies of incoming HTTP POST requests in my Spring-based Java server application.</p>\n<p>Most of these requests contain payloads with content type application/json. However, some of them have other content types, e.g. some controllers receive application/octet-stream from a messaging service.</p>\n<p>So far, I had been working with a javax.servlet.Filter, that inspects the content length and rejects any overlong requests:</p>\n<pre><code>@Component\n@WebFilter(urlPatterns = &quot;my-path/*&quot;)\npublic class Limiter implements Filter {\n\n    private static final int MAX_CONTENT_LENGTH_IN_BYTES = 5000;\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n            throws IOException, ServletException {\n        int length = servletRequest.getContentLength();\n        if (length &gt; MAX_CONTENT_LENGTH_IN_BYTES) {\n            // reject request with HTTP 400 Bad Request\n        } else {\n            // let the request pass\n        }\n\n}\n</code></pre>\n<p>While this works fine for JSON-based contents, it fails for some of the others, esp. the octet-streams. For these cases, <code>getContentLength()</code> consistently returns <code>-1</code>. <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getContentLength()\" rel=\"nofollow noreferrer\">From the Java documentation</a>, I gather that this indicates that the length is unavailable from the input stream.</p>\n<p>What's a more reliable way to inspect the content length? Clone the stream, then retrieve it as a string and check the string's length?</p>\n<p>Similar questions like <a href=\"https://stackoverflow.com/questions/33232849/increase-http-post-maxpostsize-in-spring-boot\">Increase HTTP Post maxPostSize in Spring Boot</a> were answered by pointing at settings like <code>spring.servlet.multipart.max-request-size</code>. We tried all of these and they do not work in our case. These settings are designed for multipart data transfer, where the payload is distributed over multiple requests that are then reassembled by the recipient; they do not apply to single requests. Note also that in the existing questions, users would like to <strong>increase</strong> the allowed request size. Increasing means they already have a size limit in place that works. In our case, we do not have a working configuration, but want to create one.</p>\n"},{"tags":["java","android","android-studio","facebook","sdk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664414569,"post_id":73888718,"comment_id":130468216,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664418978,"creation_date":1664418978,"answer_id":73889715,"question_id":73888718,"body_markdown":"You didn&#39;t add any code explaining the problem but after searching for this problem I found that you should add SDK initializes method in your`onCreate()` like the following\r\n\r\n```\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        FacebookSdk.sdkInitialize(getApplicationContext());\r\n        AppEventsLogger.activateApp(this);\r\n    }\r\n```","title":"ERROR : E/AndroidRuntime: FATAL EXCEPTION: main : Caused by: The Facebook sdk must be initialized before calling activateApp","body":"<p>You didn't add any code explaining the problem but after searching for this problem I found that you should add SDK initializes method in your<code>onCreate()</code> like the following</p>\n<pre><code>    @Override\n    public void onCreate() {\n        super.onCreate();\n        FacebookSdk.sdkInitialize(getApplicationContext());\n        AppEventsLogger.activateApp(this);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664439407,"creation_date":1664430846,"answer_id":73890841,"question_id":73888718,"body_markdown":"To use Facebook Ads Sdk in your app, You must make an App class for your app and initialize the sdk there.\r\n\r\n```java\r\nimport android.app.Application;\r\n\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        FacebookSdk.sdkInitialize(getApplicationContext());\r\n        AppEventsLogger.activateApp(this);\r\n    }\r\n}\r\n```\r\n\r\nAnd set it in your manifest.\r\n\r\n```xml\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;.App&quot;  &lt;!-- Name of your app class --&gt;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        ........\r\n        ........\r\n\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n\r\n","title":"ERROR : E/AndroidRuntime: FATAL EXCEPTION: main : Caused by: The Facebook sdk must be initialized before calling activateApp","body":"<p>To use Facebook Ads Sdk in your app, You must make an App class for your app and initialize the sdk there.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.app.Application;\n\npublic class App extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        FacebookSdk.sdkInitialize(getApplicationContext());\n        AppEventsLogger.activateApp(this);\n    }\n}\n</code></pre>\n<p>And set it in your manifest.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:name=&quot;.App&quot;  &lt;!-- Name of your app class --&gt;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        ........\n        ........\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26438852,"reputation":1,"user_id":20083743,"display_name":"RAGIP MULLAMUSA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664489155,"creation_date":1664488996,"answer_id":73902085,"question_id":73888718,"body_markdown":"slove it by **update gradle** and **add** facebook client token in **manifests**\r\n\r\n\r\n```\r\n&lt;meta-data android:name=&quot;com.facebook.sdk.ClientToken&quot;\r\nandroid:value=&quot;@string/facebook_client_token&quot;/&gt;\r\n```","title":"ERROR : E/AndroidRuntime: FATAL EXCEPTION: main : Caused by: The Facebook sdk must be initialized before calling activateApp","body":"<p>slove it by <strong>update gradle</strong> and <strong>add</strong> facebook client token in <strong>manifests</strong></p>\n<pre><code>&lt;meta-data android:name=&quot;com.facebook.sdk.ClientToken&quot;\nandroid:value=&quot;@string/facebook_client_token&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27109239,"reputation":11,"user_id":20654631,"display_name":"Stephen Yuen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669887041,"creation_date":1669887041,"answer_id":74639632,"question_id":73888718,"body_markdown":"I solved the issue with RAGIP MULLAMUSA&#39;s answer (Sorry I don&#39;t have enough reputation to vote or comment)\r\n\r\nWhile I tried to upgrade the Facebook SDK from 9.x.x to latest (15.1.0), I found this error:\r\n\r\n&gt; The Facebook sdk must be initialized before calling activateApp\r\n\r\nI tried to put ```FacebookSdk.sdkInitialize(getApplicationContext());``` before ```AppEventsLogger.activateApp(this);```, and it doesn&#39;t work. But the error will become:\r\n\r\n&gt; A valid Facebook app client token must be set in the AndroidManifest.xml or set by calling FacebookSdk.setClientToken before initializing the sdk.\r\n\r\nYou might obtain the client token from https://developers.facebook.com/, and put it in AndroidManifest.xml\r\n\r\n```\r\n&lt;manifest\r\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n  &lt;application\r\n    android:name=&quot;.App&quot;\r\n    ...\r\n    ...&gt;\r\n  \r\n    &lt;meta-data\r\n      android:name=&quot;com.facebook.sdk.ClientToken&quot;\r\n      android:value=&quot;YOUR_FACEBOOK_CLIENT_TOKEN&quot; /&gt;\r\n  &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nNote: You don&#39;t need to keep ```FacebookSdk.sdkInitialize(getApplicationContext());``` after putting client token in manifest.\r\n\r\nI tried to put ```FacebookSdk.setClientToken(YOUR_FACEBOOK_CLIENT_TOKEN);``` before ```super.onCreate();```, but it doesn&#39;t work for me.","title":"ERROR : E/AndroidRuntime: FATAL EXCEPTION: main : Caused by: The Facebook sdk must be initialized before calling activateApp","body":"<p>I solved the issue with RAGIP MULLAMUSA's answer (Sorry I don't have enough reputation to vote or comment)</p>\n<p>While I tried to upgrade the Facebook SDK from 9.x.x to latest (15.1.0), I found this error:</p>\n<blockquote>\n<p>The Facebook sdk must be initialized before calling activateApp</p>\n</blockquote>\n<p>I tried to put <code>FacebookSdk.sdkInitialize(getApplicationContext());</code> before <code>AppEventsLogger.activateApp(this);</code>, and it doesn't work. But the error will become:</p>\n<blockquote>\n<p>A valid Facebook app client token must be set in the AndroidManifest.xml or set by calling FacebookSdk.setClientToken before initializing the sdk.</p>\n</blockquote>\n<p>You might obtain the client token from <a href=\"https://developers.facebook.com/\" rel=\"nofollow noreferrer\">https://developers.facebook.com/</a>, and put it in AndroidManifest.xml</p>\n<pre><code>&lt;manifest\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n  &lt;application\n    android:name=&quot;.App&quot;\n    ...\n    ...&gt;\n  \n    &lt;meta-data\n      android:name=&quot;com.facebook.sdk.ClientToken&quot;\n      android:value=&quot;YOUR_FACEBOOK_CLIENT_TOKEN&quot; /&gt;\n  &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Note: You don't need to keep <code>FacebookSdk.sdkInitialize(getApplicationContext());</code> after putting client token in manifest.</p>\n<p>I tried to put <code>FacebookSdk.setClientToken(YOUR_FACEBOOK_CLIENT_TOKEN);</code> before <code>super.onCreate();</code>, but it doesn't work for me.</p>\n"}],"owner":{"account_id":26438852,"reputation":1,"user_id":20083743,"display_name":"RAGIP MULLAMUSA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1669887041,"creation_date":1664406807,"question_id":73888718,"body_markdown":"hello everyone i have error in my android/java project\r\n\r\n``` E/AndroidRuntime: FATAL EXCEPTION: main ```\r\n\r\n``` Caused by: The Facebook sdk must be initialized before calling activateApp ```\r\n\r\nscreenshots:\r\n\r\n[image 1][1]\r\n\r\n[image 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OGP35.png\r\n  [2]: https://i.stack.imgur.com/5Xd8s.png","title":"ERROR : E/AndroidRuntime: FATAL EXCEPTION: main : Caused by: The Facebook sdk must be initialized before calling activateApp","body":"<p>hello everyone i have error in my android/java project</p>\n<p><code>E/AndroidRuntime: FATAL EXCEPTION: main</code></p>\n<p><code>Caused by: The Facebook sdk must be initialized before calling activateApp</code></p>\n<p>screenshots:</p>\n<p><a href=\"https://i.stack.imgur.com/OGP35.png\" rel=\"nofollow noreferrer\">image 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/5Xd8s.png\" rel=\"nofollow noreferrer\">image 2</a></p>\n"},{"tags":["java","gradle","jar","wildfly","keycloak"],"answers":[{"tags":[],"owner":{"account_id":20290699,"reputation":323,"user_id":14882411,"display_name":"Marcel Ouška"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1608807673,"creation_date":1608807673,"answer_id":65437406,"question_id":65411688,"body_markdown":"I am not sure if I understand correctly the piece with adding the library statically to jboss. I will answer from what I understand your issue is.\r\nThere are multiple solutions to your issue.\r\n\r\n# Jboss dependencies\r\nYou should first understand how JBoss resolves its classes and dependencies. I will explain very simply.\r\nJBoss is divided to modules and deployments.\r\n\r\nModules are placed in home folder of your JBoss. Modules are the libraries that you will not be changing during runtime. \r\nEach module has descriptor file called **module.xml** in which you define you artifacts, dependencies and name of the module.\r\nFile module.xml is basically something like your jboss-deployment-structure.xml in the module world.\r\n\r\nDeployments are placed into deployments folder and can be redeployed while the JBoss server is running. In case a deployment needs a dependency on another module/deployment, it needs to be included in the jboss-deployment-structure of the given deployment.\r\n`Note that modules cannot be dependent on deployments but it works the other way around`\r\n\r\nYou can find much more information all over the internet, but this is the basic info you could use.\r\n\r\n\r\n## Solution 1 - JBoss Modules\r\nIn case you want to acquire a dependency to a module in JBoss you need to find its name in module.xml and write it to your jboss-deployment-structure.xml (assuming that you library is a deployment)\r\n\r\nSo for example if you want a dependency to a jackson-dataformat-cbor-2.10.5.jar in keycloak modules path:\r\n\r\n```\r\nmodules/system/layers/keycloak/com/fasterxml/jackson/dataformat/jackson-dataformat-cbor/main/jackson-dataformat-cbor-2.10.5.jar\r\n```\r\nIn the same folder is a module.xml with content:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!--\r\n  ~ Copyright 2019 Red Hat, Inc. and/or its affiliates\r\n  ~ and other contributors as indicated by the @author tags.\r\n  ~\r\n  ~ Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n  ~ you may not use this file except in compliance with the License.\r\n  ~ You may obtain a copy of the License at\r\n  ~\r\n  ~ http://www.apache.org/licenses/LICENSE-2.0\r\n  ~\r\n  ~ Unless required by applicable law or agreed to in writing, software\r\n  ~ distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  ~ See the License for the specific language governing permissions and\r\n  ~ limitations under the License.\r\n  --&gt;\r\n&lt;module name=&quot;com.fasterxml.jackson.dataformat.jackson-dataformat-cbor&quot; xmlns=&quot;urn:jboss:module:1.3&quot;&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;jackson-dataformat-cbor-2.10.5.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;com.fasterxml.jackson.core.jackson-core&quot;/&gt;\r\n        &lt;module name=&quot;com.fasterxml.jackson.core.jackson-databind&quot;/&gt;\r\n        &lt;module name=&quot;com.fasterxml.jackson.core.jackson-annotations&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\nthat means that the name of your module is `com.fasterxml.jackson.dataformat.jackson-dataformat-cbor` and that is what you put in your jboss-deployment-structure.xml as a dependency.\r\n\r\n### Your case\r\nIn your case you need a dependency to `smallrye-graphql-client` that is not included in JBoss modules. Which means you will have to add it there.\r\nCreate a JBoss layer by creating a folder in layers:\r\n`modules/system/layers/[name of your layer]`\r\nAfter doing so you should also include your layer in `modules/layers.conf`. You include it by writting comma after keycloak layer like so:\r\n```\r\nlayers=keycloak,[your layer]\r\n```\r\nAfter you created that, you can add to your layer your plugins for example like so:\r\n`modules/system/layers/[name of your layer]/org/my/plugins/main`\r\n\r\nInside of the folder will be:\r\n* Your jar\r\n* module.xml (create it according to the other modules)\r\n\r\nThen the only thing you will do is to include this module in your jboss-deployment-structure.xml as a dependency. (You always include the name of the module)\r\n\r\n`Note that you might have to add more libraries as dependencies to your modules. You can include all of it in the modules`\r\n\r\nIn case you don&#180;t like to create this stuff manually you can create jboss-modules-builder such as this one. It will create your modules xml using maven:\r\n\r\nhttps://github.com/marcel-ouska/jboss-modules-builder\r\n\r\n## Solution 2 - Fat JAR/WAR\r\nBasically If you want a simple solution you can add the library into your JAR/WAR directly using maven/Gradle plugins.\r\n\r\n* Fat JAR - http://tutorials.jenkov.com/maven/maven-build-fat-jar.html\r\n* WAR - Your dependencies get packed automatically\r\n\r\nI do not recommend to use Fat JAR/WAR solutions as with adding more plugins you could get lost in dependencies and getting errors such as cases of duplicated dependency classes.","title":"Include third party library in wildfly jar (keycloak SPI)","body":"<p>I am not sure if I understand correctly the piece with adding the library statically to jboss. I will answer from what I understand your issue is.\nThere are multiple solutions to your issue.</p>\n<h1>Jboss dependencies</h1>\n<p>You should first understand how JBoss resolves its classes and dependencies. I will explain very simply.\nJBoss is divided to modules and deployments.</p>\n<p>Modules are placed in home folder of your JBoss. Modules are the libraries that you will not be changing during runtime.\nEach module has descriptor file called <strong>module.xml</strong> in which you define you artifacts, dependencies and name of the module.\nFile module.xml is basically something like your jboss-deployment-structure.xml in the module world.</p>\n<p>Deployments are placed into deployments folder and can be redeployed while the JBoss server is running. In case a deployment needs a dependency on another module/deployment, it needs to be included in the jboss-deployment-structure of the given deployment.\n<code>Note that modules cannot be dependent on deployments but it works the other way around</code></p>\n<p>You can find much more information all over the internet, but this is the basic info you could use.</p>\n<h2>Solution 1 - JBoss Modules</h2>\n<p>In case you want to acquire a dependency to a module in JBoss you need to find its name in module.xml and write it to your jboss-deployment-structure.xml (assuming that you library is a deployment)</p>\n<p>So for example if you want a dependency to a jackson-dataformat-cbor-2.10.5.jar in keycloak modules path:</p>\n<pre><code>modules/system/layers/keycloak/com/fasterxml/jackson/dataformat/jackson-dataformat-cbor/main/jackson-dataformat-cbor-2.10.5.jar\n</code></pre>\n<p>In the same folder is a module.xml with content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--\n  ~ Copyright 2019 Red Hat, Inc. and/or its affiliates\n  ~ and other contributors as indicated by the @author tags.\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~ http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --&gt;\n&lt;module name=&quot;com.fasterxml.jackson.dataformat.jackson-dataformat-cbor&quot; xmlns=&quot;urn:jboss:module:1.3&quot;&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;jackson-dataformat-cbor-2.10.5.jar&quot;/&gt;\n    &lt;/resources&gt;\n\n    &lt;dependencies&gt;\n        &lt;module name=&quot;com.fasterxml.jackson.core.jackson-core&quot;/&gt;\n        &lt;module name=&quot;com.fasterxml.jackson.core.jackson-databind&quot;/&gt;\n        &lt;module name=&quot;com.fasterxml.jackson.core.jackson-annotations&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p>that means that the name of your module is <code>com.fasterxml.jackson.dataformat.jackson-dataformat-cbor</code> and that is what you put in your jboss-deployment-structure.xml as a dependency.</p>\n<h3>Your case</h3>\n<p>In your case you need a dependency to <code>smallrye-graphql-client</code> that is not included in JBoss modules. Which means you will have to add it there.\nCreate a JBoss layer by creating a folder in layers:\n<code>modules/system/layers/[name of your layer]</code>\nAfter doing so you should also include your layer in <code>modules/layers.conf</code>. You include it by writting comma after keycloak layer like so:</p>\n<pre><code>layers=keycloak,[your layer]\n</code></pre>\n<p>After you created that, you can add to your layer your plugins for example like so:\n<code>modules/system/layers/[name of your layer]/org/my/plugins/main</code></p>\n<p>Inside of the folder will be:</p>\n<ul>\n<li>Your jar</li>\n<li>module.xml (create it according to the other modules)</li>\n</ul>\n<p>Then the only thing you will do is to include this module in your jboss-deployment-structure.xml as a dependency. (You always include the name of the module)</p>\n<p><code>Note that you might have to add more libraries as dependencies to your modules. You can include all of it in the modules</code></p>\n<p>In case you don´t like to create this stuff manually you can create jboss-modules-builder such as this one. It will create your modules xml using maven:</p>\n<p><a href=\"https://github.com/marcel-ouska/jboss-modules-builder\" rel=\"noreferrer\">https://github.com/marcel-ouska/jboss-modules-builder</a></p>\n<h2>Solution 2 - Fat JAR/WAR</h2>\n<p>Basically If you want a simple solution you can add the library into your JAR/WAR directly using maven/Gradle plugins.</p>\n<ul>\n<li>Fat JAR - <a href=\"http://tutorials.jenkov.com/maven/maven-build-fat-jar.html\" rel=\"noreferrer\">http://tutorials.jenkov.com/maven/maven-build-fat-jar.html</a></li>\n<li>WAR - Your dependencies get packed automatically</li>\n</ul>\n<p>I do not recommend to use Fat JAR/WAR solutions as with adding more plugins you could get lost in dependencies and getting errors such as cases of duplicated dependency classes.</p>\n"},{"tags":[],"owner":{"account_id":17293871,"reputation":31,"user_id":12524939,"display_name":"lamoboos223"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669886852,"creation_date":1669886852,"answer_id":74639600,"question_id":65411688,"body_markdown":"you have to Add a jboss-deployment-structure.xml file in `src/main/resources/META-INF` directory \r\n\r\n```xml\r\n&lt;jboss-deployment-structure&gt;\r\n&lt;deployment&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;com.microsoft&quot; /&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand it must call a real module in the keycloak server `modules` directory.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hJNSg.png\r\n  [2]: https://i.stack.imgur.com/JcrsB.png","title":"Include third party library in wildfly jar (keycloak SPI)","body":"<p>you have to Add a jboss-deployment-structure.xml file in <code>src/main/resources/META-INF</code> directory</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jboss-deployment-structure&gt;\n&lt;deployment&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;com.microsoft&quot; /&gt;\n    &lt;/dependencies&gt;\n&lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hJNSg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hJNSg.png\" alt=\"enter image description here\" /></a></p>\n<p>and it must call a real module in the keycloak server <code>modules</code> directory.\n<a href=\"https://i.stack.imgur.com/JcrsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JcrsB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":912656,"reputation":107,"user_id":946123,"display_name":"Alvaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3839,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65437406,"answer_count":2,"score":2,"last_activity_date":1669886852,"creation_date":1608652002,"question_id":65411688,"body_markdown":"I am creating plugins (providers) for keycloak using the Service Provider Interface. I have been able to build a couple. Now I need to add the smallrye-graphql-client library to query a graphql server. However,  the library is not found in the classpath when I deploy the pluging.\r\n\r\nQuestions\r\n===========\r\n\r\n1. Is it possible to still create a jar which includes the dependency library?\r\n2. If 1 is not possible, can it be done with a war?\r\n3. How can I add the library to the classpath. Preferably, that those are added together with the plugin instead of statically to Wildfly. I am using gradle. More details below.\r\n\r\nBackground Info\r\n---------------\r\n\r\nI succeeded to create a class and integration test for it. However, when I deploy the plugin to keycloak I get a the following error:\r\n\r\n    16:38:38,127 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-1) \r\n                 Uncaught server error: java.util.ServiceConfigurationError: no \r\n                 io.smallrye.graphql.client.typesafe.api.GraphQlClientBuilder in classpath\r\n\r\n\r\nI have configured gradle to include the dependency that caused the problem and also add it to the classpath. I suspect that I should add an entry to the jboss-deployment-structure.xml but I don&#39;t know what I should write there.\r\n\r\nThe gradle configuration\r\n```\r\nplugins {\r\n    id &#39;war&#39;\r\n    id &#39;java-library&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n    jcenter()\r\n}\r\nconfigurations {\r\n    dependenciesToInclude\r\n}\r\ndependencies {\r\n    dependenciesToInclude &quot;io.smallrye:smallrye-graphql-client:1.0.20&quot;\r\n\r\n\r\n    providedCompile group: &#39;javax.enterprise&#39;, name: &#39;cdi-api&#39;, version: &#39;2.0&#39;\r\n    providedCompile &quot;org.keycloak:keycloak-server-spi:${keycloakVersion}&quot;\r\n    providedCompile &quot;org.keycloak:keycloak-server-spi-private:${keycloakVersion}&quot;\r\n    providedCompile(&quot;org.keycloak:keycloak-services:${keycloakVersion}&quot;) {\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-api&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-log4j12&#39;\r\n    }\r\n    providedCompile group: &#39;org.keycloak&#39;, name: &#39;keycloak-model-api&#39;, version: &#39;1.8.1.Final&#39;\r\n    providedCompile &quot;org.jboss.resteasy:resteasy-jaxrs&quot;\r\n\r\n    providedCompile group: &#39;org.eclipse.microprofile.graphql&#39;, name: &#39;microprofile-graphql-api&#39;, version: &#39;1.0.3&#39;\r\n    compile group: &#39;org.apache.geronimo.config&#39;, name: &#39;geronimo-config-impl&#39;, version: &#39;1.2.2&#39;\r\n    configurations.compile.extendsFrom(configurations.dependenciesToInclude)\r\n}\r\n\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &quot;Class-Path&quot;: configurations.dependenciesToInclude.collect { it.getName() }.join(&#39; &#39;))\r\n    }\r\n    from {\r\n        configurations.dependenciesToInclude.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n❯ cat META-INF/MANIFEST.MF                                                                                                                                                                                                     ─╯\r\nManifest-Version: 1.0\r\nClass-Path: smallrye-graphql-client-1.0.20.jar geronimo-config-impl-1.2.\r\n 2.jar smallrye-graphql-client-api-1.0.20.jar microprofile-graphql-api-1\r\n .0.3.jar microprofile-config-api-1.3.jar org.osgi.annotation.versioning\r\n -1.0.0.jar\r\n```\r\n\r\nBellow is the jboss-deployment-structure.xml. There you can see my attempt to include the graphql library (commented out)\r\n```\r\n&lt;jboss-deployment-structure&gt;\r\n    &lt;deployment&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;org.keycloak.keycloak-services&quot;/&gt;\r\n            &lt;module name=&quot;org.keycloak.keycloak-saml-core-public&quot;/&gt;\r\n            &lt;module name=&quot;org.apache.commons.codec&quot;/&gt;\r\n            &lt;module name=&quot;org.apache.commons.lang&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.logging&quot;/&gt;\r\n            &lt;!--            &lt;module name=&quot;io.smallrye.smallrye-graphql-client&quot;/&gt;--&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\n\r\nI am using Keycloak 11.0.2 (WildFly Core 12.0.3.Final)\r\n","title":"Include third party library in wildfly jar (keycloak SPI)","body":"<p>I am creating plugins (providers) for keycloak using the Service Provider Interface. I have been able to build a couple. Now I need to add the smallrye-graphql-client library to query a graphql server. However,  the library is not found in the classpath when I deploy the pluging.</p>\n<h1>Questions</h1>\n<ol>\n<li>Is it possible to still create a jar which includes the dependency library?</li>\n<li>If 1 is not possible, can it be done with a war?</li>\n<li>How can I add the library to the classpath. Preferably, that those are added together with the plugin instead of statically to Wildfly. I am using gradle. More details below.</li>\n</ol>\n<h2>Background Info</h2>\n<p>I succeeded to create a class and integration test for it. However, when I deploy the plugin to keycloak I get a the following error:</p>\n<pre><code>16:38:38,127 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-1) \n             Uncaught server error: java.util.ServiceConfigurationError: no \n             io.smallrye.graphql.client.typesafe.api.GraphQlClientBuilder in classpath\n</code></pre>\n<p>I have configured gradle to include the dependency that caused the problem and also add it to the classpath. I suspect that I should add an entry to the jboss-deployment-structure.xml but I don't know what I should write there.</p>\n<p>The gradle configuration</p>\n<pre><code>plugins {\n    id 'war'\n    id 'java-library'\n    id 'maven-publish'\n}\nrepositories {\n    mavenLocal()\n    mavenCentral()\n    jcenter()\n}\nconfigurations {\n    dependenciesToInclude\n}\ndependencies {\n    dependenciesToInclude &quot;io.smallrye:smallrye-graphql-client:1.0.20&quot;\n\n\n    providedCompile group: 'javax.enterprise', name: 'cdi-api', version: '2.0'\n    providedCompile &quot;org.keycloak:keycloak-server-spi:${keycloakVersion}&quot;\n    providedCompile &quot;org.keycloak:keycloak-server-spi-private:${keycloakVersion}&quot;\n    providedCompile(&quot;org.keycloak:keycloak-services:${keycloakVersion}&quot;) {\n        exclude group: 'org.slf4j', module: 'slf4j-api'\n        exclude group: 'org.slf4j', module: 'slf4j-log4j12'\n    }\n    providedCompile group: 'org.keycloak', name: 'keycloak-model-api', version: '1.8.1.Final'\n    providedCompile &quot;org.jboss.resteasy:resteasy-jaxrs&quot;\n\n    providedCompile group: 'org.eclipse.microprofile.graphql', name: 'microprofile-graphql-api', version: '1.0.3'\n    compile group: 'org.apache.geronimo.config', name: 'geronimo-config-impl', version: '1.2.2'\n    configurations.compile.extendsFrom(configurations.dependenciesToInclude)\n}\n\n\njar {\n    manifest {\n        attributes(\n                &quot;Class-Path&quot;: configurations.dependenciesToInclude.collect { it.getName() }.join(' '))\n    }\n    from {\n        configurations.dependenciesToInclude.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<pre><code>❯ cat META-INF/MANIFEST.MF                                                                                                                                                                                                     ─╯\nManifest-Version: 1.0\nClass-Path: smallrye-graphql-client-1.0.20.jar geronimo-config-impl-1.2.\n 2.jar smallrye-graphql-client-api-1.0.20.jar microprofile-graphql-api-1\n .0.3.jar microprofile-config-api-1.3.jar org.osgi.annotation.versioning\n -1.0.0.jar\n</code></pre>\n<p>Bellow is the jboss-deployment-structure.xml. There you can see my attempt to include the graphql library (commented out)</p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;org.keycloak.keycloak-services&quot;/&gt;\n            &lt;module name=&quot;org.keycloak.keycloak-saml-core-public&quot;/&gt;\n            &lt;module name=&quot;org.apache.commons.codec&quot;/&gt;\n            &lt;module name=&quot;org.apache.commons.lang&quot;/&gt;\n            &lt;module name=&quot;org.jboss.logging&quot;/&gt;\n            &lt;!--            &lt;module name=&quot;io.smallrye.smallrye-graphql-client&quot;/&gt;--&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>I am using Keycloak 11.0.2 (WildFly Core 12.0.3.Final)</p>\n"},{"tags":["java","javafx","event-handling","keyboard-events"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1669896780,"post_id":74639234,"comment_id":131749802,"body_markdown":"this looks fishy: _&lt;T extends Event&gt; of the type EventHandler&lt;t&gt;_ - note the different case of tee .. [mcve] please, including imports","body":"this looks fishy: <i>&lt;T extends Event&gt; of the type EventHandler&lt;t&gt;</i> - note the different case of tee .. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please, including imports"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1669897275,"post_id":74639234,"comment_id":131749946,"body_markdown":"actually, I suspect that the import is wrong (assuming that the body of the handler compiles) - __must not__ be the awt version of keyEvent","body":"actually, I suspect that the import is wrong (assuming that the body of the handler compiles) - <b>must not</b> be the awt version of keyEvent"}],"owner":{"account_id":20935709,"reputation":53,"user_id":15380900,"display_name":"Virtual Riot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669886761,"creation_date":1669885131,"question_id":74639234,"body_markdown":"I am writing a code for a simple web browser for my school project. Currently I want to have the code to be able to visit the site entered in the url when pressed the enter key. All of my buttons work (back, forward, refresh, etc) but I cant seem to get the keyboard event handlers working. \r\n\r\nThe error that I am currently faced with in the event handler is that it says &quot;KeyEvent&quot; is `not a valid subsitute for the bounded parameter &lt;T extends Event&gt; of the type EventHandler&lt;t&gt;`. \r\n\r\nI have already looked at https://stackoverflow.com/questions/69629669/java-generics-the-type-is-not-a-valid-substitute but still not understanding why I am not able to put KeyEvent as an eventhandler type since it is a keyboard event. \r\n\r\nThis is the code Im working on:\r\n\t\t\t\t\r\n```java\r\nclass KeyboardPressedHandler implements EventHandler&lt;KeyEvent&gt;{\r\n\t\t\t\t\t\r\n    @Override\r\n    public void handle(KeyEvent event) {\r\n        \r\n        int key = event.getKeyCode();\r\n        \r\n        if(key == KeyEvent.VK_ENTER ) {\r\n            loadPage();\r\n            \r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"The type is not a valid substitute for key events","body":"<p>I am writing a code for a simple web browser for my school project. Currently I want to have the code to be able to visit the site entered in the url when pressed the enter key. All of my buttons work (back, forward, refresh, etc) but I cant seem to get the keyboard event handlers working.</p>\n<p>The error that I am currently faced with in the event handler is that it says &quot;KeyEvent&quot; is <code>not a valid subsitute for the bounded parameter &lt;T extends Event&gt; of the type EventHandler&lt;t&gt;</code>.</p>\n<p>I have already looked at <a href=\"https://stackoverflow.com/questions/69629669/java-generics-the-type-is-not-a-valid-substitute\">Java generics: The type is not a valid substitute</a> but still not understanding why I am not able to put KeyEvent as an eventhandler type since it is a keyboard event.</p>\n<p>This is the code Im working on:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class KeyboardPressedHandler implements EventHandler&lt;KeyEvent&gt;{\n                    \n    @Override\n    public void handle(KeyEvent event) {\n        \n        int key = event.getKeyCode();\n        \n        if(key == KeyEvent.VK_ENTER ) {\n            loadPage();\n            \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","set"],"comments":[{"owner":{"account_id":1543184,"reputation":1580,"user_id":1437347,"accept_rate":52,"display_name":"Chowdappa"},"score":4,"creation_date":1384236892,"post_id":19922181,"comment_id":29644422,"body_markdown":"What is the map value type?","body":"What is the map value type?"},{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":0,"creation_date":1384236896,"post_id":19922181,"comment_id":29644424,"body_markdown":"Do you want all the key-value combinations as a set? Or do you only want the keys or values?","body":"Do you want all the key-value combinations as a set? Or do you only want the keys or values?"},{"owner":{"account_id":2569125,"reputation":18515,"user_id":2228325,"accept_rate":62,"display_name":"TonyW"},"score":0,"creation_date":1384237096,"post_id":19922181,"comment_id":29644488,"body_markdown":"I wish to have only the values in the Set&lt;Integer&gt;. The value type is of Integer.","body":"I wish to have only the values in the Set&lt;Integer&gt;. The value type is of Integer."},{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1384237278,"post_id":19922181,"comment_id":29644548,"body_markdown":"@TonyGW You say the value type is Integer, but in the above example the value type is actually Set&lt;Integer&gt;.","body":"@TonyGW You say the value type is Integer, but in the above example the value type is actually Set&lt;Integer&gt;."},{"owner":{"account_id":2569125,"reputation":18515,"user_id":2228325,"accept_rate":62,"display_name":"TonyW"},"score":0,"creation_date":1384237341,"post_id":19922181,"comment_id":29644569,"body_markdown":"yes, the value is Set&lt;Integer&gt;. sorry for the confusion","body":"yes, the value is Set&lt;Integer&gt;. sorry for the confusion"},{"owner":{"account_id":1888382,"reputation":709,"user_id":1707123,"accept_rate":90,"display_name":"r0estir0bbe"},"score":0,"creation_date":1407242660,"post_id":19922181,"comment_id":39130953,"body_markdown":"Could you accept the answer that solved your problem or provide the solution you went with?","body":"Could you accept the answer that solved your problem or provide the solution you went with?"}],"answers":[{"tags":[],"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384237054,"creation_date":1384237054,"answer_id":19922239,"question_id":19922181,"body_markdown":"use `myWordDict.values()`, not `myWordDict.entrySet()`. values is a set of the map&#39;s `values`, whereas `entrySet` is a set of its mappings (it is a set of java.util.map.Entry objects, each of which describes a key and a value).","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<p>use <code>myWordDict.values()</code>, not <code>myWordDict.entrySet()</code>. values is a set of the map's <code>values</code>, whereas <code>entrySet</code> is a set of its mappings (it is a set of java.util.map.Entry objects, each of which describes a key and a value).</p>\n"},{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1384237849,"creation_date":1384237114,"answer_id":19922254,"question_id":19922181,"body_markdown":"Your declaration should be like below. It will convert your map values to `Collection`\r\n\r\n      Collection&lt;Set&lt;Integer&gt;&gt; newVariable = myWordDict.values();","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<p>Your declaration should be like below. It will convert your map values to <code>Collection</code></p>\n\n<pre><code>  Collection&lt;Set&lt;Integer&gt;&gt; newVariable = myWordDict.values();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384237297,"creation_date":1384237297,"answer_id":19922308,"question_id":19922181,"body_markdown":"If you need all the values as a `Set` of `Integers` and not as a `Set` of `Set`, then you could do something like this\r\n\r\n    Set&lt;Integer&gt; newVariable = new HashSet&lt;Integer&gt;();\r\n    for (Set&lt;Integer&gt; set : myWordDict.values()) {\r\n    \tnewVariable.addAll(set);\r\n    }\r\n\r\nOr if you want them as a `Set` of `Set`, you need to do something like this\r\n\r\n    Set&lt;Set&lt;Integer&gt;&gt; newVariable = new HashSet&lt;Set&lt;Integer&gt;&gt;();\r\n    newVariable.addAll(myWordDict.values());","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<p>If you need all the values as a <code>Set</code> of <code>Integers</code> and not as a <code>Set</code> of <code>Set</code>, then you could do something like this</p>\n\n<pre><code>Set&lt;Integer&gt; newVariable = new HashSet&lt;Integer&gt;();\nfor (Set&lt;Integer&gt; set : myWordDict.values()) {\n    newVariable.addAll(set);\n}\n</code></pre>\n\n<p>Or if you want them as a <code>Set</code> of <code>Set</code>, you need to do something like this</p>\n\n<pre><code>Set&lt;Set&lt;Integer&gt;&gt; newVariable = new HashSet&lt;Set&lt;Integer&gt;&gt;();\nnewVariable.addAll(myWordDict.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3106249,"reputation":6417,"user_id":2628956,"accept_rate":100,"display_name":"Rakesh KR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414160501,"creation_date":1384237299,"answer_id":19922309,"question_id":19922181,"body_markdown":"    Map&lt;Integer,String&gt;   map1 = new HashMap&lt;Integer,String&gt;();\r\n\t\r\n\tmap1.put(1, &quot;Rakesh&quot;);\r\n\tmap1.put(2, &quot;Amal&quot;);\r\n\tmap1.put(3, &quot;Nithish&quot;);\r\n\r\n\tSet&lt;Entry&lt;Integer,String&gt;&gt; set1 = map1.entrySet();","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<pre><code>Map&lt;Integer,String&gt;   map1 = new HashMap&lt;Integer,String&gt;();\n\nmap1.put(1, \"Rakesh\");\nmap1.put(2, \"Amal\");\nmap1.put(3, \"Nithish\");\n\nSet&lt;Entry&lt;Integer,String&gt;&gt; set1 = map1.entrySet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1021804,"reputation":12875,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1384237309,"creation_date":1384237309,"answer_id":19922316,"question_id":19922181,"body_markdown":"[What does `entrySet` returns?][1]\r\n\r\n    public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()\r\n&gt;Returns a Set view of the mappings contained in this map. The set is backed by the map, so changes to the map are reflected in the set, and vice-versa. \r\n\r\nIf you want iterate over the `myWordDict` hash map then just  \r\n\r\n    for(Map.Entry&lt;String, Set&lt;Integer&gt;&gt; entry : myWordDict.entrySet())\r\n    {\r\n       Set&lt;Integer&gt; newVariable = entry.getValue();\r\n    }\r\n\r\n**Related links**  \r\n\r\n - [Map.Entry#getValue()][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#entrySet%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getValue%28%29","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#entrySet%28%29\" rel=\"noreferrer\">What does <code>entrySet</code> returns?</a></p>\n\n<pre><code>public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()\n</code></pre>\n\n<blockquote>\n  <p>Returns a Set view of the mappings contained in this map. The set is backed by the map, so changes to the map are reflected in the set, and vice-versa. </p>\n</blockquote>\n\n<p>If you want iterate over the <code>myWordDict</code> hash map then just  </p>\n\n<pre><code>for(Map.Entry&lt;String, Set&lt;Integer&gt;&gt; entry : myWordDict.entrySet())\n{\n   Set&lt;Integer&gt; newVariable = entry.getValue();\n}\n</code></pre>\n\n<p><strong>Related links</strong>  </p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getValue%28%29\" rel=\"noreferrer\">Map.Entry#getValue()</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3125647,"reputation":4884,"user_id":2644553,"accept_rate":90,"display_name":"Kamlesh Meghwal"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1414160470,"creation_date":1384237418,"answer_id":19922336,"question_id":19922181,"body_markdown":"Try:\r\n\r\n    Set&lt;Integer&gt; newVariable = mywordDict.keySet();\r\n\r\nor\r\n\r\n    Set&lt;Integer&gt; newVariable = new HashSet&lt;Integer&gt;(myWordDict.values());\r\n\r\n ","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<p>Try:</p>\n\n<pre><code>Set&lt;Integer&gt; newVariable = mywordDict.keySet();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Set&lt;Integer&gt; newVariable = new HashSet&lt;Integer&gt;(myWordDict.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":474975,"reputation":28437,"user_id":885028,"accept_rate":90,"display_name":"aga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384237442,"creation_date":1384237442,"answer_id":19922343,"question_id":19922181,"body_markdown":"Assuming that you want to add all values from the sets in the map your approach to do it is to use [addAll][1] method:  \r\n\r\n    Set&lt;Integer&gt; newVariable = new HashSet&lt;Integer&gt;();\r\n    for (Set&lt;Integer&gt; set : myWordDict.values()) {\r\n        newVariable.addAll(set);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html#addAll%28java.util.Collection%29","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<p>Assuming that you want to add all values from the sets in the map your approach to do it is to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html#addAll%28java.util.Collection%29\" rel=\"nofollow\">addAll</a> method:  </p>\n\n<pre><code>Set&lt;Integer&gt; newVariable = new HashSet&lt;Integer&gt;();\nfor (Set&lt;Integer&gt; set : myWordDict.values()) {\n    newVariable.addAll(set);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2569125,"reputation":18515,"user_id":2228325,"accept_rate":62,"display_name":"TonyW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384237555,"creation_date":1384237555,"answer_id":19922360,"question_id":19922181,"body_markdown":"So, I came up with an iterator to iterate through the value Set&lt;Integer&gt;\r\n\r\nI have this data structure\r\n\r\n    Map&lt;String, Set&lt;Integer&gt;&gt; myWordDict = new HashMap&lt;String, Set&lt;Integer&gt;&gt;();\r\n\r\n\r\nI created \r\n\r\n    Iterator mapIterator = myWordDict.entrySet().iterator();\r\n\r\nThen just use a while() loop to add individual value to a new Set&lt;Integer&gt; variable. I am not sure this is the most efficient way, but it works for my needs.`\r\n","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<p>So, I came up with an iterator to iterate through the value Set</p>\n\n<p>I have this data structure</p>\n\n<pre><code>Map&lt;String, Set&lt;Integer&gt;&gt; myWordDict = new HashMap&lt;String, Set&lt;Integer&gt;&gt;();\n</code></pre>\n\n<p>I created </p>\n\n<pre><code>Iterator mapIterator = myWordDict.entrySet().iterator();\n</code></pre>\n\n<p>Then just use a while() loop to add individual value to a new Set variable. I am not sure this is the most efficient way, but it works for my needs.`</p>\n"},{"tags":[],"owner":{"account_id":5604242,"reputation":421,"user_id":4439408,"accept_rate":75,"display_name":"free斩"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509089647,"creation_date":1509089647,"answer_id":46969775,"question_id":19922181,"body_markdown":"flatMap will help you:\r\n\r\n    myWordDict.values().stream().flatMap(Set::stream).collect(Collectors.toSet());","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<p>flatMap will help you:</p>\n\n<pre><code>myWordDict.values().stream().flatMap(Set::stream).collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":2569125,"reputation":18515,"user_id":2228325,"accept_rate":62,"display_name":"TonyW"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60615,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":19922254,"answer_count":9,"score":11,"last_activity_date":1669886759,"creation_date":1384236763,"question_id":19922181,"body_markdown":"One more question about HashMap&lt;&gt; in Java:\r\n\r\nI have the following\r\n\r\n    Map&lt;String, Set&lt;Integer&gt;&gt; myWordDict = new HashMap&lt;String, Set&lt;Integer&gt;&gt;();\r\n\r\nAfter storing data into the variable `myWordDict`, I want to iterate through the HashMapValues, and add each value to a new Set&lt;Integer&gt; variable?\r\n\r\nWhen I try to do `Set&lt;Integer&gt; newVariable = myWordDict.entrySet()`, it seems the data type is incompatible. \r\n\r\n**So my question is essentially:** \r\n\r\n&gt; how to convert HashMap values or entrySet() to Set&lt;Integer&gt; ?\r\n\r\n Thanks","title":"Java: convert HashMap values to Set&lt;Integer&gt;","body":"<p>One more question about HashMap&lt;> in Java:</p>\n\n<p>I have the following</p>\n\n<pre><code>Map&lt;String, Set&lt;Integer&gt;&gt; myWordDict = new HashMap&lt;String, Set&lt;Integer&gt;&gt;();\n</code></pre>\n\n<p>After storing data into the variable <code>myWordDict</code>, I want to iterate through the HashMapValues, and add each value to a new Set variable?</p>\n\n<p>When I try to do <code>Set&lt;Integer&gt; newVariable = myWordDict.entrySet()</code>, it seems the data type is incompatible. </p>\n\n<p><strong>So my question is essentially:</strong> </p>\n\n<blockquote>\n  <p>how to convert HashMap values or entrySet() to Set ?</p>\n</blockquote>\n\n<p>Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9151,"page":841,"page_size":100}
