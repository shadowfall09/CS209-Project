{"items":[{"tags":["java","jasperserver","weblogic11g"],"answers":[{"tags":[],"owner":{"account_id":26059526,"reputation":1,"user_id":20601047,"display_name":"James S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669961447,"creation_date":1669961447,"answer_id":74651552,"question_id":74575629,"body_markdown":"We resolved this issue by deleting the &quot;.jslic&quot; and &quot;.jseval*&quot; which are available in our user home folder and then start the server again. It re-created these files after we started the server and the reports can able to retrieve from front end.\r\n\r\nRCA: This problem occurred due to the corruption in auxiliary license files","title":"Getting licenseReportCounter() exception , while starting the Jasper report","body":"<p>We resolved this issue by deleting the &quot;.jslic&quot; and &quot;.jseval*&quot; which are available in our user home folder and then start the server again. It re-created these files after we started the server and the reports can able to retrieve from front end.</p>\n<p>RCA: This problem occurred due to the corruption in auxiliary license files</p>\n"}],"owner":{"account_id":26059526,"reputation":1,"user_id":20601047,"display_name":"James S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669961783,"creation_date":1669393912,"question_id":74575629,"body_markdown":"I am getting a licenseReportCounter() exception when starting a Jasper report.\r\n\r\nJasper&#39;s License was valid and not expired.\r\n\r\n**Exception**:\r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;heartbeatTrigger&#39; defined in\r\n&gt; ServletContext resource [/WEB-INF/applicationContext-logging.xml]:\r\n&gt; Cannot resolve reference to bean &#39;heartbeatJob&#39; while setting bean\r\n&gt; property &#39;jobDetail&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;heartbeatJob&#39; defined in ServletContext\r\n&gt; resource [/WEB-INF/applicationContext-logging.xml]: Cannot resolve\r\n&gt; reference to bean &#39;heartbeatBean&#39; while setting bean property\r\n&gt; &#39;targetObject&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;heartbeatBean&#39; defined in ServletContext\r\n&gt; resource [/WEB-INF/applicationContext-logging.xml]: Cannot resolve\r\n&gt; reference to bean &#39;heartbeatProContributor&#39; while setting bean\r\n&gt; property &#39;contributor&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;heartbeatProContributor&#39; defined in\r\n&gt; ServletContext resource [/WEB-INF/applicationContext-logging-pro.xml]:\r\n&gt; Cannot resolve reference to bean &#39;licenseReportCounter&#39; while setting\r\n&gt; bean property &#39;licenseReportCounter&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;licenseReportCounter&#39; defined in class path\r\n&gt; resource\r\n&gt; [com/jaspersoft/ji/license/ApplicationContextLicenseConfiguration.class]:\r\n&gt; Instantiation of bean failed; nested exception is\r\n&gt; org.springframework.beans.factory.BeanDefinitionStoreException:\r\n&gt; Factory method [public com.jaspersoft.ji.license.LicenseReportCounter\r\n&gt; com.jaspersoft.ji.license.ApplicationContextLicenseConfiguration.licenseReportCounter()]\r\n&gt; threw exception; nested exception is java.lang.NumberFormatException:\r\n&gt; For input string: &quot;&quot; at\r\n&gt; org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328\r\n\r\nJasper was running on a WebLogic server. I tried restarting the WebLogic server by stopping all the backend processes. But it did not work. I am not able to retrieve the reports via the Front end. ","title":"Getting licenseReportCounter() exception , while starting the Jasper report","body":"<p>I am getting a licenseReportCounter() exception when starting a Jasper report.</p>\n<p>Jasper's License was valid and not expired.</p>\n<p><strong>Exception</strong>:</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'heartbeatTrigger' defined in\nServletContext resource [/WEB-INF/applicationContext-logging.xml]:\nCannot resolve reference to bean 'heartbeatJob' while setting bean\nproperty 'jobDetail'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'heartbeatJob' defined in ServletContext\nresource [/WEB-INF/applicationContext-logging.xml]: Cannot resolve\nreference to bean 'heartbeatBean' while setting bean property\n'targetObject'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'heartbeatBean' defined in ServletContext\nresource [/WEB-INF/applicationContext-logging.xml]: Cannot resolve\nreference to bean 'heartbeatProContributor' while setting bean\nproperty 'contributor'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'heartbeatProContributor' defined in\nServletContext resource [/WEB-INF/applicationContext-logging-pro.xml]:\nCannot resolve reference to bean 'licenseReportCounter' while setting\nbean property 'licenseReportCounter'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'licenseReportCounter' defined in class path\nresource\n[com/jaspersoft/ji/license/ApplicationContextLicenseConfiguration.class]:\nInstantiation of bean failed; nested exception is\norg.springframework.beans.factory.BeanDefinitionStoreException:\nFactory method [public com.jaspersoft.ji.license.LicenseReportCounter\ncom.jaspersoft.ji.license.ApplicationContextLicenseConfiguration.licenseReportCounter()]\nthrew exception; nested exception is java.lang.NumberFormatException:\nFor input string: &quot;&quot; at\norg.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328</p>\n</blockquote>\n<p>Jasper was running on a WebLogic server. I tried restarting the WebLogic server by stopping all the backend processes. But it did not work. I am not able to retrieve the reports via the Front end.</p>\n"},{"tags":["java","spring-boot","hibernate","interface","hibernate-validator"],"answers":[{"comments":[{"owner":{"account_id":5660869,"reputation":361,"user_id":4478578,"display_name":"tekdungtralala"},"score":0,"creation_date":1669818327,"post_id":74617364,"comment_id":131729589,"body_markdown":"we can&#39;t have method body under interface class","body":"we can&#39;t have method body under interface class"}],"tags":[],"owner":{"account_id":27016676,"reputation":1,"user_id":20575391,"display_name":"IgorKostin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669913733,"creation_date":1669740045,"answer_id":74617364,"question_id":74616668,"body_markdown":"Edit: **Since I completely overlooked that it was about annotations, this answer does not apply to this question.**\r\n\r\nAs explained here [Java Properties file examples][1] you could use [Properties][2] class in your interface, with the method&#39;s default implementation as you already began. \r\n\r\n```java \r\npublic interface CreditCardNumber {\r\n    Properties properties = new Properties();\r\n\r\n    default String message() throws IOException {\r\n        properties.load(Main.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;));\r\n        return properties.getProperty(&quot;org.hibernate.validator.constraints.CreditCardNumber.message&quot;);\r\n    };\r\n}\r\n``` \r\nOr even a neater solution would be to create your own custom(a wrapper solution would be fine) Properties class, where you would load the properties file in its constructor (during construction). So you don&#39;t have to call `properties.load(...)` whenever you need it.\r\n\r\n\r\n  [1]: https://mkyong.com/java/java-properties-file-examples/\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html","title":"Java hibernate-validator @interface load from properties","body":"<p>Edit: <strong>Since I completely overlooked that it was about annotations, this answer does not apply to this question.</strong></p>\n<p>As explained here <a href=\"https://mkyong.com/java/java-properties-file-examples/\" rel=\"nofollow noreferrer\">Java Properties file examples</a> you could use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\">Properties</a> class in your interface, with the method's default implementation as you already began.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CreditCardNumber {\n    Properties properties = new Properties();\n\n    default String message() throws IOException {\n        properties.load(Main.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;));\n        return properties.getProperty(&quot;org.hibernate.validator.constraints.CreditCardNumber.message&quot;);\n    };\n}\n</code></pre>\n<p>Or even a neater solution would be to create your own custom(a wrapper solution would be fine) Properties class, where you would load the properties file in its constructor (during construction). So you don't have to call <code>properties.load(...)</code> whenever you need it.</p>\n"},{"comments":[{"owner":{"account_id":5660869,"reputation":361,"user_id":4478578,"display_name":"tekdungtralala"},"score":0,"creation_date":1669900914,"post_id":74625228,"comment_id":131751175,"body_markdown":"i&#39;m sorry i might bothering you, but hibernate validator has lot of file and many things that i don&#39;t understand\n\ni just want to create custom annotation like @CreditCardNumber with default error message from properties file and use that annotation in springboot controller\n\ncan you help me where should i start please","body":"i&#39;m sorry i might bothering you, but hibernate validator has lot of file and many things that i don&#39;t understand  i just want to create custom annotation like @CreditCardNumber with default error message from properties file and use that annotation in springboot controller  can you help me where should i start please"}],"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669799367,"creation_date":1669799367,"answer_id":74625228,"question_id":74616668,"body_markdown":"To be clear - Hibernate Validator does not load the properties into an annotation. The annotation only references the key from the property file. Getting values out is part of [interpolating constraint error messages][1]. This process is a bit more complex than just reading a file, it has to deal with internationalization and interpolation.\r\n\r\nAs for the actual reading of the property files, in this case, it&#39;s done through `ResourceBundle`s that underneath is using `Properties` class to load the data.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#chapter-message-interpolation","title":"Java hibernate-validator @interface load from properties","body":"<p>To be clear - Hibernate Validator does not load the properties into an annotation. The annotation only references the key from the property file. Getting values out is part of <a href=\"https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#chapter-message-interpolation\" rel=\"nofollow noreferrer\">interpolating constraint error messages</a>. This process is a bit more complex than just reading a file, it has to deal with internationalization and interpolation.</p>\n<p>As for the actual reading of the property files, in this case, it's done through <code>ResourceBundle</code>s that underneath is using <code>Properties</code> class to load the data.</p>\n"},{"tags":[],"owner":{"account_id":5660869,"reputation":361,"user_id":4478578,"display_name":"tekdungtralala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669961345,"creation_date":1669961345,"answer_id":74651538,"question_id":74616668,"body_markdown":"Doc: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.developing-auto-configuration\r\n\r\n#1. create the autoconfig class\r\n\r\n    @AutoConfiguration\r\n    public class ObiValidatorAutoConfiguration {\r\n\r\n        private MessageSource messageSource() {\r\n            ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n            messageSource.setBasename(&quot;classpath:messages&quot;);\r\n            messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            return messageSource;\r\n        }\r\n\r\n        @Bean\r\n        public LocalValidatorFactoryBean getValidator() {\r\n            LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\r\n            bean.setValidationMessageSource(messageSource());\r\n            return bean;\r\n        }\r\n    }\r\n\r\n\r\n#2. Locating Auto-configuration Candidates   \r\ncreate file ```META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports```  \r\nwith content like  \r\n```package.location.ObiValidatorAutoConfiguration```  \r\n\r\n#3. create the default error message file (for ex: ```resources/messages.properties```)   \r\nwith content   \r\n```package.cc.message=contains invalid character```  \r\n\r\n#4. the annotation class   \r\n\r\n    @Pattern(regexp = &quot;[\\\\.a-zA-Z0-9]*&quot;)\r\n    @Target({ FIELD, PARAMETER })\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = {})\r\n    @ReportAsSingleViolation\r\n    public @interface CreditCard {\r\n        String message() default &quot;{package.cc.message}&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n#5. use that annotation on spring-boot app, and when value is not valid then the default value (```contains invalid character```) is show up","title":"Java hibernate-validator @interface load from properties","body":"<p>Doc: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.developing-auto-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.developing-auto-configuration</a></p>\n<p>#1. create the autoconfig class</p>\n<pre><code>@AutoConfiguration\npublic class ObiValidatorAutoConfiguration {\n\n    private MessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n        messageSource.setBasename(&quot;classpath:messages&quot;);\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n        return messageSource;\n    }\n\n    @Bean\n    public LocalValidatorFactoryBean getValidator() {\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\n        bean.setValidationMessageSource(messageSource());\n        return bean;\n    }\n}\n</code></pre>\n<p>#2. Locating Auto-configuration Candidates<br />\ncreate file <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code><br />\nwith content like<br />\n<code>package.location.ObiValidatorAutoConfiguration</code></p>\n<p>#3. create the default error message file (for ex: <code>resources/messages.properties</code>)<br />\nwith content<br />\n<code>package.cc.message=contains invalid character</code></p>\n<p>#4. the annotation class</p>\n<pre><code>@Pattern(regexp = &quot;[\\\\.a-zA-Z0-9]*&quot;)\n@Target({ FIELD, PARAMETER })\n@Retention(RUNTIME)\n@Constraint(validatedBy = {})\n@ReportAsSingleViolation\npublic @interface CreditCard {\n    String message() default &quot;{package.cc.message}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>#5. use that annotation on spring-boot app, and when value is not valid then the default value (<code>contains invalid character</code>) is show up</p>\n"}],"owner":{"account_id":5660869,"reputation":361,"user_id":4478578,"display_name":"tekdungtralala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74651538,"answer_count":3,"score":0,"last_activity_date":1669961345,"creation_date":1669736781,"question_id":74616668,"body_markdown":"I saw following hibernate validator code\r\n```\r\npackage org.hibernate.validator.constraints;\r\n...\r\npublic @interface CreditCardNumber {\r\n   String message() default &quot;{org.hibernate.validator.constraints.CreditCardNumber.message}&quot;;\r\n...\r\n}\r\n```\r\n\r\nand in the properties files has key value the credit card error message like\r\n```\r\norg.hibernate.validator.constraints.CreditCardNumber.message        = invalid credit card number\r\n```\r\n\r\nhow do hibernate validator do such things   \r\ni mean load properties on @interface?","title":"Java hibernate-validator @interface load from properties","body":"<p>I saw following hibernate validator code</p>\n<pre><code>package org.hibernate.validator.constraints;\n...\npublic @interface CreditCardNumber {\n   String message() default &quot;{org.hibernate.validator.constraints.CreditCardNumber.message}&quot;;\n...\n}\n</code></pre>\n<p>and in the properties files has key value the credit card error message like</p>\n<pre><code>org.hibernate.validator.constraints.CreditCardNumber.message        = invalid credit card number\n</code></pre>\n<p>how do hibernate validator do such things<br />\ni mean load properties on @interface?</p>\n"},{"tags":["java","spring-boot","bean-validation"],"comments":[{"owner":{"account_id":11347144,"reputation":951,"user_id":8319308,"display_name":"Vadim Beskrovnov"},"score":0,"creation_date":1669914073,"post_id":74645451,"comment_id":131756327,"body_markdown":"Does this answer your question? [How can I inject a property value into a Spring Bean which was configured using annotations?](https://stackoverflow.com/questions/317687/how-can-i-inject-a-property-value-into-a-spring-bean-which-was-configured-using)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/317687/how-can-i-inject-a-property-value-into-a-spring-bean-which-was-configured-using\">How can I inject a property value into a Spring Bean which was configured using annotations?</a>"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1669914598,"post_id":74645451,"comment_id":131756509,"body_markdown":"Are you adding **variable.from.property** in .properties? So this should work like your example.","body":"Are you adding <b>variable.from.property</b> in .properties? So this should work like your example."},{"owner":{"account_id":20082078,"reputation":31,"user_id":14724496,"display_name":"ALEKSEY EMETS"},"score":0,"creation_date":1669961067,"post_id":74645451,"comment_id":131766134,"body_markdown":"@VadimBeskrovnov, Thanks. In the post on the link, we talk about beans, and I have a request object. It&#39;s about bean validation","body":"@VadimBeskrovnov, Thanks. In the post on the link, we talk about beans, and I have a request object. It&#39;s about bean validation"},{"owner":{"account_id":20082078,"reputation":31,"user_id":14724496,"display_name":"ALEKSEY EMETS"},"score":0,"creation_date":1669961116,"post_id":74645451,"comment_id":131766141,"body_markdown":"@DilermandoLima, in my case variable looked as string at validator code","body":"@DilermandoLima, in my case variable looked as string at validator code"},{"owner":{"account_id":20082078,"reputation":31,"user_id":14724496,"display_name":"ALEKSEY EMETS"},"score":0,"creation_date":1669961278,"post_id":74645451,"comment_id":131766162,"body_markdown":"Hmm, trying to add the validator code, but getting the error &quot;It looks like your post is mostly code; please add some more details.&quot;","body":"Hmm, trying to add the validator code, but getting the error &quot;It looks like your post is mostly code; please add some more details.&quot;"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1669966070,"post_id":74645451,"comment_id":131767210,"body_markdown":"@ALEKSEYEMETS then add some more details :) describe why it does not work, what your expected result is vs the actual result, etc.","body":"@ALEKSEYEMETS then add some more details :) describe why it does not work, what your expected result is vs the actual result, etc."}],"owner":{"account_id":20082078,"reputation":31,"user_id":14724496,"display_name":"ALEKSEY EMETS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669961143,"creation_date":1669913567,"question_id":74645451,"body_markdown":"\r\nIs there a way to pass a variable from a property file to a class annotation?\r\n\r\n\r\n```\r\n@MaxPeriod(firstDateField = &quot;startDateFrom&quot;, secondDateField = &quot;startDateTo&quot;, maxPeriod = &quot;${variable.from.property:31}&quot;)\r\npublic class ProcessReportFilter {\r\n    private LocalDate startDateFrom;\r\n    private LocalDate startDateTo;\r\n}\r\n```\r\nupd: annotation is used in the request object at bean validation\r\n\r\n```\r\n@Target({ElementType.TYPE})\r\n@Retention(RUNTIME)\r\n@Constraint(validatedBy = MaxPeriodValidator.class)\r\n@Repeatable(MaxPeriod.List.class)\r\npublic @interface MaxPeriod {\r\n\r\n  String message() default &quot;Period between {firstDateField} and {secondDateField} must not exceed {maxPeriod} day(-s)&quot;;\r\n\r\n  Class&lt;?&gt;[] groups() default {};\r\n\r\n  Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n  String firstDateField();\r\n\r\n  String secondDateField();\r\n\r\n  long maxPeriod();\r\n\r\n  @Target({ElementType.TYPE})\r\n  @Retention(RUNTIME)\r\n  @interface List {\r\n    MaxPeriod[] value();\r\n  }\r\n}\r\n```\r\n","title":"Variable into Spring Boot class annotation","body":"<p>Is there a way to pass a variable from a property file to a class annotation?</p>\n<pre><code>@MaxPeriod(firstDateField = &quot;startDateFrom&quot;, secondDateField = &quot;startDateTo&quot;, maxPeriod = &quot;${variable.from.property:31}&quot;)\npublic class ProcessReportFilter {\n    private LocalDate startDateFrom;\n    private LocalDate startDateTo;\n}\n</code></pre>\n<p>upd: annotation is used in the request object at bean validation</p>\n<pre><code>@Target({ElementType.TYPE})\n@Retention(RUNTIME)\n@Constraint(validatedBy = MaxPeriodValidator.class)\n@Repeatable(MaxPeriod.List.class)\npublic @interface MaxPeriod {\n\n  String message() default &quot;Period between {firstDateField} and {secondDateField} must not exceed {maxPeriod} day(-s)&quot;;\n\n  Class&lt;?&gt;[] groups() default {};\n\n  Class&lt;? extends Payload&gt;[] payload() default {};\n\n  String firstDateField();\n\n  String secondDateField();\n\n  long maxPeriod();\n\n  @Target({ElementType.TYPE})\n  @Retention(RUNTIME)\n  @interface List {\n    MaxPeriod[] value();\n  }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"score":1,"creation_date":1669082134,"post_id":74526592,"comment_id":131557499,"body_markdown":"From the image it looks like the view pager is added (empty space below the label &quot;transaction logs&quot;.\nDid you add a breakpoint to the mediator and check, whether any data is attached from the adapter?","body":"From the image it looks like the view pager is added (empty space below the label &quot;transaction logs&quot;. Did you add a breakpoint to the mediator and check, whether any data is attached from the adapter?"},{"owner":{"account_id":18706429,"reputation":35,"user_id":13637491,"display_name":"Esther Iyege"},"score":0,"creation_date":1669084698,"post_id":74526592,"comment_id":131557879,"body_markdown":"I just removed the tabLayoutMediator and the tabs are showing but the view pager is not working so I can not see any tab view page when I click on any of the tab.","body":"I just removed the tabLayoutMediator and the tabs are showing but the view pager is not working so I can not see any tab view page when I click on any of the tab."},{"owner":{"account_id":18706429,"reputation":35,"user_id":13637491,"display_name":"Esther Iyege"},"score":0,"creation_date":1669086546,"post_id":74526592,"comment_id":131558125,"body_markdown":"I  forgot to add the return value to the getItemCount() method of my adapter class","body":"I  forgot to add the return value to the getItemCount() method of my adapter class"},{"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"score":0,"creation_date":1669130290,"post_id":74526592,"comment_id":131571130,"body_markdown":"So problem solved then? If so, please make a post and answer your questions in order for others to find a solution as well.","body":"So problem solved then? If so, please make a post and answer your questions in order for others to find a solution as well."}],"answers":[{"tags":[],"owner":{"account_id":18706429,"reputation":35,"user_id":13637491,"display_name":"Esther Iyege"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669960567,"creation_date":1669960567,"answer_id":74651449,"question_id":74526592,"body_markdown":"I forgot to add the return value to the getItemCount() method of my adapter class","title":"How do I use a TabLayoutMediator for viewPager2 in android?","body":"<p>I forgot to add the return value to the getItemCount() method of my adapter class</p>\n"}],"owner":{"account_id":18706429,"reputation":35,"user_id":13637491,"display_name":"Esther Iyege"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669960567,"creation_date":1669080846,"question_id":74526592,"body_markdown":"Please I am trying to create a tab view inside a fragment,\r\n I created the tabs and view page2 in home layout and created a tabView Adapter, then I had to make the connections in my Home fragment class.\r\n\r\n[![This is the code for the tab view connection][1]][1]\r\n\r\n\r\n\r\nthe challenge now is the tabs stopped showing immediately I added the tab layout mediator below the \r\n\r\n    viewPager2.setAdapter(tabVPAdapter);\r\n\r\n     new TabLayoutMediator(tabLayout, viewPager2,\r\n                (tab, position) -&gt; tab.setText(&quot;OBJECT &quot; + (position + 1))\r\n        ).attach();\r\n\r\n\r\nPlease the image above is what I would love to achieve\r\n[![I expected this to show with the view pager working appropriately][2]][2] \r\n\r\nBut when  I ran the application this is what I got\r\n[![enter image description here][3]][3]\r\n\r\nI could not find the tabs any more and I checked the LogCat but did not see any error message.\r\n\r\nPlease what do I do?\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ietLE.jpg\r\n  [2]: https://i.stack.imgur.com/Vmnvk.jpg\r\n  [3]: https://i.stack.imgur.com/Wlhrq.jpg","title":"How do I use a TabLayoutMediator for viewPager2 in android?","body":"<p>Please I am trying to create a tab view inside a fragment,\nI created the tabs and view page2 in home layout and created a tabView Adapter, then I had to make the connections in my Home fragment class.</p>\n<p><a href=\"https://i.stack.imgur.com/ietLE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ietLE.jpg\" alt=\"This is the code for the tab view connection\" /></a></p>\n<p>the challenge now is the tabs stopped showing immediately I added the tab layout mediator below the</p>\n<pre><code>viewPager2.setAdapter(tabVPAdapter);\n\n new TabLayoutMediator(tabLayout, viewPager2,\n            (tab, position) -&gt; tab.setText(&quot;OBJECT &quot; + (position + 1))\n    ).attach();\n</code></pre>\n<p>Please the image above is what I would love to achieve\n<a href=\"https://i.stack.imgur.com/Vmnvk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vmnvk.jpg\" alt=\"I expected this to show with the view pager working appropriately\" /></a></p>\n<p>But when  I ran the application this is what I got\n<a href=\"https://i.stack.imgur.com/Wlhrq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wlhrq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I could not find the tabs any more and I checked the LogCat but did not see any error message.</p>\n<p>Please what do I do?</p>\n"},{"tags":["java","postgresql","jpa","spring-data-jpa","impala"],"comments":[{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1669960180,"post_id":74651342,"comment_id":131765994,"body_markdown":"There is lack of info.please add code with Entity class and what is in db","body":"There is lack of info.please add code with Entity class and what is in db"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669973462,"post_id":74651342,"comment_id":131769245,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":12700896,"reputation":1,"user_id":9227658,"display_name":"shg619"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669959684,"creation_date":1669959568,"question_id":74651342,"body_markdown":"Use case-\r\n\r\n```\r\n\tList&lt;String&gt; ids = Arrays.asList(&quot;1&quot;,&quot;2&quot;);\r\n\t\t\r\n\t\tList&lt;Entity&gt; list = repo.findByOrderNumberIn(ids);\r\n\t\tfor(Entity model: list) {\r\n\t\t\tSystem.out.println(model.toString());\r\n\t\t}\r\n\r\n```\r\n\r\n```\r\npublic interface EntityRepository extends JpaRepository&lt;Entity, Serializable&gt; {\r\n\r\n\tList&lt;Entity&gt; findByOrderNumberIn(List&lt;String&gt; ids);\r\n```\r\nExpected output - \r\n```\r\n Entity[1]\r\n Entity[2]\r\n```\r\nactually result getting \r\n```\r\n Entity[2]\r\n Entity[2]\r\n```\r\nnot sure whether Entity 1 is overriding.","title":"JPA findByFieldNameIn returning same object(last record) multiple times","body":"<p>Use case-</p>\n<pre><code>    List&lt;String&gt; ids = Arrays.asList(&quot;1&quot;,&quot;2&quot;);\n        \n        List&lt;Entity&gt; list = repo.findByOrderNumberIn(ids);\n        for(Entity model: list) {\n            System.out.println(model.toString());\n        }\n\n</code></pre>\n<pre><code>public interface EntityRepository extends JpaRepository&lt;Entity, Serializable&gt; {\n\n    List&lt;Entity&gt; findByOrderNumberIn(List&lt;String&gt; ids);\n</code></pre>\n<p>Expected output -</p>\n<pre><code> Entity[1]\n Entity[2]\n</code></pre>\n<p>actually result getting</p>\n<pre><code> Entity[2]\n Entity[2]\n</code></pre>\n<p>not sure whether Entity 1 is overriding.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669958138,"post_id":74650990,"comment_id":131765656,"body_markdown":"I don&#39;t know what you read, but as you&#39;ve shown, you can modify the contents of a `String` array, or any object array.  You can&#39;t change the length of an array without redefining the array and copying the contents to the new array.","body":"I don&#39;t know what you read, but as you&#39;ve shown, you can modify the contents of a <code>String</code> array, or any object array.  You can&#39;t change the length of an array without redefining the array and copying the contents to the new array."}],"answers":[{"tags":[],"owner":{"account_id":19402622,"reputation":119,"user_id":14188847,"display_name":"JustMe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669959022,"creation_date":1669959022,"answer_id":74651275,"question_id":74650990,"body_markdown":"The for-loop on it&#39;s own isn&#39;t modifying anything just reading the Object, but you are modifying it with `a[i1]=j+&quot;s&quot;;`. You can modify any public object anywhere in your code as long as you&#39;re in the correct scope and it isn&#39;t a final.","title":"Does for each loop modify the array? I read that it doesn&#39;t. However my program is. Pls explain. I am Java beginner","body":"<p>The for-loop on it's own isn't modifying anything just reading the Object, but you are modifying it with <code>a[i1]=j+&quot;s&quot;;</code>. You can modify any public object anywhere in your code as long as you're in the correct scope and it isn't a final.</p>\n"},{"tags":[],"owner":{"account_id":24239279,"reputation":134,"user_id":18191906,"display_name":"Samanja Cartagena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669959291,"creation_date":1669959291,"answer_id":74651309,"question_id":74650990,"body_markdown":"You are modifying your own array by concatenating s to it. \r\nTry doing this\r\n\r\n    String[] a = {&quot;dog&quot;, &quot;cat&quot;, &quot;turtle&quot;};\r\n    System.out.println(java.util.Arrays.toString(a));//line\r\n    int i1= 0;\r\n    for (String j : a) {\r\n     a[i1]=j;\r\n     if (i1 &lt; 2) {\r\n        i1++;\r\n     }\r\n    System.out.println(i1);\r\n    System.out.println(a[i1]);\r\n    }  \r\n    System.out.println();\r\n    System.out.println(java.util.Arrays.toString(a));//line\r\n","title":"Does for each loop modify the array? I read that it doesn&#39;t. However my program is. Pls explain. I am Java beginner","body":"<p>You are modifying your own array by concatenating s to it.\nTry doing this</p>\n<pre><code>String[] a = {&quot;dog&quot;, &quot;cat&quot;, &quot;turtle&quot;};\nSystem.out.println(java.util.Arrays.toString(a));//line\nint i1= 0;\nfor (String j : a) {\n a[i1]=j;\n if (i1 &lt; 2) {\n    i1++;\n }\nSystem.out.println(i1);\nSystem.out.println(a[i1]);\n}  \nSystem.out.println();\nSystem.out.println(java.util.Arrays.toString(a));//line\n</code></pre>\n"}],"owner":{"account_id":25565821,"reputation":1,"user_id":19347264,"display_name":"SBh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669959291,"creation_date":1669956122,"question_id":74650990,"body_markdown":"Here is the code that I am testing. My string array a showing modified array elements as dogs, cats, turtles. \r\n```java\r\nString[] a = {&quot;dog&quot;, &quot;cat&quot;, &quot;turtle&quot;};\r\nSystem.out.println(java.util.Arrays.toString(a));//line\r\nint i1= 0;\r\nfor (String j : a) {\r\n    a[i1]=j+&quot;s&quot;;\r\n    if (i1 &lt; 2) {\r\n        i1++;\r\n    }\r\n    System.out.println(i1);\r\n    System.out.println(a[i1]);\r\n}  \r\nSystem.out.println();\r\nSystem.out.println(java.util.Arrays.toString(a));//line\r\n```\r\noutput\r\n\r\n    [dog, cat, turtle]\r\n    [dogs, cats, turtles]\r\n","title":"Does for each loop modify the array? I read that it doesn&#39;t. However my program is. Pls explain. I am Java beginner","body":"<p>Here is the code that I am testing. My string array a showing modified array elements as dogs, cats, turtles.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] a = {&quot;dog&quot;, &quot;cat&quot;, &quot;turtle&quot;};\nSystem.out.println(java.util.Arrays.toString(a));//line\nint i1= 0;\nfor (String j : a) {\n    a[i1]=j+&quot;s&quot;;\n    if (i1 &lt; 2) {\n        i1++;\n    }\n    System.out.println(i1);\n    System.out.println(a[i1]);\n}  \nSystem.out.println();\nSystem.out.println(java.util.Arrays.toString(a));//line\n</code></pre>\n<p>output</p>\n<pre><code>[dog, cat, turtle]\n[dogs, cats, turtles]\n</code></pre>\n"},{"tags":["java","ssl","ssl-certificate","pkix"],"comments":[{"owner":{"account_id":2014782,"reputation":1337,"user_id":1802348,"display_name":"positivecrux"},"score":0,"creation_date":1670545746,"post_id":74651300,"comment_id":131905439,"body_markdown":"you need to install yous ssl cert into java cacerts. refer [this](https://stackoverflow.com/a/37411410/1802348) answer.","body":"you need to install yous ssl cert into java cacerts. refer <a href=\"https://stackoverflow.com/a/37411410/1802348\">this</a> answer."}],"owner":{"account_id":21177397,"reputation":31,"user_id":15572454,"display_name":"Mangesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1731,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669959225,"creation_date":1669959225,"question_id":74651300,"body_markdown":"getting certifiate isssue while triggering API::\r\n\r\n\r\n```\r\njavax.net.ssl|ERROR|01|main|2022-11-22 05:56:38.677 UTC|TransportContext.java:361|Fatal (CERTIFICATE_UNKNOWN): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target (\r\n&quot;throwable&quot; : {\r\n  sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\n\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nVerified the certificate and enabled the ssl debug log, but unable to get the root cause","title":"Fatal (CERTIFICATE_UNKNOWN): PKIX path building failed","body":"<p>getting certifiate isssue while triggering API::</p>\n<pre><code>javax.net.ssl|ERROR|01|main|2022-11-22 05:56:38.677 UTC|TransportContext.java:361|Fatal (CERTIFICATE_UNKNOWN): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target (\n&quot;throwable&quot; : {\n  sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n<p>Verified the certificate and enabled the ssl debug log, but unable to get the root cause</p>\n"},{"tags":["java","sql","selenium","select","syntax-error"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1669959818,"post_id":74651285,"comment_id":131765925,"body_markdown":"Maybe print out the `list` first check that it contains what you think it should.","body":"Maybe print out the <code>list</code> first check that it contains what you think it should."},{"owner":{"account_id":23751821,"reputation":204,"user_id":17768469,"display_name":"GWR"},"score":0,"creation_date":1669960311,"post_id":74651285,"comment_id":131766022,"body_markdown":"Every item in the list needs to be surrounded with quotes instead of just the whole list.","body":"Every item in the list needs to be surrounded with quotes instead of just the whole list."},{"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"score":0,"creation_date":1669963613,"post_id":74651285,"comment_id":131766623,"body_markdown":"Try `lists.stream().collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;))`","body":"Try <code>lists.stream().collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;))</code>"},{"owner":{"account_id":10958861,"reputation":514,"user_id":8052787,"display_name":"FredvN"},"score":0,"creation_date":1669970954,"post_id":74651285,"comment_id":131768456,"body_markdown":"Use a prepared statement. see https://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause","body":"Use a prepared statement. see <a href=\"https://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause\" title=\"preparedstatement with list of parameters in a in clause\">stackoverflow.com/questions/3107044/&hellip;</a>"},{"owner":{"account_id":26489868,"reputation":11,"user_id":20127966,"display_name":"Trong Nguyen"},"score":0,"creation_date":1698208308,"post_id":74651285,"comment_id":136374516,"body_markdown":"Hello @ScaryWombat , GWR , ﾓｷｬﾃﾞ and FredvN \nThank you for responding to my queries and apologies for the late response\n\nI&#39;ve taken into the above considerations and attempted to rewrote the codes again from scratch. Turns out there was an issue with my statement bit, as it was missing the right parenthesis (&#39; &#39;) which i somehow mention on here but not included the correct parenthesis in the code instead... *face palm + smh*","body":"Hello @ScaryWombat , GWR , ﾓｷｬﾃﾞ and FredvN  Thank you for responding to my queries and apologies for the late response  I&#39;ve taken into the above considerations and attempted to rewrote the codes again from scratch. Turns out there was an issue with my statement bit, as it was missing the right parenthesis (&#39; &#39;) which i somehow mention on here but not included the correct parenthesis in the code instead... <i>face palm + smh</i>"}],"owner":{"account_id":26489868,"reputation":11,"user_id":20127966,"display_name":"Trong Nguyen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669959096,"creation_date":1669959096,"question_id":74651285,"body_markdown":"Attempted to run the query from extracting data from a specific website, but picking up \r\nORA-00907: missing right parenthesis instead.\r\n\r\n```\r\npublic static void build(){\r\n Connection con = null;\r\n ResultSet rs = null;\r\n Statement stms = null;\r\n\r\n String buildXML =&quot;&quot;;\r\n\r\n String list = lists.stream().collect(Collectors.joining(&quot;&#39;,&#39;&quot;));\r\n\r\n try {\r\n  &lt;&lt;&lt;database&gt;&gt;&gt;\r\n  &lt;&lt;&lt;connection&gt;&gt;&gt;\r\n\r\n  rs = stmt.executeQuery(&quot;select name, type, dob, age, height, weight from peopleH where name in (&#39;&quot; + list + &quot;&#39;) and age !=0 and dob !=0&quot;); &lt;-- *error here?!?*\r\n\r\n  while(rs.next()){\r\n   for(int i=0; lists.size() &gt; i; i++){\r\n     if(&lt;&lt;does not contain the name&gt;&gt;){\r\n      &lt;&lt;&lt;do this&gt;&gt;&gt;\r\n     }\r\n     else {\r\n      &lt;&lt;&lt;do that&gt;&gt;&gt;\r\n     }\r\n   }\r\n  }\r\n }\r\ncatch(){\r\n} finally{\r\n}\r\n}\r\n```\r\n\r\n\r\nWhat&#39;s meant to happen is that when data is filter and extracted via selenium (which is stored in an arrayList). The query above will query the arraylist and compare with the database against what is display on the selenium browser.\r\n\r\nhowever the query above is pitching out missing right parenthesis...\r\nI can&#39;t seem to find the issue here as last checked there is no addition , or invalid logic (in (***) and &#39;and&#39; statement).\r\n\r\nthe data being filtered from selenium is printing out as expected \r\ne.g john, sam, smith, mary, lili, happy\r\n\r\nif placed in query it will be something like this\r\n\r\n```\r\nrs = stmt.executeQuery(&quot;select name, type, dob, age, height, weight from peopleH where name in (&#39;john&#39;,&#39;sam&#39;,&#39;smith&#39;,&#39;mary&#39;,&#39;lili&#39;,&#39;happy&#39;) and age !=0 and dob !=0&quot;);\r\n```\r\nto something like this\r\n\r\n```\r\nrs = stmt.executeQuery(&quot;select name, type, dob, age, height, weight from peopleH where name in (&#39;&quot; + list + &quot;&#39;) and age !=0 and dob !=0&quot;);\r\n```\r\n","title":"cannot identify the missing right parenthesis","body":"<p>Attempted to run the query from extracting data from a specific website, but picking up\nORA-00907: missing right parenthesis instead.</p>\n<pre><code>public static void build(){\n Connection con = null;\n ResultSet rs = null;\n Statement stms = null;\n\n String buildXML =&quot;&quot;;\n\n String list = lists.stream().collect(Collectors.joining(&quot;','&quot;));\n\n try {\n  &lt;&lt;&lt;database&gt;&gt;&gt;\n  &lt;&lt;&lt;connection&gt;&gt;&gt;\n\n  rs = stmt.executeQuery(&quot;select name, type, dob, age, height, weight from peopleH where name in ('&quot; + list + &quot;') and age !=0 and dob !=0&quot;); &lt;-- *error here?!?*\n\n  while(rs.next()){\n   for(int i=0; lists.size() &gt; i; i++){\n     if(&lt;&lt;does not contain the name&gt;&gt;){\n      &lt;&lt;&lt;do this&gt;&gt;&gt;\n     }\n     else {\n      &lt;&lt;&lt;do that&gt;&gt;&gt;\n     }\n   }\n  }\n }\ncatch(){\n} finally{\n}\n}\n</code></pre>\n<p>What's meant to happen is that when data is filter and extracted via selenium (which is stored in an arrayList). The query above will query the arraylist and compare with the database against what is display on the selenium browser.</p>\n<p>however the query above is pitching out missing right parenthesis...\nI can't seem to find the issue here as last checked there is no addition , or invalid logic (in (***) and 'and' statement).</p>\n<p>the data being filtered from selenium is printing out as expected\ne.g john, sam, smith, mary, lili, happy</p>\n<p>if placed in query it will be something like this</p>\n<pre><code>rs = stmt.executeQuery(&quot;select name, type, dob, age, height, weight from peopleH where name in ('john','sam','smith','mary','lili','happy') and age !=0 and dob !=0&quot;);\n</code></pre>\n<p>to something like this</p>\n<pre><code>rs = stmt.executeQuery(&quot;select name, type, dob, age, height, weight from peopleH where name in ('&quot; + list + &quot;') and age !=0 and dob !=0&quot;);\n</code></pre>\n"},{"tags":["java","selenium","cucumber","extentreports"],"comments":[{"owner":{"account_id":9440106,"reputation":175,"user_id":7020896,"display_name":"Priyadarsini Muthuvel"},"score":0,"creation_date":1566911579,"post_id":57675356,"comment_id":101798021,"body_markdown":"The below dependencies used for the extent reports for io.cucumber.4.7.1:               // https://mvnrepository.com/artifact/com.aventstack/extentreports-cucumber4-adapter\n    compile group: &#39;com.aventstack&#39;, name: &#39;extentreports-cucumber4-adapter&#39;, version: &#39;1.0.7&#39;\n   // https://mvnrepository.com/artifact/com.aventstack/extentreports\n    compile group: &#39;com.aventstack&#39;, name: &#39;extentreports&#39;, version: &#39;3.0.2&#39;","body":"The below dependencies used for the extent reports for io.cucumber.4.7.1:               // <a href=\"https://mvnrepository.com/artifact/com.aventstack/extentreports-cucumber4-adapter\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.aventstack/&hellip;</a>     compile group: &#39;com.aventstack&#39;, name: &#39;extentreports-cucumber4-adapter&#39;, version: &#39;1.0.7&#39;    // <a href=\"https://mvnrepository.com/artifact/com.aventstack/extentreports\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.aventstack/extentreports</a>     compile group: &#39;com.aventstack&#39;, name: &#39;extentreports&#39;, version: &#39;3.0.2&#39;"},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1566918868,"post_id":57675356,"comment_id":101802340,"body_markdown":"Priya, what is your cucumber version and Gherkin version that you used/mentioned in **pom.xml**.","body":"Priya, what is your cucumber version and Gherkin version that you used/mentioned in <b>pom.xml</b>."},{"owner":{"account_id":9440106,"reputation":175,"user_id":7020896,"display_name":"Priyadarsini Muthuvel"},"score":0,"creation_date":1566918987,"post_id":57675356,"comment_id":101802408,"body_markdown":"Cucumber 4.7.1. I have separately tried with extent adapter and extent report. But its not workout for me.","body":"Cucumber 4.7.1. I have separately tried with extent adapter and extent report. But its not workout for me."},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":1,"creation_date":1566923597,"post_id":57675356,"comment_id":101804622,"body_markdown":"Remove the AfterClass method in runner if you are using the extent adapter.","body":"Remove the AfterClass method in runner if you are using the extent adapter."},{"owner":{"account_id":9440106,"reputation":175,"user_id":7020896,"display_name":"Priyadarsini Muthuvel"},"score":0,"creation_date":1566976647,"post_id":57675356,"comment_id":101818928,"body_markdown":"Hi @Grasshopper, Thanks for the info. I have tried with the help of below links,http://grasshopper.tech/824/. In that article you have mentioned to add the system path in the pom.xml. i.e.,\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;extentreports-cucumber4-adapter&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.0.8&lt;/version&gt;\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\n\t\t\t&lt;systemPath&gt;D:/extentreports-cucumber4-adapter.jar&lt;/systemPath&gt;\n\t\t&lt;/dependency&gt;","body":"Hi @Grasshopper, Thanks for the info. I have tried with the help of below links,<a href=\"http://grasshopper.tech/824/\" rel=\"nofollow noreferrer\">grasshopper.tech/824</a>. In that article you have mentioned to add the system path in the pom.xml. i.e.,\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;extentreports-cucumber4-adapter&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.0.8&lt;/version&gt; \t\t\t&lt;scope&gt;system&lt;/scope&gt; \t\t\t&lt;systemPath&gt;D:/extentreports-cucumber4-adapter.jar&lt;/syste&zwnj;&#8203;mPath&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":9440106,"reputation":175,"user_id":7020896,"display_name":"Priyadarsini Muthuvel"},"score":0,"creation_date":1566977051,"post_id":57675356,"comment_id":101819117,"body_markdown":"how can I implement the same thing in the gradle.                       \n\t\t   I has been used like that,                                                                                           // https://mvnrepository.com/artifact/com.aventstack/extentreports-cucumber4-adapter\n    compile group: &#39;C:/Users/MSTSYS0/Desktop/CucumberGradleProject/src/test/resources/config/extentreports-cucumber4-adapter.jar&#39;, name: &#39;extentreports-cucumber4-adapter&#39;, version: &#39;1.0.8&#39;\nKindly help me in this regards.@Grasshopper","body":"how can I implement the same thing in the gradle.                        \t\t   I has been used like that,                                                                                           // <a href=\"https://mvnrepository.com/artifact/com.aventstack/extentreports-cucumber4-adapter\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.aventstack/&hellip;</a>     compile group: &#39;C:/Users/MSTSYS0/Desktop/CucumberGradleProject/src/test/res&zwnj;&#8203;ources/config/extent&zwnj;&#8203;reports-cucumber4-ad&zwnj;&#8203;apter.jar&#39;, name: &#39;extentreports-cucumber4-adapter&#39;, version: &#39;1.0.8&#39; Kindly help me in this regards.@Grasshopper"},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1566978602,"post_id":57675356,"comment_id":101819847,"body_markdown":"@PriyadarsiniMuthuvel Refer to this post - https://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file.","body":"@PriyadarsiniMuthuvel Refer to this post - <a href=\"https://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file\" title=\"how to add local jar file dependency to build gradle file\">stackoverflow.com/questions/20700053/&hellip;</a>."},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1567052776,"post_id":57675356,"comment_id":101849213,"body_markdown":"@PriyadarsiniMuthuvel To obtain the similar thing (system path) in Gradle. Try with adding the dependencies as follows: **dependencies {\n    compile files(&quot;mention the path of your file&quot;)\n}**\nKeep the path as relative/dynamic rather than absolute.","body":"@PriyadarsiniMuthuvel To obtain the similar thing (system path) in Gradle. Try with adding the dependencies as follows: <b>dependencies {     compile files(&quot;mention the path of your file&quot;) }</b> Keep the path as relative/dynamic rather than absolute."},{"owner":{"account_id":9440106,"reputation":175,"user_id":7020896,"display_name":"Priyadarsini Muthuvel"},"score":0,"creation_date":1567055134,"post_id":57675356,"comment_id":101849702,"body_markdown":"@AshokkumarGanesan. I have used the same thing but its not work out.   testCompile(files(&quot;C:/Users/MSTSYS0/Desktop/CucumberGradleProject/src/test/resources/config/extentreports-cucumber4-adapter.jar&quot;))","body":"@AshokkumarGanesan. I have used the same thing but its not work out.   testCompile(files(&quot;C:/Users/MSTSYS0/Desktop/CucumberGradlePr&zwnj;&#8203;oject/src/test/resou&zwnj;&#8203;rces/config/extentre&zwnj;&#8203;ports-cucumber4-adap&zwnj;&#8203;ter.jar&quot;))"},{"owner":{"account_id":9440106,"reputation":175,"user_id":7020896,"display_name":"Priyadarsini Muthuvel"},"score":0,"creation_date":1567080340,"post_id":57675356,"comment_id":101861724,"body_markdown":"@AshokkumarGanesan Thanks much for your help","body":"@AshokkumarGanesan Thanks much for your help"}],"answers":[{"tags":[],"owner":{"account_id":9440106,"reputation":175,"user_id":7020896,"display_name":"Priyadarsini Muthuvel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1567151009,"creation_date":1567077941,"answer_id":57709136,"question_id":57675356,"body_markdown":"The Extent report is not supported in Cucumber **4.7.1v**. Due to that,we have to work with **Extent Report Cucumber Adapter**.\r\n\r\nIn Gradle add the following things Cucumber 4.7.1, Extent Report Cucumber Adapter 1.0.7\r\n\r\n[Gradle path for Cucumber 4.7.1][1]\r\n\r\n    compile group: &#39;com.aventstack&#39;, name: &#39;extentreports-cucumber4-adapter&#39;, version: &#39;1.0.7&#39;\r\n\r\nIn addition to that, manually download the jar and add it to build.gradle as below.\r\n\r\n     compile files(&quot;src/test/resources/config/extentreports-cucumber4-adapter.jar&quot;)\r\n\r\n(We have to include both the versions 1.0.7 &amp; 1.0.8 to make it work)\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.aventstack/extentreports-cucumber4-adapter/1.0.7","title":"Extent report is not working in Cucumber 4.7.1","body":"<p>The Extent report is not supported in Cucumber <strong>4.7.1v</strong>. Due to that,we have to work with <strong>Extent Report Cucumber Adapter</strong>.</p>\n\n<p>In Gradle add the following things Cucumber 4.7.1, Extent Report Cucumber Adapter 1.0.7</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.aventstack/extentreports-cucumber4-adapter/1.0.7\" rel=\"nofollow noreferrer\">Gradle path for Cucumber 4.7.1</a></p>\n\n<pre><code>compile group: 'com.aventstack', name: 'extentreports-cucumber4-adapter', version: '1.0.7'\n</code></pre>\n\n<p>In addition to that, manually download the jar and add it to build.gradle as below.</p>\n\n<pre><code> compile files(\"src/test/resources/config/extentreports-cucumber4-adapter.jar\")\n</code></pre>\n\n<p>(We have to include both the versions 1.0.7 &amp; 1.0.8 to make it work)</p>\n"}],"owner":{"account_id":9440106,"reputation":175,"user_id":7020896,"display_name":"Priyadarsini Muthuvel"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2098,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57709136,"answer_count":1,"score":1,"last_activity_date":1669958554,"creation_date":1566911119,"question_id":57675356,"body_markdown":"When I tried with Cucumber latest version 4.7.1 *i.e.,&#39;io.cucumber&#39;*,\r\nwith Extent report 3.0 the report is not generated. I have tried with different versions in extent report but still the output is generated properly.\r\n\r\nI have tried with different combo versions between Cucumber and Extent Report but still no output. Someone could shed the light over here to bring up the output.    \r\n\r\n**Code:**\r\n    \r\n    /**\r\n     * @Author: PriyadarsiniMuthuvel\r\n     * @Created date: 19-08-2019\r\n     * @Project Description: CucumberGradleProject\r\n     **/\r\n    \r\n        \r\n    import io.cucumber.junit.CucumberOptions;\r\n    import io.cucumber.junit.Cucumber;\r\n    import org.junit.AfterClass;\r\n    import org.junit.runner.RunWith;\r\n    import managers.FileReaderManager;\r\n    \r\n    import java.io.File;\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = &quot;src/test/resources/SmokeSuite&quot;,\r\n            glue= {&quot;stepDef&quot;},\r\n          //  plugin = { &quot;pretty&quot;,&quot;html:target/cucumber-reports&quot;},\r\n     //  plugin = { &quot;com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html&quot;},\r\n        // plugin = { &quot;com.vimalselvam.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html&quot;},\r\n          plugin = { &quot;com.aventstack.extentreportscucumber.adapter.ExtentCucumberAdapter:target/cucumber-reports/report.html&quot;},\r\n            monochrome = true\r\n    )\r\n    public class testrunner {\r\n\r\n        @AfterClass\r\n        public static void writeExtentReport() {\r\n\r\n            Reporter.loadXMLConfig(new File(FileReaderManager.getInstance().getConfigReader().getReportConfigPath()));\r\n            Reporter.setSystemInfo(&quot;User Name&quot;, System.getProperty(&quot;user.name&quot;));\r\n            Reporter.setSystemInfo(&quot;Time Zone&quot;, System.getProperty(&quot;user.timezone&quot;));\r\n            Reporter.setSystemInfo(&quot;Machine&quot;, System.getProperty (&quot;os.name&quot;));\r\n            Reporter.setSystemInfo(&quot;Java Version&quot;, System.getProperty (&quot;java.version&quot;));\r\n        }\r\n    }\r\n      \r\n**Console:**\r\n    \r\n\r\n&gt; java.lang.NoClassDefFoundError: gherkin/formatter/Reporter \tat\r\n&gt; java.lang.ClassLoader.defineClass1(Native Method) \tat\r\n&gt; java.lang.ClassLoader.defineClass(ClassLoader.java:763) \tat\r\n&gt; java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n&gt; \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467) \tat\r\n&gt; java.net.URLClassLoader.access$100(URLClassLoader.java:73) \tat\r\n&gt; java.net.URLClassLoader$1.run(URLClassLoader.java:368) \tat\r\n&gt; java.net.URLClassLoader$1.run(URLClassLoader.java:362) \tat\r\n&gt; java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:361) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat\r\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:357) \tat\r\n&gt; com.vimalselvam.cucumber.listener.Reporter.getCurrentScenario(Reporter.java:166)\r\n&gt; \tat\r\n&gt; com.vimalselvam.cucumber.listener.Reporter.assignAuthor(Reporter.java:158)\r\n&gt; \tat stepDef.Hooks.BeforeSteps(Hooks.java:39) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; cucumber.runtime.Utils$1.call(Utils.java:26) \tat\r\n&gt; cucumber.runtime.Timeout.timeout(Timeout.java:16) \tat\r\n&gt; cucumber.runtime.Utils.invoke(Utils.java:20) \tat\r\n&gt; cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:65)\r\n&gt; \tat\r\n&gt; cucumber.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:16)\r\n&gt; \tat cucumber.runner.TestStep.executeStep(TestStep.java:65) \tat\r\n&gt; cucumber.runner.TestStep.run(TestStep.java:50) \tat\r\n&gt; cucumber.runner.TestCase.run(TestCase.java:42) \tat\r\n&gt; cucumber.runner.Runner.runPickle(Runner.java:50) \tat\r\n&gt; io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:146)\r\n&gt; \tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:68)\r\n&gt; \tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:23)\r\n&gt; \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) \tat\r\n&gt; org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) \tat\r\n&gt; org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) \tat\r\n&gt; org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) \tat\r\n&gt; org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) \tat\r\n&gt; org.junit.runners.ParentRunner.run(ParentRunner.java:363) \tat\r\n&gt; io.cucumber.junit.Cucumber.runChild(Cucumber.java:142) \tat\r\n&gt; io.cucumber.junit.Cucumber.runChild(Cucumber.java:65) \tat\r\n&gt; org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) \tat\r\n&gt; org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) \tat\r\n&gt; org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) \tat\r\n&gt; org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) \tat\r\n&gt; org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) \tat\r\n&gt; io.cucumber.junit.Cucumber$RunCucumber.evaluate(Cucumber.java:172) \tat\r\n&gt; org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n&gt; \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) \tat\r\n&gt; org.junit.runner.JUnitCore.run(JUnitCore.java:137) \tat\r\n&gt; com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n&gt; \tat\r\n&gt; com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n&gt; \tat\r\n&gt; com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n&gt; \tat\r\n&gt; com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; gherkin.formatter.Reporter \tat\r\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:381) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat\r\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:357) \t... 52 more\r\n\r\n","title":"Extent report is not working in Cucumber 4.7.1","body":"<p>When I tried with Cucumber latest version 4.7.1 <em>i.e.,'io.cucumber'</em>,\nwith Extent report 3.0 the report is not generated. I have tried with different versions in extent report but still the output is generated properly.</p>\n\n<p>I have tried with different combo versions between Cucumber and Extent Report but still no output. Someone could shed the light over here to bring up the output.    </p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>/**\n * @Author: PriyadarsiniMuthuvel\n * @Created date: 19-08-2019\n * @Project Description: CucumberGradleProject\n **/\n\n\nimport io.cucumber.junit.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\nimport org.junit.AfterClass;\nimport org.junit.runner.RunWith;\nimport managers.FileReaderManager;\n\nimport java.io.File;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = \"src/test/resources/SmokeSuite\",\n        glue= {\"stepDef\"},\n      //  plugin = { \"pretty\",\"html:target/cucumber-reports\"},\n //  plugin = { \"com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html\"},\n    // plugin = { \"com.vimalselvam.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html\"},\n      plugin = { \"com.aventstack.extentreportscucumber.adapter.ExtentCucumberAdapter:target/cucumber-reports/report.html\"},\n        monochrome = true\n)\npublic class testrunner {\n\n    @AfterClass\n    public static void writeExtentReport() {\n\n        Reporter.loadXMLConfig(new File(FileReaderManager.getInstance().getConfigReader().getReportConfigPath()));\n        Reporter.setSystemInfo(\"User Name\", System.getProperty(\"user.name\"));\n        Reporter.setSystemInfo(\"Time Zone\", System.getProperty(\"user.timezone\"));\n        Reporter.setSystemInfo(\"Machine\", System.getProperty (\"os.name\"));\n        Reporter.setSystemInfo(\"Java Version\", System.getProperty (\"java.version\"));\n    }\n}\n</code></pre>\n\n<p><strong>Console:</strong></p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: gherkin/formatter/Reporter    at\n  java.lang.ClassLoader.defineClass1(Native Method)     at\n  java.lang.ClassLoader.defineClass(ClassLoader.java:763)   at\n  java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)     at\n  java.net.URLClassLoader.access$100(URLClassLoader.java:73)    at\n  java.net.URLClassLoader$1.run(URLClassLoader.java:368)    at\n  java.net.URLClassLoader$1.run(URLClassLoader.java:362)    at\n  java.security.AccessController.doPrivileged(Native Method)    at\n  java.net.URLClassLoader.findClass(URLClassLoader.java:361)    at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:424)     at\n  sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)     at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:357)     at\n  com.vimalselvam.cucumber.listener.Reporter.getCurrentScenario(Reporter.java:166)\n    at\n  com.vimalselvam.cucumber.listener.Reporter.assignAuthor(Reporter.java:158)\n    at stepDef.Hooks.BeforeSteps(Hooks.java:39)     at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  cucumber.runtime.Utils$1.call(Utils.java:26)  at\n  cucumber.runtime.Timeout.timeout(Timeout.java:16)     at\n  cucumber.runtime.Utils.invoke(Utils.java:20)  at\n  cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:65)\n    at\n  cucumber.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:16)\n    at cucumber.runner.TestStep.executeStep(TestStep.java:65)   at\n  cucumber.runner.TestStep.run(TestStep.java:50)    at\n  cucumber.runner.TestCase.run(TestCase.java:42)    at\n  cucumber.runner.Runner.runPickle(Runner.java:50)  at\n  io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:146)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:68)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:23)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)  at\n  org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)   at\n  org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)     at\n  org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)   at\n  org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)  at\n  org.junit.runners.ParentRunner.run(ParentRunner.java:363)     at\n  io.cucumber.junit.Cucumber.runChild(Cucumber.java:142)    at\n  io.cucumber.junit.Cucumber.runChild(Cucumber.java:65)     at\n  org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)   at\n  org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)   at\n  org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)     at\n  org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)   at\n  org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)  at\n  io.cucumber.junit.Cucumber$RunCucumber.evaluate(Cucumber.java:172)    at\n  org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)    at\n  org.junit.runner.JUnitCore.run(JUnitCore.java:137)    at\n  com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at\n  com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at\n  com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at\n  com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n  Caused by: java.lang.ClassNotFoundException:\n  gherkin.formatter.Reporter    at\n  java.net.URLClassLoader.findClass(URLClassLoader.java:381)    at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:424)     at\n  sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)     at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:357)     ... 52 more</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-data-jpa","composite-key","tibero"],"owner":{"account_id":27118610,"reputation":1,"user_id":20662591,"display_name":"Chung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669957793,"creation_date":1669957793,"question_id":74651141,"body_markdown":"I think the repository can read the records within the DB as requested (can count the records that meets the where clause condition) but there is a problem mapping the retrieved records into Entity.\r\n\r\nHere is my IdClass:\r\n\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class MetaEdgeInfoId implements Serializable {\r\n\r\n    @Column(name = &quot;SRC_NODE&quot;, nullable = false, length = 30)\r\n    private Integer srcNode;\r\n    @Column(name = &quot;DST_NODE&quot;, nullable = false, length = 30)\r\n    private Integer dstNode;\r\n    @Column(name = &quot;BR_ID&quot;, length = 30)\r\n    private Integer brId;\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return (this.srcNode.hashCode() + this.dstNode.hashCode() + this.brId.hashCode());\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n        if (getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n        MetaEdgeInfo other = (MetaEdgeInfo) obj;\r\n        return (Objects.equals(this.srcNode, other.getSrcNode()) &amp;&amp;\r\n                Objects.equals(this.dstNode, other.getDstNode()) &amp;&amp;\r\n                Objects.equals(this.brId, other.getBrId()));\r\n    }\r\n}\r\n```\r\nI looked up the internet and found out that the IdClass must be public, there must be a NoArgsConstructor, Serializable must be implemented, and hashCode() and equals() must be implemented as well.\r\n\r\nHere is my Entity class:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n//@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(schema = &quot;HYPERDATA&quot;, name = &quot;META_EDGE_INFO&quot;)\r\n@IdClass(MetaEdgeInfoId.class)\r\npublic class MetaEdgeInfo implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;SRC_NODE&quot;, nullable = false, length = 30)\r\n    private Integer srcNode;\r\n\r\n    @Id\r\n    @Column(name = &quot;DST_NODE&quot;, nullable = false, length = 30)\r\n    private Integer dstNode;\r\n\r\n    @Id\r\n    @Column(name = &quot;BR_ID&quot;, length = 30)\r\n    private Integer brId;\r\n\r\n    @Column(name = &quot;EDGE_TYPE&quot;, nullable = false)\r\n    private String edgeType;\r\n}\r\n```\r\n\r\nLastly, here is my repository with a method that I will show the result of:\r\n\r\n```\r\npublic interface MetaEdgeInfoRepository extends JpaRepository&lt;MetaEdgeInfo, MetaEdgeInfoId&gt;,\r\n        MetaEdgeInfoRepositoryCustom {\r\n\r\n    List&lt;MetaEdgeInfo&gt; findByEdgeType(String edgeType);\r\n}\r\n```\r\n\r\nHere is my controller to test the find method:\r\n\r\n```\r\n@GetMapping(&quot;/va1/test/om/writeValueAsString&quot;)\r\npublic void test_wvas() throws JsonProcessingException {\r\n    List&lt;MetaEdgeInfo&gt; table = metaEdgeInfoRepository.findByEdgeType(&quot;TABLE&quot;);\r\n    System.out.println(table);\r\n}\r\n```\r\n\r\nResult is below:\r\n[Knows how many records, but shown as null](https://i.stack.imgur.com/W2y4K.png)\r\n\r\nI first tried using EmbeddedId &amp; Embeddable, but could not figure it out and trying IdClass, still struggling. It&#39;d be great if I can get a hint of why my set up is not working.\r\n\r\nBest,","title":"Spring Data JPA repository retrieves Entity with IdClass composite key as null from DB","body":"<p>I think the repository can read the records within the DB as requested (can count the records that meets the where clause condition) but there is a problem mapping the retrieved records into Entity.</p>\n<p>Here is my IdClass:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class MetaEdgeInfoId implements Serializable {\n\n    @Column(name = &quot;SRC_NODE&quot;, nullable = false, length = 30)\n    private Integer srcNode;\n    @Column(name = &quot;DST_NODE&quot;, nullable = false, length = 30)\n    private Integer dstNode;\n    @Column(name = &quot;BR_ID&quot;, length = 30)\n    private Integer brId;\n\n    @Override\n    public int hashCode() {\n        return (this.srcNode.hashCode() + this.dstNode.hashCode() + this.brId.hashCode());\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        MetaEdgeInfo other = (MetaEdgeInfo) obj;\n        return (Objects.equals(this.srcNode, other.getSrcNode()) &amp;&amp;\n                Objects.equals(this.dstNode, other.getDstNode()) &amp;&amp;\n                Objects.equals(this.brId, other.getBrId()));\n    }\n}\n</code></pre>\n<p>I looked up the internet and found out that the IdClass must be public, there must be a NoArgsConstructor, Serializable must be implemented, and hashCode() and equals() must be implemented as well.</p>\n<p>Here is my Entity class:</p>\n<pre><code>@Entity\n@Getter\n//@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(schema = &quot;HYPERDATA&quot;, name = &quot;META_EDGE_INFO&quot;)\n@IdClass(MetaEdgeInfoId.class)\npublic class MetaEdgeInfo implements Serializable {\n\n    @Id\n    @Column(name = &quot;SRC_NODE&quot;, nullable = false, length = 30)\n    private Integer srcNode;\n\n    @Id\n    @Column(name = &quot;DST_NODE&quot;, nullable = false, length = 30)\n    private Integer dstNode;\n\n    @Id\n    @Column(name = &quot;BR_ID&quot;, length = 30)\n    private Integer brId;\n\n    @Column(name = &quot;EDGE_TYPE&quot;, nullable = false)\n    private String edgeType;\n}\n</code></pre>\n<p>Lastly, here is my repository with a method that I will show the result of:</p>\n<pre><code>public interface MetaEdgeInfoRepository extends JpaRepository&lt;MetaEdgeInfo, MetaEdgeInfoId&gt;,\n        MetaEdgeInfoRepositoryCustom {\n\n    List&lt;MetaEdgeInfo&gt; findByEdgeType(String edgeType);\n}\n</code></pre>\n<p>Here is my controller to test the find method:</p>\n<pre><code>@GetMapping(&quot;/va1/test/om/writeValueAsString&quot;)\npublic void test_wvas() throws JsonProcessingException {\n    List&lt;MetaEdgeInfo&gt; table = metaEdgeInfoRepository.findByEdgeType(&quot;TABLE&quot;);\n    System.out.println(table);\n}\n</code></pre>\n<p>Result is below:\n<a href=\"https://i.stack.imgur.com/W2y4K.png\" rel=\"nofollow noreferrer\">Knows how many records, but shown as null</a></p>\n<p>I first tried using EmbeddedId &amp; Embeddable, but could not figure it out and trying IdClass, still struggling. It'd be great if I can get a hint of why my set up is not working.</p>\n<p>Best,</p>\n"},{"tags":["java","spring","csv","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":1574698,"reputation":2196,"user_id":1461484,"accept_rate":82,"display_name":"badjr"},"score":0,"creation_date":1507320274,"post_id":40873819,"comment_id":80178425,"body_markdown":"Note that if you use the `DelimitedLineTokenizer`, you can use [setStrict(false)](https://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/transform/AbstractLineTokenizer.html#setStrict-boolean-), and this way the number of tokens in the line doesn&#39;t have to match the number of defined columns.","body":"Note that if you use the <code>DelimitedLineTokenizer</code>, you can use <a href=\"https://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/transform/AbstractLineTokenizer.html#setStrict-boolean-\" rel=\"nofollow noreferrer\">setStrict(false)</a>, and this way the number of tokens in the line doesn&#39;t have to match the number of defined columns."},{"owner":{"account_id":4254083,"reputation":1340,"user_id":12263844,"display_name":"pepevalbe"},"score":0,"creation_date":1573817230,"post_id":40873819,"comment_id":104019625,"body_markdown":"@Michael Minella I managed to solve this without implementing LineTokenizer. Maybe you can give me some feedback","body":"@Michael Minella I managed to solve this without implementing LineTokenizer. Maybe you can give me some feedback"}],"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480446319,"creation_date":1480446319,"answer_id":40873819,"question_id":40873311,"body_markdown":"Create your own `LineTokenizer` implementation.  The `DelimitedLineTokenizer` expects a predefined number of columns.  If you create your own, you can be as dynamic as you want.  You can read more about the `LineTokenizer` in the documentation here: http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/transform/LineTokenizer.html","title":"Spring Batch - Is it possible to have a dynamic column in FlatFileReader?","body":"<p>Create your own <code>LineTokenizer</code> implementation.  The <code>DelimitedLineTokenizer</code> expects a predefined number of columns.  If you create your own, you can be as dynamic as you want.  You can read more about the <code>LineTokenizer</code> in the documentation here: <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/transform/LineTokenizer.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/transform/LineTokenizer.html</a></p>\n"},{"comments":[{"owner":{"account_id":8774860,"reputation":331,"user_id":6560456,"accept_rate":17,"display_name":"humble_me"},"score":0,"creation_date":1619777771,"post_id":58875943,"comment_id":119013009,"body_markdown":"this is useful @pepevalbe. Thanks. Could you also show how you wrote the ItemWriter in the case of dynamic columns.","body":"this is useful @pepevalbe. Thanks. Could you also show how you wrote the ItemWriter in the case of dynamic columns."},{"owner":{"account_id":14055419,"reputation":118,"user_id":10152913,"display_name":"Dragoslav Petrovic"},"score":1,"creation_date":1640090885,"post_id":58875943,"comment_id":124508503,"body_markdown":"Great answer. Thank you.","body":"Great answer. Thank you."},{"owner":{"account_id":1475499,"reputation":195,"user_id":1385969,"display_name":"user1385969"},"score":0,"creation_date":1661204594,"post_id":58875943,"comment_id":129712200,"body_markdown":"How can I use this logic if in my case the header row in not in the 1st position. I.e., my CSV file has some additional rows in the beginning and the actual data header is on row number 16.","body":"How can I use this logic if in my case the header row in not in the 1st position. I.e., my CSV file has some additional rows in the beginning and the actual data header is on row number 16."},{"owner":{"account_id":4254083,"reputation":1340,"user_id":12263844,"display_name":"pepevalbe"},"score":0,"creation_date":1661256179,"post_id":58875943,"comment_id":129723708,"body_markdown":"If data before data header row is not neccessary you can just can skip 16 rows. If you need that data I don&#39;t think you can use this logic.","body":"If data before data header row is not neccessary you can just can skip 16 rows. If you need that data I don&#39;t think you can use this logic."}],"tags":[],"owner":{"account_id":4254083,"reputation":1340,"user_id":12263844,"display_name":"pepevalbe"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1573816659,"creation_date":1573816659,"answer_id":58875943,"question_id":40873311,"body_markdown":"I arrived to this old post with the very same question. Finally I managed to build a dynamic column FlatFileItemReader with the help of the `skippedLinesCallback` so I leave it here:\r\n\r\n\t@Bean\r\n\tpublic FlatFileItemReader&lt;Person&gt; reader() {\r\n\r\n\t\tDefaultLineMapper&lt;Person&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n\t\tDelimitedLineTokenizer delimitedLineTokenizer = new DelimitedLineTokenizer();\r\n\t\tlineMapper.setLineTokenizer(delimitedLineTokenizer);\r\n\t\tlineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;&gt;() {\r\n\t\t\t{\r\n\t\t\t\tsetTargetType(Person.class);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn new FlatFileItemReaderBuilder&lt;Person&gt;()\r\n\t\t\t\t.name(&quot;personItemReader&quot;)\r\n\t\t\t\t.resource(new FileSystemResource(inputFile))\r\n\t\t\t\t.linesToSkip(1)\r\n\t\t\t\t.skippedLinesCallback(line -&gt; delimitedLineTokenizer.setNames(line.split(&quot;,&quot;)))\r\n\t\t\t\t.lineMapper(lineMapper)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\nIn the callback method you update the names of the tokenizer from the header line. You could also add some validation logic here. With this solution there is no need to write your own LineTokenizer implementation.","title":"Spring Batch - Is it possible to have a dynamic column in FlatFileReader?","body":"<p>I arrived to this old post with the very same question. Finally I managed to build a dynamic column FlatFileItemReader with the help of the <code>skippedLinesCallback</code> so I leave it here:</p>\n\n<pre><code>@Bean\npublic FlatFileItemReader&lt;Person&gt; reader() {\n\n    DefaultLineMapper&lt;Person&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n    DelimitedLineTokenizer delimitedLineTokenizer = new DelimitedLineTokenizer();\n    lineMapper.setLineTokenizer(delimitedLineTokenizer);\n    lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;&gt;() {\n        {\n            setTargetType(Person.class);\n        }\n    });\n\n    return new FlatFileItemReaderBuilder&lt;Person&gt;()\n            .name(\"personItemReader\")\n            .resource(new FileSystemResource(inputFile))\n            .linesToSkip(1)\n            .skippedLinesCallback(line -&gt; delimitedLineTokenizer.setNames(line.split(\",\")))\n            .lineMapper(lineMapper)\n            .build();\n}\n</code></pre>\n\n<p>In the callback method you update the names of the tokenizer from the header line. You could also add some validation logic here. With this solution there is no need to write your own LineTokenizer implementation.</p>\n"}],"owner":{"account_id":301145,"reputation":915,"user_id":608692,"accept_rate":80,"display_name":"TheCyberXP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5942,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1669957740,"creation_date":1480444687,"question_id":40873311,"body_markdown":"I&#39;m dealing with many CSVs files that don&#39;t have a fixed header/column, saying that I can get file1.csv with 10 column and file2.csv with 50 column.\r\n\r\nI can&#39;t know in advance the number of column that I&#39;ll have, I can&#39;t create a specific job for each file type, my input will be a black box: bunch of CSV that will have an X number of column from 10 to infinite.\r\n\r\nAs I want to use Spring Batch to auto import these CSVs, I want to know if it is possible? I know that I have to get a fixed number of column because of the processor and the fact that I need to serialize my data into a POJO before sending it back to a writer.\r\n\r\nCould my processor serialize an Array? beside sending one simple Object, can I get an Array of Object and in the end of my job I&#39;ll will have an Array of an Array of Object?\r\n\r\nWhat do you think?\r\n\r\nThanks","title":"Spring Batch - Is it possible to have a dynamic column in FlatFileReader?","body":"<p>I'm dealing with many CSVs files that don't have a fixed header/column, saying that I can get file1.csv with 10 column and file2.csv with 50 column.</p>\n\n<p>I can't know in advance the number of column that I'll have, I can't create a specific job for each file type, my input will be a black box: bunch of CSV that will have an X number of column from 10 to infinite.</p>\n\n<p>As I want to use Spring Batch to auto import these CSVs, I want to know if it is possible? I know that I have to get a fixed number of column because of the processor and the fact that I need to serialize my data into a POJO before sending it back to a writer.</p>\n\n<p>Could my processor serialize an Array? beside sending one simple Object, can I get an Array of Object and in the end of my job I'll will have an Array of an Array of Object?</p>\n\n<p>What do you think?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","swing","file","tree"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1669949815,"post_id":74650379,"comment_id":131764609,"body_markdown":"*If it was 10000 x 900* - when doing custom painting you override the `getPreferredSize()` method to control the size of the panel. When the panel is added to a JScrollPane the scrollbars will appear when needed.","body":"<i>If it was 10000 x 900</i> - when doing custom painting you override the <code>getPreferredSize()</code> method to control the size of the panel. When the panel is added to a JScrollPane the scrollbars will appear when needed."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1669950528,"post_id":74650379,"comment_id":131764700,"body_markdown":"Why do you think it&#39;s not possible to display a scrolling panel?","body":"Why do you think it&#39;s not possible to display a scrolling panel?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669954065,"post_id":74650379,"comment_id":131765129,"body_markdown":"I&#39;ve never tried to create one 10000 x 900 drawing `JPanel`.  However, creating 10 1000 x 900 drawing `JPanels` are possible.  Displaying them would be a challenge as you would have to place drawing `JPanels` in the GUI as you scroll left or right.","body":"I&#39;ve never tried to create one 10000 x 900 drawing <code>JPanel</code>.  However, creating 10 1000 x 900 drawing <code>JPanels</code> are possible.  Displaying them would be a challenge as you would have to place drawing <code>JPanels</code> in the GUI as you scroll left or right."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669954091,"post_id":74650379,"comment_id":131765132,"body_markdown":"It depends on what the user wants to learn from the tree, but you could hide all but one of the final subtrees, and allow the user to click on a node to make that the one currently being shown.","body":"It depends on what the user wants to learn from the tree, but you could hide all but one of the final subtrees, and allow the user to click on a node to make that the one currently being shown."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669956507,"creation_date":1669955216,"answer_id":74650910,"question_id":74650379,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.\r\n\r\nIt turns out it&#39;s possible to create one 10000 x 900 drawing `JPanel`.  Adjust the `JScrollPane` preferred size to the size you want to display.  The height should be at least 950 pixels to allow room for the horizontal scroll bar.\r\n\r\nI created a checkerboard pattern so you can see that the drawing `JPanel` does scroll.\r\n\r\n[![Example][1]][1]\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class LargeDrawingJPanel implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new LargeDrawingJPanel());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Large Drawing JPanel&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tJPanel drawingPanel = new DrawingPanel();\r\n    \t\tJScrollPane scrollPane = new JScrollPane(drawingPanel);\r\n    \t\tscrollPane.setPreferredSize(new Dimension(1400, 950));\r\n    \t\tframe.add(scrollPane, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tpublic DrawingPanel() {\r\n    \t\t\tthis.setPreferredSize(new Dimension(10000, 900));\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tGraphics2D g2d = (Graphics2D) g;\r\n    \t\t\tColor[] colors = { Color.RED, Color.BLACK };\r\n    \t\t\tint colorIndex = 0;\r\n    \t\t\tint x = 0;\r\n    \t\t\tint y = 0;\r\n    \t\t\tfor (int i = 0; i &lt; 100; i++) {\r\n    \t\t\t\tfor (int j = 0; j &lt; 9; j++) {\r\n    \t\t\t\t\tg2d.setColor(colors[colorIndex]);\r\n    \t\t\t\t\tcolorIndex = (colorIndex == 0) ? 1 : 0;\r\n    \t\t\t\t\tg2d.fillRect(x, y, 100, 100);\r\n    \t\t\t\t\ty += 100;\r\n    \t\t\t\t}\r\n    \t\t\t\tx += 100;\r\n    \t\t\t\ty = 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5CnjL.png","title":"Creating diagram for an extremely immense tree using Java","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section.</p>\n<p>It turns out it's possible to create one 10000 x 900 drawing <code>JPanel</code>.  Adjust the <code>JScrollPane</code> preferred size to the size you want to display.  The height should be at least 950 pixels to allow room for the horizontal scroll bar.</p>\n<p>I created a checkerboard pattern so you can see that the drawing <code>JPanel</code> does scroll.</p>\n<p><a href=\"https://i.stack.imgur.com/5CnjL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5CnjL.png\" alt=\"Example\" /></a></p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingUtilities;\n\npublic class LargeDrawingJPanel implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new LargeDrawingJPanel());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Large Drawing JPanel&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel drawingPanel = new DrawingPanel();\n        JScrollPane scrollPane = new JScrollPane(drawingPanel);\n        scrollPane.setPreferredSize(new Dimension(1400, 950));\n        frame.add(scrollPane, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        public DrawingPanel() {\n            this.setPreferredSize(new Dimension(10000, 900));\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Graphics2D g2d = (Graphics2D) g;\n            Color[] colors = { Color.RED, Color.BLACK };\n            int colorIndex = 0;\n            int x = 0;\n            int y = 0;\n            for (int i = 0; i &lt; 100; i++) {\n                for (int j = 0; j &lt; 9; j++) {\n                    g2d.setColor(colors[colorIndex]);\n                    colorIndex = (colorIndex == 0) ? 1 : 0;\n                    g2d.fillRect(x, y, 100, 100);\n                    y += 100;\n                }\n                x += 100;\n                y = 0;\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22084717,"reputation":11,"user_id":16343741,"display_name":"davai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74650910,"answer_count":1,"score":0,"last_activity_date":1669956507,"creation_date":1669949563,"question_id":74650379,"body_markdown":"The problem is simple. I want to create a vertical tree of values, where as you descend down the levels, the amount of values gets exponentially larger. Let&#39;s say the 1st level has 1 numerical value, the next has 10, then the next has 100, then the next has 1000, and so on. The first level is connected to the 2nd level with the use of lines, and the 2nd to the 3rd, and so on, much like a game tree. These values are also evenly spaced, so let&#39;s say you have a JPanel which is 500x500. At a y of 100, you have 4 values, and so to evenly space them out, you would have a value at 100, one at 200, and so on. \r\n\r\nI&#39;ve tried incorporating drawString, and connecting them with the drawLine method, and placing this so called diagram on a JPanel. That is actually quite simple, and it works if you only have as many as about 50~ values in a singular level. However, when you only have a 1600x900 screen, you can&#39;t fit 100 values (on the x axis, which is 1600) without having a big jumbled up mess. \r\n\r\nI was thinking there could be 2 possible solutions for this. \r\n\r\nOne is that the JPanel is not limited to a set resolution (a.k.a the size of your screen) and is scrollable. If it was 10000 x 900 then making this gigantic tree diagram would actually be quite simple, and I could easily fit the 100 values with enough space between them for the values to actually be discernable. However, as far as I know, it&#39;s not possible.\r\n\r\nThe second solution is that I write these values into a file, but I&#39;m not sure how to go about this. \r\n\r\nDoes anyone know, theoretically speaking, what could be the simplest solution for properly displaying a large tree diagram filled with hundreds of values in a single level? ","title":"Creating diagram for an extremely immense tree using Java","body":"<p>The problem is simple. I want to create a vertical tree of values, where as you descend down the levels, the amount of values gets exponentially larger. Let's say the 1st level has 1 numerical value, the next has 10, then the next has 100, then the next has 1000, and so on. The first level is connected to the 2nd level with the use of lines, and the 2nd to the 3rd, and so on, much like a game tree. These values are also evenly spaced, so let's say you have a JPanel which is 500x500. At a y of 100, you have 4 values, and so to evenly space them out, you would have a value at 100, one at 200, and so on.</p>\n<p>I've tried incorporating drawString, and connecting them with the drawLine method, and placing this so called diagram on a JPanel. That is actually quite simple, and it works if you only have as many as about 50~ values in a singular level. However, when you only have a 1600x900 screen, you can't fit 100 values (on the x axis, which is 1600) without having a big jumbled up mess.</p>\n<p>I was thinking there could be 2 possible solutions for this.</p>\n<p>One is that the JPanel is not limited to a set resolution (a.k.a the size of your screen) and is scrollable. If it was 10000 x 900 then making this gigantic tree diagram would actually be quite simple, and I could easily fit the 100 values with enough space between them for the values to actually be discernable. However, as far as I know, it's not possible.</p>\n<p>The second solution is that I write these values into a file, but I'm not sure how to go about this.</p>\n<p>Does anyone know, theoretically speaking, what could be the simplest solution for properly displaying a large tree diagram filled with hundreds of values in a single level?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":12929863,"reputation":1189,"user_id":9349240,"display_name":"ak.leimrey"},"score":2,"creation_date":1669956796,"post_id":74651002,"comment_id":131765480,"body_markdown":"Nope! It isn&#39;t bad practice. Check this out https://stackoverflow.com/a/51988237/9349240","body":"Nope! It isn&#39;t bad practice. Check this out <a href=\"https://stackoverflow.com/a/51988237/9349240\">stackoverflow.com/a/51988237/9349240</a>"},{"owner":{"account_id":4646891,"reputation":249,"user_id":3764890,"accept_rate":33,"display_name":"UtkarshBhavsar"},"score":2,"creation_date":1669956900,"post_id":74651002,"comment_id":131765498,"body_markdown":"Design patterns are the best practises which are derived from experience. @Service is just stereotype annotation. So if service can integrate multiple helpers than service can inject multiple services as well. Spring is not going to limit you. Of course, One needs to always take care about cyclic references. There are no borderline what one has to follow.","body":"Design patterns are the best practises which are derived from experience. @Service is just stereotype annotation. So if service can integrate multiple helpers than service can inject multiple services as well. Spring is not going to limit you. Of course, One needs to always take care about cyclic references. There are no borderline what one has to follow."},{"owner":{"account_id":16302007,"reputation":45,"user_id":11772863,"display_name":"Jay"},"score":0,"creation_date":1669959507,"post_id":74651002,"comment_id":131765885,"body_markdown":"@ak.leimrey first of all, thanks your comment. \nI&#39;ve already read it before. that question was more than 4yrs ago. therefore, i was wondering what is the trendy design pattern nowadays.","body":"@ak.leimrey first of all, thanks your comment.  I&#39;ve already read it before. that question was more than 4yrs ago. therefore, i was wondering what is the trendy design pattern nowadays."},{"owner":{"account_id":16302007,"reputation":45,"user_id":11772863,"display_name":"Jay"},"score":0,"creation_date":1669959601,"post_id":74651002,"comment_id":131765895,"body_markdown":"@UtkarshBhavsar Also thanks your opinion. now i have to see the cyclic references.","body":"@UtkarshBhavsar Also thanks your opinion. now i have to see the cyclic references."},{"owner":{"account_id":12929863,"reputation":1189,"user_id":9349240,"display_name":"ak.leimrey"},"score":1,"creation_date":1669960282,"post_id":74651002,"comment_id":131766017,"body_markdown":"I don&#39;t notice massive changes in trends regarding patters. It&#39;s the application and understanding of said patterns that give them value. Don&#39;t get too hung up on of something is trendy or not. Especially in java, you won&#39;t see crazy changes anytime soon.","body":"I don&#39;t notice massive changes in trends regarding patters. It&#39;s the application and understanding of said patterns that give them value. Don&#39;t get too hung up on of something is trendy or not. Especially in java, you won&#39;t see crazy changes anytime soon."}],"owner":{"account_id":16302007,"reputation":45,"user_id":11772863,"display_name":"Jay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670062260,"answer_count":0,"score":0,"last_activity_date":1669956280,"creation_date":1669956280,"question_id":74651002,"body_markdown":"I am wondering is it a bad practice that @service call another @service.\r\n\r\nCodes below are just an example.\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class OrderService {\r\n    private final ProductService productService;\r\n    private final PayService payService;\r\n    private final DeliveryService deliverService;\r\n    \r\n    public void createOrder(){\r\n         //some codes.........\r\n         productService.getProductList();\r\n\r\n         //some codes.........\r\n         payService.pay();\r\n\r\n         //some codes.........\r\n         deliveryService.deliver();\r\n    }\r\n}\r\n///////////////////////////////////////\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class ProductService {\r\n    public List&lt;productDto&gt; getProductList(){\r\n         //some codes.........\r\n    }\r\n}\r\n///////////////////////////////////////\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class PayService {\r\n    public void pay(){\r\n         //some codes.........\r\n    }\r\n}\r\n///////////////////////////////////////\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class DeliveryService {\r\n    public void deliver(){\r\n         //some codes.........\r\n    }\r\n}\r\n///////////////////////////////////////\r\n```\r\n\r\nI am currently studying about design patterns.\r\nSome of my colleagues told me to use facade pattern, while others told me it is not a good practice to call another services in a service.\r\nI want to know what is the best design patterns for the example codes above.\r\n\r\ni am so welcome for any answers","title":"Spring bood - @Service call another @Service","body":"<p>I am wondering is it a bad practice that @service call another @service.</p>\n<p>Codes below are just an example.</p>\n<pre><code>@RequiredArgsConstructor\n@Service\npublic class OrderService {\n    private final ProductService productService;\n    private final PayService payService;\n    private final DeliveryService deliverService;\n    \n    public void createOrder(){\n         //some codes.........\n         productService.getProductList();\n\n         //some codes.........\n         payService.pay();\n\n         //some codes.........\n         deliveryService.deliver();\n    }\n}\n///////////////////////////////////////\n@RequiredArgsConstructor\n@Service\npublic class ProductService {\n    public List&lt;productDto&gt; getProductList(){\n         //some codes.........\n    }\n}\n///////////////////////////////////////\n@RequiredArgsConstructor\n@Service\npublic class PayService {\n    public void pay(){\n         //some codes.........\n    }\n}\n///////////////////////////////////////\n@RequiredArgsConstructor\n@Service\npublic class DeliveryService {\n    public void deliver(){\n         //some codes.........\n    }\n}\n///////////////////////////////////////\n</code></pre>\n<p>I am currently studying about design patterns.\nSome of my colleagues told me to use facade pattern, while others told me it is not a good practice to call another services in a service.\nI want to know what is the best design patterns for the example codes above.</p>\n<p>i am so welcome for any answers</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1669957894,"post_id":74650977,"comment_id":131765624,"body_markdown":"You&#39;re using `setBounds` on the three `JPanels`.  Set the three `JPanels` `preferredSize` instead and use the `JFrame&#39;s` default `BorderLayout` to place the three `JPanels`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"You&#39;re using <code>setBounds</code> on the three <code>JPanels</code>.  Set the three <code>JPanels</code> <code>preferredSize</code> instead and use the <code>JFrame&#39;s</code> default <code>BorderLayout</code> to place the three <code>JPanels</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":2,"creation_date":1669965255,"post_id":74650977,"comment_id":131767015,"body_markdown":"You are using a null layout on the frame. Don&#39;t do that.","body":"You are using a null layout on the frame. Don&#39;t do that."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1669976469,"post_id":74650977,"comment_id":131770220,"body_markdown":"null layout is __wrong__!","body":"null layout is <b>wrong</b>!"},{"owner":{"account_id":27118483,"reputation":1,"user_id":20662484,"display_name":"beanman1234"},"score":0,"creation_date":1669998989,"post_id":74650977,"comment_id":131778006,"body_markdown":"@GilbertLeBlanc I changed the setBounds to preferredSize, also removed the setLayout(null) in my Page.java. Still nothing is appearing. https://replit.com/@Minich-221-Fall-2022/Final-Project-Interactive-Bar-Chart-ColeHadley?v=1#ViewPage.java","body":"@GilbertLeBlanc I changed the setBounds to preferredSize, also removed the setLayout(null) in my Page.java. Still nothing is appearing. <a href=\"https://replit.com/@Minich-221-Fall-2022/Final-Project-Interactive-Bar-Chart-ColeHadley?v=1#ViewPage.java\" rel=\"nofollow noreferrer\">replit.com/@Minich-221-Fall-2022/&hellip;</a>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1670002400,"post_id":74650977,"comment_id":131779047,"body_markdown":"Try cutting the `frame.setVisible(true);` from the **Page** class and paste this *under* the `ViewPage viewPage = new ViewPage();` code line within the `main()` method of the **Main** class: `viewPage.frame.setVisible(true);`. Do consider using anything other than a **null** layout as suggested and use the `JFrame#pack()` method as well.","body":"Try cutting the <code>frame.setVisible(true);</code> from the <b>Page</b> class and paste this <i>under</i> the <code>ViewPage viewPage = new ViewPage();</code> code line within the <code>main()</code> method of the <b>Main</b> class: <code>viewPage.frame.setVisible(true);</code>. Do consider using anything other than a <b>null</b> layout as suggested and use the <code>JFrame#pack()</code> method as well."},{"owner":{"account_id":27118483,"reputation":1,"user_id":20662484,"display_name":"beanman1234"},"score":0,"creation_date":1670003068,"post_id":74650977,"comment_id":131779236,"body_markdown":"@DevilsHnd I believe the setVisible was the problem. Thank you so much :)","body":"@DevilsHnd I believe the setVisible was the problem. Thank you so much :)"}],"owner":{"account_id":27118483,"reputation":1,"user_id":20662484,"display_name":"beanman1234"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669956017,"creation_date":1669956017,"question_id":74650977,"body_markdown":"I am currently trying to include a JTable to my JPanel. I was not having any problems with my code previously until I started to code the table. Sometimes when I run my program everything will appear, sometimes just the panels appear, and sometimes/majority of the time nothing will appear. I just don&#39;t understand why it is not consistent. There are no errors in the console. I have included below my ViewPage.java, Page.java, and Main.java. \r\n\r\n`\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\n\r\npublic class ViewPage extends Page implements ActionListener\r\n  {\r\n\r\n    JPanel panel1, panel2, panel3;\r\n    JLabel searchLabel, repairsLabel, dateLabel;\r\n    JButton goButton, recentButton, oldestButton, homeButton;\r\n    JComboBox dropDown;\r\n    JTextField textField;\r\n    JTable tabel;\r\n    JScrollPane scrollpane;\r\n    \r\n    public ViewPage()\r\n    {\r\n      panel1 = new JPanel();\r\n      panel1.setBackground(Color.blue);\r\n      panel1.setBounds(0,0,1280,120);\r\n\r\n      panel2 = new JPanel();\r\n      panel2.setBackground(Color.green);\r\n      panel2.setBounds(0,120,1280,480);\r\n\r\n      panel3 = new JPanel();\r\n      panel3.setBackground(Color.red);\r\n      panel3.setBounds(0,600,1280,120);\r\n\r\n      //Panel 1 components\r\n      repairsLabel = new JLabel(&quot;Repairs&quot;);\r\n      repairsLabel.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 50));\r\n      \r\n      searchLabel = new JLabel(&quot;Search :&quot;);\r\n      searchLabel.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 25));\r\n\r\n      goButton = new JButton(&quot;GO&quot;);\r\n      goButton.setFocusable(false);\r\n      goButton.addActionListener(this);\r\n\r\n      textField = new JTextField();\r\n\r\n      String[] filters = {&quot; &quot;, &quot;customerID&quot;, &quot;First_Name&quot;, &quot;Last_Name&quot;};\r\n      dropDown = new JComboBox(filters);\r\n      dropDown.addActionListener(this);\r\n      \r\n      panel1.setLayout(new GridBagLayout());\r\n      GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n      gbc.fill = GridBagConstraints.HORIZONTAL;\r\n      gbc.insets = new Insets(1, 10, 1, 0);\r\n      gbc.weightx = 5.5;\r\n      gbc.gridx = 0;\r\n      gbc.gridy = 0;\r\n      panel1.add(repairsLabel, gbc);\r\n\r\n      gbc.fill = GridBagConstraints.HORIZONTAL;\r\n      gbc.weightx = 0.5;\r\n      gbc.gridx = 1;\r\n      gbc.gridy = 0;\r\n      panel1.add(searchLabel, gbc);\r\n\r\n      gbc.fill = GridBagConstraints.HORIZONTAL;\r\n      gbc.insets = new Insets(1, 10, 1, 50);\r\n      gbc.weightx = 3;\r\n      gbc.gridx = 2;\r\n      gbc.gridy = 0;\r\n      panel1.add(dropDown, gbc);\r\n\r\n      gbc.fill = GridBagConstraints.HORIZONTAL;\r\n      gbc.insets = new Insets(1, 10, 1, 50);\r\n      gbc.gridx = 3;\r\n      gbc.gridy = 0;\r\n      gbc.ipadx = 100; \r\n      panel1.add(textField, gbc);\r\n\r\n      gbc.fill = GridBagConstraints.HORIZONTAL;\r\n      gbc.insets = new Insets(1, 10, 1, 100);\r\n      gbc.gridx = 4;\r\n      gbc.gridy = 0;\r\n      gbc.ipadx = 1; \r\n      panel1.add(goButton, gbc);\r\n\r\n      \r\n      //Panel 2 components\r\n      panel2.setLayout(new GridBagLayout());\r\n\r\n      String[][] data = new String[50][8];\r\n      String[] headings = {&quot;customer_ID&quot;, &quot;Date&quot;, &quot;First Name&quot;, &quot;Last Name&quot;, &quot;Phone #&quot;, &quot;OS&quot;, &quot;PC Type&quot;, &quot;Problem&quot;};\r\n      \r\n      JTable table = new JTable(data, headings);\r\n      table.setEnabled(false);\r\n      table.setPreferredScrollableViewportSize(new Dimension(1000,400));\r\n      table.setFillsViewportHeight(true);\r\n\r\n      scrollpane = new JScrollPane(table);\r\n\r\n      panel2.add(scrollpane);\r\n\r\n      //Panel 3 componets\r\n      panel3.setLayout(new GridBagLayout());\r\n      GridBagConstraints gbc2 = new GridBagConstraints();\r\n\r\n      dateLabel = new JLabel(&quot;Date Filter: &quot;);\r\n      dateLabel.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 25));\r\n\r\n      recentButton = new JButton(&quot;Most Recent&quot;);\r\n      oldestButton = new JButton(&quot;Oldest&quot;);\r\n\r\n      homeButton = new JButton(&quot;Home&quot;);\r\n\r\n      gbc2.fill = GridBagConstraints.HORIZONTAL;\r\n      gbc2.insets = new Insets(1, 10, 1, 0);\r\n      gbc2.weightx = 5.5;\r\n      gbc2.gridx = 0;\r\n      gbc2.gridy = 0;\r\n      panel3.add(dateLabel, gbc);\r\n      \r\n\r\n      frame.add(panel1);\r\n      frame.add(panel2);\r\n      frame.add(panel3);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n      if (e.getSource() == dropDown)\r\n      {\r\n        System.out.println(dropDown.getSelectedItem());\r\n      }\r\n    }\r\n  }\r\n```\r\n` \r\n\r\n`\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\n\r\npublic abstract class Page\r\n  {\r\n    private final static int pageWidth = 1280;\r\n    private final static int pageHeight = 720;\r\n    \r\n    protected JFrame frame;\r\n\r\n    public Page()\r\n    {\r\n      frame = new JFrame();\r\n\r\n      frame.setTitle(&quot;Computer Repair Store&quot;);\r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.setSize(pageWidth, pageHeight);\r\n      frame.setLayout(null);\r\n      frame.setVisible(true);\r\n    }\r\n\r\n    public int getpageWidth()\r\n    {\r\n      return pageWidth;\r\n    }\r\n\r\n    public int getpageHeight()\r\n    {\r\n      return pageHeight;\r\n    }\r\n  }\r\n```\r\n`\r\n\r\n`\r\n```\r\n\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    ViewPage viewPage = new ViewPage();\r\n    \r\n  }\r\n}\r\n\r\n```\r\n`\r\n\r\nOuput:\r\n[enter image description here](https://i.stack.imgur.com/PW736.png)\r\n\r\nThis is what I am expecting to output which has only appeared 2-3 times out of the 50 times I have tried running the program.\r\n\r\n[enter image description here](https://i.stack.imgur.com/c1OWT.png)","title":"JFrame is not appearing consistently once JTable was added","body":"<p>I am currently trying to include a JTable to my JPanel. I was not having any problems with my code previously until I started to code the table. Sometimes when I run my program everything will appear, sometimes just the panels appear, and sometimes/majority of the time nothing will appear. I just don't understand why it is not consistent. There are no errors in the console. I have included below my ViewPage.java, Page.java, and Main.java.</p>\n<p>`</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class ViewPage extends Page implements ActionListener\n  {\n\n    JPanel panel1, panel2, panel3;\n    JLabel searchLabel, repairsLabel, dateLabel;\n    JButton goButton, recentButton, oldestButton, homeButton;\n    JComboBox dropDown;\n    JTextField textField;\n    JTable tabel;\n    JScrollPane scrollpane;\n    \n    public ViewPage()\n    {\n      panel1 = new JPanel();\n      panel1.setBackground(Color.blue);\n      panel1.setBounds(0,0,1280,120);\n\n      panel2 = new JPanel();\n      panel2.setBackground(Color.green);\n      panel2.setBounds(0,120,1280,480);\n\n      panel3 = new JPanel();\n      panel3.setBackground(Color.red);\n      panel3.setBounds(0,600,1280,120);\n\n      //Panel 1 components\n      repairsLabel = new JLabel(&quot;Repairs&quot;);\n      repairsLabel.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 50));\n      \n      searchLabel = new JLabel(&quot;Search :&quot;);\n      searchLabel.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 25));\n\n      goButton = new JButton(&quot;GO&quot;);\n      goButton.setFocusable(false);\n      goButton.addActionListener(this);\n\n      textField = new JTextField();\n\n      String[] filters = {&quot; &quot;, &quot;customerID&quot;, &quot;First_Name&quot;, &quot;Last_Name&quot;};\n      dropDown = new JComboBox(filters);\n      dropDown.addActionListener(this);\n      \n      panel1.setLayout(new GridBagLayout());\n      GridBagConstraints gbc = new GridBagConstraints();\n\n      gbc.fill = GridBagConstraints.HORIZONTAL;\n      gbc.insets = new Insets(1, 10, 1, 0);\n      gbc.weightx = 5.5;\n      gbc.gridx = 0;\n      gbc.gridy = 0;\n      panel1.add(repairsLabel, gbc);\n\n      gbc.fill = GridBagConstraints.HORIZONTAL;\n      gbc.weightx = 0.5;\n      gbc.gridx = 1;\n      gbc.gridy = 0;\n      panel1.add(searchLabel, gbc);\n\n      gbc.fill = GridBagConstraints.HORIZONTAL;\n      gbc.insets = new Insets(1, 10, 1, 50);\n      gbc.weightx = 3;\n      gbc.gridx = 2;\n      gbc.gridy = 0;\n      panel1.add(dropDown, gbc);\n\n      gbc.fill = GridBagConstraints.HORIZONTAL;\n      gbc.insets = new Insets(1, 10, 1, 50);\n      gbc.gridx = 3;\n      gbc.gridy = 0;\n      gbc.ipadx = 100; \n      panel1.add(textField, gbc);\n\n      gbc.fill = GridBagConstraints.HORIZONTAL;\n      gbc.insets = new Insets(1, 10, 1, 100);\n      gbc.gridx = 4;\n      gbc.gridy = 0;\n      gbc.ipadx = 1; \n      panel1.add(goButton, gbc);\n\n      \n      //Panel 2 components\n      panel2.setLayout(new GridBagLayout());\n\n      String[][] data = new String[50][8];\n      String[] headings = {&quot;customer_ID&quot;, &quot;Date&quot;, &quot;First Name&quot;, &quot;Last Name&quot;, &quot;Phone #&quot;, &quot;OS&quot;, &quot;PC Type&quot;, &quot;Problem&quot;};\n      \n      JTable table = new JTable(data, headings);\n      table.setEnabled(false);\n      table.setPreferredScrollableViewportSize(new Dimension(1000,400));\n      table.setFillsViewportHeight(true);\n\n      scrollpane = new JScrollPane(table);\n\n      panel2.add(scrollpane);\n\n      //Panel 3 componets\n      panel3.setLayout(new GridBagLayout());\n      GridBagConstraints gbc2 = new GridBagConstraints();\n\n      dateLabel = new JLabel(&quot;Date Filter: &quot;);\n      dateLabel.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 25));\n\n      recentButton = new JButton(&quot;Most Recent&quot;);\n      oldestButton = new JButton(&quot;Oldest&quot;);\n\n      homeButton = new JButton(&quot;Home&quot;);\n\n      gbc2.fill = GridBagConstraints.HORIZONTAL;\n      gbc2.insets = new Insets(1, 10, 1, 0);\n      gbc2.weightx = 5.5;\n      gbc2.gridx = 0;\n      gbc2.gridy = 0;\n      panel3.add(dateLabel, gbc);\n      \n\n      frame.add(panel1);\n      frame.add(panel2);\n      frame.add(panel3);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e)\n    {\n      if (e.getSource() == dropDown)\n      {\n        System.out.println(dropDown.getSelectedItem());\n      }\n    }\n  }\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.Border;\n\npublic abstract class Page\n  {\n    private final static int pageWidth = 1280;\n    private final static int pageHeight = 720;\n    \n    protected JFrame frame;\n\n    public Page()\n    {\n      frame = new JFrame();\n\n      frame.setTitle(&quot;Computer Repair Store&quot;);\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frame.setSize(pageWidth, pageHeight);\n      frame.setLayout(null);\n      frame.setVisible(true);\n    }\n\n    public int getpageWidth()\n    {\n      return pageWidth;\n    }\n\n    public int getpageHeight()\n    {\n      return pageHeight;\n    }\n  }\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>\n\npublic class Main {\n  public static void main(String[] args) {\n    ViewPage viewPage = new ViewPage();\n    \n  }\n}\n\n</code></pre>\n<p>`</p>\n<p>Ouput:\n<a href=\"https://i.stack.imgur.com/PW736.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is what I am expecting to output which has only appeared 2-3 times out of the 50 times I have tried running the program.</p>\n<p><a href=\"https://i.stack.imgur.com/c1OWT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","microsoft-graph-api"],"comments":[{"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"score":0,"creation_date":1668350129,"post_id":74419510,"comment_id":131378695,"body_markdown":"If you used sample code from the docs you need to set the correct application id and you are using application permission type (not delegated) you need consent for Application.ReadWrite.OwnedBy permission","body":"If you used sample code from the docs you need to set the correct application id and you are using application permission type (not delegated) you need consent for Application.ReadWrite.OwnedBy permission"}],"answers":[{"tags":[],"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669955533,"creation_date":1669955533,"answer_id":74650932,"question_id":74419510,"body_markdown":"If you are using the application permissions then you need to add another permission here that is &quot;Application.ReadWrite.OwnedBy&quot;.\r\n\r\nHere are the permissions required for Create extension Property:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lXZTU.png\r\n\r\nFor more information:https://learn.microsoft.com/en-us/graph/api/application-post-extensionproperty?view=graph-rest-1.0&amp;tabs=http#permissions\r\n\r\nHope this helps.","title":"Create directory extension property Microsoft graph Api: Java","body":"<p>If you are using the application permissions then you need to add another permission here that is &quot;Application.ReadWrite.OwnedBy&quot;.</p>\n<p>Here are the permissions required for Create extension Property:</p>\n<p><a href=\"https://i.stack.imgur.com/lXZTU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lXZTU.png\" alt=\"enter image description here\" /></a></p>\n<p>For more information:<a href=\"https://learn.microsoft.com/en-us/graph/api/application-post-extensionproperty?view=graph-rest-1.0&amp;tabs=http#permissions\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/application-post-extensionproperty?view=graph-rest-1.0&amp;tabs=http#permissions</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":25604770,"reputation":27,"user_id":19379062,"display_name":"user137062"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74650932,"answer_count":1,"score":0,"last_activity_date":1669955533,"creation_date":1668328083,"question_id":74419510,"body_markdown":"I want to create directory extension properties for my application from Java SDK. I have installed all required packages and libraries. \r\n\r\n\r\n\r\nI used same sample code given in docs :\r\n\r\n```java\r\nGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n\r\nExtensionProperty extensionProperty = new ExtensionProperty();\r\nextensionProperty.name = &quot;jobGroup&quot;;\r\nextensionProperty.dataType = &quot;String&quot;;\r\nLinkedList&lt;String&gt; targetObjectsList = new LinkedList&lt;String&gt;();\r\ntargetObjectsList.add(&quot;User&quot;);\r\nextensionProperty.targetObjects = targetObjectsList;\r\n\r\ngraphClient.applications(&quot;fd918e4b-c821-4efb-b50a-5eddd23afc6f&quot;).extensionProperties()\r\n\t.buildRequest()\r\n\t.post(extensionProperty);\r\n```\r\n\r\nThrowing errors like `401 Unauthorized` while executing. How to solve my issue? \r\n\r\nHave consent for `Application.ReadWrite.All` permission in my application. What else may be causing the issue?\r\n\r\nAny help is much needed\r\n","title":"Create directory extension property Microsoft graph Api: Java","body":"<p>I want to create directory extension properties for my application from Java SDK. I have installed all required packages and libraries.</p>\n<p>I used same sample code given in docs :</p>\n<pre class=\"lang-java prettyprint-override\"><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nExtensionProperty extensionProperty = new ExtensionProperty();\nextensionProperty.name = &quot;jobGroup&quot;;\nextensionProperty.dataType = &quot;String&quot;;\nLinkedList&lt;String&gt; targetObjectsList = new LinkedList&lt;String&gt;();\ntargetObjectsList.add(&quot;User&quot;);\nextensionProperty.targetObjects = targetObjectsList;\n\ngraphClient.applications(&quot;fd918e4b-c821-4efb-b50a-5eddd23afc6f&quot;).extensionProperties()\n    .buildRequest()\n    .post(extensionProperty);\n</code></pre>\n<p>Throwing errors like <code>401 Unauthorized</code> while executing. How to solve my issue?</p>\n<p>Have consent for <code>Application.ReadWrite.All</code> permission in my application. What else may be causing the issue?</p>\n<p>Any help is much needed</p>\n"},{"tags":["java","encryption","aes-gcm"],"comments":[{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1669911274,"post_id":74644466,"comment_id":131755348,"body_markdown":"In this line `byte[] decryptedText = cipher.doFinal(decoded);` you are trying to decode the *whole* of the decoded data, forgetting that the IV is at the start of that. You need to decode from the 13th byte to the end. (The first 12 bytes are the IV.) You have several other typos like `After decrypt: &quot;+se`  which should likely be `sd` and extracting the IV from the data with `copyOfRange`. Test with some real values in the debugger.","body":"In this line <code>byte[] decryptedText = cipher.doFinal(decoded);</code> you are trying to decode the <i>whole</i> of the decoded data, forgetting that the IV is at the start of that. You need to decode from the 13th byte to the end. (The first 12 bytes are the IV.) You have several other typos like <code>After decrypt: &quot;+se</code>  which should likely be <code>sd</code> and extracting the IV from the data with <code>copyOfRange</code>. Test with some real values in the debugger."}],"owner":{"account_id":6803898,"reputation":248,"user_id":5236334,"accept_rate":50,"display_name":"Rajneesh Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669955524,"creation_date":1669909103,"question_id":74644466,"body_markdown":"I have been trying to figure this out for 2 days now. Encryption method works fine, but during the decryption tests I am getting the exception below. Especially I am using: AES/GCM/NoPadding.\r\n\r\nError :\r\n\r\n\r\nException in thread &quot;main&quot; javax.crypto.AEADBadTagException: Tag mismatch!\r\n\r\nat java.base/com.sun.crypto.provider.GaloisCounterMode.decryptFinal(GaloisCounterMode.java:623)\r\n\t  at java.base/com.sun.crypto.provider.CipherCore.finalNoPadding(CipherCore.java:1116)\r\n\t  at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1053)\r\n\t  at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:853)\r\n\t  at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\r\n\t  at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\r\n\t  at com.solarwinds.whd.symmetric.GSMTest.decrypt(GSMTest.java:72)\r\n\t  at com.solarwinds.whd.symmetric.GSMTest.main(GSMTest.java:38)\r\n\r\n\r\n\r\nCode:\r\n\r\n\r\n    import javax.crypto.*;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.util.Arrays;\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Base64;\r\n\r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n\r\n    public class GSMTest {\r\n\r\n    private static final String ALGORITHM = &quot;AES&quot;;\r\n    private static final int T_LEN = 128;\r\n    private static final int IV_LENGTH = 12;\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, InvalidAlgorithmParameterException, UnsupportedEncodingException, InvalidKeyException, IllegalBlockSizeException, NoSuchPaddingException, BadPaddingException {\r\n        String s = &quot;xaT2UtvzIt2rO8OMxaT2UtvzIt2rO8OM&quot;;\r\n\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGenerator.init(256);\r\n        SecretKey key = keyGenerator.generateKey();\r\n\r\n        GSMTest ob = new GSMTest();\r\n        System.out.println(&quot;Before encrypt: &quot;+s);\r\n        String se = ob.encrypt(s, key);\r\n        System.out.println(&quot;After encrypt: &quot;+se);\r\n        String sd = ob.decrypt(se, key);\r\n        System.out.println(&quot;After decrypt: &quot;+sd);\r\n    }\r\n\r\n    public String encrypt(String text, SecretKey key) throws UnsupportedEncodingException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, NoSuchPaddingException, IllegalBlockSizeException {\r\n        byte[] iv = new byte[IV_LENGTH];\r\n        (new SecureRandom()).nextBytes(iv);\r\n\r\n        SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), ALGORITHM);\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        GCMParameterSpec ivSpec = new GCMParameterSpec(T_LEN, iv);\r\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);\r\n\r\n        byte[] ciphertext = cipher.doFinal(text.getBytes(UTF_8));\r\n        byte[] encrypted = new byte[iv.length + ciphertext.length];\r\n        System.arraycopy(iv, 0, encrypted, 0, iv.length);\r\n        System.arraycopy(ciphertext, 0, encrypted, iv.length, ciphertext.length);\r\n\r\n        Base64.Encoder en = Base64.getEncoder();\r\n        return en.encodeToString(encrypted);\r\n\r\n    }\r\n\r\n    public String decrypt(String encryptedText, SecretKey key) throws IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException {\r\n        Base64.Decoder de = Base64.getDecoder();\r\n\r\n        byte[] decoded = de.decode(encryptedText);\r\n        byte[] iv = Arrays.copyOfRange(decoded, IV_LENGTH, decoded.length);\r\n\r\n        SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), ALGORITHM);\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        GCMParameterSpec ivSpec = new GCMParameterSpec(T_LEN, iv);\r\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, ivSpec);\r\n\r\n        byte[] decryptedText = cipher.doFinal(decoded);\r\n\r\n        return new String(decryptedText);\r\n    }\r\n\r\n    }\r\n\r\n\r\nCan anyone help? I have been reading many about, and still cannot find anything wrong.","title":"problem while decrypting private key getting javax.crypto.AEADBadTagException: Tag mismatch! Error","body":"<p>I have been trying to figure this out for 2 days now. Encryption method works fine, but during the decryption tests I am getting the exception below. Especially I am using: AES/GCM/NoPadding.</p>\n<p>Error :</p>\n<p>Exception in thread &quot;main&quot; javax.crypto.AEADBadTagException: Tag mismatch!</p>\n<p>at java.base/com.sun.crypto.provider.GaloisCounterMode.decryptFinal(GaloisCounterMode.java:623)\nat java.base/com.sun.crypto.provider.CipherCore.finalNoPadding(CipherCore.java:1116)\nat java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1053)\nat java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:853)\nat java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\nat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\nat com.solarwinds.whd.symmetric.GSMTest.decrypt(GSMTest.java:72)\nat com.solarwinds.whd.symmetric.GSMTest.main(GSMTest.java:38)</p>\n<p>Code:</p>\n<pre><code>import javax.crypto.*;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.UnsupportedEncodingException;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.util.Arrays;\n\nimport java.io.UnsupportedEncodingException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Base64;\n\nimport static java.nio.charset.StandardCharsets.UTF_8;\n\npublic class GSMTest {\n\nprivate static final String ALGORITHM = &quot;AES&quot;;\nprivate static final int T_LEN = 128;\nprivate static final int IV_LENGTH = 12;\n\npublic static void main(String[] args) throws NoSuchAlgorithmException, InvalidAlgorithmParameterException, UnsupportedEncodingException, InvalidKeyException, IllegalBlockSizeException, NoSuchPaddingException, BadPaddingException {\n    String s = &quot;xaT2UtvzIt2rO8OMxaT2UtvzIt2rO8OM&quot;;\n\n    KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n    keyGenerator.init(256);\n    SecretKey key = keyGenerator.generateKey();\n\n    GSMTest ob = new GSMTest();\n    System.out.println(&quot;Before encrypt: &quot;+s);\n    String se = ob.encrypt(s, key);\n    System.out.println(&quot;After encrypt: &quot;+se);\n    String sd = ob.decrypt(se, key);\n    System.out.println(&quot;After decrypt: &quot;+sd);\n}\n\npublic String encrypt(String text, SecretKey key) throws UnsupportedEncodingException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, NoSuchPaddingException, IllegalBlockSizeException {\n    byte[] iv = new byte[IV_LENGTH];\n    (new SecureRandom()).nextBytes(iv);\n\n    SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), ALGORITHM);\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    GCMParameterSpec ivSpec = new GCMParameterSpec(T_LEN, iv);\n    cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);\n\n    byte[] ciphertext = cipher.doFinal(text.getBytes(UTF_8));\n    byte[] encrypted = new byte[iv.length + ciphertext.length];\n    System.arraycopy(iv, 0, encrypted, 0, iv.length);\n    System.arraycopy(ciphertext, 0, encrypted, iv.length, ciphertext.length);\n\n    Base64.Encoder en = Base64.getEncoder();\n    return en.encodeToString(encrypted);\n\n}\n\npublic String decrypt(String encryptedText, SecretKey key) throws IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException {\n    Base64.Decoder de = Base64.getDecoder();\n\n    byte[] decoded = de.decode(encryptedText);\n    byte[] iv = Arrays.copyOfRange(decoded, IV_LENGTH, decoded.length);\n\n    SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), ALGORITHM);\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    GCMParameterSpec ivSpec = new GCMParameterSpec(T_LEN, iv);\n    cipher.init(Cipher.DECRYPT_MODE, keySpec, ivSpec);\n\n    byte[] decryptedText = cipher.doFinal(decoded);\n\n    return new String(decryptedText);\n}\n\n}\n</code></pre>\n<p>Can anyone help? I have been reading many about, and still cannot find anything wrong.</p>\n"},{"tags":["java","maven","jenkins","gradle","amazon-ec2"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1669941197,"post_id":74649563,"comment_id":131763453,"body_markdown":"Ah yes! [Duty calls](https://xkcd.com/386/)","body":"Ah yes! <a href=\"https://xkcd.com/386/\" rel=\"nofollow noreferrer\">Duty calls</a>"}],"answers":[{"tags":[],"owner":{"account_id":3844758,"reputation":36,"user_id":3186682,"display_name":"Shyam Sedai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669955343,"creation_date":1669955343,"answer_id":74650916,"question_id":74649563,"body_markdown":"Use Gradle wrapper for faster build \r\n\r\n./gradlew build","title":"What is the equivalent command for &#39;maven build&#39; in gradle","body":"<p>Use Gradle wrapper for faster build</p>\n<p>./gradlew build</p>\n"}],"owner":{"account_id":8293091,"reputation":11,"user_id":6234074,"display_name":"jom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669955343,"creation_date":1669940251,"question_id":74649563,"body_markdown":"I am trying to find the difference between maven and gradle. I have created a simple java project and build it with maven and gradle. But my maven build builds faster than gradle build even though gradle official website states that gradle builds faster than maven.\r\n\r\ntried in Jenkins\r\nmaven install (build successfully in 12 seconds)\r\ngradle build (build successfully in 20 seconds)","title":"What is the equivalent command for &#39;maven build&#39; in gradle","body":"<p>I am trying to find the difference between maven and gradle. I have created a simple java project and build it with maven and gradle. But my maven build builds faster than gradle build even though gradle official website states that gradle builds faster than maven.</p>\n<p>tried in Jenkins\nmaven install (build successfully in 12 seconds)\ngradle build (build successfully in 20 seconds)</p>\n"},{"tags":["java","spring-mvc","spring-boot","spring-boot-test","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":9195034,"reputation":638,"user_id":6834044,"display_name":"Przemysław Gęsieniec"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1669955197,"creation_date":1544428968,"answer_id":53701614,"question_id":53655413,"body_markdown":"I have finally found solution for that here: \r\n\r\n&gt; https://techotom.wordpress.com/2014/11/12/mocking-remoteaddr-with-spring-mvc/\r\n\r\nBasically with this method we can change every parameter of request.\r\n\r\nSo at first we have to define our method which changes what we want in the request:\r\n\r\n    private static RequestPostProcessor remoteHost(final String remoteHost) {\r\n        return request -&gt; {\r\n            request.setRemoteHost(remoteHost);\r\n            return request;\r\n        };\r\n    }\r\n\r\nAnd then with method `with(...)` on `MockHttpServletRequestBuilder` object we have to inject this method outcome.\r\n\r\n     MockHttpServletRequestBuilder requestBuilder = get(&quot;/user/prop&quot;).\r\n             .with(remoteHost(&quot;mockhostdomain.com&quot;));\r\n\r\n","title":"MockHttpServletRequestBuilder - how to change remoteAddress of remoteHost of HttpServletRequest?","body":"<p>I have finally found solution for that here:</p>\n<blockquote>\n<p><a href=\"https://techotom.wordpress.com/2014/11/12/mocking-remoteaddr-with-spring-mvc/\" rel=\"nofollow noreferrer\">https://techotom.wordpress.com/2014/11/12/mocking-remoteaddr-with-spring-mvc/</a></p>\n</blockquote>\n<p>Basically with this method we can change every parameter of request.</p>\n<p>So at first we have to define our method which changes what we want in the request:</p>\n<pre><code>private static RequestPostProcessor remoteHost(final String remoteHost) {\n    return request -&gt; {\n        request.setRemoteHost(remoteHost);\n        return request;\n    };\n}\n</code></pre>\n<p>And then with method <code>with(...)</code> on <code>MockHttpServletRequestBuilder</code> object we have to inject this method outcome.</p>\n<pre><code> MockHttpServletRequestBuilder requestBuilder = get(&quot;/user/prop&quot;).\n         .with(remoteHost(&quot;mockhostdomain.com&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10236560,"reputation":1324,"user_id":8420428,"display_name":"keith5140"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1568206108,"creation_date":1568206108,"answer_id":57889564,"question_id":53655413,"body_markdown":"with mockmvc you can do like this:\r\n  \r\n    \r\n            Map&lt;String, String&gt; req = new HashMap&lt;&gt;();\r\n    //        req.put(&quot;&quot;)\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            ObjectWriter ow = mapper.writer().withDefaultPrettyPrinter();\r\n            java.lang.String requestJson = ow.writeValueAsString(req);\r\n    \r\n            String responseString = this.mockMvc.perform(post\r\n                    (&quot;/authorization/activated&quot;)\r\n                    .with(request-&gt;{request.setRemoteAddr(&quot;192.168.0.2&quot;);return request;})\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(requestJson)\r\n                    .header(&quot;Authorization&quot;, bear)\r\n            .header(&quot;X-Device-Id&quot;,&quot;7fb0c4e49aec4c5a9a089d0c84f7078b&quot;))\r\n                    .andReturn().getResponse().getContentAsString();\r\n            System.out.println(&quot;[POST result]:&quot; + responseString);","title":"MockHttpServletRequestBuilder - how to change remoteAddress of remoteHost of HttpServletRequest?","body":"<p>with mockmvc you can do like this:</p>\n\n<pre><code>        Map&lt;String, String&gt; req = new HashMap&lt;&gt;();\n//        req.put(\"\")\n        ObjectMapper mapper = new ObjectMapper();\n        ObjectWriter ow = mapper.writer().withDefaultPrettyPrinter();\n        java.lang.String requestJson = ow.writeValueAsString(req);\n\n        String responseString = this.mockMvc.perform(post\n                (\"/authorization/activated\")\n                .with(request-&gt;{request.setRemoteAddr(\"192.168.0.2\");return request;})\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(requestJson)\n                .header(\"Authorization\", bear)\n        .header(\"X-Device-Id\",\"7fb0c4e49aec4c5a9a089d0c84f7078b\"))\n                .andReturn().getResponse().getContentAsString();\n        System.out.println(\"[POST result]:\" + responseString);\n</code></pre>\n"}],"owner":{"account_id":9195034,"reputation":638,"user_id":6834044,"display_name":"Przemysław Gęsieniec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4514,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":53701614,"answer_count":2,"score":8,"last_activity_date":1669955197,"creation_date":1544112605,"question_id":53655413,"body_markdown":"I&#39;m trying to create mock request for integration test (@SpringBootTest). \r\n\r\n    //given     \r\n    MockHttpServletRequestBuilder requestBuilder = get(&quot;/users/register/user1&quot;);\r\n\r\nWhat I want to check is the remote of this request. In my controller Im getting this information from *HttpServletRequest* \r\n\r\n    HttpServletRequest request;\r\n    request.getRemoteHost();\r\n    request.getRemoteAddr();\r\n\r\nUnfortunately right now `getRemoteHost()` will always return ***localhost***.\r\n\r\nI would like to change it in my mock request to something else eg: \r\n\r\n&gt; remoteHost: `localhost` --&gt; `mockhostdomain`\r\n&gt; \r\n&gt; remoteAddr: `127.0.0.1` --&gt; `10.32.120.7` (anything different)\r\n\r\nI cannot find proper method for that. **Is it even possible?**","title":"MockHttpServletRequestBuilder - how to change remoteAddress of remoteHost of HttpServletRequest?","body":"<p>I'm trying to create mock request for integration test (@SpringBootTest). </p>\n\n<pre><code>//given     \nMockHttpServletRequestBuilder requestBuilder = get(\"/users/register/user1\");\n</code></pre>\n\n<p>What I want to check is the remote of this request. In my controller Im getting this information from <em>HttpServletRequest</em> </p>\n\n<pre><code>HttpServletRequest request;\nrequest.getRemoteHost();\nrequest.getRemoteAddr();\n</code></pre>\n\n<p>Unfortunately right now <code>getRemoteHost()</code> will always return <strong><em>localhost</em></strong>.</p>\n\n<p>I would like to change it in my mock request to something else eg: </p>\n\n<blockquote>\n  <p>remoteHost: <code>localhost</code> --> <code>mockhostdomain</code></p>\n  \n  <p>remoteAddr: <code>127.0.0.1</code> --> <code>10.32.120.7</code> (anything different)</p>\n</blockquote>\n\n<p>I cannot find proper method for that. <strong>Is it even possible?</strong></p>\n"},{"tags":["java","io","nio"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1368113529,"post_id":16465088,"comment_id":23622617,"body_markdown":"The same object (sun.nio.ch.FileChannelImpl) is returned for both calls (for Unix filesystems at least).","body":"The same object (sun.nio.ch.FileChannelImpl) is returned for both calls (for Unix filesystems at least)."}],"answers":[{"comments":[{"owner":{"account_id":2296572,"reputation":12748,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"score":0,"creation_date":1368116976,"post_id":16465793,"comment_id":23624558,"body_markdown":"FileChannel implements SeekableByteChannel which serves to navigate a file &quot;randomly&quot;. How come? It means that also fc have those methods belonging to the SeekableByteChannel interface.","body":"FileChannel implements SeekableByteChannel which serves to navigate a file &quot;randomly&quot;. How come? It means that also fc have those methods belonging to the SeekableByteChannel interface."},{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":0,"creation_date":1368117570,"post_id":16465793,"comment_id":23624798,"body_markdown":"@Rollerball, are you using JDK7 ? sorry I replied to your question refering the JDK 6 implementation. FileChannel doesn&#39;t implement SeekableByteChannel prior to 7 i think.","body":"@Rollerball, are you using JDK7 ? sorry I replied to your question refering the JDK 6 implementation. FileChannel doesn&#39;t implement SeekableByteChannel prior to 7 i think."}],"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368114875,"creation_date":1368114409,"answer_id":16465793,"question_id":16465088,"body_markdown":"The `FileChannel` instance got from `RandomAccessFile` instance carries the random access behaviour of the object it&#39;s been created, in this case `fc1` is synced with `ra` object. You can see it&#39;s described in javadoc \r\n\r\n&gt; Changing the channel&#39;s position, whether explicitly or by reading or\r\n&gt; writing bytes, will change the file position of the originating\r\n&gt; object, and vice versa. Changing the file&#39;s length via the file\r\n&gt; channel will change the length seen via the originating object, and\r\n&gt; vice versa. Changing the file&#39;s content by writing bytes will change\r\n&gt; the content seen by the originating object, and vice versa.\r\n\r\nHowever the `FileChannel` instance which is created using `FileChannel.open()` which is `fc` doesn&#39;t have this behaviour. This is true for the `FileChannel` instances you got from Streams. It only guarantees that the view of the file is consistent among the objects created by the same program. Hope this might help you.","title":"RandomAccessFile vs FileChannel.open(path);","body":"<p>The <code>FileChannel</code> instance got from <code>RandomAccessFile</code> instance carries the random access behaviour of the object it's been created, in this case <code>fc1</code> is synced with <code>ra</code> object. You can see it's described in javadoc </p>\n\n<blockquote>\n  <p>Changing the channel's position, whether explicitly or by reading or\n  writing bytes, will change the file position of the originating\n  object, and vice versa. Changing the file's length via the file\n  channel will change the length seen via the originating object, and\n  vice versa. Changing the file's content by writing bytes will change\n  the content seen by the originating object, and vice versa.</p>\n</blockquote>\n\n<p>However the <code>FileChannel</code> instance which is created using <code>FileChannel.open()</code> which is <code>fc</code> doesn't have this behaviour. This is true for the <code>FileChannel</code> instances you got from Streams. It only guarantees that the view of the file is consistent among the objects created by the same program. Hope this might help you.</p>\n"},{"tags":[],"owner":{"account_id":10450201,"reputation":35,"user_id":7704078,"display_name":"J.stack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669954343,"creation_date":1669954343,"answer_id":74650830,"question_id":16465088,"body_markdown":"i think the answer depends on the version of jdk\r\n\r\nbefore jdk7,they are different on the randomAccess function\r\n\r\nbut after jdk7(included), they are same; ","title":"RandomAccessFile vs FileChannel.open(path);","body":"<p>i think the answer depends on the version of jdk</p>\n<p>before jdk7,they are different on the randomAccess function</p>\n<p>but after jdk7(included), they are same;</p>\n"}],"owner":{"account_id":2296572,"reputation":12748,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2972,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1669954343,"creation_date":1368112174,"question_id":16465088,"body_markdown":"What kind of `FileChannel` object does the `FileChannel.open(path)` method return? \r\n\r\nIs it still random access allowed as if it was as following?\r\n\r\n\t\r\n\r\n    RandomAccessFile ra = new RandomAccessFile(&quot;RandomIndeed&quot;,&quot;rw&quot;);\r\n    \tFileChannel fc1 = ra.getChannel();\r\n\r\n\r\nWhat&#39;s the difference between `fc1` and the following instance `fc`:\r\n\r\n\r\n    FileChannel fc = FileChannel.open(path);\r\n\t\r\n\r\nBasically I would like to know what will be the differences between the 2 objects above-created, hence `fc1` and `fc`\r\n\r\nThanks in advance.\r\n","title":"RandomAccessFile vs FileChannel.open(path);","body":"<p>What kind of <code>FileChannel</code> object does the <code>FileChannel.open(path)</code> method return? </p>\n\n<p>Is it still random access allowed as if it was as following?</p>\n\n<pre><code>RandomAccessFile ra = new RandomAccessFile(\"RandomIndeed\",\"rw\");\n    FileChannel fc1 = ra.getChannel();\n</code></pre>\n\n<p>What's the difference between <code>fc1</code> and the following instance <code>fc</code>:</p>\n\n<pre><code>FileChannel fc = FileChannel.open(path);\n</code></pre>\n\n<p>Basically I would like to know what will be the differences between the 2 objects above-created, hence <code>fc1</code> and <code>fc</code></p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","php","encryption","aes"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1669879834,"post_id":74637124,"comment_id":131744427,"body_markdown":"Your IV on Java is 16 HEX &#39;0x00&#39;s (16 bytes filled with 0) but your PHP-IV is 16 times ASCII &#39;0&#39;). Just a note on your encryption scheme: the usage of a static IV makres your complete encryption **unsecure** - for other readers: **Do not use the code above in production**. Please use a random generated IV, prepend it to the ciphertext so that the receipient can split the data and uses the random IV for decryption, thanks.","body":"Your IV on Java is 16 HEX &#39;0x00&#39;s (16 bytes filled with 0) but your PHP-IV is 16 times ASCII &#39;0&#39;). Just a note on your encryption scheme: the usage of a static IV makres your complete encryption <b>unsecure</b> - for other readers: <b>Do not use the code above in production</b>. Please use a random generated IV, prepend it to the ciphertext so that the receipient can split the data and uses the random IV for decryption, thanks."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1669889884,"post_id":74637124,"comment_id":131747526,"body_markdown":"The codes are incompatible mainly because the Java code applies AES-256 and the PHP code AES-128, i.e. change the algorithm in the PHP code to AES-256-CBC. The different AES variants produce completely different ciphertexts (in contrast a wrong IV corrupts only the first block / 16 bytes for AES/CBC). Also bear in mind that a string as key and a missing authenticity check with CBC are further vulnerabilities besides a static IV mentioned in the 1st comment.","body":"The codes are incompatible mainly because the Java code applies AES-256 and the PHP code AES-128, i.e. change the algorithm in the PHP code to AES-256-CBC. The different AES variants produce completely different ciphertexts (in contrast a wrong IV corrupts only the first block / 16 bytes for AES/CBC). Also bear in mind that a string as key and a missing authenticity check with CBC are further vulnerabilities besides a static IV mentioned in the 1st comment."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670230517,"post_id":74650728,"comment_id":131819291,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74650728/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11488200,"reputation":69,"user_id":8420124,"display_name":"newsshare24h"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669953243,"creation_date":1669953243,"answer_id":74650728,"question_id":74637124,"body_markdown":"i finally found the solution, based on the suggestion of @Michael Fehr and @Topaco, thanks everyone, and here is the code that worked for me\r\n\r\n    $str = &#39;Emma&#39;;\r\n    $key = &#39;mykey123823196ext470329981320tst&#39;;\r\n    $iv  = str_repeat(chr(0), 16);\r\n    $encodedEncryptedData = base64_encode(openssl_encrypt($str, &quot;AES-256-CBC&quot;, $key, OPENSSL_RAW_DATA, $iv));\r\n    echo $encodedEncryptedData; // OUTPUT: wuN9UzYYdmevVxgTxcYIbw==","title":"How to convert java AES/CBC/PKCS5Padding to php","body":"<p>i finally found the solution, based on the suggestion of @Michael Fehr and @Topaco, thanks everyone, and here is the code that worked for me</p>\n<pre><code>$str = 'Emma';\n$key = 'mykey123823196ext470329981320tst';\n$iv  = str_repeat(chr(0), 16);\n$encodedEncryptedData = base64_encode(openssl_encrypt($str, &quot;AES-256-CBC&quot;, $key, OPENSSL_RAW_DATA, $iv));\necho $encodedEncryptedData; // OUTPUT: wuN9UzYYdmevVxgTxcYIbw==\n</code></pre>\n"}],"owner":{"account_id":11488200,"reputation":69,"user_id":8420124,"display_name":"newsshare24h"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669953243,"creation_date":1669871053,"question_id":74637124,"body_markdown":"I&#39;m trying to convert a java script to php, but i&#39;m having a hard time, can someone help me\r\n\r\n    String key = &quot;mykey123823196ext470329981320tst&quot;;\r\n    String str = &quot;Emma&quot;;\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    byte[] IV = new byte[16];\r\n    \t\r\n    SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n    IvParameterSpec ivParameterSpec = new IvParameterSpec(IV);\r\n    \t\t\r\n    cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivParameterSpec);\r\n    \t\t\r\n    String result = Base64.getEncoder().encodeToString(cipher.doFinal(str.getBytes(&quot;UTF-8&quot;)));\r\n    \t\t\r\n    System.out.println(result); // OUTPUT: wuN9UzYYdmevVxgTxcYIbw==\r\n\r\nThis is what i tried but the result is not the same as the output of java code\r\n\r\n    $str = &#39;Emma&#39;;\r\n    $key = &#39;mykey123823196ext470329981320tst&#39;;\r\n    $iv  = &#39;0000000000000000&#39;;\r\n    $encodedEncryptedData = base64_encode(openssl_encrypt($str, &quot;AES-128-CBC&quot;, $key, OPENSSL_RAW_DATA, $iv));\r\n    echo $encodedEncryptedData; // OUTPUT: Vn5U9IbbxtQWxyeiLKBu9A==","title":"How to convert java AES/CBC/PKCS5Padding to php","body":"<p>I'm trying to convert a java script to php, but i'm having a hard time, can someone help me</p>\n<pre><code>String key = &quot;mykey123823196ext470329981320tst&quot;;\nString str = &quot;Emma&quot;;\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\nbyte[] IV = new byte[16];\n    \nSecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\nIvParameterSpec ivParameterSpec = new IvParameterSpec(IV);\n        \ncipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivParameterSpec);\n        \nString result = Base64.getEncoder().encodeToString(cipher.doFinal(str.getBytes(&quot;UTF-8&quot;)));\n        \nSystem.out.println(result); // OUTPUT: wuN9UzYYdmevVxgTxcYIbw==\n</code></pre>\n<p>This is what i tried but the result is not the same as the output of java code</p>\n<pre><code>$str = 'Emma';\n$key = 'mykey123823196ext470329981320tst';\n$iv  = '0000000000000000';\n$encodedEncryptedData = base64_encode(openssl_encrypt($str, &quot;AES-128-CBC&quot;, $key, OPENSSL_RAW_DATA, $iv));\necho $encodedEncryptedData; // OUTPUT: Vn5U9IbbxtQWxyeiLKBu9A==\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","selenium-chromedriver","shared-libraries"],"comments":[{"owner":{"account_id":2591791,"reputation":8731,"user_id":2246345,"display_name":"samtoddler"},"score":0,"creation_date":1614265327,"post_id":66370682,"comment_id":117338028,"body_markdown":"I think you should place the shared library in `/lib64/` .Plus not sure how you are deploying your lambda, you can simply create a docker image that you can test locally using [java lambda docker image](https://gallery.ecr.aws/lambda/java). Must faster and fully testable locally.","body":"I think you should place the shared library in <code>&#47;lib64&#47;</code> .Plus not sure how you are deploying your lambda, you can simply create a docker image that you can test locally using <a href=\"https://gallery.ecr.aws/lambda/java\" rel=\"nofollow noreferrer\">java lambda docker image</a>. Must faster and fully testable locally."},{"owner":{"account_id":9906341,"reputation":524,"user_id":7334752,"display_name":"tmath"},"score":0,"creation_date":1614623365,"post_id":66370682,"comment_id":117435877,"body_markdown":"`/lib64` didn&#39;t work either. I&#39;m deploying it through the AWS console. I just don&#39;t understand why there are so many different answers to this question and none of them seem to work...","body":"<code>&#47;lib64</code> didn&#39;t work either. I&#39;m deploying it through the AWS console. I just don&#39;t understand why there are so many different answers to this question and none of them seem to work..."}],"answers":[{"comments":[{"owner":{"account_id":7707875,"reputation":491,"user_id":5838295,"display_name":"transposeglobal"},"score":1,"creation_date":1614814742,"post_id":66439111,"comment_id":117503352,"body_markdown":"I just want to clarify because I&#39;ve been banging my head on this for a while:\nYou literally move the .so files to a folder called lib and zip it up and it works? I swear I tried this and it didn&#39;t work.","body":"I just want to clarify because I&#39;ve been banging my head on this for a while: You literally move the .so files to a folder called lib and zip it up and it works? I swear I tried this and it didn&#39;t work."},{"owner":{"account_id":9906341,"reputation":524,"user_id":7334752,"display_name":"tmath"},"score":1,"creation_date":1614873643,"post_id":66439111,"comment_id":117524137,"body_markdown":"Yes. A few things to check: Make sure that you aren&#39;t overriding LD_LIBRARY_PATH in your environment variables. Chances are there are more than 1 dependencies that are missing, so make sure the error isn&#39;t complaining about a different one. Make sure you&#39;re using the 64-bit versions instead of the 32 one, or you will get a similar looking error - be sure you expand it to read the full text of the error.","body":"Yes. A few things to check: Make sure that you aren&#39;t overriding LD_LIBRARY_PATH in your environment variables. Chances are there are more than 1 dependencies that are missing, so make sure the error isn&#39;t complaining about a different one. Make sure you&#39;re using the 64-bit versions instead of the 32 one, or you will get a similar looking error - be sure you expand it to read the full text of the error."},{"owner":{"account_id":4034268,"reputation":138,"user_id":3319322,"accept_rate":100,"display_name":"Axl"},"score":0,"creation_date":1624114733,"post_id":66439111,"comment_id":120272424,"body_markdown":"What base os did you assume Amazon Linux uses? CentOS?","body":"What base os did you assume Amazon Linux uses? CentOS?"},{"owner":{"account_id":9906341,"reputation":524,"user_id":7334752,"display_name":"tmath"},"score":1,"creation_date":1624493242,"post_id":66439111,"comment_id":120376831,"body_markdown":"@Axl Amazon Linux is its own OS. But when you type `cat /etc/*release` it says `ID_LIKE=&quot;centos rhel fedora&quot;`, so I guess it&#39;s kind of based on it. But if you&#39;re asking how I got the required libs, I ran a docker image of Amazon Linux 2 locally and grabbed them from there after installing them with yum.","body":"@Axl Amazon Linux is its own OS. But when you type <code>cat &#47;etc&#47;*release</code> it says <code>ID_LIKE=&quot;centos rhel fedora&quot;</code>, so I guess it&#39;s kind of based on it. But if you&#39;re asking how I got the required libs, I ran a docker image of Amazon Linux 2 locally and grabbed them from there after installing them with yum."},{"owner":{"account_id":260374,"reputation":311,"user_id":543884,"display_name":"Kedde"},"score":0,"creation_date":1634630229,"post_id":66439111,"comment_id":123069559,"body_markdown":"I had the same issue, and needed to change the lambda function runtime from &quot;Runtime.DOTNET_CORE_3_1&quot; to &quot;Runtime.PROVIDED&quot;.\n\nI couldn&#39;t find official documentation about which libraries is provided in the different runtimes. But found, that according to the following reddit thread libglib.so.1 is missing in runtimes\n\nhttps://www.reddit.com/r/aws/comments/bxzzov/node_10_lambda_runtime_does_not_match_the/","body":"I had the same issue, and needed to change the lambda function runtime from &quot;Runtime.DOTNET_CORE_3_1&quot; to &quot;Runtime.PROVIDED&quot;.  I couldn&#39;t find official documentation about which libraries is provided in the different runtimes. But found, that according to the following reddit thread libglib.so.1 is missing in runtimes  <a href=\"https://www.reddit.com/r/aws/comments/bxzzov/node_10_lambda_runtime_does_not_match_the/\" rel=\"nofollow noreferrer\">reddit.com/r/aws/comments/bxzzov/&hellip;</a>"},{"owner":{"account_id":11608983,"reputation":149,"user_id":13393957,"display_name":"M. Phys"},"score":0,"creation_date":1652788814,"post_id":66439111,"comment_id":127686545,"body_markdown":"Hi, I was wondering where I would find the libglib-2.0.so.0 file i need to add to the layer?","body":"Hi, I was wondering where I would find the libglib-2.0.so.0 file i need to add to the layer?"},{"owner":{"account_id":9906341,"reputation":524,"user_id":7334752,"display_name":"tmath"},"score":0,"creation_date":1652804955,"post_id":66439111,"comment_id":127693210,"body_markdown":"@M.Phys Basically you need to build a docker image with Amazon Linux 2, log into the instance then install the libraries you need using yum, then copy them into your local machine from the docker instance.","body":"@M.Phys Basically you need to build a docker image with Amazon Linux 2, log into the instance then install the libraries you need using yum, then copy them into your local machine from the docker instance."},{"owner":{"account_id":11608983,"reputation":149,"user_id":13393957,"display_name":"M. Phys"},"score":0,"creation_date":1652805355,"post_id":66439111,"comment_id":127693362,"body_markdown":"I managed to get chomedriver and headless chromium working with python 3.7 lambda but this link was helpful in getting there! Cheers","body":"I managed to get chomedriver and headless chromium working with python 3.7 lambda but this link was helpful in getting there! Cheers"},{"owner":{"account_id":9906341,"reputation":524,"user_id":7334752,"display_name":"tmath"},"score":0,"creation_date":1652820713,"post_id":66439111,"comment_id":127698074,"body_markdown":"@M.Phys Glad to help! You could always upvote the answer ;)","body":"@M.Phys Glad to help! You could always upvote the answer ;)"}],"tags":[],"owner":{"account_id":9906341,"reputation":524,"user_id":7334752,"display_name":"tmath"},"comment_count":9,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1614686995,"creation_date":1614686995,"answer_id":66439111,"question_id":66370682,"body_markdown":"OK, I finally figured it out. After reading through more of the documentation, I found 2 key points:\r\n\r\nFirst, from https://docs.aws.amazon.com/lambda/latest/dg/configuration-envvars.html, the `LD_LIBRARY_PATH` by default is set to:\r\n\r\n`/lib64:/usr/lib64:$LAMBDA_RUNTIME_DIR:$LAMBDA_RUNTIME_DIR/lib:$LAMBDA_TASK_ROOT:$LAMBDA_TASK_ROOT/lib:/opt/lib`\r\n\r\nAnd second, from https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html#configuration-layers-path :\r\n\r\n&gt; Layers are extracted to the `/opt` directory in the function execution environment.\r\n\r\nSo putting these 2 facts together, I reasoned that if I put the dependencies in `/lib` within the layer, they will end up in `/opt/lib`, which is in `LD_LIBRARY_PATH`, and voila - it worked. \r\n\r\n","title":"AWS Lambda not finding Shared Object File in Layer","body":"<p>OK, I finally figured it out. After reading through more of the documentation, I found 2 key points:</p>\n<p>First, from <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/configuration-envvars.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/configuration-envvars.html</a>, the <code>LD_LIBRARY_PATH</code> by default is set to:</p>\n<p><code>/lib64:/usr/lib64:$LAMBDA_RUNTIME_DIR:$LAMBDA_RUNTIME_DIR/lib:$LAMBDA_TASK_ROOT:$LAMBDA_TASK_ROOT/lib:/opt/lib</code></p>\n<p>And second, from <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html#configuration-layers-path\" rel=\"noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html#configuration-layers-path</a> :</p>\n<blockquote>\n<p>Layers are extracted to the <code>/opt</code> directory in the function execution environment.</p>\n</blockquote>\n<p>So putting these 2 facts together, I reasoned that if I put the dependencies in <code>/lib</code> within the layer, they will end up in <code>/opt/lib</code>, which is in <code>LD_LIBRARY_PATH</code>, and voila - it worked.</p>\n"},{"tags":[],"owner":{"account_id":1618698,"reputation":497,"user_id":1495729,"display_name":"kokociel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669953182,"creation_date":1669953182,"answer_id":74650723,"question_id":66370682,"body_markdown":"I encountered this problem while trying to use pysodium, which relies on finding libsodium at runtime.\r\n\r\nEven though libsodium was there in the `LD_LIBRARY_PATH`, this line was still failing:\r\n```python\r\nsodium = ctypes.cdll.LoadLibrary(ctypes.util.find_library(&#39;sodium&#39;) or ctypes.util.find_library(&#39;libsodium&#39;))\r\n```\r\nI ended up explicitly loading the library from the place where I&#39;d put it (as a layer):\r\n```python\r\nsodium = ctypes.cdll.LoadLibrary(\r\n    ctypes.util.find_library(&#39;sodium&#39;)\r\n    or ctypes.util.find_library(&#39;libsodium&#39;)\r\n    or &quot;/opt/lib/libsodium.so&quot;  # layers are deployed here\r\n)\r\n```","title":"AWS Lambda not finding Shared Object File in Layer","body":"<p>I encountered this problem while trying to use pysodium, which relies on finding libsodium at runtime.</p>\n<p>Even though libsodium was there in the <code>LD_LIBRARY_PATH</code>, this line was still failing:</p>\n<pre class=\"lang-py prettyprint-override\"><code>sodium = ctypes.cdll.LoadLibrary(ctypes.util.find_library('sodium') or ctypes.util.find_library('libsodium'))\n</code></pre>\n<p>I ended up explicitly loading the library from the place where I'd put it (as a layer):</p>\n<pre class=\"lang-py prettyprint-override\"><code>sodium = ctypes.cdll.LoadLibrary(\n    ctypes.util.find_library('sodium')\n    or ctypes.util.find_library('libsodium')\n    or &quot;/opt/lib/libsodium.so&quot;  # layers are deployed here\n)\n</code></pre>\n"}],"owner":{"account_id":9906341,"reputation":524,"user_id":7334752,"display_name":"tmath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7069,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":66439111,"answer_count":2,"score":6,"last_activity_date":1669953182,"creation_date":1614263974,"question_id":66370682,"body_markdown":"I&#39;m trying to create a Lambda function that runs Selenium tests in Java as part of a CI/CD pipeline in AWS. However, after the function installs Chromedriver, it fails because a .so file that Chromedriver requires is missing:\r\n\r\n    /tmp/chrome_driver7811961600494562711/chromedriver: error while loading shared libraries: libglib-2.0.so.0: cannot open shared object file: No such file or directory\r\n\r\nI have read that you can include native libraries via Software Layers in Lambda, and I understand that you have to compile it in an Amazon Linux environment, as described [here][1].\r\n\r\nHowever, after zipping the file, and creating my layer, it&#39;s still not picking up the library, and giving the same error. I&#39;ve also tried putting it in various directories in the zip file, like `/opt`, `/opt/lib`, and also setting the `LD_LIBRARY_PATH` variable in the function, but still no luck. Any help appreciated. \r\n\r\n\r\n  [1]: https://aws.amazon.com/premiumsupport/knowledge-center/lambda-linux-binary-package/","title":"AWS Lambda not finding Shared Object File in Layer","body":"<p>I'm trying to create a Lambda function that runs Selenium tests in Java as part of a CI/CD pipeline in AWS. However, after the function installs Chromedriver, it fails because a .so file that Chromedriver requires is missing:</p>\n<pre><code>/tmp/chrome_driver7811961600494562711/chromedriver: error while loading shared libraries: libglib-2.0.so.0: cannot open shared object file: No such file or directory\n</code></pre>\n<p>I have read that you can include native libraries via Software Layers in Lambda, and I understand that you have to compile it in an Amazon Linux environment, as described <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/lambda-linux-binary-package/\" rel=\"noreferrer\">here</a>.</p>\n<p>However, after zipping the file, and creating my layer, it's still not picking up the library, and giving the same error. I've also tried putting it in various directories in the zip file, like <code>/opt</code>, <code>/opt/lib</code>, and also setting the <code>LD_LIBRARY_PATH</code> variable in the function, but still no luck. Any help appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":2,"creation_date":1600045794,"post_id":63876730,"comment_id":112955239,"body_markdown":"Rename method `findByEmailIdAnsByPassword` to `findByEmailIdAndPassword`","body":"Rename method <code>findByEmailIdAnsByPassword</code> to <code>findByEmailIdAndPassword</code>"},{"owner":{"account_id":14304369,"reputation":145,"user_id":10332800,"display_name":"ehsan hosseini"},"score":0,"creation_date":1600050628,"post_id":63876730,"comment_id":112955953,"body_markdown":"Oh,  Thanx it got fixed after changing findByEmailIdAnaByPassword to findByEmailIdAndPassword. The method can be any name why my method name was getting error?","body":"Oh,  Thanx it got fixed after changing findByEmailIdAnaByPassword to findByEmailIdAndPassword. The method can be any name why my method name was getting error?"},{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":1,"creation_date":1600050714,"post_id":63876730,"comment_id":112955967,"body_markdown":"Not in the repository. Spring parses method name of repository class to understand which properties of `User` class to use for search. That is how JPA repository works in spring boot","body":"Not in the repository. Spring parses method name of repository class to understand which properties of <code>User</code> class to use for search. That is how JPA repository works in spring boot"}],"answers":[{"tags":[],"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1600056257,"creation_date":1600056257,"answer_id":63877939,"question_id":63876730,"body_markdown":"As per your error message `No property byPassword found for type User!`, it is looking for the property named `byPassword` you need to change to `andPassword` in the repository as shown below.\r\n\r\n```\r\npublic interface RegistrationRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    public User findByEmailIdAndPassword(String emailId, String password);\r\n}\r\n```\r\n\r\nSpring will parse every property mentioned after by, you need by only at the start of the method\r\n\r\nYou can also change the name to be more readable as \r\n\r\n```\r\npublic interface RegistrationRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    public User findUserByEmailIdAndPassword(String emailId, String password);\r\n}\r\n```\r\n\r\n\r\n","title":"Filed to create query for method public abstract","body":"<p>As per your error message <code>No property byPassword found for type User!</code>, it is looking for the property named <code>byPassword</code> you need to change to <code>andPassword</code> in the repository as shown below.</p>\n<pre><code>public interface RegistrationRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    public User findByEmailIdAndPassword(String emailId, String password);\n}\n</code></pre>\n<p>Spring will parse every property mentioned after by, you need by only at the start of the method</p>\n<p>You can also change the name to be more readable as</p>\n<pre><code>public interface RegistrationRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    public User findUserByEmailIdAndPassword(String emailId, String password);\n}\n</code></pre>\n"}],"owner":{"account_id":14304369,"reputation":145,"user_id":10332800,"display_name":"ehsan hosseini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1699,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63877939,"answer_count":1,"score":1,"last_activity_date":1669951807,"creation_date":1600042693,"question_id":63876730,"body_markdown":"I created a login user using controller, user, repository and service in my project. In controller, if email id and password are not null then login otherwise throw an exception &quot;User Not Exist&quot;. I am getting the bellow error, can you help me to fix this issue?\r\n\r\nError:\r\n\r\n    Error creating bean with name &#39;registrationRepository&#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.adventure.network.model.User com.adventure.network.repository.RegistrationRepository.findByEmailIdAndByPassword(java.lang.String,java.lang.String)! No property byPassword found for type User!\r\n\r\nController:\r\n\r\n    @RestController\r\n    public class RegistrationController {\r\n    \r\n    \t@Autowired\r\n    \tprivate RegistrationService service;\r\n    \r\n    \t@PostMapping(&quot;/login&quot;)\r\n    \tpublic User loginUser(@RequestBody User user) throws Exception {\r\n    \t\tString tempEmailId = user.getEmailId();\r\n    \t\tString tempPassword = user.getPassword();\r\n    \t\t\r\n    \t\tUser userObject = null;\r\n    \t\tif(tempEmailId!=null &amp;&amp; tempPassword!=null) {\r\n    \t\t\tuserObject = service.fetchUserByEmailIdByPassword(tempEmailId, tempPassword);\t\r\n    \t\t}\r\n    \t\tif(userObject == null) {\r\n    \t\t\tthrow new Exception(&quot;User is not exict&quot;);\r\n    \t\t}\r\n    \t\treturn userObject;\r\n    \t}\r\n\r\nService:\r\n\r\n    @Service\r\n    public class RegistrationService {\r\n    \r\n    \t@Autowired \r\n    \tprivate RegistrationRepository repo;\r\n    \t\r\n    \tpublic User fetchUserByEmailIdByPassword(String email, String password) {\r\n    \t\treturn repo.findByEmailIdAndByPassword(email, password);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface RegistrationRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    \r\n    \tpublic User findByEmailIdAndByPassword(String emailId, String password);\r\n    } \r\n\r\n \r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.adventure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;network&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;network&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"Filed to create query for method public abstract","body":"<p>I created a login user using controller, user, repository and service in my project. In controller, if email id and password are not null then login otherwise throw an exception &quot;User Not Exist&quot;. I am getting the bellow error, can you help me to fix this issue?</p>\n<p>Error:</p>\n<pre><code>Error creating bean with name 'registrationRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.adventure.network.model.User com.adventure.network.repository.RegistrationRepository.findByEmailIdAndByPassword(java.lang.String,java.lang.String)! No property byPassword found for type User!\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class RegistrationController {\n\n    @Autowired\n    private RegistrationService service;\n\n    @PostMapping(&quot;/login&quot;)\n    public User loginUser(@RequestBody User user) throws Exception {\n        String tempEmailId = user.getEmailId();\n        String tempPassword = user.getPassword();\n        \n        User userObject = null;\n        if(tempEmailId!=null &amp;&amp; tempPassword!=null) {\n            userObject = service.fetchUserByEmailIdByPassword(tempEmailId, tempPassword);   \n        }\n        if(userObject == null) {\n            throw new Exception(&quot;User is not exict&quot;);\n        }\n        return userObject;\n    }\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class RegistrationService {\n\n    @Autowired \n    private RegistrationRepository repo;\n    \n    public User fetchUserByEmailIdByPassword(String email, String password) {\n        return repo.findByEmailIdAndByPassword(email, password);\n        \n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface RegistrationRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    public User findByEmailIdAndByPassword(String emailId, String password);\n} \n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.adventure&lt;/groupId&gt;\n    &lt;artifactId&gt;network&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;network&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1505017175,"post_id":46137234,"comment_id":79236703,"body_markdown":"*Hint:* If you are filtering the array, the resultant array will likely be smaller. The size of the resultant array will not be known up-front, so you should use an `ArrayList&lt;String&gt;`, not a `String[]`, to collection the result.","body":"<i>Hint:</i> If you are filtering the array, the resultant array will likely be smaller. The size of the resultant array will not be known up-front, so you should use an <code>ArrayList&lt;String&gt;</code>, not a <code>String[]</code>, to collection the result."}],"answers":[{"tags":[],"owner":{"account_id":11317635,"reputation":53209,"user_id":8298909,"display_name":"Ben P."},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1505019801,"creation_date":1505017230,"answer_id":46137256,"question_id":46137234,"body_markdown":"Here&#39;s how I&#39;d do it:\r\n\r\n        try {\r\n            List&lt;String&gt; filtered = new ArrayList&lt;&gt;();\r\n            JSONArray ary = new JSONArray(/* your json here */);\r\n\r\n            for (int i = 0; i &lt; ary.length(); ++i) {\r\n                JSONObject obj = ary.getJSONObject(i);\r\n                String id = obj.getString(&quot;id_estado&quot;);\r\n                if (id.equals(&quot;1&quot;)) {\r\n                    filtered.add(obj.getString(&quot;tienda&quot;));\r\n                }\r\n            }\r\n        } catch (JSONException e) {\r\n            // handle exception\r\n        }\r\n\r\nAn explanation of this code:\r\n\r\n- Create an `ArrayList` to hold the filtered values.\r\n- Create a `JSONArray` from your json text.\r\n- Iterate over each element in the array, pulling out a `JSONObject` each time.\r\n- For each object, we get its `id_estado` property and check if it is equal to `&quot;1&quot;`.\r\n- If it is, we add the `tienda` property to the list of filtered values.","title":"Filter Json array","body":"<p>Here's how I'd do it:</p>\n\n<pre><code>    try {\n        List&lt;String&gt; filtered = new ArrayList&lt;&gt;();\n        JSONArray ary = new JSONArray(/* your json here */);\n\n        for (int i = 0; i &lt; ary.length(); ++i) {\n            JSONObject obj = ary.getJSONObject(i);\n            String id = obj.getString(\"id_estado\");\n            if (id.equals(\"1\")) {\n                filtered.add(obj.getString(\"tienda\"));\n            }\n        }\n    } catch (JSONException e) {\n        // handle exception\n    }\n</code></pre>\n\n<p>An explanation of this code:</p>\n\n<ul>\n<li>Create an <code>ArrayList</code> to hold the filtered values.</li>\n<li>Create a <code>JSONArray</code> from your json text.</li>\n<li>Iterate over each element in the array, pulling out a <code>JSONObject</code> each time.</li>\n<li>For each object, we get its <code>id_estado</code> property and check if it is equal to <code>\"1\"</code>.</li>\n<li>If it is, we add the <code>tienda</code> property to the list of filtered values.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9013964,"reputation":1652,"user_id":6717520,"accept_rate":87,"display_name":"phpdroid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505018584,"creation_date":1505018584,"answer_id":46137372,"question_id":46137234,"body_markdown":"try this\r\n\r\n    for (int i = 0; i &lt; JA1.length(); i++) {\r\n                 JSONObject json_data = jsonArray.getJSONObject(i);\r\n                 name[i] = json_data.getString(&quot;tienda&quot;);\r\n               \r\n            }\r\n\r\nwe have to create object of each nested JSON item in the JSON using `JSONObject json_data = jsonArray.getJSONObject(i);` that was missing in your case.","title":"Filter Json array","body":"<p>try this</p>\n\n<pre><code>for (int i = 0; i &lt; JA1.length(); i++) {\n             JSONObject json_data = jsonArray.getJSONObject(i);\n             name[i] = json_data.getString(\"tienda\");\n\n        }\n</code></pre>\n\n<p>we have to create object of each nested JSON item in the JSON using <code>JSONObject json_data = jsonArray.getJSONObject(i);</code> that was missing in your case.</p>\n"},{"tags":[],"owner":{"account_id":8029921,"reputation":312,"user_id":6055346,"accept_rate":33,"display_name":"Sean Calkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669950979,"creation_date":1669950979,"answer_id":74650504,"question_id":46137234,"body_markdown":"If you&#39;re using kotlin, you can create an extension method and pass in a validation function as a parameter\r\n\r\n   \r\n\r\n    fun JSONArray.filter(validate: (JSONObject) -&gt; Boolean): List&lt;JSONObject&gt; {\r\n        val retVal = mutableListOf&lt;JSONObject&gt;()\r\n        for (i in 0.until(length())) {\r\n            try {\r\n                val jsonObject = getJSONObject(i)\r\n                if (validate(jsonObject)) {\r\n                    retVal.add(jsonObject)\r\n                }\r\n            } catch (e: Exception) {\r\n                Log.d(TAG, &quot;Exception: $e&quot;)\r\n            }\r\n        }\r\n        return retVal\r\n    }\r\n\r\nYou can use it like this\r\n\r\n    val filteredArray = jsonArray.filter { it.getString(&quot;bar&quot;) == &quot;foo&quot; }\r\n\r\n","title":"Filter Json array","body":"<p>If you're using kotlin, you can create an extension method and pass in a validation function as a parameter</p>\n<pre><code>fun JSONArray.filter(validate: (JSONObject) -&gt; Boolean): List&lt;JSONObject&gt; {\n    val retVal = mutableListOf&lt;JSONObject&gt;()\n    for (i in 0.until(length())) {\n        try {\n            val jsonObject = getJSONObject(i)\n            if (validate(jsonObject)) {\n                retVal.add(jsonObject)\n            }\n        } catch (e: Exception) {\n            Log.d(TAG, &quot;Exception: $e&quot;)\n        }\n    }\n    return retVal\n}\n</code></pre>\n<p>You can use it like this</p>\n<pre><code>val filteredArray = jsonArray.filter { it.getString(&quot;bar&quot;) == &quot;foo&quot; }\n</code></pre>\n"}],"owner":{"account_id":9153533,"reputation":61,"user_id":6807197,"accept_rate":75,"display_name":"Cesar Bellic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22470,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":74650504,"answer_count":3,"score":3,"last_activity_date":1669950979,"creation_date":1505016923,"question_id":46137234,"body_markdown":"This is my first time working with json and I&#39;m having a hard time trying to filter an array I&#39;m trying to get all values (tienda) where id_estado=1.\r\n\r\nAny clue how to approach this?\r\n\r\n    JA1= [{&quot;id_estado&quot;:&quot;1&quot;,&quot;tienda&quot;:&quot;Aurrera&quot;},{&quot;id_estado&quot;:&quot;1&quot;,&quot;tienda&quot;:&quot;Walt-Mart&quot;},{&quot;id_estado&quot;:&quot;1&quot;,&quot;tienda&quot;:&quot;Chedraui&quot;},{&quot;id_estado&quot;:&quot;1&quot;,&quot;tienda&quot;:&quot;Soriana&quot;},{&quot;id_estado&quot;:&quot;1&quot;,&quot;tienda&quot;:&quot;Comercial MX&quot;},{&quot;id_estado&quot;:&quot;1&quot;,&quot;tienda&quot;:&quot;City Market&quot;},{&quot;id_estado&quot;:&quot;2&quot;,&quot;tienda&quot;:&quot;Walt-Mart&quot;},{&quot;id_estado&quot;:&quot;2&quot;,&quot;tienda&quot;:&quot;Chedraui&quot;},{&quot;id_estado&quot;:&quot;2&quot;,&quot;tienda&quot;:&quot;Aurrera&quot;},{&quot;id_estado&quot;:&quot;2&quot;,&quot;tienda&quot;:&quot;Superama&quot;}]\r\n\r\n                JSONArray JA1=new JSONArray(result1);\r\n            JSONObject json1= null;\r\n            name = new String[JA1.length()];\r\n                for (int i = 0; i &lt; JA1.length(); i++) {\r\n\t\t\t\t     Log.d(&quot;LOG&quot;, &quot;resultado name sin arreglo11 &quot; + JA1);\r\n                    //name[i] = json1.getString(&quot;tienda&quot;);\r\n                    //name[i]=json1.getString(&quot;estado&quot;);\r\n                }\r\n\r\n            for(int i=0;i&lt;name.length;i++)\r\n            {\r\n                list2.add(name[i]);\r\n                Log.d(&quot;LOG&quot;, &quot;resultado name2 &quot; + name[i]);\r\n            }\r\n\r\n\r\nThanks in advance","title":"Filter Json array","body":"<p>This is my first time working with json and I'm having a hard time trying to filter an array I'm trying to get all values (tienda) where id_estado=1.</p>\n\n<p>Any clue how to approach this?</p>\n\n<pre><code>JA1= [{\"id_estado\":\"1\",\"tienda\":\"Aurrera\"},{\"id_estado\":\"1\",\"tienda\":\"Walt-Mart\"},{\"id_estado\":\"1\",\"tienda\":\"Chedraui\"},{\"id_estado\":\"1\",\"tienda\":\"Soriana\"},{\"id_estado\":\"1\",\"tienda\":\"Comercial MX\"},{\"id_estado\":\"1\",\"tienda\":\"City Market\"},{\"id_estado\":\"2\",\"tienda\":\"Walt-Mart\"},{\"id_estado\":\"2\",\"tienda\":\"Chedraui\"},{\"id_estado\":\"2\",\"tienda\":\"Aurrera\"},{\"id_estado\":\"2\",\"tienda\":\"Superama\"}]\n\n            JSONArray JA1=new JSONArray(result1);\n        JSONObject json1= null;\n        name = new String[JA1.length()];\n            for (int i = 0; i &lt; JA1.length(); i++) {\n                 Log.d(\"LOG\", \"resultado name sin arreglo11 \" + JA1);\n                //name[i] = json1.getString(\"tienda\");\n                //name[i]=json1.getString(\"estado\");\n            }\n\n        for(int i=0;i&lt;name.length;i++)\n        {\n            list2.add(name[i]);\n            Log.d(\"LOG\", \"resultado name2 \" + name[i]);\n        }\n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","resources","autowired","required"],"answers":[{"comments":[{"owner":{"account_id":2494983,"reputation":745,"user_id":2171669,"accept_rate":56,"display_name":"user2171669"},"score":0,"creation_date":1453855551,"post_id":18887438,"comment_id":57780045,"body_markdown":"Does @Required need dependency to be fulfilled at configuration time?","body":"Does @Required need dependency to be fulfilled at configuration time?"},{"owner":{"account_id":2217558,"reputation":2569,"user_id":1969874,"display_name":"Sudarshan_SMD"},"score":2,"creation_date":1453866485,"post_id":18887438,"comment_id":57783276,"body_markdown":"@user2171669 - By configuration time, if you mean start up time, then yes, @ Required needs to fulfilled at startup. @ Request will be check while creating your Bean i.e when Spring context is initialized.\n\nIf you mean by compile time, then no. It all happens at context initialization time.  Note that, specifying &lt;context:component-scan/&gt; in you configuration tells Spring to check for @ Required annotation.\n\nAlso check RequiredAnnotationBeanPostProcessorhttps://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/annotation/RequiredAnnotationBeanPostProcessor.html","body":"@user2171669 - By configuration time, if you mean start up time, then yes, @ Required needs to fulfilled at startup. @ Request will be check while creating your Bean i.e when Spring context is initialized.  If you mean by compile time, then no. It all happens at context initialization time.  Note that, specifying &lt;context:component-scan/&gt; in you configuration tells Spring to check for @ Required annotation.  Also check RequiredAnnotationBeanPostProcessorhttps://docs.spring.io/sp&zwnj;&#8203;ring/docs/current/ja&zwnj;&#8203;vadoc-api/org/spring&zwnj;&#8203;framework/beans/fact&zwnj;&#8203;ory/annotation/Requi&zwnj;&#8203;redAnnotationBeanPos&zwnj;&#8203;tProcessor.html"},{"owner":{"account_id":12053300,"reputation":720,"user_id":8815365,"accept_rate":100,"display_name":"watchme"},"score":0,"creation_date":1522680410,"post_id":18887438,"comment_id":86233336,"body_markdown":"@kryger Are you shure? I don&#39;t think that with the Autowire-annotation you cannot make shure that the dependency is injected due to the XML-file of the ApplicationContext.","body":"@kryger Are you shure? I don&#39;t think that with the Autowire-annotation you cannot make shure that the dependency is injected due to the XML-file of the ApplicationContext."},{"owner":{"account_id":6586440,"reputation":656,"user_id":5089072,"display_name":"raj240"},"score":0,"creation_date":1561179800,"post_id":18887438,"comment_id":99988104,"body_markdown":"@Autowire has a &quot;required&quot; attribute, but this required attribute doesn&#39;t throw any exception if the bean is not available in the application context rather it simply neglects the bean","body":"@Autowire has a &quot;required&quot; attribute, but this required attribute doesn&#39;t throw any exception if the bean is not available in the application context rather it simply neglects the bean"},{"owner":{"account_id":2217558,"reputation":2569,"user_id":1969874,"display_name":"Sudarshan_SMD"},"score":0,"creation_date":1561359412,"post_id":18887438,"comment_id":100021746,"body_markdown":"@raj240 The application context won&#39;t throw an exception if the bean is not available only if the parameter &#39;required&#39; is set to false, otherwise, the app will throw an exception.","body":"@raj240 The application context won&#39;t throw an exception if the bean is not available only if the parameter &#39;required&#39; is set to false, otherwise, the app will throw an exception."},{"owner":{"account_id":6586440,"reputation":656,"user_id":5089072,"display_name":"raj240"},"score":0,"creation_date":1561446453,"post_id":18887438,"comment_id":100055139,"body_markdown":"@Sudarshan_SMD its my bad, i missed it. Thanks for correcting me.","body":"@Sudarshan_SMD its my bad, i missed it. Thanks for correcting me."}],"tags":[],"owner":{"account_id":2217558,"reputation":2569,"user_id":1969874,"display_name":"Sudarshan_SMD"},"comment_count":6,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1669949310,"creation_date":1379571702,"answer_id":18887438,"question_id":18884670,"body_markdown":"`@Autowired` annotation is used when you want to autowire a bean. `@Autowired` is not limited to setter. It can be used with a constructor and a field as well. If you use `@Autowired` annotation on a field, that field will be autowired with bean having matching data type.\r\n\r\n`@Required` checks if a particular property has been set or not. If a field has been annotated with `@Required` annotation and that field is not set, you will get `org.springframework.beans.factory.BeanInitializationException`.\r\n\r\nRefer:\r\n\r\n[Spring @Autowired usage][1]\r\n\r\n[Recommended usage of Spring&#39;s @Required annotation][2]\r\n\r\nEdit: As pointed by [@kryger](https://stackoverflow.com/users/1240557): field annotated with `@Autowired` is effectively also `@Required` (unless you explicitly set its parameter required to false).\r\neg:\r\n\r\n    @Autowired(required=false)\r\n\tprivate ObjectType objectType;\r\n\r\nFor a field that has been annotated `@Autowired`, if bean with matching data type in not available, `org.springframework.beans.factory.BeanCreationException` is thrown.\r\n\r\n  [1]: https://stackoverflow.com/questions/633158/spring-autowired-usage\r\n  [2]: https://stackoverflow.com/questions/824778/recommended-usage-of-springs-required-annotation","title":"@Autowired vs @Required on setter","body":"<p><code>@Autowired</code> annotation is used when you want to autowire a bean. <code>@Autowired</code> is not limited to setter. It can be used with a constructor and a field as well. If you use <code>@Autowired</code> annotation on a field, that field will be autowired with bean having matching data type.</p>\n<p><code>@Required</code> checks if a particular property has been set or not. If a field has been annotated with <code>@Required</code> annotation and that field is not set, you will get <code>org.springframework.beans.factory.BeanInitializationException</code>.</p>\n<p>Refer:</p>\n<p><a href=\"https://stackoverflow.com/questions/633158/spring-autowired-usage\">Spring @Autowired usage</a></p>\n<p><a href=\"https://stackoverflow.com/questions/824778/recommended-usage-of-springs-required-annotation\">Recommended usage of Spring's @Required annotation</a></p>\n<p>Edit: As pointed by <a href=\"https://stackoverflow.com/users/1240557\">@kryger</a>: field annotated with <code>@Autowired</code> is effectively also <code>@Required</code> (unless you explicitly set its parameter required to false).\neg:</p>\n<pre><code>@Autowired(required=false)\nprivate ObjectType objectType;\n</code></pre>\n<p>For a field that has been annotated <code>@Autowired</code>, if bean with matching data type in not available, <code>org.springframework.beans.factory.BeanCreationException</code> is thrown.</p>\n"},{"tags":[],"owner":{"account_id":12053300,"reputation":720,"user_id":8815365,"accept_rate":100,"display_name":"watchme"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1557344649,"creation_date":1522680205,"answer_id":49613383,"question_id":18884670,"body_markdown":"`@Autowired` is not the same as `@Required`. \n\n**The `@Autowire`-Annotation** (as in your code-example), tells the ApplicationContext (a.k.a the Spring-IoC-Containter) to inject the desired dependency. (No matter how, if its by using annotations or the XML-File of the ApplicationContext).\n\n**The `@Required`-Annotation**, tells the ApplicationContext that this property has to be mentioned in the XML-file (The XML-File of the ApplicationContext), which than leds to the dependency being injected by using the XML-File (or to an expection of course). But the Annotation on its own doesn&#39;t tell to inject the dependency!  **The injection is done because the property is mentioned in the XML-file.**  That&#39;s good to know, you may need it. \n\n\n\nWith mentioning the property in a XML-File I mean such a configuration for instance:\n\n    &lt;bean id=&quot;MyClass&quot; class=&quot;com.myclasses.common.MyClass&quot;&gt;\n         &lt;property name=&quot;someProperty&quot; value=&quot;ValueThatHasToBeInjected&quot; /&gt;\n    &lt;/bean&gt;\n\n\n\n**So why should I use it over the @Autowired-Annotation?**\n\nYou should use it when the dependency has to be injected by the information in the XML-configuration file.\n\n\n**Can you give me an example?**\n\nWell, there is already a very good example [on this website.][1] where this is also explained.\n\n  [1]: https://www.tutorialspoint.com/spring/spring_required_annotation.htm","title":"@Autowired vs @Required on setter","body":"<p><code>@Autowired</code> is not the same as <code>@Required</code>.</p>\n<p><strong>The <code>@Autowire</code>-Annotation</strong> (as in your code-example), tells the ApplicationContext (a.k.a the Spring-IoC-Containter) to inject the desired dependency. (No matter how, if its by using annotations or the XML-File of the ApplicationContext).</p>\n<p><strong>The <code>@Required</code>-Annotation</strong>, tells the ApplicationContext that this property has to be mentioned in the XML-file (The XML-File of the ApplicationContext), which than leds to the dependency being injected by using the XML-File (or to an expection of course). But the Annotation on its own doesn't tell to inject the dependency!  <strong>The injection is done because the property is mentioned in the XML-file.</strong>  That's good to know, you may need it.</p>\n<p>With mentioning the property in a XML-File I mean such a configuration for instance:</p>\n<pre><code>&lt;bean id=&quot;MyClass&quot; class=&quot;com.myclasses.common.MyClass&quot;&gt;\n     &lt;property name=&quot;someProperty&quot; value=&quot;ValueThatHasToBeInjected&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p><strong>So why should I use it over the @Autowired-Annotation?</strong></p>\n<p>You should use it when the dependency has to be injected by the information in the XML-configuration file.</p>\n<p><strong>Can you give me an example?</strong></p>\n<p>Well, there is already a very good example <a href=\"https://www.tutorialspoint.com/spring/spring_required_annotation.htm\" rel=\"noreferrer\">on this website.</a> where this is also explained.</p>\n"},{"tags":[],"owner":{"account_id":1927109,"reputation":127,"user_id":1737273,"accept_rate":0,"display_name":"vasu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599360120,"creation_date":1599359190,"answer_id":63760174,"question_id":18884670,"body_markdown":"@watchme **@Required** -annotation tells to the container that this property needs to be initialized as part of configuration, it can be initialized either through xml configuration or through @Autowired annotation or through java bean creation.\r\n1. xml example:\r\n\r\n   \r\n\r\n     ```\r\n   public class SimpleMovieLister \r\n   { \r\n      private MovieFinder movieFinder;\r\n\r\n      @Required\r\n      public void setMovieFinder(MovieFinder movieFinder)\r\n      {\r\n         this.movieFinder = movieFinder;\r\n      }\r\n   }\r\n \r\n    &lt;beans ...&gt;\r\n    &lt;bean id = &quot;movieFinder&quot; class = &quot;com.test.MovieFinder&quot;&gt;\r\n\r\n    &lt;bean id = &quot;simpleMovieLister&quot; class = &quot;com.test.SimpleMovieLister&quot;&gt;\r\n      &lt;property name = &quot;movieFinder&quot; value = &quot;movieFinder&quot; /&gt;\r\n  &lt;/beans&gt;\r\n\r\n 1. through @Autowire\r\n\r\n    ```\r\n    public class SimpleMovieLister \r\n    { \r\n      @Autowired \r\n      @Required\r\n      private MovieFinder movieFinder;\r\n    }\r\n\r\nHere truly speaking we don&#39;t need @Required as it @Autowired default is Required.\r\n\r\n 3. thru @Bean\r\n \r\n\r\n    ```` \r\n    public class SimpleMovieLister \r\n    { \r\n      private MovieFinder movieFinder;\r\n\r\n      @Required\r\n      public void setMovieFinder(MovieFinder movieFinder)\r\n      {\r\n         this.movieFinder = movieFinder;\r\n      }\r\n    }\r\n\r\n\r\n    public class AppConfig {\r\n\r\n    @Bean\r\n    public SimpleMovieLister getSimpleMovieLister()\r\n    {\r\n       SimpleMovieLister simpleMovieLister = new SimpleMovieLister();\r\n       simpleMovieLister.setMovieFinder(new MoveFinder());\r\n    }\r\n    }\r\n\r\n\r\n   \r\n","title":"@Autowired vs @Required on setter","body":"<p>@watchme <strong>@Required</strong> -annotation tells to the container that this property needs to be initialized as part of configuration, it can be initialized either through xml configuration or through @Autowired annotation or through java bean creation.</p>\n<ol>\n<li><p>xml example:</p>\n<pre><code>public class SimpleMovieLister \n{ \n private MovieFinder movieFinder;\n\n @Required\n public void setMovieFinder(MovieFinder movieFinder)\n {\n    this.movieFinder = movieFinder;\n }\n}\n\n&lt;beans ...&gt;\n&lt;bean id = &quot;movieFinder&quot; class = &quot;com.test.MovieFinder&quot;&gt;\n\n&lt;bean id = &quot;simpleMovieLister&quot; class = &quot;com.test.SimpleMovieLister&quot;&gt;\n &lt;property name = &quot;movieFinder&quot; value = &quot;movieFinder&quot; /&gt;\n</code></pre>\n</li>\n</ol>\n  \n<ol>\n<li><p>through @Autowire</p>\n<pre><code>public class SimpleMovieLister \n{ \n  @Autowired \n  @Required\n  private MovieFinder movieFinder;\n}\n\n</code></pre>\n</li>\n</ol>\n<p>Here truly speaking we don't need @Required as it @Autowired default is Required.</p>\n<ol start=\"3\">\n<li><p>thru @Bean</p>\n<pre><code>public class SimpleMovieLister \n{ \n  private MovieFinder movieFinder;\n\n  @Required\n  public void setMovieFinder(MovieFinder movieFinder)\n  {\n     this.movieFinder = movieFinder;\n  }\n}\n\n\npublic class AppConfig {\n\n@Bean\npublic SimpleMovieLister getSimpleMovieLister()\n{\n   SimpleMovieLister simpleMovieLister = new SimpleMovieLister();\n   simpleMovieLister.setMovieFinder(new MoveFinder());\n}\n}\n\n\n\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":1021597,"reputation":21003,"user_id":1031797,"accept_rate":45,"display_name":"0x56794E"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38289,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":18887438,"answer_count":3,"score":30,"last_activity_date":1669949310,"creation_date":1379552178,"question_id":18884670,"body_markdown":"I&#39;m curious to know what&#39;s the difference between code like this:\r\n\r\n    class MyClass {\r\n       @Autowired\r\n       MyService myService;\r\n    }\r\n\r\nand code like this:\r\n\r\n    class MyClass {\r\n       MyService myService;\r\n\r\n       @Required\r\n       public void setMyService(MyService val) {\r\n           this.myService = val;\r\n       }\r\n    }","title":"@Autowired vs @Required on setter","body":"<p>I'm curious to know what's the difference between code like this:</p>\n\n<pre><code>class MyClass {\n   @Autowired\n   MyService myService;\n}\n</code></pre>\n\n<p>and code like this:</p>\n\n<pre><code>class MyClass {\n   MyService myService;\n\n   @Required\n   public void setMyService(MyService val) {\n       this.myService = val;\n   }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669944102,"post_id":74649857,"comment_id":131763880,"body_markdown":"One way to get `Arrays.sort` to work is to use the [`Comparable` Interface](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html).  `public class Animal implements Comparable&lt;Animal&gt; {`. That requires you to add a `compareTo (Animal beast)` method.  Another way is to use one of the `Arrays.sort` methods that take a [`Comparator`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Comparator.html) as parameter.","body":"One way to get <code>Arrays.sort</code> to work is to use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code> Interface</a>.  <code>public class Animal implements Comparable&lt;Animal&gt; {</code>. That requires you to add a <code>compareTo (Animal beast)</code> method.  Another way is to use one of the <code>Arrays.sort</code> methods that take a <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> as parameter."},{"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"score":0,"creation_date":1669944613,"post_id":74649857,"comment_id":131763952,"body_markdown":"where are you sorting? Please add the code for sorting.","body":"where are you sorting? Please add the code for sorting."}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669946084,"post_id":74649972,"comment_id":131764137,"body_markdown":"Why stream when you can [sort in place](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-)?","body":"Why stream when you can <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-\" rel=\"nofollow noreferrer\">sort in place</a>?"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1669947113,"post_id":74649972,"comment_id":131764269,"body_markdown":"Yeah.  When I started, I wasn&#39;t sure if the OP wanted a new array or not.","body":"Yeah.  When I started, I wasn&#39;t sure if the OP wanted a new array or not."},{"owner":{"account_id":27116522,"reputation":7,"user_id":20660992,"display_name":"Julian Bocanegra"},"score":0,"creation_date":1669950478,"post_id":74649972,"comment_id":131764695,"body_markdown":"The method would be done in the zoo class, right? how do I print the result in the test class? i.e. how do I call the method to be able to print it in the test class?","body":"The method would be done in the zoo class, right? how do I print the result in the test class? i.e. how do I call the method to be able to print it in the test class?"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1669951408,"post_id":74649972,"comment_id":131764805,"body_markdown":"You could add a `getAnimals` method to Zoo that just returns the array:  `public Animal[] getAnimals() { return animals; }`","body":"You could add a <code>getAnimals</code> method to Zoo that just returns the array:  <code>public Animal[] getAnimals() { return animals; }</code>"}],"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669947473,"creation_date":1669944821,"answer_id":74649972,"question_id":74649857,"body_markdown":"If you just want to sort the array in place, this is how you could do that:\r\n\r\n    Arrays.sort(a, Comparator.comparing(Animal::getWeight));\r\n\r\nIf you instead wanted to create a new array that was sorted by weight, you could use Java streams:\r\n\r\n    sortedAnimals = Arrays.stream(animals).sorted(Comparator.comparing(Animal::getWeight)).toArray(Animal[]::new);\r\n\r\nIn either case, to print the resulting array, just iterate over it:\r\n\r\n    for (Animal a : animals)\r\n        System.out.print(a);\r\n\r\nResult\r\n\r\n    Animal: Snake, Peso: 40.0Kg, De tipo: reptile \r\n    Animal: Dog, Peso: 200.0Kg, De tipo: mammal \r\n    Animal: Zebra, Peso: 350.0Kg, De tipo: mammal \r\n    Animal: Jiraffe, Peso: 450.0Kg, De tipo: mammal \r\n","title":"How do I sort an object from an array and print the entire sorted array?","body":"<p>If you just want to sort the array in place, this is how you could do that:</p>\n<pre><code>Arrays.sort(a, Comparator.comparing(Animal::getWeight));\n</code></pre>\n<p>If you instead wanted to create a new array that was sorted by weight, you could use Java streams:</p>\n<pre><code>sortedAnimals = Arrays.stream(animals).sorted(Comparator.comparing(Animal::getWeight)).toArray(Animal[]::new);\n</code></pre>\n<p>In either case, to print the resulting array, just iterate over it:</p>\n<pre><code>for (Animal a : animals)\n    System.out.print(a);\n</code></pre>\n<p>Result</p>\n<pre><code>Animal: Snake, Peso: 40.0Kg, De tipo: reptile \nAnimal: Dog, Peso: 200.0Kg, De tipo: mammal \nAnimal: Zebra, Peso: 350.0Kg, De tipo: mammal \nAnimal: Jiraffe, Peso: 450.0Kg, De tipo: mammal \n</code></pre>\n"}],"owner":{"account_id":27116522,"reputation":7,"user_id":20660992,"display_name":"Julian Bocanegra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1669947473,"creation_date":1669943324,"question_id":74649857,"body_markdown":"I want to sort the Weight object of the array and then I want to print the whole sorted array, how can I do it?\r\n\r\nThe organize() method I don&#39;t know how to do it so that it can sort the array, I can&#39;t use Print since these are used in the test.\r\n\r\n**Animal class**\r\n\r\n\r\n```\r\npackage model;\r\n\r\npublic class Animal {\r\n\tprivate String name;\r\n\tprivate double weight;\r\n\tprivate String  classification;\r\n\t\r\n\tpublic Animal(String nam, double wei,  String classi) {\r\n\t\tname = nam;\r\n\t\tweight = wei;\r\n\t\tclassification = classi;\r\n\t}\r\n\t\r\n\tpublic String getName(){\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic double getWeight(){\r\n\t\treturn weight;\r\n\t}\r\n\t\r\n\tpublic String getClassification(){\r\n\t\treturn classification;\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic String toString(){\r\n\t\treturn &quot;Animal: &quot; + name + &quot;, Peso: &quot; + weight + &quot;Kg, &quot; + &quot;De tipo: &quot; + classification + &quot; \\n&quot;;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n**Zoo Class**\r\n\r\n\r\n```\r\npackage model;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Zoo {\r\n\tprivate Animal[] animals;\r\n\r\n\tpublic Zoo() {\r\n\t\tanimals = new Animal[50];\r\n\t}\r\n\r\n\tpublic void addAnimal(Animal animal) {\r\n\t\tboolean inserted = false;\r\n\t\tfor (int i = 0; i &lt; animals.length &amp;&amp; !inserted; i++) {\r\n\t\t\tif (animals[i] == null) {\r\n\t\t\t\tanimals[i] = animal;\r\n\t\t\t\tinserted = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Animal organize() {\r\n\t\t\r\n\t\r\n\t}\r\n\r\n\tpublic double calculateAverage() {\r\n\t\tdouble avg = 0;\r\n\t\tint cont = 0;\r\n\t\tfor (int i = 0; i &lt; animals.length; i++) {\r\n\t\t\tif (animals[i] != null) {\r\n\t\t\t\tavg = avg + animals[i].getWeight();\r\n\t\t\t\tcont++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tavg = avg / cont;\r\n\t\treturn avg;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Animales:\\n&quot; + Arrays.toString(animals);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n**Test class**\r\n\r\n\r\n```\r\npackage test;\r\n\r\nimport java.util.Scanner;\r\nimport model.Animal;\r\nimport model.Zoo;\r\n\r\npublic class Test {\r\n\tprivate Scanner console;\r\n\tprivate Zoo zoo;\r\n\r\n\tpublic Test() {\r\n\t\tconsole = new Scanner(System.in);\r\n\t\tzoo = new Zoo();\r\n\t}\r\n\r\n\tpublic void run() {\r\n\t\tshowMenu();\r\n\t}\r\n\r\n\tpublic void readData() {\r\n\t\tAnimal animal = readAnimal();\r\n\t\tzoo.addAnimal(animal);\r\n\t}\r\n\r\n\tpublic Animal readAnimal() {\r\n\t\tString name = &quot;&quot;;\r\n\t\tdouble weight = 0;\r\n\t\tString classification = &quot;&quot;;\t\r\n\t\tSystem.out.println(&quot;Ingrese el animal&quot;);\r\n\t\tname = console.nextLine();\r\n\t\tSystem.out.println(&quot;Ingrese el peso del animal en Kg&quot;);\r\n\t\tweight = Double.parseDouble(console.nextLine());\r\n\t\tSystem.out.println(&quot;Ingrese el tipo del animal (mamifero,anfibio, etc)&quot;);\r\n\t\tclassification = console.nextLine();\r\n\t\tAnimal animal = new Animal(name, weight, classification);\r\n\t\treturn animal;\r\n\t}\r\n\r\n\tpublic void showMenu() {\r\n\t\t\r\n\t\tint option = 0;\r\n\t\tdo {\r\n\t\t\tString menu = &quot;MENU PRINCIPAL\\n\\n1. Ingresar animal\\n2. Organizar los animales por peso\\n3. Busqueda de un grupo de animales por tipo\\n4. Ver la informacion\\n5. Hallar el promedio de peso de los animales ingresados\\n6. Salir&quot;;\r\n\t\t\tSystem.out.println(menu);\r\n\t\t\tSystem.out.print(&quot;Digite la opcion: &quot;);\r\n\t\t\toption = Integer.parseInt(console.nextLine());\r\n\t\t\tswitch (option) {\r\n\t\t\tcase 1:\r\n\t\t\t\treadData();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t\tSystem.out.println(&quot;Los animales ordenados: &quot;);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(&quot;Aun no terminado&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.println(zoo);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tSystem.out.println(&quot;El promedio de peso de los animales ingresados es: &quot; + zoo.calculateAverage() + &quot; kg.&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.err.println(&quot;Opcion no valida, intente de nuevo&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println();\r\n\t\t} while (option != 6);\r\n\t}\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tTest test = new Test();\r\n\t\ttest.run();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**OUTPUT**\r\n\r\nMAIN MENU\r\n\r\n1. Enter animal\r\n2. Organize animals by weight\r\n3. Search for a group of animals by type.\r\n4. View information\r\n5. Find the average weight of the animals entered.\r\n6. Exit\r\nType the option: \r\nWhen option 1 is given it executes the following.\r\n\r\nEnter the animal\r\n\r\nDog\r\n\r\nEnter the weight of the animal in Kg\r\n\r\n20\r\n\r\nEnter the type of animal (mammal,amphibian, etc)\r\n\r\nMammal\r\n\r\n\r\n\r\nI tried using an array.sort but I couldn&#39;t figure out how to print it, I also tried using for cycles but I couldn&#39;t print it either.","title":"How do I sort an object from an array and print the entire sorted array?","body":"<p>I want to sort the Weight object of the array and then I want to print the whole sorted array, how can I do it?</p>\n<p>The organize() method I don't know how to do it so that it can sort the array, I can't use Print since these are used in the test.</p>\n<p><strong>Animal class</strong></p>\n<pre><code>package model;\n\npublic class Animal {\n    private String name;\n    private double weight;\n    private String  classification;\n    \n    public Animal(String nam, double wei,  String classi) {\n        name = nam;\n        weight = wei;\n        classification = classi;\n    }\n    \n    public String getName(){\n        return name;\n    }\n    \n    public double getWeight(){\n        return weight;\n    }\n    \n    public String getClassification(){\n        return classification;\n    }\n    \n    \n    @Override\n    public String toString(){\n        return &quot;Animal: &quot; + name + &quot;, Peso: &quot; + weight + &quot;Kg, &quot; + &quot;De tipo: &quot; + classification + &quot; \\n&quot;;\n    }\n    \n    \n}\n\n</code></pre>\n<p><strong>Zoo Class</strong></p>\n<pre><code>package model;\n\nimport java.util.Arrays;\n\npublic class Zoo {\n    private Animal[] animals;\n\n    public Zoo() {\n        animals = new Animal[50];\n    }\n\n    public void addAnimal(Animal animal) {\n        boolean inserted = false;\n        for (int i = 0; i &lt; animals.length &amp;&amp; !inserted; i++) {\n            if (animals[i] == null) {\n                animals[i] = animal;\n                inserted = true;\n            }\n        }\n    }\n\n    public Animal organize() {\n        \n    \n    }\n\n    public double calculateAverage() {\n        double avg = 0;\n        int cont = 0;\n        for (int i = 0; i &lt; animals.length; i++) {\n            if (animals[i] != null) {\n                avg = avg + animals[i].getWeight();\n                cont++;\n            }\n        }\n        avg = avg / cont;\n        return avg;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Animales:\\n&quot; + Arrays.toString(animals);\n    }\n}\n\n</code></pre>\n<p><strong>Test class</strong></p>\n<pre><code>package test;\n\nimport java.util.Scanner;\nimport model.Animal;\nimport model.Zoo;\n\npublic class Test {\n    private Scanner console;\n    private Zoo zoo;\n\n    public Test() {\n        console = new Scanner(System.in);\n        zoo = new Zoo();\n    }\n\n    public void run() {\n        showMenu();\n    }\n\n    public void readData() {\n        Animal animal = readAnimal();\n        zoo.addAnimal(animal);\n    }\n\n    public Animal readAnimal() {\n        String name = &quot;&quot;;\n        double weight = 0;\n        String classification = &quot;&quot;; \n        System.out.println(&quot;Ingrese el animal&quot;);\n        name = console.nextLine();\n        System.out.println(&quot;Ingrese el peso del animal en Kg&quot;);\n        weight = Double.parseDouble(console.nextLine());\n        System.out.println(&quot;Ingrese el tipo del animal (mamifero,anfibio, etc)&quot;);\n        classification = console.nextLine();\n        Animal animal = new Animal(name, weight, classification);\n        return animal;\n    }\n\n    public void showMenu() {\n        \n        int option = 0;\n        do {\n            String menu = &quot;MENU PRINCIPAL\\n\\n1. Ingresar animal\\n2. Organizar los animales por peso\\n3. Busqueda de un grupo de animales por tipo\\n4. Ver la informacion\\n5. Hallar el promedio de peso de los animales ingresados\\n6. Salir&quot;;\n            System.out.println(menu);\n            System.out.print(&quot;Digite la opcion: &quot;);\n            option = Integer.parseInt(console.nextLine());\n            switch (option) {\n            case 1:\n                readData();\n                break;\n            case 2:\n                    System.out.println(&quot;Los animales ordenados: &quot;);\n                \n                break;\n            case 3:\n                System.out.println(&quot;Aun no terminado&quot;);\n                break;\n            case 4:\n                System.out.println(zoo);\n                break;\n            case 5:\n                System.out.println(&quot;El promedio de peso de los animales ingresados es: &quot; + zoo.calculateAverage() + &quot; kg.&quot;);\n                break;\n            case 6:\n                System.exit(0);\n                break;\n            default:\n                System.err.println(&quot;Opcion no valida, intente de nuevo&quot;);\n                break;\n            }\n            System.out.println();\n            System.out.println();\n        } while (option != 6);\n    }\n\n    public static void main(String args[]) {\n        Test test = new Test();\n        test.run();\n    }\n}\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<p>MAIN MENU</p>\n<ol>\n<li>Enter animal</li>\n<li>Organize animals by weight</li>\n<li>Search for a group of animals by type.</li>\n<li>View information</li>\n<li>Find the average weight of the animals entered.</li>\n<li>Exit\nType the option:\nWhen option 1 is given it executes the following.</li>\n</ol>\n<p>Enter the animal</p>\n<p>Dog</p>\n<p>Enter the weight of the animal in Kg</p>\n<p>20</p>\n<p>Enter the type of animal (mammal,amphibian, etc)</p>\n<p>Mammal</p>\n<p>I tried using an array.sort but I couldn't figure out how to print it, I also tried using for cycles but I couldn't print it either.</p>\n"},{"tags":["java","spring-boot","jpa","orm","persistence"],"answers":[{"tags":[],"owner":{"account_id":23225319,"reputation":11,"user_id":17316938,"display_name":"Tevres"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669947197,"creation_date":1669947197,"answer_id":74650173,"question_id":74650091,"body_markdown":"Finally I found the answer;\r\n\r\n    List&lt;EmployeeEntity&gt; findByRoles_Role( RoleEntityEnum role);\r\nThis solved my problem. I thought at first the problem was the method but appearently the problem was parameter.","title":"Jpa repository filter by enum value","body":"<p>Finally I found the answer;</p>\n<pre><code>List&lt;EmployeeEntity&gt; findByRoles_Role( RoleEntityEnum role);\n</code></pre>\n<p>This solved my problem. I thought at first the problem was the method but appearently the problem was parameter.</p>\n"}],"owner":{"account_id":23225319,"reputation":11,"user_id":17316938,"display_name":"Tevres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669947197,"creation_date":1669946092,"question_id":74650091,"body_markdown":"    public class EmployeeEntity {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Length(min = 2, max = 30)\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Length(min = 2, max = 30)\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\r\n    @Length(max = 50)\r\n    private String email;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    private Set&lt;EmployeeRoleEntity&gt; roles;}\r\n\r\n\r\nThis is my Employee class and as you can see inside Employee, I have a set of EmployeeRoleEntity\r\n\r\n    public class EmployeeRoleEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;role_name&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private RoleEntityEnum role;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    @ToString.Exclude\r\n    @EqualsAndHashCode.Exclude\r\n    private EmployeeEntity employee;\r\n\r\n\r\nI was trying to filter my employees depends in their role. I created a method like this on my Jpa repository;\r\n\r\n    List&lt;EmployeeEntity&gt; findByRoles_RoleContainingIgnoreCase( String role);\r\nBut it doesn&#39;t work and Im so confused to what to do. How can I solve this problem?","title":"Jpa repository filter by enum value","body":"<pre><code>public class EmployeeEntity {\n@Id\n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy= GenerationType.AUTO)\nprivate Long id;\n\n@Length(min = 2, max = 30)\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Length(min = 2, max = 30)\n@Column(name = &quot;last_name&quot;)\nprivate String lastName;\n\n@Column(name = &quot;email&quot;, nullable = false, unique = true)\n@Length(max = 50)\nprivate String email;\n\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;employee_id&quot;)\nprivate Set&lt;EmployeeRoleEntity&gt; roles;}\n</code></pre>\n<p>This is my Employee class and as you can see inside Employee, I have a set of EmployeeRoleEntity</p>\n<pre><code>public class EmployeeRoleEntity {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\n@NotNull\n@Column(name = &quot;role_name&quot;)\n@Enumerated(EnumType.STRING)\nprivate RoleEntityEnum role;\n\n@ManyToOne\n@JoinColumn(name = &quot;employee_id&quot;)\n@ToString.Exclude\n@EqualsAndHashCode.Exclude\nprivate EmployeeEntity employee;\n</code></pre>\n<p>I was trying to filter my employees depends in their role. I created a method like this on my Jpa repository;</p>\n<pre><code>List&lt;EmployeeEntity&gt; findByRoles_RoleContainingIgnoreCase( String role);\n</code></pre>\n<p>But it doesn't work and Im so confused to what to do. How can I solve this problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1557807719,"post_id":56122972,"comment_id":98878031,"body_markdown":"Did you have a question?","body":"Did you have a question?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1617469511,"post_id":56122972,"comment_id":118314790,"body_markdown":"I suggest you add links to a couple examples in the Tomcat source code.","body":"I suggest you add links to a couple examples in the Tomcat source code."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1557816032,"creation_date":1557816032,"answer_id":56124369,"question_id":56122972,"body_markdown":"Syntactically, those aren&#39;t assignments: they are *variable declarations with initializers*. (This isn&#39;t that important a distinction in terms of the `()`, however).\n\nThe (simplified) form of a variable declaration with an initializer is:\n\n    Type name = expression;\n\nAny expression of compatible type can appear on the right-hand side of the equals.\n\n`()` makes a *parenthesized expression*. From [the language spec](https://docs.oracle.com/javase/specs/jls/se12/html/jls-15.html#jls-15.8.5):\n\n&gt; A parenthesized expression is a primary expression whose type is the type of the contained expression and whose value at run time is the value of the contained expression.\n\nSo, it simply has the same value as what is in the brackets.\n\nIn this case, there is no reason whatsoever to use the `()`, but they don&#39;t change the meaning of the code.","title":"Why can we assign value in parentheses in Java?","body":"<p>Syntactically, those aren't assignments: they are <em>variable declarations with initializers</em>. (This isn't that important a distinction in terms of the <code>()</code>, however).</p>\n\n<p>The (simplified) form of a variable declaration with an initializer is:</p>\n\n<pre><code>Type name = expression;\n</code></pre>\n\n<p>Any expression of compatible type can appear on the right-hand side of the equals.</p>\n\n<p><code>()</code> makes a <em>parenthesized expression</em>. From <a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-15.html#jls-15.8.5\" rel=\"noreferrer\">the language spec</a>:</p>\n\n<blockquote>\n  <p>A parenthesized expression is a primary expression whose type is the type of the contained expression and whose value at run time is the value of the contained expression.</p>\n</blockquote>\n\n<p>So, it simply has the same value as what is in the brackets.</p>\n\n<p>In this case, there is no reason whatsoever to use the <code>()</code>, but they don't change the meaning of the code.</p>\n"}],"owner":{"account_id":9916159,"reputation":139,"user_id":7340909,"accept_rate":83,"display_name":"F___"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":7,"up_vote_count":3,"accepted_answer_id":56124369,"answer_count":1,"score":-4,"last_activity_date":1669946738,"creation_date":1557807678,"question_id":56122972,"body_markdown":"I&#39;m looking at Tomcat&#39;s Java source code and found code like this\r\n```\r\nString a = (&quot;aa&quot;);\r\nint b = (1);\r\n```\r\nIt compiles successfully, while normally assignment should be\r\n```\r\nString a = &quot;a&quot;;\r\nint b = 1;\r\n```\r\n\r\nWhy does first piece of code compile successfully?","title":"Why can we assign value in parentheses in Java?","body":"<p>I'm looking at Tomcat's Java source code and found code like this</p>\n<pre><code>String a = (&quot;aa&quot;);\nint b = (1);\n</code></pre>\n<p>It compiles successfully, while normally assignment should be</p>\n<pre><code>String a = &quot;a&quot;;\nint b = 1;\n</code></pre>\n<p>Why does first piece of code compile successfully?</p>\n"},{"tags":["java","windows","wildfly","nio","filesystemexception"],"comments":[{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":0,"creation_date":1669900012,"post_id":74642306,"comment_id":131750849,"body_markdown":"Can you share the code that calls `.getLastModifiedTime()`? Where does the colon (`:`) in `\\nul:` come from?","body":"Can you share the code that calls <code>.getLastModifiedTime()</code>? Where does the colon (<code>:</code>) in <code>\\nul:</code> come from?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1669900399,"post_id":74642306,"comment_id":131750986,"body_markdown":"@Ivar - I guess it&#39;s part of the message, not the filename.","body":"@Ivar - I guess it&#39;s part of the message, not the filename."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":0,"creation_date":1669900573,"post_id":74642306,"comment_id":131751050,"body_markdown":"@accessviolation I don&#39;t think so. [This question](https://stackoverflow.com/questions/1208566/typically-what-does-it-mean-when-java-returns-a-the-parameter-is-incorrect) mentions the same error message (where the path doesn&#39;t end in a colon) and the answer mentions it is often caused by a colon in the path (the colon for the driver-letter excluded).","body":"@accessviolation I don&#39;t think so. <a href=\"https://stackoverflow.com/questions/1208566/typically-what-does-it-mean-when-java-returns-a-the-parameter-is-incorrect\">This question</a> mentions the same error message (where the path doesn&#39;t end in a colon) and the answer mentions it is often caused by a colon in the path (the colon for the driver-letter excluded)."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1669901205,"post_id":74642306,"comment_id":131751300,"body_markdown":"After searching for [`images\\gray\\qtip`](https://www.google.com/search?q=%22images/gray/qtip%22), it looks like something to do with a GXT theme. You somehow ended up with an file called `nul:` in there. Across all those google results, no one else&#39;s directory contained anything like that. It should contain 3 or 4 gifs, and that&#39;s it","body":"After searching for <a href=\"https://www.google.com/search?q=%22images/gray/qtip%22\" rel=\"nofollow noreferrer\"><code>images\\gray\\qtip</code></a>, it looks like something to do with a GXT theme. You somehow ended up with an file called <code>nul:</code> in there. Across all those google results, no one else&#39;s directory contained anything like that. It should contain 3 or 4 gifs, and that&#39;s it"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669906498,"post_id":74642306,"comment_id":131753437,"body_markdown":"I don’t think the colon is part of the filename, only part of the exception message. The problem is that the file’s base name is `nul` which is not allowed in Windows.  See https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file.","body":"I don’t think the colon is part of the filename, only part of the exception message. The problem is that the file’s base name is <code>nul</code> which is not allowed in Windows.  See <a href=\"https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file</a>&zwnj;&#8203;."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1669939887,"post_id":74642306,"comment_id":131763261,"body_markdown":"The name &#39;nul&#39; refers to the null device,  regardless of the directory path precediing it (DOS-compatible misfeature). You can&#39;t **create** a file named nul. but you can open for reading a file named nul. The trouble is, it&#39;s a device file, and does not have a &#39;last modified time&#39;.  @VGR, you should perhaps write this as an answer.","body":"The name &#39;nul&#39; refers to the null device,  regardless of the directory path precediing it (DOS-compatible misfeature). You can&#39;t <b>create</b> a file named nul. but you can open for reading a file named nul. The trouble is, it&#39;s a device file, and does not have a &#39;last modified time&#39;.  @VGR, you should perhaps write this as an answer."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669943643,"creation_date":1669943643,"answer_id":74649881,"question_id":74642306,"body_markdown":"If we look at the underlying exception:\r\n\r\n    java.nio.file.FileSystemException: C:\\PROGRAM\\SAUSAGE\\wildfly-gui\\standalone\\tmp\\vfs\\temp\\temp5bd4c0db725d6b53\\content-d8575e88ce594507\\images\\gray\\qtip\\nul: The parameter is incorrect.\r\n\r\nWe can see that the file’s final path component is `nul`.  That name is not allowed in Windows at all, which is the reason for the cryptic exception message (which probably came from Windows, not from Java).  This is documented at https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file :\r\n\r\n&gt;Do not use the following reserved names for the name of a file:\r\n&gt;\r\n&gt;CON, PRN, AUX, NUL, COM0, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT0, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, and LPT9. Also avoid these names followed immediately by an extension; for example, NUL.txt is not recommended.\r\n\r\nSolution:  don’t name a file `nul`.\r\n","title":"What does it mean when Java could not read the lastModifiedTime attribute on Windows?","body":"<p>If we look at the underlying exception:</p>\n<pre><code>java.nio.file.FileSystemException: C:\\PROGRAM\\SAUSAGE\\wildfly-gui\\standalone\\tmp\\vfs\\temp\\temp5bd4c0db725d6b53\\content-d8575e88ce594507\\images\\gray\\qtip\\nul: The parameter is incorrect.\n</code></pre>\n<p>We can see that the file’s final path component is <code>nul</code>.  That name is not allowed in Windows at all, which is the reason for the cryptic exception message (which probably came from Windows, not from Java).  This is documented at <a href=\"https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file%E2%80%8A\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file </a>:</p>\n<blockquote>\n<p>Do not use the following reserved names for the name of a file:</p>\n<p>CON, PRN, AUX, NUL, COM0, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT0, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, and LPT9. Also avoid these names followed immediately by an extension; for example, NUL.txt is not recommended.</p>\n</blockquote>\n<p>Solution:  don’t name a file <code>nul</code>.</p>\n"}],"owner":{"account_id":13472129,"reputation":132,"user_id":12718773,"display_name":"ksclfanatic"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669943643,"creation_date":1669899751,"question_id":74642306,"body_markdown":"A customer has lots of following stacktraces appearing in the logs of my application.\r\nIt runs on WildFly 18 and JDK 11 on Windows Server.\r\n\r\n    2022-10-14 14:36:19,382 ERROR [io.undertow.request] (default I/O-2) UT005071: Undertow request failed HttpServerExchange{ GET /application/images/gray/qtip/nul}: java.lang.RuntimeException: java.nio.file.FileSystemException: C:\\PROGRAM\\SAUSAGE\\wildfly-gui\\standalone\\tmp\\vfs\\temp\\temp5bd4c0db725d6b53\\content-d8575e88ce594507\\images\\gray\\qtip\\nul: The parameter is incorrect.\r\n    \r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.PathResource.getLastModified(PathResource.java:65)\r\n    \tat org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.deployment.ServletResource.getLastModified(ServletResource.java:61)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.CachedResource.&lt;init&gt;(CachedResource.java:59)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.CachingResourceManager.getResource(CachingResourceManager.java:119)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.CachingResourceManager.getResource(CachingResourceManager.java:32)\r\n    \tat io.undertow.servlet@2.0.27.Final//io.undertow.servlet.handlers.ServletPathMatches.getServletHandlerByPath(ServletPathMatches.java:96)\r\n    \tat io.undertow.servlet@2.0.27.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleRequest(ServletInitialHandler.java:146)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.HttpContinueReadHandler.handleRequest(HttpContinueReadHandler.java:65)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)\r\n    \tat org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.Host$OptionsHandler.handleRequest(Host.java:399)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.HttpContinueReadHandler.handleRequest(HttpContinueReadHandler.java:65)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\r\n    \tat org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.Host$AcmeResourceHandler.handleRequest(Host.java:421)\r\n    \tat org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.Host$HostRootHandler.handleRequest(Host.java:430)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.NameVirtualHostHandler.handleRequest(NameVirtualHostHandler.java:64)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)\r\n    \tat org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.Server$DefaultHostHandler.handleRequest(Server.java:190)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.DisallowedMethodsHandler.handleRequest(DisallowedMethodsHandler.java:61)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)\r\n    \tat org.jboss.xnio@3.7.3.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n    \tat org.jboss.xnio@3.7.3.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1176)\r\n    \tat org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n    \tat org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n    Caused by: java.nio.file.FileSystemException: C:\\PROGRAM\\SAUSAGE\\wildfly-gui\\standalone\\tmp\\vfs\\temp\\temp5bd4c0db725d6b53\\content-d8575e88ce594507\\images\\gray\\qtip\\nul: The parameter is incorrect.\r\n    \r\n    \tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92)\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n    \tat java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:53)\r\n    \tat java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:38)\r\n    \tat java.base/sun.nio.fs.WindowsFileSystemProvider.readAttributes(WindowsFileSystemProvider.java:198)\r\n    \tat java.base/java.nio.file.Files.readAttributes(Files.java:1764)\r\n    \tat java.base/java.nio.file.Files.getLastModifiedTime(Files.java:2315)\r\n    \tat io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.PathResource.getLastModified(PathResource.java:63)\r\n    \t... 36 more\r\n\r\nSo always the method **getLastModifiedTime** triggers this issue. Does this mean that there are issues with permissions problems? I guess that my Java program doesn&#39;t have the sufficient rights to access these files, but I&#39;m not sure about this.\r\n\r\nCan someone help me?","title":"What does it mean when Java could not read the lastModifiedTime attribute on Windows?","body":"<p>A customer has lots of following stacktraces appearing in the logs of my application.\nIt runs on WildFly 18 and JDK 11 on Windows Server.</p>\n<pre><code>2022-10-14 14:36:19,382 ERROR [io.undertow.request] (default I/O-2) UT005071: Undertow request failed HttpServerExchange{ GET /application/images/gray/qtip/nul}: java.lang.RuntimeException: java.nio.file.FileSystemException: C:\\PROGRAM\\SAUSAGE\\wildfly-gui\\standalone\\tmp\\vfs\\temp\\temp5bd4c0db725d6b53\\content-d8575e88ce594507\\images\\gray\\qtip\\nul: The parameter is incorrect.\n\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.PathResource.getLastModified(PathResource.java:65)\n    at org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.deployment.ServletResource.getLastModified(ServletResource.java:61)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.CachedResource.&lt;init&gt;(CachedResource.java:59)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.CachingResourceManager.getResource(CachingResourceManager.java:119)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.CachingResourceManager.getResource(CachingResourceManager.java:32)\n    at io.undertow.servlet@2.0.27.Final//io.undertow.servlet.handlers.ServletPathMatches.getServletHandlerByPath(ServletPathMatches.java:96)\n    at io.undertow.servlet@2.0.27.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleRequest(ServletInitialHandler.java:146)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.HttpContinueReadHandler.handleRequest(HttpContinueReadHandler.java:65)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)\n    at org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.Host$OptionsHandler.handleRequest(Host.java:399)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.HttpContinueReadHandler.handleRequest(HttpContinueReadHandler.java:65)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.SetHeaderHandler.handleRequest(SetHeaderHandler.java:90)\n    at org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.Host$AcmeResourceHandler.handleRequest(Host.java:421)\n    at org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.Host$HostRootHandler.handleRequest(Host.java:430)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.NameVirtualHostHandler.handleRequest(NameVirtualHostHandler.java:64)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)\n    at org.wildfly.extension.undertow@18.0.1.Final//org.wildfly.extension.undertow.Server$DefaultHostHandler.handleRequest(Server.java:190)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.DisallowedMethodsHandler.handleRequest(DisallowedMethodsHandler.java:61)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)\n    at org.jboss.xnio@3.7.3.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at org.jboss.xnio@3.7.3.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n    at io.undertow.core@2.0.27.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1176)\n    at org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n    at org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\nCaused by: java.nio.file.FileSystemException: C:\\PROGRAM\\SAUSAGE\\wildfly-gui\\standalone\\tmp\\vfs\\temp\\temp5bd4c0db725d6b53\\content-d8575e88ce594507\\images\\gray\\qtip\\nul: The parameter is incorrect.\n\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n    at java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:53)\n    at java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:38)\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.readAttributes(WindowsFileSystemProvider.java:198)\n    at java.base/java.nio.file.Files.readAttributes(Files.java:1764)\n    at java.base/java.nio.file.Files.getLastModifiedTime(Files.java:2315)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.handlers.resource.PathResource.getLastModified(PathResource.java:63)\n    ... 36 more\n</code></pre>\n<p>So always the method <strong>getLastModifiedTime</strong> triggers this issue. Does this mean that there are issues with permissions problems? I guess that my Java program doesn't have the sufficient rights to access these files, but I'm not sure about this.</p>\n<p>Can someone help me?</p>\n"},{"tags":["java","linux","jstack"],"answers":[{"tags":[],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669943022,"creation_date":1669943022,"answer_id":74649840,"question_id":74638450,"body_markdown":"I got the answer. I need to login as the user associated with process. The root user was not owner of the process. Once I switched the user I was able to get the thread dump.","title":"Unable to get thread dump using jstack","body":"<p>I got the answer. I need to login as the user associated with process. The root user was not owner of the process. Once I switched the user I was able to get the thread dump.</p>\n"}],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669943022,"creation_date":1669880731,"question_id":74638450,"body_markdown":"When I run the command\r\n\r\n    jstack 23264 &gt; threaddump.txt\r\n\r\nI get: \r\n\r\n    23264: well-known file /tmp/.java_pid23264 is not secure: file should be owned by the current user (which is 0) but is owned by 9001\r\n\r\nwhen i ran with `-F` I got\r\n\r\n    Error attaching to core file: cannot open binary file\r\n\r\nCan someone help me resolve this issue ?\r\nI ran the above command as root","title":"Unable to get thread dump using jstack","body":"<p>When I run the command</p>\n<pre><code>jstack 23264 &gt; threaddump.txt\n</code></pre>\n<p>I get:</p>\n<pre><code>23264: well-known file /tmp/.java_pid23264 is not secure: file should be owned by the current user (which is 0) but is owned by 9001\n</code></pre>\n<p>when i ran with <code>-F</code> I got</p>\n<pre><code>Error attaching to core file: cannot open binary file\n</code></pre>\n<p>Can someone help me resolve this issue ?\nI ran the above command as root</p>\n"},{"tags":["java","web-services","xsd","wsdl","soapui"],"answers":[{"comments":[{"owner":{"account_id":469075,"reputation":506,"user_id":875440,"display_name":"Pancho"},"score":0,"creation_date":1340079773,"post_id":11092004,"comment_id":14528046,"body_markdown":"Thank you! I had tried to load the WSDL directly before but I had completely forgotten about the XSD. It works now!","body":"Thank you! I had tried to load the WSDL directly before but I had completely forgotten about the XSD. It works now!"},{"owner":{"account_id":1262326,"reputation":1438,"user_id":1220291,"accept_rate":60,"display_name":"Nagarajan S R"},"score":0,"creation_date":1389087592,"post_id":11092004,"comment_id":31499733,"body_markdown":"Hi chrismead, Even I am doing the same.","body":"Hi chrismead, Even I am doing the same."},{"owner":{"account_id":5375142,"reputation":847,"user_id":4282333,"accept_rate":67,"display_name":"Yurii"},"score":2,"creation_date":1466940335,"post_id":11092004,"comment_id":63515750,"body_markdown":"Not so nice workaround. Disabling proxy (see next answer) helped a lot better.","body":"Not so nice workaround. Disabling proxy (see next answer) helped a lot better."},{"owner":{"account_id":4928173,"reputation":305,"user_id":3968858,"accept_rate":57,"display_name":"Lina"},"score":0,"creation_date":1542097288,"post_id":11092004,"comment_id":93435294,"body_markdown":"I am new for these please let me know where to add xsd file","body":"I am new for these please let me know where to add xsd file"}],"tags":[],"owner":{"account_id":1529019,"reputation":2193,"user_id":1426724,"accept_rate":83,"display_name":"chrismead"},"comment_count":4,"down_vote_count":2,"up_vote_count":26,"is_accepted":true,"score":24,"last_activity_date":1340058537,"creation_date":1340058537,"answer_id":11092004,"question_id":11088483,"body_markdown":"I have had similar problems and worked around them by saving the WSDL locally.  Don&#39;t forget to save any XSD files as well.  You may need to edit the WSDL to specify an appropriate location for XSDs.","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>I have had similar problems and worked around them by saving the WSDL locally.  Don't forget to save any XSD files as well.  You may need to edit the WSDL to specify an appropriate location for XSDs.</p>\n"},{"comments":[{"owner":{"account_id":76148,"reputation":4501,"user_id":218208,"accept_rate":81,"display_name":"Jason"},"score":11,"creation_date":1366207382,"post_id":11685507,"comment_id":22922924,"body_markdown":"Same problem for me on 4.5.1 Win 32. The proxy was enabled and set to port 8081. Disabling the proxy in `Files-&gt;Preferences-&gt;Proxy Settings` allowed it all to work.","body":"Same problem for me on 4.5.1 Win 32. The proxy was enabled and set to port 8081. Disabling the proxy in <code>Files-&gt;Preferences-&gt;Proxy Settings</code> allowed it all to work."},{"owner":{"account_id":28322,"reputation":6756,"user_id":75594,"accept_rate":87,"display_name":"Mark Cooper"},"score":7,"creation_date":1368607149,"post_id":11685507,"comment_id":23791932,"body_markdown":"You can also quickly disable / enable the proxy via the proxy icon on the tool bar (a server with a red or green dot)","body":"You can also quickly disable / enable the proxy via the proxy icon on the tool bar (a server with a red or green dot)"},{"owner":{"account_id":1093264,"reputation":6037,"user_id":1087407,"accept_rate":67,"display_name":"Piotr Olaszewski"},"score":2,"creation_date":1468950802,"post_id":11685507,"comment_id":64334626,"body_markdown":"Ubuntu on 5.2.1 `File -&gt; Preferences -&gt; Proxy Settings` set to `None`.","body":"Ubuntu on 5.2.1 <code>File -&gt; Preferences -&gt; Proxy Settings</code> set to <code>None</code>."},{"owner":{"account_id":425139,"reputation":12311,"user_id":805563,"accept_rate":87,"display_name":"Bee"},"score":1,"creation_date":1473054390,"post_id":11685507,"comment_id":65980805,"body_markdown":"That was the exact problem. :)","body":"That was the exact problem. :)"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":3,"creation_date":1508851423,"post_id":11685507,"comment_id":80770340,"body_markdown":"The link is borken and changing proxy to None didn&#39;t help. do you have different steps of fixing this issue?","body":"The link is borken and changing proxy to None didn&#39;t help. do you have different steps of fixing this issue?"},{"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"score":0,"creation_date":1619175162,"post_id":11685507,"comment_id":118831460,"body_markdown":"Thank you! I supposed it did not work due to https, so i tried to import the certificate before. Bad choice! Your solution worked for me!","body":"Thank you! I supposed it did not work due to https, so i tried to import the certificate before. Bad choice! Your solution worked for me!"}],"tags":[],"owner":{"account_id":295554,"reputation":843,"user_id":600034,"display_name":"alex88"},"comment_count":6,"down_vote_count":1,"up_vote_count":81,"is_accepted":false,"score":80,"last_activity_date":1343383038,"creation_date":1343383038,"answer_id":11685507,"question_id":11088483,"body_markdown":"I have had the same problem. I resolved it by disabling the proxy in the SoapUI preferences.\r\n(source : http://www.eviware.com/forum/viewtopic.php?f=13&amp;t=12460)","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>I have had the same problem. I resolved it by disabling the proxy in the SoapUI preferences.\n(source : <a href=\"http://www.eviware.com/forum/viewtopic.php?f=13&amp;t=12460\" rel=\"noreferrer\">http://www.eviware.com/forum/viewtopic.php?f=13&amp;t=12460</a>)</p>\n"},{"tags":[],"owner":{"account_id":299778,"reputation":9997,"user_id":606568,"accept_rate":94,"display_name":"Tassisto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595592996,"creation_date":1349168929,"answer_id":12687451,"question_id":11088483,"body_markdown":"I got this error when trying to load a WebService implemented in MS Dynamics AX. Because I was connecting via VPN to my network, something went wrong with IPv6 settings. After Googling, I found the solution here: http://support.microsoft.com/kb/929852\r\n\r\n","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>I got this error when trying to load a WebService implemented in MS Dynamics AX. Because I was connecting via VPN to my network, something went wrong with IPv6 settings. After Googling, I found the solution here: <a href=\"http://support.microsoft.com/kb/929852\" rel=\"nofollow noreferrer\">http://support.microsoft.com/kb/929852</a></p>\n"},{"tags":[],"owner":{"account_id":4522943,"reputation":1,"user_id":3675584,"display_name":"user3675584"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595592882,"creation_date":1401091990,"answer_id":23865652,"question_id":11088483,"body_markdown":"If you are running your Web Application with the default port of 8080, please try to change the port to some other value and run your application again and trigger again your SOAPUI request. As you might have history projects in your SOAP UI workspace with port number 8080, might create issues. \r\n\r\n","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>If you are running your Web Application with the default port of 8080, please try to change the port to some other value and run your application again and trigger again your SOAPUI request. As you might have history projects in your SOAP UI workspace with port number 8080, might create issues.</p>\n"},{"tags":[],"owner":{"account_id":5215203,"reputation":11,"user_id":4170396,"display_name":"Lech Testowy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413989297,"creation_date":1413989297,"answer_id":26510351,"question_id":11088483,"body_markdown":"In my case the \r\n&lt;pre&gt; Error loading [https://.../token?wsdl]: java.lang.Exception: Failed to load url; https://.../token?wsdl, 0 &lt;/pre&gt;\r\nwas caused by fake certificate.\r\nIf you get the following in browser\r\n&lt;pre&gt;&quot;There is a problem with this website’s security certificate.&quot; &lt;/pre&gt;\r\nthis is the case.\r\n\r\nThe resolution was to import a certificate to \r\n&lt;pre&gt; C:\\Program Files (x86)\\SmartBear\\SoapUI-5.0.0\\jre\\lib\\security\\cacerts &lt;/pre&gt;\r\nWhich is default java used by SOAPUI","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>In my case the </p>\n\n<pre> Error loading [https://.../token?wsdl]: java.lang.Exception: Failed to load url; https://.../token?wsdl, 0 </pre>\n\n<p>was caused by fake certificate.\nIf you get the following in browser</p>\n\n<pre>\"There is a problem with this website’s security certificate.\" </pre>\n\n<p>this is the case.</p>\n\n<p>The resolution was to import a certificate to </p>\n\n<pre> C:\\Program Files (x86)\\SmartBear\\SoapUI-5.0.0\\jre\\lib\\security\\cacerts </pre>\n\n<p>Which is default java used by SOAPUI</p>\n"},{"comments":[{"owner":{"account_id":8962274,"reputation":505,"user_id":6684430,"accept_rate":0,"display_name":"Rafael Andrade"},"score":0,"creation_date":1579283030,"post_id":31148694,"comment_id":105727062,"body_markdown":"nice one. But why ipv6 adress has this problem ?","body":"nice one. But why ipv6 adress has this problem ?"}],"tags":[],"owner":{"account_id":6553695,"reputation":11,"user_id":5067156,"display_name":"user5067156"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435703004,"creation_date":1435699158,"answer_id":31148694,"question_id":11088483,"body_markdown":"This could be a problem with IPV6 address SOAP UI picking. Adding the following JVM option fixed it for me:\r\n\r\n    -Djava.net.preferIPv4Stack=true\r\n\r\nI added it here:\r\n\r\n    C:\\Program Files\\SmartBear\\soapUI-4.5.2\\bin\\soapUI-4.5.2.vmoptions","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>This could be a problem with IPV6 address SOAP UI picking. Adding the following JVM option fixed it for me:</p>\n\n<pre><code>-Djava.net.preferIPv4Stack=true\n</code></pre>\n\n<p>I added it here:</p>\n\n<pre><code>C:\\Program Files\\SmartBear\\soapUI-4.5.2\\bin\\soapUI-4.5.2.vmoptions\n</code></pre>\n"},{"comments":[{"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"score":0,"creation_date":1466163026,"post_id":36076750,"comment_id":63215802,"body_markdown":"This solved the problem in my case. Additionally I had to enable client authentication in the soapUI preferences as the web server requires it.","body":"This solved the problem in my case. Additionally I had to enable client authentication in the soapUI preferences as the web server requires it."},{"owner":{"account_id":253703,"reputation":169,"user_id":532590,"display_name":"EdGruberman"},"score":0,"creation_date":1469579440,"post_id":36076750,"comment_id":64591494,"body_markdown":"This worked like a charm for my situation. Thank you!\n\nIt is frustrating SoapUI doesn&#39;t make this more of an obvious option/error message.","body":"This worked like a charm for my situation. Thank you!  It is frustrating SoapUI doesn&#39;t make this more of an obvious option/error message."},{"owner":{"account_id":2759245,"reputation":418,"user_id":2376468,"display_name":"Mark Hughes"},"score":2,"creation_date":1491189490,"post_id":36076750,"comment_id":73425748,"body_markdown":"macOS users will have to modify soapui.sh in `/Applications/SoapUI-5.3.0.app/Contents/java/app/bin/soapui.sh` (and other .sh scripts in the same directory)\n\nAdd: `JAVA_OPTS=&quot;$JAVA_OPTS -Dsoapui.https.protocols=TLSv1.2&quot;`\n\nAbove: `$JAVA $JAVA_OPTS -cp $SOAPUI_CLASSPATH com.eviware.soapui.SoapUI &quot;$@&quot;`","body":"macOS users will have to modify soapui.sh in <code>&#47;Applications&#47;SoapUI-5.3.0.app&#47;Contents&#47;java&#47;app&#47;bin&#47;soapui.&zwnj;&#8203;sh</code> (and other .sh scripts in the same directory)  Add: <code>JAVA_OPTS=&quot;$JAVA_OPTS -Dsoapui.https.protocols=TLSv1.2&quot;</code>  Above: <code>$JAVA $JAVA_OPTS -cp $SOAPUI_CLASSPATH com.eviware.soapui.SoapUI &quot;$@&quot;</code>"},{"owner":{"account_id":112038,"reputation":2235,"user_id":295686,"accept_rate":89,"display_name":"mlhDev"},"score":1,"creation_date":1495134772,"post_id":36076750,"comment_id":75137066,"body_markdown":"Don&#39;t change your server to allow SSL. Maintain some dignity.","body":"Don&#39;t change your server to allow SSL. Maintain some dignity."},{"owner":{"account_id":4564622,"reputation":2486,"user_id":3705960,"display_name":"Igor Semin"},"score":1,"creation_date":1523432852,"post_id":36076750,"comment_id":86553713,"body_markdown":"Don&#39;t know why is this answer not in the top!?","body":"Don&#39;t know why is this answer not in the top!?"},{"owner":{"account_id":12216811,"reputation":210,"user_id":8916985,"display_name":"sk23"},"score":0,"creation_date":1551637760,"post_id":36076750,"comment_id":96703769,"body_markdown":"This worked for me for SoapUI version 5.3.0. I got this error [link] (https://i.imgur.com/R8L2Kxm.jpg). Added (-Dsoapui.https.protocols=TLSv1.2) to the vmoptions file. Only thing had to close SoapUI and restart again.","body":"This worked for me for SoapUI version 5.3.0. I got this error [link] (<a href=\"https://i.imgur.com/R8L2Kxm.jpg\" rel=\"nofollow noreferrer\">i.imgur.com/R8L2Kxm.jpg</a>). Added (-Dsoapui.https.protocols=TLSv1.2) to the vmoptions file. Only thing had to close SoapUI and restart again."}],"tags":[],"owner":{"account_id":3066408,"reputation":2307,"user_id":2597991,"display_name":"sree"},"comment_count":6,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1669942608,"creation_date":1458278707,"answer_id":36076750,"question_id":11088483,"body_markdown":"In my case the server were the service was installed was configured only for TLS. SSL was not allowed. So you have to update SoapUI vmoptions file by adding the server TLS version \r\n\r\n    -Dsoapui.https.protocols=TLSv1.2\r\n\r\nYou can find vmoptions file under SoapUI installation folder:\r\n\r\n    C:\\Program Files (x86)\\SmartBear\\SoapUI-5.0.0\\bin\\soapUI-5.0.0.vmoptions\r\n","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>In my case the server were the service was installed was configured only for TLS. SSL was not allowed. So you have to update SoapUI vmoptions file by adding the server TLS version</p>\n<pre><code>-Dsoapui.https.protocols=TLSv1.2\n</code></pre>\n<p>You can find vmoptions file under SoapUI installation folder:</p>\n<pre><code>C:\\Program Files (x86)\\SmartBear\\SoapUI-5.0.0\\bin\\soapUI-5.0.0.vmoptions\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3671319,"reputation":1945,"user_id":3058470,"accept_rate":91,"display_name":"ishanbakshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473313317,"creation_date":1473313317,"answer_id":39383327,"question_id":11088483,"body_markdown":"Inside the wsdl file look for the import element, which looks like this :\r\n\r\n    `&lt;import  namespace=&quot;nameSpaceValue&quot; location=&quot;Users/myname/.../targetxsdName.xsd&quot;/&gt;`\r\n\r\nChange the location attribute in the above element to the location of your xsd files stored locally, and it should work.\r\n","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>Inside the wsdl file look for the import element, which looks like this :</p>\n\n<pre><code>`&lt;import  namespace=\"nameSpaceValue\" location=\"Users/myname/.../targetxsdName.xsd\"/&gt;`\n</code></pre>\n\n<p>Change the location attribute in the above element to the location of your xsd files stored locally, and it should work.</p>\n"},{"tags":[],"owner":{"account_id":106904,"reputation":353,"user_id":284543,"accept_rate":75,"display_name":"Rob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485855508,"creation_date":1485855508,"answer_id":41954076,"question_id":11088483,"body_markdown":"I had this issue when trying to use a SOCKS proxy. It appears that SoapUI does not support SOCKS proxys. I am using the Boomerang Chrome app instead.","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>I had this issue when trying to use a SOCKS proxy. It appears that SoapUI does not support SOCKS proxys. I am using the Boomerang Chrome app instead.</p>\n"},{"tags":[],"owner":{"account_id":5468762,"reputation":130,"user_id":4348712,"display_name":"Miraval Carrillo Jacinto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595592919,"creation_date":1486571463,"answer_id":42118595,"question_id":11088483,"body_markdown":"My solution was to modify the **java.security** file:\r\n\r\n    \\SoapUI-5.3.0\\jre\\lib\\security\\java.security\r\n\r\nComment code syntax:\r\n\r\n    #jdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize &lt; 2048\r\n    #jdk.certpath.disabledAlgorithms=MD2, RSA keySize &lt; 1024\r\n\r\n\r\n\r\n","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>My solution was to modify the <strong>java.security</strong> file:</p>\n<pre><code>\\SoapUI-5.3.0\\jre\\lib\\security\\java.security\n</code></pre>\n<p>Comment code syntax:</p>\n<pre><code>#jdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize &lt; 2048\n#jdk.certpath.disabledAlgorithms=MD2, RSA keySize &lt; 1024\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10250279,"reputation":206,"user_id":7564756,"display_name":"ferpel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487895482,"creation_date":1487895482,"answer_id":42428630,"question_id":11088483,"body_markdown":"I had this error and in my case, the problem was that I was using &quot;localhost&quot; in the URL.&lt;br&gt;\r\nI resolved that changing the localhost word for the respective IP, `(Windows + R -&gt; cmd -&gt; ipconfig)` then read the IP and write it to the URL replacing the &quot;localhost&quot; word","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>I had this error and in my case, the problem was that I was using \"localhost\" in the URL.<br>\nI resolved that changing the localhost word for the respective IP, <code>(Windows + R -&gt; cmd -&gt; ipconfig)</code> then read the IP and write it to the URL replacing the \"localhost\" word</p>\n"},{"tags":[],"owner":{"account_id":2456659,"reputation":183,"user_id":2141702,"display_name":"X-factor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491855053,"creation_date":1491855053,"answer_id":43332151,"question_id":11088483,"body_markdown":"The following solution helped me:\r\n\r\n    -Djsse.enableSNIExtension=false\r\nIn SoapUI-5.3.0.vmoptions.","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>The following solution helped me:</p>\n\n<pre><code>-Djsse.enableSNIExtension=false\n</code></pre>\n\n<p>In SoapUI-5.3.0.vmoptions.</p>\n"},{"tags":[],"owner":{"account_id":4329020,"reputation":253,"user_id":3534999,"accept_rate":48,"display_name":"Ciro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509093698,"creation_date":1509093698,"answer_id":46970905,"question_id":11088483,"body_markdown":"Close and reopen soapui. Probably is a bug of the application","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>Close and reopen soapui. Probably is a bug of the application</p>\n"},{"tags":[],"owner":{"account_id":11001035,"reputation":9,"user_id":8081630,"display_name":"MSD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595592928,"creation_date":1563437734,"answer_id":57089991,"question_id":11088483,"body_markdown":"For java version above 1.8, \r\nUse below command to setup soapUI jar\r\n\r\n    java -jar --add-modules java.xml.bind --add-modules java.xml.ws &lt;path for jar file+jar file name.jar&gt;","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>For java version above 1.8,\nUse below command to setup soapUI jar</p>\n<pre><code>java -jar --add-modules java.xml.bind --add-modules java.xml.ws &lt;path for jar file+jar file name.jar&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10832794,"reputation":41,"user_id":7966596,"display_name":"SanduniC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582885800,"creation_date":1582885800,"answer_id":60449841,"question_id":11088483,"body_markdown":"Update SoapUI version to SoapUI 5.5.0.  This error causes when I tried to load wsdl, because of old SoapUI version","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>Update SoapUI version to SoapUI 5.5.0.  This error causes when I tried to load wsdl, because of old SoapUI version</p>\n"},{"tags":[],"owner":{"account_id":6439528,"reputation":11879,"user_id":5891912,"display_name":"Badr Bellaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657840043,"creation_date":1657840043,"answer_id":72987509,"question_id":11088483,"body_markdown":"This error is due to an erroneous schemaLocation in the WSDL file. \r\n\r\nIndicate the correct location (either path on the disk or xsd url)  of the xsd file in the wsdl file\r\n\r\nexp\r\n\r\n    &lt;xsd:import namespace=&quot;http://xyz:8080/&quot; schemaLocation=&quot;http://172.17.16.53:9080/auth/authorizationBS?xsd=1&quot;&gt;&lt;/xsd:import&gt;","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>This error is due to an erroneous schemaLocation in the WSDL file.</p>\n<p>Indicate the correct location (either path on the disk or xsd url)  of the xsd file in the wsdl file</p>\n<p>exp</p>\n<pre><code>&lt;xsd:import namespace=&quot;http://xyz:8080/&quot; schemaLocation=&quot;http://172.17.16.53:9080/auth/authorizationBS?xsd=1&quot;&gt;&lt;/xsd:import&gt;\n</code></pre>\n"}],"owner":{"account_id":469075,"reputation":506,"user_id":875440,"display_name":"Pancho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216705,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":11092004,"answer_count":16,"score":40,"last_activity_date":1669942608,"creation_date":1340042687,"question_id":11088483,"body_markdown":"I keep having some weird problems. The main one is that I keep getting the following error when trying to add a WSDL to a new project:\r\n\r\n    Error loading [https://.../token?wsdl]: java.lang.Exception: Failed to load url; https://.../token?wsdl, 0 -\r\n\r\nHere&#39;s the message recorded in the error.log file:\r\n\r\n    java.lang.Exception: Failed to load url; https://.../token?wsdl, 0 - \r\n\tat com.eviware.soapui.impl.wsdl.support.wsdl.UrlWsdlLoader.load(UrlWsdlLoader.java:184)\r\n\tat com.eviware.soapui.impl.wsdl.support.wsdl.WsdlLoader.loadXmlObject(WsdlLoader.java:121)\r\n\tat com.eviware.soapui.impl.wsdl.support.xsd.SchemaUtils.getDefinitionParts(SchemaUtils.java:535)\r\n\tat com.eviware.soapui.impl.wsdl.support.xsd.SchemaUtils.getDefinitionParts(SchemaUtils.java:524)\r\n\tat com.eviware.soapui.impl.support.definition.support.AbstractDefinitionCache.update(AbstractDefinitionCache.java:97)\r\n\tat com.eviware.soapui.impl.support.definition.support.AbstractDefinitionContext$Loader.construct(AbstractDefinitionContext.java:226)\r\n\tat com.eviware.soapui.support.swing.SwingWorkerDelegator.construct(SwingWorkerDelegator.java:46)\r\n\tat com.eviware.soapui.support.swing.SwingWorker$2.run(SwingWorker.java:149)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nI verified that the application at that URL is up and running, and I can get to the WSDL from a web browser, but I keep getting this error message no matter what. I am using SoapUI 4.5.0 (32-bit) on a Windows 7 box. I&#39;ve also tried the 64-bit version with the same results. It happens whether I am on VPN or not. \r\n\r\nDo you know why I might be getting this error?","title":"SoapUI &quot;failed to load url&quot; error when loading WSDL","body":"<p>I keep having some weird problems. The main one is that I keep getting the following error when trying to add a WSDL to a new project:</p>\n\n<pre><code>Error loading [https://.../token?wsdl]: java.lang.Exception: Failed to load url; https://.../token?wsdl, 0 -\n</code></pre>\n\n<p>Here's the message recorded in the error.log file:</p>\n\n<pre><code>java.lang.Exception: Failed to load url; https://.../token?wsdl, 0 - \nat com.eviware.soapui.impl.wsdl.support.wsdl.UrlWsdlLoader.load(UrlWsdlLoader.java:184)\nat com.eviware.soapui.impl.wsdl.support.wsdl.WsdlLoader.loadXmlObject(WsdlLoader.java:121)\nat com.eviware.soapui.impl.wsdl.support.xsd.SchemaUtils.getDefinitionParts(SchemaUtils.java:535)\nat com.eviware.soapui.impl.wsdl.support.xsd.SchemaUtils.getDefinitionParts(SchemaUtils.java:524)\nat com.eviware.soapui.impl.support.definition.support.AbstractDefinitionCache.update(AbstractDefinitionCache.java:97)\nat com.eviware.soapui.impl.support.definition.support.AbstractDefinitionContext$Loader.construct(AbstractDefinitionContext.java:226)\nat com.eviware.soapui.support.swing.SwingWorkerDelegator.construct(SwingWorkerDelegator.java:46)\nat com.eviware.soapui.support.swing.SwingWorker$2.run(SwingWorker.java:149)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>I verified that the application at that URL is up and running, and I can get to the WSDL from a web browser, but I keep getting this error message no matter what. I am using SoapUI 4.5.0 (32-bit) on a Windows 7 box. I've also tried the 64-bit version with the same results. It happens whether I am on VPN or not. </p>\n\n<p>Do you know why I might be getting this error?</p>\n"},{"tags":["java","jsvc","apache-commons-daemon"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1669940949,"post_id":74649549,"comment_id":131763406,"body_markdown":"It was an [ancient](https://stackoverflow.com/a/198651/2970947) option that (when it did anything) was impactful on primarily 32-bit platforms (machines with less than 2 GB of RAM).","body":"It was an <a href=\"https://stackoverflow.com/a/198651/2970947\">ancient</a> option that (when it did anything) was impactful on primarily 32-bit platforms (machines with less than 2 GB of RAM)."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1669946658,"post_id":74649549,"comment_id":131764218,"body_markdown":"Look here: https://stackoverflow.com/a/198651/421195 `Because on the 64-bit versions of JDK the -client option is ignored for many years. – \nG. Demecki Mar 16, 2016`","body":"Look here: <a href=\"https://stackoverflow.com/a/198651/421195\">stackoverflow.com/a/198651/421195</a> <code>Because on the 64-bit versions of JDK the -client option is ignored for many years. –  G. Demecki Mar 16, 2016</code>"},{"owner":{"account_id":68701,"reputation":3082,"user_id":200304,"accept_rate":63,"display_name":"Johannes Ernst"},"score":0,"creation_date":1669957622,"post_id":74649549,"comment_id":131765589,"body_markdown":"I guess my second theory was correct :-) Ty.","body":"I guess my second theory was correct :-) Ty."}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669940822,"creation_date":1669940822,"answer_id":74649626,"question_id":74649549,"body_markdown":"This is a lab box I haven&#39;t updated for awhile ... but it looks like recent JREs  only have the &quot;server&quot; option:\r\n\r\n    C:\\&gt; java version &quot;1.8.0_121&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_121-b13)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\r\n    \r\n    c:\\&gt;java -help\r\n    Usage: java [-options] class [args...]\r\n               (to execute a class)\r\n       or  java [-options] -jar jarfile [args...]\r\n               (to execute a jar file)\r\n    where options include:\r\n        -d32          use a 32-bit data model if available\r\n        -d64          use a 64-bit data model if available\r\n        -server       to select the &quot;server&quot; VM\r\n                      The default VM is server.\r\n\r\nAlso:\r\n\r\n    c:\\Program Files\\java\\jdk-11.0.1&gt;tree lib\r\n    Folder PATH listing for volume OS\r\n    Volume serial number is 00000051 4C32:5A1F\r\n    C:\\PROGRAM FILES\\JAVA\\JDK-11.0.1\\LIB\r\n    ├───jfr\r\n    ├───security\r\n    └───server\r\n      &lt;= Look Ma!  No &quot;client&quot;!\r\n\r\n","title":"&quot;Client&quot; Java Virtual Machine with jsvc","body":"<p>This is a lab box I haven't updated for awhile ... but it looks like recent JREs  only have the &quot;server&quot; option:</p>\n<pre><code>C:\\&gt; java version &quot;1.8.0_121&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\n\nc:\\&gt;java -help\nUsage: java [-options] class [args...]\n           (to execute a class)\n   or  java [-options] -jar jarfile [args...]\n           (to execute a jar file)\nwhere options include:\n    -d32          use a 32-bit data model if available\n    -d64          use a 64-bit data model if available\n    -server       to select the &quot;server&quot; VM\n                  The default VM is server.\n</code></pre>\n<p>Also:</p>\n<pre><code>c:\\Program Files\\java\\jdk-11.0.1&gt;tree lib\nFolder PATH listing for volume OS\nVolume serial number is 00000051 4C32:5A1F\nC:\\PROGRAM FILES\\JAVA\\JDK-11.0.1\\LIB\n├───jfr\n├───security\n└───server\n  &lt;= Look Ma!  No &quot;client&quot;!\n</code></pre>\n"}],"owner":{"account_id":68701,"reputation":3082,"user_id":200304,"accept_rate":63,"display_name":"Johannes Ernst"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669946587,"answer_count":1,"score":0,"last_activity_date":1669940822,"creation_date":1669940122,"question_id":74649549,"body_markdown":"`jsvc` has a `-client` option but it isn&#39;t available on my system:\r\n\r\n```\r\n/usr/bin/jsvc -help ...\r\n...\r\n    -jvm &lt;JVM name&gt;\r\n        use a specific Java Virtual Machine. Available JVMs:\r\n            &#39;server&#39;\r\n    -client\r\n        use a client Java Virtual Machine.\r\n    -server\r\n        use a server Java Virtual Machine.\r\n...\r\n```\r\n\r\nThis seem to boil down to having library files in directory `lib/client` under `JAVA_HOME` -- but all I have is `lib/server`.\r\n\r\nThis directory does not exist on Arch Linux ARM aarch64 or macOS. Is that some separate install, or is jsvc simply wrong about the existence of such a VM in that place?","title":"&quot;Client&quot; Java Virtual Machine with jsvc","body":"<p><code>jsvc</code> has a <code>-client</code> option but it isn't available on my system:</p>\n<pre><code>/usr/bin/jsvc -help ...\n...\n    -jvm &lt;JVM name&gt;\n        use a specific Java Virtual Machine. Available JVMs:\n            'server'\n    -client\n        use a client Java Virtual Machine.\n    -server\n        use a server Java Virtual Machine.\n...\n</code></pre>\n<p>This seem to boil down to having library files in directory <code>lib/client</code> under <code>JAVA_HOME</code> -- but all I have is <code>lib/server</code>.</p>\n<p>This directory does not exist on Arch Linux ARM aarch64 or macOS. Is that some separate install, or is jsvc simply wrong about the existence of such a VM in that place?</p>\n"},{"tags":["java","ldap","openldap"],"comments":[{"owner":{"account_id":26485762,"reputation":1361,"user_id":20124358,"display_name":"Jib"},"score":0,"creation_date":1669748538,"post_id":74519565,"comment_id":131712113,"body_markdown":"Do your threads share the same connection handle? Can you post a short snippet of your request throwing the Exception?","body":"Do your threads share the same connection handle? Can you post a short snippet of your request throwing the Exception?"},{"owner":{"account_id":4434611,"reputation":31,"user_id":3610778,"display_name":"psr"},"score":0,"creation_date":1670239388,"post_id":74519565,"comment_id":131822297,"body_markdown":"Control[] ldapControl = new Control[]{sortConrol, new VirtualListViewRequestControl(batchConfig.getStart(), 0, batchConfig.getRows(), batchConfig.getTotalRecords(), batchConfig.getResumeCookie())}; searchRequest.setControls(ldapControl); \nsearchResult = ldapConnection.search(searchRequest); \n\n@Jib Last line is throwing error","body":"Control[] ldapControl = new Control[]{sortConrol, new VirtualListViewRequestControl(batchConfig.getStart(), 0, batchConfig.getRows(), batchConfig.getTotalRecords(), batchConfig.getResumeCookie())}; searchRequest.setControls(ldapControl);  searchResult = ldapConnection.search(searchRequest);   @Jib Last line is throwing error"}],"answers":[{"tags":[],"owner":{"account_id":5060369,"reputation":6680,"user_id":4062197,"display_name":"ymz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669940152,"creation_date":1669940152,"answer_id":74649554,"question_id":74519565,"body_markdown":"From my experience in JAVA, it is better to use `thread pools` which shifts your solution from &quot;how to manage threads&quot; into a more robust and tasks oriented one.\r\n\r\n**To the point (of your use case):** you may want to define a thread pool with a fixed size of thread. The pool will manage all incoming loads by re-using the threads in the pool. This is very efficient because more threads does not equal more performance. You may want to use a mechanism that re-uses threads, rather than just open and close threads and use too much of them.\r\n\r\nYou may start with something similar to this:\r\n\r\n    ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n    Future&lt;SearchResult&gt; task1 = executorService.submit(() -&gt; {\r\n      // your logic goes here\r\n      return result;\r\n    });\r\n\r\n\r\n    SearchResult result = task1.get();\r\n\r\nThis is an over simplified piece of code but you can clearly see that:\r\n\r\n* Tasks may be initiated from a stack (dynamically)\r\n* Results can be fetched by using a listener (you grab results only when they are ready - no polling needed)\r\n* The thread pool manages loads - so you can tweak your configuration and boost performance without changing your code (perfect for various environments that may want to configure your solution to suit their hardware profile)\r\n\r\nI think you should give it a try.. after all - retrying 2000 times before success is really not that kind of idle &#128579;","title":"LDAP VLV throws error &quot;Other sort requests already in progress&quot;","body":"<p>From my experience in JAVA, it is better to use <code>thread pools</code> which shifts your solution from &quot;how to manage threads&quot; into a more robust and tasks oriented one.</p>\n<p><strong>To the point (of your use case):</strong> you may want to define a thread pool with a fixed size of thread. The pool will manage all incoming loads by re-using the threads in the pool. This is very efficient because more threads does not equal more performance. You may want to use a mechanism that re-uses threads, rather than just open and close threads and use too much of them.</p>\n<p>You may start with something similar to this:</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(10);\n\nFuture&lt;SearchResult&gt; task1 = executorService.submit(() -&gt; {\n  // your logic goes here\n  return result;\n});\n\n\nSearchResult result = task1.get();\n</code></pre>\n<p>This is an over simplified piece of code but you can clearly see that:</p>\n<ul>\n<li>Tasks may be initiated from a stack (dynamically)</li>\n<li>Results can be fetched by using a listener (you grab results only when they are ready - no polling needed)</li>\n<li>The thread pool manages loads - so you can tweak your configuration and boost performance without changing your code (perfect for various environments that may want to configure your solution to suit their hardware profile)</li>\n</ul>\n<p>I think you should give it a try.. after all - retrying 2000 times before success is really not that kind of idle 🙃</p>\n"}],"owner":{"account_id":4434611,"reputation":31,"user_id":3610778,"display_name":"psr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669940152,"creation_date":1669036661,"question_id":74519565,"body_markdown":"I am trying to implement pagination in LDAP using vlv, using reference from document https://docs.ldap.com/ldap-sdk/docs/javadoc/com/unboundid/ldap/sdk/controls/VirtualListViewRequestControl.html\r\n\r\nit is working fine with single thread, but when try with multiple threads concurrently upto 5 threads it works fine, but as number of threads increased only 5 threads can run successfully exceed threads got failed with below error message:\r\n```\r\nLDAPException(resultCode=51 (busy), numEntries=0, numReferences=0, diagnostiMessage=&#39;Other sort requests already in progress&#39;, ldapSDKVersion=5.1.1..\r\n```\r\n\r\n\r\n\r\nI am using OpenLDAP, Unboundid api for connection with Java. About data size it is around 100k.\r\n- Tried with single connection and multiple connections(with multiple concurrent threads) getting same error in both cases.\r\n- Tried to synchronize block for fetching data.\r\n- On exception, make thread to wait and try again.\r\nAll above things didn&#39;t worked, threads cannot fetch data from LDAP.\r\nAfter trying to close and reconnect connection as described in https://www.openldap.org/lists/openldap-technical/201107/msg00006.html\r\nfailed thread can fetch data but after retry lot of times, in my case thread retried about 2k times then it started fetching data.\r\n\r\nIs there any better solution, retrying 2k times and getting result is not a good option.","title":"LDAP VLV throws error &quot;Other sort requests already in progress&quot;","body":"<p>I am trying to implement pagination in LDAP using vlv, using reference from document <a href=\"https://docs.ldap.com/ldap-sdk/docs/javadoc/com/unboundid/ldap/sdk/controls/VirtualListViewRequestControl.html\" rel=\"nofollow noreferrer\">https://docs.ldap.com/ldap-sdk/docs/javadoc/com/unboundid/ldap/sdk/controls/VirtualListViewRequestControl.html</a></p>\n<p>it is working fine with single thread, but when try with multiple threads concurrently upto 5 threads it works fine, but as number of threads increased only 5 threads can run successfully exceed threads got failed with below error message:</p>\n<pre><code>LDAPException(resultCode=51 (busy), numEntries=0, numReferences=0, diagnostiMessage='Other sort requests already in progress', ldapSDKVersion=5.1.1..\n</code></pre>\n<p>I am using OpenLDAP, Unboundid api for connection with Java. About data size it is around 100k.</p>\n<ul>\n<li>Tried with single connection and multiple connections(with multiple concurrent threads) getting same error in both cases.</li>\n<li>Tried to synchronize block for fetching data.</li>\n<li>On exception, make thread to wait and try again.\nAll above things didn't worked, threads cannot fetch data from LDAP.\nAfter trying to close and reconnect connection as described in <a href=\"https://www.openldap.org/lists/openldap-technical/201107/msg00006.html\" rel=\"nofollow noreferrer\">https://www.openldap.org/lists/openldap-technical/201107/msg00006.html</a>\nfailed thread can fetch data but after retry lot of times, in my case thread retried about 2k times then it started fetching data.</li>\n</ul>\n<p>Is there any better solution, retrying 2k times and getting result is not a good option.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669933426,"post_id":74648779,"comment_id":131761987,"body_markdown":"Do you not a body of `public void run(String[] args)`?","body":"Do you not a body of <code>public void run(String[] args)</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1669933590,"post_id":74648779,"comment_id":131762036,"body_markdown":"Make an interface `interface MyRunnable { void run(String[] args); }` and have each of your classes implement it. Then use `HashSet&lt;MyRunnable&gt;`.","body":"Make an interface <code>interface MyRunnable { void run(String[] args); }</code> and have each of your classes implement it. Then use <code>HashSet&lt;MyRunnable&gt;</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669933688,"post_id":74648779,"comment_id":131762055,"body_markdown":"Have a read of https://docs.oracle.com/javase/tutorial/java/concepts/interface.html","body":"Have a read of <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/interface.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/concepts/interface.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669939606,"post_id":74649415,"comment_id":131763216,"body_markdown":"*you must change the implemented interface to Consumer instead of Runnable* - or create a custom interface. But if Runnable is adequate, note that the lambda can be simplified to `forEach(Runnable::run)`.","body":"<i>you must change the implemented interface to Consumer instead of Runnable</i> - or create a custom interface. But if Runnable is adequate, note that the lambda can be simplified to <code>forEach(Runnable::run)</code>."}],"tags":[],"owner":{"account_id":18327529,"reputation":26,"user_id":13346836,"display_name":"hayly"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669939392,"creation_date":1669938793,"answer_id":74649415,"question_id":74648779,"body_markdown":"They need to be of the same type to be used like that. Luckily, we can fix this by implementing a fitting functional interface.\r\n\r\n\r\n\r\n```\r\npublic class Something implements Runnable {\r\n\r\n\tpublic String name;\r\n\tpublic String description;\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\r\n\t\tSystem.out.println(&quot;something&quot;);\r\n\r\n\t}\r\n\r\n}\r\n```\r\nRunnable has the method run() that takes no arguments and returns nothing (aka it has to *do* something). \r\n\r\nSo this works only if you&#39;re not actually going to be using the String array as an argument, as you don&#39;t include it in your calling of run(). However, if you do need it, you must change the implemented interface to Consumer instead of Runnable, with accept() instead, as this method actually takes an argument as opposed to run().\r\n\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tHashSet&lt;Runnable&gt; things = new HashSet&lt;&gt;();\r\n\t\tthings.add(new Something());\r\n\t\tthings.add(new Something2());\r\n\r\n\t\tthings.forEach(thing -&gt; {\r\n\t\t\tthing.run();\r\n\t\t});\r\n\r\n\t}\r\n}\r\n```\r\nNow, we set the HashSet to the type of the implemented interface, and it works!\r\n\r\n\r\n\r\nHere&#39;s the other class:\r\n\r\n```\r\npublic class Something2 implements Runnable {\r\n\r\n\tpublic String name;\r\n\tpublic String description;\r\n\r\n\t@Override\r\n\tpublic void run() { \r\n\r\n\t\tSystem.out.println(&quot;something2&quot;);\r\n\r\n\t}\r\n\r\n}\r\n```\r\nNow you can create as many classes as you want and have their methods do different things, while still being able to gather them in the same set(as long as they implement the same type)!\r\n\r\nSide note: if you didn&#39;t need the attributes, you could&#39;ve used lambda expressions to implement different versions of run() (or accept(), or any other functional interface-method).\r\n","title":"Java - List, array type thing of different type objects?","body":"<p>They need to be of the same type to be used like that. Luckily, we can fix this by implementing a fitting functional interface.</p>\n<pre><code>public class Something implements Runnable {\n\n    public String name;\n    public String description;\n\n    @Override\n    public void run() {\n\n        System.out.println(&quot;something&quot;);\n\n    }\n\n}\n</code></pre>\n<p>Runnable has the method run() that takes no arguments and returns nothing (aka it has to <em>do</em> something).</p>\n<p>So this works only if you're not actually going to be using the String array as an argument, as you don't include it in your calling of run(). However, if you do need it, you must change the implemented interface to Consumer instead of Runnable, with accept() instead, as this method actually takes an argument as opposed to run().</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        HashSet&lt;Runnable&gt; things = new HashSet&lt;&gt;();\n        things.add(new Something());\n        things.add(new Something2());\n\n        things.forEach(thing -&gt; {\n            thing.run();\n        });\n\n    }\n}\n</code></pre>\n<p>Now, we set the HashSet to the type of the implemented interface, and it works!</p>\n<p>Here's the other class:</p>\n<pre><code>public class Something2 implements Runnable {\n\n    public String name;\n    public String description;\n\n    @Override\n    public void run() { \n\n        System.out.println(&quot;something2&quot;);\n\n    }\n\n}\n</code></pre>\n<p>Now you can create as many classes as you want and have their methods do different things, while still being able to gather them in the same set(as long as they implement the same type)!</p>\n<p>Side note: if you didn't need the attributes, you could've used lambda expressions to implement different versions of run() (or accept(), or any other functional interface-method).</p>\n"}],"owner":{"account_id":26769319,"reputation":55,"user_id":20365983,"display_name":"f478ccf2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74649415,"answer_count":1,"score":0,"last_activity_date":1669939392,"creation_date":1669933070,"question_id":74648779,"body_markdown":"So I have a bunch of java classes that are structured like this\r\n\r\n```java\r\nclass Something {\r\n    public static String name;\r\n    public static String description;\r\n\r\n    public void run(String[] args);\r\n}\r\n```\r\nThe problem is, they are all different types. So if I try to make a HashSet of them and iterate over them\r\n```java\r\nHashSet&lt;Object&gt; things = new HashSet&lt;Object&gt;();\r\nthings.add(new Something());\r\nthings.add(new Otherthing());\r\n\r\nthings.forEach(thing -&gt; {\r\n    thing.run();\r\n})\r\n```\r\nit gives this error\r\n```\r\n  symbol:   variable run\r\n  location: variable thing of type java.lang.Object\r\n```\r\nSo how can I make an iterable Set of these objects and use their properties?","title":"Java - List, array type thing of different type objects?","body":"<p>So I have a bunch of java classes that are structured like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Something {\n    public static String name;\n    public static String description;\n\n    public void run(String[] args);\n}\n</code></pre>\n<p>The problem is, they are all different types. So if I try to make a HashSet of them and iterate over them</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashSet&lt;Object&gt; things = new HashSet&lt;Object&gt;();\nthings.add(new Something());\nthings.add(new Otherthing());\n\nthings.forEach(thing -&gt; {\n    thing.run();\n})\n</code></pre>\n<p>it gives this error</p>\n<pre><code>  symbol:   variable run\n  location: variable thing of type java.lang.Object\n</code></pre>\n<p>So how can I make an iterable Set of these objects and use their properties?</p>\n"},{"tags":["java","swing","jgraphx"],"answers":[{"comments":[{"owner":{"account_id":4240771,"reputation":291,"user_id":3470733,"accept_rate":93,"display_name":"Alan W"},"score":0,"creation_date":1398528930,"post_id":23313129,"comment_id":35692725,"body_markdown":"This centers the graph, but it gives me a gray background around the mxGraph. I was thinking of actually centering the graph within the canvas it is being rendered in. Do you know how?","body":"This centers the graph, but it gives me a gray background around the mxGraph. I was thinking of actually centering the graph within the canvas it is being rendered in. Do you know how?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1398548016,"post_id":23313129,"comment_id":35699107,"body_markdown":"I don&#39;t know what mxGraph is. Post a [SSCCE](http://www.sscce.org/) that demonstrates the problem if you need more help. Of course the `SSCCE` should use standard Swing components, not 3rd party components so people can execute the code to see the behaviour you are attempting to explain.","body":"I don&#39;t know what mxGraph is. Post a <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> that demonstrates the problem if you need more help. Of course the <code>SSCCE</code> should use standard Swing components, not 3rd party components so people can execute the code to see the behaviour you are attempting to explain."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1398527159,"creation_date":1398527159,"answer_id":23313129,"question_id":23313003,"body_markdown":"Change the layout manager of the frame to use a GrigBagLayout:\r\n\r\n    JFrame f = new JFrame();\r\n    f.setLayout( new GridBagLayout() );\r\n\r\nthen add your component to the frame using the default constraints:\r\n\r\n    //f.getContentPane().add(BorderLayout.CENTER, graphComponent);\r\n    f.add(graphComponent, new GridBagConstraints());\r\n\r\nTo understand why this works read the section from the Swing tutorial on How to Use [GridBagLayout][1], especially the section that explains how the `weightx/weighty` constraints work.\r\n\r\nFinally, the f.setVisible() method should be invoked as the last statement in your constructor, AFTER all components have been added to the frame and the frames child panels.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html","title":"Center mxGraph in JFrame","body":"<p>Change the layout manager of the frame to use a GrigBagLayout:</p>\n\n<pre><code>JFrame f = new JFrame();\nf.setLayout( new GridBagLayout() );\n</code></pre>\n\n<p>then add your component to the frame using the default constraints:</p>\n\n<pre><code>//f.getContentPane().add(BorderLayout.CENTER, graphComponent);\nf.add(graphComponent, new GridBagConstraints());\n</code></pre>\n\n<p>To understand why this works read the section from the Swing tutorial on How to Use <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow\">GridBagLayout</a>, especially the section that explains how the <code>weightx/weighty</code> constraints work.</p>\n\n<p>Finally, the f.setVisible() method should be invoked as the last statement in your constructor, AFTER all components have been added to the frame and the frames child panels.</p>\n"},{"tags":[],"owner":{"account_id":2840228,"reputation":1579,"user_id":2439999,"accept_rate":47,"display_name":"Marco"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461964398,"creation_date":1461964398,"answer_id":36947526,"question_id":23313003,"body_markdown":"Here is another approach to center the graph.\r\n    \r\n     \r\n        //Before you add a vertex/edge to graph, get the size of layout\r\n    \twidthLayout = graphComponent.getLayoutAreaSize().getWidth();\r\n\t\theightLayout = graphComponent.getLayoutAreaSize().getHeight();\r\n\r\n        //if you are done with adding vertices/edges,\r\n        //we need to determine the size of the graph\r\n    \r\n        double width = mxGraph.getGraphBounds().getWidth();\r\n\t\tdouble height = mxGraph.getGraphBounds().getHeight();\r\n        \r\n        //set new geometry\r\n        mxGraph.getModel().setGeometry(mxGraph.getDefaultParent(), \r\n\t\t\t\tnew mxGeometry((widthLayout - width)/2, (heightLayout - height)/2,\r\n\t\t\t\t\t\twidthLayout, heightLayout));\r\nThis works great for me. ","title":"Center mxGraph in JFrame","body":"<p>Here is another approach to center the graph.</p>\n\n<pre><code>    //Before you add a vertex/edge to graph, get the size of layout\n    widthLayout = graphComponent.getLayoutAreaSize().getWidth();\n    heightLayout = graphComponent.getLayoutAreaSize().getHeight();\n\n    //if you are done with adding vertices/edges,\n    //we need to determine the size of the graph\n\n    double width = mxGraph.getGraphBounds().getWidth();\n    double height = mxGraph.getGraphBounds().getHeight();\n\n    //set new geometry\n    mxGraph.getModel().setGeometry(mxGraph.getDefaultParent(), \n            new mxGeometry((widthLayout - width)/2, (heightLayout - height)/2,\n                    widthLayout, heightLayout));\n</code></pre>\n\n<p>This works great for me. </p>\n"}],"owner":{"account_id":4240771,"reputation":291,"user_id":3470733,"accept_rate":93,"display_name":"Alan W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23313129,"answer_count":2,"score":0,"last_activity_date":1669939073,"creation_date":1398526469,"question_id":23313003,"body_markdown":"I am trying to center an mxGraph that has a hierarchicalLayout to arrange cells dynamically in a JFrame. Every time I render the jFrame, the mxGraph is drawn in the upper-left corner of the frame, and I can&#39;t find a way to modify the positioning of the graph. How does one accomplish this?\r\n\r\n    public class Test {\r\n    \r\n        public Test() {\r\n        \tObject v1;\r\n        \tObject v2;\r\n        \tObject v3;\r\n            JFrame f = new JFrame();\r\n            f.setSize(500, 500);\r\n            f.setLocation(300, 200);\r\n    \r\n            mxGraph graph = new mxGraph();\r\n            mxGraphComponent graphComponent = new mxGraphComponent(graph);\r\n            f.getContentPane().add(BorderLayout.CENTER, graphComponent);\r\n            f.setVisible(true);\r\n    \r\n            Object parent = graph.getDefaultParent();\r\n            graph.getModel().beginUpdate();\r\n            try {\r\n                 v1 = graph.insertVertex(parent, null, &quot;node1&quot;, 100, 100, 80, 30);\r\n                v2 = graph.insertVertex(parent, null, &quot;node2&quot;, 100, 100, 80, 30);\r\n                 v3 = graph.insertVertex(parent, null, &quot;node3&quot;, 100, 100, 80, 30);\r\n    \r\n                graph.insertEdge(parent, null, &quot;Edge&quot;, v1, v2);\r\n                graph.insertEdge(parent, null, &quot;Edge&quot;, v2, v3);\r\n    \r\n            } finally {\r\n                graph.getModel().endUpdate();\r\n            }\r\n    \r\n            // define layout\r\n            mxIGraphLayout layout = new mxHierarchicalLayout(graph);\r\n    \r\n            // layout using morphing\r\n            graph.getModel().beginUpdate();\r\n            try {\r\n                layout.execute(graph.getDefaultParent());\r\n            } finally {\r\n                        graph.getModel().endUpdate();\r\n                        // fitViewport();\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Center mxGraph in JFrame","body":"<p>I am trying to center an mxGraph that has a hierarchicalLayout to arrange cells dynamically in a JFrame. Every time I render the jFrame, the mxGraph is drawn in the upper-left corner of the frame, and I can't find a way to modify the positioning of the graph. How does one accomplish this?</p>\n\n<pre><code>public class Test {\n\n    public Test() {\n        Object v1;\n        Object v2;\n        Object v3;\n        JFrame f = new JFrame();\n        f.setSize(500, 500);\n        f.setLocation(300, 200);\n\n        mxGraph graph = new mxGraph();\n        mxGraphComponent graphComponent = new mxGraphComponent(graph);\n        f.getContentPane().add(BorderLayout.CENTER, graphComponent);\n        f.setVisible(true);\n\n        Object parent = graph.getDefaultParent();\n        graph.getModel().beginUpdate();\n        try {\n             v1 = graph.insertVertex(parent, null, \"node1\", 100, 100, 80, 30);\n            v2 = graph.insertVertex(parent, null, \"node2\", 100, 100, 80, 30);\n             v3 = graph.insertVertex(parent, null, \"node3\", 100, 100, 80, 30);\n\n            graph.insertEdge(parent, null, \"Edge\", v1, v2);\n            graph.insertEdge(parent, null, \"Edge\", v2, v3);\n\n        } finally {\n            graph.getModel().endUpdate();\n        }\n\n        // define layout\n        mxIGraphLayout layout = new mxHierarchicalLayout(graph);\n\n        // layout using morphing\n        graph.getModel().beginUpdate();\n        try {\n            layout.execute(graph.getDefaultParent());\n        } finally {\n                    graph.getModel().endUpdate();\n                    // fitViewport();\n        }\n\n    }\n\n    public static void main(String[] args) {\n        Test t = new Test();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669935769,"post_id":74648963,"comment_id":131762570,"body_markdown":"Please, [edit](https://stackoverflow.com/posts/74648963/edit) the question, clarify what exactly you want to delete (show an example). Also specify which library for parsing JSON (Jackson, Gson, etc.) you&#39;re going to use, dialing with JSON manually doesn&#39;t make much sense (unless it&#39;s a requirement of your assignment).","body":"Please, <a href=\"https://stackoverflow.com/posts/74648963/edit\">edit</a> the question, clarify what exactly you want to delete (show an example). Also specify which library for parsing JSON (Jackson, Gson, etc.) you&#39;re going to use, dialing with JSON manually doesn&#39;t make much sense (unless it&#39;s a requirement of your assignment)."},{"owner":{"account_id":27116551,"reputation":1,"user_id":20660802,"display_name":"simon willr"},"score":0,"creation_date":1669936017,"post_id":74648963,"comment_id":131762619,"body_markdown":"Done thanks for letting me know and im currently using Gson","body":"Done thanks for letting me know and im currently using Gson"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669937173,"post_id":74648963,"comment_id":131762835,"body_markdown":"`[data:14] ` is **not** a valid JSON. That&#39;s what you want to save back to the file? You didn&#39;t explain why you need to preserve exactly this number. And you didn&#39;t tell anything about JSON library you&#39;re using. The question remains unclear.","body":"<code>[data:14] </code> is <b>not</b> a valid JSON. That&#39;s what you want to save back to the file? You didn&#39;t explain why you need to preserve exactly this number. And you didn&#39;t tell anything about JSON library you&#39;re using. The question remains unclear."},{"owner":{"account_id":27116551,"reputation":1,"user_id":20660802,"display_name":"simon willr"},"score":0,"creation_date":1669937421,"post_id":74648963,"comment_id":131762875,"body_markdown":"let me expand on this more one moment","body":"let me expand on this more one moment"},{"owner":{"account_id":27116551,"reputation":1,"user_id":20660802,"display_name":"simon willr"},"score":0,"creation_date":1669938418,"post_id":74648963,"comment_id":131763034,"body_markdown":"Sorry about that i elaborated on it more here","body":"Sorry about that i elaborated on it more here"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669938548,"post_id":74648963,"comment_id":131763046,"body_markdown":"Are you asking how to parse JSON? How to write JSON? How to update a file? Please explain where exactly you&#39;re stuck and what you need help with.","body":"Are you asking how to parse JSON? How to write JSON? How to update a file? Please explain where exactly you&#39;re stuck and what you need help with."},{"owner":{"account_id":27116551,"reputation":1,"user_id":20660802,"display_name":"simon willr"},"score":0,"creation_date":1669938938,"post_id":74648963,"comment_id":131763104,"body_markdown":"Im asking on how to use the json in order to specifically pick a number from &quot;data&quot; for example when it runs once, it will take the first number which is 14 like this{&quot;ID&quot;:14} and then the next number when the program runs again using the next number in the sequence {&quot;ID&quot;:75 } and so on basically splitting the numbers from the original json and saving it to another file and delete it from the original file","body":"Im asking on how to use the json in order to specifically pick a number from &quot;data&quot; for example when it runs once, it will take the first number which is 14 like this{&quot;ID&quot;:14} and then the next number when the program runs again using the next number in the sequence {&quot;ID&quot;:75 } and so on basically splitting the numbers from the original json and saving it to another file and delete it from the original file"}],"owner":{"account_id":27116551,"reputation":1,"user_id":20660802,"display_name":"simon willr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669938399,"creation_date":1669934467,"question_id":74648963,"body_markdown":"Here I have downloaded 100 numbers from the random.org api which prints a json as follows \r\n``` {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;result&quot;:{&quot;random&quot;:{&quot;data&quot;:[14,75,6,32,69,77,16,3,37,37,35,6,23,73,5,12,93,71,32,37,56,59,75,39,48,83,57,70,79,31,16,28,62,45,69,67,81,98,13,71,99,80,79,86,1,48,43,52,42,41,3,44,73,96,13,51,52,26,69,47,35,72,61,51,42,58,9,1,15,92,32,81,33,14,5,66,80,8,5,97,7,79,100,40,36,33,91,65,33,65,63,33,38,27,72,82,44,16,17,51],&quot;completionTime&quot;:&quot;2022-12-01 22:21:52Z&quot;},&quot;bitsUsed&quot;:664,&quot;bitsLeft&quot;:244024,&quot;requestsLeft&quot;:991,&quot;advisoryDelay&quot;:1710},&quot;id&quot;:421} ```\r\n\r\nWhat i want to do with the json is to specifically pick a number from the data parameter set like so {&quot;data&quot;:14} every time i execute the program which is what i have started on here .\r\n  ```  @GET\r\n    @Path(&quot;/getID&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public String getID() {\r\n        \r\n        String numbers = &quot;&quot;;\r\n        List &lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;Randoms.json&quot;));\r\n         \r\n           for (String line : lines) {\r\n               \r\n                numbers += line;\r\n           }\r\n        \r\n\r\n        return numbers; \r\n\r\n```\r\nWhen the number is chosen I want it to be deleted from the set and to be saved in another json file acting like a unique ID which takes the ID from a dataset like this and deletes it from the original source so it cant be used again like this \r\n\r\n\r\n``` {&quot;ID&quot;:(number)} ```\r\n\r\n\r\nSo for i have a class where it retrieves the numbers and have it save it to the file and my restful service and prints the output which is the full JSON output as shown at the top. \r\n","title":"json paramter delete and saved as it run","body":"<p>Here I have downloaded 100 numbers from the random.org api which prints a json as follows\n<code>{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;result&quot;:{&quot;random&quot;:{&quot;data&quot;:[14,75,6,32,69,77,16,3,37,37,35,6,23,73,5,12,93,71,32,37,56,59,75,39,48,83,57,70,79,31,16,28,62,45,69,67,81,98,13,71,99,80,79,86,1,48,43,52,42,41,3,44,73,96,13,51,52,26,69,47,35,72,61,51,42,58,9,1,15,92,32,81,33,14,5,66,80,8,5,97,7,79,100,40,36,33,91,65,33,65,63,33,38,27,72,82,44,16,17,51],&quot;completionTime&quot;:&quot;2022-12-01 22:21:52Z&quot;},&quot;bitsUsed&quot;:664,&quot;bitsLeft&quot;:244024,&quot;requestsLeft&quot;:991,&quot;advisoryDelay&quot;:1710},&quot;id&quot;:421}</code></p>\n<p>What i want to do with the json is to specifically pick a number from the data parameter set like so {&quot;data&quot;:14} every time i execute the program which is what i have started on here .</p>\n<pre><code>  @Path(&quot;/getID&quot;)\n  @Produces(MediaType.APPLICATION_JSON)\n  public String getID() {\n      \n      String numbers = &quot;&quot;;\n      List &lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;Randoms.json&quot;));\n       \n         for (String line : lines) {\n             \n              numbers += line;\n         }\n      \n\n      return numbers; \n\n</code></pre>\n<p>When the number is chosen I want it to be deleted from the set and to be saved in another json file acting like a unique ID which takes the ID from a dataset like this and deletes it from the original source so it cant be used again like this</p>\n<p><code>{&quot;ID&quot;:(number)}</code></p>\n<p>So for i have a class where it retrieves the numbers and have it save it to the file and my restful service and prints the output which is the full JSON output as shown at the top.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1669870477,"post_id":74636491,"comment_id":131742617,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."}],"answers":[{"comments":[{"owner":{"account_id":27105889,"reputation":1,"user_id":20651727,"display_name":"lola"},"score":0,"creation_date":1669908852,"post_id":74638614,"comment_id":131754354,"body_markdown":"Thank you.How would I make the canvas stop being created so many times? I can&#39;t figure it out.","body":"Thank you.How would I make the canvas stop being created so many times? I can&#39;t figure it out."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1669938323,"post_id":74638614,"comment_id":131763021,"body_markdown":"@lola I edited the question to add info on managing the canvas instances.  It is just an example, you may need to do something a bit different to implement the functionality you require in your app.","body":"@lola I edited the question to add info on managing the canvas instances.  It is just an example, you may need to do something a bit different to implement the functionality you require in your app."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669938244,"creation_date":1669881739,"answer_id":74638614,"question_id":74636491,"body_markdown":"You are creating a new canvas for each animation frame, rather than reusing an existing one.\r\n\r\n 1. You take a `Pane` and you add a new `Canvas` to it.\r\n 2. You do this an `AnimationTimer` `handle` method.\r\n 3. The timer method is called each pulse.\r\n 4. Be default, JavaFX generates a pulse sixty times a second.\r\n 5. In one second, your pane will contain sixty canvases.\r\n 6. In a minute there will be 3600 canvases.\r\n 7. In a day there will be five million one hundred and eighty four thousand canvases.\r\n 8. At some point before that, something is going to slow down and break.\r\n\r\n**FAQ**\r\n\r\n&gt; How would I make the canvas stop being created so many times? I can&#39;t figure it out. \r\n\r\n 1. Remove the lines which create a canvas and add it to the scene graph from the animation timer `handle` method.  \r\n 2. Create the canvas and add it to the scene graph (e.g. a pane) only once, outside of the `handle` method.\r\n 3. Store a reference to the canvas and access the reference in the `handle` method.\r\n\r\nYou likely have other issues in code not shown, so don&#39;t expect a simple fix as outlined above to just make your application work as you expect.\r\n\r\nPerhaps something roughly like this:\r\n\r\n    final int W = 200;\r\n    final in  H = 200;\r\n    List&lt;FireParticle&gt; fireParticles = createFireParticles(W, H);\r\n\r\n    Canvas canvas = new Canvas (W, H); \r\n    animatedBackground.getChildren().add(canvas); \r\n\r\n    AnimationTimer animationTimer = new AnimationTimer() {\r\n        @Override\r\n        public void handle (long now){   \r\n            GraphicsContext2D graphicsContext = canvas.getGraphicsContext2D(); \r\n            graphicsContext.clearRect(0, 0, W, H);\r\n\r\n            if (fireParticles.isEmpty()) {\r\n                this.stop();\r\n                animatedBackground.getChildren().remove(canvas); \r\n                return;\r\n            }\r\n         \r\n            for (Iterator&lt;FireParticle&gt; iteratorFirePart = fireParticles.iterator(); iteratorFirePart.hasNext();) {                \r\n                FireParticle fireParticle = iteratorFirePart.next(); \r\n                fireParticle.particlesUpdate();\r\n                \r\n                if (!fireParticle.isAlive()){\r\n                    iteratorFirePart.remove();\r\n                    continue; \r\n                }\r\n                \r\n                fireParticle.render(graphicsContext);\r\n            }        \r\n        }\r\n    };\r\n\r\n    animationTimer.start();\r\n\r\n**Important**: the above code is indicative only.  I make no assertion it will exhibit the behaviour you wish.  It is untested and won&#39;t work stand-alone, I didn&#39;t even try to compile it.  Without the requested minimal example, that is the best that can be provided.\r\n","title":"Why is the animation not showing and is slowing down the rest?","body":"<p>You are creating a new canvas for each animation frame, rather than reusing an existing one.</p>\n<ol>\n<li>You take a <code>Pane</code> and you add a new <code>Canvas</code> to it.</li>\n<li>You do this an <code>AnimationTimer</code> <code>handle</code> method.</li>\n<li>The timer method is called each pulse.</li>\n<li>Be default, JavaFX generates a pulse sixty times a second.</li>\n<li>In one second, your pane will contain sixty canvases.</li>\n<li>In a minute there will be 3600 canvases.</li>\n<li>In a day there will be five million one hundred and eighty four thousand canvases.</li>\n<li>At some point before that, something is going to slow down and break.</li>\n</ol>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>How would I make the canvas stop being created so many times? I can't figure it out.</p>\n</blockquote>\n<ol>\n<li>Remove the lines which create a canvas and add it to the scene graph from the animation timer <code>handle</code> method.</li>\n<li>Create the canvas and add it to the scene graph (e.g. a pane) only once, outside of the <code>handle</code> method.</li>\n<li>Store a reference to the canvas and access the reference in the <code>handle</code> method.</li>\n</ol>\n<p>You likely have other issues in code not shown, so don't expect a simple fix as outlined above to just make your application work as you expect.</p>\n<p>Perhaps something roughly like this:</p>\n<pre><code>final int W = 200;\nfinal in  H = 200;\nList&lt;FireParticle&gt; fireParticles = createFireParticles(W, H);\n\nCanvas canvas = new Canvas (W, H); \nanimatedBackground.getChildren().add(canvas); \n\nAnimationTimer animationTimer = new AnimationTimer() {\n    @Override\n    public void handle (long now){   \n        GraphicsContext2D graphicsContext = canvas.getGraphicsContext2D(); \n        graphicsContext.clearRect(0, 0, W, H);\n\n        if (fireParticles.isEmpty()) {\n            this.stop();\n            animatedBackground.getChildren().remove(canvas); \n            return;\n        }\n     \n        for (Iterator&lt;FireParticle&gt; iteratorFirePart = fireParticles.iterator(); iteratorFirePart.hasNext();) {                \n            FireParticle fireParticle = iteratorFirePart.next(); \n            fireParticle.particlesUpdate();\n            \n            if (!fireParticle.isAlive()){\n                iteratorFirePart.remove();\n                continue; \n            }\n            \n            fireParticle.render(graphicsContext);\n        }        \n    }\n};\n\nanimationTimer.start();\n</code></pre>\n<p><strong>Important</strong>: the above code is indicative only.  I make no assertion it will exhibit the behaviour you wish.  It is untested and won't work stand-alone, I didn't even try to compile it.  Without the requested minimal example, that is the best that can be provided.</p>\n"}],"owner":{"account_id":27105889,"reputation":1,"user_id":20651727,"display_name":"lola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669938244,"creation_date":1669863452,"question_id":74636491,"body_markdown":"The animation isn&#39;t showing on the Pane background and it slows down the other animation already present. I pass on the Pane background as a parameter so I don&#39;t know maybe that is the cause but I have other methods doing that and it&#39;s not causing any problems.\r\n\r\n```\r\npublic static void fireAnimation(Pane animatedBackground) {\r\n        \r\n        \r\n        AnimationTimer animationTimer = new AnimationTimer(){\r\n            @Override\r\n            public void handle (long now){\r\n                \r\n                listFireParticles.addAll(addFireParticles(200,200));\r\n                for(Iterator&lt;FireParticles&gt; iteratorFirePart = listFireParticles.iterator(); iteratorFirePart.hasNext();){\r\n                    \r\n                    FireParticles fireParticle = iteratorFirePart.next(); \r\n                    fireParticle.particlesUpdate();\r\n                    \r\n                    if(!fireParticle.isAlive()){\r\n                        iteratorFirePart.remove();\r\n                        continue; \r\n                    }\r\n                    \r\n                    fireParticle.render(graphicsContext);\r\n                }\r\n                \r\n                Canvas canvas = new Canvas (400, 400); \r\n                graphicsContext = canvas.getGraphicsContext2D(); \r\n                animatedBackground.getChildren().add(canvas); \r\n            }\r\n        };\r\n        animationTimer.start();\r\n                System.out.println(&quot;ANIMATION&quot;);\r\n        }\r\n    \r\n```\r\n","title":"Why is the animation not showing and is slowing down the rest?","body":"<p>The animation isn't showing on the Pane background and it slows down the other animation already present. I pass on the Pane background as a parameter so I don't know maybe that is the cause but I have other methods doing that and it's not causing any problems.</p>\n<pre><code>public static void fireAnimation(Pane animatedBackground) {\n        \n        \n        AnimationTimer animationTimer = new AnimationTimer(){\n            @Override\n            public void handle (long now){\n                \n                listFireParticles.addAll(addFireParticles(200,200));\n                for(Iterator&lt;FireParticles&gt; iteratorFirePart = listFireParticles.iterator(); iteratorFirePart.hasNext();){\n                    \n                    FireParticles fireParticle = iteratorFirePart.next(); \n                    fireParticle.particlesUpdate();\n                    \n                    if(!fireParticle.isAlive()){\n                        iteratorFirePart.remove();\n                        continue; \n                    }\n                    \n                    fireParticle.render(graphicsContext);\n                }\n                \n                Canvas canvas = new Canvas (400, 400); \n                graphicsContext = canvas.getGraphicsContext2D(); \n                animatedBackground.getChildren().add(canvas); \n            }\n        };\n        animationTimer.start();\n                System.out.println(&quot;ANIMATION&quot;);\n        }\n    \n</code></pre>\n"},{"tags":["java","multithreading","synchronized"],"comments":[{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":1,"creation_date":1669788984,"post_id":74622895,"comment_id":131720072,"body_markdown":"why do you want to do this? \nsynchronization block is for accessing shared resources. i dont see any shared resources there. You can create an arraylist or deque as the shared resources, and have a producer push ping message into deque but block the producer from pushing if ping is still there. And have  consumer consume the ping by printing pong. And also block the consumer from consuming if deque is empty","body":"why do you want to do this?  synchronization block is for accessing shared resources. i dont see any shared resources there. You can create an arraylist or deque as the shared resources, and have a producer push ping message into deque but block the producer from pushing if ping is still there. And have  consumer consume the ping by printing pong. And also block the consumer from consuming if deque is empty"}],"answers":[{"comments":[{"owner":{"account_id":26783267,"reputation":1,"user_id":20377813,"display_name":"Sungjoon Ha"},"score":0,"creation_date":1669794645,"post_id":74623633,"comment_id":131721483,"body_markdown":"Thank you so much for you help!\n\nIs there another way of doing that  using looping the thread? (for looping two threads.)","body":"Thank you so much for you help!  Is there another way of doing that  using looping the thread? (for looping two threads.)"}],"tags":[],"owner":{"account_id":22652510,"reputation":1,"user_id":16826913,"display_name":"vic cao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669789607,"creation_date":1669789539,"answer_id":74623633,"question_id":74622895,"body_markdown":"- you can change code like this,Each thread control itself loop\r\n- must execute notifyAll() first and then execute wait()\r\n- if there are 3 Threads，need to control by a global variable \r\n```\r\npublic class SynchronizedTest {\r\n    public void ping(int count) throws InterruptedException {\r\n        synchronized (this) {\r\n            for (int i = 0; i &lt;count ; i++) {\r\n                System.out.println(&quot;ping&quot;);\r\n                notifyAll();//\r\n                wait();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void pong(int count) throws InterruptedException {\r\n        synchronized (this) {\r\n            for (int i = 0; i &lt;count ; i++) {\r\n                System.out.println(&quot;pong&quot;);\r\n                notifyAll();\r\n                wait();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        SynchronizedTest aa = new SynchronizedTest();\r\n        Thread thread1 = new Thread(() -&gt; {\r\n            try {\r\n                aa.ping(5);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\n        Thread thread2 = new Thread(() -&gt; {\r\n            try {\r\n                aa.pong(5);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n        thread1.start();\r\n        thread2.start();\r\n    }\r\n}\r\n\r\n```","title":"How can I use synchronized block well?","body":"<ul>\n<li>you can change code like this,Each thread control itself loop</li>\n<li>must execute notifyAll() first and then execute wait()</li>\n<li>if there are 3 Threads，need to control by a global variable</li>\n</ul>\n<pre><code>public class SynchronizedTest {\n    public void ping(int count) throws InterruptedException {\n        synchronized (this) {\n            for (int i = 0; i &lt;count ; i++) {\n                System.out.println(&quot;ping&quot;);\n                notifyAll();//\n                wait();\n            }\n        }\n    }\n\n    public void pong(int count) throws InterruptedException {\n        synchronized (this) {\n            for (int i = 0; i &lt;count ; i++) {\n                System.out.println(&quot;pong&quot;);\n                notifyAll();\n                wait();\n            }\n        }\n    }\n\n\n    public static void main(String[] args) throws InterruptedException {\n        SynchronizedTest aa = new SynchronizedTest();\n        Thread thread1 = new Thread(() -&gt; {\n            try {\n                aa.ping(5);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n\n        Thread thread2 = new Thread(() -&gt; {\n            try {\n                aa.pong(5);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        thread1.start();\n        thread2.start();\n    }\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669833525,"post_id":74632076,"comment_id":131735310,"body_markdown":"Very well written! While it answers the question, it may be useful to add a point about the Executor framework.","body":"Very well written! While it answers the question, it may be useful to add a point about the Executor framework."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1669839131,"post_id":74632076,"comment_id":131737043,"body_markdown":"I don&#39;t think that the Executors are really necessary here @ArvindKumarAvinash because there are only 2 threads.","body":"I don&#39;t think that the Executors are really necessary here @ArvindKumarAvinash because there are only 2 threads."}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669839775,"creation_date":1669830503,"answer_id":74632076,"question_id":74622895,"body_markdown":"&gt; The problem is that it stops after print ping pong once.\r\n\r\nI really dislike these sorts of academic questions.  Having two threads lock-step with each other is exactly what you don&#39;t want to do with threads which are designed to run asynchronously and coordinate less often.\r\n\r\nThere are a number of things wrong with your code:\r\n- Each call to the `forloop()` method creates a new instance of `AA`.  Since you call it in each thread, each thread will be locking and waiting on _different_ instances of `AA` so they won&#39;t see the other thread&#39;s `notifyAll()` and will always deadlock.  You need to create one `AA` and pass the same instance to both forloops.\r\n- You need to call `notifyAll()` _before_ `wait()` in both cases otherwise the ping thread might wait _before_ waking up the pong thread causing a deadlock.\r\n- There is no guarantees that the initial ping will run before pong.  This is hard to solve right.  One (ugly) solution would be a `boolean firstPrinted` field in AA and have it set to `true` after the `println(...)` and have pong do something like this:\r\n\r\n\t\tsynchronized (this) {\r\n\t\t\twhile (!first) {\r\n\t\t\t\twait();\r\n\t\t\t}\r\n\t\t}\r\n- Once one of the threads finishes after the 5 iterations, the other thread will still be waiting so will never exit.  You need to somehow skip the last wait.  One option here is to add a call to `aa.oneMoreNotify()` after the for 1 to 5 loop finishes:\r\n\r\n\t\tpublic void oneMoreNotify() {\r\n\t\t\tsynchronized (this) {\r\n\t\t\t\tnotifyAll();\r\n\t\t\t}\r\n\t\t}\r\n\r\nCouple other comments:\r\n\r\n- `thread.setPriority(...)` really does very little unless you have very CPU bound computational loops.  These should be removed.\r\n-  When you `catch (InterruptedException e)` you should immediately call `Thread.currentThread().interrupt()` as a good pattern.\r\n- Passing in `String target` as opposed to a `boolean` is a strange pattern.  Maybe your real code uses target otherwise.\r\n- You might consider passing in the message to be printed as an argument to the forloop.  Then the ping and the pong can call the same method.  Then the first wait logic should happen when `message.equals(&quot;pong&quot;)`.\r\n- The `Thread` field in `AA` is not used and will confuse.\r\n","title":"How can I use synchronized block well?","body":"<blockquote>\n<p>The problem is that it stops after print ping pong once.</p>\n</blockquote>\n<p>I really dislike these sorts of academic questions.  Having two threads lock-step with each other is exactly what you don't want to do with threads which are designed to run asynchronously and coordinate less often.</p>\n<p>There are a number of things wrong with your code:</p>\n<ul>\n<li><p>Each call to the <code>forloop()</code> method creates a new instance of <code>AA</code>.  Since you call it in each thread, each thread will be locking and waiting on <em>different</em> instances of <code>AA</code> so they won't see the other thread's <code>notifyAll()</code> and will always deadlock.  You need to create one <code>AA</code> and pass the same instance to both forloops.</p>\n</li>\n<li><p>You need to call <code>notifyAll()</code> <em>before</em> <code>wait()</code> in both cases otherwise the ping thread might wait <em>before</em> waking up the pong thread causing a deadlock.</p>\n</li>\n<li><p>There is no guarantees that the initial ping will run before pong.  This is hard to solve right.  One (ugly) solution would be a <code>boolean firstPrinted</code> field in AA and have it set to <code>true</code> after the <code>println(...)</code> and have pong do something like this:</p>\n<pre><code>  synchronized (this) {\n      while (!first) {\n          wait();\n      }\n  }\n</code></pre>\n</li>\n<li><p>Once one of the threads finishes after the 5 iterations, the other thread will still be waiting so will never exit.  You need to somehow skip the last wait.  One option here is to add a call to <code>aa.oneMoreNotify()</code> after the for 1 to 5 loop finishes:</p>\n<pre><code>  public void oneMoreNotify() {\n      synchronized (this) {\n          notifyAll();\n      }\n  }\n</code></pre>\n</li>\n</ul>\n<p>Couple other comments:</p>\n<ul>\n<li><code>thread.setPriority(...)</code> really does very little unless you have very CPU bound computational loops.  These should be removed.</li>\n<li>When you <code>catch (InterruptedException e)</code> you should immediately call <code>Thread.currentThread().interrupt()</code> as a good pattern.</li>\n<li>Passing in <code>String target</code> as opposed to a <code>boolean</code> is a strange pattern.  Maybe your real code uses target otherwise.</li>\n<li>You might consider passing in the message to be printed as an argument to the forloop.  Then the ping and the pong can call the same method.  Then the first wait logic should happen when <code>message.equals(&quot;pong&quot;)</code>.</li>\n<li>The <code>Thread</code> field in <code>AA</code> is not used and will confuse.</li>\n</ul>\n"}],"owner":{"account_id":26783267,"reputation":1,"user_id":20377813,"display_name":"Sungjoon Ha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669937749,"creation_date":1669782430,"question_id":74622895,"body_markdown":"I want to print &quot;ping&quot; &quot;pong&quot;, which are in same class but different method, 5 times using synchronized block.\r\n\r\nThe problem is that it stops after print ping pong once. \r\n\r\nHow can I print ping pong 5 times?\r\n\r\nI think I put notifyAll() and wait() in right place. \r\n\r\nprint result \r\n\r\n```\r\nping\r\npong\r\n```\r\n\r\n\r\nhere is my main class\r\n```\r\npublic class ThreadTest2 {\r\n\r\n    public static void main(String[] args) throws {\r\n        Thread thread1 = new Thread(() -&gt; {\r\n            forLoop(&quot;a&quot;);\r\n        });\r\n        Thread thread2 = new Thread(() -&gt; {\r\n            forLoop(null);\r\n        });\r\n\r\n        thread1.setPriority(10);\r\n        thread2.setPriority(1);\r\n        thread1.start();\r\n        thread2.start();\r\n    }\r\n\r\n    static void forLoop(String target) {\r\n        AA aa = new AA();\r\n        try {\r\n            for(int i=0; i&lt;5; i++){\r\n                if(target != null){\r\n                    aa.ping();\r\n                }\r\n                else{\r\n                    aa.pong();\r\n                }\r\n            }\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nhere is my ping pong class\r\n\r\n```\r\npublic class AA {\r\n\r\n    Thread thread;\r\n    public void ping() throws InterruptedException {\r\n        synchronized (this) {\r\n            System.out.println(&quot;ping&quot;);\r\n            wait();   \r\n            notifyAll();     \r\n        }\r\n    }\r\n\r\n    public void pong() throws InterruptedException {\r\n        synchronized (this) {\r\n                System.out.println(&quot;pong&quot;);\r\n                notifyAll();\r\n                wait();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThank you!\r\n\r\n\r\n```\r\nping\r\npong\r\nping\r\npong\r\nping\r\npong\r\nping\r\npong\r\nping\r\npong\r\n```\r\n","title":"How can I use synchronized block well?","body":"<p>I want to print &quot;ping&quot; &quot;pong&quot;, which are in same class but different method, 5 times using synchronized block.</p>\n<p>The problem is that it stops after print ping pong once.</p>\n<p>How can I print ping pong 5 times?</p>\n<p>I think I put notifyAll() and wait() in right place.</p>\n<p>print result</p>\n<pre><code>ping\npong\n</code></pre>\n<p>here is my main class</p>\n<pre><code>public class ThreadTest2 {\n\n    public static void main(String[] args) throws {\n        Thread thread1 = new Thread(() -&gt; {\n            forLoop(&quot;a&quot;);\n        });\n        Thread thread2 = new Thread(() -&gt; {\n            forLoop(null);\n        });\n\n        thread1.setPriority(10);\n        thread2.setPriority(1);\n        thread1.start();\n        thread2.start();\n    }\n\n    static void forLoop(String target) {\n        AA aa = new AA();\n        try {\n            for(int i=0; i&lt;5; i++){\n                if(target != null){\n                    aa.ping();\n                }\n                else{\n                    aa.pong();\n                }\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>here is my ping pong class</p>\n<pre><code>public class AA {\n\n    Thread thread;\n    public void ping() throws InterruptedException {\n        synchronized (this) {\n            System.out.println(&quot;ping&quot;);\n            wait();   \n            notifyAll();     \n        }\n    }\n\n    public void pong() throws InterruptedException {\n        synchronized (this) {\n                System.out.println(&quot;pong&quot;);\n                notifyAll();\n                wait();\n        }\n    }\n}\n</code></pre>\n<p>Thank you!</p>\n<pre><code>ping\npong\nping\npong\nping\npong\nping\npong\nping\npong\n</code></pre>\n"},{"tags":["java","spring-boot-test","mapstruct"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1604573885,"post_id":64695709,"comment_id":114390281,"body_markdown":"Because you are using `@SpringBootTest` wrong. That is for spring boot integration tests, you want to test your service then don&#39;t use `@SpringBootTest` for that.","body":"Because you are using <code>@SpringBootTest</code> wrong. That is for spring boot integration tests, you want to test your service then don&#39;t use <code>@SpringBootTest</code> for that."},{"owner":{"account_id":7071311,"reputation":1135,"user_id":5412820,"accept_rate":78,"display_name":"tillias"},"score":0,"creation_date":1604574097,"post_id":64695709,"comment_id":114390390,"body_markdown":"Sorry, that doesn&#39;t answer my question","body":"Sorry, that doesn&#39;t answer my question"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1604578700,"post_id":64695709,"comment_id":114392368,"body_markdown":"As stated you are using the wrong tool for the job or you are using the tool wrong in this case. You either write a full integration test (and then remove the `classes` part) OR you write a simple unit test for your service and manually inject the mapper by obtaining it from MapStruct itself.","body":"As stated you are using the wrong tool for the job or you are using the tool wrong in this case. You either write a full integration test (and then remove the <code>classes</code> part) OR you write a simple unit test for your service and manually inject the mapper by obtaining it from MapStruct itself."},{"owner":{"account_id":7071311,"reputation":1135,"user_id":5412820,"accept_rate":78,"display_name":"tillias"},"score":0,"creation_date":1604582788,"post_id":64695709,"comment_id":114394280,"body_markdown":"Sorry, just wanted to point out that your comments are off topic in this question. If you want to discuss ideology, how to write integration tests, I will be happy to do so outside of this question. Mods, please cleanup","body":"Sorry, just wanted to point out that your comments are off topic in this question. If you want to discuss ideology, how to write integration tests, I will be happy to do so outside of this question. Mods, please cleanup"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1604583044,"post_id":64695709,"comment_id":114394396,"body_markdown":"It isn&#39;t about ideologie it is about using the wrong tool for your test, which is what I&#39;m trying to explain.","body":"It isn&#39;t about ideologie it is about using the wrong tool for your test, which is what I&#39;m trying to explain."},{"owner":{"account_id":7071311,"reputation":1135,"user_id":5412820,"accept_rate":78,"display_name":"tillias"},"score":0,"creation_date":1604583115,"post_id":64695709,"comment_id":114394435,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/224152/discussion-between-tillias-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/224152/discussion-between-tillias-and-m-deinum\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":7071311,"reputation":1135,"user_id":5412820,"accept_rate":78,"display_name":"tillias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604649269,"creation_date":1604593062,"answer_id":64701118,"question_id":64695709,"body_markdown":"Create following configuration (should point where mappers are):\r\n\r\n    @TestConfiguration\r\n    @ComponentScan(&quot;some.package.mapper&quot;)\r\n    public class MappersConfig {\r\n    }\r\n\r\nAnd modify slice:\r\n\r\n    @SpringBootTest(classes = {SomeService.class, MappersConfig.class})\r\n    class SomeServiceTest {","title":"@SpringBootTest with MapStruct requires Impl","body":"<p>Create following configuration (should point where mappers are):</p>\n<pre><code>@TestConfiguration\n@ComponentScan(&quot;some.package.mapper&quot;)\npublic class MappersConfig {\n}\n</code></pre>\n<p>And modify slice:</p>\n<pre><code>@SpringBootTest(classes = {SomeService.class, MappersConfig.class})\nclass SomeServiceTest {\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7071311,"reputation":1135,"user_id":5412820,"accept_rate":78,"display_name":"tillias"},"score":0,"creation_date":1604649135,"post_id":64710670,"comment_id":114416570,"body_markdown":"Thanks, that is what I posted earlier.  Can you please copy my code sample in the 2nd option and I&#39;ll mark this as answer?","body":"Thanks, that is what I posted earlier.  Can you please copy my code sample in the 2nd option and I&#39;ll mark this as answer?"}],"tags":[],"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1604677533,"creation_date":1604648901,"answer_id":64710670,"question_id":64695709,"body_markdown":"The problem actually has nothing to do with MapStruct, but rather to how `SpringBootTest#classes` is used.\r\n\r\nThe `classes` in `SpringBootTest` is meant to provide your components that should be used to load in the test.\r\n\r\nFrom the JavaDoc:\r\n\r\n&gt;The component classes to use for loading an `ApplicationContext`. Can also be specified using `@ContextConfiguration(classes=...)`. If no explicit classes are defined the test will look for nested `@Configuration` classes, before falling back to a `@SpringBootConfiguration` search.\r\nReturns:\r\nthe component classes used to load the application context\r\n\r\n\r\nIn your case you have 2 classes:\r\n\r\n* `SomeService` - which I assume is a class annotated with `@Service` and Spring will correctly load it\r\n* `DtoMapper` - this is the MapStruct mapper which is an interface and it isn&#39;t a component. The component which you want for your tests is `DtoMapperImpl`\r\n\r\nYou have several options to fix this:\r\n\r\n## Use the Impl class\r\n\r\nYou can use the `DtoMapperImpl` (the Spring Component class) in your `SpringBootTest#classes`, your test will then load the correct component\r\n\r\n## Use a custom configuration class that will component scan your mappers\r\n\r\n```\r\n@TestConfiguration\r\n@ComponentScan(&quot;com.example.mapper&quot;)\r\npublic class MappersConfig {\r\n\r\n}\r\n```\r\n\r\nAnd then use this in your `SpringBootTest#classes`. E.g.\r\n\r\n```\r\n@SpringBootTest(classes = {SomeService.class, MappersConfig.class})\r\nclass SomeServiceTest {\r\n   ...\r\n}\r\n```","title":"@SpringBootTest with MapStruct requires Impl","body":"<p>The problem actually has nothing to do with MapStruct, but rather to how <code>SpringBootTest#classes</code> is used.</p>\n<p>The <code>classes</code> in <code>SpringBootTest</code> is meant to provide your components that should be used to load in the test.</p>\n<p>From the JavaDoc:</p>\n<blockquote>\n<p>The component classes to use for loading an <code>ApplicationContext</code>. Can also be specified using <code>@ContextConfiguration(classes=...)</code>. If no explicit classes are defined the test will look for nested <code>@Configuration</code> classes, before falling back to a <code>@SpringBootConfiguration</code> search.\nReturns:\nthe component classes used to load the application context</p>\n</blockquote>\n<p>In your case you have 2 classes:</p>\n<ul>\n<li><code>SomeService</code> - which I assume is a class annotated with <code>@Service</code> and Spring will correctly load it</li>\n<li><code>DtoMapper</code> - this is the MapStruct mapper which is an interface and it isn't a component. The component which you want for your tests is <code>DtoMapperImpl</code></li>\n</ul>\n<p>You have several options to fix this:</p>\n<h2>Use the Impl class</h2>\n<p>You can use the <code>DtoMapperImpl</code> (the Spring Component class) in your <code>SpringBootTest#classes</code>, your test will then load the correct component</p>\n<h2>Use a custom configuration class that will component scan your mappers</h2>\n<pre><code>@TestConfiguration\n@ComponentScan(&quot;com.example.mapper&quot;)\npublic class MappersConfig {\n\n}\n</code></pre>\n<p>And then use this in your <code>SpringBootTest#classes</code>. E.g.</p>\n<pre><code>@SpringBootTest(classes = {SomeService.class, MappersConfig.class})\nclass SomeServiceTest {\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669936890,"creation_date":1669935915,"answer_id":74649118,"question_id":64695709,"body_markdown":"I would suggest a little improvement for accepted answer so that you don&#39;t have to write package name as hard-coded string, but use ComponentScan basePackageClasses instead:\r\n\r\n    @TestConfiguration\r\n    // @ComponentScan(&quot;some.package.mapper&quot;)\r\n    @ComponentScan(basePackageClasses = DtoMapper.class)\r\n    public class MappersConfig {\r\n    }\r\n\r\nBut there is an obvious drawback in this (as well as accepted answer) approach: the whole package will be scanned which may contain undesired classes.","title":"@SpringBootTest with MapStruct requires Impl","body":"<p>I would suggest a little improvement for accepted answer so that you don't have to write package name as hard-coded string, but use ComponentScan basePackageClasses instead:</p>\n<pre><code>@TestConfiguration\n// @ComponentScan(&quot;some.package.mapper&quot;)\n@ComponentScan(basePackageClasses = DtoMapper.class)\npublic class MappersConfig {\n}\n</code></pre>\n<p>But there is an obvious drawback in this (as well as accepted answer) approach: the whole package will be scanned which may contain undesired classes.</p>\n"}],"owner":{"account_id":7071311,"reputation":1135,"user_id":5412820,"accept_rate":78,"display_name":"tillias"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2760,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64710670,"answer_count":3,"score":2,"last_activity_date":1669936890,"creation_date":1604573596,"question_id":64695709,"body_markdown":"I have following test:\r\n\r\n    @SpringBootTest(classes = {SomeService.class, DtoMapperImpl.class})\r\n    class SomeServiceTest {\r\n\r\nAnd following mapper:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface DtoMapper {\r\n        EntityDto toDto(Entity entity);\r\n    }\r\n\r\nI&#39;m not changing packages (this means **DtoMapperImpl** is in the same package as **DtoMapper**)\r\n\r\nAs soon as I change Impl to interface my test fails:\r\n\r\n    @SpringBootTest(classes = {SomeService.class, DtoMapper.class})\r\n    class SomeServiceTest {\r\n\r\n&gt; Caused by:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;someService&#39;: Unsatisfied dependency\r\n&gt; expressed through constructor parameter 2; nested exception is\r\n&gt; org.springframework.beans.factory.NoSuchBeanDefinitionException: No\r\n&gt; qualifying bean of type &#39;DtoMapper&#39; available: expected at least 1\r\n&gt; bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nCan you please advise best way solving this? I&#39;m on MapStruct 1.3.1.Final","title":"@SpringBootTest with MapStruct requires Impl","body":"<p>I have following test:</p>\n<pre><code>@SpringBootTest(classes = {SomeService.class, DtoMapperImpl.class})\nclass SomeServiceTest {\n</code></pre>\n<p>And following mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface DtoMapper {\n    EntityDto toDto(Entity entity);\n}\n</code></pre>\n<p>I'm not changing packages (this means <strong>DtoMapperImpl</strong> is in the same package as <strong>DtoMapper</strong>)</p>\n<p>As soon as I change Impl to interface my test fails:</p>\n<pre><code>@SpringBootTest(classes = {SomeService.class, DtoMapper.class})\nclass SomeServiceTest {\n</code></pre>\n<blockquote>\n<p>Caused by:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'someService': Unsatisfied dependency\nexpressed through constructor parameter 2; nested exception is\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No\nqualifying bean of type 'DtoMapper' available: expected at least 1\nbean which qualifies as autowire candidate. Dependency annotations: {}</p>\n</blockquote>\n<p>Can you please advise best way solving this? I'm on MapStruct 1.3.1.Final</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":4,"creation_date":1669926253,"post_id":74647704,"comment_id":131760129,"body_markdown":"I couldn&#39;t understand your question.","body":"I couldn&#39;t understand your question."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1669926675,"post_id":74647704,"comment_id":131760232,"body_markdown":"I  general you should not cut and paste.  When you find common code, factor it out into its own method. But your switch statement is not a good way to do what you are doing in any case.","body":"I  general you should not cut and paste.  When you find common code, factor it out into its own method. But your switch statement is not a good way to do what you are doing in any case."},{"owner":{"account_id":27014594,"reputation":23,"user_id":20573680,"display_name":"negbi2"},"score":0,"creation_date":1669927409,"post_id":74647704,"comment_id":131760438,"body_markdown":"i ended up copy pasting my code.\nthough it generaly bad practice creating a function and calling it would just be creating more code.\n\nswpalmer you said that there is a better way to do this, can you please tell me","body":"i ended up copy pasting my code. though it generaly bad practice creating a function and calling it would just be creating more code.  swpalmer you said that there is a better way to do this, can you please tell me"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669927784,"creation_date":1669927784,"answer_id":74648013,"question_id":74647704,"body_markdown":"You cannot revert back to default - and you do not have to.\r\n\r\nIf inside a case you detect that the field is already used, just print a message `field already occupied`, then use `break` to end the case. It is different from the user issuing an unforeseen command where your default case will print `that is not a valid option`. And therefore no cut&amp;paste.","title":"Is there a way to refer back to default in a swich case?","body":"<p>You cannot revert back to default - and you do not have to.</p>\n<p>If inside a case you detect that the field is already used, just print a message <code>field already occupied</code>, then use <code>break</code> to end the case. It is different from the user issuing an unforeseen command where your default case will print <code>that is not a valid option</code>. And therefore no cut&amp;paste.</p>\n"},{"tags":[],"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669936762,"creation_date":1669936762,"answer_id":74649206,"question_id":74647704,"body_markdown":"This is a bad idea:\r\n```\r\nswitch (x) {\r\n//first row\r\ncase &quot;1,1&quot; -&gt; {\r\n  xCoor = 0;\r\n  yCoor = 0;\r\n    checker = true;\r\n}\r\ncase &quot;1,2&quot; -&gt; {\r\n  xCoor = 0;\r\n  yCoor = 2;\r\n  checker = true;\r\n}...\r\n```\r\n\r\nYou shouldn&#39;t be using a switch statement at all here.\r\nTry something like this:\r\n```\r\nboolean checker = false;\r\nwhile (!checker) {\r\n  x = in.next().trim();\r\n  String [] parts = x.split(&quot;,&quot;);\r\n  try {\r\n    xCoor = (Integer.parseInt(parts[0]) - 1) * 2;\r\n    yCoor = (Integer.parseInt(parts[1]) - 1) * 2;\r\n    checked = (xCoor &gt;= 0 &amp;&amp; xCoor &lt;= 4\r\n            &amp;&amp; yCoor &gt;= 0 &amp;&amp; yCoor &lt;= 4\r\n            &amp;&amp; tickTackToe[yCoor][xCoor].equals(&quot; &quot;));\r\n  } catch(IndexOutOfBoundsException | NumberFormatException ex) {\r\n    // fall through with checked still false\r\n    assert checked == false;\r\n  }\r\n\r\n  if (!checker) {\r\n    System.out.println(&quot;that is not a valid option&quot;);\r\n  }\r\n}","title":"Is there a way to refer back to default in a swich case?","body":"<p>This is a bad idea:</p>\n<pre><code>switch (x) {\n//first row\ncase &quot;1,1&quot; -&gt; {\n  xCoor = 0;\n  yCoor = 0;\n    checker = true;\n}\ncase &quot;1,2&quot; -&gt; {\n  xCoor = 0;\n  yCoor = 2;\n  checker = true;\n}...\n</code></pre>\n<p>You shouldn't be using a switch statement at all here.\nTry something like this:</p>\n<pre><code>boolean checker = false;\nwhile (!checker) {\n  x = in.next().trim();\n  String [] parts = x.split(&quot;,&quot;);\n  try {\n    xCoor = (Integer.parseInt(parts[0]) - 1) * 2;\n    yCoor = (Integer.parseInt(parts[1]) - 1) * 2;\n    checked = (xCoor &gt;= 0 &amp;&amp; xCoor &lt;= 4\n            &amp;&amp; yCoor &gt;= 0 &amp;&amp; yCoor &lt;= 4\n            &amp;&amp; tickTackToe[yCoor][xCoor].equals(&quot; &quot;));\n  } catch(IndexOutOfBoundsException | NumberFormatException ex) {\n    // fall through with checked still false\n    assert checked == false;\n  }\n\n  if (!checker) {\n    System.out.println(&quot;that is not a valid option&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27014594,"reputation":23,"user_id":20573680,"display_name":"negbi2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74648013,"answer_count":2,"score":0,"last_activity_date":1669936762,"creation_date":1669925654,"question_id":74647704,"body_markdown":"I am making a tick tack toe cli game that takes user imput and prints an updated board. One of the features i want it to have is that it can recognise that there already is a character in the slot that you want to put your piece.\r\nright now i have a switch case with the default not changing anything. can i refer back to it or if i should just copy paste it into each case.\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class TickTack {\r\n    String[][] tickTackToe =\r\n                        {{&quot; &quot;,&quot;|&quot;,&quot; &quot;,&quot;|&quot;,&quot; &quot;},\r\n                        {&quot;-&quot;,&quot;-&quot;,&quot;-&quot;,&quot;-&quot;,&quot;-&quot;},\r\n                        {&quot; &quot;,&quot;|&quot;,&quot; &quot;,&quot;|&quot;,&quot; &quot;},\r\n                        {&quot;-&quot;,&quot;-&quot;,&quot;-&quot;,&quot;-&quot;,&quot;-&quot;},\r\n                        {&quot; &quot;,&quot;|&quot;,&quot; &quot;,&quot;|&quot;,&quot; &quot;}};\r\n\r\n    int xCoor = 0, yCoor = 0, counter = 1;\r\n\r\n    //ignore this they do not matter yet\r\n    int rOne = 0,rTwo = 0, rThree = 0;\r\n    int cOne = 0, cTwo = 0, cThree = 0;\r\n    int dOne = 0, dTwo = 0;\r\n    String x = &quot;&quot;;\r\n    Scanner in = new Scanner(System.in);\r\n\r\n\r\n\r\n    public void play() {\r\n        while (!x.equals(&quot;win&quot;)){\r\n            for (int fila = 0; fila &lt; 5; fila++) {\r\n                for (int columna = 0; columna &lt; 5; columna++) {\r\n                    System.out.print(tickTackToe[fila][columna]);\r\n                }\r\n                System.out.println();\r\n            }\r\n            boolean checker = false;\r\n            while (!checker) {\r\n                x = in.next();\r\n                switch (x) {\r\n                    //first row\r\n                    case &quot;1,1&quot; -&gt; {\r\n                        xCoor = 0;\r\n                        yCoor = 0;\r\n                        checker = true;\r\n                    }\r\n                    case &quot;1,2&quot; -&gt; {\r\n                        xCoor = 0;\r\n                        yCoor = 2;\r\n                        checker = true;\r\n                    }\r\n                     case &quot;1,3&quot; -&gt; {\r\n                        xCoor = 0;\r\n                        yCoor = 4;\r\n                        checker = true;\r\n                    }\r\n                    //second row\r\n                    case &quot;2,1&quot; -&gt; {\r\n                        xCoor = 2;\r\n                        yCoor = 0;\r\n                        checker = true;\r\n                    }\r\n                    case &quot;2,2&quot; -&gt; {\r\n                        xCoor = 2;\r\n                        yCoor = 2;\r\n                        checker = true;\r\n                    }\r\n                    case &quot;2,3&quot; -&gt; {\r\n                        xCoor = 2;\r\n                        yCoor = 4;\r\n                        checker = true;\r\n                    }\r\n                    //third row\r\n                    case &quot;3,1&quot; -&gt; {\r\n                        xCoor = 4;\r\n                        yCoor = 0;\r\n                        checker = true;\r\n                    }\r\n                    case &quot;3,2&quot; -&gt; {\r\n                        xCoor = 4;\r\n                        yCoor = 2;\r\n                        checker = true;\r\n                    }\r\n                    case &quot;3,3&quot; -&gt; {\r\n                        xCoor = 4;\r\n                        yCoor = 4;\r\n                        checker = true;\r\n                    }\r\n                    default -&gt; System.out.println(&quot;that is not a valid option&quot;);\r\n                }\r\n            }\r\n\r\n            //check whose turn is it and alocate the piece\r\n            counter ++;\r\n            if (counter % 2 == 0){\r\n                tickTackToe[yCoor][xCoor] = &quot;x&quot;;\r\n            }else{\r\n                tickTackToe[yCoor][xCoor] = &quot;o&quot;;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\ni looked at a bunch of switch statement tutorials(w3 schools, geeks for geeks, javapoint)\r\nbut i didnt find anything","title":"Is there a way to refer back to default in a swich case?","body":"<p>I am making a tick tack toe cli game that takes user imput and prints an updated board. One of the features i want it to have is that it can recognise that there already is a character in the slot that you want to put your piece.\nright now i have a switch case with the default not changing anything. can i refer back to it or if i should just copy paste it into each case.</p>\n<pre><code>import java.util.Scanner;\npublic class TickTack {\n    String[][] tickTackToe =\n                        {{&quot; &quot;,&quot;|&quot;,&quot; &quot;,&quot;|&quot;,&quot; &quot;},\n                        {&quot;-&quot;,&quot;-&quot;,&quot;-&quot;,&quot;-&quot;,&quot;-&quot;},\n                        {&quot; &quot;,&quot;|&quot;,&quot; &quot;,&quot;|&quot;,&quot; &quot;},\n                        {&quot;-&quot;,&quot;-&quot;,&quot;-&quot;,&quot;-&quot;,&quot;-&quot;},\n                        {&quot; &quot;,&quot;|&quot;,&quot; &quot;,&quot;|&quot;,&quot; &quot;}};\n\n    int xCoor = 0, yCoor = 0, counter = 1;\n\n    //ignore this they do not matter yet\n    int rOne = 0,rTwo = 0, rThree = 0;\n    int cOne = 0, cTwo = 0, cThree = 0;\n    int dOne = 0, dTwo = 0;\n    String x = &quot;&quot;;\n    Scanner in = new Scanner(System.in);\n\n\n\n    public void play() {\n        while (!x.equals(&quot;win&quot;)){\n            for (int fila = 0; fila &lt; 5; fila++) {\n                for (int columna = 0; columna &lt; 5; columna++) {\n                    System.out.print(tickTackToe[fila][columna]);\n                }\n                System.out.println();\n            }\n            boolean checker = false;\n            while (!checker) {\n                x = in.next();\n                switch (x) {\n                    //first row\n                    case &quot;1,1&quot; -&gt; {\n                        xCoor = 0;\n                        yCoor = 0;\n                        checker = true;\n                    }\n                    case &quot;1,2&quot; -&gt; {\n                        xCoor = 0;\n                        yCoor = 2;\n                        checker = true;\n                    }\n                     case &quot;1,3&quot; -&gt; {\n                        xCoor = 0;\n                        yCoor = 4;\n                        checker = true;\n                    }\n                    //second row\n                    case &quot;2,1&quot; -&gt; {\n                        xCoor = 2;\n                        yCoor = 0;\n                        checker = true;\n                    }\n                    case &quot;2,2&quot; -&gt; {\n                        xCoor = 2;\n                        yCoor = 2;\n                        checker = true;\n                    }\n                    case &quot;2,3&quot; -&gt; {\n                        xCoor = 2;\n                        yCoor = 4;\n                        checker = true;\n                    }\n                    //third row\n                    case &quot;3,1&quot; -&gt; {\n                        xCoor = 4;\n                        yCoor = 0;\n                        checker = true;\n                    }\n                    case &quot;3,2&quot; -&gt; {\n                        xCoor = 4;\n                        yCoor = 2;\n                        checker = true;\n                    }\n                    case &quot;3,3&quot; -&gt; {\n                        xCoor = 4;\n                        yCoor = 4;\n                        checker = true;\n                    }\n                    default -&gt; System.out.println(&quot;that is not a valid option&quot;);\n                }\n            }\n\n            //check whose turn is it and alocate the piece\n            counter ++;\n            if (counter % 2 == 0){\n                tickTackToe[yCoor][xCoor] = &quot;x&quot;;\n            }else{\n                tickTackToe[yCoor][xCoor] = &quot;o&quot;;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>i looked at a bunch of switch statement tutorials(w3 schools, geeks for geeks, javapoint)\nbut i didnt find anything</p>\n"},{"tags":["java","mongodb","mongodb-atlas"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1594690287,"post_id":62886517,"comment_id":111207148,"body_markdown":"This indicates that the peer closed the connection early. Check the server logs.","body":"This indicates that the peer closed the connection early. Check the server logs."},{"owner":{"account_id":2638471,"reputation":25855,"user_id":2282634,"display_name":"Joe"},"score":0,"creation_date":1594697575,"post_id":62886517,"comment_id":111208621,"body_markdown":"Test the mongo shell with that connection string, and use the  `--verbose` option, that should give you a bit more detail.","body":"Test the mongo shell with that connection string, and use the  <code>--verbose</code> option, that should give you a bit more detail."}],"answers":[{"tags":[],"owner":{"account_id":5144062,"reputation":1973,"user_id":4120518,"display_name":"vizsatiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594701723,"creation_date":1594701723,"answer_id":62888218,"question_id":62886517,"body_markdown":"Its seems that your connection was terminated by the mongo server. It could have multiple reasons and best way to debug is to look at the server logs.\r\n\r\nUsually the following is the issue:\r\n\r\nFrom documentation:\r\n\r\n&gt; For long running applications, it is often prudent to enable\r\n&gt; &quot;keepAlive&quot; with a number of milliseconds. Without it, after some\r\n&gt; period of time you may start to see &quot;connection closed&quot; errors for\r\n&gt; what seems like no reason.\r\n\r\nTry to enable to `keepAlive` property.\r\n\r\n    server: {\r\n            socketOptions: {\r\n                keepAlive: 100,\r\n                connectTimeoutMS: 30000\r\n            }\r\n        }","title":"MongoClientURI connection string throwing error &quot;com.mongodb.MongoSocketReadException: Prematurely reached end of stream&quot;","body":"<p>Its seems that your connection was terminated by the mongo server. It could have multiple reasons and best way to debug is to look at the server logs.</p>\n<p>Usually the following is the issue:</p>\n<p>From documentation:</p>\n<blockquote>\n<p>For long running applications, it is often prudent to enable\n&quot;keepAlive&quot; with a number of milliseconds. Without it, after some\nperiod of time you may start to see &quot;connection closed&quot; errors for\nwhat seems like no reason.</p>\n</blockquote>\n<p>Try to enable to <code>keepAlive</code> property.</p>\n<pre><code>server: {\n        socketOptions: {\n            keepAlive: 100,\n            connectTimeoutMS: 30000\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669936496,"creation_date":1594708407,"answer_id":62889314,"question_id":62886517,"body_markdown":"Try like this:\r\n\r\n    const MongoClient = require(&#39;mongodb&#39;).MongoClient; \r\n\r\n    const dburl = &quot;mongodb+srv://&quot; + user + &quot;:&quot; + pwd + &quot;@cluster0.mff6p.mongodb.net/&quot;\r\n            + dbName + &quot;?retryWrites=true&amp;w=majority&amp;connectTimeoutMS=30000&amp;socketTimeoutMS=30000&quot;;\r\n\r\n    MongoClient.connect(dburl,{useNewUrlParser:true,useUnifiedTopology:true},(err,client) =&gt; {\r\n\r\n                      if(err){\r\n                          console.log(&quot;Error&quot;,err);\r\n                       }\r\n                      else{\r\n                          console.log(&quot;Connected&quot;);\r\n                      }  \r\n    });\r\n","title":"MongoClientURI connection string throwing error &quot;com.mongodb.MongoSocketReadException: Prematurely reached end of stream&quot;","body":"<p>Try like this:</p>\n<pre><code>const MongoClient = require('mongodb').MongoClient; \n\nconst dburl = &quot;mongodb+srv://&quot; + user + &quot;:&quot; + pwd + &quot;@cluster0.mff6p.mongodb.net/&quot;\n        + dbName + &quot;?retryWrites=true&amp;w=majority&amp;connectTimeoutMS=30000&amp;socketTimeoutMS=30000&quot;;\n\nMongoClient.connect(dburl,{useNewUrlParser:true,useUnifiedTopology:true},(err,client) =&gt; {\n\n                  if(err){\n                      console.log(&quot;Error&quot;,err);\n                   }\n                  else{\n                      console.log(&quot;Connected&quot;);\n                  }  \n});\n</code></pre>\n"}],"owner":{"account_id":3694340,"reputation":103,"user_id":5329304,"display_name":"Rachit Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669936496,"creation_date":1594688257,"question_id":62886517,"body_markdown":"    public void MongoDBClient(String user, String pwd, String dbName, String collectionName) {\r\n\t\tMongoClientURI uri = new MongoClientURI(&quot;mongodb+srv://&quot; + user + &quot;:&quot; + pwd + &quot;@cluster0.mff6p.mongodb.net/&quot;\r\n\t\t\t\t+ dbName + &quot;?retryWrites=true&amp;w=majority&amp;connectTimeoutMS=30000&amp;socketTimeoutMS=30000&quot;);\r\n\r\n\t\ttry (MongoClient mongoClient = new MongoClient(uri)) {\r\n\t\t\tMongoDatabase database = mongoClient.getDatabase(dbName);\r\n\t\t\tMongoCollection&lt;Document&gt; collection = database.getCollection(collectionName);\r\n\t\t\tDocument query = new Document(&quot;_id&quot;, new ObjectId(&quot;5f05e46281048f54ac98c455&quot;));\r\n\t\t\tDocument result = collection.find(query).iterator().next();\r\n\t\t\tSystem.out.println(result);\r\n\t\t\tSystem.out.println(&quot;Test3: &quot; + result.getString(&quot;Cluster&quot;));\r\n\t\t}\r\n\t}\r\n\r\nGetting exception in the above code - \r\n\r\n        INFO: Exception in monitor thread while connecting to server cluster0-shard-00-01.mff6p.mongodb.net:27017\r\n    com.mongodb.MongoSocketReadException: Prematurely reached end of stream\r\n    \tat com.mongodb.internal.connection.SocketStream.read(SocketStream.java:112)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:580)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:445)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:299)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:259)\r\n    \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83)\r\n    \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:105)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:62)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:129)\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:117)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nCan anyone help me, i think there is an issue with the connection string url, MongoClientURI... ","title":"MongoClientURI connection string throwing error &quot;com.mongodb.MongoSocketReadException: Prematurely reached end of stream&quot;","body":"<pre><code>public void MongoDBClient(String user, String pwd, String dbName, String collectionName) {\n    MongoClientURI uri = new MongoClientURI(&quot;mongodb+srv://&quot; + user + &quot;:&quot; + pwd + &quot;@cluster0.mff6p.mongodb.net/&quot;\n            + dbName + &quot;?retryWrites=true&amp;w=majority&amp;connectTimeoutMS=30000&amp;socketTimeoutMS=30000&quot;);\n\n    try (MongoClient mongoClient = new MongoClient(uri)) {\n        MongoDatabase database = mongoClient.getDatabase(dbName);\n        MongoCollection&lt;Document&gt; collection = database.getCollection(collectionName);\n        Document query = new Document(&quot;_id&quot;, new ObjectId(&quot;5f05e46281048f54ac98c455&quot;));\n        Document result = collection.find(query).iterator().next();\n        System.out.println(result);\n        System.out.println(&quot;Test3: &quot; + result.getString(&quot;Cluster&quot;));\n    }\n}\n</code></pre>\n<p>Getting exception in the above code -</p>\n<pre><code>    INFO: Exception in monitor thread while connecting to server cluster0-shard-00-01.mff6p.mongodb.net:27017\ncom.mongodb.MongoSocketReadException: Prematurely reached end of stream\n    at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:112)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:580)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:445)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:299)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:259)\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83)\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33)\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:105)\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:62)\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:129)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:117)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Can anyone help me, i think there is an issue with the connection string url, MongoClientURI...</p>\n"},{"tags":["java","spring-boot","collections","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1669936178,"post_id":74649134,"comment_id":131762651,"body_markdown":"Return `ri` from `map()` and then `.collect(Collectors.toList())`.","body":"Return <code>ri</code> from <code>map()</code> and then <code>.collect(Collectors.toList())</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669936573,"post_id":74649134,"comment_id":131762734,"body_markdown":"The code would look nice if you would extract the logic from the `map` into a separate method. Also, if you&#39;re using Java 16+ instead of `collect(Collectors.toList())` you can use terminal operation `toList()`.","body":"The code would look nice if you would extract the logic from the <code>map</code> into a separate method. Also, if you&#39;re using Java 16+ instead of <code>collect(Collectors.toList())</code> you can use terminal operation <code>toList()</code>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669937436,"post_id":74649134,"comment_id":131762879,"body_markdown":"Thanks a lot for both of you. Alexander, what do you mean with separate methods? Could you post an example pls?","body":"Thanks a lot for both of you. Alexander, what do you mean with separate methods? Could you post an example pls?"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669936388,"answer_count":0,"score":0,"last_activity_date":1669936167,"creation_date":1669936024,"question_id":74649134,"body_markdown":"In my Spring Boot app, I am trying to return a list of `RecipeIngredient` as shown below. In this example, I am iterating on `request.getRecipeIngredients()` and at first fing ingredient and its unit. \r\n\r\nThen, I create a RecipeIngredient and set its fields. But after this stage, I need to create a list and return it for using in `recipeIngredientRepository.saveAll()` method. I can also save ri after each iteration, but I am not sure if one of these approaches is ok. \r\n\r\nSo, how should achieve this using a proper approach with Java Stream? \r\n\r\n\r\n\r\n```\r\nList&lt;RecipeIngredient&gt; list = request.getRecipeIngredients().stream()\r\n    .map(recipeIngredient -&gt; {\r\n\r\n        final Ingredient ingredient = ingredientRepo\r\n            .findById(recipeIngredient.getIngredientId())\r\n            .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND));\r\n\r\n        final Unit unit = unitRepo.findById(recipeIngredient.getUnitId())\r\n                .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND));\r\n\r\n        RecipeIngredient ri = new RecipeIngredient();\r\n        ri.setRecipe(recipe);\r\n        ri.setIngredient(ingredient);\r\n        ri.setUnit(unit);\r\n        ri.setAmount(recipeIngredient.getAmount());\r\n\r\n        // return list of ri ???\r\n   });\r\n\r\n\r\nrecipeIngredientRepo.saveAll(list);\r\n```\r\n\r\n\r\n","title":"Java Stream : Returning list of processed elements?","body":"<p>In my Spring Boot app, I am trying to return a list of <code>RecipeIngredient</code> as shown below. In this example, I am iterating on <code>request.getRecipeIngredients()</code> and at first fing ingredient and its unit.</p>\n<p>Then, I create a RecipeIngredient and set its fields. But after this stage, I need to create a list and return it for using in <code>recipeIngredientRepository.saveAll()</code> method. I can also save ri after each iteration, but I am not sure if one of these approaches is ok.</p>\n<p>So, how should achieve this using a proper approach with Java Stream?</p>\n<pre><code>List&lt;RecipeIngredient&gt; list = request.getRecipeIngredients().stream()\n    .map(recipeIngredient -&gt; {\n\n        final Ingredient ingredient = ingredientRepo\n            .findById(recipeIngredient.getIngredientId())\n            .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND));\n\n        final Unit unit = unitRepo.findById(recipeIngredient.getUnitId())\n                .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND));\n\n        RecipeIngredient ri = new RecipeIngredient();\n        ri.setRecipe(recipe);\n        ri.setIngredient(ingredient);\n        ri.setUnit(unit);\n        ri.setAmount(recipeIngredient.getAmount());\n\n        // return list of ri ???\n   });\n\n\nrecipeIngredientRepo.saveAll(list);\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","thread-local"],"comments":[{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":2,"creation_date":1669809273,"post_id":74627328,"comment_id":131726340,"body_markdown":"You *can* create your own thread implementation and keep track of a variable there. This also *requires* you to write your own thread implementation, you have to cast &#39;current thread&#39; to your type, and that&#39;s all. Usually, when you use ThreadLocal, you don&#39;t control the thread, such that you don&#39;t implement or even know what thread implementation is there at runtime. For common libraries the case is that they have to work on any thread using them. Think of containers, your code runs on a given container&#39;s thread.","body":"You <i>can</i> create your own thread implementation and keep track of a variable there. This also <i>requires</i> you to write your own thread implementation, you have to cast &#39;current thread&#39; to your type, and that&#39;s all. Usually, when you use ThreadLocal, you don&#39;t control the thread, such that you don&#39;t implement or even know what thread implementation is there at runtime. For common libraries the case is that they have to work on any thread using them. Think of containers, your code runs on a given container&#39;s thread."},{"owner":{"account_id":26964199,"reputation":71,"user_id":20531364,"display_name":"Ahmed Eid"},"score":0,"creation_date":1669809866,"post_id":74627328,"comment_id":131726539,"body_markdown":"@MJG thanks MJG for you comment, but I didn&#39;t completely get you point. Can you elaborate with an answer and provide a code example.","body":"@MJG thanks MJG for you comment, but I didn&#39;t completely get you point. Can you elaborate with an answer and provide a code example."}],"answers":[{"comments":[{"owner":{"account_id":26964199,"reputation":71,"user_id":20531364,"display_name":"Ahmed Eid"},"score":0,"creation_date":1669814352,"post_id":74627498,"comment_id":131728031,"body_markdown":"Thanks Aviad Shiber for your answer but you still didn&#39;t my question, why didn&#39;t we create the variable inside the thread instead of using ThreadLocal?","body":"Thanks Aviad Shiber for your answer but you still didn&#39;t my question, why didn&#39;t we create the variable inside the thread instead of using ThreadLocal?"},{"owner":{"account_id":26964199,"reputation":71,"user_id":20531364,"display_name":"Ahmed Eid"},"score":0,"creation_date":1669814375,"post_id":74627498,"comment_id":131728041,"body_markdown":"What will we lose if we didn&#39;t use ThreadLocal?","body":"What will we lose if we didn&#39;t use ThreadLocal?"},{"owner":{"account_id":10483107,"reputation":11,"user_id":7727521,"display_name":"Aviad Shiber"},"score":0,"creation_date":1669815166,"post_id":74627498,"comment_id":131728334,"body_markdown":"@Ahmed Eid you mean why it is not just a simple pointer inside the Trie class?\nthat would make the implementation not a thread safe.. two (or more) threads will be able to access the pointer and update the pointer and causing a data corruption, or stale data or any other concurrent issue.\nwith Thread local you just know that each thread does not share a state and it is managed for you by the Trie (not outside by the client thread). \nAnd then is just a question of who keep track of the last node, the client(the thread) or the Trie.","body":"@Ahmed Eid you mean why it is not just a simple pointer inside the Trie class? that would make the implementation not a thread safe.. two (or more) threads will be able to access the pointer and update the pointer and causing a data corruption, or stale data or any other concurrent issue. with Thread local you just know that each thread does not share a state and it is managed for you by the Trie (not outside by the client thread).  And then is just a question of who keep track of the last node, the client(the thread) or the Trie."}],"tags":[],"owner":{"account_id":10483107,"reputation":11,"user_id":7727521,"display_name":"Aviad Shiber"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669810662,"creation_date":1669809821,"answer_id":74627498,"question_id":74627328,"body_markdown":"I think that is just a question of which side is managing the state.\r\nAnd as always , there is no right or wrong, just two ways of doing things.\r\n\r\nwith ThreadLocal you can write an implementation that would look like a program that is not concurrent (simple straightforward serial program).\r\nbehind the scene any thread that will use it will be not be aware of how the implementation looks like.\r\n\r\n[here is example from my github for Trie like data structure][1]\r\n\r\n\r\nI used Thread Local to track for different threads - a pointer for the current node that I last read from, at any given time.\r\n\r\nNow someone can use that Trie with a thread knowing that reading is thread safe.\r\n\r\nI am not saying this is the optimal solution, or that it cannot be written better, just that it is a solution which is possible (which is very easy to write).\r\nIn that specific solution I could make the data structure freeze and outsource the control as an iterator for a thread to manage and keep the track, but then again the client will have to manage the state.\r\nwhich way you prefer is up to the case, and up to you.\r\n\r\n\r\n  [1]: https://github.com/aviadsTraiana/TextClassifier/blob/main/src/main/java/com/mcas/textclassifier/classifier/ds/WordTrie.java#L35","title":"why do we need to use ThreadLocal when we can create the variable inside the thread itself in java?","body":"<p>I think that is just a question of which side is managing the state.\nAnd as always , there is no right or wrong, just two ways of doing things.</p>\n<p>with ThreadLocal you can write an implementation that would look like a program that is not concurrent (simple straightforward serial program).\nbehind the scene any thread that will use it will be not be aware of how the implementation looks like.</p>\n<p><a href=\"https://github.com/aviadsTraiana/TextClassifier/blob/main/src/main/java/com/mcas/textclassifier/classifier/ds/WordTrie.java#L35\" rel=\"nofollow noreferrer\">here is example from my github for Trie like data structure</a></p>\n<p>I used Thread Local to track for different threads - a pointer for the current node that I last read from, at any given time.</p>\n<p>Now someone can use that Trie with a thread knowing that reading is thread safe.</p>\n<p>I am not saying this is the optimal solution, or that it cannot be written better, just that it is a solution which is possible (which is very easy to write).\nIn that specific solution I could make the data structure freeze and outsource the control as an iterator for a thread to manage and keep the track, but then again the client will have to manage the state.\nwhich way you prefer is up to the case, and up to you.</p>\n"},{"comments":[{"owner":{"account_id":26964199,"reputation":71,"user_id":20531364,"display_name":"Ahmed Eid"},"score":0,"creation_date":1669812618,"post_id":74627946,"comment_id":131727409,"body_markdown":"Thanks MJG for your answer, but you still didn&#39;t answer my question, Why don&#39;t I create the variable internally inside the thread instead of using ThreadLocal?","body":"Thanks MJG for your answer, but you still didn&#39;t answer my question, Why don&#39;t I create the variable internally inside the thread instead of using ThreadLocal?"},{"owner":{"account_id":26964199,"reputation":71,"user_id":20531364,"display_name":"Ahmed Eid"},"score":0,"creation_date":1669812647,"post_id":74627946,"comment_id":131727420,"body_markdown":"What will I lose if I don&#39;t use ThreadLocal?","body":"What will I lose if I don&#39;t use ThreadLocal?"},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1669817303,"post_id":74627946,"comment_id":131729111,"body_markdown":"Perhaps some misunderstanding here. ThreadLocal is returning a different object *every time* when accessed on a different thread. A private member of the Thread is *the same* when accessed on different threads. Even your thread itself runs inside another thread. So it is a more relevant question, *what is* ThreadLocal, before asking what could I do instead?","body":"Perhaps some misunderstanding here. ThreadLocal is returning a different object <i>every time</i> when accessed on a different thread. A private member of the Thread is <i>the same</i> when accessed on different threads. Even your thread itself runs inside another thread. So it is a more relevant question, <i>what is</i> ThreadLocal, before asking what could I do instead?"}],"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669812011,"creation_date":1669812011,"answer_id":74627946,"question_id":74627328,"body_markdown":"Showing 2 options, thread local vs thread-save member, both work the same, while none need to know anything of the current-thread.\r\n\r\nTo use the ThreadLocal aproach, we could call from different threads:\r\n```\r\nnew Bffer();\r\nbffer.append1(&quot;Text&quot;);\r\nbffer.getString();\r\n```\r\n\r\nThe same can be done just using a thread-safe member of Bffer:\r\n```\r\nnew Bffer();\r\nbffer.append2(&quot;Text&quot;);\r\nbffer.toString();\r\n```\r\n\r\n```\r\n/**\r\n * Demonstrate String Buffer using ThreadLocal vs StringBuilder.\r\n */\r\npublic class Bffer {\r\n\r\n    // Not thread safe object\r\n    ThreadLocal&lt;StringBuffer&gt; tlBuf =\r\n            ThreadLocal.withInitial(StringBuffer::new);\r\n\r\n    // Thread safe object\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n\r\n    public StringBuffer getTlBuf() {\r\n        return tlBuf.get();\r\n    }\r\n\r\n    // Option 1 use ThreadLocal\r\n    public String getString() {\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    // Option 1 use ThreadLocal\r\n    public void append1(final String s) {\r\n        getTlBuf().append(s);\r\n    }\r\n\r\n    // Option 2 use ThreadLocal\r\n    public String toString() {\r\n        return getTlBuf().toString();\r\n    }\r\n\r\n    // Option 2 use thread safe variable\r\n    public void append2(final String s) {\r\n        stringBuilder.append(s);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote: There is never any need to have access to the running thread&#39;s implementation, as this is usually not recommended for several reasons.\r\nToday, if you need a Thread, you just instantiate a new Thread and give it the runnable to run:\r\n```\r\nnew Thread(()-&gt;{/*implement routine*/});\r\n```","title":"why do we need to use ThreadLocal when we can create the variable inside the thread itself in java?","body":"<p>Showing 2 options, thread local vs thread-save member, both work the same, while none need to know anything of the current-thread.</p>\n<p>To use the ThreadLocal aproach, we could call from different threads:</p>\n<pre><code>new Bffer();\nbffer.append1(&quot;Text&quot;);\nbffer.getString();\n</code></pre>\n<p>The same can be done just using a thread-safe member of Bffer:</p>\n<pre><code>new Bffer();\nbffer.append2(&quot;Text&quot;);\nbffer.toString();\n</code></pre>\n<pre><code>/**\n * Demonstrate String Buffer using ThreadLocal vs StringBuilder.\n */\npublic class Bffer {\n\n    // Not thread safe object\n    ThreadLocal&lt;StringBuffer&gt; tlBuf =\n            ThreadLocal.withInitial(StringBuffer::new);\n\n    // Thread safe object\n    StringBuilder stringBuilder = new StringBuilder();\n\n    public StringBuffer getTlBuf() {\n        return tlBuf.get();\n    }\n\n    // Option 1 use ThreadLocal\n    public String getString() {\n        return stringBuilder.toString();\n    }\n\n    // Option 1 use ThreadLocal\n    public void append1(final String s) {\n        getTlBuf().append(s);\n    }\n\n    // Option 2 use ThreadLocal\n    public String toString() {\n        return getTlBuf().toString();\n    }\n\n    // Option 2 use thread safe variable\n    public void append2(final String s) {\n        stringBuilder.append(s);\n    }\n\n}\n</code></pre>\n<p>Note: There is never any need to have access to the running thread's implementation, as this is usually not recommended for several reasons.\nToday, if you need a Thread, you just instantiate a new Thread and give it the runnable to run:</p>\n<pre><code>new Thread(()-&gt;{/*implement routine*/});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669817472,"creation_date":1669817472,"answer_id":74629164,"question_id":74627328,"body_markdown":"Consider this sketch of a program:\r\n\r\n    class Stuff {\r\n       String x;\r\n       ThreadLocal&lt;String&gt; y;\r\n    }\r\n\r\n    class MyThread extends Thread {\r\n        Stuff stuff;\r\n        MyThread(Stuff s) { stuff = s; }\r\n        ...\r\n    }\r\n\r\n    Stuff stuff = new Stuff();\r\n\r\n    MyThread t1 = new MyThread(stuff);\r\n    t1.start();\r\n    MyThread t2 = new MyThread(stuff);\r\n    t2.start();\r\n\r\nSo we have two running threads sharing a common instance of Stuff.  Within that Stuff, the variable &#39;x&#39; is common to both threads, but each thread has its own instance of &#39;y&#39;.  **That** is the point of ThreadLocal.\r\n\r\nWhy would you want this?  Well, it&#39;s difficult to see in this ginned-up example, but maybe Stuff needs both common state and per-thread state (in Stuff methods I have not shown). You could probably achieve that by splitting Stuff up into two classes, one you&#39;d use per thread, and a common one pointed to by the per thread one.  But this can be more convenient, especially when the ThreadLocal data is somehow necessary for the internal implementation of the common object.\r\n\r\nThreadLocal use is, I&#39;d say, pretty uncommon.  I&#39;m sure I&#39;ve written one once or twice in the past few years, but I can&#39;t remember when. ","title":"why do we need to use ThreadLocal when we can create the variable inside the thread itself in java?","body":"<p>Consider this sketch of a program:</p>\n<pre><code>class Stuff {\n   String x;\n   ThreadLocal&lt;String&gt; y;\n}\n\nclass MyThread extends Thread {\n    Stuff stuff;\n    MyThread(Stuff s) { stuff = s; }\n    ...\n}\n\nStuff stuff = new Stuff();\n\nMyThread t1 = new MyThread(stuff);\nt1.start();\nMyThread t2 = new MyThread(stuff);\nt2.start();\n</code></pre>\n<p>So we have two running threads sharing a common instance of Stuff.  Within that Stuff, the variable 'x' is common to both threads, but each thread has its own instance of 'y'.  <strong>That</strong> is the point of ThreadLocal.</p>\n<p>Why would you want this?  Well, it's difficult to see in this ginned-up example, but maybe Stuff needs both common state and per-thread state (in Stuff methods I have not shown). You could probably achieve that by splitting Stuff up into two classes, one you'd use per thread, and a common one pointed to by the per thread one.  But this can be more convenient, especially when the ThreadLocal data is somehow necessary for the internal implementation of the common object.</p>\n<p>ThreadLocal use is, I'd say, pretty uncommon.  I'm sure I've written one once or twice in the past few years, but I can't remember when.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669818197,"creation_date":1669818197,"answer_id":74629326,"question_id":74627328,"body_markdown":"&gt; I know, we don&#39;t want to use global variables...I also know that ThreadLocal is like a global variable...What is the benefit of using ThreadLocal...?\r\n\r\n**Three words:** Reusing old code.\r\n\r\nSuppose you have some amazing library that implements a magic algorithm. It took a lot of time and effort to create it, and you&#39;d like to re-use it in your multi-threaded program. Only problem is, It was written back in the age of the dinosaurs, it&#39;s full of global variables, and it&#39;ll be a huge pain-in-the-you-know-what to ever create a thread-safe version of it, \\*UNLESS\\*...\r\n\r\n...You turn all of those global variables into `ThreadLocal` variables.\r\n\r\nIf you do that, then each thread in your multi-threaded program can effectively use its own &quot;copy&quot; of the library without interfering with the others. Simple fix. You can probably trust an intern or a new hire fresh out of school to do the work.\r\n\r\n---------------\r\n\r\nIt works better in C++, by the way. In C++, `threadlocal` is a language keyword—a storage attribute. All you have to do is add the keyword to the global variable declarations, and the job is done. You have to do a bit more work in Java because `ThreadLocal` is a class. You not only have to change all of the global `Foobar` declarations into `ThreadLocal&lt;Foobar&gt;`, but then you also have to explicitly create the `ThreadLocal&lt;Foobar&gt;` objects, and you have to hunt down all of the places where the variables are used, and \r\nreplace them with `foobar.get()` and `foobar.set()` calls.","title":"why do we need to use ThreadLocal when we can create the variable inside the thread itself in java?","body":"<blockquote>\n<p>I know, we don't want to use global variables...I also know that ThreadLocal is like a global variable...What is the benefit of using ThreadLocal...?</p>\n</blockquote>\n<p><strong>Three words:</strong> Reusing old code.</p>\n<p>Suppose you have some amazing library that implements a magic algorithm. It took a lot of time and effort to create it, and you'd like to re-use it in your multi-threaded program. Only problem is, It was written back in the age of the dinosaurs, it's full of global variables, and it'll be a huge pain-in-the-you-know-what to ever create a thread-safe version of it, *UNLESS*...</p>\n<p>...You turn all of those global variables into <code>ThreadLocal</code> variables.</p>\n<p>If you do that, then each thread in your multi-threaded program can effectively use its own &quot;copy&quot; of the library without interfering with the others. Simple fix. You can probably trust an intern or a new hire fresh out of school to do the work.</p>\n<hr />\n<p>It works better in C++, by the way. In C++, <code>threadlocal</code> is a language keyword—a storage attribute. All you have to do is add the keyword to the global variable declarations, and the job is done. You have to do a bit more work in Java because <code>ThreadLocal</code> is a class. You not only have to change all of the global <code>Foobar</code> declarations into <code>ThreadLocal&lt;Foobar&gt;</code>, but then you also have to explicitly create the <code>ThreadLocal&lt;Foobar&gt;</code> objects, and you have to hunt down all of the places where the variables are used, and\nreplace them with <code>foobar.get()</code> and <code>foobar.set()</code> calls.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669935997,"creation_date":1669935997,"answer_id":74649131,"question_id":74627328,"body_markdown":"&gt; My `Question` is why don&#39;t we make every thread create its own version of that variable internally?\r\n\r\nYou could.  If these were long running threads then creating an instance of the object in question so it could be used by the thread would be fine.\r\n\r\n&gt; What is the benefit of using ThreadLocal that I can&#39;t achieve with any other mechanism?\r\n\r\nThe common use case is a library which is using some expensive resource.  Multiple threads call into this library but you don&#39;t want to create the expensive resource each time – `SimpleDateFormat` is one example since it is not reentrant.  You want to convert sys-time-millis into a string for logging purposes inside of the library but you don&#39;t want to have to do the date format parsing for each logging call so you parse it once and store it in a `ThreadLocal`.\r\n\r\nAnother example is when you are using a thread-pool to process a large number of lines from a file.  You create 100,000s of `Runnable` jobs and submit them to the thread-pool with 4 threads.  Each job can use a `ThreadLocal` manage the line processing object which is expensive to create so only 4 of these are created, each one of them stored in each of the thread&#39;s `ThreadLocal` storage.\r\n\r\nOne of the problems with `ThreadLocal` variables is that it can be hard to free up the resources from them.  People use [object pools][1] for the same purpose but at the end you can clean up the objects in the pool as opposed to those objects stored in the `ThreadLocal`.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-pool/apidocs/org/apache/commons/pool2/ObjectPool.html","title":"why do we need to use ThreadLocal when we can create the variable inside the thread itself in java?","body":"<blockquote>\n<p>My <code>Question</code> is why don't we make every thread create its own version of that variable internally?</p>\n</blockquote>\n<p>You could.  If these were long running threads then creating an instance of the object in question so it could be used by the thread would be fine.</p>\n<blockquote>\n<p>What is the benefit of using ThreadLocal that I can't achieve with any other mechanism?</p>\n</blockquote>\n<p>The common use case is a library which is using some expensive resource.  Multiple threads call into this library but you don't want to create the expensive resource each time – <code>SimpleDateFormat</code> is one example since it is not reentrant.  You want to convert sys-time-millis into a string for logging purposes inside of the library but you don't want to have to do the date format parsing for each logging call so you parse it once and store it in a <code>ThreadLocal</code>.</p>\n<p>Another example is when you are using a thread-pool to process a large number of lines from a file.  You create 100,000s of <code>Runnable</code> jobs and submit them to the thread-pool with 4 threads.  Each job can use a <code>ThreadLocal</code> manage the line processing object which is expensive to create so only 4 of these are created, each one of them stored in each of the thread's <code>ThreadLocal</code> storage.</p>\n<p>One of the problems with <code>ThreadLocal</code> variables is that it can be hard to free up the resources from them.  People use <a href=\"https://commons.apache.org/proper/commons-pool/apidocs/org/apache/commons/pool2/ObjectPool.html\" rel=\"nofollow noreferrer\">object pools</a> for the same purpose but at the end you can clean up the objects in the pool as opposed to those objects stored in the <code>ThreadLocal</code>.</p>\n"}],"owner":{"account_id":26964199,"reputation":71,"user_id":20531364,"display_name":"Ahmed Eid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1669935997,"creation_date":1669809025,"question_id":74627328,"body_markdown":"I know, we don&#39;t want to use ```global variables``` because then we will need to use ```synchronization``` which will affect the performance.\r\n\r\nI also know that ```ThreadLocal``` is like a ```global variable```, but every ```thread``` will have its version of it, and every ```thread``` can modify its version freely without affecting the other ```threads```.\r\n\r\nMy Question is why don&#39;t we make every ```thread``` create its own version of that variable ```internally```?\r\n\r\nWhat is the benefit of using ```ThreadLocal``` that I can&#39;t achieve with any other mechanism?\r\n\r\nPlease provide a solid example if possible.\r\n\r\n**Note**:- for any one that would suggest I should take a look at [This question][1], the answers in that question don&#39;t answer my question because they don&#39;t say why I can&#39;t replace ```using ThreadLocal``` by creating the variable internally inside the ```thread```.\r\n\r\n[1]: https://stackoverflow.com/questions/817856/when-and-how-should-i-use-a-threadlocal-variable","title":"why do we need to use ThreadLocal when we can create the variable inside the thread itself in java?","body":"<p>I know, we don't want to use <code>global variables</code> because then we will need to use <code>synchronization</code> which will affect the performance.</p>\n<p>I also know that <code>ThreadLocal</code> is like a <code>global variable</code>, but every <code>thread</code> will have its version of it, and every <code>thread</code> can modify its version freely without affecting the other <code>threads</code>.</p>\n<p>My Question is why don't we make every <code>thread</code> create its own version of that variable <code>internally</code>?</p>\n<p>What is the benefit of using <code>ThreadLocal</code> that I can't achieve with any other mechanism?</p>\n<p>Please provide a solid example if possible.</p>\n<p><strong>Note</strong>:- for any one that would suggest I should take a look at <a href=\"https://stackoverflow.com/questions/817856/when-and-how-should-i-use-a-threadlocal-variable\">This question</a>, the answers in that question don't answer my question because they don't say why I can't replace <code>using ThreadLocal</code> by creating the variable internally inside the <code>thread</code>.</p>\n"},{"tags":["java","spring","maven","microservices"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1669936558,"post_id":74649088,"comment_id":131762730,"body_markdown":"`common-parent` doesn&#39;t seem to be referenced as a dependency in the `microservices-parent` pom.xml file you included","body":"<code>common-parent</code> doesn&#39;t seem to be referenced as a dependency in the <code>microservices-parent</code> pom.xml file you included"},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1669958543,"post_id":74649088,"comment_id":131765722,"body_markdown":"yeah, I tried it  but it gives me the first of error in my question... basically it doesn&#39;t find the **common build**","body":"yeah, I tried it  but it gives me the first of error in my question... basically it doesn&#39;t find the <b>common build</b>"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669935640,"creation_date":1669935640,"question_id":74649088,"body_markdown":"I have a project structure as follows:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nI would like to put in **common** modules and classes visible to all **microservices**\r\nso I thought of adding **common** as a dependancy to **microsevices** but I get:\r\n\r\n```\r\n[INFO] gamification ....................................... SUCCESS [  4.178 s]\r\n[INFO] multiplication ..................................... SUCCESS [  2.089 s]\r\n[INFO] microservices ...................................... FAILURE [  0.069 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  6.694 s\r\n[INFO] Finished at: 2022-12-01T23:52:34+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal on project microservices-parent: Could not resolve dependencies for project org.springframework.boot:microservices-parent:pom:0.0.1-SNAPSH\r\nOT: Could not find artifact com.microservices.book:common-parent:jar:0.0.1-SNAPSHOT\r\n```\r\n\r\nAfter some diggin around I found that I can&#39;t link these two projects like that ([so][2]), and that I should probably use local repository... but I have no idea how. I don&#39;t even know how to save maven builds to the *.m2* folder, I&#39;ve tried:\r\n\r\n```\r\n mvn -Dmaven.repo.local=C:\\Users\\pengwin\\.m2\\repository clean install\r\n```\r\n\r\nbut I get:\r\n\r\n```\r\n[ERROR] No plugin found for prefix &#39;.repo.local=C&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repos\r\nitories [local (C:\\Users\\pengwin\\.m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\r\n\r\n```\r\n\r\nHere&#39;s microservices&#39;s pom.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;microservices-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;microservices&lt;/name&gt;\r\n    &lt;description&gt;ms parent module&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;gamification&lt;/module&gt;\r\n        &lt;module&gt;multiplication&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nand here&#39;s common&#39;s pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.microservices.book&lt;/groupId&gt;\r\n    &lt;artifactId&gt;common-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;common&lt;/name&gt;\r\n    &lt;description&gt;common module&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;exceptions&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fO7Kr.png\r\n  [2]: https://stackoverflow.com/questions/37062491/maven-complaining-about-parent-relative-path","title":"pom dependancy between different projects maven","body":"<p>I have a project structure as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/fO7Kr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fO7Kr.png\" alt=\"enter image description here\" /></a></p>\n<p>I would like to put in <strong>common</strong> modules and classes visible to all <strong>microservices</strong>\nso I thought of adding <strong>common</strong> as a dependancy to <strong>microsevices</strong> but I get:</p>\n<pre><code>[INFO] gamification ....................................... SUCCESS [  4.178 s]\n[INFO] multiplication ..................................... SUCCESS [  2.089 s]\n[INFO] microservices ...................................... FAILURE [  0.069 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.694 s\n[INFO] Finished at: 2022-12-01T23:52:34+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project microservices-parent: Could not resolve dependencies for project org.springframework.boot:microservices-parent:pom:0.0.1-SNAPSH\nOT: Could not find artifact com.microservices.book:common-parent:jar:0.0.1-SNAPSHOT\n</code></pre>\n<p>After some diggin around I found that I can't link these two projects like that (<a href=\"https://stackoverflow.com/questions/37062491/maven-complaining-about-parent-relative-path\">so</a>), and that I should probably use local repository... but I have no idea how. I don't even know how to save maven builds to the <em>.m2</em> folder, I've tried:</p>\n<pre><code> mvn -Dmaven.repo.local=C:\\Users\\pengwin\\.m2\\repository clean install\n</code></pre>\n<p>but I get:</p>\n<pre><code>[ERROR] No plugin found for prefix '.repo.local=C' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repos\nitories [local (C:\\Users\\pengwin\\.m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\n\n</code></pre>\n<p>Here's microservices's pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;microservices-parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;microservices&lt;/name&gt;\n    &lt;description&gt;ms parent module&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;gamification&lt;/module&gt;\n        &lt;module&gt;multiplication&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>and here's common's pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.microservices.book&lt;/groupId&gt;\n    &lt;artifactId&gt;common-parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;common&lt;/name&gt;\n    &lt;description&gt;common module&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;exceptions&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","security","policyfiles"],"answers":[{"tags":[],"owner":{"account_id":279562,"reputation":1087,"user_id":574801,"display_name":"Tomasz Krzyżak"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1343074893,"creation_date":1343074893,"answer_id":11619931,"question_id":11619631,"body_markdown":"From what I know there are 2 ways to achieve what you wish:  \r\n1.sing you jars with some certificate and then use:\r\n\r\n    grant signedBy &quot;Duke&quot; {\r\n           permission my.class.Paermission1;\r\n    }; \r\n\r\n&quot;Duke&quot; is an alias to certificate in tye keystore.\r\n\r\n2.reorganize you jars into folders and then use:\r\n\r\n    grant codeBase &quot;file:/somepath/subpath1/-&quot; {\r\n          permission my.class.Paermission1;\r\n    };\r\n\r\n&quot;/-&quot; matches all files (both class and JAR files) in the directory and recursively all files in subdirectories contained in that directory\r\n\r\nCheck this for details [PolicyFiles][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/security/PolicyFiles.html#FileSyntax","title":"grant permissions to multiple codebases","body":"<p>From what I know there are 2 ways to achieve what you wish:<br>\n1.sing you jars with some certificate and then use:</p>\n\n<pre><code>grant signedBy \"Duke\" {\n       permission my.class.Paermission1;\n}; \n</code></pre>\n\n<p>\"Duke\" is an alias to certificate in tye keystore.</p>\n\n<p>2.reorganize you jars into folders and then use:</p>\n\n<pre><code>grant codeBase \"file:/somepath/subpath1/-\" {\n      permission my.class.Paermission1;\n};\n</code></pre>\n\n<p>\"/-\" matches all files (both class and JAR files) in the directory and recursively all files in subdirectories contained in that directory</p>\n\n<p>Check this for details <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/PolicyFiles.html#FileSyntax\" rel=\"nofollow\">PolicyFiles</a></p>\n"}],"owner":{"account_id":216114,"reputation":14272,"user_id":471149,"accept_rate":64,"display_name":"michael nesterenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4025,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1669935468,"creation_date":1343073719,"question_id":11619631,"body_markdown":"Is it possible to grant same permissions to unrelated codebases (e.g. I can not use wildcards)?\r\n\r\nFor example I have following permission configuration:\r\n\r\n    grant codebase &quot;file:/somepath1/code.jar&quot; {\r\n      permission my.class.Permission1;\r\n      permission my.class.Permission2;\r\n      permission my.class.Permission3;\r\n    };\r\n\r\nI want to grant the same permission set also to `/somepath2/code2.jar` and to `path3/code3.jar`.\r\n\r\nIs it possible to do with single grant section?\r\n","title":"grant permissions to multiple codebases","body":"<p>Is it possible to grant same permissions to unrelated codebases (e.g. I can not use wildcards)?</p>\n\n<p>For example I have following permission configuration:</p>\n\n<pre><code>grant codebase \"file:/somepath1/code.jar\" {\n  permission my.class.Permission1;\n  permission my.class.Permission2;\n  permission my.class.Permission3;\n};\n</code></pre>\n\n<p>I want to grant the same permission set also to <code>/somepath2/code2.jar</code> and to <code>path3/code3.jar</code>.</p>\n\n<p>Is it possible to do with single grant section?</p>\n"},{"tags":["java","string","for-loop","integer","palindrome"],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669858836,"creation_date":1669858836,"answer_id":74636041,"question_id":74636013,"body_markdown":"        for(int i = 0; i &lt; count; i++){\r\n            palindrome += x % 10;\r\n        }\r\n\r\nSince `x` does not change in that loop (or indeed anywhere in the code), each execution yields the same thing, the least significant digit of `x`.\r\n\r\nThus `palindrome` has some number of copies of the same digit, and will almost never equal `s`\r\n\r\nYou need to divide `x` by 10 each time around the loop.","title":"Not understanding the issue with my solution to a palindrome problem","body":"<pre><code>    for(int i = 0; i &lt; count; i++){\n        palindrome += x % 10;\n    }\n</code></pre>\n<p>Since <code>x</code> does not change in that loop (or indeed anywhere in the code), each execution yields the same thing, the least significant digit of <code>x</code>.</p>\n<p>Thus <code>palindrome</code> has some number of copies of the same digit, and will almost never equal <code>s</code></p>\n<p>You need to divide <code>x</code> by 10 each time around the loop.</p>\n"}],"owner":{"account_id":20216502,"reputation":13,"user_id":14827134,"display_name":"Bonson Yusuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74636041,"answer_count":1,"score":0,"last_activity_date":1669934793,"creation_date":1669858542,"question_id":74636013,"body_markdown":"I&#39;m trying to solve a question where your code is supposed to determine if a given number is a palindrome or not, and I don&#39;t understand why it isn&#39;t working.\r\n\r\n(You can skip this and just read the code if you want) The idea was that I create a string with the value of the integer, and create a for loop using the length of said string that uses % 10 to reverse the integer and store it in a separate string. I would then compare the 2 strings to determine if the number is a palindrome or not\r\n\r\n\r\n```java\r\npublic static boolean isPalindrome(int x) {\r\n        String s = String.valueOf(x);\r\n        int count = s.length();\r\n        String palindrome = &quot;&quot;;\r\n        for(int i = 0; i &lt; count; i++){\r\n            palindrome += x % 10;\r\n        }\r\n        System.out.print(palindrome);\r\n        if(palindrome == s){\r\n            return true;\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nThe problem is that the code only returns false, and when I added a print statement to check what the reversed number (String palindrome) is, I got a different number. \r\n\r\nFor ex. I used 121 to test it and after the for loop the print statement outputted 111. \r\n\r\n***I&#39;m not really looking for a solution***, I just want to understand why it&#39;s behaving like this. Thanks in advance.","title":"Not understanding the issue with my solution to a palindrome problem","body":"<p>I'm trying to solve a question where your code is supposed to determine if a given number is a palindrome or not, and I don't understand why it isn't working.</p>\n<p>(You can skip this and just read the code if you want) The idea was that I create a string with the value of the integer, and create a for loop using the length of said string that uses % 10 to reverse the integer and store it in a separate string. I would then compare the 2 strings to determine if the number is a palindrome or not</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPalindrome(int x) {\n        String s = String.valueOf(x);\n        int count = s.length();\n        String palindrome = &quot;&quot;;\n        for(int i = 0; i &lt; count; i++){\n            palindrome += x % 10;\n        }\n        System.out.print(palindrome);\n        if(palindrome == s){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n</code></pre>\n<p>The problem is that the code only returns false, and when I added a print statement to check what the reversed number (String palindrome) is, I got a different number.</p>\n<p>For ex. I used 121 to test it and after the for loop the print statement outputted 111.</p>\n<p><em><strong>I'm not really looking for a solution</strong></em>, I just want to understand why it's behaving like this. Thanks in advance.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669845183,"post_id":74634496,"comment_id":131738696,"body_markdown":"Answers on Stack Overflow are expected to have some explanation, not just code snippet.","body":"Answers on Stack Overflow are expected to have some explanation, not just code snippet."},{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1669934839,"post_id":74634496,"comment_id":131762366,"body_markdown":"comments added to help provide explanation. Any better?","body":"comments added to help provide explanation. Any better?"}],"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669934716,"creation_date":1669844565,"answer_id":74634496,"question_id":74634411,"body_markdown":"Something like: \r\n\r\n```\r\nwhile(true) { // repeat code within indefinitely\r\n     while ((key = watchService.take()) != null) {\r\n         // do stuff\r\n     }\r\n     Thread.sleep(1000); // get executing thread to sleep for 1000millis - 1s\r\n}\r\n```\r\nShould work","title":"Pull data from database every second","body":"<p>Something like:</p>\n<pre><code>while(true) { // repeat code within indefinitely\n     while ((key = watchService.take()) != null) {\n         // do stuff\n     }\n     Thread.sleep(1000); // get executing thread to sleep for 1000millis - 1s\n}\n</code></pre>\n<p>Should work</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669934716,"creation_date":1669844028,"question_id":74634411,"body_markdown":"I want to create a Java code which makes benchmark about importing xml file into SQL table. I tried this:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.*;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    public class Application extends SqlUtils {\r\n    \r\n        private static String folderPath = &quot;D:\\\\EntityImportEversana&quot;;\r\n    \r\n        public static void main(final String[] args) throws IOException, InterruptedException {\r\n    \r\n            System.out.println(&quot;Running file verifier&quot;);\r\n            System.out.println(&quot;monitoring folder &quot; + folderPath);\r\n            SqlUtils sql = new SqlUtils();\r\n    \r\n            WatchService watchService = FileSystems.getDefault().newWatchService();\r\n            Path path = Paths.get(folderPath);\r\n            path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE, StandardWatchEventKinds.ENTRY_MODIFY);\r\n            WatchKey key;\r\n            while ((key = watchService.take()) != null) {\r\n                for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n                    System.out.println(&quot;Event kind:&quot; + event.kind() + &quot;. File affected: &quot; + event.context() + &quot;.&quot;);\r\n                    if(event.kind().equals(StandardWatchEventKinds.ENTRY_DELETE)){\r\n                          Instant start = Instant.now();\r\n                    \r\n                          // make here call every second to get the status\r\n                          HashMap&lt;String, List&gt; map = sql.checkFileImport();\r\n\r\n                          Instant end = Instant.now();\r\n                          System.out.println(Duration.between(start,end));\r\n\r\n                }\r\n    \r\n                }\r\n                key.reset();\r\n            }\r\n    \r\n            watchService.close();\r\n        }\r\n    }\r\n\r\nDo you know how I can make a call every second to DB and get the status?\r\n","title":"Pull data from database every second","body":"<p>I want to create a Java code which makes benchmark about importing xml file into SQL table. I tried this:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.*;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class Application extends SqlUtils {\n\n    private static String folderPath = &quot;D:\\\\EntityImportEversana&quot;;\n\n    public static void main(final String[] args) throws IOException, InterruptedException {\n\n        System.out.println(&quot;Running file verifier&quot;);\n        System.out.println(&quot;monitoring folder &quot; + folderPath);\n        SqlUtils sql = new SqlUtils();\n\n        WatchService watchService = FileSystems.getDefault().newWatchService();\n        Path path = Paths.get(folderPath);\n        path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE, StandardWatchEventKinds.ENTRY_MODIFY);\n        WatchKey key;\n        while ((key = watchService.take()) != null) {\n            for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                System.out.println(&quot;Event kind:&quot; + event.kind() + &quot;. File affected: &quot; + event.context() + &quot;.&quot;);\n                if(event.kind().equals(StandardWatchEventKinds.ENTRY_DELETE)){\n                      Instant start = Instant.now();\n                \n                      // make here call every second to get the status\n                      HashMap&lt;String, List&gt; map = sql.checkFileImport();\n\n                      Instant end = Instant.now();\n                      System.out.println(Duration.between(start,end));\n\n            }\n\n            }\n            key.reset();\n        }\n\n        watchService.close();\n    }\n}\n</code></pre>\n<p>Do you know how I can make a call every second to DB and get the status?</p>\n"},{"tags":["java","spring","spring-boot","javers"],"owner":{"account_id":20912057,"reputation":11,"user_id":15362723,"display_name":"Anupam Mangale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669934245,"creation_date":1669696465,"question_id":74609207,"body_markdown":"Using Javers for the fetching historical data (Audit purpose) in Java Springboot.\r\nI have a entity which is having one to many relationship with other child entities.\r\nBelow is the example what we are doing.\r\nExample : \r\n\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\nclass ParentEntity{\r\n\r\n@Id\r\n@GenericGenerator(name = &quot;UUIDGenerator&quot;, strategy = &quot;uuid2&quot;)\r\n@GeneratedValue(generator = &quot;UUIDGenerator&quot;)\r\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\nprivate UUID id;\r\n\r\n@Column(name = &quot;customer_id&quot;)\r\nprivate String customerId;\r\n\r\n\r\n@OneToMany(mappedBy = &quot;parentEntity&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\nprivate List&lt;ChildEntity&gt; childEntity;\r\n\r\n} \r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\nclass ChildEntity{\r\n\r\n@Id\r\n@GenericGenerator(name = &quot;UUIDGenerator&quot;, strategy = &quot;uuid2&quot;)\r\n@GeneratedValue(generator = &quot;UUIDGenerator&quot;)\r\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\nprotected UUID id;\r\n\r\n@ManyToOne(fetch = FetchType.LAZY)\r\nprivate ParentEntity parentEntity;\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nIf I made a change for the object of Child entity which is present in Parent, we are getting the ListChange object but it does not contains the actual object changed, it is having the reference global id inside it.\r\n\r\nWe are using below query : \r\n\r\n\r\n```\r\njavers.findChanges(QueryBuilder.byInstanceId(id, classname).withSnapshotTypeUpdate().build());\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nIs there any way to fetch the exact object values from the Javers tables? \r\n\r\n\r\nI am getting the response which has the global id for respective updated object in Left and Right.\r\n\r\nI am looking for the objects which got changed (Previous version and updated version)\r\n\r\n","title":"Javers retrieve the ListChange objects (It is giving only reference id for the objects and not actual object values)","body":"<p>Using Javers for the fetching historical data (Audit purpose) in Java Springboot.\nI have a entity which is having one to many relationship with other child entities.\nBelow is the example what we are doing.\nExample :</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\nclass ParentEntity{\n\n@Id\n@GenericGenerator(name = &quot;UUIDGenerator&quot;, strategy = &quot;uuid2&quot;)\n@GeneratedValue(generator = &quot;UUIDGenerator&quot;)\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\nprivate UUID id;\n\n@Column(name = &quot;customer_id&quot;)\nprivate String customerId;\n\n\n@OneToMany(mappedBy = &quot;parentEntity&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;ChildEntity&gt; childEntity;\n\n} \n</code></pre>\n<pre><code>@Entity\n@Getter\n@Setter\nclass ChildEntity{\n\n@Id\n@GenericGenerator(name = &quot;UUIDGenerator&quot;, strategy = &quot;uuid2&quot;)\n@GeneratedValue(generator = &quot;UUIDGenerator&quot;)\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\nprotected UUID id;\n\n@ManyToOne(fetch = FetchType.LAZY)\nprivate ParentEntity parentEntity;\n\n}\n</code></pre>\n<p>If I made a change for the object of Child entity which is present in Parent, we are getting the ListChange object but it does not contains the actual object changed, it is having the reference global id inside it.</p>\n<p>We are using below query :</p>\n<pre><code>javers.findChanges(QueryBuilder.byInstanceId(id, classname).withSnapshotTypeUpdate().build());\n</code></pre>\n<p>Is there any way to fetch the exact object values from the Javers tables?</p>\n<p>I am getting the response which has the global id for respective updated object in Left and Right.</p>\n<p>I am looking for the objects which got changed (Previous version and updated version)</p>\n"},{"tags":["java","testing","reflection","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669937138,"post_id":74648918,"comment_id":131762831,"body_markdown":"I&#39;m not clear whether you want to unit test the behaviour of your library, or whether you are unit testing a class in an application which happens to use your library.","body":"I&#39;m not clear whether you want to unit test the behaviour of your library, or whether you are unit testing a class in an application which happens to use your library."},{"owner":{"account_id":5946435,"reputation":663,"user_id":4675794,"accept_rate":33,"display_name":"Andret2344"},"score":0,"creation_date":1669939677,"post_id":74648918,"comment_id":131763228,"body_markdown":"@tgdavies I want to test behavior of my library only","body":"@tgdavies I want to test behavior of my library only"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669953826,"post_id":74648918,"comment_id":131765097,"body_markdown":"Is there any need to mock anything in that case?","body":"Is there any need to mock anything in that case?"},{"owner":{"account_id":5946435,"reputation":663,"user_id":4675794,"accept_rate":33,"display_name":"Andret2344"},"score":0,"creation_date":1669991197,"post_id":74648918,"comment_id":131775262,"body_markdown":"How do I test if my Consumer has been executed?","body":"How do I test if my Consumer has been executed?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670112860,"post_id":74648918,"comment_id":131798306,"body_markdown":"You can certainly mock the consumer, or just pass one which sets a flag.","body":"You can certainly mock the consumer, or just pass one which sets a flag."}],"owner":{"account_id":5946435,"reputation":663,"user_id":4675794,"accept_rate":33,"display_name":"Andret2344"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669934158,"creation_date":1669934158,"question_id":74648918,"body_markdown":"I have created my custom library that adds a lot of mechanics on basis of Annotations including reading methods&#39; arguments, theirs names and return types. I also wanted to test the code, but there appeared such problems, i.e., how to test if a certain method passed as an argument has been called? Mocking methods is not supported by Mockito because it uses methods&#39; objects under the hood. But for my library there is no other possibility, or I don&#39;t see any. Another example is checking if passed consumer has been called with correct arguments. In general, I shouldn&#39;t mock classes from `java.lang.*`, but don&#39;t see any other way of reliable testing. \r\n\r\nAssume the following code that only uses my library:\r\n```java\r\npublic class TestedClass {\r\n    public String specialMethod(boolean b) {\r\n        if (!b) {\r\n            return null;\r\n        }\r\n        return &quot;test&quot;;\r\n    }\r\n}\r\n\r\n// some main\r\nLibraty&lt;TestedClass&gt; library = MyLibraty.register(TestedClass.class);\r\nlibrary.setOnNullListener(myObject -&gt; myObject.register(&quot;null&quot;));\r\n```\r\nMy library automatically checks if the method returns `null` and if so, calls the created `Consumer`. Adding a concrete `Consumer` is out of scope and is in the responsibility of the app that uses my library. \r\n\r\nHow do I test if this behavior is correct without mocking `Method` or `Consumer`? ","title":"How do I properly test reflection-based Java library?","body":"<p>I have created my custom library that adds a lot of mechanics on basis of Annotations including reading methods' arguments, theirs names and return types. I also wanted to test the code, but there appeared such problems, i.e., how to test if a certain method passed as an argument has been called? Mocking methods is not supported by Mockito because it uses methods' objects under the hood. But for my library there is no other possibility, or I don't see any. Another example is checking if passed consumer has been called with correct arguments. In general, I shouldn't mock classes from <code>java.lang.*</code>, but don't see any other way of reliable testing.</p>\n<p>Assume the following code that only uses my library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestedClass {\n    public String specialMethod(boolean b) {\n        if (!b) {\n            return null;\n        }\n        return &quot;test&quot;;\n    }\n}\n\n// some main\nLibraty&lt;TestedClass&gt; library = MyLibraty.register(TestedClass.class);\nlibrary.setOnNullListener(myObject -&gt; myObject.register(&quot;null&quot;));\n</code></pre>\n<p>My library automatically checks if the method returns <code>null</code> and if so, calls the created <code>Consumer</code>. Adding a concrete <code>Consumer</code> is out of scope and is in the responsibility of the app that uses my library.</p>\n<p>How do I test if this behavior is correct without mocking <code>Method</code> or <code>Consumer</code>?</p>\n"},{"tags":["java","spring","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":408579,"reputation":9113,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1669934091,"post_id":74648844,"comment_id":131762163,"body_markdown":"what&#39;s the final output of your program?","body":"what&#39;s the final output of your program?"},{"owner":{"account_id":19900973,"reputation":26,"user_id":15120226,"display_name":"c89ec"},"score":0,"creation_date":1669934208,"post_id":74648844,"comment_id":131762200,"body_markdown":"The result right now is a: Mono&lt;Map&lt;Set&lt;Integer&gt;, Mono&lt;Integer&gt;&gt;&gt; result with the following entries: [1, 2]=MonoReduceSeed, [1, 3]=MonoReduceSeed, [2, 3]=MonoReduceSeed and I want it to be a Mono&lt;Map&lt;Set&lt;Integer&gt;, Integer&gt;&gt;  with the entries: [1, 2]=7, [1, 3]=8, [2, 3]=4","body":"The result right now is a: Mono&lt;Map&lt;Set&lt;Integer&gt;, Mono&lt;Integer&gt;&gt;&gt; result with the following entries: [1, 2]=MonoReduceSeed, [1, 3]=MonoReduceSeed, [2, 3]=MonoReduceSeed and I want it to be a Mono&lt;Map&lt;Set&lt;Integer&gt;, Integer&gt;&gt;  with the entries: [1, 2]=7, [1, 3]=8, [2, 3]=4"},{"owner":{"account_id":408579,"reputation":9113,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1669934586,"post_id":74648844,"comment_id":131762299,"body_markdown":"collectMap doesn&#39;t work like `flatMap`, the functions you pass to it shouldn&#39;t return a Mono/Flux. Or at least it aggregates what you return, without unwrapping it.   \nIn your case the `reduce` over `answersFlux` is returning a `Mono&lt;Integer&gt;`, but it doesn&#39;t resolves it, you can explicitly `.block()` on it to resolve it","body":"collectMap doesn&#39;t work like <code>flatMap</code>, the functions you pass to it shouldn&#39;t return a Mono/Flux. Or at least it aggregates what you return, without unwrapping it.    In your case the <code>reduce</code> over <code>answersFlux</code> is returning a <code>Mono&lt;Integer&gt;</code>, but it doesn&#39;t resolves it, you can explicitly <code>.block()</code> on it to resolve it"},{"owner":{"account_id":19900973,"reputation":26,"user_id":15120226,"display_name":"c89ec"},"score":0,"creation_date":1669939696,"post_id":74648844,"comment_id":131763233,"body_markdown":"The thing is that is not possible to use block there, when I use it I get the error: &quot;block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-epoll-2&quot;","body":"The thing is that is not possible to use block there, when I use it I get the error: &quot;block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-epoll-2&quot;"}],"owner":{"account_id":19900973,"reputation":26,"user_id":15120226,"display_name":"c89ec"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669933584,"creation_date":1669933522,"question_id":74648844,"body_markdown":"I have two data structures:\r\n\r\n```\r\nFlux&lt;Set&lt;Integer&gt;&gt; combinationsFlux = Flux.fromIterable(\r\nSet.of(\r\n    Set.of(1, 2),\r\n    Set.of(1, 3),\r\n    Set.of(2, 3)));\r\n\r\nFlux&lt;Answer&gt; answersFlux = Flux.fromIterable(List.of(\r\n    new Answer(1, Set.of(2)),\r\n    new Answer(5, Set.of(1)),\r\n    new Answer(1, Set.of(2, 3)),\r\n    new Answer(2, Set.of(3, 1)))\r\n```\r\n\r\nAnswer is a simple Class that represents the response of the Database(ReactiveRepository):\r\n\r\n```\r\npublic class Answer {\r\n\r\n  private int count;\r\n\r\n  private Set&lt;Integer&gt; values;\r\n}\r\n```\r\n\r\nI need to group in a HashMap putting the combinations as key and the sum of the counts of answers that match with any of the values of each combination, the result I need would be something like:\r\n\r\n| Key | Value |\r\n| --- | --- |\r\n| 1,2 | 7 |\r\n| 1,3 | 8 |\r\n| 2,3 | 4 |\r\n\r\nI have tried to do it this way:\r\n\r\n```\r\ncombinationsFlux\r\n    .collectMap(\r\n        combination -&gt; combination,\r\n        combination -&gt;\r\n            answersFlux\r\n                .log()\r\n                .reduce(0, (respondentsCount, answer) -&gt; {\r\n                      if (answer\r\n                          .getValues()\r\n                          .stream()\r\n                          .anyMatch(combination::contains)) {\r\n                        respondentsCount = respondentsCount + answer.getCount();\r\n                      }\r\n                      return respondentsCount;\r\n                    }\r\n                )\r\n    );\r\n```\r\n\r\nbut at the end I&#39;m not getting the correct structure, it seems to be a problem on the reduce part and I get something like this when logging the Flux:\r\n\r\n```\r\n2022-12-01 16:54:34.691  INFO 203887 --- [or-http-epoll-2] reactor.Flux.MonoFlatMapMany.3           : onNext([1, 2]=MonoReduceSeed)\r\n2022-12-01 16:54:34.691  INFO 203887 --- [or-http-epoll-2] reactor.Flux.MonoFlatMapMany.3           : onNext([1, 3]=MonoReduceSeed)\r\n2022-12-01 16:54:34.691  INFO 203887 --- [or-http-epoll-2] reactor.Flux.MonoFlatMapMany.3           : onNext([2, 3]=MonoReduceSeed)\r\n```\r\n\r\nI get that MonoReduceSeed object instead of the expected integer. Any suggestion?","title":"How to reduce two Flux to generate a reduced HashMap, Reactive Java Spring WebFlux Reactor","body":"<p>I have two data structures:</p>\n<pre><code>Flux&lt;Set&lt;Integer&gt;&gt; combinationsFlux = Flux.fromIterable(\nSet.of(\n    Set.of(1, 2),\n    Set.of(1, 3),\n    Set.of(2, 3)));\n\nFlux&lt;Answer&gt; answersFlux = Flux.fromIterable(List.of(\n    new Answer(1, Set.of(2)),\n    new Answer(5, Set.of(1)),\n    new Answer(1, Set.of(2, 3)),\n    new Answer(2, Set.of(3, 1)))\n</code></pre>\n<p>Answer is a simple Class that represents the response of the Database(ReactiveRepository):</p>\n<pre><code>public class Answer {\n\n  private int count;\n\n  private Set&lt;Integer&gt; values;\n}\n</code></pre>\n<p>I need to group in a HashMap putting the combinations as key and the sum of the counts of answers that match with any of the values of each combination, the result I need would be something like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Key</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1,2</td>\n<td>7</td>\n</tr>\n<tr>\n<td>1,3</td>\n<td>8</td>\n</tr>\n<tr>\n<td>2,3</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have tried to do it this way:</p>\n<pre><code>combinationsFlux\n    .collectMap(\n        combination -&gt; combination,\n        combination -&gt;\n            answersFlux\n                .log()\n                .reduce(0, (respondentsCount, answer) -&gt; {\n                      if (answer\n                          .getValues()\n                          .stream()\n                          .anyMatch(combination::contains)) {\n                        respondentsCount = respondentsCount + answer.getCount();\n                      }\n                      return respondentsCount;\n                    }\n                )\n    );\n</code></pre>\n<p>but at the end I'm not getting the correct structure, it seems to be a problem on the reduce part and I get something like this when logging the Flux:</p>\n<pre><code>2022-12-01 16:54:34.691  INFO 203887 --- [or-http-epoll-2] reactor.Flux.MonoFlatMapMany.3           : onNext([1, 2]=MonoReduceSeed)\n2022-12-01 16:54:34.691  INFO 203887 --- [or-http-epoll-2] reactor.Flux.MonoFlatMapMany.3           : onNext([1, 3]=MonoReduceSeed)\n2022-12-01 16:54:34.691  INFO 203887 --- [or-http-epoll-2] reactor.Flux.MonoFlatMapMany.3           : onNext([2, 3]=MonoReduceSeed)\n</code></pre>\n<p>I get that MonoReduceSeed object instead of the expected integer. Any suggestion?</p>\n"},{"tags":["java","spring","hibernate","jpa","repository"],"answers":[{"comments":[{"owner":{"account_id":5411133,"reputation":885,"user_id":4307872,"accept_rate":60,"display_name":"von spotz"},"score":0,"creation_date":1666544303,"post_id":74172383,"comment_id":130957279,"body_markdown":"... as well as an EntityARepository (belonging to `EntityA`) to read from. Well, also, in order to configure an Event Store in Axon, which is the library in question where Spring Repositories are needed, well, I ask myself what the sense is in general of the repository-pattern. What tasks does it do when accessing the database? And compared to that, what does the repository-pattern do more than Hibernate when accessing the database through this en lieu of a Repository. Thank you very much ! Yours sincerly, vonSpotz :)","body":"... as well as an EntityARepository (belonging to <code>EntityA</code>) to read from. Well, also, in order to configure an Event Store in Axon, which is the library in question where Spring Repositories are needed, well, I ask myself what the sense is in general of the repository-pattern. What tasks does it do when accessing the database? And compared to that, what does the repository-pattern do more than Hibernate when accessing the database through this en lieu of a Repository. Thank you very much ! Yours sincerly, vonSpotz :)"}],"tags":[],"owner":{"account_id":26557785,"reputation":159,"user_id":20186121,"display_name":"Abhishek Kumar Jena"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669933567,"creation_date":1666538854,"answer_id":74172383,"question_id":74172207,"body_markdown":"Basically, we use a Repository to perform CRUD operations, and it establishes a connection between the program and database to retrieve data, and call it into the service environment to perform some functions, that&#39;s the reason why extends the repository in the service and @Repository is the indication that it is a repository.\r\n","title":"What is the sense of Spring Repositories over EntityManager and/or Jpa Provider like Hibernate?","body":"<p>Basically, we use a Repository to perform CRUD operations, and it establishes a connection between the program and database to retrieve data, and call it into the service environment to perform some functions, that's the reason why extends the repository in the service and @Repository is the indication that it is a repository.</p>\n"}],"owner":{"account_id":5411133,"reputation":885,"user_id":4307872,"accept_rate":60,"display_name":"von spotz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669933567,"creation_date":1666537601,"question_id":74172207,"body_markdown":"I wonder what the &quot;big advantage&quot; of a one-to-one relationship Spring `Repository` is over the EntityManager (persistencecontext) and Transactionmanager (transaction demarcation) (and/or Hibernate. I don&#39;t know how they work together exactly in JPA).\r\n\r\nCan you explain the advantage of `Repository`?\r\n\r\nIt seems very rigid because you have to extend the repository interface for every Aggregate in a Microservice environment at least. I don&#39;t know if you have to do this for simple `@Entity`s too. \r\n","title":"What is the sense of Spring Repositories over EntityManager and/or Jpa Provider like Hibernate?","body":"<p>I wonder what the &quot;big advantage&quot; of a one-to-one relationship Spring <code>Repository</code> is over the EntityManager (persistencecontext) and Transactionmanager (transaction demarcation) (and/or Hibernate. I don't know how they work together exactly in JPA).</p>\n<p>Can you explain the advantage of <code>Repository</code>?</p>\n<p>It seems very rigid because you have to extend the repository interface for every Aggregate in a Microservice environment at least. I don't know if you have to do this for simple <code>@Entity</code>s too.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669923928,"post_id":74647224,"comment_id":131759444,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669984773,"post_id":74647224,"comment_id":131772974,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?","body":"What exactly in this code doesn&#39;t work the way you expect?"}],"owner":{"account_id":25408062,"reputation":1,"user_id":19216410,"display_name":"Mizan Abbas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669932962,"creation_date":1669922792,"question_id":74647224,"body_markdown":"After getting an image and text from Firebase into the app online, then how can the image and text be saved automatically into mobile, if we open the app a second time without an Internet connection, show image the text offline? How can I do this?\r\n\r\n    public class offline extends Application {\r\n\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n            FirebaseStorage.getInstance();\r\n        }\r\n    }\r\n\r\nOnly the text is offline, not images.\r\n\r\n\r\n\r\n\r\n","title":"Firebase offline data not save like images","body":"<p>After getting an image and text from Firebase into the app online, then how can the image and text be saved automatically into mobile, if we open the app a second time without an Internet connection, show image the text offline? How can I do this?</p>\n<pre><code>public class offline extends Application {\n\n    public void onCreate() {\n        super.onCreate();\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n        FirebaseStorage.getInstance();\n    }\n}\n</code></pre>\n<p>Only the text is offline, not images.</p>\n"},{"tags":["javascript","java","typescript","bit"],"comments":[{"owner":{"account_id":20907575,"reputation":5943,"user_id":15359157,"display_name":"code"},"score":3,"creation_date":1669931811,"post_id":74648616,"comment_id":131761643,"body_markdown":"Java is to JavaScript as ham is to hamster.","body":"Java is to JavaScript as ham is to hamster."},{"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"score":0,"creation_date":1669931845,"post_id":74648616,"comment_id":131761652,"body_markdown":"I know both languages well. So i dont care for a specific solution for either of them.","body":"I know both languages well. So i dont care for a specific solution for either of them."},{"owner":{"account_id":20907575,"reputation":5943,"user_id":15359157,"display_name":"code"},"score":1,"creation_date":1669931951,"post_id":74648616,"comment_id":131761679,"body_markdown":"Then please be more clear on _exactly what you need_. Are we expecting a string input, binary digits, a multi-dimensional array, or what? What is the expected result? Besides that, please be extra-clear when you tag a question with multiple languages: &quot;A solution in _either_ Java or JavaScript/TypeScript&quot;.","body":"Then please be more clear on <i>exactly what you need</i>. Are we expecting a string input, binary digits, a multi-dimensional array, or what? What is the expected result? Besides that, please be extra-clear when you tag a question with multiple languages: &quot;A solution in <i>either</i> Java or JavaScript/TypeScript&quot;."},{"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"score":0,"creation_date":1669932071,"post_id":74648616,"comment_id":131761697,"body_markdown":"As you can see above row and col are numbers. A function getTTBit() with given arguments row = 3 and col = 2 should return 1.","body":"As you can see above row and col are numbers. A function getTTBit() with given arguments row = 3 and col = 2 should return 1."},{"owner":{"account_id":1463349,"reputation":62353,"user_id":1377002,"display_name":"Andy"},"score":0,"creation_date":1669932101,"post_id":74648616,"comment_id":131761707,"body_markdown":"If you know both languages well what code have you worked on yourself to try and solve the problem? You should add that to the question as well as deciding what specific language you want people here to respond with.","body":"If you know both languages well what code have you worked on yourself to try and solve the problem? You should add that to the question as well as deciding what specific language you want people here to respond with."},{"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"score":0,"creation_date":1669932266,"post_id":74648616,"comment_id":131761734,"body_markdown":"Added my current solutions that I dont like","body":"Added my current solutions that I dont like"},{"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"score":0,"creation_date":1669932449,"post_id":74648616,"comment_id":131761779,"body_markdown":"@Andy As I said I dont care if your solution is in Java, TS or JS","body":"@Andy As I said I dont care if your solution is in Java, TS or JS"},{"owner":{"account_id":26384258,"reputation":10192,"user_id":20037042,"display_name":"chrslg"},"score":0,"creation_date":1671055632,"post_id":74648616,"comment_id":132017875,"body_markdown":"I don&#39;t understand your example. Why this row is row 3 while this col is col2. I get that &quot;4 2 1&quot; is header. But even ignoring header, the row you designated is the 4th one. Which is logical. In all languages you&#39;ve mentioned indexation starts at 0, so row 3 is the 4th. But same should go for columns. How come it is the 2nd column (so col 1) that is bold? Is this just a format error? (after all, 3rd column, aka col2 is also 1).","body":"I don&#39;t understand your example. Why this row is row 3 while this col is col2. I get that &quot;4 2 1&quot; is header. But even ignoring header, the row you designated is the 4th one. Which is logical. In all languages you&#39;ve mentioned indexation starts at 0, so row 3 is the 4th. But same should go for columns. How come it is the 2nd column (so col 1) that is bold? Is this just a format error? (after all, 3rd column, aka col2 is also 1)."}],"answers":[{"comments":[{"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"score":0,"creation_date":1669933455,"post_id":74648729,"comment_id":131761995,"body_markdown":"I see. And if col is from the left? If i add numCols (bitsize of the number) argument I get the right answer:\nreturn (row &amp; (1 &lt;&lt; numCols - 1 - col)) != 0 ? 1 : 0;\nHow to change your solution so that numCols is obsolet?","body":"I see. And if col is from the left? If i add numCols (bitsize of the number) argument I get the right answer: return (row &amp; (1 &lt;&lt; numCols - 1 - col)) != 0 ? 1 : 0; How to change your solution so that numCols is obsolet?"},{"owner":{"account_id":4273516,"reputation":10963,"user_id":3494774,"accept_rate":86,"display_name":"gog"},"score":0,"creation_date":1669934480,"post_id":74648729,"comment_id":131762268,"body_markdown":"@Oli: to get  the bit length of a number you&#39;d need something like `Math.floor(Math.log2(x))` in javascript, no idea about java.","body":"@Oli: to get  the bit length of a number you&#39;d need something like <code>Math.floor(Math.log2(x))</code> in javascript, no idea about java."},{"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"score":0,"creation_date":1669934692,"post_id":74648729,"comment_id":131762331,"body_markdown":"Thank you for your answer . I think i will go with this: \nreturn (row &amp; (1 &lt;&lt; numCols - 1 - col)) != 0 ? 1 : 0;","body":"Thank you for your answer . I think i will go with this:  return (row &amp; (1 &lt;&lt; numCols - 1 - col)) != 0 ? 1 : 0;"}],"tags":[],"owner":{"account_id":4273516,"reputation":10963,"user_id":3494774,"accept_rate":86,"display_name":"gog"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669932690,"creation_date":1669932690,"answer_id":74648729,"question_id":74648616,"body_markdown":"basically, you&#39;re asking how to check if the Nth bit is set in a number? \r\n\r\nThis is the same in all three languages:\r\n\r\n    isSet = (row &amp; (1 &lt;&lt; col)) != 0\r\n\r\nwhere `col` is counted from the right (lsb=0).","title":"Java/JS/TS Given row and column get bit value in truthtable","body":"<p>basically, you're asking how to check if the Nth bit is set in a number?</p>\n<p>This is the same in all three languages:</p>\n<pre><code>isSet = (row &amp; (1 &lt;&lt; col)) != 0\n</code></pre>\n<p>where <code>col</code> is counted from the right (lsb=0).</p>\n"}],"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1669934546,"accepted_answer_id":74648729,"answer_count":1,"score":-4,"last_activity_date":1669932690,"creation_date":1669931779,"question_id":74648616,"body_markdown":"Is their a short formula for calculating the bit value for a given row and column?\r\nExample: getTTBit(row = 3, col = 2) = 1  \r\n\r\n4 2 1  \r\n0 0 0  \r\n0 0 1  \r\n0 1 0  \r\n0 **1** 1  &lt;-- row 3, col 2 -&gt; 1  \r\n1 0 0  \r\n1 0 1  \r\n1 1 0  \r\n1 1 1  \r\n\r\nIt should be as quick as possible. I dont want to convert the row number into a bitarray and get the col&#39;th element because I work with large numbers (rows). My bad current solution looks like this (TS):\r\n\r\n    export function getTTBit(numCols: number, row: number, col: number): bit {\r\n        return getNumberAsBitArray(row, numCols)[col];\r\n    }\r\n    \r\n    export function getNumberAsBitArray(n: number, length: number): bit[] {\r\n        return [...Array(length)].map((_, i) =&gt; n &gt;&gt; i &amp; 1).reverse() as bit[];\r\n    }","title":"Java/JS/TS Given row and column get bit value in truthtable","body":"<p>Is their a short formula for calculating the bit value for a given row and column?\nExample: getTTBit(row = 3, col = 2) = 1</p>\n<p>4 2 1<br />\n0 0 0<br />\n0 0 1<br />\n0 1 0<br />\n0 <strong>1</strong> 1  &lt;-- row 3, col 2 -&gt; 1<br />\n1 0 0<br />\n1 0 1<br />\n1 1 0<br />\n1 1 1</p>\n<p>It should be as quick as possible. I dont want to convert the row number into a bitarray and get the col'th element because I work with large numbers (rows). My bad current solution looks like this (TS):</p>\n<pre><code>export function getTTBit(numCols: number, row: number, col: number): bit {\n    return getNumberAsBitArray(row, numCols)[col];\n}\n\nexport function getNumberAsBitArray(n: number, length: number): bit[] {\n    return [...Array(length)].map((_, i) =&gt; n &gt;&gt; i &amp; 1).reverse() as bit[];\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669928556,"post_id":74648020,"comment_id":131760831,"body_markdown":"https://jsoup.org/","body":"<a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">jsoup.org</a>"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1669932829,"post_id":74648020,"comment_id":131761845,"body_markdown":"You have several choices.  One alternative is to use an HTML parser like [jsoup](https://jsoup.org/cookbook/).  Another is to use Java [String.replaceAll()](https://www.javatpoint.com/java-string-replaceall), with a [regex](https://www.w3schools.com/java/java_regex.asp).  You should also look hard at whether or not you actually want &quot;remove if it finds just &quot;&lt;&quot; or &quot;&gt;&quot;...  Would this be &quot;malformed HTML&quot;... or would you risk corrupting a valid expression like &quot;1 &lt; 2&quot;?","body":"You have several choices.  One alternative is to use an HTML parser like <a href=\"https://jsoup.org/cookbook/\" rel=\"nofollow noreferrer\">jsoup</a>.  Another is to use Java <a href=\"https://www.javatpoint.com/java-string-replaceall\" rel=\"nofollow noreferrer\">String.replaceAll()</a>, with a <a href=\"https://www.w3schools.com/java/java_regex.asp\" rel=\"nofollow noreferrer\">regex</a>.  You should also look hard at whether or not you actually want &quot;remove if it finds just &quot;&lt;&quot; or &quot;&gt;&quot;...  Would this be &quot;malformed HTML&quot;... or would you risk corrupting a valid expression like &quot;1 &lt; 2&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669928260,"creation_date":1669928260,"answer_id":74648078,"question_id":74648020,"body_markdown":"Try parsing HTML using an HTML parser like JSoup or TagSoup.\r\nOnce you have the DOM, on the root element just call `getTextContent()`.\r\n\r\nFrom the [API documentation][1] (never versions of Java act the same):\r\n*This attribute returns the text content of this node and its descendants. [...] no serialization is performed, the returned string does not contain any markup.*\r\n\r\nSee also\r\n- https://stackoverflow.com/questions/457684/reading-html-file-to-dom-tree-using-java\r\n- https://stackoverflow.com/questions/31938166/html-parsing-using-dom-java\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Node.html#getTextContent--","title":"Java HTML Stripping","body":"<p>Try parsing HTML using an HTML parser like JSoup or TagSoup.\nOnce you have the DOM, on the root element just call <code>getTextContent()</code>.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Node.html#getTextContent--\" rel=\"nofollow noreferrer\">API documentation</a> (never versions of Java act the same):\n<em>This attribute returns the text content of this node and its descendants. [...] no serialization is performed, the returned string does not contain any markup.</em></p>\n<p>See also</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/457684/reading-html-file-to-dom-tree-using-java\">Reading HTML file to DOM tree using Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31938166/html-parsing-using-dom-java\">HTML parsing using DOM-Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669931440,"creation_date":1669930394,"answer_id":74648410,"question_id":74648020,"body_markdown":"It works fine with Jsoup, as someone said.\r\n\r\n    String input = &quot;app&lt;html&gt;le&quot;;\r\n    Document doc = Jsoup.parse(input);\r\n    System.out.println(doc.wholeText());  // or doc.text()\r\n\r\noutput:\r\n\r\n    apple\r\n\r\nBut the example you gave is not a proper XML document and cannot be processed using XML parsers.\r\n\r\nYou can also modify your program slightly.\r\n\r\n    public static String stripHtml(String inStr) {\r\n        boolean inTag = false;\r\n        StringBuffer outStr = new StringBuffer();\r\n        int len = inStr.length();\r\n        for (int i = 0; i &lt; len; i++) {\r\n            char c = inStr.charAt(i);\r\n            if (c == &#39;&lt;&#39;) {\r\n                inTag = true;\r\n            } else if (c == &#39;&gt;&#39;) {\r\n                inTag = false;\r\n            } else if (!inTag) {\r\n                outStr.append(c);\r\n            }\r\n        }\r\n        return outStr.toString();\r\n    }\r\n\r\nand\r\n\r\n    String input = &quot;app&lt;html&gt;le&quot;;\r\n    System.out.println(stripHtml(input));\r\n\r\noutput:\r\n\r\n    apple\r\n","title":"Java HTML Stripping","body":"<p>It works fine with Jsoup, as someone said.</p>\n<pre><code>String input = &quot;app&lt;html&gt;le&quot;;\nDocument doc = Jsoup.parse(input);\nSystem.out.println(doc.wholeText());  // or doc.text()\n</code></pre>\n<p>output:</p>\n<pre><code>apple\n</code></pre>\n<p>But the example you gave is not a proper XML document and cannot be processed using XML parsers.</p>\n<p>You can also modify your program slightly.</p>\n<pre><code>public static String stripHtml(String inStr) {\n    boolean inTag = false;\n    StringBuffer outStr = new StringBuffer();\n    int len = inStr.length();\n    for (int i = 0; i &lt; len; i++) {\n        char c = inStr.charAt(i);\n        if (c == '&lt;') {\n            inTag = true;\n        } else if (c == '&gt;') {\n            inTag = false;\n        } else if (!inTag) {\n            outStr.append(c);\n        }\n    }\n    return outStr.toString();\n}\n</code></pre>\n<p>and</p>\n<pre><code>String input = &quot;app&lt;html&gt;le&quot;;\nSystem.out.println(stripHtml(input));\n</code></pre>\n<p>output:</p>\n<pre><code>apple\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669932475,"creation_date":1669932475,"answer_id":74648704,"question_id":74648020,"body_markdown":"Your requirement is to remove a paired `&lt;...&gt;` and not handle sole `&lt;`s.\r\n\r\nThis means that your code may only drop the in-tag characters when encountering `&gt;`-\r\n\r\nYour code could also use `&#236;nt i2 = inStr.indexOf(&#39;&gt;&#39;, i+1);` to find a closing `&gt;` at `&lt;`.\r\n\r\nHowever simpler is to use a regular expression replace:\r\n\r\n    public static String stripHtml(String s) {\r\n        return s.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;, &quot;&quot;);\r\n    }\r\n\r\nThis searches all:\r\n1. `&lt;`\r\n2. a not-`&gt;`, 0 or more times (`*`)\r\n3. `&gt;`\r\n\r\n","title":"Java HTML Stripping","body":"<p>Your requirement is to remove a paired <code>&lt;...&gt;</code> and not handle sole <code>&lt;</code>s.</p>\n<p>This means that your code may only drop the in-tag characters when encountering <code>&gt;</code>-</p>\n<p>Your code could also use <code>ìnt i2 = inStr.indexOf('&gt;', i+1);</code> to find a closing <code>&gt;</code> at <code>&lt;</code>.</p>\n<p>However simpler is to use a regular expression replace:</p>\n<pre><code>public static String stripHtml(String s) {\n    return s.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;, &quot;&quot;);\n}\n</code></pre>\n<p>This searches all:</p>\n<ol>\n<li><code>&lt;</code></li>\n<li>a not-<code>&gt;</code>, 0 or more times (<code>*</code>)</li>\n<li><code>&gt;</code></li>\n</ol>\n"}],"owner":{"account_id":27115811,"reputation":29,"user_id":20660181,"display_name":"Pedro Aguilar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1669932475,"creation_date":1669927835,"question_id":74648020,"body_markdown":"```\r\n//Method for Strip HTML\r\npublic static String stripHtml(String inStr) {\r\n  boolean inTag = false;\r\n  char c;\r\n  StringBuffer outStr = new StringBuffer();\r\n  int len = inStr.length();\r\n  for (int i = 0; i &lt; len; i++) {\r\n    c = inStr.charAt(i);\r\n    if (c == &#39;&lt;&#39;) {\r\n      inTag = true;\r\n    }\r\n    if (!inTag) {\r\n      outStr.append(c);\r\n    }\r\n    if (c == &#39;&gt;&#39;) {\r\n      inTag = false;\r\n    }\r\n  }\r\n  //Print to show that the this method is removing the necessary characters\r\n  System.out.println(outStr);\r\n  return outStr.toString();\r\n}\r\n```\r\n\r\n\r\nSo I need all outputs containing &lt;&gt; to be cleansed and everything in between it, and it should still print out the remaining characters. for instance\r\n\r\n```\r\ninput:app&lt;html&gt;le\r\nexpected:apple\r\n````\r\nhowever it should also remove if it finds just &quot;&amp;lt;&quot; or &quot;&amp;gt;&quot; but my method isn&#39;t doing so.\r\n\r\n```\r\ninput:app&lt;le\r\noutput:app&lt;le\r\nexpected:apple\r\n```\r\n\r\nplease let me know what to fix.","title":"Java HTML Stripping","body":"<pre><code>//Method for Strip HTML\npublic static String stripHtml(String inStr) {\n  boolean inTag = false;\n  char c;\n  StringBuffer outStr = new StringBuffer();\n  int len = inStr.length();\n  for (int i = 0; i &lt; len; i++) {\n    c = inStr.charAt(i);\n    if (c == '&lt;') {\n      inTag = true;\n    }\n    if (!inTag) {\n      outStr.append(c);\n    }\n    if (c == '&gt;') {\n      inTag = false;\n    }\n  }\n  //Print to show that the this method is removing the necessary characters\n  System.out.println(outStr);\n  return outStr.toString();\n}\n</code></pre>\n<p>So I need all outputs containing &lt;&gt; to be cleansed and everything in between it, and it should still print out the remaining characters. for instance</p>\n<pre><code>input:app&lt;html&gt;le\nexpected:apple\n</code></pre>\n<p>however it should also remove if it finds just &quot;&lt;&quot; or &quot;&gt;&quot; but my method isn't doing so.</p>\n<pre><code>input:app&lt;le\noutput:app&lt;le\nexpected:apple\n</code></pre>\n<p>please let me know what to fix.</p>\n"},{"tags":["java","socketexception","connection-reset","sslexception"],"answers":[{"tags":[],"owner":{"account_id":24184085,"reputation":51,"user_id":18144299,"display_name":"Ran Koren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644368683,"creation_date":1644337477,"answer_id":71037288,"question_id":71023310,"body_markdown":"Fixed thanks to the post of https://stackoverflow.com/questions/64810671/spring-boot-random-sslexception-connection-reset-in-kubernetes-with-jdk11\r\n\r\nOnce I configured the httpclient to NO REUSE connection it worked and we dont get anymore SSLExceptions:\r\n```\r\nhttpClient = HttpClients.custom().setDefaultRequestConfig(config)\r\n\t\t.setConnectionReuseStrategy(NoConnectionReuseStrategy.INSTANCE)\r\n\t\t.setConnectionManager(poolingConnManager)\r\n\t\t.build();\r\n```","title":"javax.net.ssl.SSLException: Connection reset on few request out of the total","body":"<p>Fixed thanks to the post of <a href=\"https://stackoverflow.com/questions/64810671/spring-boot-random-sslexception-connection-reset-in-kubernetes-with-jdk11\">Spring Boot random &quot;SSLException: Connection reset&quot; in Kubernetes with JDK11</a></p>\n<p>Once I configured the httpclient to NO REUSE connection it worked and we dont get anymore SSLExceptions:</p>\n<pre><code>httpClient = HttpClients.custom().setDefaultRequestConfig(config)\n        .setConnectionReuseStrategy(NoConnectionReuseStrategy.INSTANCE)\n        .setConnectionManager(poolingConnManager)\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11338727,"reputation":151,"user_id":8313633,"display_name":"DrAchernar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648812121,"creation_date":1648812121,"answer_id":71706118,"question_id":71023310,"body_markdown":"I saw this error while using getInputStream() method of **java.net.URLConnection**. If your url has **space**, java could throw this error ","title":"javax.net.ssl.SSLException: Connection reset on few request out of the total","body":"<p>I saw this error while using getInputStream() method of <strong>java.net.URLConnection</strong>. If your url has <strong>space</strong>, java could throw this error</p>\n"}],"owner":{"account_id":24184085,"reputation":51,"user_id":18144299,"display_name":"Ran Koren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18104,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1669932441,"creation_date":1644257174,"question_id":71023310,"body_markdown":"We have a service that is sending POST request once every second to one of our mircoservices.\r\nThe sent request is to the same URL each time it is sent.\r\n\r\nThe code class TrackTask that sends request is using org.apache.http.impl.client.CloseableHttpClient and creating a POST request using org.apache.http.client.methods.HttpPost.\r\n\r\nOut of 3600 request we send in one hour we get SSLException on few requests but it is very random.\r\nCan be on 2 requests out of 3600 and can be 8.\r\n\r\nThe exception we got:\r\n\r\n    javax.net.ssl.SSLException: Connection reset\r\n            at sun.security.ssl.Alert.createSSLException(Alert.java:127) ~[na:1.8.0_312]\r\n            at sun.security.ssl.TransportContext.fatal(TransportContext.java:324) ~[na:1.8.0_312]\r\n            at sun.security.ssl.TransportContext.fatal(TransportContext.java:267) ~[na:1.8.0_312]\r\n            at sun.security.ssl.TransportContext.fatal(TransportContext.java:262) ~[na:1.8.0_312]\r\n            at sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1563) ~[na:1.8.0_312]\r\n            at sun.security.ssl.SSLSocketImpl.access$400(SSLSocketImpl.java:73) ~[na:1.8.0_312]\r\n            at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:973) ~[na:1.8.0_312]\r\n            at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[da-qa-1.0-SNAPSHOT.jar:na]\r\n            at com.cooladata.da.TrackTask.sendTrack(TrackTask.java:62) [da-qa-1.0-SNAPSHOT.jar:na]\r\n            at com.cooladata.da.TrackTask.startListening(TrackTask.java:108) [da-qa-1.0-SNAPSHOT.jar:na]\r\n            at com.cooladata.da.TrackTask.run(TrackTask.java:120) [da-qa-1.0-SNAPSHOT.jar:na]\r\n            at java.lang.Thread.run(Thread.java:748) [na:1.8.0_312]\r\n            Suppressed: java.net.SocketException: Broken pipe (Write failed)\r\n                    at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_312]\r\n                    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_312]\r\n                    at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_312]\r\n                    at sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81) ~[na:1.8.0_312]\r\n                    at sun.security.ssl.TransportContext.fatal(TransportContext.java:355) ~[na:1.8.0_312]\r\n                    ... 26 common frames omitted\r\n    Caused by: java.net.SocketException: Connection reset\r\n            at java.net.SocketInputStream.read(SocketInputStream.java:210) ~[na:1.8.0_312]\r\n            at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_312]\r\n            at sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464) ~[na:1.8.0_312]\r\n            at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68) ~[na:1.8.0_312]\r\n            at sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1341) ~[na:1.8.0_312]\r\n            at sun.security.ssl.SSLSocketImpl.access$300(SSLSocketImpl.java:73) ~[na:1.8.0_312]\r\n            at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:957) ~[na:1.8.0_312]\r\n            ... 21 common frames omitted\r\n\r\nWe use to have none or almost no such exceptions at all.\r\n\r\nCan anyone help us understand what is the reason for such random exception and how we can resolve it ?","title":"javax.net.ssl.SSLException: Connection reset on few request out of the total","body":"<p>We have a service that is sending POST request once every second to one of our mircoservices.\nThe sent request is to the same URL each time it is sent.</p>\n<p>The code class TrackTask that sends request is using org.apache.http.impl.client.CloseableHttpClient and creating a POST request using org.apache.http.client.methods.HttpPost.</p>\n<p>Out of 3600 request we send in one hour we get SSLException on few requests but it is very random.\nCan be on 2 requests out of 3600 and can be 8.</p>\n<p>The exception we got:</p>\n<pre><code>javax.net.ssl.SSLException: Connection reset\n        at sun.security.ssl.Alert.createSSLException(Alert.java:127) ~[na:1.8.0_312]\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:324) ~[na:1.8.0_312]\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:267) ~[na:1.8.0_312]\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:262) ~[na:1.8.0_312]\n        at sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1563) ~[na:1.8.0_312]\n        at sun.security.ssl.SSLSocketImpl.access$400(SSLSocketImpl.java:73) ~[na:1.8.0_312]\n        at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:973) ~[na:1.8.0_312]\n        at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[da-qa-1.0-SNAPSHOT.jar:na]\n        at com.cooladata.da.TrackTask.sendTrack(TrackTask.java:62) [da-qa-1.0-SNAPSHOT.jar:na]\n        at com.cooladata.da.TrackTask.startListening(TrackTask.java:108) [da-qa-1.0-SNAPSHOT.jar:na]\n        at com.cooladata.da.TrackTask.run(TrackTask.java:120) [da-qa-1.0-SNAPSHOT.jar:na]\n        at java.lang.Thread.run(Thread.java:748) [na:1.8.0_312]\n        Suppressed: java.net.SocketException: Broken pipe (Write failed)\n                at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_312]\n                at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_312]\n                at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_312]\n                at sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81) ~[na:1.8.0_312]\n                at sun.security.ssl.TransportContext.fatal(TransportContext.java:355) ~[na:1.8.0_312]\n                ... 26 common frames omitted\nCaused by: java.net.SocketException: Connection reset\n        at java.net.SocketInputStream.read(SocketInputStream.java:210) ~[na:1.8.0_312]\n        at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_312]\n        at sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464) ~[na:1.8.0_312]\n        at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68) ~[na:1.8.0_312]\n        at sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1341) ~[na:1.8.0_312]\n        at sun.security.ssl.SSLSocketImpl.access$300(SSLSocketImpl.java:73) ~[na:1.8.0_312]\n        at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:957) ~[na:1.8.0_312]\n        ... 21 common frames omitted\n</code></pre>\n<p>We use to have none or almost no such exceptions at all.</p>\n<p>Can anyone help us understand what is the reason for such random exception and how we can resolve it ?</p>\n"},{"tags":["java","android","memory-mapped-files","randomaccessfile"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":2,"creation_date":1387360148,"post_id":20653807,"comment_id":30921455,"body_markdown":"A file is by definition somehow in a filesystem. What is the problem you are trying to solve with such a thing? If you want to store something purely in memory use a simple `byte[]` array or `ByteBuffer`.","body":"A file is by definition somehow in a filesystem. What is the problem you are trying to solve with such a thing? If you want to store something purely in memory use a simple <code>byte[]</code> array or <code>ByteBuffer</code>."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1387360187,"post_id":20653807,"comment_id":30921474,"body_markdown":"If you want it to be written only to be memory, not a physical stroage you need to use a file system like `tmpfs`  I don&#39;t know if Android supports this but even if it does, it doesn&#39;t have much memory so you have to use as little as possible.","body":"If you want it to be written only to be memory, not a physical stroage you need to use a file system like <code>tmpfs</code>  I don&#39;t know if Android supports this but even if it does, it doesn&#39;t have much memory so you have to use as little as possible."},{"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"score":0,"creation_date":1387360306,"post_id":20653807,"comment_id":30921540,"body_markdown":"I&#39;ve no experience with Memory Mapped Files, but I&#39;ve read the link and looks like it is meant to cache a file (or a part of it) in RAM, modify it there, and commit back to disk. What you are trying, memory mapped files W/O actual files, is not possible using that approach, just stick to byte buffer variables in heap.","body":"I&#39;ve no experience with Memory Mapped Files, but I&#39;ve read the link and looks like it is meant to cache a file (or a part of it) in RAM, modify it there, and commit back to disk. What you are trying, memory mapped files W/O actual files, is not possible using that approach, just stick to byte buffer variables in heap."},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1387360372,"post_id":20653807,"comment_id":30921588,"body_markdown":"@zapl is it possible to have a huge file data in the byte[] (say a 10MB file)? For this case only i am going for this MemoryMap functionality.","body":"@zapl is it possible to have a huge file data in the byte[] (say a 10MB file)? For this case only i am going for this MemoryMap functionality."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1387360866,"post_id":20653807,"comment_id":30921886,"body_markdown":"Memory mapped files allow efficient random access to files. They won&#39;t solve the problem that you have limited memory (you can modify the file as if it was memory). 10MB should work on most newer phones but older ones might not (apps has as low as 16MB in total). The limit of `byte[]` is in theory the `int` used as index, i.e. 2GB. Consider using a real file in your app&#39;s [cache directoy](http://developer.android.com/reference/android/content/Context.html#getCacheDir%28%29)","body":"Memory mapped files allow efficient random access to files. They won&#39;t solve the problem that you have limited memory (you can modify the file as if it was memory). 10MB should work on most newer phones but older ones might not (apps has as low as 16MB in total). The limit of <code>byte[]</code> is in theory the <code>int</code> used as index, i.e. 2GB. Consider using a real file in your app&#39;s <a href=\"http://developer.android.com/reference/android/content/Context.html#getCacheDir%28%29\" rel=\"nofollow noreferrer\">cache directoy</a>"},{"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"score":0,"creation_date":1387360917,"post_id":20653807,"comment_id":30921920,"body_markdown":"@Deepak I&#39;d say 10 MB is doable, but might be device dependent. Have a look at the [`largeHeap`](http://developer.android.com/guide/topics/manifest/application-element.html#largeHeap) manifest attribute. Also [here](http://stackoverflow.com/q/4351678/813951) and [here](http://stackoverflow.com/questions/3590443/what-is-the-maximum-memory-limits-per-application-for-android-2-2)","body":"@Deepak I&#39;d say 10 MB is doable, but might be device dependent. Have a look at the <a href=\"http://developer.android.com/guide/topics/manifest/application-element.html#largeHeap\" rel=\"nofollow noreferrer\"><code>largeHeap</code></a> manifest attribute. Also <a href=\"http://stackoverflow.com/q/4351678/813951\">here</a> and <a href=\"http://stackoverflow.com/questions/3590443/what-is-the-maximum-memory-limits-per-application-for-android-2-2\">here</a>"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1387361475,"post_id":20653807,"comment_id":30922246,"body_markdown":"@zapl I know about this large heap and the support in the newer phones, but i am just finding a way to sort this problem down.We have a way to have in a cache of our application so trying to work around this","body":"@zapl I know about this large heap and the support in the newer phones, but i am just finding a way to sort this problem down.We have a way to have in a cache of our application so trying to work around this"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1387362072,"post_id":20653807,"comment_id":30922619,"body_markdown":"Whatever you use in memory is going to use the memory. That means that if some kind of &quot;memory file&quot; works so would a `byte[]`. And if you don&#39;t have that much memory you simply can&#39;t use memory to cache the data. You can probably try to use memory and write it to a file if there is not enough [Related info here](http://developer.android.com/training/articles/memory.html)","body":"Whatever you use in memory is going to use the memory. That means that if some kind of &quot;memory file&quot; works so would a <code>byte[]</code>. And if you don&#39;t have that much memory you simply can&#39;t use memory to cache the data. You can probably try to use memory and write it to a file if there is not enough <a href=\"http://developer.android.com/training/articles/memory.html\" rel=\"nofollow noreferrer\">Related info here</a>"},{"owner":{"account_id":3033814,"reputation":1720,"user_id":2572341,"accept_rate":86,"display_name":"Dexter"},"score":0,"creation_date":1415519170,"post_id":20653807,"comment_id":42220485,"body_markdown":"you might want to look into this http://developer.android.com/reference/android/os/MemoryFile.html but you can not use RandomAccessFile/MappedByteBuffer as they read from the file-system only","body":"you might want to look into this <a href=\"http://developer.android.com/reference/android/os/MemoryFile.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/MemoryFile.html</a> but you can not use RandomAccessFile/MappedByteBuffer as they read from the file-system only"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1460444614,"post_id":20653807,"comment_id":60731331,"body_markdown":"Can this help with MediaPlayer class, to play audio inputSteam instead of first putting it into a real storage file?","body":"Can this help with MediaPlayer class, to play audio inputSteam instead of first putting it into a real storage file?"}],"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669932354,"creation_date":1387357864,"question_id":20653807,"body_markdown":"I am having a data in bytes, and i want to write it into a memory location (not in a file at a location). To do this i am using RandomAccessFile and MappedByteBuffer based on this [link][1]\r\n\r\nThe code looks good and worked fine only when i give a absolute path (say /mnt/sdcard/a.txt) while creating a RandomAccessFile object and also after i run the code i could see a.txt is getting created at the mentioned location.But i need that to be not happening, i want that bytes to be there in the Memory not in the physical location (in the sense, internal, external and application location).\r\n\r\n**NOTE:** \r\n\r\nAfter i written that in memory i need that to be read it again from memory.\r\n\r\nThanks in Advance\r\n\r\n  [1]: http://javarevisited.blogspot.in/2012/01/memorymapped-file-and-io-in-java.html","title":"Android: Creating file in memory (Not in Filesystem) Using RandomAccessFile and MappedByteBuffer","body":"<p>I am having a data in bytes, and i want to write it into a memory location (not in a file at a location). To do this i am using RandomAccessFile and MappedByteBuffer based on this <a href=\"http://javarevisited.blogspot.in/2012/01/memorymapped-file-and-io-in-java.html\" rel=\"nofollow\">link</a></p>\n\n<p>The code looks good and worked fine only when i give a absolute path (say /mnt/sdcard/a.txt) while creating a RandomAccessFile object and also after i run the code i could see a.txt is getting created at the mentioned location.But i need that to be not happening, i want that bytes to be there in the Memory not in the physical location (in the sense, internal, external and application location).</p>\n\n<p><strong>NOTE:</strong> </p>\n\n<p>After i written that in memory i need that to be read it again from memory.</p>\n\n<p>Thanks in Advance</p>\n"},{"tags":["java","ajax","jsf","primefaces"],"comments":[{"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"score":1,"creation_date":1670075787,"post_id":74648600,"comment_id":131791101,"body_markdown":"If you create a Primefaces Test reproducer that would help us all debug it much better: https://github.com/primefaces/primefaces-test","body":"If you create a Primefaces Test reproducer that would help us all debug it much better: <a href=\"https://github.com/primefaces/primefaces-test\" rel=\"nofollow noreferrer\">github.com/primefaces/primefaces-test</a>"},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1670515622,"post_id":74648600,"comment_id":131897567,"body_markdown":"Try moving the update tag in the confirm dialog button","body":"Try moving the update tag in the confirm dialog button"}],"owner":{"account_id":15984536,"reputation":134,"user_id":11535394,"display_name":"Maria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669932087,"creation_date":1669931653,"question_id":74648600,"body_markdown":"I am using a `p:dataTable` to display a list of players. I have a column to delete the player from the database. This column has a `p:commandButton`, that triggers a `p:confirmDialog`. The confirm dialog button should both exclude the player and refresh the table.\r\nThe deletion works just fine, but I can&#39;t seem to refresh the data table automatically in any way.\r\n\r\nThe code is something like this:\r\n\r\nThe `.xhtml`:\r\n```\r\n\r\n&lt;h:form id=&quot;form&quot; &gt;\r\n   &lt;p:growl/&gt;\r\n     &lt;div class=&quot;bloco&quot;&gt;\r\n       &lt;h2&gt;PLAYERS&lt;/h2&gt;\r\n\r\n         &lt;p:dataTable value=&quot;#{adminPlayersBean.players}&quot; var=&quot;p&quot;\r\n                      paginator=&quot;true&quot; paginatorAlwaysVisible=&quot;true&quot;\r\n                      paginatorPosition=&quot;bottom&quot; rows=&quot;8&quot;&gt;\r\n// some columns\r\n\r\n          &lt;p:column headerText=&quot;X&quot;&gt;\r\n            &lt;p:commandButton action=&quot;#{adminPlayersBean.remove(p)}&quot; \r\n                             update=&quot;@form&quot; immediate=&quot;true&quot; \r\n                             styleClass=&quot;ui-button-danger&quot; icon=&quot;pi pi-times&quot;&gt;\r\n            &lt;p:confirm header=&quot;Delete player&quot; message=&quot;Delete #{p.getNickname()}?&quot; /&gt;\r\n          &lt;/p:commandButton&gt;\r\n        &lt;/p:column&gt;\r\n\r\n// ...\r\n\r\n\r\n     &lt;p:confirmDialog global=&quot;true&quot; showEffect=&quot;fade&quot; hideEffect=&quot;fade&quot; \r\n                      responsive=&quot;true&quot; width=&quot;430&quot; &gt;\r\n                 \r\n        &lt;p:commandButton value=&quot;✓ Yes&quot; type=&quot;button&quot; styleClass=&quot;ui-confirmdialog-yes&quot;/&gt;\r\n        &lt;p:commandButton value=&quot;X No&quot; type=&quot;button&quot; styleClass=&quot;ui-confirmdialog-no&quot; /&gt;\r\n     &lt;/p:confirmDialog&gt;\r\n\r\n//...\r\n```\r\n\r\nIn the bean:\r\n\r\n\r\n```\r\n\r\n@Named\r\n@ViewScoped\r\npublic class AdminPlayersBean implements Serializable {\r\n\r\n    private List&lt;Player&gt; players;\r\n\r\n    public void remove(Player player) {\r\n        playerController.remove(player);  //deletes the player from DB\r\n        \r\n        this.players = playersController.findAll(); //updates the List that fills the dataTable\r\n\r\n        PrimeFaces.current().ajax().update(&quot;:form&quot;);       \r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve already tried changing the update from the .xhtml to:\r\n\r\n- `update=&quot;:form&quot; `\r\n- `update=&quot;@form&quot; `\r\n- also, added a &quot;table&quot; id to the `p:dataTable` and tried `update=&quot;:form:table&quot; `\r\n\r\nIn the Bean, I&#39;ve tried:\r\n-  `PrimeFaces.current().ajax().update(&quot;:form&quot;);` \r\n-  `PrimeFaces.current().ajax().update(&quot;@form&quot;);` \r\n- etc\r\n\r\n\r\nWhat am I missing?\r\n\r\nThanks!","title":"Update p:dataTable after deleting a row with p:confirmDialog","body":"<p>I am using a <code>p:dataTable</code> to display a list of players. I have a column to delete the player from the database. This column has a <code>p:commandButton</code>, that triggers a <code>p:confirmDialog</code>. The confirm dialog button should both exclude the player and refresh the table.\nThe deletion works just fine, but I can't seem to refresh the data table automatically in any way.</p>\n<p>The code is something like this:</p>\n<p>The <code>.xhtml</code>:</p>\n<pre><code>\n&lt;h:form id=&quot;form&quot; &gt;\n   &lt;p:growl/&gt;\n     &lt;div class=&quot;bloco&quot;&gt;\n       &lt;h2&gt;PLAYERS&lt;/h2&gt;\n\n         &lt;p:dataTable value=&quot;#{adminPlayersBean.players}&quot; var=&quot;p&quot;\n                      paginator=&quot;true&quot; paginatorAlwaysVisible=&quot;true&quot;\n                      paginatorPosition=&quot;bottom&quot; rows=&quot;8&quot;&gt;\n// some columns\n\n          &lt;p:column headerText=&quot;X&quot;&gt;\n            &lt;p:commandButton action=&quot;#{adminPlayersBean.remove(p)}&quot; \n                             update=&quot;@form&quot; immediate=&quot;true&quot; \n                             styleClass=&quot;ui-button-danger&quot; icon=&quot;pi pi-times&quot;&gt;\n            &lt;p:confirm header=&quot;Delete player&quot; message=&quot;Delete #{p.getNickname()}?&quot; /&gt;\n          &lt;/p:commandButton&gt;\n        &lt;/p:column&gt;\n\n// ...\n\n\n     &lt;p:confirmDialog global=&quot;true&quot; showEffect=&quot;fade&quot; hideEffect=&quot;fade&quot; \n                      responsive=&quot;true&quot; width=&quot;430&quot; &gt;\n                 \n        &lt;p:commandButton value=&quot;✓ Yes&quot; type=&quot;button&quot; styleClass=&quot;ui-confirmdialog-yes&quot;/&gt;\n        &lt;p:commandButton value=&quot;X No&quot; type=&quot;button&quot; styleClass=&quot;ui-confirmdialog-no&quot; /&gt;\n     &lt;/p:confirmDialog&gt;\n\n//...\n</code></pre>\n<p>In the bean:</p>\n<pre><code>\n@Named\n@ViewScoped\npublic class AdminPlayersBean implements Serializable {\n\n    private List&lt;Player&gt; players;\n\n    public void remove(Player player) {\n        playerController.remove(player);  //deletes the player from DB\n        \n        this.players = playersController.findAll(); //updates the List that fills the dataTable\n\n        PrimeFaces.current().ajax().update(&quot;:form&quot;);       \n    }\n</code></pre>\n<p>I've already tried changing the update from the .xhtml to:</p>\n<ul>\n<li><code>update=&quot;:form&quot; </code></li>\n<li><code>update=&quot;@form&quot; </code></li>\n<li>also, added a &quot;table&quot; id to the <code>p:dataTable</code> and tried <code>update=&quot;:form:table&quot; </code></li>\n</ul>\n<p>In the Bean, I've tried:</p>\n<ul>\n<li><code>PrimeFaces.current().ajax().update(&quot;:form&quot;);</code></li>\n<li><code>PrimeFaces.current().ajax().update(&quot;@form&quot;);</code></li>\n<li>etc</li>\n</ul>\n<p>What am I missing?</p>\n<p>Thanks!</p>\n"},{"tags":["java","sql","oracle","oracle19c","oracle-ebs"],"answers":[{"tags":[],"owner":{"account_id":9630238,"reputation":739,"user_id":7184001,"display_name":"Egret"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669931071,"creation_date":1669931071,"answer_id":74648514,"question_id":74635992,"body_markdown":"With Database 19c, the UTL_FILE_DIR database initialization parameter has been desupported. As part of the upgrade to Database 19c, you must migrate all UTL_FILE_DIR database initialization parameters to database directory objects.  EBS development has created a utility to migrate and manage your defined PL/SQL file input/output directories.  \r\n\r\nYou need to ensure you&#39;ve followed the instructions given in Section 3.1.1 of &quot;Using UTL_FILE_DIR or Database Directories for PL/SQL File I/O in Oracle E-Business Suite Releases 12.1 and 12.2&quot; (Doc ID 2525754.1).  \r\n\r\nThis [blog][1] also has a good description of the upgrade.\r\n\r\n  [1]: https://www.funoracleapps.com/2021/04/upgrading-oracle-ebs-12210-database.html","title":"Oracle EBS 12.1.3 Concurrent Job issue after 19C migration","body":"<p>With Database 19c, the UTL_FILE_DIR database initialization parameter has been desupported. As part of the upgrade to Database 19c, you must migrate all UTL_FILE_DIR database initialization parameters to database directory objects.  EBS development has created a utility to migrate and manage your defined PL/SQL file input/output directories.</p>\n<p>You need to ensure you've followed the instructions given in Section 3.1.1 of &quot;Using UTL_FILE_DIR or Database Directories for PL/SQL File I/O in Oracle E-Business Suite Releases 12.1 and 12.2&quot; (Doc ID 2525754.1).</p>\n<p>This <a href=\"https://www.funoracleapps.com/2021/04/upgrading-oracle-ebs-12210-database.html\" rel=\"nofollow noreferrer\">blog</a> also has a good description of the upgrade.</p>\n"}],"owner":{"account_id":9290668,"reputation":65,"user_id":6899211,"accept_rate":100,"display_name":"Kumar G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669931071,"creation_date":1669858305,"question_id":74635992,"body_markdown":"We have a concurrent job that started failing after migrating the Oracle Database to 19C for Oracle EBS 12.1.3.Below is the error that we get after the concurrent job failing in Oracle EBS.\r\n\r\nCurrent system time is 30-NOV-2022 19:01:43\r\n\r\nCause: FDPSTP failed due to ORA-20100: ORA-20100: Temporary file creation for FND_FILE failed.\r\nDirectory &amp;FILE_DIR is invalid, contact your system administrator.\r\n\r\nAction: Check that the directory is a valid directory with wri\r\nStart of log messages from FND_FILE\r\nEnd of log messages from FND_FILE\r\nNo completion options were requested.\r\n\r\nOutput file size: \r\n0\r\nDeleting empty output file.\r\nConcurrent request completed\r\nCurrent system time is 30-NOV-2022 19:01:44\r\n\r\n","title":"Oracle EBS 12.1.3 Concurrent Job issue after 19C migration","body":"<p>We have a concurrent job that started failing after migrating the Oracle Database to 19C for Oracle EBS 12.1.3.Below is the error that we get after the concurrent job failing in Oracle EBS.</p>\n<p>Current system time is 30-NOV-2022 19:01:43</p>\n<p>Cause: FDPSTP failed due to ORA-20100: ORA-20100: Temporary file creation for FND_FILE failed.\nDirectory &amp;FILE_DIR is invalid, contact your system administrator.</p>\n<p>Action: Check that the directory is a valid directory with wri\nStart of log messages from FND_FILE\nEnd of log messages from FND_FILE\nNo completion options were requested.</p>\n<p>Output file size:\n0\nDeleting empty output file.\nConcurrent request completed\nCurrent system time is 30-NOV-2022 19:01:44</p>\n"},{"tags":["java","android","kotlin","logging","static"],"comments":[{"owner":{"account_id":12411897,"reputation":8867,"user_id":12191177,"display_name":"IR42"},"score":2,"creation_date":1669926109,"post_id":74647724,"comment_id":131760104,"body_markdown":"https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-methods","body":"<a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/java-to-kotlin-interop.html#static-metho&zwnj;&#8203;ds</a>"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1669926158,"post_id":74647724,"comment_id":131760114,"body_markdown":"`The method from which I am calling the Logger2 class is not even static ` that is exactly what the error is complaining about.  The `Logger2` method is not `static` but you are using it as if it was","body":"<code>The method from which I am calling the Logger2 class is not even static </code> that is exactly what the error is complaining about.  The <code>Logger2</code> method is not <code>static</code> but you are using it as if it was"},{"owner":{"account_id":18998762,"reputation":313,"user_id":13866564,"display_name":"Saneen K P"},"score":0,"creation_date":1669926426,"post_id":74647724,"comment_id":131760171,"body_markdown":"@Nexevis how am I using it as if it was static ? is it because my kotlin class is an object ?","body":"@Nexevis how am I using it as if it was static ? is it because my kotlin class is an object ?"},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1669927446,"post_id":74647724,"comment_id":131760456,"body_markdown":"This question should not have been closed as a duplicate of the Java questions about the error, because it has to do specifically with Kotlin `object`s and how they can be used from Java.","body":"This question should not have been closed as a duplicate of the Java questions about the error, because it has to do specifically with Kotlin <code>object</code>s and how they can be used from Java."}],"answers":[{"comments":[{"owner":{"account_id":18998762,"reputation":313,"user_id":13866564,"display_name":"Saneen K P"},"score":0,"creation_date":1669928770,"post_id":74648031,"comment_id":131760890,"body_markdown":"This has got to be the best answer I have received yet. Thanks a lot for mentioning every bit of the reasons and yes I was curious to understand the difference . Thanks a lot again.\nWhat do you mean by the function cannot rely on any non- \\@JvmStatic members . Do you mean that I cannot call another non-\\@JvmStatic function from a @Jvmstatic function of the same object ?","body":"This has got to be the best answer I have received yet. Thanks a lot for mentioning every bit of the reasons and yes I was curious to understand the difference . Thanks a lot again. What do you mean by the function cannot rely on any non- \\@JvmStatic members . Do you mean that I cannot call another non-\\@JvmStatic function from a @Jvmstatic function of the same object ?"},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1669929208,"post_id":74648031,"comment_id":131761009,"body_markdown":"Actually, I&#39;m wrong about that. The real reason it&#39;s not automatic is that it compiles an additional overload of the method as a static method that calls through to the singleton instance method.","body":"Actually, I&#39;m wrong about that. The real reason it&#39;s not automatic is that it compiles an additional overload of the method as a static method that calls through to the singleton instance method."},{"owner":{"account_id":18998762,"reputation":313,"user_id":13866564,"display_name":"Saneen K P"},"score":0,"creation_date":1669929853,"post_id":74648031,"comment_id":131761136,"body_markdown":"I am sorry , I did not understand . Could you please let me some reference or maybe an explanation. Thanks a lot again.","body":"I am sorry , I did not understand . Could you please let me some reference or maybe an explanation. Thanks a lot again."},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1669931450,"post_id":74648031,"comment_id":131761558,"body_markdown":"The natural question you might have when you hear about `@JvmStatic` is, &quot;Why isn&#39;t that done automatically? Why do we need to add an annotation?&quot; The answer is that the static method is generated as additional code. It&#39;s adding overhead and size to the compiled bytecode, so this is omitted by default.","body":"The natural question you might have when you hear about <code>@JvmStatic</code> is, &quot;Why isn&#39;t that done automatically? Why do we need to add an annotation?&quot; The answer is that the static method is generated as additional code. It&#39;s adding overhead and size to the compiled bytecode, so this is omitted by default."}],"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1669929326,"creation_date":1669927896,"answer_id":74648031,"question_id":74647724,"body_markdown":"Kotlin objects are not exactly equivalent to Java static. They are singletons. They exist as a class instance. When accessed from Java, the singleton instance must be retrieved through the static field named `INSTANCE`:\r\n\r\n```java\r\nLogger2.INSTANCE.e(&quot;foo&quot;);\r\n```\r\n\r\nIf you want the compiler to instead make each of these functions `static` so you don&#39;t have to retrieve them through the singleton instance, then mark them as `@JvmStatic`:\r\n\r\n```kotlin\r\nobject Logger2 {\r\n\r\n    @JvmStatic\r\n    fun d(message : Any?){\r\n        if (BuildConfig.DEBUG)\r\n            Log.d(TAG , message.toString())\r\n    } \r\n\r\n    //...\r\n}\r\n```\r\nThe documentation about this [is here](https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-methods).\r\n\r\nIf you&#39;re curious about the reasons why it was designed this way:\r\n\r\n* The distinction between a Java class and its static members is sort of confusing. What do you even call the collection of static fields and methods of a Java class minus all the non-static members? It isn&#39;t any one *thing*.\r\n* Kotlin objects are flexible. They are an instance of a class just like any other class instance or function object or enum value, so you can pass them around as function arguments, and they can implement interfaces or be subclasses of other classes. They can be the receiver of extension functions. etc.","title":"Non-static method cannot be referenced from a static context - Java to Kotlin - Android","body":"<p>Kotlin objects are not exactly equivalent to Java static. They are singletons. They exist as a class instance. When accessed from Java, the singleton instance must be retrieved through the static field named <code>INSTANCE</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Logger2.INSTANCE.e(&quot;foo&quot;);\n</code></pre>\n<p>If you want the compiler to instead make each of these functions <code>static</code> so you don't have to retrieve them through the singleton instance, then mark them as <code>@JvmStatic</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object Logger2 {\n\n    @JvmStatic\n    fun d(message : Any?){\n        if (BuildConfig.DEBUG)\n            Log.d(TAG , message.toString())\n    } \n\n    //...\n}\n</code></pre>\n<p>The documentation about this <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">is here</a>.</p>\n<p>If you're curious about the reasons why it was designed this way:</p>\n<ul>\n<li>The distinction between a Java class and its static members is sort of confusing. What do you even call the collection of static fields and methods of a Java class minus all the non-static members? It isn't any one <em>thing</em>.</li>\n<li>Kotlin objects are flexible. They are an instance of a class just like any other class instance or function object or enum value, so you can pass them around as function arguments, and they can implement interfaces or be subclasses of other classes. They can be the receiver of extension functions. etc.</li>\n</ul>\n"}],"owner":{"account_id":18998762,"reputation":313,"user_id":13866564,"display_name":"Saneen K P"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74648031,"answer_count":1,"score":1,"last_activity_date":1669929326,"creation_date":1669925818,"question_id":74647724,"body_markdown":"I am trying to create a Logger class in android , which would log message only if its a debug build. \r\n\r\n    object Logger2 {\r\n\r\n    private const val TAG = Constants.LOGGING_TAG\r\n\r\n    fun d(message : Any?){\r\n        if (BuildConfig.DEBUG)\r\n            Log.d(TAG , message.toString())\r\n    }\r\n\r\n    fun d(message: Any? , e : Exception?){\r\n        if (BuildConfig.DEBUG)\r\n            Log.d(TAG , message.toString(), e)\r\n    }\r\n    fun e(message : Any?){\r\n        if (BuildConfig.DEBUG)\r\n            Log.e(TAG , message.toString())\r\n    }\r\n\r\n    fun e(message: Any? , e : Exception?){\r\n        if (BuildConfig.DEBUG)\r\n            Log.e(TAG , message.toString(), e)\r\n    }\r\n\r\n    fun w(message : Any?){\r\n        if (BuildConfig.DEBUG)\r\n            Log.w(TAG , message.toString())\r\n    }\r\n\r\n    fun w(message: Any? , e : Exception?){\r\n        if (BuildConfig.DEBUG)\r\n            Log.w(TAG , message.toString(), e)\r\n    }\r\n\r\n    fun v(message : Any?){\r\n        if (BuildConfig.DEBUG)\r\n            Log.v(TAG , message.toString())\r\n    }\r\n\r\n    fun v(message: Any? , e : Exception?){\r\n        if (BuildConfig.DEBUG)\r\n            Log.v(TAG , message.toString(), e)\r\n    }\r\n\r\n    }\r\n\r\nSince I want all of my other activities and classes to be able to use this logger class , I created the class as a kotlin object.\r\n\r\nThis works fine in all other kotlin classes ,I was able to call the log methods like this , This is how I call from the kotlin classes.\r\n    \r\n    Logger2.e(&quot;message&quot;)\r\n\r\nBut from a Java class when I try to do the same call . I get this sort of error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DKi7Y.png\r\n\r\nCan someone tell me what exactly does that error mean and how to fix it ? The method from which I am calling the Logger2 class is not even static . Then why this error ?","title":"Non-static method cannot be referenced from a static context - Java to Kotlin - Android","body":"<p>I am trying to create a Logger class in android , which would log message only if its a debug build.</p>\n<pre><code>object Logger2 {\n\nprivate const val TAG = Constants.LOGGING_TAG\n\nfun d(message : Any?){\n    if (BuildConfig.DEBUG)\n        Log.d(TAG , message.toString())\n}\n\nfun d(message: Any? , e : Exception?){\n    if (BuildConfig.DEBUG)\n        Log.d(TAG , message.toString(), e)\n}\nfun e(message : Any?){\n    if (BuildConfig.DEBUG)\n        Log.e(TAG , message.toString())\n}\n\nfun e(message: Any? , e : Exception?){\n    if (BuildConfig.DEBUG)\n        Log.e(TAG , message.toString(), e)\n}\n\nfun w(message : Any?){\n    if (BuildConfig.DEBUG)\n        Log.w(TAG , message.toString())\n}\n\nfun w(message: Any? , e : Exception?){\n    if (BuildConfig.DEBUG)\n        Log.w(TAG , message.toString(), e)\n}\n\nfun v(message : Any?){\n    if (BuildConfig.DEBUG)\n        Log.v(TAG , message.toString())\n}\n\nfun v(message: Any? , e : Exception?){\n    if (BuildConfig.DEBUG)\n        Log.v(TAG , message.toString(), e)\n}\n\n}\n</code></pre>\n<p>Since I want all of my other activities and classes to be able to use this logger class , I created the class as a kotlin object.</p>\n<p>This works fine in all other kotlin classes ,I was able to call the log methods like this , This is how I call from the kotlin classes.</p>\n<pre><code>Logger2.e(&quot;message&quot;)\n</code></pre>\n<p>But from a Java class when I try to do the same call . I get this sort of error.</p>\n<p><a href=\"https://i.stack.imgur.com/DKi7Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKi7Y.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone tell me what exactly does that error mean and how to fix it ? The method from which I am calling the Logger2 class is not even static . Then why this error ?</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"comments":[{"owner":{"account_id":2208342,"reputation":716,"user_id":1950962,"accept_rate":74,"display_name":"skywalker"},"score":1,"creation_date":1669888417,"post_id":74639746,"comment_id":131747016,"body_markdown":"Thanks for your reply! I am unable to load the example project from the first bullet. Can you send it again?","body":"Thanks for your reply! I am unable to load the example project from the first bullet. Can you send it again?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669888455,"post_id":74639746,"comment_id":131747032,"body_markdown":"https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.0.0&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,security (better? both seem to work for me;(","body":"<a href=\"https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.0.0&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,security\" rel=\"nofollow noreferrer\">start.spring.io/&hellip;</a> (better? both seem to work for me;("},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669888685,"post_id":74639746,"comment_id":131747116,"body_markdown":"oh, i used no config (except this one application.properties-entry) ..at all","body":"oh, i used no config (except this one application.properties-entry) ..at all"},{"owner":{"account_id":2208342,"reputation":716,"user_id":1950962,"accept_rate":74,"display_name":"skywalker"},"score":0,"creation_date":1669888979,"post_id":74639746,"comment_id":131747218,"body_markdown":"Perhaps there is a different behavior when http basich auth configuration is added. No idea.","body":"Perhaps there is a different behavior when http basich auth configuration is added. No idea."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669889518,"post_id":74639746,"comment_id":131747390,"body_markdown":"see edit, ..back to my question: where/what is problem?","body":"see edit, ..back to my question: where/what is problem?"},{"owner":{"account_id":2208342,"reputation":716,"user_id":1950962,"accept_rate":74,"display_name":"skywalker"},"score":0,"creation_date":1669889865,"post_id":74639746,"comment_id":131747518,"body_markdown":"I still receive 401 unauthorized when deleting @bean for password encoder from my config and use \n\nspring.security.user.name=myUser\nspring.security.user.password={bcrypt}$2a$12$Svh4zYPZqKvUEo0/U6YloO.ExlIllcSP4G04b31/KGXjrzp/hFROy\nspring.security.user.roles=admin","body":"I still receive 401 unauthorized when deleting @bean for password encoder from my config and use   spring.security.user.name=myUser spring.security.user.password={bcrypt}$2a$12$Svh4zYPZqKvUEo0&zwnj;&#8203;/U6YloO.ExlIllcSP4G0&zwnj;&#8203;4b31/KGXjrzp/hFROy spring.security.user.roles=admin"},{"owner":{"account_id":2208342,"reputation":716,"user_id":1950962,"accept_rate":74,"display_name":"skywalker"},"score":0,"creation_date":1669889895,"post_id":74639746,"comment_id":131747532,"body_markdown":"Maybe annotations are the problem here - Configuration,\nEnableWebSecurity","body":"Maybe annotations are the problem here - Configuration, EnableWebSecurity"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669890919,"post_id":74639746,"comment_id":131747857,"body_markdown":"oh, sorry, i indeed forgot @Configuration, but double-checked now and wrote test","body":"oh, sorry, i indeed forgot @Configuration, but double-checked now and wrote test"},{"owner":{"account_id":2208342,"reputation":716,"user_id":1950962,"accept_rate":74,"display_name":"skywalker"},"score":0,"creation_date":1669891001,"post_id":74639746,"comment_id":131747879,"body_markdown":"maybe you can reproduce it by adding  .authorizeHttpRequests().requestMatchers(&quot;/secured&quot;).hasRole(&quot;admin&quot;)\nto your current config","body":"maybe you can reproduce it by adding  .authorizeHttpRequests().requestMatchers(&quot;/secured&quot;).hasRole&zwnj;&#8203;(&quot;admin&quot;) to your current config"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669891254,"post_id":74639746,"comment_id":131747959,"body_markdown":"i also tried that...but authorization..and authentication.... (it seems to be/you seem to have an authentication problem ...401 :)","body":"i also tried that...but authorization..and authentication.... (it seems to be/you seem to have an authentication problem ...401 :)"},{"owner":{"account_id":2208342,"reputation":716,"user_id":1950962,"accept_rate":74,"display_name":"skywalker"},"score":0,"creation_date":1669892052,"post_id":74639746,"comment_id":131748234,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250045/discussion-between-skywalker-and-xerx593).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250045/discussion-between-skywalker-and-xerx593\">continue this discussion in chat</a>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1669893212,"post_id":74639746,"comment_id":131748640,"body_markdown":"I also [tested](https://bcrypt-generator.com/) your `{bcrypt}$2a$12$Svh4zYPZqKvUEo0/U6YloO.ExlIllcSP4G04b31/KGXjrzp/hFROy` against `myPassword` ..and had a match ;( ..glad: you found it!? Thanks for accept! ..back to my question: what was the problem?:)","body":"I also <a href=\"https://bcrypt-generator.com/\" rel=\"nofollow noreferrer\">tested</a> your <code>{bcrypt}$2a$12$Svh4zYPZqKvUEo0&#47;U6YloO.ExlIllcSP4G04b31&#47;KGXjr&zwnj;&#8203;zp&#47;hFROy</code> against <code>myPassword</code> ..and had a match ;( ..glad: you found it!? Thanks for accept! ..back to my question: what was the problem?:)"},{"owner":{"account_id":2208342,"reputation":716,"user_id":1950962,"accept_rate":74,"display_name":"skywalker"},"score":1,"creation_date":1669894055,"post_id":74639746,"comment_id":131748944,"body_markdown":"You were absolutely right! It is working without any encoder and adding {bcrypt}hashedvalue in properties file for password. Perhaps it was a building issue. When I reloaded the project and added {bcrypt] build it again it worked. Thanks for your time :)","body":"You were absolutely right! It is working without any encoder and adding {bcrypt}hashedvalue in properties file for password. Perhaps it was a building issue. When I reloaded the project and added {bcrypt] build it again it worked. Thanks for your time :)"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669892206,"creation_date":1669887499,"answer_id":74639746,"question_id":74639262,"body_markdown":"Grabbing:\r\n```lang-text\r\n$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS\r\n```\r\nfor input:\r\n```lang-text\r\nhello\r\n```\r\n... from (e.g. thx): https://bcrypt-generator.com/\r\n\r\nWith:\r\n- [spring-starter (web, security)](https://start.spring.io/#!dependencies=web,security), \r\n- `application.properties`:\r\n   ```lang-properties\r\n   spring.security.user.password={bcrypt}$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS\r\n   ```\r\n- and any (rest)controller:\r\n   ```lang-java\r\n   package com.example.demo;\r\n\r\n   import org.springframework.boot.SpringApplication;\r\n   import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n   import org.springframework.context.annotation.Bean;\r\n   import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n   import org.springframework.security.crypto.password.PasswordEncoder;\r\n   import org.springframework.web.bind.annotation.GetMapping;\r\n   import org.springframework.web.bind.annotation.RestController;\r\n\r\n   @SpringBootApplication\r\n   @RestController\r\n   public class DemoApplication {\r\n\r\n     public static void main(String[] args) {\r\n      SpringApplication.run(DemoApplication.class, args);\r\n     }\r\n\r\n     //  @Bean\r\n     //  public PasswordEncoder encoder() {\r\n     //   return new BCryptPasswordEncoder();\r\n     //  }\r\n\r\n     @GetMapping(&quot;secured&quot;)\r\n     public String secured() {\r\n      return &quot;Hello Admin&quot;;\r\n     }\r\n   }\r\n   ```\r\n- and *without additional config*,\r\n- we can login with `user=user` and `password=hello`.\r\n\r\nAdding:\r\n```\r\n@Bean\r\npublic PasswordEncoder encoder() {\r\n  return new BCryptPasswordEncoder();\r\n}\r\n```\r\n*breaks* this behavior!! To &quot;fix it&quot;, we can (`application.properties`):\r\n```\r\nspring.security.user.password=$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS\r\n```\r\n.. omit the &quot;tag&quot; `{bcrypt}`! ...\r\n\r\nResponsible for &quot;tags&quot;/capable of several algorithms is the `DelegatingPasswordEncoder`, which is auto configured (via `[AuthenticationConfiguration|HttpSecurityConfiguration].LazyPasswordEncoder` ..if *no other* PasswordEncoder bean found) and uses \r\n`PasswordEncoderFactories` behind the scenes, like ([currently][1]) this:\r\n\r\n&gt;```\r\n&gt;@SuppressWarnings(&quot;deprecation&quot;)\r\n&gt;public static PasswordEncoder createDelegatingPasswordEncoder() {\r\n&gt;\tString encodingId = &quot;bcrypt&quot;;\r\n&gt;\tMap&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\r\n&gt;\tencoders.put(encodingId, new BCryptPasswordEncoder());\r\n&gt;\tencoders.put(&quot;ldap&quot;, new org.springframework.security.crypto.password.LdapShaPasswordEncoder());\r\n&gt;\tencoders.put(&quot;MD4&quot;, new org.springframework.security.crypto.password.Md4PasswordEncoder());\r\n&gt;\tencoders.put(&quot;MD5&quot;, new org.springframework.security.crypto.password.MessageDigestPasswordEncoder(&quot;MD5&quot;));\r\n&gt;\tencoders.put(&quot;noop&quot;, org.springframework.security.crypto.password.NoOpPasswordEncoder.getInstance());\r\n&gt;\tencoders.put(&quot;pbkdf2&quot;, Pbkdf2PasswordEncoder.defaultsForSpringSecurity_v5_5());\r\n&gt;\tencoders.put(&quot;pbkdf2@SpringSecurity_v5_8&quot;, Pbkdf2PasswordEncoder.defaultsForSpringSecurity_v5_8());\r\n&gt;\tencoders.put(&quot;scrypt&quot;, SCryptPasswordEncoder.defaultsForSpringSecurity_v4_1());\r\n&gt;\tencoders.put(&quot;scrypt@SpringSecurity_v5_8&quot;, SCryptPasswordEncoder.defaultsForSpringSecurity_v5_8());\r\n&gt;\tencoders.put(&quot;SHA-1&quot;, new org.springframework.security.crypto.password.MessageDigestPasswordEncoder(&quot;SHA-1&quot;));\r\n&gt;\tencoders.put(&quot;SHA-256&quot;,\r\n&gt;\t\t\tnew org.springframework.security.crypto.password.MessageDigestPasswordEncoder(&quot;SHA-256&quot;));\r\n&gt;\tencoders.put(&quot;sha256&quot;, new org.springframework.security.crypto.password.StandardPasswordEncoder());\r\n&gt;\tencoders.put(&quot;argon2&quot;, Argon2PasswordEncoder.defaultsForSpringSecurity_v5_2());\r\n&gt;\tencoders.put(&quot;argon2@SpringSecurity_v5_8&quot;, Argon2PasswordEncoder.defaultsForSpringSecurity_v5_8());\r\n&gt;\treturn new DelegatingPasswordEncoder(encodingId, encoders);\r\n&gt;}\r\n&gt;```\r\n\r\n\r\n### EDIT:\r\n\r\nNo, also introducing:\r\n```\r\n@Configuration\r\nclass WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n      http\r\n          .csrf()\r\n          .disable()\r\n          .authorizeHttpRequests().requestMatchers(&quot;/secured&quot;).hasRole(&quot;admin&quot;)\r\n          .anyRequest()\r\n          .authenticated()\r\n          .and()\r\n          .httpBasic();\r\n\r\n      http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n      return http.build();\r\n    }\r\n  }\r\n}\r\n```\r\nPlus:\r\n```lang-properties\r\nspring.security.user.roles=admin\r\n```\r\nDoesn&#39;t change my observations:\r\n- When &quot;custom password encoder&quot;\r\n- and `$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS`\r\n   - can login with `user:hello` (and view `/secured` response)\r\n- with default/-out password encoder\r\n- and `{bcrypt}$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS`\r\n   - can login with `user:hello` (and view `/secured` response)\r\n\r\n(it only switches from form to basic login:)\r\n\r\nTest (good/app config):\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.httpBasic;\r\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.authenticated;\r\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.unauthenticated;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@WebMvcTest\r\nclass WithAppConfigTest {\r\n\r\n  @Autowired\r\n  MockMvc mockMvc;\r\n\r\n  @Test\r\n  void expectAccess() throws Exception {\r\n    mockMvc.perform(\r\n        get(&quot;/secured&quot;)\r\n            .with(httpBasic(&quot;user&quot;, &quot;hello&quot;))\r\n    ).andExpectAll(\r\n        authenticated(),\r\n        status().isOk(),\r\n        content().string(&quot;Hello Admin&quot;));\r\n  }\r\n\r\n  @Test\r\n  void expectUnauthorized() throws Exception {\r\n    mockMvc.perform(\r\n        get(&quot;/secured&quot;)\r\n            .with(httpBasic(&quot;user&quot;, &quot;wrong&quot;))\r\n    ).andExpectAll(\r\n        unauthenticated(),\r\n        status().isUnauthorized(),\r\n        content().bytes(new byte[0]));\r\n  }\r\n}\r\n```\r\nTest forbidden:\r\n```\r\n@WebMvcTest(properties = &quot;spring.security.user.roles=foo,bar,baz&quot;)\r\nclass WithFakeConfigTest {\r\n\r\n  @Autowired\r\n  MockMvc mockMvc;\r\n\r\n  @Test\r\n  void expectForbidden() throws Exception {\r\n    mockMvc.perform(\r\n        get(&quot;/secured&quot;)\r\n            .with(httpBasic(&quot;user&quot;, &quot;hello&quot;))\r\n    ).andExpectAll(\r\n        authenticated(), // !, but:\r\n        status().isForbidden(),\r\n        content().bytes(new byte[0]));\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/main/crypto/src/main/java/org/springframework/security/crypto/factory/PasswordEncoderFactories.java","title":"Is there a way to configure password encoder for default password?","body":"<p>Grabbing:</p>\n<pre class=\"lang-text prettyprint-override\"><code>$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS\n</code></pre>\n<p>for input:</p>\n<pre class=\"lang-text prettyprint-override\"><code>hello\n</code></pre>\n<p>... from (e.g. thx): <a href=\"https://bcrypt-generator.com/\" rel=\"nofollow noreferrer\">https://bcrypt-generator.com/</a></p>\n<p>With:</p>\n<ul>\n<li><a href=\"https://start.spring.io/#!dependencies=web,security\" rel=\"nofollow noreferrer\">spring-starter (web, security)</a>,</li>\n<li><code>application.properties</code>:\n<pre class=\"lang-properties prettyprint-override\"><code>spring.security.user.password={bcrypt}$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS\n</code></pre>\n</li>\n<li>and any (rest)controller:\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class DemoApplication {\n\n   public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n   }\n\n   //  @Bean\n   //  public PasswordEncoder encoder() {\n   //   return new BCryptPasswordEncoder();\n   //  }\n\n   @GetMapping(&quot;secured&quot;)\n   public String secured() {\n    return &quot;Hello Admin&quot;;\n   }\n}\n</code></pre>\n</li>\n<li>and <em>without additional config</em>,</li>\n<li>we can login with <code>user=user</code> and <code>password=hello</code>.</li>\n</ul>\n<p>Adding:</p>\n<pre><code>@Bean\npublic PasswordEncoder encoder() {\n  return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p><em>breaks</em> this behavior!! To &quot;fix it&quot;, we can (<code>application.properties</code>):</p>\n<pre><code>spring.security.user.password=$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS\n</code></pre>\n<p>.. omit the &quot;tag&quot; <code>{bcrypt}</code>! ...</p>\n<p>Responsible for &quot;tags&quot;/capable of several algorithms is the <code>DelegatingPasswordEncoder</code>, which is auto configured (via <code>[AuthenticationConfiguration|HttpSecurityConfiguration].LazyPasswordEncoder</code> ..if <em>no other</em> PasswordEncoder bean found) and uses\n<code>PasswordEncoderFactories</code> behind the scenes, like (<a href=\"https://github.com/spring-projects/spring-security/blob/main/crypto/src/main/java/org/springframework/security/crypto/factory/PasswordEncoderFactories.java\" rel=\"nofollow noreferrer\">currently</a>) this:</p>\n<blockquote>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\npublic static PasswordEncoder createDelegatingPasswordEncoder() {\n  String encodingId = &quot;bcrypt&quot;;\n  Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\n  encoders.put(encodingId, new BCryptPasswordEncoder());\n  encoders.put(&quot;ldap&quot;, new org.springframework.security.crypto.password.LdapShaPasswordEncoder());\n  encoders.put(&quot;MD4&quot;, new org.springframework.security.crypto.password.Md4PasswordEncoder());\n  encoders.put(&quot;MD5&quot;, new org.springframework.security.crypto.password.MessageDigestPasswordEncoder(&quot;MD5&quot;));\n  encoders.put(&quot;noop&quot;, org.springframework.security.crypto.password.NoOpPasswordEncoder.getInstance());\n  encoders.put(&quot;pbkdf2&quot;, Pbkdf2PasswordEncoder.defaultsForSpringSecurity_v5_5());\n  encoders.put(&quot;pbkdf2@SpringSecurity_v5_8&quot;, Pbkdf2PasswordEncoder.defaultsForSpringSecurity_v5_8());\n  encoders.put(&quot;scrypt&quot;, SCryptPasswordEncoder.defaultsForSpringSecurity_v4_1());\n  encoders.put(&quot;scrypt@SpringSecurity_v5_8&quot;, SCryptPasswordEncoder.defaultsForSpringSecurity_v5_8());\n  encoders.put(&quot;SHA-1&quot;, new org.springframework.security.crypto.password.MessageDigestPasswordEncoder(&quot;SHA-1&quot;));\n  encoders.put(&quot;SHA-256&quot;,\n          new org.springframework.security.crypto.password.MessageDigestPasswordEncoder(&quot;SHA-256&quot;));\n  encoders.put(&quot;sha256&quot;, new org.springframework.security.crypto.password.StandardPasswordEncoder());\n  encoders.put(&quot;argon2&quot;, Argon2PasswordEncoder.defaultsForSpringSecurity_v5_2());\n  encoders.put(&quot;argon2@SpringSecurity_v5_8&quot;, Argon2PasswordEncoder.defaultsForSpringSecurity_v5_8());\n  return new DelegatingPasswordEncoder(encodingId, encoders);\n}\n</code></pre>\n</blockquote>\n<h3>EDIT:</h3>\n<p>No, also introducing:</p>\n<pre><code>@Configuration\nclass WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n      http\n          .csrf()\n          .disable()\n          .authorizeHttpRequests().requestMatchers(&quot;/secured&quot;).hasRole(&quot;admin&quot;)\n          .anyRequest()\n          .authenticated()\n          .and()\n          .httpBasic();\n\n      http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n      return http.build();\n    }\n  }\n}\n</code></pre>\n<p>Plus:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.security.user.roles=admin\n</code></pre>\n<p>Doesn't change my observations:</p>\n<ul>\n<li>When &quot;custom password encoder&quot;</li>\n<li>and <code>$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS</code>\n<ul>\n<li>can login with <code>user:hello</code> (and view <code>/secured</code> response)</li>\n</ul>\n</li>\n<li>with default/-out password encoder</li>\n<li>and <code>{bcrypt}$2a$12$7Bg57uTtN7GWIdiqRW4h5e/aOUFagHwkEGv9byUr0bb/QbUU8S4rS</code>\n<ul>\n<li>can login with <code>user:hello</code> (and view <code>/secured</code> response)</li>\n</ul>\n</li>\n</ul>\n<p>(it only switches from form to basic login:)</p>\n<p>Test (good/app config):</p>\n<pre><code>package com.example.demo;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.httpBasic;\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.authenticated;\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.unauthenticated;\nimport org.springframework.test.web.servlet.MockMvc;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@WebMvcTest\nclass WithAppConfigTest {\n\n  @Autowired\n  MockMvc mockMvc;\n\n  @Test\n  void expectAccess() throws Exception {\n    mockMvc.perform(\n        get(&quot;/secured&quot;)\n            .with(httpBasic(&quot;user&quot;, &quot;hello&quot;))\n    ).andExpectAll(\n        authenticated(),\n        status().isOk(),\n        content().string(&quot;Hello Admin&quot;));\n  }\n\n  @Test\n  void expectUnauthorized() throws Exception {\n    mockMvc.perform(\n        get(&quot;/secured&quot;)\n            .with(httpBasic(&quot;user&quot;, &quot;wrong&quot;))\n    ).andExpectAll(\n        unauthenticated(),\n        status().isUnauthorized(),\n        content().bytes(new byte[0]));\n  }\n}\n</code></pre>\n<p>Test forbidden:</p>\n<pre><code>@WebMvcTest(properties = &quot;spring.security.user.roles=foo,bar,baz&quot;)\nclass WithFakeConfigTest {\n\n  @Autowired\n  MockMvc mockMvc;\n\n  @Test\n  void expectForbidden() throws Exception {\n    mockMvc.perform(\n        get(&quot;/secured&quot;)\n            .with(httpBasic(&quot;user&quot;, &quot;hello&quot;))\n    ).andExpectAll(\n        authenticated(), // !, but:\n        status().isForbidden(),\n        content().bytes(new byte[0]));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2208342,"reputation":716,"user_id":1950962,"accept_rate":74,"display_name":"skywalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74639746,"answer_count":1,"score":2,"last_activity_date":1669929129,"creation_date":1669885245,"question_id":74639262,"body_markdown":"I use overridden values for spring security username and password. Following properties are in my `application.properties`.\r\n\r\n    \r\n```\r\nspring.security.user.name=myUser\r\nspring.security.user.password=myPassword\r\nspring.security.user.roles=admin\r\n```\r\n\r\nI would like to encrypt the password value as follows:\r\n\r\n```\r\nspring.security.user.name=myUser\r\nspring.security.user.password={bcrypt}hashedpassword valuevalue\r\nspring.security.user.roles=admin\r\n```\r\n\r\nI added `PasswordEncoder` in my `SpringConfig`:\r\n\r\n```java\r\n@Bean\r\npublic PasswordEncoder encoder() {\r\n    return new BCryptPasswordEncoder();\r\n}\r\n```\r\n\r\nIn some example I noticed that there is for `AuthenitcationManagerBuilder` but I do not know what datasource should be used. What else do I need to use encrypted password for default user?\r\n\r\n```java\r\n@Autowired\r\npublic void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\r\n```\r\n\r\nAdding my Spring Security config as a reference:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/api/v1/custom&quot;).hasRole(&quot;admin&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .httpBasic();\r\n\r\n        http\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n```","title":"Is there a way to configure password encoder for default password?","body":"<p>I use overridden values for spring security username and password. Following properties are in my <code>application.properties</code>.</p>\n<pre><code>spring.security.user.name=myUser\nspring.security.user.password=myPassword\nspring.security.user.roles=admin\n</code></pre>\n<p>I would like to encrypt the password value as follows:</p>\n<pre><code>spring.security.user.name=myUser\nspring.security.user.password={bcrypt}hashedpassword valuevalue\nspring.security.user.roles=admin\n</code></pre>\n<p>I added <code>PasswordEncoder</code> in my <code>SpringConfig</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>In some example I noticed that there is for <code>AuthenitcationManagerBuilder</code> but I do not know what datasource should be used. What else do I need to use encrypted password for default user?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\npublic void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n</code></pre>\n<p>Adding my Spring Security config as a reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .authorizeRequests()\n                .antMatchers(&quot;/api/v1/custom&quot;).hasRole(&quot;admin&quot;)\n                .anyRequest().authenticated()\n                .and()\n            .httpBasic();\n\n        http\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n</code></pre>\n"},{"tags":["java","option-type","java-11","flatmap","functional-java"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669892865,"post_id":74640193,"comment_id":131748518,"body_markdown":"Both `getImplementationStrategyByModelPortfolioId()` and `getImplementationStrategyByMandateId()` are parameterless, i.e. they don&#39;t depend on `internalUserId` and `externalUserId` (you just need them to be non-null) or it&#39;s an unintentional mistake?","body":"Both <code>getImplementationStrategyByModelPortfolioId()</code> and <code>getImplementationStrategyByMandateId()</code> are parameterless, i.e. they don&#39;t depend on <code>internalUserId</code> and <code>externalUserId</code> (you just need them to be non-null) or it&#39;s an unintentional mistake?"},{"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"score":0,"creation_date":1669893177,"post_id":74640193,"comment_id":131748628,"body_markdown":"...  `getImplementationStrategyByModelPortfolioId()` and `getImplementationStrategyByMandateId()` were just copy-past from my actual code. In the example code they should have been `getUserCredentialsFromMaster()` and `getUserCredentialsFromSecondary()`, respectively. Sorry","body":"...  <code>getImplementationStrategyByModelPortfolioId()</code> and <code>getImplementationStrategyByMandateId()</code> were just copy-past from my actual code. In the example code they should have been <code>getUserCredentialsFromMaster()</code> and <code>getUserCredentialsFromSecondary()</code>, respectively. Sorry"},{"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"score":0,"creation_date":1669893267,"post_id":74640193,"comment_id":131748656,"body_markdown":"By the way, either `internalUserId` or `externalUserId` must have an actual value.","body":"By the way, either <code>internalUserId</code> or <code>externalUserId</code> must have an actual value."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669896332,"post_id":74640193,"comment_id":131749657,"body_markdown":"One more clarification, your repository `masterUserRepository::findById` returns an `Optional&lt;User&gt;` or a nullable `User` instance?","body":"One more clarification, your repository <code>masterUserRepository::findById</code> returns an <code>Optional&lt;User&gt;</code> or a nullable <code>User</code> instance?"},{"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"score":0,"creation_date":1669896821,"post_id":74640193,"comment_id":131749814,"body_markdown":"It returns `Optional&lt;User&gt;`... but I could rework it to return a nullable object. It doesn&#39;t matter for me :-)","body":"It returns <code>Optional&lt;User&gt;</code>... but I could rework it to return a nullable object. It doesn&#39;t matter for me :-)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669898713,"post_id":74640193,"comment_id":131750415,"body_markdown":"I was asking because in the first functions it should be `.flatMap(secondaryUserRepository::findById)` if repository returns `Optional&lt;User&gt;`. And there&#39;s a mismatch in the type of parameters consumed by Functions (`Long` vs `String` in the `UserProfile`).","body":"I was asking because in the first functions it should be <code>.flatMap(secondaryUserRepository::findById)</code> if repository returns <code>Optional&lt;User&gt;</code>. And there&#39;s a mismatch in the type of parameters consumed by Functions (<code>Long</code> vs <code>String</code> in the <code>UserProfile</code>)."}],"answers":[{"comments":[{"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"score":0,"creation_date":1669899165,"post_id":74642029,"comment_id":131750562,"body_markdown":"This was also a solution I tried and it worked... but I&#39;m wondering whether I could get rid of the lambda.","body":"This was also a solution I tried and it worked... but I&#39;m wondering whether I could get rid of the lambda."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669899864,"post_id":74642029,"comment_id":131750808,"body_markdown":"@j3d When you&#39;re writing something like `foo(bar)`, argument `bar` should be evaluated before in order to invoke `foo()`. When instead of `bar` you have `foo(baz())` then method `baz()` should be executed prior to the invocation of `foo()`. Hence in your case you have a choice between replacing `orElseThrow()` with `orElse(defaultValue)`, or if you need to throw then - you need to use a Function via `or()`, or `orElseGet()`.","body":"@j3d When you&#39;re writing something like <code>foo(bar)</code>, argument <code>bar</code> should be evaluated before in order to invoke <code>foo()</code>. When instead of <code>bar</code> you have <code>foo(baz())</code> then method <code>baz()</code> should be executed prior to the invocation of <code>foo()</code>. Hence in your case you have a choice between replacing <code>orElseThrow()</code> with <code>orElse(defaultValue)</code>, or if you need to throw then - you need to use a Function via <code>or()</code>, or <code>orElseGet()</code>."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669928251,"creation_date":1669898461,"answer_id":74642029,"question_id":74640193,"body_markdown":"&lt;h3&gt;TL;DR&lt;/h3&gt;\r\n\r\nYou&#39;re getting an exception because the argument of the `Optional.orElse()` is evaluated eagerly. I.e. it would be evaluated even if the `Optional` on which it was invoked is not empty.\r\n\r\nBut as you have said, either *&quot;`internalUserId` is `null` then `externalUserId` is not `null` and vice-versa&quot;* and `orElseThrow()` produces an exception.\r\n\r\n# Avoid using Optional to replace Null-checks\r\n\r\nFirstly, note that `Optional` wasn&#39;t designed to perform null-checks. The design goal of the `Optional` is to serve as a **return type**, and its method `ofNullable()` is supposed to wrap a nullable return value, not to substitute a *null-check*.\r\n\r\nYou might be interested in reading:\r\n\r\n* [Should Optional.ofNullable() be used for null check?](https://stackoverflow.com/a/52048770/17949945)\r\n\r\n* [Valid usage of Optional type in Java 8](https://stackoverflow.com/a/34458582/17949945)\r\n\r\nAnd there&#39;s nothing wrong with implicit null-checks, it&#39;s a bit of a problem when there are a lot of them in the code, but it&#39;s rather an immediate consequence of how particular behavior in the application was implemented, then the issue related to the tools offered by the language.\r\n\r\n\r\nThe cleaner way to address this problem would be to get read of the functions and define a method producing a `Supplier` based on the provided `id` and `UserRepository`:\r\n\r\n    private Supplier&lt;Optional&lt;UserCredentials&gt;&gt; getUserCredentials(Long id, UserRepository repository) {\r\n        \r\n        return id == null ?\r\n            Optional::empty :\r\n            () -&gt; repository.findById(id).map(User::getCredentials);\r\n    }\r\n\r\nWhich can be used in the following way:\r\n\r\n```\r\nUserCredentials userCredentials = Stream.of(\r\n        getUserCredentials(userProfile.internalUserId, masterUserRepository),\r\n        getUserCredentials(userProfile.internalUserId, secondaryUserRepository)\r\n    )\r\n    .map(Supplier::get)\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .findFirst()\r\n    .orElseThrow(UserCredentialsNotFound::new);\r\n```\r\n\r\n# If you still want to keep using Optional\r\n\r\nAs a remedy you can use Java 9 [`Optional.or()`][or] which expects a `Supplier` of `Optional` which would be evaluated only if needed.\r\n\r\n```\r\nUserCredentials userCredentials = Optional.ofNullable(userProfile.internalUserId)\r\n    .flatMap(getUserCredentialsFromMaster())\r\n    .or(() -&gt;\r\n        Optional.ofNullable(userProfile.externalUserId)\r\n            .flatMap(getUserCredentialsFromSecondary())\r\n    )\r\n    .orElseThrow(UserCredentialsNotFound::new);\r\n```\r\n\r\nAlternatively, you can make use [`Optional.orElseGet()`][orElseGet] which takes a `Supplier` of resulting value:\r\n\r\n```\r\nUserCredentials userCredentials = Optional.ofNullable(userProfile.internalUserId)\r\n    .flatMap(getUserCredentialsFromMaster())\r\n    .orElseGet(() -&gt;\r\n        Optional.ofNullable(userProfile.externalUserId)\r\n            .flatMap(getUserCredentialsFromSecondary())\r\n            .orElseThrow(UserCredentialsNotFound::new)\r\n    );\r\n```\r\n\r\n\r\n\r\n   [or]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)\r\n\r\n   [orElseGet]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)","title":"How to Implement Functional If-Then-Else in Java","body":"<h3>TL;DR</h3>\n<p>You're getting an exception because the argument of the <code>Optional.orElse()</code> is evaluated eagerly. I.e. it would be evaluated even if the <code>Optional</code> on which it was invoked is not empty.</p>\n<p>But as you have said, either <em>&quot;<code>internalUserId</code> is <code>null</code> then <code>externalUserId</code> is not <code>null</code> and vice-versa&quot;</em> and <code>orElseThrow()</code> produces an exception.</p>\n<h1>Avoid using Optional to replace Null-checks</h1>\n<p>Firstly, note that <code>Optional</code> wasn't designed to perform null-checks. The design goal of the <code>Optional</code> is to serve as a <strong>return type</strong>, and its method <code>ofNullable()</code> is supposed to wrap a nullable return value, not to substitute a <em>null-check</em>.</p>\n<p>You might be interested in reading:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/a/52048770/17949945\">Should Optional.ofNullable() be used for null check?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/34458582/17949945\">Valid usage of Optional type in Java 8</a></p>\n</li>\n</ul>\n<p>And there's nothing wrong with implicit null-checks, it's a bit of a problem when there are a lot of them in the code, but it's rather an immediate consequence of how particular behavior in the application was implemented, then the issue related to the tools offered by the language.</p>\n<p>The cleaner way to address this problem would be to get read of the functions and define a method producing a <code>Supplier</code> based on the provided <code>id</code> and <code>UserRepository</code>:</p>\n<pre><code>private Supplier&lt;Optional&lt;UserCredentials&gt;&gt; getUserCredentials(Long id, UserRepository repository) {\n    \n    return id == null ?\n        Optional::empty :\n        () -&gt; repository.findById(id).map(User::getCredentials);\n}\n</code></pre>\n<p>Which can be used in the following way:</p>\n<pre><code>UserCredentials userCredentials = Stream.of(\n        getUserCredentials(userProfile.internalUserId, masterUserRepository),\n        getUserCredentials(userProfile.internalUserId, secondaryUserRepository)\n    )\n    .map(Supplier::get)\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .findFirst()\n    .orElseThrow(UserCredentialsNotFound::new);\n</code></pre>\n<h1>If you still want to keep using Optional</h1>\n<p>As a remedy you can use Java 9 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Optional.or()</code></a> which expects a <code>Supplier</code> of <code>Optional</code> which would be evaluated only if needed.</p>\n<pre><code>UserCredentials userCredentials = Optional.ofNullable(userProfile.internalUserId)\n    .flatMap(getUserCredentialsFromMaster())\n    .or(() -&gt;\n        Optional.ofNullable(userProfile.externalUserId)\n            .flatMap(getUserCredentialsFromSecondary())\n    )\n    .orElseThrow(UserCredentialsNotFound::new);\n</code></pre>\n<p>Alternatively, you can make use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Optional.orElseGet()</code></a> which takes a <code>Supplier</code> of resulting value:</p>\n<pre><code>UserCredentials userCredentials = Optional.ofNullable(userProfile.internalUserId)\n    .flatMap(getUserCredentialsFromMaster())\n    .orElseGet(() -&gt;\n        Optional.ofNullable(userProfile.externalUserId)\n            .flatMap(getUserCredentialsFromSecondary())\n            .orElseThrow(UserCredentialsNotFound::new)\n    );\n</code></pre>\n"}],"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74642029,"answer_count":1,"score":1,"last_activity_date":1669928929,"creation_date":1669889369,"question_id":74640193,"body_markdown":"Given the following `Function` implementations...\r\n\r\n**Get User Credentials From Master Database**\r\n```\r\nprivate Function&lt;Long, Optional&lt;UserCredentials&gt;&gt;\r\n    getUserCredentialsFromMaster() {\r\n        return userId -&gt; Optional.ofNullable(userId)\r\n            .flatMap(masterUserRepository::findById)\r\n            .map(User::getCredentials);\r\n}\r\n```\r\n\r\n**Get User Credentials From Secondary Database**\r\n```\r\nprivate Function&lt;Long, Optional&lt;UserCredentials&gt;&gt;\r\n    getUserCredentialsFromSecondary() {\r\n        return userId -&gt; Optional.ofNullable(userId)\r\n            .flatMap(secondaryUserRepository::findById)\r\n            .map(User::getCredentials);\r\n}\r\n```\r\nI need to execute **either** `getUserCredentialsFromMaster` or `getUserCredentialsFromSecondary` depending on where `userId` comes from.\r\n\r\n*Here below is my attempt:*\r\n\r\nConsider domain class `UserProfile`\r\n```\r\npublic class UserProfile {\r\n    Long id;\r\n    Long internalUserId; // if internalUserId is null then externalUserId is not\r\n    Long externalUserId; // and vice-versa\r\n}\r\n```\r\n\r\nAttempt to obtain `UserCredentials`:\r\n\r\n```\r\nfinal UserProfile userProfile = userProfileRepository.findById(userProvileId);\r\n\r\nfinal UserCredentials userCredentials =\r\n    Optional.ofNullable(userProfile.internalUserId)\r\n        .flatMap(getUserCredentialsFromMaster())\r\n        .orElse(\r\n            Optional.ofNullable(userProfile.externalUserId)\r\n                .flatMap(getUserCredentialsFromSecondary())\r\n                .orElseThrow(UserCredentialsNotFound::new));\r\n```\r\n`internalUserId` is not `null` but the statements above always throw `UserCredentialsNotFound`. I&#39;ve tried to rewrite `getUserCredentialsFromMaster` and `getUserCredentialsFromSecondary` as plain Java methods invoked from an *if-then-else* block, and it worked as expected.\r\n\r\nAm I missing something?","title":"How to Implement Functional If-Then-Else in Java","body":"<p>Given the following <code>Function</code> implementations...</p>\n<p><strong>Get User Credentials From Master Database</strong></p>\n<pre><code>private Function&lt;Long, Optional&lt;UserCredentials&gt;&gt;\n    getUserCredentialsFromMaster() {\n        return userId -&gt; Optional.ofNullable(userId)\n            .flatMap(masterUserRepository::findById)\n            .map(User::getCredentials);\n}\n</code></pre>\n<p><strong>Get User Credentials From Secondary Database</strong></p>\n<pre><code>private Function&lt;Long, Optional&lt;UserCredentials&gt;&gt;\n    getUserCredentialsFromSecondary() {\n        return userId -&gt; Optional.ofNullable(userId)\n            .flatMap(secondaryUserRepository::findById)\n            .map(User::getCredentials);\n}\n</code></pre>\n<p>I need to execute <strong>either</strong> <code>getUserCredentialsFromMaster</code> or <code>getUserCredentialsFromSecondary</code> depending on where <code>userId</code> comes from.</p>\n<p><em>Here below is my attempt:</em></p>\n<p>Consider domain class <code>UserProfile</code></p>\n<pre><code>public class UserProfile {\n    Long id;\n    Long internalUserId; // if internalUserId is null then externalUserId is not\n    Long externalUserId; // and vice-versa\n}\n</code></pre>\n<p>Attempt to obtain <code>UserCredentials</code>:</p>\n<pre><code>final UserProfile userProfile = userProfileRepository.findById(userProvileId);\n\nfinal UserCredentials userCredentials =\n    Optional.ofNullable(userProfile.internalUserId)\n        .flatMap(getUserCredentialsFromMaster())\n        .orElse(\n            Optional.ofNullable(userProfile.externalUserId)\n                .flatMap(getUserCredentialsFromSecondary())\n                .orElseThrow(UserCredentialsNotFound::new));\n</code></pre>\n<p><code>internalUserId</code> is not <code>null</code> but the statements above always throw <code>UserCredentialsNotFound</code>. I've tried to rewrite <code>getUserCredentialsFromMaster</code> and <code>getUserCredentialsFromSecondary</code> as plain Java methods invoked from an <em>if-then-else</em> block, and it worked as expected.</p>\n<p>Am I missing something?</p>\n"},{"tags":["java","multithreading","wait","notify"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1669910774,"post_id":74644781,"comment_id":131755165,"body_markdown":"wait and notify and fairly low level operations that act as the basis for some other concurrency primitives. IMO you as an application developer should almost never be using them directly.","body":"wait and notify and fairly low level operations that act as the basis for some other concurrency primitives. IMO you as an application developer should almost never be using them directly."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669915173,"post_id":74644781,"comment_id":131756674,"body_markdown":"Re, `Thread.currentThread.wait()`, The [javadoc for Thread.join()](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Thread.html#join()) says, &quot;It is recommended that applications _not_ use `wait`, `notify`, or `notifyAll` on `Thread` instances.&quot;","body":"Re, <code>Thread.currentThread.wait()</code>, The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Thread.html#join()\" rel=\"nofollow noreferrer\">javadoc for Thread.join()</a> says, &quot;It is recommended that applications <i>not</i> use <code>wait</code>, <code>notify</code>, or <code>notifyAll</code> on <code>Thread</code> instances.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669915358,"post_id":74645021,"comment_id":131756757,"body_markdown":"I think OP wants to wait for whichever thread finishes _first,_ and then tell the other threads to give up. There is no `join()` method that awaits more than one thread.","body":"I think OP wants to wait for whichever thread finishes <i>first,</i> and then tell the other threads to give up. There is no <code>join()</code> method that awaits more than one thread."}],"tags":[],"owner":{"account_id":11347144,"reputation":951,"user_id":8319308,"display_name":"Vadim Beskrovnov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669911612,"creation_date":1669911612,"answer_id":74645021,"question_id":74644781,"body_markdown":"You don&#39;t need `wait` and `notify` in your case. Just use `join` to wait until the thread is completed.\r\n\r\nMore info: https://stackoverflow.com/questions/4691533/java-wait-for-thread-to-finish","title":"Java Multithreading - how to use wait() and notify() to get a value from only 1 thread out of 2 and kill the other thread","body":"<p>You don't need <code>wait</code> and <code>notify</code> in your case. Just use <code>join</code> to wait until the thread is completed.</p>\n<p>More info: <a href=\"https://stackoverflow.com/questions/4691533/java-wait-for-thread-to-finish\">Java Wait for thread to finish</a></p>\n"},{"comments":[{"owner":{"account_id":27112944,"reputation":3,"user_id":20657801,"display_name":"StupidQuestion"},"score":0,"creation_date":1669931159,"post_id":74645937,"comment_id":131761469,"body_markdown":"Exactly right, I only care about whichever value was calculated first. Thank you very much for this.","body":"Exactly right, I only care about whichever value was calculated first. Thank you very much for this."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669927878,"creation_date":1669916004,"answer_id":74645937,"question_id":74644781,"body_markdown":"I think you are saying that your threads are _racing_ to solve a problem, and you are only interested in whichever solution is produced _first._ Am I right?  If so, then what you need is some shared variables that allow all the threads to know if a solution has been found:\r\n\r\n``` lang-java\r\nboolean solution_is_found = false;\r\nSolutionType solution;\r\nfinal Object solution_mutex = new Object();\r\n```\r\n\r\nA worker thread can do this:\r\n\r\n``` lang-java\r\nwhile (true) {\r\n    synchronized(solution_mutex) {\r\n        if (solution_is_found) {\r\n            // Some other thread won the race, our solution is not needed.\r\n            return;\r\n        }\r\n    }\r\n    ...do some increment of work...\r\n    if (...this thread found a solution...) {\r\n        synchronized(solution_mutex) {\r\n            if (! solution_was_found) {\r\n                // Only update the variables if this thread won the race.\r\n                solution_is_found = true;\r\n                solution = ...what this thread found...\r\n                solution_mutex.notifyAll();\r\n            }\r\n        }\r\n        return;\r\n    }\r\n}\r\n```\r\n\r\nAnd now, the main thread can await the appearance of the first solution.\r\n\r\n``` lang-java\r\nsynchronized(solution_lock) {\r\n    while (! solution_was_found) {\r\n        solution_lock.wait();\r\n    }\r\n}\r\n\r\n...use `solution` here...\r\n```\r\n\r\n--------------------\r\n\r\nIf the smallest possible &quot;increment of work&quot; takes a significant chunk of time, then you may want to test `solution_is_found` several times within the &quot;increment,&quot; and abort if it is `true`. ","title":"Java Multithreading - how to use wait() and notify() to get a value from only 1 thread out of 2 and kill the other thread","body":"<p>I think you are saying that your threads are <em>racing</em> to solve a problem, and you are only interested in whichever solution is produced <em>first.</em> Am I right?  If so, then what you need is some shared variables that allow all the threads to know if a solution has been found:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean solution_is_found = false;\nSolutionType solution;\nfinal Object solution_mutex = new Object();\n</code></pre>\n<p>A worker thread can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    synchronized(solution_mutex) {\n        if (solution_is_found) {\n            // Some other thread won the race, our solution is not needed.\n            return;\n        }\n    }\n    ...do some increment of work...\n    if (...this thread found a solution...) {\n        synchronized(solution_mutex) {\n            if (! solution_was_found) {\n                // Only update the variables if this thread won the race.\n                solution_is_found = true;\n                solution = ...what this thread found...\n                solution_mutex.notifyAll();\n            }\n        }\n        return;\n    }\n}\n</code></pre>\n<p>And now, the main thread can await the appearance of the first solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized(solution_lock) {\n    while (! solution_was_found) {\n        solution_lock.wait();\n    }\n}\n\n...use `solution` here...\n</code></pre>\n<hr />\n<p>If the smallest possible &quot;increment of work&quot; takes a significant chunk of time, then you may want to test <code>solution_is_found</code> several times within the &quot;increment,&quot; and abort if it is <code>true</code>.</p>\n"}],"owner":{"account_id":27112944,"reputation":3,"user_id":20657801,"display_name":"StupidQuestion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74645937,"answer_count":2,"score":0,"last_activity_date":1669927878,"creation_date":1669910420,"question_id":74644781,"body_markdown":"In my main thread I create two additional threads that I want to use a value from. Basically what I want to do is this:\r\n```\r\nThreads thread1 = new Threads();\r\nThreads thread2 = new Threads();\r\nThread.currentThread.wait();\r\nIf (thread1 = complete){\r\nvar = thread1.getter\r\n//delete thread2\r\n}\r\nIf (thread2 == complete){\r\nvar = thread2.getter\r\n//delete thread1\r\n}\r\n```\r\nWith thread1 and thread2 having a notify() at the end that wakes up the main thread and the thread that doesn&#39;t finish is deleted. But I realise that I don&#39;t properly understand wait() and multithreading so the way this is setup may not be correct. I know that Thread.currentThread.wait() is definitely not correct.\r\n\r\n\r\nI think I may have to synchronize the methods but I have not been able to find any examples that show how to do this in this situation.\r\n\r\nEdit: To give more info Thread1 takes input from a scanner and Thread2 takes input from a keylistener and I want to use the first input from 1 of them","title":"Java Multithreading - how to use wait() and notify() to get a value from only 1 thread out of 2 and kill the other thread","body":"<p>In my main thread I create two additional threads that I want to use a value from. Basically what I want to do is this:</p>\n<pre><code>Threads thread1 = new Threads();\nThreads thread2 = new Threads();\nThread.currentThread.wait();\nIf (thread1 = complete){\nvar = thread1.getter\n//delete thread2\n}\nIf (thread2 == complete){\nvar = thread2.getter\n//delete thread1\n}\n</code></pre>\n<p>With thread1 and thread2 having a notify() at the end that wakes up the main thread and the thread that doesn't finish is deleted. But I realise that I don't properly understand wait() and multithreading so the way this is setup may not be correct. I know that Thread.currentThread.wait() is definitely not correct.</p>\n<p>I think I may have to synchronize the methods but I have not been able to find any examples that show how to do this in this situation.</p>\n<p>Edit: To give more info Thread1 takes input from a scanner and Thread2 takes input from a keylistener and I want to use the first input from 1 of them</p>\n"},{"tags":["java","spring-boot","jboss","wildfly","jsessionid"],"comments":[{"owner":{"account_id":7802965,"reputation":1601,"user_id":5901697,"display_name":"Abhijit Humbe"},"score":0,"creation_date":1544502528,"post_id":53670420,"comment_id":94288529,"body_markdown":"Its default behavior, I dont think its possible to change.","body":"Its default behavior, I dont think its possible to change."},{"owner":{"account_id":11163318,"reputation":8759,"user_id":8192719,"display_name":"Bunyamin Coskuner"},"score":1,"creation_date":1544508722,"post_id":53670420,"comment_id":94290303,"body_markdown":"I know it is by default, but I feel like there should be some way to override this behavior","body":"I know it is by default, but I feel like there should be some way to override this behavior"},{"owner":{"account_id":1281523,"reputation":1546,"user_id":1235535,"accept_rate":71,"display_name":"Atul"},"score":0,"creation_date":1544644215,"post_id":53670420,"comment_id":94353452,"body_markdown":"Have you tried removing `instance-id` attribute from `&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:3.1&quot; instance-id=&quot;node2&quot;&gt;`","body":"Have you tried removing <code>instance-id</code> attribute from <code>&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:3.1&quot; instance-id=&quot;node2&quot;&gt;</code>"},{"owner":{"account_id":3627959,"reputation":527,"user_id":3025028,"display_name":"Ivan Kovbas"},"score":0,"creation_date":1544795140,"post_id":53670420,"comment_id":94413070,"body_markdown":"Maybe you find something useful here https://developer.jboss.org/thread/276894","body":"Maybe you find something useful here <a href=\"https://developer.jboss.org/thread/276894\" rel=\"nofollow noreferrer\">developer.jboss.org/thread/276894</a>"},{"owner":{"account_id":5060369,"reputation":6680,"user_id":4062197,"display_name":"ymz"},"score":0,"creation_date":1544975263,"post_id":53670420,"comment_id":94456098,"body_markdown":"Seems you are not the only one facing this issue... https://developer.jboss.org/thread/171103?_sscc=t","body":"Seems you are not the only one facing this issue... <a href=\"https://developer.jboss.org/thread/171103?_sscc=t\" rel=\"nofollow noreferrer\">developer.jboss.org/thread/171103?_sscc=t</a>"},{"owner":{"account_id":7172796,"reputation":605,"user_id":5913437,"accept_rate":0,"display_name":"DHARMENDRA SINGH"},"score":0,"creation_date":1545111532,"post_id":53670420,"comment_id":94502462,"body_markdown":"I think you should never rely under any circumstances upon the return value of javax.servlet.HttpSession.getId() so you have to generate own session id using org.util.UUID class.","body":"I think you should never rely under any circumstances upon the return value of javax.servlet.HttpSession.getId() so you have to generate own session id using org.util.UUID class."},{"owner":{"account_id":11163318,"reputation":8759,"user_id":8192719,"display_name":"Bunyamin Coskuner"},"score":0,"creation_date":1545111828,"post_id":53670420,"comment_id":94502554,"body_markdown":"@DHARMENDRASINGH it&#39;s quite a long story and I cannot change the code right now. I have to fix this issue somehow. I&#39;ll try what AtulK suggested","body":"@DHARMENDRASINGH it&#39;s quite a long story and I cannot change the code right now. I have to fix this issue somehow. I&#39;ll try what AtulK suggested"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1669927417,"post_id":53670420,"comment_id":131760441,"body_markdown":"Removing the instance id will not help as JBoss would simply use the instance id from it&#39;s configuration as default. But you can change it into something not meaningful for outsiders.","body":"Removing the instance id will not help as JBoss would simply use the instance id from it&#39;s configuration as default. But you can change it into something not meaningful for outsiders."}],"answers":[{"tags":[],"owner":{"account_id":2559743,"reputation":3088,"user_id":2220997,"display_name":"yntelectual"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630400128,"creation_date":1630400128,"answer_id":68995721,"question_id":53670420,"body_markdown":"An old thread, but for those who still stumble upon it:\r\n\r\nIn EAP7/Wildfly11+ the session cookie will have a value in form : \r\n```\r\n&lt;sessionId&gt;.&lt;instanceId&gt;\r\n```\r\n\r\nWhere `instanceId` is taken from Undertow subsystem config attribute `instance-id`. By default it is going to be set to value of `jboss.node.name` system property in standalone mode, and to `&lt;serverGroup&gt;:&lt;hostname&gt;` in domain mode.\r\n\r\nYou can customize the instanceId value via Undertow subsystem config:\r\nEither via standalone.xml:\r\n```\r\n &lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:3.1&quot; instance-id=&quot;${myValue}&quot;&gt;\r\n```\r\nOr via corresponding cli: \r\n```\r\n/subsystem=undertow:write-attribute(name=instance-id, value=myvalue)\r\n```\r\n\r\nIn which case you get a final JSession id that looks sth like this:\r\n\r\n```\r\nJSESSIONID=FdEyt_nZvyAV1gKpQ_3ZsSYeu41JycphvMdHcYeT.myvalue\r\n```","title":"How to prevent jboss node name from being added to sessionid","body":"<p>An old thread, but for those who still stumble upon it:</p>\n<p>In EAP7/Wildfly11+ the session cookie will have a value in form :</p>\n<pre><code>&lt;sessionId&gt;.&lt;instanceId&gt;\n</code></pre>\n<p>Where <code>instanceId</code> is taken from Undertow subsystem config attribute <code>instance-id</code>. By default it is going to be set to value of <code>jboss.node.name</code> system property in standalone mode, and to <code>&lt;serverGroup&gt;:&lt;hostname&gt;</code> in domain mode.</p>\n<p>You can customize the instanceId value via Undertow subsystem config:\nEither via standalone.xml:</p>\n<pre><code> &lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:3.1&quot; instance-id=&quot;${myValue}&quot;&gt;\n</code></pre>\n<p>Or via corresponding cli:</p>\n<pre><code>/subsystem=undertow:write-attribute(name=instance-id, value=myvalue)\n</code></pre>\n<p>In which case you get a final JSession id that looks sth like this:</p>\n<pre><code>JSESSIONID=FdEyt_nZvyAV1gKpQ_3ZsSYeu41JycphvMdHcYeT.myvalue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669927269,"creation_date":1669927269,"answer_id":74647933,"question_id":53670420,"body_markdown":"The answer from @yntelectual is dead right and should be the accepted answer.\r\nI just want to complement the fact that the observed behaviour is not a JBoss speciality.\r\n\r\nIt was introduced so Apache mod_jk and mod_proxy know which one of several possible application servers is working on a given session, and Apache Tomcat as the reference implementation for servlet containers shows exactly the same behaviour. Other containers such as JBoss, Glassfish, Geronimo do the same.\r\n\r\nCheck\r\n- `jvmRoute` on https://tomcat.apache.org/tomcat-9.0-doc/config/engine.html\r\n- `jvmRoute` on https://tomcat.apache.org/connectors-doc/reference/workers.html\r\n- `route` on https://httpd.apache.org/docs/2.4/mod/mod_proxy.html\r\n- `jvmRoute` on https://docs.oracle.com/cd/E18930_01/html/821-2416/gfaad.html\r\n- `jvmRoute` on https://geronimo.apache.org/GMOxDOC11/geronimo-tomcat-host-level-clustering-sample-application.html","title":"How to prevent jboss node name from being added to sessionid","body":"<p>The answer from @yntelectual is dead right and should be the accepted answer.\nI just want to complement the fact that the observed behaviour is not a JBoss speciality.</p>\n<p>It was introduced so Apache mod_jk and mod_proxy know which one of several possible application servers is working on a given session, and Apache Tomcat as the reference implementation for servlet containers shows exactly the same behaviour. Other containers such as JBoss, Glassfish, Geronimo do the same.</p>\n<p>Check</p>\n<ul>\n<li><code>jvmRoute</code> on <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/engine.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/engine.html</a></li>\n<li><code>jvmRoute</code> on <a href=\"https://tomcat.apache.org/connectors-doc/reference/workers.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/connectors-doc/reference/workers.html</a></li>\n<li><code>route</code> on <a href=\"https://httpd.apache.org/docs/2.4/mod/mod_proxy.html\" rel=\"nofollow noreferrer\">https://httpd.apache.org/docs/2.4/mod/mod_proxy.html</a></li>\n<li><code>jvmRoute</code> on <a href=\"https://docs.oracle.com/cd/E18930_01/html/821-2416/gfaad.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E18930_01/html/821-2416/gfaad.html</a></li>\n<li><code>jvmRoute</code> on <a href=\"https://geronimo.apache.org/GMOxDOC11/geronimo-tomcat-host-level-clustering-sample-application.html\" rel=\"nofollow noreferrer\">https://geronimo.apache.org/GMOxDOC11/geronimo-tomcat-host-level-clustering-sample-application.html</a></li>\n</ul>\n"}],"owner":{"account_id":11163318,"reputation":8759,"user_id":8192719,"display_name":"Bunyamin Coskuner"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2077,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1669927269,"creation_date":1544188806,"question_id":53670420,"body_markdown":"Recently, we have upgraded our application server from JBoss EAP6.2 to EAP7.0.\r\n\r\nEven though it runs non-HA profile aka `standalone.xml`, JBoss adds `jboss.node.name` at the end of `JSESSIONID` cookie. \r\n\r\nFor example,\r\n\r\nSpring Boot generates a `JSESSIONID` as `tHSf9v23SSDBMqJ1O7XFJZ9....` and when the request comes to browser, the cookie becomes `tHSf9v23SSDBMqJ1O7XFJZ9.master:&lt;jboss.node.name&gt;` which causes some compatibility issues. \r\n\r\nI&#39;ve run some experiments by manually calling `response.addCookie`. In that case, it does not add `master` suffix to the cookie. However, if Spring itself writes the cookie, it seems that JBoss picks it up and add `master` suffix. I know this case can be little confusing (it is to me), I&#39;m happy to provide more information.\r\n\r\n\r\n","title":"How to prevent jboss node name from being added to sessionid","body":"<p>Recently, we have upgraded our application server from JBoss EAP6.2 to EAP7.0.</p>\n\n<p>Even though it runs non-HA profile aka <code>standalone.xml</code>, JBoss adds <code>jboss.node.name</code> at the end of <code>JSESSIONID</code> cookie. </p>\n\n<p>For example,</p>\n\n<p>Spring Boot generates a <code>JSESSIONID</code> as <code>tHSf9v23SSDBMqJ1O7XFJZ9....</code> and when the request comes to browser, the cookie becomes <code>tHSf9v23SSDBMqJ1O7XFJZ9.master:&lt;jboss.node.name&gt;</code> which causes some compatibility issues. </p>\n\n<p>I've run some experiments by manually calling <code>response.addCookie</code>. In that case, it does not add <code>master</code> suffix to the cookie. However, if Spring itself writes the cookie, it seems that JBoss picks it up and add <code>master</code> suffix. I know this case can be little confusing (it is to me), I'm happy to provide more information.</p>\n"},{"tags":["java","android","indexof"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669927110,"post_id":74647897,"comment_id":131760355,"body_markdown":"&quot;*The problem is that even if indexOf returns -1*&quot; - [Cannot reproduce (`ideone.com`)](https://ideone.com/38B6Dn). How did you verified that `str.indexOf(&quot;blue&quot;)` is `-1`?","body":"&quot;<i>The problem is that even if indexOf returns -1</i>&quot; - <a href=\"https://ideone.com/38B6Dn\" rel=\"nofollow noreferrer\">Cannot reproduce (<code>ideone.com</code>)</a>. How did you verified that <code>str.indexOf(&quot;blue&quot;)</code> is <code>-1</code>?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1669927462,"post_id":74647897,"comment_id":131760459,"body_markdown":"Btw: If &quot;blue&quot; can also be at the beginning of str, your if-statement wouldn&#39;t catch it (because indexOf would return 0). Consider changing to `str.contains(&quot;blue&quot;)`.","body":"Btw: If &quot;blue&quot; can also be at the beginning of str, your if-statement wouldn&#39;t catch it (because indexOf would return 0). Consider changing to <code>str.contains(&quot;blue&quot;)</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1669927833,"post_id":74647897,"comment_id":131760578,"body_markdown":"That, or use `&gt;= 0` instead of `&gt; 0`.","body":"That, or use <code>&gt;= 0</code> instead of <code>&gt; 0</code>."},{"owner":{"account_id":24055770,"reputation":43,"user_id":18033603,"display_name":"PPavesi"},"score":0,"creation_date":1669928547,"post_id":74647897,"comment_id":131760826,"body_markdown":"Thank you for answer.\n\n1) I verified if &gt; 0, doesn&#39;t work.\n\n2) I tried contains, and not work.\n\n3) I tried &gt;= 0, and not work.\n\nThank you again","body":"Thank you for answer.  1) I verified if &gt; 0, doesn&#39;t work.  2) I tried contains, and not work.  3) I tried &gt;= 0, and not work.  Thank you again"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669931269,"post_id":74647897,"comment_id":131761505,"body_markdown":"But, *How* did you verify `if (str.indexOf(&quot;blue&quot;) &gt; 0 )` doesn&#39;t work? I suggest you try something like this: `System.out.println (&quot;&gt;&quot; + str + &quot;&lt;&quot;); if (str.indexOf(&quot;blue&quot;) &gt; 0) { System.out.println (&quot;It worked!&quot;); ... } else { System.out.println (&quot;It didn&#39;t work&quot;); ...}`","body":"But, <i>How</i> did you verify <code>if (str.indexOf(&quot;blue&quot;) &gt; 0 )</code> doesn&#39;t work? I suggest you try something like this: <code>System.out.println (&quot;&gt;&quot; + str + &quot;&lt;&quot;); if (str.indexOf(&quot;blue&quot;) &gt; 0) { System.out.println (&quot;It worked!&quot;); ... } else { System.out.println (&quot;It didn&#39;t work&quot;); ...}</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669934562,"post_id":74647897,"comment_id":131762291,"body_markdown":"*// It always stops here* Meaning *blocks*?","body":"<i>// It always stops here</i> Meaning <i>blocks</i>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669968393,"post_id":74647897,"comment_id":131767751,"body_markdown":"Also if it&#39;s an html page it is not valid to read lines unless in a context of `&lt;pre&gt;` tags (or &#39;modern equivalent&#39;). You should use instead an html parser or you could at a pinch read the lot into a string if you know the content encoding.","body":"Also if it&#39;s an html page it is not valid to read lines unless in a context of <code>&lt;pre&gt;</code> tags (or &#39;modern equivalent&#39;). You should use instead an html parser or you could at a pinch read the lot into a string if you know the content encoding."},{"owner":{"account_id":24055770,"reputation":43,"user_id":18033603,"display_name":"PPavesi"},"score":0,"creation_date":1669987037,"post_id":74647897,"comment_id":131773755,"body_markdown":"I think that&#39;s the problem. I am reading a web page html. I will need to convert this string. Thank you","body":"I think that&#39;s the problem. I am reading a web page html. I will need to convert this string. Thank you"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669987397,"post_id":74647897,"comment_id":131773890,"body_markdown":"You didn&#39;t answer my question...","body":"You didn&#39;t answer my question..."},{"owner":{"account_id":24055770,"reputation":43,"user_id":18033603,"display_name":"PPavesi"},"score":0,"creation_date":1670079125,"post_id":74647897,"comment_id":131791799,"body_markdown":"Sorry gOOse. I tried, but doesn&#39;t work too. The problem is a string with html code.","body":"Sorry gOOse. I tried, but doesn&#39;t work too. The problem is a string with html code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670079809,"post_id":74647897,"comment_id":131791948,"body_markdown":"My question was about the meaning of the comment you posted. Also it might help if you show us the url you&#39;re using","body":"My question was about the meaning of the comment you posted. Also it might help if you show us the url you&#39;re using"}],"owner":{"account_id":24055770,"reputation":43,"user_id":18033603,"display_name":"PPavesi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669926989,"creation_date":1669926989,"question_id":74647897,"body_markdown":"I need to read a text from the web. I load the page inside a string and search for the word &quot;blue&quot;. The problem is that even if indexOf returns -1, the code considers &gt; 0. Has anyone had this problem?\r\n\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\r\n                String str;\r\n                while ((str = in.readLine()) != null) {\r\n                    if (str.indexOf(&quot;blue&quot;) &gt; 0 ) {\r\n                       // It always stops here, even if it doesn&#39;t have the word &quot;blue&quot;\r\n                    }\r\n                }\r\n\r\n","title":"Problem with integer comparison using indexOf","body":"<p>I need to read a text from the web. I load the page inside a string and search for the word &quot;blue&quot;. The problem is that even if indexOf returns -1, the code considers &gt; 0. Has anyone had this problem?</p>\n<pre><code>            BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\n            String str;\n            while ((str = in.readLine()) != null) {\n                if (str.indexOf(&quot;blue&quot;) &gt; 0 ) {\n                   // It always stops here, even if it doesn't have the word &quot;blue&quot;\n                }\n            }\n</code></pre>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1669887636,"post_id":74635617,"comment_id":131746728,"body_markdown":"Could we have a look at your stored procedure? Also, you need to add the `param1` and `param2` in `getProcedureData`. Something like this `getProcedureData(@Param(&quot;param1&quot;) param1, ...)` and then you can use this param in your query like this `value=&quot;exec sp_TEST_PROCEDURE(:param1, :param2)`.\n\nYou can find more info [here](https://www.baeldung.com/spring-data-jpa-stored-procedures#query-annotation)","body":"Could we have a look at your stored procedure? Also, you need to add the <code>param1</code> and <code>param2</code> in <code>getProcedureData</code>. Something like this <code>getProcedureData(@Param(&quot;param1&quot;) param1, ...)</code> and then you can use this param in your query like this <code>value=&quot;exec sp_TEST_PROCEDURE(:param1, :param2)</code>.  You can find more info <a href=\"https://www.baeldung.com/spring-data-jpa-stored-procedures#query-annotation\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":27104592,"reputation":1,"user_id":20650611,"display_name":"rhenus"},"score":0,"creation_date":1669926585,"post_id":74635617,"comment_id":131760214,"body_markdown":"The stored procedure is as follows.\nAlthough I agree with what you said, I now add the parameters internally rather than externally. As an illustration, I inserted param1 and param2.\nThe top(?) parameter in this part, &quot;Hibernate: exec sp TEST top(?) PROCEDURE &#39;param1&#39;,&#39;param2&#39;,&quot; is where I&#39;m having the most trouble.\nWhen I use it as a List rather than a Page, it functions.","body":"The stored procedure is as follows. Although I agree with what you said, I now add the parameters internally rather than externally. As an illustration, I inserted param1 and param2. The top(?) parameter in this part, &quot;Hibernate: exec sp TEST top(?) PROCEDURE &#39;param1&#39;,&#39;param2&#39;,&quot; is where I&#39;m having the most trouble. When I use it as a List rather than a Page, it functions."},{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1670319228,"post_id":74635617,"comment_id":131843148,"body_markdown":"In your `countQuery`, wrap the result in a `COUNT()` function. Like this : `SELECT COUNT(*) FROM ...`","body":"In your <code>countQuery</code>, wrap the result in a <code>COUNT()</code> function. Like this : <code>SELECT COUNT(*) FROM ...</code>"},{"owner":{"account_id":27104592,"reputation":1,"user_id":20650611,"display_name":"rhenus"},"score":0,"creation_date":1670360931,"post_id":74635617,"comment_id":131858095,"body_markdown":"It appears like a workaround to really use `--/n #pageable /n`, which I put to the end of the stored procedure. Its disregard for the `size` and `page` parameters supplied in the request is the issue here. All the info it discovers is returned, even if I send these values.","body":"It appears like a workaround to really use <code>--&#47;n #pageable &#47;n</code>, which I put to the end of the stored procedure. Its disregard for the <code>size</code> and <code>page</code> parameters supplied in the request is the issue here. All the info it discovers is returned, even if I send these values."},{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1670591767,"post_id":74635617,"comment_id":131915279,"body_markdown":"Another option could be to pass the size and page number in your procedure and then apply an `offset` and `limit` to your query. Here is an [example](https://www.sqltutorial.org/sql-limit/). Your `offset` should be `size * page number` and your `limit` should be `size`. Then with the list result you can convert it into a `Page` like this : `new PageImpl&lt;&gt;(yourListHere, pageableFromRequest, totalElements);`","body":"Another option could be to pass the size and page number in your procedure and then apply an <code>offset</code> and <code>limit</code> to your query. Here is an <a href=\"https://www.sqltutorial.org/sql-limit/\" rel=\"nofollow noreferrer\">example</a>. Your <code>offset</code> should be <code>size * page number</code> and your <code>limit</code> should be <code>size</code>. Then with the list result you can convert it into a <code>Page</code> like this : <code>new PageImpl&lt;&gt;(yourListHere, pageableFromRequest, totalElements);</code>"},{"owner":{"account_id":27104592,"reputation":1,"user_id":20650611,"display_name":"rhenus"},"score":1,"creation_date":1670698997,"post_id":74635617,"comment_id":131935505,"body_markdown":"I appreciate your assistance very much, Marc. I was able to solve the problem because of your directions.","body":"I appreciate your assistance very much, Marc. I was able to solve the problem because of your directions."},{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1670699726,"post_id":74635617,"comment_id":131935652,"body_markdown":"Glad it worked out, sorry I couldn&#39;t provide better answer.","body":"Glad it worked out, sorry I couldn&#39;t provide better answer."}],"owner":{"account_id":27104592,"reputation":1,"user_id":20650611,"display_name":"rhenus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669926871,"creation_date":1669854154,"question_id":74635617,"body_markdown":"\r\nFirst of all, I&#39;m a complete novice with Java. If I&#39;m making a mistake, don&#39;t hesitate to correct me.\r\n\r\nA very old project for a rest service is being reinstalled by me. I need to return a stored procedure in page form .\r\n  \r\nHowever, I am unable to do so because the count query is broken. Because it adds a &quot;TOP&quot; to the middle.\r\n\r\nIs there a way to avoid this, or am I on the incorrect path entirely?\r\n\r\n\r\n\r\nEntity\r\n\r\n```\r\n@Entity\r\n@Data\r\npublic class TestProcedureData {\r\n\t\t\r\n\t\t@Id \r\n\t\t@Column(name=&quot;A_COLUMN&quot;)\r\n\t\tString aColumn;\r\n\t\t\r\n\t\t@Column(name=&quot;B_COLUMN&quot;)\r\n\t\tString bColumn;\r\n\t\t\r\n\t\t@Column(name=&quot;C_COLUMN&quot;)\r\n\t\tString cColumn;\r\n\t\t\r\n\t\t@Column(name=&quot;D_COLUMN&quot;)\r\n\t\tString dColumn;\r\n}\r\n```\r\n\r\nService\r\n\r\n```\r\n@Service\r\npublic class TestProcedureServices {\r\n\r\n\tITestProcedureData testProcedureData;\r\n\r\n\tpublic TestProcedureServices(ITestProcedureData testProcedureData) { \r\n\t\tthis.testProcedureData = testProcedureData;\r\n\t}\r\n\t\r\n\tpublic Page&lt;TestProcedureData&gt; getProcedureData(Pageable pageable){\r\n\t\treturn testProcedureData.getProcedureData(pageable);\r\n\t}\r\n}\r\n```\r\n\r\nController\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\npublic class TestProcedureControllers {\r\n\t\r\n\tprivate TestProcedureServices testProcedureServices;\r\n\r\n\tpublic TestProcedureControllers(TestProcedureServices testProcedureServices) { \r\n\t\tthis.testProcedureServices = testProcedureServices;\r\n\t}\r\n\t\r\n\t@GetMapping\r\n\tpublic Page&lt;TestProcedureData&gt; getProcedureData(Pageable pageable){\t\t\r\n\t\treturn testProcedureServices.getProcedureData(pageable);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nRepo\r\n\r\n```\r\npublic interface ITestProcedureData extends JpaRepository&lt;TestProcedureData, String&gt; {\r\n\r\n\t@Query(nativeQuery=true,value=&quot;exec sp_TEST_PROCEDURE &#39;param1&#39;,&#39;param2&#39;&quot;,\r\n\t       countQuery=&quot;SELECT * FROM test_table WHERE A_COLUMN=param1 AND B_COLUMN=param2&quot;)\r\n\r\n\tpublic Page&lt;TestProcedureData&gt; getProcedureData(Pageable pageable);\r\n\r\n\r\n}\r\n```\r\n\r\nRequest\r\n\r\n&gt; ```\r\n&gt; localhost:8080/test?size=1&amp;page1\r\n&gt; ```\r\n\r\nThis was the error\r\n\r\n\r\n&gt; 2022-12-01 03:12:03.159 [INFO ] [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 2 ms\r\n&gt; Hibernate: exec sp_TEST top(?)_PROCEDURE &#39;param1&#39;,&#39;param2&#39;\r\n&gt; 2022-12-01 03:12:03.379 [WARN ] [http-nio-8080-exec-2] SqlExceptionHelper - SQL Error: 156, SQLState: S0001\r\n&gt; 2022-12-01 03:12:03.380 [ERROR] [http-nio-8080-exec-2] SqlExceptionHelper - Incorrect syntax near the keyword &#39;top&#39;.\r\n&gt; 2022-12-01 03:12:03.389 [ERROR] [http-nio-8080-exec-2] [dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword &#39;top&#39;.\r\n\r\n\r\nAre the classes I have listed above correct? I appreciate it.\r\n\r\nProcedure\r\n```\r\nPROCEDURE [dbo].[sp_TEST_PROCEDURE]\r\n\t@param1    VARCHAR(20),\r\n\t@param2      VARCHAR(20) \r\nAS\r\nBEGIN \r\n    SELECT AQA.[A_COLUMN]\r\n       ,AQA.[B_COLUMN]\r\n       ,Q.NAME AS C_COLUMN\r\n       ,A.NAME AS D_COLUMN \r\n   FROM [rpt_ACTIVITY] AQA, TENANT A, QUEUE Q\r\n   WHERE Q.QID = AQA.SERVED_QID \r\n   AND A.AID = AQA.AID \r\n   AND (@param1 = &#39;0&#39; OR AQA.SERVED_QID IN (SELECT * FROM GET_IDS(@param1)) )\r\n   AND (@param2 = &#39;-1&#39; OR (@param2 = &#39;-2&#39; AND A.DELETION_ORDER != 0) OR(@param2 = &#39;0&#39; AND A.DELETION_ORDER = 0) OR A.AID IN (select * from dbo.GET_IDS(@param2))) ORDER BY AQA.TIME\r\nEND\r\n```\r\n","title":"Pagination result with Spring Stored Procedure","body":"<p>First of all, I'm a complete novice with Java. If I'm making a mistake, don't hesitate to correct me.</p>\n<p>A very old project for a rest service is being reinstalled by me. I need to return a stored procedure in page form .</p>\n<p>However, I am unable to do so because the count query is broken. Because it adds a &quot;TOP&quot; to the middle.</p>\n<p>Is there a way to avoid this, or am I on the incorrect path entirely?</p>\n<p>Entity</p>\n<pre><code>@Entity\n@Data\npublic class TestProcedureData {\n        \n        @Id \n        @Column(name=&quot;A_COLUMN&quot;)\n        String aColumn;\n        \n        @Column(name=&quot;B_COLUMN&quot;)\n        String bColumn;\n        \n        @Column(name=&quot;C_COLUMN&quot;)\n        String cColumn;\n        \n        @Column(name=&quot;D_COLUMN&quot;)\n        String dColumn;\n}\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\npublic class TestProcedureServices {\n\n    ITestProcedureData testProcedureData;\n\n    public TestProcedureServices(ITestProcedureData testProcedureData) { \n        this.testProcedureData = testProcedureData;\n    }\n    \n    public Page&lt;TestProcedureData&gt; getProcedureData(Pageable pageable){\n        return testProcedureData.getProcedureData(pageable);\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class TestProcedureControllers {\n    \n    private TestProcedureServices testProcedureServices;\n\n    public TestProcedureControllers(TestProcedureServices testProcedureServices) { \n        this.testProcedureServices = testProcedureServices;\n    }\n    \n    @GetMapping\n    public Page&lt;TestProcedureData&gt; getProcedureData(Pageable pageable){     \n        return testProcedureServices.getProcedureData(pageable);\n    }\n\n}\n</code></pre>\n<p>Repo</p>\n<pre><code>public interface ITestProcedureData extends JpaRepository&lt;TestProcedureData, String&gt; {\n\n    @Query(nativeQuery=true,value=&quot;exec sp_TEST_PROCEDURE 'param1','param2'&quot;,\n           countQuery=&quot;SELECT * FROM test_table WHERE A_COLUMN=param1 AND B_COLUMN=param2&quot;)\n\n    public Page&lt;TestProcedureData&gt; getProcedureData(Pageable pageable);\n\n\n}\n</code></pre>\n<p>Request</p>\n<blockquote>\n<pre><code>localhost:8080/test?size=1&amp;page1\n</code></pre>\n</blockquote>\n<p>This was the error</p>\n<blockquote>\n<p>2022-12-01 03:12:03.159 [INFO ] [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 2 ms\nHibernate: exec sp_TEST top(?)_PROCEDURE 'param1','param2'\n2022-12-01 03:12:03.379 [WARN ] [http-nio-8080-exec-2] SqlExceptionHelper - SQL Error: 156, SQLState: S0001\n2022-12-01 03:12:03.380 [ERROR] [http-nio-8080-exec-2] SqlExceptionHelper - Incorrect syntax near the keyword 'top'.\n2022-12-01 03:12:03.389 [ERROR] [http-nio-8080-exec-2] [dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\ncom.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'top'.</p>\n</blockquote>\n<p>Are the classes I have listed above correct? I appreciate it.</p>\n<p>Procedure</p>\n<pre><code>PROCEDURE [dbo].[sp_TEST_PROCEDURE]\n    @param1    VARCHAR(20),\n    @param2      VARCHAR(20) \nAS\nBEGIN \n    SELECT AQA.[A_COLUMN]\n       ,AQA.[B_COLUMN]\n       ,Q.NAME AS C_COLUMN\n       ,A.NAME AS D_COLUMN \n   FROM [rpt_ACTIVITY] AQA, TENANT A, QUEUE Q\n   WHERE Q.QID = AQA.SERVED_QID \n   AND A.AID = AQA.AID \n   AND (@param1 = '0' OR AQA.SERVED_QID IN (SELECT * FROM GET_IDS(@param1)) )\n   AND (@param2 = '-1' OR (@param2 = '-2' AND A.DELETION_ORDER != 0) OR(@param2 = '0' AND A.DELETION_ORDER = 0) OR A.AID IN (select * from dbo.GET_IDS(@param2))) ORDER BY AQA.TIME\nEND\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","axios","cors"],"comments":[{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":1,"creation_date":1669928229,"post_id":74647886,"comment_id":131760713,"body_markdown":"Your CORS middleware appears too late in the chain; it should be closer to the top, before `sessionManagement()` etc.","body":"Your CORS middleware appears too late in the chain; it should be closer to the top, before <code>sessionManagement()</code> etc."},{"owner":{"account_id":23645759,"reputation":11,"user_id":20660000,"display_name":"Jo&#227;o Vitor Menezes"},"score":0,"creation_date":1669932284,"post_id":74647886,"comment_id":131761741,"body_markdown":"`http.httpBasic().disable().csrf().disable().cors().and(){...}` like this? i tried but still dont work","body":"<code>http.httpBasic().disable().csrf().disable().cors().and(){...&zwnj;&#8203;}</code> like this? i tried but still dont work"},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1669934550,"post_id":74647886,"comment_id":131762287,"body_markdown":"You need to allow the `Authorization` request header in your CORS config.","body":"You need to allow the <code>Authorization</code> request header in your CORS config."}],"owner":{"account_id":23645759,"reputation":11,"user_id":20660000,"display_name":"Jo&#227;o Vitor Menezes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669926859,"creation_date":1669926859,"question_id":74647886,"body_markdown":"I have a backend api and when i try to access it from a frontend client i get 403.\r\n\r\nI set the base URL\r\n\r\n```\r\nconst api = axios.create({\r\n    baseURL: &#39;http://localhost:8080&#39;\r\n});\r\n```\r\n\r\nThen i make login with an user and password and store the accessToken. The axius.post works fine\r\n\r\n```\r\nexport default function Login() {\r\n\r\n    const [username, setUsername] = useState(&#39;&#39;);\r\n    const [password, setPassword] = useState(&#39;&#39;);\r\n\r\n    const history = useHistory();\r\n\r\n    async function login(e){\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n            username,\r\n            password,\r\n        };\r\n\r\n        try {\r\n            const response = await api.post(&#39;auth/signin&#39;, data);\r\n\r\n            console.log(response.data.accessToken)\r\n\r\n            localStorage.setItem(&#39;username&#39;, username);\r\n            localStorage.setItem(&#39;accessToken&#39;, response.data.accessToken);\r\n\r\n            history.push(&#39;/books&#39;)\r\n        } catch (err) {\r\n            alert(&#39;Login failed! Try again!&#39;);\r\n        }\r\n    };\r\n```\r\n\r\nWhen i try to authenticate using the accesToken and make the axius.get i receive error 403\r\n\r\n```\r\nexport default function Books(){\r\n\r\n    const [books, setBooks] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    \r\n    const username = localStorage.getItem(&#39;username&#39;);\r\n    const access_token = localStorage.getItem(&#39;accessToken&#39;);\r\n\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() =&gt; {\r\n\r\n        api.get(&#39;api/book/v1&#39;, {\r\n            Headers: {\r\n                Authorization: `Bearer ${access_token}`\r\n            },\r\n            params: {\r\n                page: 0,\r\n                size: 10,\r\n                direction: &#39;asc&#39;\r\n            }\r\n        }).then(response =&gt; {\r\n            setBooks(response.data._embedded.bookVOList)\r\n        })\r\n\r\n    })\r\n```\r\n\r\nThe client runs on localhost:3000 and the server on localhost:8000\r\n\r\nHere&#39;s the SecurityConfig class\r\n\r\n```\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.httpBasic().disable()\r\n\t\t\t.csrf().disable()\r\n\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS) \r\n\t\t\t\t.and()\r\n\t\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.antMatchers(&quot;/auth/signin&quot;, &quot;/auth/refresh&quot;, &quot;/api-docs/**&quot;, &quot;/swagger-ui.html**&quot;).permitAll()\r\n\t\t\t\t\t.antMatchers(&quot;/api/**&quot;).authenticated()\r\n\t\t\t\t\t.antMatchers(&quot;/users&quot;).denyAll()\r\n\t\t\t\t.and()\r\n\t\t\t\t\t.cors()\r\n\t\t\t\t.and()\r\n\t\t\t\t.apply(new JwtConfigurer(tokenProvider));\r\n\t}}\r\n```\r\n\r\nAnd here&#39;s the WebConfig class\r\n\r\n```\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\t\r\n        @Override\r\n\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\tregistry.addMapping(&quot;/**&quot;)\r\n\t\t\t.allowedOrigins(&quot;http://localhost:3000&quot;, &quot;http://localhost&quot;, &quot;http://localhost:8080&quot;)\r\n\t\t\t.allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;HEAD&quot;, &quot;TRACE&quot;, &quot;CONNECT&quot;)\r\n\t\t\t.allowCredentials(true);\r\n\t}\r\n```\r\n\r\nI&#39;ve already tried to use proxy and adding @CrossOrigin to the controller class\r\nI&#39;ve used .allowedMethods(&quot;*&quot;) on addCorsMapping too but also didn&#39;t work","title":"Axios 403 response springboot","body":"<p>I have a backend api and when i try to access it from a frontend client i get 403.</p>\n<p>I set the base URL</p>\n<pre><code>const api = axios.create({\n    baseURL: 'http://localhost:8080'\n});\n</code></pre>\n<p>Then i make login with an user and password and store the accessToken. The axius.post works fine</p>\n<pre><code>export default function Login() {\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const history = useHistory();\n\n    async function login(e){\n        e.preventDefault();\n\n        const data = {\n            username,\n            password,\n        };\n\n        try {\n            const response = await api.post('auth/signin', data);\n\n            console.log(response.data.accessToken)\n\n            localStorage.setItem('username', username);\n            localStorage.setItem('accessToken', response.data.accessToken);\n\n            history.push('/books')\n        } catch (err) {\n            alert('Login failed! Try again!');\n        }\n    };\n</code></pre>\n<p>When i try to authenticate using the accesToken and make the axius.get i receive error 403</p>\n<pre><code>export default function Books(){\n\n    const [books, setBooks] = useState([]);\n    const [page, setPage] = useState(0);\n    \n    const username = localStorage.getItem('username');\n    const access_token = localStorage.getItem('accessToken');\n\n\n    const history = useHistory();\n\n    useEffect(() =&gt; {\n\n        api.get('api/book/v1', {\n            Headers: {\n                Authorization: `Bearer ${access_token}`\n            },\n            params: {\n                page: 0,\n                size: 10,\n                direction: 'asc'\n            }\n        }).then(response =&gt; {\n            setBooks(response.data._embedded.bookVOList)\n        })\n\n    })\n</code></pre>\n<p>The client runs on localhost:3000 and the server on localhost:8000</p>\n<p>Here's the SecurityConfig class</p>\n<pre><code>public class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .httpBasic().disable()\n            .csrf().disable()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS) \n                .and()\n                    .authorizeRequests()\n                    .antMatchers(&quot;/auth/signin&quot;, &quot;/auth/refresh&quot;, &quot;/api-docs/**&quot;, &quot;/swagger-ui.html**&quot;).permitAll()\n                    .antMatchers(&quot;/api/**&quot;).authenticated()\n                    .antMatchers(&quot;/users&quot;).denyAll()\n                .and()\n                    .cors()\n                .and()\n                .apply(new JwtConfigurer(tokenProvider));\n    }}\n</code></pre>\n<p>And here's the WebConfig class</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    \n        @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n            .allowedOrigins(&quot;http://localhost:3000&quot;, &quot;http://localhost&quot;, &quot;http://localhost:8080&quot;)\n            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;HEAD&quot;, &quot;TRACE&quot;, &quot;CONNECT&quot;)\n            .allowCredentials(true);\n    }\n</code></pre>\n<p>I've already tried to use proxy and adding @CrossOrigin to the controller class\nI've used .allowedMethods(&quot;*&quot;) on addCorsMapping too but also didn't work</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669925702,"post_id":74633800,"comment_id":131759998,"body_markdown":"If you look at this from a database perspective, where entity &#39;Position&#39; data goes into table &#39;Position&#39;, how can generic types work? The type has to be set to be usable for queries and for schema validation for each row in the table, so what you are trying to do doesn&#39;t fit within an Entity.","body":"If you look at this from a database perspective, where entity &#39;Position&#39; data goes into table &#39;Position&#39;, how can generic types work? The type has to be set to be usable for queries and for schema validation for each row in the table, so what you are trying to do doesn&#39;t fit within an Entity."},{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1669926642,"post_id":74633800,"comment_id":131760225,"body_markdown":"@Chris Hi, thanks for pointing out the mistake. I&#39;m sorry, I wasn&#39;t very clear about the question itself, `Position` only serves as parent class, not intended to save as an entity here, I&#39;ve updated the question, so, feel free to take a look, I&#39;m looking forward to hear more from you!","body":"@Chris Hi, thanks for pointing out the mistake. I&#39;m sorry, I wasn&#39;t very clear about the question itself, <code>Position</code> only serves as parent class, not intended to save as an entity here, I&#39;ve updated the question, so, feel free to take a look, I&#39;m looking forward to hear more from you!"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1669927193,"post_id":74633800,"comment_id":131760378,"body_markdown":"Now that you&#39;ve shown Position as an abstract MappedSuperclass, you&#39;ve still got the same problem though - any annotations you apply to that &#39;generic&#39; property are only applicable to certain situations. What you want is a feature that isn&#39;t part of the spec; a way to tell it what to use and when. That currently only exists in JPA on the property on a per property basis. Alternatively, you can map this via XML: Have the generic type and all other annotations in your class but override this mapping in each class via XML files.","body":"Now that you&#39;ve shown Position as an abstract MappedSuperclass, you&#39;ve still got the same problem though - any annotations you apply to that &#39;generic&#39; property are only applicable to certain situations. What you want is a feature that isn&#39;t part of the spec; a way to tell it what to use and when. That currently only exists in JPA on the property on a per property basis. Alternatively, you can map this via XML: Have the generic type and all other annotations in your class but override this mapping in each class via XML files."}],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669926425,"creation_date":1669840200,"question_id":74633800,"body_markdown":"I have this generic entity:\r\n```\r\n@MappedSuperclass\r\nabstract class Position&lt;T&gt; {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private T name;\r\n}\r\n```\r\nBut there&#39;s a case where the generic type is a `String`:\r\n```\r\n@Entity\r\nclass ChildPosition0 extends Position&lt;String&gt; {\r\n}\r\n```\r\nAnd, JPA will complaint that `String` is not an `enum` in this case, but I need to annotate this `name` field if it&#39;s an enum, if not, the database will mark it as `int` type, and that&#39;s not ideal. How do I solve this? How to annotate the field conditionally?\r\n\r\n## My workaround:\r\nUse `Position` as a parent class, and adding those field in child class individually, even though they share the same field:\r\n```\r\n@MappedSuperclass\r\nabstract class Position {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n}\r\n```\r\nAnd extends it from child entity like this:\r\n\r\nChild1:\r\n```\r\n@Entity\r\npublic class ChildPosition1 extends Position {\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Priority name; // &lt;- Priority is enum type\r\n}\r\n```\r\nChild2:\r\n```\r\n@Entity\r\npublic class ChildPosition2 extends Position {\r\n\r\n    private String name;\r\n}\r\n```\r\n\r\nThis is too ugly IMO. And Java does not allow class field override from child class. So, back to the question: how to annotate generic field conditionally?","title":"JPA how to annotate generic entity field conditionally?","body":"<p>I have this generic entity:</p>\n<pre><code>@MappedSuperclass\nabstract class Position&lt;T&gt; {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Enumerated(EnumType.STRING)\n    private T name;\n}\n</code></pre>\n<p>But there's a case where the generic type is a <code>String</code>:</p>\n<pre><code>@Entity\nclass ChildPosition0 extends Position&lt;String&gt; {\n}\n</code></pre>\n<p>And, JPA will complaint that <code>String</code> is not an <code>enum</code> in this case, but I need to annotate this <code>name</code> field if it's an enum, if not, the database will mark it as <code>int</code> type, and that's not ideal. How do I solve this? How to annotate the field conditionally?</p>\n<h2>My workaround:</h2>\n<p>Use <code>Position</code> as a parent class, and adding those field in child class individually, even though they share the same field:</p>\n<pre><code>@MappedSuperclass\nabstract class Position {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n}\n</code></pre>\n<p>And extends it from child entity like this:</p>\n<p>Child1:</p>\n<pre><code>@Entity\npublic class ChildPosition1 extends Position {\n\n    @Enumerated(EnumType.STRING)\n    private Priority name; // &lt;- Priority is enum type\n}\n</code></pre>\n<p>Child2:</p>\n<pre><code>@Entity\npublic class ChildPosition2 extends Position {\n\n    private String name;\n}\n</code></pre>\n<p>This is too ugly IMO. And Java does not allow class field override from child class. So, back to the question: how to annotate generic field conditionally?</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1669907808,"post_id":74644111,"comment_id":131753955,"body_markdown":"There may be multiple reason why you can&#39;t instantiate a class. For example Collections is an utility class, it cannot be instantiated because it simply provides static methods to help with collections. At the same time, an abstract class can&#39;t be instantiated either, but for a completely different reason (i.e. it should be extended and completed before). Hence if you really want to put them all in the same basket, I don&#39;t think you can really call them other than &quot;uninstantiable&quot; classes.","body":"There may be multiple reason why you can&#39;t instantiate a class. For example Collections is an utility class, it cannot be instantiated because it simply provides static methods to help with collections. At the same time, an abstract class can&#39;t be instantiated either, but for a completely different reason (i.e. it should be extended and completed before). Hence if you really want to put them all in the same basket, I don&#39;t think you can really call them other than &quot;uninstantiable&quot; classes."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1669907948,"post_id":74644111,"comment_id":131754016,"body_markdown":"I would call them &quot;utility classes&quot;, focusing more on what they are for rather than on the technicality of the fact they can&#39;t be instantiated.","body":"I would call them &quot;utility classes&quot;, focusing more on what they are for rather than on the technicality of the fact they can&#39;t be instantiated."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":2,"creation_date":1669907993,"post_id":74644111,"comment_id":131754031,"body_markdown":"The term &quot;utility classes&quot; seems to be commonly used to refer to classes that contain only static methods.","body":"The term &quot;utility classes&quot; seems to be commonly used to refer to classes that contain only static methods."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1669908382,"post_id":74644111,"comment_id":131754191,"body_markdown":"This seems like a perfectly alright question to ask here. It&#39;s concise, limited in scope, programming-related, shows its research. Huh.","body":"This seems like a perfectly alright question to ask here. It&#39;s concise, limited in scope, programming-related, shows its research. Huh."}],"owner":{"account_id":15419993,"reputation":35,"user_id":11124295,"display_name":"Chetan Khandave"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1669926234,"creation_date":1669907510,"question_id":74644111,"body_markdown":"In Java their are some classes which can not be instantiated e.g. `java.util.Arrays` and `java.util.Collections`. Is ther any term for such classes which cannot be instantiated?\r\n\r\nOn the Wikipedia page for [Class (computer programming)](https://en.wikipedia.org/wiki/Class_(computer_programming)#Uninstantiable) they call such classes as **Uninstantiable classes**.","title":"What do we call classes which cannot be instantiated?","body":"<p>In Java their are some classes which can not be instantiated e.g. <code>java.util.Arrays</code> and <code>java.util.Collections</code>. Is ther any term for such classes which cannot be instantiated?</p>\n<p>On the Wikipedia page for <a href=\"https://en.wikipedia.org/wiki/Class_(computer_programming)#Uninstantiable\" rel=\"nofollow noreferrer\">Class (computer programming)</a> they call such classes as <strong>Uninstantiable classes</strong>.</p>\n"},{"tags":["java","ssl","keystore","code-signing","keytool"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1669908436,"post_id":74640862,"comment_id":131754209,"body_markdown":"Is that OpenSSL 3.0.x and Java 11 _below 11.0.12_? If so, dupe https://stackoverflow.com/questions/72412346/java-keytool-importing-pkcs12-to-jks-getting-error-keystore-password-was-inc and yes the &#39;export password&#39; is the only one that should be needed. (PS: I assume you mean code-signing, not signing of female secondary-school students.)","body":"Is that OpenSSL 3.0.x and Java 11 <i>below 11.0.12</i>? If so, dupe <a href=\"https://stackoverflow.com/questions/72412346/java-keytool-importing-pkcs12-to-jks-getting-error-keystore-password-was-inc\" title=\"java keytool importing pkcs12 to jks getting error keystore password was inc\">stackoverflow.com/questions/72412346/&hellip;</a> and yes the &#39;export password&#39; is the only one that should be needed. (PS: I assume you mean code-signing, not signing of female secondary-school students.)"},{"owner":{"account_id":14099654,"reputation":1988,"user_id":10185326,"display_name":"itaydafna"},"score":0,"creation_date":1669926460,"post_id":74640862,"comment_id":131760182,"body_markdown":"Thanks  @dave_thompson_085 for pointing out the answer! (lol, thought I did mention it&#39;s for code-signing)","body":"Thanks  @dave_thompson_085 for pointing out the answer! (lol, thought I did mention it&#39;s for code-signing)"}],"owner":{"account_id":14099654,"reputation":1988,"user_id":10185326,"display_name":"itaydafna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669926173,"creation_date":1669892683,"question_id":74640862,"body_markdown":"As part of a JAR code-signing process I&#39;m running into the following issue when trying to use a P12 keystore I&#39;m creating using keytool\r\n\r\nI have the 2 following files: \r\n\r\n`my_private_key.key`\r\n\r\n`cert_signed_by_ca.pem` (corresponds with `my_private_key.key`)\r\n\r\nFirst, I&#39;m using the following command in order to create a `p12` format keystore:\r\n \r\n`openssl pkcs12 -export -in cert_signed_by_ca.pem -inkey my_private_key.key -certfile cert_signed_by_ca.pem -out my_keystore.p12`\r\n\r\nwhen prompted: `&quot;Enter pass phrase for my_private_key.key&quot;` I&#39;m typing in the password associated with `my_private_key.key`\r\n\r\nthen I&#39;m prompted: `Enter Export Password:` to which I&#39;m entering a new password (let&#39;s call it `export_password` for the sake of this example)\r\n\r\nthen I&#39;m prompted `&quot;Verifying - Enter Export Password:&quot;` to which I&#39;m retyping my `export_password`\r\n\r\nI can see that a `my_keystore.p12` file has been successfully generated in my working directory. \r\n\r\nfrom this point onwards, any action I try to perform with `keytool` on `my_keystore.p12` results in an an &quot;invalid password&quot; error. For example when trying to list the keystore&#39;s properties using: \r\n\r\n`keytool -v -list -storetype pkcs12 -keystore my_keystore.p12`\r\n\r\nI&#39;m being prompted `Enter keystore password:`\r\n\r\nNo matter what I type in here, weather it&#39;s the password associated with `my_private_key.key` or the `export_password` I chose when generating the keystore, I get the same exception: \r\n\r\n```\r\nkeytool error: java.io.IOException: keystore password was incorrect\r\njava.io.IOException: keystore password was incorrect\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2117)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\r\n\tat java.base/java.security.KeyStore.load(KeyStore.java:1479)\r\n\tat java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1064)\r\n\tat java.base/sun.security.tools.keytool.Main.run(Main.java:409)\r\n\tat java.base/sun.security.tools.keytool.Main.main(Main.java:402)\r\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\t... 6 more\r\n``` \r\nAs I mentioned, I&#39;m getting this same issue when trying to run other keytool commands on `my_keystore.p12`\r\n\r\nWhat am I missing here? Is there another password related to my keystore which I&#39;m not aware of? \r\n\r\nP.S: I&#39;m using java 11 on an M1 Monterey Mac.","title":"Invalid keystore password - &quot;keytool error: java.io.IOException: keystore password was incorrect&quot;","body":"<p>As part of a JAR code-signing process I'm running into the following issue when trying to use a P12 keystore I'm creating using keytool</p>\n<p>I have the 2 following files:</p>\n<p><code>my_private_key.key</code></p>\n<p><code>cert_signed_by_ca.pem</code> (corresponds with <code>my_private_key.key</code>)</p>\n<p>First, I'm using the following command in order to create a <code>p12</code> format keystore:</p>\n<p><code>openssl pkcs12 -export -in cert_signed_by_ca.pem -inkey my_private_key.key -certfile cert_signed_by_ca.pem -out my_keystore.p12</code></p>\n<p>when prompted: <code>&quot;Enter pass phrase for my_private_key.key&quot;</code> I'm typing in the password associated with <code>my_private_key.key</code></p>\n<p>then I'm prompted: <code>Enter Export Password:</code> to which I'm entering a new password (let's call it <code>export_password</code> for the sake of this example)</p>\n<p>then I'm prompted <code>&quot;Verifying - Enter Export Password:&quot;</code> to which I'm retyping my <code>export_password</code></p>\n<p>I can see that a <code>my_keystore.p12</code> file has been successfully generated in my working directory.</p>\n<p>from this point onwards, any action I try to perform with <code>keytool</code> on <code>my_keystore.p12</code> results in an an &quot;invalid password&quot; error. For example when trying to list the keystore's properties using:</p>\n<p><code>keytool -v -list -storetype pkcs12 -keystore my_keystore.p12</code></p>\n<p>I'm being prompted <code>Enter keystore password:</code></p>\n<p>No matter what I type in here, weather it's the password associated with <code>my_private_key.key</code> or the <code>export_password</code> I chose when generating the keystore, I get the same exception:</p>\n<pre><code>keytool error: java.io.IOException: keystore password was incorrect\njava.io.IOException: keystore password was incorrect\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2117)\n    at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\n    at java.base/java.security.KeyStore.load(KeyStore.java:1479)\n    at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1064)\n    at java.base/sun.security.tools.keytool.Main.run(Main.java:409)\n    at java.base/sun.security.tools.keytool.Main.main(Main.java:402)\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    ... 6 more\n</code></pre>\n<p>As I mentioned, I'm getting this same issue when trying to run other keytool commands on <code>my_keystore.p12</code></p>\n<p>What am I missing here? Is there another password related to my keystore which I'm not aware of?</p>\n<p>P.S: I'm using java 11 on an M1 Monterey Mac.</p>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":2099100,"reputation":346,"user_id":1867205,"accept_rate":38,"display_name":"Kenank"},"score":0,"creation_date":1669882749,"post_id":74629349,"comment_id":131745223,"body_markdown":"I dont think using orderID as a key is good idea. How many records you need to process per minute and for how long you should keep an orderId in a storage for filtering it? Can we say, it is safe to remove orderID from a lookup table after 1 day because we are sure this orderId will not appear again?","body":"I dont think using orderID as a key is good idea. How many records you need to process per minute and for how long you should keep an orderId in a storage for filtering it? Can we say, it is safe to remove orderID from a lookup table after 1 day because we are sure this orderId will not appear again?"},{"owner":{"account_id":179202,"reputation":7876,"user_id":411709,"accept_rate":75,"display_name":"Abidi"},"score":0,"creation_date":1669888987,"post_id":74629349,"comment_id":131747223,"body_markdown":"We need to be prepared to receive 50K in a minute. Regarding, if order would disappear every 24 hours, we&#39;ve two flows, in first flow orderId won&#39;t last more than 10 seconds and in the second case an orderId could be used between 1-5 days.","body":"We need to be prepared to receive 50K in a minute. Regarding, if order would disappear every 24 hours, we&#39;ve two flows, in first flow orderId won&#39;t last more than 10 seconds and in the second case an orderId could be used between 1-5 days."},{"owner":{"account_id":179202,"reputation":7876,"user_id":411709,"accept_rate":75,"display_name":"Abidi"},"score":0,"creation_date":1669889078,"post_id":74629349,"comment_id":131747248,"body_markdown":"@Kenank you raised a good point here, how to decide what id to use in keyBy. My understanding is, the whole is to be able to retrieve state by that id?","body":"@Kenank you raised a good point here, how to decide what id to use in keyBy. My understanding is, the whole is to be able to retrieve state by that id?"}],"answers":[{"comments":[{"owner":{"account_id":179202,"reputation":7876,"user_id":411709,"accept_rate":75,"display_name":"Abidi"},"score":0,"creation_date":1669889727,"post_id":74640175,"comment_id":131747472,"body_markdown":"I tried setting BufferTimeout to 1ms and my 99th percentile dropped to 1.2ms. Quite surprised with such a significant change though I need to understand what&#39;s the cost of it. How to decide what Id to use in KeyBy, I&#39;m choosing orderId, just because it&#39;s unique.","body":"I tried setting BufferTimeout to 1ms and my 99th percentile dropped to 1.2ms. Quite surprised with such a significant change though I need to understand what&#39;s the cost of it. How to decide what Id to use in KeyBy, I&#39;m choosing orderId, just because it&#39;s unique."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1669925831,"post_id":74640175,"comment_id":131760029,"body_markdown":"In one benchmark, reducing the network buffer timeout to 1ms reduced throughput by about 25%. But results can vary quite a bit, so it&#39;s a good idea to make your own measurements.","body":"In one benchmark, reducing the network buffer timeout to 1ms reduced throughput by about 25%. But results can vary quite a bit, so it&#39;s a good idea to make your own measurements."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1669925934,"post_id":74640175,"comment_id":131760058,"body_markdown":"https://stackoverflow.com/questions/63954164/flink-optimal-configuration-for-minimum-latency/63956701#63956701 has more ideas you may find helpful.","body":"<a href=\"https://stackoverflow.com/questions/63954164/flink-optimal-configuration-for-minimum-latency/63956701#63956701\" title=\"flink optimal configuration for minimum latency\">stackoverflow.com/questions/63954164/&hellip;</a> has more ideas you may find helpful."}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669925914,"creation_date":1669889285,"answer_id":74640175,"question_id":74629349,"body_markdown":"The `keyBy` is expensive because it requires a network shuffle -- every record is serialized, sent to the downstream instance responsible for that key, and then deserialized.\r\n\r\nFor the pipeline you&#39;ve described, this is unavoidable. But your choice of serializer can make a big difference. \r\n\r\nFor more ideas about how to reduce latency, see https://stackoverflow.com/questions/63954164/flink-optimal-configuration-for-minimum-latency/63956701#63956701.\r\n\r\nAs for the choice of key, if you need to deduplicate by orderId, then you&#39;ll have to key by the orderId.","title":"Flink KeyBy Performance","body":"<p>The <code>keyBy</code> is expensive because it requires a network shuffle -- every record is serialized, sent to the downstream instance responsible for that key, and then deserialized.</p>\n<p>For the pipeline you've described, this is unavoidable. But your choice of serializer can make a big difference.</p>\n<p>For more ideas about how to reduce latency, see <a href=\"https://stackoverflow.com/questions/63954164/flink-optimal-configuration-for-minimum-latency/63956701#63956701\">Flink optimal configuration for minimum Latency</a>.</p>\n<p>As for the choice of key, if you need to deduplicate by orderId, then you'll have to key by the orderId.</p>\n"}],"owner":{"account_id":179202,"reputation":7876,"user_id":411709,"accept_rate":75,"display_name":"Abidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669925914,"creation_date":1669818322,"question_id":74629349,"body_markdown":"I&#39;m performance benchmarking my Flink application that reads data from Kafka, transforms it and dumps it into another Kafka topic. I need to keep the context so messages with same order-id are not treated as brand new orders. I&#39;m extending RichFlatMapFunction class with ValueState&lt;Order&gt; to achieve that. As I understand, I&#39;ll need to use KeyStream before I can call flatMap:\r\n\r\n\r\n    env.addSource(source()).keyBy(Order::getId).flatMap(new OrderMapper()).addSink(sink());\r\n\r\nThe problem is keyBy is taking very long time from my prespective (80 to 200 ms). I say keyBy is taking because if I remove keyBy and replace flatMap with a map function, 90th percentile of latency is about 1ms. Is there a way to use state/context without using keyBy or maybe make keyBy fast somehow?","title":"Flink KeyBy Performance","body":"<p>I'm performance benchmarking my Flink application that reads data from Kafka, transforms it and dumps it into another Kafka topic. I need to keep the context so messages with same order-id are not treated as brand new orders. I'm extending RichFlatMapFunction class with ValueState to achieve that. As I understand, I'll need to use KeyStream before I can call flatMap:</p>\n<pre><code>env.addSource(source()).keyBy(Order::getId).flatMap(new OrderMapper()).addSink(sink());\n</code></pre>\n<p>The problem is keyBy is taking very long time from my prespective (80 to 200 ms). I say keyBy is taking because if I remove keyBy and replace flatMap with a map function, 90th percentile of latency is about 1ms. Is there a way to use state/context without using keyBy or maybe make keyBy fast somehow?</p>\n"},{"tags":["java","apache-cayenne"],"answers":[{"comments":[{"owner":{"account_id":3456316,"reputation":127,"user_id":2894755,"accept_rate":90,"display_name":"Trying..."},"score":0,"creation_date":1669904823,"post_id":74624531,"comment_id":131752767,"body_markdown":"Can I have an xml file for everything else but url, username and password? So I would add the configuration file using .addConfig and then add the module to it? Or does it need to be all in the code? Also in &quot;cayenne.jdbc.url.project.node1&quot;, project also needs to be replaced with &quot;domain_name&quot;, correct?","body":"Can I have an xml file for everything else but url, username and password? So I would add the configuration file using .addConfig and then add the module to it? Or does it need to be all in the code? Also in &quot;cayenne.jdbc.url.project.node1&quot;, project also needs to be replaced with &quot;domain_name&quot;, correct?"},{"owner":{"account_id":1227634,"reputation":2538,"user_id":1192906,"display_name":"andrus_a"},"score":0,"creation_date":1669924870,"post_id":74624531,"comment_id":131759755,"body_markdown":"Yes, the &quot;project&quot; part is the domain name. And yes, you can only override parts of the DataNode definition. Let me update the answer with an example.","body":"Yes, the &quot;project&quot; part is the domain name. And yes, you can only override parts of the DataNode definition. Let me update the answer with an example."},{"owner":{"account_id":3456316,"reputation":127,"user_id":2894755,"accept_rate":90,"display_name":"Trying..."},"score":0,"creation_date":1691505824,"post_id":74624531,"comment_id":135499137,"body_markdown":"I have an xml file I&#39;m trying to override and I can&#39;t figure out where to set the domain name. Any help?","body":"I have an xml file I&#39;m trying to override and I can&#39;t figure out where to set the domain name. Any help?"},{"owner":{"account_id":3456316,"reputation":127,"user_id":2894755,"accept_rate":90,"display_name":"Trying..."},"score":0,"creation_date":1692643102,"post_id":74624531,"comment_id":135648829,"body_markdown":"domain name is what comes after the dash in the filename. So if the filename is cayenne-myserver.xml, domain name is myserver","body":"domain name is what comes after the dash in the filename. So if the filename is cayenne-myserver.xml, domain name is myserver"},{"owner":{"account_id":1227634,"reputation":2538,"user_id":1192906,"display_name":"andrus_a"},"score":0,"creation_date":1693411312,"post_id":74624531,"comment_id":135758236,"body_markdown":"Yes, you can control the domain name by renaming your project XML file. Or are you looking to override it in runtime, regardless of what file was loaded?","body":"Yes, you can control the domain name by renaming your project XML file. Or are you looking to override it in runtime, regardless of what file was loaded?"},{"owner":{"account_id":3456316,"reputation":127,"user_id":2894755,"accept_rate":90,"display_name":"Trying..."},"score":0,"creation_date":1693501648,"post_id":74624531,"comment_id":135772959,"body_markdown":"I was looking to add more configuration to the existing items in the XML file and figured it out. Thank you.","body":"I was looking to add more configuration to the existing items in the XML file and figured it out. Thank you."}],"tags":[],"owner":{"account_id":1227634,"reputation":2538,"user_id":1192906,"display_name":"andrus_a"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669925482,"creation_date":1669795363,"answer_id":74624531,"question_id":74605870,"body_markdown":"It is possible [to do via properties][1] wrapped in a module:\r\n\r\n    ServerRuntime.builder()\r\n      .addModule(b -&gt; ServerModule.contributeProperties(b)\r\n  \t    .put(&quot;cayenne.jdbc.url.project.node1&quot;, &quot;jdbc:url1&quot;)\r\n  \t    .put(&quot;cayenne.jdbc.url.project.node2&quot;, &quot;jdbc:url2&quot;)\r\n        // similarly add properties for driver, user, password, etc.\r\n      )\r\n      .build();\r\n\r\nAlternatively for each DataNode in the Modeler you can set a custom &quot;DataSource Factory&quot;, pointing it to your own Java class similar to this:\r\n\r\n\tpublic class MyDataSourceFactory implements DataSourceFactory {\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic DataSource getDataSource(DataNodeDescriptor nd) throws Exception {\r\n\t\t\tDataSourceInfo info = nd.getDataSourceDescriptor();\r\n\r\n\t\t\t// use the configuration in the DataSourceInfo and/or supplement it \r\n\t\t\t// your own values\r\n\t\t\t...\r\n\r\n\t\t\t// Create a DataSource\r\n\t\t\tDriver driver = (Driver)objectFactory.getJavaClass(driverClass).newInstance();\r\n\t\t\treturn DataSourceBuilder\r\n\t\t\t\t.url(url)\r\n\t\t\t\t.driver(driver)\r\n\t\t\t\t.userName(username)\r\n\t\t\t\t.password(password)\r\n\t\t\t\t.pool(minConnections, maxConnections)\r\n\t\t\t\t.maxQueueWaitTime(maxQueueWaitTime)\r\n\t\t\t\t.validationQuery(validationQuery)\r\n\t\t\t\t.build();\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://cayenne.apache.org/docs/4.2/cayenne-guide/#appendix-a-configuration-properties","title":"Cayenne 4.1 - Single Runtime with Multiple Datanodes with different URL and credentials","body":"<p>It is possible <a href=\"https://cayenne.apache.org/docs/4.2/cayenne-guide/#appendix-a-configuration-properties\" rel=\"nofollow noreferrer\">to do via properties</a> wrapped in a module:</p>\n<pre><code>ServerRuntime.builder()\n  .addModule(b -&gt; ServerModule.contributeProperties(b)\n    .put(&quot;cayenne.jdbc.url.project.node1&quot;, &quot;jdbc:url1&quot;)\n    .put(&quot;cayenne.jdbc.url.project.node2&quot;, &quot;jdbc:url2&quot;)\n    // similarly add properties for driver, user, password, etc.\n  )\n  .build();\n</code></pre>\n<p>Alternatively for each DataNode in the Modeler you can set a custom &quot;DataSource Factory&quot;, pointing it to your own Java class similar to this:</p>\n<pre><code>public class MyDataSourceFactory implements DataSourceFactory {\n    \n    @Override\n    public DataSource getDataSource(DataNodeDescriptor nd) throws Exception {\n        DataSourceInfo info = nd.getDataSourceDescriptor();\n\n        // use the configuration in the DataSourceInfo and/or supplement it \n        // your own values\n        ...\n\n        // Create a DataSource\n        Driver driver = (Driver)objectFactory.getJavaClass(driverClass).newInstance();\n        return DataSourceBuilder\n            .url(url)\n            .driver(driver)\n            .userName(username)\n            .password(password)\n            .pool(minConnections, maxConnections)\n            .maxQueueWaitTime(maxQueueWaitTime)\n            .validationQuery(validationQuery)\n            .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3456316,"reputation":127,"user_id":2894755,"accept_rate":90,"display_name":"Trying..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74624531,"answer_count":1,"score":0,"last_activity_date":1669925482,"creation_date":1669665406,"question_id":74605870,"body_markdown":"I have 2 different databases being used by one application. In the xml file, I can declare 2 nodes with different URLs and credentials without a problem.\r\n\r\nIs there a way to do this in the code? Without creating 2 runtimes.","title":"Cayenne 4.1 - Single Runtime with Multiple Datanodes with different URL and credentials","body":"<p>I have 2 different databases being used by one application. In the xml file, I can declare 2 nodes with different URLs and credentials without a problem.</p>\n<p>Is there a way to do this in the code? Without creating 2 runtimes.</p>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":2132526,"reputation":501,"user_id":1893027,"display_name":"ccamcmxc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619739696,"creation_date":1619739696,"answer_id":67326416,"question_id":62985778,"body_markdown":"If you are using `DynamoDBMapper` you could use `DynamoDBSaveExpression`\r\n\r\nSomething like:\r\n\r\n    Map&lt;String, ExpectedAttributeValue&gt; expected =\r\n        Map.of(&quot;hashKeyAttrName&quot;, new ExpectedAttributeValue().withExists(true),\r\n            &quot;rangeKeyAttrName&quot;, new ExpectedAttributeValue().withExists(true));\r\n    DynamoDBSaveExpression expression = new DynamoDBSaveExpression();\r\n    expression.setExpected(expected);\r\n    dynamoDBMapper.save(item, expression);\r\n\r\nIf condition is not met `save` will trow a `ConditionalCheckFailedException`","title":"DynamoDB mapper update item only if HashKey RangeKey pair is in the table","body":"<p>If you are using <code>DynamoDBMapper</code> you could use <code>DynamoDBSaveExpression</code></p>\n<p>Something like:</p>\n<pre><code>Map&lt;String, ExpectedAttributeValue&gt; expected =\n    Map.of(&quot;hashKeyAttrName&quot;, new ExpectedAttributeValue().withExists(true),\n        &quot;rangeKeyAttrName&quot;, new ExpectedAttributeValue().withExists(true));\nDynamoDBSaveExpression expression = new DynamoDBSaveExpression();\nexpression.setExpected(expected);\ndynamoDBMapper.save(item, expression);\n</code></pre>\n<p>If condition is not met <code>save</code> will trow a <code>ConditionalCheckFailedException</code></p>\n"},{"tags":[],"owner":{"account_id":1295863,"reputation":11,"user_id":2130665,"display_name":"lniniaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669925271,"creation_date":1669925271,"answer_id":74647630,"question_id":62985778,"body_markdown":"My rep is too low to comment [ccamcmxc][1]&#39;s answer, so I&#39;ll just give a new answer.\r\n\r\nThe additional thing you need is to provide `AttributeValue` for the  `ExpectedAttributeValue` call to make the whole thing work. The complete code sample looks like below.\r\n\r\n[1]:https://stackoverflow.com/users/1893027/ccamcmxc\r\n\r\n```\r\nMap&lt;String, ExpectedAttributeValue&gt; expected = Map.of(\r\n    &quot;hashKeyAttrName&quot;, new ExpectedAttributeValue(new AttributeValue(hashKey))\r\n        .withExists(true),\r\n    &quot;rangeKeyAttrName&quot;, new ExpectedAttributeValue(new AttributeValue(rangeKey))\r\n        .withExists(true));\r\nDynamoDBSaveExpression expression = new DynamoDBSaveExpression();\r\nexpression.setExpected(expected);\r\ndynamoDBMapper.save(item, expression);\r\n```\r\n\r\nTo add a little flavor to the recipe, the `save` method has an overload that supports you to also provide `SaveBehavior` as the third parameter which gives you even more control.\r\n\r\nAn example:\r\n```\r\ndynamoDBMapper.save(item, expression, UPDATE_SKIP_NULL_ATTRIBUTES.config());\r\n```","title":"DynamoDB mapper update item only if HashKey RangeKey pair is in the table","body":"<p>My rep is too low to comment <a href=\"https://stackoverflow.com/users/1893027/ccamcmxc\">ccamcmxc</a>'s answer, so I'll just give a new answer.</p>\n<p>The additional thing you need is to provide <code>AttributeValue</code> for the  <code>ExpectedAttributeValue</code> call to make the whole thing work. The complete code sample looks like below.</p>\n<pre><code>Map&lt;String, ExpectedAttributeValue&gt; expected = Map.of(\n    &quot;hashKeyAttrName&quot;, new ExpectedAttributeValue(new AttributeValue(hashKey))\n        .withExists(true),\n    &quot;rangeKeyAttrName&quot;, new ExpectedAttributeValue(new AttributeValue(rangeKey))\n        .withExists(true));\nDynamoDBSaveExpression expression = new DynamoDBSaveExpression();\nexpression.setExpected(expected);\ndynamoDBMapper.save(item, expression);\n</code></pre>\n<p>To add a little flavor to the recipe, the <code>save</code> method has an overload that supports you to also provide <code>SaveBehavior</code> as the third parameter which gives you even more control.</p>\n<p>An example:</p>\n<pre><code>dynamoDBMapper.save(item, expression, UPDATE_SKIP_NULL_ATTRIBUTES.config());\n</code></pre>\n"}],"owner":{"account_id":18915980,"reputation":81,"user_id":13801042,"display_name":"asfsfsdfdsfdsf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1669925271,"creation_date":1595193435,"question_id":62985778,"body_markdown":"I want to design an update function for my DynamoDB table that only updates the record when the hash key and range key pair is in the DynamoDB table. If the item doesn&#39;t exist, I would like to throw a badRequestError. How can I use a DynamoDB expression to achieve this? Can I set both the expectedAttribute to `true` and set the conditional operator to `AND`?","title":"DynamoDB mapper update item only if HashKey RangeKey pair is in the table","body":"<p>I want to design an update function for my DynamoDB table that only updates the record when the hash key and range key pair is in the DynamoDB table. If the item doesn't exist, I would like to throw a badRequestError. How can I use a DynamoDB expression to achieve this? Can I set both the expectedAttribute to <code>true</code> and set the conditional operator to <code>AND</code>?</p>\n"},{"tags":["java","html","jsp","url"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669926800,"post_id":74647611,"comment_id":131760262,"body_markdown":"The error is coming from the server side.  Which is shown by the 401 Unauthorized \nhttp response code.  Unauthorized really should say Unauthenticated, but that is a different matter.  Can you reach the url you want to c:import via command line tools like wget or curl?  Do you know if you&#39;re suppose to supply authentication to the url you&#39;re trying to call?  It looks like you&#39;re actually trying to call the same server that you&#39;re serving the content from anyways, I am not positive, but I believe that there are ways of importing html from other pages without making an external http request.","body":"The error is coming from the server side.  Which is shown by the 401 Unauthorized  http response code.  Unauthorized really should say Unauthenticated, but that is a different matter.  Can you reach the url you want to c:import via command line tools like wget or curl?  Do you know if you&#39;re suppose to supply authentication to the url you&#39;re trying to call?  It looks like you&#39;re actually trying to call the same server that you&#39;re serving the content from anyways, I am not positive, but I believe that there are ways of importing html from other pages without making an external http request."},{"owner":{"account_id":2007211,"reputation":581,"user_id":1796748,"accept_rate":40,"display_name":"yonikawa"},"score":0,"creation_date":1669928809,"post_id":74647611,"comment_id":131760899,"body_markdown":"@hooknc - thanks for the response. Yes the client has access the url directly through the web browser. But they have some other components in place that resolve the identity management of users while login, somehow the server access  doesn&#39;t get resolved properly I guess. The html template resides in the same server but in an external folder. It needs to be imported via a url - legacy code","body":"@hooknc - thanks for the response. Yes the client has access the url directly through the web browser. But they have some other components in place that resolve the identity management of users while login, somehow the server access  doesn&#39;t get resolved properly I guess. The html template resides in the same server but in an external folder. It needs to be imported via a url - legacy code"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669928937,"post_id":74647611,"comment_id":131760928,"body_markdown":"When you say user, I am assuming that this is the end user&#39;s browser.  The request that you&#39;re making with c:import is not from the end user, but from the server itself.  Meaning that the server is a client of itself and the server will have to authenticate just like the end user does.  Yay?","body":"When you say user, I am assuming that this is the end user&#39;s browser.  The request that you&#39;re making with c:import is not from the end user, but from the server itself.  Meaning that the server is a client of itself and the server will have to authenticate just like the end user does.  Yay?"},{"owner":{"account_id":2007211,"reputation":581,"user_id":1796748,"accept_rate":40,"display_name":"yonikawa"},"score":0,"creation_date":1669930609,"post_id":74647611,"comment_id":131761321,"body_markdown":"@hooknc - exactly. That was my initial question. Who is trying to resolve the url? \nEnd user or Server? C-import means the server needs to resolve it first. \nSo they probably need to add server as an authenticated user to access the url.","body":"@hooknc - exactly. That was my initial question. Who is trying to resolve the url?  End user or Server? C-import means the server needs to resolve it first.  So they probably need to add server as an authenticated user to access the url."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669930986,"post_id":74647611,"comment_id":131761428,"body_markdown":"Understood now, yes, the server needs to be authenticated like any other client.","body":"Understood now, yes, the server needs to be authenticated like any other client."}],"owner":{"account_id":2007211,"reputation":581,"user_id":1796748,"accept_rate":40,"display_name":"yonikawa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669925162,"creation_date":1669925162,"question_id":74647611,"body_markdown":"We have a JSP file which tries to import a url (html template) via a link pointing to an external resource. When the webpage loads, we see the following error on the logs \r\n\r\n&gt; Server returned HTTP response code: 401 for URL: https://mywebsite-dns.com:990/abc/html/customHTML.html?lang=en\r\n\t\r\n\r\nSo obviously this is an authentication error, but is it client side or server side authentication issue? I believe the server don&#39;t have access to the specified resource. Is that statement right? \r\n\r\n**JSP CODE**\r\n\r\n\t&lt;c:set var=&quot;customHTML&quot; \r\n    \t\t   value=&quot;${pageContext.request.scheme}://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}/html/customHTML.html?lang=${locale}&quot; /&gt;\r\n    \t&lt;div id=&quot;custom-HTML&quot;&gt;\t   \r\n  \t\t&lt;c:import url=&quot;${customHTML}&quot; /&gt;\r\n  \t\t&lt;/div&gt;","title":"url not accessible within jsp","body":"<p>We have a JSP file which tries to import a url (html template) via a link pointing to an external resource. When the webpage loads, we see the following error on the logs</p>\n<blockquote>\n<p>Server returned HTTP response code: 401 for URL: <a href=\"https://mywebsite-dns.com:990/abc/html/customHTML.html?lang=en\" rel=\"nofollow noreferrer\">https://mywebsite-dns.com:990/abc/html/customHTML.html?lang=en</a></p>\n</blockquote>\n<p>So obviously this is an authentication error, but is it client side or server side authentication issue? I believe the server don't have access to the specified resource. Is that statement right?</p>\n<p><strong>JSP CODE</strong></p>\n<pre><code>&lt;c:set var=&quot;customHTML&quot; \n           value=&quot;${pageContext.request.scheme}://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}/html/customHTML.html?lang=${locale}&quot; /&gt;\n    &lt;div id=&quot;custom-HTML&quot;&gt;     \n    &lt;c:import url=&quot;${customHTML}&quot; /&gt;\n    &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot","dependency-properties"],"comments":[{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1569391484,"post_id":58091902,"comment_id":102576676,"body_markdown":"This would be easy to implement if you would have a `config-server` that provides configurations to any `microservice` like in this case `security` then it will work. So what you want to do I will create an answer better.","body":"This would be easy to implement if you would have a <code>config-server</code> that provides configurations to any <code>microservice</code> like in this case <code>security</code> then it will work. So what you want to do I will create an answer better."},{"owner":{"account_id":9295766,"reputation":410,"user_id":6902739,"accept_rate":40,"display_name":"BaoTrung Tran"},"score":0,"creation_date":1569391635,"post_id":58091902,"comment_id":102576732,"body_markdown":"@JonathanJohx thanks you please help me. If i understand correctly, i need create sub module config-server and dependency it into security ?","body":"@JonathanJohx thanks you please help me. If i understand correctly, i need create sub module config-server and dependency it into security ?"},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1569391755,"post_id":58091902,"comment_id":102576781,"body_markdown":"Is your architecture `micro-service` that you are using? right?","body":"Is your architecture <code>micro-service</code> that you are using? right?"},{"owner":{"account_id":9295766,"reputation":410,"user_id":6902739,"accept_rate":40,"display_name":"BaoTrung Tran"},"score":0,"creation_date":1569391939,"post_id":58091902,"comment_id":102576841,"body_markdown":"@JonathanJohx Yes. Correctly","body":"@JonathanJohx Yes. Correctly"}],"answers":[{"comments":[{"owner":{"account_id":9295766,"reputation":410,"user_id":6902739,"accept_rate":40,"display_name":"BaoTrung Tran"},"score":0,"creation_date":1569391897,"post_id":58092072,"comment_id":102576829,"body_markdown":"but when i put @PropertySource(&quot;application.properties&quot;) in application.class in module security, it throw me exception : can&#39;t find application.properties in class path","body":"but when i put @PropertySource(&quot;application.properties&quot;) in application.class in module security, it throw me exception : can&#39;t find application.properties in class path"},{"owner":{"account_id":4946282,"reputation":1350,"user_id":3981539,"display_name":"Kavitha Karunakaran"},"score":0,"creation_date":1569392365,"post_id":58092072,"comment_id":102577005,"body_markdown":"@BaoTrungTran - did you keep the properties in the src/main/resources folder itself?","body":"@BaoTrungTran - did you keep the properties in the src/main/resources folder itself?"},{"owner":{"account_id":9295766,"reputation":410,"user_id":6902739,"accept_rate":40,"display_name":"BaoTrung Tran"},"score":0,"creation_date":1569392552,"post_id":58092072,"comment_id":102577073,"body_markdown":"Yes. I keep application.properties in class path with parent(spring-ecommere-demo) not sub module(security)","body":"Yes. I keep application.properties in class path with parent(spring-ecommere-demo) not sub module(security)"}],"tags":[],"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569391712,"creation_date":1569391712,"answer_id":58092072,"question_id":58091902,"body_markdown":"You need to add multiple `Properties` can be accessed in Spring, I added duplicated annotation for `@PropertySource` since before `Java 8` if you needed to use multiple instances of the same annotation, they had to be wrapped in a container annotation. With `Java 8`, that&#39;s no longer necessary, allowing for cleaner, more readable code.\r\n\r\n    @SpringBootApplication(scanBasePackages = &quot;springecommeredemo&quot;)\r\n    @PropertySource(&quot;application.properties&quot;)\r\n    @PropertySource(&quot;application-security.properties&quot;)","title":"How to inherit application.properties with spring boot multiple modules","body":"<p>You need to add multiple <code>Properties</code> can be accessed in Spring, I added duplicated annotation for <code>@PropertySource</code> since before <code>Java 8</code> if you needed to use multiple instances of the same annotation, they had to be wrapped in a container annotation. With <code>Java 8</code>, that's no longer necessary, allowing for cleaner, more readable code.</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages = \"springecommeredemo\")\n@PropertySource(\"application.properties\")\n@PropertySource(\"application-security.properties\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1647870090,"post_id":58093320,"comment_id":126472622,"body_markdown":"This doesn&#39;t make sense and needs elaborating further","body":"This doesn&#39;t make sense and needs elaborating further"}],"tags":[],"owner":{"account_id":9295766,"reputation":410,"user_id":6902739,"accept_rate":40,"display_name":"BaoTrung Tran"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569396689,"creation_date":1569396689,"answer_id":58093320,"question_id":58091902,"body_markdown":"I found solution this here :\r\nhttps://stackoverflow.com/questions/47317674/maven-multi-module-insists-on-duplicating-datasource-application-properties-in-b\r\n\r\nOnly create sub-module : example :server-config and run it. In sub module : security add server-config as dependency and run it. It work for me","title":"How to inherit application.properties with spring boot multiple modules","body":"<p>I found solution this here :\n<a href=\"https://stackoverflow.com/questions/47317674/maven-multi-module-insists-on-duplicating-datasource-application-properties-in-b\">Maven Multi Module insists on duplicating datasource application.properties in business module</a></p>\n\n<p>Only create sub-module : example :server-config and run it. In sub module : security add server-config as dependency and run it. It work for me</p>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623996451,"creation_date":1623996451,"answer_id":68030119,"question_id":58091902,"body_markdown":"I use spring boot 2.5. Let&#39;s say that I have a common module and a app module, which uses the common module. If I want to access all the properties defined in the common module properties file, then I will add the following to the top of the app module&#39;s properties file.\r\n\r\n \r\n\r\n    spring.config.import=classpath:common-module.properties\r\n\r\nYou can have any name for that &quot;common-module&quot; properties file. ","title":"How to inherit application.properties with spring boot multiple modules","body":"<p>I use spring boot 2.5. Let's say that I have a common module and a app module, which uses the common module. If I want to access all the properties defined in the common module properties file, then I will add the following to the top of the app module's properties file.</p>\n<pre><code>spring.config.import=classpath:common-module.properties\n</code></pre>\n<p>You can have any name for that &quot;common-module&quot; properties file.</p>\n"},{"tags":[],"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669925031,"creation_date":1669923799,"answer_id":74647366,"question_id":58091902,"body_markdown":"So I am building about the same framework as yours, here&#39;s what worked for me\r\n\r\nAdd the `classpath` prefix this to your `@PropertySource` annotation\r\n```java\r\n@PropertySource(&quot;classpath:application-security.properties&quot;) // application-security on root\r\n```\r\nAlso,\\\r\nIf the properties are located inside a package just do :\r\n```java\r\n@PropertySource(&quot;classpath:/com/my/project/application.properties&quot;) // com.my.project package\r\n```\r\n\r\nIf you want multiple sources, be sure to do the same :\r\n```java\r\n@PropertySources({\r\n    @PropertySource(&quot;classpath:xxx.properties&quot;),\r\n    @PropertySource(&quot;classpath:/com/my/project/xxx.properties&quot;)\r\n})\r\n```","title":"How to inherit application.properties with spring boot multiple modules","body":"<p>So I am building about the same framework as yours, here's what worked for me</p>\n<p>Add the <code>classpath</code> prefix this to your <code>@PropertySource</code> annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySource(&quot;classpath:application-security.properties&quot;) // application-security on root\n</code></pre>\n<p>Also,<br />\nIf the properties are located inside a package just do :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySource(&quot;classpath:/com/my/project/application.properties&quot;) // com.my.project package\n</code></pre>\n<p>If you want multiple sources, be sure to do the same :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySources({\n    @PropertySource(&quot;classpath:xxx.properties&quot;),\n    @PropertySource(&quot;classpath:/com/my/project/xxx.properties&quot;)\n})\n</code></pre>\n"}],"owner":{"account_id":9295766,"reputation":410,"user_id":6902739,"accept_rate":40,"display_name":"BaoTrung Tran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13279,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1669925031,"creation_date":1569390769,"question_id":58091902,"body_markdown":"I using spring boot multiple modules and i want inherit application.properties from parent . I have parent module :  spring-ecommere-demo and sub module : model , core and security. In parent modules i put some config jdbc look like : \r\n\r\n**application.properties** (parent module)\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/BaoTrung\r\n    spring.datasource.username=root\r\n    spring.datasource.password=123456\r\n    spring.jpa.show-sql=true\r\n\r\nAnd in sub module security i specific config look like:\r\n\r\n**application-security.properties** (security module)\r\n\r\n    app.jwtSecret= JWTSuperSecretKey\r\n    app.jwtExpirationInMs = 604800000\r\n \r\nAnd config in Spring Boot application in security module look like : \r\n\r\n    @SpringBootApplication(scanBasePackages = &quot;springecommeredemo&quot;)\r\n    @PropertySources({\r\n    \t\t@PropertySource(&quot;application-security.properties&quot;)\r\n    })\r\n\r\nBut when i run it, it throw me exception \r\n\r\nDescription:\r\n\r\n&gt; Failed to configure a DataSource: &#39;url&#39; attribute is not specified and\r\n&gt; no embedded datasource could be configured.\r\n&gt; \r\n&gt; Reason: Failed to determine a suitable driver class\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider the following: \tIf you want an embedded database (H2, HSQL or\r\n&gt; Derby), please put it on the classpath. \tIf you have database settings\r\n&gt; to be loaded from a particular profile you may need to activate it\r\n&gt; (the profiles dev are currently active).\r\n\r\nIt mean sub module security can&#39;t inherit properties from parent project. How to inherit all properties from parent module. Because i using same database , i don&#39;t want config duplicate jdbc in my project. I want inherit common properties.Please help\r\n\r\n ","title":"How to inherit application.properties with spring boot multiple modules","body":"<p>I using spring boot multiple modules and i want inherit application.properties from parent . I have parent module :  spring-ecommere-demo and sub module : model , core and security. In parent modules i put some config jdbc look like : </p>\n\n<p><strong>application.properties</strong> (parent module)</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/BaoTrung\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.jpa.show-sql=true\n</code></pre>\n\n<p>And in sub module security i specific config look like:</p>\n\n<p><strong>application-security.properties</strong> (security module)</p>\n\n<pre><code>app.jwtSecret= JWTSuperSecretKey\napp.jwtExpirationInMs = 604800000\n</code></pre>\n\n<p>And config in Spring Boot application in security module look like : </p>\n\n<pre><code>@SpringBootApplication(scanBasePackages = \"springecommeredemo\")\n@PropertySources({\n        @PropertySource(\"application-security.properties\")\n})\n</code></pre>\n\n<p>But when i run it, it throw me exception </p>\n\n<p>Description:</p>\n\n<blockquote>\n  <p>Failed to configure a DataSource: 'url' attribute is not specified and\n  no embedded datasource could be configured.</p>\n  \n  <p>Reason: Failed to determine a suitable driver class</p>\n  \n  <p>Action:</p>\n  \n  <p>Consider the following:   If you want an embedded database (H2, HSQL or\n  Derby), please put it on the classpath.   If you have database settings\n  to be loaded from a particular profile you may need to activate it\n  (the profiles dev are currently active).</p>\n</blockquote>\n\n<p>It mean sub module security can't inherit properties from parent project. How to inherit all properties from parent module. Because i using same database , i don't want config duplicate jdbc in my project. I want inherit common properties.Please help</p>\n"},{"tags":["java","jvm","aspectj","java-17"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1669824522,"post_id":74629616,"comment_id":131732230,"body_markdown":"I would suspect that aspectj 1.9.7 is not yet *ready* to handle Java 17 code || reading the [release notes](https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-197.html) for 1.9.7  we find: &quot;*AspectJ 1.9.7 supports Java 15 &amp; Java 16*&quot; (I assume that also applies to the agent)","body":"I would suspect that aspectj 1.9.7 is not yet <i>ready</i> to handle Java 17 code || reading the <a href=\"https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-197.html\" rel=\"nofollow noreferrer\">release notes</a> for 1.9.7  we find: &quot;<i>AspectJ 1.9.7 supports Java 15 &amp; Java 16</i>&quot; (I assume that also applies to the agent)"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669924613,"creation_date":1669896353,"answer_id":74641594,"question_id":74629616,"body_markdown":"You can use AspectJ Weaver 1.9.7 on Java 17+ if and only if the bytecode you want to weave only consists of classes compiled to targets &lt;= Java 16. Otherwise, please upgrade to a more recent AspectJ version, ideally the latest 1.9.9.1.\r\n\r\nPlease also note that in order to use LTW (load-time weaving) on Java 16+, you need to add `--add-opens java.base/java.lang=ALL-UNNAMED` to the Java command line, as described in the [release notes](https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-199.html). Even the 1.9.7 release notes contain that information.","title":"Java option doesn&#39;t work with java tool option in java 17","body":"<p>You can use AspectJ Weaver 1.9.7 on Java 17+ if and only if the bytecode you want to weave only consists of classes compiled to targets &lt;= Java 16. Otherwise, please upgrade to a more recent AspectJ version, ideally the latest 1.9.9.1.</p>\n<p>Please also note that in order to use LTW (load-time weaving) on Java 16+, you need to add <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> to the Java command line, as described in the <a href=\"https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-199.html\" rel=\"nofollow noreferrer\">release notes</a>. Even the 1.9.7 release notes contain that information.</p>\n"}],"owner":{"account_id":27099357,"reputation":11,"user_id":20646172,"display_name":"elaheh habibi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669924613,"creation_date":1669819355,"question_id":74629616,"body_markdown":"I used below command to activate jmx and also needed javaagent in my program and it worked fine in java 11. the command is as below:\r\n\r\n```\r\njava -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8071  \r\n-javaagent:D:\\resources\\aspectjweaver-1.9.7.jar -jar app.jar\r\n```\r\nbut when i upgraded java to java 17 program exit unexpectedly without any exception. does java 17 need any circumstances in order to use java options with java tool options?\r\n\r\nany help would be appreciated.\r\n\r\n\r\nI define JAVA_TOOL_OPTIONS environment variable but my problem doesn&#39;t fix.                                                                                       ","title":"Java option doesn&#39;t work with java tool option in java 17","body":"<p>I used below command to activate jmx and also needed javaagent in my program and it worked fine in java 11. the command is as below:</p>\n<pre><code>java -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8071  \n-javaagent:D:\\resources\\aspectjweaver-1.9.7.jar -jar app.jar\n</code></pre>\n<p>but when i upgraded java to java 17 program exit unexpectedly without any exception. does java 17 need any circumstances in order to use java options with java tool options?</p>\n<p>any help would be appreciated.</p>\n<p>I define JAVA_TOOL_OPTIONS environment variable but my problem doesn't fix.</p>\n"},{"tags":["java","spring","aspectj","pointcut"],"comments":[{"owner":{"account_id":7298611,"reputation":35,"user_id":9110370,"display_name":"Vivent"},"score":0,"creation_date":1669991419,"post_id":74647502,"comment_id":131775347,"body_markdown":"after more digging I found this: https://stackoverflow.com/questions/33909874/do-some-action-after-a-method-call-inside-another-method, but it looks rather complicated, and maybe someone has a better solution","body":"after more digging I found this: <a href=\"https://stackoverflow.com/questions/33909874/do-some-action-after-a-method-call-inside-another-method\" title=\"do some action after a method call inside another method\">stackoverflow.com/questions/33909874/&hellip;</a>, but it looks rather complicated, and maybe someone has a better solution"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1670739687,"post_id":74647502,"comment_id":131940530,"body_markdown":"Sorry, despite your example and long explanation I do not understand what you want to achieve or which problem you are trying to solve.","body":"Sorry, despite your example and long explanation I do not understand what you want to achieve or which problem you are trying to solve."}],"owner":{"account_id":7298611,"reputation":35,"user_id":9110370,"display_name":"Vivent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669924565,"creation_date":1669924565,"question_id":74647502,"body_markdown":"I want to make sure, that in my controller classes all entities that I got from service are detached. To make it happen I thought about creating pointcut with Spring AOP that would point to every service method call if called by controller (or every service call called by not-service). The only problem is that I&#39;m new to AOP, and I have no idea how to make it work, and I can&#39;t find anything useful on the Internet.\r\n\r\nTo make clear what I want to achieve here are some pseudo-classes:\r\n\r\n```java\r\n@Controller\r\npublic class RestController(){\r\n\r\n  private final MyService1 service1;\r\n  private final MyService2 service2;\r\n\r\n\r\n  public void restMethod1 {\r\n    return service1.method1_1();\r\n  }\r\n\r\n  public void restMethod2(){\r\n    service1.method1_1();\r\n\r\n    return service1.method1_2();\r\n  }\r\n  \r\n  public void restMethod3(){\r\n    return service1.method2_1();\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class MyService1 {\r\n\r\n  public void method1_1() {\r\n    return;\r\n  }\r\n\r\n  public void method1_2() {\r\n    method1_1();\r\n    return;\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class MyService2 {\r\n\r\n  private final MyService1 service1;\r\n\r\n  public void method2_1() {\r\n    return service1.method1_2();\r\n  }\r\n\r\n}\r\n```\r\n\r\nSo my goal is to run aspect on\r\n\r\n - restMethod1() - once - because it calls a service once\r\n - restMethod2() - twice - because it calls a service twice\r\n - restMethod3() - once - because it calls a service once\r\n\r\nMy logic to this is to make a point cut that is\r\n - around method in `@Service` class if method is called from `@Controller` class\r\nor\r\n - around method in `@Service` class if method is called from class that is has no `@Service` annotation\r\n\r\nI hope that it is possible, because we already found two bugs in our project related to getting not detached entities in controller. Or if there is a better solution, without AOP, I&#39;ll be happy to hear about it, but here are some things to consider:\r\n - `@Transactional(NEVER)` on `@Controller` does not do the trick :( \r\n - returning detached entities from service is not an option, because services call each other, and some of them expect attached entities\r\n - returning DTOs from services is not an option because of the above + the project is too big for such refactors right now\r\n - detaching entities in controller after every service method call is not an option, because reason above, and it would mean, that if other team takes this code, it will look confusing. Also, you can always forget about this, and there will be one random buggy method call ","title":"Spring PoinCut after service method only if called by not service","body":"<p>I want to make sure, that in my controller classes all entities that I got from service are detached. To make it happen I thought about creating pointcut with Spring AOP that would point to every service method call if called by controller (or every service call called by not-service). The only problem is that I'm new to AOP, and I have no idea how to make it work, and I can't find anything useful on the Internet.</p>\n<p>To make clear what I want to achieve here are some pseudo-classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class RestController(){\n\n  private final MyService1 service1;\n  private final MyService2 service2;\n\n\n  public void restMethod1 {\n    return service1.method1_1();\n  }\n\n  public void restMethod2(){\n    service1.method1_1();\n\n    return service1.method1_2();\n  }\n  \n  public void restMethod3(){\n    return service1.method2_1();\n  }\n\n}\n\n@Service\npublic class MyService1 {\n\n  public void method1_1() {\n    return;\n  }\n\n  public void method1_2() {\n    method1_1();\n    return;\n  }\n\n}\n\n@Service\npublic class MyService2 {\n\n  private final MyService1 service1;\n\n  public void method2_1() {\n    return service1.method1_2();\n  }\n\n}\n</code></pre>\n<p>So my goal is to run aspect on</p>\n<ul>\n<li>restMethod1() - once - because it calls a service once</li>\n<li>restMethod2() - twice - because it calls a service twice</li>\n<li>restMethod3() - once - because it calls a service once</li>\n</ul>\n<p>My logic to this is to make a point cut that is</p>\n<ul>\n<li>around method in <code>@Service</code> class if method is called from <code>@Controller</code> class\nor</li>\n<li>around method in <code>@Service</code> class if method is called from class that is has no <code>@Service</code> annotation</li>\n</ul>\n<p>I hope that it is possible, because we already found two bugs in our project related to getting not detached entities in controller. Or if there is a better solution, without AOP, I'll be happy to hear about it, but here are some things to consider:</p>\n<ul>\n<li><code>@Transactional(NEVER)</code> on <code>@Controller</code> does not do the trick :(</li>\n<li>returning detached entities from service is not an option, because services call each other, and some of them expect attached entities</li>\n<li>returning DTOs from services is not an option because of the above + the project is too big for such refactors right now</li>\n<li>detaching entities in controller after every service method call is not an option, because reason above, and it would mean, that if other team takes this code, it will look confusing. Also, you can always forget about this, and there will be one random buggy method call</li>\n</ul>\n"},{"tags":["java","web-services","websphere"],"comments":[{"owner":{"account_id":6661882,"reputation":355,"user_id":5140713,"display_name":"Konrad"},"score":0,"creation_date":1541526502,"post_id":53176659,"comment_id":93244532,"body_markdown":"English error message: &quot;Client Error, Failed to Accept Converted File or Other Error.&quot;","body":"English error message: &quot;Client Error, Failed to Accept Converted File or Other Error.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542013546,"creation_date":1542013546,"answer_id":53258848,"question_id":53176659,"body_markdown":"Validation error, in first plan means, that Request / Response is not in expected shape. First check Request according definition. Logger has option for enabling print Requests / Responses into the log. E.q. `log4j.properties` has options for Spring WS:\r\n\r\n    # Spring WS\r\n    log4j.logger.org.springframework.ws.client.MessageTracing=TRACE\r\n    log4j.logger.org.springframework.ws.server.MessageTracing=DEBUG\r\n\r\nFind out keyword `Envelope`, copy the content of Request and check it in some independent tool, which is for checking of SOAP Requests - e.q. SoapUI, etc.\r\nIf in response is `Validation error`, check the Request.\r\n\r\nIn my case, I omitted this step and focused on probably different incompatible libraries. It was mistake. The problem was in different behavior of code on Tomcat and Web Sphere - some resource was unreachable and there was bad treated Exception. Result was, that Requests on Tomcat and Web Sphere were different.\r\n\r\n","title":"Web Service SOAP Client Works on Tomcat but no on IBM Web Sphere - validation error","body":"<p>Validation error, in first plan means, that Request / Response is not in expected shape. First check Request according definition. Logger has option for enabling print Requests / Responses into the log. E.q. <code>log4j.properties</code> has options for Spring WS:</p>\n\n<pre><code># Spring WS\nlog4j.logger.org.springframework.ws.client.MessageTracing=TRACE\nlog4j.logger.org.springframework.ws.server.MessageTracing=DEBUG\n</code></pre>\n\n<p>Find out keyword <code>Envelope</code>, copy the content of Request and check it in some independent tool, which is for checking of SOAP Requests - e.q. SoapUI, etc.\nIf in response is <code>Validation error</code>, check the Request.</p>\n\n<p>In my case, I omitted this step and focused on probably different incompatible libraries. It was mistake. The problem was in different behavior of code on Tomcat and Web Sphere - some resource was unreachable and there was bad treated Exception. Result was, that Requests on Tomcat and Web Sphere were different.</p>\n"}],"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669924519,"creation_date":1541523950,"question_id":53176659,"body_markdown":"I have Web Service, which works well on Tomcat 7.0, (Java 7) but not on Web Sphere. Probably, there is problem with libraries, but I don&#39;t know, how to find out this App WAS Server specific problem.\r\n\r\nClient Implementation use Spring WS SOAP a Spring WS Core:\r\n\r\n    import org.springframework.ws.client.core.support.WebServiceGatewaySupport;\r\n    import org.springframework.ws.soap.SoapFaultException;\r\n    import org.springframework.ws.soap.client.SoapFaultClientException;\r\n    ...    \t\r\n    public KonverzeResponse convert(KonverzeRequest request)\r\n    \t\t\tthrows Exception, SoapFaultClientException, SoapFaultException {\r\n    \r\n    \t\tKonverzeResponse response = (KonverzeResponse) getWebServiceTemplate().marshalSendAndReceive(request);\r\n    \r\n    \t\tif (response == null /* || response.getValue() == null */)\r\n    \t\t\tthrow new Exception(&quot;Response is empty.&quot;);\r\n    \r\n    \t\treturn response/* .getValue() */;\r\n    \t}\r\n\r\nTomcat issues success, WAS issues:\r\n\r\n&gt; [11/6/18 18:02:01:030 CET] 000000d8 SystemOut     O 2018-11-06 18:02:01,029 ERROR [WebContainer : 7] ComponentServiceFacadeImpl - Client Error, Failed to Accept Converted File or Other Error.\r\norg.springframework.ws.soap.client.SoapFaultClientException: `Validation error`\r\n\tat org.springframework.ws.soap.client.core.SoapFaultMessageResolver.resolveFault(SoapFaultMessageResolver.java:37)\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.handleFault(WebServiceTemplate.java:776)\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:602)\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:539)\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:386)\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:380)\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:372)\r\n\tat cz.legend.mzv.spi.ws.clients.convertor.ConvertorClient.convert(ConvertorClient.java:63)\r\n\tat cz.legend.mzv.spi.ws.clients.convertor.interfaces.ConvertorServiceImpl.convertFnFile(ConvertorServiceImpl.java:103)\r\n\r\nRelated documentation:\r\n\r\n[https://www.ibm.com/mysupport/s/topic/0TO500000001DQQGA2/websphere-application-server][1]\r\n[https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_thirdparty.html][2]\r\n[https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_jaxrs_migrate_web20.html][3]\r\n[https://www-01.ibm.com/support/docview.wss?uid=swg21639407][4]\r\n[https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.messages.doc/com.ibm.ws.websvcs.resources.websvcsMessages.html][5]\r\n\r\n\r\n  [1]: https://www.ibm.com/mysupport/s/topic/0TO500000001DQQGA2/websphere-application-server\r\n  [2]: https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_thirdparty.html\r\n  [3]: https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_jaxrs_migrate_web20.html\r\n  [4]: https://www-01.ibm.com/support/docview.wss?uid=swg21639407\r\n  [5]: https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.messages.doc/com.ibm.ws.websvcs.resources.websvcsMessages.html","title":"Web Service SOAP Client Works on Tomcat but no on IBM Web Sphere - validation error","body":"<p>I have Web Service, which works well on Tomcat 7.0, (Java 7) but not on Web Sphere. Probably, there is problem with libraries, but I don't know, how to find out this App WAS Server specific problem.</p>\n<p>Client Implementation use Spring WS SOAP a Spring WS Core:</p>\n<pre><code>import org.springframework.ws.client.core.support.WebServiceGatewaySupport;\nimport org.springframework.ws.soap.SoapFaultException;\nimport org.springframework.ws.soap.client.SoapFaultClientException;\n...     \npublic KonverzeResponse convert(KonverzeRequest request)\n            throws Exception, SoapFaultClientException, SoapFaultException {\n\n        KonverzeResponse response = (KonverzeResponse) getWebServiceTemplate().marshalSendAndReceive(request);\n\n        if (response == null /* || response.getValue() == null */)\n            throw new Exception(&quot;Response is empty.&quot;);\n\n        return response/* .getValue() */;\n    }\n</code></pre>\n<p>Tomcat issues success, WAS issues:</p>\n<blockquote>\n<p>[11/6/18 18:02:01:030 CET] 000000d8 SystemOut     O 2018-11-06 18:02:01,029 ERROR [WebContainer : 7] ComponentServiceFacadeImpl - Client Error, Failed to Accept Converted File or Other Error.\norg.springframework.ws.soap.client.SoapFaultClientException: <code>Validation error</code>\nat org.springframework.ws.soap.client.core.SoapFaultMessageResolver.resolveFault(SoapFaultMessageResolver.java:37)\nat org.springframework.ws.client.core.WebServiceTemplate.handleFault(WebServiceTemplate.java:776)\nat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:602)\nat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:539)\nat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:386)\nat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:380)\nat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:372)\nat cz.legend.mzv.spi.ws.clients.convertor.ConvertorClient.convert(ConvertorClient.java:63)\nat cz.legend.mzv.spi.ws.clients.convertor.interfaces.ConvertorServiceImpl.convertFnFile(ConvertorServiceImpl.java:103)</p>\n</blockquote>\n<p>Related documentation:</p>\n<p><a href=\"https://www.ibm.com/mysupport/s/topic/0TO500000001DQQGA2/websphere-application-server\" rel=\"nofollow noreferrer\">https://www.ibm.com/mysupport/s/topic/0TO500000001DQQGA2/websphere-application-server</a>\n<a href=\"https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_thirdparty.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_thirdparty.html</a>\n<a href=\"https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_jaxrs_migrate_web20.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_jaxrs_migrate_web20.html</a>\n<a href=\"https://www-01.ibm.com/support/docview.wss?uid=swg21639407\" rel=\"nofollow noreferrer\">https://www-01.ibm.com/support/docview.wss?uid=swg21639407</a>\n<a href=\"https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.messages.doc/com.ibm.ws.websvcs.resources.websvcsMessages.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.messages.doc/com.ibm.ws.websvcs.resources.websvcsMessages.html</a></p>\n"},{"tags":["java","loops","arraylist"],"answers":[{"tags":[],"owner":{"account_id":22540249,"reputation":911,"user_id":16730900,"display_name":"jh316"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669924292,"creation_date":1669924292,"answer_id":74647457,"question_id":74647410,"body_markdown":"You can exit from the method if you found a customer, as you know you will need to do no more searching. Additionally, we know that if you finish the loop without returning early, we have not found the customer, so we can print out a &quot;not found&quot; message.\r\n\r\n```java\r\nprivate static void checkCustomer() {\r\n    String k;\r\n    k = userOpt.nextLine();\r\n    for (Customer c : customers) {\r\n        /* &lt;- Also, do you need these three lines?\r\n        for (int i = 0; i &lt; c.getQtyCustomers(); i++) {\r\n            c.getCustomerName();\r\n        }\r\n        */\r\n        if (c.getCustomerName().contains(k)) {\r\n            System.out.println(&quot;Customer found.&quot;);\r\n            return;\r\n        }\r\n    }\r\n    System.out.println(k + &quot; is not a registered customer, try again.&quot;);\r\n}\r\n```","title":"How should i format this loop so that it only prints the final iteration","body":"<p>You can exit from the method if you found a customer, as you know you will need to do no more searching. Additionally, we know that if you finish the loop without returning early, we have not found the customer, so we can print out a &quot;not found&quot; message.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void checkCustomer() {\n    String k;\n    k = userOpt.nextLine();\n    for (Customer c : customers) {\n        /* &lt;- Also, do you need these three lines?\n        for (int i = 0; i &lt; c.getQtyCustomers(); i++) {\n            c.getCustomerName();\n        }\n        */\n        if (c.getCustomerName().contains(k)) {\n            System.out.println(&quot;Customer found.&quot;);\n            return;\n        }\n    }\n    System.out.println(k + &quot; is not a registered customer, try again.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":27115309,"reputation":13,"user_id":20659750,"display_name":"Fragg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74647457,"answer_count":1,"score":0,"last_activity_date":1669924292,"creation_date":1669924079,"question_id":74647410,"body_markdown":"I have a method which checks if user input (Scanner) is part of an ArrayList.\r\nEach iteration of the loop is being printed. I would like for &#39;Customer Found&#39; to only be printed- if found. Likewise, the else function to only be printed once and not as many as the size of the array (3) in this case.\r\n\r\n\r\n```\r\nprivate static void checkCustomer() {\r\n    String k;\r\n    k = userOpt.nextLine();\r\n    for (Customer c : customers) {\r\n        for (int i = 0; i &lt; c.getQtyCustomers(); i++) {\r\n            c.getCustomerName();\r\n        }\r\n        if (c.getCustomerName().contains(k)) {\r\n            System.out.println(&quot;Customer found.&quot;);\r\n        }\r\n        else {\r\n            System.out.println(k + &quot; is not a registered customer, try again.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nThe Output:\r\n```\r\nEnter the full name of the customer.\r\nAnna Smith\r\nAnna Smith is not a registered customer, try again.\r\nCustomer found.\r\nAnna Smith is not a registered customer, try again.\r\n```\r\n\r\n\r\nThanks in advance.\r\n\r\nI have achieved no duplication by removing the else{} statement but then I cant notify the user that they entered an invalid name - as far as i am aware.","title":"How should i format this loop so that it only prints the final iteration","body":"<p>I have a method which checks if user input (Scanner) is part of an ArrayList.\nEach iteration of the loop is being printed. I would like for 'Customer Found' to only be printed- if found. Likewise, the else function to only be printed once and not as many as the size of the array (3) in this case.</p>\n<pre><code>private static void checkCustomer() {\n    String k;\n    k = userOpt.nextLine();\n    for (Customer c : customers) {\n        for (int i = 0; i &lt; c.getQtyCustomers(); i++) {\n            c.getCustomerName();\n        }\n        if (c.getCustomerName().contains(k)) {\n            System.out.println(&quot;Customer found.&quot;);\n        }\n        else {\n            System.out.println(k + &quot; is not a registered customer, try again.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The Output:</p>\n<pre><code>Enter the full name of the customer.\nAnna Smith\nAnna Smith is not a registered customer, try again.\nCustomer found.\nAnna Smith is not a registered customer, try again.\n</code></pre>\n<p>Thanks in advance.</p>\n<p>I have achieved no duplication by removing the else{} statement but then I cant notify the user that they entered an invalid name - as far as i am aware.</p>\n"},{"tags":["java","apache-commons-beanutils"],"answers":[{"tags":[],"owner":{"account_id":249382,"reputation":397,"user_id":525380,"display_name":"Thomas Mortagne"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1317912575,"creation_date":1317912575,"answer_id":7676111,"question_id":4956714,"body_markdown":"Was trying to to the same thing (my use case was a common converter for all type of Enum) but from what I could see in the code ConvertUtils only support direct mapping between converter and class and there is no way to register a base class or an interface.\r\n\r\nBasically it&#39;s using a Map where the key is the class and the value the converter and to get the proper converter based in the class it simply does a Map#get.","title":"What&#39;s the best way to register a Converter for all subclasses of a particular class when using Commons BeanUtils?","body":"<p>Was trying to to the same thing (my use case was a common converter for all type of Enum) but from what I could see in the code ConvertUtils only support direct mapping between converter and class and there is no way to register a base class or an interface.</p>\n\n<p>Basically it's using a Map where the key is the class and the value the converter and to get the proper converter based in the class it simply does a Map#get.</p>\n"},{"comments":[{"owner":{"account_id":172716,"reputation":2025,"user_id":400925,"accept_rate":80,"display_name":"Francois"},"score":0,"creation_date":1415884037,"post_id":14008804,"comment_id":42368834,"body_markdown":"With java 6/7 and generics, EnumConverter has to become something like:  \n`private class EnumConverter implements Converter {  \n  @Override  \n  public &lt;T&gt; T convert(Class&lt;T&gt; type, Object value) {  \n    return type.cast(type.getMethod(&quot;fromValue&quot;,  String.class).invoke(null, value.toString()));  \n  }  \n}`. Yet, I could not get rid of reflection.","body":"With java 6/7 and generics, EnumConverter has to become something like:   <code>private class EnumConverter implements Converter {     @Override     public &lt;T&gt; T convert(Class&lt;T&gt; type, Object value) {       return type.cast(type.getMethod(&quot;fromValue&quot;,  String.class).invoke(null, value.toString()));     }   }</code>. Yet, I could not get rid of reflection."}],"tags":[],"owner":{"account_id":105176,"reputation":13693,"user_id":280783,"accept_rate":91,"display_name":"Peter Tseng"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1669923629,"creation_date":1356239970,"answer_id":14008804,"question_id":4956714,"body_markdown":"You can override `ConvertUtilsBean`. The following code adds support for `Enum`, but you can do the same for `Map`:\r\n\r\n    BeanUtilsBean.setInstance(new BeanUtilsBean(new EnumAwareConvertUtilsBean()));\r\n\r\nClass definitions:\r\n\r\n    public class EnumAwareConvertUtilsBean extends ConvertUtilsBean2 {\r\n        \r\n        private static final EnumConverter ENUM_CONVERTER = new EnumConverter();\r\n    \r\n        @Override\r\n        public Converter lookup(Class pClazz) {\r\n            final Converter converter = super.lookup(pClazz);\r\n    \r\n            if (converter == null &amp;&amp; pClazz.isEnum()) {\r\n                return ENUM_CONVERTER;\r\n            } else {\r\n                return converter;\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    public class EnumConverter extends AbstractConverter {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(EnumConverter.class);\r\n    \r\n        @Override\r\n        protected String convertToString(final Object pValue) throws Throwable {\r\n            return ((Enum) pValue).name();\r\n        }\r\n\r\n        @Override\r\n        protected Object convertToType(final Class pType, final Object pValue)\r\n            throws Throwable\r\n        {\r\n            // NOTE: Convert to String is handled elsewhere\r\n    \r\n            final Class&lt;? extends Enum&gt; type = pType;\r\n            try {\r\n                return Enum.valueOf(type, pValue.toString());\r\n            } catch (final IllegalArgumentException e) {\r\n                LOGGER.warn(&quot;No enum value \\&quot;&quot;\r\n                    + pValue\r\n                    + &quot;\\&quot; for &quot;\r\n                    + type.getName());\r\n            }\r\n    \r\n            return null;\r\n        }\r\n        \r\n        @Override\r\n        protected Class getDefaultType() {\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\nI got the solution from reading the blog post and comments from [Java: BeanUtils Enum Support – generic Enum converter][1] \r\n\r\n\r\n  [1]: https://web.archive.org/web/20170824191655/http://www.bitsandpix.com/entry/java-beanutils-enum-support-generic-enum-converter/","title":"What&#39;s the best way to register a Converter for all subclasses of a particular class when using Commons BeanUtils?","body":"<p>You can override <code>ConvertUtilsBean</code>. The following code adds support for <code>Enum</code>, but you can do the same for <code>Map</code>:</p>\n<pre><code>BeanUtilsBean.setInstance(new BeanUtilsBean(new EnumAwareConvertUtilsBean()));\n</code></pre>\n<p>Class definitions:</p>\n<pre><code>public class EnumAwareConvertUtilsBean extends ConvertUtilsBean2 {\n    \n    private static final EnumConverter ENUM_CONVERTER = new EnumConverter();\n\n    @Override\n    public Converter lookup(Class pClazz) {\n        final Converter converter = super.lookup(pClazz);\n\n        if (converter == null &amp;&amp; pClazz.isEnum()) {\n            return ENUM_CONVERTER;\n        } else {\n            return converter;\n        }\n    }\n\n}\n\npublic class EnumConverter extends AbstractConverter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(EnumConverter.class);\n\n    @Override\n    protected String convertToString(final Object pValue) throws Throwable {\n        return ((Enum) pValue).name();\n    }\n\n    @Override\n    protected Object convertToType(final Class pType, final Object pValue)\n        throws Throwable\n    {\n        // NOTE: Convert to String is handled elsewhere\n\n        final Class&lt;? extends Enum&gt; type = pType;\n        try {\n            return Enum.valueOf(type, pValue.toString());\n        } catch (final IllegalArgumentException e) {\n            LOGGER.warn(&quot;No enum value \\&quot;&quot;\n                + pValue\n                + &quot;\\&quot; for &quot;\n                + type.getName());\n        }\n\n        return null;\n    }\n    \n    @Override\n    protected Class getDefaultType() {\n        return null;\n    }\n\n}\n</code></pre>\n<p>I got the solution from reading the blog post and comments from <a href=\"https://web.archive.org/web/20170824191655/http://www.bitsandpix.com/entry/java-beanutils-enum-support-generic-enum-converter/\" rel=\"nofollow noreferrer\">Java: BeanUtils Enum Support – generic Enum converter</a></p>\n"}],"owner":{"account_id":18229,"reputation":15498,"user_id":41595,"accept_rate":75,"display_name":"Ewen Cartwright"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4275,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":14008804,"answer_count":2,"score":4,"last_activity_date":1669923629,"creation_date":1297338664,"question_id":4956714,"body_markdown":"For example, if I wished to register a Converter for all instances of java.util.Map, is there some way of doing this:\r\n\r\n    new BeanUtilsBean().getConvertUtils().register(new MyConverter(), Map.class);\r\n\r\nwhere the &lt;code&gt;MyConverter#convert()&lt;/code&gt; method would be called for any instance of a Map (for instance a HashMap)? \r\n\r\nThe background to this is that I&#39;m using BeanUtils to populate various different beans from a database. Some of their properties are enums that implement a particular interface, and to set their values a custom routine is needed. I&#39;d hoped to register a single converter class for all implementations of the interface in question but couldn&#39;t find a way of doing this, so ended up having to do it on the fly by inspecting the class of every property in the beans and registering my converter class if they happened to be instances of this interface:\r\n\r\n    BeanUtilsBean b = new BeanUtilsBean();\r\n    Class&lt; ? &gt; propertyType = pu.getPropertyType(this, setterName);\r\n    \r\n    if (isImplementationOfMyInterface(propertyType)) {\r\n        b.getConvertUtils().register(new MyConverter(), propertyType);\r\n    }\r\n                \r\n    b.setProperty(this, setterName, value);\r\n\r\nThis seems rather nasty, and I&#39;m sure there must be a better way of doing this?","title":"What&#39;s the best way to register a Converter for all subclasses of a particular class when using Commons BeanUtils?","body":"<p>For example, if I wished to register a Converter for all instances of java.util.Map, is there some way of doing this:</p>\n\n<pre><code>new BeanUtilsBean().getConvertUtils().register(new MyConverter(), Map.class);\n</code></pre>\n\n<p>where the <code>MyConverter#convert()</code> method would be called for any instance of a Map (for instance a HashMap)? </p>\n\n<p>The background to this is that I'm using BeanUtils to populate various different beans from a database. Some of their properties are enums that implement a particular interface, and to set their values a custom routine is needed. I'd hoped to register a single converter class for all implementations of the interface in question but couldn't find a way of doing this, so ended up having to do it on the fly by inspecting the class of every property in the beans and registering my converter class if they happened to be instances of this interface:</p>\n\n<pre><code>BeanUtilsBean b = new BeanUtilsBean();\nClass&lt; ? &gt; propertyType = pu.getPropertyType(this, setterName);\n\nif (isImplementationOfMyInterface(propertyType)) {\n    b.getConvertUtils().register(new MyConverter(), propertyType);\n}\n\nb.setProperty(this, setterName, value);\n</code></pre>\n\n<p>This seems rather nasty, and I'm sure there must be a better way of doing this?</p>\n"},{"tags":["java","json","arraylist","hashmap"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669923595,"creation_date":1669921266,"answer_id":74646944,"question_id":74646760,"body_markdown":"You&#39;re associating the *same* the list `roles` with every Key in your `Map` (because you&#39;re using a reference to the same object, and invoking `clean()` on the list only removes all its contents it doesn&#39;t allocate a new list as you might be expected).\r\n\r\nYou need to instantiate a **new** list with each iteration step, so that every Key would be mapped to its own `List` which is not shared with other Keys.\r\n\r\n    public Map&lt;String, List&lt;String&gt;&gt; getUserDetails(String json) throws IOException {\r\n        Map&lt;String, List&lt;String&gt;&gt; rolesByKey = new HashMap&lt;&gt;();\r\n        \r\n        List&lt;String&gt; arrayKeys = jsonUtil.getJsonArrayKey(json);\r\n        \r\n        for (String key : arrayKeys) {\r\n            List&lt;String&gt; roles = new LinkedList&lt;&gt;();\r\n            JSONObject jsonObject = new JSONObject(json);\r\n            JSONArray explrObject = jsonObject.getJSONArray(key);\r\n            for (var role : explrObject) {\r\n                roles.add(role.toString());\r\n            }\r\n            rolesByKey.put(key, roles);\r\n        }\r\n        return rolesByKey;\r\n    }\r\n\r\n***Sidenote:** please, get familiar and try to adhere to the [Java language naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)*.","title":"Adding List of JSONArray value into List of List and Put List of List One by one Map","body":"<p>You're associating the <em>same</em> the list <code>roles</code> with every Key in your <code>Map</code> (because you're using a reference to the same object, and invoking <code>clean()</code> on the list only removes all its contents it doesn't allocate a new list as you might be expected).</p>\n<p>You need to instantiate a <strong>new</strong> list with each iteration step, so that every Key would be mapped to its own <code>List</code> which is not shared with other Keys.</p>\n<pre><code>public Map&lt;String, List&lt;String&gt;&gt; getUserDetails(String json) throws IOException {\n    Map&lt;String, List&lt;String&gt;&gt; rolesByKey = new HashMap&lt;&gt;();\n    \n    List&lt;String&gt; arrayKeys = jsonUtil.getJsonArrayKey(json);\n    \n    for (String key : arrayKeys) {\n        List&lt;String&gt; roles = new LinkedList&lt;&gt;();\n        JSONObject jsonObject = new JSONObject(json);\n        JSONArray explrObject = jsonObject.getJSONArray(key);\n        for (var role : explrObject) {\n            roles.add(role.toString());\n        }\n        rolesByKey.put(key, roles);\n    }\n    return rolesByKey;\n}\n</code></pre>\n<p><em><strong>Sidenote:</strong> please, get familiar and try to adhere to the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java language naming conventions</a></em>.</p>\n"}],"owner":{"account_id":27114486,"reputation":3,"user_id":20659089,"display_name":"Santa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74646944,"answer_count":1,"score":0,"last_activity_date":1669923595,"creation_date":1669920313,"question_id":74646760,"body_markdown":"1st Step :   adding value[x,y,z] into the List&lt;String&gt; roles. Then Put **key** and **roles**(value) into **KV**(HashMap).\r\n\r\n    |\r\n    |___&gt;&gt;&gt;&gt;{a=[x, y, z]}  \r\n\r\n2nd Step:    adding value[x,z] into the roles List&lt;String&gt; its added to the List successfully but while adding it into roles it changes the value[x,y,z] to value[x,z] in 1st Step.  \r\n\r\n    |\r\n    |_____&gt;&gt;&gt;&gt;{a=[x, z], b=[x, z]}  \r\n\r\n**Expected: {a=[x, y, z],b=[x, z]}**\r\n\r\n3nd Step:    adding value[x,y,z] into the roles List&lt;String&gt; its added to the List successfully but while adding it into roles it changes the value[x,z] to value[x,y,z] in 2st Step and for that changed in 1st step during performing 2nd step.\r\n\r\n    |\r\n    |______&gt;&gt;&gt;&gt;{a=[x, y, z], b=[x, y, z], c=[x, y, z]}    \r\n\r\n**Expected: {a=[x, y, z],b=[x, z],c=[x, y, z]}**\r\n\r\nPlease help me with this code, why its Changing the Values that I previously added to Map.\r\n\r\n\r\n\r\n\r\n    &quot;json&quot;:{\r\n    &quot;a&quot;: [\r\n      &quot;x&quot;,\r\n      &quot;y&quot;,\r\n      &quot;z&quot;\r\n    ],\r\n    &quot;b&quot;: [\r\n      &quot;x&quot;,\r\n      &quot;z&quot;\r\n    ],\r\n    &quot;c&quot;: [\r\n      &quot;x&quot;,\r\n      &quot;y&quot;,\r\n      &quot;z&quot;\r\n    ],\r\n    &quot;d&quot;: [\r\n      &quot;y&quot;,\r\n      &quot;z&quot;\r\n    ]\r\n    }\r\n\r\n\r\n\r\n```\r\npublic Map&lt;String,List&lt;String&gt;&gt; getUserDetails(String json) throws IOException\r\n{\r\n    Map&lt;String,List&lt;String&gt;&gt; **KV** = new HashMap&lt;&gt;();\r\n    List&lt;String&gt; **roles** = new LinkedList&lt;&gt;();\r\n\r\n\r\n    List&lt;String&gt; arrayKeys = jsonUtil.getJsonArrayKey(json);\r\n    System.out.println(&quot;Array Key      :  &quot; + arrayKeys);\r\n    for (String **key** : arrayKeys)\r\n    {\r\n        roles.clear();\r\n        JSONObject jsonObject = new JSONObject(json);\r\n        JSONArray explrObject = jsonObject.getJSONArray(key);\r\n        for (int i = 0; i &lt; explrObject.length(); i++)\r\n        {\r\n            String value = (explrObject.get(i).toString());\r\n            System.out.println(&quot;Array Value : &quot; + value);\r\n            **roles**.add(value);\r\n        }\r\n         **KV**.put(**key**,**roles**);\r\n        System.out.println(&quot;Key and Value     :&quot;+KV);\r\n    }\r\n    return profileOrg_KV;\r\n}\r\n\r\n\r\n\r\n```\r\n**Actual OutPut**:\r\n\r\n```\r\nArray Key      :  [a, b, c, d]\r\n\r\nArray Value : x\r\nArray Value : y\r\nArray Value : z\r\nKey and Value      :{a=[x, y, z]}\r\n\r\nArray Value : x\r\nArray Value : z\r\nKey and Value      :{a=[x, z], b=[x, z]}\r\n\r\nArray Value : x\r\nArray Value :y\r\nArray Value : z\r\nKey and Value      :{a=[x, y, z], b=[x, y, z], c=[x, y, z]}\r\n\r\nArray Value : y\r\nArray Value : z\r\nKey and Value     :{a=[x, y, z], b=[x, y, z], c=[y , z], d=[x, y, z]}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n**Expected OutPut:**\r\n\r\n\r\n    Array Key      :  [a, b, c, d]\r\n    \r\n    Array Value : x\r\n    Array Value : y\r\n    Array Value : z\r\n    Key and Value      :{a=[x, y, z]}\r\n    \r\n    Array Value : x\r\n    Array Value : z\r\n    Key and Value      :{a=x, y, z], b=[x, z]}\r\n    \r\n    Array Value : x\r\n    Array Value :y\r\n    Array Value : z\r\n    Key and Value      :{a=[x, y, z], b=[x, z], c=[x, y, z]}\r\n    \r\n    Array Value : y\r\n    Array Value : z\r\n    Key and Value     :{a=[x, y, z], b=[x, z], c=[y , z], d=[x, z]}\r\n\r\n\r\n\r\n\r\n","title":"Adding List of JSONArray value into List of List and Put List of List One by one Map","body":"<p>1st Step :   adding value[x,y,z] into the List roles. Then Put <strong>key</strong> and <strong>roles</strong>(value) into <strong>KV</strong>(HashMap).</p>\n<pre><code>|\n|___&gt;&gt;&gt;&gt;{a=[x, y, z]}  \n</code></pre>\n<p>2nd Step:    adding value[x,z] into the roles List its added to the List successfully but while adding it into roles it changes the value[x,y,z] to value[x,z] in 1st Step.</p>\n<pre><code>|\n|_____&gt;&gt;&gt;&gt;{a=[x, z], b=[x, z]}  \n</code></pre>\n<p><strong>Expected: {a=[x, y, z],b=[x, z]}</strong></p>\n<p>3nd Step:    adding value[x,y,z] into the roles List its added to the List successfully but while adding it into roles it changes the value[x,z] to value[x,y,z] in 2st Step and for that changed in 1st step during performing 2nd step.</p>\n<pre><code>|\n|______&gt;&gt;&gt;&gt;{a=[x, y, z], b=[x, y, z], c=[x, y, z]}    \n</code></pre>\n<p><strong>Expected: {a=[x, y, z],b=[x, z],c=[x, y, z]}</strong></p>\n<p>Please help me with this code, why its Changing the Values that I previously added to Map.</p>\n<pre><code>&quot;json&quot;:{\n&quot;a&quot;: [\n  &quot;x&quot;,\n  &quot;y&quot;,\n  &quot;z&quot;\n],\n&quot;b&quot;: [\n  &quot;x&quot;,\n  &quot;z&quot;\n],\n&quot;c&quot;: [\n  &quot;x&quot;,\n  &quot;y&quot;,\n  &quot;z&quot;\n],\n&quot;d&quot;: [\n  &quot;y&quot;,\n  &quot;z&quot;\n]\n}\n</code></pre>\n<pre><code>public Map&lt;String,List&lt;String&gt;&gt; getUserDetails(String json) throws IOException\n{\n    Map&lt;String,List&lt;String&gt;&gt; **KV** = new HashMap&lt;&gt;();\n    List&lt;String&gt; **roles** = new LinkedList&lt;&gt;();\n\n\n    List&lt;String&gt; arrayKeys = jsonUtil.getJsonArrayKey(json);\n    System.out.println(&quot;Array Key      :  &quot; + arrayKeys);\n    for (String **key** : arrayKeys)\n    {\n        roles.clear();\n        JSONObject jsonObject = new JSONObject(json);\n        JSONArray explrObject = jsonObject.getJSONArray(key);\n        for (int i = 0; i &lt; explrObject.length(); i++)\n        {\n            String value = (explrObject.get(i).toString());\n            System.out.println(&quot;Array Value : &quot; + value);\n            **roles**.add(value);\n        }\n         **KV**.put(**key**,**roles**);\n        System.out.println(&quot;Key and Value     :&quot;+KV);\n    }\n    return profileOrg_KV;\n}\n\n\n\n</code></pre>\n<p><strong>Actual OutPut</strong>:</p>\n<pre><code>Array Key      :  [a, b, c, d]\n\nArray Value : x\nArray Value : y\nArray Value : z\nKey and Value      :{a=[x, y, z]}\n\nArray Value : x\nArray Value : z\nKey and Value      :{a=[x, z], b=[x, z]}\n\nArray Value : x\nArray Value :y\nArray Value : z\nKey and Value      :{a=[x, y, z], b=[x, y, z], c=[x, y, z]}\n\nArray Value : y\nArray Value : z\nKey and Value     :{a=[x, y, z], b=[x, y, z], c=[y , z], d=[x, y, z]}\n\n</code></pre>\n<p><strong>Expected OutPut:</strong></p>\n<pre><code>Array Key      :  [a, b, c, d]\n\nArray Value : x\nArray Value : y\nArray Value : z\nKey and Value      :{a=[x, y, z]}\n\nArray Value : x\nArray Value : z\nKey and Value      :{a=x, y, z], b=[x, z]}\n\nArray Value : x\nArray Value :y\nArray Value : z\nKey and Value      :{a=[x, y, z], b=[x, z], c=[x, y, z]}\n\nArray Value : y\nArray Value : z\nKey and Value     :{a=[x, y, z], b=[x, z], c=[y , z], d=[x, z]}\n</code></pre>\n"},{"tags":["java","spring-boot","date","innodb"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669831207,"post_id":74631236,"comment_id":131734542,"body_markdown":"What database engine? The data types vary radically between database engines.","body":"What database engine? The data types vary radically between database engines."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669831445,"post_id":74631236,"comment_id":131734620,"body_markdown":"`java.util.Date` represents a date with time of day as seen with an offset from UTC of zero hours-minutes-seconds. `java.sql.Date` *pretends* to represent a date only, but actually contains a time and offset. These classes are a terrible mess. They were supplanted years ago by the modern *java.time* classes. For date only, use `LocalDate`.","body":"<code>java.util.Date</code> represents a date with time of day as seen with an offset from UTC of zero hours-minutes-seconds. <code>java.sql.Date</code> <i>pretends</i> to represent a date only, but actually contains a time and offset. These classes are a terrible mess. They were supplanted years ago by the modern <i>java.time</i> classes. For date only, use <code>LocalDate</code>."},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1669832747,"post_id":74631236,"comment_id":131735055,"body_markdown":"@BasilBourque Engine is `InnoDB`","body":"@BasilBourque Engine is <code>InnoDB</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669832762,"post_id":74631236,"comment_id":131735064,"body_markdown":"I strongly recommend you don’t use `Date`. That class is poorly designed and long outdated. Instead as @BasilBourque already said use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. Instead as @BasilBourque already said use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":1,"creation_date":1669832853,"post_id":74631236,"comment_id":131735093,"body_markdown":"@OleV.V. I&#39;ll refactor","body":"@OleV.V. I&#39;ll refactor"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669845118,"post_id":74631236,"comment_id":131738685,"body_markdown":"Those details such as database engine belong in your Question, not Comments. I added mentions in title, body, and tags this time around.","body":"Those details such as database engine belong in your Question, not Comments. I added mentions in title, body, and tags this time around."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669845684,"post_id":74631236,"comment_id":131738865,"body_markdown":"See https://stackoverflow.com/questions/29168494/how-to-convert-localdate-to-sql-date-java","body":"See <a href=\"https://stackoverflow.com/questions/29168494/how-to-convert-localdate-to-sql-date-java\" title=\"how to convert localdate to sql date java\">stackoverflow.com/questions/29168494/&hellip;</a>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1670012879,"post_id":74631236,"comment_id":131781959,"body_markdown":"This seems to be just a Java question.  MySQL (and InnoDB) need `yyyy-mm-dd` for its `DATE` datatype.  It is up to you and Java to provide _that_ syntax.","body":"This seems to be just a Java question.  MySQL (and InnoDB) need <code>yyyy-mm-dd</code> for its <code>DATE</code> datatype.  It is up to you and Java to provide <i>that</i> syntax."},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1670015256,"post_id":74631236,"comment_id":131782571,"body_markdown":"Of course MySQL requires `yyyy-mm-dd` formatted type of  `Date`, but in my case, all I cared for is the `yyyy` part of the `Date` attribute.","body":"Of course MySQL requires <code>yyyy-mm-dd</code> formatted type of  <code>Date</code>, but in my case, all I cared for is the <code>yyyy</code> part of the <code>Date</code> attribute."}],"answers":[{"tags":[],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669923225,"creation_date":1669923225,"answer_id":74647286,"question_id":74631236,"body_markdown":"Since all I need is just to extract ``Subject`` by ``Date``, &amp; all previous attempts kept throwing `` exceptions``,  I simply reimplementd my ``dao`` method like this just to make use of SQL ``YEAR(DATE)`` function for comparison \r\n```\r\n@Query(value=&quot;Select * From Subject Where YEAR(x_date) =:year&quot;, nativeQuery=true)\r\nList&lt;MyEntity&gt;findByTheDate(Integer year);\r\n```\r\nThen my ``RestController`` class&#39;s method reimplemented like this\r\n\r\n```\r\n@GetMapping(&quot;/date&quot;)\r\npublic List&lt;MyEntity&gt; getByDate(@RequestParam(&quot;date&quot;)String date){\r\n\r\n//The string passed as request param is always in the form &quot;yyyy-mm-dd&quot;\r\n\r\nInteger year= Integer.parseInt(date.subString(0,4));\r\n\r\nreturn dao.findByTheDate(year);\r\n}\r\n``` \r\nand it worked","title":"How do I get java.util.Date from string input to compare to SQL DATE type in InnoDB?","body":"<p>Since all I need is just to extract <code>Subject</code> by <code>Date</code>, &amp; all previous attempts kept throwing <code> exceptions</code>,  I simply reimplementd my <code>dao</code> method like this just to make use of SQL <code>YEAR(DATE)</code> function for comparison</p>\n<pre><code>@Query(value=&quot;Select * From Subject Where YEAR(x_date) =:year&quot;, nativeQuery=true)\nList&lt;MyEntity&gt;findByTheDate(Integer year);\n</code></pre>\n<p>Then my <code>RestController</code> class's method reimplemented like this</p>\n<pre><code>@GetMapping(&quot;/date&quot;)\npublic List&lt;MyEntity&gt; getByDate(@RequestParam(&quot;date&quot;)String date){\n\n//The string passed as request param is always in the form &quot;yyyy-mm-dd&quot;\n\nInteger year= Integer.parseInt(date.subString(0,4));\n\nreturn dao.findByTheDate(year);\n}\n</code></pre>\n<p>and it worked</p>\n"}],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669923225,"creation_date":1669826374,"question_id":74631236,"body_markdown":"I have a ``SQL column`` of the nature \r\n```\r\n `x_date` DATE default null,\r\n``` \r\n\r\n… in [InnoDB][1].\r\n\r\nThen my ``entity class`` is\r\n```\r\n@Entity\r\n@Table\r\npublic class MyEntity{\r\n//omitted codes\r\n\r\n@Column(name=&quot;x_date&quot;)\r\nprivate java.util.Date theDate;\r\n\r\n//Omitted assessor \r\n\r\n}\r\n```\r\nNow I have a ``Controller class`` defined like this\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/data&quot;)\r\npublic class SomeController{\r\n\r\n@Autowired\r\nprivate TheDao dao;\r\n\r\n@GetMapping\r\npublic List&lt;MyEntity&gt;getByDate(@RequestParam(&quot;date&quot;)String date){\r\n\r\n//How do I get a java util.Date type from the date param to pass to this method?\r\nreturn dao.findByTheDate(...){\r\n}\r\n\r\n\r\n}\r\n```\r\nHow do I generate a ``Date`` from a user&#39;s input like ``http://localhost:8080/data?date=2001-07-14``?\r\n\r\nThe ``jpa repo`` is\r\n```\r\npublic interface TheDao extends JpaRepository&lt;MyEntity, Integer&gt;{\r\n\r\nList&lt;MyEntity&gt;findByTheDate(Date date)\r\n}\r\n \r\n}\r\n```\r\n I&#39;ve changed all `Date` types to `LocalDate` in my classes and `interface` and the `controller` class has this declaration \r\n```\r\nLocalDate loc=LocalDate.parse(date);\r\n\r\nreturn dao.findByTheDate(loc);\r\n```\r\nBut when I made a `GET` call to `http://localhost:8080/data?date=2019-03-29` I got this `stacktrace`\r\n```\r\nParameter value [%2019-03-29%] did not match expected type [java.time.LocalDate n/a)]...\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/InnoDB","title":"How do I get java.util.Date from string input to compare to SQL DATE type in InnoDB?","body":"<p>I have a <code>SQL column</code> of the nature</p>\n<pre><code> `x_date` DATE default null,\n</code></pre>\n<p>… in <a href=\"https://en.wikipedia.org/wiki/InnoDB\" rel=\"nofollow noreferrer\">InnoDB</a>.</p>\n<p>Then my <code>entity class</code> is</p>\n<pre><code>@Entity\n@Table\npublic class MyEntity{\n//omitted codes\n\n@Column(name=&quot;x_date&quot;)\nprivate java.util.Date theDate;\n\n//Omitted assessor \n\n}\n</code></pre>\n<p>Now I have a <code>Controller class</code> defined like this</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/data&quot;)\npublic class SomeController{\n\n@Autowired\nprivate TheDao dao;\n\n@GetMapping\npublic List&lt;MyEntity&gt;getByDate(@RequestParam(&quot;date&quot;)String date){\n\n//How do I get a java util.Date type from the date param to pass to this method?\nreturn dao.findByTheDate(...){\n}\n\n\n}\n</code></pre>\n<p>How do I generate a <code>Date</code> from a user's input like <code>http://localhost:8080/data?date=2001-07-14</code>?</p>\n<p>The <code>jpa repo</code> is</p>\n<pre><code>public interface TheDao extends JpaRepository&lt;MyEntity, Integer&gt;{\n\nList&lt;MyEntity&gt;findByTheDate(Date date)\n}\n \n}\n</code></pre>\n<p>I've changed all <code>Date</code> types to <code>LocalDate</code> in my classes and <code>interface</code> and the <code>controller</code> class has this declaration</p>\n<pre><code>LocalDate loc=LocalDate.parse(date);\n\nreturn dao.findByTheDate(loc);\n</code></pre>\n<p>But when I made a <code>GET</code> call to <code>http://localhost:8080/data?date=2019-03-29</code> I got this <code>stacktrace</code></p>\n<pre><code>Parameter value [%2019-03-29%] did not match expected type [java.time.LocalDate n/a)]...\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind","jackson2"],"answers":[{"tags":[],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669923200,"creation_date":1669922842,"answer_id":74647232,"question_id":74638647,"body_markdown":"I was able to make it work by following:\r\n\r\n```\r\nprivate InputStream generateJsonDocumentWrapper(final InputStream inputEventList) throws IOException {\r\n\t  final JsonFactory jsonfactory = new JsonFactory();\r\n      final PipedInputStream jsonDocumentWriter = new PipedInputStream();\r\n      final PipedOutputStream out = new PipedOutputStream(jsonDocumentWriter);\r\n      final ExecutorService executorService = Executors.newWorkStealingPool();\r\n      final JsonParser jsonParser = new JsonFactory().createParser(inputEventList);\r\n      final ObjectMapper objectMapper = new ObjectMapper().registerModule(new JavaTimeModule()).enable(DeserializationFeature.FAIL_ON_TRAILING_TOKENS);\r\n      jsonParser.setCodec(objectMapper);\r\n      jsonfactory.setCodec(objectMapper);\r\n      final JsonNode node = jsonParser.readValueAsTree();\r\n\r\n      executorService.execute( () -&gt; {\r\n          try{\r\n              try (JsonGenerator jsonGenerator = jsonfactory.createGenerator(out)) {\r\n                  jsonGenerator.writeStartObject();\r\n                  jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n                  jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n                  jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n                  jsonGenerator.writeStartObject();\r\n                  jsonGenerator.writeFieldName(&quot;customerList&quot;)\r\n                  jsonGenerator.writeTree(node);\r\n                  jsonGenerator.writeEndObject();\r\n                  jsonGenerator.writeEndObject();\r\n                  jsonGenerator.flush();\r\n              } catch (IOException ex) {\r\n                  throw new IOException();\r\n              }\r\n          }catch (Exception ex) {\r\n              ex.printStackTrace();\r\n          }\r\n      });\r\n\r\n    System.out.println(&quot;Wrpper DOCUMENT : &quot; + IOUtils.toString(jsonDocumentWriter, StandardCharsets.UTF_8));\r\n    return jsonDocumentWriter;\r\n  }\r\n```","title":"Java Jackson JsonGenerator: Creating wrapper JSON to list results in java.lang.IllegalStateException: No ObjectCodec defined","body":"<p>I was able to make it work by following:</p>\n<pre><code>private InputStream generateJsonDocumentWrapper(final InputStream inputEventList) throws IOException {\n      final JsonFactory jsonfactory = new JsonFactory();\n      final PipedInputStream jsonDocumentWriter = new PipedInputStream();\n      final PipedOutputStream out = new PipedOutputStream(jsonDocumentWriter);\n      final ExecutorService executorService = Executors.newWorkStealingPool();\n      final JsonParser jsonParser = new JsonFactory().createParser(inputEventList);\n      final ObjectMapper objectMapper = new ObjectMapper().registerModule(new JavaTimeModule()).enable(DeserializationFeature.FAIL_ON_TRAILING_TOKENS);\n      jsonParser.setCodec(objectMapper);\n      jsonfactory.setCodec(objectMapper);\n      final JsonNode node = jsonParser.readValueAsTree();\n\n      executorService.execute( () -&gt; {\n          try{\n              try (JsonGenerator jsonGenerator = jsonfactory.createGenerator(out)) {\n                  jsonGenerator.writeStartObject();\n                  jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n                  jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n                  jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n                  jsonGenerator.writeStartObject();\n                  jsonGenerator.writeFieldName(&quot;customerList&quot;)\n                  jsonGenerator.writeTree(node);\n                  jsonGenerator.writeEndObject();\n                  jsonGenerator.writeEndObject();\n                  jsonGenerator.flush();\n              } catch (IOException ex) {\n                  throw new IOException();\n              }\n          }catch (Exception ex) {\n              ex.printStackTrace();\n          }\n      });\n\n    System.out.println(&quot;Wrpper DOCUMENT : &quot; + IOUtils.toString(jsonDocumentWriter, StandardCharsets.UTF_8));\n    return jsonDocumentWriter;\n  }\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669923200,"creation_date":1669881875,"question_id":74638647,"body_markdown":"I have a Java method that gets the list of customer information in JSON format as InputStream. I would like to add the wrapper to this JSON, which is being created using the `Jackson JsonGenerator`. When I try to add the `customerList` as a tree then I get the error `java.lang.IllegalStateException: No ObjectCodec defined`\r\n\r\nFollowing is the customer list thats obtained by my method:\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;:&quot;Batman&quot;,\r\n    &quot;age&quot;:45,\r\n    &quot;city&quot;:&quot;gotham&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;:&quot;superman&quot;,\r\n    &quot;age&quot;:50,\r\n    &quot;city&quot;:&quot;moon&quot;\r\n  }\r\n]\r\n```\r\n\r\nI would like to add a wrapper and make it like this:\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nFollowing is my method for doing this:\r\n```\r\nprivate InputStream generateJsonDocumentWrapper(final InputStream inputEventList) throws IOException {\r\n      final PipedInputStream jsonDocumentWriter = new PipedInputStream();\r\n      final PipedOutputStream out = new PipedOutputStream(jsonDocumentWriter);\r\n      final ExecutorService executorService = Executors.newWorkStealingPool();\r\n      final JsonParser jsonParser = new JsonFactory().createParser(inputEventList);\r\n      final ObjectMapper objectMapper = new ObjectMapper().registerModule(new JavaTimeModule()).enable(DeserializationFeature.FAIL_ON_TRAILING_TOKENS);\r\n      jsonParser.setCodec(objectMapper);\r\n      final JsonNode node = jsonParser.readValueAsTree();\r\n      System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(node));\r\n\r\n      executorService.execute( () -&gt; {\r\n          try{\r\n              try (JsonGenerator jsonGenerator = jsonfactory.createGenerator(out)) {\r\n                  jsonGenerator.writeStartObject();\r\n                  jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n                  jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n                  jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n                  jsonGenerator.writeStartObject();\r\n                  jsonGenerator.writeFieldName(&quot;customerList&quot;)\r\n                  jsonGenerator.writeRaw(&quot;:&quot;)\r\n                  jsonGenerator.writeTree(node); // works fine with jsonGenerator.writeRawValue(IOUtils.toString(inputEventList, StandardCharsets.UTF_8));\r\n                  jsonGenerator.writeEndObject();\r\n                  jsonGenerator.writeEndObject();\r\n                  jsonGenerator.flush();\r\n              } catch (IOException ex) {\r\n                  throw new IOException();\r\n              }\r\n          }catch (Exception ex) {\r\n              ex.printStackTrace();\r\n          }\r\n      });\r\n\r\n    System.out.println(&quot;Wrpper DOCUMENT : &quot; + IOUtils.toString(jsonDocumentWriter, StandardCharsets.UTF_8));\r\n    return jsonDocumentWriter;\r\n  }\r\n```\r\n\r\nIf I convert the `InputStream` directly to `String` then its working fine but I dont want to use the `IOUtils.toString(inputEventList, StandardCharsets.UTF_8)` so I am trying to read as tree but this results in the following error:\r\n\r\n```\r\njava.lang.IllegalStateException: No ObjectCodec defined\r\n\r\n        at com.fasterxml.jackson.core.base.GeneratorBase.writeTree(GeneratorBase.java:403)\r\n        at my.package.CustomerWrapperGenerator.lambda$generateJsonDocumentWrapper$4(CustomerWrapperGenerator.java:319)\r\n        at java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\r\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\r\n```","title":"Java Jackson JsonGenerator: Creating wrapper JSON to list results in java.lang.IllegalStateException: No ObjectCodec defined","body":"<p>I have a Java method that gets the list of customer information in JSON format as InputStream. I would like to add the wrapper to this JSON, which is being created using the <code>Jackson JsonGenerator</code>. When I try to add the <code>customerList</code> as a tree then I get the error <code>java.lang.IllegalStateException: No ObjectCodec defined</code></p>\n<p>Following is the customer list thats obtained by my method:</p>\n<pre><code>[\n  {\n    &quot;name&quot;:&quot;Batman&quot;,\n    &quot;age&quot;:45,\n    &quot;city&quot;:&quot;gotham&quot;\n  },\n  {\n    &quot;name&quot;:&quot;superman&quot;,\n    &quot;age&quot;:50,\n    &quot;city&quot;:&quot;moon&quot;\n  }\n]\n</code></pre>\n<p>I would like to add a wrapper and make it like this:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Following is my method for doing this:</p>\n<pre><code>private InputStream generateJsonDocumentWrapper(final InputStream inputEventList) throws IOException {\n      final PipedInputStream jsonDocumentWriter = new PipedInputStream();\n      final PipedOutputStream out = new PipedOutputStream(jsonDocumentWriter);\n      final ExecutorService executorService = Executors.newWorkStealingPool();\n      final JsonParser jsonParser = new JsonFactory().createParser(inputEventList);\n      final ObjectMapper objectMapper = new ObjectMapper().registerModule(new JavaTimeModule()).enable(DeserializationFeature.FAIL_ON_TRAILING_TOKENS);\n      jsonParser.setCodec(objectMapper);\n      final JsonNode node = jsonParser.readValueAsTree();\n      System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(node));\n\n      executorService.execute( () -&gt; {\n          try{\n              try (JsonGenerator jsonGenerator = jsonfactory.createGenerator(out)) {\n                  jsonGenerator.writeStartObject();\n                  jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n                  jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n                  jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n                  jsonGenerator.writeStartObject();\n                  jsonGenerator.writeFieldName(&quot;customerList&quot;)\n                  jsonGenerator.writeRaw(&quot;:&quot;)\n                  jsonGenerator.writeTree(node); // works fine with jsonGenerator.writeRawValue(IOUtils.toString(inputEventList, StandardCharsets.UTF_8));\n                  jsonGenerator.writeEndObject();\n                  jsonGenerator.writeEndObject();\n                  jsonGenerator.flush();\n              } catch (IOException ex) {\n                  throw new IOException();\n              }\n          }catch (Exception ex) {\n              ex.printStackTrace();\n          }\n      });\n\n    System.out.println(&quot;Wrpper DOCUMENT : &quot; + IOUtils.toString(jsonDocumentWriter, StandardCharsets.UTF_8));\n    return jsonDocumentWriter;\n  }\n</code></pre>\n<p>If I convert the <code>InputStream</code> directly to <code>String</code> then its working fine but I dont want to use the <code>IOUtils.toString(inputEventList, StandardCharsets.UTF_8)</code> so I am trying to read as tree but this results in the following error:</p>\n<pre><code>java.lang.IllegalStateException: No ObjectCodec defined\n\n        at com.fasterxml.jackson.core.base.GeneratorBase.writeTree(GeneratorBase.java:403)\n        at my.package.CustomerWrapperGenerator.lambda$generateJsonDocumentWrapper$4(CustomerWrapperGenerator.java:319)\n        at java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n\n</code></pre>\n"},{"tags":["java","colors","printf"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669923427,"post_id":74647279,"comment_id":131759270,"body_markdown":"Your OS is what?","body":"Your OS is what?"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":2,"creation_date":1669923745,"post_id":74647279,"comment_id":131759381,"body_markdown":"Does the terminal support color?","body":"Does the terminal support color?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669923917,"post_id":74647279,"comment_id":131759438,"body_markdown":"Adding to what @LeonardoEmmanueldeAzevedo has mentioned, it does work in most IDEs (In the past, I have tested it in Eclipse and VSC).","body":"Adding to what @LeonardoEmmanueldeAzevedo has mentioned, it does work in most IDEs (In the past, I have tested it in Eclipse and VSC)."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669923976,"post_id":74647279,"comment_id":131759463,"body_markdown":"Related: [How to print color in console using System.out.println?](https://stackoverflow.com/q/5762491/10819573)","body":"Related: <a href=\"https://stackoverflow.com/q/5762491/10819573\">How to print color in console using System.out.println?</a>"},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1669925302,"post_id":74647279,"comment_id":131759882,"body_markdown":"@g00se  windows 10 using bluej as ide","body":"@g00se  windows 10 using bluej as ide"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669923188,"creation_date":1669923188,"question_id":74647279,"body_markdown":"I&#39;m trying to print different colors with printf.  I&#39;ve tried the following:\r\n\r\n    System.out.printf(&quot;%s%s%s%s\\n&quot;,&quot;\\u001B[31m&quot;,&quot;abcd&quot;,&quot;\\u001B[30m&quot;,&quot;xyz&quot;);\r\n\r\nI was expecting abcd to be in red and xyz to be in black but everything is black.","title":"with java printf print different colors","body":"<p>I'm trying to print different colors with printf.  I've tried the following:</p>\n<pre><code>System.out.printf(&quot;%s%s%s%s\\n&quot;,&quot;\\u001B[31m&quot;,&quot;abcd&quot;,&quot;\\u001B[30m&quot;,&quot;xyz&quot;);\n</code></pre>\n<p>I was expecting abcd to be in red and xyz to be in black but everything is black.</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1664375758,"post_id":73883154,"comment_id":130458131,"body_markdown":"the article on https://dzone.com/articles/how-resolve-mavens-failure suggest to remove some files from the m2 repo caching the transfer failure","body":"the article on <a href=\"https://dzone.com/articles/how-resolve-mavens-failure\" rel=\"nofollow noreferrer\">dzone.com/articles/how-resolve-mavens-failure</a> suggest to remove some files from the m2 repo caching the transfer failure"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1664375849,"post_id":73883154,"comment_id":130458173,"body_markdown":"This could also help: https://stackoverflow.com/questions/4701532/how-to-force-maven-update","body":"This could also help: <a href=\"https://stackoverflow.com/questions/4701532/how-to-force-maven-update\" title=\"how to force maven update\">stackoverflow.com/questions/4701532/how-to-force-maven-updat&zwnj;&#8203;e</a>"},{"owner":{"account_id":1141923,"reputation":170,"user_id":1125569,"display_name":"Rudolf Ziegaus"},"score":0,"creation_date":1664377355,"post_id":73883154,"comment_id":130458779,"body_markdown":"Thanks very much. I deleted the file with the extension &quot;lastUpdated&quot; and updated the maven project forcing the update of snapshots/releases and now I finally could download the corresponding files.\n\nEverything&#39;s fine now - thanks a lot, I was already knocking my head against the wall;-)","body":"Thanks very much. I deleted the file with the extension &quot;lastUpdated&quot; and updated the maven project forcing the update of snapshots/releases and now I finally could download the corresponding files.  Everything&#39;s fine now - thanks a lot, I was already knocking my head against the wall;-)"}],"owner":{"account_id":1141923,"reputation":170,"user_id":1125569,"display_name":"Rudolf Ziegaus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669923096,"creation_date":1664374977,"question_id":73883154,"body_markdown":"I am trying to use Hibernate 6 with Eclipse in a maven project. It&#39;s just a simple demo project (without spring or the like, just a simple java project with maven) to try to use Hiberate. However whatever I do I only run into errors. I have tried various versions of Hibernate and was only lucky with a very old version (4.x). However when I try to use Hibernate 5 or 6 I always get errors since Eclipe rsp. Maven can&#39;t download the needed files.\r\n\r\nWhen I try to use Hibernate 6.1.3. Final, the corresponding dependency in my pom.xml looks like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;6.1.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy code does not compile and I get the following error message\r\n\r\norg.hibernate.orm:hibernate-core:jar:6.1.3.Final failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.hibernate.orm:hibernate-core:jar:6.1.3.Final from/to central (https://repo.maven.apache.org/maven2): The operation was cancelled.\r\n\r\nOf course there are much more errors because of the missing jar file, but that&#39;s not the issue here. My problem is that the relevant jar file for hibernate is not downloaded.\r\n\r\nWhen I look into my local maven repository I see there are several files (e. g. the pom file and the a jar containing the sources and also the corresponding sha-files), but there is no jar file containing the classes.\r\nThere is also a file _remote.repositories containing the following lines:\r\n\r\n    #NOTE: This is a Maven Resolver internal implementation file, its format can be changed without prior notice.\r\n    #Mon Sep 26 13:07:00 CEST 2022\r\n    hibernate-core-6.1.3.Final-sources.jar&gt;central=\r\n    hibernate-core-6.1.3.Final.pom&gt;central=\r\n\r\nThe same happens when I try to use the latest version of Hibernate 5 (5.6.11).\r\n\r\n\r\nWhat am I doing wrong? What is the correct way to use Hibernate in a maven project (without spring or the like)=\r\n\r\nThanks for reading and helping,\r\n\r\nRudi\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Problems using Hibernate 6 with Maven","body":"<p>I am trying to use Hibernate 6 with Eclipse in a maven project. It's just a simple demo project (without spring or the like, just a simple java project with maven) to try to use Hiberate. However whatever I do I only run into errors. I have tried various versions of Hibernate and was only lucky with a very old version (4.x). However when I try to use Hibernate 5 or 6 I always get errors since Eclipe rsp. Maven can't download the needed files.</p>\n<p>When I try to use Hibernate 6.1.3. Final, the corresponding dependency in my pom.xml looks like this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.1.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My code does not compile and I get the following error message</p>\n<p>org.hibernate.orm:hibernate-core:jar:6.1.3.Final failed to transfer from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.hibernate.orm:hibernate-core:jar:6.1.3.Final from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): The operation was cancelled.</p>\n<p>Of course there are much more errors because of the missing jar file, but that's not the issue here. My problem is that the relevant jar file for hibernate is not downloaded.</p>\n<p>When I look into my local maven repository I see there are several files (e. g. the pom file and the a jar containing the sources and also the corresponding sha-files), but there is no jar file containing the classes.\nThere is also a file _remote.repositories containing the following lines:</p>\n<pre><code>#NOTE: This is a Maven Resolver internal implementation file, its format can be changed without prior notice.\n#Mon Sep 26 13:07:00 CEST 2022\nhibernate-core-6.1.3.Final-sources.jar&gt;central=\nhibernate-core-6.1.3.Final.pom&gt;central=\n</code></pre>\n<p>The same happens when I try to use the latest version of Hibernate 5 (5.6.11).</p>\n<p>What am I doing wrong? What is the correct way to use Hibernate in a maven project (without spring or the like)=</p>\n<p>Thanks for reading and helping,</p>\n<p>Rudi</p>\n"},{"tags":["java","swagger","swagger-ui","openapi","quarkus"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1669817597,"post_id":74627820,"comment_id":131729242,"body_markdown":"Is this the same question as [your previous one](https://stackoverflow.com/q/74614616/113116)?","body":"Is this the same question as <a href=\"https://stackoverflow.com/q/74614616/113116\">your previous one</a>?"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1669818068,"post_id":74627820,"comment_id":131729473,"body_markdown":"@Helen Thanks a lot for the response. It&#39;s a bit the same but not completely. There I was also trying to order between multiple tags which I was able to accomplish finally. Now, within a single tag, I would like to order my various endpoints so its kind of part of that question but not complete. I will add the answer to that and close it to avoid any confusion. Is there any workaround for this question?","body":"@Helen Thanks a lot for the response. It&#39;s a bit the same but not completely. There I was also trying to order between multiple tags which I was able to accomplish finally. Now, within a single tag, I would like to order my various endpoints so its kind of part of that question but not complete. I will add the answer to that and close it to avoid any confusion. Is there any workaround for this question?"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1669819212,"post_id":74627820,"comment_id":131729973,"body_markdown":"Swagger UI has the [`operationSorter`](https://stackoverflow.com/a/69296074/113116) option to control the sorting. Quarkus analog seems to be [`quarkus.swagger-ui.operations-sorter`](https://quarkus.io/guides/openapi-swaggerui#quarkus-swaggerui_quarkus.swagger-ui.operations-sorter). You should be able to specify a custom sort function as [shown here](https://github.com/quarkusio/quarkus/issues/15642).","body":"Swagger UI has the <a href=\"https://stackoverflow.com/a/69296074/113116\"><code>operationSorter</code></a> option to control the sorting. Quarkus analog seems to be <a href=\"https://quarkus.io/guides/openapi-swaggerui#quarkus-swaggerui_quarkus.swagger-ui.operations-sorter\" rel=\"nofollow noreferrer\"><code>quarkus.swagger-ui.operations-sorter</code></a>. You should be able to specify a custom sort function as <a href=\"https://github.com/quarkusio/quarkus/issues/15642\" rel=\"nofollow noreferrer\">shown here</a>."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1669822196,"post_id":74627820,"comment_id":131731320,"body_markdown":"@Helen Thanks a lot for the response and links. I am trying to follow it but facing some issues and am unable to make it work. I tried adding the lines `tagsSorter: &quot;alpha&quot;` and `operationsSorter: &quot;alpha&quot;` to my `application.yml` file. I believe I need only the `operationsSorter`. Can you please provide some examples or references based on the above-provided example? That will be really helpful for me. I have added the contents of my `application.yml` file in the above question for your reference.","body":"@Helen Thanks a lot for the response and links. I am trying to follow it but facing some issues and am unable to make it work. I tried adding the lines <code>tagsSorter: &quot;alpha&quot;</code> and <code>operationsSorter: &quot;alpha&quot;</code> to my <code>application.yml</code> file. I believe I need only the <code>operationsSorter</code>. Can you please provide some examples or references based on the above-provided example? That will be really helpful for me. I have added the contents of my <code>application.yml</code> file in the above question for your reference."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1669881266,"post_id":74627820,"comment_id":131744815,"body_markdown":"[Quarkus doc](https://quarkus.io/guides/openapi-swaggerui#quarkus-swaggerui_quarkus.swagger-ui.operations-sorter) says the config name is `operations-sorter`, not `operationsSorter` like in the standalone Swagger UI. Other than that I don&#39;t know what might be wrong as I never used Quarkus myself.","body":"<a href=\"https://quarkus.io/guides/openapi-swaggerui#quarkus-swaggerui_quarkus.swagger-ui.operations-sorter\" rel=\"nofollow noreferrer\">Quarkus doc</a> says the config name is <code>operations-sorter</code>, not <code>operationsSorter</code> like in the standalone Swagger UI. Other than that I don&#39;t know what might be wrong as I never used Quarkus myself."}],"answers":[{"tags":[],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669922969,"creation_date":1669922969,"answer_id":74647250,"question_id":74627820,"body_markdown":"I was able to get it working by adding the functions in my `public class SchemaExampleOASFilter implements OASFilter`. I added the `operationsId` to my routes something like this:\r\n\r\n```\r\n@Path(&quot;/api&quot;)\r\n@Tag(\r\n    name = &quot;Extensions Controller&quot;,\r\n    description = &quot;Extensions Information&quot;)\r\npublic class ExtensionResource {\r\n\r\n    @Operation(operationId = &quot;3&quot;)\r\n    @POST\r\n    @Path(&quot;/post/extensions&quot;)\r\n    public String list() {\r\n        return extension;\r\n    }\r\n\r\n    @Operation(operationId = &quot;1&quot;)\r\n    @GET\r\n    @Path(&quot;/get/extension&quot;)\r\n    public String list() {\r\n        return extension;\r\n    }\r\n    \r\n    @Operation(operationId = &quot;2&quot;)\r\n    @POST\r\n    @Path(&quot;/post/extension&quot;)\r\n    public String list() {\r\n        return extension;\r\n    }\r\n}\r\n```\r\n\r\nAdded the `SchemaExampleOASFilter` something like this:\r\n```\r\npublic class SchemaExampleOASFilter implements OASFilter {\r\n\r\n    @Override\r\n    public void filterOpenAPI(OpenAPI openAPI) {\r\n\r\n        //Method to sort various operations based on operationID to display in Swagger-UI\r\n        final Map &lt; String, PathItem &gt; pathItems = openAPI.getPaths().getPathItems().entrySet().stream().sorted((o1, o2) - &gt; {\r\n            if (o1.getValue().getPOST() != null &amp;&amp; o2.getValue().getPOST() != null) {\r\n                int v1 = Integer.parseInt(o1.getValue().getPOST().getOperationId());\r\n                int v2 = Integer.parseInt(o2.getValue().getPOST().getOperationId());\r\n                return Integer.compare(v1, v2);\r\n            }\r\n            return 0;\r\n        }).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) - &gt; v1, LinkedHashMap::new));\r\n\r\n        //Add the sorted operations to Swagger-UI\r\n        openAPI.getPaths().setPathItems(pathItems);\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd added it to my `application.yml` file something like this:\r\n```\r\nquarkus:\r\n  swagger-ui:\r\n    always-include: true\r\n  http:\r\n    cors: true\r\n    port: 9000\r\n\r\nmp:\r\n  openapi:\r\n    filter: &quot;com.example.my.package.SchemaExampleOASFilter&quot;\r\n```\r\n\r\nThis made everything work for me and now, I am able to sort however I want.","title":"Java Quarkus OpenAPI: How to order various paths in a Quarkus resource?","body":"<p>I was able to get it working by adding the functions in my <code>public class SchemaExampleOASFilter implements OASFilter</code>. I added the <code>operationsId</code> to my routes something like this:</p>\n<pre><code>@Path(&quot;/api&quot;)\n@Tag(\n    name = &quot;Extensions Controller&quot;,\n    description = &quot;Extensions Information&quot;)\npublic class ExtensionResource {\n\n    @Operation(operationId = &quot;3&quot;)\n    @POST\n    @Path(&quot;/post/extensions&quot;)\n    public String list() {\n        return extension;\n    }\n\n    @Operation(operationId = &quot;1&quot;)\n    @GET\n    @Path(&quot;/get/extension&quot;)\n    public String list() {\n        return extension;\n    }\n    \n    @Operation(operationId = &quot;2&quot;)\n    @POST\n    @Path(&quot;/post/extension&quot;)\n    public String list() {\n        return extension;\n    }\n}\n</code></pre>\n<p>Added the <code>SchemaExampleOASFilter</code> something like this:</p>\n<pre><code>public class SchemaExampleOASFilter implements OASFilter {\n\n    @Override\n    public void filterOpenAPI(OpenAPI openAPI) {\n\n        //Method to sort various operations based on operationID to display in Swagger-UI\n        final Map &lt; String, PathItem &gt; pathItems = openAPI.getPaths().getPathItems().entrySet().stream().sorted((o1, o2) - &gt; {\n            if (o1.getValue().getPOST() != null &amp;&amp; o2.getValue().getPOST() != null) {\n                int v1 = Integer.parseInt(o1.getValue().getPOST().getOperationId());\n                int v2 = Integer.parseInt(o2.getValue().getPOST().getOperationId());\n                return Integer.compare(v1, v2);\n            }\n            return 0;\n        }).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) - &gt; v1, LinkedHashMap::new));\n\n        //Add the sorted operations to Swagger-UI\n        openAPI.getPaths().setPathItems(pathItems);\n\n    }\n}\n</code></pre>\n<p>And added it to my <code>application.yml</code> file something like this:</p>\n<pre><code>quarkus:\n  swagger-ui:\n    always-include: true\n  http:\n    cors: true\n    port: 9000\n\nmp:\n  openapi:\n    filter: &quot;com.example.my.package.SchemaExampleOASFilter&quot;\n</code></pre>\n<p>This made everything work for me and now, I am able to sort however I want.</p>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74647250,"answer_count":1,"score":0,"last_activity_date":1669922969,"creation_date":1669811390,"question_id":74627820,"body_markdown":"How can I add the sorting order for my API path endpoints using the Java OpenAPI annotations? I am currently using `Quarkus` to develop a rest-based application within that I am using the OpenAPI annotations to generate the Swagger-UI but I am not able to control the orders for various paths that appear. Is there a way to achieve this by forcing the OpenAPI to always sort as per my need?\r\n\r\nFollowing are multiple resources and endpoints I have:\r\n\r\nExtensionsResource:\r\n```\r\n@Path(&quot;/api&quot;)\r\n@Tag(\r\n    name = &quot;Extensions Controller&quot;,\r\n    description = &quot;Extensions Information&quot;)\r\npublic class ExtensionResource {\r\n\r\n    @POST\r\n    @Path(&quot;/post/extensions&quot;)\r\n    public String list() {\r\n        return extension;\r\n    }\r\n\r\n    @GET\r\n    @Path(&quot;/get/extension&quot;)\r\n    public String list() {\r\n        return extension;\r\n    }\r\n\r\n    @POST\r\n    @Path(&quot;/post/extension&quot;)\r\n    public String list() {\r\n        return extension;\r\n    }\r\n}\r\n```\r\n\r\nI always want to ensure that the swagger-ui displays the API endpoints in the following order:\r\n```\r\n1. api/get/extension\r\n2. api/post/extension\r\n3. api/post/extensions\r\n```\r\nThis above code is just for reference my actual code looks different I just want to know how to force the ordering of endpoints in Swagger-UI using the OpenAPI annotation.\r\n\r\n**Updated**\r\nThe contents of my `application.yaml` file looks something like this:\r\n```\r\nquarkus:\r\n  swagger-ui:\r\n    always-include: true\r\n    tagsSorter: &quot;alpha&quot;\r\n    operationsSorter: &quot;alpha&quot;\r\n  http:\r\n    cors: true\r\n    port: 9000\r\n```","title":"Java Quarkus OpenAPI: How to order various paths in a Quarkus resource?","body":"<p>How can I add the sorting order for my API path endpoints using the Java OpenAPI annotations? I am currently using <code>Quarkus</code> to develop a rest-based application within that I am using the OpenAPI annotations to generate the Swagger-UI but I am not able to control the orders for various paths that appear. Is there a way to achieve this by forcing the OpenAPI to always sort as per my need?</p>\n<p>Following are multiple resources and endpoints I have:</p>\n<p>ExtensionsResource:</p>\n<pre><code>@Path(&quot;/api&quot;)\n@Tag(\n    name = &quot;Extensions Controller&quot;,\n    description = &quot;Extensions Information&quot;)\npublic class ExtensionResource {\n\n    @POST\n    @Path(&quot;/post/extensions&quot;)\n    public String list() {\n        return extension;\n    }\n\n    @GET\n    @Path(&quot;/get/extension&quot;)\n    public String list() {\n        return extension;\n    }\n\n    @POST\n    @Path(&quot;/post/extension&quot;)\n    public String list() {\n        return extension;\n    }\n}\n</code></pre>\n<p>I always want to ensure that the swagger-ui displays the API endpoints in the following order:</p>\n<pre><code>1. api/get/extension\n2. api/post/extension\n3. api/post/extensions\n</code></pre>\n<p>This above code is just for reference my actual code looks different I just want to know how to force the ordering of endpoints in Swagger-UI using the OpenAPI annotation.</p>\n<p><strong>Updated</strong>\nThe contents of my <code>application.yaml</code> file looks something like this:</p>\n<pre><code>quarkus:\n  swagger-ui:\n    always-include: true\n    tagsSorter: &quot;alpha&quot;\n    operationsSorter: &quot;alpha&quot;\n  http:\n    cors: true\n    port: 9000\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"score":1,"creation_date":1669924939,"post_id":74647247,"comment_id":131759778,"body_markdown":"Check generated sql with parameters","body":"Check generated sql with parameters"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669925181,"post_id":74647247,"comment_id":131759849,"body_markdown":"What code changes did you make to get it to run with JPA 3.0 and the other versions? You would have had to change from javax to Jakarta.","body":"What code changes did you make to get it to run with JPA 3.0 and the other versions? You would have had to change from javax to Jakarta."},{"owner":{"account_id":3296915,"reputation":586,"user_id":5170417,"accept_rate":100,"display_name":"Francois"},"score":0,"creation_date":1669925839,"post_id":74647247,"comment_id":131760033,"body_markdown":"@Chris Of course I had to replace javax with jakarta, otherwise it wouldn&#39;t compile. I made similar adjustments in the ,`persistence.xml` file. Another change: I had to remove the annotation `@Embedded` in my entities. Normally, this annotation was added when defining `protected MyEmbeddable myEmbeddable`, but the embeddable object was not instanciated, therefore made Hibernate throw a `NullPointerException`.","body":"@Chris Of course I had to replace javax with jakarta, otherwise it wouldn&#39;t compile. I made similar adjustments in the ,<code>persistence.xml</code> file. Another change: I had to remove the annotation <code>@Embedded</code> in my entities. Normally, this annotation was added when defining <code>protected MyEmbeddable myEmbeddable</code>, but the embeddable object was not instanciated, therefore made Hibernate throw a <code>NullPointerException</code>."},{"owner":{"account_id":3296915,"reputation":586,"user_id":5170417,"accept_rate":100,"display_name":"Francois"},"score":0,"creation_date":1669925877,"post_id":74647247,"comment_id":131760048,"body_markdown":"@viking I&#39;ll have a look.","body":"@viking I&#39;ll have a look."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669926686,"post_id":74647247,"comment_id":131760234,"body_markdown":"Removing the Embedded annotation shouldn&#39;t change how Hibernate handles the mapping - and is worth looking into, especially since this mapping is the one that seems to be behaving differently for you. JPA requires providers handle null embedded properties, so this would be a hibernate bug if it is behaving differently with just a javax-&gt;jakarta annotation change, and removing the annotation should have it (according to the spec) default to operate the same as if the @Embedded is there.","body":"Removing the Embedded annotation shouldn&#39;t change how Hibernate handles the mapping - and is worth looking into, especially since this mapping is the one that seems to be behaving differently for you. JPA requires providers handle null embedded properties, so this would be a hibernate bug if it is behaving differently with just a javax-&gt;jakarta annotation change, and removing the annotation should have it (according to the spec) default to operate the same as if the @Embedded is there."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1673374847,"post_id":74647247,"comment_id":132482995,"body_markdown":"This sounds like a bug. Please create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"This sounds like a bug. Please create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."}],"owner":{"account_id":3296915,"reputation":586,"user_id":5170417,"accept_rate":100,"display_name":"Francois"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669922943,"creation_date":1669922943,"question_id":74647247,"body_markdown":"I&#39;ve been trying to update from Hibernate 5.3.18 / Spring JPA 2.1.21 to Hibernate 6.1.5 / Spring JPA 3.0.0. Everything worked well before this update. Some simple tests that have worked so far now fail. Here is one of them that gives me headaches.\r\n\r\nLet&#39;s start with an entity (I&#39;ll skip a thing or two to keep it simple):\r\n```\r\n@Entity\r\n@Table(name=&quot;my_entity&quot;)\r\npublic class MyEntity implements Serializable {\r\n  @Id\r\n  @Column(unique = true, nullable = false)\r\n  private Long id;\r\n\r\n  protected MyEmbeddable myEmbeddable;\r\n\r\n  ...\r\n  /* Some other stuff like equals() and hashcode() */\r\n  ...\r\n\r\n  public MyEmbeddable getMyEmbeddable() {\r\n    return myEmbeddable;\r\n  }\r\n\r\n  public void setMyEmbeddable(MyEmbeddable myEmbeddable) {\r\n    this.myEmbeddable = myEmbeddable;\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@Embeddable\r\npublic class MyEmbeddable implements Serializable {\r\n  @Column(name = &quot;boolean_value&quot;, precision = 1)\r\n  @Convert(converter = BooleanConverter.class)\r\n  private Boolean booleanValue;\r\n\r\n  public Boolean getBooleanValue() {\r\n    return booleanValue;\r\n  }\r\n\r\n  public void setBooleanValue(Boolean booleanValue) {\r\n    this.booleanValue = booleanValue;\r\n  }\r\n}\r\n```\r\nNote that a `BooleanConverter`is defined to map 1/0 to `true`/`false` (legacy database).\r\n\r\n```\r\n@Repository\r\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n  @Query(&quot;SELECT e FROM MyEntity e &quot;\r\n      + &quot;WHERE e.myEmbeddable.booleanValue = :booleanValue&quot;)\r\n  List&lt;MyEntity&gt; findByBooleanValue(@Param(&quot;booleanValue&quot;) Boolean booleanValue);\r\n\r\n  /* The following methods were added for new tests after upgrade. They won&#39;t be kept. */\r\n  List&lt;MyEntity&gt; findByMyEmbeddableBooleanValue(Boolean booleanValue);\r\n\r\n  List&lt;MyEntity&gt; findByMyEmbeddableBooleanValueIsTrue();\r\n\r\n  List&lt;MyEntity&gt; findByMyEmbeddableBooleanValueIsFalse();\r\n}\r\n```\r\n\r\nNow, before the update, `MyEntityRepository.findByBooleanValue()` was working perfectly. I created the following test:\r\n\r\n 1. A `MyEntity` entity was created. Its `MyEmbeddable` object was created with `booleanValue = true`.\r\n 2. The entity was saved in a database.\r\n 3. A test checked that `MyEntityRepository.findByBooleanValue(true)` was returning a list with one entity.\r\n\r\nSince the update, this test failed. What I&#39;ve observed so far when debugging this test:\r\n\r\n 1. Calling `MyEntityRepository.findByBooleanValue(true)` returns an empty list.\r\n 2. Calling `MyEntityRepository.findAll()` returns a list with the entity. In its embedded object, `booleanValue = true`.\r\n 2. Calls to `MyEntityRepository.findByMyEmbeddableBooleanValue(true)` or `MyEntityRepository.findByMyEmbeddableBooleanValueIsTrue()` return empty lists.\r\n 3. Calls to `MyEntityRepository.findByMyEmbeddableBooleanValue(false)` or `MyEntityRepository.findByMyEmbeddableBooleanValueIsFalse()` return a list with the entity (with `myEmbeddable.booleanValue = true`).\r\n\r\nAnd, to make it more complicated, if I change the test and set `myEntity.myEmbeddable.booleanValue = false`, the test runs with success.\r\n\r\nMy question: what am I missing here? Why can&#39;t `true` work in these tests? Any clues?\r\n\r\nRegards\r\n\r\nFrancois","title":"JPA : Query with boolean argument in embeddable object not working","body":"<p>I've been trying to update from Hibernate 5.3.18 / Spring JPA 2.1.21 to Hibernate 6.1.5 / Spring JPA 3.0.0. Everything worked well before this update. Some simple tests that have worked so far now fail. Here is one of them that gives me headaches.</p>\n<p>Let's start with an entity (I'll skip a thing or two to keep it simple):</p>\n<pre><code>@Entity\n@Table(name=&quot;my_entity&quot;)\npublic class MyEntity implements Serializable {\n  @Id\n  @Column(unique = true, nullable = false)\n  private Long id;\n\n  protected MyEmbeddable myEmbeddable;\n\n  ...\n  /* Some other stuff like equals() and hashcode() */\n  ...\n\n  public MyEmbeddable getMyEmbeddable() {\n    return myEmbeddable;\n  }\n\n  public void setMyEmbeddable(MyEmbeddable myEmbeddable) {\n    this.myEmbeddable = myEmbeddable;\n  }\n}\n</code></pre>\n<pre><code>@Embeddable\npublic class MyEmbeddable implements Serializable {\n  @Column(name = &quot;boolean_value&quot;, precision = 1)\n  @Convert(converter = BooleanConverter.class)\n  private Boolean booleanValue;\n\n  public Boolean getBooleanValue() {\n    return booleanValue;\n  }\n\n  public void setBooleanValue(Boolean booleanValue) {\n    this.booleanValue = booleanValue;\n  }\n}\n</code></pre>\n<p>Note that a <code>BooleanConverter</code>is defined to map 1/0 to <code>true</code>/<code>false</code> (legacy database).</p>\n<pre><code>@Repository\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n  @Query(&quot;SELECT e FROM MyEntity e &quot;\n      + &quot;WHERE e.myEmbeddable.booleanValue = :booleanValue&quot;)\n  List&lt;MyEntity&gt; findByBooleanValue(@Param(&quot;booleanValue&quot;) Boolean booleanValue);\n\n  /* The following methods were added for new tests after upgrade. They won't be kept. */\n  List&lt;MyEntity&gt; findByMyEmbeddableBooleanValue(Boolean booleanValue);\n\n  List&lt;MyEntity&gt; findByMyEmbeddableBooleanValueIsTrue();\n\n  List&lt;MyEntity&gt; findByMyEmbeddableBooleanValueIsFalse();\n}\n</code></pre>\n<p>Now, before the update, <code>MyEntityRepository.findByBooleanValue()</code> was working perfectly. I created the following test:</p>\n<ol>\n<li>A <code>MyEntity</code> entity was created. Its <code>MyEmbeddable</code> object was created with <code>booleanValue = true</code>.</li>\n<li>The entity was saved in a database.</li>\n<li>A test checked that <code>MyEntityRepository.findByBooleanValue(true)</code> was returning a list with one entity.</li>\n</ol>\n<p>Since the update, this test failed. What I've observed so far when debugging this test:</p>\n<ol>\n<li>Calling <code>MyEntityRepository.findByBooleanValue(true)</code> returns an empty list.</li>\n<li>Calling <code>MyEntityRepository.findAll()</code> returns a list with the entity. In its embedded object, <code>booleanValue = true</code>.</li>\n<li>Calls to <code>MyEntityRepository.findByMyEmbeddableBooleanValue(true)</code> or <code>MyEntityRepository.findByMyEmbeddableBooleanValueIsTrue()</code> return empty lists.</li>\n<li>Calls to <code>MyEntityRepository.findByMyEmbeddableBooleanValue(false)</code> or <code>MyEntityRepository.findByMyEmbeddableBooleanValueIsFalse()</code> return a list with the entity (with <code>myEmbeddable.booleanValue = true</code>).</li>\n</ol>\n<p>And, to make it more complicated, if I change the test and set <code>myEntity.myEmbeddable.booleanValue = false</code>, the test runs with success.</p>\n<p>My question: what am I missing here? Why can't <code>true</code> work in these tests? Any clues?</p>\n<p>Regards</p>\n<p>Francois</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1633585557,"post_id":69475808,"comment_id":122799673,"body_markdown":"The best way to start debugging is to start stepping through each iteration of the loop. If `n` is 100, what is `n % 10`?  Now let&#39;s subtract 1, now `n` is 99.  What is `n % 10` now?  Is it less than 1?  Is the while loop condition satisfied?  Maybe we need to revisit the while loop condition.  And, while you&#39;re rethinking your strategy, you might notice that you need to count up, not down.  You&#39;ll need to keep track of the counter and the limit.  That means you need two variables now.","body":"The best way to start debugging is to start stepping through each iteration of the loop. If <code>n</code> is 100, what is <code>n % 10</code>?  Now let&#39;s subtract 1, now <code>n</code> is 99.  What is <code>n % 10</code> now?  Is it less than 1?  Is the while loop condition satisfied?  Maybe we need to revisit the while loop condition.  And, while you&#39;re rethinking your strategy, you might notice that you need to count up, not down.  You&#39;ll need to keep track of the counter and the limit.  That means you need two variables now."}],"answers":[{"comments":[{"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"score":0,"creation_date":1633586996,"post_id":69475930,"comment_id":122800013,"body_markdown":"The numbers are to be displayed on a single line with a space so you do not have to use `println()`. Instead, use `print()` only...","body":"The numbers are to be displayed on a single line with a space so you do not have to use <code>println()</code>. Instead, use <code>print()</code> only..."}],"tags":[],"owner":{"account_id":16097103,"reputation":81,"user_id":11618993,"display_name":"Rajib_119"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633588346,"creation_date":1633584994,"answer_id":69475930,"question_id":69475808,"body_markdown":"There are many solutions, you can do it with help of an extra variable.\r\n\r\n    Scanner in = new Scanner(System.in);\r\n    System.out.print(&quot;n: &quot;);\r\n    int n = in.nextInt();\r\n    int iter = 10;\r\n    while(iter &lt; n)\r\n    {\r\n        System.out.print(iter + &quot; &quot;);\r\n        iter += 10;\r\n    }\r\n\r\n ","title":"Write a while loop that prints all positive numbers that are divisible by 10 and less than a given number n","body":"<p>There are many solutions, you can do it with help of an extra variable.</p>\n<pre><code>Scanner in = new Scanner(System.in);\nSystem.out.print(&quot;n: &quot;);\nint n = in.nextInt();\nint iter = 10;\nwhile(iter &lt; n)\n{\n    System.out.print(iter + &quot; &quot;);\n    iter += 10;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633586936,"creation_date":1633586936,"answer_id":69476188,"question_id":69475808,"body_markdown":" I guess you were trying to make the program without using an extra variable, but you have to take an extra variable if you want all the numbers to be displayed in increasing order. You can try this code snippet out. It will work. \r\n\r\n      Scanner in = new Scanner(System.in);\r\n      System.out.print(&quot;n: &quot;);\r\n      int n = in.nextInt();\r\n      int a = 10;\r\n      while(a &lt;= n){\r\n        System.out.print(a+&quot; &quot;);\r\n        a += 10;\r\n      }","title":"Write a while loop that prints all positive numbers that are divisible by 10 and less than a given number n","body":"<p>I guess you were trying to make the program without using an extra variable, but you have to take an extra variable if you want all the numbers to be displayed in increasing order. You can try this code snippet out. It will work.</p>\n<pre><code>  Scanner in = new Scanner(System.in);\n  System.out.print(&quot;n: &quot;);\n  int n = in.nextInt();\n  int a = 10;\n  while(a &lt;= n){\n    System.out.print(a+&quot; &quot;);\n    a += 10;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27115132,"reputation":1,"user_id":20659609,"display_name":"Luis Chavez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669922692,"creation_date":1669922667,"answer_id":74647206,"question_id":69475808,"body_markdown":"Not in Java, but here is my solution in C++ where I just decrement n by 10 because it needs to round down.\r\n\r\n    #include &lt;iostream&gt;\r\n    \r\n    using namespace std;\r\n    \r\n    int main()\r\n    {\r\n       cout &lt;&lt; &quot;n: &quot; &lt;&lt; endl;\r\n       int n; \r\n       cin &gt;&gt; n;\r\n    \r\n       int count = 0;\r\n       while (count &lt; (n-10))\r\n       {  \r\n          count += 10;\r\n          \r\n           cout &lt;&lt; count &quot; &quot;;\r\n       }\r\n    \r\n       cout &lt;&lt; endl;\r\n        \r\n       return 0;\r\n    }","title":"Write a while loop that prints all positive numbers that are divisible by 10 and less than a given number n","body":"<p>Not in Java, but here is my solution in C++ where I just decrement n by 10 because it needs to round down.</p>\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n   cout &lt;&lt; &quot;n: &quot; &lt;&lt; endl;\n   int n; \n   cin &gt;&gt; n;\n\n   int count = 0;\n   while (count &lt; (n-10))\n   {  \n      count += 10;\n      \n       cout &lt;&lt; count &quot; &quot;;\n   }\n\n   cout &lt;&lt; endl;\n    \n   return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":11717239,"reputation":55,"user_id":8577319,"display_name":"Marshall McCurdy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3583,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1669922692,"creation_date":1633583923,"question_id":69475808,"body_markdown":"I have this homework problem and I cannot seem to get it at all. the suggested outcome if **n** were to be **100** would be \r\n**10 20 30 40 50 60 70 80 90**\r\n\r\nI know my question is probably really stupid but I cannot seem to understand this for the life of me. \r\n\r\n\r\n \r\n\r\n    Scanner in = new Scanner(System.in);\r\n          System.out.print(&quot;n: &quot;);\r\n          int n = in.nextInt();\r\n          \r\n          while (n % 10 &lt; 1)\r\n          {\r\n             System.out.print(n + &quot; &quot;);\r\n             n = n - 1;\r\n          }\r\n          System.out.println(); \r\n\r\n","title":"Write a while loop that prints all positive numbers that are divisible by 10 and less than a given number n","body":"<p>I have this homework problem and I cannot seem to get it at all. the suggested outcome if <strong>n</strong> were to be <strong>100</strong> would be\n<strong>10 20 30 40 50 60 70 80 90</strong></p>\n<p>I know my question is probably really stupid but I cannot seem to understand this for the life of me.</p>\n<pre><code>Scanner in = new Scanner(System.in);\n      System.out.print(&quot;n: &quot;);\n      int n = in.nextInt();\n      \n      while (n % 10 &lt; 1)\n      {\n         System.out.print(n + &quot; &quot;);\n         n = n - 1;\n      }\n      System.out.println(); \n</code></pre>\n"},{"tags":["java","oracle","spring-boot"],"comments":[{"owner":{"account_id":15563381,"reputation":1306,"user_id":11227919,"display_name":"Himanshu Kandpal"},"score":0,"creation_date":1669911311,"post_id":74644404,"comment_id":131755357,"body_markdown":"If you can modify the column then you can make ALTER TABLE table_name\nADD dat_update  DATE DEFAULT SYSDATE  ON UPDATE  SYSDATE NOT NULL  ;","body":"If you can modify the column then you can make ALTER TABLE table_name ADD dat_update  DATE DEFAULT SYSDATE  ON UPDATE  SYSDATE NOT NULL  ;"},{"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"score":0,"creation_date":1669911600,"post_id":74644404,"comment_id":131755460,"body_markdown":"Does it work on Oracle DB? I think ON UPDATE is for MYSQL","body":"Does it work on Oracle DB? I think ON UPDATE is for MYSQL"},{"owner":{"account_id":15563381,"reputation":1306,"user_id":11227919,"display_name":"Himanshu Kandpal"},"score":1,"creation_date":1669914626,"post_id":74644404,"comment_id":131756519,"body_markdown":"Yes you are right ON UPDATE is mysql, for update you may need to write a trigger or update the column whenever the row is updated.","body":"Yes you are right ON UPDATE is mysql, for update you may need to write a trigger or update the column whenever the row is updated."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1669919124,"post_id":74644404,"comment_id":131757987,"body_markdown":"Have you tried this annotation `org.hibernate.annotations.UpdateTimestamp`?","body":"Have you tried this annotation <code>org.hibernate.annotations.UpdateTimestamp</code>?"},{"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"score":1,"creation_date":1669922542,"post_id":74644404,"comment_id":131758991,"body_markdown":"I tried but this annotation gets the VM date not the database date","body":"I tried but this annotation gets the VM date not the database date"}],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669922634,"creation_date":1669922634,"answer_id":74647196,"question_id":74644404,"body_markdown":"As far as Oracle is concerned, a database trigger does the job. Here&#39;s an example.\r\n\r\n(Setting date format; you don&#39;t have to do that, but it&#39;ll help us see dates the way we want)\r\n\r\n    SQL&gt; alter session set nls_date_format = &#39;dd.mm.yyyy hh24:mi:ss&#39;;\r\n    \r\n    Session altered.\r\n    \r\n    SQL&gt; create table test\r\n      2    (id         number generated always as identity,\r\n      3     name       varchar2(10),\r\n      4     dat_update date\r\n      5    );\r\n    \r\n    Table created.\r\n    \r\n    SQL&gt; create or replace trigger trg_biu_test\r\n      2    before insert or update on test\r\n      3    for each row\r\n      4  begin\r\n      5    :new.dat_update := sysdate;\r\n      6  end;\r\n      7  /\r\n    \r\n    Trigger created.\r\n    \r\nLet&#39;s test it:\r\n\r\n    SQL&gt; insert into test (name) values (&#39;Little&#39;);\r\n    \r\n    1 row created.\r\n    \r\n    SQL&gt; select * from test order by id;\r\n    \r\n            ID NAME       DAT_UPDATE\r\n    ---------- ---------- -------------------\r\n             1 Little     01.12.2022 20:22:03\r\n    \r\n    SQL&gt; insert into test (name) values (&#39;Foot&#39;);\r\n    \r\n    1 row created.\r\n    \r\n    SQL&gt; update test set name = &#39;Yasuda&#39; where name = &#39;Little&#39;;\r\n    \r\n    1 row updated.\r\n    \r\n    SQL&gt; select * from test order by id;\r\n    \r\n            ID NAME       DAT_UPDATE\r\n    ---------- ---------- -------------------\r\n             1 Yasuda     01.12.2022 20:22:33\r\n             2 Foot       01.12.2022 20:22:19\r\n    \r\n    SQL&gt;","title":"How to inject database SYSDATE to a column","body":"<p>As far as Oracle is concerned, a database trigger does the job. Here's an example.</p>\n<p>(Setting date format; you don't have to do that, but it'll help us see dates the way we want)</p>\n<pre><code>SQL&gt; alter session set nls_date_format = 'dd.mm.yyyy hh24:mi:ss';\n\nSession altered.\n\nSQL&gt; create table test\n  2    (id         number generated always as identity,\n  3     name       varchar2(10),\n  4     dat_update date\n  5    );\n\nTable created.\n\nSQL&gt; create or replace trigger trg_biu_test\n  2    before insert or update on test\n  3    for each row\n  4  begin\n  5    :new.dat_update := sysdate;\n  6  end;\n  7  /\n\nTrigger created.\n</code></pre>\n<p>Let's test it:</p>\n<pre><code>SQL&gt; insert into test (name) values ('Little');\n\n1 row created.\n\nSQL&gt; select * from test order by id;\n\n        ID NAME       DAT_UPDATE\n---------- ---------- -------------------\n         1 Little     01.12.2022 20:22:03\n\nSQL&gt; insert into test (name) values ('Foot');\n\n1 row created.\n\nSQL&gt; update test set name = 'Yasuda' where name = 'Little';\n\n1 row updated.\n\nSQL&gt; select * from test order by id;\n\n        ID NAME       DAT_UPDATE\n---------- ---------- -------------------\n         1 Yasuda     01.12.2022 20:22:33\n         2 Foot       01.12.2022 20:22:19\n\nSQL&gt;\n</code></pre>\n"}],"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669922634,"creation_date":1669908805,"question_id":74644404,"body_markdown":"I&#39;m trying to inject the database (ORACLE) SYSDATE into a column. I want every time an UPDATE occurs, automatically the column &quot;dat_update&quot; receives the database date.\r\n\r\nI tried using Hibernate @ColumnTransformer but it isn&#39;t working. I&#39;m not sure if this annotation is the best alternative to achieve this.\r\n\r\n\\`\r\n\r\n```\r\n@Column(name = &quot;dat_update&quot;)\r\n@ColumnTransformer(read = &quot;(SELECT SYSDATE FROM DUAL)&quot;, write = &quot;?&quot;)\r\nprivate ZonedDateTime lastUpdatedAt;\r\n```\r\n\r\n\\`","title":"How to inject database SYSDATE to a column","body":"<p>I'm trying to inject the database (ORACLE) SYSDATE into a column. I want every time an UPDATE occurs, automatically the column &quot;dat_update&quot; receives the database date.</p>\n<p>I tried using Hibernate @ColumnTransformer but it isn't working. I'm not sure if this annotation is the best alternative to achieve this.</p>\n<p>`</p>\n<pre><code>@Column(name = &quot;dat_update&quot;)\n@ColumnTransformer(read = &quot;(SELECT SYSDATE FROM DUAL)&quot;, write = &quot;?&quot;)\nprivate ZonedDateTime lastUpdatedAt;\n</code></pre>\n<p>`</p>\n"},{"tags":["java","string","binary"],"comments":[{"owner":{"account_id":26582374,"reputation":548,"user_id":20206840,"display_name":"Robert Bradley"},"score":3,"creation_date":1669918374,"post_id":74646366,"comment_id":131757723,"body_markdown":"Add your code please, I think it will be easy for all of us to solve once you do.","body":"Add your code please, I think it will be easy for all of us to solve once you do."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669921256,"post_id":74646366,"comment_id":131758630,"body_markdown":"&quot;_numbers containing only &#39;O&#39; and &#39;1&#39;_&quot; - Does this question confuse the letter `O` with the digit `0`?","body":"&quot;<i>numbers containing only &#39;O&#39; and &#39;1&#39;</i>&quot; - Does this question confuse the letter <code>O</code> with the digit <code>0</code>?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669921385,"post_id":74646366,"comment_id":131758669,"body_markdown":"You can take the [tour] and read [ask] for general guidance on how to improve your question, so it&#39;s more likely to get helpful answers. For more specific guidance, see [mre] and maybe also [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822/12567365)","body":"You can take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for general guidance on how to improve your question, so it&#39;s more likely to get helpful answers. For more specific guidance, see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and maybe also <a href=\"https://meta.stackoverflow.com/q/334822/12567365\">How do I ask and answer homework questions?</a>"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":1,"creation_date":1669924637,"post_id":74646366,"comment_id":131759691,"body_markdown":"If the answer you give for &quot;3410&quot; is 1101 + 1100 + 1100 + 0100, and the latter 4 numbers are integers whose digits are only 0 (zero) and 1 (one), then it doesn&#39;t seem to me that thinking in terms of binary values is right. The only reason to think in terms of binary values is that 100 is strangely formatted as 0100 (purposely to throw you off into thinking about binary values?). Certainly, the binary values of 0b0000_1101, 0b0000_1100, 0b0000_1100, 0b0000_0100 don&#39;t add up to 3401 (integer).","body":"If the answer you give for &quot;3410&quot; is 1101 + 1100 + 1100 + 0100, and the latter 4 numbers are integers whose digits are only 0 (zero) and 1 (one), then it doesn&#39;t seem to me that thinking in terms of binary values is right. The only reason to think in terms of binary values is that 100 is strangely formatted as 0100 (purposely to throw you off into thinking about binary values?). Certainly, the binary values of 0b0000_1101, 0b0000_1100, 0b0000_1100, 0b0000_0100 don&#39;t add up to 3401 (integer)."},{"owner":{"account_id":27114382,"reputation":1,"user_id":20659001,"display_name":"Aman Singh"},"score":0,"creation_date":1669926724,"post_id":74646366,"comment_id":131760243,"body_markdown":"The Input is 3027 &amp; the op is 3 .. and similarly for 3401 .. is 4 but if I’m considering the basic math with each column of ones and zeroes how come 3027 is returning 3 … so if we consider this then … 1011 + 1011 + 1001 ?? how it will ad upto 7 ?? .. or is it being carried forward or ignored ?","body":"The Input is 3027 &amp; the op is 3 .. and similarly for 3401 .. is 4 but if I’m considering the basic math with each column of ones and zeroes how come 3027 is returning 3 … so if we consider this then … 1011 + 1011 + 1001 ?? how it will ad upto 7 ?? .. or is it being carried forward or ignored ?"}],"answers":[{"tags":[],"owner":{"account_id":19826676,"reputation":11,"user_id":14522122,"display_name":"gigaby8"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669922034,"creation_date":1669922034,"answer_id":74647083,"question_id":74646366,"body_markdown":"First, we create an array containing each digit of the number. To create minimum number of strings, we have to create the largest number. For this, we use every available digit to form a string. If a digit is used,  we append &#39;1&#39; to the string otherwise &#39;0&#39;. Then we decrease the used digits by 1 and decrease the number by the formed number. We repeat this process until the number is 0.\r\n\r\n```\r\nScanner sc  = new Scanner(System.in);\r\n        String s = sc.next();\r\n        int len = s.length();\r\n        int[] arr = new int[len];\r\n        for(int i=0;i&lt;len;i++){\r\n            arr[i] = Integer.parseInt(String.valueOf(s.charAt(i)));\r\n        }\r\n\r\n        int num = Integer.parseInt(s);\r\n        while(num&gt;0){\r\n            StringBuilder temp = new StringBuilder();\r\n            for(int i=0;i&lt;len;i++){\r\n                if(arr[i]&gt;0){\r\n                    temp.append(1);\r\n                } else {\r\n                    temp.append(0);\r\n                }\r\n                arr[i]--;\r\n            }\r\n            System.out.println(temp);\r\n            int var = Integer.parseInt(temp.toString());\r\n            num-=var;\r\n        }\r\n```","title":"How to generate a string by adding the numbers that only contains 0 &amp; 1","body":"<p>First, we create an array containing each digit of the number. To create minimum number of strings, we have to create the largest number. For this, we use every available digit to form a string. If a digit is used,  we append '1' to the string otherwise '0'. Then we decrease the used digits by 1 and decrease the number by the formed number. We repeat this process until the number is 0.</p>\n<pre><code>Scanner sc  = new Scanner(System.in);\n        String s = sc.next();\n        int len = s.length();\n        int[] arr = new int[len];\n        for(int i=0;i&lt;len;i++){\n            arr[i] = Integer.parseInt(String.valueOf(s.charAt(i)));\n        }\n\n        int num = Integer.parseInt(s);\n        while(num&gt;0){\n            StringBuilder temp = new StringBuilder();\n            for(int i=0;i&lt;len;i++){\n                if(arr[i]&gt;0){\n                    temp.append(1);\n                } else {\n                    temp.append(0);\n                }\n                arr[i]--;\n            }\n            System.out.println(temp);\n            int var = Integer.parseInt(temp.toString());\n            num-=var;\n        }\n</code></pre>\n"}],"owner":{"account_id":27114382,"reputation":1,"user_id":20659001,"display_name":"Aman Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1186,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669922034,"creation_date":1669918176,"question_id":74646366,"body_markdown":"Given A String(S) as an Input you need to generate the String by adding numbers that only contains &#39;O&#39; and &#39;1&#39; you need to find the minimum numbers containing only &#39;O&#39; and &#39;1&#39; that needs to be added to generate String S.\r\n\r\nInput: 3401\r\nTo generate this number, we need to add these four\r\nnumbers: 1101 + 1100 + 1100 + 0100 = 3401\r\nInput\r\nOutput\r\n3027\r\n3\r\n3401\r\n4\r\n\r\nI tired to solve it by taking input as int and breaking it into binary and then reading it as binary but couldn’t able to do it so","title":"How to generate a string by adding the numbers that only contains 0 &amp; 1","body":"<p>Given A String(S) as an Input you need to generate the String by adding numbers that only contains 'O' and '1' you need to find the minimum numbers containing only 'O' and '1' that needs to be added to generate String S.</p>\n<p>Input: 3401\nTo generate this number, we need to add these four\nnumbers: 1101 + 1100 + 1100 + 0100 = 3401\nInput\nOutput\n3027\n3\n3401\n4</p>\n<p>I tired to solve it by taking input as int and breaking it into binary and then reading it as binary but couldn’t able to do it so</p>\n"},{"tags":["java","design-patterns","jms","activemq"],"answers":[{"comments":[{"owner":{"display_name":"user6209005"},"score":0,"creation_date":1487342109,"post_id":42300275,"comment_id":71755516,"body_markdown":"The second option is like iv&#39;e already added the &#39;MessageType&#39; but still ended up in a huge switch case. But about the first option, I have 1 queue that the server is communicating with my client (each client has it&#39;s own clientId) and my problem is more at the message handling not at sending, and I need to use only jms and active mq (it&#39;s part of a project ;) )","body":"The second option is like iv&#39;e already added the &#39;MessageType&#39; but still ended up in a huge switch case. But about the first option, I have 1 queue that the server is communicating with my client (each client has it&#39;s own clientId) and my problem is more at the message handling not at sending, and I need to use only jms and active mq (it&#39;s part of a project ;) )"},{"owner":{"display_name":"user6209005"},"score":0,"creation_date":1487343488,"post_id":42300275,"comment_id":71756516,"body_markdown":"Iv&#39;e read about the Chain Of Responsibility, and it seems really interesting, btw if I need a topic sender/receiver for chat and queue sender/receiver for the rest, they still need to be under the same handler? or each one will have it&#39;s own &quot;Communicator&quot; ?","body":"Iv&#39;e read about the Chain Of Responsibility, and it seems really interesting, btw if I need a topic sender/receiver for chat and queue sender/receiver for the rest, they still need to be under the same handler? or each one will have it&#39;s own &quot;Communicator&quot; ?"},{"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"score":0,"creation_date":1487343690,"post_id":42300275,"comment_id":71756683,"body_markdown":"Depends on your structure, both are possible. You can even have two handler that share the same &quot;communicator&quot;. But a good design principle is &quot;separation of concern&quot;...","body":"Depends on your structure, both are possible. You can even have two handler that share the same &quot;communicator&quot;. But a good design principle is &quot;separation of concern&quot;..."},{"owner":{"display_name":"user6209005"},"score":0,"creation_date":1487343813,"post_id":42300275,"comment_id":71756774,"body_markdown":"I&#39;ll keep that in mind while refactoring my current code. Thank you very much!","body":"I&#39;ll keep that in mind while refactoring my current code. Thank you very much!"},{"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"score":0,"creation_date":1487344338,"post_id":42300275,"comment_id":71757187,"body_markdown":"You&#39;re welcome. Do not forget to accept the answer if it was usefull... ;)","body":"You&#39;re welcome. Do not forget to accept the answer if it was usefull... ;)"}],"tags":[],"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487343113,"creation_date":1487341414,"answer_id":42300275,"question_id":42299844,"body_markdown":"You can use different topics/queues for different message categories.\r\n\r\nYou can also add properties to your message.\r\n\r\nYou can use a framework like spring that can do this for you, specially ``MessageListenerAdapter``. Have a look at [spring jms][1].\r\n\r\nEDIT :\r\n\r\nI can see some Design Pattern you can have a look at : `Chain of Responsability`, maybe `Observer` or `EventListener`. \r\n\r\nThe point here is that you have only one *handler*, that will handle all kinds of messages, read a property and then decide how to handle it. The solution may be to have many *handlers*, one by kind of message, and to find a way to route messages to the right handler.\r\n\r\n`Chain of Responsability` can do the trick here : pass the message to the first handler of the chain, if it is concerned by the message then it can handle it, otherwise it will pass the message to the next handler, and so on.\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jms.html","title":"Handling a big amount of JMS message types","body":"<p>You can use different topics/queues for different message categories.</p>\n\n<p>You can also add properties to your message.</p>\n\n<p>You can use a framework like spring that can do this for you, specially <code>MessageListenerAdapter</code>. Have a look at <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jms.html\" rel=\"nofollow noreferrer\">spring jms</a>.</p>\n\n<p>EDIT :</p>\n\n<p>I can see some Design Pattern you can have a look at : <code>Chain of Responsability</code>, maybe <code>Observer</code> or <code>EventListener</code>. </p>\n\n<p>The point here is that you have only one <em>handler</em>, that will handle all kinds of messages, read a property and then decide how to handle it. The solution may be to have many <em>handlers</em>, one by kind of message, and to find a way to route messages to the right handler.</p>\n\n<p><code>Chain of Responsability</code> can do the trick here : pass the message to the first handler of the chain, if it is concerned by the message then it can handle it, otherwise it will pass the message to the next handler, and so on.</p>\n"},{"comments":[{"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"score":0,"creation_date":1487418726,"post_id":42309082,"comment_id":71783275,"body_markdown":"This is the proper way to route messages on the same queue with different types.","body":"This is the proper way to route messages on the same queue with different types."}],"tags":[],"owner":{"account_id":5238010,"reputation":2834,"user_id":4185994,"accept_rate":56,"display_name":"titou10"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669921696,"creation_date":1487373677,"answer_id":42309082,"question_id":42299844,"body_markdown":"You can set a JMS property with the value of your &quot;MessageType&quot; enum. `JMSType` is a built-in property that you can use for that or you can add your own property to every message (with a name like &quot;MessageType&quot;) \r\n\r\nOn the client side, read the message and test the value of that property and convert it back to the enum in a switch statement then perform the casting of the message based on the object of the class associated with the message, Use only one topic, each client subscribing to the topic. \r\n\r\nInstead of the switch statement, you can have one listener per message type based on a JMS selector, each one selecting only one value of the JMS property (ie MessageType). All depends of your use case of course (strict ordering etc.)","title":"Handling a big amount of JMS message types","body":"<p>You can set a JMS property with the value of your &quot;MessageType&quot; enum. <code>JMSType</code> is a built-in property that you can use for that or you can add your own property to every message (with a name like &quot;MessageType&quot;)</p>\n<p>On the client side, read the message and test the value of that property and convert it back to the enum in a switch statement then perform the casting of the message based on the object of the class associated with the message, Use only one topic, each client subscribing to the topic.</p>\n<p>Instead of the switch statement, you can have one listener per message type based on a JMS selector, each one selecting only one value of the JMS property (ie MessageType). All depends of your use case of course (strict ordering etc.)</p>\n"}],"owner":{"display_name":"user6209005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42309082,"answer_count":2,"score":1,"last_activity_date":1669921696,"creation_date":1487340190,"question_id":42299844,"body_markdown":"i&#39;m new to jms, and i&#39;m currently designing a BattleShip game.\r\nI&#39;m using jms with activemq for the communication between them, so far i made 4 classes for jms communication which are Topic and Queue receivers and senders with simple methods of changing destination and sending.\r\n\r\nNow i&#39;m facing a problem when want to handle these messages,\r\nI&#39;ve decided every message will be delivered via ObjectMessage and the inner object will tell the listener how to handle it.\r\n\r\nI have 5 different categories for messages :\r\nAuthentication,\r\nData (Such as highscores, replays etc),\r\nInGameMessages (ShipRegistration, TurnUpdate and so on),\r\nChatMessage,\r\nMatchMakingMessages (Only GameSearch and GameSearchCancel),\r\n\r\nSo i thought it will be a good idea to add a MessageType enum to each message,\r\nbut eventually I ended up writing the listener with over than 20 cases at the switch statement and with a huge amount of class castings.\r\n\r\nNow I want to write it all over again, but i&#39;m still stuck on the message handling since I can&#39;t find a different idea, or any design pattern which can handle this issue.\r\n\r\nAny thoughts?","title":"Handling a big amount of JMS message types","body":"<p>i'm new to jms, and i'm currently designing a BattleShip game.\nI'm using jms with activemq for the communication between them, so far i made 4 classes for jms communication which are Topic and Queue receivers and senders with simple methods of changing destination and sending.</p>\n\n<p>Now i'm facing a problem when want to handle these messages,\nI've decided every message will be delivered via ObjectMessage and the inner object will tell the listener how to handle it.</p>\n\n<p>I have 5 different categories for messages :\nAuthentication,\nData (Such as highscores, replays etc),\nInGameMessages (ShipRegistration, TurnUpdate and so on),\nChatMessage,\nMatchMakingMessages (Only GameSearch and GameSearchCancel),</p>\n\n<p>So i thought it will be a good idea to add a MessageType enum to each message,\nbut eventually I ended up writing the listener with over than 20 cases at the switch statement and with a huge amount of class castings.</p>\n\n<p>Now I want to write it all over again, but i'm still stuck on the message handling since I can't find a different idea, or any design pattern which can handle this issue.</p>\n\n<p>Any thoughts?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","autowired"],"comments":[{"owner":{"account_id":17884643,"reputation":226,"user_id":12992618,"display_name":"rakesh"},"score":0,"creation_date":1669911197,"post_id":74644746,"comment_id":131755320,"body_markdown":"Could you please update your question with the methods in `CandidateRepository`?","body":"Could you please update your question with the methods in <code>CandidateRepository</code>?"},{"owner":{"account_id":15877959,"reputation":1,"user_id":11456587,"display_name":"Arthur Konrad"},"score":0,"creation_date":1669911537,"post_id":74644746,"comment_id":131755438,"body_markdown":"I&#39;m not implementing any method in CandidateRepository","body":"I&#39;m not implementing any method in CandidateRepository"},{"owner":{"account_id":17884643,"reputation":226,"user_id":12992618,"display_name":"rakesh"},"score":0,"creation_date":1669912085,"post_id":74644746,"comment_id":131755631,"body_markdown":"I think this is similar to this question. Could you please check?  https://stackoverflow.com/questions/29221645/cant-autowire-repository-annotated-interface-in-spring-boot","body":"I think this is similar to this question. Could you please check?  <a href=\"https://stackoverflow.com/questions/29221645/cant-autowire-repository-annotated-interface-in-spring-boot\" title=\"cant autowire repository annotated interface in spring boot\">stackoverflow.com/questions/29221645/&hellip;</a>"},{"owner":{"account_id":15877959,"reputation":1,"user_id":11456587,"display_name":"Arthur Konrad"},"score":0,"creation_date":1669912163,"post_id":74644746,"comment_id":131755662,"body_markdown":"As I said, I&#39;ve tried all solutions in this post and similar. @EnableJpaRepositories(&quot;&quot;)\n@EntityScan(&quot;&quot;) didn&#39;t work for me.","body":"As I said, I&#39;ve tried all solutions in this post and similar. @EnableJpaRepositories(&quot;&quot;) @EntityScan(&quot;&quot;) didn&#39;t work for me."}],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669921009,"creation_date":1669921009,"answer_id":74646889,"question_id":74644746,"body_markdown":"I haven&#39;t worked with Spring Data for quite a while, but the web suggests that you need to modify your service class to include the ```@PersistenceContext``` annotation.\r\n\r\n\r\n```\r\n@Service\r\npublic class CandidateServiceImpl implements  CandidateService {\r\n\r\n\t@PersistenceContext\r\n\tprivate EntityManager entityManager;\r\n\r\n...\r\n```\r\nAn example: [How to get JPA EntityManager in Spring Boot][1]\r\n\r\n\r\n  [1]: https://javatute.com/jpa/how-to-get-jpa-entitymanager-in-spring-boot/","title":"Spring Boot autowire not working. Required bean, of type that could not found","body":"<p>I haven't worked with Spring Data for quite a while, but the web suggests that you need to modify your service class to include the <code>@PersistenceContext</code> annotation.</p>\n<pre><code>@Service\npublic class CandidateServiceImpl implements  CandidateService {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n...\n</code></pre>\n<p>An example: <a href=\"https://javatute.com/jpa/how-to-get-jpa-entitymanager-in-spring-boot/\" rel=\"nofollow noreferrer\">How to get JPA EntityManager in Spring Boot</a></p>\n"}],"owner":{"account_id":15877959,"reputation":1,"user_id":11456587,"display_name":"Arthur Konrad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669921009,"creation_date":1669910290,"question_id":74644746,"body_markdown":"I&#39;m getting the following error when using autowire in spring boot\r\n\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField candidateRepository in io.xgeek.interviewercalendarapi.service.CandidateServiceImpl required a bean of type &#39;io.xgeek.interviewercalendarapi.repository.CandidateRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\n```\r\n\r\n\r\nThe autowire, is from the ServiceImpl class, who calls the controller\r\n\r\n\r\n```\r\n@Service\r\npublic class CandidateServiceImpl implements  CandidateService{\r\n\r\n    @Autowired\r\n    private CandidateRepository candidateRepository;\r\n\r\n\r\n   // ... interface methods here...\r\n```\r\n\r\n\r\nMy repository interface:\r\n\r\n\r\n```\r\n@Repository\r\npublic interface CandidateRepository extends JpaRepository &lt;Candidate, Long&gt; {\r\n}\r\n```\r\n\r\n\r\nService interface:\r\n\r\n\r\n```\r\npublic interface CandidateService {\r\n\r\n    Candidate saveCandidate(Candidate candidate);\r\n    List&lt;Candidate&gt; fetchCandidateList();\r\n}\r\n```\r\n`\r\n\r\nMain class:\r\n`\r\n```\r\n@SpringBootApplication\r\npublic class InterviewerCalendarApiApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(InterviewerCalendarApiApplication.class, args);\r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\nMy pom.xml dependecies:\r\n\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n   &lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n   \r\n\r\n\r\n\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.24&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\n\r\n\r\n[My project structure](https://i.stack.imgur.com/9taEf.png)\r\n\r\n\r\nI&#39;ve already try everything. The classes surely are in the correct order, they&#39;re inside the packages who are child of the main of the spring boot application. @ComponentScan the packages didn&#39;t work.Scan packages didn&#39;t work. All the notations appear to be right. I&#39;ve searched to every questions of this type and I couldn&#39;t find a solution.","title":"Spring Boot autowire not working. Required bean, of type that could not found","body":"<p>I'm getting the following error when using autowire in spring boot</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField candidateRepository in io.xgeek.interviewercalendarapi.service.CandidateServiceImpl required a bean of type 'io.xgeek.interviewercalendarapi.repository.CandidateRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n\n</code></pre>\n<p>The autowire, is from the ServiceImpl class, who calls the controller</p>\n<pre><code>@Service\npublic class CandidateServiceImpl implements  CandidateService{\n\n    @Autowired\n    private CandidateRepository candidateRepository;\n\n\n   // ... interface methods here...\n</code></pre>\n<p>My repository interface:</p>\n<pre><code>@Repository\npublic interface CandidateRepository extends JpaRepository &lt;Candidate, Long&gt; {\n}\n</code></pre>\n<p>Service interface:</p>\n<pre><code>public interface CandidateService {\n\n    Candidate saveCandidate(Candidate candidate);\n    List&lt;Candidate&gt; fetchCandidateList();\n}\n</code></pre>\n<p>`</p>\n<p>Main class:\n`</p>\n<pre><code>@SpringBootApplication\npublic class InterviewerCalendarApiApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(InterviewerCalendarApiApplication.class, args);\n   }\n\n}\n</code></pre>\n<p>My pom.xml dependecies:</p>\n<pre><code>&lt;dependencies&gt;\n\n&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n   \n\n\n\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.24&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9taEf.png\" rel=\"nofollow noreferrer\">My project structure</a></p>\n<p>I've already try everything. The classes surely are in the correct order, they're inside the packages who are child of the main of the spring boot application. @ComponentScan the packages didn't work.Scan packages didn't work. All the notations appear to be right. I've searched to every questions of this type and I couldn't find a solution.</p>\n"},{"tags":["java","jersey","hk2"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1669827660,"post_id":74629935,"comment_id":131733372,"body_markdown":"Maybe dumb question, but did you try it yet? Your question doesn&#39;t say.","body":"Maybe dumb question, but did you try it yet? Your question doesn&#39;t say."},{"owner":{"account_id":17412189,"reputation":23,"user_id":18029125,"display_name":"simmaa"},"score":0,"creation_date":1669831401,"post_id":74629935,"comment_id":131734606,"body_markdown":"I did. It doesn&#39;t work. Only information could find was this link https://eclipse-ee4j.github.io/glassfish-hk2/inhabitant-generator.html - the paragraph about maven plugin there.  It says something about scanning test sources as well, but the actual xml looks generic with no addittional configuration","body":"I did. It doesn&#39;t work. Only information could find was this link <a href=\"https://eclipse-ee4j.github.io/glassfish-hk2/inhabitant-generator.html\" rel=\"nofollow noreferrer\">eclipse-ee4j.github.io/glassfish-hk2/inhabitant-generator.ht&zwnj;&#8203;ml</a> - the paragraph about maven plugin there.  It says something about scanning test sources as well, but the actual xml looks generic with no addittional configuration"}],"answers":[{"comments":[{"owner":{"account_id":17412189,"reputation":23,"user_id":18029125,"display_name":"simmaa"},"score":0,"creation_date":1669968863,"post_id":74646766,"comment_id":131767882,"body_markdown":"I see, that there are options for command line tool and I asume there are the same options for plugin as well. But there is no info how to manage this params in maven plugin. It is more convenient to do the scan as maven build stage","body":"I see, that there are options for command line tool and I asume there are the same options for plugin as well. But there is no info how to manage this params in maven plugin. It is more convenient to do the scan as maven build stage"}],"tags":[],"owner":{"account_id":3683657,"reputation":2364,"user_id":3067964,"display_name":"jwells131313"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669920328,"creation_date":1669920328,"answer_id":74646766,"question_id":74629935,"body_markdown":"I think the best thing is to use the CommandLine tool over your third-party jar.  It&#39;s on the page you referenced in the comment above.  I&#39;ll past the relevant parts here:\r\n\r\nCommand Line Tool\r\n\r\nThe HK2 Inhabitants Genertor can be run from the command line like this:\r\n\r\njava org.jvnet.hk2.generator.HabitatGenerator\r\n\r\nBy default the HabibatGenerator will attempt to analyze the first element of the classpath and replace that element (if it is a JAR) with a new JAR that has an inhabitants file in it describing all of the classes marked with @Service. If the first element of the classpath is a directory it will attempt to create a new inhabitants file in that directory describing all of the classes marked with @Service.\r\n\r\nYou can modify this behavior by using command line options. Here is the usage statement for HabibatGenerator:\r\n\r\njava org.jvnet.hk2.generator.HabitatGenerator [--file jarFileOrDirectory] [--outjar jarFile] [--locator locatorName] [--verbose]\r\n\r\nThe –file option allows the user to pick a directory or JAR file to analyze for classes marked with @Service.\r\n\r\nThe –outjar option allows the user to pick the output JAR file that the generator should create with the inhabitants file in it.\r\n\r\nThe –locator option allows the user to name the locator that these services should go into. This value is &quot;default&quot; by default.\r\n\r\nThe –verbose option make the generator print extra information as it does its work.\r\n\r\nThis command line utility will call System.exit when it is done with a 0 code if it was able to work properly and a non-zero value if it failed in some way.","title":"Is it possible to scan @Service from another library with HK2?","body":"<p>I think the best thing is to use the CommandLine tool over your third-party jar.  It's on the page you referenced in the comment above.  I'll past the relevant parts here:</p>\n<p>Command Line Tool</p>\n<p>The HK2 Inhabitants Genertor can be run from the command line like this:</p>\n<p>java org.jvnet.hk2.generator.HabitatGenerator</p>\n<p>By default the HabibatGenerator will attempt to analyze the first element of the classpath and replace that element (if it is a JAR) with a new JAR that has an inhabitants file in it describing all of the classes marked with @Service. If the first element of the classpath is a directory it will attempt to create a new inhabitants file in that directory describing all of the classes marked with @Service.</p>\n<p>You can modify this behavior by using command line options. Here is the usage statement for HabibatGenerator:</p>\n<p>java org.jvnet.hk2.generator.HabitatGenerator [--file jarFileOrDirectory] [--outjar jarFile] [--locator locatorName] [--verbose]</p>\n<p>The –file option allows the user to pick a directory or JAR file to analyze for classes marked with @Service.</p>\n<p>The –outjar option allows the user to pick the output JAR file that the generator should create with the inhabitants file in it.</p>\n<p>The –locator option allows the user to name the locator that these services should go into. This value is &quot;default&quot; by default.</p>\n<p>The –verbose option make the generator print extra information as it does its work.</p>\n<p>This command line utility will call System.exit when it is done with a 0 code if it was able to work properly and a non-zero value if it failed in some way.</p>\n"}],"owner":{"account_id":17412189,"reputation":23,"user_id":18029125,"display_name":"simmaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669920328,"creation_date":1669820675,"question_id":74629935,"body_markdown":"I have a service, that uses hk2 Autoscan feature with help of hk2-inhabitant-generator plugin. It works with the classes I have in my source code.\r\nBut is there a way to add packages from dependencies to be scaned as well? \r\nFor example if I have dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;my.dependency&lt;/groupId&gt;\r\n    &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand it contains @Service class. \r\n\r\n\r\n\r\nNow I have to add this class to DI container using binding, but can hk2-inhabitant-generator scan it, so that Autoscan feature would be able to get it from META-INF/... file?","title":"Is it possible to scan @Service from another library with HK2?","body":"<p>I have a service, that uses hk2 Autoscan feature with help of hk2-inhabitant-generator plugin. It works with the classes I have in my source code.\nBut is there a way to add packages from dependencies to be scaned as well?\nFor example if I have dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;my.dependency&lt;/groupId&gt;\n    &lt;artifactId&gt;A&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and it contains @Service class.</p>\n<p>Now I have to add this class to DI container using binding, but can hk2-inhabitant-generator scan it, so that Autoscan feature would be able to get it from META-INF/... file?</p>\n"},{"tags":["java","api","interactive-brokers","tws"],"answers":[{"comments":[{"owner":{"account_id":1972184,"reputation":2531,"user_id":1770836,"accept_rate":50,"display_name":"Avinash"},"score":0,"creation_date":1405071864,"post_id":20553271,"comment_id":38292705,"body_markdown":"Have you tried this with data for futures? I am getting this error eventhough I gave secType as &quot;FUT&quot;","body":"Have you tried this with data for futures? I am getting this error eventhough I gave secType as &quot;FUT&quot;"},{"owner":{"account_id":330362,"reputation":13571,"user_id":654434,"accept_rate":77,"display_name":"FlavorScape"},"score":0,"creation_date":1405375772,"post_id":20553271,"comment_id":38392759,"body_markdown":"I can&#39;t tell what&#39;s wrong unless you show what parameters you&#39;re submitting. There&#39;s a minimum criteria for futures. https://www.interactivebrokers.com/en/software/api/apiguide/java/how_to_determine_a_futures_contract.htm","body":"I can&#39;t tell what&#39;s wrong unless you show what parameters you&#39;re submitting. There&#39;s a minimum criteria for futures. <a href=\"https://www.interactivebrokers.com/en/software/api/apiguide/java/how_to_determine_a_futures_contract.htm\" rel=\"nofollow noreferrer\">interactivebrokers.com/en/software/api/apiguide/java/&hellip;</a>"},{"owner":{"account_id":1972184,"reputation":2531,"user_id":1770836,"accept_rate":50,"display_name":"Avinash"},"score":0,"creation_date":1405493129,"post_id":20553271,"comment_id":38443336,"body_markdown":"Contract contract = new Contract();\ncontract.m_symbol = &quot;C&quot;;\ncontract.m_secType = &quot;FUT&quot;;\ncontract.m_exchange = &quot;CFE&quot;;\ncontract.m_currency = &quot;USD&quot;;\ncontract.m_expiry = &quot;201412&quot;;\n\nm_client.reqMktData(12,contract,&quot;&quot;,FALSE)","body":"Contract contract = new Contract(); contract.m_symbol = &quot;C&quot;; contract.m_secType = &quot;FUT&quot;; contract.m_exchange = &quot;CFE&quot;; contract.m_currency = &quot;USD&quot;; contract.m_expiry = &quot;201412&quot;;  m_client.reqMktData(12,contract,&quot;&quot;,FALSE)"},{"owner":{"account_id":1972184,"reputation":2531,"user_id":1770836,"accept_rate":50,"display_name":"Avinash"},"score":0,"creation_date":1405493254,"post_id":20553271,"comment_id":38443414,"body_markdown":"Ok this is messing up the formatting. I think I will ask another question? Or is  it clear?","body":"Ok this is messing up the formatting. I think I will ask another question? Or is  it clear?"},{"owner":{"account_id":330362,"reputation":13571,"user_id":654434,"accept_rate":77,"display_name":"FlavorScape"},"score":0,"creation_date":1405525113,"post_id":20553271,"comment_id":38464516,"body_markdown":"Shouldn&#39;t your order be more than an empty string?","body":"Shouldn&#39;t your order be more than an empty string?"},{"owner":{"account_id":3457181,"reputation":762,"user_id":2895411,"display_name":"nikolai.serdiuk"},"score":0,"creation_date":1413714528,"post_id":20553271,"comment_id":41540709,"body_markdown":"Contract \tcontract = new Contract();\n\t\tcontract.m_symbol = &quot;USD&quot;;\n\t\tcontract.m_secType = &quot;CASH&quot;;\n\t\tcontract.m_exchange = &quot;IDEALPRO&quot;;\n\t\tcontract.m_currency = &quot;JPY&quot;; this worked in my case","body":"Contract \tcontract = new Contract(); \t\tcontract.m_symbol = &quot;USD&quot;; \t\tcontract.m_secType = &quot;CASH&quot;; \t\tcontract.m_exchange = &quot;IDEALPRO&quot;; \t\tcontract.m_currency = &quot;JPY&quot;; this worked in my case"}],"tags":[],"owner":{"account_id":330362,"reputation":13571,"user_id":654434,"accept_rate":77,"display_name":"FlavorScape"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386879125,"creation_date":1386879125,"answer_id":20553271,"question_id":20552095,"body_markdown":"The key here is that the contractId field should be left blank. Submitting with a contractId causes a security error. ","title":"TWS Interactive Brokers API - How to fix &quot;No security definition has been found for the request&quot;?","body":"<p>The key here is that the contractId field should be left blank. Submitting with a contractId causes a security error. </p>\n"},{"tags":[],"owner":{"account_id":1788040,"reputation":392,"user_id":1629047,"accept_rate":50,"display_name":"Gregism"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456237424,"creation_date":1456237424,"answer_id":35580078,"question_id":20552095,"body_markdown":"In some cases the exchange needs to be left blank.  I had some luck using this lookup: \r\n\r\nhttps://pennies.interactivebrokers.com/cstools/contract_info/v3.9/index.php\r\n\r\nFor instance, for CL:\r\n    \r\n    con.connect()\r\n\r\n    contract = Contract()\r\n    contract.m_symbol = &quot;CL&quot;\r\n    contract.m_exchange = &quot;&quot;\r\n    contract.m_currency = &quot;USD&quot;\r\n    contract.m_secType = &quot;FUT&quot;\r\n\r\n    con.reqContractDetails(1, contract)\r\n\r\n    time.sleep(2)\r\n\r\n    con.disconnect()","title":"TWS Interactive Brokers API - How to fix &quot;No security definition has been found for the request&quot;?","body":"<p>In some cases the exchange needs to be left blank.  I had some luck using this lookup: </p>\n\n<p><a href=\"https://pennies.interactivebrokers.com/cstools/contract_info/v3.9/index.php\" rel=\"nofollow\">https://pennies.interactivebrokers.com/cstools/contract_info/v3.9/index.php</a></p>\n\n<p>For instance, for CL:</p>\n\n<pre><code>con.connect()\n\ncontract = Contract()\ncontract.m_symbol = \"CL\"\ncontract.m_exchange = \"\"\ncontract.m_currency = \"USD\"\ncontract.m_secType = \"FUT\"\n\ncon.reqContractDetails(1, contract)\n\ntime.sleep(2)\n\ncon.disconnect()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9124819,"reputation":31,"user_id":6789005,"display_name":"GGnore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472845911,"creation_date":1472845911,"answer_id":39299806,"question_id":20552095,"body_markdown":"\r\n**Other possible reasons for this error may include:**\r\n\r\n-The ConId should be set to 0.\r\n\r\n-The TradingClass should be left blank.\r\n\r\n-Issues with the LocalSymbol or GlobalSymbol.\r\n\r\n-Other Contract variables were incorrectly set.\r\n\r\n-The specific contract requested doesn&#39;t currently exist on the market.\r\n\r\n","title":"TWS Interactive Brokers API - How to fix &quot;No security definition has been found for the request&quot;?","body":"<p><strong>Other possible reasons for this error may include:</strong></p>\n\n<p>-The ConId should be set to 0.</p>\n\n<p>-The TradingClass should be left blank.</p>\n\n<p>-Issues with the LocalSymbol or GlobalSymbol.</p>\n\n<p>-Other Contract variables were incorrectly set.</p>\n\n<p>-The specific contract requested doesn't currently exist on the market.</p>\n"},{"tags":[],"owner":{"account_id":90876,"reputation":8048,"user_id":249895,"accept_rate":51,"display_name":"Dragos Durlut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563982033,"creation_date":1563981652,"answer_id":57186311,"question_id":20552095,"body_markdown":"I have had the same issue, but it was because I was not filling the values of **SecIdType** and **SecId**.\r\n\r\nHere is an example of the order and request **that worked**:\r\n\r\n    IBApi.Order order = new IBApi.Order()\r\n    {\r\n    \tAccount = OrderCreationConfig.IndividualAccount\r\n    \t, ClientId = OrderCreationConfig.OrderSlaveClientId //1\r\n    \t, Action = orderNodeEntity.OrderAction //&quot;BUY&quot;\r\n    \t, TotalQuantity = orderNodeEntity.NrOfStocks\r\n    \t, OrderType = OrderCreationConfig.OrderTypeLMT //&quot;LMT&quot;\r\n    \t, Tif = OrderCreationConfig.OrderTifGTC //&quot;GTC&quot;\r\n    \t, OcaType = OrderCreationConfig.OcaTypeId //3\r\n    \t, LmtPrice = price\r\n    \t, AuxPrice = 0\r\n    \t, TrailStopPrice = double.MaxValue\r\n    \t, VolatilityType = 0\r\n    \t, DeltaNeutralOrderType = &quot;None&quot;\r\n    };\r\n    \r\n    IBApi.Contract contract = new IBApi.Contract()\r\n    {\r\n    \t  Symbol = orderNodeEntity.Symbol\r\n    \t , SecType = OrderCreationConfig.ContractSecTypeSTK //&quot;STK&quot;\r\n    \t , Strike = 0\r\n    \t , Right = OrderCreationConfig.ContractRightQuestionMark //&quot;?&quot;\r\n    \t , Exchange = OrderCreationConfig.ContractExchangeIsland //&quot;ISLAND&quot;\r\n    \t , Currency = OrderCreationConfig.ContractCurrencyUSD //&quot;USD&quot;\r\n    \t , LocalSymbol = orderNodeEntity.Symbol\r\n    \t , TradingClass = null        \r\n    \t , SecIdType = OrderCreationConfig.ContractSecIdTypeISIN //&quot;ISIN&quot;\r\n    \t , SecId = this.GetISINCode(orderNodeEntity.Symbol) //&quot;US0378331005&quot; \r\n    };\r\n\r\n","title":"TWS Interactive Brokers API - How to fix &quot;No security definition has been found for the request&quot;?","body":"<p>I have had the same issue, but it was because I was not filling the values of <strong>SecIdType</strong> and <strong>SecId</strong>.</p>\n\n<p>Here is an example of the order and request <strong>that worked</strong>:</p>\n\n<pre><code>IBApi.Order order = new IBApi.Order()\n{\n    Account = OrderCreationConfig.IndividualAccount\n    , ClientId = OrderCreationConfig.OrderSlaveClientId //1\n    , Action = orderNodeEntity.OrderAction //\"BUY\"\n    , TotalQuantity = orderNodeEntity.NrOfStocks\n    , OrderType = OrderCreationConfig.OrderTypeLMT //\"LMT\"\n    , Tif = OrderCreationConfig.OrderTifGTC //\"GTC\"\n    , OcaType = OrderCreationConfig.OcaTypeId //3\n    , LmtPrice = price\n    , AuxPrice = 0\n    , TrailStopPrice = double.MaxValue\n    , VolatilityType = 0\n    , DeltaNeutralOrderType = \"None\"\n};\n\nIBApi.Contract contract = new IBApi.Contract()\n{\n      Symbol = orderNodeEntity.Symbol\n     , SecType = OrderCreationConfig.ContractSecTypeSTK //\"STK\"\n     , Strike = 0\n     , Right = OrderCreationConfig.ContractRightQuestionMark //\"?\"\n     , Exchange = OrderCreationConfig.ContractExchangeIsland //\"ISLAND\"\n     , Currency = OrderCreationConfig.ContractCurrencyUSD //\"USD\"\n     , LocalSymbol = orderNodeEntity.Symbol\n     , TradingClass = null        \n     , SecIdType = OrderCreationConfig.ContractSecIdTypeISIN //\"ISIN\"\n     , SecId = this.GetISINCode(orderNodeEntity.Symbol) //\"US0378331005\" \n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3515678,"reputation":2887,"user_id":2939175,"accept_rate":29,"display_name":"Mate Hegedus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566829786,"creation_date":1566829786,"answer_id":57659906,"question_id":20552095,"body_markdown":"It was solved for me by setting the exchange to &quot;SMART&quot;.\r\n\r\nMy use case was getting all the contracts I am currently holding and sending a MOC order. I got the contract using the reqPositions method, but the Contracts in those return values still gave this error.\r\n\r\nSetting exchange to SMART on these contracts solved the issue for me.","title":"TWS Interactive Brokers API - How to fix &quot;No security definition has been found for the request&quot;?","body":"<p>It was solved for me by setting the exchange to \"SMART\".</p>\n\n<p>My use case was getting all the contracts I am currently holding and sending a MOC order. I got the contract using the reqPositions method, but the Contracts in those return values still gave this error.</p>\n\n<p>Setting exchange to SMART on these contracts solved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":343308,"reputation":1442,"user_id":674930,"display_name":"Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609924926,"creation_date":1609924926,"answer_id":65593144,"question_id":20552095,"body_markdown":"Also make sure to pick the correct lastTradeDateOrContractMonth for your contract. I got the same error when trying to sell an option at a maturity date that was not legit...","title":"TWS Interactive Brokers API - How to fix &quot;No security definition has been found for the request&quot;?","body":"<p>Also make sure to pick the correct lastTradeDateOrContractMonth for your contract. I got the same error when trying to sell an option at a maturity date that was not legit...</p>\n"},{"tags":[],"owner":{"account_id":12139743,"reputation":392,"user_id":8864098,"display_name":"lonewolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669919967,"creation_date":1669919967,"answer_id":74646694,"question_id":20552095,"body_markdown":"Instead of SMART use ISLAND into exchange.\r\n\r\n    Contract contract = new Contract();\r\n\r\n    int id = incId;           \r\n\r\n    System.out.println(&quot;Oder Id &quot; + id );\r\n\r\n    // use UTC seconds as transaction id\r\n\r\n    // This is the problem you need to have a blank contractId\r\n    contract.m_conId = 12345;\r\n    contract.m_symbol = signal.symbol;\r\n    contract.m_secType = &quot;STK&quot;;\r\n    contract.m_expiry = &quot;&quot;;\r\n    contract.m_strike = 0;\r\n    contract.m_exchange = &quot;ISLAND&quot;;\r\n    contract.m_currency = &quot;USD&quot;;\r\n\r\n    //etc\r\n\r\n    Order order = new Order();\r\n\r\n    // set order fields\r\n    order.m_account = &quot;XXXXXX&quot;;\r\n    order.m_orderId = id;\r\n    //etc\r\n\r\n    GetInstance().wrapper.m_client.placeOrder(id, contract, order);","title":"TWS Interactive Brokers API - How to fix &quot;No security definition has been found for the request&quot;?","body":"<p>Instead of SMART use ISLAND into exchange.</p>\n<pre><code>Contract contract = new Contract();\n\nint id = incId;           \n\nSystem.out.println(&quot;Oder Id &quot; + id );\n\n// use UTC seconds as transaction id\n\n// This is the problem you need to have a blank contractId\ncontract.m_conId = 12345;\ncontract.m_symbol = signal.symbol;\ncontract.m_secType = &quot;STK&quot;;\ncontract.m_expiry = &quot;&quot;;\ncontract.m_strike = 0;\ncontract.m_exchange = &quot;ISLAND&quot;;\ncontract.m_currency = &quot;USD&quot;;\n\n//etc\n\nOrder order = new Order();\n\n// set order fields\norder.m_account = &quot;XXXXXX&quot;;\norder.m_orderId = id;\n//etc\n\nGetInstance().wrapper.m_client.placeOrder(id, contract, order);\n</code></pre>\n"}],"owner":{"account_id":330362,"reputation":13571,"user_id":654434,"accept_rate":77,"display_name":"FlavorScape"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17455,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1669919967,"creation_date":1386875208,"question_id":20552095,"body_markdown":"Using the Java API (and I guess this goes for any other TWS Interactive Brokers client API) I get an error &quot;No security definition has been found for the request&quot; The FAQ and other resources were resoundingly unhelpful. \r\n\r\n        Contract contract = new Contract();\r\n\t\t\r\n\t    int id = incId;\t\t      \r\n\t\t   \t\r\n\t    System.out.println(&quot;Oder Id &quot; + id );\r\n\r\n        // use UTC seconds as transaction id\r\n        \r\n        // This is the problem you need to have a blank contractId\r\n\t    contract.m_conId = 12345;\r\n        contract.m_symbol = signal.symbol;\r\n        contract.m_secType = &quot;STK&quot;;\r\n        contract.m_expiry = &quot;&quot;;\r\n       \tcontract.m_strike = 0;\r\n        contract.m_exchange = &quot;SMART&quot;;\r\n        contract.m_primaryExch = &quot;ISLAND&quot;;\r\n        contract.m_currency = &quot;USD&quot;;\r\n           \r\n        //etc\r\n        \r\n        Order order = new Order();\r\n        \r\n        // set order fields\r\n        order.m_account = &quot;XXXXXX&quot;;\r\n        order.m_orderId = id;\r\n        //etc\r\n       \r\n        GetInstance().wrapper.m_client.placeOrder(id, contract, order);","title":"TWS Interactive Brokers API - How to fix &quot;No security definition has been found for the request&quot;?","body":"<p>Using the Java API (and I guess this goes for any other TWS Interactive Brokers client API) I get an error \"No security definition has been found for the request\" The FAQ and other resources were resoundingly unhelpful. </p>\n\n<pre><code>    Contract contract = new Contract();\n\n    int id = incId;           \n\n    System.out.println(\"Oder Id \" + id );\n\n    // use UTC seconds as transaction id\n\n    // This is the problem you need to have a blank contractId\n    contract.m_conId = 12345;\n    contract.m_symbol = signal.symbol;\n    contract.m_secType = \"STK\";\n    contract.m_expiry = \"\";\n    contract.m_strike = 0;\n    contract.m_exchange = \"SMART\";\n    contract.m_primaryExch = \"ISLAND\";\n    contract.m_currency = \"USD\";\n\n    //etc\n\n    Order order = new Order();\n\n    // set order fields\n    order.m_account = \"XXXXXX\";\n    order.m_orderId = id;\n    //etc\n\n    GetInstance().wrapper.m_client.placeOrder(id, contract, order);\n</code></pre>\n"},{"tags":["java","microsoft-information-protection","azure-information-protection","mip-sdk"],"answers":[{"tags":[],"owner":{"account_id":12987969,"reputation":754,"user_id":9388190,"display_name":"Tom Moser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669919790,"creation_date":1669919790,"answer_id":74646663,"question_id":74463075,"body_markdown":"You need to install the VC++ Runtime. \r\n\r\nhttps://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170\r\n","title":"MIP Java SDK error: Can&#39;t load D:\\eclipse_workspace\\aip-service\\mip_java.dll","body":"<p>You need to install the VC++ Runtime.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170</a></p>\n"}],"owner":{"account_id":3400010,"reputation":889,"user_id":2852466,"accept_rate":50,"display_name":"Ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669919790,"creation_date":1668612264,"question_id":74463075,"body_markdown":"I am trying to use the MIP java sdk wrapper for reading and writing labels from/to a file from a java program. I have downloaded the mip sdk wrapper and copied all the DLLs to the project root folder. However, when I am trying to run the program, I am getting the following exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Can&#39;t load D:\\eclipse_workspace\\aip-service\\mip_java.dll . Error was:D:\\eclipse_workspace\\aip-service\\mip_java.dll: Can&#39;t find dependent libraries\r\n    \tat com.microsoft.informationprotection.internal.utils.Loader.load(Loader.java:27)\r\n    \tat com.microsoft.informationprotection.internal.utils.Loader.loadNativeLibs(Loader.java:14)\r\n    \tat com.microsoft.informationprotection.MIP.initialize(MIP.java:129)\r\n    \tat com.microsoft.mipsdksample.Action.&lt;init&gt;(Action.java:68)\r\n    \tat com.microsoft.mipsdksample.App.main(App.java:54)\r\n\r\nI tried `Dependencies` software to figure out the dependencies of the `mip_java.dll` and I see it as below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RNFbR.png\r\n\r\nI can&#39;t seem to figure out how to get those dependencies in red in the screenshot. Can someone please help me here?\r\n\r\nP.S: \r\n\r\n 1. Those dll files indicated in the red are not available in the mip java sdk wrapper downloaded\r\n 2. Operating System being used is Windows 11\r\n\r\n","title":"MIP Java SDK error: Can&#39;t load D:\\eclipse_workspace\\aip-service\\mip_java.dll","body":"<p>I am trying to use the MIP java sdk wrapper for reading and writing labels from/to a file from a java program. I have downloaded the mip sdk wrapper and copied all the DLLs to the project root folder. However, when I am trying to run the program, I am getting the following exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Can't load D:\\eclipse_workspace\\aip-service\\mip_java.dll . Error was:D:\\eclipse_workspace\\aip-service\\mip_java.dll: Can't find dependent libraries\n    at com.microsoft.informationprotection.internal.utils.Loader.load(Loader.java:27)\n    at com.microsoft.informationprotection.internal.utils.Loader.loadNativeLibs(Loader.java:14)\n    at com.microsoft.informationprotection.MIP.initialize(MIP.java:129)\n    at com.microsoft.mipsdksample.Action.&lt;init&gt;(Action.java:68)\n    at com.microsoft.mipsdksample.App.main(App.java:54)\n</code></pre>\n<p>I tried <code>Dependencies</code> software to figure out the dependencies of the <code>mip_java.dll</code> and I see it as below</p>\n<p><a href=\"https://i.stack.imgur.com/RNFbR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RNFbR.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't seem to figure out how to get those dependencies in red in the screenshot. Can someone please help me here?</p>\n<p>P.S:</p>\n<ol>\n<li>Those dll files indicated in the red are not available in the mip java sdk wrapper downloaded</li>\n<li>Operating System being used is Windows 11</li>\n</ol>\n"},{"tags":["java","list","arraylist","kotlin","indexoutofboundsexception"],"answers":[{"comments":[{"owner":{"account_id":5371521,"reputation":1822,"user_id":4279905,"accept_rate":76,"display_name":"ste9206"},"score":0,"creation_date":1501059992,"post_id":45321440,"comment_id":77606418,"body_markdown":"thank you, I&#39;ve thought that it was similar to Java, now I&#39;ve understood !","body":"thank you, I&#39;ve thought that it was similar to Java, now I&#39;ve understood !"},{"owner":{"account_id":5371521,"reputation":1822,"user_id":4279905,"accept_rate":76,"display_name":"ste9206"},"score":0,"creation_date":1505810038,"post_id":45321440,"comment_id":79553618,"body_markdown":"sorry for my question, but how to use this structure in a recyclerview? I&#39;ve found the same problem","body":"sorry for my question, but how to use this structure in a recyclerview? I&#39;ve found the same problem"},{"owner":{"account_id":5641500,"reputation":86702,"user_id":4465208,"accept_rate":86,"display_name":"zsmb13"},"score":0,"creation_date":1505832026,"post_id":45321440,"comment_id":79568994,"body_markdown":"I&#39;m not sure what your problem is in regards to a RecyclerView, but you should post it as a new question.","body":"I&#39;m not sure what your problem is in regards to a RecyclerView, but you should post it as a new question."}],"tags":[],"owner":{"account_id":5641500,"reputation":86702,"user_id":4465208,"accept_rate":86,"display_name":"zsmb13"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1501058894,"creation_date":1501057801,"answer_id":45321440,"question_id":45321344,"body_markdown":"Ranges in Kotlin are inclusive, therefore `0..foodObjects!!.size` starts at `0` and ends at `foodObjects.size`, including both ends. This causes the exception when your loop attempts to index the list with its own size, which is one more than the largest valid index.\r\n\r\nTo create a range that doesn&#39;t include the upper bound (like your Java loop), you can use [`until`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/until.html):\r\n\r\n    for(i in 0 until foodObjects!!.size) {\r\n        // ...\r\n    }\r\n\r\n---\r\n\r\nYou could also clean your code up a bit if you did null checks on the collections you&#39;re using up front:\r\n\r\n    if (foodObjects != null &amp;&amp; checked != null &amp;&amp; objectsId != null) {\r\n        for (i in 0 until foodObjects.size) {\r\n            if (checked.get(i) == true) {\r\n                objectsId.add(foodObjects.get(i).objectId)\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // handle the case when one of the lists is null\r\n    }\r\n\r\nAnd to get rid of having to handle indexes altogether, you can use the [`indices`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/indices.html) property of a list (plus I use the indexing operator here instead of `get` calls):\r\n\r\n    for (i in foodObjects.indices) {\r\n        if (checked[i]) {\r\n            objectsId.add(foodObjects[i].objectId)\r\n        }\r\n    }\r\n\r\nYou could also use [`forEachIndexed`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each-indexed.html):\r\n\r\n    foodObjects.forEachIndexed { i, foodObject -&gt;\r\n        if (checked[i]) {\r\n            objectsId.add(foodObject.objectId)\r\n        }\r\n    }","title":"IndexOutOfBoundsException for for-loop in Kotlin","body":"<p>Ranges in Kotlin are inclusive, therefore <code>0..foodObjects!!.size</code> starts at <code>0</code> and ends at <code>foodObjects.size</code>, including both ends. This causes the exception when your loop attempts to index the list with its own size, which is one more than the largest valid index.</p>\n\n<p>To create a range that doesn't include the upper bound (like your Java loop), you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/until.html\" rel=\"noreferrer\"><code>until</code></a>:</p>\n\n<pre><code>for(i in 0 until foodObjects!!.size) {\n    // ...\n}\n</code></pre>\n\n<hr>\n\n<p>You could also clean your code up a bit if you did null checks on the collections you're using up front:</p>\n\n<pre><code>if (foodObjects != null &amp;&amp; checked != null &amp;&amp; objectsId != null) {\n    for (i in 0 until foodObjects.size) {\n        if (checked.get(i) == true) {\n            objectsId.add(foodObjects.get(i).objectId)\n        }\n    }\n}\nelse {\n    // handle the case when one of the lists is null\n}\n</code></pre>\n\n<p>And to get rid of having to handle indexes altogether, you can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/indices.html\" rel=\"noreferrer\"><code>indices</code></a> property of a list (plus I use the indexing operator here instead of <code>get</code> calls):</p>\n\n<pre><code>for (i in foodObjects.indices) {\n    if (checked[i]) {\n        objectsId.add(foodObjects[i].objectId)\n    }\n}\n</code></pre>\n\n<p>You could also use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each-indexed.html\" rel=\"noreferrer\"><code>forEachIndexed</code></a>:</p>\n\n<pre><code>foodObjects.forEachIndexed { i, foodObject -&gt;\n    if (checked[i]) {\n        objectsId.add(foodObject.objectId)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1501059553,"creation_date":1501058741,"answer_id":45321813,"question_id":45321344,"body_markdown":"Take a look at this example from the Kotlin documentation for [ranges][1]:\r\n\r\n    if (i in 1..10) { // equivalent of 1 &lt;= i &amp;&amp; i &lt;= 10\r\n        println(i)\r\n    }\r\n\r\nAs you can see \r\n\r\n&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\r\n\r\nwill be printed. So, the 10 is included.\r\n\r\nThe highest index of your collection `foodObjects` is `(foodObjects.size() - 1)` because it starts with 0.\r\n\r\nSo, to fix your problem, just do this:\r\n\r\n    for(i in  0..(foodObjects.size - 1)) { \r\n       // ...\r\n    }\r\n\r\nA better way to write this would be:\r\n        \r\n    for((i, element) in foodObjects.withIndex()){\r\n       // do something with element\r\n       println(&quot;The index is $i&quot;)\r\n    }\r\n\r\nThis way you have the element and the index at once and don&#39;t need to worry about ranges.\r\n\r\n*I removed the null checks for simplicity.\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/ranges.html","title":"IndexOutOfBoundsException for for-loop in Kotlin","body":"<p>Take a look at this example from the Kotlin documentation for <a href=\"https://kotlinlang.org/docs/reference/ranges.html\" rel=\"nofollow noreferrer\">ranges</a>:</p>\n\n<pre><code>if (i in 1..10) { // equivalent of 1 &lt;= i &amp;&amp; i &lt;= 10\n    println(i)\n}\n</code></pre>\n\n<p>As you can see </p>\n\n<blockquote>\n  <p>1, 2, 3, 4, 5, 6, 7, 8, 9, 10</p>\n</blockquote>\n\n<p>will be printed. So, the 10 is included.</p>\n\n<p>The highest index of your collection <code>foodObjects</code> is <code>(foodObjects.size() - 1)</code> because it starts with 0.</p>\n\n<p>So, to fix your problem, just do this:</p>\n\n<pre><code>for(i in  0..(foodObjects.size - 1)) { \n   // ...\n}\n</code></pre>\n\n<p>A better way to write this would be:</p>\n\n<pre><code>for((i, element) in foodObjects.withIndex()){\n   // do something with element\n   println(\"The index is $i\")\n}\n</code></pre>\n\n<p>This way you have the element and the index at once and don't need to worry about ranges.</p>\n\n<p>*I removed the null checks for simplicity.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669919422,"creation_date":1669919422,"answer_id":74646594,"question_id":45321344,"body_markdown":"Here are various ways to ensure the index is valid:\r\n\r\n```kotlin\r\nif (index in myList.indices) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\n// The rangeUntil operator (..&lt;) is still exprimental in Kotlin 1.7.20\r\nif (index in 0..&lt;myList.size) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\nif (index in 0 until myList.size) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\nif (index in 0..myList.lastIndex) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\nif (index &gt;= 0 &amp;&amp; index &lt;= myList.lastIndex) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\n// Note: elements of the list should be non-null\r\nif (myList.getOrNull(index) != null) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\n// Note: elements of the list should be non-null\r\nmyList.getOrNull(index)?.let { element -&gt;\r\n  // index is valid; use the element\r\n}\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/","title":"IndexOutOfBoundsException for for-loop in Kotlin","body":"<p>Here are various ways to ensure the index is valid:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (index in myList.indices) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// The rangeUntil operator (..&lt;) is still exprimental in Kotlin 1.7.20\nif (index in 0..&lt;myList.size) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (index in 0 until myList.size) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (index in 0..myList.lastIndex) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (index &gt;= 0 &amp;&amp; index &lt;= myList.lastIndex) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Note: elements of the list should be non-null\nif (myList.getOrNull(index) != null) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Note: elements of the list should be non-null\nmyList.getOrNull(index)?.let { element -&gt;\n  // index is valid; use the element\n}\n</code></pre>\n"}],"owner":{"account_id":5371521,"reputation":1822,"user_id":4279905,"accept_rate":76,"display_name":"ste9206"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9275,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":45321440,"answer_count":3,"score":3,"last_activity_date":1669919700,"creation_date":1501057544,"question_id":45321344,"body_markdown":"I have two lists in Kotlin, of the same size, `foodObjects: MutableList&lt;ParseObject&gt;?` and `checked: MutableList&lt;Boolean&gt;?`. I need to do a `for` loop and get the `objectId` from `foodObjects` every time that an element of `checked` is true. So it is this in Java:\r\n\r\n```java\r\nfor (int i = 0; i &lt; foodObjects.size(); i++) {\r\n    // here\r\n}\r\n```\r\n\r\nBut in Kotlin, I don&#39;t know why, there are some problems. In fact, if I do this:\r\n\r\n```kotlin\r\nfor (i in 0..foodObjects!!.size) {\r\n    if (checked?.get(i) == true) {\r\n        objectsId?.add(foodObjects.get(i).objectId)\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve got `IndexOutOfBoundsException`. I don&#39;t know why, it continues the loop also at `foodObjects.size`. I could do it also with `filter` and `map`:\r\n\r\n```kotlin\r\n(0..foodObjects!!.size)\r\n    .filter { checked?.get(it) == true }\r\n    .forEach { objectsId?.add(foodObjects.get(it).objectId) }\r\n```\r\n\r\nbut I&#39;m getting the same error. I use this to stop the error and get it to work:\r\n\r\n```kotlin\r\nfor (i in  0..foodObjects!!.size) {\r\n    if (i &lt; foodObjects.size) {\r\n        if (checked?.get(i) == true) {\r\n            objectsId?.add(foodObjects.get(i).objectId)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEveryone could tell me why in Kotlin I need to do it, when in Java it works good?\r\n","title":"IndexOutOfBoundsException for for-loop in Kotlin","body":"<p>I have two lists in Kotlin, of the same size, <code>foodObjects: MutableList&lt;ParseObject&gt;?</code> and <code>checked: MutableList&lt;Boolean&gt;?</code>. I need to do a <code>for</code> loop and get the <code>objectId</code> from <code>foodObjects</code> every time that an element of <code>checked</code> is true. So it is this in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; foodObjects.size(); i++) {\n    // here\n}\n</code></pre>\n<p>But in Kotlin, I don't know why, there are some problems. In fact, if I do this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>for (i in 0..foodObjects!!.size) {\n    if (checked?.get(i) == true) {\n        objectsId?.add(foodObjects.get(i).objectId)\n    }\n}\n</code></pre>\n<p>I've got <code>IndexOutOfBoundsException</code>. I don't know why, it continues the loop also at <code>foodObjects.size</code>. I could do it also with <code>filter</code> and <code>map</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>(0..foodObjects!!.size)\n    .filter { checked?.get(it) == true }\n    .forEach { objectsId?.add(foodObjects.get(it).objectId) }\n</code></pre>\n<p>but I'm getting the same error. I use this to stop the error and get it to work:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>for (i in  0..foodObjects!!.size) {\n    if (i &lt; foodObjects.size) {\n        if (checked?.get(i) == true) {\n            objectsId?.add(foodObjects.get(i).objectId)\n        }\n    }\n}\n</code></pre>\n<p>Everyone could tell me why in Kotlin I need to do it, when in Java it works good?</p>\n"},{"tags":["java","dynamic","printf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669921675,"post_id":74646295,"comment_id":131758759,"body_markdown":"This appears to be a duplicate of a question you asked already: [create dynamic spacing with printf](https://stackoverflow.com/q/74646224/12567365).","body":"This appears to be a duplicate of a question you asked already: <a href=\"https://stackoverflow.com/q/74646224/12567365\">create dynamic spacing with printf</a>."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669919619,"creation_date":1669919619,"answer_id":74646632,"question_id":74646295,"body_markdown":"You could create the &quot;spacer&quot; dynamically, instead of printing a fixed-length spacer with offset. So instead of\r\n\r\n```java\r\nif(x == 0) System.out.printf(&quot;\\n&quot; + &quot;%2d  %2d\\n&quot;,j,(j+1));\r\nelse System.out.printf(&quot;\\n%&quot; +x + &quot;s%2d  %2d\\n&quot;,space,j,(j+1));\r\n``` \r\n\r\ndo this:\r\n\r\n```java\r\nSystem.out.printf(&quot;%n%s%2d  %2d%n&quot;, space.repeat(x), j, (j + 1));\r\n```\r\n\r\n","title":"dynamic spacing with printf in Java","body":"<p>You could create the &quot;spacer&quot; dynamically, instead of printing a fixed-length spacer with offset. So instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(x == 0) System.out.printf(&quot;\\n&quot; + &quot;%2d  %2d\\n&quot;,j,(j+1));\nelse System.out.printf(&quot;\\n%&quot; +x + &quot;s%2d  %2d\\n&quot;,space,j,(j+1));\n</code></pre>\n<p>do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;%n%s%2d  %2d%n&quot;, space.repeat(x), j, (j + 1));\n</code></pre>\n"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74646632,"answer_count":1,"score":0,"last_activity_date":1669919619,"creation_date":1669917784,"question_id":74646295,"body_markdown":"I have the following code, which works but the dynamic spacing seems pretty cluegy.  Is there a more direct approach?\r\n\r\n    public class BubbleSort{\r\n        static int[] unsorted = new int[10];\r\n        public static void main(String[] args)throws InterruptedException{\r\n              clearScreen();        \r\n              \r\n              for(int i = 0; i &lt; 10; i++){\r\n                  unsorted[i] = (int) (Math.random() * 100);\r\n              }\r\n              \r\n              printArray();\r\n              Thread.sleep(3000);\r\n              int x = 0;\r\n              String space=&quot; &quot;;\r\n              \r\n              \r\n              for (int i = 0; i &lt; unsorted.length - 1; i++){\r\n                  for(int j = 0; j &lt; unsorted.length - 1 - i; j++){\r\n                      \r\n                      if(unsorted[j] &gt; unsorted[j+1]){\r\n                          int temp = unsorted[j];\r\n                          unsorted[j] = unsorted[j+1];\r\n                          unsorted[j+1] = temp;                                            \r\n                      }\r\n                      if(x == 0) System.out.printf(&quot;\\n&quot; + &quot;%2d  %2d\\n&quot;,j,(j+1));\r\n                      else System.out.printf(&quot;\\n%&quot; +x + &quot;s%2d  %2d\\n&quot;,space,j,(j+1));\r\n                      x+=4;\r\n                      if(x &gt; 34)x = 0;\r\n                      printArray();\r\n                      Thread.sleep(1000);\r\n                      System.out.println();\r\n                  }              \r\n              }\r\n        }\r\n    }\r\n           ","title":"dynamic spacing with printf in Java","body":"<p>I have the following code, which works but the dynamic spacing seems pretty cluegy.  Is there a more direct approach?</p>\n<pre><code>public class BubbleSort{\n    static int[] unsorted = new int[10];\n    public static void main(String[] args)throws InterruptedException{\n          clearScreen();        \n          \n          for(int i = 0; i &lt; 10; i++){\n              unsorted[i] = (int) (Math.random() * 100);\n          }\n          \n          printArray();\n          Thread.sleep(3000);\n          int x = 0;\n          String space=&quot; &quot;;\n          \n          \n          for (int i = 0; i &lt; unsorted.length - 1; i++){\n              for(int j = 0; j &lt; unsorted.length - 1 - i; j++){\n                  \n                  if(unsorted[j] &gt; unsorted[j+1]){\n                      int temp = unsorted[j];\n                      unsorted[j] = unsorted[j+1];\n                      unsorted[j+1] = temp;                                            \n                  }\n                  if(x == 0) System.out.printf(&quot;\\n&quot; + &quot;%2d  %2d\\n&quot;,j,(j+1));\n                  else System.out.printf(&quot;\\n%&quot; +x + &quot;s%2d  %2d\\n&quot;,space,j,(j+1));\n                  x+=4;\n                  if(x &gt; 34)x = 0;\n                  printArray();\n                  Thread.sleep(1000);\n                  System.out.println();\n              }              \n          }\n    }\n}\n       \n</code></pre>\n"},{"tags":["java","logging","log4j","log4j2","slf4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1642541867,"post_id":70758259,"comment_id":125097503,"body_markdown":"You must be running with `log4j2.debug=true`, hence the verbose output from the status logger.","body":"You must be running with <code>log4j2.debug=true</code>, hence the verbose output from the status logger."}],"answers":[{"tags":[],"owner":{"account_id":18944718,"reputation":41,"user_id":13823893,"display_name":"KevinAbura"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644812055,"creation_date":1644812055,"answer_id":71107101,"question_id":70758259,"body_markdown":"If you are using IntelliJ, you can modified &quot;enable debug output&quot; select box via run/debug configuration to decide trace logger display on console \r\n\r\n","title":"TRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class","body":"<p>If you are using IntelliJ, you can modified &quot;enable debug output&quot; select box via run/debug configuration to decide trace logger display on console</p>\n"},{"comments":[{"owner":{"account_id":20070490,"reputation":117,"user_id":14715359,"display_name":"Pankaj Yadav"},"score":0,"creation_date":1652671840,"post_id":71154906,"comment_id":127654241,"body_markdown":"Could you please tell where to configure &quot;log4j2.debug=false&quot;? Is it in log4j2.xml? I could not find this parameter in log4j2.xml which means it is not present but still getting these TRACE messages (assuming that this parameter needs to be present in log4j2.xml).","body":"Could you please tell where to configure &quot;log4j2.debug=false&quot;? Is it in log4j2.xml? I could not find this parameter in log4j2.xml which means it is not present but still getting these TRACE messages (assuming that this parameter needs to be present in log4j2.xml)."},{"owner":{"account_id":4154011,"reputation":826,"user_id":6113718,"accept_rate":75,"display_name":"Michiel Haisma"},"score":0,"creation_date":1652778776,"post_id":71154906,"comment_id":127682657,"body_markdown":"It is a system property, so it might be set by the script that starts your application or as part of your build system. In my case, it was set in the Gradle script using the `systemProperty` method.","body":"It is a system property, so it might be set by the script that starts your application or as part of your build system. In my case, it was set in the Gradle script using the <code>systemProperty</code> method."},{"owner":{"account_id":20070490,"reputation":117,"user_id":14715359,"display_name":"Pankaj Yadav"},"score":0,"creation_date":1652927262,"post_id":71154906,"comment_id":127727886,"body_markdown":"Thanks. I figured this out.\nIn our case, we are exposing log4j2.xml configuration, common.runtime.properties and jvmOptions via helm&#39;s values.yaml. The entire content of these helm variables then get updated to respective location inside druid processes&#39;s container like coordinator.\n\nThis is how we have exposed jvmOptions in values.yaml. (5th parameter)\n\njvmOptions: |-\n  -server\n  -XX:MaxDirectMemorySize=10240g\n  -Duser.timezone=UTC\n  -Dfile.encoding=UTF-8\n  **-Dlog4j2.debug=false**\n  -Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager\n  -Djava.io.tmpdir=var/tmp","body":"Thanks. I figured this out. In our case, we are exposing log4j2.xml configuration, common.runtime.properties and jvmOptions via helm&#39;s values.yaml. The entire content of these helm variables then get updated to respective location inside druid processes&#39;s container like coordinator.  This is how we have exposed jvmOptions in values.yaml. (5th parameter)  jvmOptions: |-   -server   -XX:MaxDirectMemorySize=10240g   -Duser.timezone=UTC   -Dfile.encoding=UTF-8   <b>-Dlog4j2.debug=false</b>   -Djava.util.logging.manager=org.apache.logging.log4j.jul.Log&zwnj;&#8203;Manager   -Djava.io.tmpdir=var/tmp"}],"tags":[],"owner":{"account_id":4154011,"reputation":826,"user_id":6113718,"accept_rate":75,"display_name":"Michiel Haisma"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1645087647,"creation_date":1645087647,"answer_id":71154906,"question_id":70758259,"body_markdown":"As [commented](https://stackoverflow.com/questions/70758259/trace-statuslogger-log4jloggerfactory-getcontext-found-anchor-class#comment125097503_70758259) by [piotr-p-karwasz](https://stackoverflow.com/users/11748454/piotr-p-karwasz), you are most likely setting the system property `log4j2.debug` to `true`. Remove system property `log4j2.debug` or set it to `false` to disable. This fixed it for me.","title":"TRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class","body":"<p>As <a href=\"https://stackoverflow.com/questions/70758259/trace-statuslogger-log4jloggerfactory-getcontext-found-anchor-class#comment125097503_70758259\">commented</a> by <a href=\"https://stackoverflow.com/users/11748454/piotr-p-karwasz\">piotr-p-karwasz</a>, you are most likely setting the system property <code>log4j2.debug</code> to <code>true</code>. Remove system property <code>log4j2.debug</code> or set it to <code>false</code> to disable. This fixed it for me.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1670253329,"post_id":74646622,"comment_id":131827403,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74646622/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7265156,"reputation":9,"user_id":6150460,"display_name":"me6"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669919561,"creation_date":1669919561,"answer_id":74646622,"question_id":70758259,"body_markdown":"Although the answers the question why these lines shows up in the log. The reason this log shows up because log4j config was not found in the first place in my experience.","title":"TRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class","body":"<p>Although the answers the question why these lines shows up in the log. The reason this log shows up because log4j config was not found in the first place in my experience.</p>\n"}],"owner":{"account_id":23978042,"reputation":91,"user_id":17965888,"display_name":"anecahev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3579,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":71154906,"answer_count":3,"score":5,"last_activity_date":1669919561,"creation_date":1642519914,"question_id":70758259,"body_markdown":"When I launch any of my application, i receive a lot of these lines at console and logs:\r\n```\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.auth.api.SessionAgentImpl\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCloseableAgent\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCentral\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCloseHooksHandler\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.core.api.plugins.AbstractCorePlugin\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.config.api.ConfigImpl\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCentral\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCloseHooksHandler\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCloseableAgent\r\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCentral\r\n```\r\nThen these lines appear in logs again and again.\r\nIt started after updating log4j version to 2.15.0 and greater.\r\n\r\nEver come across that? ","title":"TRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class","body":"<p>When I launch any of my application, i receive a lot of these lines at console and logs:</p>\n<pre><code>TRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.auth.api.SessionAgentImpl\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCloseableAgent\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCentral\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCloseHooksHandler\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.core.api.plugins.AbstractCorePlugin\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.config.api.ConfigImpl\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCentral\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCloseHooksHandler\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCloseableAgent\nTRACE StatusLogger Log4jLoggerFactory.getContext() found anchor class com.example.api.AbstractCentral\n</code></pre>\n<p>Then these lines appear in logs again and again.\nIt started after updating log4j version to 2.15.0 and greater.</p>\n<p>Ever come across that?</p>\n"},{"tags":["java","android","google-drive-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1669803077,"post_id":74625209,"comment_id":131724094,"body_markdown":"and read by other user accounts  &lt;-- on google drive or though your app?","body":"and read by other user accounts  &lt;-- on google drive or though your app?"},{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1669817694,"post_id":74625209,"comment_id":131729298,"body_markdown":"Yes, only using my app installed on diferent devices","body":"Yes, only using my app installed on diferent devices"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1669827775,"post_id":74625209,"comment_id":131733405,"body_markdown":"I wonder if you can use service account with android","body":"I wonder if you can use service account with android"},{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1669877310,"post_id":74625209,"comment_id":131743805,"body_markdown":"As far as I understand it may be used however looks like quite a bit of a hassle to do it. Moreover, while I do not know my issue is a limitation the API may have by using API keys, like it does now, using service account sounds ...... not promissing.I will do it if I have to but not before checking all the leads on the path I am on","body":"As far as I understand it may be used however looks like quite a bit of a hassle to do it. Moreover, while I do not know my issue is a limitation the API may have by using API keys, like it does now, using service account sounds ...... not promissing.I will do it if I have to but not before checking all the leads on the path I am on"},{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1669878015,"post_id":74625209,"comment_id":131743964,"body_markdown":"I checked all the leads already :) .. service account may be the only option","body":"I checked all the leads already :) .. service account may be the only option"}],"answers":[{"comments":[{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1669960852,"post_id":74639325,"comment_id":131766104,"body_markdown":"Actually the implementation an use of a service account was easy - got scared with some comments found.\n\nNow I tried 2 approaches:\n\n1.\n\n- create the app folder from user1@gmail.com\n\n- create app folder permission type user role writer for the serviceAccount\n\n- upload the file from serviceAccount DriveInstance to the app folder (set parent to folder id from prev step) and *I get the error code 400: **You cannot share this item because it has been flagged as inappropriate** *","body":"Actually the implementation an use of a service account was easy - got scared with some comments found.  Now I tried 2 approaches:  1.  - create the app folder from user1@gmail.com  - create app folder permission type user role writer for the serviceAccount  - upload the file from serviceAccount DriveInstance to the app folder (set parent to folder id from prev step) and *I get the error code 400: <b>You cannot share this item because it has been flagged as inappropriate</b> *"},{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1669960992,"post_id":74639325,"comment_id":131766121,"body_markdown":"And 2:\n- create the app folder from user1@gmail.com\n- create app folder permission type user role writer for the serviceAccount\n- upload the file from user1@gmail.com and set file permission type user , role writer to my serviceAccount (it is already inherited from the parent folder but ...)\n- share the file with userIWantToRead@gmail.com from user1@gmail.com app\n- read files from the app of user1@gmail.com, using serviceAccount DriveInstance and does not show anything","body":"And 2: - create the app folder from user1@gmail.com - create app folder permission type user role writer for the serviceAccount - upload the file from user1@gmail.com and set file permission type user , role writer to my serviceAccount (it is already inherited from the parent folder but ...) - share the file with userIWantToRead@gmail.com from user1@gmail.com app - read files from the app of user1@gmail.com, using serviceAccount DriveInstance and does not show anything"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1669969312,"post_id":74639325,"comment_id":131768014,"body_markdown":"for 1. https://stackoverflow.com/a/74103726/1841839   &lt;--- try this anwser.","body":"for 1. <a href=\"https://stackoverflow.com/a/74103726/1841839\">stackoverflow.com/a/74103726/1841839</a>   &lt;--- try this anwser."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1669969495,"post_id":74639325,"comment_id":131768063,"body_markdown":"read files from the app of user1@gmail.com, using serviceAccount DriveInstance and does not show anything  Well that definatly not going to work.  You need to be authorized as user1@gmail.com to see user1&#39;s data, the service account can only list what it has access to.","body":"read files from the app of user1@gmail.com, using serviceAccount DriveInstance and does not show anything  Well that definatly not going to work.  You need to be authorized as user1@gmail.com to see user1&#39;s data, the service account can only list what it has access to."},{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1669985822,"post_id":74639325,"comment_id":131773379,"body_markdown":"but the service account has writer permission on the app folder and files generated and uploaded by the user1@gmail.com....","body":"but the service account has writer permission on the app folder and files generated and uploaded by the user1@gmail.com...."},{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1670051823,"post_id":74639325,"comment_id":131787154,"body_markdown":"tried with other files types and managed to upload some with a service account instance of Drive class - it was displaying created by &#39;serviceAccountEmail@gmail.com&#39;. Deleted everything to start from scratch and now I get the same error, on these types too &#39;flagged as inappropriate&#39;. As far as I see I could upload files after a whi;e after encountered the error so, I assume, there is some sort of review of the files a service account is uploading, and as soon as you upload other types, uploads are not approved till the next review. Will try again tomorrow","body":"tried with other files types and managed to upload some with a service account instance of Drive class - it was displaying created by &#39;serviceAccountEmail@gmail.com&#39;. Deleted everything to start from scratch and now I get the same error, on these types too &#39;flagged as inappropriate&#39;. As far as I see I could upload files after a whi;e after encountered the error so, I assume, there is some sort of review of the files a service account is uploading, and as soon as you upload other types, uploads are not approved till the next review. Will try again tomorrow"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1670061010,"post_id":74639325,"comment_id":131788443,"body_markdown":"Think of a service account as a dummy user.  When the service account uploads the file its uploaded by the service account it is then owner of the file.  Granting other users access to the file will be needed unless your using a google workspace account and configure delegation.   &#39;flagged as inappropriate&#39;  what type of file are you uploading?","body":"Think of a service account as a dummy user.  When the service account uploads the file its uploaded by the service account it is then owner of the file.  Granting other users access to the file will be needed unless your using a google workspace account and configure delegation.   &#39;flagged as inappropriate&#39;  what type of file are you uploading?"},{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1670089503,"post_id":74639325,"comment_id":131794064,"body_markdown":"The service account is actually another user, but virtual or headless - name it as you will, with an existing email so it is to be treated as such- needs permissions and everything that you would do for any other user","body":"The service account is actually another user, but virtual or headless - name it as you will, with an existing email so it is to be treated as such- needs permissions and everything that you would do for any other user"},{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1670142903,"post_id":74639325,"comment_id":131801354,"body_markdown":"I can confirm that, in my case, files uploaded with the service account appear in the user1@gmail.com after about 24 hours of being labeled as inappropriate - why it is like that would be interesting to know","body":"I can confirm that, in my case, files uploaded with the service account appear in the user1@gmail.com after about 24 hours of being labeled as inappropriate - why it is like that would be interesting to know"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1670143309,"post_id":74639325,"comment_id":131801422,"body_markdown":"what the file type is that is being flagged as inappropriate would also be interesting","body":"what the file type is that is being flagged as inappropriate would also be interesting"},{"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"score":0,"creation_date":1670231331,"post_id":74639325,"comment_id":131819547,"body_markdown":"any file type is flagged this way and  after 24 hours released. My app is not published yet, could it be a reason?!","body":"any file type is flagged this way and  after 24 hours released. My app is not published yet, could it be a reason?!"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1670232381,"post_id":74639325,"comment_id":131819901,"body_markdown":"it could be but if it is its new I havent seen this before TBH you have me stumped.  I have pinged someone at google for the fun of it.","body":"it could be but if it is its new I havent seen this before TBH you have me stumped.  I have pinged someone at google for the fun of it."}],"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669885594,"creation_date":1669885594,"answer_id":74639325,"question_id":74625209,"body_markdown":"First let me say I am NOT an android developer, i do however know the google api java client library.  I do not know if this works in andorid or not and would love to hear if it does.\r\n\r\nWhat you are looking for is something called a service account.  Service accounts are like dummy users. If you share a directory with a service account then the service account will have access to this directory without having to authorize a user to access it.\r\n\r\n    GoogleCredential credential = GoogleCredential.fromStream(new \r\n    FileInputStream(&quot;MyProject-1234.json&quot;))\r\n    .createScoped(Collections.singleton(SQLAdminScopes.SQLSERVICE_ADMIN));\r\n\r\n\r\n[How to create service account credetials.](https://www.youtube.com/watch?v=asrCdWFrF0A)  just remember to enable the google drive api under library.","title":"Drive API v3 Java/Android - list files sharedWithMe","body":"<p>First let me say I am NOT an android developer, i do however know the google api java client library.  I do not know if this works in andorid or not and would love to hear if it does.</p>\n<p>What you are looking for is something called a service account.  Service accounts are like dummy users. If you share a directory with a service account then the service account will have access to this directory without having to authorize a user to access it.</p>\n<pre><code>GoogleCredential credential = GoogleCredential.fromStream(new \nFileInputStream(&quot;MyProject-1234.json&quot;))\n.createScoped(Collections.singleton(SQLAdminScopes.SQLSERVICE_ADMIN));\n</code></pre>\n<p><a href=\"https://www.youtube.com/watch?v=asrCdWFrF0A\" rel=\"nofollow noreferrer\">How to create service account credetials.</a>  just remember to enable the google drive api under library.</p>\n"}],"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669919458,"creation_date":1669799288,"question_id":74625209,"body_markdown":"I need my app to upload files, on the GDrive account, that can be listed and read by other user accounts (same app, other devices)\r\n\r\n\r\n\r\nI am uploading files from aUserFileCreator@gmail.com and set the permission to anyone/reader + make it public with allowFileDiscovery\r\n\r\n\r\n\r\n```\r\nFile file = driveService.files()\r\n        .create(fileMetadata, mediaContent)\r\n        .setFields(&quot;id&quot;)\r\n        .setSupportsAllDrives(true)\r\n        .setIgnoreDefaultVisibility(true)\r\n        .execute();\r\n\r\n\r\nPermission p = new Permission();\r\np.setType(&quot;anyone&quot;);\r\np.setRole(&quot;reader&quot;);\r\np.setAllowFileDiscovery(true);\r\ndriveService.permissions()\r\n        .create(file.getId(), p)\r\n        .execute();\r\n```\r\n\r\n\r\n\r\nShare the file later with TheUserToListAndRead@gmail.com\r\n\r\n```\r\nPermission accessPermission = new Permission();\r\naccessPermission.setEmailAddress(&quot;TheUserToListAndRead@gmail.com&quot;);\r\naccessPermission.setType(&quot;user&quot;);\r\naccessPermission.setRole(&quot;reader&quot;);\r\ndriveService.permissions().create(fileId, accessPermission).execute();\r\n```\r\n\r\n\r\nWhen trying to list the files, like below, I am not getting anything back\r\nbut the files are visible in the Drive app of TheUserToListAndRead@gmail.com\r\n\r\n```\r\nFileList result = driveService.files().list()\r\n                    .setQ(&quot;not &#39;me&#39; in owners&quot;)\r\n                    .setIncludeItemsFromAllDrives(true)\r\n                    .setSupportsAllDrives(true)\r\n                    .setSpaces(&quot;drive,appDataFolder&quot;)\r\n                    .setCorpora(&quot;allDrives&quot;)\r\n                    .execute();\r\n\r\n\r\n```\r\n\r\nAlternatively I used `setQ(&quot;sharedWithMe&quot;)` with no success\r\n\r\nThe code works for files in the readers Drive account (only created and owned by the reader) when I remove setQ completely or set it to a mime-type of some sort\r\n\r\n","title":"Drive API v3 Java/Android - list files sharedWithMe","body":"<p>I need my app to upload files, on the GDrive account, that can be listed and read by other user accounts (same app, other devices)</p>\n<p>I am uploading files from aUserFileCreator@gmail.com and set the permission to anyone/reader + make it public with allowFileDiscovery</p>\n<pre><code>File file = driveService.files()\n        .create(fileMetadata, mediaContent)\n        .setFields(&quot;id&quot;)\n        .setSupportsAllDrives(true)\n        .setIgnoreDefaultVisibility(true)\n        .execute();\n\n\nPermission p = new Permission();\np.setType(&quot;anyone&quot;);\np.setRole(&quot;reader&quot;);\np.setAllowFileDiscovery(true);\ndriveService.permissions()\n        .create(file.getId(), p)\n        .execute();\n</code></pre>\n<p>Share the file later with TheUserToListAndRead@gmail.com</p>\n<pre><code>Permission accessPermission = new Permission();\naccessPermission.setEmailAddress(&quot;TheUserToListAndRead@gmail.com&quot;);\naccessPermission.setType(&quot;user&quot;);\naccessPermission.setRole(&quot;reader&quot;);\ndriveService.permissions().create(fileId, accessPermission).execute();\n</code></pre>\n<p>When trying to list the files, like below, I am not getting anything back\nbut the files are visible in the Drive app of TheUserToListAndRead@gmail.com</p>\n<pre><code>FileList result = driveService.files().list()\n                    .setQ(&quot;not 'me' in owners&quot;)\n                    .setIncludeItemsFromAllDrives(true)\n                    .setSupportsAllDrives(true)\n                    .setSpaces(&quot;drive,appDataFolder&quot;)\n                    .setCorpora(&quot;allDrives&quot;)\n                    .execute();\n\n\n</code></pre>\n<p>Alternatively I used <code>setQ(&quot;sharedWithMe&quot;)</code> with no success</p>\n<p>The code works for files in the readers Drive account (only created and owned by the reader) when I remove setQ completely or set it to a mime-type of some sort</p>\n"},{"tags":["java","regex","regex-group","regexp-replace"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1669828006,"post_id":74631541,"comment_id":131733478,"body_markdown":"What about, &quot;array&lt;String&gt;&quot;?","body":"What about, &quot;array&lt;String&gt;&quot;?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1669828252,"post_id":74631541,"comment_id":131733564,"body_markdown":"I edited the question to put the relevant parts in backticks. Note that things you put inside `&lt;` and `&gt;` in markdown may disappear unless you put them in backticks for code.","body":"I edited the question to put the relevant parts in backticks. Note that things you put inside <code>&lt;</code> and <code>&gt;</code> in markdown may disappear unless you put them in backticks for code."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1669828320,"post_id":74631541,"comment_id":131733587,"body_markdown":"In any case, if you just need to replace one literal string with another literal string, use `String.replace` - not `replaceAll`.","body":"In any case, if you just need to replace one literal string with another literal string, use <code>String.replace</code> - not <code>replaceAll</code>."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669828572,"post_id":74631541,"comment_id":131733680,"body_markdown":"You do not need a regex; `str.replace(&quot;array&lt;object&gt;&quot;, &quot;array[object]&quot;)` is enough as @RealSkeptic has already mentioned.","body":"You do not need a regex; <code>str.replace(&quot;array&lt;object&gt;&quot;, &quot;array[object]&quot;)</code> is enough as @RealSkeptic has already mentioned."},{"owner":{"account_id":4896093,"reputation":445,"user_id":3945679,"display_name":"Abhishek Kumar"},"score":0,"creation_date":1669880622,"post_id":74631541,"comment_id":131744643,"body_markdown":"I have requirements to replace &lt;&gt; with [] which have prefix array.","body":"I have requirements to replace &lt;&gt; with [] which have prefix array."},{"owner":{"account_id":4896093,"reputation":445,"user_id":3945679,"display_name":"Abhishek Kumar"},"score":0,"creation_date":1669881326,"post_id":74631541,"comment_id":131744831,"body_markdown":"@RealSkeptic updated question please take a look.","body":"@RealSkeptic updated question please take a look."},{"owner":{"account_id":4896093,"reputation":445,"user_id":3945679,"display_name":"Abhishek Kumar"},"score":0,"creation_date":1669881434,"post_id":74631541,"comment_id":131744858,"body_markdown":"@Mr.Polywhirl updated question, please take a look again","body":"@Mr.Polywhirl updated question, please take a look again"},{"owner":{"account_id":4896093,"reputation":445,"user_id":3945679,"display_name":"Abhishek Kumar"},"score":0,"creation_date":1669881499,"post_id":74631541,"comment_id":131744874,"body_markdown":"@ArvindKumarAvinash updated question straightforward replace function will not help here.","body":"@ArvindKumarAvinash updated question straightforward replace function will not help here."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669884377,"post_id":74631541,"comment_id":131745657,"body_markdown":"@AbhishekKumar - Alright. I have written an answer to meet the requirement of your updated question.","body":"@AbhishekKumar - Alright. I have written an answer to meet the requirement of your updated question."}],"answers":[{"comments":[{"owner":{"account_id":4896093,"reputation":445,"user_id":3945679,"display_name":"Abhishek Kumar"},"score":0,"creation_date":1669881222,"post_id":74632340,"comment_id":131744805,"body_markdown":"Updated the question, unfortunately I can’t accomplish this requirement with straightforward replace function. I am looking for regex.","body":"Updated the question, unfortunately I can’t accomplish this requirement with straightforward replace function. I am looking for regex."}],"tags":[],"owner":{"display_name":"user20631377"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669832271,"creation_date":1669831747,"answer_id":74632340,"question_id":74631541,"body_markdown":"You can use the method `.replace()`. This method search in a string for a specified character, and returns a new string where the specified character are replaced.\r\n\r\nIn your case you don&#39;t need a regex so you can just write:\r\n\r\n    String replacedStr = text.replace(&quot;array&lt;object&gt;&quot;, &quot;array[object]&quot;);\r\n\r\n\r\n","title":"regex match and replcae &lt;..&gt; characters","body":"<p>You can use the method <code>.replace()</code>. This method search in a string for a specified character, and returns a new string where the specified character are replaced.</p>\n<p>In your case you don't need a regex so you can just write:</p>\n<pre><code>String replacedStr = text.replace(&quot;array&lt;object&gt;&quot;, &quot;array[object]&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669883432,"creation_date":1669882337,"answer_id":74638717,"question_id":74631541,"body_markdown":"You can avoid using regexp here.\r\n\r\n```java\r\npublic static String replaceMacro(String str) {\r\n    final String pattern = &quot;array&lt;&quot;;\r\n    StringBuilder buf = new StringBuilder(str.length());\r\n    int fromIndex = 0;\r\n\r\n    while (true) {\r\n        int lo = str.indexOf(pattern, fromIndex);\r\n\r\n        if (lo &gt;= 0) {\r\n            lo += pattern.length() - 1;\r\n            int hi = str.indexOf(&#39;&gt;&#39;, lo);\r\n\r\n            buf.append(str, fromIndex, lo);\r\n            buf.append(&#39;[&#39;);\r\n            buf.append(str.substring(lo + 1, hi));\r\n            buf.append(&#39;]&#39;);\r\n\r\n            fromIndex = hi + 1;\r\n        } else {\r\n            buf.append(str.substring(fromIndex));\r\n            break;\r\n        }\r\n    }\r\n\r\n    return buf.toString();\r\n}\r\n```\r\n\r\nIn case you want to use regexp:\r\n\r\n```java\r\npublic static String replaceMacro(String str) {\r\n    Pattern pattern = Pattern.compile(&quot;(array)&lt;(\\\\w+)&gt;&quot;);\r\n    Matcher matcher = pattern.matcher(str);\r\n\r\n    StringBuilder buf = new StringBuilder(str.length());\r\n    int fromIndex = 0;\r\n\r\n    while (matcher.find(fromIndex)) {\r\n        int lo = matcher.start();\r\n        int hi = matcher.end();\r\n\r\n        buf.append(str, fromIndex, lo).append(matcher.group(1));\r\n        buf.append(&#39;[&#39;).append(matcher.group(2)).append(&#39;]&#39;);\r\n\r\n        fromIndex = hi;\r\n    }\r\n\r\n    if (fromIndex &lt; str.length()) {\r\n        buf.append(str.substring(fromIndex));\r\n    }\r\n\r\n    return buf.toString();\r\n}\r\n```","title":"regex match and replcae &lt;..&gt; characters","body":"<p>You can avoid using regexp here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String replaceMacro(String str) {\n    final String pattern = &quot;array&lt;&quot;;\n    StringBuilder buf = new StringBuilder(str.length());\n    int fromIndex = 0;\n\n    while (true) {\n        int lo = str.indexOf(pattern, fromIndex);\n\n        if (lo &gt;= 0) {\n            lo += pattern.length() - 1;\n            int hi = str.indexOf('&gt;', lo);\n\n            buf.append(str, fromIndex, lo);\n            buf.append('[');\n            buf.append(str.substring(lo + 1, hi));\n            buf.append(']');\n\n            fromIndex = hi + 1;\n        } else {\n            buf.append(str.substring(fromIndex));\n            break;\n        }\n    }\n\n    return buf.toString();\n}\n</code></pre>\n<p>In case you want to use regexp:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String replaceMacro(String str) {\n    Pattern pattern = Pattern.compile(&quot;(array)&lt;(\\\\w+)&gt;&quot;);\n    Matcher matcher = pattern.matcher(str);\n\n    StringBuilder buf = new StringBuilder(str.length());\n    int fromIndex = 0;\n\n    while (matcher.find(fromIndex)) {\n        int lo = matcher.start();\n        int hi = matcher.end();\n\n        buf.append(str, fromIndex, lo).append(matcher.group(1));\n        buf.append('[').append(matcher.group(2)).append(']');\n\n        fromIndex = hi;\n    }\n\n    if (fromIndex &lt; str.length()) {\n        buf.append(str.substring(fromIndex));\n    }\n\n    return buf.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669884339,"creation_date":1669884339,"answer_id":74639092,"question_id":74631541,"body_markdown":"Use the [regex](https://regex101.com/r/n3HfUW/1), `array&lt;(\\w+)&gt;` to match the word characters within `array&lt;` and `&gt;` as group 1 and replace the angle brackets with square brackets keeping `array` and group 1 unchanged.\r\n\r\n**Demo**:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String str = &quot;&quot;&quot;\r\n                    &lt;tr&gt;&lt;td&gt;Asdft array&lt;object&gt; tesnp array&lt;int&gt;&lt;/td&gt;\r\n                    &lt;td&gt;asldhj\r\n                    ashd\r\n                    repl array&lt;String&gt;\r\n                    array\r\n                    asdhl\r\n                    afe array&lt;object&gt;\r\n                    endoftest&lt;/td&gt;&lt;/tr&gt;\r\n                           &quot;&quot;&quot;;\r\n    \r\n            String result = str.replaceAll(&quot;array&lt;(\\\\w+)&gt;&quot;, &quot;array[$1]&quot;);\r\n    \r\n            System.out.println(result);\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    &lt;tr&gt;&lt;td&gt;Asdft array[object] tesnp array[int]&lt;/td&gt;\r\n    &lt;td&gt;asldhj\r\n    ashd\r\n    repl array[String]\r\n    array\r\n    asdhl\r\n    afe array[object]\r\n    endoftest&lt;/td&gt;&lt;/tr&gt;","title":"regex match and replcae &lt;..&gt; characters","body":"<p>Use the <a href=\"https://regex101.com/r/n3HfUW/1\" rel=\"nofollow noreferrer\">regex</a>, <code>array&lt;(\\w+)&gt;</code> to match the word characters within <code>array&lt;</code> and <code>&gt;</code> as group 1 and replace the angle brackets with square brackets keeping <code>array</code> and group 1 unchanged.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String str = &quot;&quot;&quot;\n                &lt;tr&gt;&lt;td&gt;Asdft array&lt;object&gt; tesnp array&lt;int&gt;&lt;/td&gt;\n                &lt;td&gt;asldhj\n                ashd\n                repl array&lt;String&gt;\n                array\n                asdhl\n                afe array&lt;object&gt;\n                endoftest&lt;/td&gt;&lt;/tr&gt;\n                       &quot;&quot;&quot;;\n\n        String result = str.replaceAll(&quot;array&lt;(\\\\w+)&gt;&quot;, &quot;array[$1]&quot;);\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>&lt;tr&gt;&lt;td&gt;Asdft array[object] tesnp array[int]&lt;/td&gt;\n&lt;td&gt;asldhj\nashd\nrepl array[String]\narray\nasdhl\nafe array[object]\nendoftest&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669919281,"creation_date":1669917988,"answer_id":74646335,"question_id":74631541,"body_markdown":"This can be accomplished fairly easily with a simple regular expression:\r\n\r\n```\r\n(?&lt;=array)  // positive lookbehind (preceded by &quot;array&quot;)\r\n&lt;           // opening angle bracket\r\n(\\w+)       // one or more word characters (matching group)\r\n&gt;           // closing angle bracket\r\n```\r\n\r\n## Working example\r\n\r\n```java\r\nimport java.util.regex.*;\r\n\r\npublic class Example {\r\n    public static String replace(String str, String pattern, String replacement) {\r\n        return Pattern\r\n            .compile(pattern, Pattern.MULTILINE)\r\n            .matcher(str)\r\n            .replaceAll(replacement);\r\n    }\r\n    \r\n    public static String fixHtmlText(String htmlText) {\r\n        return replace(htmlText, &quot;(?&lt;=array)&lt;(\\\\w+)&gt;&quot;, &quot;[$1]&quot;);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        String htmlText = &quot;&lt;tr&gt;&lt;td&gt;Asdft array&lt;object&gt; tesnp array&lt;int&gt;&lt;/td&gt;\\n&quot;\r\n                        + &quot;&lt;td&gt;asldhj\\n&quot;\r\n                        + &quot;ashd\\n&quot;\r\n                        + &quot;repl array&lt;String&gt;\\n&quot;\r\n                        + &quot;array\\n&quot;\r\n                        + &quot;asdhl\\n&quot;\r\n                        + &quot;afe array&lt;object&gt;\\n&quot;\r\n                        + &quot;endoftest&lt;/td&gt;&lt;/tr&gt;&quot;;\r\n        \r\n        System.out.println(fixHtmlText(htmlText));\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```\r\n&lt;tr&gt;&lt;td&gt;Asdft array[object] tesnp array[int]&lt;/td&gt;\r\n&lt;td&gt;asldhj\r\nashd\r\nrepl array[String]\r\narray\r\nasdhl\r\nafe array[object]\r\nendoftest&lt;/td&gt;&lt;/tr&gt;\r\n```","title":"regex match and replcae &lt;..&gt; characters","body":"<p>This can be accomplished fairly easily with a simple regular expression:</p>\n<pre><code>(?&lt;=array)  // positive lookbehind (preceded by &quot;array&quot;)\n&lt;           // opening angle bracket\n(\\w+)       // one or more word characters (matching group)\n&gt;           // closing angle bracket\n</code></pre>\n<h2>Working example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.*;\n\npublic class Example {\n    public static String replace(String str, String pattern, String replacement) {\n        return Pattern\n            .compile(pattern, Pattern.MULTILINE)\n            .matcher(str)\n            .replaceAll(replacement);\n    }\n    \n    public static String fixHtmlText(String htmlText) {\n        return replace(htmlText, &quot;(?&lt;=array)&lt;(\\\\w+)&gt;&quot;, &quot;[$1]&quot;);\n    }\n    \n    public static void main(String[] args) {\n        String htmlText = &quot;&lt;tr&gt;&lt;td&gt;Asdft array&lt;object&gt; tesnp array&lt;int&gt;&lt;/td&gt;\\n&quot;\n                        + &quot;&lt;td&gt;asldhj\\n&quot;\n                        + &quot;ashd\\n&quot;\n                        + &quot;repl array&lt;String&gt;\\n&quot;\n                        + &quot;array\\n&quot;\n                        + &quot;asdhl\\n&quot;\n                        + &quot;afe array&lt;object&gt;\\n&quot;\n                        + &quot;endoftest&lt;/td&gt;&lt;/tr&gt;&quot;;\n        \n        System.out.println(fixHtmlText(htmlText));\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>&lt;tr&gt;&lt;td&gt;Asdft array[object] tesnp array[int]&lt;/td&gt;\n&lt;td&gt;asldhj\nashd\nrepl array[String]\narray\nasdhl\nafe array[object]\nendoftest&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n"}],"owner":{"account_id":4896093,"reputation":445,"user_id":3945679,"display_name":"Abhishek Kumar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1669919281,"creation_date":1669827749,"question_id":74631541,"body_markdown":"I have a requirement to match all `array&lt;..&gt;` in the entire sentence and replace only `&lt;&gt;` to `[]` (replace &lt;&gt; with [] which have prefix array).\r\n\r\nI haven&#39;t got any clue to resolve this. It will be great if anyone can provide any clue for this issue? \r\n\r\n**Input**\r\n\r\n    &lt;tr&gt;&lt;td&gt;Asdft array&lt;object&gt; tesnp array&lt;int&gt;&lt;/td&gt;\r\n    &lt;td&gt;asldhj\r\n    ashd\r\n    repl array&lt;String&gt;\r\n    array\r\n    asdhl\r\n    afe array&lt;object&gt;\r\n    endoftest&lt;/td&gt;&lt;/tr&gt;\r\n\r\n\r\n**Expected Output**\r\n\r\n    &lt;tr&gt;&lt;td&gt;Asdft array[object] tesnp array[int]&lt;/td&gt;\r\n    &lt;td&gt;asldhj\r\n    ashd\r\n    repl array[String]\r\n    array\r\n    asdhl\r\n    afe array[object]\r\n    endoftest&lt;/tr&gt;&lt;/td&gt;","title":"regex match and replcae &lt;..&gt; characters","body":"<p>I have a requirement to match all <code>array&lt;..&gt;</code> in the entire sentence and replace only <code>&lt;&gt;</code> to <code>[]</code> (replace &lt;&gt; with [] which have prefix array).</p>\n<p>I haven't got any clue to resolve this. It will be great if anyone can provide any clue for this issue?</p>\n<p><strong>Input</strong></p>\n<pre><code>&lt;tr&gt;&lt;td&gt;Asdft array&lt;object&gt; tesnp array&lt;int&gt;&lt;/td&gt;\n&lt;td&gt;asldhj\nashd\nrepl array&lt;String&gt;\narray\nasdhl\nafe array&lt;object&gt;\nendoftest&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre><code>&lt;tr&gt;&lt;td&gt;Asdft array[object] tesnp array[int]&lt;/td&gt;\n&lt;td&gt;asldhj\nashd\nrepl array[String]\narray\nasdhl\nafe array[object]\nendoftest&lt;/tr&gt;&lt;/td&gt;\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":26526841,"reputation":1,"user_id":20159699,"display_name":"Burak Alkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669919105,"creation_date":1669919105,"answer_id":74646551,"question_id":38736362,"body_markdown":"You can use emoji.png instead of this.","title":"Cannot use emoji characters or surrogate pairs in xml resources, app crashes","body":"<p>You can use emoji.png instead of this.</p>\n"}],"owner":{"account_id":8942291,"reputation":11,"user_id":6670891,"display_name":"Tharindu Chandima Amarasingha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669919105,"creation_date":1470207045,"question_id":38736362,"body_markdown":"I&#39;m building a softkeyboard application which is rendering emojis with the support of corresponding unicodes. On api level 23 and 24, app buids succssfully and renders system emojis without any issue.\r\nBelow api level 23, app starts but when the ime start, the application crashes.\r\n\r\nI have tried with surrogate pairs. But nothing works. App crashes below api level 23. I noticed that apps built with eclipse renders emojis without issue at api level 21 and 19. Any help would be appreciated. Thanks in advance.\r\n\r\nI&#39;m using gradle version 2.2.2 alpha 6 with android studio 2.2 preview 6.","title":"Cannot use emoji characters or surrogate pairs in xml resources, app crashes","body":"<p>I'm building a softkeyboard application which is rendering emojis with the support of corresponding unicodes. On api level 23 and 24, app buids succssfully and renders system emojis without any issue.\nBelow api level 23, app starts but when the ime start, the application crashes.</p>\n\n<p>I have tried with surrogate pairs. But nothing works. App crashes below api level 23. I noticed that apps built with eclipse renders emojis without issue at api level 21 and 19. Any help would be appreciated. Thanks in advance.</p>\n\n<p>I'm using gradle version 2.2.2 alpha 6 with android studio 2.2 preview 6.</p>\n"},{"tags":["java","ssl","https","tls1.2"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669921583,"post_id":74646534,"comment_id":131758727,"body_markdown":"Perhaps you should try it.","body":"Perhaps you should try it."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1669927912,"post_id":74646534,"comment_id":131760601,"body_markdown":"Forget 1.7 (publicly just 7), this wasn&#39;t even needed in **1.5**; I _think_ it was in 1.4, two decades ago. `URL.openConnection()` on https: uses the factory defined by `HttpsURLConnection` either per-instance or globally, and if not set by code this uses the SunJSSE implementation and default truststore (and no keystore). Note in 7 a default SSL client offers only (SSLv3 if below 7u76 and) TLSv1.0, and nowadays almost all servers don&#39;t accept that/those; 7 _implements_ 1.1 and 1.2, at least the latter of which is still acceptable, but you must enable them.","body":"Forget 1.7 (publicly just 7), this wasn&#39;t even needed in <b>1.5</b>; I <i>think</i> it was in 1.4, two decades ago. <code>URL.openConnection()</code> on https: uses the factory defined by <code>HttpsURLConnection</code> either per-instance or globally, and if not set by code this uses the SunJSSE implementation and default truststore (and no keystore). Note in 7 a default SSL client offers only (SSLv3 if below 7u76 and) TLSv1.0, and nowadays almost all servers don&#39;t accept that/those; 7 <i>implements</i> 1.1 and 1.2, at least the latter of which is still acceptable, but you must enable them."},{"owner":{"account_id":1643852,"reputation":165,"user_id":1525249,"display_name":"Hemanth"},"score":0,"creation_date":1680970950,"post_id":74646534,"comment_id":133985708,"body_markdown":"Thank you @dave_thompson_085 and rzwitserloot for your replies. I removed the code, as you suggested. It has been 2 months since the code went into production, and customers have not reported any problem. So, I guess it&#39;s all good!","body":"Thank you @dave_thompson_085 and rzwitserloot for your replies. I removed the code, as you suggested. It has been 2 months since the code went into production, and customers have not reported any problem. So, I guess it&#39;s all good!"}],"owner":{"account_id":1643852,"reputation":165,"user_id":1525249,"display_name":"Hemanth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669918983,"creation_date":1669918983,"question_id":74646534,"body_markdown":"I am maintaining some old Java code (written with JDK 1.7 in mind) which contains this snippet:\r\n```\r\nstatic {\r\n\tSSL_PKG = &quot;com.sun.net.ssl.internal.www.protocol&quot;;\r\n\tSSL_PROVIDER = &quot;com.sun.net.ssl.internal.ssl.Provider&quot;;\r\n}\r\n\r\nprivate void initHttps() {\r\n\tString str = System.getProperty(&quot;java.protocol.handler.pkgs&quot;);\r\n\r\n\tif (str == null || str.indexOf(SSL_PKG) &lt; 0) {\r\n\t\tif (str == null) {\r\n\t\t\tstr = SSL_PKG;\r\n\t\t} else {\r\n\t\t\tstr = str + &quot;|&quot; + SSL_PKG;\r\n\t\t} \r\n\t\tSystem.setProperty(&quot;java.protocol.handler.pkgs&quot;, str);\r\n\r\n\t\ttry {\r\n\t\t\tClass&lt;?&gt; clazz = Class.forName(SSL_PROVIDER);\r\n\t\t\tProvider provider = (Provider)clazz.newInstance();\r\n\t\t\tSecurity.addProvider(provider);\r\n\t\t} catch (Exception exception) {}\r\n\t} \r\n}\r\n```\r\nThe private method ```initHttps()``` is called before connecting to an https endpoint using ```URL.openConnection()```. Can someone explain what this does? Is it necessary to initialize HTTPS in this way for later JDK versions? What happens if ```URL.openConnection()``` is called without any initialization?","title":"Why does old code initialize SSL before URL.openConnection()?","body":"<p>I am maintaining some old Java code (written with JDK 1.7 in mind) which contains this snippet:</p>\n<pre><code>static {\n    SSL_PKG = &quot;com.sun.net.ssl.internal.www.protocol&quot;;\n    SSL_PROVIDER = &quot;com.sun.net.ssl.internal.ssl.Provider&quot;;\n}\n\nprivate void initHttps() {\n    String str = System.getProperty(&quot;java.protocol.handler.pkgs&quot;);\n\n    if (str == null || str.indexOf(SSL_PKG) &lt; 0) {\n        if (str == null) {\n            str = SSL_PKG;\n        } else {\n            str = str + &quot;|&quot; + SSL_PKG;\n        } \n        System.setProperty(&quot;java.protocol.handler.pkgs&quot;, str);\n\n        try {\n            Class&lt;?&gt; clazz = Class.forName(SSL_PROVIDER);\n            Provider provider = (Provider)clazz.newInstance();\n            Security.addProvider(provider);\n        } catch (Exception exception) {}\n    } \n}\n</code></pre>\n<p>The private method <code>initHttps()</code> is called before connecting to an https endpoint using <code>URL.openConnection()</code>. Can someone explain what this does? Is it necessary to initialize HTTPS in this way for later JDK versions? What happens if <code>URL.openConnection()</code> is called without any initialization?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9382,"page":841,"page_size":100}
