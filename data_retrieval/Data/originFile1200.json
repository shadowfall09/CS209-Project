{"items":[{"tags":["java","eclipse","environment-variables"],"comments":[{"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"score":1,"creation_date":1475485104,"post_id":39827802,"comment_id":66945519,"body_markdown":"It is looking correct.. Check it on Cmd... java -version.. Close the cmd and reopen it then try","body":"It is looking correct.. Check it on Cmd... java -version.. Close the cmd and reopen it then try"},{"owner":{"account_id":201016,"reputation":899,"user_id":447208,"accept_rate":49,"display_name":"En-Motion"},"score":0,"creation_date":1475485224,"post_id":39827802,"comment_id":66945580,"body_markdown":"Yeah that looks OK:\n\njava -version\njava version &quot;1.8.0_101&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_101-b13)\nJava HotSpot(TM) Client VM (build 25.101-b13, mixed mode, sharing)\n\njavac -version\njavac 1.8.0_101\n\nJust doesn&#39;t work in Eclipse for some reason","body":"Yeah that looks OK:  java -version java version &quot;1.8.0_101&quot; Java(TM) SE Runtime Environment (build 1.8.0_101-b13) Java HotSpot(TM) Client VM (build 25.101-b13, mixed mode, sharing)  javac -version javac 1.8.0_101  Just doesn&#39;t work in Eclipse for some reason"},{"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"score":0,"creation_date":1475485270,"post_id":39827802,"comment_id":66945610,"body_markdown":"Try to close and reopen the eclipse .. it should work","body":"Try to close and reopen the eclipse .. it should work"},{"owner":{"account_id":6107494,"reputation":807,"user_id":4764839,"accept_rate":67,"display_name":"CocoCrisp"},"score":2,"creation_date":1475485315,"post_id":39827802,"comment_id":66945639,"body_markdown":"That is the best thing to do in such case, at least you would know whether the eclipse is causing the problem or the environment variables. Try running a simple java file from cmd.","body":"That is the best thing to do in such case, at least you would know whether the eclipse is causing the problem or the environment variables. Try running a simple java file from cmd."},{"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"score":0,"creation_date":1475485377,"post_id":39827802,"comment_id":66945673,"body_markdown":"@En-Motion you can go to Windows-&gt;Preferences... and choose Java-&gt;Installed JREs. In Eclipse and set the JRE path there","body":"@En-Motion you can go to Windows-&gt;Preferences... and choose Java-&gt;Installed JREs. In Eclipse and set the JRE path there"},{"owner":{"account_id":201016,"reputation":899,"user_id":447208,"accept_rate":49,"display_name":"En-Motion"},"score":0,"creation_date":1475485527,"post_id":39827802,"comment_id":66945758,"body_markdown":"It will run and compile a simple java class. But I&#39;m trying to run a servlet on  a Java Web Server and that&#39;s where I get the error","body":"It will run and compile a simple java class. But I&#39;m trying to run a servlet on  a Java Web Server and that&#39;s where I get the error"},{"owner":{"account_id":5458530,"reputation":4307,"user_id":4341283,"accept_rate":50,"display_name":"STaefi"},"score":1,"creation_date":1475485673,"post_id":39827802,"comment_id":66945849,"body_markdown":"Which web server are you trying to run with eclipse? I don&#39;t think this situation is related to eclipse. Try to run the server in command-line and test if the problem persists. Maybe the spaces and/or the `(x86)` in the path generates the problem.","body":"Which web server are you trying to run with eclipse? I don&#39;t think this situation is related to eclipse. Try to run the server in command-line and test if the problem persists. Maybe the spaces and/or the <code>(x86)</code> in the path generates the problem."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1475487031,"post_id":39827802,"comment_id":66946705,"body_markdown":"How exactly did you configure the server I wonder, because it seems to be run through a shell script? With a proper plugin (which may already be installed in Eclipse for JavaEE developers) the server can generally be started by Eclipse itself and you have no such problems at all.","body":"How exactly did you configure the server I wonder, because it seems to be run through a shell script? With a proper plugin (which may already be installed in Eclipse for JavaEE developers) the server can generally be started by Eclipse itself and you have no such problems at all."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1475488001,"post_id":39827802,"comment_id":66947249,"body_markdown":"The server is on the local machine? does he have access to these files?","body":"The server is on the local machine? does he have access to these files?"}],"answers":[{"tags":[],"owner":{"account_id":8957482,"reputation":863,"user_id":6681284,"display_name":"himeshc_IB"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1475486259,"creation_date":1475486259,"answer_id":39828190,"question_id":39827802,"body_markdown":"Check for system environment variables and user environment variables... seems like eclipse is taking variables from different environment..\r\n\r\nIf problem persist then set the JAVA_HOME in eclipse to tell eclipse explicitly where java is installed in the system. To set JAVA_HOME in eclispe few options given below.\r\n\r\nTo set JAVA_HOME in eclipse navigate to windows menu -&gt; preferences -&gt; Add runtime variables \r\n\r\nOR \r\n\r\nNavigate to Run menu -&gt; External Tools configurations -&gt; Navigate to environment tab -&gt; Add JAVA_HOME variable and it&#39;s path as it&#39;s value to set environment variable in eclipse.","title":"Eclipse: JAVA_HOME not set","body":"<p>Check for system environment variables and user environment variables... seems like eclipse is taking variables from different environment..</p>\n\n<p>If problem persist then set the JAVA_HOME in eclipse to tell eclipse explicitly where java is installed in the system. To set JAVA_HOME in eclispe few options given below.</p>\n\n<p>To set JAVA_HOME in eclipse navigate to windows menu -> preferences -> Add runtime variables </p>\n\n<p>OR </p>\n\n<p>Navigate to Run menu -> External Tools configurations -> Navigate to environment tab -> Add JAVA_HOME variable and it's path as it's value to set environment variable in eclipse.</p>\n"},{"tags":[],"owner":{"account_id":9039890,"reputation":79,"user_id":6734499,"display_name":"Alkaram Ansari"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1511629522,"creation_date":1475487492,"answer_id":39828596,"question_id":39827802,"body_markdown":"actually the path/classpath/any setting is on &quot;Administrator&quot; privilege and will NOT be accessed if eclipse is started directly.\r\nright click on eclipse.exe and select &quot;Run As Administrator&quot;.\r\n&lt;br/&gt;\r\nhope it works\r\n\r\n","title":"Eclipse: JAVA_HOME not set","body":"<p>actually the path/classpath/any setting is on \"Administrator\" privilege and will NOT be accessed if eclipse is started directly.\nright click on eclipse.exe and select \"Run As Administrator\".\n<br/>\nhope it works</p>\n"},{"tags":[],"owner":{"account_id":23585806,"reputation":11,"user_id":17624265,"display_name":"jan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638956629,"creation_date":1638956629,"answer_id":70272839,"question_id":39827802,"body_markdown":"This seems a bug in Eclipse to me.\r\n\r\nEclipse comes with Java built in already. It&#39;s somewhere deep down in Eclipse. Users have no idea where it is.\r\nOnly Eclipse itself can set JAVA_HOME properly.\r\n\r\nInstalling your own Java and setting JAVA_HOME to point to there seems a bad idea, introducing potential conflicts between the built-in java version and JAVA_HOME contents ","title":"Eclipse: JAVA_HOME not set","body":"<p>This seems a bug in Eclipse to me.</p>\n<p>Eclipse comes with Java built in already. It's somewhere deep down in Eclipse. Users have no idea where it is.\nOnly Eclipse itself can set JAVA_HOME properly.</p>\n<p>Installing your own Java and setting JAVA_HOME to point to there seems a bad idea, introducing potential conflicts between the built-in java version and JAVA_HOME contents</p>\n"}],"owner":{"account_id":201016,"reputation":899,"user_id":447208,"accept_rate":49,"display_name":"En-Motion"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44062,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39828190,"answer_count":3,"score":3,"last_activity_date":1657318923,"creation_date":1475484962,"question_id":39827802,"body_markdown":"    The system cannot find the path specified.\r\n    JAVA HOME is not set correctly.\r\n\r\nI am getting the following error when I try to run web server in Eclipse:\r\n\r\nThe system cannot find the path specified.\r\nJAVA HOME is not set correctly.\r\n\r\nBut checking my env variables they look correct:\r\n\r\n    echo %JAVA_HOME%\r\n    C:\\Program Files (x86)\\Java\\jdk1.8.0_101\r\n    \r\n    echo %PATH%\r\n    C:\\ProgramData\\Oracle\\Java\\javapath;c:\\windows\\system32;c:\\windows;c:\\windows\\system32\\wbem;c:\\windows\\system32\\windowspowershell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\HashiCorp\\Vagrant\\bin;C:\\Installation;C:\\Program Files (x86)\\Brackets\\command;C:\\Program Files (x86)\\Java\\jdk1.8.0_101\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;c:\\windows\\system32;c:\\windows;c:\\windows\\system32\\wbem;c:\\windows\\system32\\windowspowershell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\HashiCorp\\Vagrant\\bin;C:\\Installation;C:\\Program Files (x86)\\Brackets\\command;C:\\Program Files (x86)\\Java\\jdk1.8.0_101\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;c:\\windows\\system32;c:\\windows;c:\\windows\\system32\\wbem;c:\\windows\\system32\\windowspowershell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\HashiCorp\\Vagrant\\bin;C:\\Installation;C:\\Program Files (x86)\\Brackets\\command;\r\n\r\nIs there something else I&#39;m missing?","title":"Eclipse: JAVA_HOME not set","body":"<pre><code>The system cannot find the path specified.\nJAVA HOME is not set correctly.\n</code></pre>\n\n<p>I am getting the following error when I try to run web server in Eclipse:</p>\n\n<p>The system cannot find the path specified.\nJAVA HOME is not set correctly.</p>\n\n<p>But checking my env variables they look correct:</p>\n\n<pre><code>echo %JAVA_HOME%\nC:\\Program Files (x86)\\Java\\jdk1.8.0_101\n\necho %PATH%\nC:\\ProgramData\\Oracle\\Java\\javapath;c:\\windows\\system32;c:\\windows;c:\\windows\\system32\\wbem;c:\\windows\\system32\\windowspowershell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\HashiCorp\\Vagrant\\bin;C:\\Installation;C:\\Program Files (x86)\\Brackets\\command;C:\\Program Files (x86)\\Java\\jdk1.8.0_101\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;c:\\windows\\system32;c:\\windows;c:\\windows\\system32\\wbem;c:\\windows\\system32\\windowspowershell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\HashiCorp\\Vagrant\\bin;C:\\Installation;C:\\Program Files (x86)\\Brackets\\command;C:\\Program Files (x86)\\Java\\jdk1.8.0_101\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;c:\\windows\\system32;c:\\windows;c:\\windows\\system32\\wbem;c:\\windows\\system32\\windowspowershell\\v1.0\\;C:\\Program Files\\Git\\cmd;C:\\HashiCorp\\Vagrant\\bin;C:\\Installation;C:\\Program Files (x86)\\Brackets\\command;\n</code></pre>\n\n<p>Is there something else I'm missing?</p>\n"},{"tags":["java","class","switch-statement","java-8","java-7"],"comments":[{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":0,"creation_date":1438034508,"post_id":31664071,"comment_id":51272636,"body_markdown":"Thx @Jashaszun, I was confused with Github MD.","body":"Thx @Jashaszun, I was confused with Github MD."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1438034635,"post_id":31664071,"comment_id":51272688,"body_markdown":"It is not allowed, however your easier work around would be to use `c.getName()` and in case, use class name instead","body":"It is not allowed, however your easier work around would be to use <code>c.getName()</code> and in case, use class name instead"},{"owner":{"account_id":1346755,"reputation":13871,"user_id":1287342,"display_name":"Alex"},"score":1,"creation_date":1438034667,"post_id":31664071,"comment_id":51272703,"body_markdown":"Not an exact duplicate, but see http://stackoverflow.com/questions/338206/why-cant-i-switch-on-a-string","body":"Not an exact duplicate, but see <a href=\"http://stackoverflow.com/questions/338206/why-cant-i-switch-on-a-string\" title=\"why cant i switch on a string\">stackoverflow.com/questions/338206/&hellip;</a>"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":3,"creation_date":1438034915,"post_id":31664071,"comment_id":51272795,"body_markdown":"a problem is classes are not compile time constants. you cannot use non-constant String either. to branch on dynamic values requires a different mechanism.","body":"a problem is classes are not compile time constants. you cannot use non-constant String either. to branch on dynamic values requires a different mechanism."},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":0,"creation_date":1438034989,"post_id":31664071,"comment_id":51272817,"body_markdown":"Please note I am looking for an explanation not a workaround.","body":"Please note I am looking for an explanation not a workaround."},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":0,"creation_date":1438036145,"post_id":31664071,"comment_id":51273264,"body_markdown":"Even if it compiled, your snippet would just add a syntactic sugar for `instanceof` and casting.If you want a real pattern-matching, take a look at Scala&#39;s","body":"Even if it compiled, your snippet would just add a syntactic sugar for <code>instanceof</code> and casting.If you want a real pattern-matching, take a look at Scala&#39;s"},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":0,"creation_date":1438038781,"post_id":31664071,"comment_id":51274120,"body_markdown":"@Dici, my question excludes instanceof / inheritance considerations.","body":"@Dici, my question excludes instanceof / inheritance considerations."},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":0,"creation_date":1438040327,"post_id":31664071,"comment_id":51274578,"body_markdown":"Your snippet is basically a series of `instanceof`, or could be easily implemented with them","body":"Your snippet is basically a series of <code>instanceof</code>, or could be easily implemented with them"},{"owner":{"account_id":2232575,"reputation":2322,"user_id":1969804,"display_name":"SBI"},"score":2,"creation_date":1438081813,"post_id":31664071,"comment_id":51291192,"body_markdown":"But...but...polymorphism.","body":"But...but...polymorphism."},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":0,"creation_date":1438363433,"post_id":31664071,"comment_id":51437250,"body_markdown":"Please, read more about the question. It can look like an easy one about polymorphism, but it is an advanced java question about classes, not instances..","body":"Please, read more about the question. It can look like an easy one about polymorphism, but it is an advanced java question about classes, not instances.."},{"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1442227942,"post_id":31664071,"comment_id":52981002,"body_markdown":"You can switch on the name of the class or better use the Visitor pattern.","body":"You can switch on the name of the class or better use the Visitor pattern."}],"answers":[{"tags":[],"owner":{"account_id":2468174,"reputation":9217,"user_id":2150749,"accept_rate":100,"display_name":"Jashaszun"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1438035214,"creation_date":1438034649,"answer_id":31664113,"question_id":31664071,"body_markdown":"Based on [documentation on the `switch` statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html): \r\n\r\n&gt; A switch works with the byte, short, char, and int primitive data types. It also works with enumerated types (discussed in Enum Types), the String class, and a few special classes that wrap certain primitive types: Character, Byte, Short, and Integer.\r\n\r\nSo essentially, it was made to work with only those types, and nothing else. `Class` is not one of them.\r\n\r\nThe reason for the restriction is, as you yourself said in a comment, that switch tables are indexed by `int`. All of the above types are easily convertible to `int` (including `String`, by hashing), while `Class` is not.","title":"Why can&#39;t we switch on classes in Java 7+?","body":"<p>Based on <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\">documentation on the <code>switch</code> statement</a>: </p>\n\n<blockquote>\n  <p>A switch works with the byte, short, char, and int primitive data types. It also works with enumerated types (discussed in Enum Types), the String class, and a few special classes that wrap certain primitive types: Character, Byte, Short, and Integer.</p>\n</blockquote>\n\n<p>So essentially, it was made to work with only those types, and nothing else. <code>Class</code> is not one of them.</p>\n\n<p>The reason for the restriction is, as you yourself said in a comment, that switch tables are indexed by <code>int</code>. All of the above types are easily convertible to <code>int</code> (including <code>String</code>, by hashing), while <code>Class</code> is not.</p>\n"},{"tags":[],"owner":{"account_id":6085540,"reputation":22133,"user_id":4751173,"display_name":"Glorfindel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438035364,"creation_date":1438034769,"answer_id":31664138,"question_id":31664071,"body_markdown":"Well, according to the [documentation](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html), `switch` only supports a limited set of data types:\r\n\r\n&gt; A switch works with the byte, short, char, and int primitive data types. It also works with enumerated types (discussed in Enum Types), the String class, and a few special classes that wrap certain primitive types: Character, Byte, Short, and Integer\r\n\r\nMy guess at why this is the case: because it would be difficult for the compiler to [generate efficient code](https://en.wikipedia.org/wiki/Switch_statement#Compilation) to `switch` on something else than a relatively simple data type.","title":"Why can&#39;t we switch on classes in Java 7+?","body":"<p>Well, according to the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">documentation</a>, <code>switch</code> only supports a limited set of data types:</p>\n\n<blockquote>\n  <p>A switch works with the byte, short, char, and int primitive data types. It also works with enumerated types (discussed in Enum Types), the String class, and a few special classes that wrap certain primitive types: Character, Byte, Short, and Integer</p>\n</blockquote>\n\n<p>My guess at why this is the case: because it would be difficult for the compiler to <a href=\"https://en.wikipedia.org/wiki/Switch_statement#Compilation\" rel=\"nofollow\">generate efficient code</a> to <code>switch</code> on something else than a relatively simple data type.</p>\n"},{"tags":[],"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1438036110,"creation_date":1438034844,"answer_id":31664150,"question_id":31664071,"body_markdown":"It&#39;s because we can only switch on [**Constant Expressions** (&#167;15.28)](https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28) or [**Enum constants (&#167;8.9.1)**](https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9.1).\r\n\r\n[From the JLS](https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11):\r\n\r\n&gt; The type of the Expression must be char, byte, short, int, Character, Byte, Short, Integer, String, or an enum type ([&#167;8.9](https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9)), or a compile-time error occurs.\r\n\r\nTo imagine why this might be, think about the optimization that occurs when the Java compiler is attempting to compile a switch statement.\r\n\r\n - It wants to absolutely, positively guarantee equality\r\n - It wants to be able to maximize performance (branch prediction) for all the cases\r\n - It wants to have an effective, consistent way of transforming the constant expressions into an integer lookup table (this is why `long` and `float` and `double` are not supported, but `String` is).\r\n\r\nNote that `String` being supported in `switch` statements was [added only in Java 7](http://docs.oracle.com/javase/7/docs/technotes/guides/language/strings-switch.html). This is because the **compiler** uses a behind the scenes conversion of `switch String` to `switch int`, as [detailed in this article](http://javarevisited.blogspot.com/2014/05/how-string-in-switch-works-in-java-7.html). Quick summary:\r\n\r\nThis code:\r\n\r\n\tpublic class StringInSwitchCase {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString mode = args[0];\r\n\t\t\tswitch (mode) {\r\n\t\t\tcase &quot;ACTIVE&quot;:\r\n\t\t\t\tSystem.out.println(&quot;Application is running on Active mode&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;PASSIVE&quot;:\r\n\t\t\t\tSystem.out.println(&quot;Application is running on Passive mode&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;SAFE&quot;:\r\n\t\t\t\tSystem.out.println(&quot;Application is running on Safe mode&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nBecomes this code:\r\n\r\n\tpublic class StringInSwitchCase {\r\n\t\tpublic StringInSwitchCase() {}\r\n\t\r\n\t\tpublic static void main(string args[]) {\r\n\t\t\tString mode = args[0];\r\n\t\t\tString s;\r\n\t\t\tswitch ((s = mode).hashCode()) {\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\tcase -74056953:\r\n\t\t\t\tif (s.equals(&quot;PASSIVE&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Application is running on Passive mode&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2537357:\r\n\t\t\t\tif (s.equals(&quot;SAFE&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Application is running on Safe mode&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1925346054:\r\n\t\t\t\tif (s.equals(&quot;ACTIVE&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Application is running on Active mode&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nWe can&#39;t reliably turn `Class` objects into ints the same way. Class **doesn&#39;t override hashCode**, it uses [`System.identityHashCode`](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#identityHashCode(java.lang.Object)).\n\nNote also that the same class is not always the same `Class`, if it has been loaded with a different `ClassLoader`.","title":"Why can&#39;t we switch on classes in Java 7+?","body":"<p>It's because we can only switch on <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\"><strong>Constant Expressions</strong> (§15.28)</a> or <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9.1\"><strong>Enum constants (§8.9.1)</strong></a>.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\">From the JLS</a>:</p>\n\n<blockquote>\n  <p>The type of the Expression must be char, byte, short, int, Character, Byte, Short, Integer, String, or an enum type (<a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9\">§8.9</a>), or a compile-time error occurs.</p>\n</blockquote>\n\n<p>To imagine why this might be, think about the optimization that occurs when the Java compiler is attempting to compile a switch statement.</p>\n\n<ul>\n<li>It wants to absolutely, positively guarantee equality</li>\n<li>It wants to be able to maximize performance (branch prediction) for all the cases</li>\n<li>It wants to have an effective, consistent way of transforming the constant expressions into an integer lookup table (this is why <code>long</code> and <code>float</code> and <code>double</code> are not supported, but <code>String</code> is).</li>\n</ul>\n\n<p>Note that <code>String</code> being supported in <code>switch</code> statements was <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/strings-switch.html\">added only in Java 7</a>. This is because the <strong>compiler</strong> uses a behind the scenes conversion of <code>switch String</code> to <code>switch int</code>, as <a href=\"http://javarevisited.blogspot.com/2014/05/how-string-in-switch-works-in-java-7.html\">detailed in this article</a>. Quick summary:</p>\n\n<p>This code:</p>\n\n<pre><code>public class StringInSwitchCase {\n    public static void main(String[] args) {\n        String mode = args[0];\n        switch (mode) {\n        case \"ACTIVE\":\n            System.out.println(\"Application is running on Active mode\");\n            break;\n        case \"PASSIVE\":\n            System.out.println(\"Application is running on Passive mode\");\n            break;\n        case \"SAFE\":\n            System.out.println(\"Application is running on Safe mode\");\n        }\n    }\n}\n</code></pre>\n\n<p>Becomes this code:</p>\n\n<pre><code>public class StringInSwitchCase {\n    public StringInSwitchCase() {}\n\n    public static void main(string args[]) {\n        String mode = args[0];\n        String s;\n        switch ((s = mode).hashCode()) {\n        default:\n            break;\n        case -74056953:\n            if (s.equals(\"PASSIVE\")) {\n                System.out.println(\"Application is running on Passive mode\");\n            }\n            break;\n        case 2537357:\n            if (s.equals(\"SAFE\")) {\n                System.out.println(\"Application is running on Safe mode\");\n            }\n            break;\n        case 1925346054:\n            if (s.equals(\"ACTIVE\")) {\n                System.out.println(\"Application is running on Active mode\");\n            }\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>We can't reliably turn <code>Class</code> objects into ints the same way. Class <strong>doesn't override hashCode</strong>, it uses <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#identityHashCode(java.lang.Object)\"><code>System.identityHashCode</code></a>.</p>\n\n<p>Note also that the same class is not always the same <code>Class</code>, if it has been loaded with a different <code>ClassLoader</code>.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1442226991,"creation_date":1438073153,"answer_id":31671438,"question_id":31664071,"body_markdown":"Interestingly, all answers so far are basically saying “because the specification says so”, which is correct but not really satisfying. Before Java&#160;7, `String`s were not allowed and that was often treated like being carved in stone.\r\n\r\nBut technical obstacles shouldn’t drive language design. If there is no way to compile it to efficient code, it might still get compiled to the equivalent of `if … else …` clauses, and still have a win on source code brevity. In the case of `String` values, there is an efficient way. Just switch over the invariant hashcode and perform an `equals` check on the match candidate. In fact, the specification does not mandate to use the hash code, it could be any invariant `int` property, e.g. the length or the first character, but it’s value should be different for each `String`.\r\n\r\nSimilarly, a `switch` over `Class` objects is possible. It’s hash code is *not* guaranteed to be the same, but each class has a constant name with a constant hash code. E.g. the following works:\r\n\r\n    public class ClassSwitch {\r\n        static final class Foo {}\r\n        static final class Bar {}\r\n        static final class Baz {}\r\n    \r\n        public static void main(String... arg) {\r\n            Class&lt;?&gt; cl=Bar.class;\r\n            switch(cl.getSimpleName().hashCode()) {\r\n                case 70822: \r\n                    if(cl==Foo.class) {\r\n                        System.out.println(&quot;case Foo:&quot;);\r\n                    }\r\n                    break;\r\n                case 66547: \r\n                    if(cl==Bar.class) {\r\n                        System.out.println(&quot;case Baz:&quot;);\r\n                    }\r\n                    break;\r\n                case 66555: \r\n                    if(cl==Baz.class) {\r\n                        System.out.println(&quot;case Baz:&quot;);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\nI used the simple name instead of the qualified name, so that this example code is package independent. But I think, the picture is clear. It is possible to implement efficient `switch` statements for any kind of object which has a constant `int` property that can be predicted at compile time. That said, there is also no reason not to support `long` switches. There are plenty of ways to calculate a suitable `int` from a `long`…\r\n\r\n---\r\nSo there are another important decisions to make.\r\n\r\nIs this feature really a benefit? It looks like code smell—even the addition of `String` support was controversial. It does not add new possibilities as you may do the same with `if`-`else` for a small number of classes or a `HashMap&lt;Class,SomeHandlerType&gt;` for bigger numbers. And it doesn’t really look like something that is needed so often, that it is worth expanding the language specification, even if it is just a single sentence that has to be added.\r\n\r\nThese are the considerations that drive the language design, but it’s not that minds and balances cannot change. So I’m not saying that’s impossible that a future version gets this feature.\r\n\r\nBut well, looking [at the quality of generated `String` `switch` code](https://stackoverflow.com/q/25568639/2711488) I’d rather code my `switches` manually…","title":"Why can&#39;t we switch on classes in Java 7+?","body":"<p>Interestingly, all answers so far are basically saying “because the specification says so”, which is correct but not really satisfying. Before Java 7, <code>String</code>s were not allowed and that was often treated like being carved in stone.</p>\n\n<p>But technical obstacles shouldn’t drive language design. If there is no way to compile it to efficient code, it might still get compiled to the equivalent of <code>if … else …</code> clauses, and still have a win on source code brevity. In the case of <code>String</code> values, there is an efficient way. Just switch over the invariant hashcode and perform an <code>equals</code> check on the match candidate. In fact, the specification does not mandate to use the hash code, it could be any invariant <code>int</code> property, e.g. the length or the first character, but it’s value should be different for each <code>String</code>.</p>\n\n<p>Similarly, a <code>switch</code> over <code>Class</code> objects is possible. It’s hash code is <em>not</em> guaranteed to be the same, but each class has a constant name with a constant hash code. E.g. the following works:</p>\n\n<pre><code>public class ClassSwitch {\n    static final class Foo {}\n    static final class Bar {}\n    static final class Baz {}\n\n    public static void main(String... arg) {\n        Class&lt;?&gt; cl=Bar.class;\n        switch(cl.getSimpleName().hashCode()) {\n            case 70822: \n                if(cl==Foo.class) {\n                    System.out.println(\"case Foo:\");\n                }\n                break;\n            case 66547: \n                if(cl==Bar.class) {\n                    System.out.println(\"case Baz:\");\n                }\n                break;\n            case 66555: \n                if(cl==Baz.class) {\n                    System.out.println(\"case Baz:\");\n                }\n                break;\n        }\n    }\n}\n</code></pre>\n\n<p>I used the simple name instead of the qualified name, so that this example code is package independent. But I think, the picture is clear. It is possible to implement efficient <code>switch</code> statements for any kind of object which has a constant <code>int</code> property that can be predicted at compile time. That said, there is also no reason not to support <code>long</code> switches. There are plenty of ways to calculate a suitable <code>int</code> from a <code>long</code>…</p>\n\n<hr>\n\n<p>So there are another important decisions to make.</p>\n\n<p>Is this feature really a benefit? It looks like code smell—even the addition of <code>String</code> support was controversial. It does not add new possibilities as you may do the same with <code>if</code>-<code>else</code> for a small number of classes or a <code>HashMap&lt;Class,SomeHandlerType&gt;</code> for bigger numbers. And it doesn’t really look like something that is needed so often, that it is worth expanding the language specification, even if it is just a single sentence that has to be added.</p>\n\n<p>These are the considerations that drive the language design, but it’s not that minds and balances cannot change. So I’m not saying that’s impossible that a future version gets this feature.</p>\n\n<p>But well, looking <a href=\"https://stackoverflow.com/q/25568639/2711488\">at the quality of generated <code>String</code> <code>switch</code> code</a> I’d rather code my <code>switches</code> manually…</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1438077138,"creation_date":1438077138,"answer_id":31672873,"question_id":31664071,"body_markdown":"In Java 8 you can create your own &quot;switch-case&quot; using lambdas. Here&#39;s a simple example on how to switch on object class (not the `Class` object itself as you want, but this seems to be more useful):\r\n\r\n\timport java.util.function.Consumer;\r\n\t\r\n\tpublic class SwitchClass&lt;T&gt; {\r\n\t\tprivate static final SwitchClass&lt;?&gt; EMPTY = new SwitchClass&lt;Object&gt;(null) {\r\n\t\t\t@Override\r\n\t\t\tpublic &lt;S&gt; SwitchClass&lt;Object&gt; when(Class&lt;S&gt; subClass,\r\n\t\t\t\t\tConsumer&lt;? super S&gt; consumer) { return this; }\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic void orElse(Consumer&lt;? super Object&gt; consumer) { }\r\n\t\t};\r\n\t\r\n\t\tfinal T obj;\r\n\t\r\n\t\tprivate SwitchClass(T obj) {\r\n\t\t\tthis.obj = obj;\r\n\t\t}\r\n\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic &lt;S&gt; SwitchClass&lt;T&gt; when(Class&lt;S&gt; subClass,\r\n\t\t\t\tConsumer&lt;? super S&gt; consumer) {\r\n\t\t\tif (subClass.isInstance(obj)) {\r\n\t\t\t\tconsumer.accept((S) obj);\r\n\t\t\t\treturn (SwitchClass&lt;T&gt;) EMPTY;\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\r\n\t\tpublic void orElse(Consumer&lt;? super T&gt; consumer) {\r\n\t\t\tconsumer.accept(obj);\r\n\t\t}\r\n\t\r\n\t\tpublic static &lt;T&gt; SwitchClass&lt;T&gt; of(T t) {\r\n\t\t\treturn new SwitchClass&lt;&gt;(t);\r\n\t\t}\r\n\t}\r\n\r\nUsage example:\r\n\r\n\tSwitchClass.of(obj)\r\n\t\t.when(Integer.class, i -&gt; System.out.println(&quot;Integer: &quot;+i.intValue()))\r\n\t\t.when(Double.class, d -&gt; System.out.println(&quot;Double: &quot;+d.doubleValue()))\r\n\t\t.when(Number.class, n -&gt; System.out.println(&quot;Some number: &quot;+n))\r\n\t\t.when(String.class, str -&gt; System.out.println(&quot;String of length &quot;+str.length()))\r\n\t\t.orElse(o -&gt; System.out.println(&quot;Unknown object: &quot;+o));\r\n\r\nIf executes only the first matching branch, so for `Double` object only `Double` branch will be executed, not `Number` branch. The neat thing is that typecast is performed automatically.","title":"Why can&#39;t we switch on classes in Java 7+?","body":"<p>In Java 8 you can create your own \"switch-case\" using lambdas. Here's a simple example on how to switch on object class (not the <code>Class</code> object itself as you want, but this seems to be more useful):</p>\n\n<pre><code>import java.util.function.Consumer;\n\npublic class SwitchClass&lt;T&gt; {\n    private static final SwitchClass&lt;?&gt; EMPTY = new SwitchClass&lt;Object&gt;(null) {\n        @Override\n        public &lt;S&gt; SwitchClass&lt;Object&gt; when(Class&lt;S&gt; subClass,\n                Consumer&lt;? super S&gt; consumer) { return this; }\n\n        @Override\n        public void orElse(Consumer&lt;? super Object&gt; consumer) { }\n    };\n\n    final T obj;\n\n    private SwitchClass(T obj) {\n        this.obj = obj;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public &lt;S&gt; SwitchClass&lt;T&gt; when(Class&lt;S&gt; subClass,\n            Consumer&lt;? super S&gt; consumer) {\n        if (subClass.isInstance(obj)) {\n            consumer.accept((S) obj);\n            return (SwitchClass&lt;T&gt;) EMPTY;\n        }\n        return this;\n    }\n\n    public void orElse(Consumer&lt;? super T&gt; consumer) {\n        consumer.accept(obj);\n    }\n\n    public static &lt;T&gt; SwitchClass&lt;T&gt; of(T t) {\n        return new SwitchClass&lt;&gt;(t);\n    }\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>SwitchClass.of(obj)\n    .when(Integer.class, i -&gt; System.out.println(\"Integer: \"+i.intValue()))\n    .when(Double.class, d -&gt; System.out.println(\"Double: \"+d.doubleValue()))\n    .when(Number.class, n -&gt; System.out.println(\"Some number: \"+n))\n    .when(String.class, str -&gt; System.out.println(\"String of length \"+str.length()))\n    .orElse(o -&gt; System.out.println(\"Unknown object: \"+o));\n</code></pre>\n\n<p>If executes only the first matching branch, so for <code>Double</code> object only <code>Double</code> branch will be executed, not <code>Number</code> branch. The neat thing is that typecast is performed automatically.</p>\n"},{"tags":[],"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657318709,"creation_date":1657318709,"answer_id":72917535,"question_id":31664071,"body_markdown":"You can now do this in Java 17+, using [the new pattern-matching `switch` feature](https://docs.oracle.com/en/java/javase/17/language/pattern-matching-switch-expressions-and-statements.html).  To tweak your example:\r\n\r\n```java\r\npublic void m(final Object c) {\r\n    switch (c) {\r\n        case SubClassOfC1 c1 -&gt; throw new IllegalStateException(c1.toString());\r\n        case SubClassOfC2 c2 -&gt; throw new IllegalArgumentException(c2.toString());\r\n        default -&gt; throw new NotImplementedException();\r\n    }\r\n}\r\n```","title":"Why can&#39;t we switch on classes in Java 7+?","body":"<p>You can now do this in Java 17+, using <a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-switch-expressions-and-statements.html\" rel=\"nofollow noreferrer\">the new pattern-matching <code>switch</code> feature</a>.  To tweak your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void m(final Object c) {\n    switch (c) {\n        case SubClassOfC1 c1 -&gt; throw new IllegalStateException(c1.toString());\n        case SubClassOfC2 c2 -&gt; throw new IllegalArgumentException(c2.toString());\n        default -&gt; throw new NotImplementedException();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2448,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"accepted_answer_id":31671438,"answer_count":6,"score":7,"last_activity_date":1657318709,"creation_date":1438034423,"question_id":31664071,"body_markdown":"It seems to me that such a switch statement would make a lot of sense, but it gives a compile error : \r\n\r\n    public void m(Class c) {\r\n       switch (c) {\r\n           case SubClassOfC1.class : //do stuff; break;\r\n           case SubClassOfC2.class : //do stuff; break;\r\n       }\r\n    } \r\n\r\nHowever, classes are not supported to switch on. What is the reason why?\r\n\r\nI am not trying to workaround `instanceof`, it&#39;s really at the class level that I got some operations to perform, no instances there.\r\n\r\nThe compile error is around SubClassOfC1 &amp; SubClassOfC2 : `constant expression required.`","title":"Why can&#39;t we switch on classes in Java 7+?","body":"<p>It seems to me that such a switch statement would make a lot of sense, but it gives a compile error : </p>\n\n<pre><code>public void m(Class c) {\n   switch (c) {\n       case SubClassOfC1.class : //do stuff; break;\n       case SubClassOfC2.class : //do stuff; break;\n   }\n} \n</code></pre>\n\n<p>However, classes are not supported to switch on. What is the reason why?</p>\n\n<p>I am not trying to workaround <code>instanceof</code>, it's really at the class level that I got some operations to perform, no instances there.</p>\n\n<p>The compile error is around SubClassOfC1 &amp; SubClassOfC2 : <code>constant expression required.</code></p>\n"},{"tags":["java","guice"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1657046273,"post_id":72872357,"comment_id":128714926,"body_markdown":"I believe `MetaScanner` comes from Axelor; am I correct?","body":"I believe <code>MetaScanner</code> comes from Axelor; am I correct?"}],"answers":[{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657101294,"creation_date":1657046209,"answer_id":72874107,"question_id":72872357,"body_markdown":"# Guice works with explicit bindings, not implicit ones.\r\n\r\nWhen you `bind()` a type, you actually bind that type and not any of its interfaces or superclasses. That means that for a class such as [`ArrayList`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html), which implements several interfaces and has several super classes, only `ArrayList` will be binded, not `List`, not `AbstractList` to take a few.\r\n\r\nTherefore, the best approach is to find all subtypes of the type you want to bind, and make sure there&#39;s only one appropriate implementation.\r\n\r\nIn terms of code, what you should do is the following:\r\n\r\n```\r\nScopedBindingBuilder bindScannedImplementation(Class&lt;?&gt; baseType) {\r\n  var subtypes = MetaScanner.findSubTypesOf(baseType)\r\n            .having(Path.class)\r\n            .having(Provider.class)\r\n            .any()\r\n            .find();\r\n  var implementations = subtypes.stream()\r\n            .filter(this::isConcreteClass)\r\n            .toList();\r\n  if (implementations.size() != 1) {\r\n    throw new RuntimeException(&quot;Too many or too few implementations for &quot; + baseType.getName());\r\n  }\r\n  var implementation = implementations.get(0);\r\n  return bind(baseType.class).to(implementation);\r\n}\r\nprivate boolean isConcreteClass(Class&lt;?&gt; c) {\r\n  if (c.isInterface()) return false;\r\n  if ((c.getModifiers() &amp; Modifier.ABSTRACT) != 0) return false;\r\n  return true;\r\n}\r\n```\r\n\r\nThen, you have to explicitly bind the types you want:\r\n\r\n```\r\nbindScannedImplementation(UserService.class).in(Singleton.class);\r\n```","title":"guice : No implementation for interface was bound","body":"<h1>Guice works with explicit bindings, not implicit ones.</h1>\n<p>When you <code>bind()</code> a type, you actually bind that type and not any of its interfaces or superclasses. That means that for a class such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>, which implements several interfaces and has several super classes, only <code>ArrayList</code> will be binded, not <code>List</code>, not <code>AbstractList</code> to take a few.</p>\n<p>Therefore, the best approach is to find all subtypes of the type you want to bind, and make sure there's only one appropriate implementation.</p>\n<p>In terms of code, what you should do is the following:</p>\n<pre><code>ScopedBindingBuilder bindScannedImplementation(Class&lt;?&gt; baseType) {\n  var subtypes = MetaScanner.findSubTypesOf(baseType)\n            .having(Path.class)\n            .having(Provider.class)\n            .any()\n            .find();\n  var implementations = subtypes.stream()\n            .filter(this::isConcreteClass)\n            .toList();\n  if (implementations.size() != 1) {\n    throw new RuntimeException(&quot;Too many or too few implementations for &quot; + baseType.getName());\n  }\n  var implementation = implementations.get(0);\n  return bind(baseType.class).to(implementation);\n}\nprivate boolean isConcreteClass(Class&lt;?&gt; c) {\n  if (c.isInterface()) return false;\n  if ((c.getModifiers() &amp; Modifier.ABSTRACT) != 0) return false;\n  return true;\n}\n</code></pre>\n<p>Then, you have to explicitly bind the types you want:</p>\n<pre><code>bindScannedImplementation(UserService.class).in(Singleton.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657317819,"creation_date":1657317819,"answer_id":72917419,"question_id":72872357,"body_markdown":"this might help, I found it more practical to add an **@ImplementedBy()** annotation in the interface declaration.","title":"guice : No implementation for interface was bound","body":"<p>this might help, I found it more practical to add an <strong>@ImplementedBy()</strong> annotation in the interface declaration.</p>\n"}],"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72874107,"answer_count":2,"score":1,"last_activity_date":1657317819,"creation_date":1657036551,"question_id":72872357,"body_markdown":"Is it ok to bind in interface with guice?\r\nthe error is **No implementation for com.tobris.apps.base.service.user.UserService was bound.** \r\n\r\nUserService is an interface.\r\n\r\n```\r\n\r\n  @Inject\r\n  public SyncContactService(\r\n      PartnerRepository partnerRepo,\r\n      CompanyRepository companyRepo,\r\n      CityRepository cityRepo,\r\n      CountryRepository countryRepo,\r\n      AddressRepository addressRepo,\r\n      SyncContactRepository syncContactRepo,\r\n      EmailAddressRepository emailAddressRepo,\r\n      UserService userService,\r\n      FunctionRepository functionRepo) {\r\n    this.partnerRepo = partnerRepo;\r\n    this.companyRepo = companyRepo;\r\n    this.cityRepo = cityRepo;\r\n    this.countryRepo = countryRepo;\r\n    this.addressRepo = addressRepo;\r\n    this.syncContactRepo = syncContactRepo;\r\n    this.emailAddressRepo = emailAddressRepo;\r\n    this.userService = userService;\r\n    this.functionRepo = functionRepo;\r\n  }\r\n```\r\n\r\nthis is the binding code : \r\n```\r\n    // bind all the web service resources\r\n    for (Class&lt;?&gt; type :\r\n        MetaScanner.findSubTypesOf(Object.class)\r\n            .having(Path.class)\r\n            .having(Provider.class)\r\n            .any()\r\n            .find()) {\r\n      bind(type);\r\n    }\r\n```","title":"guice : No implementation for interface was bound","body":"<p>Is it ok to bind in interface with guice?\nthe error is <strong>No implementation for com.tobris.apps.base.service.user.UserService was bound.</strong></p>\n<p>UserService is an interface.</p>\n<pre><code>\n  @Inject\n  public SyncContactService(\n      PartnerRepository partnerRepo,\n      CompanyRepository companyRepo,\n      CityRepository cityRepo,\n      CountryRepository countryRepo,\n      AddressRepository addressRepo,\n      SyncContactRepository syncContactRepo,\n      EmailAddressRepository emailAddressRepo,\n      UserService userService,\n      FunctionRepository functionRepo) {\n    this.partnerRepo = partnerRepo;\n    this.companyRepo = companyRepo;\n    this.cityRepo = cityRepo;\n    this.countryRepo = countryRepo;\n    this.addressRepo = addressRepo;\n    this.syncContactRepo = syncContactRepo;\n    this.emailAddressRepo = emailAddressRepo;\n    this.userService = userService;\n    this.functionRepo = functionRepo;\n  }\n</code></pre>\n<p>this is the binding code :</p>\n<pre><code>    // bind all the web service resources\n    for (Class&lt;?&gt; type :\n        MetaScanner.findSubTypesOf(Object.class)\n            .having(Path.class)\n            .having(Provider.class)\n            .any()\n            .find()) {\n      bind(type);\n    }\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","dependencies","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657319083,"post_id":72917408,"comment_id":128790599,"body_markdown":"Build on plain command line first... or reload the project in intellij ...","body":"Build on plain command line first... or reload the project in intellij ..."},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1657364221,"post_id":72917408,"comment_id":128796076,"body_markdown":"look at InteliJ logs Help -&gt; Show log","body":"look at InteliJ logs Help -&gt; Show log"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1657519658,"post_id":72917408,"comment_id":128820104,"body_markdown":"Does `mvn clean compile` complete successfully in terminal? If so, after this command - try just restarting the IDE and **Reload** action in Maven tool window. Does it help?","body":"Does <code>mvn clean compile</code> complete successfully in terminal? If so, after this command - try just restarting the IDE and <b>Reload</b> action in Maven tool window. Does it help?"}],"owner":{"account_id":22153768,"reputation":49,"user_id":16401875,"display_name":"Cassie Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657317760,"creation_date":1657317760,"question_id":72917408,"body_markdown":"I&#39;m trying to load some packages into my maven project using pom.xml file but the version tags always show the red color saying the dependency is not found. I tried invalidate &amp; clear caches but it still doesn&#39;t work. I know I can manually import jar files into the modules setting yet it bothers me not knowing why this keeps happening. \r\n\r\n[![project/ dependency not found][1]][1]\r\n\r\nThis happens to every dependency that I tried to insert in. Does anyone know the solution? I&#39;m using IntelliJ. \r\n\r\n  [1]: https://i.stack.imgur.com/6vGHM.png","title":"dependency not found in maven pom.xml file","body":"<p>I'm trying to load some packages into my maven project using pom.xml file but the version tags always show the red color saying the dependency is not found. I tried invalidate &amp; clear caches but it still doesn't work. I know I can manually import jar files into the modules setting yet it bothers me not knowing why this keeps happening.</p>\n<p><a href=\"https://i.stack.imgur.com/6vGHM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6vGHM.png\" alt=\"project/ dependency not found\" /></a></p>\n<p>This happens to every dependency that I tried to insert in. Does anyone know the solution? I'm using IntelliJ.</p>\n"},{"tags":["java","variables","serialization"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1657316844,"post_id":72917256,"comment_id":128790188,"body_markdown":"Static members are [not serialized](https://stackoverflow.com/questions/6429462/java-static-serialization-rules). But otherwise: if you serialize an object, then all of its non-static fields are serialized as well, and if they refer to objects then that applies recursively. And everything has to be `Serializable` otherwise you will get an exception when you try to serialize the object.","body":"Static members are <a href=\"https://stackoverflow.com/questions/6429462/java-static-serialization-rules\">not serialized</a>. But otherwise: if you serialize an object, then all of its non-static fields are serialized as well, and if they refer to objects then that applies recursively. And everything has to be <code>Serializable</code> otherwise you will get an exception when you try to serialize the object."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1657316976,"post_id":72917256,"comment_id":128790210,"body_markdown":"Also, please [post code as text, not as an image](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question).","body":"Also, please <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\">post code as text, not as an image</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1657317538,"post_id":72917256,"comment_id":128790317,"body_markdown":"Also, `transient` fields are ignored during serialization. At least by default. See https://docs.oracle.com/en/java/javase/18/docs/specs/serialization/serial-arch.html#defining-serializable-fields-for-a-class","body":"Also, <code>transient</code> fields are ignored during serialization. At least by default. See <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/serialization/serial-arch.html#defining-serializable-fields-for-a-class\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/18/docs/specs/serialization/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1657317747,"post_id":72917256,"comment_id":128790359,"body_markdown":"And here&#39;s the full spec: https://docs.oracle.com/en/java/javase/18/docs/specs/serialization/index.html","body":"And here&#39;s the full spec: <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/serialization/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/18/docs/specs/serialization/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657317691,"creation_date":1657317691,"answer_id":72917400,"question_id":72917256,"body_markdown":"Serialization with the marker interface you mentioned is a tough topic in Java. All member fields of an object will get serialized, except the ones marked with the keyword `transient`. Other variables like local variables or parameters to constructors or methods are not serialized.\r\n\r\nIt is easy to corrupt a Java program by deserializing malicious or corrupted data. You can customize, what will be serialized by implementing the methods `private void readObject(ObjectInputStream s)` and `private void writeObject(ObjectOutputStream s)`\r\n\r\nAs you can see, those private (!) methods are not members of the interface `Serializable`, so it&#39;s compiler magic that calls them for serialization. If you do not implement them, there is a default implementation.\r\n\r\nDon&#39;t forget to specify the variable \r\n\r\n```private static final long serialVersionUID = 1L;``` and give it a new value for each update of your member fields - this will prevent that you deserialize data from another version of your class where the data does not suite the implementation.\r\n\r\nIn general: If you really have to use serialization, I would recommend that you read more articles on it, e.g. https://ahdak.github.io/blog/effective-java-part-11/ - it summarizes from the book &quot;Effective Java&quot; by Josh Bloch.\r\n\r\nAlso the [Java Object Serialization Specification](https://docs.oracle.com/javase/8/docs/platform/serialization/spec/serialTOC.html) could be interesting for you.","title":"Do all variables in a serialized class become part of the serialization process in Java?","body":"<p>Serialization with the marker interface you mentioned is a tough topic in Java. All member fields of an object will get serialized, except the ones marked with the keyword <code>transient</code>. Other variables like local variables or parameters to constructors or methods are not serialized.</p>\n<p>It is easy to corrupt a Java program by deserializing malicious or corrupted data. You can customize, what will be serialized by implementing the methods <code>private void readObject(ObjectInputStream s)</code> and <code>private void writeObject(ObjectOutputStream s)</code></p>\n<p>As you can see, those private (!) methods are not members of the interface <code>Serializable</code>, so it's compiler magic that calls them for serialization. If you do not implement them, there is a default implementation.</p>\n<p>Don't forget to specify the variable</p>\n<p><code>private static final long serialVersionUID = 1L;</code> and give it a new value for each update of your member fields - this will prevent that you deserialize data from another version of your class where the data does not suite the implementation.</p>\n<p>In general: If you really have to use serialization, I would recommend that you read more articles on it, e.g. <a href=\"https://ahdak.github.io/blog/effective-java-part-11/\" rel=\"nofollow noreferrer\">https://ahdak.github.io/blog/effective-java-part-11/</a> - it summarizes from the book &quot;Effective Java&quot; by Josh Bloch.</p>\n<p>Also the <a href=\"https://docs.oracle.com/javase/8/docs/platform/serialization/spec/serialTOC.html\" rel=\"nofollow noreferrer\">Java Object Serialization Specification</a> could be interesting for you.</p>\n"}],"owner":{"account_id":25762661,"reputation":13,"user_id":19513311,"display_name":"Murat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72917400,"answer_count":1,"score":1,"last_activity_date":1657317691,"creation_date":1657316426,"question_id":72917256,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bk99T.pngstrong text\r\n\r\n\r\nIn addition, does it matter whether the variables being part of the serialization process are instance variables or variables in conductors in methods or object variables?","title":"Do all variables in a serialized class become part of the serialization process in Java?","body":"<p>[enter image description here][1]</p>\n<p>[1]: <a href=\"https://i.stack.imgur.com/Bk99T.pngstrong\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Bk99T.pngstrong</a> text</p>\n<p>In addition, does it matter whether the variables being part of the serialization process are instance variables or variables in conductors in methods or object variables?</p>\n"},{"tags":["java","linked-list"],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657309084,"creation_date":1657309084,"answer_id":72916236,"question_id":72915265,"body_markdown":"LinkedList.contains() takes an object as it&#39;s param to test if the LinkedList contains that object. Instead of\r\n\r\n    } else if (!Seats.seatsInSaloon.contains(s.getSeatChar() == seatChar &amp;&amp; s.getSeatNumber() == seatNum)) {\r\n        System.out.println(&quot;sorry... This ticket has already been issued&quot;);\r\n        break;\r\n    }\r\n\r\nYou need to pass an instance of Seats with the seatChar and seatNumber that you&#39;re looking for.\r\n\r\nIt would also make more sense if you have a class called Seat which represents one instance of a seat, and then you can define a Collection of Seat like\r\n\r\n    LinkedList&lt;Seat&gt; seats;","title":"Simple ticketing simulator , Why am I able to issue tickets only in the order?","body":"<p>LinkedList.contains() takes an object as it's param to test if the LinkedList contains that object. Instead of</p>\n<pre><code>} else if (!Seats.seatsInSaloon.contains(s.getSeatChar() == seatChar &amp;&amp; s.getSeatNumber() == seatNum)) {\n    System.out.println(&quot;sorry... This ticket has already been issued&quot;);\n    break;\n}\n</code></pre>\n<p>You need to pass an instance of Seats with the seatChar and seatNumber that you're looking for.</p>\n<p>It would also make more sense if you have a class called Seat which represents one instance of a seat, and then you can define a Collection of Seat like</p>\n<pre><code>LinkedList&lt;Seat&gt; seats;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17419771,"reputation":98,"user_id":12625547,"display_name":"Yaser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657317467,"creation_date":1657317467,"answer_id":72917372,"question_id":72915265,"body_markdown":"Remove the if else condition from yout ticketing class and create an another validation method for that functionality.You can copy the list you created, delete it every time you create a ticket, and perform the validation process from there.. \r\n\r\nDelete this condition.\r\n\r\n    else if (!Seats.seatsInSaloon.contains(s.getSeatChar() == seatChar &amp;&amp; s.getSeatNumber() == seatNum)) {\r\n            System.out.println(&quot;sorry... This ticket has already been issued&quot;);\r\n            break;\r\n        }\r\n","title":"Simple ticketing simulator , Why am I able to issue tickets only in the order?","body":"<p>Remove the if else condition from yout ticketing class and create an another validation method for that functionality.You can copy the list you created, delete it every time you create a ticket, and perform the validation process from there..</p>\n<p>Delete this condition.</p>\n<pre><code>else if (!Seats.seatsInSaloon.contains(s.getSeatChar() == seatChar &amp;&amp; s.getSeatNumber() == seatNum)) {\n        System.out.println(&quot;sorry... This ticket has already been issued&quot;);\n        break;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user10525734"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657317467,"creation_date":1657303048,"question_id":72915265,"body_markdown":"I`m just learning to code and I was trying to implement a simple Ticketing Simulation .\r\n\r\nI have Seats class , in this class I have a LinkedList storing all the seats in the saloon . I created and numbered the seats , and added them to this static LinkedList .When I`m ticketing a seat , it is done by entering a seat number and a char for its row .. I have 50 seats , every 10 seats has an alphabetic value of char . 1-10 A , 11-20 B and so on..\r\n\r\n    public class Seats {\r\n\r\n\tpublic static LinkedList&lt;Seats&gt; seatsInSaloon;\r\n\tprivate final int seatNumber;\r\n\tprivate final char seatChar;\r\n\r\n\tpublic Seats(int seatNumber, char seatChar) {\r\n\r\n\t\tthis.seatChar = seatChar;\r\n\t\tthis.seatNumber = seatNumber;\r\n\t}\r\n\r\n\tprivate static void generateSeats() {\r\n\r\n\t\tseatsInSaloon = new LinkedList&lt;Seats&gt;();\r\n\t\tchar x = &#39;a&#39;;\r\n\t\tfor (int i = 1; i &lt; 51; i++) {\r\n\t\t\tif (i % 10 == 0) {\r\n\t\t\t\tSeats seats = new Seats(i, x);\r\n\t\t\t\tseatsInSaloon.add(seats);\r\n\t\t\t\tx++;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tSeats seats = new Seats(i, x);\r\n\t\t\t\tseatsInSaloon.add(seats);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic int getSeatNumber() {\r\n\t\treturn seatNumber;\r\n\t}\r\n\r\n\tpublic char getSeatChar() {\r\n\t\treturn seatChar;\r\n\t}\r\n\r\n\tpublic static void fillSeats() {\r\n\t\tgenerateSeats();\r\n\t}\r\n\r\n}\r\n \r\n\r\n\r\n I wanted to make sure the ticketed seat is removed from that static LinkedList holding all seats , so it cannot be booked again . While I was testing my code , I realized , if I do not issue tickets in order ( first ticket for seat 1,a.. second ticket for 2,a .. and so on..) , it acts as if that seat with given seat number and char is not existent in the static linkedlist which holds all the seats .. Can somebody help me see what I`m doing wrong ? Does it require ticketing in order because I`m using a linkedList ? Thank you..\r\n\r\n        public class Ticketing {\r\n\r\n\tprivate static Seats seats;\r\n\r\n\tpublic static LinkedList&lt;Seats&gt; seeAllSeatsAvailable() {\r\n\t\treturn Seats.seatsInSaloon;\r\n\t}\r\n\r\n\tpublic static void ticketSeat(int seatNum, char seatChar) {\r\n\t\tif ((seatNum &gt; 50 || seatNum &lt; 1) || (seatChar &gt; &#39;e&#39; || seatChar &lt; &#39;a&#39;)) {\r\n\t\t\tSystem.out.println(&quot;please check the numbers you have entered .... &quot;);\r\n\t\t}\r\n\r\n\t\tfor (Seats s : Seats.seatsInSaloon) {\r\n\t\t\tif (s.getSeatChar() == seatChar &amp;&amp; s.getSeatNumber() == seatNum) {\r\n\t\t\t\tSystem.out.println(&quot;HERE IS YOUR TICKET : &quot; + seatChar + seatNum);\r\n\t\t\t\tSeats.seatsInSaloon.remove(s);\r\n\t\t\t\tbreak;\r\n\t\t\t} else if (!Seats.seatsInSaloon.contains(s.getSeatChar() == seatChar &amp;&amp; s.getSeatNumber() == seatNum)) {\r\n\t\t\t\tSystem.out.println(&quot;sorry... This ticket has already been issued&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\n\r\nhere is the test..\r\n        public class TicketDriver {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t// System.out.println(Ticketing.seeAllSeats());\r\n\t\tSeats.fillSeats();\r\n\r\n\t\tTicketing.ticketSeat(1, &#39;a&#39;); //fine\r\n\r\n\r\n\r\n\t\tTicketing.ticketSeat(2, &#39;a&#39;); //fine\r\n\t\tTicketing.ticketSeat(3, &#39;a&#39;); //fine\r\n\t\tTicketing.ticketSeat(4, &#39;a&#39;); //fine\r\n\t\tTicketing.ticketSeat(4, &#39;a&#39;); //fine , prints the correct error.\r\n\r\n\t\tTicketing.ticketSeat(11, &#39;b&#39;); //?????\r\n\t\t\r\n\t\t/*\r\n\t\t\r\n\t\tLast one Gives error as if this seat does not exist inside linkedlist.\r\n\t\tIt prints &quot;sirry,, This ticket has already been issued&quot;\r\n\t\t\t\t\t\t\r\n\t\t*/\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n","title":"Simple ticketing simulator , Why am I able to issue tickets only in the order?","body":"<p>I`m just learning to code and I was trying to implement a simple Ticketing Simulation .</p>\n<p>I have Seats class , in this class I have a LinkedList storing all the seats in the saloon . I created and numbered the seats , and added them to this static LinkedList .When I`m ticketing a seat , it is done by entering a seat number and a char for its row .. I have 50 seats , every 10 seats has an alphabetic value of char . 1-10 A , 11-20 B and so on..</p>\n<pre><code>public class Seats {\n\npublic static LinkedList&lt;Seats&gt; seatsInSaloon;\nprivate final int seatNumber;\nprivate final char seatChar;\n\npublic Seats(int seatNumber, char seatChar) {\n\n    this.seatChar = seatChar;\n    this.seatNumber = seatNumber;\n}\n\nprivate static void generateSeats() {\n\n    seatsInSaloon = new LinkedList&lt;Seats&gt;();\n    char x = 'a';\n    for (int i = 1; i &lt; 51; i++) {\n        if (i % 10 == 0) {\n            Seats seats = new Seats(i, x);\n            seatsInSaloon.add(seats);\n            x++;\n\n        } else {\n            Seats seats = new Seats(i, x);\n            seatsInSaloon.add(seats);\n        }\n\n    }\n\n}\n\npublic int getSeatNumber() {\n    return seatNumber;\n}\n\npublic char getSeatChar() {\n    return seatChar;\n}\n\npublic static void fillSeats() {\n    generateSeats();\n}\n</code></pre>\n<p>}</p>\n<p>I wanted to make sure the ticketed seat is removed from that static LinkedList holding all seats , so it cannot be booked again . While I was testing my code , I realized , if I do not issue tickets in order ( first ticket for seat 1,a.. second ticket for 2,a .. and so on..) , it acts as if that seat with given seat number and char is not existent in the static linkedlist which holds all the seats .. Can somebody help me see what I<code>m doing wrong ? Does it require ticketing in order because I</code>m using a linkedList ? Thank you..</p>\n<pre><code>    public class Ticketing {\n\nprivate static Seats seats;\n\npublic static LinkedList&lt;Seats&gt; seeAllSeatsAvailable() {\n    return Seats.seatsInSaloon;\n}\n\npublic static void ticketSeat(int seatNum, char seatChar) {\n    if ((seatNum &gt; 50 || seatNum &lt; 1) || (seatChar &gt; 'e' || seatChar &lt; 'a')) {\n        System.out.println(&quot;please check the numbers you have entered .... &quot;);\n    }\n\n    for (Seats s : Seats.seatsInSaloon) {\n        if (s.getSeatChar() == seatChar &amp;&amp; s.getSeatNumber() == seatNum) {\n            System.out.println(&quot;HERE IS YOUR TICKET : &quot; + seatChar + seatNum);\n            Seats.seatsInSaloon.remove(s);\n            break;\n        } else if (!Seats.seatsInSaloon.contains(s.getSeatChar() == seatChar &amp;&amp; s.getSeatNumber() == seatNum)) {\n            System.out.println(&quot;sorry... This ticket has already been issued&quot;);\n            break;\n        }\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>here is the test..\npublic class TicketDriver {</p>\n<pre><code>public static void main(String[] args) {\n\n    // System.out.println(Ticketing.seeAllSeats());\n    Seats.fillSeats();\n\n    Ticketing.ticketSeat(1, 'a'); //fine\n\n\n\n    Ticketing.ticketSeat(2, 'a'); //fine\n    Ticketing.ticketSeat(3, 'a'); //fine\n    Ticketing.ticketSeat(4, 'a'); //fine\n    Ticketing.ticketSeat(4, 'a'); //fine , prints the correct error.\n\n    Ticketing.ticketSeat(11, 'b'); //?????\n    \n    /*\n    \n    Last one Gives error as if this seat does not exist inside linkedlist.\n    It prints &quot;sirry,, This ticket has already been issued&quot;\n                    \n    */\n    \n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sql-server","spring","hibernate","transaction-isolation"],"comments":[{"owner":{"account_id":4689050,"reputation":1143,"user_id":13024949,"display_name":"Randy in Marin"},"score":0,"creation_date":1657490332,"post_id":72914555,"comment_id":128816238,"body_markdown":"A dirty read skips the DML share lock on the data in the table.  It does not skip the DDL locks needed to maintain the query plan.  The shared lock on the database and table can be blocked if another transaction is making changes to the database or table.  If you optimize the processing by changing the table (e.g., remove and add an index), you will be blocked.  A dirty read can also block.  For example, a dirty read can block index maintenance.  This can result in a huge blocking chain affecting all clients.","body":"A dirty read skips the DML share lock on the data in the table.  It does not skip the DDL locks needed to maintain the query plan.  The shared lock on the database and table can be blocked if another transaction is making changes to the database or table.  If you optimize the processing by changing the table (e.g., remove and add an index), you will be blocked.  A dirty read can also block.  For example, a dirty read can block index maintenance.  This can result in a huge blocking chain affecting all clients."},{"owner":{"account_id":1614068,"reputation":450,"user_id":1492248,"display_name":"nick kladis"},"score":0,"creation_date":1657520537,"post_id":72914555,"comment_id":128820329,"body_markdown":"@RandyInMarin Thank you for replying and for the information. Is there any way to read from the table in any way?","body":"@RandyInMarin Thank you for replying and for the information. Is there any way to read from the table in any way?"},{"owner":{"account_id":4689050,"reputation":1143,"user_id":13024949,"display_name":"Randy in Marin"},"score":0,"creation_date":1657554988,"post_id":72914555,"comment_id":128832892,"body_markdown":"Does the processing include alterations to the tables?  The type of schema lock makes a difference.  Have you tried doing the dirty read from SSMS to see if that works?","body":"Does the processing include alterations to the tables?  The type of schema lock makes a difference.  Have you tried doing the dirty read from SSMS to see if that works?"},{"owner":{"account_id":1614068,"reputation":450,"user_id":1492248,"display_name":"nick kladis"},"score":0,"creation_date":1657580085,"post_id":72914555,"comment_id":128840079,"body_markdown":"There are no changes on the schema. Only saves and updates. Yes i tried from the ssms also. Nothing.","body":"There are no changes on the schema. Only saves and updates. Yes i tried from the ssms also. Nothing."},{"owner":{"account_id":4689050,"reputation":1143,"user_id":13024949,"display_name":"Randy in Marin"},"score":1,"creation_date":1657659672,"post_id":72914555,"comment_id":128862486,"body_markdown":"It would be good to verify this is a blocking.  You can easily use the activity monitor to check the Processes &quot;Blocked By&quot; and &quot;Head Blocker&quot; columns.  There is a Wait Type column.  You can get the Session ID by querying @@SPID in your session.","body":"It would be good to verify this is a blocking.  You can easily use the activity monitor to check the Processes &quot;Blocked By&quot; and &quot;Head Blocker&quot; columns.  There is a Wait Type column.  You can get the Session ID by querying @@SPID in your session."},{"owner":{"account_id":1614068,"reputation":450,"user_id":1492248,"display_name":"nick kladis"},"score":0,"creation_date":1657702641,"post_id":72914555,"comment_id":128871004,"body_markdown":"Thank you for the info. I confirmed this is a read lock from the activity monitor which happens by a findByCompletedFalse named query with a graph. I still do now know why this lock occurs. It happens once the named query runs.","body":"Thank you for the info. I confirmed this is a read lock from the activity monitor which happens by a findByCompletedFalse named query with a graph. I still do now know why this lock occurs. It happens once the named query runs."},{"owner":{"account_id":4689050,"reputation":1143,"user_id":13024949,"display_name":"Randy in Marin"},"score":0,"creation_date":1657728527,"post_id":72914555,"comment_id":128881256,"body_markdown":"It will help to know what the lock is on.  There are several ways to approach it.  If you are familiar with setting up a blocking alert or an extended event session, those might be helpful in general.  You can also run sp_lock to list locks for a session id.  Or look at http://whoisactive.com/ for a handy query to run that will provide information.  It&#39;s not hard to get the wait resource causing the blocking.  It might take a query or two to identify what it is (e.g., translate a KEY resource to a db, table, index, and record).","body":"It will help to know what the lock is on.  There are several ways to approach it.  If you are familiar with setting up a blocking alert or an extended event session, those might be helpful in general.  You can also run sp_lock to list locks for a session id.  Or look at <a href=\"http://whoisactive.com/\" rel=\"nofollow noreferrer\">whoisactive.com</a> for a handy query to run that will provide information.  It&#39;s not hard to get the wait resource causing the blocking.  It might take a query or two to identify what it is (e.g., translate a KEY resource to a db, table, index, and record)."},{"owner":{"account_id":4689050,"reputation":1143,"user_id":13024949,"display_name":"Randy in Marin"},"score":0,"creation_date":1657728667,"post_id":72914555,"comment_id":128881296,"body_markdown":"https://learn.microsoft.com/en-us/troubleshoot/sql/performance/understand-resolve-blocking might be of interest.","body":"<a href=\"https://learn.microsoft.com/en-us/troubleshoot/sql/performance/understand-resolve-blocking\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/troubleshoot/sql/performance/&hellip;</a> might be of interest."},{"owner":{"account_id":1614068,"reputation":450,"user_id":1492248,"display_name":"nick kladis"},"score":0,"creation_date":1658094860,"post_id":72914555,"comment_id":128959673,"body_markdown":"After many searches the problem was located on an update query triggered internally by hibernate on object a during execution flow 2. The problem was solved by using a dto to avoid the update query to trigger at the end. It can also be saved with saveAndFlush().","body":"After many searches the problem was located on an update query triggered internally by hibernate on object a during execution flow 2. The problem was solved by using a dto to avoid the update query to trigger at the end. It can also be saved with saveAndFlush()."}],"owner":{"account_id":1614068,"reputation":450,"user_id":1492248,"display_name":"nick kladis"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657317139,"creation_date":1657298792,"question_id":72914555,"body_markdown":"i have a really heavy business logic. I use spring data jpa with microsoft sql server. My code looks like this.\r\n```\r\n@Transactional(rollbackFor = Exception.class)\r\npublic void executeAllFlows() {\r\n\r\n    RandomTableObject a = randomTableObjectRepository.findById(1L);\r\n    executeFlow1();\r\n    executeFlow2();\r\n    executeFlow3();\r\n    executeFlow4();\r\n    \r\n    a.setSomeAttribute(true);\r\n    randomTableObjectRepository.save(a);\r\n\r\n}\r\n\r\n@Transactional(rollbackFor = Exception.class)\r\nprivate void executeFlow1() {\r\n//read items from tempTable 1 and persist them in other 2 tables after performing logic\r\n}\r\n\r\n@Transactional(rollbackFor = Exception.class)\r\nprivate void executeFlow2() {\r\n//read items from tempTable 2 and persist them in other 2 tables after performing logic\r\n}\r\n\r\n@Transactional(rollbackFor = Exception.class)\r\nprivate void executeFlow3() {\r\n//read items from tempTable 3 and persist them in other 2 tables after performing logic\r\n}\r\n\r\n@Transactional(rollbackFor = Exception.class)\r\nprivate void executeFlow4() {\r\n//read items from tempTable 4 and persist them in other 2 tables after performing logic\r\n}\r\n```\r\n&lt;p&gt;This process may take up to two minutes because there are thousands of records involved.\r\nIf something fails all tables go on rollback. Which is what i want.&lt;/p&gt;\r\n&lt;p&gt;The problem occurs when i want to do some dirty reads while this process runs.\r\nWhile the process starts running i try to read from the table of RandomTableObject. \r\nAt the start of the process i get result but after a few seconds it delays the result until the whole process ends. &lt;/p&gt;\r\n&lt;p&gt;\r\nIt seems while hibernate selects from this table and starts modifying the record a read lock is implemented. Default behavior of hibernate is not to enforce read locks so my next suspect are isolation levels of ms sql server.&lt;/p&gt;\r\n\r\nAccording to this documentation of ms sql server:\r\n[Understanding isolation levels][1]\r\nIsolation level Read uncommitted allows dirty reads. I tried to enforce this by adding\r\n```\r\n@Transactional(rollbackFor = Exception.class , isolation = Isolation.READ_UNCOMMITTED)\r\n```\r\nabove each method but this does not solve the problem. The import is from org.springframework.transactions.annotation.\r\n\r\nHas anyone had the same problem with me and if yes is there any solution to this.\r\n\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/understanding-isolation-levels?view=sql-server-ver16","title":"Hibernate Isolation Problem with MS Sql Server. Read lock","body":"<p>i have a really heavy business logic. I use spring data jpa with microsoft sql server. My code looks like this.</p>\n<pre><code>@Transactional(rollbackFor = Exception.class)\npublic void executeAllFlows() {\n\n    RandomTableObject a = randomTableObjectRepository.findById(1L);\n    executeFlow1();\n    executeFlow2();\n    executeFlow3();\n    executeFlow4();\n    \n    a.setSomeAttribute(true);\n    randomTableObjectRepository.save(a);\n\n}\n\n@Transactional(rollbackFor = Exception.class)\nprivate void executeFlow1() {\n//read items from tempTable 1 and persist them in other 2 tables after performing logic\n}\n\n@Transactional(rollbackFor = Exception.class)\nprivate void executeFlow2() {\n//read items from tempTable 2 and persist them in other 2 tables after performing logic\n}\n\n@Transactional(rollbackFor = Exception.class)\nprivate void executeFlow3() {\n//read items from tempTable 3 and persist them in other 2 tables after performing logic\n}\n\n@Transactional(rollbackFor = Exception.class)\nprivate void executeFlow4() {\n//read items from tempTable 4 and persist them in other 2 tables after performing logic\n}\n</code></pre>\n<p>This process may take up to two minutes because there are thousands of records involved.\nIf something fails all tables go on rollback. Which is what i want.</p>\n<p>The problem occurs when i want to do some dirty reads while this process runs.\nWhile the process starts running i try to read from the table of RandomTableObject. \nAt the start of the process i get result but after a few seconds it delays the result until the whole process ends. </p>\n<p>\nIt seems while hibernate selects from this table and starts modifying the record a read lock is implemented. Default behavior of hibernate is not to enforce read locks so my next suspect are isolation levels of ms sql server.</p>\n<p>According to this documentation of ms sql server:\n<a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/understanding-isolation-levels?view=sql-server-ver16\" rel=\"nofollow noreferrer\">Understanding isolation levels</a>\nIsolation level Read uncommitted allows dirty reads. I tried to enforce this by adding</p>\n<pre><code>@Transactional(rollbackFor = Exception.class , isolation = Isolation.READ_UNCOMMITTED)\n</code></pre>\n<p>above each method but this does not solve the problem. The import is from org.springframework.transactions.annotation.</p>\n<p>Has anyone had the same problem with me and if yes is there any solution to this.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657313917,"post_id":72916613,"comment_id":128789571,"body_markdown":"The nomenclature used here is confusing.  In the JavaFX parlance, a [Canvas](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/canvas/Canvas.html) is for drawing [raster graphics](https://en.wikipedia.org/wiki/Raster_graphics) using a [GraphicsContext](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/canvas/GraphicsContext.html), not vectors. If you aren&#39;t using a Canvas, then I don&#39;t advise using Canvas in any of your names, else you confuse everybody involved.","body":"The nomenclature used here is confusing.  In the JavaFX parlance, a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/canvas/Canvas.html\" rel=\"nofollow noreferrer\">Canvas</a> is for drawing <a href=\"https://en.wikipedia.org/wiki/Raster_graphics\" rel=\"nofollow noreferrer\">raster graphics</a> using a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/canvas/GraphicsContext.html\" rel=\"nofollow noreferrer\">GraphicsContext</a>, not vectors. If you aren&#39;t using a Canvas, then I don&#39;t advise using Canvas in any of your names, else you confuse everybody involved."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657313996,"post_id":72916613,"comment_id":128789587,"body_markdown":"&quot;Since the position of the upper-left corner of the node changes when translating, and it no longer responds to clicks&quot; -&gt; I don&#39;t agree with this, a translated node can still react to clicks.","body":"&quot;Since the position of the upper-left corner of the node changes when translating, and it no longer responds to clicks&quot; -&gt; I don&#39;t agree with this, a translated node can still react to clicks."},{"owner":{"account_id":16085630,"reputation":229,"user_id":11631959,"display_name":"Name Surname"},"score":0,"creation_date":1657314325,"post_id":72916613,"comment_id":128789691,"body_markdown":"@jewelsea yeah, a translated node can react to clicks, but it won&#39;t react at the previous position. For example: if we have a button at position (0, 0) and translate it by (10, 10) a click on (5, 5) won&#39;t trigger a mouse event. And for a canvas it is necessary.","body":"@jewelsea yeah, a translated node can react to clicks, but it won&#39;t react at the previous position. For example: if we have a button at position (0, 0) and translate it by (10, 10) a click on (5, 5) won&#39;t trigger a mouse event. And for a canvas it is necessary."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657314508,"post_id":72916613,"comment_id":128789722,"body_markdown":"oh ok, what you state is correct, if you translate something and if you then then click at the original location, it is no longer there, so it will not accept a click at that original location.  That is kind of a strange requirement, but I accept that is what you want, though I don&#39;t understand why, perhaps understanding why isn&#39;t necessary to help solve your issue.","body":"oh ok, what you state is correct, if you translate something and if you then then click at the original location, it is no longer there, so it will not accept a click at that original location.  That is kind of a strange requirement, but I accept that is what you want, though I don&#39;t understand why, perhaps understanding why isn&#39;t necessary to help solve your issue."},{"owner":{"account_id":16085630,"reputation":229,"user_id":11631959,"display_name":"Name Surname"},"score":0,"creation_date":1657314748,"post_id":72916613,"comment_id":128789768,"body_markdown":"@jewelsea it&#39;s not difficult for me to explain: on my canvas I want to draw some shapes. And I want to be able to draw shapes in negative positions. And I want to be able to move my canvas (change camera x and y). That&#39;s why I need to register clicks when translating the canvas (moving the camera).","body":"@jewelsea it&#39;s not difficult for me to explain: on my canvas I want to draw some shapes. And I want to be able to draw shapes in negative positions. And I want to be able to move my canvas (change camera x and y). That&#39;s why I need to register clicks when translating the canvas (moving the camera)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657314944,"post_id":72916613,"comment_id":128789802,"body_markdown":"Note that JavaFX has a [translatable camera](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Camera.html) you could translate that to move the camera rather than translating a node, but I am not sure if that is a good idea for you or not (it may well not be).","body":"Note that JavaFX has a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Camera.html\" rel=\"nofollow noreferrer\">translatable camera</a> you could translate that to move the camera rather than translating a node, but I am not sure if that is a good idea for you or not (it may well not be)."},{"owner":{"account_id":16085630,"reputation":229,"user_id":11631959,"display_name":"Name Surname"},"score":1,"creation_date":1657315480,"post_id":72916613,"comment_id":128789914,"body_markdown":"@jewelsea I removed the override and it worked! Thank you!","body":"@jewelsea I removed the override and it worked! Thank you!"},{"owner":{"account_id":16085630,"reputation":229,"user_id":11631959,"display_name":"Name Surname"},"score":0,"creation_date":1657315610,"post_id":72916613,"comment_id":128789944,"body_markdown":"@jewelsea and about camera. It is related to Scene. As I understood, I can&#39;t use it to create such a canvas that I want.\nDo you have any ideas how to create one? At the moment I see no other solution rather than a pane inside a pane.","body":"@jewelsea and about camera. It is related to Scene. As I understood, I can&#39;t use it to create such a canvas that I want. Do you have any ideas how to create one? At the moment I see no other solution rather than a pane inside a pane."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657315830,"post_id":72916613,"comment_id":128789993,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246288/discussion-between-jewelsea-and-name-surname).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246288/discussion-between-jewelsea-and-name-surname\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657316511,"creation_date":1657315958,"answer_id":72917204,"question_id":72916613,"body_markdown":"You should not override `getChildren()` and `getChildrenUnmodifiable()` to return the children of a different node (especially a contained node). \r\n\r\nThat may confuse and break the JavaFX layout system because it would be something quite unexpected for it. ","title":"Elements are not displayed on the pane inside a pane","body":"<p>You should not override <code>getChildren()</code> and <code>getChildrenUnmodifiable()</code> to return the children of a different node (especially a contained node).</p>\n<p>That may confuse and break the JavaFX layout system because it would be something quite unexpected for it.</p>\n"}],"owner":{"account_id":16085630,"reputation":229,"user_id":11631959,"display_name":"Name Surname"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72917204,"answer_count":1,"score":2,"last_activity_date":1657316511,"creation_date":1657311658,"question_id":72916613,"body_markdown":"I am writing a vector canvas in JavaFX (vector graphics, just shapes are displayed on the canvas): well, so that you can move around and zoom in on it.  \r\n\r\nSince the position of the upper-left corner of the node changes when translating, and it no longer responds to clicks, I decided to make a panel inside the canvas itself, on which everything will be displayed.  \r\n\r\nInside the `VectorCanvas` there is a `VectorCanvasContent`.  \r\nLines are added to `VectorCanvasContent`, but for some reason they are not visible (although they are there, I added a listener that outputs &quot;!!!&quot; when you click on them, and checked).  \r\nIf I draw lines on the canvas itself, then they are visible.\r\n\r\nWhat is the problem?\r\n\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.*;\r\n    \r\n    import java.util.function.Consumer;\r\n    \r\n    public class VectorCanvas extends Pane {\r\n    \r\n        public class VectorCanvasContent extends Pane {\r\n            public static final Consumer&lt;VectorCanvas&gt; DEFAULT_DRAWER = canvas -&gt; {\r\n                Line[] lines = {\r\n                        new Line(0, 0, canvas.getWidth(), 0),\r\n                        new Line(canvas.getWidth(), 0, canvas.getWidth(), canvas.getHeight()),\r\n                        new Line(canvas.getWidth(), canvas.getHeight(), 0, canvas.getHeight()),\r\n                        new Line(0, canvas.getHeight(), 0, 0),\r\n                        new Line(0, 0, canvas.getWidth(), canvas.getHeight()),\r\n                        new Line(0, canvas.getHeight(), canvas.getWidth(), 0)\r\n                };\r\n                for (Line line : lines) {\r\n                    line.setStrokeWidth(30);\r\n                    line.setStroke(Color.RED);\r\n                    line.setFill(Color.RED);\r\n                    line.setOnMouseClicked(mouseEvent -&gt; System.out.println(&quot;!!!&quot;));\r\n                }\r\n                canvas.drawAll(lines);\r\n            };\r\n        }\r\n    \r\n        private final Consumer&lt;VectorCanvas&gt; drawer;\r\n    \r\n        public final VectorCanvasContent content = new VectorCanvasContent();\r\n    \r\n        public VectorCanvas() {\r\n            this(VectorCanvasContent.DEFAULT_DRAWER);\r\n        }\r\n    \r\n        public VectorCanvas(Consumer&lt;VectorCanvas&gt; drawer) {\r\n            this.drawer = drawer;\r\n            getRealChildren().add(content);\r\n            draw();\r\n        }\r\n    \r\n        public void clear() {\r\n            getChildren().clear();\r\n        }\r\n    \r\n        public void draw() {\r\n            if (drawer != null)\r\n                drawer.accept(this);\r\n        }\r\n    \r\n        public void redraw() {\r\n            clear();\r\n            draw();\r\n        }\r\n    \r\n        @Override\r\n        public ObservableList&lt;Node&gt; getChildren() {\r\n            return content.getChildren();\r\n        }\r\n    \r\n        @Override\r\n        public ObservableList&lt;Node&gt; getChildrenUnmodifiable() {\r\n            return content.getChildrenUnmodifiable();\r\n        }\r\n    \r\n        private ObservableList&lt;Node&gt; getRealChildren() {\r\n            return super.getChildren();\r\n        }\r\n    \r\n        private ObservableList&lt;Node&gt; getRealChildrenUnmodifiable() {\r\n            return super.getChildrenUnmodifiable();\r\n        }\r\n    \r\n        public void draw(Shape shape) {\r\n            getChildren().add(shape);\r\n        }\r\n    \r\n        public void drawAll(Shape... shapes) {\r\n            getChildren().addAll(shapes);\r\n        }\r\n    }\r\n\r\n","title":"Elements are not displayed on the pane inside a pane","body":"<p>I am writing a vector canvas in JavaFX (vector graphics, just shapes are displayed on the canvas): well, so that you can move around and zoom in on it.</p>\n<p>Since the position of the upper-left corner of the node changes when translating, and it no longer responds to clicks, I decided to make a panel inside the canvas itself, on which everything will be displayed.</p>\n<p>Inside the <code>VectorCanvas</code> there is a <code>VectorCanvasContent</code>.<br />\nLines are added to <code>VectorCanvasContent</code>, but for some reason they are not visible (although they are there, I added a listener that outputs &quot;!!!&quot; when you click on them, and checked).<br />\nIf I draw lines on the canvas itself, then they are visible.</p>\n<p>What is the problem?</p>\n<pre><code>import javafx.collections.ObservableList;\nimport javafx.scene.Node;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.*;\n\nimport java.util.function.Consumer;\n\npublic class VectorCanvas extends Pane {\n\n    public class VectorCanvasContent extends Pane {\n        public static final Consumer&lt;VectorCanvas&gt; DEFAULT_DRAWER = canvas -&gt; {\n            Line[] lines = {\n                    new Line(0, 0, canvas.getWidth(), 0),\n                    new Line(canvas.getWidth(), 0, canvas.getWidth(), canvas.getHeight()),\n                    new Line(canvas.getWidth(), canvas.getHeight(), 0, canvas.getHeight()),\n                    new Line(0, canvas.getHeight(), 0, 0),\n                    new Line(0, 0, canvas.getWidth(), canvas.getHeight()),\n                    new Line(0, canvas.getHeight(), canvas.getWidth(), 0)\n            };\n            for (Line line : lines) {\n                line.setStrokeWidth(30);\n                line.setStroke(Color.RED);\n                line.setFill(Color.RED);\n                line.setOnMouseClicked(mouseEvent -&gt; System.out.println(&quot;!!!&quot;));\n            }\n            canvas.drawAll(lines);\n        };\n    }\n\n    private final Consumer&lt;VectorCanvas&gt; drawer;\n\n    public final VectorCanvasContent content = new VectorCanvasContent();\n\n    public VectorCanvas() {\n        this(VectorCanvasContent.DEFAULT_DRAWER);\n    }\n\n    public VectorCanvas(Consumer&lt;VectorCanvas&gt; drawer) {\n        this.drawer = drawer;\n        getRealChildren().add(content);\n        draw();\n    }\n\n    public void clear() {\n        getChildren().clear();\n    }\n\n    public void draw() {\n        if (drawer != null)\n            drawer.accept(this);\n    }\n\n    public void redraw() {\n        clear();\n        draw();\n    }\n\n    @Override\n    public ObservableList&lt;Node&gt; getChildren() {\n        return content.getChildren();\n    }\n\n    @Override\n    public ObservableList&lt;Node&gt; getChildrenUnmodifiable() {\n        return content.getChildrenUnmodifiable();\n    }\n\n    private ObservableList&lt;Node&gt; getRealChildren() {\n        return super.getChildren();\n    }\n\n    private ObservableList&lt;Node&gt; getRealChildrenUnmodifiable() {\n        return super.getChildrenUnmodifiable();\n    }\n\n    public void draw(Shape shape) {\n        getChildren().add(shape);\n    }\n\n    public void drawAll(Shape... shapes) {\n        getChildren().addAll(shapes);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1657312908,"post_id":72916753,"comment_id":128789313,"body_markdown":"Have you tried anything yet? Where exactly are you stuck?","body":"Have you tried anything yet? Where exactly are you stuck?"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":2,"creation_date":1657313074,"post_id":72916753,"comment_id":128789353,"body_markdown":"Arrays are fixed size. You can replace elements but not remove or add. Use a `List` for that","body":"Arrays are fixed size. You can replace elements but not remove or add. Use a <code>List</code> for that"},{"owner":{"account_id":3484456,"reputation":2621,"user_id":2915738,"display_name":"Asif Kamran Malick"},"score":1,"creation_date":1657313081,"post_id":72916753,"comment_id":128789356,"body_markdown":"[Is it possible to Replace/Remove an element from Java Array without creating a new array?](https://stackoverflow.com/search?q=replace%2C+remove+array+element+%5Bjava%5D)","body":"<a href=\"https://stackoverflow.com/search?q=replace%2C+remove+array+element+%5Bjava%5D\">Is it possible to Replace/Remove an element from Java Array without creating a new array?</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657313287,"post_id":72916753,"comment_id":128789411,"body_markdown":"No. No, it is not possible.","body":"No. No, it is not possible."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1657318683,"post_id":72916753,"comment_id":128790533,"body_markdown":"Are you asking if you can *remove a specific element from the array. After that add another element to the array* without creating a new array? ie *First I need to add a list of elements to this array.* is not part of the &quot;without creating a new array&quot; goal?","body":"Are you asking if you can <i>remove a specific element from the array. After that add another element to the array</i> without creating a new array? ie <i>First I need to add a list of elements to this array.</i> is not part of the &quot;without creating a new array&quot; goal?"}],"answers":[{"tags":[],"owner":{"account_id":10157288,"reputation":484,"user_id":9661573,"display_name":"Moish"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657316265,"creation_date":1657316265,"answer_id":72917239,"question_id":72916753,"body_markdown":"The answer is yes and no. *Technically* you can accomplish this with a Java array - as Java arrays are not immutable, *but you shouldn&#39;t* - there are other data structures better suited to this. \r\n\r\nHere&#39;s how you would do it with an array:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        String[] bad = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;};\r\n        removeAndAdd(bad, 2, &quot;g&quot;);\r\n       \r\n    }\r\n    \r\n    private static void removeAndAdd(String[] arr, int indexOfDel, String toAdd){\r\n        removeElement(arr, 2);\r\n        arr[arr.length-1] = toAdd;\r\n    }\r\n\r\n    private static void removeElement(String[] arr, int index){\r\n        for(int i = index; i &lt; arr.length; i++){\r\n            arr[i] = null;\r\n            if(i+1 &lt; arr.length) arr[i] = arr[i+1];\r\n        }\r\n    }\r\n\r\nThe problem with this code is that depending on what you want the collection for, there are simpler ways to do this or ways to do this with better runtimes.\r\n\r\n**Runtime** - The runtime of the above code is o(n). This is because if you delete an element at the front of the array, then you need to move all of the elements in the array 1 place over - i.e. an operation that is based linearly on the number of elements. There are other collections that provide different better runtimes for deletion but have other tradeoffs. See [this website][1] that lists the runtimes for delete for different data structures. \r\n\r\n**Simplicity** - Another reason to avoid using an array for this is that you can have the same functionality with the same runtime but have the functionality built-in for you if you use something like an ArrayList.\r\n\r\n    ArrayList&lt;String&gt; good = new ArrayList&lt;&gt;(Arrays.asList(new String[]{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;}));\r\n    good.remove(2);\r\n    good.add(&quot;g&quot;);\r\nIn this example, you accomplish the same exact result but you have to write far less code. \r\n\r\nSee also [this article][2] that compares Java arrays vs arraylists.\r\n\r\n\r\n  [1]: https://cooervo.github.io/Algorithms-DataStructures-BigONotation/\r\n  [2]: https://www.javacodegeeks.com/2016/01/9-differences-between-array-and-arraylist-in-java.html#:~:text=The%20most%20important%20difference%20you,more%20than%20the%20resize%20threshold.","title":"Is it possible to Replace/Remove an element from Java Array without creating a new array?","body":"<p>The answer is yes and no. <em>Technically</em> you can accomplish this with a Java array - as Java arrays are not immutable, <em>but you shouldn't</em> - there are other data structures better suited to this.</p>\n<p>Here's how you would do it with an array:</p>\n<pre><code>public static void main(String[] args)\n{\n    String[] bad = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;};\n    removeAndAdd(bad, 2, &quot;g&quot;);\n   \n}\n\nprivate static void removeAndAdd(String[] arr, int indexOfDel, String toAdd){\n    removeElement(arr, 2);\n    arr[arr.length-1] = toAdd;\n}\n\nprivate static void removeElement(String[] arr, int index){\n    for(int i = index; i &lt; arr.length; i++){\n        arr[i] = null;\n        if(i+1 &lt; arr.length) arr[i] = arr[i+1];\n    }\n}\n</code></pre>\n<p>The problem with this code is that depending on what you want the collection for, there are simpler ways to do this or ways to do this with better runtimes.</p>\n<p><strong>Runtime</strong> - The runtime of the above code is o(n). This is because if you delete an element at the front of the array, then you need to move all of the elements in the array 1 place over - i.e. an operation that is based linearly on the number of elements. There are other collections that provide different better runtimes for deletion but have other tradeoffs. See <a href=\"https://cooervo.github.io/Algorithms-DataStructures-BigONotation/\" rel=\"nofollow noreferrer\">this website</a> that lists the runtimes for delete for different data structures.</p>\n<p><strong>Simplicity</strong> - Another reason to avoid using an array for this is that you can have the same functionality with the same runtime but have the functionality built-in for you if you use something like an ArrayList.</p>\n<pre><code>ArrayList&lt;String&gt; good = new ArrayList&lt;&gt;(Arrays.asList(new String[]{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;}));\ngood.remove(2);\ngood.add(&quot;g&quot;);\n</code></pre>\n<p>In this example, you accomplish the same exact result but you have to write far less code.</p>\n<p>See also <a href=\"https://www.javacodegeeks.com/2016/01/9-differences-between-array-and-arraylist-in-java.html#:%7E:text=The%20most%20important%20difference%20you,more%20than%20the%20resize%20threshold.\" rel=\"nofollow noreferrer\">this article</a> that compares Java arrays vs arraylists.</p>\n"}],"owner":{"account_id":25762221,"reputation":33,"user_id":19512950,"display_name":"Rayaan R"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72917239,"answer_count":1,"score":2,"last_activity_date":1657316265,"creation_date":1657312665,"question_id":72916753,"body_markdown":"static String[] Student = new String[6]; //My array\r\n\r\nFirst I need to add a list of elements to this array.\r\nThen remove a specific element from the array.\r\nAfter that add another element to the array.\r\n\r\nCan I do these three without creating another new array?\r\n\r\n\r\n","title":"Is it possible to Replace/Remove an element from Java Array without creating a new array?","body":"<p>static String[] Student = new String[6]; //My array</p>\n<p>First I need to add a list of elements to this array.\nThen remove a specific element from the array.\nAfter that add another element to the array.</p>\n<p>Can I do these three without creating another new array?</p>\n"},{"tags":["java","android","android-studio","kotlin","equalizer"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1657391579,"post_id":72917133,"comment_id":128801322,"body_markdown":"Android stops code from running in the background unless it’s part of a Service. Read the official documentation on Android services.","body":"Android stops code from running in the background unless it’s part of a Service. Read the official documentation on Android services."},{"owner":{"account_id":15735948,"reputation":31,"user_id":11354897,"display_name":"Sarmad"},"score":0,"creation_date":1657463951,"post_id":72917133,"comment_id":128811195,"body_markdown":"i will do it ,thank you","body":"i will do it ,thank you"}],"owner":{"account_id":15735948,"reputation":31,"user_id":11354897,"display_name":"Sarmad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657315411,"creation_date":1657315411,"question_id":72917133,"body_markdown":"I am a beginner in the world of programming, and now I am working on developing an audio player by adding an equalizer, but I encountered a problem, which is after 10 seconds of pressing the back button and exiting the fragment, the equalizer stops and does not work until after opening the page again.\r\nAlso, when playing another audio, the equalizer stops and does not work until the fragment is opened again.\r\nI have tried to fix it but to no avail, Plz Help..\r\n\r\n    \r\n    public class MainActivityEqualizer extends AppCompatActivity {\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main_equalizer);\r\n                loadEqualizerSettings();\r\n        \r\n                final int sessionId = MyConstants.exoPlayer.getAudioSessionId();\r\n                EqualizerFragment equalizerFragment = EqualizerFragment.newBuilder()\r\n                        .setAccentColor(Color.parseColor(&quot;#4caf50&quot;))\r\n                        .setAudioSessionId(sessionId)\r\n                        .build();\r\n                getSupportFragmentManager().beginTransaction()\r\n                        .replace(R.id.eqFrame, equalizerFragment)\r\n                        .commit();\r\n            }\r\n            public void newBuild()\r\n            {\r\n                final int sessionId = MyConstants.exoPlayer.getAudioSessionId();\r\n                EqualizerFragment equalizerFragment = EqualizerFragment.newBuilder()\r\n                        .setAccentColor(Color.parseColor(&quot;#4caf50&quot;))\r\n                        .setAudioSessionId(sessionId)\r\n                        .build();\r\n                getSupportFragmentManager().beginTransaction()\r\n                        .replace(R.id.eqFrame, equalizerFragment)\r\n                        .commit();\r\n            }\r\n            @Override\r\n            public boolean onCreateOptionsMenu(Menu menu) {\r\n                getMenuInflater().inflate(R.menu.main_menu, menu);\r\n                return true;\r\n            }\r\n        \r\n            @Override\r\n            public boolean onOptionsItemSelected(MenuItem item) {\r\n                if (item.getItemId() == R.id.itemEqDialog) {\r\n                    showInDialog();\r\n                    return true;\r\n                }\r\n                return super.onOptionsItemSelected(item);\r\n            }\r\n            @Override\r\n            protected void onStop() {\r\n                super.onStop();\r\n        \r\n                saveEqualizerSettings();\r\n            }\r\n        \r\n        \r\n            @Override\r\n            protected void onPause() {\r\n        \r\n                try {\r\n                    newBuild();\r\n                    //mediaPlayer.pause();\r\n                } catch (Exception ex) {\r\n                    Toast.makeText(MainActivityEqualizer.this,ex+&quot;&quot;,Toast.LENGTH_LONG).show();\r\n                    //ignore\r\n                }\r\n                super.onPause();\r\n            }\r\n        \r\n            @Override\r\n            protected void onResume() {\r\n                super.onResume();\r\n                newBuild();\r\n                try {\r\n                    new Handler().postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            //loadEqualizerSettings();\r\n                            //mediaPlayer.start();\r\n                        }\r\n                    }, 200);\r\n                } catch (Exception ex) {\r\n                    //ignore\r\n                }\r\n            }\r\n        \r\n        \r\n            private void showInDialog() {\r\n                int sessionId = MyConstants.exoPlayer.getAudioSessionId();\r\n                if (sessionId &gt; 0) {\r\n                    DialogEqualizerFragment fragment = DialogEqualizerFragment.newBuilder()\r\n                            .setAudioSessionId(sessionId)\r\n                            .title(R.string.app_name)\r\n                            .themeColor(ContextCompat.getColor(this, R.color.primaryColor))\r\n                            .textColor(ContextCompat.getColor(this, R.color.textColor))\r\n                            .accentAlpha(ContextCompat.getColor(this, R.color.playingCardColor))\r\n                            .darkColor(ContextCompat.getColor(this, R.color.primaryDarkColor))\r\n                            .setAccentColor(ContextCompat.getColor(this, R.color.secondaryColor))\r\n                            .build();\r\n                    fragment.show(getSupportFragmentManager(), &quot;eq&quot;);\r\n                }\r\n            }\r\n            private void saveEqualizerSettings(){\r\n                if (Settings.equalizerModel != null){\r\n                    EqualizerSettings settings = new EqualizerSettings();\r\n                    settings.bassStrength = Settings.equalizerModel.getBassStrength();\r\n                    settings.presetPos = Settings.equalizerModel.getPresetPos();\r\n                    settings.reverbPreset = Settings.equalizerModel.getReverbPreset();\r\n                    settings.seekbarpos = Settings.equalizerModel.getSeekbarpos();\r\n        \r\n                    SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n        \r\n                    Gson gson = new Gson();\r\n                    preferences.edit()\r\n                            .putString(PREF_KEY, gson.toJson(settings))\r\n                            .apply();\r\n                }\r\n            }\r\n            private void loadEqualizerSettings(){\r\n                SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n        \r\n                Gson gson = new Gson();\r\n                EqualizerSettings settings = gson.fromJson(preferences.getString(PREF_KEY, &quot;{}&quot;), EqualizerSettings.class);\r\n                EqualizerModel model = new EqualizerModel();\r\n                model.setBassStrength(settings.bassStrength);\r\n                model.setPresetPos(settings.presetPos);\r\n                model.setReverbPreset(settings.reverbPreset);\r\n                model.setSeekbarpos(settings.seekbarpos);\r\n        \r\n                Settings.isEqualizerEnabled = true;\r\n                Settings.isEqualizerReloaded = true;\r\n                Settings.bassStrength = settings.bassStrength;\r\n                Settings.presetPos = settings.presetPos;\r\n                Settings.reverbPreset = settings.reverbPreset;\r\n                Settings.seekbarpos = settings.seekbarpos;\r\n                Settings.equalizerModel = model;\r\n            }\r\n        \r\n            public static final String PREF_KEY = &quot;equalizer&quot;;\r\n        \r\n        \r\n            public static void newLoadEqualizerSettings(){\r\n                SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(MyConstants.context);\r\n        \r\n                Gson gson = new Gson();\r\n                EqualizerSettings settings = gson.fromJson(preferences.getString(PREF_KEY, &quot;{}&quot;), EqualizerSettings.class);\r\n                EqualizerModel model = new EqualizerModel();\r\n                model.setBassStrength(settings.bassStrength);\r\n                model.setPresetPos(settings.presetPos);\r\n                model.setReverbPreset(settings.reverbPreset);\r\n                model.setSeekbarpos(settings.seekbarpos);\r\n        \r\n                Settings.isEqualizerEnabled = true;\r\n                Settings.isEqualizerReloaded = true;\r\n                Settings.bassStrength = settings.bassStrength;\r\n                Settings.presetPos = settings.presetPos;\r\n                Settings.reverbPreset = settings.reverbPreset;\r\n                Settings.seekbarpos = settings.seekbarpos;\r\n                Settings.equalizerModel = model;\r\n            }\r\n        \r\n        }\r\n\r\n\r\nand here is onCreate method of EqualizerFragment\r\n\r\n    @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            Settings.isEditing = true;\r\n    \r\n            if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_AUDIO_SESSIOIN_ID)) {\r\n                audioSesionId = getArguments().getInt(ARG_AUDIO_SESSIOIN_ID);\r\n            }\r\n    \r\n            if (Settings.equalizerModel == null) {\r\n                Settings.equalizerModel = new EqualizerModel();\r\n                Settings.equalizerModel.setReverbPreset(PresetReverb.PRESET_NONE);\r\n                Settings.equalizerModel.setBassStrength((short) (1000 / 19));\r\n            }\r\n            \r\n    \r\n            mEqualizer = new Equalizer(0, audioSesionId);\r\n            bassBoost = new BassBoost(0, audioSesionId);\r\n            bassBoost.setEnabled(Settings.isEqualizerEnabled);\r\n            BassBoost.Settings bassBoostSettingTemp = bassBoost.getProperties();\r\n            BassBoost.Settings bassBoostSetting     = new BassBoost.Settings(bassBoostSettingTemp.toString());\r\n            bassBoostSetting.strength = Settings.equalizerModel.getBassStrength();\r\n            bassBoost.setProperties(bassBoostSetting);\r\n    \r\n            presetReverb = new PresetReverb(0, audioSesionId);\r\n            presetReverb.setPreset(Settings.equalizerModel.getReverbPreset());\r\n            presetReverb.setEnabled(Settings.isEqualizerEnabled);\r\n    \r\n            mEqualizer.setEnabled(Settings.isEqualizerEnabled);\r\n    \r\n            if (Settings.presetPos == 0) {\r\n                for (short bandIdx = 0; bandIdx &lt; mEqualizer.getNumberOfBands(); bandIdx++) {\r\n                    mEqualizer.setBandLevel(bandIdx, (short) Settings.seekbarpos[bandIdx]);\r\n                }\r\n            } else {\r\n                mEqualizer.usePreset((short) Settings.presetPos);\r\n            }\r\n        }","title":"Equalizer stops 10 seconds after exiting the fragment","body":"<p>I am a beginner in the world of programming, and now I am working on developing an audio player by adding an equalizer, but I encountered a problem, which is after 10 seconds of pressing the back button and exiting the fragment, the equalizer stops and does not work until after opening the page again.\nAlso, when playing another audio, the equalizer stops and does not work until the fragment is opened again.\nI have tried to fix it but to no avail, Plz Help..</p>\n<pre><code>public class MainActivityEqualizer extends AppCompatActivity {\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main_equalizer);\n            loadEqualizerSettings();\n    \n            final int sessionId = MyConstants.exoPlayer.getAudioSessionId();\n            EqualizerFragment equalizerFragment = EqualizerFragment.newBuilder()\n                    .setAccentColor(Color.parseColor(&quot;#4caf50&quot;))\n                    .setAudioSessionId(sessionId)\n                    .build();\n            getSupportFragmentManager().beginTransaction()\n                    .replace(R.id.eqFrame, equalizerFragment)\n                    .commit();\n        }\n        public void newBuild()\n        {\n            final int sessionId = MyConstants.exoPlayer.getAudioSessionId();\n            EqualizerFragment equalizerFragment = EqualizerFragment.newBuilder()\n                    .setAccentColor(Color.parseColor(&quot;#4caf50&quot;))\n                    .setAudioSessionId(sessionId)\n                    .build();\n            getSupportFragmentManager().beginTransaction()\n                    .replace(R.id.eqFrame, equalizerFragment)\n                    .commit();\n        }\n        @Override\n        public boolean onCreateOptionsMenu(Menu menu) {\n            getMenuInflater().inflate(R.menu.main_menu, menu);\n            return true;\n        }\n    \n        @Override\n        public boolean onOptionsItemSelected(MenuItem item) {\n            if (item.getItemId() == R.id.itemEqDialog) {\n                showInDialog();\n                return true;\n            }\n            return super.onOptionsItemSelected(item);\n        }\n        @Override\n        protected void onStop() {\n            super.onStop();\n    \n            saveEqualizerSettings();\n        }\n    \n    \n        @Override\n        protected void onPause() {\n    \n            try {\n                newBuild();\n                //mediaPlayer.pause();\n            } catch (Exception ex) {\n                Toast.makeText(MainActivityEqualizer.this,ex+&quot;&quot;,Toast.LENGTH_LONG).show();\n                //ignore\n            }\n            super.onPause();\n        }\n    \n        @Override\n        protected void onResume() {\n            super.onResume();\n            newBuild();\n            try {\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        //loadEqualizerSettings();\n                        //mediaPlayer.start();\n                    }\n                }, 200);\n            } catch (Exception ex) {\n                //ignore\n            }\n        }\n    \n    \n        private void showInDialog() {\n            int sessionId = MyConstants.exoPlayer.getAudioSessionId();\n            if (sessionId &gt; 0) {\n                DialogEqualizerFragment fragment = DialogEqualizerFragment.newBuilder()\n                        .setAudioSessionId(sessionId)\n                        .title(R.string.app_name)\n                        .themeColor(ContextCompat.getColor(this, R.color.primaryColor))\n                        .textColor(ContextCompat.getColor(this, R.color.textColor))\n                        .accentAlpha(ContextCompat.getColor(this, R.color.playingCardColor))\n                        .darkColor(ContextCompat.getColor(this, R.color.primaryDarkColor))\n                        .setAccentColor(ContextCompat.getColor(this, R.color.secondaryColor))\n                        .build();\n                fragment.show(getSupportFragmentManager(), &quot;eq&quot;);\n            }\n        }\n        private void saveEqualizerSettings(){\n            if (Settings.equalizerModel != null){\n                EqualizerSettings settings = new EqualizerSettings();\n                settings.bassStrength = Settings.equalizerModel.getBassStrength();\n                settings.presetPos = Settings.equalizerModel.getPresetPos();\n                settings.reverbPreset = Settings.equalizerModel.getReverbPreset();\n                settings.seekbarpos = Settings.equalizerModel.getSeekbarpos();\n    \n                SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\n    \n                Gson gson = new Gson();\n                preferences.edit()\n                        .putString(PREF_KEY, gson.toJson(settings))\n                        .apply();\n            }\n        }\n        private void loadEqualizerSettings(){\n            SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\n    \n            Gson gson = new Gson();\n            EqualizerSettings settings = gson.fromJson(preferences.getString(PREF_KEY, &quot;{}&quot;), EqualizerSettings.class);\n            EqualizerModel model = new EqualizerModel();\n            model.setBassStrength(settings.bassStrength);\n            model.setPresetPos(settings.presetPos);\n            model.setReverbPreset(settings.reverbPreset);\n            model.setSeekbarpos(settings.seekbarpos);\n    \n            Settings.isEqualizerEnabled = true;\n            Settings.isEqualizerReloaded = true;\n            Settings.bassStrength = settings.bassStrength;\n            Settings.presetPos = settings.presetPos;\n            Settings.reverbPreset = settings.reverbPreset;\n            Settings.seekbarpos = settings.seekbarpos;\n            Settings.equalizerModel = model;\n        }\n    \n        public static final String PREF_KEY = &quot;equalizer&quot;;\n    \n    \n        public static void newLoadEqualizerSettings(){\n            SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(MyConstants.context);\n    \n            Gson gson = new Gson();\n            EqualizerSettings settings = gson.fromJson(preferences.getString(PREF_KEY, &quot;{}&quot;), EqualizerSettings.class);\n            EqualizerModel model = new EqualizerModel();\n            model.setBassStrength(settings.bassStrength);\n            model.setPresetPos(settings.presetPos);\n            model.setReverbPreset(settings.reverbPreset);\n            model.setSeekbarpos(settings.seekbarpos);\n    \n            Settings.isEqualizerEnabled = true;\n            Settings.isEqualizerReloaded = true;\n            Settings.bassStrength = settings.bassStrength;\n            Settings.presetPos = settings.presetPos;\n            Settings.reverbPreset = settings.reverbPreset;\n            Settings.seekbarpos = settings.seekbarpos;\n            Settings.equalizerModel = model;\n        }\n    \n    }\n</code></pre>\n<p>and here is onCreate method of EqualizerFragment</p>\n<pre><code>@Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Settings.isEditing = true;\n\n        if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_AUDIO_SESSIOIN_ID)) {\n            audioSesionId = getArguments().getInt(ARG_AUDIO_SESSIOIN_ID);\n        }\n\n        if (Settings.equalizerModel == null) {\n            Settings.equalizerModel = new EqualizerModel();\n            Settings.equalizerModel.setReverbPreset(PresetReverb.PRESET_NONE);\n            Settings.equalizerModel.setBassStrength((short) (1000 / 19));\n        }\n        \n\n        mEqualizer = new Equalizer(0, audioSesionId);\n        bassBoost = new BassBoost(0, audioSesionId);\n        bassBoost.setEnabled(Settings.isEqualizerEnabled);\n        BassBoost.Settings bassBoostSettingTemp = bassBoost.getProperties();\n        BassBoost.Settings bassBoostSetting     = new BassBoost.Settings(bassBoostSettingTemp.toString());\n        bassBoostSetting.strength = Settings.equalizerModel.getBassStrength();\n        bassBoost.setProperties(bassBoostSetting);\n\n        presetReverb = new PresetReverb(0, audioSesionId);\n        presetReverb.setPreset(Settings.equalizerModel.getReverbPreset());\n        presetReverb.setEnabled(Settings.isEqualizerEnabled);\n\n        mEqualizer.setEnabled(Settings.isEqualizerEnabled);\n\n        if (Settings.presetPos == 0) {\n            for (short bandIdx = 0; bandIdx &lt; mEqualizer.getNumberOfBands(); bandIdx++) {\n                mEqualizer.setBandLevel(bandIdx, (short) Settings.seekbarpos[bandIdx]);\n            }\n        } else {\n            mEqualizer.usePreset((short) Settings.presetPos);\n        }\n    }\n</code></pre>\n"},{"tags":["java","windows","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":4,"creation_date":1657316993,"post_id":72917128,"comment_id":128790212,"body_markdown":"`eclipse-java-indigo-win32-x86_64.zip` is not Eclipse 2022-06, but Eclipse Indigo, which was released more than a decade ago. [Eclipse 2022-06 can be downloaded here](https://www.eclipse.org/downloads/packages/).","body":"<code>eclipse-java-indigo-win32-x86_64.zip</code> is not Eclipse 2022-06, but Eclipse Indigo, which was released more than a decade ago. <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">Eclipse 2022-06 can be downloaded here</a>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657322280,"post_id":72917128,"comment_id":128791090,"body_markdown":"Also, in general, when you try to run a fresh installation of Eclipse you need to ensure that you have a JDK installed and that you have it configured in Eclipse&#39;s INI file.","body":"Also, in general, when you try to run a fresh installation of Eclipse you need to ensure that you have a JDK installed and that you have it configured in Eclipse&#39;s INI file."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1657333095,"post_id":72917128,"comment_id":128792320,"body_markdown":"@DavidConrad *Unless* it came with one, as many of the current downloads do.","body":"@DavidConrad <i>Unless</i> it came with one, as many of the current downloads do."}],"owner":{"account_id":25762022,"reputation":1,"user_id":19512783,"display_name":"db_at_jci"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657315352,"creation_date":1657315352,"question_id":72917128,"body_markdown":"I&#39;m using the latest version of Eclipse, labeled 2022-06. I haven&#39;t been able to get the installer (eclipse-inst-jre-win64.exe) to work, so I have downloaded the zip file (eclipse-java-indigo-win32-x86_64.zip), and manually copied the zipped &quot;eclipse&quot; folder to c:\\Exclipse\\eclipse. When I doubleclick on eclipse.exe, I get a dialog box entitled: &quot;Java Virtual Machine Launcher&quot;, which says: &quot;Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit.&quot; When I dismiss that dialog I get another dialog containing information:\r\n\r\n[info dialog][1]\r\n\r\nI have Java 18.0.1.1 installed. The OS is Windows 10 Enterprise, version 21H2, OS build 19044.1766\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oTawq.png","title":"Eclipse startup error: &quot;Could not create the Java Virtual Machine&quot;","body":"<p>I'm using the latest version of Eclipse, labeled 2022-06. I haven't been able to get the installer (eclipse-inst-jre-win64.exe) to work, so I have downloaded the zip file (eclipse-java-indigo-win32-x86_64.zip), and manually copied the zipped &quot;eclipse&quot; folder to c:\\Exclipse\\eclipse. When I doubleclick on eclipse.exe, I get a dialog box entitled: &quot;Java Virtual Machine Launcher&quot;, which says: &quot;Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit.&quot; When I dismiss that dialog I get another dialog containing information:</p>\n<p><a href=\"https://i.stack.imgur.com/oTawq.png\" rel=\"nofollow noreferrer\">info dialog</a></p>\n<p>I have Java 18.0.1.1 installed. The OS is Windows 10 Enterprise, version 21H2, OS build 19044.1766</p>\n"},{"tags":["java","spring","constructor","design-principles"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1657314183,"post_id":72916938,"comment_id":128789642,"body_markdown":"Pretty sure what you&#39;re looking for is a Fluent API/Fluent Interface: https://en.wikipedia.org/wiki/Fluent_interface","body":"Pretty sure what you&#39;re looking for is a Fluent API/Fluent Interface: <a href=\"https://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Fluent_interface</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1657314316,"post_id":72916938,"comment_id":128789688,"body_markdown":"Or in this case also the *builder pattern*.","body":"Or in this case also the <i>builder pattern</i>."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1657314465,"post_id":72916938,"comment_id":128789712,"body_markdown":"In pure Java, this is normally a _builder_ as @MCEmperor said. Groovy provides some convenient syntax in both its constructor-setter forms and `.tap` closures.","body":"In pure Java, this is normally a <i>builder</i> as @MCEmperor said. Groovy provides some convenient syntax in both its constructor-setter forms and <code>.tap</code> closures."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1657314549,"post_id":72916938,"comment_id":128789729,"body_markdown":"This is also called &quot;wither methods&quot; (because often you could name such methods: `withFontSize`, `withColor`, `withLabelVisibility`).","body":"This is also called &quot;wither methods&quot; (because often you could name such methods: <code>withFontSize</code>, <code>withColor</code>, <code>withLabelVisibility</code>)."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657322067,"post_id":72916938,"comment_id":128791051,"body_markdown":"Are you using Lombok? You can annotate the class with `@Builder` and then do something quite similar: `Options.builder().one(value).another(value).build()`.","body":"Are you using Lombok? You can annotate the class with <code>@Builder</code> and then do something quite similar: <code>Options.builder().one(value).another(value).build()</code>."},{"owner":{"account_id":16330065,"reputation":13,"user_id":11793652,"display_name":"dasdawidt"},"score":0,"creation_date":1657366110,"post_id":72916938,"comment_id":128796384,"body_markdown":"Currently I&#39;m just returning `this` at the end of each method, which works fine. The &quot;wither&quot; approach is probably the closest to what I&#39;m doing, the builder would be more common. Would you consider it bad style to do it like I do?","body":"Currently I&#39;m just returning <code>this</code> at the end of each method, which works fine. The &quot;wither&quot; approach is probably the closest to what I&#39;m doing, the builder would be more common. Would you consider it bad style to do it like I do?"}],"owner":{"account_id":16330065,"reputation":13,"user_id":11793652,"display_name":"dasdawidt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657314112,"creation_date":1657314070,"question_id":72916938,"body_markdown":"I am currently working on a project where I want to be able to create a options object by dynamically setting its properties on creation.\r\n\r\nThis made me come up with this type of constructor-setter combination:\r\n\r\n    Options options = new Options()\r\n                    .fontSize(12)\r\n                    .color(Color.RED)\r\n                    .showLabels(false);\r\n\r\nWhich would be equivalent to the less sleek looking:\r\n\r\n    Options options = new Options();\r\n    options.setFontSize(12)\r\n    options.setColor(Color.RED)\r\n    options.setLabelVisibility(false);\r\n\r\nI have already seen something similar in Spring where you sometimes configure settings like this:\r\n\r\n    protected void configure(final HttpSecurity http) {\r\n        http\r\n            .antMatchers(&quot;/auth/admin/*&quot;).hasRole(&quot;ADMIN&quot;)\r\n            .antMatchers(&quot;/auth/*&quot;).hasAnyRole(&quot;ADMIN&quot;,&quot;USER&quot;);\r\n    }\r\n\r\nThis made me wonder wether it is something that is commonly used and perhaps is some kind of design principle that has a name. Is this the case?","title":"Is this type of dynamic construction a thing?","body":"<p>I am currently working on a project where I want to be able to create a options object by dynamically setting its properties on creation.</p>\n<p>This made me come up with this type of constructor-setter combination:</p>\n<pre><code>Options options = new Options()\n                .fontSize(12)\n                .color(Color.RED)\n                .showLabels(false);\n</code></pre>\n<p>Which would be equivalent to the less sleek looking:</p>\n<pre><code>Options options = new Options();\noptions.setFontSize(12)\noptions.setColor(Color.RED)\noptions.setLabelVisibility(false);\n</code></pre>\n<p>I have already seen something similar in Spring where you sometimes configure settings like this:</p>\n<pre><code>protected void configure(final HttpSecurity http) {\n    http\n        .antMatchers(&quot;/auth/admin/*&quot;).hasRole(&quot;ADMIN&quot;)\n        .antMatchers(&quot;/auth/*&quot;).hasAnyRole(&quot;ADMIN&quot;,&quot;USER&quot;);\n}\n</code></pre>\n<p>This made me wonder wether it is something that is commonly used and perhaps is some kind of design principle that has a name. Is this the case?</p>\n"},{"tags":["java","hibernate","jpa","ejb"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1656007591,"post_id":72734682,"comment_id":128473255,"body_markdown":"If you aren&#39;t using a homebrewn logging framework `log.warn(e)` should do the same as your `log.warn(sw.toString())`.","body":"If you aren&#39;t using a homebrewn logging framework <code>log.warn(e)</code> should do the same as your <code>log.warn(sw.toString())</code>."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1656025032,"post_id":72734682,"comment_id":128477733,"body_markdown":"Probably will be useful:  https://stackoverflow.com/questions/72620571/how-to-always-return-the-result-of-a-query-from-hibernate-despite-an-error-prese/72708114#72708114","body":"Probably will be useful:  <a href=\"https://stackoverflow.com/questions/72620571/how-to-always-return-the-result-of-a-query-from-hibernate-despite-an-error-prese/72708114#72708114\" title=\"how to always return the result of a query from hibernate despite an error prese\">stackoverflow.com/questions/72620571/&hellip;</a>"},{"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"score":0,"creation_date":1656075585,"post_id":72734682,"comment_id":128489866,"body_markdown":"@ Eugene That is some good info, but I don&#39;t think I can use any of those solutions. The entities are getting loaded by Hibernate as part of the call to getResultList(). I can&#39;t use a getter or a custom respository since I would never have an opportunity to make those call before the exception gets thrown.","body":"@ Eugene That is some good info, but I don&#39;t think I can use any of those solutions. The entities are getting loaded by Hibernate as part of the call to getResultList(). I can&#39;t use a getter or a custom respository since I would never have an opportunity to make those call before the exception gets thrown."}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657313727,"creation_date":1656007329,"question_id":72734682,"body_markdown":"I&#39;m working on an application where we need to query for a collection of entities using hibernate and then perform some indexing on the results. Unfortunately, the database the application is querying from does not enforce foreign key constraints on all associations, so the application needs to handle potentially broken references.\r\n\r\nCurrently, the code responsible for doing the query looks like this:\r\n\r\n    private List&lt;? extends Entity&gt; findAll(Class entity, Integer startIndex, Integer pageSize)\r\n    \t\tthrows EntityIndexingServiceException {\r\n    \ttry {\r\n    \t\tQuery query = entityManager\r\n    \t\t\t\t.createQuery(&quot;select entity from &quot; + entity.getName() + &quot; entity order by entity.id desc&quot;);\r\n    \t\tif (startIndex != null &amp;&amp; pageSize != null) {\r\n    \t\t\treturn query.setFirstResult(startIndex).setMaxResults(pageSize).getResultList();\r\n    \t\t} else {\r\n    \t\t\treturn query.getResultList();\r\n    \t\t}\r\n    \t} \r\n    \tcatch (Throwable e) {\r\n    \t\tStringWriter sw = new StringWriter();\r\n    \t\tPrintWriter pw = new PrintWriter(sw);\r\n    \t\te.printStackTrace(pw);\r\n    \t\tlog.warn(sw.toString());\r\n    \t\treturn Collections.EMPTY_LIST;\r\n    \t}\r\n    }\r\n\r\nThe problem with this code is that bad data in any of the results will result in the whole page of data being skipped. So if I&#39;m using this method to get a list of objects to index, none of the query results will be included in the indexing even though only one or two were invalid.\r\n\r\nI know Hibernate has a @NotFound annotation, but that comes with it&#39;s own side-effects like forced eager loading that I would rather avoid. If possible, I want to exclude invalid entities from the results, not load them in a broken state.\r\n\r\nSo the question then is how can I handle this query in such a way that invalid results (those that cause an EntiyNotFoundException to be thrown) are excluded from the return values without also throwing out the &#39;good&#39; data?\r\n\r\n","title":"How to handle EntityNotFoundException during Hibernate query?","body":"<p>I'm working on an application where we need to query for a collection of entities using hibernate and then perform some indexing on the results. Unfortunately, the database the application is querying from does not enforce foreign key constraints on all associations, so the application needs to handle potentially broken references.</p>\n<p>Currently, the code responsible for doing the query looks like this:</p>\n<pre><code>private List&lt;? extends Entity&gt; findAll(Class entity, Integer startIndex, Integer pageSize)\n        throws EntityIndexingServiceException {\n    try {\n        Query query = entityManager\n                .createQuery(&quot;select entity from &quot; + entity.getName() + &quot; entity order by entity.id desc&quot;);\n        if (startIndex != null &amp;&amp; pageSize != null) {\n            return query.setFirstResult(startIndex).setMaxResults(pageSize).getResultList();\n        } else {\n            return query.getResultList();\n        }\n    } \n    catch (Throwable e) {\n        StringWriter sw = new StringWriter();\n        PrintWriter pw = new PrintWriter(sw);\n        e.printStackTrace(pw);\n        log.warn(sw.toString());\n        return Collections.EMPTY_LIST;\n    }\n}\n</code></pre>\n<p>The problem with this code is that bad data in any of the results will result in the whole page of data being skipped. So if I'm using this method to get a list of objects to index, none of the query results will be included in the indexing even though only one or two were invalid.</p>\n<p>I know Hibernate has a @NotFound annotation, but that comes with it's own side-effects like forced eager loading that I would rather avoid. If possible, I want to exclude invalid entities from the results, not load them in a broken state.</p>\n<p>So the question then is how can I handle this query in such a way that invalid results (those that cause an EntiyNotFoundException to be thrown) are excluded from the return values without also throwing out the 'good' data?</p>\n"},{"tags":["java","bytecode","instrumentation"],"comments":[{"owner":{"account_id":381269,"reputation":493,"user_id":1960592,"display_name":"cerdoc"},"score":0,"creation_date":1657229047,"post_id":72903374,"comment_id":128768144,"body_markdown":"Can&#39;t you use a proxy ? https://www.mscharhag.com/java/dynamic-proxy-pattern\n\nExample of implementation : https://www.baeldung.com/java-dynamic-proxies","body":"Can&#39;t you use a proxy ? <a href=\"https://www.mscharhag.com/java/dynamic-proxy-pattern\" rel=\"nofollow noreferrer\">mscharhag.com/java/dynamic-proxy-pattern</a>  Example of implementation : <a href=\"https://www.baeldung.com/java-dynamic-proxies\" rel=\"nofollow noreferrer\">baeldung.com/java-dynamic-proxies</a>"},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1657303555,"post_id":72903374,"comment_id":128786737,"body_markdown":"@cerdoc, I want to capture the source location of the call-site as described [here](https://stackoverflow.com/a/72437386/1278899), hence I need to inject the code to the call site. Am I missing something?","body":"@cerdoc, I want to capture the source location of the call-site as described <a href=\"https://stackoverflow.com/a/72437386/1278899\">here</a>, hence I need to inject the code to the call site. Am I missing something?"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657313625,"creation_date":1657312916,"answer_id":72916795,"question_id":72903374,"body_markdown":"The JVM has a stack-based architecture, so you don&#39;t need to worry about the parameters to the `special(int)` call. If you simply prepend the `setupSpecial()` call to the `special(int)` call using:\r\n\r\n```lang-java\r\n@Override\r\npublic void visitMethodInsn(int opcode, String owner, String name, String descriptor, boolean isInterface) {\r\n    if (&quot;com/example/Magic&quot;.equals(owner) &amp;&amp; &quot;special&quot;.equals(name)) {\r\n        visitMethodInsn(Opcodes.INVOKESTATIC, &quot;com/example/Magic&quot;, &quot;setupSpecial&quot;,\r\n                Type.getMethodDescriptor(Type.VOID_TYPE), false);\r\n    }\r\n    super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\r\n}\r\n```\r\n\r\n(I assume both `special` and `setupSpecial` to be static, but it does not matter), you&#39;ll obtain bytecode similar to this:\r\n\r\n```\r\n0: getstatic     #24                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n3: ldc           #30                 // String A\r\n5: invokevirtual #32                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n8: iconst_1\r\n9: invokestatic  #68                 // Method setupSpecial:()V\r\n12: invokestatic #38                 // Method special:(I)V\r\n```\r\n\r\nAs you can see, the parameter to the `special(int)` call is pushed on the stack **before** the call to `setupSpecial()`, which is unusual. However it will still be at the top of the stack once `setupSpecial()` has finished, so everything will work just fine as long as `setupSpecial()` does not return any value.\r\n\r\nIf it does, you&#39;ll need to add a `pop/pop2` opcode to remove it from the stack.\r\n","title":"Inject bytecode using asm before every call to a particular method","body":"<p>The JVM has a stack-based architecture, so you don't need to worry about the parameters to the <code>special(int)</code> call. If you simply prepend the <code>setupSpecial()</code> call to the <code>special(int)</code> call using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void visitMethodInsn(int opcode, String owner, String name, String descriptor, boolean isInterface) {\n    if (&quot;com/example/Magic&quot;.equals(owner) &amp;&amp; &quot;special&quot;.equals(name)) {\n        visitMethodInsn(Opcodes.INVOKESTATIC, &quot;com/example/Magic&quot;, &quot;setupSpecial&quot;,\n                Type.getMethodDescriptor(Type.VOID_TYPE), false);\n    }\n    super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\n}\n</code></pre>\n<p>(I assume both <code>special</code> and <code>setupSpecial</code> to be static, but it does not matter), you'll obtain bytecode similar to this:</p>\n<pre><code>0: getstatic     #24                 // Field java/lang/System.out:Ljava/io/PrintStream;\n3: ldc           #30                 // String A\n5: invokevirtual #32                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n8: iconst_1\n9: invokestatic  #68                 // Method setupSpecial:()V\n12: invokestatic #38                 // Method special:(I)V\n</code></pre>\n<p>As you can see, the parameter to the <code>special(int)</code> call is pushed on the stack <strong>before</strong> the call to <code>setupSpecial()</code>, which is unusual. However it will still be at the top of the stack once <code>setupSpecial()</code> has finished, so everything will work just fine as long as <code>setupSpecial()</code> does not return any value.</p>\n<p>If it does, you'll need to add a <code>pop/pop2</code> opcode to remove it from the stack.</p>\n"}],"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72916795,"answer_count":1,"score":0,"last_activity_date":1657313625,"creation_date":1657222741,"question_id":72903374,"body_markdown":"How can I rewrite a class (preferably using asm) such that a `setupSpecial()` invocation is introduced before every single call to `special(int)`?\r\n\r\n```java\r\npublic class Application {\r\n\r\n    public void f() {\r\n         System.out.println(&quot;A&quot;);\r\n         // setupSpecial(); ← to be added\r\n         special(1);\r\n         System.out.println(&quot;B&quot;);\r\n         // setupSpecial(); ← to be added\r\n         special(2);\r\n         System.out.println(&quot;C&quot;);\r\n         // setupSpecial(); ← to be added\r\n         special(3);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote that both `special()` and `setupSpecial()` are not members of `Application`.\r\n\r\nI can pass a `ClassVisitor`+`MethodVisitor` combination and intercept calls to `special(int)` via overriding `visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;com/acme/Magic&quot;, &quot;special&quot;, &quot;()V&quot;, false)`, though this will be too late since the method argument of type integer is already passed via `visitIntInsn(Opcodes.BIPUSH, int)`. I need a way to say _&quot;Now I see the call to `special()`! Roll this call back, turn magic on, and proceed again.&quot;_","title":"Inject bytecode using asm before every call to a particular method","body":"<p>How can I rewrite a class (preferably using asm) such that a <code>setupSpecial()</code> invocation is introduced before every single call to <code>special(int)</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n\n    public void f() {\n         System.out.println(&quot;A&quot;);\n         // setupSpecial(); ← to be added\n         special(1);\n         System.out.println(&quot;B&quot;);\n         // setupSpecial(); ← to be added\n         special(2);\n         System.out.println(&quot;C&quot;);\n         // setupSpecial(); ← to be added\n         special(3);\n    }\n\n}\n</code></pre>\n<p>Note that both <code>special()</code> and <code>setupSpecial()</code> are not members of <code>Application</code>.</p>\n<p>I can pass a <code>ClassVisitor</code>+<code>MethodVisitor</code> combination and intercept calls to <code>special(int)</code> via overriding <code>visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;com/acme/Magic&quot;, &quot;special&quot;, &quot;()V&quot;, false)</code>, though this will be too late since the method argument of type integer is already passed via <code>visitIntInsn(Opcodes.BIPUSH, int)</code>. I need a way to say <em>&quot;Now I see the call to <code>special()</code>! Roll this call back, turn magic on, and proceed again.&quot;</em></p>\n"},{"tags":["java","unicode","fonts","symbols","appearance"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":2,"creation_date":1657212112,"post_id":72901453,"comment_id":128762926,"body_markdown":"How do you want to display it. `System.out.println()` or somehow else? You mention a `label` is that a `JLabel`?","body":"How do you want to display it. <code>System.out.println()</code> or somehow else? You mention a <code>label</code> is that a <code>JLabel</code>?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657212542,"post_id":72901453,"comment_id":128763101,"body_markdown":"Assuming this is either a `Label` or a `JLabel`, what fonts did you try?","body":"Assuming this is either a <code>Label</code> or a <code>JLabel</code>, what fonts did you try?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1657213951,"post_id":72901453,"comment_id":128763611,"body_markdown":"maybe you should include the code... it works with `JOptionPane.showMessageDialog(null, new JLabel(&quot;✤  \\u2724&quot;))` see the [screenshot](https://i.stack.imgur.com/C5Byy.png) (first symbol copied directly from question - using default font: `Dialog, bold, 12`)","body":"maybe you should include the code... it works with <code>JOptionPane.showMessageDialog(null, new JLabel(&quot;✤  \\u2724&quot;))</code> see the <a href=\"https://i.stack.imgur.com/C5Byy.png\" rel=\"nofollow noreferrer\">screenshot</a> (first symbol copied directly from question - using default font: <code>Dialog, bold, 12</code>)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657222830,"post_id":72901453,"comment_id":128766354,"body_markdown":"`System.out.println ( &quot;✤&quot; + &quot; &quot; + java.time.Instant.now() ) ;` See that code [run live at IdeOne.com](https://ideone.com/QG1Mn0).","body":"<code>System.out.println ( &quot;✤&quot; + &quot; &quot; + java.time.Instant.now() ) ;</code> See that code <a href=\"https://ideone.com/QG1Mn0\" rel=\"nofollow noreferrer\">run live at IdeOne.com</a>."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657229185,"post_id":72901453,"comment_id":128768176,"body_markdown":"How are you running it? Terminal? IDE? Remote system? I ran `System.out.println(&quot;✤&quot;)` locally in IntelliJ and it printed this output: `✤`. No issues.","body":"How are you running it? Terminal? IDE? Remote system? I ran <code>System.out.println(&quot;✤&quot;)</code> locally in IntelliJ and it printed this output: <code>✤</code>. No issues."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1657259766,"post_id":72901453,"comment_id":128772873,"body_markdown":"Update your question: [1] Show your code. [2] Name the fonts you have tried. [3] Explain what approach you are using to render the symbol. You should provide enough information so that others can attempt to replicate your approach. Without those crucial details your question is unanswerable, and likely to be closed.","body":"Update your question: [1] Show your code. [2] Name the fonts you have tried. [3] Explain what approach you are using to render the symbol. You should provide enough information so that others can attempt to replicate your approach. Without those crucial details your question is unanswerable, and likely to be closed."}],"answers":[{"tags":[],"owner":{"account_id":10155336,"reputation":329,"user_id":7500593,"display_name":"رامي عبد الله"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657213479,"creation_date":1657213479,"answer_id":72901776,"question_id":72901453,"body_markdown":"Check that the font you are using can display this character. However, sometimes the problem is just that the code in the java file is saved in an encoding other than unicode. Make sure that the code file encoding is unicode.","title":"How can I display a symbol in java?","body":"<p>Check that the font you are using can display this character. However, sometimes the problem is just that the code in the java file is saved in an encoding other than unicode. Make sure that the code file encoding is unicode.</p>\n"}],"owner":{"account_id":22447298,"reputation":3,"user_id":16651019,"display_name":"copy14"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72901776,"answer_count":1,"score":-2,"last_activity_date":1657313615,"creation_date":1657211917,"question_id":72901453,"body_markdown":"I want to display this symbol: ✤\r\n\r\nI want to appear this on a label. I tried to just paste to the code, and I tried with the Unicode (\\u2724) but it shows just a square. I tried other fonts too.\r\n\r\nImage of the square:  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/On7WB.png\r\n\r\nEdit:\r\n\r\n```\r\nString luck = &quot;\\u2724&quot;; \\\\I tried to use the ✤ symbol too\r\nJLabel lblLuck = new JLabel(luck);\r\nlblLuck.setVerticalAlignment(SwingConstants.TOP);\r\nlblLuck.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 30));\r\npanel1.add(lblLuck, BorderLayout.CENTER);\r\n```\r\n","title":"How can I display a symbol in java?","body":"<p>I want to display this symbol: ✤</p>\n<p>I want to appear this on a label. I tried to just paste to the code, and I tried with the Unicode (\\u2724) but it shows just a square. I tried other fonts too.</p>\n<p>Image of the square:</p>\n<p><a href=\"https://i.stack.imgur.com/On7WB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/On7WB.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit:</p>\n<pre><code>String luck = &quot;\\u2724&quot;; \\\\I tried to use the ✤ symbol too\nJLabel lblLuck = new JLabel(luck);\nlblLuck.setVerticalAlignment(SwingConstants.TOP);\nlblLuck.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 30));\npanel1.add(lblLuck, BorderLayout.CENTER);\n</code></pre>\n"},{"tags":["java","eclipse","importerror","sap-commerce-cloud","eclipse-project-file"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657173957,"post_id":72892903,"comment_id":128748298,"body_markdown":"if the files are corrupted, the files are corrupted. what do you expect us to do about that?","body":"if the files are corrupted, the files are corrupted. what do you expect us to do about that?"},{"owner":{"account_id":25739946,"reputation":11,"user_id":19494110,"display_name":"rak"},"score":0,"creation_date":1657174682,"post_id":72892903,"comment_id":128748507,"body_markdown":"for the other teammates the same files are working perfectly fine","body":"for the other teammates the same files are working perfectly fine"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1657175532,"post_id":72892903,"comment_id":128748719,"body_markdown":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. [Edit] your question to show us the extra detail. Show us the `.project` file for one of the failing projects.","body":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. <a href=\"https://stackoverflow.com/posts/72892903/edit\">Edit</a> your question to show us the extra detail. Show us the <code>.project</code> file for one of the failing projects."}],"answers":[{"tags":[],"owner":{"account_id":25739946,"reputation":11,"user_id":19494110,"display_name":"rak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657313534,"creation_date":1657264118,"answer_id":72907873,"question_id":72892903,"body_markdown":"Here  .project file was missing the ending tag:\r\n\r\n```html\r\n&lt;/buildSpec&gt;\r\n```\r\n\r\nAdding the tag to the .project file of the corrupted project resolved my issue.","title":"Some projects cannot be imported because their project description file is corrupted","body":"<p>Here  .project file was missing the ending tag:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;/buildSpec&gt;\n</code></pre>\n<p>Adding the tag to the .project file of the corrupted project resolved my issue.</p>\n"}],"owner":{"account_id":25739946,"reputation":11,"user_id":19494110,"display_name":"rak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657313534,"creation_date":1657173496,"question_id":72892903,"body_markdown":"Was trying to import my SAP Hybris projects into Eclipse Workspace via\r\n**Import-&gt;General-&gt;Existing Projects Into Workspace**.\r\nBut as soon as I give the path of my custom folder to import my Eclipse gives the error **Some projects cannot be imported because their project description file is corrupted**.\r\nAnd the same files are working perfectly fine for my other teammates.\r\n\r\n[ErrorOfScreenshotWhileImporting][1]\r\n\r\n\r\nTried creating a new workspace and importing projects again, but nothing helped.\r\n\r\nAlso, here is the snippet of the error I can see in the workspace .metadata/log directory.\r\n\r\n```\r\n!ENTRY org.eclipse.core.resources 4 567 2022-06-30 21:08:52.444\r\n!MESSAGE Failure occurred reading .project file.\r\n!SUBENTRY 1 org.eclipse.core.resources 4 567 2022-06-30 21:08:52.445\r\n!MESSAGE The element type &quot;buildSpec&quot; must be terminated by the matching end-tag &quot;&lt;/buildSpec&gt;&quot;.\r\n!STACK 0\r\norg.xml.sax.SAXParseException; lineNumber: 18; columnNumber: 3; The element type &quot;buildSpec&quot; must be terminated by the matching end-tag &quot;&lt;/buildSpec&gt;&quot;.\r\n\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1695)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2899)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:326)\r\n\tat org.eclipse.core.internal.resources.ProjectDescriptionReader.read(ProjectDescriptionReader.java:930)\r\n\tat org.eclipse.core.internal.resources.ProjectDescriptionReader.read(ProjectDescriptionReader.java:958)\r\n\tat org.eclipse.core.internal.resources.Workspace.loadProjectDescription(Workspace.java:1991)\r\n\tat org.eclipse.ui.internal.wizards.datatransfer.WizardProjectsImportPage$ProjectRecord.setProjectName(WizardProjectsImportPage.java:236)\r\n\tat org.eclipse.ui.internal.wizards.datatransfer.WizardProjectsImportPage$ProjectRecord.&lt;init&gt;(WizardProjectsImportPage.java:178)\r\n\tat org.eclipse.ui.internal.wizards.datatransfer.WizardProjectsImportPage.lambda$7(WizardProjectsImportPage.java:979)\r\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\r\n\r\n```\r\n\r\nCan someone help?\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I9zeR.png","title":"Some projects cannot be imported because their project description file is corrupted","body":"<p>Was trying to import my SAP Hybris projects into Eclipse Workspace via\n<strong>Import-&gt;General-&gt;Existing Projects Into Workspace</strong>.\nBut as soon as I give the path of my custom folder to import my Eclipse gives the error <strong>Some projects cannot be imported because their project description file is corrupted</strong>.\nAnd the same files are working perfectly fine for my other teammates.</p>\n<p><a href=\"https://i.stack.imgur.com/I9zeR.png\" rel=\"nofollow noreferrer\">ErrorOfScreenshotWhileImporting</a></p>\n<p>Tried creating a new workspace and importing projects again, but nothing helped.</p>\n<p>Also, here is the snippet of the error I can see in the workspace .metadata/log directory.</p>\n<pre><code>!ENTRY org.eclipse.core.resources 4 567 2022-06-30 21:08:52.444\n!MESSAGE Failure occurred reading .project file.\n!SUBENTRY 1 org.eclipse.core.resources 4 567 2022-06-30 21:08:52.445\n!MESSAGE The element type &quot;buildSpec&quot; must be terminated by the matching end-tag &quot;&lt;/buildSpec&gt;&quot;.\n!STACK 0\norg.xml.sax.SAXParseException; lineNumber: 18; columnNumber: 3; The element type &quot;buildSpec&quot; must be terminated by the matching end-tag &quot;&lt;/buildSpec&gt;&quot;.\n    at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\n    at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1695)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2899)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:326)\n    at org.eclipse.core.internal.resources.ProjectDescriptionReader.read(ProjectDescriptionReader.java:930)\n    at org.eclipse.core.internal.resources.ProjectDescriptionReader.read(ProjectDescriptionReader.java:958)\n    at org.eclipse.core.internal.resources.Workspace.loadProjectDescription(Workspace.java:1991)\n    at org.eclipse.ui.internal.wizards.datatransfer.WizardProjectsImportPage$ProjectRecord.setProjectName(WizardProjectsImportPage.java:236)\n    at org.eclipse.ui.internal.wizards.datatransfer.WizardProjectsImportPage$ProjectRecord.&lt;init&gt;(WizardProjectsImportPage.java:178)\n    at org.eclipse.ui.internal.wizards.datatransfer.WizardProjectsImportPage.lambda$7(WizardProjectsImportPage.java:979)\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\n\n</code></pre>\n<p>Can someone help?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","ssl","java-11","apache-httpclient-4.x","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1657331003,"post_id":72916836,"comment_id":128792098,"body_markdown":"Are you really using `mysite-123` or is that a redaction? Assuming the middleware passes the name, which hc 4.5.4 mostly does though I haven&#39;t looked at 5.anything, JSSE interprets strictly the requirement for SNI to be a &#39;DNS name&#39; and if the hostname it is told to connect to is **only one &#39;label&#39;** (no period) or is all-numeric (like an IPaddress) it **is not used** for SNI (even though actual DNS typically can resolve a single-label name using search context).","body":"Are you really using <code>mysite-123</code> or is that a redaction? Assuming the middleware passes the name, which hc 4.5.4 mostly does though I haven&#39;t looked at 5.anything, JSSE interprets strictly the requirement for SNI to be a &#39;DNS name&#39; and if the hostname it is told to connect to is <b>only one &#39;label&#39;</b> (no period) or is all-numeric (like an IPaddress) it <b>is not used</b> for SNI (even though actual DNS typically can resolve a single-label name using search context)."},{"owner":{"account_id":11514841,"reputation":57,"user_id":8438482,"accept_rate":17,"display_name":"Knight"},"score":0,"creation_date":1657396580,"post_id":72916836,"comment_id":128802170,"body_markdown":"@dave_thompson_085 yes, ```mysite-s123``` is a redaction, but my actual target site follows the same pattern","body":"@dave_thompson_085 yes, <code>mysite-s123</code> is a redaction, but my actual target site follows the same pattern"}],"owner":{"account_id":11514841,"reputation":57,"user_id":8438482,"accept_rate":17,"display_name":"Knight"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657313175,"creation_date":1657313175,"question_id":72916836,"body_markdown":"I&#39;m trying to make API call to a server that uses 2-way SSL authentication. I&#39;m using Apache HttpClient 5.1 along with Java 11. I&#39;m loading TrustMaterial into SSL context and later creating a CloseableHttpClient to make API call, in this case a GET call. But I keep getting Connection Reset error. So, I enabled debugging on handshake ```System.setProperty(&quot;javax.net.debug&quot;,&quot;ssl,handshake&quot;)```. I noticed that ClientHello was missing  **server_name** in its **extensions**. I&#39;m thinking this might be causing the issue with connection.\r\n\r\nCode\r\n```\r\npublic class ClientCustomSSL {\r\n    public final static void main(final String[] args) throws Exception {\r\n        System.setProperty(&quot;javax.net.debug&quot;,&quot;ssl,handshake&quot;);\r\n\r\n        File file = new File(&quot;C:\\\\Mycerts.jks&quot;);\r\n        final SSLContext sslcontext = SSLContexts.custom().loadTrustMaterial(file,&quot;passcode&quot;.toCharArray()).build();\r\n        final SSLConnectionSocketFactory sslSocketFactory = SSLConnectionSocketFactoryBuilder.create()\r\n                .setSslContext(sslcontext).build();\r\n        final HttpClientConnectionManager cm = PoolingHttpClientConnectionManagerBuilder.create()\r\n                .setSSLSocketFactory(sslSocketFactory)\r\n                .build();\r\n        try (CloseableHttpClient httpclient = HttpClients.custom()\r\n             .setConnectionManager(cm).build()) {\r\n\r\n            final HttpGet httpget = new HttpGet(&quot;https://mysite-s123/&quot;);\r\n            final HttpClientContext clientContext = HttpClientContext.create();\r\n            try (CloseableHttpResponse response = httpclient.execute(httpget, clientContext)) {\r\n                System.out.println(response.getCode() + &quot; &quot; + response.getReasonPhrase());\r\n            }\r\n        }\r\n    } \r\n```\r\n\r\nError \r\n\r\n```\r\njavax.net.ss1|WARNING|01|main|2022-07-08 14:39:57.291 EDT|ServerNameExtension.java: 261 | Unable to indicate server name\r\njavax.net.ss1|DEBUG|01|main|2022-07-08 14:39:57.291 EDT|SSLExtensions.java: 260|Ignore, context unavailable extension: server name\r\njavax.net.ss1 WARNING| 01|main|2022-07-08 14:39:57.293 EDT|SignatureScheme.java:295|Signature algorithm, ed25519, is not supported by the underlying providers\r\njavax.net.ss1|WARNING|01|main|2022-07-08 14:39:57.293 EDT|SignatureScheme.java: 295|Signature algorithm, ed448, is not supported by the underlying providers\r\njavax_net.ss1|INFO|01|main|2022-07-08 14:39:57.297 EDT|AlpnExtension.java:178|No available application protocols\r\njavax.net.551| DEBUG (02 |main|2022-25-08 14:39:57.297 EDT|SSLExtensions. java: 260| Ignore, context unavailable extension: application layer protocol _negotiation\r\njavax.net.ss1|DEBUG|01|main|2022-07-08 14:39:57.297 EDT|SSLExtensions.java:260|Ignore,context unavailable extension: renegotiation_ info\r\njavax.net-ss1|DEBUG|01|main|2022-07-08 14:39:57.299 EDT|ClientHello.java: 642 Produced ClientHello handshake message\r\n&quot;ClientHello&quot;:{\r\n&quot;client version&quot;:&quot;TLSv1.2&quot;,\r\n&quot;random&quot;:&quot;E1 A8 CF DD 06 87 B9 FD 6C EB FE C6 BC E3 C4 7F EE DC 22 B3 B7 AC 40 0A DO 53 7F 81 51 5D 78 D9&quot;,\r\n&quot;session id&quot;:&quot;E1 A8 CF DD 06 87 B9 FD 6C EB FE C6 BC E3 C4 7F EE DC 22 B3 B7 AC 40 0A DO 78 D9&quot;, \r\n&quot;cipher suites&quot;:&quot;[TLS_AES_256_GCM_SHA384(0x1302),TLS_ECOHE_ECDSA_WITH_AES_256_GCM_SHA384(exCe2C), TLS_ECDHE_ECOSA WITH AES_128 _ GCM SHA256(exC82B), TLS_ECDHE_ECOSA_WITH_CHACHA2&#174;_POL Y1305 _SHA256 (exCCA9)...]&quot;,\r\n&quot;compression methods&quot;: &quot;00&quot;,\r\n&quot;extensions&quot;: [\r\n\t&quot;status request (5)&quot;:{\r\n\t&quot;certificate status type&quot;: ocsp\r\n\t&quot;OCSP status request&quot;: {\r\n\t\t&quot;responder id&quot;: ‹empty&gt;\r\n\t\t&quot;request extensions&quot;:{\r\n\t\t‹empty&gt;\r\n\t\t}\r\n\t}\r\n},\r\n&quot;supported_groups (10)&quot;: {\r\n\t&quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n},\r\n&quot;ec point formats (11)&quot;: {\r\n\tformats&quot;: [uncompressed]\r\n},\r\n&quot;signature algorithms (13)&quot;: {\r\n\t\t&quot;signature schemes&quot;: [ecdsa_secp256r1 sha256, ecdsa_ secp384r1_ sha384, ecdsa_secp521r1_ sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa pss_ pss_sha256, dsa_sha1]\r\n},\r\n\t&quot;signature algorithms_cert (50)&quot;: {\r\n\t\t&quot;signature schemes&quot; : [ecdsa secp256r1 sha256, ecdsa secp384r1_ sha384, ecdsa_secp521r1_ sha512, rsa_pss_rsae_sha256, rsa_pss_ rsae_sha384, rsa pss_rsae_sha512, rsa pss_pss_sha256,dsa_sha1]\r\n\t\t},\r\n\t\t&quot;status request_v2 (17)&quot;: {\r\n\t\t&quot;cert status request&quot;:{\r\n\t\t&quot;certificate status type&quot;: ocsp multi\r\n}\r\n]\r\n}\r\njavax.net.ss1|WARNING|01|main|2022-07-07 09:26:16.233 EDT| SSLSocketImp1.java: 1648| handling exception (&quot;throwable&quot; : {\r\n\tjava.net.SocketException: Connection reset\r\n\t\tat java.base/java.net.SocketInputStream.read(SocketInputstream.java:186)\r\n\t\tat java.base/java.net.SocketInputstream.read (SocketInputstream.java: 140)\r\n\t\tat java.base/sun.security.ss1.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\r\n\t\tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\r\n\t\tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\r\n\t\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1501)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImp1.readHandshakeRecord(SSLSocketImpl.java:1411)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImp1.startHandshake(SSLSocketImpl.java:451)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:422)\r\n\t\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\r\n\t\tat org.apache.http.conn.ss1.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n\t\tat org.apache.http.impl.conn.DefaultHttpclientConnectionoperator.connect(DefaultHttpclientconnectionoperator.java:142)\r\n\t\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpclientconnectionManager.java:376)\r\n\t\tat org.apache.http.impl.execchain.MainclientExec.establishRoute(MainclientExec.java:393)\r\n\t\tat org.apache.http.impl.execchain.MainclientExec.execute(MainclientExec.java:236)\r\n\t\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\t\tat org.apache.http.imp1.execchain.RetryExec-execute(RetryExec-java:89)\r\n\t\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\t\tat org.apache.http.imp1.client.InternalHttpClient.doExecute(InternalHttpclient.java:185)\r\n\t\tat org.apache.http.impl.client.closeableHttpclient.execute(CloseableHttpclient.java:83)\r\n\t\tat org.apache.http.impl. client.closeableHttpclient. execute(closeableHttpclient. java:108)\r\n\t\tat ClientCustomSSL.main(ClientCustomSSL.java:62)}\r\n```\r\nBased on some of the StackOverflow answers, SNI extension does not require any custom configuration and should work transparently. But I don&#39;t understand why this is not working though. Can anyone please let know if I&#39;m missing something here and point me in the right direction.\r\nThank you in advance!!!  ","title":"Unable to indicate server_name with Apache HttpClient 5.1 and Java 11","body":"<p>I'm trying to make API call to a server that uses 2-way SSL authentication. I'm using Apache HttpClient 5.1 along with Java 11. I'm loading TrustMaterial into SSL context and later creating a CloseableHttpClient to make API call, in this case a GET call. But I keep getting Connection Reset error. So, I enabled debugging on handshake <code>System.setProperty(&quot;javax.net.debug&quot;,&quot;ssl,handshake&quot;)</code>. I noticed that ClientHello was missing  <strong>server_name</strong> in its <strong>extensions</strong>. I'm thinking this might be causing the issue with connection.</p>\n<p>Code</p>\n<pre><code>public class ClientCustomSSL {\n    public final static void main(final String[] args) throws Exception {\n        System.setProperty(&quot;javax.net.debug&quot;,&quot;ssl,handshake&quot;);\n\n        File file = new File(&quot;C:\\\\Mycerts.jks&quot;);\n        final SSLContext sslcontext = SSLContexts.custom().loadTrustMaterial(file,&quot;passcode&quot;.toCharArray()).build();\n        final SSLConnectionSocketFactory sslSocketFactory = SSLConnectionSocketFactoryBuilder.create()\n                .setSslContext(sslcontext).build();\n        final HttpClientConnectionManager cm = PoolingHttpClientConnectionManagerBuilder.create()\n                .setSSLSocketFactory(sslSocketFactory)\n                .build();\n        try (CloseableHttpClient httpclient = HttpClients.custom()\n             .setConnectionManager(cm).build()) {\n\n            final HttpGet httpget = new HttpGet(&quot;https://mysite-s123/&quot;);\n            final HttpClientContext clientContext = HttpClientContext.create();\n            try (CloseableHttpResponse response = httpclient.execute(httpget, clientContext)) {\n                System.out.println(response.getCode() + &quot; &quot; + response.getReasonPhrase());\n            }\n        }\n    } \n</code></pre>\n<p>Error</p>\n<pre><code>javax.net.ss1|WARNING|01|main|2022-07-08 14:39:57.291 EDT|ServerNameExtension.java: 261 | Unable to indicate server name\njavax.net.ss1|DEBUG|01|main|2022-07-08 14:39:57.291 EDT|SSLExtensions.java: 260|Ignore, context unavailable extension: server name\njavax.net.ss1 WARNING| 01|main|2022-07-08 14:39:57.293 EDT|SignatureScheme.java:295|Signature algorithm, ed25519, is not supported by the underlying providers\njavax.net.ss1|WARNING|01|main|2022-07-08 14:39:57.293 EDT|SignatureScheme.java: 295|Signature algorithm, ed448, is not supported by the underlying providers\njavax_net.ss1|INFO|01|main|2022-07-08 14:39:57.297 EDT|AlpnExtension.java:178|No available application protocols\njavax.net.551| DEBUG (02 |main|2022-25-08 14:39:57.297 EDT|SSLExtensions. java: 260| Ignore, context unavailable extension: application layer protocol _negotiation\njavax.net.ss1|DEBUG|01|main|2022-07-08 14:39:57.297 EDT|SSLExtensions.java:260|Ignore,context unavailable extension: renegotiation_ info\njavax.net-ss1|DEBUG|01|main|2022-07-08 14:39:57.299 EDT|ClientHello.java: 642 Produced ClientHello handshake message\n&quot;ClientHello&quot;:{\n&quot;client version&quot;:&quot;TLSv1.2&quot;,\n&quot;random&quot;:&quot;E1 A8 CF DD 06 87 B9 FD 6C EB FE C6 BC E3 C4 7F EE DC 22 B3 B7 AC 40 0A DO 53 7F 81 51 5D 78 D9&quot;,\n&quot;session id&quot;:&quot;E1 A8 CF DD 06 87 B9 FD 6C EB FE C6 BC E3 C4 7F EE DC 22 B3 B7 AC 40 0A DO 78 D9&quot;, \n&quot;cipher suites&quot;:&quot;[TLS_AES_256_GCM_SHA384(0x1302),TLS_ECOHE_ECDSA_WITH_AES_256_GCM_SHA384(exCe2C), TLS_ECDHE_ECOSA WITH AES_128 _ GCM SHA256(exC82B), TLS_ECDHE_ECOSA_WITH_CHACHA2®_POL Y1305 _SHA256 (exCCA9)...]&quot;,\n&quot;compression methods&quot;: &quot;00&quot;,\n&quot;extensions&quot;: [\n    &quot;status request (5)&quot;:{\n    &quot;certificate status type&quot;: ocsp\n    &quot;OCSP status request&quot;: {\n        &quot;responder id&quot;: ‹empty&gt;\n        &quot;request extensions&quot;:{\n        ‹empty&gt;\n        }\n    }\n},\n&quot;supported_groups (10)&quot;: {\n    &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n},\n&quot;ec point formats (11)&quot;: {\n    formats&quot;: [uncompressed]\n},\n&quot;signature algorithms (13)&quot;: {\n        &quot;signature schemes&quot;: [ecdsa_secp256r1 sha256, ecdsa_ secp384r1_ sha384, ecdsa_secp521r1_ sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa pss_ pss_sha256, dsa_sha1]\n},\n    &quot;signature algorithms_cert (50)&quot;: {\n        &quot;signature schemes&quot; : [ecdsa secp256r1 sha256, ecdsa secp384r1_ sha384, ecdsa_secp521r1_ sha512, rsa_pss_rsae_sha256, rsa_pss_ rsae_sha384, rsa pss_rsae_sha512, rsa pss_pss_sha256,dsa_sha1]\n        },\n        &quot;status request_v2 (17)&quot;: {\n        &quot;cert status request&quot;:{\n        &quot;certificate status type&quot;: ocsp multi\n}\n]\n}\njavax.net.ss1|WARNING|01|main|2022-07-07 09:26:16.233 EDT| SSLSocketImp1.java: 1648| handling exception (&quot;throwable&quot; : {\n    java.net.SocketException: Connection reset\n        at java.base/java.net.SocketInputStream.read(SocketInputstream.java:186)\n        at java.base/java.net.SocketInputstream.read (SocketInputstream.java: 140)\n        at java.base/sun.security.ss1.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1501)\n        at java.base/sun.security.ssl.SSLSocketImp1.readHandshakeRecord(SSLSocketImpl.java:1411)\n        at java.base/sun.security.ssl.SSLSocketImp1.startHandshake(SSLSocketImpl.java:451)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:422)\n        at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\n        at org.apache.http.conn.ss1.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n        at org.apache.http.impl.conn.DefaultHttpclientConnectionoperator.connect(DefaultHttpclientconnectionoperator.java:142)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpclientconnectionManager.java:376)\n        at org.apache.http.impl.execchain.MainclientExec.establishRoute(MainclientExec.java:393)\n        at org.apache.http.impl.execchain.MainclientExec.execute(MainclientExec.java:236)\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n        at org.apache.http.imp1.execchain.RetryExec-execute(RetryExec-java:89)\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n        at org.apache.http.imp1.client.InternalHttpClient.doExecute(InternalHttpclient.java:185)\n        at org.apache.http.impl.client.closeableHttpclient.execute(CloseableHttpclient.java:83)\n        at org.apache.http.impl. client.closeableHttpclient. execute(closeableHttpclient. java:108)\n        at ClientCustomSSL.main(ClientCustomSSL.java:62)}\n</code></pre>\n<p>Based on some of the StackOverflow answers, SNI extension does not require any custom configuration and should work transparently. But I don't understand why this is not working though. Can anyone please let know if I'm missing something here and point me in the right direction.\nThank you in advance!!!</p>\n"},{"tags":["java","gmail","google-oauth","gmail-api"],"answers":[{"tags":[],"owner":{"account_id":25468555,"reputation":95,"user_id":19267178,"display_name":"Himanshu Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657312574,"creation_date":1657250139,"answer_id":72906278,"question_id":72906165,"body_markdown":"The API service is barred if the Java application is not connected to the Gmail server for long. You can set it again by visiting the Google Account settings and turning it on again.&lt;br&gt; \r\nYou need to switch &#39;ON&#39; allow less secure apps to connect; which can be found [here][1]\r\n\r\n\r\n  [1]: https://support.google.com/mail/answer/7126229?visit_id=637928468169870857-363407828&amp;rd=2#cantsignin&amp;zippy=%2Ci-cant-sign-in-to-my-email-client","title":"Gmail api thows an error 400 &quot;invalid_grant&quot;","body":"<p>The API service is barred if the Java application is not connected to the Gmail server for long. You can set it again by visiting the Google Account settings and turning it on again.<br>\nYou need to switch 'ON' allow less secure apps to connect; which can be found <a href=\"https://support.google.com/mail/answer/7126229?visit_id=637928468169870857-363407828&amp;rd=2#cantsignin&amp;zippy=%2Ci-cant-sign-in-to-my-email-client\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25755405,"reputation":1,"user_id":19507168,"display_name":"mena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657312574,"creation_date":1657248748,"question_id":72906165,"body_markdown":"I generated the refresh token using google oauth playground. I used this refresh token to generate the new access token on my java code below. It was working fine 4 days ago.But now I am seeing the below error,\r\nPOST https://oauth2.googleapis.com/token\r\n{\r\n  &quot;error&quot;: &quot;invalid_grant&quot;,\r\n  &quot;error_description&quot;: &quot;Token has been expired or revoked.&quot;\r\n}\r\nif i generate the new refresh token from oauth2 playground and replace the existing one on my credentials.json,it&#39;s working fine.But if I didn&#39;t execute the code for couple of days,same error.I am not sure what I am missing.\r\n**My java code**\r\n\r\n   \r\n\r\n     private String getAccessToken() {\r\n            try {\r\n                credentials.put(&quot;grant_type&quot;, &quot;refresh_token&quot;);\r\n                credentials.put(&quot;client_id&quot;, credential.get(&quot;client_id&quot;));\r\n                credentials.put(&quot;client_secret&quot;, credential.get(&quot;client_secret&quot;));\r\n                credentials.put(&quot;refresh_token&quot;, credential.get(&quot;refresh_token&quot;));\r\n                credentials.put(&quot;project_id&quot;, credential.get(&quot;project_id&quot;));\r\n            \r\n                StringBuilder postData = new StringBuilder();\r\n                for (Map.Entry&lt;String, Object&gt; param : credentials.entrySet()) {\r\n                    if (postData.length() != 0) {\r\n                        postData.append(&#39;&amp;&#39;);\r\n                    }\r\n                    postData.append(URLEncoder.encode(param.getKey(), &quot;UTF-8&quot;));\r\n                    postData.append(&#39;=&#39;);\r\n                    postData.append(URLEncoder.encode(String.valueOf(param.getValue()), &quot;UTF-8&quot;));\r\n                }\r\n                byte[] postDataBytes = postData.toString().getBytes(&quot;UTF-8&quot;);\r\n                URL url = new URL(&quot;https://accounts.google.com/o/oauth2/token&quot;);\r\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                con.setDoOutput(true);\r\n                con.setUseCaches(false);\r\n                con.setRequestMethod(&quot;POST&quot;);\r\n                con.getOutputStream().write(postDataBytes);\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                StringBuffer buffer = new StringBuffer();\r\n                for (String line = reader.readLine(); line != null; line = reader.readLine()) {\r\n                    buffer.append(line);\r\n                }\r\n                JSONObject json = new JSONObject(buffer.toString());\r\n                String accessToken = json.getString(&quot;access_token&quot;);\r\n                return accessToken;\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Error on generating access token:&quot;+ExceptionUtils.getFullStackTrace(ex));\r\n            }\r\n            return null;\r\n        }\r\n\r\n","title":"Gmail api thows an error 400 &quot;invalid_grant&quot;","body":"<p>I generated the refresh token using google oauth playground. I used this refresh token to generate the new access token on my java code below. It was working fine 4 days ago.But now I am seeing the below error,\nPOST <a href=\"https://oauth2.googleapis.com/token\" rel=\"nofollow noreferrer\">https://oauth2.googleapis.com/token</a>\n{\n&quot;error&quot;: &quot;invalid_grant&quot;,\n&quot;error_description&quot;: &quot;Token has been expired or revoked.&quot;\n}\nif i generate the new refresh token from oauth2 playground and replace the existing one on my credentials.json,it's working fine.But if I didn't execute the code for couple of days,same error.I am not sure what I am missing.\n<strong>My java code</strong></p>\n<pre><code> private String getAccessToken() {\n        try {\n            credentials.put(&quot;grant_type&quot;, &quot;refresh_token&quot;);\n            credentials.put(&quot;client_id&quot;, credential.get(&quot;client_id&quot;));\n            credentials.put(&quot;client_secret&quot;, credential.get(&quot;client_secret&quot;));\n            credentials.put(&quot;refresh_token&quot;, credential.get(&quot;refresh_token&quot;));\n            credentials.put(&quot;project_id&quot;, credential.get(&quot;project_id&quot;));\n        \n            StringBuilder postData = new StringBuilder();\n            for (Map.Entry&lt;String, Object&gt; param : credentials.entrySet()) {\n                if (postData.length() != 0) {\n                    postData.append('&amp;');\n                }\n                postData.append(URLEncoder.encode(param.getKey(), &quot;UTF-8&quot;));\n                postData.append('=');\n                postData.append(URLEncoder.encode(String.valueOf(param.getValue()), &quot;UTF-8&quot;));\n            }\n            byte[] postDataBytes = postData.toString().getBytes(&quot;UTF-8&quot;);\n            URL url = new URL(&quot;https://accounts.google.com/o/oauth2/token&quot;);\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\n            con.setDoOutput(true);\n            con.setUseCaches(false);\n            con.setRequestMethod(&quot;POST&quot;);\n            con.getOutputStream().write(postDataBytes);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            StringBuffer buffer = new StringBuffer();\n            for (String line = reader.readLine(); line != null; line = reader.readLine()) {\n                buffer.append(line);\n            }\n            JSONObject json = new JSONObject(buffer.toString());\n            String accessToken = json.getString(&quot;access_token&quot;);\n            return accessToken;\n        } catch (Exception ex) {\n            log.error(&quot;Error on generating access token:&quot;+ExceptionUtils.getFullStackTrace(ex));\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1513916297,"post_id":47935772,"comment_id":82840887,"body_markdown":"It&#39;s not an error, it&#39;s a warning. Won&#39;t hurt you.","body":"It&#39;s not an error, it&#39;s a warning. Won&#39;t hurt you."},{"owner":{"account_id":6713974,"reputation":5121,"user_id":5176364,"accept_rate":82,"display_name":"Here_2_learn"},"score":1,"creation_date":1513916358,"post_id":47935772,"comment_id":82840897,"body_markdown":"Does it works without any issues going forward ? Is there any way to sort out this ?","body":"Does it works without any issues going forward ? Is there any way to sort out this ?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1513916491,"post_id":47935772,"comment_id":82840925,"body_markdown":"It&#39;ll cause issues at *some* point in the future, but not yet. As the message says, you can report this to the library maintainers... **if** you&#39;re using the latest version, and a bug report doesn&#39;t already exist.","body":"It&#39;ll cause issues at <i>some</i> point in the future, but not yet. As the message says, you can report this to the library maintainers... <b>if</b> you&#39;re using the latest version, and a bug report doesn&#39;t already exist."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":8,"creation_date":1513921587,"post_id":47935772,"comment_id":82842168,"body_markdown":"Groovy is having to undergo significant changes to accommodate the Java 9 module system; this is why the version is labeled `alpha-1`. If you&#39;re new to Groovy and Java, start with Groovy 2.4 (and probably Java 8) to get acquainted before dealing with modules.","body":"Groovy is having to undergo significant changes to accommodate the Java 9 module system; this is why the version is labeled <code>alpha-1</code>. If you&#39;re new to Groovy and Java, start with Groovy 2.4 (and probably Java 8) to get acquainted before dealing with modules."},{"owner":{"account_id":6713974,"reputation":5121,"user_id":5176364,"accept_rate":82,"display_name":"Here_2_learn"},"score":0,"creation_date":1513924450,"post_id":47935772,"comment_id":82842967,"body_markdown":"@chrylis: Sure, will proceed as suggested.","body":"@chrylis: Sure, will proceed as suggested."},{"owner":{"account_id":117431,"reputation":5211,"user_id":307525,"accept_rate":44,"display_name":"Hubbitus"},"score":1,"creation_date":1549200293,"post_id":47935772,"comment_id":95810568,"body_markdown":"I hope it may be ignored for now because it is warning nor error. Please se upstream bugreport for that: https://issues.apache.org/jira/browse/GROOVY-8339","body":"I hope it may be ignored for now because it is warning nor error. Please se upstream bugreport for that: <a href=\"https://issues.apache.org/jira/browse/GROOVY-8339\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/GROOVY-8339</a>"},{"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"score":0,"creation_date":1550021933,"post_id":47935772,"comment_id":96113703,"body_markdown":"I am getting this error with Groovy v2.4.15 under JDK 1.8 -- I&#39;ve seen several comments citing Java 9.  I get it from 1.8, 10 and 11 (I skipped 9 just like Oracle did).","body":"I am getting this error with Groovy v2.4.15 under JDK 1.8 -- I&#39;ve seen several comments citing Java 9.  I get it from 1.8, 10 and 11 (I skipped 9 just like Oracle did)."},{"owner":{"account_id":143382,"reputation":2912,"user_id":351688,"accept_rate":91,"display_name":"A.W."},"score":0,"creation_date":1641280431,"post_id":47935772,"comment_id":124757878,"body_markdown":"I have the same when using Java 11. Using Java 8 does not show this warning.","body":"I have the same when using Java 11. Using Java 8 does not show this warning."},{"owner":{"account_id":120990,"reputation":9952,"user_id":313756,"accept_rate":42,"display_name":"lindes"},"score":1,"creation_date":1643741903,"post_id":47935772,"comment_id":125419149,"body_markdown":"_&quot;If you think something&#39;s supposed to hurt, you&#39;re less likely to notice if you&#39;re doing it wrong.&quot; -- Paul Graham_.  @shmosel: sure, a warning won&#39;t directly stop something from working, but making a habit of ignoring warnings is... I&#39;d argue... &quot;doing it wrong&quot;.  Things shouldn&#39;t generate warnings unless someone is supposed to actually pay attention to them.  And then if a warning is generated, we should actually pay attention.  The fact that this is not a norm that&#39;s widely practiced _does_ hurt various people in various ways, some big, mostly small (like wasted time here!)","body":"<i>&quot;If you think something&#39;s supposed to hurt, you&#39;re less likely to notice if you&#39;re doing it wrong.&quot; -- Paul Graham</i>.  @shmosel: sure, a warning won&#39;t directly stop something from working, but making a habit of ignoring warnings is... I&#39;d argue... &quot;doing it wrong&quot;.  Things shouldn&#39;t generate warnings unless someone is supposed to actually pay attention to them.  And then if a warning is generated, we should actually pay attention.  The fact that this is not a norm that&#39;s widely practiced <i>does</i> hurt various people in various ways, some big, mostly small (like wasted time here!)"}],"answers":[{"tags":[],"owner":{"account_id":10572596,"reputation":99,"user_id":7788834,"display_name":"T Semple"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1528752045,"creation_date":1528752045,"answer_id":50806199,"question_id":47935772,"body_markdown":"It is more than a &#39;warning&#39; for me: I cannot get Groovy scripts to run (on macOS) with the current JVM 9, much less 10. The workaround (until a compatible version of Groovy is available) is to install jenv and an earlier version of Java, so you can switch when needed. ","title":"Groovy - WARNING: An illegal reflective access operation has occurred","body":"<p>It is more than a 'warning' for me: I cannot get Groovy scripts to run (on macOS) with the current JVM 9, much less 10. The workaround (until a compatible version of Groovy is available) is to install jenv and an earlier version of Java, so you can switch when needed. </p>\n"},{"tags":[],"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546117655,"creation_date":1546117655,"answer_id":53973345,"question_id":47935772,"body_markdown":"Although my environment is Linux, after struggling some days to setup Groovy on Grails environment I feel like I know the answer: use JDK 8 for now. I was fiddling with JDK 9, and I thought it was too far behind so I tried JDK 11, which made things even worse, I got actual crashes. It seems like that Groovy / Grails is heavily lagging behind in terms of Java version compatibility.\r\n\r\nOnce the new Groovy will be released (said to be end of this year) then newer JDK can be used as well.","title":"Groovy - WARNING: An illegal reflective access operation has occurred","body":"<p>Although my environment is Linux, after struggling some days to setup Groovy on Grails environment I feel like I know the answer: use JDK 8 for now. I was fiddling with JDK 9, and I thought it was too far behind so I tried JDK 11, which made things even worse, I got actual crashes. It seems like that Groovy / Grails is heavily lagging behind in terms of Java version compatibility.</p>\n\n<p>Once the new Groovy will be released (said to be end of this year) then newer JDK can be used as well.</p>\n"},{"tags":[],"owner":{"account_id":2357514,"reputation":1444,"user_id":3890673,"accept_rate":55,"display_name":"crusy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1551267997,"creation_date":1551267997,"answer_id":54904778,"question_id":47935772,"body_markdown":"To disable the warnings you can pass `--add-opens` to the JVM, see details [here][1]. Unfortunately Groovy requires _a lot_ of modules/packages to be opened, see this (currently reverted) [commit][2] ([source][3]). Just tested these with AdoptOpenJDK 11.\r\n\r\n\r\n  [1]: https://blog.codefx.org/java/five-command-line-options-hack-java-module-system/#Reflectively-Accessing-Internal-APIs-With--add-opens\r\n  [2]: https://github.com/apache/groovy/commit/92bd96fcdfe35e502987e1846715a08a45620db1\r\n  [3]: http://groovy-lang.org/releasenotes/groovy-2.5.html#Groovy2.5releasenotes-Knownissues","title":"Groovy - WARNING: An illegal reflective access operation has occurred","body":"<p>To disable the warnings you can pass <code>--add-opens</code> to the JVM, see details <a href=\"https://blog.codefx.org/java/five-command-line-options-hack-java-module-system/#Reflectively-Accessing-Internal-APIs-With--add-opens\" rel=\"noreferrer\">here</a>. Unfortunately Groovy requires <em>a lot</em> of modules/packages to be opened, see this (currently reverted) <a href=\"https://github.com/apache/groovy/commit/92bd96fcdfe35e502987e1846715a08a45620db1\" rel=\"noreferrer\">commit</a> (<a href=\"http://groovy-lang.org/releasenotes/groovy-2.5.html#Groovy2.5releasenotes-Knownissues\" rel=\"noreferrer\">source</a>). Just tested these with AdoptOpenJDK 11.</p>\n"},{"tags":[],"owner":{"account_id":16122129,"reputation":7,"user_id":11639322,"display_name":"user152476"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582038742,"creation_date":1582038742,"answer_id":60284020,"question_id":47935772,"body_markdown":"Use the Java 8, however, if the java version must be 9 or &gt;, you need to update the groovy version too.\r\n\r\nI was running groovy 2.2.1 and it only works until java version 8","title":"Groovy - WARNING: An illegal reflective access operation has occurred","body":"<p>Use the Java 8, however, if the java version must be 9 or >, you need to update the groovy version too.</p>\n\n<p>I was running groovy 2.2.1 and it only works until java version 8</p>\n"},{"tags":[],"owner":{"account_id":301693,"reputation":827,"user_id":609597,"accept_rate":50,"display_name":"softwarevamp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1590376877,"creation_date":1590376877,"answer_id":61995246,"question_id":47935772,"body_markdown":"add groovy-version to your pom:\r\n```\r\n\t\t&lt;groovy.version&gt;3.0.4&lt;/groovy.version&gt;\r\n```\r\n","title":"Groovy - WARNING: An illegal reflective access operation has occurred","body":"<p>add groovy-version to your pom:</p>\n\n<pre><code>        &lt;groovy.version&gt;3.0.4&lt;/groovy.version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1601039266,"creation_date":1601039266,"answer_id":64064796,"question_id":47935772,"body_markdown":"Setting `JAVA_HOME` to a Version 8 JRE solved it for me:\r\n\r\n~~~none\r\n#! /usr/bin/env -S JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre groovy\r\nprintln &quot;hello world&quot;\r\n~~~","title":"Groovy - WARNING: An illegal reflective access operation has occurred","body":"<p>Setting <code>JAVA_HOME</code> to a Version 8 JRE solved it for me:</p>\n<pre class=\"lang-none prettyprint-override\"><code>#! /usr/bin/env -S JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre groovy\nprintln &quot;hello world&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1803180,"reputation":99,"user_id":1640970,"display_name":"Pedro Sousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609848730,"creation_date":1609848730,"answer_id":65578665,"question_id":47935772,"body_markdown":"In my case it was because I was using JUNIT 5 with groovy but the latest supported I found is JUNIT 4.13","title":"Groovy - WARNING: An illegal reflective access operation has occurred","body":"<p>In my case it was because I was using JUNIT 5 with groovy but the latest supported I found is JUNIT 4.13</p>\n"},{"tags":[],"owner":{"account_id":23870765,"reputation":11,"user_id":18594095,"display_name":"Keith Anthony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657312461,"creation_date":1657312145,"answer_id":72916683,"question_id":47935772,"body_markdown":"I had this issue with openjdk 11.0.15 2022-04-19 and Groovy 2.4.17 on Linux Mint 20.1\r\n\r\n```\r\nWARNING: All illegal access operations will be denied in a future release\r\nGroovy Version: 2.4.17 JVM: 11.0.15 Vendor: Private Build OS: Linux\r\n```\r\nTo fix it I installed Jabba\r\nhttps://github.com/shyiko/jabba\r\n\r\nFirst you need to set which version of Jabba you want to install:\r\n```\r\nexport JABBA_VERSION=0.11.2\r\n```\r\nThen run the curl command:\r\n\r\n```\r\ncurl -sL https://github.com/shyiko/jabba/raw/master/install.sh | bash &amp;&amp; . ~/.jabba/jabba.sh\r\nInstalling v0.11.2...\r\n\r\nAdding source string to /home/spock/.bashrc\r\nAdding source string to /home/spock/.profile\r\nInstallation completed\r\n```\r\n```\r\nspock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ jabba\r\nJava Version Manager (https://github.com/shyiko/jabba).\r\n\r\nUsage:\r\n  jabba [flags]\r\n  jabba [command]\r\n\r\nAvailable Commands:\r\n  install     Download and install JDK\r\n  uninstall   Uninstall JDK\r\n  link        Resolve or update a link\r\n  unlink      Delete a link\r\n  use         Modify PATH &amp; JAVA_HOME to use specific JDK\r\n  current     Display currently &#39;use&#39;ed version\r\n  ls          List installed versions\r\n  ls-remote   List remote versions available for install\r\n  deactivate  Undo effects of `jabba` on current shell\r\n  alias       Resolve or update an alias\r\n  unalias     Delete an alias\r\n  which       Display path to installed JDK\r\n```\r\n```\r\nspock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ jabba ls\r\nzulu@1.8.275\r\n\r\nspock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ jabba use zulu@1.8.275\r\n\r\nspock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ jabba current\r\nzulu@1.8.275\r\n\r\nspock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ groovy -v\r\nGroovy Version: 2.4.17 JVM: 1.8.0_275 Vendor: Azul Systems, Inc. OS: Linux\r\n```\r\nSee this video for a good concise introduction to what Jabba can do:\r\n\r\nhttps://www.youtube.com/watch?v=y2kYVCCeIMo","title":"Groovy - WARNING: An illegal reflective access operation has occurred","body":"<p>I had this issue with openjdk 11.0.15 2022-04-19 and Groovy 2.4.17 on Linux Mint 20.1</p>\n<pre><code>WARNING: All illegal access operations will be denied in a future release\nGroovy Version: 2.4.17 JVM: 11.0.15 Vendor: Private Build OS: Linux\n</code></pre>\n<p>To fix it I installed Jabba\n<a href=\"https://github.com/shyiko/jabba\" rel=\"nofollow noreferrer\">https://github.com/shyiko/jabba</a></p>\n<p>First you need to set which version of Jabba you want to install:</p>\n<pre><code>export JABBA_VERSION=0.11.2\n</code></pre>\n<p>Then run the curl command:</p>\n<pre><code>curl -sL https://github.com/shyiko/jabba/raw/master/install.sh | bash &amp;&amp; . ~/.jabba/jabba.sh\nInstalling v0.11.2...\n\nAdding source string to /home/spock/.bashrc\nAdding source string to /home/spock/.profile\nInstallation completed\n</code></pre>\n<pre><code>spock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ jabba\nJava Version Manager (https://github.com/shyiko/jabba).\n\nUsage:\n  jabba [flags]\n  jabba [command]\n\nAvailable Commands:\n  install     Download and install JDK\n  uninstall   Uninstall JDK\n  link        Resolve or update a link\n  unlink      Delete a link\n  use         Modify PATH &amp; JAVA_HOME to use specific JDK\n  current     Display currently 'use'ed version\n  ls          List installed versions\n  ls-remote   List remote versions available for install\n  deactivate  Undo effects of `jabba` on current shell\n  alias       Resolve or update an alias\n  unalias     Delete an alias\n  which       Display path to installed JDK\n</code></pre>\n<pre><code>spock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ jabba ls\nzulu@1.8.275\n\nspock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ jabba use zulu@1.8.275\n\nspock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ jabba current\nzulu@1.8.275\n\nspock@hp-compaq-a:~/workspace/test/groovy-examples/hello-world$ groovy -v\nGroovy Version: 2.4.17 JVM: 1.8.0_275 Vendor: Azul Systems, Inc. OS: Linux\n</code></pre>\n<p>See this video for a good concise introduction to what Jabba can do:</p>\n<p><a href=\"https://www.youtube.com/watch?v=y2kYVCCeIMo\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=y2kYVCCeIMo</a></p>\n"}],"owner":{"account_id":6713974,"reputation":5121,"user_id":5176364,"accept_rate":82,"display_name":"Here_2_learn"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55175,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"answer_count":8,"score":47,"last_activity_date":1657312461,"creation_date":1513916138,"question_id":47935772,"body_markdown":"I am pretty much new to java and groovy. I have installed groovy 3.0 on my windows 10 laptop (64 bit) and when tried to run groovy getting following warning: \r\n\r\n    &gt;groovy -v\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/C:/groovy-3.0.0-alpha-1/lib/groovy-3.0.0-alpha-1.jar) to method java.lang.Object.finalize()\r\n    WARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    Groovy Version: 3.0.0-alpha-1 JVM: 9.0.1 Vendor: Oracle Corporation OS: Windows 10\r\n\r\n\r\nAnd the java version is:\r\n\r\n\r\n    java --version\r\n    java 9.0.1\r\n    Java(TM) SE Runtime Environment (build 9.0.1+11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 9.0.1+11, mixed mode)\r\n\r\nAny help to resolve this.\r\n","title":"Groovy - WARNING: An illegal reflective access operation has occurred","body":"<p>I am pretty much new to java and groovy. I have installed groovy 3.0 on my windows 10 laptop (64 bit) and when tried to run groovy getting following warning: </p>\n\n<pre><code>&gt;groovy -v\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/C:/groovy-3.0.0-alpha-1/lib/groovy-3.0.0-alpha-1.jar) to method java.lang.Object.finalize()\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nGroovy Version: 3.0.0-alpha-1 JVM: 9.0.1 Vendor: Oracle Corporation OS: Windows 10\n</code></pre>\n\n<p>And the java version is:</p>\n\n<pre><code>java --version\njava 9.0.1\nJava(TM) SE Runtime Environment (build 9.0.1+11)\nJava HotSpot(TM) 64-Bit Server VM (build 9.0.1+11, mixed mode)\n</code></pre>\n\n<p>Any help to resolve this.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1657309167,"post_id":72916185,"comment_id":128788342,"body_markdown":"Did you try `@RequestParam(required = false)`?","body":"Did you try <code>@RequestParam(required = false)</code>?"},{"owner":{"account_id":20325548,"reputation":3,"user_id":14910385,"display_name":"Charly"},"score":0,"creation_date":1657309665,"post_id":72916185,"comment_id":128788448,"body_markdown":"Yes, I tried to put @RequestParam(value=&quot;image&quot;, defaultValue= &quot;&quot; ,required=false but if I don&#39;t send the corresponding parameter I get as result a 500 error that says &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;org.springframework.web.multipart.MultipartFile&#39;&quot;","body":"Yes, I tried to put @RequestParam(value=&quot;image&quot;, defaultValue= &quot;&quot; ,required=false but if I don&#39;t send the corresponding parameter I get as result a 500 error that says &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;org.springframework.web.multipart.MultipartFile&#39;&quot;"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1657310159,"post_id":72916185,"comment_id":128788584,"body_markdown":"Why did you add `defaultValue`?","body":"Why did you add <code>defaultValue</code>?"}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657310923,"creation_date":1657310923,"answer_id":72916515,"question_id":72916185,"body_markdown":"Try `@RequestParam(required = false)` (no need for the name to be specified with the value param, because spring takes the variable name by default and in your case they&#39;re the same)\r\n\r\nYou&#39;re method definition would look like this:\r\n```java\r\n@PutMapping(&quot;/portfolio/edit-data&quot;)\r\npublic Portfolio editPortfolio (@RequestParam(required = false) MultipartFile image,\r\n                                @ModelAttribute Portfolio port,\r\n                                BindingResult result)\r\n```","title":"How to set a multipartfile parameter as &quot;not required&quot; in java with spring boot?","body":"<p>Try <code>@RequestParam(required = false)</code> (no need for the name to be specified with the value param, because spring takes the variable name by default and in your case they're the same)</p>\n<p>You're method definition would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PutMapping(&quot;/portfolio/edit-data&quot;)\npublic Portfolio editPortfolio (@RequestParam(required = false) MultipartFile image,\n                                @ModelAttribute Portfolio port,\n                                BindingResult result)\n</code></pre>\n"}],"owner":{"account_id":20325548,"reputation":3,"user_id":14910385,"display_name":"Charly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72916515,"answer_count":1,"score":0,"last_activity_date":1657312199,"creation_date":1657308685,"question_id":72916185,"body_markdown":"my problem is that I have a controller developed in Java with Spring Boot in which I edit &quot;Portfolio&quot; entities. Here I get the different attributes to edit this entity and also an image. My idea is that if I receive the empty parameters, it will reassign to the entity the values it had before and only modify the attributes that were sent in the form with some value. \r\n\r\nThis works correctly when I test in Postman, but when I send the image attribute as &quot;undefined&quot; or as &quot;null&quot; from the form in angular, my controller in the back end shows me an error that says:  Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part &#39;file&#39; is not present]\r\n\r\nMy idea is to make the &quot;file&quot; attribute which is a MultipartFile can be empty and have no problems.\r\n\r\nMy controller is as follows:\r\n\r\n     @PutMapping(&quot;/portfolio/edit-data&quot;)\r\n    public Portfolio editPortfolio (@RequestParam(&quot;image&quot;)MultipartFile image,\r\n                                      @ModelAttribute(&quot;port&quot;) Portfolio port,\r\n                                      BindingResult result){\r\n        \r\n        Portfolio portOriginal = portServ.buscarPortfolio(Long.valueOf(1));\r\n        \r\n        if(!image.isEmpty()){\r\n            String rutaAbsoluta = &quot;C:\\\\Users\\\\Paul&quot;;\r\n            try{\r\n                byte[] bytesImg = image.getBytes();\r\n                Path fullPath = Paths.get(absolutePath + &quot;//&quot; + image.getOriginalFilename());\r\n                Files.write(fullPath, bytesImg);\r\n                port.setImage(image.getOriginalFilename());\r\n            }catch (IOException e){\r\n            }\r\n        }else{\r\n            port.setImage(portOriginal.getImagen());\r\n        }\r\n        \r\n        if(&quot;&quot;.equals(port.getName())){\r\n            port.setName(portOriginal.getName());\r\n        }\r\n        if(&quot;&quot;.equals(port.getTitle())){\r\n            port.setTitle(portOriginal.getTitle());\r\n        }\r\n        if(&quot;&quot;.equals(port.getIntroduction())){\r\n            port.setIntroduction(portOriginal.getIntroduction());\r\n        }\r\n        if(&quot;&quot;.equals(port.getFooter())){\r\n            port.setFooter(portOriginal.getFooter());\r\n        }\r\n     \r\n        return portServ.editarPortfolio(port, Long.valueOf(1));\r\n    }\r\n\r\nThe following query is correct in Postman. So it would be useful to be able to submit an empty file in a form from angular.\r\n\r\n[Postman request][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qgdkz.png","title":"How to set a multipartfile parameter as &quot;not required&quot; in java with spring boot?","body":"<p>my problem is that I have a controller developed in Java with Spring Boot in which I edit &quot;Portfolio&quot; entities. Here I get the different attributes to edit this entity and also an image. My idea is that if I receive the empty parameters, it will reassign to the entity the values it had before and only modify the attributes that were sent in the form with some value.</p>\n<p>This works correctly when I test in Postman, but when I send the image attribute as &quot;undefined&quot; or as &quot;null&quot; from the form in angular, my controller in the back end shows me an error that says:  Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present]</p>\n<p>My idea is to make the &quot;file&quot; attribute which is a MultipartFile can be empty and have no problems.</p>\n<p>My controller is as follows:</p>\n<pre><code> @PutMapping(&quot;/portfolio/edit-data&quot;)\npublic Portfolio editPortfolio (@RequestParam(&quot;image&quot;)MultipartFile image,\n                                  @ModelAttribute(&quot;port&quot;) Portfolio port,\n                                  BindingResult result){\n    \n    Portfolio portOriginal = portServ.buscarPortfolio(Long.valueOf(1));\n    \n    if(!image.isEmpty()){\n        String rutaAbsoluta = &quot;C:\\\\Users\\\\Paul&quot;;\n        try{\n            byte[] bytesImg = image.getBytes();\n            Path fullPath = Paths.get(absolutePath + &quot;//&quot; + image.getOriginalFilename());\n            Files.write(fullPath, bytesImg);\n            port.setImage(image.getOriginalFilename());\n        }catch (IOException e){\n        }\n    }else{\n        port.setImage(portOriginal.getImagen());\n    }\n    \n    if(&quot;&quot;.equals(port.getName())){\n        port.setName(portOriginal.getName());\n    }\n    if(&quot;&quot;.equals(port.getTitle())){\n        port.setTitle(portOriginal.getTitle());\n    }\n    if(&quot;&quot;.equals(port.getIntroduction())){\n        port.setIntroduction(portOriginal.getIntroduction());\n    }\n    if(&quot;&quot;.equals(port.getFooter())){\n        port.setFooter(portOriginal.getFooter());\n    }\n \n    return portServ.editarPortfolio(port, Long.valueOf(1));\n}\n</code></pre>\n<p>The following query is correct in Postman. So it would be useful to be able to submit an empty file in a form from angular.</p>\n<p><a href=\"https://i.stack.imgur.com/Qgdkz.png\" rel=\"nofollow noreferrer\">Postman request</a></p>\n"},{"tags":["java","serialization","enums","deserialization","db4o"],"answers":[{"tags":[],"owner":{"account_id":4136046,"reputation":41,"user_id":3392697,"accept_rate":0,"display_name":"user3392697"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399645439,"creation_date":1399645439,"answer_id":23567041,"question_id":23391101,"body_markdown":"In case somebody will face similar issue in future, I finally find the root cause. I serialized the object &quot;Person&quot; with enum &quot;Status&quot; as property in DB4O. Once I tried to read it I used following:\r\n\r\n    ObjectSet&lt;Object&gt; allObjectsFromDb4o = db4OConnection.queryByExample(null); \r\n\r\nto get all objects and sync them with my in memory storage. However I misunderstood how the data are serialized... so basically not only my object &quot;Person&quot; but also enum &quot;Status&quot; was persisted. So when I tried to read all objects from DB4O and afterwards cast them into my &quot;Person&quot;. Once I de-serialized &quot;Person&quot; object retrieved by query everything was fine... but than I tried to cast enum &quot;Status&quot; retrieved by same query and in that moment I get upper mentioned weird exception. \r\nHope will help somebody ;-).","title":"Unable de-serialize object from DB4O","body":"<p>In case somebody will face similar issue in future, I finally find the root cause. I serialized the object \"Person\" with enum \"Status\" as property in DB4O. Once I tried to read it I used following:</p>\n\n<pre><code>ObjectSet&lt;Object&gt; allObjectsFromDb4o = db4OConnection.queryByExample(null); \n</code></pre>\n\n<p>to get all objects and sync them with my in memory storage. However I misunderstood how the data are serialized... so basically not only my object \"Person\" but also enum \"Status\" was persisted. So when I tried to read all objects from DB4O and afterwards cast them into my \"Person\". Once I de-serialized \"Person\" object retrieved by query everything was fine... but than I tried to cast enum \"Status\" retrieved by same query and in that moment I get upper mentioned weird exception. \nHope will help somebody ;-).</p>\n"},{"tags":[],"owner":{"account_id":1306214,"reputation":11,"user_id":1255166,"display_name":"Ben Heasly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413149682,"creation_date":1413149682,"answer_id":26330233,"question_id":23391101,"body_markdown":"I encountered a similar exception with db4o.\r\n\r\nIn my case I had stale class definitions in the persistent store.  I deleted my stale database file and then I was able to write and read as expected.\r\n\r\nIf you are in the early stages of development and you don&#39;t have &quot;real data&quot; yet, perhaps you can do likewise.","title":"Unable de-serialize object from DB4O","body":"<p>I encountered a similar exception with db4o.</p>\n\n<p>In my case I had stale class definitions in the persistent store.  I deleted my stale database file and then I was able to write and read as expected.</p>\n\n<p>If you are in the early stages of development and you don't have \"real data\" yet, perhaps you can do likewise.</p>\n"},{"tags":[],"owner":{"account_id":25752779,"reputation":1,"user_id":19505048,"display_name":"Nihal Gajbhiye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657311195,"creation_date":1657216350,"answer_id":72902265,"question_id":23391101,"body_markdown":"Any changes(objects) are done in the Databank.db40 will give you some kind of exception. I got the error of IllegalArgumentException. \r\n\r\nIn that case, just backup the old Databank.db40, delete the file from the current directory and run the file. \r\n\r\nI was using Netbeans Application for building the JAVA Project.","title":"Unable de-serialize object from DB4O","body":"<p>Any changes(objects) are done in the Databank.db40 will give you some kind of exception. I got the error of IllegalArgumentException.</p>\n<p>In that case, just backup the old Databank.db40, delete the file from the current directory and run the file.</p>\n<p>I was using Netbeans Application for building the JAVA Project.</p>\n"}],"owner":{"account_id":4136046,"reputation":41,"user_id":3392697,"accept_rate":0,"display_name":"user3392697"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":892,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1657311195,"creation_date":1398868751,"question_id":23391101,"body_markdown":"does anybody experience this kind of exception during reading object from DB4O?\r\nOr can you please explain what can goes wrong? It seems to me it has problem with de-serialization of Enum object but don&#39;t understand why since I tried on sample project to serialize/de-serialize same object and it works fine.\r\n\r\nThanks in advance.\r\n\r\n**Exception in thread &quot;main&quot; com.db4o.ext.Db4oException: JDKField java.lang.String:name**\r\n\tat com.db4o.reflect.jdk.JdkField.handleException(JdkField.java:82)\r\n\tat com.db4o.reflect.jdk.JdkField.set(JdkField.java:64)\r\n\tat com.db4o.internal.reflect.StrictFieldAccessor.set(StrictFieldAccessor.java:17)\r\n\tat com.db4o.internal.FieldMetadata.set(FieldMetadata.java:830)\r\n\tat com.db4o.internal.FieldMetadata.activate(FieldMetadata.java:641)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler$2.processAspect(StandardReferenceTypeHandler.java:92)\r\n\tat com.db4o.internal.metadata.MarshallingInfoTraverseAspectCommand.processAspect(MarshallingInfoTraverseAspectCommand.java:52)\r\n\tat com.db4o.internal.metadata.StandardAspectTraversalStrategy.traverseAllAspects(StandardAspectTraversalStrategy.java:24)\r\n\tat com.db4o.internal.ClassMetadata.traverseAllAspects(ClassMetadata.java:2118)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.traverseAllAspects(StandardReferenceTypeHandler.java:256)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.activateAspects(StandardReferenceTypeHandler.java:95)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.activate(StandardReferenceTypeHandler.java:118)\r\n\tat com.db4o.internal.Handlers4.activate(Handlers4.java:300)\r\n\tat com.db4o.internal.ClassMetadata.instantiateFields(ClassMetadata.java:1355)\r\n\tat com.db4o.internal.ClassMetadata.activate(ClassMetadata.java:1289)\r\n\tat com.db4o.internal.ClassMetadata.instantiate(ClassMetadata.java:1247)\r\n\tat com.db4o.internal.marshall.UnmarshallingContext.read(UnmarshallingContext.java:70)\r\n\tat com.db4o.internal.ObjectReference.read(ObjectReference.java:306)\r\n\tat com.db4o.internal.ObjectReference.readForActivation(ObjectReference.java:136)\r\n\tat com.db4o.internal.ObjectReference.activateInternal(ObjectReference.java:132)\r\n\tat com.db4o.internal.ObjectContainerBase.processedByImmediateActivation(ObjectContainerBase.java:1857)\r\n\tat com.db4o.internal.ObjectContainerBase.stillToActivate(ObjectContainerBase.java:1833)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:83)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:48)\r\n\tat com.db4o.internal.marshall.AbstractReadContext$1.run(AbstractReadContext.java:40)\r\n\tat com.db4o.internal.marshall.SlotFormat.doWithSlotIndirection(SlotFormat.java:64)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:38)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.read(AbstractReadContext.java:30)\r\n\tat com.db4o.internal.FieldMetadata.read(FieldMetadata.java:793)\r\n\tat com.db4o.internal.FieldMetadata.activate(FieldMetadata.java:639)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler$2.processAspect(StandardReferenceTypeHandler.java:92)\r\n\tat com.db4o.internal.metadata.MarshallingInfoTraverseAspectCommand.processAspect(MarshallingInfoTraverseAspectCommand.java:52)\r\n\tat com.db4o.internal.metadata.StandardAspectTraversalStrategy.traverseAllAspects(StandardAspectTraversalStrategy.java:24)\r\n\tat com.db4o.internal.ClassMetadata.traverseAllAspects(ClassMetadata.java:2118)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.traverseAllAspects(StandardReferenceTypeHandler.java:256)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.activateAspects(StandardReferenceTypeHandler.java:95)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.activate(StandardReferenceTypeHandler.java:118)\r\n\tat com.db4o.internal.Handlers4.activate(Handlers4.java:300)\r\n\tat com.db4o.internal.ClassMetadata.instantiateFields(ClassMetadata.java:1355)\r\n\tat com.db4o.internal.ClassMetadata.activate(ClassMetadata.java:1289)\r\n\tat com.db4o.internal.ClassMetadata.instantiate(ClassMetadata.java:1247)\r\n\tat com.db4o.internal.marshall.UnmarshallingContext.read(UnmarshallingContext.java:70)\r\n\tat com.db4o.internal.ObjectReference.read(ObjectReference.java:306)\r\n\tat com.db4o.internal.ObjectReference.readForActivation(ObjectReference.java:136)\r\n\tat com.db4o.internal.ObjectReference.activateInternal(ObjectReference.java:132)\r\n\tat com.db4o.internal.ObjectContainerBase.processedByImmediateActivation(ObjectContainerBase.java:1857)\r\n\tat com.db4o.internal.ObjectContainerBase.stillToActivate(ObjectContainerBase.java:1833)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:83)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:48)\r\n\tat com.db4o.internal.OpenTypeHandler.read(OpenTypeHandler.java:175)\r\n\tat com.db4o.internal.Handlers4.readValueType(Handlers4.java:309)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:50)\r\n\tat com.db4o.internal.marshall.AbstractReadContext$1.run(AbstractReadContext.java:40)\r\n\tat com.db4o.internal.marshall.SlotFormat.doWithSlotIndirection(SlotFormat.java:64)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:38)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.read(AbstractReadContext.java:30)\r\n\tat com.db4o.internal.FieldMetadata.read(FieldMetadata.java:793)\r\n\tat com.db4o.internal.FieldMetadata.activate(FieldMetadata.java:639)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler$2.processAspect(StandardReferenceTypeHandler.java:92)\r\n\tat com.db4o.internal.metadata.MarshallingInfoTraverseAspectCommand.processAspect(MarshallingInfoTraverseAspectCommand.java:52)\r\n\tat com.db4o.internal.metadata.StandardAspectTraversalStrategy.traverseAllAspects(StandardAspectTraversalStrategy.java:24)\r\n\tat com.db4o.internal.ClassMetadata.traverseAllAspects(ClassMetadata.java:2118)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.traverseAllAspects(StandardReferenceTypeHandler.java:256)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.activateAspects(StandardReferenceTypeHandler.java:95)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.activate(StandardReferenceTypeHandler.java:118)\r\n\tat com.db4o.internal.Handlers4.activate(Handlers4.java:300)\r\n\tat com.db4o.internal.ClassMetadata.instantiateFields(ClassMetadata.java:1355)\r\n\tat com.db4o.internal.ClassMetadata.activate(ClassMetadata.java:1289)\r\n\tat com.db4o.internal.ClassMetadata.instantiate(ClassMetadata.java:1247)\r\n\tat com.db4o.internal.marshall.UnmarshallingContext.read(UnmarshallingContext.java:70)\r\n\tat com.db4o.internal.ObjectReference.read(ObjectReference.java:306)\r\n\tat com.db4o.internal.ObjectReference.readForActivation(ObjectReference.java:136)\r\n\tat com.db4o.internal.ObjectReference.activateInternal(ObjectReference.java:132)\r\n\tat com.db4o.internal.ObjectContainerBase.processedByImmediateActivation(ObjectContainerBase.java:1857)\r\n\tat com.db4o.internal.ObjectContainerBase.stillToActivate(ObjectContainerBase.java:1833)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:83)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:48)\r\n\tat com.db4o.internal.OpenTypeHandler.read(OpenTypeHandler.java:175)\r\n\tat com.db4o.internal.Handlers4.readValueType(Handlers4.java:309)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:50)\r\n\tat com.db4o.internal.marshall.AbstractReadContext$1.run(AbstractReadContext.java:40)\r\n\tat com.db4o.internal.marshall.SlotFormat.doWithSlotIndirection(SlotFormat.java:64)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:38)\r\n\tat com.db4o.internal.marshall.AbstractReadContext.read(AbstractReadContext.java:30)\r\n\tat com.db4o.internal.FieldMetadata.read(FieldMetadata.java:793)\r\n\tat com.db4o.internal.FieldMetadata.activate(FieldMetadata.java:639)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler$2.processAspect(StandardReferenceTypeHandler.java:92)\r\n\tat com.db4o.internal.metadata.MarshallingInfoTraverseAspectCommand.processAspect(MarshallingInfoTraverseAspectCommand.java:52)\r\n\tat com.db4o.internal.metadata.StandardAspectTraversalStrategy.traverseAllAspects(StandardAspectTraversalStrategy.java:24)\r\n\tat com.db4o.internal.ClassMetadata.traverseAllAspects(ClassMetadata.java:2118)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.traverseAllAspects(StandardReferenceTypeHandler.java:256)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.activateAspects(StandardReferenceTypeHandler.java:95)\r\n\tat com.db4o.internal.handlers.StandardReferenceTypeHandler.activate(StandardReferenceTypeHandler.java:118)\r\n\tat com.db4o.internal.Handlers4.activate(Handlers4.java:300)\r\n\tat com.db4o.internal.ClassMetadata.instantiateFields(ClassMetadata.java:1355)\r\n\tat com.db4o.internal.ClassMetadata.activate(ClassMetadata.java:1289)\r\n\tat com.db4o.internal.ClassMetadata.instantiate(ClassMetadata.java:1237)\r\n\tat com.db4o.internal.marshall.UnmarshallingContext.read(UnmarshallingContext.java:70)\r\n\tat com.db4o.internal.ObjectReference.read(ObjectReference.java:306)\r\n\tat com.db4o.internal.ObjectReference.read(ObjectReference.java:292)\r\n\tat com.db4o.internal.ObjectContainerBase$8.apply(ObjectContainerBase.java:901)\r\n\tat com.db4o.internal.ObjectContainerBase$8.apply(ObjectContainerBase.java:899)\r\n\tat com.db4o.internal.ObjectContainerBase.asTopLevelCall(ObjectContainerBase.java:431)\r\n\tat com.db4o.internal.ObjectContainerBase.readActivatedObjectNotInCache(ObjectContainerBase.java:899)\r\n\tat com.db4o.internal.query.result.AbstractQueryResult.activatedObject(AbstractQueryResult.java:35)\r\n\tat com.db4o.internal.query.result.AbstractQueryResult$1.map(AbstractQueryResult.java:63)\r\n\tat com.db4o.foundation.MappingIterator.moveNext(MappingIterator.java:30)\r\n\tat com.db4o.foundation.Iterable4Adaptor.moveNext(Iterable4Adaptor.java:46)\r\n\tat com.db4o.foundation.Iterable4Adaptor.hasNext(Iterable4Adaptor.java:28)\r\n\tat com.db4o.internal.query.result.StatefulQueryResult.hasNext(StatefulQueryResult.java:42)\r\n\tat com.db4o.internal.query.ObjectSetFacade.hasNext(ObjectSetFacade.java:61)\r\n\tat com.example.main.RunMe.main(RunMe.java:70)\r\n**Caused by: java.lang.IllegalArgumentException: Can not set final java.lang.String field java.lang.Enum.name to com.db4o.reflect.generic.GenericObject**\r\n\tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:164)\r\n\tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:168)\r\n\tat sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:55)\r\n\tat sun.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:77)\r\n\tat java.lang.reflect.Field.set(Field.java:741)\r\n\tat com.db4o.reflect.jdk.JdkField.set(JdkField.java:62)\r\n\t... 110 more\r\n\r\n","title":"Unable de-serialize object from DB4O","body":"<p>does anybody experience this kind of exception during reading object from DB4O?\nOr can you please explain what can goes wrong? It seems to me it has problem with de-serialization of Enum object but don't understand why since I tried on sample project to serialize/de-serialize same object and it works fine.</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>Exception in thread \"main\" com.db4o.ext.Db4oException: JDKField java.lang.String:name</strong>\n    at com.db4o.reflect.jdk.JdkField.handleException(JdkField.java:82)\n    at com.db4o.reflect.jdk.JdkField.set(JdkField.java:64)\n    at com.db4o.internal.reflect.StrictFieldAccessor.set(StrictFieldAccessor.java:17)\n    at com.db4o.internal.FieldMetadata.set(FieldMetadata.java:830)\n    at com.db4o.internal.FieldMetadata.activate(FieldMetadata.java:641)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler$2.processAspect(StandardReferenceTypeHandler.java:92)\n    at com.db4o.internal.metadata.MarshallingInfoTraverseAspectCommand.processAspect(MarshallingInfoTraverseAspectCommand.java:52)\n    at com.db4o.internal.metadata.StandardAspectTraversalStrategy.traverseAllAspects(StandardAspectTraversalStrategy.java:24)\n    at com.db4o.internal.ClassMetadata.traverseAllAspects(ClassMetadata.java:2118)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.traverseAllAspects(StandardReferenceTypeHandler.java:256)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.activateAspects(StandardReferenceTypeHandler.java:95)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.activate(StandardReferenceTypeHandler.java:118)\n    at com.db4o.internal.Handlers4.activate(Handlers4.java:300)\n    at com.db4o.internal.ClassMetadata.instantiateFields(ClassMetadata.java:1355)\n    at com.db4o.internal.ClassMetadata.activate(ClassMetadata.java:1289)\n    at com.db4o.internal.ClassMetadata.instantiate(ClassMetadata.java:1247)\n    at com.db4o.internal.marshall.UnmarshallingContext.read(UnmarshallingContext.java:70)\n    at com.db4o.internal.ObjectReference.read(ObjectReference.java:306)\n    at com.db4o.internal.ObjectReference.readForActivation(ObjectReference.java:136)\n    at com.db4o.internal.ObjectReference.activateInternal(ObjectReference.java:132)\n    at com.db4o.internal.ObjectContainerBase.processedByImmediateActivation(ObjectContainerBase.java:1857)\n    at com.db4o.internal.ObjectContainerBase.stillToActivate(ObjectContainerBase.java:1833)\n    at com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:83)\n    at com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:48)\n    at com.db4o.internal.marshall.AbstractReadContext$1.run(AbstractReadContext.java:40)\n    at com.db4o.internal.marshall.SlotFormat.doWithSlotIndirection(SlotFormat.java:64)\n    at com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:38)\n    at com.db4o.internal.marshall.AbstractReadContext.read(AbstractReadContext.java:30)\n    at com.db4o.internal.FieldMetadata.read(FieldMetadata.java:793)\n    at com.db4o.internal.FieldMetadata.activate(FieldMetadata.java:639)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler$2.processAspect(StandardReferenceTypeHandler.java:92)\n    at com.db4o.internal.metadata.MarshallingInfoTraverseAspectCommand.processAspect(MarshallingInfoTraverseAspectCommand.java:52)\n    at com.db4o.internal.metadata.StandardAspectTraversalStrategy.traverseAllAspects(StandardAspectTraversalStrategy.java:24)\n    at com.db4o.internal.ClassMetadata.traverseAllAspects(ClassMetadata.java:2118)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.traverseAllAspects(StandardReferenceTypeHandler.java:256)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.activateAspects(StandardReferenceTypeHandler.java:95)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.activate(StandardReferenceTypeHandler.java:118)\n    at com.db4o.internal.Handlers4.activate(Handlers4.java:300)\n    at com.db4o.internal.ClassMetadata.instantiateFields(ClassMetadata.java:1355)\n    at com.db4o.internal.ClassMetadata.activate(ClassMetadata.java:1289)\n    at com.db4o.internal.ClassMetadata.instantiate(ClassMetadata.java:1247)\n    at com.db4o.internal.marshall.UnmarshallingContext.read(UnmarshallingContext.java:70)\n    at com.db4o.internal.ObjectReference.read(ObjectReference.java:306)\n    at com.db4o.internal.ObjectReference.readForActivation(ObjectReference.java:136)\n    at com.db4o.internal.ObjectReference.activateInternal(ObjectReference.java:132)\n    at com.db4o.internal.ObjectContainerBase.processedByImmediateActivation(ObjectContainerBase.java:1857)\n    at com.db4o.internal.ObjectContainerBase.stillToActivate(ObjectContainerBase.java:1833)\n    at com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:83)\n    at com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:48)\n    at com.db4o.internal.OpenTypeHandler.read(OpenTypeHandler.java:175)\n    at com.db4o.internal.Handlers4.readValueType(Handlers4.java:309)\n    at com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:50)\n    at com.db4o.internal.marshall.AbstractReadContext$1.run(AbstractReadContext.java:40)\n    at com.db4o.internal.marshall.SlotFormat.doWithSlotIndirection(SlotFormat.java:64)\n    at com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:38)\n    at com.db4o.internal.marshall.AbstractReadContext.read(AbstractReadContext.java:30)\n    at com.db4o.internal.FieldMetadata.read(FieldMetadata.java:793)\n    at com.db4o.internal.FieldMetadata.activate(FieldMetadata.java:639)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler$2.processAspect(StandardReferenceTypeHandler.java:92)\n    at com.db4o.internal.metadata.MarshallingInfoTraverseAspectCommand.processAspect(MarshallingInfoTraverseAspectCommand.java:52)\n    at com.db4o.internal.metadata.StandardAspectTraversalStrategy.traverseAllAspects(StandardAspectTraversalStrategy.java:24)\n    at com.db4o.internal.ClassMetadata.traverseAllAspects(ClassMetadata.java:2118)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.traverseAllAspects(StandardReferenceTypeHandler.java:256)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.activateAspects(StandardReferenceTypeHandler.java:95)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.activate(StandardReferenceTypeHandler.java:118)\n    at com.db4o.internal.Handlers4.activate(Handlers4.java:300)\n    at com.db4o.internal.ClassMetadata.instantiateFields(ClassMetadata.java:1355)\n    at com.db4o.internal.ClassMetadata.activate(ClassMetadata.java:1289)\n    at com.db4o.internal.ClassMetadata.instantiate(ClassMetadata.java:1247)\n    at com.db4o.internal.marshall.UnmarshallingContext.read(UnmarshallingContext.java:70)\n    at com.db4o.internal.ObjectReference.read(ObjectReference.java:306)\n    at com.db4o.internal.ObjectReference.readForActivation(ObjectReference.java:136)\n    at com.db4o.internal.ObjectReference.activateInternal(ObjectReference.java:132)\n    at com.db4o.internal.ObjectContainerBase.processedByImmediateActivation(ObjectContainerBase.java:1857)\n    at com.db4o.internal.ObjectContainerBase.stillToActivate(ObjectContainerBase.java:1833)\n    at com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:83)\n    at com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:48)\n    at com.db4o.internal.OpenTypeHandler.read(OpenTypeHandler.java:175)\n    at com.db4o.internal.Handlers4.readValueType(Handlers4.java:309)\n    at com.db4o.internal.marshall.AbstractReadContext.readAtCurrentSeekPosition(AbstractReadContext.java:50)\n    at com.db4o.internal.marshall.AbstractReadContext$1.run(AbstractReadContext.java:40)\n    at com.db4o.internal.marshall.SlotFormat.doWithSlotIndirection(SlotFormat.java:64)\n    at com.db4o.internal.marshall.AbstractReadContext.readObject(AbstractReadContext.java:38)\n    at com.db4o.internal.marshall.AbstractReadContext.read(AbstractReadContext.java:30)\n    at com.db4o.internal.FieldMetadata.read(FieldMetadata.java:793)\n    at com.db4o.internal.FieldMetadata.activate(FieldMetadata.java:639)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler$2.processAspect(StandardReferenceTypeHandler.java:92)\n    at com.db4o.internal.metadata.MarshallingInfoTraverseAspectCommand.processAspect(MarshallingInfoTraverseAspectCommand.java:52)\n    at com.db4o.internal.metadata.StandardAspectTraversalStrategy.traverseAllAspects(StandardAspectTraversalStrategy.java:24)\n    at com.db4o.internal.ClassMetadata.traverseAllAspects(ClassMetadata.java:2118)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.traverseAllAspects(StandardReferenceTypeHandler.java:256)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.activateAspects(StandardReferenceTypeHandler.java:95)\n    at com.db4o.internal.handlers.StandardReferenceTypeHandler.activate(StandardReferenceTypeHandler.java:118)\n    at com.db4o.internal.Handlers4.activate(Handlers4.java:300)\n    at com.db4o.internal.ClassMetadata.instantiateFields(ClassMetadata.java:1355)\n    at com.db4o.internal.ClassMetadata.activate(ClassMetadata.java:1289)\n    at com.db4o.internal.ClassMetadata.instantiate(ClassMetadata.java:1237)\n    at com.db4o.internal.marshall.UnmarshallingContext.read(UnmarshallingContext.java:70)\n    at com.db4o.internal.ObjectReference.read(ObjectReference.java:306)\n    at com.db4o.internal.ObjectReference.read(ObjectReference.java:292)\n    at com.db4o.internal.ObjectContainerBase$8.apply(ObjectContainerBase.java:901)\n    at com.db4o.internal.ObjectContainerBase$8.apply(ObjectContainerBase.java:899)\n    at com.db4o.internal.ObjectContainerBase.asTopLevelCall(ObjectContainerBase.java:431)\n    at com.db4o.internal.ObjectContainerBase.readActivatedObjectNotInCache(ObjectContainerBase.java:899)\n    at com.db4o.internal.query.result.AbstractQueryResult.activatedObject(AbstractQueryResult.java:35)\n    at com.db4o.internal.query.result.AbstractQueryResult$1.map(AbstractQueryResult.java:63)\n    at com.db4o.foundation.MappingIterator.moveNext(MappingIterator.java:30)\n    at com.db4o.foundation.Iterable4Adaptor.moveNext(Iterable4Adaptor.java:46)\n    at com.db4o.foundation.Iterable4Adaptor.hasNext(Iterable4Adaptor.java:28)\n    at com.db4o.internal.query.result.StatefulQueryResult.hasNext(StatefulQueryResult.java:42)\n    at com.db4o.internal.query.ObjectSetFacade.hasNext(ObjectSetFacade.java:61)\n    at com.example.main.RunMe.main(RunMe.java:70)\n<strong>Caused by: java.lang.IllegalArgumentException: Can not set final java.lang.String field java.lang.Enum.name to com.db4o.reflect.generic.GenericObject</strong>\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:164)\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:168)\n    at sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:55)\n    at sun.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:77)\n    at java.lang.reflect.Field.set(Field.java:741)\n    at com.db4o.reflect.jdk.JdkField.set(JdkField.java:62)\n    ... 110 more</p>\n"},{"tags":["java","swing","jtable","renderer"],"answers":[{"tags":[],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657311140,"creation_date":1657311140,"answer_id":72916538,"question_id":72915584,"body_markdown":"It was actually easier than expected.\r\n\r\nSimply use the darker() call within the Renderer.\r\n\r\n          if (isSelected)\r\n    \t  background = background.darker();//Color.LIGHT_GRAY;\r\n","title":"How to still view Cell color of selected row in a JTable?","body":"<p>It was actually easier than expected.</p>\n<p>Simply use the darker() call within the Renderer.</p>\n<pre><code>      if (isSelected)\n      background = background.darker();//Color.LIGHT_GRAY;\n</code></pre>\n"}],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72916538,"answer_count":1,"score":0,"last_activity_date":1657311140,"creation_date":1657304940,"question_id":72915584,"body_markdown":"Lets say a JTable has rows with various cell colors like this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf the first 2 rows are highlighted, it looks like the following and now the colors seen for the first two rows are lost. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs it possible to make the highlighted rows more transparent so that the underlying colors are still visible? Something similar to what Excel does. Notice the same 2 rows are highlighted and yet the colors are still visible while its still obvious the rows are highlighted/selected. \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nHere is a modified sample I pulled from the Java2 page and modified it for the above example. \r\n\r\n\timport java.awt.BorderLayout;\r\n\timport java.awt.Color;\r\n\timport java.awt.Component;\r\n\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JScrollPane;\r\n\timport javax.swing.JTable;\r\n\timport javax.swing.table.DefaultTableCellRenderer;\r\n\timport javax.swing.table.TableCellRenderer;\r\n\r\n\tclass EvenOddRenderer implements TableCellRenderer \r\n\t{\r\n\r\n\t  public static final DefaultTableCellRenderer DEFAULT_RENDERER = new DefaultTableCellRenderer();\r\n\r\n\t  public Component getTableCellRendererComponent(JTable table, Object value,\r\n\t\t  boolean isSelected, boolean hasFocus, int row, int column) \r\n\t  {\r\n\t\t  Component renderer = DEFAULT_RENDERER.getTableCellRendererComponent(table, value,\r\n\t\t  isSelected, hasFocus, row, column);\r\n\t\t  Color foreground = Color.red, background = Color.WHITE;\r\n\t\t  \r\n\t\t  if (column == 1 &amp;&amp; row == 0) \r\n\t\t  {\r\n\t\t\t  background = Color.GREEN;\r\n\t\t  }\r\n\t\t  else if (column == 1 &amp;&amp; row == 1) \r\n\t\t  {\r\n\t\t\t  background = Color.CYAN;\r\n\t\t  }\r\n\t\t  else if (column == 1 &amp;&amp; row == 2) \r\n\t\t  {\r\n\t\t\t  background = Color.ORANGE;\r\n\t\t  }\r\n\t\t  else if (column == 2)\r\n\t\t  {\r\n\t\t\t  background = Color.YELLOW;\r\n\t\t  }\r\n\r\n\t\t  if (isSelected)\r\n\t\t\t  background = Color.LIGHT_GRAY;\r\n\r\n\t\trenderer.setForeground(foreground);\r\n\t\trenderer.setBackground(background);\r\n\t\treturn renderer;\r\n\t  }\r\n\t}\r\n\tpublic class CellColorTransparency {\r\n\t  public static void main(String args[]) {\r\n\r\n\t\tfinal Object rowData[][] = { \r\n\t\t\t{ &quot;1&quot;, &quot;one&quot;,  &quot;I&quot; },\r\n\t\t\t{ &quot;2&quot;, &quot;two&quot;,  &quot;II&quot; },\r\n\t\t\t{ &quot;3&quot;, &quot;three&quot;, &quot;III&quot; }};\r\n\t\tfinal String columnNames[] = { &quot;#&quot;, &quot;English&quot;, &quot;Roman&quot; };\r\n\r\n\t\tfinal JTable table = new JTable(rowData, columnNames);\r\n\t\tJScrollPane scrollPane = new JScrollPane(table);\r\n\r\n\t\ttable.setDefaultRenderer(Object.class,new EvenOddRenderer());    \r\n\t\t\r\n\t\tJFrame frame = new JFrame(&quot;Color Test Table&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\t\tframe.add(scrollPane, BorderLayout.CENTER);\r\n\r\n\t\tframe.setSize(300, 150);\r\n\t\tframe.setVisible(true);\r\n\r\n\t  }\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kwkbh.png\r\n  [2]: https://i.stack.imgur.com/f1Tyu.png\r\n  [3]: https://i.stack.imgur.com/UbYT7.png","title":"How to still view Cell color of selected row in a JTable?","body":"<p>Lets say a JTable has rows with various cell colors like this.</p>\n<p><a href=\"https://i.stack.imgur.com/Kwkbh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kwkbh.png\" alt=\"enter image description here\" /></a></p>\n<p>If the first 2 rows are highlighted, it looks like the following and now the colors seen for the first two rows are lost.</p>\n<p><a href=\"https://i.stack.imgur.com/f1Tyu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f1Tyu.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it possible to make the highlighted rows more transparent so that the underlying colors are still visible? Something similar to what Excel does. Notice the same 2 rows are highlighted and yet the colors are still visible while its still obvious the rows are highlighted/selected.</p>\n<p><a href=\"https://i.stack.imgur.com/UbYT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UbYT7.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a modified sample I pulled from the Java2 page and modified it for the above example.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.TableCellRenderer;\n\nclass EvenOddRenderer implements TableCellRenderer \n{\n\n  public static final DefaultTableCellRenderer DEFAULT_RENDERER = new DefaultTableCellRenderer();\n\n  public Component getTableCellRendererComponent(JTable table, Object value,\n      boolean isSelected, boolean hasFocus, int row, int column) \n  {\n      Component renderer = DEFAULT_RENDERER.getTableCellRendererComponent(table, value,\n      isSelected, hasFocus, row, column);\n      Color foreground = Color.red, background = Color.WHITE;\n      \n      if (column == 1 &amp;&amp; row == 0) \n      {\n          background = Color.GREEN;\n      }\n      else if (column == 1 &amp;&amp; row == 1) \n      {\n          background = Color.CYAN;\n      }\n      else if (column == 1 &amp;&amp; row == 2) \n      {\n          background = Color.ORANGE;\n      }\n      else if (column == 2)\n      {\n          background = Color.YELLOW;\n      }\n\n      if (isSelected)\n          background = Color.LIGHT_GRAY;\n\n    renderer.setForeground(foreground);\n    renderer.setBackground(background);\n    return renderer;\n  }\n}\npublic class CellColorTransparency {\n  public static void main(String args[]) {\n\n    final Object rowData[][] = { \n        { &quot;1&quot;, &quot;one&quot;,  &quot;I&quot; },\n        { &quot;2&quot;, &quot;two&quot;,  &quot;II&quot; },\n        { &quot;3&quot;, &quot;three&quot;, &quot;III&quot; }};\n    final String columnNames[] = { &quot;#&quot;, &quot;English&quot;, &quot;Roman&quot; };\n\n    final JTable table = new JTable(rowData, columnNames);\n    JScrollPane scrollPane = new JScrollPane(table);\n\n    table.setDefaultRenderer(Object.class,new EvenOddRenderer());    \n    \n    JFrame frame = new JFrame(&quot;Color Test Table&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    frame.add(scrollPane, BorderLayout.CENTER);\n\n    frame.setSize(300, 150);\n    frame.setVisible(true);\n\n  }\n}\n</code></pre>\n"},{"tags":["java","oauth-2.0","gmail"],"answers":[{"tags":[],"owner":{"account_id":1871491,"reputation":41,"user_id":1693595,"display_name":"Gustavo Rupp Santos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656965330,"creation_date":1656965330,"answer_id":72861572,"question_id":72576550,"body_markdown":" 1. **Access the page** with your Gmail/Google Account -&gt; https://myaccount.google.com/security\r\n 2. In the Signing in to Google section, **enable the 2-Step Verification**\r\n 3. After enabling 2-Step Verification, return to **Signing in to Google** section\r\n 4. Click on **App passwords**\r\n 5. Select **app as Mail** and select **device as Other** - choose a name\r\n 6. **Done!** Copy the password and use it with the username account\r\n\r\n","title":"Google rejects OAuth 2 Javax.Mail API with bad credentials","body":"<ol>\n<li><strong>Access the page</strong> with your Gmail/Google Account -&gt; <a href=\"https://myaccount.google.com/security\" rel=\"nofollow noreferrer\">https://myaccount.google.com/security</a></li>\n<li>In the Signing in to Google section, <strong>enable the 2-Step Verification</strong></li>\n<li>After enabling 2-Step Verification, return to <strong>Signing in to Google</strong> section</li>\n<li>Click on <strong>App passwords</strong></li>\n<li>Select <strong>app as Mail</strong> and select <strong>device as Other</strong> - choose a name</li>\n<li><strong>Done!</strong> Copy the password and use it with the username account</li>\n</ol>\n"}],"owner":{"account_id":3950156,"reputation":613,"user_id":3260912,"accept_rate":53,"display_name":"user3260912"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657310498,"creation_date":1654874134,"question_id":72576550,"body_markdown":"``` java.lang.RuntimeException: javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at 535 5.7.8  https://support.google.com/mail/?p=BadCredentials v7-20020a4a8607000000b0041bdf977c6dsm58061ooh.31 - gsmtp ```\r\n\r\nI am receiving this error when attempting to use javax.mail API to send emails over my GMail account. I attempted to check my settings to verify it allows less secure apps to use my GMail account but the Google website says \r\n\r\n```\r\nTo help keep your account secure, from May 30, 2022, ​​Google no longer supports the use of third-party apps or devices which ask you to sign in to your Google Account using only your username and password.\r\n```\r\n\r\nDoes anyone know where I can find a current guide on how to build hooks to send/receive mail messages with my GMail account that gets around these new requirements?\r\n","title":"Google rejects OAuth 2 Javax.Mail API with bad credentials","body":"<p><code>java.lang.RuntimeException: javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at 535 5.7.8  https://support.google.com/mail/?p=BadCredentials v7-20020a4a8607000000b0041bdf977c6dsm58061ooh.31 - gsmtp</code></p>\n<p>I am receiving this error when attempting to use javax.mail API to send emails over my GMail account. I attempted to check my settings to verify it allows less secure apps to use my GMail account but the Google website says</p>\n<pre><code>To help keep your account secure, from May 30, 2022, ​​Google no longer supports the use of third-party apps or devices which ask you to sign in to your Google Account using only your username and password.\n</code></pre>\n<p>Does anyone know where I can find a current guide on how to build hooks to send/receive mail messages with my GMail account that gets around these new requirements?</p>\n"},{"tags":["java","list","arraylist","nested-lists","space-complexity"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1657303708,"post_id":72915346,"comment_id":128786797,"body_markdown":"What does *N* represent?","body":"What does <i>N</i> represent?"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657303799,"creation_date":1657303799,"answer_id":72915390,"question_id":72915346,"body_markdown":"You have the right idea, but may need to refine it a bit.\r\n\r\nFor the &quot;outer&quot; `ArrayList`, the space complexity is O(n), n being the number of elements in it.\\\r\nFollowing your instinct, you should multiply that by the space complexity of the inner `ArrayList`s, which is also their respective size.\\\r\nHowever, without any additional information or constraints, you shouldn&#39;t assume that the inner and outer `ArrayList`s have the same size, so in a more general sense you&#39;d want to say that if the number of elements in the inner list is m, the total size complexity is O(m * n). If m=n (e.g. each index represents a location, and the the &quot;cell&quot; of the nested array represents the distance between the indexes of the outer and inner map), O(m * n) will indeed be reduced to O(n&lt;sup&gt;2&lt;/sup&gt;).","title":"What would be the space complexity of an ArrayList of ArrayLists in Java?","body":"<p>You have the right idea, but may need to refine it a bit.</p>\n<p>For the &quot;outer&quot; <code>ArrayList</code>, the space complexity is O(n), n being the number of elements in it.<br />\nFollowing your instinct, you should multiply that by the space complexity of the inner <code>ArrayList</code>s, which is also their respective size.<br />\nHowever, without any additional information or constraints, you shouldn't assume that the inner and outer <code>ArrayList</code>s have the same size, so in a more general sense you'd want to say that if the number of elements in the inner list is m, the total size complexity is O(m * n). If m=n (e.g. each index represents a location, and the the &quot;cell&quot; of the nested array represents the distance between the indexes of the outer and inner map), O(m * n) will indeed be reduced to O(n<sup>2</sup>).</p>\n"},{"tags":[],"owner":{"account_id":17600516,"reputation":157,"user_id":12770596,"display_name":"John "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657305604,"creation_date":1657305604,"answer_id":72915704,"question_id":72915346,"body_markdown":"ArrayList are dynamic data structures and it increases its size by 50% more than the actual size(no of elements). So in real we can say it is taking N+N/2 space.\r\nFrom the principle of complexity N is the highest degree so O(N).\r\nYou have nested lists and inner list determines the space complexity.\r\nn elements in inner list and m inner lists are there then total complexity\r\nO(n*m)","title":"What would be the space complexity of an ArrayList of ArrayLists in Java?","body":"<p>ArrayList are dynamic data structures and it increases its size by 50% more than the actual size(no of elements). So in real we can say it is taking N+N/2 space.\nFrom the principle of complexity N is the highest degree so O(N).\nYou have nested lists and inner list determines the space complexity.\nn elements in inner list and m inner lists are there then total complexity\nO(n*m)</p>\n"}],"owner":{"account_id":22617830,"reputation":177,"user_id":16797104,"display_name":"kxnyshk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72915390,"answer_count":2,"score":1,"last_activity_date":1657310442,"creation_date":1657303485,"question_id":72915346,"body_markdown":"I have a method that returns **`List&lt;List&lt;Integer&gt;&gt;`** in **Java**. What would be the **Space Complexity** of this data structure? Would it be **O(N*M)**, due to nested ArrayLists inside an ArrayList? Or something else? ","title":"What would be the space complexity of an ArrayList of ArrayLists in Java?","body":"<p>I have a method that returns <strong><code>List&lt;List&lt;Integer&gt;&gt;</code></strong> in <strong>Java</strong>. What would be the <strong>Space Complexity</strong> of this data structure? Would it be <strong>O(N*M)</strong>, due to nested ArrayLists inside an ArrayList? Or something else?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657205173,"post_id":72899807,"comment_id":128760231,"body_markdown":"Why do you want to use a new Map for every element in the first place? If I got your question right you only need on entry for every `personalId`. So cou could just use a pair: `Map&lt;String, Pair&lt;Integer, MyObject&gt;&gt;`.","body":"Why do you want to use a new Map for every element in the first place? If I got your question right you only need on entry for every <code>personalId</code>. So cou could just use a pair: <code>Map&lt;String, Pair&lt;Integer, MyObject&gt;&gt;</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1657205175,"post_id":72899807,"comment_id":128760232,"body_markdown":"To be more explicit, would that be a `Map&lt;personalId, Map&lt;rowNumber, MyObject&gt;&gt;`, or a `Map&lt;rowNumber, List&lt;MyObject&gt;&gt;`? The former would just need a `Function.identity()` for the second parameter of the second `#toMap` call, while the latter would be a simpler stream to write. Either way, I&#39;m not sure how these would be useful.","body":"To be more explicit, would that be a <code>Map&lt;personalId, Map&lt;rowNumber, MyObject&gt;&gt;</code>, or a <code>Map&lt;rowNumber, List&lt;MyObject&gt;&gt;</code>? The former would just need a <code>Function.identity()</code> for the second parameter of the second <code>#toMap</code> call, while the latter would be a simpler stream to write. Either way, I&#39;m not sure how these would be useful."},{"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"score":0,"creation_date":1657205409,"post_id":72899807,"comment_id":128760335,"body_markdown":"You can&#39;t do `s.personalId` possibly because it&#39;s private","body":"You can&#39;t do <code>s.personalId</code> possibly because it&#39;s private"},{"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"score":0,"creation_date":1657205717,"post_id":72899807,"comment_id":128760468,"body_markdown":"`public class MyObject(){}` is also wrong syntax","body":"<code>public class MyObject(){}</code> is also wrong syntax"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1657205727,"post_id":72899807,"comment_id":128760476,"body_markdown":"Could you give an example why `groupingBy` does not work for you? `groupingBy` may be a solution just working fine, if you can fix the null problems beforehand.","body":"Could you give an example why <code>groupingBy</code> does not work for you? <code>groupingBy</code> may be a solution just working fine, if you can fix the null problems beforehand."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657205758,"post_id":72899807,"comment_id":128760494,"body_markdown":"@Rogue Is the `personalId` unique? In that case I believe a person can&#39;t have multiple row numbers. For the second type this is not possible with a stram because you have multible entries with the same row, so you just need to create a new list for the first element and then add the other elements. Am I right that the datastructure of the list is `List&lt;MyObject&gt;`?","body":"@Rogue Is the <code>personalId</code> unique? In that case I believe a person can&#39;t have multiple row numbers. For the second type this is not possible with a stram because you have multible entries with the same row, so you just need to create a new list for the first element and then add the other elements. Am I right that the datastructure of the list is <code>List&lt;MyObject&gt;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657271950,"creation_date":1657206655,"answer_id":72900279,"question_id":72899807,"body_markdown":"In your case I would create the maps first and then loop through the elements in this list as shown:\r\n\r\n\tMap&lt;String, List&lt;MyObject&gt;&gt; rows = new HashMap&lt;&gt;();\t\r\n\tlist.forEach(element -&gt; rows.computeIfAbsent(element.personalId, s -&gt; new ArrayList&lt;&gt;()).add(element));\r\nYou can use `computeIfAbsent` in order to create a new list/map as a value of the map before you can put your data in.\r\n\r\n----------\r\n\r\nThe same is with the second data type you created:\r\n\t\t\r\n\tMap&lt;String, Map&lt;Integer, MyObject&gt;&gt; persons = new HashMap&lt;&gt;();\r\n\tlist.forEach(element -&gt; persons.computeIfAbsent(element.personalId, s -&gt; new HashMap&lt;&gt;()).put(element.rowNumber, element));\r\n\r\n\r\n----------\r\nHere is a way to solve this with streams. But note that the objects must have a unique `personId`/`rowNumber`:\r\n    \r\n\tMap&lt;String, List&lt;MyObject&gt;&gt; rows = list.stream().collect(\r\n\t\t\tCollectors.toMap(element -&gt; element.personalId, \r\n\t\t\telement -&gt; new ArrayList&lt;MyObject&gt;(Arrays.asList(element))));\r\nAs well as for the other map:\r\n\r\n    \r\n\t\tMap&lt;String, Map&lt;Integer, MyObject&gt;&gt; persons = list.stream().collect(\r\n\t\t\t\tCollectors.toMap(e -&gt; e.personalId, \r\n\t\t\t\te -&gt; new HashMap&lt;&gt;(Map.of(e.rowNumber, e))));","title":"Java stream collect to Map&lt;String, Map&lt;Integer, MyObject&gt;&gt;","body":"<p>In your case I would create the maps first and then loop through the elements in this list as shown:</p>\n<pre><code>Map&lt;String, List&lt;MyObject&gt;&gt; rows = new HashMap&lt;&gt;(); \nlist.forEach(element -&gt; rows.computeIfAbsent(element.personalId, s -&gt; new ArrayList&lt;&gt;()).add(element));\n</code></pre>\n<p>You can use <code>computeIfAbsent</code> in order to create a new list/map as a value of the map before you can put your data in.</p>\n<hr />\n<p>The same is with the second data type you created:</p>\n<pre><code>Map&lt;String, Map&lt;Integer, MyObject&gt;&gt; persons = new HashMap&lt;&gt;();\nlist.forEach(element -&gt; persons.computeIfAbsent(element.personalId, s -&gt; new HashMap&lt;&gt;()).put(element.rowNumber, element));\n</code></pre>\n<hr />\n<p>Here is a way to solve this with streams. But note that the objects must have a unique <code>personId</code>/<code>rowNumber</code>:</p>\n<pre><code>Map&lt;String, List&lt;MyObject&gt;&gt; rows = list.stream().collect(\n        Collectors.toMap(element -&gt; element.personalId, \n        element -&gt; new ArrayList&lt;MyObject&gt;(Arrays.asList(element))));\n</code></pre>\n<p>As well as for the other map:</p>\n<pre><code>    Map&lt;String, Map&lt;Integer, MyObject&gt;&gt; persons = list.stream().collect(\n            Collectors.toMap(e -&gt; e.personalId, \n            e -&gt; new HashMap&lt;&gt;(Map.of(e.rowNumber, e))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657254464,"creation_date":1657254464,"answer_id":72906648,"question_id":72899807,"body_markdown":"&gt; `Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt;` object using streams without using `Collectors.groupingBy()`\r\n\r\nBy looking at the map type, I can assume that a combination of `personalId` and `rowNumber` is **not** unique, i.e. there could be multiple occurrences of each combination (otherwise you don&#39;t need to group objects into lists). And there could be different `rowNumber` associated with each `personalId`. Only if these conclusions correct, this nested collection might have a very vague justification for existence. \r\n\r\nOtherwise, you probably can substitute it multiple collections for different use-cases, for `Map&lt;String, MyObject&gt;` - object by *id* (if every id is unique):\r\n```\r\nMap&lt;String, MyObject&gt; objById = myList.stream()\r\n    .collect(Collectors.toMap(\r\n        MyObject::getPersonalId,\r\n        Function.identity()\r\n    ));\r\n```\r\n\r\nI&#39;ll proceed assuming that you really need such a nested collection.\r\n\r\nNow, let&#39;s address the issue with `groupingBy()`. This collector uses internally `Objects.requireNonNull()` to make sure that a *key* produced by the *classifier* function is *non-null*.\r\n\r\nIf you tried to use and failed because of the hostility to *null-keys*, that implies that either `personalId`, or `rowNumber`, or both can be `null`.\r\n\r\nNow let&#39;s make a small detour and pose the question of what does it imply if a property that considered to be significant (you&#39;re going to use `personalId` and `rowNumber` to access the data, hence they are definitely important) and `null` means first of all?\r\n\r\n`null` signifies the absence of data and nothing else. If in your application `null` values have an additional special meaning, that&#39;s a design flaw. If properties that are significant for managing your data for some reason appear to be `null` you need to fix that.\r\n\r\nYou might claim that you&#39;re quite comfortable with `null` values. If so let pause for a moment and imagine a situation: person enters a restaurant, orders a soup and asks the waiter to bring them a fork instead of spoon (because of they have a negative experience with a spoon, and they are enough comfortable with fork).\r\n\r\n`null` isn&#39;t a data, it&#39;s an indicator of the absence of data, storing `null` is an antipattern. If you&#39;re storing `null` it obtains a special meaning because you&#39;re forced to treat it separately.\r\n\r\nTo replace `personalId` and `rowNumber` that are equal to `null` with default values we need only one line of code.\r\n\r\n    public static void replaceNullWithDefault(List&lt;MyObject&gt; list,\r\n                                              String defaultId,\r\n                                              Integer defaultNum) {\r\n        \r\n        list.replaceAll(obj -&gt; obj.getPersonalId() != null &amp;&amp; obj.getRowNumber() != null ? obj :\r\n            new MyObject(Objects.requireNonNullElse(obj.getPersonalId(), defaultId),\r\n                Objects.requireNonNullElse(obj.getRowNumber(), defaultNum),\r\n                obj.getDescription()));\r\n    }\r\n\r\nAfter that can use the proper tool instead eating soup with a fork, I mean we can process the list data with `groupingBy()`:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;MyObject&gt; myList = new ArrayList&lt;&gt;(\r\n            List.of(\r\n                new MyObject(&quot;id1&quot;, 1, &quot;desc1&quot;),\r\n                new MyObject(&quot;id1&quot;, 1, &quot;desc2&quot;),\r\n                new MyObject(&quot;id1&quot;, 2, &quot;desc3&quot;),\r\n                new MyObject(&quot;id1&quot;, 2, &quot;desc4&quot;),\r\n                new MyObject(&quot;id2&quot;, 1, &quot;desc5&quot;),\r\n                new MyObject(&quot;id2&quot;, 1, &quot;desc6&quot;),\r\n                new MyObject(&quot;id2&quot;, 1, &quot;desc7&quot;),\r\n                new MyObject(null, null, &quot;desc8&quot;)\r\n            ));\r\n        \r\n        replaceNullWithDefault(myList, &quot;id0&quot;, 0); // replacing null values\r\n        \r\n        Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt; byIdAndRow = myList // generating a map\r\n            .stream()\r\n            .collect(Collectors.groupingBy(\r\n                MyObject::getPersonalId,\r\n                Collectors.groupingBy(MyObject::getRowNumber)\r\n            ));\r\n        \r\n        byIdAndRow.forEach((k, v) -&gt; { // printing the map\r\n            System.out.println(k);\r\n            v.forEach((k1, v1) -&gt; System.out.println(k1 + &quot; -&gt; &quot; + v1));\r\n        });\r\n    }\r\n\r\n*Output:*\r\n```\r\nid0\r\n0 -&gt; [MyObject{&#39;id0&#39;, 0, &#39;desc8&#39;}]\r\nid2\r\n1 -&gt; [MyObject{&#39;id2&#39;, 1, &#39;desc5&#39;}, MyObject{&#39;id2&#39;, 1, &#39;desc6&#39;}, MyObject{&#39;id2&#39;, 1, &#39;desc7&#39;}]\r\nid1\r\n1 -&gt; [MyObject{&#39;id1&#39;, 1, &#39;desc1&#39;}, MyObject{&#39;id1&#39;, 1, &#39;desc2&#39;}]\r\n2 -&gt; [MyObject{&#39;id1&#39;, 2, &#39;desc3&#39;}, MyObject{&#39;id1&#39;, 2, &#39;desc4&#39;}]\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/t2V)\r\n\r\nNow, please pay attention to the usage of `groupingBy()` did you notice its conciseness. That&#39;s the **right tool** which allows generating even such a clumsy nested map.\r\n\r\nAnd now we&#39;re going to eat the soup with a fork! All `null` properties would be used as is:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;MyObject&gt; myList = new ArrayList&lt;&gt;(\r\n            List.of(\r\n                new MyObject(&quot;id1&quot;, 1, &quot;desc1&quot;),\r\n                new MyObject(&quot;id1&quot;, 1, &quot;desc2&quot;),\r\n                new MyObject(&quot;id1&quot;, 2, &quot;desc3&quot;),\r\n                new MyObject(&quot;id1&quot;, 2, &quot;desc4&quot;),\r\n                new MyObject(&quot;id2&quot;, 1, &quot;desc5&quot;),\r\n                new MyObject(&quot;id2&quot;, 1, &quot;desc6&quot;),\r\n                new MyObject(&quot;id2&quot;, 1, &quot;desc7&quot;),\r\n                new MyObject(null, null, &quot;desc8&quot;)\r\n            ));\r\n        \r\n        Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt; byIdAndRow = myList // generating a map\r\n            .stream()\r\n            .collect(\r\n                HashMap::new,\r\n                (Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt; mapMap, MyObject next) -&gt;\r\n                    mapMap.computeIfAbsent(next.getPersonalId(), k -&gt; new HashMap&lt;&gt;())\r\n                        .computeIfAbsent(next.getRowNumber(), k -&gt; new ArrayList&lt;&gt;())\r\n                        .add(next),\r\n                (left, right) -&gt; right.forEach((k, v) -&gt; left.merge(k, v,\r\n                    (oldV, newV) -&gt; {\r\n                        newV.forEach((k1, v1) -&gt; oldV.merge(k1, v1,\r\n                            (listOld, listNew) -&gt; {\r\n                                listOld.addAll(listNew);\r\n                                return listOld;\r\n                            }));\r\n                        return oldV;\r\n                    }))\r\n            );\r\n        \r\n        byIdAndRow.forEach((k, v) -&gt; { // printing the map\r\n            System.out.println(k);\r\n            v.forEach((k1, v1) -&gt; System.out.println(k1 + &quot; -&gt; &quot; + v1));\r\n        });\r\n    }\r\n\r\n*Output:*\r\n```\r\nnull\r\nnull -&gt; [MyObject{&#39;null&#39;, null, &#39;desc8&#39;}]\r\nid2\r\n1 -&gt; [MyObject{&#39;id2&#39;, 1, &#39;desc5&#39;}, MyObject{&#39;id2&#39;, 1, &#39;desc6&#39;}, MyObject{&#39;id2&#39;, 1, &#39;desc7&#39;}]\r\nid1\r\n1 -&gt; [MyObject{&#39;id1&#39;, 1, &#39;desc1&#39;}, MyObject{&#39;id1&#39;, 1, &#39;desc2&#39;}]\r\n2 -&gt; [MyObject{&#39;id1&#39;, 2, &#39;desc3&#39;}, MyObject{&#39;id1&#39;, 2, &#39;desc4&#39;}]\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/t2W)","title":"Java stream collect to Map&lt;String, Map&lt;Integer, MyObject&gt;&gt;","body":"<blockquote>\n<p><code>Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt;</code> object using streams without using <code>Collectors.groupingBy()</code></p>\n</blockquote>\n<p>By looking at the map type, I can assume that a combination of <code>personalId</code> and <code>rowNumber</code> is <strong>not</strong> unique, i.e. there could be multiple occurrences of each combination (otherwise you don't need to group objects into lists). And there could be different <code>rowNumber</code> associated with each <code>personalId</code>. Only if these conclusions correct, this nested collection might have a very vague justification for existence.</p>\n<p>Otherwise, you probably can substitute it multiple collections for different use-cases, for <code>Map&lt;String, MyObject&gt;</code> - object by <em>id</em> (if every id is unique):</p>\n<pre><code>Map&lt;String, MyObject&gt; objById = myList.stream()\n    .collect(Collectors.toMap(\n        MyObject::getPersonalId,\n        Function.identity()\n    ));\n</code></pre>\n<p>I'll proceed assuming that you really need such a nested collection.</p>\n<p>Now, let's address the issue with <code>groupingBy()</code>. This collector uses internally <code>Objects.requireNonNull()</code> to make sure that a <em>key</em> produced by the <em>classifier</em> function is <em>non-null</em>.</p>\n<p>If you tried to use and failed because of the hostility to <em>null-keys</em>, that implies that either <code>personalId</code>, or <code>rowNumber</code>, or both can be <code>null</code>.</p>\n<p>Now let's make a small detour and pose the question of what does it imply if a property that considered to be significant (you're going to use <code>personalId</code> and <code>rowNumber</code> to access the data, hence they are definitely important) and <code>null</code> means first of all?</p>\n<p><code>null</code> signifies the absence of data and nothing else. If in your application <code>null</code> values have an additional special meaning, that's a design flaw. If properties that are significant for managing your data for some reason appear to be <code>null</code> you need to fix that.</p>\n<p>You might claim that you're quite comfortable with <code>null</code> values. If so let pause for a moment and imagine a situation: person enters a restaurant, orders a soup and asks the waiter to bring them a fork instead of spoon (because of they have a negative experience with a spoon, and they are enough comfortable with fork).</p>\n<p><code>null</code> isn't a data, it's an indicator of the absence of data, storing <code>null</code> is an antipattern. If you're storing <code>null</code> it obtains a special meaning because you're forced to treat it separately.</p>\n<p>To replace <code>personalId</code> and <code>rowNumber</code> that are equal to <code>null</code> with default values we need only one line of code.</p>\n<pre><code>public static void replaceNullWithDefault(List&lt;MyObject&gt; list,\n                                          String defaultId,\n                                          Integer defaultNum) {\n    \n    list.replaceAll(obj -&gt; obj.getPersonalId() != null &amp;&amp; obj.getRowNumber() != null ? obj :\n        new MyObject(Objects.requireNonNullElse(obj.getPersonalId(), defaultId),\n            Objects.requireNonNullElse(obj.getRowNumber(), defaultNum),\n            obj.getDescription()));\n}\n</code></pre>\n<p>After that can use the proper tool instead eating soup with a fork, I mean we can process the list data with <code>groupingBy()</code>:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;MyObject&gt; myList = new ArrayList&lt;&gt;(\n        List.of(\n            new MyObject(&quot;id1&quot;, 1, &quot;desc1&quot;),\n            new MyObject(&quot;id1&quot;, 1, &quot;desc2&quot;),\n            new MyObject(&quot;id1&quot;, 2, &quot;desc3&quot;),\n            new MyObject(&quot;id1&quot;, 2, &quot;desc4&quot;),\n            new MyObject(&quot;id2&quot;, 1, &quot;desc5&quot;),\n            new MyObject(&quot;id2&quot;, 1, &quot;desc6&quot;),\n            new MyObject(&quot;id2&quot;, 1, &quot;desc7&quot;),\n            new MyObject(null, null, &quot;desc8&quot;)\n        ));\n    \n    replaceNullWithDefault(myList, &quot;id0&quot;, 0); // replacing null values\n    \n    Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt; byIdAndRow = myList // generating a map\n        .stream()\n        .collect(Collectors.groupingBy(\n            MyObject::getPersonalId,\n            Collectors.groupingBy(MyObject::getRowNumber)\n        ));\n    \n    byIdAndRow.forEach((k, v) -&gt; { // printing the map\n        System.out.println(k);\n        v.forEach((k1, v1) -&gt; System.out.println(k1 + &quot; -&gt; &quot; + v1));\n    });\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>id0\n0 -&gt; [MyObject{'id0', 0, 'desc8'}]\nid2\n1 -&gt; [MyObject{'id2', 1, 'desc5'}, MyObject{'id2', 1, 'desc6'}, MyObject{'id2', 1, 'desc7'}]\nid1\n1 -&gt; [MyObject{'id1', 1, 'desc1'}, MyObject{'id1', 1, 'desc2'}]\n2 -&gt; [MyObject{'id1', 2, 'desc3'}, MyObject{'id1', 2, 'desc4'}]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/t2V\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n<p>Now, please pay attention to the usage of <code>groupingBy()</code> did you notice its conciseness. That's the <strong>right tool</strong> which allows generating even such a clumsy nested map.</p>\n<p>And now we're going to eat the soup with a fork! All <code>null</code> properties would be used as is:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;MyObject&gt; myList = new ArrayList&lt;&gt;(\n        List.of(\n            new MyObject(&quot;id1&quot;, 1, &quot;desc1&quot;),\n            new MyObject(&quot;id1&quot;, 1, &quot;desc2&quot;),\n            new MyObject(&quot;id1&quot;, 2, &quot;desc3&quot;),\n            new MyObject(&quot;id1&quot;, 2, &quot;desc4&quot;),\n            new MyObject(&quot;id2&quot;, 1, &quot;desc5&quot;),\n            new MyObject(&quot;id2&quot;, 1, &quot;desc6&quot;),\n            new MyObject(&quot;id2&quot;, 1, &quot;desc7&quot;),\n            new MyObject(null, null, &quot;desc8&quot;)\n        ));\n    \n    Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt; byIdAndRow = myList // generating a map\n        .stream()\n        .collect(\n            HashMap::new,\n            (Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt; mapMap, MyObject next) -&gt;\n                mapMap.computeIfAbsent(next.getPersonalId(), k -&gt; new HashMap&lt;&gt;())\n                    .computeIfAbsent(next.getRowNumber(), k -&gt; new ArrayList&lt;&gt;())\n                    .add(next),\n            (left, right) -&gt; right.forEach((k, v) -&gt; left.merge(k, v,\n                (oldV, newV) -&gt; {\n                    newV.forEach((k1, v1) -&gt; oldV.merge(k1, v1,\n                        (listOld, listNew) -&gt; {\n                            listOld.addAll(listNew);\n                            return listOld;\n                        }));\n                    return oldV;\n                }))\n        );\n    \n    byIdAndRow.forEach((k, v) -&gt; { // printing the map\n        System.out.println(k);\n        v.forEach((k1, v1) -&gt; System.out.println(k1 + &quot; -&gt; &quot; + v1));\n    });\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>null\nnull -&gt; [MyObject{'null', null, 'desc8'}]\nid2\n1 -&gt; [MyObject{'id2', 1, 'desc5'}, MyObject{'id2', 1, 'desc6'}, MyObject{'id2', 1, 'desc7'}]\nid1\n1 -&gt; [MyObject{'id1', 1, 'desc1'}, MyObject{'id1', 1, 'desc2'}]\n2 -&gt; [MyObject{'id1', 2, 'desc3'}, MyObject{'id1', 2, 'desc4'}]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/t2W\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":25457992,"reputation":41,"user_id":19258303,"display_name":"treo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1805,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72900279,"answer_count":2,"score":0,"last_activity_date":1657309667,"creation_date":1657204889,"question_id":72899807,"body_markdown":"I&#39;m using Java 11 and I have a `List&lt;MyObject&gt;` called `myList` of the following object: \r\n\r\n    public class MyObject {\r\n      private final String personalId;\r\n      private final Integer rowNumber;\r\n      private final String description;\r\n    &lt;...&gt;\r\n    }\r\n\r\nand I want using streams to collect these objects into a `Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt;` \r\n(with following syntax: `Map&lt;personalId, Map&lt;rowNumber, List&lt;MyObject&gt;&gt;&gt;`) and **I don&#39;t want to use** `Collectors.groupBy()`, because it has issues with `null`\r\nvalues.\r\n\r\nI tried to do it using `Collectors.toMap()`, but it seems that it is not possible to do it\r\n\r\n    myList\r\n    .stream()\r\n    .Collectors.toMap(s -&gt; s.getPersonalId(), s -&gt; Collectors.toMap(t-&gt; s.getRowNumber(), ArrayList::new))\r\n\r\nMy question is it possible to make a `Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt;` object using streams **without using Collectors.groupBy()** or should I write a full method myself?\r\n\r\n","title":"Java stream collect to Map&lt;String, Map&lt;Integer, MyObject&gt;&gt;","body":"<p>I'm using Java 11 and I have a <code>List&lt;MyObject&gt;</code> called <code>myList</code> of the following object:</p>\n<pre><code>public class MyObject {\n  private final String personalId;\n  private final Integer rowNumber;\n  private final String description;\n&lt;...&gt;\n}\n</code></pre>\n<p>and I want using streams to collect these objects into a <code>Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt;</code>\n(with following syntax: <code>Map&lt;personalId, Map&lt;rowNumber, List&lt;MyObject&gt;&gt;&gt;</code>) and <strong>I don't want to use</strong> <code>Collectors.groupBy()</code>, because it has issues with <code>null</code>\nvalues.</p>\n<p>I tried to do it using <code>Collectors.toMap()</code>, but it seems that it is not possible to do it</p>\n<pre><code>myList\n.stream()\n.Collectors.toMap(s -&gt; s.getPersonalId(), s -&gt; Collectors.toMap(t-&gt; s.getRowNumber(), ArrayList::new))\n</code></pre>\n<p>My question is it possible to make a <code>Map&lt;String, Map&lt;Integer, List&lt;MyObject&gt;&gt;&gt;</code> object using streams <strong>without using Collectors.groupBy()</strong> or should I write a full method myself?</p>\n"},{"tags":["java","spring-boot","elasticsearch","elastic-stack","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1657382592,"post_id":72916298,"comment_id":128799498,"body_markdown":"Did you try to use `NativeSearchQueryBuilder` and using `withQuery()` and `withAggregations`?","body":"Did you try to use <code>NativeSearchQueryBuilder</code> and using <code>withQuery()</code> and <code>withAggregations</code>?"},{"owner":{"account_id":10493742,"reputation":87,"user_id":7734716,"display_name":"RohitG"},"score":0,"creation_date":1657430604,"post_id":72916298,"comment_id":128805789,"body_markdown":"Hello @P.J.Meisch , Thanks so much for your hint. I have used NativeSearchQueryBuilder for some of the other aggregations, but I was not sure how to send composite aggregations through it. Would be grateful if you pl point me to some resource that shows how to do that. Thanks a lot.","body":"Hello @P.J.Meisch , Thanks so much for your hint. I have used NativeSearchQueryBuilder for some of the other aggregations, but I was not sure how to send composite aggregations through it. Would be grateful if you pl point me to some resource that shows how to do that. Thanks a lot."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1657439209,"post_id":72916298,"comment_id":128806819,"body_markdown":"doesn&#39;t `org.springframework.data.elasticsearch.core.query.NativeSearchQueryBuilder#withAggregations(java.util.Collection&lt;org.elasticsearch.search.aggregations.AbstractAggregationBuilder&lt;?&gt;&gt;)` work?","body":"doesn&#39;t <code>org.springframework.data.elasticsearch.core.query.NativeSear&zwnj;&#8203;chQueryBuilder#withA&zwnj;&#8203;ggregations(java.uti&zwnj;&#8203;l.Collection&lt;org.ela&zwnj;&#8203;sticsearch.search.ag&zwnj;&#8203;gregations.AbstractA&zwnj;&#8203;ggregationBuilder&lt;?&gt;&zwnj;&#8203;&gt;)</code> work?"},{"owner":{"account_id":10493742,"reputation":87,"user_id":7734716,"display_name":"RohitG"},"score":0,"creation_date":1657444104,"post_id":72916298,"comment_id":128807571,"body_markdown":"Hello @P.J.Meisch, if I send a list of abstract aggregation builders, containing 2 terms query builders inside it, to the NativeSearchQueryBuilder class, would they be treated as a composite of those 2 terms queries, or do I need to specify something that quantifies these terms queries to be treated as a composite? Please let me know your advice on that. Thanks a lot.","body":"Hello @P.J.Meisch, if I send a list of abstract aggregation builders, containing 2 terms query builders inside it, to the NativeSearchQueryBuilder class, would they be treated as a composite of those 2 terms queries, or do I need to specify something that quantifies these terms queries to be treated as a composite? Please let me know your advice on that. Thanks a lot."},{"owner":{"account_id":10493742,"reputation":87,"user_id":7734716,"display_name":"RohitG"},"score":0,"creation_date":1657449829,"post_id":72916298,"comment_id":128808550,"body_markdown":"Hello @P.J.Meisch , Code samples as below always use CompositeAggregationBuilder to create the composite agg clauses. Not getting how that translates to when we just pass a list of AbstractAggregationBuilders. Does it still do composite? -&#160;\n\n`NativeSearchQueryBuilder qb = new NativeSearchQueryBuilder(); \nList&lt;CompositeValuesSourceBuilder&lt;?&gt;&gt; src=new ArrayList&lt;&gt;(); \nsrc.add(new TermsValuesSourceBuilder(“firstLetter”).field(“firstLetter.keyword”));  CompositeAggregationBuilder agg = AggregationBuilders.composite(“firstLetterAgg”, src).size(200);  qb.addAggregation(agg);`","body":"Hello @P.J.Meisch , Code samples as below always use CompositeAggregationBuilder to create the composite agg clauses. Not getting how that translates to when we just pass a list of AbstractAggregationBuilders. Does it still do composite? -   <code>NativeSearchQueryBuilder qb = new NativeSearchQueryBuilder();  List&lt;CompositeValuesSourceBuilder&lt;?&gt;&gt; src=new ArrayList&lt;&gt;();  src.add(new TermsValuesSourceBuilder(“firstLetter”).field(“firstLetter.k&zwnj;&#8203;eyword”));  CompositeAggregationBuilder agg = AggregationBuilders.composite(“firstLetterAgg”, src).size(200);  qb.addAggregation(agg);</code>"},{"owner":{"account_id":10493742,"reputation":87,"user_id":7734716,"display_name":"RohitG"},"score":0,"creation_date":1657465966,"post_id":72916298,"comment_id":128811568,"body_markdown":"Hello @P.J.Meisch, I just tried passing the two terms as below -\n\n`NativeSearchQueryBuilder queryBuilder = new NativeSearchQueryBuilder().withIndices(indexName).withQuery(baseQueryBuilder);\nfor (AbstractAggregationBuilder aggBuilder : aggregationBuilders) queryBuilder.addAggregation(aggBuilder);`\n\nThe aggregations get applied in two different groups and do not get a composite one as shown below - \n\n`“aggregations”: {“MyDirectsAggregation”: {“terms”: {..}\n    “QtrAggregation”: {“terms”: {..}}`","body":"Hello @P.J.Meisch, I just tried passing the two terms as below -  <code>NativeSearchQueryBuilder queryBuilder = new NativeSearchQueryBuilder().withIndices(indexName).withQuery(&zwnj;&#8203;baseQueryBuilder); for (AbstractAggregationBuilder aggBuilder : aggregationBuilders) queryBuilder.addAggregation(aggBuilder);</code>  The aggregations get applied in two different groups and do not get a composite one as shown below -   <code>“aggregations”: {“MyDirectsAggregation”: {“terms”: {..}     “QtrAggregation”: {“terms”: {..}}</code>"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1657471038,"post_id":72916298,"comment_id":128812654,"body_markdown":"There is a `CompositeAggregationBuilder` as well, do you use that? Btw, this is not a problem with Spring Data Elasticsearch but with the native Elasticsearch components you build","body":"There is a <code>CompositeAggregationBuilder</code> as well, do you use that? Btw, this is not a problem with Spring Data Elasticsearch but with the native Elasticsearch components you build"},{"owner":{"account_id":10493742,"reputation":87,"user_id":7734716,"display_name":"RohitG"},"score":0,"creation_date":1657474159,"post_id":72916298,"comment_id":128813278,"body_markdown":"Thanks so much for your guidance, @P.J.Meisch . The abstract aggregation builder routine that creates the terms aggs is deep inside the class hierarchy in my code, and so thought I could get an array of these terms aggs, and then add them to a composite. As it looks like, I do not have a method in NativeSearchQueryBuilder that would let me add individual terms aggs in something like `queryBuilder.addComposite(List&lt;AbstractAggregationBuilder&gt;)`. So probably I would create a subroutine for composite and add the terms to composite as they get created, &amp; then send the composite back. Thanks a lot","body":"Thanks so much for your guidance, @P.J.Meisch . The abstract aggregation builder routine that creates the terms aggs is deep inside the class hierarchy in my code, and so thought I could get an array of these terms aggs, and then add them to a composite. As it looks like, I do not have a method in NativeSearchQueryBuilder that would let me add individual terms aggs in something like <code>queryBuilder.addComposite(List&lt;AbstractAggregationBuilder&gt;)</code>. So probably I would create a subroutine for composite and add the terms to composite as they get created, &amp; then send the composite back. Thanks a lot"}],"owner":{"account_id":10493742,"reputation":87,"user_id":7734716,"display_name":"RohitG"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657309479,"creation_date":1657309479,"question_id":72916298,"body_markdown":"I have created a composite query for aggregating on 2 different attributes as below -\r\n```\r\n{\r\n    &quot;from&quot;: 0,\r\n    &quot;size&quot;: 0,\r\n    &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;must&quot;: [\r\n                {\r\n                    &quot;nested&quot;: {\r\n                        &quot;query&quot;: {\r\n                            &quot;script&quot;: {\r\n                                &quot;script&quot;: {\r\n                                    &quot;source&quot;: &quot;params.territoryIds.contains(doc[&#39;territoryHierarchy.id&#39;].value) &quot;,\r\n                                    &quot;lang&quot;: &quot;painless&quot;,\r\n                                    &quot;params&quot;: {\r\n                                        &quot;territoryIds&quot;: [\r\n                                            12345678\r\n                                        ]\r\n                                    }\r\n                                },\r\n                                &quot;boost&quot;: 1.0\r\n                            }\r\n                        },\r\n                        &quot;path&quot;: &quot;territoryHierarchy&quot;,\r\n                        &quot;ignore_unmapped&quot;: false,\r\n                        &quot;score_mode&quot;: &quot;none&quot;,\r\n                        &quot;boost&quot;: 1.0\r\n                    }\r\n                },\r\n                {\r\n                    &quot;bool&quot;: {\r\n                        &quot;should&quot;: [\r\n                            {\r\n                                &quot;nested&quot;: {\r\n                                    &quot;query&quot;: {\r\n                                        &quot;script&quot;: {\r\n                                            &quot;script&quot;: {\r\n                                                &quot;source&quot;: &quot;doc[&#39;forecastHeaders.id&#39;].value == params.id &amp;&amp; doc[&#39;forecastHeaders.revenueCategory&#39;].value == params.revenueCategory &quot;,\r\n                                                &quot;lang&quot;: &quot;painless&quot;,\r\n                                                &quot;params&quot;: {\r\n                                                    &quot;revenueCategory&quot;: 0,\r\n                                                    &quot;id&quot;: 987654321\r\n                                                }\r\n                                            },\r\n                                            &quot;boost&quot;: 1.0\r\n                                        }\r\n                                    },\r\n                                    &quot;path&quot;: &quot;forecastHeaders&quot;,\r\n                                    &quot;ignore_unmapped&quot;: false,\r\n                                    &quot;score_mode&quot;: &quot;none&quot;,\r\n                                    &quot;boost&quot;: 1.0\r\n                                }\r\n                            },\r\n                            {\r\n                                &quot;nested&quot;: {\r\n                                    &quot;query&quot;: {\r\n                                        &quot;script&quot;: {\r\n                                            &quot;script&quot;: {\r\n                                                &quot;source&quot;: &quot;doc[&#39;forecastHeaders.id&#39;].value == params.id &amp;&amp; doc[&#39;forecastHeaders.revenueCategory&#39;].value == params.revenueCategory &quot;,\r\n                                                &quot;lang&quot;: &quot;painless&quot;,\r\n                                                &quot;params&quot;: {\r\n                                                    &quot;revenueCategory&quot;: 0,\r\n                                                    &quot;id&quot;: 987654321\r\n                                                }\r\n                                            },\r\n                                            &quot;boost&quot;: 1.0\r\n                                        }\r\n                                    },\r\n                                    &quot;path&quot;: &quot;forecastHeaders&quot;,\r\n                                    &quot;ignore_unmapped&quot;: false,\r\n                                    &quot;score_mode&quot;: &quot;none&quot;,\r\n                                    &quot;boost&quot;: 1.0\r\n                                }\r\n                            }\r\n                        ],\r\n                        &quot;adjust_pure_negative&quot;: true,\r\n                        &quot;boost&quot;: 1.0\r\n                    }\r\n                },\r\n                {\r\n                    &quot;terms&quot;: {\r\n                        &quot;revnWinProbability&quot;: [\r\n                            40,\r\n                            50\r\n                        ],\r\n                        &quot;boost&quot;: 1.0\r\n                    }\r\n                },\r\n                {\r\n                    &quot;terms&quot;: {\r\n                        &quot;revenueStatus.keyword&quot;: [\r\n                            &quot;OPEN&quot;\r\n                        ],\r\n                        &quot;boost&quot;: 1.0\r\n                    }\r\n                },\r\n                {\r\n                    &quot;range&quot;: {\r\n                        &quot;recordUpdateTime&quot;:{\r\n                            &quot;gte&quot;:1655117440000\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            &quot;adjust_pure_negative&quot;: true,\r\n            &quot;boost&quot;: 1.0\r\n        }\r\n    },\r\n    &quot;version&quot;: true,\r\n    &quot;aggregations&quot;: {\r\n        &quot;TopLevelAggregation&quot;: {\r\n            &quot;composite&quot; : {\r\n                &quot;size&quot; : 10000,\r\n                &quot;sources&quot; : [\r\n                    {\r\n                        &quot;directs&quot;: {\r\n                            &quot;terms&quot;: {\r\n                                &quot;script&quot;: {\r\n                                    &quot;source&quot;: &quot;def territoryNamesList = new ArrayList(); def name; def thLength = params._source.territoryHierarchy.length; for(int i = 0; i&lt; thLength;i++) { def thRecord = params._source.territoryHierarchy[i];  if (params.territoryIds.contains(thRecord.id) &amp;&amp; i+params.levelToReturn &lt; thLength) { territoryNamesList.add(params._source.territoryHierarchy[i+params.levelToReturn].name);} } return territoryNamesList;&quot;,\r\n                                    &quot;lang&quot;: &quot;painless&quot;,\r\n                                    &quot;params&quot;: {\r\n                                        &quot;territoryIds&quot;: [\r\n                                            12345678\r\n                                        ],\r\n                                        &quot;levelToReturn&quot;: 1\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        &quot;qtr&quot; : {\r\n                            &quot;terms&quot; : {\r\n                                &quot;field&quot; : &quot;quarter.keyword&quot;,\r\n                                &quot;missing_bucket&quot; : false,\r\n                                &quot;order&quot; : &quot;asc&quot;\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            &quot;aggregations&quot;: {\r\n                &quot;revnRevenueAmount&quot;: {\r\n                    &quot;sum&quot;: {\r\n                        &quot;script&quot;: {\r\n                            &quot;source&quot;: &quot;doc[&#39;revenueTypeCategory.keyword&#39;].value != &#39;Other&#39; ? doc[&#39;revnRevenueAmount&#39;]:doc[&#39;revnRevenueAmount&#39;]&quot;,\r\n                            &quot;lang&quot;: &quot;painless&quot;\r\n                        },\r\n                        &quot;value_type&quot;: &quot;long&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nSo this query does a composite aggregation based on two different terms aggregations, directs and qtr, and it works fine.\r\n\r\nNow I am trying to create a corresponding spring data java client implementation for it. So I have created the code as below -\r\n\r\n```\r\nBoolQueryBuilder baseQueryBuilder = getQueryBuilder(searchCriteria);\r\n\r\nList&lt;TermsAggregationBuilder&gt; aggregationBuilders = getMultiBaseAggregationBuilders(searchCriteria, baseQueryBuilder);\r\n```\r\n\r\nWhere the bool query supplies the first part of the bool query and the getMultiBaseAggregationBuilders method returns the 2 different terms aggregations shown in the query above - directs and qtr. Now I am not finding any API to send this list of terms aggregations to the composite aggregation builder. Would be really grateful if someone can give me a pointer as to how this list of terms aggregations can be used inside the composite aggregation builder so the same can be achieved in the java code as it shows in the elastic query above. Thanks in advance.\r\n","title":"Elasticsearch: Java Client for Composite Aggregation using Terms queries","body":"<p>I have created a composite query for aggregating on 2 different attributes as below -</p>\n<pre><code>{\n    &quot;from&quot;: 0,\n    &quot;size&quot;: 0,\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must&quot;: [\n                {\n                    &quot;nested&quot;: {\n                        &quot;query&quot;: {\n                            &quot;script&quot;: {\n                                &quot;script&quot;: {\n                                    &quot;source&quot;: &quot;params.territoryIds.contains(doc['territoryHierarchy.id'].value) &quot;,\n                                    &quot;lang&quot;: &quot;painless&quot;,\n                                    &quot;params&quot;: {\n                                        &quot;territoryIds&quot;: [\n                                            12345678\n                                        ]\n                                    }\n                                },\n                                &quot;boost&quot;: 1.0\n                            }\n                        },\n                        &quot;path&quot;: &quot;territoryHierarchy&quot;,\n                        &quot;ignore_unmapped&quot;: false,\n                        &quot;score_mode&quot;: &quot;none&quot;,\n                        &quot;boost&quot;: 1.0\n                    }\n                },\n                {\n                    &quot;bool&quot;: {\n                        &quot;should&quot;: [\n                            {\n                                &quot;nested&quot;: {\n                                    &quot;query&quot;: {\n                                        &quot;script&quot;: {\n                                            &quot;script&quot;: {\n                                                &quot;source&quot;: &quot;doc['forecastHeaders.id'].value == params.id &amp;&amp; doc['forecastHeaders.revenueCategory'].value == params.revenueCategory &quot;,\n                                                &quot;lang&quot;: &quot;painless&quot;,\n                                                &quot;params&quot;: {\n                                                    &quot;revenueCategory&quot;: 0,\n                                                    &quot;id&quot;: 987654321\n                                                }\n                                            },\n                                            &quot;boost&quot;: 1.0\n                                        }\n                                    },\n                                    &quot;path&quot;: &quot;forecastHeaders&quot;,\n                                    &quot;ignore_unmapped&quot;: false,\n                                    &quot;score_mode&quot;: &quot;none&quot;,\n                                    &quot;boost&quot;: 1.0\n                                }\n                            },\n                            {\n                                &quot;nested&quot;: {\n                                    &quot;query&quot;: {\n                                        &quot;script&quot;: {\n                                            &quot;script&quot;: {\n                                                &quot;source&quot;: &quot;doc['forecastHeaders.id'].value == params.id &amp;&amp; doc['forecastHeaders.revenueCategory'].value == params.revenueCategory &quot;,\n                                                &quot;lang&quot;: &quot;painless&quot;,\n                                                &quot;params&quot;: {\n                                                    &quot;revenueCategory&quot;: 0,\n                                                    &quot;id&quot;: 987654321\n                                                }\n                                            },\n                                            &quot;boost&quot;: 1.0\n                                        }\n                                    },\n                                    &quot;path&quot;: &quot;forecastHeaders&quot;,\n                                    &quot;ignore_unmapped&quot;: false,\n                                    &quot;score_mode&quot;: &quot;none&quot;,\n                                    &quot;boost&quot;: 1.0\n                                }\n                            }\n                        ],\n                        &quot;adjust_pure_negative&quot;: true,\n                        &quot;boost&quot;: 1.0\n                    }\n                },\n                {\n                    &quot;terms&quot;: {\n                        &quot;revnWinProbability&quot;: [\n                            40,\n                            50\n                        ],\n                        &quot;boost&quot;: 1.0\n                    }\n                },\n                {\n                    &quot;terms&quot;: {\n                        &quot;revenueStatus.keyword&quot;: [\n                            &quot;OPEN&quot;\n                        ],\n                        &quot;boost&quot;: 1.0\n                    }\n                },\n                {\n                    &quot;range&quot;: {\n                        &quot;recordUpdateTime&quot;:{\n                            &quot;gte&quot;:1655117440000\n                        }\n                    }\n                }\n            ],\n            &quot;adjust_pure_negative&quot;: true,\n            &quot;boost&quot;: 1.0\n        }\n    },\n    &quot;version&quot;: true,\n    &quot;aggregations&quot;: {\n        &quot;TopLevelAggregation&quot;: {\n            &quot;composite&quot; : {\n                &quot;size&quot; : 10000,\n                &quot;sources&quot; : [\n                    {\n                        &quot;directs&quot;: {\n                            &quot;terms&quot;: {\n                                &quot;script&quot;: {\n                                    &quot;source&quot;: &quot;def territoryNamesList = new ArrayList(); def name; def thLength = params._source.territoryHierarchy.length; for(int i = 0; i&lt; thLength;i++) { def thRecord = params._source.territoryHierarchy[i];  if (params.territoryIds.contains(thRecord.id) &amp;&amp; i+params.levelToReturn &lt; thLength) { territoryNamesList.add(params._source.territoryHierarchy[i+params.levelToReturn].name);} } return territoryNamesList;&quot;,\n                                    &quot;lang&quot;: &quot;painless&quot;,\n                                    &quot;params&quot;: {\n                                        &quot;territoryIds&quot;: [\n                                            12345678\n                                        ],\n                                        &quot;levelToReturn&quot;: 1\n                                    }\n                                }\n                            }\n                        }\n                    },\n                    {\n                        &quot;qtr&quot; : {\n                            &quot;terms&quot; : {\n                                &quot;field&quot; : &quot;quarter.keyword&quot;,\n                                &quot;missing_bucket&quot; : false,\n                                &quot;order&quot; : &quot;asc&quot;\n                            }\n                        }\n                    }\n                ]\n            },\n            &quot;aggregations&quot;: {\n                &quot;revnRevenueAmount&quot;: {\n                    &quot;sum&quot;: {\n                        &quot;script&quot;: {\n                            &quot;source&quot;: &quot;doc['revenueTypeCategory.keyword'].value != 'Other' ? doc['revnRevenueAmount']:doc['revnRevenueAmount']&quot;,\n                            &quot;lang&quot;: &quot;painless&quot;\n                        },\n                        &quot;value_type&quot;: &quot;long&quot;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>So this query does a composite aggregation based on two different terms aggregations, directs and qtr, and it works fine.</p>\n<p>Now I am trying to create a corresponding spring data java client implementation for it. So I have created the code as below -</p>\n<pre><code>BoolQueryBuilder baseQueryBuilder = getQueryBuilder(searchCriteria);\n\nList&lt;TermsAggregationBuilder&gt; aggregationBuilders = getMultiBaseAggregationBuilders(searchCriteria, baseQueryBuilder);\n</code></pre>\n<p>Where the bool query supplies the first part of the bool query and the getMultiBaseAggregationBuilders method returns the 2 different terms aggregations shown in the query above - directs and qtr. Now I am not finding any API to send this list of terms aggregations to the composite aggregation builder. Would be really grateful if someone can give me a pointer as to how this list of terms aggregations can be used inside the composite aggregation builder so the same can be achieved in the java code as it shows in the elastic query above. Thanks in advance.</p>\n"},{"tags":["java","ssh","redhat","jsch"],"comments":[{"owner":{"account_id":24719585,"reputation":27,"user_id":18608869,"display_name":"RRK"},"score":0,"creation_date":1653560537,"post_id":72389924,"comment_id":127883684,"body_markdown":"Yes, I am able to log in through Putty 0.76 version by adding the same key with Pageant","body":"Yes, I am able to log in through Putty 0.76 version by adding the same key with Pageant"}],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656877573,"creation_date":1656877573,"answer_id":72849431,"question_id":72389924,"body_markdown":"You didn&#39;t provide us with much information.\r\n\r\nWithout more information, I can only guess that your server requires rsa-sha2, which is not supported by JSch.\r\n\r\n- Either try reconfiguring your allow server to old less-secure &quot;RSA&quot; by adding `PubkeyAcceptedAlgorithms +ssh-rsa` to `sshd_config`.\r\n- Or use another Java SSH library. There&#39;s a fork of JSch that supports rsa-sha2:  \r\n  https://github.com/mwiede/jsch","title":"Unable to connect server through Java code by using JSch - RedHat 8 (FIS) Implemented","body":"<p>You didn't provide us with much information.</p>\n<p>Without more information, I can only guess that your server requires rsa-sha2, which is not supported by JSch.</p>\n<ul>\n<li>Either try reconfiguring your allow server to old less-secure &quot;RSA&quot; by adding <code>PubkeyAcceptedAlgorithms +ssh-rsa</code> to <code>sshd_config</code>.</li>\n<li>Or use another Java SSH library. There's a fork of JSch that supports rsa-sha2:<br />\n<a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">https://github.com/mwiede/jsch</a></li>\n</ul>\n"}],"owner":{"account_id":24719585,"reputation":27,"user_id":18608869,"display_name":"RRK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":705,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1657308912,"creation_date":1653558668,"question_id":72389924,"body_markdown":"Expectation\r\nNeed to connect AWS server through Java code by using private key.\r\n\r\nI was able to log in successfully until **Red Hat 8** implemented in the server end.\r\nIf I disable the **FIS (Fuse Integration Service)** then it works as expected.\r\n\r\nI&#39;m using IntelliJ for Java code.\r\n\r\nPrivate key format is RSA 3 and I have converted into RSA 2 by using PuTTYgen.\r\n\r\nKey pattern is\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    PuTTY-User-Key-File-2: ssh-rsa\r\n    Encryption:none\r\n    Comment: rsa-key-20220125\r\n    Public-Lines:12\r\n    AAAn23vnonBIhk......................\r\n    ..................\r\n    ....................................\r\n    Private-Lines:28\r\n    AACABdkfjal905 slknf................\r\n    ....................................\r\n    Private-MAC: nbfajesrkkjnajfnga;alksdnfal;dks\r\n\r\nJava code is\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    JSch jsch = new JSch();\r\n    jsch.addIdentity(privatekey)\r\n    Session session = jsch.getSession(username, hostname, port);\r\n    session.setConfig (&quot;StrickHostKeyChecking&quot;,&quot;no&quot;)\r\n    session.connect();\r\n\r\nI am always getting an error\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    com.jcraft.jsch.JSchException : Auth Fail\r\n    at com.jcraft.jsch.Session.connect(Session.java:519)\r\n    at com.jcraft.jsch.Session.connect(Session.java:183)\r\n\r\nLog from server end by using Linux command `systemctl status sshd.service`:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    rexec line 29: Deprecated option KeyRegenerationInterval\r\n    rexec line 30: Deprecated option ServerKeyBits\r\n    rexec line 66: Deprecated option RSAAuthentication\r\n    rexec line 82: Deprecated option RhostsRSAAuthentication\r\n    reprocess config line 66 : Deprecated option RSAAuthentication\r\n    reprocess config line 82 : Deprecated option RhostsRSAAuthentication\r\n    error: Receivved disconnect from &lt;ipaddress&gt; port &lt;id&gt;:3 com.jcrat.jsch.JSchException:Auth fail [preauth]\r\n    Disconnected from authenticating user ec2-user &lt;ipaddress&gt; port &lt;id&gt; [preauth]\r\n\r\nPlease find below `tail -f messages` when I log in through PuTTY 0.76 successfully.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Reached Target Timers\r\n    Reached target Paths\r\n    Listening on D-Bus User Message Bus Socket\r\n    Reached target Sockets\r\n    Reached target Basic System\r\n    Reached target default\r\n    Startup finished in 324ms\r\n    Started User Manager for UID 1000\r\n","title":"Unable to connect server through Java code by using JSch - RedHat 8 (FIS) Implemented","body":"<p>Expectation\nNeed to connect AWS server through Java code by using private key.</p>\n<p>I was able to log in successfully until <strong>Red Hat 8</strong> implemented in the server end.\nIf I disable the <strong>FIS (Fuse Integration Service)</strong> then it works as expected.</p>\n<p>I'm using IntelliJ for Java code.</p>\n<p>Private key format is RSA 3 and I have converted into RSA 2 by using PuTTYgen.</p>\n<p>Key pattern is</p>\n<pre class=\"lang-none prettyprint-override\"><code>PuTTY-User-Key-File-2: ssh-rsa\nEncryption:none\nComment: rsa-key-20220125\nPublic-Lines:12\nAAAn23vnonBIhk......................\n..................\n....................................\nPrivate-Lines:28\nAACABdkfjal905 slknf................\n....................................\nPrivate-MAC: nbfajesrkkjnajfnga;alksdnfal;dks\n</code></pre>\n<p>Java code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSch jsch = new JSch();\njsch.addIdentity(privatekey)\nSession session = jsch.getSession(username, hostname, port);\nsession.setConfig (&quot;StrickHostKeyChecking&quot;,&quot;no&quot;)\nsession.connect();\n</code></pre>\n<p>I am always getting an error</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.jcraft.jsch.JSchException : Auth Fail\nat com.jcraft.jsch.Session.connect(Session.java:519)\nat com.jcraft.jsch.Session.connect(Session.java:183)\n</code></pre>\n<p>Log from server end by using Linux command <code>systemctl status sshd.service</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>rexec line 29: Deprecated option KeyRegenerationInterval\nrexec line 30: Deprecated option ServerKeyBits\nrexec line 66: Deprecated option RSAAuthentication\nrexec line 82: Deprecated option RhostsRSAAuthentication\nreprocess config line 66 : Deprecated option RSAAuthentication\nreprocess config line 82 : Deprecated option RhostsRSAAuthentication\nerror: Receivved disconnect from &lt;ipaddress&gt; port &lt;id&gt;:3 com.jcrat.jsch.JSchException:Auth fail [preauth]\nDisconnected from authenticating user ec2-user &lt;ipaddress&gt; port &lt;id&gt; [preauth]\n</code></pre>\n<p>Please find below <code>tail -f messages</code> when I log in through PuTTY 0.76 successfully.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Reached Target Timers\nReached target Paths\nListening on D-Bus User Message Bus Socket\nReached target Sockets\nReached target Basic System\nReached target default\nStartup finished in 324ms\nStarted User Manager for UID 1000\n</code></pre>\n"},{"tags":["java","arrays","json","hashmap","mapping"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1657287863,"post_id":72912136,"comment_id":128781546,"body_markdown":"In that case lets get back to your question. What is JSONArray? From which package/library it comes from (to create code we need to know what methods/API are available in that class)?","body":"In that case lets get back to your question. What is JSONArray? From which package/library it comes from (to create code we need to know what methods/API are available in that class)?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1657288016,"post_id":72912136,"comment_id":128781613,"body_markdown":"Anyway I suspect that solution you are looking for is something along `Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); for (int i = 0; i&lt;jsonArray.size(); i++) { JSONObject obj = jsonArray.getJSONObject(i); map.put(obj.getString(&quot;key&quot;, obj.getJSONObject(&quot;value&quot;)); }`.","body":"Anyway I suspect that solution you are looking for is something along <code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); for (int i = 0; i&lt;jsonArray.size(); i++) { JSONObject obj = jsonArray.getJSONObject(i); map.put(obj.getString(&quot;key&quot;, obj.getJSONObject(&quot;value&quot;)); }</code>."},{"owner":{"account_id":22226232,"reputation":1,"user_id":16463150,"display_name":"patplo1999"},"score":0,"creation_date":1657288411,"post_id":72912136,"comment_id":128781748,"body_markdown":"JSONArray comes from org.json, just like JSONObject.","body":"JSONArray comes from org.json, just like JSONObject."}],"answers":[{"tags":[],"owner":{"account_id":19537863,"reputation":64,"user_id":14296280,"display_name":"Josue Muleshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657290924,"creation_date":1657290924,"answer_id":72913007,"question_id":72912136,"body_markdown":"JSON-lib is a java library for transforming beans, maps, collections, java arrays and XML to JSON and back again to beans and DynaBeans.\r\n\r\nhttps://kordamp.org/json-lib/","title":"How transfer data from JSONArray to Map&lt;String, Object&gt;?","body":"<p>JSON-lib is a java library for transforming beans, maps, collections, java arrays and XML to JSON and back again to beans and DynaBeans.</p>\n<p><a href=\"https://kordamp.org/json-lib/\" rel=\"nofollow noreferrer\">https://kordamp.org/json-lib/</a></p>\n"}],"owner":{"account_id":22226232,"reputation":1,"user_id":16463150,"display_name":"patplo1999"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657308358,"creation_date":1657286925,"question_id":72912136,"body_markdown":"I have a problem with putting JSONArray data to Map&lt;String, Object&gt;. \r\n\r\nJSONArray contains array with `value` and `key` and I want to map these values (value as Object and key as String) \r\n\r\n```\r\n[\r\n    {\r\n\t\t&quot;value&quot;: {\r\n\t\t\t&quot;gamesPlayed&quot;: 0,\r\n\t\t\t&quot;name&quot;: &quot;Arti&quot;,\r\n\t\t\t&quot;elo&quot;: 2000,\r\n\t\t\t&quot;uuid&quot;: &quot;2ae8d022-e0f4-4502-8e0e-1874997543e3&quot;,\r\n\t\t\t&quot;email&quot;: &quot;aaaarti3212321@gmail.com&quot;\r\n\t\t},\r\n\t\t&quot;key&quot;: &quot;03a2452c-9d6b-47f5-9616-9a6833312762&quot;\r\n\t}, {\r\n\t\t&quot;value&quot;: {\r\n\t\t\t&quot;gamesPlayed&quot;: 0,\r\n\t\t\t&quot;name&quot;: &quot;Kamil&quot;,\r\n\t\t\t&quot;elo&quot;: 2000,\r\n\t\t\t&quot;uuid&quot;: &quot;1bb43d73-3f94-40fc-a680-99f4a9304001&quot;,\r\n\t\t\t&quot;email&quot;: &quot;kamilll11223344@gmail.com&quot;\r\n\t\t},\r\n\t\t&quot;key&quot;: &quot;8526db7c-6930-45bf-9ae1-fb93e97ff4ba&quot;\r\n\t}\r\n]\r\n```\r\n\r\ndo you have any simple solutions to do this ?","title":"How transfer data from JSONArray to Map&lt;String, Object&gt;?","body":"<p>I have a problem with putting JSONArray data to Map&lt;String, Object&gt;.</p>\n<p>JSONArray contains array with <code>value</code> and <code>key</code> and I want to map these values (value as Object and key as String)</p>\n<pre><code>[\n    {\n        &quot;value&quot;: {\n            &quot;gamesPlayed&quot;: 0,\n            &quot;name&quot;: &quot;Arti&quot;,\n            &quot;elo&quot;: 2000,\n            &quot;uuid&quot;: &quot;2ae8d022-e0f4-4502-8e0e-1874997543e3&quot;,\n            &quot;email&quot;: &quot;aaaarti3212321@gmail.com&quot;\n        },\n        &quot;key&quot;: &quot;03a2452c-9d6b-47f5-9616-9a6833312762&quot;\n    }, {\n        &quot;value&quot;: {\n            &quot;gamesPlayed&quot;: 0,\n            &quot;name&quot;: &quot;Kamil&quot;,\n            &quot;elo&quot;: 2000,\n            &quot;uuid&quot;: &quot;1bb43d73-3f94-40fc-a680-99f4a9304001&quot;,\n            &quot;email&quot;: &quot;kamilll11223344@gmail.com&quot;\n        },\n        &quot;key&quot;: &quot;8526db7c-6930-45bf-9ae1-fb93e97ff4ba&quot;\n    }\n]\n</code></pre>\n<p>do you have any simple solutions to do this ?</p>\n"},{"tags":["java","validation","selenium","field"],"comments":[{"owner":{"account_id":3630053,"reputation":491,"user_id":3054794,"accept_rate":25,"display_name":"Girish Bellamkonda"},"score":0,"creation_date":1482836852,"post_id":41342643,"comment_id":69889985,"body_markdown":"Provide the URL for the site","body":"Provide the URL for the site"},{"owner":{"account_id":449958,"reputation":1,"user_id":5939781,"display_name":"Hendi Ravasia"},"score":0,"creation_date":1482891797,"post_id":41342643,"comment_id":69910974,"body_markdown":"Hi Girish, i cannot provide the URL since the app is still on development on local server. Thank you","body":"Hi Girish, i cannot provide the URL since the app is still on development on local server. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":3037545,"reputation":6288,"user_id":2575259,"accept_rate":88,"display_name":"Naveen Kumar R B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482904304,"creation_date":1482838145,"answer_id":41344354,"question_id":41342643,"body_markdown":"If the element is not inside a `iframe`, then you can directly try as follows:\r\n\r\n    String emailId  = driver.findElement(By.id(&quot;email&quot;)).getText()  \r\n    // write string equals login here comparing emailId that is captured and the one you want to compare to.\r\n\r\nif not, first find the `iframe`and switch to it and then use above code to find the element. More detailed answer related to switching b/w frame is [here][1] \r\n\r\n\r\n----------\r\n**Finding the elements in the Pop-up:**\r\n\r\nInstead of clicking on the `Locate Element` button (of Firebug) first, Right click on the element you want to find in the Pop-up, and select `Inspect with Firebug`, which gives the corresponding HTML code for the element.\r\n\r\n  [1]: https://stackoverflow.com/questions/40758138/in-selenium-web-driver-how-to-choose-the-correct-iframe","title":"Selenium WebDriver (Java) : Handle Field Validation Message","body":"<p>If the element is not inside a <code>iframe</code>, then you can directly try as follows:</p>\n\n<pre><code>String emailId  = driver.findElement(By.id(\"email\")).getText()  \n// write string equals login here comparing emailId that is captured and the one you want to compare to.\n</code></pre>\n\n<p>if not, first find the <code>iframe</code>and switch to it and then use above code to find the element. More detailed answer related to switching b/w frame is <a href=\"https://stackoverflow.com/questions/40758138/in-selenium-web-driver-how-to-choose-the-correct-iframe\">here</a> </p>\n\n<hr>\n\n<p><strong>Finding the elements in the Pop-up:</strong></p>\n\n<p>Instead of clicking on the <code>Locate Element</code> button (of Firebug) first, Right click on the element you want to find in the Pop-up, and select <code>Inspect with Firebug</code>, which gives the corresponding HTML code for the element.</p>\n"},{"tags":[],"owner":{"account_id":4290060,"reputation":411,"user_id":3506679,"accept_rate":30,"display_name":"Giri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482843568,"creation_date":1482843568,"answer_id":41345685,"question_id":41342643,"body_markdown":"From the scrrenshot it looks like a tooltip. Something like when we mouse over Google title in https://www.google.co.in/.\r\n\r\nTo verify tooltip we can get the attribute &#39;title&#39; and verify.\r\nExample : in https://www.google.co.in/. tooltip is placed in title attribute as below. \r\n\r\n&gt;  title=&quot;Google&quot;\r\n\r\n    &lt;div id=&quot;hplogo&quot; style=&quot;background-size:272px 92px;height:92px;width:272px&quot; title=&quot;Google&quot; onload=&quot;window.lol&amp;&amp;lol()&quot; align=&quot;left&quot;&gt;\r\n\r\n\r\nFor your scenario, the displayed tip message is available in &#39;oninvalid&#39; attribute as below. So get this attribute value and validate it.\r\n\r\n&gt; oninvalid=&quot;this.setCustomValidity(&#39;Email Cannot Be Empty&#39;)&quot;","title":"Selenium WebDriver (Java) : Handle Field Validation Message","body":"<p>From the scrrenshot it looks like a tooltip. Something like when we mouse over Google title in <a href=\"https://www.google.co.in/\" rel=\"nofollow noreferrer\">https://www.google.co.in/</a>.</p>\n\n<p>To verify tooltip we can get the attribute 'title' and verify.\nExample : in <a href=\"https://www.google.co.in/\" rel=\"nofollow noreferrer\">https://www.google.co.in/</a>. tooltip is placed in title attribute as below. </p>\n\n<blockquote>\n  <p>title=\"Google\"</p>\n</blockquote>\n\n<pre><code>&lt;div id=\"hplogo\" style=\"background-size:272px 92px;height:92px;width:272px\" title=\"Google\" onload=\"window.lol&amp;&amp;lol()\" align=\"left\"&gt;\n</code></pre>\n\n<p>For your scenario, the displayed tip message is available in 'oninvalid' attribute as below. So get this attribute value and validate it.</p>\n\n<blockquote>\n  <p>oninvalid=\"this.setCustomValidity('Email Cannot Be Empty')\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5187115,"reputation":2534,"user_id":4151175,"display_name":"Charles Owen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657307814,"creation_date":1657307814,"answer_id":72916065,"question_id":41342643,"body_markdown":"This is a bit late in the game but the way you get the custom validity message and not the generic one you have to call the reportValidity() event within JavaScript in Selenium.  You&#39;ll see a driver.executeScript() method and this is where you must call the reportValidity event on the element being validated.  This is how I did it:\r\n\r\n        wait.Until(SeleniumExtras.WaitHelpers.ExpectedConditions\r\n            .ElementToBeClickable(By.CssSelector(&quot;input#NewPassword.form-control&quot;)));\r\n        IWebElement input = driver.FindElement(By.CssSelector(&quot;input#NewPassword.form-control&quot;));\r\n        input.SendKeys(string.Empty);\r\n        IWebElement form = driver.FindElement(By.TagName(&quot;form&quot;));        \r\n        form.Submit();\r\n        driver.ExecuteScript(&quot;document.getElementById(&#39;NewPassword&#39;).reportValidity();&quot;);\r\n        Assert.AreEqual(&quot;New password required&quot;, input.GetAttribute(&quot;validationMessage&quot;)); ","title":"Selenium WebDriver (Java) : Handle Field Validation Message","body":"<p>This is a bit late in the game but the way you get the custom validity message and not the generic one you have to call the reportValidity() event within JavaScript in Selenium.  You'll see a driver.executeScript() method and this is where you must call the reportValidity event on the element being validated.  This is how I did it:</p>\n<pre><code>    wait.Until(SeleniumExtras.WaitHelpers.ExpectedConditions\n        .ElementToBeClickable(By.CssSelector(&quot;input#NewPassword.form-control&quot;)));\n    IWebElement input = driver.FindElement(By.CssSelector(&quot;input#NewPassword.form-control&quot;));\n    input.SendKeys(string.Empty);\n    IWebElement form = driver.FindElement(By.TagName(&quot;form&quot;));        \n    form.Submit();\n    driver.ExecuteScript(&quot;document.getElementById('NewPassword').reportValidity();&quot;);\n    Assert.AreEqual(&quot;New password required&quot;, input.GetAttribute(&quot;validationMessage&quot;)); \n</code></pre>\n"}],"owner":{"account_id":449958,"reputation":1,"user_id":5939781,"display_name":"Hendi Ravasia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1657307814,"creation_date":1482831626,"question_id":41342643,"body_markdown":"How to handle this kind of pop-up. My goal is to get the message when Submit button clicked then validate it againts my own text (maybe using assert). I&#39;ve tried to locate the element using firepath (xpath) but when i click locate Element button on firebug, the pop-up disappear.\r\n\r\nHere is the screenshot of the pop-up.\r\n\r\n[popUp][1]\r\n\r\n\r\nHere is the code :\r\n\r\n    &lt;p class=&quot;errors&quot;&gt;&lt;/p&gt;\r\n    &lt;input id=&quot;email&quot; class=&quot;form-control&quot; type=&quot;email&quot; value=&quot;&quot; name=&quot;email&quot; required=&quot;&quot; oninput=&quot;setCustomValidity(&#39;&#39;)&quot; oninvalid=&quot;this.setCustomValidity(&#39;Email Cannot Be Empty&#39;)&quot; placeholder=&quot;Email *&quot; data-placeholder=&quot;X&quot; data-format=&quot;&quot;&gt;\r\n\r\nThank you in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tOPFE.png","title":"Selenium WebDriver (Java) : Handle Field Validation Message","body":"<p>How to handle this kind of pop-up. My goal is to get the message when Submit button clicked then validate it againts my own text (maybe using assert). I've tried to locate the element using firepath (xpath) but when i click locate Element button on firebug, the pop-up disappear.</p>\n\n<p>Here is the screenshot of the pop-up.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tOPFE.png\" rel=\"nofollow noreferrer\">popUp</a></p>\n\n<p>Here is the code :</p>\n\n<pre><code>&lt;p class=\"errors\"&gt;&lt;/p&gt;\n&lt;input id=\"email\" class=\"form-control\" type=\"email\" value=\"\" name=\"email\" required=\"\" oninput=\"setCustomValidity('')\" oninvalid=\"this.setCustomValidity('Email Cannot Be Empty')\" placeholder=\"Email *\" data-placeholder=\"X\" data-format=\"\"&gt;\n</code></pre>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","list","hashmap"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1657288204,"post_id":72912217,"comment_id":128781683,"body_markdown":"Questioning design decisions aside (list of maps): `ExcelData.stream().flatMap(m -&gt; m.keySet().stream()).collect(Collectors.toList())` would grab all of the keys. You can add `#distinct` or use `Collectors.toSet()` if you want unique results.","body":"Questioning design decisions aside (list of maps): <code>ExcelData.stream().flatMap(m -&gt; m.keySet().stream()).collect(Collectors.toList())</code> would grab all of the keys. You can add <code>#distinct</code> or use <code>Collectors.toSet()</code> if you want unique results."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657288825,"creation_date":1657288825,"answer_id":72912558,"question_id":72912217,"body_markdown":"In addition to @Rogue&#39;s comment you can use method reference to make it readable:\r\n\r\n    String[] keys     = ExcelData.stream().map(Map::keySet).flatMap(Set::stream).toArray(String[]::new);\r\n    List&lt;String&gt; keyz = ExcelData.stream().map(Map::keySet).flatMap(Set::stream).collect(Collectors.toList());","title":"Getting Keys from a List of Map of Strings","body":"<p>In addition to @Rogue's comment you can use method reference to make it readable:</p>\n<pre><code>String[] keys     = ExcelData.stream().map(Map::keySet).flatMap(Set::stream).toArray(String[]::new);\nList&lt;String&gt; keyz = ExcelData.stream().map(Map::keySet).flatMap(Set::stream).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19537863,"reputation":64,"user_id":14296280,"display_name":"Josue Muleshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657307575,"creation_date":1657307575,"answer_id":72916024,"question_id":72912217,"body_markdown":"Try this    \r\n\r\n    ExcelData.forEach(item -&gt; \r\n            item.forEach((key, value) -&gt; System.out.println(key + &quot; -&gt; &quot; + value))\r\n    );","title":"Getting Keys from a List of Map of Strings","body":"<p>Try this</p>\n<pre><code>ExcelData.forEach(item -&gt; \n        item.forEach((key, value) -&gt; System.out.println(key + &quot; -&gt; &quot; + value))\n);\n</code></pre>\n"}],"owner":{"account_id":25746268,"reputation":11,"user_id":19499442,"display_name":"nithinc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657307575,"creation_date":1657287303,"question_id":72912217,"body_markdown":"How to get the keys from a list of Map of Strings?\r\nI have a list of map of strings \r\n      \r\n          List&lt;Map&lt;String, String&gt;&gt; ExcelData = new ArrayList&lt;&gt;();\r\n          Map&lt;String,String&gt; excelMap = new HashMap&lt;&gt;(); \r\n          excelMap.put(&quot;Flower&quot;,&quot;lily&quot;);\r\n          excelMap.put(&quot;Fruit&quot;,&quot;banana&quot;);\r\n          ExcelData.add(excelMap);\r\nIs there a way to get the keys of this list map in an string array? Thanks\r\n\r\n\r\n          \r\n\r\n\r\n","title":"Getting Keys from a List of Map of Strings","body":"<p>How to get the keys from a list of Map of Strings?\nI have a list of map of strings</p>\n<pre><code>      List&lt;Map&lt;String, String&gt;&gt; ExcelData = new ArrayList&lt;&gt;();\n      Map&lt;String,String&gt; excelMap = new HashMap&lt;&gt;(); \n      excelMap.put(&quot;Flower&quot;,&quot;lily&quot;);\n      excelMap.put(&quot;Fruit&quot;,&quot;banana&quot;);\n      ExcelData.add(excelMap);\n</code></pre>\n<p>Is there a way to get the keys of this list map in an string array? Thanks</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1657305833,"post_id":72915656,"comment_id":128787402,"body_markdown":"Making your UI work for different screen sizes means following a few best practices - you can learn about your options here: https://developer.android.com/guide/practices/screens_support But as far as dialogs go, someone&#39;s already done that work for you! https://developer.android.com/guide/topics/ui/dialogs#DialogFragment Just use an `AlertDialog` like in that example - if you scroll down they show you how to add custom content too, but you can still add the standard buttons. But if your buttons are inside the content (like arrows at the edges) then you&#39;ll need a layout that can adapt","body":"Making your UI work for different screen sizes means following a few best practices - you can learn about your options here: <a href=\"https://developer.android.com/guide/practices/screens_support\" rel=\"nofollow noreferrer\">developer.android.com/guide/practices/screens_support</a> But as far as dialogs go, someone&#39;s already done that work for you! <a href=\"https://developer.android.com/guide/topics/ui/dialogs#DialogFragment\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/dialogs#DialogFragment</a> Just use an <code>AlertDialog</code> like in that example - if you scroll down they show you how to add custom content too, but you can still add the standard buttons. But if your buttons are inside the content (like arrows at the edges) then you&#39;ll need a layout that can adapt"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1657305952,"post_id":72915656,"comment_id":128787449,"body_markdown":"oh you&#39;re already using one - might want to add your dialog layout XML and a pic of what it looks like on big and small screens too","body":"oh you&#39;re already using one - might want to add your dialog layout XML and a pic of what it looks like on big and small screens too"},{"owner":{"account_id":25761703,"reputation":1,"user_id":19512520,"display_name":"Cannon 190"},"score":0,"creation_date":1657306202,"post_id":72915656,"comment_id":128787524,"body_markdown":"@cactustictacs Alright, I just added the xml code too","body":"@cactustictacs Alright, I just added the xml code too"},{"owner":{"account_id":25761703,"reputation":1,"user_id":19512520,"display_name":"Cannon 190"},"score":0,"creation_date":1657306574,"post_id":72915656,"comment_id":128787614,"body_markdown":"@cactustictacs I tried using TextView instead of setMessage(), and added textView inside dialog.xml and that seems to fix the problem. I&#39;m wondering if there&#39;s a better way though","body":"@cactustictacs I tried using TextView instead of setMessage(), and added textView inside dialog.xml and that seems to fix the problem. I&#39;m wondering if there&#39;s a better way though"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1657307071,"post_id":72915656,"comment_id":128787744,"body_markdown":"Yeah there&#39;s a little diagram here: https://developer.android.com/guide/topics/ui/dialogs#AlertDialog basically the title is at the top, the buttons are at the bottom, and the middle bit is the *content area*. `setMessage` is a quick way to get a dialog with a `TextView` in the content area, but if you&#39;re setting your own layout in there, you can&#39;t have both. It shouldn&#39;t break though (I&#39;d expect to see the last thing you added) but hey. You might want to try `MaterialAlertDialogBuilder` instead: https://material.io/components/dialogs/android#alert-dialog themed and might behave better?","body":"Yeah there&#39;s a little diagram here: <a href=\"https://developer.android.com/guide/topics/ui/dialogs#AlertDialog\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/dialogs#AlertDialog</a> basically the title is at the top, the buttons are at the bottom, and the middle bit is the <i>content area</i>. <code>setMessage</code> is a quick way to get a dialog with a <code>TextView</code> in the content area, but if you&#39;re setting your own layout in there, you can&#39;t have both. It shouldn&#39;t break though (I&#39;d expect to see the last thing you added) but hey. You might want to try <code>MaterialAlertDialogBuilder</code> instead: <a href=\"https://material.io/components/dialogs/android#alert-dialog\" rel=\"nofollow noreferrer\">material.io/components/dialogs/android#alert-dialog</a> themed and might behave better?"},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1657369139,"post_id":72915656,"comment_id":128796904,"body_markdown":"@Cannon190 create a custom layout for small devices.","body":"@Cannon190 create a custom layout for small devices."}],"owner":{"account_id":25761703,"reputation":1,"user_id":19512520,"display_name":"Cannon 190"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657307517,"creation_date":1657305337,"question_id":72915656,"body_markdown":"I&#39;m trying to show a tutorial when user runs the app for the first time, by using dialog boxes. However, the &quot;back&quot; and &quot;next&quot; buttons aren&#39;t visible on smaller screens and/or resolutions, so the user can&#39;t proceed with the tutorial.\r\nI tried making the dialog box a ScrollView but it didn&#39;t help, buttons are still invisible. What&#39;s the best way to resolve this? Thanks in advance!\r\nEDIT: here&#39;s an example of the first dialog shown to user:\r\n\r\n    AlertDialog.Builder w1 = new AlertDialog.Builder(this);\r\n        LayoutInflater w1Inflater = LayoutInflater.from(this);\r\n        View w1Layout = w1Inflater.inflate(R.layout.dialog, null);\r\n        ImageView image1 = (ImageView) w1Layout.findViewById(R.id.my_image);\r\n        image1.setImageResource(R.drawable.ic_launcher);\r\n        w1.setView(w1Layout);\r\n        w1.setTitle(&quot;Welcome&quot;);\r\n        w1.setMessage(Html.fromHtml(&quot;Before you start using the app, get familiar with the User Interface!&quot;));\r\n        w1.setCancelable(false);\r\n        w1.setPositiveButton(&quot;Next&quot;, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                switch3();\r\n                num = 3;\r\n                ((ViewGroup)w1Layout.getParent()).removeView(w1Layout);\r\n            }\r\n        });\r\n\r\nAnd here&#39;s the dialog.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/my_image&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;","title":"Dialog box buttons not visible on smaller screens and resolutions?","body":"<p>I'm trying to show a tutorial when user runs the app for the first time, by using dialog boxes. However, the &quot;back&quot; and &quot;next&quot; buttons aren't visible on smaller screens and/or resolutions, so the user can't proceed with the tutorial.\nI tried making the dialog box a ScrollView but it didn't help, buttons are still invisible. What's the best way to resolve this? Thanks in advance!\nEDIT: here's an example of the first dialog shown to user:</p>\n<pre><code>AlertDialog.Builder w1 = new AlertDialog.Builder(this);\n    LayoutInflater w1Inflater = LayoutInflater.from(this);\n    View w1Layout = w1Inflater.inflate(R.layout.dialog, null);\n    ImageView image1 = (ImageView) w1Layout.findViewById(R.id.my_image);\n    image1.setImageResource(R.drawable.ic_launcher);\n    w1.setView(w1Layout);\n    w1.setTitle(&quot;Welcome&quot;);\n    w1.setMessage(Html.fromHtml(&quot;Before you start using the app, get familiar with the User Interface!&quot;));\n    w1.setCancelable(false);\n    w1.setPositiveButton(&quot;Next&quot;, new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int which) {\n            switch3();\n            num = 3;\n            ((ViewGroup)w1Layout.getParent()).removeView(w1Layout);\n        }\n    });\n</code></pre>\n<p>And here's the dialog.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;ImageView\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:id=&quot;@+id/my_image&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1657307266,"post_id":72915476,"comment_id":128787805,"body_markdown":"Note: `Callable` doesn&#39;t _do_ anything. The `call()` method that _you_ wrote does something when it is called by the thread pool. Maybe it throws an exception, in which case, the thread pool will catch the exception and store it in the `Future` that it created when you submitted your task. See my answer, below for more detail.","body":"Note: <code>Callable</code> doesn&#39;t <i>do</i> anything. The <code>call()</code> method that <i>you</i> wrote does something when it is called by the thread pool. Maybe it throws an exception, in which case, the thread pool will catch the exception and store it in the <code>Future</code> that it created when you submitted your task. See my answer, below for more detail."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657307409,"creation_date":1657306799,"answer_id":72915896,"question_id":72915476,"body_markdown":"If a `Callable` task, `c`, that you `submit` to a thread pool throws any `Throwable` object, `th`, then `th` will be stored in the `Future` object, `f`, that was returned by the `submit(c)` call. A subsequent call to `f.get()` will then throw an `ExecutionException`, `exex`, and you can call `exex.getCause()` to obtain the original `Throwable`, `th`.\r\n\r\nYour example calls `service.invokeAll(tasks)`, which returns a list of `Future` objects, but you do not bother to save the list.\r\n\r\nTry this:\r\n\r\n``` lang-java\r\nList&lt;Future&lt;ResultType&gt;&gt; futures = new ArrayList&lt;&gt;();\r\ntry {\r\n    ...\r\n    futures = service.invokeAll(tasks);\r\n}\r\ncatch (...) {\r\n    ...\r\n}\r\n\r\n...optionally do something else before awaiting results...\r\n\r\nfor (Future&lt;ResultType&gt; future : futures) {\r\n    try {\r\n        ResultType result = future.get();\r\n        ...do something with result...\r\n    }\r\n    catch (ExecutionException ex) {\r\n        Throwable originalException = ex.getCause();\r\n        ...do something with originalException...\r\n    }\r\n}\r\n```\r\n\r\nNote: `ResultType` is a proxy for whatever your `Callable` tasks return. I am not sure what type that should be, since in your example, the only value returned is `null`.  Maybe `ResultType` should just be `Object`.","title":"How does Callable return or deal with exceptions?","body":"<p>If a <code>Callable</code> task, <code>c</code>, that you <code>submit</code> to a thread pool throws any <code>Throwable</code> object, <code>th</code>, then <code>th</code> will be stored in the <code>Future</code> object, <code>f</code>, that was returned by the <code>submit(c)</code> call. A subsequent call to <code>f.get()</code> will then throw an <code>ExecutionException</code>, <code>exex</code>, and you can call <code>exex.getCause()</code> to obtain the original <code>Throwable</code>, <code>th</code>.</p>\n<p>Your example calls <code>service.invokeAll(tasks)</code>, which returns a list of <code>Future</code> objects, but you do not bother to save the list.</p>\n<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Future&lt;ResultType&gt;&gt; futures = new ArrayList&lt;&gt;();\ntry {\n    ...\n    futures = service.invokeAll(tasks);\n}\ncatch (...) {\n    ...\n}\n\n...optionally do something else before awaiting results...\n\nfor (Future&lt;ResultType&gt; future : futures) {\n    try {\n        ResultType result = future.get();\n        ...do something with result...\n    }\n    catch (ExecutionException ex) {\n        Throwable originalException = ex.getCause();\n        ...do something with originalException...\n    }\n}\n</code></pre>\n<p>Note: <code>ResultType</code> is a proxy for whatever your <code>Callable</code> tasks return. I am not sure what type that should be, since in your example, the only value returned is <code>null</code>.  Maybe <code>ResultType</code> should just be <code>Object</code>.</p>\n"}],"owner":{"account_id":12002339,"reputation":83,"user_id":8781761,"display_name":"Cris Manrique"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72915896,"answer_count":1,"score":1,"last_activity_date":1657307409,"creation_date":1657304294,"question_id":72915476,"body_markdown":"Im trying to throw an exception in one of the processes under ```tasks.add``` (the exception occurs in ```paymentDao,savePayment()``` method) , but that exception never shows up in my logs even though I see the thrown exception line being reached in the debugger. I expected the exception to be caught in one of the below catches but it never reaches there. Can someone explain how callable treats an exception that occurs within one of the tasks\r\n\r\n```\r\nprivate final ExecutorService service = Executors.newFixedThreadPool(100,namedThreadFactory);\r\nList&lt;Callable&lt;Object&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n\r\n    try {\r\n      if (cacheService.isPayment(\r\n          (PaidPending) logProcessor.getCache().asMap().get(fileName), fileName)) {\r\n        tasks.add(\r\n            () -&gt; {\r\n              long startTime = System.currentTimeMillis();\r\n              paymentDao.savePayment(paymentR, fileName);\r\n              log.info(\r\n                  &quot;Time taken by savePaymentSummary Key {} : {}&quot;,\r\n                  key,\r\n                  System.currentTimeMillis() - startTime);\r\n              return null;\r\n            });\r\n      service.invokeAll(tasks);\r\n\r\n    } catch (InterruptedException e) {\r\n        Thread.currentThread().interrupt();\r\n        throw new CustomException(&quot;Failed to insert payment &quot; , e);\r\n    } catch (CustomeException e) {\r\n        log.error(&quot;Error here {}&quot;, e);\r\n        throw new CustomException(&quot;Failed to fetch Payment&quot;, e);\r\n    }\r\n\r\n```\r\n\r\n","title":"How does Callable return or deal with exceptions?","body":"<p>Im trying to throw an exception in one of the processes under <code>tasks.add</code> (the exception occurs in <code>paymentDao,savePayment()</code> method) , but that exception never shows up in my logs even though I see the thrown exception line being reached in the debugger. I expected the exception to be caught in one of the below catches but it never reaches there. Can someone explain how callable treats an exception that occurs within one of the tasks</p>\n<pre><code>private final ExecutorService service = Executors.newFixedThreadPool(100,namedThreadFactory);\nList&lt;Callable&lt;Object&gt;&gt; tasks = new ArrayList&lt;&gt;();\n\n    try {\n      if (cacheService.isPayment(\n          (PaidPending) logProcessor.getCache().asMap().get(fileName), fileName)) {\n        tasks.add(\n            () -&gt; {\n              long startTime = System.currentTimeMillis();\n              paymentDao.savePayment(paymentR, fileName);\n              log.info(\n                  &quot;Time taken by savePaymentSummary Key {} : {}&quot;,\n                  key,\n                  System.currentTimeMillis() - startTime);\n              return null;\n            });\n      service.invokeAll(tasks);\n\n    } catch (InterruptedException e) {\n        Thread.currentThread().interrupt();\n        throw new CustomException(&quot;Failed to insert payment &quot; , e);\n    } catch (CustomeException e) {\n        log.error(&quot;Error here {}&quot;, e);\n        throw new CustomException(&quot;Failed to fetch Payment&quot;, e);\n    }\n\n</code></pre>\n"},{"tags":["java","special-characters"],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1306087486,"creation_date":1306087486,"answer_id":6089769,"question_id":6089758,"body_markdown":"That looks like an ANSI video escape sequence to turn bold mode on. Are you sure that the server is sending back a JSON object?","title":"How to remove string &quot;\\u001b[1m&quot; in java","body":"<p>That looks like an ANSI video escape sequence to turn bold mode on. Are you sure that the server is sending back a JSON object?</p>\n"},{"tags":[],"owner":{"account_id":250666,"reputation":3622,"user_id":527531,"display_name":"david van brink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306087642,"creation_date":1306087642,"answer_id":6089781,"question_id":6089758,"body_markdown":"Make sure you know what&#39;s actually in the string -- try examining (and maybe printing) it character by character using `someString.charAt()`.\r\n\r\nAnd, `String newString = someString.replaceAll(oldexp);` is one of many ways you might try to &quot;fix&quot; it, if it turns out that&#39;s needed.\r\n","title":"How to remove string &quot;\\u001b[1m&quot; in java","body":"<p>Make sure you know what's actually in the string -- try examining (and maybe printing) it character by character using <code>someString.charAt()</code>.</p>\n\n<p>And, <code>String newString = someString.replaceAll(oldexp);</code> is one of many ways you might try to \"fix\" it, if it turns out that's needed.</p>\n"},{"tags":[],"owner":{"account_id":363391,"reputation":219556,"user_id":707111,"accept_rate":100,"display_name":"Ry-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306087683,"creation_date":1306087683,"answer_id":6089783,"question_id":6089758,"body_markdown":"That&#39;s an escape sequence, and I think it&#39;s used to turn on formatting in some things like the Terminal. Is that really supposed to be JSON? What&#39;s the rest of the text? Does that escape sequence come as plain text or as one character?","title":"How to remove string &quot;\\u001b[1m&quot; in java","body":"<p>That's an escape sequence, and I think it's used to turn on formatting in some things like the Terminal. Is that really supposed to be JSON? What's the rest of the text? Does that escape sequence come as plain text or as one character?</p>\n"},{"tags":[],"owner":{"account_id":326953,"reputation":21,"user_id":649008,"display_name":"Foubar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462147773,"creation_date":1462147773,"answer_id":36973425,"question_id":6089758,"body_markdown":"During the development of an SSH program that also utilizes command line mysql commands, I created the following regex that I strip these sequences with:\r\n\r\n    \\u001b[\\[\\(]([0-9];[0-9]|\\?[0-9]+)?[Bmh]\r\n\r\nIt covers the ranges that I have run into issues with","title":"How to remove string &quot;\\u001b[1m&quot; in java","body":"<p>During the development of an SSH program that also utilizes command line mysql commands, I created the following regex that I strip these sequences with:</p>\n\n<pre><code>\\u001b[\\[\\(]([0-9];[0-9]|\\?[0-9]+)?[Bmh]\n</code></pre>\n\n<p>It covers the ranges that I have run into issues with</p>\n"},{"tags":[],"owner":{"account_id":25587610,"reputation":1,"user_id":19365088,"display_name":"Dmitry Budakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657307242,"creation_date":1657307242,"answer_id":72915968,"question_id":6089758,"body_markdown":"```\r\nsed  -E &#39;s/\\\\u001b\\[[0-9][0-9]?m//g&#39;\r\n```","title":"How to remove string &quot;\\u001b[1m&quot; in java","body":"<pre><code>sed  -E 's/\\\\u001b\\[[0-9][0-9]?m//g'\n</code></pre>\n"}],"owner":{"account_id":227768,"reputation":1433,"user_id":489631,"accept_rate":65,"display_name":"Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3058,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1657307242,"creation_date":1306087355,"question_id":6089758,"body_markdown":"After I receive a content response of the server, and print the content to console and I realize existing of the string &quot;\\u001b[1m&quot;, and I think it&#39;s the reason I can&#39;t parse the conte tresponse as a JSON object.\r\n\r\nAnd I want to remove the string, any solution?","title":"How to remove string &quot;\\u001b[1m&quot; in java","body":"<p>After I receive a content response of the server, and print the content to console and I realize existing of the string \"\\u001b[1m\", and I think it's the reason I can't parse the conte tresponse as a JSON object.</p>\n\n<p>And I want to remove the string, any solution?</p>\n"},{"tags":["java","multithreading","discord-jda"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656861946,"post_id":72847628,"comment_id":128669670,"body_markdown":"Does this answer your question? [Interaction has already been acknowledged](https://stackoverflow.com/questions/71702161/interaction-has-already-been-acknowledged)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71702161/interaction-has-already-been-acknowledged\">Interaction has already been acknowledged</a>"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1656864469,"post_id":72847628,"comment_id":128670219,"body_markdown":"The code you provided has nothing to do with the exception.","body":"The code you provided has nothing to do with the exception."},{"owner":{"account_id":20215662,"reputation":3,"user_id":14826558,"display_name":"Hamish Burke"},"score":0,"creation_date":1656905302,"post_id":72847628,"comment_id":128676688,"body_markdown":"Doesn’t it? I’m not sure what causes this error","body":"Doesn’t it? I’m not sure what causes this error"}],"answers":[{"tags":[],"owner":{"account_id":21036905,"reputation":67,"user_id":15460157,"display_name":"Yusuf.I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657306886,"creation_date":1657306886,"answer_id":72915922,"question_id":72847628,"body_markdown":"In essence you have already replied for example and you are trying to reply again which throws the error and there is not enough info from the code you provided. ","title":"This interaction has already been acknowledged","body":"<p>In essence you have already replied for example and you are trying to reply again which throws the error and there is not enough info from the code you provided.</p>\n"}],"owner":{"account_id":20215662,"reputation":3,"user_id":14826558,"display_name":"Hamish Burke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72915922,"answer_count":1,"score":0,"last_activity_date":1657306886,"creation_date":1656861267,"question_id":72847628,"body_markdown":"I&#39;m creating a discord bot that I use multi-threading to update an ArrayList every few minutes. The first &#39;update&#39; works correctly with no error, though every update afterwards I get the error: \r\n\r\n    [JDA MainWS-ReadThread] ERROR RestAction - RestAction queue returned failure\r\n    java.lang.IllegalStateException: This interaction has already been acknowledgdge an interaction once!\r\nI&#39;m creating the threads in `Multithread.java` which says:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n            // Create a new bot\r\n            Thread startApp = new Thread(new App());\r\n            \r\n            // Start the thread\r\n            startApp.start();\r\n    \r\n            // Create new thread for updating\r\n            new App();\r\n            Thread updateTeams  = new Thread(App.updateAll());\r\n            updateTeams.start();\r\n    \r\n        }\r\n\r\nThe ArrayList that i&#39;m updating (OCETeams) is in App.java and is public and static.\r\n\r\n\r\nIn `App.java`, I have the following methods that relate to this: \r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                System.out.println(&quot;Starting.............&quot;);\r\n                initialize();\r\n            } catch (LoginException | ParseException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        // For the &#39;updating&#39; thread    \r\n        public static Runnable updateAll() {\r\n            Timer timer = new Timer();\r\n            timer.schedule(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        System.out.println(&quot;Updating all&quot;);\r\n                        OCETeams = getOCETeams();\r\n                        System.out.println(&quot;OCE teams updated&quot;);\r\n                    } catch (ParseException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                \r\n            } , 0, 60000 * 20);\r\n    \r\n            return null;\r\n        }\r\n\r\n","title":"This interaction has already been acknowledged","body":"<p>I'm creating a discord bot that I use multi-threading to update an ArrayList every few minutes. The first 'update' works correctly with no error, though every update afterwards I get the error:</p>\n<pre><code>[JDA MainWS-ReadThread] ERROR RestAction - RestAction queue returned failure\njava.lang.IllegalStateException: This interaction has already been acknowledgdge an interaction once!\n</code></pre>\n<p>I'm creating the threads in <code>Multithread.java</code> which says:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n        // Create a new bot\n        Thread startApp = new Thread(new App());\n        \n        // Start the thread\n        startApp.start();\n\n        // Create new thread for updating\n        new App();\n        Thread updateTeams  = new Thread(App.updateAll());\n        updateTeams.start();\n\n    }\n</code></pre>\n<p>The ArrayList that i'm updating (OCETeams) is in App.java and is public and static.</p>\n<p>In <code>App.java</code>, I have the following methods that relate to this:</p>\n<pre><code>    @Override\n    public void run() {\n        try {\n            System.out.println(&quot;Starting.............&quot;);\n            initialize();\n        } catch (LoginException | ParseException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    // For the 'updating' thread    \n    public static Runnable updateAll() {\n        Timer timer = new Timer();\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                try {\n                    System.out.println(&quot;Updating all&quot;);\n                    OCETeams = getOCETeams();\n                    System.out.println(&quot;OCE teams updated&quot;);\n                } catch (ParseException e) {\n                    e.printStackTrace();\n                }\n            }\n            \n        } , 0, 60000 * 20);\n\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","conditional-operator"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1590616788,"post_id":62053456,"comment_id":109751380,"body_markdown":"The behaviour of the [tag:conditional-operator] doesn&#39;t have anything to do with [tag:recursive-datastructures]. Tag accurately and not indiscriminately. Don&#39;t post pictures of text here.","body":"The behaviour of the <a href=\"https://stackoverflow.com/questions/tagged/conditional-operator\">conditional-operator</a> doesn&#39;t have anything to do with <a href=\"https://stackoverflow.com/questions/tagged/recursive-datastructures\">recursive-datastructures</a>. Tag accurately and not indiscriminately. Don&#39;t post pictures of text here."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1590617657,"post_id":62053456,"comment_id":109751691,"body_markdown":"@user It doesn&#39;t have anything to do with [tag:recursion] either. The OP&#39;s code might have to do with recursion, but the operator doesn&#39;t.","body":"@user It doesn&#39;t have anything to do with <a href=\"https://stackoverflow.com/questions/tagged/recursion\">recursion</a> either. The OP&#39;s code might have to do with recursion, but the operator doesn&#39;t."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1590617825,"post_id":62053456,"comment_id":109751741,"body_markdown":"@pkm You posted pictures of your program. Your program is text. Post the text directly. Making the picture and posting that is a complete waste of your time and our bandwidth.","body":"@pkm You posted pictures of your program. Your program is text. Post the text directly. Making the picture and posting that is a complete waste of your time and our bandwidth."}],"answers":[{"tags":[],"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1590617920,"creation_date":1590616693,"answer_id":62053572,"question_id":62053456,"body_markdown":"```\r\nint res = one \r\n        + num1&lt;3 &amp;&amp; num2&lt;7 ? two:0;\r\n```\r\nis equivalent to\r\n```\r\nint res = (((one + num1) &lt; 3) &amp;&amp; (num2 &lt; 7)) ? two : 0;\r\n```\r\nEverything before `?` is included in the boolean expression, since the ternary/conditional operator has the lowest precedence here (not including the assignment operator) and `+` has the highest.\r\n\r\nThe order goes something like:\r\n\r\n- `+`, so `one + num1` is put together first\r\n- `&lt;`, so now there&#39;s `(one + num1) &lt; 3` and `num2 &lt; 7`\r\n- `&amp;&amp;`, after which you have `((one + num1) &lt; 3) &amp;&amp; (num2 &lt; 7)`\r\n- and *finally* `?:`\r\n\r\nYou seem to be expecting the newline to make the compiler think `one` and `num1&lt;3 &amp;&amp; num2&lt;7 ? two:0` are separate, but it actually just ignores all whitespace. Putting the parentheses there is the only way to make sure `one` is added to the whatever the conditional operator evaluates to.\r\n```\r\nint res = one + (num1 &lt; 3 &amp;&amp; num2 &lt; 7 ? two : 0);\r\n```","title":"Java: weird behavior of conditional operator","body":"<pre><code>int res = one \n        + num1&lt;3 &amp;&amp; num2&lt;7 ? two:0;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>int res = (((one + num1) &lt; 3) &amp;&amp; (num2 &lt; 7)) ? two : 0;\n</code></pre>\n\n<p>Everything before <code>?</code> is included in the boolean expression, since the ternary/conditional operator has the lowest precedence here (not including the assignment operator) and <code>+</code> has the highest.</p>\n\n<p>The order goes something like:</p>\n\n<ul>\n<li><code>+</code>, so <code>one + num1</code> is put together first</li>\n<li><code>&lt;</code>, so now there's <code>(one + num1) &lt; 3</code> and <code>num2 &lt; 7</code></li>\n<li><code>&amp;&amp;</code>, after which you have <code>((one + num1) &lt; 3) &amp;&amp; (num2 &lt; 7)</code></li>\n<li>and <em>finally</em> <code>?:</code></li>\n</ul>\n\n<p>You seem to be expecting the newline to make the compiler think <code>one</code> and <code>num1&lt;3 &amp;&amp; num2&lt;7 ? two:0</code> are separate, but it actually just ignores all whitespace. Putting the parentheses there is the only way to make sure <code>one</code> is added to the whatever the conditional operator evaluates to.</p>\n\n<pre><code>int res = one + (num1 &lt; 3 &amp;&amp; num2 &lt; 7 ? two : 0);\n</code></pre>\n"}],"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1657306708,"creation_date":1590616208,"question_id":62053456,"body_markdown":"I have a very simple java class to solve Decode ways using recursive approach. I am seeing this weird behavior of conditional operator, \r\n```\r\npackage decodeways;\r\n\r\npublic class Solution {\r\n  public static void main(String[] args) {\r\n    System.out.println(numDecodings(&quot;1456&quot;));\r\n  }\r\n  \r\n  public static int numDecodings(String s) {\r\n    if(s.length()&gt;0 &amp;&amp; s.charAt(0)==&#39;0&#39;) \r\n      return 0;\r\n    if(s.length()==0) return 1;\r\n    if(s.length()==1)\r\n      return 1;\r\n    \r\n    int num1 = s.charAt(0)-&#39;0&#39;;\r\n    int num2 = s.charAt(1)-&#39;0&#39;;\r\n    int one = numDecodings(s.substring(1));\r\n    int two = s.length()&gt;1?numDecodings(s.substring(2)):0;\r\n    int res = one \r\n        + num1&lt;3 &amp;&amp; num2&lt;7 ? two:0;\r\n    return res;\r\n  }\r\n}\r\n```\r\nif I put a parentheses, ```(num1&lt;3 &amp;&amp; num2&lt;7 ? two:0) ``` then everything is well and good but if I remove the parentheses, then getting incorrect results.\r\n\r\nduring the process of debugging, **one** will be computed to 1 and **two** will be computed to 1 and **res** will be 1 as well with parentheses but without it, the computed result of res will be 0 (screnshot attached) which is the source of error.\r\n[![enter image description here][1]][1]\r\nI am aware of the operator precedence in java, but in this situation I can&#39;t figure out why it shows incorrect behavior, because in the below code:\r\n```\r\nint res = one \r\n        + num1&lt;3 &amp;&amp; num2&lt;7 ? two:0;\r\n```\r\none + num1&lt;3 is illegal\r\nSo, java is intelligent enough to not confuse between (one + num1&lt;3) and (num2&lt;7 ? two:0) to be consider separately.\r\nSo, as per my understanding the only legal observable behavior for java compiler is to automatically consider ```num1&lt;3 &amp;&amp; num2&lt;7 ? two:0``` as an atomic operation(Please correct me if I am wrong), irrespective of parentheses is available or not. \r\n\r\nPlease guide me to have a better understanding.\r\n\r\nThanks. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/50YIS.png","title":"Java: weird behavior of conditional operator","body":"<p>I have a very simple java class to solve Decode ways using recursive approach. I am seeing this weird behavior of conditional operator,</p>\n<pre><code>package decodeways;\n\npublic class Solution {\n  public static void main(String[] args) {\n    System.out.println(numDecodings(&quot;1456&quot;));\n  }\n  \n  public static int numDecodings(String s) {\n    if(s.length()&gt;0 &amp;&amp; s.charAt(0)=='0') \n      return 0;\n    if(s.length()==0) return 1;\n    if(s.length()==1)\n      return 1;\n    \n    int num1 = s.charAt(0)-'0';\n    int num2 = s.charAt(1)-'0';\n    int one = numDecodings(s.substring(1));\n    int two = s.length()&gt;1?numDecodings(s.substring(2)):0;\n    int res = one \n        + num1&lt;3 &amp;&amp; num2&lt;7 ? two:0;\n    return res;\n  }\n}\n</code></pre>\n<p>if I put a parentheses, <code>(num1&lt;3 &amp;&amp; num2&lt;7 ? two:0) </code> then everything is well and good but if I remove the parentheses, then getting incorrect results.</p>\n<p>during the process of debugging, <strong>one</strong> will be computed to 1 and <strong>two</strong> will be computed to 1 and <strong>res</strong> will be 1 as well with parentheses but without it, the computed result of res will be 0 (screnshot attached) which is the source of error.\n<a href=\"https://i.stack.imgur.com/50YIS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/50YIS.png\" alt=\"enter image description here\" /></a>\nI am aware of the operator precedence in java, but in this situation I can't figure out why it shows incorrect behavior, because in the below code:</p>\n<pre><code>int res = one \n        + num1&lt;3 &amp;&amp; num2&lt;7 ? two:0;\n</code></pre>\n<p>one + num1&lt;3 is illegal\nSo, java is intelligent enough to not confuse between (one + num1&lt;3) and (num2&lt;7 ? two:0) to be consider separately.\nSo, as per my understanding the only legal observable behavior for java compiler is to automatically consider <code>num1&lt;3 &amp;&amp; num2&lt;7 ? two:0</code> as an atomic operation(Please correct me if I am wrong), irrespective of parentheses is available or not.</p>\n<p>Please guide me to have a better understanding.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","testing","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":10336690,"reputation":3527,"user_id":7624566,"display_name":"K. B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657306377,"creation_date":1657306377,"answer_id":72915833,"question_id":72915486,"body_markdown":"I am not using Mockito. It depends what you mean by empty response, It may be empty string, empty array or something else.\r\nYou could try with something like this:\r\n\r\n    when(employeeRepository.findEmployeeByName(NAME_1)).thenReturn(&quot;&quot;);\r\n    when(employeeRepository.findEmployeeByName(NAME_1)).thenReturn(&quot;{}&quot;);","title":"Is it possible to mock an empty response body in Mockito","body":"<p>I am not using Mockito. It depends what you mean by empty response, It may be empty string, empty array or something else.\nYou could try with something like this:</p>\n<pre><code>when(employeeRepository.findEmployeeByName(NAME_1)).thenReturn(&quot;&quot;);\nwhen(employeeRepository.findEmployeeByName(NAME_1)).thenReturn(&quot;{}&quot;);\n</code></pre>\n"}],"owner":{"account_id":10755913,"reputation":149,"user_id":9597736,"display_name":"Brian "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657306377,"creation_date":1657304346,"question_id":72915486,"body_markdown":"I am new to both writing tests and Mockito. I am trying to mock a call to an api which in one case is expected to return an empty response body. I can&#39;t seem to find a way to make this possible.\r\n\r\n\r\nI am searching by name, through a database ```employeeRepository```. I am passing in a name which doesn&#39;t exist, so an empty response body is returned and I am not sure how to represent that. This is what I have so far without knowing what to put in ```thenReturn()```:\r\n\r\n\r\n```when(employeeRepository.findEmployeeByName(NAME_1)).thenReturn();``` \r\n\r\nThanks","title":"Is it possible to mock an empty response body in Mockito","body":"<p>I am new to both writing tests and Mockito. I am trying to mock a call to an api which in one case is expected to return an empty response body. I can't seem to find a way to make this possible.</p>\n<p>I am searching by name, through a database <code>employeeRepository</code>. I am passing in a name which doesn't exist, so an empty response body is returned and I am not sure how to represent that. This is what I have so far without knowing what to put in <code>thenReturn()</code>:</p>\n<p><code>when(employeeRepository.findEmployeeByName(NAME_1)).thenReturn();</code></p>\n<p>Thanks</p>\n"},{"tags":["java","database","sorting"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1657306012,"post_id":72915735,"comment_id":128787471,"body_markdown":"Why do you want them to be sorted?","body":"Why do you want them to be sorted?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657307144,"post_id":72915735,"comment_id":128787766,"body_markdown":"On that original Question, see especially [this Answer](https://stackoverflow.com/a/23846961/642706).","body":"On that original Question, see especially <a href=\"https://stackoverflow.com/a/23846961/642706\">this Answer</a>."},{"owner":{"display_name":"user14074829"},"score":0,"creation_date":1657307808,"post_id":72915735,"comment_id":128787957,"body_markdown":"@ValerijDobler to keep the highest scored players, so it would be easier to display stats","body":"@ValerijDobler to keep the highest scored players, so it would be easier to display stats"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657306191,"creation_date":1657306191,"answer_id":72915805,"question_id":72915735,"body_markdown":"You could use a TreeSet, it maintains a sorting by itself and has a low overhead when sorting after each insert.\r\n\r\nAlternatively you could utilize a database management system like MySQL or PostgreSQL, and retrieve the top 10 entries after every insert.","title":"Best way to keep a highscore map and sort by value","body":"<p>You could use a TreeSet, it maintains a sorting by itself and has a low overhead when sorting after each insert.</p>\n<p>Alternatively you could utilize a database management system like MySQL or PostgreSQL, and retrieve the top 10 entries after every insert.</p>\n"},{"tags":[],"owner":{"account_id":10298429,"reputation":307,"user_id":9311987,"display_name":"user699848"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657306231,"creation_date":1657306231,"answer_id":72915811,"question_id":72915735,"body_markdown":"You can use a PriorityQueue Or a TreeSet with custom comparator for the same.\r\n","title":"Best way to keep a highscore map and sort by value","body":"<p>You can use a PriorityQueue Or a TreeSet with custom comparator for the same.</p>\n"}],"owner":{"display_name":"user14074829"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1657307081,"answer_count":2,"score":1,"last_activity_date":1657306231,"creation_date":1657305778,"question_id":72915735,"body_markdown":"I need to create a highscore system for all players in a game and keep a track of sorted scores for each player.\r\nPlayers have their own UUIDs assigned, and their score must be stored in long values (it varies from small numbers to billions).\r\n\r\nCurrently, my implementation would sort the map every time a new score is entered (old scores are overridden by same user) and saves into a LinkedHashMap. Is there a more efficient way to handle this? \r\n","title":"Best way to keep a highscore map and sort by value","body":"<p>I need to create a highscore system for all players in a game and keep a track of sorted scores for each player.\nPlayers have their own UUIDs assigned, and their score must be stored in long values (it varies from small numbers to billions).</p>\n<p>Currently, my implementation would sort the map every time a new score is entered (old scores are overridden by same user) and saves into a LinkedHashMap. Is there a more efficient way to handle this?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":375393,"reputation":113,"user_id":726202,"display_name":"dodoconr"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657223562,"creation_date":1657223562,"answer_id":72903513,"question_id":72903475,"body_markdown":"If you are using jpa and spring, why not use the `PaginationRepository` from Spring?\r\n\r\nhttps://www.baeldung.com/spring-data-jpa-pagination-sorting","title":"How do you implement pagination with a result set from a stored procedure?","body":"<p>If you are using jpa and spring, why not use the <code>PaginationRepository</code> from Spring?</p>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-pagination-sorting\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-pagination-sorting</a></p>\n"},{"tags":[],"owner":{"account_id":13689867,"reputation":66,"user_id":9877961,"display_name":"Jelly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657274838,"creation_date":1657274838,"answer_id":72909822,"question_id":72903475,"body_markdown":"You can convert your List to a Page by using the [PageImpl](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html) constructor(s). If you want an unpaged Page all you have to do is the following:\r\n\r\n    Page&lt;SearchResult&gt; searchResultsPage = new PageImpl&lt;&gt;(searchResults);\r\n\r\nIf you want an actual paged result you&#39;ll also need a pageable and total records count. The conversion would then look like this:\r\n\r\n    Page&lt;SearchResult&gt; searchResultsPage = new PageImpl&lt;&gt;(searchResults, pageable, count);\r\n\r\nA pageable can be created by using [PageRequest](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html):\r\n\r\n    var pageable = PageRequest.of(pageNumber, pageSize, sort); ","title":"How do you implement pagination with a result set from a stored procedure?","body":"<p>You can convert your List to a Page by using the <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html\" rel=\"nofollow noreferrer\">PageImpl</a> constructor(s). If you want an unpaged Page all you have to do is the following:</p>\n<pre><code>Page&lt;SearchResult&gt; searchResultsPage = new PageImpl&lt;&gt;(searchResults);\n</code></pre>\n<p>If you want an actual paged result you'll also need a pageable and total records count. The conversion would then look like this:</p>\n<pre><code>Page&lt;SearchResult&gt; searchResultsPage = new PageImpl&lt;&gt;(searchResults, pageable, count);\n</code></pre>\n<p>A pageable can be created by using <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html\" rel=\"nofollow noreferrer\">PageRequest</a>:</p>\n<pre><code>var pageable = PageRequest.of(pageNumber, pageSize, sort); \n</code></pre>\n"}],"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72909822,"answer_count":2,"score":1,"last_activity_date":1657305906,"creation_date":1657223341,"question_id":72903475,"body_markdown":"I&#39;m using Spring Boot and Thymeleaf to set up a support ticketing system - currently working on the search functionality to search for existing tickets. Per business decision, certain business logic will be on the database, so we&#39;re using SQL stored procedures to populate our models rather than connecting directly to a table. I got the search functionality to work - now I&#39;m working on paging the results.\r\n\r\nHere is what I have: \r\n\r\nController\r\n\r\n    @Autowired\r\n\tprivate SearchResultTestService searchResultTestService;\r\n\t\r\n\t@GetMapping(&quot;/searchresultstest&quot;)\r\n\tpublic String searchResultsTest(Model model) {\t\r\n\t\tint pageSize = 5;\r\n\t\t\r\n\t\tPage&lt;SearchResult&gt; page = searchResultTestService.findPaginated(1, pageSize, &quot;requestnumber&quot;, &quot;asc&quot;);\r\n\t\tList&lt;SearchResult&gt; listSearchResult = page.getContent();\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;listSearchResult&quot;, listSearchResult);\r\n\t\t\r\n\t\treturn &quot;searchresultstest&quot;;\r\n\t}\r\n\r\nSearchResultTestService\r\n\r\n        @Service\r\n    public interface SearchResultTestService {\r\n    \t\r\n    \tPage&lt;SearchResult&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection);\r\n    }\r\n    \r\nSearchResultTestServiceImpl\r\n    \r\n            @Service\r\n        public class SearchResultTestServiceImpl implements SearchResultTestService{\r\n        \t\r\n        \t@Autowired\r\n        \tprivate SearchResultTestRepository searchResultTestRepo;\r\n        \t\r\n        \t@Override\r\n        \tpublic Page&lt;SearchResult&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection) {\r\n        \t\tSort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\r\n        \t\t\tSort.by(sortField).descending();\r\n        \t\t\t\t\r\n        \t\tPageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\r\n        \t\treturn this.searchResultTestRepo.findAll(pageable);\r\n        \t} \r\n        \r\n        }\r\n\r\nSearchResultTestRepository \r\n\r\n    @Repository\r\n    public interface SearchResultTestRepository extends JpaRepository&lt;SearchResult, Long&gt;{\r\n    \r\n    }\r\n\r\nSearchResult (model)\r\n\r\n    @Entity\r\n    //Map the columns returned from the stored procedure to the constructor\r\n    @SqlResultSetMapping(name = &quot;SearchResult&quot;,\r\n    \tclasses = @ConstructorResult(targetClass = SearchResult.class,\r\n    \t\tcolumns = {@ColumnResult(name = &quot;requestnumber&quot;, type = Integer.class),\r\n    \t\t\t@ColumnResult(name = &quot;status&quot;, type = String.class),\r\n    \t\t\t@ColumnResult(name = &quot;assignedto&quot;, type = String.class),\r\n    \t\t\t@ColumnResult(name = &quot;opendate&quot;, type = String.class),\r\n    \t\t\t@ColumnResult(name = &quot;customer&quot;, type = String.class),\r\n    \t\t\t@ColumnResult(name = &quot;description&quot;, type = String.class)\r\n    \t\t})\r\n    \t)\t\r\n    public class SearchResult {\r\n    \t@Id\r\n    \tprivate int requestnumber;\r\n    \tprivate String status;\r\n    \tprivate String assignedto;\r\n    \tprivate String opendate;\r\n    \tprivate String customer;\r\n    \tprivate String description;\r\n    \t\r\n    \t//Constructor (must be in same order as mapping above)\r\n    \tpublic SearchResult(int requestnumber, String status, String assignedto, String opendate, String customer,\r\n    \t\t\tString description) {\r\n    \t\tthis.requestnumber = requestnumber;\r\n    \t\tthis.status = status;\r\n    \t\tthis.assignedto = assignedto;\r\n    \t\tthis.opendate = opendate;\r\n    \t\tthis.customer = customer;\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \t/* getters */\r\n    }\r\n\r\nAnd here is the actual chunk of code that calls the stored procedure: \r\n\r\n    PersistenceContext\r\n    private EntityManager entityManager;\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic List&lt;SearchResult&gt; getSearchResults(){\r\n\t\t\r\n\t\t\r\n\t\t//Create list to hold all of the individual values (rows) returned by the query\r\n\t\tList&lt;SearchResult&gt; searchResults = new ArrayList&lt;&gt;();\r\n\t\t\t\t\t\t\r\n\t\t//Set up a call to the stored procedure\r\n\t\tStoredProcedureQuery query = entityManager.createStoredProcedureQuery(&quot;sc_app_test&quot;, &quot;SearchResult&quot;);\r\n\t\t\t\t\t\t\r\n\t\ttry {\r\n\t\t\t//Execute the query and store the results\r\n\t\t\tquery.execute();\r\n\t\t\tsearchResults = query.getResultList();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\t//Cleanup\r\n\t\t\t\tquery.unwrap(ProcedureOutputs.class).release();\r\n\t\t\t} catch(Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\r\n\t\t//Return the List of options\r\n\t\treturn searchResults;\r\n\t}\r\n\r\nI am struggling to figure out where this last chunk of code is supposed to go in order to best get the pagination to work. Does this go in the service or in a repository? How does the &quot;findAll()&quot; method work when the model isn&#39;t tied to directly to a table? \r\n\r\n**Solution**\r\n\r\nThe solution ended up being converting the list into a page as suggested below. This is the final &quot;findPaginated&quot; function:\r\n\r\n    @Service\r\n    public class SearchResultServiceImpl implements SearchResultService{\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SearchResultRepository searchResultRepo;\r\n    \t\r\n    \t@Override\r\n    \tpublic PagedListHolder&lt;SearchResult&gt; findPaginated(SearchParameters searchParameters, int pageNo, int pageSize, String sortField, boolean ascending) {\t\t\r\n    \t\t//Get the results of the search from the repo\r\n    \t\tList&lt;SearchResult&gt; searchResults = searchResultRepo.getSearchResults(searchParameters);\t\r\n    \t\t\r\n    \t\t//Convert list into a list of pages\r\n    \t\tPagedListHolder&lt;SearchResult&gt; page = new PagedListHolder&lt;SearchResult&gt;(searchResults);\r\n    \t\t\r\n    \t\t//Set our sort, page size, and page number\r\n    \t\tpage.setSort(new MutableSortDefinition(sortField, true, ascending));\r\n    \t\tpage.setPageSize(pageSize);\r\n    \t\tpage.setPage(pageNo-1);\t\r\n    \t\t\r\n    \t\t//Return just the results for the page\r\n    \t\treturn page;\r\n    \t} \r\n    \r\n    }\r\n\r\nAnd the modification to the Controller:\r\n\r\n    \r\n    PagedListHolder&lt;SearchResult&gt; page = searchResultService.findPaginated(searchParameters, pageNo,\r\n        \t\t\t\tUtil.MAX_SEARCH_RESULTS_PER_PAGE, sortColumn, (sortDir.equals(&quot;desc&quot;) ? false : true));\r\n        \r\n     model.addAttribute(&quot;searchResultList&quot;, page.getPageList());\r\n\r\nThe code to get the actual search results was moved into the repo.","title":"How do you implement pagination with a result set from a stored procedure?","body":"<p>I'm using Spring Boot and Thymeleaf to set up a support ticketing system - currently working on the search functionality to search for existing tickets. Per business decision, certain business logic will be on the database, so we're using SQL stored procedures to populate our models rather than connecting directly to a table. I got the search functionality to work - now I'm working on paging the results.</p>\n<p>Here is what I have:</p>\n<p>Controller</p>\n<pre><code>@Autowired\nprivate SearchResultTestService searchResultTestService;\n\n@GetMapping(&quot;/searchresultstest&quot;)\npublic String searchResultsTest(Model model) {  \n    int pageSize = 5;\n    \n    Page&lt;SearchResult&gt; page = searchResultTestService.findPaginated(1, pageSize, &quot;requestnumber&quot;, &quot;asc&quot;);\n    List&lt;SearchResult&gt; listSearchResult = page.getContent();\n    \n    model.addAttribute(&quot;listSearchResult&quot;, listSearchResult);\n    \n    return &quot;searchresultstest&quot;;\n}\n</code></pre>\n<p>SearchResultTestService</p>\n<pre><code>    @Service\npublic interface SearchResultTestService {\n    \n    Page&lt;SearchResult&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection);\n}\n</code></pre>\n<p>SearchResultTestServiceImpl</p>\n<pre><code>        @Service\n    public class SearchResultTestServiceImpl implements SearchResultTestService{\n        \n        @Autowired\n        private SearchResultTestRepository searchResultTestRepo;\n        \n        @Override\n        public Page&lt;SearchResult&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection) {\n            Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\n                Sort.by(sortField).descending();\n                    \n            Pageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\n            return this.searchResultTestRepo.findAll(pageable);\n        } \n    \n    }\n</code></pre>\n<p>SearchResultTestRepository</p>\n<pre><code>@Repository\npublic interface SearchResultTestRepository extends JpaRepository&lt;SearchResult, Long&gt;{\n\n}\n</code></pre>\n<p>SearchResult (model)</p>\n<pre><code>@Entity\n//Map the columns returned from the stored procedure to the constructor\n@SqlResultSetMapping(name = &quot;SearchResult&quot;,\n    classes = @ConstructorResult(targetClass = SearchResult.class,\n        columns = {@ColumnResult(name = &quot;requestnumber&quot;, type = Integer.class),\n            @ColumnResult(name = &quot;status&quot;, type = String.class),\n            @ColumnResult(name = &quot;assignedto&quot;, type = String.class),\n            @ColumnResult(name = &quot;opendate&quot;, type = String.class),\n            @ColumnResult(name = &quot;customer&quot;, type = String.class),\n            @ColumnResult(name = &quot;description&quot;, type = String.class)\n        })\n    )   \npublic class SearchResult {\n    @Id\n    private int requestnumber;\n    private String status;\n    private String assignedto;\n    private String opendate;\n    private String customer;\n    private String description;\n    \n    //Constructor (must be in same order as mapping above)\n    public SearchResult(int requestnumber, String status, String assignedto, String opendate, String customer,\n            String description) {\n        this.requestnumber = requestnumber;\n        this.status = status;\n        this.assignedto = assignedto;\n        this.opendate = opendate;\n        this.customer = customer;\n        this.description = description;\n    }\n\n    /* getters */\n}\n</code></pre>\n<p>And here is the actual chunk of code that calls the stored procedure:</p>\n<pre><code>PersistenceContext\nprivate EntityManager entityManager;\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic List&lt;SearchResult&gt; getSearchResults(){\n    \n    \n    //Create list to hold all of the individual values (rows) returned by the query\n    List&lt;SearchResult&gt; searchResults = new ArrayList&lt;&gt;();\n                    \n    //Set up a call to the stored procedure\n    StoredProcedureQuery query = entityManager.createStoredProcedureQuery(&quot;sc_app_test&quot;, &quot;SearchResult&quot;);\n                    \n    try {\n        //Execute the query and store the results\n        query.execute();\n        searchResults = query.getResultList();\n    } finally {\n        try {\n            //Cleanup\n            query.unwrap(ProcedureOutputs.class).release();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }       \n\n    //Return the List of options\n    return searchResults;\n}\n</code></pre>\n<p>I am struggling to figure out where this last chunk of code is supposed to go in order to best get the pagination to work. Does this go in the service or in a repository? How does the &quot;findAll()&quot; method work when the model isn't tied to directly to a table?</p>\n<p><strong>Solution</strong></p>\n<p>The solution ended up being converting the list into a page as suggested below. This is the final &quot;findPaginated&quot; function:</p>\n<pre><code>@Service\npublic class SearchResultServiceImpl implements SearchResultService{\n    \n    @Autowired\n    private SearchResultRepository searchResultRepo;\n    \n    @Override\n    public PagedListHolder&lt;SearchResult&gt; findPaginated(SearchParameters searchParameters, int pageNo, int pageSize, String sortField, boolean ascending) {      \n        //Get the results of the search from the repo\n        List&lt;SearchResult&gt; searchResults = searchResultRepo.getSearchResults(searchParameters); \n        \n        //Convert list into a list of pages\n        PagedListHolder&lt;SearchResult&gt; page = new PagedListHolder&lt;SearchResult&gt;(searchResults);\n        \n        //Set our sort, page size, and page number\n        page.setSort(new MutableSortDefinition(sortField, true, ascending));\n        page.setPageSize(pageSize);\n        page.setPage(pageNo-1); \n        \n        //Return just the results for the page\n        return page;\n    } \n\n}\n</code></pre>\n<p>And the modification to the Controller:</p>\n<pre><code>PagedListHolder&lt;SearchResult&gt; page = searchResultService.findPaginated(searchParameters, pageNo,\n                    Util.MAX_SEARCH_RESULTS_PER_PAGE, sortColumn, (sortDir.equals(&quot;desc&quot;) ? false : true));\n    \n model.addAttribute(&quot;searchResultList&quot;, page.getPageList());\n</code></pre>\n<p>The code to get the actual search results was moved into the repo.</p>\n"},{"tags":["java","string","eclipse","groovy","formatting"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1650784195,"post_id":71985901,"comment_id":127200308,"body_markdown":"What problem exactly are you having doing this? Please read [ask].","body":"What problem exactly are you having doing this? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":25072575,"reputation":1,"user_id":18926293,"display_name":"Karthik"},"score":0,"creation_date":1650786741,"post_id":71985901,"comment_id":127200669,"body_markdown":"Edited with more details.","body":"Edited with more details."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1650788342,"post_id":71985901,"comment_id":127200952,"body_markdown":"what `groovy` tag is doing here if you are looking for java code?","body":"what <code>groovy</code> tag is doing here if you are looking for java code?"},{"owner":{"account_id":13259080,"reputation":236,"user_id":9574235,"display_name":"Abhishek Singh"},"score":0,"creation_date":1650791501,"post_id":71985901,"comment_id":127201544,"body_markdown":"I will recommend using a stack to solve this problem. Here link to the issue it&#39;s not the same but will be helpful. https://www.geeksforgeeks.org/check-for-balanced-parentheses-in-an-expression/","body":"I will recommend using a stack to solve this problem. Here link to the issue it&#39;s not the same but will be helpful. <a href=\"https://www.geeksforgeeks.org/check-for-balanced-parentheses-in-an-expression/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1650893654,"post_id":71985901,"comment_id":127224182,"body_markdown":"&quot;There can be variations to the above format with the number of inner conditions and operators&quot; - Do any of the operators contain multiple characters and can an operator contain any of these characters (`(),[]`)?","body":"&quot;There can be variations to the above format with the number of inner conditions and operators&quot; - Do any of the operators contain multiple characters and can an operator contain any of these characters (<code>(),[]</code>)?"},{"owner":{"account_id":25072575,"reputation":1,"user_id":18926293,"display_name":"Karthik"},"score":0,"creation_date":1650983461,"post_id":71985901,"comment_id":127250050,"body_markdown":"@JeffScottBrown - Possibly yes. I am trying a approach with Stack as suggested above. I am open to other approaches too.","body":"@JeffScottBrown - Possibly yes. I am trying a approach with Stack as suggested above. I am open to other approaches too."}],"owner":{"account_id":25072575,"reputation":1,"user_id":18926293,"display_name":"Karthik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657305389,"creation_date":1650780075,"question_id":71985901,"body_markdown":"I have a string like this \r\n\r\n    String s = &quot;[![(ASK,NO)|(ASK,YES)]&amp;[[(TIME,A)&amp;(TIME,B)]&amp;![JAZ,A]]&quot;;\r\n\r\nI want to format this to the below format.\r\n\r\n    (ASK != &quot;No&quot; || ASK != &quot;Yes&quot;) &amp;&amp; (TIME == &quot;A&quot; &amp;&amp; TIME == &quot;B&quot;) &amp;&amp; (JAZ != &quot;A&quot;)\r\n\r\nThere can be variations to the above format with the number of inner conditions and operators. Any suggestions on how to implement this in Java so that the formatting happens dynamically.\r\n\r\n```\r\nString s = &quot;[![(ASK,NO)|(ASK,YES)]&amp;[[(TIME,A)&amp;(TIME,B)]&amp;![JAZ,A]]&quot;;\r\n\r\nStringBuilder sb = new StringBuilder();\r\nMatcher m = Pattern.compile(&quot;\\\\[(.*?)\\\\]&quot;).matcher(s);\r\n\r\nwhile (m.find()) {\r\n\tint innerCount = 1;\r\n\tSystem.out.println(m.group(1));\r\n\r\n\tif(m.group(1).contains(&quot;(&quot;) &amp;&amp; m.group(1).contains(&quot;)&quot;)) {\r\n\t\tMatcher mx = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;).matcher(m.group(1));\r\n\t\tsb.append(&quot;(&quot;);\r\n\r\n\t\twhile (mx.find()) {\r\n\t\t\tif(innerCount&gt;1) {\r\n                if(m.group(1).charAt((m.group(1).indexOf(&quot;)&quot;)+1))==&#39;&amp;&#39;) \r\n\t\t\t\t\tsb.append(&quot;&amp;&amp;&quot;);\r\n\t\t\t\telse\r\n\t\t\t\t\tsb.append(&quot;||&quot;);\r\n\t\t}\r\n\t\t\t\t\t\r\n\t\tString[] splitString = mx.group(1).split(&quot;,&quot;);\r\n\t\tsb.append(&quot;request.feature.&quot;);\r\n\t\tsb.append(splitString[0]);\r\n\r\n\t\tif(m.group(1).contains(&quot;!&quot;)) \r\n\t\t\tsb.append(&quot;!=&quot;);\r\n\t\telse\r\n\t\t\tsb.append(&quot;==&quot;);\r\n\r\n\t\tsb.append(&quot;\\&quot;&quot;);\r\n\t\tsb.append(splitString[1]);\r\n\t\tsb.append(&quot;\\&quot;&quot;);\r\n\r\n\t\tinnerCount++;\r\n\t\t\t\t\r\n\t\tsb.append(&quot;)&quot;);\r\n\t}\r\n}\r\nelse\r\n{\r\n\tsb.append(&quot;(&quot;);\r\n\tString[] splitString = m.group(1).split(&quot;,&quot;);\r\n\tsb.append(&quot;request.feature.&quot;);\r\n\tsb.append(splitString[0]);\r\n\r\n\tif(m.group(1).contains(&quot;!&quot;)) \r\n\t\tsb.append(&quot;!=&quot;);\r\n\telse\r\n\t\tsb.append(&quot;==&quot;);\r\n\r\n\tsb.append(&quot;\\&quot;&quot;);\r\n\tsb.append(splitString[1]);\r\n\tsb.append(&quot;\\&quot;&quot;);\r\n\tsb.append(&quot;)&quot;);\r\n}\r\n}\r\nSystem.out.println(sb);\r\n```\r\n\r\nThe above code is what i have so far. I want the output to be like \r\n(ASK != &quot;No&quot; || ASK != &quot;Yes&quot;) &amp;&amp; (TIME == &quot;A&quot; &amp;&amp; TIME == &quot;B&quot;) &amp;&amp; (JAZ != &quot;A&quot;)\r\n\r\nI am stuck in figuring out how to handle the logical operators.","title":"Format String to required format","body":"<p>I have a string like this</p>\n<pre><code>String s = &quot;[![(ASK,NO)|(ASK,YES)]&amp;[[(TIME,A)&amp;(TIME,B)]&amp;![JAZ,A]]&quot;;\n</code></pre>\n<p>I want to format this to the below format.</p>\n<pre><code>(ASK != &quot;No&quot; || ASK != &quot;Yes&quot;) &amp;&amp; (TIME == &quot;A&quot; &amp;&amp; TIME == &quot;B&quot;) &amp;&amp; (JAZ != &quot;A&quot;)\n</code></pre>\n<p>There can be variations to the above format with the number of inner conditions and operators. Any suggestions on how to implement this in Java so that the formatting happens dynamically.</p>\n<pre><code>String s = &quot;[![(ASK,NO)|(ASK,YES)]&amp;[[(TIME,A)&amp;(TIME,B)]&amp;![JAZ,A]]&quot;;\n\nStringBuilder sb = new StringBuilder();\nMatcher m = Pattern.compile(&quot;\\\\[(.*?)\\\\]&quot;).matcher(s);\n\nwhile (m.find()) {\n    int innerCount = 1;\n    System.out.println(m.group(1));\n\n    if(m.group(1).contains(&quot;(&quot;) &amp;&amp; m.group(1).contains(&quot;)&quot;)) {\n        Matcher mx = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;).matcher(m.group(1));\n        sb.append(&quot;(&quot;);\n\n        while (mx.find()) {\n            if(innerCount&gt;1) {\n                if(m.group(1).charAt((m.group(1).indexOf(&quot;)&quot;)+1))=='&amp;') \n                    sb.append(&quot;&amp;&amp;&quot;);\n                else\n                    sb.append(&quot;||&quot;);\n        }\n                    \n        String[] splitString = mx.group(1).split(&quot;,&quot;);\n        sb.append(&quot;request.feature.&quot;);\n        sb.append(splitString[0]);\n\n        if(m.group(1).contains(&quot;!&quot;)) \n            sb.append(&quot;!=&quot;);\n        else\n            sb.append(&quot;==&quot;);\n\n        sb.append(&quot;\\&quot;&quot;);\n        sb.append(splitString[1]);\n        sb.append(&quot;\\&quot;&quot;);\n\n        innerCount++;\n                \n        sb.append(&quot;)&quot;);\n    }\n}\nelse\n{\n    sb.append(&quot;(&quot;);\n    String[] splitString = m.group(1).split(&quot;,&quot;);\n    sb.append(&quot;request.feature.&quot;);\n    sb.append(splitString[0]);\n\n    if(m.group(1).contains(&quot;!&quot;)) \n        sb.append(&quot;!=&quot;);\n    else\n        sb.append(&quot;==&quot;);\n\n    sb.append(&quot;\\&quot;&quot;);\n    sb.append(splitString[1]);\n    sb.append(&quot;\\&quot;&quot;);\n    sb.append(&quot;)&quot;);\n}\n}\nSystem.out.println(sb);\n</code></pre>\n<p>The above code is what i have so far. I want the output to be like\n(ASK != &quot;No&quot; || ASK != &quot;Yes&quot;) &amp;&amp; (TIME == &quot;A&quot; &amp;&amp; TIME == &quot;B&quot;) &amp;&amp; (JAZ != &quot;A&quot;)</p>\n<p>I am stuck in figuring out how to handle the logical operators.</p>\n"},{"tags":["java","compiler-errors","set"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1657337571,"post_id":72915502,"comment_id":128792755,"body_markdown":"When a method or class seems to be missing, look at the *latest* version of Java for its Javadoc. That Javadoc has a “Since&quot; field showing the version of Java when that feature was added.","body":"When a method or class seems to be missing, look at the <i>latest</i> version of Java for its Javadoc. That Javadoc has a “Since&quot; field showing the version of Java when that feature was added."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657304674,"creation_date":1657304674,"answer_id":72915541,"question_id":72915502,"body_markdown":"This method was introduced in JDK 9. From the error message, it looks like you&#39;re using an older JDK. Upgrade to a newer one and you should be fine.","title":"How to fix Set.of() cannot find symbol: method of(String,String)?","body":"<p>This method was introduced in JDK 9. From the error message, it looks like you're using an older JDK. Upgrade to a newer one and you should be fine.</p>\n"}],"owner":{"account_id":18049123,"reputation":119,"user_id":13119267,"display_name":"MusicalChicken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72915541,"answer_count":1,"score":1,"last_activity_date":1657305102,"creation_date":1657304414,"question_id":72915502,"body_markdown":"I&#39;m trying to use `Set.of()` to create a set of string. Here is my import and code. I don&#39;t know why it always reports cannot find symbol:\r\n\r\n    import java.util.Set;\r\n    Set&lt;String&gt; existedFieldsValueList = Set.of(&quot;field1&quot;, &quot;field2&quot;);\r\n\r\nHere is the error log\r\n\r\n    [javac]     Set&lt;String&gt; existedFieldsValueList = Set.of(&quot;field1&quot;, &quot;field2&quot;);\r\n    [javac]                                             ^\r\n    [javac]   symbol:   method of(String,String)\r\n    [javac]   location: interface Set\r\n\r\nDid I miss anything?","title":"How to fix Set.of() cannot find symbol: method of(String,String)?","body":"<p>I'm trying to use <code>Set.of()</code> to create a set of string. Here is my import and code. I don't know why it always reports cannot find symbol:</p>\n<pre><code>import java.util.Set;\nSet&lt;String&gt; existedFieldsValueList = Set.of(&quot;field1&quot;, &quot;field2&quot;);\n</code></pre>\n<p>Here is the error log</p>\n<pre><code>[javac]     Set&lt;String&gt; existedFieldsValueList = Set.of(&quot;field1&quot;, &quot;field2&quot;);\n[javac]                                             ^\n[javac]   symbol:   method of(String,String)\n[javac]   location: interface Set\n</code></pre>\n<p>Did I miss anything?</p>\n"},{"tags":["java","arrays","permutation"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1657293913,"post_id":72913540,"comment_id":128783733,"body_markdown":"does `least occupied barracks` actually mean that `max-min&lt;=1`? if so, we need distribute soldiers equally across  barracks and them distribute the rest.","body":"does <code>least occupied barracks</code> actually mean that <code>max-min&lt;=1</code>? if so, we need distribute soldiers equally across  barracks and them distribute the rest."},{"owner":{"account_id":25556601,"reputation":1,"user_id":19340012,"display_name":"Talha Bin Fahim"},"score":0,"creation_date":1657295569,"post_id":72913540,"comment_id":128784258,"body_markdown":"Yes, I think so! As long as we equally divide soldiers across barracks it fills the least occupied condition. I&#39;m guessing i could say something like if count of barrack 1 &gt; count of barrack 2 -&gt; add to barrack 2 but i don&#39;t know to do that for n number of soldiers and barracks","body":"Yes, I think so! As long as we equally divide soldiers across barracks it fills the least occupied condition. I&#39;m guessing i could say something like if count of barrack 1 &gt; count of barrack 2 -&gt; add to barrack 2 but i don&#39;t know to do that for n number of soldiers and barracks"},{"owner":{"account_id":1019455,"reputation":5157,"user_id":1030243,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1657299132,"post_id":72913540,"comment_id":128785372,"body_markdown":"Just noting that the example code provided here is in Java, not JavaScript. @TalhaBinFahim, you might more of the right eyes on this question if you edit it to replace the &quot;Javascript&quot; tag with &quot;Java&quot;.","body":"Just noting that the example code provided here is in Java, not JavaScript. @TalhaBinFahim, you might more of the right eyes on this question if you edit it to replace the &quot;Javascript&quot; tag with &quot;Java&quot;."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657299193,"creation_date":1657298748,"answer_id":72914545,"question_id":72913540,"body_markdown":"Do you need to get result programmatically (via simulation), or you just need a result? \r\n\r\nMy idea:\r\n\r\n- Let `s=k*b + r`, then the amount of `equal` permutations would be `s!/((k!^b)*r!)`, the logic is:\r\n   - there are `s` options to select 1st soldier for the 1st barrack, `s-1` options to select 2nd soldier for the 1st barrack (or 1st soldier for the 2nd barrack), and `s*(s-1)*...*(r+1)` options in total, which is `s!/r!`\r\n   - now there are `k` soldiers in each barrack and we need to rid off duplicate permutations, so we divide by `(k!^b)`\r\n   - alternatively: `comb(s,k)` options to populate 1st barrack, `comb(s-k,k)` options to populate 2nd barrack, etc\r\n- now we need to multiply it on `b!/(b-r)!`, because: 1st of the remaining soldiers has `b` options to select barrack, 2nd - `b-1`, etc: `b*(b-1)*...*(b-r+1)=b!/(b-r)!`\r\n- and finally we need to divide by `(k+1)^r`: we got `(k+1)` duplicate permutations in `r` barracks.\r\n\r\nfinal formula:\r\n\r\n`s!b!/((k!^b)*r!*(b-r)!*((k+1)^r))`","title":"How to fill least occupied first after calculating total permutations (Not Homework)","body":"<p>Do you need to get result programmatically (via simulation), or you just need a result?</p>\n<p>My idea:</p>\n<ul>\n<li>Let <code>s=k*b + r</code>, then the amount of <code>equal</code> permutations would be <code>s!/((k!^b)*r!)</code>, the logic is:\n<ul>\n<li>there are <code>s</code> options to select 1st soldier for the 1st barrack, <code>s-1</code> options to select 2nd soldier for the 1st barrack (or 1st soldier for the 2nd barrack), and <code>s*(s-1)*...*(r+1)</code> options in total, which is <code>s!/r!</code></li>\n<li>now there are <code>k</code> soldiers in each barrack and we need to rid off duplicate permutations, so we divide by <code>(k!^b)</code></li>\n<li>alternatively: <code>comb(s,k)</code> options to populate 1st barrack, <code>comb(s-k,k)</code> options to populate 2nd barrack, etc</li>\n</ul>\n</li>\n<li>now we need to multiply it on <code>b!/(b-r)!</code>, because: 1st of the remaining soldiers has <code>b</code> options to select barrack, 2nd - <code>b-1</code>, etc: <code>b*(b-1)*...*(b-r+1)=b!/(b-r)!</code></li>\n<li>and finally we need to divide by <code>(k+1)^r</code>: we got <code>(k+1)</code> duplicate permutations in <code>r</code> barracks.</li>\n</ul>\n<p>final formula:</p>\n<p><code>s!b!/((k!^b)*r!*(b-r)!*((k+1)^r))</code></p>\n"}],"owner":{"account_id":25556601,"reputation":1,"user_id":19340012,"display_name":"Talha Bin Fahim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657304688,"creation_date":1657293378,"question_id":72913540,"body_markdown":"**The question is &quot;Can you consider the following perms / combs problem and write something in Javascript to provide a solution for given inputs: Soldiers on returning home choose to sleep in the least occupied barracks or, where multiple barracks are joint-least occupied, at random from among those. Write function that takes as inputs S, the number of soldiers, and B, the number of barracks, and returns the number of possible sleeping arrangements.&quot;\r\n\r\nI have found the total permutations possible. For e.g for 3 soldiers and 2 barracks the total arrangements possible are 6. However, the question requires me to only include soldiers in least occupied barrack so the correct answer is 4. I am not sure how to reflect that in my code. I assume i would use an IF function but I don&#39;t know if that is correct or how to use the correct syntax here. I would greatly appreciate any help!!**\r\n\r\nThis is the code I wrote to calculate total permutations\r\n\r\n    import java.util.Random;   \r\n    \r\n    public class Main {\r\n    \r\n    /**\r\n     * @param S The number of soldiers\r\n     * @param B The number of barracks\r\n     * @return Number of possible sleeping arrangements\r\n     */\r\n    static public long PossibleArrangements(int S, int B) {\r\n        /**\r\n         * The number of possible sleeping arrangements will be\r\n         * (https://imgur.com/gallery/Jrb9UUB)\r\n         * \r\n         * It is assumed the answer lies in a 64 bit integer, otherwise we will have to take modulo\r\n         */\r\n        \r\n        // No arrangments for 0 barracks\r\n        if(B==0)return 0;\r\n    \r\n        // precompute the factorial array\r\n        int n = Math.max(S, B);\r\n        long []fact = new long[n+1]; \r\n        fact[0]=1;\r\n        for(int i=1;i&lt;=n;i++){\r\n            fact[i]=fact[i-1]*i;\r\n        }\r\n    \r\n        // calculate result\r\n        long result=1;\r\n        result*=fact[S];\r\n        result*=fact[B];\r\n    \r\n        for(int i=0;i&lt;B;i++){\r\n            int add=0;\r\n            if(S%B &gt; i)add=1;\r\n            result/=fact[S/B+add];\r\n        }\r\n    \r\n        return result;\r\n    }\r\n    \r\n    \r\n    /** \r\n     * @return A random integer between 1 to 10\r\n     */\r\n    static public int getRandomNumber(){\r\n        Random random = new Random();\r\n        return random.nextInt(10)+1;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n        /**\r\n         * There will only be two arrangements possible for 2 soldiers and 2 barracks\r\n         */\r\n        System.out.println(PossibleArrangements(2,2));\r\n        /**\r\n         * There will be 6 arrangements possible for 3 soldiers and 2 barracks\r\n         * \r\n         *  S1-&gt;B1 , S2-&gt;B1 , S3-&gt;B2\r\n         *  S1-&gt;B1 , S2-&gt;B2 , S3-&gt;B1\r\n         *  S1-&gt;B2 , S2-&gt;B1 , S3-&gt;B1\r\n         *  S1-&gt;B2 , S2-&gt;B2 , S3-&gt;B1\r\n         *  S1-&gt;B2 , S2-&gt;B1 , S3-&gt;B2\r\n         *  S1-&gt;B1 , S2-&gt;B2 , S3-&gt;B2\r\n         */\r\n        System.out.println(PossibleArrangements(3,2));\r\n    \r\n        /**\r\n         * Possible arrangements for random number of Soldiers and Barracks\r\n         */\r\n        System.out.println(PossibleArrangements(getRandomNumber(),getRandomNumber()));\r\n    }\r\n    \r\n    }","title":"How to fill least occupied first after calculating total permutations (Not Homework)","body":"<p>**The question is &quot;Can you consider the following perms / combs problem and write something in Javascript to provide a solution for given inputs: Soldiers on returning home choose to sleep in the least occupied barracks or, where multiple barracks are joint-least occupied, at random from among those. Write function that takes as inputs S, the number of soldiers, and B, the number of barracks, and returns the number of possible sleeping arrangements.&quot;</p>\n<p>I have found the total permutations possible. For e.g for 3 soldiers and 2 barracks the total arrangements possible are 6. However, the question requires me to only include soldiers in least occupied barrack so the correct answer is 4. I am not sure how to reflect that in my code. I assume i would use an IF function but I don't know if that is correct or how to use the correct syntax here. I would greatly appreciate any help!!**</p>\n<p>This is the code I wrote to calculate total permutations</p>\n<pre><code>import java.util.Random;   \n\npublic class Main {\n\n/**\n * @param S The number of soldiers\n * @param B The number of barracks\n * @return Number of possible sleeping arrangements\n */\nstatic public long PossibleArrangements(int S, int B) {\n    /**\n     * The number of possible sleeping arrangements will be\n     * (https://imgur.com/gallery/Jrb9UUB)\n     * \n     * It is assumed the answer lies in a 64 bit integer, otherwise we will have to take modulo\n     */\n    \n    // No arrangments for 0 barracks\n    if(B==0)return 0;\n\n    // precompute the factorial array\n    int n = Math.max(S, B);\n    long []fact = new long[n+1]; \n    fact[0]=1;\n    for(int i=1;i&lt;=n;i++){\n        fact[i]=fact[i-1]*i;\n    }\n\n    // calculate result\n    long result=1;\n    result*=fact[S];\n    result*=fact[B];\n\n    for(int i=0;i&lt;B;i++){\n        int add=0;\n        if(S%B &gt; i)add=1;\n        result/=fact[S/B+add];\n    }\n\n    return result;\n}\n\n\n/** \n * @return A random integer between 1 to 10\n */\nstatic public int getRandomNumber(){\n    Random random = new Random();\n    return random.nextInt(10)+1;\n}\n\npublic static void main(String[] args) {\n\n    /**\n     * There will only be two arrangements possible for 2 soldiers and 2 barracks\n     */\n    System.out.println(PossibleArrangements(2,2));\n    /**\n     * There will be 6 arrangements possible for 3 soldiers and 2 barracks\n     * \n     *  S1-&gt;B1 , S2-&gt;B1 , S3-&gt;B2\n     *  S1-&gt;B1 , S2-&gt;B2 , S3-&gt;B1\n     *  S1-&gt;B2 , S2-&gt;B1 , S3-&gt;B1\n     *  S1-&gt;B2 , S2-&gt;B2 , S3-&gt;B1\n     *  S1-&gt;B2 , S2-&gt;B1 , S3-&gt;B2\n     *  S1-&gt;B1 , S2-&gt;B2 , S3-&gt;B2\n     */\n    System.out.println(PossibleArrangements(3,2));\n\n    /**\n     * Possible arrangements for random number of Soldiers and Barracks\n     */\n    System.out.println(PossibleArrangements(getRandomNumber(),getRandomNumber()));\n}\n\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1657301759,"post_id":72915022,"comment_id":128786148,"body_markdown":"The order you expect is simply the order of the constructor parameters. What would matter here is the order of the fields in the serialization (which may be the order of your fields in the class, or they may be manually specified elsewheres, not terribly familiar with Spring).","body":"The order you expect is simply the order of the constructor parameters. What would matter here is the order of the fields in the serialization (which may be the order of your fields in the class, or they may be manually specified elsewheres, not terribly familiar with Spring)."},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1657304158,"post_id":72915022,"comment_id":128786913,"body_markdown":"The title is not summarizing your issue: the list is in order (at Java object and at serialized JSON output) but the properties within each element are not ordered as you expected.","body":"The title is not summarizing your issue: the list is in order (at Java object and at serialized JSON output) but the properties within each element are not ordered as you expected."}],"answers":[{"tags":[],"owner":{"account_id":24812404,"reputation":34,"user_id":18693690,"display_name":"Nazareno Rodr&#237;guez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657301915,"creation_date":1657301915,"answer_id":72915070,"question_id":72915022,"body_markdown":"JSON is an unordered collection, as specified on https://www.json.org/json-en.html , so you don&#39;t have to worry about it. It might depend on library though.\r\n\r\n","title":"List is not in order","body":"<p>JSON is an unordered collection, as specified on <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">https://www.json.org/json-en.html</a> , so you don't have to worry about it. It might depend on library though.</p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657303889,"creation_date":1657303323,"answer_id":72915317,"question_id":72915022,"body_markdown":"### Specify the serialized order of properties\r\nThe order of properties during serialization can be defined in Jackson.\r\nEither at class-level specifically using annotation `@JsonPropertyOrder`.\r\nOr globally for your `ObjectMapper` using a feature: \r\n```java\r\nobjectMapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\r\n```\r\n### Example\r\nIn your case you can achieve **expected order** using the annotation on your class:\r\n```java\r\n@JsonPropertyOrder({&#39;id&#39;, &#39;firstName&#39;, &#39;lastName&#39;, &#39;email&#39;})\r\npublic class Student {\r\n  // body of your class\r\n}\r\n```\r\nOr separately with an **index** on your fields:\r\n```java\r\npublic class Student {\r\n  @JsonProperty(index=10) \r\n  private String id;\r\n\r\n  // not ordered specifically\r\n  private String firstName;\r\n  private String lastName;\r\n\r\n  @JsonProperty(index=20) \r\n  private String email;\r\n\r\n  // remainder of your class\r\n}\r\n```\r\n\r\n### See also\r\n\r\n* https://stackoverflow.com/questions/27577701/jackson-objectmapper-specify-serialization-order-of-object-properties\r\n* https://stackoverflow.com/questions/19272830/order-of-json-objects-using-jacksons-objectmapper\r\n* [Jackson JSON - Using @JsonPropertyOrder annotation to define serialized properties ordering](https://www.logicbig.com/tutorials/misc/jackson/json-property-order-annotation.html)","title":"List is not in order","body":"<h3>Specify the serialized order of properties</h3>\n<p>The order of properties during serialization can be defined in Jackson.\nEither at class-level specifically using annotation <code>@JsonPropertyOrder</code>.\nOr globally for your <code>ObjectMapper</code> using a feature:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\n</code></pre>\n<h3>Example</h3>\n<p>In your case you can achieve <strong>expected order</strong> using the annotation on your class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonPropertyOrder({'id', 'firstName', 'lastName', 'email'})\npublic class Student {\n  // body of your class\n}\n</code></pre>\n<p>Or separately with an <strong>index</strong> on your fields:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n  @JsonProperty(index=10) \n  private String id;\n\n  // not ordered specifically\n  private String firstName;\n  private String lastName;\n\n  @JsonProperty(index=20) \n  private String email;\n\n  // remainder of your class\n}\n</code></pre>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27577701/jackson-objectmapper-specify-serialization-order-of-object-properties\">Jackson ObjectMapper - specify serialization order of object properties</a></li>\n<li><a href=\"https://stackoverflow.com/questions/19272830/order-of-json-objects-using-jacksons-objectmapper\">Order of JSON objects using Jackson&#39;s ObjectMapper</a></li>\n<li><a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-property-order-annotation.html\" rel=\"nofollow noreferrer\">Jackson JSON - Using @JsonPropertyOrder annotation to define serialized properties ordering</a></li>\n</ul>\n"}],"owner":{"account_id":25760851,"reputation":11,"user_id":19511821,"display_name":"Zee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1657303889,"creation_date":1657301600,"question_id":72915022,"body_markdown":"I converted UUID to string (String id) and put the conversion inside a method.\r\n\r\nI also declared other String variables such as `FirstName` etc and put in on an `ArrayList`:\r\n![img2][2]\r\n\r\n\r\n### Code\r\nThe code does work. But I&#39;m confused why the string `email` was showing second on the list.\r\n\r\n```java\r\npublic class StudentController {\r\n    @Autowired\r\n    StudentService studentService = new StudentService();\r\n\r\n    @GetMapping\r\n    public List&lt;Student&gt; displayStudent(){\r\n        return studentService.getStudent();\r\n    }\r\n}\r\n\r\npublic class StudentService {\r\n    Student student = new Student();\r\n    private List&lt;Student&gt; studentList = Arrays.asList(\r\n        new Student(student.genID(),&quot;Elvis&quot; , &quot;Presley&quot; ,&quot;Elvis@gmail.com&quot;)\r\n    );\r\n    \r\n    public List&lt;Student&gt; getStudent(){\r\n        return studentList;\r\n    }\r\n}\r\n\r\npublic class Student {\r\n    UUID uuid = UUID.randomUUID();\r\n    private String id;\r\n    private String FirstName;\r\n    private String LastName;\r\n    private String email;\r\n\r\n    public Student() {}\r\n\r\n    //Method Converting UUID into string\r\n    public String genID(){\r\n        id = uuid.toString();\r\n        return id;\r\n    }\r\n\r\n    public Student(String id) {\r\n        this.id = id;\r\n    }\r\n    \r\n    public Student(String id, String firstName, String lastName, String email) {\r\n        this.id = id;\r\n        FirstName = firstName;\r\n        LastName = lastName;\r\n        this.email = email;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return FirstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        FirstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return LastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        LastName = lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n}\r\n```\r\n### Expected \r\nI expected data to be in this order \r\n\r\n&gt; ID , FirstName , LastName , email\r\n\r\n### Actual Output JSON\r\n![img1][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pkXCk.jpg\r\n  [2]: https://i.stack.imgur.com/kG4Y7.jpg\r\n","title":"List is not in order","body":"<p>I converted UUID to string (String id) and put the conversion inside a method.</p>\n<p>I also declared other String variables such as <code>FirstName</code> etc and put in on an <code>ArrayList</code>:\n<img src=\"https://i.stack.imgur.com/kG4Y7.jpg\" alt=\"img2\" /></p>\n<h3>Code</h3>\n<p>The code does work. But I'm confused why the string <code>email</code> was showing second on the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentController {\n    @Autowired\n    StudentService studentService = new StudentService();\n\n    @GetMapping\n    public List&lt;Student&gt; displayStudent(){\n        return studentService.getStudent();\n    }\n}\n\npublic class StudentService {\n    Student student = new Student();\n    private List&lt;Student&gt; studentList = Arrays.asList(\n        new Student(student.genID(),&quot;Elvis&quot; , &quot;Presley&quot; ,&quot;Elvis@gmail.com&quot;)\n    );\n    \n    public List&lt;Student&gt; getStudent(){\n        return studentList;\n    }\n}\n\npublic class Student {\n    UUID uuid = UUID.randomUUID();\n    private String id;\n    private String FirstName;\n    private String LastName;\n    private String email;\n\n    public Student() {}\n\n    //Method Converting UUID into string\n    public String genID(){\n        id = uuid.toString();\n        return id;\n    }\n\n    public Student(String id) {\n        this.id = id;\n    }\n    \n    public Student(String id, String firstName, String lastName, String email) {\n        this.id = id;\n        FirstName = firstName;\n        LastName = lastName;\n        this.email = email;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return FirstName;\n    }\n\n    public void setFirstName(String firstName) {\n        FirstName = firstName;\n    }\n\n    public String getLastName() {\n        return LastName;\n    }\n\n    public void setLastName(String lastName) {\n        LastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n}\n</code></pre>\n<h3>Expected</h3>\n<p>I expected data to be in this order</p>\n<blockquote>\n<p>ID , FirstName , LastName , email</p>\n</blockquote>\n<h3>Actual Output JSON</h3>\n<p><img src=\"https://i.stack.imgur.com/pkXCk.jpg\" alt=\"img1\" /></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1657303328,"post_id":72915215,"comment_id":128786658,"body_markdown":"Sure.  Save things into variables.  And use `!collection.isEmpty()` instead of `CollectionUtils.isNotEmpty()`.  If you have nulls, that&#39;s a bug, and you _should_ throw.","body":"Sure.  Save things into variables.  And use <code>!collection.isEmpty()</code> instead of <code>CollectionUtils.isNotEmpty()</code>.  If you have nulls, that&#39;s a bug, and you <i>should</i> throw."},{"owner":{"account_id":16253070,"reputation":335,"user_id":11736461,"display_name":"Nicolas Villacorta"},"score":0,"creation_date":1657304847,"post_id":72915215,"comment_id":128787085,"body_markdown":"Why you say that having a null is a bug?","body":"Why you say that having a null is a bug?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1657307614,"post_id":72915215,"comment_id":128787897,"body_markdown":"Why wouldn&#39;t it be?  There&#39;s almost never a good reason to have a null instead of an empty collection.  This code example demonstrates that you want to treat them the same, anyway.","body":"Why wouldn&#39;t it be?  There&#39;s almost never a good reason to have a null instead of an empty collection.  This code example demonstrates that you want to treat them the same, anyway."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657340092,"post_id":72915215,"comment_id":128792972,"body_markdown":"You aren&#39;t gaining anything by using &quot;null&quot; to represent things like &quot;no results present&quot;, and definitely the code becomes more complicated with lots of &quot;proceed only if results are not null&quot; checks. On the other hand, you can easily represent &quot;no results&quot; with an empty collection. And every caller can easily handle empty collection. For all things in collection, do my special xyz handling, doesn&#39;t matter if there are 1,000 things or 0; my xyz handling stays the same.","body":"You aren&#39;t gaining anything by using &quot;null&quot; to represent things like &quot;no results present&quot;, and definitely the code becomes more complicated with lots of &quot;proceed only if results are not null&quot; checks. On the other hand, you can easily represent &quot;no results&quot; with an empty collection. And every caller can easily handle empty collection. For all things in collection, do my special xyz handling, doesn&#39;t matter if there are 1,000 things or 0; my xyz handling stays the same."}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657303413,"creation_date":1657303413,"answer_id":72915331,"question_id":72915215,"body_markdown":"It can be simplified to this:\r\n\r\n    VariantOption option = CollectionUtils.isNotEmpty(e1.getElements()) ? \r\n                        e1.getElements().get(0).getVariantOption() : null;\r\n    \r\n    if (option != null &amp;&amp; CollectionUtils.isNotEmpty(option.getPointOfServices()))\r\n    {\r\n        option.getPointOfServices().sort(comparator);\r\n    }\r\n\r\nI assumed `getVariantOption` function to return an object of class `VariantOption`, but modify it accordingly.","title":"Is there a way to go through inner objects with less verbosity","body":"<p>It can be simplified to this:</p>\n<pre><code>VariantOption option = CollectionUtils.isNotEmpty(e1.getElements()) ? \n                    e1.getElements().get(0).getVariantOption() : null;\n\nif (option != null &amp;&amp; CollectionUtils.isNotEmpty(option.getPointOfServices()))\n{\n    option.getPointOfServices().sort(comparator);\n}\n</code></pre>\n<p>I assumed <code>getVariantOption</code> function to return an object of class <code>VariantOption</code>, but modify it accordingly.</p>\n"}],"owner":{"account_id":16253070,"reputation":335,"user_id":11736461,"display_name":"Nicolas Villacorta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72915331,"answer_count":1,"score":0,"last_activity_date":1657303413,"creation_date":1657302778,"question_id":72915215,"body_markdown":"I&#39;m needing to through some inner objects like this (I always need the index 0):\r\n\r\n    e1.getElements().get(0).getVariantOption().getPointOfServices().sort(comparator);\r\n\r\nI&#39;m checking all empty list and nulls with this piece of code.\r\n\r\n    if (CollectionUtils.isNotEmpty(e1.getElements()) &amp;&amp; e1.getElements().get(0).getVariantOption() != null &amp;&amp;\r\n\t\t\t\tCollectionUtils.isNotEmpty(e1.getElements().get(0).getVariantOption().getPointOfServices()))\r\n\t\t{\r\n\t\t\te1.getElements().get(0).getVariantOption().getPointOfServices().sort(comparator);\r\n\t\t}\r\n\r\nIs there a way in Java to reach this same without repeating all that times the e1.getElements...? I feel like this code is pretty verbose.","title":"Is there a way to go through inner objects with less verbosity","body":"<p>I'm needing to through some inner objects like this (I always need the index 0):</p>\n<pre><code>e1.getElements().get(0).getVariantOption().getPointOfServices().sort(comparator);\n</code></pre>\n<p>I'm checking all empty list and nulls with this piece of code.</p>\n<pre><code>if (CollectionUtils.isNotEmpty(e1.getElements()) &amp;&amp; e1.getElements().get(0).getVariantOption() != null &amp;&amp;\n            CollectionUtils.isNotEmpty(e1.getElements().get(0).getVariantOption().getPointOfServices()))\n    {\n        e1.getElements().get(0).getVariantOption().getPointOfServices().sort(comparator);\n    }\n</code></pre>\n<p>Is there a way in Java to reach this same without repeating all that times the e1.getElements...? I feel like this code is pretty verbose.</p>\n"},{"tags":["java","loops","object"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":7,"creation_date":1657303003,"post_id":72915201,"comment_id":128786547,"body_markdown":"i dont think so, but if you do need to refer to each Ticket separately, you could store the tickets in an arraylist or array, and refer to it using index","body":"i dont think so, but if you do need to refer to each Ticket separately, you could store the tickets in an arraylist or array, and refer to it using index"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1657303180,"post_id":72915201,"comment_id":128786612,"body_markdown":"right. A quick search gave me this link which says: no, you cant assign dynamic variable names. https://stackoverflow.com/q/6729605/16034206","body":"right. A quick search gave me this link which says: no, you cant assign dynamic variable names. <a href=\"https://stackoverflow.com/q/6729605/16034206\">stackoverflow.com/q/6729605/16034206</a>"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1657304694,"post_id":72915201,"comment_id":128787056,"body_markdown":"thats what arrays or other collections are for.","body":"thats what arrays or other collections are for."},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":1,"creation_date":1657306618,"post_id":72915201,"comment_id":128787623,"body_markdown":"Dare I say you could if you could go completely meta and write a java program that generates java source code that creates the variables you need in a dynamic way and load it at runtime? But I would *not* advise that. There should be no need to do so as there are much more easier ways to do so.","body":"Dare I say you could if you could go completely meta and write a java program that generates java source code that creates the variables you need in a dynamic way and load it at runtime? But I would <i>not</i> advise that. There should be no need to do so as there are much more easier ways to do so."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657340256,"post_id":72915201,"comment_id":128792984,"body_markdown":"Each pass through the loop, an object gets created, then never referenced outside of the loop. Why even bother naming the result of `new Ticket()`? How does the name matter at all?","body":"Each pass through the loop, an object gets created, then never referenced outside of the loop. Why even bother naming the result of <code>new Ticket()</code>? How does the name matter at all?"}],"owner":{"account_id":25761399,"reputation":1,"user_id":19512267,"display_name":"Filip Binda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657336401,"answer_count":0,"score":0,"last_activity_date":1657303029,"creation_date":1657302708,"question_id":72915201,"body_markdown":"```\r\nfor (int i = 0; i &lt; 10; i++) {\r\n  Ticket t1 = new Ticket();\r\n}\r\n```\r\n\r\nI have created class `Ticket` and I need to create 10 tickets in a loop, but I have a problem with name for that object. In this code that I write above name for object is `t1`. I am wondering if there is a way to change this name every time when I&#39;m creating new object in loop for.","title":"How to name a Object in a loop?","body":"<pre><code>for (int i = 0; i &lt; 10; i++) {\n  Ticket t1 = new Ticket();\n}\n</code></pre>\n<p>I have created class <code>Ticket</code> and I need to create 10 tickets in a loop, but I have a problem with name for that object. In this code that I write above name for object is <code>t1</code>. I am wondering if there is a way to change this name every time when I'm creating new object in loop for.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9194285,"reputation":418,"user_id":8628330,"display_name":"Jamal N"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657302132,"creation_date":1657302132,"answer_id":72915106,"question_id":72912859,"body_markdown":"The main difference between the tow ways is that in the first method you are passing an Object to the second activity while in the second method you are passing a primitive type.\r\nwhich is better ? each way has its own use case, there is no better way, it depends on your use case","title":"Which is considered better to pass information between Activities on Android project, send a model or only an id?","body":"<p>The main difference between the tow ways is that in the first method you are passing an Object to the second activity while in the second method you are passing a primitive type.\nwhich is better ? each way has its own use case, there is no better way, it depends on your use case</p>\n"}],"owner":{"account_id":1431235,"reputation":715,"user_id":1353621,"accept_rate":50,"display_name":"fabiobh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72915106,"answer_count":1,"score":0,"last_activity_date":1657302132,"creation_date":1657290195,"question_id":72912859,"body_markdown":"I have an android app and I have 3 screens that the user must fill some fields. Each screen have 7 fields to be filled. At the end of the process, I submit the information to the server using Retrofit with an API.\r\n\r\nThis is how I pass the information between Activities in my first project\r\n\r\n    // first activity\r\n    AutoDados autuacaoDados = new AutoDados(... a lot of parameters ...);\r\n\r\n    Intent intent1 = new Intent(AutoInf_Lista_Generica.this, AutoInf_Menu.class);\r\n    intent1.putExtra(&quot;PARAM_ENV_DADOS&quot;, autuacaoDados);\r\n    startActivity(intent1);\r\n\r\n    // second activity\r\n    Bundle extras = intent.getExtras();\r\n    if (extras == null) {\r\n        return &quot;&quot;;\r\n    }\r\n    AutoDados autuacaoDados = (AutoDados) extras.getSerializable(&quot;PARAM_ENV_DADOS&quot;);\r\n\r\nI have another project that I use the following code to pass data between activities.\r\n\r\n    // first activity\r\n    Intent intent1 = new Intent(AutoInf_Lista_Generica.this, AutoInf_Menu.class);\r\n    intent1.putExtra(&quot;ID_AUTOS&quot;, myId);\r\n    startActivity(intent1);\r\n\r\n    // second activity\r\n    intent.getIntExtra(&quot;ID_AUTOS&quot;, 0);\r\n    // code that recover the data from a SQLite database based in the &quot;ID_AUTOS&quot;\r\n\r\nThese both ways I was able to recover data between activities, but which way is considered better and why is it better?\r\nAnother question, is there a better way to pass data between activities ?\r\n\r\nIf possible, talk about the pros and cons about each approach.","title":"Which is considered better to pass information between Activities on Android project, send a model or only an id?","body":"<p>I have an android app and I have 3 screens that the user must fill some fields. Each screen have 7 fields to be filled. At the end of the process, I submit the information to the server using Retrofit with an API.</p>\n<p>This is how I pass the information between Activities in my first project</p>\n<pre><code>// first activity\nAutoDados autuacaoDados = new AutoDados(... a lot of parameters ...);\n\nIntent intent1 = new Intent(AutoInf_Lista_Generica.this, AutoInf_Menu.class);\nintent1.putExtra(&quot;PARAM_ENV_DADOS&quot;, autuacaoDados);\nstartActivity(intent1);\n\n// second activity\nBundle extras = intent.getExtras();\nif (extras == null) {\n    return &quot;&quot;;\n}\nAutoDados autuacaoDados = (AutoDados) extras.getSerializable(&quot;PARAM_ENV_DADOS&quot;);\n</code></pre>\n<p>I have another project that I use the following code to pass data between activities.</p>\n<pre><code>// first activity\nIntent intent1 = new Intent(AutoInf_Lista_Generica.this, AutoInf_Menu.class);\nintent1.putExtra(&quot;ID_AUTOS&quot;, myId);\nstartActivity(intent1);\n\n// second activity\nintent.getIntExtra(&quot;ID_AUTOS&quot;, 0);\n// code that recover the data from a SQLite database based in the &quot;ID_AUTOS&quot;\n</code></pre>\n<p>These both ways I was able to recover data between activities, but which way is considered better and why is it better?\nAnother question, is there a better way to pass data between activities ?</p>\n<p>If possible, talk about the pros and cons about each approach.</p>\n"},{"tags":["java","node.js","electron"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1657306559,"post_id":72915035,"comment_id":128787605,"body_markdown":"I would add a JDK (probably zipped) to the electron app (as asset) and write to a temporary location on local disk. En general, a JDK does not need any special installation. Or download the ZIP in the electron app from e.g. https://download.java.net/openjdk/jdk17/ri/openjdk-17+35_windows-x64_bin.zip and unzip to local disk.","body":"I would add a JDK (probably zipped) to the electron app (as asset) and write to a temporary location on local disk. En general, a JDK does not need any special installation. Or download the ZIP in the electron app from e.g. <a href=\"https://download.java.net/openjdk/jdk17/ri/openjdk-17+35_windows-x64_bin.zip\" rel=\"nofollow noreferrer\">download.java.net/openjdk/jdk17/ri/&hellip;</a> and unzip to local disk."},{"owner":{"account_id":11189998,"reputation":347,"user_id":8210779,"accept_rate":75,"display_name":"Austin"},"score":0,"creation_date":1657389300,"post_id":72915035,"comment_id":128800864,"body_markdown":"@PeterMmm I was worried about licensing for distributing the JDK, so I guess downloading it would be a workaround.","body":"@PeterMmm I was worried about licensing for distributing the JDK, so I guess downloading it would be a workaround."},{"owner":{"account_id":9272927,"reputation":297,"user_id":6886324,"accept_rate":54,"display_name":"Grijan"},"score":0,"creation_date":1668662863,"post_id":72915035,"comment_id":131461613,"body_markdown":"hey @John i am doing the exact same, my app requires JRE to be installed in the client system for it to make some functionalities work. did you figure out a way to do it?","body":"hey @John i am doing the exact same, my app requires JRE to be installed in the client system for it to make some functionalities work. did you figure out a way to do it?"}],"owner":{"account_id":11189998,"reputation":347,"user_id":8210779,"accept_rate":75,"display_name":"Austin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657301708,"creation_date":1657301708,"question_id":72915035,"body_markdown":"I&#39;m creating a node (electron) app in which the users use visual programming which creates Java source code. The user then has the source code on their machine, and that project can be run from inside the node app by using child process. \r\n\r\nThe issue is when the user doesn&#39;t have Java installed on their machine. I understand that I can check if Java is installed [using the method shown here][1]. The issue is how can I download/install the JDK on the users machine from inside my node application?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19734477/verify-if-java-is-installed-from-node-js","title":"Installing Java on user&#39;s system from Node app","body":"<p>I'm creating a node (electron) app in which the users use visual programming which creates Java source code. The user then has the source code on their machine, and that project can be run from inside the node app by using child process.</p>\n<p>The issue is when the user doesn't have Java installed on their machine. I understand that I can check if Java is installed <a href=\"https://stackoverflow.com/questions/19734477/verify-if-java-is-installed-from-node-js\">using the method shown here</a>. The issue is how can I download/install the JDK on the users machine from inside my node application?</p>\n"},{"tags":["java","reactive-programming","webclient","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3654441,"reputation":763,"user_id":3045845,"accept_rate":71,"display_name":"Lisek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571307808,"creation_date":1571307808,"answer_id":58430348,"question_id":58417422,"body_markdown":"So basically the problem was in tests. I had a `MockResponse` enqueued to the `MockWebServer` only once so upon retrying in the `WebClient` mocked server did not have any response set (basically it behaved like it is not available at all as there was no mocked response).\r\n\r\nTo be able to handle exceptions in case of the server being completely down it is in my opinion worth adding lines that goes something like this into your flux chain:\r\n\r\n    .doOnError(ChannelException.class, e -&gt; {\r\n        throw new YourCustomExceptionForHandlingServerIsDownSituation(&quot;Server is unreachable&quot;, e);\r\n    })\r\n\r\nThis will help you handle `ReadTimeoutException` from Netty (in case of server being not reachable) as it extends `ChannelException` class. Always handle your exceptions.\r\n","title":"Handling exception in WebClient throws io.netty.handler.timeout.ReadTimeoutException","body":"<p>So basically the problem was in tests. I had a <code>MockResponse</code> enqueued to the <code>MockWebServer</code> only once so upon retrying in the <code>WebClient</code> mocked server did not have any response set (basically it behaved like it is not available at all as there was no mocked response).</p>\n\n<p>To be able to handle exceptions in case of the server being completely down it is in my opinion worth adding lines that goes something like this into your flux chain:</p>\n\n<pre><code>.doOnError(ChannelException.class, e -&gt; {\n    throw new YourCustomExceptionForHandlingServerIsDownSituation(\"Server is unreachable\", e);\n})\n</code></pre>\n\n<p>This will help you handle <code>ReadTimeoutException</code> from Netty (in case of server being not reachable) as it extends <code>ChannelException</code> class. Always handle your exceptions.</p>\n"}],"owner":{"account_id":3654441,"reputation":763,"user_id":3045845,"accept_rate":71,"display_name":"Lisek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11377,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58430348,"answer_count":1,"score":4,"last_activity_date":1657301612,"creation_date":1571241670,"question_id":58417422,"body_markdown":"So I am new to Reactive programming and I wrote some code that I would like to test. Those are more of a integration tests as I am live copying files and later check if they are the same. I have a `MockWebServer` mocking my reponse to be `4xx` which is handled well in the code. Unfortunately, I am also getting `io.netty.handler.timeout.ReadTimeoutException` which covers up my custom `WebClientResponseException` so in the test I am getting the wrong exception. Basically I have two questions, why on earth am I getting this `io.netty.handler.timeout.ReadTimeoutException` exception? It appears only after `doOnError()` method for some reason and I am not sure why is it even happening.\r\n\r\nRight now code is at it is and it&#39;s being synchronous, I am well aware of that.\r\n\r\nSecond question is, how could I handle my custom exception in the tests after a given number of retries? Right now it is 3 and only then I would like my other exception to be thrown.\r\n\r\nHere is the code:\r\n\r\n    AsynchronousFileChannel fileChannel = AsynchronousFileChannel.open(targetPath, StandardOpenOption.WRITE);\r\n\r\n    Flux&lt;DataBuffer&gt; fileDataStream = Mono.just(filePath)\r\n        .map(file -&gt; targetPath.toFile().exists() ? targetPath.toFile().length() : 0)\r\n        .map(bytes -&gt; webClient\r\n                      .get()\r\n                      .uri(uri)\r\n                      .accept(MediaType.APPLICATION_OCTET_STREAM)\r\n                      .header(&quot;Range&quot;, String.format(&quot;bytes=%d-&quot;, bytes))\r\n                      .retrieve()\r\n                      .onStatus(HttpStatus::is4xxClientError, clientResponse -&gt; Mono.error(new CustomException(&quot;4xx error&quot;)))\r\n                      .onStatus(HttpStatus::is5xxServerError, clientResponse -&gt; Mono.error(new CustomException(&quot;5xx error&quot;)))\r\n                      .bodyToFlux(DataBuffer.class)\r\n                      .doOnError(throwable -&gt; log.info(&quot;fileDataStream  onError&quot;, throwable))\r\n                    )\r\n        .flatMapMany(Function.identity());\r\n\r\n    return DataBufferUtils\r\n            .write(fileDataStream, fileChannel)\r\n            .map(DataBufferUtils::release)\r\n            .doOnError(throwable -&gt; {\r\n                try {\r\n                    fileChannel.force(true);\r\n                } catch (IOException e) {\r\n                    throw new WritingException(&quot;failed force update to file channel&quot;, e);\r\n                }\r\n            })\r\n            .retry(3)\r\n            .doOnComplete(() -&gt; {\r\n                 try {\r\n                     fileChannel.force(true);\r\n                 } catch (IOException e) {\r\n                     log.warn(&quot;failed force update to file channel&quot;, e);\r\n                     throw new WritingException(&quot;failed force update to file channel&quot;, e);\r\n                 }\r\n            })\r\n            .doOnError(throwable -&gt; targetPath.toFile().delete())\r\n            .then(Mono.just(target));\r\n\r\nThe response is `Mono&lt;Path&gt;` as I am interested only in the `Path` of the newly created and copied file.\r\n\r\nAny comments regarding code are welcome.\r\n\r\nThe copying mechanism was made basing on this thread https://stackoverflow.com/questions/50091069/downlolad-and-save-file-from-clientrequest-using-exchangefunction-in-project-rea","title":"Handling exception in WebClient throws io.netty.handler.timeout.ReadTimeoutException","body":"<p>So I am new to Reactive programming and I wrote some code that I would like to test. Those are more of a integration tests as I am live copying files and later check if they are the same. I have a <code>MockWebServer</code> mocking my reponse to be <code>4xx</code> which is handled well in the code. Unfortunately, I am also getting <code>io.netty.handler.timeout.ReadTimeoutException</code> which covers up my custom <code>WebClientResponseException</code> so in the test I am getting the wrong exception. Basically I have two questions, why on earth am I getting this <code>io.netty.handler.timeout.ReadTimeoutException</code> exception? It appears only after <code>doOnError()</code> method for some reason and I am not sure why is it even happening.</p>\n\n<p>Right now code is at it is and it's being synchronous, I am well aware of that.</p>\n\n<p>Second question is, how could I handle my custom exception in the tests after a given number of retries? Right now it is 3 and only then I would like my other exception to be thrown.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>AsynchronousFileChannel fileChannel = AsynchronousFileChannel.open(targetPath, StandardOpenOption.WRITE);\n\nFlux&lt;DataBuffer&gt; fileDataStream = Mono.just(filePath)\n    .map(file -&gt; targetPath.toFile().exists() ? targetPath.toFile().length() : 0)\n    .map(bytes -&gt; webClient\n                  .get()\n                  .uri(uri)\n                  .accept(MediaType.APPLICATION_OCTET_STREAM)\n                  .header(\"Range\", String.format(\"bytes=%d-\", bytes))\n                  .retrieve()\n                  .onStatus(HttpStatus::is4xxClientError, clientResponse -&gt; Mono.error(new CustomException(\"4xx error\")))\n                  .onStatus(HttpStatus::is5xxServerError, clientResponse -&gt; Mono.error(new CustomException(\"5xx error\")))\n                  .bodyToFlux(DataBuffer.class)\n                  .doOnError(throwable -&gt; log.info(\"fileDataStream  onError\", throwable))\n                )\n    .flatMapMany(Function.identity());\n\nreturn DataBufferUtils\n        .write(fileDataStream, fileChannel)\n        .map(DataBufferUtils::release)\n        .doOnError(throwable -&gt; {\n            try {\n                fileChannel.force(true);\n            } catch (IOException e) {\n                throw new WritingException(\"failed force update to file channel\", e);\n            }\n        })\n        .retry(3)\n        .doOnComplete(() -&gt; {\n             try {\n                 fileChannel.force(true);\n             } catch (IOException e) {\n                 log.warn(\"failed force update to file channel\", e);\n                 throw new WritingException(\"failed force update to file channel\", e);\n             }\n        })\n        .doOnError(throwable -&gt; targetPath.toFile().delete())\n        .then(Mono.just(target));\n</code></pre>\n\n<p>The response is <code>Mono&lt;Path&gt;</code> as I am interested only in the <code>Path</code> of the newly created and copied file.</p>\n\n<p>Any comments regarding code are welcome.</p>\n\n<p>The copying mechanism was made basing on this thread <a href=\"https://stackoverflow.com/questions/50091069/downlolad-and-save-file-from-clientrequest-using-exchangefunction-in-project-rea\">Downlolad and save file from ClientRequest using ExchangeFunction in Project Reactor</a></p>\n"},{"tags":["java","netty","spring-webflux"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1618159374,"post_id":66922685,"comment_id":118512195,"body_markdown":"the cause of a ReadTimeoutException is a read timeout. What else do you think/are considering could be the origin of the exception?","body":"the cause of a ReadTimeoutException is a read timeout. What else do you think/are considering could be the origin of the exception?"},{"owner":{"account_id":21136769,"reputation":9,"user_id":15540088,"display_name":"Vaibhav Agnihotri"},"score":1,"creation_date":1618755278,"post_id":66922685,"comment_id":118692583,"body_markdown":"@MichaelMcFadyen expecting the stacktrace to come up just like any other exception","body":"@MichaelMcFadyen expecting the stacktrace to come up just like any other exception"}],"owner":{"account_id":21136769,"reputation":9,"user_id":15540088,"display_name":"Vaibhav Agnihotri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1622,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1657301606,"creation_date":1617382819,"question_id":66922685,"body_markdown":"We&#39;re using **Webflux Webclient** for making API calls through our spring-webflux application. We&#39;ve configured ReadTimeout using **io.netty.handler.timeout.ReadTimeoutHandler** but whenever a ReadTimeout occurs, exception getting raised doesn&#39;t contain any message or stacktrace or suppressed exception, due to that it becomes tough to identify the origin of exception.\r\n\r\nException Snapshot - [Sample](https://i.stack.imgur.com/zS64h.png)\r\n\r\n\r\nOur Webclient initializer snippet is as follows - \r\n\r\n```\r\n@PostConstruct\r\n  public void init() {\r\n    ExchangeStrategies exchangeStrategies =\r\n        ExchangeStrategies.builder()\r\n            .codecs(configurer -&gt; configurer.defaultCodecs().maxInMemorySize(-1))\r\n            .build();\r\n\r\n    HttpClient httpClient =\r\n        HttpClient.create()\r\n            .tcpConfiguration(\r\n                client -&gt;\r\n                    client\r\n                        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 10000)\r\n                        .doOnConnected(\r\n                            conn -&gt;\r\n                                conn.addHandlerLast(new ReadTimeoutHandler(1))\r\n                                    .addHandlerLast(new WriteTimeoutHandler(1))));\r\n    ClientHttpConnector connector = new ReactorClientHttpConnector(httpClient.wiretap(true));\r\n    webClient =\r\n        builder\r\n            .baseUrl(appConfig.getBaseUrl())\r\n            .exchangeStrategies(exchangeStrategies)\r\n            .clientConnector(connector)\r\n            .build();\r\n  }\r\n```\r\n\r\n**Maven Dependencies** - \r\n\r\n - spring-boot-starter-webflux:2.3.3.RELEASE","title":"Webflux ReadTimeoutHandler returns io.netty.handler.timeout.ReadTimeoutException with null message","body":"<p>We're using <strong>Webflux Webclient</strong> for making API calls through our spring-webflux application. We've configured ReadTimeout using <strong>io.netty.handler.timeout.ReadTimeoutHandler</strong> but whenever a ReadTimeout occurs, exception getting raised doesn't contain any message or stacktrace or suppressed exception, due to that it becomes tough to identify the origin of exception.</p>\n<p>Exception Snapshot - <a href=\"https://i.stack.imgur.com/zS64h.png\" rel=\"nofollow noreferrer\">Sample</a></p>\n<p>Our Webclient initializer snippet is as follows -</p>\n<pre><code>@PostConstruct\n  public void init() {\n    ExchangeStrategies exchangeStrategies =\n        ExchangeStrategies.builder()\n            .codecs(configurer -&gt; configurer.defaultCodecs().maxInMemorySize(-1))\n            .build();\n\n    HttpClient httpClient =\n        HttpClient.create()\n            .tcpConfiguration(\n                client -&gt;\n                    client\n                        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 10000)\n                        .doOnConnected(\n                            conn -&gt;\n                                conn.addHandlerLast(new ReadTimeoutHandler(1))\n                                    .addHandlerLast(new WriteTimeoutHandler(1))));\n    ClientHttpConnector connector = new ReactorClientHttpConnector(httpClient.wiretap(true));\n    webClient =\n        builder\n            .baseUrl(appConfig.getBaseUrl())\n            .exchangeStrategies(exchangeStrategies)\n            .clientConnector(connector)\n            .build();\n  }\n</code></pre>\n<p><strong>Maven Dependencies</strong> -</p>\n<ul>\n<li>spring-boot-starter-webflux:2.3.3.RELEASE</li>\n</ul>\n"},{"tags":["java","sql","jpa","jpa-2.0","jpa-2.1"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1657219796,"post_id":72902564,"comment_id":128765382,"body_markdown":"https://www.baeldung.com/jpa-many-to-many","body":"<a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">baeldung.com/jpa-many-to-many</a>"},{"owner":{"account_id":3998342,"reputation":31,"user_id":3295136,"display_name":"iddings"},"score":0,"creation_date":1657220023,"post_id":72902564,"comment_id":128765446,"body_markdown":"@Zorglube I&#39;m able to setup a mapping with basic collections, it&#39;s getting the `MapKey*` annotations to work to produce the result as a `Map` that I can&#39;t get","body":"@Zorglube I&#39;m able to setup a mapping with basic collections, it&#39;s getting the <code>MapKey*</code> annotations to work to produce the result as a <code>Map</code> that I can&#39;t get"},{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1657221004,"post_id":72902564,"comment_id":128765779,"body_markdown":"https://www.baeldung.com/jpa-many-to-many#many-to-many-using-a-composite-key &lt;= here Organization is you composite key.","body":"<a href=\"https://www.baeldung.com/jpa-many-to-many#many-to-many-using-a-composite-key\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a> &lt;= here Organization is you composite key."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1657226695,"post_id":72902564,"comment_id":128767521,"body_markdown":"First, your onetoMany can&#39;t be mapped by user. Mapped by means that something on the other side, within RoleAssignment, contains the mapping back to this Entity (Organization). User points to a user, so isn&#39;t what you want, maybe try &quot;organization&quot;. Next , remove the map and have it just as a List &lt;RoleAssignment&gt; and see if that works; it seems to match your table structure. Once that is working, you know then the issue is with your MapKey and you can try it again, though if you only need the role string, you might just use Map&lt;User, String&gt; with no need for a RoleAssignment entity","body":"First, your onetoMany can&#39;t be mapped by user. Mapped by means that something on the other side, within RoleAssignment, contains the mapping back to this Entity (Organization). User points to a user, so isn&#39;t what you want, maybe try &quot;organization&quot;. Next , remove the map and have it just as a List &lt;RoleAssignment&gt; and see if that works; it seems to match your table structure. Once that is working, you know then the issue is with your MapKey and you can try it again, though if you only need the role string, you might just use Map&lt;User, String&gt; with no need for a RoleAssignment entity"},{"owner":{"account_id":3998342,"reputation":31,"user_id":3295136,"display_name":"iddings"},"score":0,"creation_date":1657301651,"post_id":72902564,"comment_id":128786112,"body_markdown":"@Chris changing to &#39;organization&#39; for mappedBy helped, thanks! I&#39;m still not able to get the mapping to work as a `Map` though, see my edits above.","body":"@Chris changing to &#39;organization&#39; for mappedBy helped, thanks! I&#39;m still not able to get the mapping to work as a <code>Map</code> though, see my edits above."}],"owner":{"account_id":3998342,"reputation":31,"user_id":3295136,"display_name":"iddings"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657301570,"creation_date":1657218080,"question_id":72902564,"body_markdown":"I&#39;m struggling to setup the following JPA mapping (extra cols, etc. omitted for brevity)\r\n\r\n```user\r\n----\r\nid: primary key\r\n\r\n\r\norganization\r\n------------\r\nid: primary key\r\nz\r\n\r\nrole_assignment\r\n---------------\r\nrole_assignment_id: primary key\r\nuser_id: fk -&gt; user.id\r\norganization_id: fk -&gt; organization.id\r\nrole\r\n\r\n(user_id, organization_id) is unique\r\n```\r\n\r\nThe mapping needed would be on `Organization` class:\r\n\r\n`Map&lt;User, RoleAssignment&gt; roleAssignments`\r\n\r\nI can get close with something like:\r\n```java\r\nclass User {\r\n  @Id\r\n  @GeneratedValue\r\n  private long id;\r\n}\r\n\r\nclass RoleAssignment {\r\n  @Id\r\n  @GeneratedValue\r\n  @Column(name = &quot;role_assignment_id&quot;)\r\n  private long id;\r\n\r\n  @Column(name = &quot;role&quot;)\r\n  private String role;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;user_id&quot;)\r\n  private User user;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;organization_id&quot;)\r\n  private Organization organization;\r\n}\r\n\r\nclass Organization {\r\n  @Id\r\n  @GeneratedValue\r\n  private long id;\r\n\r\n  @OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\r\n  @MapKey(name = &quot;user&quot;)\r\n  private Map&lt;User, RoleAssignment&gt; roleAssignments;\r\n}\r\n```\r\n\r\nI&#39;ve tried several configurations with MapKey, MapKeyJoinColumn, etc, and the best I get is a map with one null key mapped to a single value (despite multiple entries in the database).\r\n\r\nAny help on setting this up would be greatly appreciated.\r\n\r\n\r\n# Update\r\n\r\nI think I omitted some key info trying to be concise. The following paints a more clear picture:\r\n\r\n```user\r\n----\r\nid: primary key\r\n\r\n\r\norganization\r\n------------\r\nid: primary key\r\n\r\n\r\nrole\r\n----\r\nid: primary key\r\n\r\n\r\nrole_assignment\r\n---------------\r\nrole_assignment_id: primary key\r\nuser_id: fk -&gt; user.id\r\norganization_id: fk -&gt; organization.id\r\nrole_id: fk -&gt; role\r\n\r\n(user_id, organization_id) is unique and can be made primary key if needed\r\n```\r\n\r\nThe mapping needed would be on `Organization` class:\r\n\r\n`Map&lt;User, RoleAssignment&gt; roleAssignments`\r\n\r\nI can get close with something like:\r\n```java\r\nclass User {\r\n  @Id\r\n  @GeneratedValue\r\n  private long id;\r\n}\r\n\r\nclass RoleAssignment {\r\n  // this could be converted to an @EmbeddedId if that helps\r\n  @Id\r\n  @GeneratedValue\r\n  @Column(name = &quot;role_assignment_id&quot;)\r\n  private long id;\r\n\r\n  @Column(name = &quot;role&quot;)\r\n  private String role;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;user_id&quot;)\r\n  private User user;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;organization_id&quot;)\r\n  private Organization organization;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;role_id&quot;)\r\n  private Role role;\r\n}\r\n\r\nclass Organization {\r\n  @Id\r\n  @GeneratedValue\r\n  private long id;\r\n\r\n  @OneToMany(mappedBy = &quot;organization&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\r\n  @MapKey(name = &quot;user&quot;) // &lt;-- this is the piece I can&#39;t get to work\r\n  private Map&lt;User, RoleAssignment&gt; roleAssignments;\r\n}\r\n```\r\n\r\nI&#39;m able to get a basic mapping to `List&lt;RoleAssignment&gt;` to work, but the logic of the rest of the application requires the `Map` mapping I described.","title":"JPA Many to Many with Intermediate Table and MapKey*","body":"<p>I'm struggling to setup the following JPA mapping (extra cols, etc. omitted for brevity)</p>\n<pre><code>----\nid: primary key\n\n\norganization\n------------\nid: primary key\nz\n\nrole_assignment\n---------------\nrole_assignment_id: primary key\nuser_id: fk -&gt; user.id\norganization_id: fk -&gt; organization.id\nrole\n\n(user_id, organization_id) is unique\n</code></pre>\n<p>The mapping needed would be on <code>Organization</code> class:</p>\n<p><code>Map&lt;User, RoleAssignment&gt; roleAssignments</code></p>\n<p>I can get close with something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class User {\n  @Id\n  @GeneratedValue\n  private long id;\n}\n\nclass RoleAssignment {\n  @Id\n  @GeneratedValue\n  @Column(name = &quot;role_assignment_id&quot;)\n  private long id;\n\n  @Column(name = &quot;role&quot;)\n  private String role;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;user_id&quot;)\n  private User user;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;organization_id&quot;)\n  private Organization organization;\n}\n\nclass Organization {\n  @Id\n  @GeneratedValue\n  private long id;\n\n  @OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\n  @MapKey(name = &quot;user&quot;)\n  private Map&lt;User, RoleAssignment&gt; roleAssignments;\n}\n</code></pre>\n<p>I've tried several configurations with MapKey, MapKeyJoinColumn, etc, and the best I get is a map with one null key mapped to a single value (despite multiple entries in the database).</p>\n<p>Any help on setting this up would be greatly appreciated.</p>\n<h1>Update</h1>\n<p>I think I omitted some key info trying to be concise. The following paints a more clear picture:</p>\n<pre><code>----\nid: primary key\n\n\norganization\n------------\nid: primary key\n\n\nrole\n----\nid: primary key\n\n\nrole_assignment\n---------------\nrole_assignment_id: primary key\nuser_id: fk -&gt; user.id\norganization_id: fk -&gt; organization.id\nrole_id: fk -&gt; role\n\n(user_id, organization_id) is unique and can be made primary key if needed\n</code></pre>\n<p>The mapping needed would be on <code>Organization</code> class:</p>\n<p><code>Map&lt;User, RoleAssignment&gt; roleAssignments</code></p>\n<p>I can get close with something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class User {\n  @Id\n  @GeneratedValue\n  private long id;\n}\n\nclass RoleAssignment {\n  // this could be converted to an @EmbeddedId if that helps\n  @Id\n  @GeneratedValue\n  @Column(name = &quot;role_assignment_id&quot;)\n  private long id;\n\n  @Column(name = &quot;role&quot;)\n  private String role;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;user_id&quot;)\n  private User user;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;organization_id&quot;)\n  private Organization organization;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;role_id&quot;)\n  private Role role;\n}\n\nclass Organization {\n  @Id\n  @GeneratedValue\n  private long id;\n\n  @OneToMany(mappedBy = &quot;organization&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\n  @MapKey(name = &quot;user&quot;) // &lt;-- this is the piece I can't get to work\n  private Map&lt;User, RoleAssignment&gt; roleAssignments;\n}\n</code></pre>\n<p>I'm able to get a basic mapping to <code>List&lt;RoleAssignment&gt;</code> to work, but the logic of the rest of the application requires the <code>Map</code> mapping I described.</p>\n"},{"tags":["java","gradle","libgdx"],"comments":[{"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"score":0,"creation_date":1657383810,"post_id":72914264,"comment_id":128799750,"body_markdown":"Gradle 8 might be a problem. The [recommended gradle version](https://github.com/libgdx/libgdx/blob/master/extensions/gdx-setup/res/com/badlogic/gdx/setup/resources/gradle/wrapper/gradle-wrapper.properties#L3) for LibGdx 1.11 is Gradle 7.3.3. See the [updating guide](https://libgdx.com/wiki/articles/updating-libgdx#gradle-wrapper).","body":"Gradle 8 might be a problem. The <a href=\"https://github.com/libgdx/libgdx/blob/master/extensions/gdx-setup/res/com/badlogic/gdx/setup/resources/gradle/wrapper/gradle-wrapper.properties#L3\" rel=\"nofollow noreferrer\">recommended gradle version</a> for LibGdx 1.11 is Gradle 7.3.3. See the <a href=\"https://libgdx.com/wiki/articles/updating-libgdx#gradle-wrapper\" rel=\"nofollow noreferrer\">updating guide</a>."}],"owner":{"account_id":16498896,"reputation":141,"user_id":11920695,"display_name":"Ethan Kharitonov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657301075,"creation_date":1657297105,"question_id":72914264,"body_markdown":"I used the libGDX project setup tool to generate a new project. The instructions say that I should reimport all Gradle projects but when I do, I get these errors:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lUwza.png\r\nBtw, I am using JDK 17.03 and I&#39;m following these instructions: https://libgdx.com/wiki/start/import-and-running. Does anyone know how to fix this?\r\n\r\nThank you in advance.\r\n\r\n**EDIT 1**\r\n\r\nRunning `.\\gradlew build` on the command line shows the root cause:\r\n```\r\n Could not resolve all files for configuration &#39;:core:compileClasspath&#39;.\r\n   &gt; Could not resolve com.badlogicgames.gdx:gdx:1.11.0.\r\n     Required by:\r\n         project :core\r\n      &gt; Could not resolve com.badlogicgames.gdx:gdx:1.11.0.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/badlogicgames/gdx/gdx/1.11.0/gdx-1.11.0.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/badlogicgames/gdx/gdx/1.11.0/gdx-1.11.0.pom&#39;.\r\n               &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.3.3/userguide/build_environment.html#gradle_system_properties\r\n                  &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nNow I understand that it is related to the network security on my work laptop.","title":"LibGdx build.gradle not loading","body":"<p>I used the libGDX project setup tool to generate a new project. The instructions say that I should reimport all Gradle projects but when I do, I get these errors:\n<a href=\"https://i.stack.imgur.com/lUwza.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lUwza.png\" alt=\"enter image description here\" /></a></p>\n<p>Btw, I am using JDK 17.03 and I'm following these instructions: <a href=\"https://libgdx.com/wiki/start/import-and-running\" rel=\"nofollow noreferrer\">https://libgdx.com/wiki/start/import-and-running</a>. Does anyone know how to fix this?</p>\n<p>Thank you in advance.</p>\n<p><strong>EDIT 1</strong></p>\n<p>Running <code>.\\gradlew build</code> on the command line shows the root cause:</p>\n<pre><code> Could not resolve all files for configuration ':core:compileClasspath'.\n   &gt; Could not resolve com.badlogicgames.gdx:gdx:1.11.0.\n     Required by:\n         project :core\n      &gt; Could not resolve com.badlogicgames.gdx:gdx:1.11.0.\n         &gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/badlogicgames/gdx/gdx/1.11.0/gdx-1.11.0.pom'.\n            &gt; Could not GET 'https://repo.maven.apache.org/maven2/com/badlogicgames/gdx/gdx/1.11.0/gdx-1.11.0.pom'.\n               &gt; The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.3.3/userguide/build_environment.html#gradle_system_properties\n                  &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>Now I understand that it is related to the network security on my work laptop.</p>\n"},{"tags":["java","spring","spring-boot","integration-testing","wiremock"],"comments":[{"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"score":0,"creation_date":1601394921,"post_id":64063372,"comment_id":113391773,"body_markdown":"Does each AC need a separate WireMock instance? If not, could you start a singular WireMock instance and have all ACs point to it?","body":"Does each AC need a separate WireMock instance? If not, could you start a singular WireMock instance and have all ACs point to it?"},{"owner":{"account_id":1493988,"reputation":833,"user_id":1400380,"display_name":"Jordan Silva"},"score":0,"creation_date":1601493303,"post_id":64063372,"comment_id":113428842,"body_markdown":"No, however, this is how @AutoConfigureWireMock works. It creates a new WM instance for each AC. I could do as you suggest, but then I have to control everything myself, and then there is no point to use the annotation. If I cannot find a solution, this will be the way to go.","body":"No, however, this is how @AutoConfigureWireMock works. It creates a new WM instance for each AC. I could do as you suggest, but then I have to control everything myself, and then there is no point to use the annotation. If I cannot find a solution, this will be the way to go."}],"answers":[{"tags":[],"owner":{"account_id":21376153,"reputation":46,"user_id":15742850,"display_name":"Michael Stewart"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1619125935,"creation_date":1619125935,"answer_id":67220816,"question_id":64063372,"body_markdown":"Not sure if you have found a solution to this but here is how I resolved this.\r\n\r\nWhen the spring cached test contexts are reused the wiremock port changes back to that contexts port but seems to miss some step of configuring the `WireMock` classes default server config. We had to call `WireMock.configureFor(port)` in a `@Before` or `@BeforeEach` method with the port of the currently running context. This meant that when we did `stubFor` method calls then the right WireMock port was hit and the server got configured with our stubs correctly, make sure you do this configuring before any resets too.\r\n\r\n```\r\n@Autowired\r\nprivate Environment environment;\r\n\r\nprivate String getWiremockServerPort() {\r\n    // Get the auto configured port property from the current Spring contexts environment\r\n\treturn environment.getProperty(&quot;wiremock.server.port&quot;);\r\n}\r\n\r\n@BeforeEach\r\nprivate void configureWireMockPortToMatchEnvironmentContext() {\r\n\tint contextEnvironmentPort = Integer.parseInt(getWiremockServerPort());\r\n\tconfigureFor(contextEnvironmentPort);\r\n}\r\n```\r\n\r\n","title":"Multiple Application Contexts in Spring JUnit test with WireMock","body":"<p>Not sure if you have found a solution to this but here is how I resolved this.</p>\n<p>When the spring cached test contexts are reused the wiremock port changes back to that contexts port but seems to miss some step of configuring the <code>WireMock</code> classes default server config. We had to call <code>WireMock.configureFor(port)</code> in a <code>@Before</code> or <code>@BeforeEach</code> method with the port of the currently running context. This meant that when we did <code>stubFor</code> method calls then the right WireMock port was hit and the server got configured with our stubs correctly, make sure you do this configuring before any resets too.</p>\n<pre><code>@Autowired\nprivate Environment environment;\n\nprivate String getWiremockServerPort() {\n    // Get the auto configured port property from the current Spring contexts environment\n    return environment.getProperty(&quot;wiremock.server.port&quot;);\n}\n\n@BeforeEach\nprivate void configureWireMockPortToMatchEnvironmentContext() {\n    int contextEnvironmentPort = Integer.parseInt(getWiremockServerPort());\n    configureFor(contextEnvironmentPort);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7126789,"reputation":127,"user_id":5449454,"display_name":"Daemon2017"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657300736,"creation_date":1657300736,"answer_id":72914868,"question_id":64063372,"body_markdown":"If you are creating Wiremock stubs in this way:\r\n\r\n    stubFor(post(urlEqualTo(CALLBACK))\r\n            .willReturn(aResponse().withStatus(202))\r\n    );\r\n\r\nwhere used static method &quot;stubFor&quot; from com.github.tomakehurst.wiremock.client.Wiremock, you may try to add in your test class an autowired WiremockServer object:\r\n\r\n    @Autowired\r\n    protected WireMockServer wireMockServer;\r\n\r\nand then replace your stub creation with:\r\n\r\n    wireMockServer.stubFor(post(urlEqualTo(CALLBACK))\r\n            .willReturn(aResponse().withStatus(202))\r\n    );\r\n\r\nwhere used non-static method from com.github.tomakehurst.wiremock.WireMockServer. \r\n\r\nIn my case, this solved the problem.","title":"Multiple Application Contexts in Spring JUnit test with WireMock","body":"<p>If you are creating Wiremock stubs in this way:</p>\n<pre><code>stubFor(post(urlEqualTo(CALLBACK))\n        .willReturn(aResponse().withStatus(202))\n);\n</code></pre>\n<p>where used static method &quot;stubFor&quot; from com.github.tomakehurst.wiremock.client.Wiremock, you may try to add in your test class an autowired WiremockServer object:</p>\n<pre><code>@Autowired\nprotected WireMockServer wireMockServer;\n</code></pre>\n<p>and then replace your stub creation with:</p>\n<pre><code>wireMockServer.stubFor(post(urlEqualTo(CALLBACK))\n        .willReturn(aResponse().withStatus(202))\n);\n</code></pre>\n<p>where used non-static method from com.github.tomakehurst.wiremock.WireMockServer.</p>\n<p>In my case, this solved the problem.</p>\n"}],"owner":{"account_id":1493988,"reputation":833,"user_id":1400380,"display_name":"Jordan Silva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2218,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":67220816,"answer_count":2,"score":6,"last_activity_date":1657300736,"creation_date":1601033790,"question_id":64063372,"body_markdown":"I have the following scenario:\r\n```\r\n@Transactional\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@AutoConfigureMockMvc\r\n@AutoConfigureWireMock(port = 0)\r\npublic abstract class IntegrationTest {\r\n}\r\n\r\npublic class Test1 extends IntegrationTest {\r\n  // Tests that use WireMock\r\n}\r\n\r\n@ActiveProfiles(&quot;specific-case-test&quot;) // This causes another Application Context to be created.\r\npublic class Test2 extends IntegrationTest {\r\n  // Tests that use WireMock\r\n}\r\n\r\npublic class Test3 extends IntegrationTest {\r\n  // Tests that use WireMock\r\n}\r\n```\r\nTests run successfully in all these scenarios:\r\n\r\n - Run the tests individually\r\n - In the order: Test1, Test3, Test2\r\n - In the order: Test3, Test1, Test2\r\n - In the order: Test2, Test3, Test1\r\n - In the order: Test2, Test1, Test3\r\n\r\nThe last test to run fails in all these scenarios:\r\n\r\n - In the order: Test1, Test2, Test3\r\n - In the order: Test3, Test2, Test1\r\n\r\nI already investigated the problem and it is related to the Spring Application Context and WireMock.\r\n\r\nWhat is going on? Let&#39;s consider that the tests run in that order: `Test1, Test2, Test3`.\r\n\r\nWhen `Test1` runs, an Application Context (AC1) is created and a WireMock server (WM1) is set up, let&#39;s say, on port 1. Port 1 is set to AC1 (`wiremock.server.port`) and WM1 is attached to the test thread. All test passes.\r\n\r\nWhen `Test2` runs, another Application Context (AC2) is created and a new WireMock server (WM2) is set up, let&#39;s say, on port 2. Port 2 is set to AC2 (`wiremock.server.port`) and WM2 is attached to the test thread, replacing WM1. All test passes.\r\n\r\nWhen `Test3` runs, it reuses AC1 and this causes the tests to fail with the message: `404 Not Found: [No response could be served as there are no stub mappings in this WireMock instance.]`.\r\nThe application state is that `wiremock.server.port` is 1 (comes from AC1) and WM2 is attached to the test thread. Because of that, stubbing happens against WM2, but the application rest calls are going to WM1, which is listening on port 1.\r\n\r\nI already tried to clean the Application Context adding `@DirtiesContext` to Test2, so it would force Spring to load the third AC, but it doesn&#39;t work. However, if I add `@DirtiesContext` to Test1 or `@DirtiesContext(classMode = BEFORE_CLASS)` to Test3 it works. I don&#39;t want this solution because I have other tests and there is no guarantee in which order the tests will run, so if I add it to Test3, then later the execution order will change and another test will fail. I would like a real solution.\r\n\r\nAny ideas?","title":"Multiple Application Contexts in Spring JUnit test with WireMock","body":"<p>I have the following scenario:</p>\n<pre><code>@Transactional\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@AutoConfigureMockMvc\n@AutoConfigureWireMock(port = 0)\npublic abstract class IntegrationTest {\n}\n\npublic class Test1 extends IntegrationTest {\n  // Tests that use WireMock\n}\n\n@ActiveProfiles(&quot;specific-case-test&quot;) // This causes another Application Context to be created.\npublic class Test2 extends IntegrationTest {\n  // Tests that use WireMock\n}\n\npublic class Test3 extends IntegrationTest {\n  // Tests that use WireMock\n}\n</code></pre>\n<p>Tests run successfully in all these scenarios:</p>\n<ul>\n<li>Run the tests individually</li>\n<li>In the order: Test1, Test3, Test2</li>\n<li>In the order: Test3, Test1, Test2</li>\n<li>In the order: Test2, Test3, Test1</li>\n<li>In the order: Test2, Test1, Test3</li>\n</ul>\n<p>The last test to run fails in all these scenarios:</p>\n<ul>\n<li>In the order: Test1, Test2, Test3</li>\n<li>In the order: Test3, Test2, Test1</li>\n</ul>\n<p>I already investigated the problem and it is related to the Spring Application Context and WireMock.</p>\n<p>What is going on? Let's consider that the tests run in that order: <code>Test1, Test2, Test3</code>.</p>\n<p>When <code>Test1</code> runs, an Application Context (AC1) is created and a WireMock server (WM1) is set up, let's say, on port 1. Port 1 is set to AC1 (<code>wiremock.server.port</code>) and WM1 is attached to the test thread. All test passes.</p>\n<p>When <code>Test2</code> runs, another Application Context (AC2) is created and a new WireMock server (WM2) is set up, let's say, on port 2. Port 2 is set to AC2 (<code>wiremock.server.port</code>) and WM2 is attached to the test thread, replacing WM1. All test passes.</p>\n<p>When <code>Test3</code> runs, it reuses AC1 and this causes the tests to fail with the message: <code>404 Not Found: [No response could be served as there are no stub mappings in this WireMock instance.]</code>.\nThe application state is that <code>wiremock.server.port</code> is 1 (comes from AC1) and WM2 is attached to the test thread. Because of that, stubbing happens against WM2, but the application rest calls are going to WM1, which is listening on port 1.</p>\n<p>I already tried to clean the Application Context adding <code>@DirtiesContext</code> to Test2, so it would force Spring to load the third AC, but it doesn't work. However, if I add <code>@DirtiesContext</code> to Test1 or <code>@DirtiesContext(classMode = BEFORE_CLASS)</code> to Test3 it works. I don't want this solution because I have other tests and there is no guarantee in which order the tests will run, so if I add it to Test3, then later the execution order will change and another test will fail. I would like a real solution.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","onnx","onnxruntime"],"comments":[{"owner":{"account_id":18234755,"reputation":2205,"user_id":13273054,"display_name":"kiranr"},"score":0,"creation_date":1613028738,"post_id":66073055,"comment_id":116950758,"body_markdown":"try casting the Result class to Map","body":"try casting the Result class to Map"},{"owner":{"account_id":6909540,"reputation":417,"user_id":5306011,"display_name":"Joe"},"score":0,"creation_date":1613048160,"post_id":66073055,"comment_id":116958830,"body_markdown":"Good idea but it doesn&#39;t work. Result implements AutoCloseable, Iterable&lt;Map.Entry&lt;String, OnnxValue&gt;&gt;. The cast results in java.lang.ClassCastException: ai.onnxruntime.OrtSession$Result cannot be cast to java.util.Map","body":"Good idea but it doesn&#39;t work. Result implements AutoCloseable, Iterable&lt;Map.Entry&lt;String, OnnxValue&gt;&gt;. The cast results in java.lang.ClassCastException: ai.onnxruntime.OrtSession$Result cannot be cast to java.util.Map"},{"owner":{"account_id":18234755,"reputation":2205,"user_id":13273054,"display_name":"kiranr"},"score":0,"creation_date":1613048533,"post_id":66073055,"comment_id":116959024,"body_markdown":"I checked the result class, they should&#39;ve added a method that just returns a `map`.","body":"I checked the result class, they should&#39;ve added a method that just returns a <code>map</code>."},{"owner":{"account_id":6909540,"reputation":417,"user_id":5306011,"display_name":"Joe"},"score":0,"creation_date":1613060467,"post_id":66073055,"comment_id":116965141,"body_markdown":":-( I agree. I&#39;ll submit a bug report there.","body":":-( I agree. I&#39;ll submit a bug report there."},{"owner":{"account_id":6909540,"reputation":417,"user_id":5306011,"display_name":"Joe"},"score":0,"creation_date":1613060938,"post_id":66073055,"comment_id":116965385,"body_markdown":"Reported to onnx runtime github as a &quot;feature request&quot;: https://github.com/microsoft/onnxruntime/issues/6655","body":"Reported to onnx runtime github as a &quot;feature request&quot;: <a href=\"https://github.com/microsoft/onnxruntime/issues/6655\" rel=\"nofollow noreferrer\">github.com/microsoft/onnxruntime/issues/6655</a>"},{"owner":{"account_id":18234755,"reputation":2205,"user_id":13273054,"display_name":"kiranr"},"score":0,"creation_date":1613061222,"post_id":66073055,"comment_id":116965545,"body_markdown":"if know how to add that function to the code, create a pull request, and do it yourself its faster this way","body":"if know how to add that function to the code, create a pull request, and do it yourself its faster this way"},{"owner":{"account_id":18234755,"reputation":2205,"user_id":13273054,"display_name":"kiranr"},"score":0,"creation_date":1613061250,"post_id":66073055,"comment_id":116965563,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/228586/discussion-between-waveshaper-and-joe).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/228586/discussion-between-waveshaper-and-joe\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":24468763,"reputation":1,"user_id":18388775,"display_name":"Maaitrayo Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657300364,"creation_date":1657300364,"answer_id":72914816,"question_id":66073055,"body_markdown":"you can use Collections.singletonMap like this:Collections.singletonMap(key, value) inside .run() to generate output","title":"How to most efficiently feed one ONNX model&#39;s output into another in java?","body":"<p>you can use Collections.singletonMap like this:Collections.singletonMap(key, value) inside .run() to generate output</p>\n"}],"owner":{"account_id":6909540,"reputation":417,"user_id":5306011,"display_name":"Joe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1043,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657300364,"creation_date":1612579071,"question_id":66073055,"body_markdown":"I have two models built with ONNX, model A and model B. I use the [ONNX Runtime Java API][1] to load these models and make inferences with them. The workflow is that I need to compute a prediction with model A and then feed the result from model A into model B:\r\n```\r\nx -&gt; A(x) -&gt; B(A(x)) -&gt; y\r\n```\r\nWhen I call `resultFromA = A.run(inputs)`([OrtSession.run][3]) the API returns a [Result][2].\r\nIdeally I&#39;d like to take that result and call `B.run(resultFromA)` but `run` only accepts `Map&lt;String, OnnxTensor&gt; inputs`. Do I really have to iterate over `resultFromA` and put its contents into a new `Map`? Or is their a method/usage from the API that I&#39;m overlooking?\r\n\r\nHere is what I&#39;d like to do:\r\n```\r\nOrtEnvironment environment = OrtEnvironment.getEnvironment();\r\nOrtSession modelASession = environment.createSession(...);\r\nOrtSession modelBSession = environment.createSession(...);\r\n\r\ntry (Result modelAResults = modelASession.run(inputTensor)) {\r\n    \r\n    try(Result modelBResults = modelBSession.run(modelAResults) { // &lt;-------run won&#39;t take a Result object\r\n        //do something with model B results...\r\n    }\r\n}\r\n```\r\n\r\nAnd what I have to do instead:\r\n```\r\nOrtEnvironment environment = OrtEnvironment.getEnvironment();\r\nOrtSession modelASession = environment.createSession(...);\r\nOrtSession modelBSession = environment.createSession(...);\r\n\r\ntry (Result modelAResults = modelASession.run(inputTensor)) {\r\n\r\n    Map&lt;String, OnnxTensor&gt; modelAMap = new HashMap&lt;String, OnnxTensor&gt;();\r\n    modelAResults.forEach(e -&gt; modelAMap.put(e.getKey(), (OnnxTensor) e.getValue()));\r\n    \r\n    try(Result modelBResults = modelBSession.run(modelAMap) {\r\n        //do something with model B results...\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/microsoft/onnxruntime/tree/master/java\r\n  [2]: https://github.com/microsoft/onnxruntime/blob/master/java/src/main/java/ai/onnxruntime/OrtSession.java#L1091\r\n  [3]: https://github.com/microsoft/onnxruntime/blob/master/java/src/main/java/ai/onnxruntime/OrtSession.java#L200","title":"How to most efficiently feed one ONNX model&#39;s output into another in java?","body":"<p>I have two models built with ONNX, model A and model B. I use the <a href=\"https://github.com/microsoft/onnxruntime/tree/master/java\" rel=\"nofollow noreferrer\">ONNX Runtime Java API</a> to load these models and make inferences with them. The workflow is that I need to compute a prediction with model A and then feed the result from model A into model B:</p>\n<pre><code>x -&gt; A(x) -&gt; B(A(x)) -&gt; y\n</code></pre>\n<p>When I call <code>resultFromA = A.run(inputs)</code>(<a href=\"https://github.com/microsoft/onnxruntime/blob/master/java/src/main/java/ai/onnxruntime/OrtSession.java#L200\" rel=\"nofollow noreferrer\">OrtSession.run</a>) the API returns a <a href=\"https://github.com/microsoft/onnxruntime/blob/master/java/src/main/java/ai/onnxruntime/OrtSession.java#L1091\" rel=\"nofollow noreferrer\">Result</a>.\nIdeally I'd like to take that result and call <code>B.run(resultFromA)</code> but <code>run</code> only accepts <code>Map&lt;String, OnnxTensor&gt; inputs</code>. Do I really have to iterate over <code>resultFromA</code> and put its contents into a new <code>Map</code>? Or is their a method/usage from the API that I'm overlooking?</p>\n<p>Here is what I'd like to do:</p>\n<pre><code>OrtEnvironment environment = OrtEnvironment.getEnvironment();\nOrtSession modelASession = environment.createSession(...);\nOrtSession modelBSession = environment.createSession(...);\n\ntry (Result modelAResults = modelASession.run(inputTensor)) {\n    \n    try(Result modelBResults = modelBSession.run(modelAResults) { // &lt;-------run won't take a Result object\n        //do something with model B results...\n    }\n}\n</code></pre>\n<p>And what I have to do instead:</p>\n<pre><code>OrtEnvironment environment = OrtEnvironment.getEnvironment();\nOrtSession modelASession = environment.createSession(...);\nOrtSession modelBSession = environment.createSession(...);\n\ntry (Result modelAResults = modelASession.run(inputTensor)) {\n\n    Map&lt;String, OnnxTensor&gt; modelAMap = new HashMap&lt;String, OnnxTensor&gt;();\n    modelAResults.forEach(e -&gt; modelAMap.put(e.getKey(), (OnnxTensor) e.getValue()));\n    \n    try(Result modelBResults = modelBSession.run(modelAMap) {\n        //do something with model B results...\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-architecture-navigation","dagger-hilt"],"answers":[{"tags":[],"owner":{"account_id":14549133,"reputation":525,"user_id":10508565,"display_name":"Mieczkoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657300185,"creation_date":1657300185,"answer_id":72914780,"question_id":72913882,"body_markdown":"&quot;Hilt_HomeFragment&quot; is a class generated for Hilt purposes, you should not care about it. Just make the `Build` -&gt; `Clean Project`. Then go to your graph, clear the wrong `name` and write the proper one with the full package path. For example:\r\n\r\n    android:name=&quot;com.example.home.HomeFragment&quot;\r\nWhen you start typing in the `name` field, Android Studio will show you the prompt with matching fragments you can use - just select the proper one and the `name` will be filled with it.","title":"How to use navigation component when Hilt changes the names of the fragments","body":"<p>&quot;Hilt_HomeFragment&quot; is a class generated for Hilt purposes, you should not care about it. Just make the <code>Build</code> -&gt; <code>Clean Project</code>. Then go to your graph, clear the wrong <code>name</code> and write the proper one with the full package path. For example:</p>\n<pre><code>android:name=&quot;com.example.home.HomeFragment&quot;\n</code></pre>\n<p>When you start typing in the <code>name</code> field, Android Studio will show you the prompt with matching fragments you can use - just select the proper one and the <code>name</code> will be filled with it.</p>\n"}],"owner":{"account_id":24580690,"reputation":33,"user_id":18485872,"display_name":"Iam Me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72914780,"answer_count":1,"score":1,"last_activity_date":1657300185,"creation_date":1657294943,"question_id":72913882,"body_markdown":"I&#39;m creating an Android app (Java) and using Navigation Components and Hilt for the first time. In the Navigation Editor I&#39;m creating destinations and see that the fragments I created that have been annotated with @AndroidEntryPoint now show as &quot;Hilt_&quot; + the fragment name. Now my app cannot build because the compiler is looking for a constructor with &quot;Hilt_&quot; + the fragment name instead of just the fragment name. Ex: my fragment is named HomeFragment but in the Navigation Editor it is called Hilt_HomeFragment. Error I get when compiling:\r\n\r\n    Caused by: androidx.fragment.app.Fragment$InstantiationException: Unable to instantiate fragment com.blah.blah.fragment.Hilt_HomeFragment: could not find Fragment constructor\r\n\r\nHow should the name discrepancies be handled so I can use Hilt &amp; navigation components together? ","title":"How to use navigation component when Hilt changes the names of the fragments","body":"<p>I'm creating an Android app (Java) and using Navigation Components and Hilt for the first time. In the Navigation Editor I'm creating destinations and see that the fragments I created that have been annotated with @AndroidEntryPoint now show as &quot;Hilt_&quot; + the fragment name. Now my app cannot build because the compiler is looking for a constructor with &quot;Hilt_&quot; + the fragment name instead of just the fragment name. Ex: my fragment is named HomeFragment but in the Navigation Editor it is called Hilt_HomeFragment. Error I get when compiling:</p>\n<pre><code>Caused by: androidx.fragment.app.Fragment$InstantiationException: Unable to instantiate fragment com.blah.blah.fragment.Hilt_HomeFragment: could not find Fragment constructor\n</code></pre>\n<p>How should the name discrepancies be handled so I can use Hilt &amp; navigation components together?</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":0,"creation_date":1373372684,"post_id":17548026,"comment_id":25523853,"body_markdown":"The file exists, and it&#39;s a valid SQLite database - but does it contain any tables?","body":"The file exists, and it&#39;s a valid SQLite database - but does it contain any tables?"},{"owner":{"account_id":2477886,"reputation":409,"user_id":2158104,"accept_rate":57,"display_name":"eraelpeha"},"score":0,"creation_date":1373375603,"post_id":17548026,"comment_id":25525651,"body_markdown":"yes it does. And data as well.","body":"yes it does. And data as well."},{"owner":{"account_id":3226549,"reputation":1852,"user_id":2722799,"accept_rate":64,"display_name":"Java Man"},"score":0,"creation_date":1382518253,"post_id":17548026,"comment_id":28986126,"body_markdown":"@mjreaper..did you find the solution for this code? can you help me how to restore?","body":"@mjreaper..did you find the solution for this code? can you help me how to restore?"}],"answers":[{"tags":[],"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657300126,"creation_date":1385566716,"answer_id":20246685,"question_id":17548026,"body_markdown":"It looks like you are missing two things:\r\n\r\n1. The quotes around the file name.\r\n2. `stat.close`.\r\n\r\nTry the following:\r\n\r\n    this._conn = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;);\r\n    Statement stat  = this._conn.createStatement();\r\n    File dbFile = new File(this._config.GetDataBaseFile());\r\n    if (dbFile.exists()) {\r\n        this._logger.AddInfo(&quot;File exists.&quot;);\r\n        stat.executeUpdate(&quot;restore from &#39;&quot; + dbFile.getAbsolutePath() + &quot;&#39;&quot;);\r\n        stat.close();\r\n    }\r\n\r\nThat was the only way I could get it to work with Xerial SQLite JDBC version 3.7.15-M1. I do not think that the version matters much in this case.","title":"Backup and restore sqlite from disk to memory in Java","body":"<p>It looks like you are missing two things:</p>\n<ol>\n<li>The quotes around the file name.</li>\n<li><code>stat.close</code>.</li>\n</ol>\n<p>Try the following:</p>\n<pre><code>this._conn = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;);\nStatement stat  = this._conn.createStatement();\nFile dbFile = new File(this._config.GetDataBaseFile());\nif (dbFile.exists()) {\n    this._logger.AddInfo(&quot;File exists.&quot;);\n    stat.executeUpdate(&quot;restore from '&quot; + dbFile.getAbsolutePath() + &quot;'&quot;);\n    stat.close();\n}\n</code></pre>\n<p>That was the only way I could get it to work with Xerial SQLite JDBC version 3.7.15-M1. I do not think that the version matters much in this case.</p>\n"},{"tags":[],"owner":{"account_id":5197491,"reputation":155,"user_id":4158188,"display_name":"Wei Lin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426212171,"creation_date":1426034439,"answer_id":28976626,"question_id":17548026,"body_markdown":"The quotes and `stat.close()` don&#39;t matter, according to the link: `https://bitbucket.org/xerial/sqlite-jdbc/wiki/Usage&#39;, which I have tested. Quotes help when file path contains spaces, though.\r\n\r\nI think it maybe due to the jdbc driver. Try Xerial&#39;s JDBC driver for SQLite, which works fine for me.","title":"Backup and restore sqlite from disk to memory in Java","body":"<p>The quotes and <code>stat.close()</code> don't matter, according to the link: `<a href=\"https://bitbucket.org/xerial/sqlite-jdbc/wiki/Usage\" rel=\"nofollow\">https://bitbucket.org/xerial/sqlite-jdbc/wiki/Usage</a>', which I have tested. Quotes help when file path contains spaces, though.</p>\n\n<p>I think it maybe due to the jdbc driver. Try Xerial's JDBC driver for SQLite, which works fine for me.</p>\n"}],"owner":{"account_id":2477886,"reputation":409,"user_id":2158104,"accept_rate":57,"display_name":"eraelpeha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5973,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1657300126,"creation_date":1373372483,"question_id":17548026,"body_markdown":"I&#39;m trying to read a sqlite-File into memory for better performance, when closing my application I want to write it back to hdd.\r\n\r\nI&#39;m using the _jdbc_ (3.7.2) driver in Java.\r\n\r\nAccording to the docs, my Code looks like\r\n\r\n    this._conn = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;);\r\n    Statement stat  = this._conn.createStatement();\r\n    File dbFile = new File(this._config.GetDataBaseFile());\r\n    if (dbFile.exists()) {\r\n        this._logger.AddInfo(&quot;File exists.&quot;);\r\n        stat.executeUpdate(&quot;restore from &quot; + dbFile.getAbsolutePath());\r\n    }\r\n\r\nThe file exists (and its a valid sqlite db), `this._conn` is open, but if I want to execute statements on it, it appears that there is no table nor data inside. It seems it doesn&#39;t restore anything.\r\n\r\nAny suggestions on how to solve/debug that further?\r\n\r\n(by the way - if I use `stat.executeUpdate(&quot;backup to test.db&quot;)`on my connection, it backups my empty :memory: db...)","title":"Backup and restore sqlite from disk to memory in Java","body":"<p>I'm trying to read a sqlite-File into memory for better performance, when closing my application I want to write it back to hdd.</p>\n\n<p>I'm using the <em>jdbc</em> (3.7.2) driver in Java.</p>\n\n<p>According to the docs, my Code looks like</p>\n\n<pre><code>this._conn = DriverManager.getConnection(\"jdbc:sqlite:\");\nStatement stat  = this._conn.createStatement();\nFile dbFile = new File(this._config.GetDataBaseFile());\nif (dbFile.exists()) {\n    this._logger.AddInfo(\"File exists.\");\n    stat.executeUpdate(\"restore from \" + dbFile.getAbsolutePath());\n}\n</code></pre>\n\n<p>The file exists (and its a valid sqlite db), <code>this._conn</code> is open, but if I want to execute statements on it, it appears that there is no table nor data inside. It seems it doesn't restore anything.</p>\n\n<p>Any suggestions on how to solve/debug that further?</p>\n\n<p>(by the way - if I use <code>stat.executeUpdate(\"backup to test.db\")</code>on my connection, it backups my empty :memory: db...)</p>\n"},{"tags":["java","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657299465,"creation_date":1455891145,"answer_id":35507351,"question_id":35493079,"body_markdown":"This is a case where the API spec doesn&#39;t always match the implementation.  The unwritten rules from the source code seem to be:\r\n\r\n 1. Handling of a null record can be hostile or ignored.  Subclasses of [StreamHandler ignore null][1] and the [MemoryHandler is null hostile][2].  The logger never passes null to publish and [JDK-8216363: NullPointerException in java.util.logging.Handler#isLoggable][3] makes it so null records are treated as ignored.\r\n 2. Any runtime exception thrown from isLoggable will escape the Handler.  Which means any exception thrown from a filter escapes the publish method and is not trapped by the error manager.  Notice how there is no enum [ErrorManager.FILTER_FAILURE][4] so that implies that the behavior is intentional.\r\n 3. Exceptions that the publish should not throw are enumerated in the ErrorManager documentation.  Most cases are formatting and writing errors.\r\n\r\nReally publish should delegate to the error manager to determine if [publish throws exceptions or not][5].  From the [Handler.setErrorManager][6] documentation:\r\n\r\n&gt; The ErrorManager&#39;s &quot;error&quot; method will be invoked if any errors occur while using this Handler.\r\n\r\nThis implies that publish should obey the behavior of the error manager which by default doesn&#39;t throw.\r\n\r\nIf you want to get an exception through Handler.reportError you have to use a sneaky throw.\r\n\r\n    public class HostileErrorManager extends ErrorManager {\r\n        public HostileErrorManager() {\r\n        }\r\n\r\n        @Override\r\n        protected void reportError(String msg, Exception ex, int code) {\r\n            sneakyThrow(new Throwable(msg + &quot;: &quot; + code, ex));\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private &lt;T extends RuntimeException&gt; void sneakyThrow(Throwable t) throws T {\r\n            throw (T) t;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-4935768\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-4784725\r\n  [3]: https://bugs.openjdk.org/browse/JDK-8216363\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/logging/ErrorManager.html\r\n  [5]: https://bugs.openjdk.java.net/browse/JDK-6375922\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/java/util/logging/Handler.html#setErrorManager(java.util.logging.ErrorManager)","title":"Can implementations of Handler.publish() throw runtime exceptions?","body":"<p>This is a case where the API spec doesn't always match the implementation.  The unwritten rules from the source code seem to be:</p>\n<ol>\n<li>Handling of a null record can be hostile or ignored.  Subclasses of <a href=\"https://bugs.openjdk.java.net/browse/JDK-4935768\" rel=\"nofollow noreferrer\">StreamHandler ignore null</a> and the <a href=\"https://bugs.openjdk.java.net/browse/JDK-4784725\" rel=\"nofollow noreferrer\">MemoryHandler is null hostile</a>.  The logger never passes null to publish and <a href=\"https://bugs.openjdk.org/browse/JDK-8216363\" rel=\"nofollow noreferrer\">JDK-8216363: NullPointerException in java.util.logging.Handler#isLoggable</a> makes it so null records are treated as ignored.</li>\n<li>Any runtime exception thrown from isLoggable will escape the Handler.  Which means any exception thrown from a filter escapes the publish method and is not trapped by the error manager.  Notice how there is no enum <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/logging/ErrorManager.html\" rel=\"nofollow noreferrer\">ErrorManager.FILTER_FAILURE</a> so that implies that the behavior is intentional.</li>\n<li>Exceptions that the publish should not throw are enumerated in the ErrorManager documentation.  Most cases are formatting and writing errors.</li>\n</ol>\n<p>Really publish should delegate to the error manager to determine if <a href=\"https://bugs.openjdk.java.net/browse/JDK-6375922\" rel=\"nofollow noreferrer\">publish throws exceptions or not</a>.  From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/logging/Handler.html#setErrorManager(java.util.logging.ErrorManager)\" rel=\"nofollow noreferrer\">Handler.setErrorManager</a> documentation:</p>\n<blockquote>\n<p>The ErrorManager's &quot;error&quot; method will be invoked if any errors occur while using this Handler.</p>\n</blockquote>\n<p>This implies that publish should obey the behavior of the error manager which by default doesn't throw.</p>\n<p>If you want to get an exception through Handler.reportError you have to use a sneaky throw.</p>\n<pre><code>public class HostileErrorManager extends ErrorManager {\n    public HostileErrorManager() {\n    }\n\n    @Override\n    protected void reportError(String msg, Exception ex, int code) {\n        sneakyThrow(new Throwable(msg + &quot;: &quot; + code, ex));\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private &lt;T extends RuntimeException&gt; void sneakyThrow(Throwable t) throws T {\n        throw (T) t;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657299465,"creation_date":1455832084,"question_id":35493079,"body_markdown":"I have a question about java.util.logging.Handler:\r\n\r\nIs an implementation of this abstract method allowed to throw RuntimeExceptions, or should it always report to the error manager?\r\n\r\nThe documentation does not specify, but other methods in the class explicitly state what they can throw:\r\n\r\n&gt; public abstract void publish(LogRecord record) Publish a LogRecord.\r\n&gt; The logging request was made initially to a Logger object, which\r\n&gt; initialized the LogRecord and forwarded it here.\r\n&gt; \r\n&gt; The Handler is responsible for formatting the message, when and if\r\n&gt; necessary. The formatting should include localization.\r\n&gt; \r\n&gt; Parameters: record - description of the log event. A null record is\r\n&gt; silently ignored and is not published\r\n\r\n[Link: https://docs.oracle.com/javase/7/docs/api/java/util/logging/Handler.html#publish(java.util.logging.LogRecord)]","title":"Can implementations of Handler.publish() throw runtime exceptions?","body":"<p>I have a question about java.util.logging.Handler:</p>\n\n<p>Is an implementation of this abstract method allowed to throw RuntimeExceptions, or should it always report to the error manager?</p>\n\n<p>The documentation does not specify, but other methods in the class explicitly state what they can throw:</p>\n\n<blockquote>\n  <p>public abstract void publish(LogRecord record) Publish a LogRecord.\n  The logging request was made initially to a Logger object, which\n  initialized the LogRecord and forwarded it here.</p>\n  \n  <p>The Handler is responsible for formatting the message, when and if\n  necessary. The formatting should include localization.</p>\n  \n  <p>Parameters: record - description of the log event. A null record is\n  silently ignored and is not published</p>\n</blockquote>\n\n<p>[Link: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/logging/Handler.html#publish(java.util.logging.LogRecord)]\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/util/logging/Handler.html#publish(java.util.logging.LogRecord)]</a></p>\n"},{"tags":["java","android","android-layout","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":20262808,"reputation":21,"user_id":14860789,"display_name":"Mayank Rana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623796155,"creation_date":1623796155,"answer_id":67994215,"question_id":67993963,"body_markdown":"i successfully solve this error, by adding this\r\n\r\n&gt; .getText()\r\n\r\ninto the first activity code.\r\n\r\n**Like this:-**\r\n\r\n    &lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n    \r\n    &lt;!-- language: lang-html --&gt;\r\n    \r\n            public void jumpto3(View view) {\r\n                Intent i1 = new Intent(this,ThirdActivity.class);\r\n                i1.putExtra(&quot;user&quot;,e1.getText().toString());\r\n                startActivity(i1);\r\n            }\r\n    \r\n    &lt;!-- end snippet --&gt;\r\n\r\n\r\nThen my error is solved.\r\n\r\n\r\n***After code is edit:-***\r\n[you can see the result in this image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1roLX.png","title":"androidx.appcompat.widget.AppCompatEditText error","body":"<p>i successfully solve this error, by adding this</p>\n<blockquote>\n<p>.getText()</p>\n</blockquote>\n<p>into the first activity code.</p>\n<p><strong>Like this:-</strong></p>\n<pre><code><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        public void jumpto3(View view) {\n            Intent i1 = new Intent(this,ThirdActivity.class);\n            i1.putExtra(\"user\",e1.getText().toString());\n            startActivity(i1);\n        }</code></pre>\r\n</div>\r\n</div>\r\n\n</code></pre>\n<p>Then my error is solved.</p>\n<p><em><strong>After code is edit:-</strong></em>\n<a href=\"https://i.stack.imgur.com/1roLX.png\" rel=\"nofollow noreferrer\">you can see the result in this image</a></p>\n"},{"tags":[],"owner":{"account_id":16785211,"reputation":73,"user_id":12134382,"display_name":"Mortadha BOUALLAGUI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634392694,"creation_date":1634392694,"answer_id":69596252,"question_id":67993963,"body_markdown":"On the first Activity \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        public void openActivity2(){\r\n            EditText editEmail =findViewById(R.id.textEmail) ;\r\n            Bundle bundle = new Bundle();\r\n            Intent i = new Intent(this, MainActivity2.class);\r\n            bundle.putString(&quot;emailvalue&quot;, editEmail.getText().toString());\r\n            i.putExtras(bundle);\r\n            startActivity(i);\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen in your second Activity u can get the value of EditText like that \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent i = getIntent();\r\n                    String text = i.getStringExtra(&quot;emailvalue&quot; );\r\n                    System.out.println(text);\r\n\r\n                }\r\n            });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n \r\n\r\n","title":"androidx.appcompat.widget.AppCompatEditText error","body":"<p>On the first Activity</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    public void openActivity2(){\n        EditText editEmail =findViewById(R.id.textEmail) ;\n        Bundle bundle = new Bundle();\n        Intent i = new Intent(this, MainActivity2.class);\n        bundle.putString(\"emailvalue\", editEmail.getText().toString());\n        i.putExtras(bundle);\n        startActivity(i);\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then in your second Activity u can get the value of EditText like that</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent i = getIntent();\n                String text = i.getStringExtra(\"emailvalue\" );\n                System.out.println(text);\n\n            }\n        });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":25761069,"reputation":1,"user_id":19511999,"display_name":"deepak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657299152,"creation_date":1657299152,"answer_id":72914613,"question_id":67993963,"body_markdown":"you are missing .getText().toString()  somewhere. find that out and fix it. ","title":"androidx.appcompat.widget.AppCompatEditText error","body":"<p>you are missing .getText().toString()  somewhere. find that out and fix it.</p>\n"}],"owner":{"account_id":20262808,"reputation":21,"user_id":14860789,"display_name":"Mayank Rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1657299152,"creation_date":1623794210,"question_id":67993963,"body_markdown":"**Full Error:-**\r\n\r\n&gt;     &gt; androidx.appcompat.widget.AppCompatEditText{39b5cb6VFED..CL. .F....... 188,641-977,812 #7f080097 app:id/edittext aid=1073741824}\r\n\r\n\r\n**This image will show you that error...**\r\n\r\nhttps://i.stack.imgur.com/ZpVnh.png\r\n\r\n**Detail:-**\r\ni got this error when i was passing data from one activity to another in android.\r\n\r\n\r\n\r\n**Activity 1st Code:-**\r\n\r\n    &lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    &lt;!-- language: lang-html --&gt;\r\n    EditText e1;\r\n    e1 = (EditText) findViewById(R.id.edittxt);\r\n\r\n    public void jumpbutton(View view) {\r\n    Intent i1 = new Intent(this,ThirdActivity.class);\r\n    i1.putExtra(&quot;user&quot;,e1.toString());\r\n    startActivity(i1);\r\n    }\r\n\r\n    &lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n**Activity 2nd Code:-**\r\n\r\n    &lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    &lt;!-- language: lang-html --&gt;\r\n\r\n    TextView txt1;\r\n    txt1 = (TextView) findViewById(R.id.txtvw);\r\n    Bundle bd1 = getIntent().getExtras();\r\n    String st1 = bd1.getString(&quot;user&quot;);\r\n    txt1.setText(st1);\r\n\r\n    &lt;!-- end snippet --&gt;\r\n\r\n","title":"androidx.appcompat.widget.AppCompatEditText error","body":"<p><strong>Full Error:-</strong></p>\n<blockquote>\n<pre><code>&gt; androidx.appcompat.widget.AppCompatEditText{39b5cb6VFED..CL. .F....... 188,641-977,812 #7f080097 app:id/edittext aid=1073741824}\n</code></pre>\n</blockquote>\n<p><strong>This image will show you that error...</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ZpVnh.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ZpVnh.png</a></p>\n<p><strong>Detail:-</strong>\ni got this error when i was passing data from one activity to another in android.</p>\n<p><strong>Activity 1st Code:-</strong></p>\n<pre><code><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>EditText e1;\ne1 = (EditText) findViewById(R.id.edittxt);\n\npublic void jumpbutton(View view) {\nIntent i1 = new Intent(this,ThirdActivity.class);\ni1.putExtra(\"user\",e1.toString());\nstartActivity(i1);\n}</code></pre>\r\n</div>\r\n</div>\r\n\n</code></pre>\n<p><strong>Activity 2nd Code:-</strong></p>\n<pre><code><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>TextView txt1;\ntxt1 = (TextView) findViewById(R.id.txtvw);\nBundle bd1 = getIntent().getExtras();\nString st1 = bd1.getString(\"user\");\ntxt1.setText(st1);</code></pre>\r\n</div>\r\n</div>\r\n\n</code></pre>\n"},{"tags":["java","spring","repository"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1657241825,"post_id":72905602,"comment_id":128770334,"body_markdown":"have you tried to place annotation `@Service` under `DayTradeServiceImpl`?","body":"have you tried to place annotation <code>@Service</code> under <code>DayTradeServiceImpl</code>?"},{"owner":{"account_id":3820579,"reputation":1458,"user_id":3168770,"accept_rate":67,"display_name":"Paulo"},"score":0,"creation_date":1657242019,"post_id":72905602,"comment_id":128770352,"body_markdown":"Yes, I did. I also thought that was the problem, but it didn&#39;t solve it.","body":"Yes, I did. I also thought that was the problem, but it didn&#39;t solve it."},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":1,"creation_date":1657243744,"post_id":72905602,"comment_id":128770585,"body_markdown":"How did you call getDayTrends?","body":"How did you call getDayTrends?"},{"owner":{"account_id":3820579,"reputation":1458,"user_id":3168770,"accept_rate":67,"display_name":"Paulo"},"score":0,"creation_date":1657243969,"post_id":72905602,"comment_id":128770617,"body_markdown":"Inside my DayTradeController class: I create an object of DayTradeServiceImpl class and call the method.","body":"Inside my DayTradeController class: I create an object of DayTradeServiceImpl class and call the method."}],"answers":[{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657244658,"creation_date":1657244658,"answer_id":72905863,"question_id":72905602,"body_markdown":"You not need create new object. You have to call like this:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public class TestController {\r\n    \r\n        @Autowired\r\n        private DayTradeServiceImpl dayTradeService;\r\n    \r\n    \r\n        @GetMapping(value = &quot;/get&quot;)\r\n        public void getTrades() {\r\n            dayTradeService.getDayTrades(...);\r\n        }\r\n    \r\n    }\r\n\r\nAnd set annotation @Service for DayTradeServiceImpl.\r\n\r\n    @Service\r\n    public class DayTradeServiceImpl implements DayTradeService {\r\n        \r\n        @Autowired\r\n        private DayTradeRepository dayTradeRepository;\r\n        \r\n        @Override\r\n        public List&lt;DayTrade&gt; getDayTrades(List&lt;NotaDeCorretagem&gt; corretagens) {\r\n            // Several lines of code and some of them is trying to use dayTradeRepository.\r\n        }\r\n    }\r\n\r\nSpring framework use [inversion of control][1], which has container for beans. For detect beans use annotation like: @Service, @Component, @Repository. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html","title":"How can I use a JpaRepository, with @Autowired, inside a service class?","body":"<p>You not need create new object. You have to call like this:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/test&quot;)\npublic class TestController {\n\n    @Autowired\n    private DayTradeServiceImpl dayTradeService;\n\n\n    @GetMapping(value = &quot;/get&quot;)\n    public void getTrades() {\n        dayTradeService.getDayTrades(...);\n    }\n\n}\n</code></pre>\n<p>And set annotation @Service for DayTradeServiceImpl.</p>\n<pre><code>@Service\npublic class DayTradeServiceImpl implements DayTradeService {\n    \n    @Autowired\n    private DayTradeRepository dayTradeRepository;\n    \n    @Override\n    public List&lt;DayTrade&gt; getDayTrades(List&lt;NotaDeCorretagem&gt; corretagens) {\n        // Several lines of code and some of them is trying to use dayTradeRepository.\n    }\n}\n</code></pre>\n<p>Spring framework use <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html\" rel=\"nofollow noreferrer\">inversion of control</a>, which has container for beans. For detect beans use annotation like: @Service, @Component, @Repository.</p>\n"}],"owner":{"account_id":3820579,"reputation":1458,"user_id":3168770,"accept_rate":67,"display_name":"Paulo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72905863,"answer_count":1,"score":0,"last_activity_date":1657299071,"creation_date":1657241413,"question_id":72905602,"body_markdown":"I&#39;ve already read these questions and none of them worked:\r\n\r\nhttps://stackoverflow.com/questions/71541018/spring-boot-mvc-unable-to-autowire-repository-in-the-service-class\r\n\r\nhttps://stackoverflow.com/questions/70833601/why-cant-autowired-a-jpa-repository-spring-boot-jpa\r\n\r\nhttps://stackoverflow.com/questions/62708383/jparepository-getting-null-at-service-class\r\n\r\nAnd also this one: https://www.baeldung.com/spring-autowired-field-null\r\n\r\nUnfortunately, none of them worked.\r\n\r\nWhat I have is:\r\n\r\nService interface:\r\n\r\n    @Service\r\n    public interface DayTradeService {\r\n    \tpublic List&lt;DayTrade&gt; getDayTrades(List&lt;NotaDeCorretagem&gt; corretagens);\r\n    }\r\n\r\nService Implementation:\r\n\r\n    public class DayTradeServiceImpl implements DayTradeService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate DayTradeRepository dayTradeRepository;\r\n    \t\r\n    \t@Override\r\n    \tpublic List&lt;DayTrade&gt; getDayTrades(List&lt;NotaDeCorretagem&gt; corretagens) {\r\n    \t\t// Several lines of code and some of them is trying to use dayTradeRepository.\r\n    \t}\r\n    }\r\n\r\nMy DayTradeRepository:\r\n\r\n    @Repository\r\n    public interface DayTradeRepository extends JpaRepository&lt;DayTrade, Integer&gt; {}\r\n\r\nInside my `DayTradeController` (annotated with `@Controller`), I can use a dayTradeRepository with `@Autowired`. But inside a service class, I cannot use. I get this message:\r\n\r\n    Cannot invoke &quot;meca.irpf.Repositories.DayTradeRepository.getDayTrades()&quot; because &quot;this.dayTradeRepository&quot; is null&quot;\r\n\r\nHow can I make it possible?\r\n\r\nEDIT after I accepted Nikita&#39;s answer:\r\n\r\nI didn&#39;t post the `Controller` code, but it didn&#39;t have the `@Autowired` for the service class `DayTradeServiceImpl`. That was the point I was missing. After Nikita pointing that, I could solve the problem.","title":"How can I use a JpaRepository, with @Autowired, inside a service class?","body":"<p>I've already read these questions and none of them worked:</p>\n<p><a href=\"https://stackoverflow.com/questions/71541018/spring-boot-mvc-unable-to-autowire-repository-in-the-service-class\">Spring boot MVC - Unable to Autowire Repository in the service class</a></p>\n<p><a href=\"https://stackoverflow.com/questions/70833601/why-cant-autowired-a-jpa-repository-spring-boot-jpa\">Why can&#39;t @Autowired a JPA repository - Spring boot + JPA</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62708383/jparepository-getting-null-at-service-class\">JpaRepository getting Null at service class</a></p>\n<p>And also this one: <a href=\"https://www.baeldung.com/spring-autowired-field-null\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-autowired-field-null</a></p>\n<p>Unfortunately, none of them worked.</p>\n<p>What I have is:</p>\n<p>Service interface:</p>\n<pre><code>@Service\npublic interface DayTradeService {\n    public List&lt;DayTrade&gt; getDayTrades(List&lt;NotaDeCorretagem&gt; corretagens);\n}\n</code></pre>\n<p>Service Implementation:</p>\n<pre><code>public class DayTradeServiceImpl implements DayTradeService {\n    \n    @Autowired\n    private DayTradeRepository dayTradeRepository;\n    \n    @Override\n    public List&lt;DayTrade&gt; getDayTrades(List&lt;NotaDeCorretagem&gt; corretagens) {\n        // Several lines of code and some of them is trying to use dayTradeRepository.\n    }\n}\n</code></pre>\n<p>My DayTradeRepository:</p>\n<pre><code>@Repository\npublic interface DayTradeRepository extends JpaRepository&lt;DayTrade, Integer&gt; {}\n</code></pre>\n<p>Inside my <code>DayTradeController</code> (annotated with <code>@Controller</code>), I can use a dayTradeRepository with <code>@Autowired</code>. But inside a service class, I cannot use. I get this message:</p>\n<pre><code>Cannot invoke &quot;meca.irpf.Repositories.DayTradeRepository.getDayTrades()&quot; because &quot;this.dayTradeRepository&quot; is null&quot;\n</code></pre>\n<p>How can I make it possible?</p>\n<p>EDIT after I accepted Nikita's answer:</p>\n<p>I didn't post the <code>Controller</code> code, but it didn't have the <code>@Autowired</code> for the service class <code>DayTradeServiceImpl</code>. That was the point I was missing. After Nikita pointing that, I could solve the problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1657301335,"post_id":72914346,"comment_id":128786034,"body_markdown":"When you create a `Calendar` with no arguments, it&#39;s set to the current time. When you create a `Date` with no arguments, it&#39;s set to the current time. So immediately setting the time on the calendar with the date does nothing. Also, only use the `java.time` package, not the legacy classes in `java.util`.","body":"When you create a <code>Calendar</code> with no arguments, it&#39;s set to the current time. When you create a <code>Date</code> with no arguments, it&#39;s set to the current time. So immediately setting the time on the calendar with the date does nothing. Also, only use the <code>java.time</code> package, not the legacy classes in <code>java.util</code>."}],"answers":[{"tags":[],"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657298559,"creation_date":1657297696,"answer_id":72914366,"question_id":72914346,"body_markdown":"Java runs on the server, it cannot access the client&#39;s clock. If you want the time on the client&#39;s computer, you need to use JavaScript&#39;s `Date` object.\r\n\r\nSee https://stackoverflow.com/questions/10659523/how-to-get-the-exact-local-time-of-client.\r\n\r\nAnother option is to allow users to specify their timezone, and use this to localize times when displayed to the user. You would typically provide a drop-down in some kind of Account Settings page.\r\n\r\nBut in either case, the time (or timezone) comes from the client. You can make guesses on the server using, for example, geolocation services, but you cannot actually know what the user&#39;s local time is from the server.","title":"Java keeps giving me server time instead of laptop","body":"<p>Java runs on the server, it cannot access the client's clock. If you want the time on the client's computer, you need to use JavaScript's <code>Date</code> object.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/10659523/how-to-get-the-exact-local-time-of-client\">How to get the exact local time of client?</a>.</p>\n<p>Another option is to allow users to specify their timezone, and use this to localize times when displayed to the user. You would typically provide a drop-down in some kind of Account Settings page.</p>\n<p>But in either case, the time (or timezone) comes from the client. You can make guesses on the server using, for example, geolocation services, but you cannot actually know what the user's local time is from the server.</p>\n"}],"owner":{"account_id":6790467,"reputation":167,"user_id":5228625,"accept_rate":40,"display_name":"Murad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657298559,"creation_date":1657297584,"question_id":72914346,"body_markdown":"I&#39;m using JSP for a website, and there I have to display time. I have previously tried using ```LocalDate.now()``` and ```Date``` together with ```Calendar```, like this:\r\n\r\n    Date date = new Date();\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(date);\r\nBut this also gave me UTC Time instead of PST. I can&#39;t set it manually with ZoneSet because all user&#39;s will have a different timezone. How can I fix this? I&#39;m using Java 8","title":"Java keeps giving me server time instead of laptop","body":"<p>I'm using JSP for a website, and there I have to display time. I have previously tried using <code>LocalDate.now()</code> and <code>Date</code> together with <code>Calendar</code>, like this:</p>\n<pre><code>Date date = new Date();\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(date);\n</code></pre>\n<p>But this also gave me UTC Time instead of PST. I can't set it manually with ZoneSet because all user's will have a different timezone. How can I fix this? I'm using Java 8</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17360629,"reputation":1309,"user_id":12576990,"display_name":"Rafael"},"score":0,"creation_date":1655961289,"post_id":72724823,"comment_id":128456874,"body_markdown":"In your `while` loop you should traverse your linked list, but you don&#39;t. You are staying on a single place and don&#39;t moving forward in your linked list. Use debugger and go step by step to view the situation clearly.","body":"In your <code>while</code> loop you should traverse your linked list, but you don&#39;t. You are staying on a single place and don&#39;t moving forward in your linked list. Use debugger and go step by step to view the situation clearly."},{"owner":{"account_id":22136132,"reputation":67,"user_id":16386890,"display_name":"Max Ringnalda"},"score":0,"creation_date":1655961419,"post_id":72724823,"comment_id":128456895,"body_markdown":"adding something like current = current.head after the System.out.print?","body":"adding something like current = current.head after the System.out.print?"},{"owner":{"account_id":4237332,"reputation":1500,"user_id":3468135,"accept_rate":50,"display_name":"stuck"},"score":0,"creation_date":1655961841,"post_id":72724823,"comment_id":128456977,"body_markdown":"What are head and tail in Lista? You are not defining them; can you please add that part of the code, also?","body":"What are head and tail in Lista? You are not defining them; can you please add that part of the code, also?"},{"owner":{"account_id":22136132,"reputation":67,"user_id":16386890,"display_name":"Max Ringnalda"},"score":0,"creation_date":1655962023,"post_id":72724823,"comment_id":128457004,"body_markdown":"head and tail and the private Node in Class Node. I just wasn&#39;t sure how to access those values on Lista... or if it is even possible to do so...","body":"head and tail and the private Node in Class Node. I just wasn&#39;t sure how to access those values on Lista... or if it is even possible to do so..."}],"answers":[{"tags":[],"owner":{"account_id":25620043,"reputation":66,"user_id":19392104,"display_name":"Akhilesh Goutam"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1656051138,"creation_date":1655962494,"answer_id":72725003,"question_id":72724823,"body_markdown":"You may want to modify your code something like this:\r\n\r\nEDIT - This is a doubly-linked list implementation.\r\n\r\n    class Node {\r\n        int num;\r\n        Node prev;\r\n        Node next;\r\n\r\n        Node(int num) {\r\n            this.num = num;\r\n        }\r\n\r\n        Node(int num, Node prev, Node next) {\r\n            this.num = num;\r\n            this.prev = prev;\r\n            this.next = next;\r\n        }\r\n\r\n        void setPrev(Node prev) {\r\n            this.prev = prev;\r\n        }\r\n\r\n        void setNext(Node next) {\r\n            this.next = next;\r\n        }\r\n    }\r\n    \r\n\r\n    class Lista {\r\n        Node root;\r\n        Node endNode;\r\n\r\n        public void add(int num) {\r\n            Node n = new Node(num);\r\n\r\n            if (root == null) {\r\n                root = n;\r\n            } else {\r\n                n.setPrev(endNode);\r\n                endNode.setNext(n);\r\n            }\r\n            endNode = n;\r\n        }\r\n\r\n        public void display() {\r\n            Node iterateeNode = root;\r\n\r\n            while (iterateeNode != null) {\r\n                System.out.print(iterateeNode.num + &quot; &quot;);\r\n                iterateeNode = iterateeNode.next;\r\n            }\r\n        }\r\n    }","title":"Add and Print new Nodes","body":"<p>You may want to modify your code something like this:</p>\n<p>EDIT - This is a doubly-linked list implementation.</p>\n<pre><code>class Node {\n    int num;\n    Node prev;\n    Node next;\n\n    Node(int num) {\n        this.num = num;\n    }\n\n    Node(int num, Node prev, Node next) {\n        this.num = num;\n        this.prev = prev;\n        this.next = next;\n    }\n\n    void setPrev(Node prev) {\n        this.prev = prev;\n    }\n\n    void setNext(Node next) {\n        this.next = next;\n    }\n}\n\n\nclass Lista {\n    Node root;\n    Node endNode;\n\n    public void add(int num) {\n        Node n = new Node(num);\n\n        if (root == null) {\n            root = n;\n        } else {\n            n.setPrev(endNode);\n            endNode.setNext(n);\n        }\n        endNode = n;\n    }\n\n    public void display() {\n        Node iterateeNode = root;\n\n        while (iterateeNode != null) {\n            System.out.print(iterateeNode.num + &quot; &quot;);\n            iterateeNode = iterateeNode.next;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657298520,"creation_date":1655971796,"answer_id":72726704,"question_id":72724823,"body_markdown":"The selected answer is technically not correct. For a (single) Linked List, all your `Lista` need is a single (head) node. Additionally, the `Node` class needs a single (next) Node field.\r\n\r\nThe following is a potential implementation of Node:\r\n```\r\npublic class Node {\r\n\t\r\n  private Node next;\r\n  private int value;\r\n\r\n  public Node(int value) {\r\n      this.value = value;\r\n  }\r\n\r\n  public boolean hasNext() {\r\n      return next != null;\r\n  }\r\n  \r\n  public Node next() {\r\n  \treturn next;\r\n  }\r\n  \r\n  public void add(Node node) {\r\n  \tif (next == null) {\r\n  \t\tnext = node;\r\n  \t} else {\r\n  \t\tNode temp = next;\r\n  \t\twhile (temp != null) {\r\n  \t\t\ttemp = temp.next;\r\n  \t\t}\r\n  \t\ttemp = node;\r\n  \t}\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n  \treturn String.valueOf(value);\r\n  }\r\n}\r\n```\r\nThe `add()` method will insert the new node in `next` if it is null. Otherwise, it will traverse the nodes until it finds the tail node (the one where `next` is null). \r\n\r\nThe `Lista` has only the first element in the list (head node).\r\n```\r\npublic class Lista {\r\n\tprivate Node head;\r\n\t\r\n\tpublic void add(Node node) {\r\n\t\tif (head == null) {\r\n\t\t\thead = node;\r\n\t\t} else {\r\n\t\t\tNode temp = head;\r\n\t\t\twhile (temp.hasNext()) {\r\n\t\t\t\ttemp = temp.next();\r\n\t\t\t}\r\n\t\t\ttemp.add(node);\r\n\t\t}\r\n\t}\r\n    // Other methods\r\n}\r\n```\r\nWhen the `add()` function in the list is called, it will either add the new node as the head (if the list doesn&#39;t have one already) or rely on the already added nodes to figure out where the end of the list is in order to insert the new node.\r\n\r\nLastly, to display the list, just override the `toString()` method in node and add the &quot;toString&quot; value to a string buffer and send the concatenated string value to the console similar to the the code below.\r\n\r\n```\r\npublic void display() {\r\n\tStringBuilder buff = new StringBuilder(&quot;[&quot;);\r\n\tbuff.append(head);\r\n\tif (head != null) {\r\n\t\tNode next = head.next();\r\n\t\tbuff.append(&quot;,&quot;);\r\n\t\twhile (next != null) {\r\n\t\t\tbuff.append(next);\r\n\t\t\tnext = next.next();\r\n\t\t\tbuff.append(&quot;,&quot;);\r\n\t\t}\r\n\t}\r\n\tbuff.append(&quot;]&quot;);\r\n\tint idx = buff.lastIndexOf(&quot;,&quot;);\r\n\tbuff.replace(idx, idx+1, &quot;&quot;);\r\n\tSystem.out.println(buff.toString());\r\n}\r\n```\r\n\r\nExecuting the following displays `[3,9,7]` as expected.\r\n\r\n```\r\npublic class Demo {\r\n  public static void main ( String [] args) {\r\n      Lista lista = new Lista();\r\n      lista.add(new Node(3));\r\n      lista.add(new Node(9));\r\n      lista.add(new Node(7));\r\n      lista.display();\r\n  }\r\n}\r\n```","title":"Add and Print new Nodes","body":"<p>The selected answer is technically not correct. For a (single) Linked List, all your <code>Lista</code> need is a single (head) node. Additionally, the <code>Node</code> class needs a single (next) Node field.</p>\n<p>The following is a potential implementation of Node:</p>\n<pre><code>public class Node {\n    \n  private Node next;\n  private int value;\n\n  public Node(int value) {\n      this.value = value;\n  }\n\n  public boolean hasNext() {\n      return next != null;\n  }\n  \n  public Node next() {\n    return next;\n  }\n  \n  public void add(Node node) {\n    if (next == null) {\n        next = node;\n    } else {\n        Node temp = next;\n        while (temp != null) {\n            temp = temp.next;\n        }\n        temp = node;\n    }\n  }\n\n  @Override\n  public String toString() {\n    return String.valueOf(value);\n  }\n}\n</code></pre>\n<p>The <code>add()</code> method will insert the new node in <code>next</code> if it is null. Otherwise, it will traverse the nodes until it finds the tail node (the one where <code>next</code> is null).</p>\n<p>The <code>Lista</code> has only the first element in the list (head node).</p>\n<pre><code>public class Lista {\n    private Node head;\n    \n    public void add(Node node) {\n        if (head == null) {\n            head = node;\n        } else {\n            Node temp = head;\n            while (temp.hasNext()) {\n                temp = temp.next();\n            }\n            temp.add(node);\n        }\n    }\n    // Other methods\n}\n</code></pre>\n<p>When the <code>add()</code> function in the list is called, it will either add the new node as the head (if the list doesn't have one already) or rely on the already added nodes to figure out where the end of the list is in order to insert the new node.</p>\n<p>Lastly, to display the list, just override the <code>toString()</code> method in node and add the &quot;toString&quot; value to a string buffer and send the concatenated string value to the console similar to the the code below.</p>\n<pre><code>public void display() {\n    StringBuilder buff = new StringBuilder(&quot;[&quot;);\n    buff.append(head);\n    if (head != null) {\n        Node next = head.next();\n        buff.append(&quot;,&quot;);\n        while (next != null) {\n            buff.append(next);\n            next = next.next();\n            buff.append(&quot;,&quot;);\n        }\n    }\n    buff.append(&quot;]&quot;);\n    int idx = buff.lastIndexOf(&quot;,&quot;);\n    buff.replace(idx, idx+1, &quot;&quot;);\n    System.out.println(buff.toString());\n}\n</code></pre>\n<p>Executing the following displays <code>[3,9,7]</code> as expected.</p>\n<pre><code>public class Demo {\n  public static void main ( String [] args) {\n      Lista lista = new Lista();\n      lista.add(new Node(3));\n      lista.add(new Node(9));\n      lista.add(new Node(7));\n      lista.display();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22136132,"reputation":67,"user_id":16386890,"display_name":"Max Ringnalda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72725003,"answer_count":2,"score":0,"last_activity_date":1657298520,"creation_date":1655961032,"question_id":72724823,"body_markdown":"I was working on a program to add nodes to a list, but I seem to be doing something wrong...\r\n\r\nMy java program has three Classes; Demo, Lista and Node\r\n\r\nClass Node:\r\n```\r\npublic class Node {\r\n    \r\n    private int num;\r\n    private Node tail;\r\n    private Node head; \r\n\r\n    public Node (int num, Node head, Node tail) {\r\n        this.num = num;\r\n        this.head = head;\r\n        this.tail = tail;\r\n    }\r\n}\r\n```\r\n\r\nClass Lista:\r\n```\r\npublic class Lista {\r\n    \r\n    private Node nil;\r\n    \r\n    public Lista () {\r\n        nil = null;\r\n    }\r\n    \r\n    public void add (int num) {\r\n        Node newNode = new Node(num, head, tail);\r\n        \r\n        if (head == null) {\r\n            head = newNode;\r\n            tail = newNode;\r\n        }\r\n    }\r\n    \r\n    public void display () {\r\n        Node current = head;\r\n        \r\n        while(current != null) {\r\n            System.out.print(current.num);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nClass Demo:\r\n```\r\npublic class Demo {\r\n    \r\n    public static void main ( String [] args) {\r\n        Lista lista = new Lista();\r\n        lista.add(3);\r\n        lista.add(9);\r\n        lista.add(7);\r\n        lista.display();\r\n    }\r\n}\r\n```\r\n\r\nDemo class is to add the different nodes to the list &quot;lista&quot;. Class Node has num, head which is the next one and tail which is the previous one. How can I go about getting Class Lista to be able to use head and tail from Class Node? And if it is possible would this code work when running Demo? What should I change/modify to get this to work?","title":"Add and Print new Nodes","body":"<p>I was working on a program to add nodes to a list, but I seem to be doing something wrong...</p>\n<p>My java program has three Classes; Demo, Lista and Node</p>\n<p>Class Node:</p>\n<pre><code>public class Node {\n    \n    private int num;\n    private Node tail;\n    private Node head; \n\n    public Node (int num, Node head, Node tail) {\n        this.num = num;\n        this.head = head;\n        this.tail = tail;\n    }\n}\n</code></pre>\n<p>Class Lista:</p>\n<pre><code>public class Lista {\n    \n    private Node nil;\n    \n    public Lista () {\n        nil = null;\n    }\n    \n    public void add (int num) {\n        Node newNode = new Node(num, head, tail);\n        \n        if (head == null) {\n            head = newNode;\n            tail = newNode;\n        }\n    }\n    \n    public void display () {\n        Node current = head;\n        \n        while(current != null) {\n            System.out.print(current.num);\n        }\n    }\n}\n</code></pre>\n<p>Class Demo:</p>\n<pre><code>public class Demo {\n    \n    public static void main ( String [] args) {\n        Lista lista = new Lista();\n        lista.add(3);\n        lista.add(9);\n        lista.add(7);\n        lista.display();\n    }\n}\n</code></pre>\n<p>Demo class is to add the different nodes to the list &quot;lista&quot;. Class Node has num, head which is the next one and tail which is the previous one. How can I go about getting Class Lista to be able to use head and tail from Class Node? And if it is possible would this code work when running Demo? What should I change/modify to get this to work?</p>\n"},{"tags":["java","tomcat","jboss","jboss7.x","jboss6.x"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657298097,"creation_date":1657298097,"answer_id":72914427,"question_id":72912441,"body_markdown":"EAP 7.4 is using Undertow and not Tomcat so Tomcat classes aren&#39;t available.\r\nalso it is really a bad practice to depend on spec implementations internal in your code. The fix would be to remove all usage of that Tomcat class or make it part of your application.","title":"Getting deployment time error java.lang.NoClassDefFoundError: org/apache/tomcat/util/res/StringManager after JBOSS EAP Version Upgrade from 6.4 to 7.4","body":"<p>EAP 7.4 is using Undertow and not Tomcat so Tomcat classes aren't available.\nalso it is really a bad practice to depend on spec implementations internal in your code. The fix would be to remove all usage of that Tomcat class or make it part of your application.</p>\n"}],"owner":{"account_id":18230420,"reputation":13,"user_id":13269465,"display_name":"Ritesh_RM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657298097,"creation_date":1657288286,"question_id":72912441,"body_markdown":"I am trying to migrate my application server (JBOSS EAP) from 6.4 to 7.4.3. But, after migration I am getting the below error during my spring boot microservice deployment time.\r\n\r\n**Caused By: java.lang.NoClassDefFoundError: org/apache/tomcat/util/res/StringManager**\r\n\r\nThus, after doing some research I have removed couple of essential tomcat dependencies(tomcat-embed-el-9.0.58 and tomcat-embed-websocket-9.0.58 from my maven pom and the deployment time issue has resolved. Now, I can deploy my application in my new local JBOSS EAP 7.4.3 server. But, the above mentioned two dependencies are essential and we can&#39;t exclude that as per our upper environment configuration.\r\n\r\nCould you please give me some solutions except the above one(means without removing the tomcat dependencies) if you have faced this issue before. Thank you all!\r\n\r\nRegards,\r\nRitesh","title":"Getting deployment time error java.lang.NoClassDefFoundError: org/apache/tomcat/util/res/StringManager after JBOSS EAP Version Upgrade from 6.4 to 7.4","body":"<p>I am trying to migrate my application server (JBOSS EAP) from 6.4 to 7.4.3. But, after migration I am getting the below error during my spring boot microservice deployment time.</p>\n<p><strong>Caused By: java.lang.NoClassDefFoundError: org/apache/tomcat/util/res/StringManager</strong></p>\n<p>Thus, after doing some research I have removed couple of essential tomcat dependencies(tomcat-embed-el-9.0.58 and tomcat-embed-websocket-9.0.58 from my maven pom and the deployment time issue has resolved. Now, I can deploy my application in my new local JBOSS EAP 7.4.3 server. But, the above mentioned two dependencies are essential and we can't exclude that as per our upper environment configuration.</p>\n<p>Could you please give me some solutions except the above one(means without removing the tomcat dependencies) if you have faced this issue before. Thank you all!</p>\n<p>Regards,\nRitesh</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1657297094,"post_id":72914251,"comment_id":128784736,"body_markdown":"That is some funny looking JavaScript. Java is not JavaScript","body":"That is some funny looking JavaScript. Java is not JavaScript"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1657302770,"post_id":72914251,"comment_id":128786486,"body_markdown":"Just a side note. The outer loop is generating the ROWS, while the inner loop is generating the COLUMNS.  Swap the names so it makes more &quot;sense&quot;.","body":"Just a side note. The outer loop is generating the ROWS, while the inner loop is generating the COLUMNS.  Swap the names so it makes more &quot;sense&quot;."}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657297532,"creation_date":1657297532,"answer_id":72914336,"question_id":72914251,"body_markdown":"Your inner-loop is wrong, instead of `row&lt;=userSpecified`, it should be `row&lt;=col`. Try this:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Isoceles {\r\n    \r\n        public static void main(String[] args) {\r\n            // TODO Auto-generated method stub\r\n            Scanner stdIn = new Scanner(System.in);\r\n            \r\n            int userSpecified;//this will be the userSpecified triangle side size\r\n            int triangleSide;//printed triangle side size\r\n            int width, height;\r\n            \r\n            System.out.print(&quot;Enter the size of equal sides for isoceles triangle: &quot;);\r\n            userSpecified = stdIn.nextInt();\r\n            \r\n            for (int col=1; col&lt;=userSpecified; col++) \r\n            {\r\n               for (int row=1; row&lt;=col; row++) \r\n               {\r\n                   System.out.print(&quot;*&quot;);\r\n               }\r\n               System.out.println();\r\n           }\r\n       }\r\n    }","title":"Printing isoceles triangle based on user input","body":"<p>Your inner-loop is wrong, instead of <code>row&lt;=userSpecified</code>, it should be <code>row&lt;=col</code>. Try this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Isoceles {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner stdIn = new Scanner(System.in);\n        \n        int userSpecified;//this will be the userSpecified triangle side size\n        int triangleSide;//printed triangle side size\n        int width, height;\n        \n        System.out.print(&quot;Enter the size of equal sides for isoceles triangle: &quot;);\n        userSpecified = stdIn.nextInt();\n        \n        for (int col=1; col&lt;=userSpecified; col++) \n        {\n           for (int row=1; row&lt;=col; row++) \n           {\n               System.out.print(&quot;*&quot;);\n           }\n           System.out.println();\n       }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":25516208,"reputation":3,"user_id":19307030,"display_name":"LexiStroon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72914336,"answer_count":1,"score":-2,"last_activity_date":1657297532,"creation_date":1657297028,"question_id":72914251,"body_markdown":"I can make my code print out the proper amount of asterisks, but I need the asterisks in the &quot;row&quot; plane to increment only once each line. Here is the current code:\r\n```\r\npackage isoceles;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Isoceles {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner stdIn = new Scanner(System.in);\r\n\t\t\r\n\t\tint userSpecified;//this will be the userSpecified triangle side size\r\n\t\tint triangleSide;//printed triangle side size\r\n\t\tint width, height;\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter the size of equal sides for isoceles triangle: &quot;);\r\n\t\tuserSpecified = stdIn.nextInt();\r\n\t\t\r\n\t\tfor (int col=1; col&lt;=userSpecified; col++) \r\n\t\t{\r\n\t\t   for (int row=1; row&lt;=userSpecified; row++) \r\n\t\t   {\r\n\t           System.out.print(&quot;*&quot;);\r\n\t\t   }\r\n           System.out.println(&quot;&quot;);\r\n\t   }\r\n   }\r\n}\r\n```\r\nWith an input of four, the output will look like this:\r\n```none\r\n^^^^\r\n^^^^\r\n^^^^\r\n^^^^\r\n```\r\nThe desired output is:\r\n```none\r\n^\r\n^^\r\n^^^\r\n^^^^\r\n```","title":"Printing isoceles triangle based on user input","body":"<p>I can make my code print out the proper amount of asterisks, but I need the asterisks in the &quot;row&quot; plane to increment only once each line. Here is the current code:</p>\n<pre><code>package isoceles;\n\nimport java.util.Scanner;\n\npublic class Isoceles {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner stdIn = new Scanner(System.in);\n        \n        int userSpecified;//this will be the userSpecified triangle side size\n        int triangleSide;//printed triangle side size\n        int width, height;\n        \n        System.out.print(&quot;Enter the size of equal sides for isoceles triangle: &quot;);\n        userSpecified = stdIn.nextInt();\n        \n        for (int col=1; col&lt;=userSpecified; col++) \n        {\n           for (int row=1; row&lt;=userSpecified; row++) \n           {\n               System.out.print(&quot;*&quot;);\n           }\n           System.out.println(&quot;&quot;);\n       }\n   }\n}\n</code></pre>\n<p>With an input of four, the output will look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>^^^^\n^^^^\n^^^^\n^^^^\n</code></pre>\n<p>The desired output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>^\n^^\n^^^\n^^^^\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"owner":{"account_id":17883699,"reputation":13,"user_id":12991837,"display_name":"hina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657297264,"creation_date":1657295734,"question_id":72914005,"body_markdown":"I need to call a controller method automatically after Spring Boot Starts. Presently I am having a ConfigProperty class which is reading a configuration from server.\r\n\r\n```\r\n@RefreshScope\r\n@Configuration\r\n@Getter\r\n@Setter\r\n@ConfigurationProperties(prefix = &quot;flagconfig&quot;)\r\npublic class ConfigProperty {\r\n    public boolean flagOne;\r\n   @PostConstruct\r\n    public void postConstruct() {\r\n        logger.info(&quot;myPostConstruct: {}@{} {}&quot;,\r\n                this.getClass().getSimpleName(), System.identityHashCode(this), this);\r\n    }\r\n\r\n}\r\n\r\nController code\r\n\r\n@Autowired\r\nprivate ConfigProperty configProperty;\r\n\r\n @EventListener(ApplicationStartedEvent.class)\r\n    public void MyMethod() {\r\n        if (configProperty.flagOne()) {\r\n//doSomething\r\n}\r\nlogger.info(&quot;Operation=MyMethod Status={}&quot;,configProperty.flagOne());\r\n```\r\nIssue : Even if I set flagOne to true in my server config, during deployment it is not reading the true value and printing Operation=MyMethod Status=false.\r\n\r\nCan anyone tell me what I am doing wrong. And how can I run the controller method after config has been set.\r\n\r\nIf I am calling using PostMan it is going inside configProperty.flagOne(). So I concluded that after sometime he ConfigProperty is able to ge the flag value from server.","title":"Controller method EventListener(ApplicationStartedEvent.class) getting started before config properties are set using PostConstructor","body":"<p>I need to call a controller method automatically after Spring Boot Starts. Presently I am having a ConfigProperty class which is reading a configuration from server.</p>\n<pre><code>@RefreshScope\n@Configuration\n@Getter\n@Setter\n@ConfigurationProperties(prefix = &quot;flagconfig&quot;)\npublic class ConfigProperty {\n    public boolean flagOne;\n   @PostConstruct\n    public void postConstruct() {\n        logger.info(&quot;myPostConstruct: {}@{} {}&quot;,\n                this.getClass().getSimpleName(), System.identityHashCode(this), this);\n    }\n\n}\n\nController code\n\n@Autowired\nprivate ConfigProperty configProperty;\n\n @EventListener(ApplicationStartedEvent.class)\n    public void MyMethod() {\n        if (configProperty.flagOne()) {\n//doSomething\n}\nlogger.info(&quot;Operation=MyMethod Status={}&quot;,configProperty.flagOne());\n</code></pre>\n<p>Issue : Even if I set flagOne to true in my server config, during deployment it is not reading the true value and printing Operation=MyMethod Status=false.</p>\n<p>Can anyone tell me what I am doing wrong. And how can I run the controller method after config has been set.</p>\n<p>If I am calling using PostMan it is going inside configProperty.flagOne(). So I concluded that after sometime he ConfigProperty is able to ge the flag value from server.</p>\n"},{"tags":["java","c#","rest","jwt","cryptography"],"comments":[{"owner":{"account_id":2688196,"reputation":3334,"user_id":2322099,"display_name":"iSR5"},"score":0,"creation_date":1657298399,"post_id":72914267,"comment_id":128785157,"body_markdown":"perhaps the `assertion` provided with a different hashing algorithm. ensure that you&#39;re using the correct algorithm, for the `assertion`.","body":"perhaps the <code>assertion</code> provided with a different hashing algorithm. ensure that you&#39;re using the correct algorithm, for the <code>assertion</code>."},{"owner":{"account_id":2688196,"reputation":3334,"user_id":2322099,"display_name":"iSR5"},"score":0,"creation_date":1657298416,"post_id":72914267,"comment_id":128785162,"body_markdown":"although, this post may help https://stackoverflow.com/questions/10055158/is-there-any-json-web-token-jwt-example-in-c","body":"although, this post may help <a href=\"https://stackoverflow.com/questions/10055158/is-there-any-json-web-token-jwt-example-in-c\" title=\"is there any json web token jwt example in c\">stackoverflow.com/questions/10055158/&hellip;</a>"},{"owner":{"account_id":25760155,"reputation":1,"user_id":19511238,"display_name":"BolsoDeveloper"},"score":0,"creation_date":1657565132,"post_id":72914267,"comment_id":128836245,"body_markdown":"I confirmed with the vendor that the hashing algorithm is RS256.","body":"I confirmed with the vendor that the hashing algorithm is RS256."},{"owner":{"account_id":2688196,"reputation":3334,"user_id":2322099,"display_name":"iSR5"},"score":0,"creation_date":1657587896,"post_id":72914267,"comment_id":128841238,"body_markdown":"the private key is base64 encoded, perhaps you need to use `Convert.FromBase64` to get its bytes. also you can debug the key from https://jwt.io","body":"the private key is base64 encoded, perhaps you need to use <code>Convert.FromBase64</code> to get its bytes. also you can debug the key from <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a>"}],"owner":{"account_id":25760155,"reputation":1,"user_id":19511238,"display_name":"BolsoDeveloper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657297116,"creation_date":1657297116,"question_id":72914267,"body_markdown":"I am attempting to authenticate via Oauth2 to an API however, I had trouble creating the request because of a private key. I was provided a sample code by the vendor which is Java and I converted it over to C# but I can&#39;t seem to get the private key into the JWT request.\r\n\r\nSide note, the client, secret and URL&#39;s have been masked for this example.\r\n\r\n**Working Java code** \r\n\r\n    public class Test {\r\n    \r\n        private static final String RSSO_URL = &quot;https://test-dev.onbmc.com/rsso&quot;;\r\n    \r\n        private static final String CLIENT_ID = &quot;36fa1bd2-6f92-408e-b7e4-dd4df7a9cfaz&quot;;\r\n    \r\n        private static final String CLIENT_SECRET = &quot;MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjBgEAAoIBAQC169y6kMo/hZ/3oRFKwU1bxmzCJhWgH54j3Vn1JW4SmgO3rH5bHkVcqt03aaQmQms/fBDe2SlCKS3pxH6pVXB8aKQj8EOPWstwjvjsQrCiKLyqAMbc6E7IBVp1Dq77wFtv+P3fk80/9OA4a6ahr9Dp14+3YawyOU/5Ebf/i2WwKkySTgQOGLXvk3+LtsoODubMAnyJYWb6e+Uhrbn/vSqlGDDjGtANahw5oWjqFy8IYFttzMNB0VF2+sKIzGvQ+Izlo+u4wTgN7pB5g8bSz9Q92QzeWRVh7OCaef3L0i6Ozp3rO46bo3+G+QJdn4UKPcYMubtNGMC511aDU8Yay4IPAgMBAAECggEAMGTwMQk3ZDKN3XgRe4t0osdCNlufQRtoHC5UMeylHXmvJ3tRmbexx/cdqwgxTKQ6l4bPjhjC6wC9YASPlUhPRikoEQ9nSYljuSuveFo9VsXzel3+iOGbo4YZDC69yebf7CeWkZVl8m+X/ipVB4oXzz0y1Bu9jRbF+YIHKonQoU4MgsQQrYa8J8cSx75fkByNj9HdQtd99aK2jsMSArQ1R+PnUjDWpxlZBAowRmaw6iPWJbHmhLUSyrIvBJOo3fNZlXPS/S8jL5s0n137K640WFjy5LBakooHqmjfaFk/5z5krBaWaehDXU2AXLcKRQi946QhC99leSxBTastfjIh0QKBgQDZDZRME+GvJwnnMOht0BuVjcazCkY5LcfxD4vwQeK8p7zyqaxcvNu0+0ulKy+kqP6d/Q1ITIXlQDEA8a2d/iiOhSI84Y/g9az9ZSvRHH/Z5gRdRrymZJcqCzzpxjqi0uvaKOQUWwrKthnxnAS+1oJPlqOc1CtO/j4qzc7I2D7VxQKBgQDWkH5YTYLM5EWos1zdEmVqnIrUYbKlkyHJWSYnC/f5VsOoVEV4R1012w3HfwPceRjYOxeUtHTPN3MB9B5Xn5d3oBFBk8Md9phD5St9KXGakPY0sWC1yFEg8/Zr9fVm5jren6tJQmhKEeiV6DtueqQShEVVIEJixrQQkwFQ4SvJwwKBgCKh+Qyei38gEoNyGVQURaJ6Sb8dn5DWDjYXjfOa/6usdAigLCFr/P6Grk4/cs2qLV5WFz13AFJRCMCmz1YLTLtY4Nqn/wYdDSotb21hR8Ej44Rimg1OtZP+0QxYFdkPIJThu2rIEBPCNKeJhnRQ0+ARIDAQ5ownIxI/XoRLhNMlAoGAQl9mRgiMKrd+eOYrFtPm/Wi5ZWNncOKns/JY5AFGzyGw2rRe3QsuYUeG5qx61Eu9jL4S2FROQf+EGxmZ/T8ICuBAFkoQNIegqHgO0OPuGYM4NiqcoP77Ybc2BkWKiS81DMLVqI7bVfZePWkeYVmcwYGbNO8KuiV/dBUVdiCBfCMCgYEAoUvJefM+ENuhnxrH6A+4lEH4CI64gkQ5tkF3JeAMCiIov5OEuJx+65ULXeAwhrvcLB3Ginh0hI2RNQGV5iOeu0+sHmNA8yt0ivoCweNxiPM0RGWcH5FFBzI88WlGbMl0eg3NHt9jV5yTwNJYonjPFgCUkasaclhDZlZxgN891LA=&quot;;\r\n       \r\n        private static final String  PRIVATE_KEY = &quot;MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDhY8LmtZ7fZOAX\\n&quot; +\r\n    &quot;gw7SKyHzZ6Q0H0ss+3cJ7NEkEofUN2IfycE5u6eQb396uN16bzZaQcwnK9He3xwk\\n&quot; +\r\n    &quot;3H4wWLzOUlhfuo87bJ34VdNBa1hfAk4iyk1ZgyufGy6MKgwycXhIl9wibX/f1fmF\\n&quot; +\r\n    &quot;khHnkXVyYY5hSewceCT51bMzcv+psGf7KkN8jh/bRb+/GGfxVy13GKfFTzwY1Y7G\\n&quot; +\r\n    &quot;SH7J00EaUQsEVCbkV3HK185v6t1fb2faao2imgj/Xqzc/DBbConBoF8/89SJSuf9\\n&quot; +\r\n    &quot;1RVGdctNwqerMOUoDJ2ynHNqhbO3POq6O1XMi0c75q4xdtrNWLa8A5ONPUXDgIo/\\n&quot; +\r\n    &quot;Ddwj1tTNAgMBAAECggEACG83yXNtfRWkzyxv3wyPKjEsM2kiYo4Mf9oVX4C0BYyH\\n&quot; +\r\n    &quot;BwKBURxFIoIRprGJVD4aLhl9PtAEfA8kWfrIXB3N/viU5wwvtP0VEkh/7dhLB88p\\n&quot; +\r\n    &quot;xmKEr39ZoAwf203tg+u8IRdRvRYU7Xbv7gAv3FcUqpGdBuYByHT0iUbmfFvm1l46\\n&quot; +\r\n    &quot;HD2ypQFKr3a536w2sFR6XKK6G+Al69lyg0Hg4jXmmDMo+xoxqrJeYxT11G6iBWmy\\n&quot; +\r\n    &quot;UXKDdOVx4BarT+dcnCUP0yahmQz08XObNDNphWG/aOFF6cMyU4hNkK9q0AC6sAzQ\\n&quot; +\r\n    &quot;89dTVTPErjEJcJZ16mtI9nv5u4VKfbL1mU+ivb4pQQKBgQD+FdFx+BKojVYilT1i\\n&quot; +\r\n    &quot;WMbXabRtm03NezgzSgIDKTxiewoQAy+n+InGPy2pz18/1DP8kasnsU8VZvRM7dXV\\n&quot; +\r\n    &quot;lJTXrqOM/lMN8vMt7/fpz0PYEDP6Qz7CLxA0xEcW2qFR4RAQzq3xXIH/7M4VUZzD\\n&quot; +\r\n    &quot;qzznD8aJaG5fsSExt7aITU984QKBgQDjFpVsxDxF3YZBhonuNaSrvTdDwbMqdCLT\\n&quot; +\r\n    &quot;ZoXUL+4aKY78cD2FCfdqJ5O1uyrAqgCgjouiVnNRzDy3qSSGxaiwpI3+FA8cCNiS\\n&quot; +\r\n    &quot;W0CE/urjDDeXU0Q5jDSBdljBF23wf9mNmXpgXSHfgQVTIiVMVD5tNhU/ORu5PXzo\\n&quot; +\r\n    &quot;SdW67DLJbQKBgDYYbRQnrclG9hy8y2nh3svEDI70bq4d2tRIoG8N23ZYHcdU9lN7\\n&quot; +\r\n    &quot;vdGAZ/dsWCodwse2N8tmm6DB36d1R36GeL4Gx3lgOEyS+iVAnvafkyEwKfDRWk47\\n&quot; +\r\n    &quot;eObTFxONjqUBFsuNRUlK2b6kKygszQR3s6q6GBnvKviinJ+aLnmMhCzhAoGBAKLC\\n&quot; +\r\n    &quot;gP6f87/kcmFsiFePYyMkTwPlRQDclEloZesbH1DpEG6mE7HS3t3a1+ec6puEPUbW\\n&quot; +\r\n    &quot;ZAZKaATsmWgZdvCRosJYbtz4i4vQW0kq1id8feWV1BJJv9BvSQKxTBO5Mzb4q3jt\\n&quot; +\r\n    &quot;0+RVW/3Rf3uCMbFvf/7OkJPr3o76HxhuMx3yRMRRAoGAZiFbVjd3EKUdyE0O3QSh\\n&quot; +\r\n    &quot;46KzTdT0ENhBlN2dpCdJjHJm3Lcxa7uY4sxa8NqYUW0NO2qRSd42IKfGX3qqi7wf\\n&quot; +\r\n    &quot;+rUFFixCzQOoucR/ekTw+542Nbc0QejAQ0SUDwgHWX8L8Yi+W3UsBL2YLLIw5ged\\n&quot; +\r\n    &quot;7Ghsl3cgdKPMlAh1kzxsWic=&quot;;\r\n       \r\n    \r\n        public static JsonPath getOAuthToken() throws InvalidKeySpecException, NoSuchAlgorithmException {\r\n    \r\n            return with().log().all()\r\n            \t\t\r\n            \t\t\r\n                    .contentType(ContentType.URLENC)\r\n                    .formParam(&quot;grant_type&quot;, &quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;)\r\n                   \r\n                    .formParam(&quot;assertion&quot;, getClientJwt())\r\n                    \r\n                    .formParam(&quot;client_assertion_type&quot;, &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;)\r\n                 \r\n                    .formParam(&quot;redirect_uri&quot;, &quot;https://test-dev-restapi.us.onbmc.com/api/jwt/login&quot;)\r\n                    .formParam(&quot;audience&quot;, &quot;test-dev-restapi.us.onbmc.com&quot;)\r\n                    .formParam(&quot;client_id&quot;, CLIENT_ID)\r\n                    .formParam(&quot;client_secret&quot;, CLIENT_SECRET)\r\n                    .when()\r\n                    .post(RSSO_URL + &quot;/oauth2/token&quot;)\r\n                    .then()\r\n                    .log().all()\r\n                    .statusCode(HttpURLConnection.HTTP_OK)\r\n                    .extract()\r\n                    .response()\r\n                    .getBody()\r\n                    .jsonPath();\r\n        }\r\n       \r\n       static String getClientJwt() throws InvalidKeySpecException, NoSuchAlgorithmException {\r\n    \r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.add(Calendar.YEAR, 1);\r\n    \r\n            return Jwts.builder()\r\n                    .signWith(loadPrivateKey(PRIVATE_KEY))\r\n                    .setIssuer(CLIENT_ID)\r\n                    .setSubject(&quot;JWT&quot;)\r\n                    .setAudience(&quot;test-dev-restapi.us.onbmc.com&quot;)\r\n                    .setExpiration(calendar.getTime())\r\n                    .compact();\r\n        }\r\n    \r\n        static PrivateKey loadPrivateKey(String privateKeyStr) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getMimeDecoder().decode(privateKeyStr));\r\n                \r\n           \r\n           return kf.generatePrivate(keySpecPKCS8);\r\n        }\r\n    \r\n        //@Test\r\n        public void getOauthAccessTokenUsingJwtGrantType() throws Exception {\r\n            System.out.println(&quot;Trying to get OAuth Access and Refresh tokens&quot;);\r\n            JsonPath response = getOAuthToken();\r\n            System.out.println(&quot;Access Token = &quot; + response.getString(&quot;access_token&quot;));\r\n            System.out.println(&quot;Refresh Token = &quot; + response.getString(&quot;refresh_token&quot;));\r\n            System.out.println(&quot;Expires in = &quot; + response.getString(&quot;expires_in&quot;));\r\n            System.out.println(&quot;OAuth2 Token was successfully obtained.&quot;);\r\n        }\r\n    \r\n        public static void main(String str[]) throws Exception {\r\n            JsonPath response = getOAuthToken();\r\n            \r\n        }\r\n        \r\n        }\r\n\r\n**Converted Java code to C#**\r\n\r\n    using java.security;\r\n    using java.security.spec;\r\n    using JWT;\r\n    using JWT.Algorithms;\r\n    using JWT.Builder;\r\n    using JWT.Serializers;\r\n    using Microsoft.IdentityModel.Tokens;\r\n    using Newtonsoft.Json;\r\n    using RestSharp;\r\n    using RestSharp.Authenticators;\r\n    using System;\r\n    using System.Buffers.Text;\r\n    using System.Collections.Generic;\r\n    using System.IdentityModel.Tokens.Jwt;\r\n    using System.Net.Http;\r\n    using System.Net.Http.Headers;\r\n    using System.Security.Cryptography;\r\n    using System.Text;\r\n\r\n    namespace TestApp\r\n    {\r\n        class Program\r\n        {\r\n\r\n    private static string RSSO_URL = &quot;https://test-dev.onbmc.com/rsso&quot;;\r\n\r\n    `enter code here`private static string CLIENT_ID = &quot;36fa1bd2-6f92-408e-b7e4-dd4df7a9cfaz&quot;;\r\n\r\n        private static string CLIENT_SECRET = &quot;MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjBgEAAoIBAQC169y6kMo/hZ/3oRFKwU1bxmzCJhWgH54j3Vn1JW4SmgO3rH5bHkVcqt03aaQmQms/fBDe2SlCKS3pxH6pVXB8aKQj8EOPWstwjvjsQrCiKLyqAMbc6E7IBVp1Dq77wFtv+P3fk80/9OA4a6ahr9Dp14+3YawyOU/5Ebf/i2WwKkySTgQOGLXvk3+LtsoODubMAnyJYWb6e+Uhrbn/vSqlGDDjGtANahw5oWjqFy8IYFttzMNB0VF2+sKIzGvQ+Izlo+u4wTgN7pB5g8bSz9Q92QzeWRVh7OCaef3L0i6Ozp3rO46bo3+G+QJdn4UKPcYMubtNGMC511aDU8Yay4IPAgMBAAECggEAMGTwMQk3ZDKN3XgRe4t0osdCNlufQRtoHC5UMeylHXmvJ3tRmbexx/cdqwgxTKQ6l4bPjhjC6wC9YASPlUhPRikoEQ9nSYljuSuveFo9VsXzel3+iOGbo4YZDC69yebf7CeWkZVl8m+X/ipVB4oXzz0y1Bu9jRbF+YIHKonQoU4MgsQQrYa8J8cSx75fkByNj9HdQtd99aK2jsMSArQ1R+PnUjDWpxlZBAowRmaw6iPWJbHmhLUSyrIvBJOo3fNZlXPS/S8jL5s0n137K640WFjy5LBakooHqmjfaFk/5z5krBaWaehDXU2AXLcKRQi946QhC99leSxBTastfjIh0QKBgQDZDZRME+GvJwnnMOht0BuVjcazCkY5LcfxD4vwQeK8p7zyqaxcvNu0+0ulKy+kqP6d/Q1ITIXlQDEA8a2d/iiOhSI84Y/g9az9ZSvRHH/Z5gRdRrymZJcqCzzpxjqi0uvaKOQUWwrKthnxnAS+1oJPlqOc1CtO/j4qzc7I2D7VxQKBgQDWkH5YTYLM5EWos1zdEmVqnIrUYbKlkyHJWSYnC/f5VsOoVEV4R1012w3HfwPceRjYOxeUtHTPN3MB9B5Xn5d3oBFBk8Md9phD5St9KXGakPY0sWC1yFEg8/Zr9fVm5jren6tJQmhKEeiV6DtueqQShEVVIEJixrQQkwFQ4SvJwwKBgCKh+Qyei38gEoNyGVQURaJ6Sb8dn5DWDjYXjfOa/6usdAigLCFr/P6Grk4/cs2qLV5WFz13AFJRCMCmz1YLTLtY4Nqn/wYdDSotb21hR8Ej44Rimg1OtZP+0QxYFdkPIJThu2rIEBPCNKeJhnRQ0+ARIDAQ5ownIxI/XoRLhNMlAoGAQl9mRgiMKrd+eOYrFtPm/Wi5ZWNncOKns/JY5AFGzyGw2rRe3QsuYUeG5qx61Eu9jL4S2FROQf+EGxmZ/T8ICuBAFkoQNIegqHgO0OPuGYM4NiqcoP77Ybc2BkWKiS81DMLVqI7bVfZePWkeYVmcwYGbNO8KuiV/dBUVdiCBfCMCgYEAoUvJefM+ENuhnxrH6A+4lEH4CI64gkQ5tkF3JeAMCiIov5OEuJx+65ULXeAwhrvcLB3Ginh0hI2RNQGV5iOeu0+sHmNA8yt0ivoCweNxiPM0RGWcH5FFBzI88WlGbMl0eg3NHt9jV5yTwNJYonjPFgCUkasaclhDZlZxgN891LA=&quot;;\r\n       \r\n        private static string  PRIVATE_KEY = &quot;MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDhY8LmtZ7fZOAX\\n&quot; +\r\n    &quot;gw7SKyHzZ6Q0H0ss+3cJ7NEkEofUN2IfycE5u6eQb396uN16bzZaQcwnK9He3xwk\\n&quot; +\r\n    &quot;3H4wWLzOUlhfuo87bJ34VdNBa1hfAk4iyk1ZgyufGy6MKgwycXhIl9wibX/f1fmF\\n&quot; +\r\n    &quot;khHnkXVyYY5hSewceCT51bMzcv+psGf7KkN8jh/bRb+/GGfxVy13GKfFTzwY1Y7G\\n&quot; +\r\n    &quot;SH7J00EaUQsEVCbkV3HK185v6t1fb2faao2imgj/Xqzc/DBbConBoF8/89SJSuf9\\n&quot; +\r\n    &quot;1RVGdctNwqerMOUoDJ2ynHNqhbO3POq6O1XMi0c75q4xdtrNWLa8A5ONPUXDgIo/\\n&quot; +\r\n    &quot;Ddwj1tTNAgMBAAECggEACG83yXNtfRWkzyxv3wyPKjEsM2kiYo4Mf9oVX4C0BYyH\\n&quot; +\r\n    &quot;BwKBURxFIoIRprGJVD4aLhl9PtAEfA8kWfrIXB3N/viU5wwvtP0VEkh/7dhLB88p\\n&quot; +\r\n    &quot;xmKEr39ZoAwf203tg+u8IRdRvRYU7Xbv7gAv3FcUqpGdBuYByHT0iUbmfFvm1l46\\n&quot; +\r\n    &quot;HD2ypQFKr3a536w2sFR6XKK6G+Al69lyg0Hg4jXmmDMo+xoxqrJeYxT11G6iBWmy\\n&quot; +\r\n    &quot;UXKDdOVx4BarT+dcnCUP0yahmQz08XObNDNphWG/aOFF6cMyU4hNkK9q0AC6sAzQ\\n&quot; +\r\n    &quot;89dTVTPErjEJcJZ16mtI9nv5u4VKfbL1mU+ivb4pQQKBgQD+FdFx+BKojVYilT1i\\n&quot; +\r\n    &quot;WMbXabRtm03NezgzSgIDKTxiewoQAy+n+InGPy2pz18/1DP8kasnsU8VZvRM7dXV\\n&quot; +\r\n    &quot;lJTXrqOM/lMN8vMt7/fpz0PYEDP6Qz7CLxA0xEcW2qFR4RAQzq3xXIH/7M4VUZzD\\n&quot; +\r\n    &quot;qzznD8aJaG5fsSExt7aITU984QKBgQDjFpVsxDxF3YZBhonuNaSrvTdDwbMqdCLT\\n&quot; +\r\n    &quot;ZoXUL+4aKY78cD2FCfdqJ5O1uyrAqgCgjouiVnNRzDy3qSSGxaiwpI3+FA8cCNiS\\n&quot; +\r\n    &quot;W0CE/urjDDeXU0Q5jDSBdljBF23wf9mNmXpgXSHfgQVTIiVMVD5tNhU/ORu5PXzo\\n&quot; +\r\n    &quot;SdW67DLJbQKBgDYYbRQnrclG9hy8y2nh3svEDI70bq4d2tRIoG8N23ZYHcdU9lN7\\n&quot; +\r\n    &quot;vdGAZ/dsWCodwse2N8tmm6DB36d1R36GeL4Gx3lgOEyS+iVAnvafkyEwKfDRWk47\\n&quot; +\r\n    &quot;eObTFxONjqUBFsuNRUlK2b6kKygszQR3s6q6GBnvKviinJ+aLnmMhCzhAoGBAKLC\\n&quot; +\r\n    &quot;gP6f87/kcmFsiFePYyMkTwPlRQDclEloZesbH1DpEG6mE7HS3t3a1+ec6puEPUbW\\n&quot; +\r\n    &quot;ZAZKaATsmWgZdvCRosJYbtz4i4vQW0kq1id8feWV1BJJv9BvSQKxTBO5Mzb4q3jt\\n&quot; +\r\n    &quot;0+RVW/3Rf3uCMbFvf/7OkJPr3o76HxhuMx3yRMRRAoGAZiFbVjd3EKUdyE0O3QSh\\n&quot; +\r\n    &quot;46KzTdT0ENhBlN2dpCdJjHJm3Lcxa7uY4sxa8NqYUW0NO2qRSd42IKfGX3qqi7wf\\n&quot; +\r\n    &quot;+rUFFixCzQOoucR/ekTw+542Nbc0QejAQ0SUDwgHWX8L8Yi+W3UsBL2YLLIw5ged\\n&quot; +\r\n    &quot;7Ghsl3cgdKPMlAh1kzxsWic=&quot;;\r\n        static void Main(string[] args)\r\n        {\r\n            try\r\n            {\r\n\t\t\t\t\r\n                //create RestSharp client and POST request object\r\n                var client = new RestClient(RSSO_URL + &quot;/oauth2/token&quot;);\r\n                var request = new RestRequest();\r\n                request.Method = Method.Post;\r\n\r\n                client.Authenticator = new HttpBasicAuthenticator(CLIENT_ID, CLIENT_SECRET);\r\n                request.AddHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n               \r\n                request.AddParameter(&quot;grant_type&quot;, &quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;);\r\n                request.AddParameter(&quot;client_assertion_type&quot;, &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;);\r\n                request.AddParameter(&quot;redirect_uri&quot;, &quot;https://test-dev-restapi.us.onbmc.com/api/jwt/login&quot;);\r\n                request.AddParameter(&quot;audience&quot;, &quot;test-dev-restapi.us.onbmc.com&quot;);\r\n                request.AddParameter(&quot;client_id&quot;, CLIENT_ID);\r\n                request.AddParameter(&quot;client_secret&quot;, CLIENT_SECRET);\r\n                request.AddParameter(&quot;assertion&quot;, Program.getClientJwt());\r\n                RestResponse response = client.Execute(request);\r\n\r\n                //return an AccessToken\r\n                var poo = JsonConvert.DeserializeObject(response.Content);\r\n\r\n            }\r\n            catch(Exception ex)\r\n            {\r\n\r\n            }\r\n            \r\n        }\r\n\r\n        public static string getClientJwt()  {\r\n\r\n            DateTime exp = DateTime.UtcNow.AddYears(1);\r\n            \r\n\t\t\tvar key = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(PRIVATE_KEY));\r\n            var signIn = new SigningCredentials(key, SecurityAlgorithms.HmacSha256Signature);\r\n\r\n\r\n            var token = new JwtSecurityToken(CLIENT_ID, &quot;miamidade-dev-restapi.us.onbmc.com&quot;, null, null, DateTime.UtcNow.AddYears(1), signIn);\r\n            \r\n            return new JwtSecurityTokenHandler().WriteToken(token);\r\n              \r\n        }\r\n\r\n\r\n\r\n        public static PrivateKey loadPrivateKey(String privateKeyStr)\r\n        {\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            byte[] decodedBytes = Convert.FromBase64String(privateKeyStr);\r\n            \r\n\r\n            PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(decodedBytes);\r\n            return kf.generatePrivate(keySpecPKCS8);\r\n        }\r\n\r\n    }\r\n     }\r\n\r\nWhen I send the request, I get the error \r\n{&quot;error_description&quot;:&quot;Not valid request, JWT is rejected&quot;,&quot;error&quot;:&quot;invalid_grant&quot;}\r\n","title":"Oauth2 authentication with Private Key C#","body":"<p>I am attempting to authenticate via Oauth2 to an API however, I had trouble creating the request because of a private key. I was provided a sample code by the vendor which is Java and I converted it over to C# but I can't seem to get the private key into the JWT request.</p>\n<p>Side note, the client, secret and URL's have been masked for this example.</p>\n<p><strong>Working Java code</strong></p>\n<pre><code>public class Test {\n\n    private static final String RSSO_URL = &quot;https://test-dev.onbmc.com/rsso&quot;;\n\n    private static final String CLIENT_ID = &quot;36fa1bd2-6f92-408e-b7e4-dd4df7a9cfaz&quot;;\n\n    private static final String CLIENT_SECRET = &quot;MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjBgEAAoIBAQC169y6kMo/hZ/3oRFKwU1bxmzCJhWgH54j3Vn1JW4SmgO3rH5bHkVcqt03aaQmQms/fBDe2SlCKS3pxH6pVXB8aKQj8EOPWstwjvjsQrCiKLyqAMbc6E7IBVp1Dq77wFtv+P3fk80/9OA4a6ahr9Dp14+3YawyOU/5Ebf/i2WwKkySTgQOGLXvk3+LtsoODubMAnyJYWb6e+Uhrbn/vSqlGDDjGtANahw5oWjqFy8IYFttzMNB0VF2+sKIzGvQ+Izlo+u4wTgN7pB5g8bSz9Q92QzeWRVh7OCaef3L0i6Ozp3rO46bo3+G+QJdn4UKPcYMubtNGMC511aDU8Yay4IPAgMBAAECggEAMGTwMQk3ZDKN3XgRe4t0osdCNlufQRtoHC5UMeylHXmvJ3tRmbexx/cdqwgxTKQ6l4bPjhjC6wC9YASPlUhPRikoEQ9nSYljuSuveFo9VsXzel3+iOGbo4YZDC69yebf7CeWkZVl8m+X/ipVB4oXzz0y1Bu9jRbF+YIHKonQoU4MgsQQrYa8J8cSx75fkByNj9HdQtd99aK2jsMSArQ1R+PnUjDWpxlZBAowRmaw6iPWJbHmhLUSyrIvBJOo3fNZlXPS/S8jL5s0n137K640WFjy5LBakooHqmjfaFk/5z5krBaWaehDXU2AXLcKRQi946QhC99leSxBTastfjIh0QKBgQDZDZRME+GvJwnnMOht0BuVjcazCkY5LcfxD4vwQeK8p7zyqaxcvNu0+0ulKy+kqP6d/Q1ITIXlQDEA8a2d/iiOhSI84Y/g9az9ZSvRHH/Z5gRdRrymZJcqCzzpxjqi0uvaKOQUWwrKthnxnAS+1oJPlqOc1CtO/j4qzc7I2D7VxQKBgQDWkH5YTYLM5EWos1zdEmVqnIrUYbKlkyHJWSYnC/f5VsOoVEV4R1012w3HfwPceRjYOxeUtHTPN3MB9B5Xn5d3oBFBk8Md9phD5St9KXGakPY0sWC1yFEg8/Zr9fVm5jren6tJQmhKEeiV6DtueqQShEVVIEJixrQQkwFQ4SvJwwKBgCKh+Qyei38gEoNyGVQURaJ6Sb8dn5DWDjYXjfOa/6usdAigLCFr/P6Grk4/cs2qLV5WFz13AFJRCMCmz1YLTLtY4Nqn/wYdDSotb21hR8Ej44Rimg1OtZP+0QxYFdkPIJThu2rIEBPCNKeJhnRQ0+ARIDAQ5ownIxI/XoRLhNMlAoGAQl9mRgiMKrd+eOYrFtPm/Wi5ZWNncOKns/JY5AFGzyGw2rRe3QsuYUeG5qx61Eu9jL4S2FROQf+EGxmZ/T8ICuBAFkoQNIegqHgO0OPuGYM4NiqcoP77Ybc2BkWKiS81DMLVqI7bVfZePWkeYVmcwYGbNO8KuiV/dBUVdiCBfCMCgYEAoUvJefM+ENuhnxrH6A+4lEH4CI64gkQ5tkF3JeAMCiIov5OEuJx+65ULXeAwhrvcLB3Ginh0hI2RNQGV5iOeu0+sHmNA8yt0ivoCweNxiPM0RGWcH5FFBzI88WlGbMl0eg3NHt9jV5yTwNJYonjPFgCUkasaclhDZlZxgN891LA=&quot;;\n   \n    private static final String  PRIVATE_KEY = &quot;MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDhY8LmtZ7fZOAX\\n&quot; +\n&quot;gw7SKyHzZ6Q0H0ss+3cJ7NEkEofUN2IfycE5u6eQb396uN16bzZaQcwnK9He3xwk\\n&quot; +\n&quot;3H4wWLzOUlhfuo87bJ34VdNBa1hfAk4iyk1ZgyufGy6MKgwycXhIl9wibX/f1fmF\\n&quot; +\n&quot;khHnkXVyYY5hSewceCT51bMzcv+psGf7KkN8jh/bRb+/GGfxVy13GKfFTzwY1Y7G\\n&quot; +\n&quot;SH7J00EaUQsEVCbkV3HK185v6t1fb2faao2imgj/Xqzc/DBbConBoF8/89SJSuf9\\n&quot; +\n&quot;1RVGdctNwqerMOUoDJ2ynHNqhbO3POq6O1XMi0c75q4xdtrNWLa8A5ONPUXDgIo/\\n&quot; +\n&quot;Ddwj1tTNAgMBAAECggEACG83yXNtfRWkzyxv3wyPKjEsM2kiYo4Mf9oVX4C0BYyH\\n&quot; +\n&quot;BwKBURxFIoIRprGJVD4aLhl9PtAEfA8kWfrIXB3N/viU5wwvtP0VEkh/7dhLB88p\\n&quot; +\n&quot;xmKEr39ZoAwf203tg+u8IRdRvRYU7Xbv7gAv3FcUqpGdBuYByHT0iUbmfFvm1l46\\n&quot; +\n&quot;HD2ypQFKr3a536w2sFR6XKK6G+Al69lyg0Hg4jXmmDMo+xoxqrJeYxT11G6iBWmy\\n&quot; +\n&quot;UXKDdOVx4BarT+dcnCUP0yahmQz08XObNDNphWG/aOFF6cMyU4hNkK9q0AC6sAzQ\\n&quot; +\n&quot;89dTVTPErjEJcJZ16mtI9nv5u4VKfbL1mU+ivb4pQQKBgQD+FdFx+BKojVYilT1i\\n&quot; +\n&quot;WMbXabRtm03NezgzSgIDKTxiewoQAy+n+InGPy2pz18/1DP8kasnsU8VZvRM7dXV\\n&quot; +\n&quot;lJTXrqOM/lMN8vMt7/fpz0PYEDP6Qz7CLxA0xEcW2qFR4RAQzq3xXIH/7M4VUZzD\\n&quot; +\n&quot;qzznD8aJaG5fsSExt7aITU984QKBgQDjFpVsxDxF3YZBhonuNaSrvTdDwbMqdCLT\\n&quot; +\n&quot;ZoXUL+4aKY78cD2FCfdqJ5O1uyrAqgCgjouiVnNRzDy3qSSGxaiwpI3+FA8cCNiS\\n&quot; +\n&quot;W0CE/urjDDeXU0Q5jDSBdljBF23wf9mNmXpgXSHfgQVTIiVMVD5tNhU/ORu5PXzo\\n&quot; +\n&quot;SdW67DLJbQKBgDYYbRQnrclG9hy8y2nh3svEDI70bq4d2tRIoG8N23ZYHcdU9lN7\\n&quot; +\n&quot;vdGAZ/dsWCodwse2N8tmm6DB36d1R36GeL4Gx3lgOEyS+iVAnvafkyEwKfDRWk47\\n&quot; +\n&quot;eObTFxONjqUBFsuNRUlK2b6kKygszQR3s6q6GBnvKviinJ+aLnmMhCzhAoGBAKLC\\n&quot; +\n&quot;gP6f87/kcmFsiFePYyMkTwPlRQDclEloZesbH1DpEG6mE7HS3t3a1+ec6puEPUbW\\n&quot; +\n&quot;ZAZKaATsmWgZdvCRosJYbtz4i4vQW0kq1id8feWV1BJJv9BvSQKxTBO5Mzb4q3jt\\n&quot; +\n&quot;0+RVW/3Rf3uCMbFvf/7OkJPr3o76HxhuMx3yRMRRAoGAZiFbVjd3EKUdyE0O3QSh\\n&quot; +\n&quot;46KzTdT0ENhBlN2dpCdJjHJm3Lcxa7uY4sxa8NqYUW0NO2qRSd42IKfGX3qqi7wf\\n&quot; +\n&quot;+rUFFixCzQOoucR/ekTw+542Nbc0QejAQ0SUDwgHWX8L8Yi+W3UsBL2YLLIw5ged\\n&quot; +\n&quot;7Ghsl3cgdKPMlAh1kzxsWic=&quot;;\n   \n\n    public static JsonPath getOAuthToken() throws InvalidKeySpecException, NoSuchAlgorithmException {\n\n        return with().log().all()\n                \n                \n                .contentType(ContentType.URLENC)\n                .formParam(&quot;grant_type&quot;, &quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;)\n               \n                .formParam(&quot;assertion&quot;, getClientJwt())\n                \n                .formParam(&quot;client_assertion_type&quot;, &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;)\n             \n                .formParam(&quot;redirect_uri&quot;, &quot;https://test-dev-restapi.us.onbmc.com/api/jwt/login&quot;)\n                .formParam(&quot;audience&quot;, &quot;test-dev-restapi.us.onbmc.com&quot;)\n                .formParam(&quot;client_id&quot;, CLIENT_ID)\n                .formParam(&quot;client_secret&quot;, CLIENT_SECRET)\n                .when()\n                .post(RSSO_URL + &quot;/oauth2/token&quot;)\n                .then()\n                .log().all()\n                .statusCode(HttpURLConnection.HTTP_OK)\n                .extract()\n                .response()\n                .getBody()\n                .jsonPath();\n    }\n   \n   static String getClientJwt() throws InvalidKeySpecException, NoSuchAlgorithmException {\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.add(Calendar.YEAR, 1);\n\n        return Jwts.builder()\n                .signWith(loadPrivateKey(PRIVATE_KEY))\n                .setIssuer(CLIENT_ID)\n                .setSubject(&quot;JWT&quot;)\n                .setAudience(&quot;test-dev-restapi.us.onbmc.com&quot;)\n                .setExpiration(calendar.getTime())\n                .compact();\n    }\n\n    static PrivateKey loadPrivateKey(String privateKeyStr) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getMimeDecoder().decode(privateKeyStr));\n            \n       \n       return kf.generatePrivate(keySpecPKCS8);\n    }\n\n    //@Test\n    public void getOauthAccessTokenUsingJwtGrantType() throws Exception {\n        System.out.println(&quot;Trying to get OAuth Access and Refresh tokens&quot;);\n        JsonPath response = getOAuthToken();\n        System.out.println(&quot;Access Token = &quot; + response.getString(&quot;access_token&quot;));\n        System.out.println(&quot;Refresh Token = &quot; + response.getString(&quot;refresh_token&quot;));\n        System.out.println(&quot;Expires in = &quot; + response.getString(&quot;expires_in&quot;));\n        System.out.println(&quot;OAuth2 Token was successfully obtained.&quot;);\n    }\n\n    public static void main(String str[]) throws Exception {\n        JsonPath response = getOAuthToken();\n        \n    }\n    \n    }\n</code></pre>\n<p><strong>Converted Java code to C#</strong></p>\n<pre><code>using java.security;\nusing java.security.spec;\nusing JWT;\nusing JWT.Algorithms;\nusing JWT.Builder;\nusing JWT.Serializers;\nusing Microsoft.IdentityModel.Tokens;\nusing Newtonsoft.Json;\nusing RestSharp;\nusing RestSharp.Authenticators;\nusing System;\nusing System.Buffers.Text;\nusing System.Collections.Generic;\nusing System.IdentityModel.Tokens.Jwt;\nusing System.Net.Http;\nusing System.Net.Http.Headers;\nusing System.Security.Cryptography;\nusing System.Text;\n\nnamespace TestApp\n{\n    class Program\n    {\n\nprivate static string RSSO_URL = &quot;https://test-dev.onbmc.com/rsso&quot;;\n\n`enter code here`private static string CLIENT_ID = &quot;36fa1bd2-6f92-408e-b7e4-dd4df7a9cfaz&quot;;\n\n    private static string CLIENT_SECRET = &quot;MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjBgEAAoIBAQC169y6kMo/hZ/3oRFKwU1bxmzCJhWgH54j3Vn1JW4SmgO3rH5bHkVcqt03aaQmQms/fBDe2SlCKS3pxH6pVXB8aKQj8EOPWstwjvjsQrCiKLyqAMbc6E7IBVp1Dq77wFtv+P3fk80/9OA4a6ahr9Dp14+3YawyOU/5Ebf/i2WwKkySTgQOGLXvk3+LtsoODubMAnyJYWb6e+Uhrbn/vSqlGDDjGtANahw5oWjqFy8IYFttzMNB0VF2+sKIzGvQ+Izlo+u4wTgN7pB5g8bSz9Q92QzeWRVh7OCaef3L0i6Ozp3rO46bo3+G+QJdn4UKPcYMubtNGMC511aDU8Yay4IPAgMBAAECggEAMGTwMQk3ZDKN3XgRe4t0osdCNlufQRtoHC5UMeylHXmvJ3tRmbexx/cdqwgxTKQ6l4bPjhjC6wC9YASPlUhPRikoEQ9nSYljuSuveFo9VsXzel3+iOGbo4YZDC69yebf7CeWkZVl8m+X/ipVB4oXzz0y1Bu9jRbF+YIHKonQoU4MgsQQrYa8J8cSx75fkByNj9HdQtd99aK2jsMSArQ1R+PnUjDWpxlZBAowRmaw6iPWJbHmhLUSyrIvBJOo3fNZlXPS/S8jL5s0n137K640WFjy5LBakooHqmjfaFk/5z5krBaWaehDXU2AXLcKRQi946QhC99leSxBTastfjIh0QKBgQDZDZRME+GvJwnnMOht0BuVjcazCkY5LcfxD4vwQeK8p7zyqaxcvNu0+0ulKy+kqP6d/Q1ITIXlQDEA8a2d/iiOhSI84Y/g9az9ZSvRHH/Z5gRdRrymZJcqCzzpxjqi0uvaKOQUWwrKthnxnAS+1oJPlqOc1CtO/j4qzc7I2D7VxQKBgQDWkH5YTYLM5EWos1zdEmVqnIrUYbKlkyHJWSYnC/f5VsOoVEV4R1012w3HfwPceRjYOxeUtHTPN3MB9B5Xn5d3oBFBk8Md9phD5St9KXGakPY0sWC1yFEg8/Zr9fVm5jren6tJQmhKEeiV6DtueqQShEVVIEJixrQQkwFQ4SvJwwKBgCKh+Qyei38gEoNyGVQURaJ6Sb8dn5DWDjYXjfOa/6usdAigLCFr/P6Grk4/cs2qLV5WFz13AFJRCMCmz1YLTLtY4Nqn/wYdDSotb21hR8Ej44Rimg1OtZP+0QxYFdkPIJThu2rIEBPCNKeJhnRQ0+ARIDAQ5ownIxI/XoRLhNMlAoGAQl9mRgiMKrd+eOYrFtPm/Wi5ZWNncOKns/JY5AFGzyGw2rRe3QsuYUeG5qx61Eu9jL4S2FROQf+EGxmZ/T8ICuBAFkoQNIegqHgO0OPuGYM4NiqcoP77Ybc2BkWKiS81DMLVqI7bVfZePWkeYVmcwYGbNO8KuiV/dBUVdiCBfCMCgYEAoUvJefM+ENuhnxrH6A+4lEH4CI64gkQ5tkF3JeAMCiIov5OEuJx+65ULXeAwhrvcLB3Ginh0hI2RNQGV5iOeu0+sHmNA8yt0ivoCweNxiPM0RGWcH5FFBzI88WlGbMl0eg3NHt9jV5yTwNJYonjPFgCUkasaclhDZlZxgN891LA=&quot;;\n   \n    private static string  PRIVATE_KEY = &quot;MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDhY8LmtZ7fZOAX\\n&quot; +\n&quot;gw7SKyHzZ6Q0H0ss+3cJ7NEkEofUN2IfycE5u6eQb396uN16bzZaQcwnK9He3xwk\\n&quot; +\n&quot;3H4wWLzOUlhfuo87bJ34VdNBa1hfAk4iyk1ZgyufGy6MKgwycXhIl9wibX/f1fmF\\n&quot; +\n&quot;khHnkXVyYY5hSewceCT51bMzcv+psGf7KkN8jh/bRb+/GGfxVy13GKfFTzwY1Y7G\\n&quot; +\n&quot;SH7J00EaUQsEVCbkV3HK185v6t1fb2faao2imgj/Xqzc/DBbConBoF8/89SJSuf9\\n&quot; +\n&quot;1RVGdctNwqerMOUoDJ2ynHNqhbO3POq6O1XMi0c75q4xdtrNWLa8A5ONPUXDgIo/\\n&quot; +\n&quot;Ddwj1tTNAgMBAAECggEACG83yXNtfRWkzyxv3wyPKjEsM2kiYo4Mf9oVX4C0BYyH\\n&quot; +\n&quot;BwKBURxFIoIRprGJVD4aLhl9PtAEfA8kWfrIXB3N/viU5wwvtP0VEkh/7dhLB88p\\n&quot; +\n&quot;xmKEr39ZoAwf203tg+u8IRdRvRYU7Xbv7gAv3FcUqpGdBuYByHT0iUbmfFvm1l46\\n&quot; +\n&quot;HD2ypQFKr3a536w2sFR6XKK6G+Al69lyg0Hg4jXmmDMo+xoxqrJeYxT11G6iBWmy\\n&quot; +\n&quot;UXKDdOVx4BarT+dcnCUP0yahmQz08XObNDNphWG/aOFF6cMyU4hNkK9q0AC6sAzQ\\n&quot; +\n&quot;89dTVTPErjEJcJZ16mtI9nv5u4VKfbL1mU+ivb4pQQKBgQD+FdFx+BKojVYilT1i\\n&quot; +\n&quot;WMbXabRtm03NezgzSgIDKTxiewoQAy+n+InGPy2pz18/1DP8kasnsU8VZvRM7dXV\\n&quot; +\n&quot;lJTXrqOM/lMN8vMt7/fpz0PYEDP6Qz7CLxA0xEcW2qFR4RAQzq3xXIH/7M4VUZzD\\n&quot; +\n&quot;qzznD8aJaG5fsSExt7aITU984QKBgQDjFpVsxDxF3YZBhonuNaSrvTdDwbMqdCLT\\n&quot; +\n&quot;ZoXUL+4aKY78cD2FCfdqJ5O1uyrAqgCgjouiVnNRzDy3qSSGxaiwpI3+FA8cCNiS\\n&quot; +\n&quot;W0CE/urjDDeXU0Q5jDSBdljBF23wf9mNmXpgXSHfgQVTIiVMVD5tNhU/ORu5PXzo\\n&quot; +\n&quot;SdW67DLJbQKBgDYYbRQnrclG9hy8y2nh3svEDI70bq4d2tRIoG8N23ZYHcdU9lN7\\n&quot; +\n&quot;vdGAZ/dsWCodwse2N8tmm6DB36d1R36GeL4Gx3lgOEyS+iVAnvafkyEwKfDRWk47\\n&quot; +\n&quot;eObTFxONjqUBFsuNRUlK2b6kKygszQR3s6q6GBnvKviinJ+aLnmMhCzhAoGBAKLC\\n&quot; +\n&quot;gP6f87/kcmFsiFePYyMkTwPlRQDclEloZesbH1DpEG6mE7HS3t3a1+ec6puEPUbW\\n&quot; +\n&quot;ZAZKaATsmWgZdvCRosJYbtz4i4vQW0kq1id8feWV1BJJv9BvSQKxTBO5Mzb4q3jt\\n&quot; +\n&quot;0+RVW/3Rf3uCMbFvf/7OkJPr3o76HxhuMx3yRMRRAoGAZiFbVjd3EKUdyE0O3QSh\\n&quot; +\n&quot;46KzTdT0ENhBlN2dpCdJjHJm3Lcxa7uY4sxa8NqYUW0NO2qRSd42IKfGX3qqi7wf\\n&quot; +\n&quot;+rUFFixCzQOoucR/ekTw+542Nbc0QejAQ0SUDwgHWX8L8Yi+W3UsBL2YLLIw5ged\\n&quot; +\n&quot;7Ghsl3cgdKPMlAh1kzxsWic=&quot;;\n    static void Main(string[] args)\n    {\n        try\n        {\n            \n            //create RestSharp client and POST request object\n            var client = new RestClient(RSSO_URL + &quot;/oauth2/token&quot;);\n            var request = new RestRequest();\n            request.Method = Method.Post;\n\n            client.Authenticator = new HttpBasicAuthenticator(CLIENT_ID, CLIENT_SECRET);\n            request.AddHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n           \n            request.AddParameter(&quot;grant_type&quot;, &quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;);\n            request.AddParameter(&quot;client_assertion_type&quot;, &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;);\n            request.AddParameter(&quot;redirect_uri&quot;, &quot;https://test-dev-restapi.us.onbmc.com/api/jwt/login&quot;);\n            request.AddParameter(&quot;audience&quot;, &quot;test-dev-restapi.us.onbmc.com&quot;);\n            request.AddParameter(&quot;client_id&quot;, CLIENT_ID);\n            request.AddParameter(&quot;client_secret&quot;, CLIENT_SECRET);\n            request.AddParameter(&quot;assertion&quot;, Program.getClientJwt());\n            RestResponse response = client.Execute(request);\n\n            //return an AccessToken\n            var poo = JsonConvert.DeserializeObject(response.Content);\n\n        }\n        catch(Exception ex)\n        {\n\n        }\n        \n    }\n\n    public static string getClientJwt()  {\n\n        DateTime exp = DateTime.UtcNow.AddYears(1);\n        \n        var key = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(PRIVATE_KEY));\n        var signIn = new SigningCredentials(key, SecurityAlgorithms.HmacSha256Signature);\n\n\n        var token = new JwtSecurityToken(CLIENT_ID, &quot;miamidade-dev-restapi.us.onbmc.com&quot;, null, null, DateTime.UtcNow.AddYears(1), signIn);\n        \n        return new JwtSecurityTokenHandler().WriteToken(token);\n          \n    }\n\n\n\n    public static PrivateKey loadPrivateKey(String privateKeyStr)\n    {\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        byte[] decodedBytes = Convert.FromBase64String(privateKeyStr);\n        \n\n        PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(decodedBytes);\n        return kf.generatePrivate(keySpecPKCS8);\n    }\n\n}\n }\n</code></pre>\n<p>When I send the request, I get the error\n{&quot;error_description&quot;:&quot;Not valid request, JWT is rejected&quot;,&quot;error&quot;:&quot;invalid_grant&quot;}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1657290921,"post_id":72912731,"comment_id":128782677,"body_markdown":"Add a `static private Map&lt;Integer, ColorList&gt; hexToColor = new HashMap&lt;&gt;();` to your enum class. In your constructor, `hexToColor.put(value, this);`.","body":"Add a <code>static private Map&lt;Integer, ColorList&gt; hexToColor = new HashMap&lt;&gt;();</code> to your enum class. In your constructor, <code>hexToColor.put(value, this);</code>."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1657291071,"post_id":72912731,"comment_id":128782732,"body_markdown":"Additional info: I would create a wrapper class for the RGB code so that it gets validated to have a consistent pattern like &quot;#123456&quot; and not mixing it up like in your example.","body":"Additional info: I would create a wrapper class for the RGB code so that it gets validated to have a consistent pattern like &quot;#123456&quot; and not mixing it up like in your example."}],"answers":[{"tags":[],"owner":{"account_id":6586021,"reputation":564,"user_id":5088764,"display_name":"sbernard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657290969,"creation_date":1657290969,"answer_id":72913023,"question_id":72912731,"body_markdown":"You can do something like : \r\n```java\r\npublic enum ColorList {\r\n\r\n    RED(&quot;#FF0000&quot;),\r\n    ORANGE(&quot;FFA500&quot;);\r\n\r\n    private String value;\r\n    \r\n    public String getValue() { return value; }\r\n\r\n    ColorList(String value) { this.value = value; }\r\n    \r\n    public static ColorList fromHex(String hexColor) {\r\n        // if needed instead of loop,\r\n        // you can create a static map to search by hex code\r\n        for (ColorList color : ColorList.values()) {\r\n            if (color.getValue().equals(hexColor)) {\r\n                return color;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // I&#39;m not sure if you need this function. \r\n    public static ColorList fromHexOrName(String hexOrName) {\r\n        // search by Hexadecimal value\r\n        ColorList color = fromHex(hexOrName);\r\n        if (color != null) {\r\n            return color;\r\n        }\r\n\r\n        // else search by name \r\n        try {\r\n            return ColorList.valueOf(hexOrName);\r\n        }catch (IllegalArgumentException | NullPointerException e) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\npublic void handleColor(String hexColor) {\r\n    // hexColor is = &quot;#FF0000&quot;\r\n    ColorList myColor = ColorList.fromHex(hexColor);\r\n    // OR this call below if needed : \r\n    // ColorList myColor = ColorList.fromHexOrName(hexColor);\r\n    doWithColor(myColor);\r\n\r\n}\r\n\r\npublic void doWithColor(ColorList myColor) {\r\n    System.out.println(myColor.name());\r\n    // I expect RED \r\n    System.out.println(myColor.getValue());\r\n    // I expect &quot;#FFEDAB&quot;\r\n}\r\n```","title":"Using Enums with Hex Codes / Colors","body":"<p>You can do something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum ColorList {\n\n    RED(&quot;#FF0000&quot;),\n    ORANGE(&quot;FFA500&quot;);\n\n    private String value;\n    \n    public String getValue() { return value; }\n\n    ColorList(String value) { this.value = value; }\n    \n    public static ColorList fromHex(String hexColor) {\n        // if needed instead of loop,\n        // you can create a static map to search by hex code\n        for (ColorList color : ColorList.values()) {\n            if (color.getValue().equals(hexColor)) {\n                return color;\n            }\n        }\n        return null;\n    }\n\n    // I'm not sure if you need this function. \n    public static ColorList fromHexOrName(String hexOrName) {\n        // search by Hexadecimal value\n        ColorList color = fromHex(hexOrName);\n        if (color != null) {\n            return color;\n        }\n\n        // else search by name \n        try {\n            return ColorList.valueOf(hexOrName);\n        }catch (IllegalArgumentException | NullPointerException e) {\n            return null;\n        }\n    }\n}\n\npublic void handleColor(String hexColor) {\n    // hexColor is = &quot;#FF0000&quot;\n    ColorList myColor = ColorList.fromHex(hexColor);\n    // OR this call below if needed : \n    // ColorList myColor = ColorList.fromHexOrName(hexColor);\n    doWithColor(myColor);\n\n}\n\npublic void doWithColor(ColorList myColor) {\n    System.out.println(myColor.name());\n    // I expect RED \n    System.out.println(myColor.getValue());\n    // I expect &quot;#FFEDAB&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657291275,"creation_date":1657291275,"answer_id":72913096,"question_id":72912731,"body_markdown":"One option is below:\r\n\r\n       public void handleColor(String hexColor) {\r\n       ..\r\n        for(ColorList ls :ColorList.values()){\r\n          if(ls.getValue().equalIgnoreCase(hexColor)){\r\n           System.out.println(ls.name()); // this prints RED for hexColor #FF0000\r\n          }\r\n        }\r\n      ..\r\n     }","title":"Using Enums with Hex Codes / Colors","body":"<p>One option is below:</p>\n<pre><code>   public void handleColor(String hexColor) {\n   ..\n    for(ColorList ls :ColorList.values()){\n      if(ls.getValue().equalIgnoreCase(hexColor)){\n       System.out.println(ls.name()); // this prints RED for hexColor #FF0000\n      }\n    }\n  ..\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13689867,"reputation":66,"user_id":9877961,"display_name":"Jelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657296606,"creation_date":1657296606,"answer_id":72914167,"question_id":72912731,"body_markdown":"I would do something like this:\r\n\r\n    public enum Color {\r\n       RED(&quot;#FF0000&quot;),\r\n       ORANGE(&quot;FFA500&quot;);\r\n\r\n       private final String hexCode;\r\n\r\n       private static final Map&lt;String, ColorList&gt; BY_HEX_CODE = new ConcurrentHashMap&lt;&gt;();\r\n\r\n       static {\r\n           for (Color color : values()) {\r\n               BY_HEX_CODE.put(color.hexCode, color);\r\n           }\r\n       }\r\n\r\n       private Color(String hexCode) {\r\n           this.hexCode = hexCode;\r\n       }\r\n\r\n       private hexCode() {\r\n           return hexCode;\r\n       }\r\n\r\n       public static AccessType valueOfHexCode(String hexCode) throws NullPointerException {\r\n           return BY_HEX_CODE.get(hexCode.toUpperCase());  \r\n       }\r\n    }\r\n\r\n    ","title":"Using Enums with Hex Codes / Colors","body":"<p>I would do something like this:</p>\n<pre><code>public enum Color {\n   RED(&quot;#FF0000&quot;),\n   ORANGE(&quot;FFA500&quot;);\n\n   private final String hexCode;\n\n   private static final Map&lt;String, ColorList&gt; BY_HEX_CODE = new ConcurrentHashMap&lt;&gt;();\n\n   static {\n       for (Color color : values()) {\n           BY_HEX_CODE.put(color.hexCode, color);\n       }\n   }\n\n   private Color(String hexCode) {\n       this.hexCode = hexCode;\n   }\n\n   private hexCode() {\n       return hexCode;\n   }\n\n   public static AccessType valueOfHexCode(String hexCode) throws NullPointerException {\n       return BY_HEX_CODE.get(hexCode.toUpperCase());  \n   }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18837670"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72913023,"answer_count":3,"score":0,"last_activity_date":1657296606,"creation_date":1657289715,"question_id":72912731,"body_markdown":"I&#39;m trying to use an enum to represent different colors from within the code. The idea is that I receive a hex code, ie `#FF0000` of type String, and I want to associate that with a color value from an enum. \r\n\r\nSomething like:\r\n- I accept the hex code &quot;#FF0000&quot;\r\n- I look at my ColorList enum, and see that #FF0000 is associated with RED\r\n- I get the RED value from the enum\r\n\r\nSo I&#39;m thinking it has to be something like this:\r\n\r\n```\r\npublic enum ColorList {\r\n     RED(&quot;#FF0000&quot;)\r\n\r\n     ORANGE(&quot;FFA500&quot;)\r\n\r\n     private String value;\r\n\r\n     public String getValue() { return value; }\r\n\r\n     ColorList(String value) { this.value = value; }\r\n\r\n}\r\n\r\npublic void handleColor(String hexColor) {\r\n     // hexColor is = &quot;#FF0000&quot;\r\n     ColorList myColor = ColorList.valueOf(hexColor);\r\n     doWithColor(myColor);\r\n \r\n}\r\n\r\npublic void doWithColor(ColorList myColor) {\r\n     System.out.println(myColor.name());\r\n     // I expect RED \r\n     System.out.println(myColor.getValue());\r\n     // I expect &quot;#FFEDAB&quot;\r\n\r\n}\r\n```\r\nNot sure how to fill in the gaps here. I think the only issue is trying to get the ENUM from an arbitrary value (the hex code), so I can&#39;t just use valueOf(hexColor).","title":"Using Enums with Hex Codes / Colors","body":"<p>I'm trying to use an enum to represent different colors from within the code. The idea is that I receive a hex code, ie <code>#FF0000</code> of type String, and I want to associate that with a color value from an enum.</p>\n<p>Something like:</p>\n<ul>\n<li>I accept the hex code &quot;#FF0000&quot;</li>\n<li>I look at my ColorList enum, and see that #FF0000 is associated with RED</li>\n<li>I get the RED value from the enum</li>\n</ul>\n<p>So I'm thinking it has to be something like this:</p>\n<pre><code>public enum ColorList {\n     RED(&quot;#FF0000&quot;)\n\n     ORANGE(&quot;FFA500&quot;)\n\n     private String value;\n\n     public String getValue() { return value; }\n\n     ColorList(String value) { this.value = value; }\n\n}\n\npublic void handleColor(String hexColor) {\n     // hexColor is = &quot;#FF0000&quot;\n     ColorList myColor = ColorList.valueOf(hexColor);\n     doWithColor(myColor);\n \n}\n\npublic void doWithColor(ColorList myColor) {\n     System.out.println(myColor.name());\n     // I expect RED \n     System.out.println(myColor.getValue());\n     // I expect &quot;#FFEDAB&quot;\n\n}\n</code></pre>\n<p>Not sure how to fill in the gaps here. I think the only issue is trying to get the ENUM from an arbitrary value (the hex code), so I can't just use valueOf(hexColor).</p>\n"},{"tags":["java","android","android-studio","material-components-android"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1657293420,"post_id":72913495,"comment_id":128783577,"body_markdown":"Look through the stack trace to find a class and method name that you wrote. I think it is `at com.nooriginalthought.amalfi.MainActivity.onCreate(:2)`. This is where you can start debugging to find what the problem is.","body":"Look through the stack trace to find a class and method name that you wrote. I think it is <code>at com.nooriginalthought.amalfi.MainActivity.onCreate(:2)</code>. This is where you can start debugging to find what the problem is."},{"owner":{"account_id":2546847,"reputation":2087,"user_id":2211491,"accept_rate":83,"display_name":"Fat Monk"},"score":0,"creation_date":1657293774,"post_id":72913495,"comment_id":128783682,"body_markdown":"The Stack trace points to onCreate. It doesn&#39;t give any more detail than that. Commenting out the call to `isGooglePlayServicesAvailabke` allows the app to run without crashing so this appears to be the bad method call - even though the stack trace does not specifically identify this. But that method only returns booleans, so why a crash complaining about casting a string to a Boolean.... I don&#39;t get it, and the stack trace doesn&#39;t seem to be giving me any more clues.","body":"The Stack trace points to onCreate. It doesn&#39;t give any more detail than that. Commenting out the call to <code>isGooglePlayServicesAvailabke</code> allows the app to run without crashing so this appears to be the bad method call - even though the stack trace does not specifically identify this. But that method only returns booleans, so why a crash complaining about casting a string to a Boolean.... I don&#39;t get it, and the stack trace doesn&#39;t seem to be giving me any more clues."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1657294278,"post_id":72913495,"comment_id":128783845,"body_markdown":"I don&#39;t think the boolean return type has anything to do with the error. I&#39;m sure you know that `boolean` is different than `Boolean`.  Also, the error is complaining about a cast from `String` to `Boolean`.","body":"I don&#39;t think the boolean return type has anything to do with the error. I&#39;m sure you know that <code>boolean</code> is different than <code>Boolean</code>.  Also, the error is complaining about a cast from <code>String</code> to <code>Boolean</code>."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1657294354,"post_id":72913495,"comment_id":128783875,"body_markdown":"With that said, please show the `onCreate()` method. Maybe there are some hints there about what is going wrong.","body":"With that said, please show the <code>onCreate()</code> method. Maybe there are some hints there about what is going wrong."},{"owner":{"account_id":2546847,"reputation":2087,"user_id":2211491,"accept_rate":83,"display_name":"Fat Monk"},"score":0,"creation_date":1657298261,"post_id":72913495,"comment_id":128785113,"body_markdown":"Not sure the whole onCreate() will really help, but I&#39;ve added it.","body":"Not sure the whole onCreate() will really help, but I&#39;ve added it."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1657305342,"post_id":72913495,"comment_id":128787236,"body_markdown":"I&#39;m not, either, but it won&#39;t hurt. Maybe you should try to recreate the error by creating a new Android Studio project. Then put the code you think causes the issue and see what happens.","body":"I&#39;m not, either, but it won&#39;t hurt. Maybe you should try to recreate the error by creating a new Android Studio project. Then put the code you think causes the issue and see what happens."},{"owner":{"account_id":2546847,"reputation":2087,"user_id":2211491,"accept_rate":83,"display_name":"Fat Monk"},"score":0,"creation_date":1657305751,"post_id":72913495,"comment_id":128787372,"body_markdown":"Did you see the comment that commenting out the isGooglePLayServicesAvailable() method call results in the app running without the crash?","body":"Did you see the comment that commenting out the isGooglePLayServicesAvailable() method call results in the app running without the crash?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1657305871,"post_id":72913495,"comment_id":128787416,"body_markdown":"Yes, and you mentioned it in the original version of your question. Now that you showed where you called it from, it makes a bit more sense, but still unclear how it relates to the error.","body":"Yes, and you mentioned it in the original version of your question. Now that you showed where you called it from, it makes a bit more sense, but still unclear how it relates to the error."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1657305962,"post_id":72913495,"comment_id":128787452,"body_markdown":"My next suggestion is to put a breakpoint in `isGooglePlayServicesAvailable()` to see if you can determine where the error happens. I would start by stepping over each line in that method with F8.","body":"My next suggestion is to put a breakpoint in <code>isGooglePlayServicesAvailable()</code> to see if you can determine where the error happens. I would start by stepping over each line in that method with F8."}],"owner":{"account_id":2546847,"reputation":2087,"user_id":2211491,"accept_rate":83,"display_name":"Fat Monk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657296240,"creation_date":1657293162,"question_id":72913495,"body_markdown":"I&#39;ve just bumped the material library in one of my apps to the latest (1.6.1) from 1.4.0.\r\n\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n\r\nWith 1.4.0 everything worked fine, but now my app crashes on launch with the following error:\r\n\r\n    2022-07-05 17:13:17.784 17333-17333/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.nooriginalthought.amalfi, PID: 17333\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.nooriginalthought.amalfi/com.nooriginalthought.amalfi.MainActivity}: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Boolean\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2195)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\r\n            at android.app.ActivityThread.access$800(ActivityThread.java:135)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:136)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5017)\r\n            at java.lang.reflect.Method.invokeNative(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:515)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\r\n            at dalvik.system.NativeStart.main(Native Method)\r\n         Caused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Boolean\r\n            at android.app.SharedPreferencesImpl.getBoolean(SharedPreferencesImpl.java:261)\r\n            at o4.w.u()\r\n            at com.nooriginalthought.amalfi.MainActivity.onCreate(:2)\r\n            at android.app.Activity.performCreate(Activity.java:5231)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)&#160;\r\n            at android.app.ActivityThread.access$800(ActivityThread.java:135)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n            at android.os.Looper.loop(Looper.java:136)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:5017)&#160;\r\n            at java.lang.reflect.Method.invokeNative(Native Method)&#160;\r\n            at java.lang.reflect.Method.invoke(Method.java:515)&#160;\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)&#160;\r\n            at dalvik.system.NativeStart.main(Native Method)&#160;\r\n    2022-07-05 17:13:26.944 1609-1623/system_process E/WindowManager: Starting window AppWindowToken{ad48a468 token=Token{ad419be0 ActivityRecord{ad079590 u0 com.nooriginalthought.amalfi/.MainActivity t84}}} timed out\r\n\r\nIf I comment out the following line in my onCreate() the app opens fine (though the Google Play check is not being run, which I need it to be).\r\n\r\n        isGooglePlayServicesAvailable(this);\r\n\r\nMy `isGooglePlayServicesAvailable` method is defined as follows, which to me looks like it is defintely returning a boolean, so I can&#39;t see why I am getting the crash (or why a material library change would suddenly cause this, unless the error dialog is being called and failing? Even though Google Play Services IS installed on both devices I have tested on.)\r\n\r\n    public boolean isGooglePlayServicesAvailable(Activity activity) {\r\n        GoogleApiAvailability googleApiAvailability = GoogleApiAvailability.getInstance();\r\n        int status = googleApiAvailability.isGooglePlayServicesAvailable(activity);\r\n        if(status != ConnectionResult.SUCCESS) {\r\n            if(googleApiAvailability.isUserResolvableError(status)) {\r\n                googleApiAvailability.getErrorDialog(activity, status, GOOGLE_PLAY_SERVICES_API_REQUEST_CODE).show();\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nI am confused... I&#39;ve tried resyncing Gradle and clean builds but get the same error...\r\n\r\n-- Update --\r\nAt code-aprentice&#39;s request I am incuding the whole of `onCreate()`, though I can&#39;t see anything in there that could be triggering this specific error.\r\n\r\n    @Override\r\n    protected void onCreate(Bundle _savedInstanceState) {\r\n        super.onCreate(_savedInstanceState);\r\n\r\n        isGooglePlayServicesAvailable(this);\r\n        addExtraSslProtocolsIfNeeded();\r\n\r\n        amalfi = Amalfi.getInstance(getApplicationContext());\r\n        affiliateRegions = new AffiliateRegions(this);\r\n\r\n\r\n        // Read prefs and aff_ids here because they are used in start activity decision making\r\n        amalfi.read_prefs();\r\n        CommonFuncs.setLocale(this,amalfi.UIlang);\r\n\r\n        // Go directly to the First Run Welcome Activity if it hasn&#39;t been shown AND acknowledged\r\n        if (!amalfi.compWarnShown_firstRun) {\r\n            showFirstRunMessage();\r\n        }\r\n\r\n        amalfi.get_affids_fromprefs(affiliateRegions);\r\n\r\n        // Get the intent that started this activity\r\n        Intent intent = getIntent();\r\n        String action = intent.getAction();\r\n        String type = intent.getType();\r\n\r\n        // Figure out what to do based on the intent type\r\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\r\n            if (&quot;text/plain&quot;.equals(type)) {\r\n                incomingString = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n            }\r\n        } else if (Intent.ACTION_VIEW.equals(action)) {\r\n            if (intent.getDataString() != null) {\r\n                incomingString = intent.getDataString();\r\n            }\r\n        }\r\n\r\n        if ( amalfi.launchIntoBrowser &amp;&amp; (incomingString == null || &quot;&quot;.equals(incomingString) ) ) {\r\n            startBrowseAmazonActivity();\r\n        }\r\n\r\n\r\n        // If not starting another activity, then continue loading this one as normal.\r\n        viewBinding = MainBinding.inflate(getLayoutInflater());\r\n        View view = viewBinding.getRoot();\r\n        drawerViewBinding = viewBinding.drawerMenu;\r\n        setContentView(view);\r\n\r\n        // This if block is trying to get the auto layout transitions working - but doesn&#39;t seem to make any difference.\r\n        viewBinding.mainLayout.getLayoutTransition().enableTransitionType(LayoutTransition.CHANGING);\r\n        drawerViewBinding.drawerRoot.getLayoutTransition().enableTransitionType(LayoutTransition.CHANGING);\r\n\r\n        // Hide the expanded source URL block\r\n        viewBinding.expandedSrcUrlContainer.setVisibility(GONE);\r\n\r\n        amalfi.isPro();\r\n        enable_and_disable_buttons();\r\n\r\n        // Setup the in app purchases stuff\r\n        setupBillingClient();\r\n\r\n    }\r\n\r\nThe only things in there that are being assigned to `String`s are from `intent.getAction()` and `intent.getType()` both of which return `Strings` according to the docs (https://developer.android.com/reference/android/content/Intent)\r\n\r\n","title":"Android Studio material library causes cannot convert String to Boolean crash","body":"<p>I've just bumped the material library in one of my apps to the latest (1.6.1) from 1.4.0.</p>\n<pre><code>implementation 'com.google.android.material:material:1.6.1'\n</code></pre>\n<p>With 1.4.0 everything worked fine, but now my app crashes on launch with the following error:</p>\n<pre><code>2022-07-05 17:13:17.784 17333-17333/? E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.nooriginalthought.amalfi, PID: 17333\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.nooriginalthought.amalfi/com.nooriginalthought.amalfi.MainActivity}: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Boolean\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2195)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\n        at android.app.ActivityThread.access$800(ActivityThread.java:135)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:136)\n        at android.app.ActivityThread.main(ActivityThread.java:5017)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:515)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\n        at dalvik.system.NativeStart.main(Native Method)\n     Caused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Boolean\n        at android.app.SharedPreferencesImpl.getBoolean(SharedPreferencesImpl.java:261)\n        at o4.w.u()\n        at com.nooriginalthought.amalfi.MainActivity.onCreate(:2)\n        at android.app.Activity.performCreate(Activity.java:5231)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245) \n        at android.app.ActivityThread.access$800(ActivityThread.java:135) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:136) \n        at android.app.ActivityThread.main(ActivityThread.java:5017) \n        at java.lang.reflect.Method.invokeNative(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:515) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595) \n        at dalvik.system.NativeStart.main(Native Method) \n2022-07-05 17:13:26.944 1609-1623/system_process E/WindowManager: Starting window AppWindowToken{ad48a468 token=Token{ad419be0 ActivityRecord{ad079590 u0 com.nooriginalthought.amalfi/.MainActivity t84}}} timed out\n</code></pre>\n<p>If I comment out the following line in my onCreate() the app opens fine (though the Google Play check is not being run, which I need it to be).</p>\n<pre><code>    isGooglePlayServicesAvailable(this);\n</code></pre>\n<p>My <code>isGooglePlayServicesAvailable</code> method is defined as follows, which to me looks like it is defintely returning a boolean, so I can't see why I am getting the crash (or why a material library change would suddenly cause this, unless the error dialog is being called and failing? Even though Google Play Services IS installed on both devices I have tested on.)</p>\n<pre><code>public boolean isGooglePlayServicesAvailable(Activity activity) {\n    GoogleApiAvailability googleApiAvailability = GoogleApiAvailability.getInstance();\n    int status = googleApiAvailability.isGooglePlayServicesAvailable(activity);\n    if(status != ConnectionResult.SUCCESS) {\n        if(googleApiAvailability.isUserResolvableError(status)) {\n            googleApiAvailability.getErrorDialog(activity, status, GOOGLE_PLAY_SERVICES_API_REQUEST_CODE).show();\n        }\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>I am confused... I've tried resyncing Gradle and clean builds but get the same error...</p>\n<p>-- Update --\nAt code-aprentice's request I am incuding the whole of <code>onCreate()</code>, though I can't see anything in there that could be triggering this specific error.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle _savedInstanceState) {\n    super.onCreate(_savedInstanceState);\n\n    isGooglePlayServicesAvailable(this);\n    addExtraSslProtocolsIfNeeded();\n\n    amalfi = Amalfi.getInstance(getApplicationContext());\n    affiliateRegions = new AffiliateRegions(this);\n\n\n    // Read prefs and aff_ids here because they are used in start activity decision making\n    amalfi.read_prefs();\n    CommonFuncs.setLocale(this,amalfi.UIlang);\n\n    // Go directly to the First Run Welcome Activity if it hasn't been shown AND acknowledged\n    if (!amalfi.compWarnShown_firstRun) {\n        showFirstRunMessage();\n    }\n\n    amalfi.get_affids_fromprefs(affiliateRegions);\n\n    // Get the intent that started this activity\n    Intent intent = getIntent();\n    String action = intent.getAction();\n    String type = intent.getType();\n\n    // Figure out what to do based on the intent type\n    if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n        if (&quot;text/plain&quot;.equals(type)) {\n            incomingString = intent.getStringExtra(Intent.EXTRA_TEXT);\n        }\n    } else if (Intent.ACTION_VIEW.equals(action)) {\n        if (intent.getDataString() != null) {\n            incomingString = intent.getDataString();\n        }\n    }\n\n    if ( amalfi.launchIntoBrowser &amp;&amp; (incomingString == null || &quot;&quot;.equals(incomingString) ) ) {\n        startBrowseAmazonActivity();\n    }\n\n\n    // If not starting another activity, then continue loading this one as normal.\n    viewBinding = MainBinding.inflate(getLayoutInflater());\n    View view = viewBinding.getRoot();\n    drawerViewBinding = viewBinding.drawerMenu;\n    setContentView(view);\n\n    // This if block is trying to get the auto layout transitions working - but doesn't seem to make any difference.\n    viewBinding.mainLayout.getLayoutTransition().enableTransitionType(LayoutTransition.CHANGING);\n    drawerViewBinding.drawerRoot.getLayoutTransition().enableTransitionType(LayoutTransition.CHANGING);\n\n    // Hide the expanded source URL block\n    viewBinding.expandedSrcUrlContainer.setVisibility(GONE);\n\n    amalfi.isPro();\n    enable_and_disable_buttons();\n\n    // Setup the in app purchases stuff\n    setupBillingClient();\n\n}\n</code></pre>\n<p>The only things in there that are being assigned to <code>String</code>s are from <code>intent.getAction()</code> and <code>intent.getType()</code> both of which return <code>Strings</code> according to the docs (<a href=\"https://developer.android.com/reference/android/content/Intent\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/Intent</a>)</p>\n"},{"tags":["java","spring-boot","maven","spring-actuator"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1627620902,"post_id":68585182,"comment_id":121209615,"body_markdown":"You&#39;re not including the Jackson Java 8 time dependency.","body":"You&#39;re not including the Jackson Java 8 time dependency."},{"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"score":0,"creation_date":1627621523,"post_id":68585182,"comment_id":121209721,"body_markdown":"Sorry, which dependency is that? @chrylis-cautiouslyoptimistic-","body":"Sorry, which dependency is that? @chrylis-cautiouslyoptimistic-"},{"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"score":0,"creation_date":1627621682,"post_id":68585182,"comment_id":121209753,"body_markdown":"Is this one? \n    `&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;`","body":"Is this one?      <code>&lt;dependency&gt;         &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;&#47;groupId&gt;         &lt;artifactId&gt;jackson-datatype-jsr310&lt;&#47;artifactId&gt;     &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1627621804,"post_id":68585182,"comment_id":121209792,"body_markdown":"Always [search the name](https://github.com/FasterXML/jackson-datatype-jsr310). It identifies the replacement.","body":"Always <a href=\"https://github.com/FasterXML/jackson-datatype-jsr310\" rel=\"nofollow noreferrer\">search the name</a>. It identifies the replacement."},{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":0,"creation_date":1627649320,"post_id":68585182,"comment_id":121219180,"body_markdown":"What does your `git.properties` look like? Which version of Spring Boot / Actuator are you using?","body":"What does your <code>git.properties</code> look like? Which version of Spring Boot / Actuator are you using?"},{"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"score":0,"creation_date":1627658711,"post_id":68585182,"comment_id":121223331,"body_markdown":"Helllo @slauth I&#39;ve just updated the question with that information.","body":"Helllo @slauth I&#39;ve just updated the question with that information."}],"answers":[{"tags":[],"owner":{"account_id":970256,"reputation":892,"user_id":992940,"accept_rate":67,"display_name":"Dmitrii Bocharov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657295531,"creation_date":1657295531,"answer_id":72913973,"question_id":68585182,"body_markdown":"it&#39;s pretty late already, but today i got the same problem, and here is the reason, why it happens: https://github.com/spring-projects/spring-boot/issues/10392\r\n\r\nSo a simple solution is to use any other format than `yyyy-MM-dd&#39;T&#39;HH:mm:ssZ`. Then spring won&#39;t convert it.\r\n\r\nFor example:\r\n```xml\r\n&lt;dateFormat&gt;yyyy-MM-dd HH:mm:ss&lt;/dateFormat&gt;\r\n```\r\nworked absolutely fine for me","title":"Format Git/Build Time Information Using Spring Boot Actuator And git-commit-id-maven-plugin","body":"<p>it's pretty late already, but today i got the same problem, and here is the reason, why it happens: <a href=\"https://github.com/spring-projects/spring-boot/issues/10392\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/10392</a></p>\n<p>So a simple solution is to use any other format than <code>yyyy-MM-dd'T'HH:mm:ssZ</code>. Then spring won't convert it.</p>\n<p>For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dateFormat&gt;yyyy-MM-dd HH:mm:ss&lt;/dateFormat&gt;\n</code></pre>\n<p>worked absolutely fine for me</p>\n"}],"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657295531,"creation_date":1627616320,"question_id":68585182,"body_markdown":"I&#39;m using spring boot actuator and git-commit-id-maven-plugin to expose git/build information, however the time information is being displayed like this:\r\n\r\n    {\r\n    &quot;git&quot;: {\r\n        &quot;commit&quot;: {\r\n            &quot;id&quot;: {\r\n                &quot;full&quot;: &quot;67ad5677d4a8ad6f02adda28c3963bee17183c20&quot;\r\n            },\r\n            &quot;time&quot;: {\r\n                &quot;nano&quot;: 0,\r\n                &quot;epochSecond&quot;: 1627493496\r\n            }\r\n        },\r\n    ...\r\nIs there a way to format the time to a more human readable format?\r\n\r\nI&#39;ve tried a couple of things but none of those worked, this is what I&#39;ve tried:\r\n\r\n 1. Adding a dateFormat to the git-commit-id-maven-plugin:\r\n \r\n          &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;io.github.git-commit-id&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;git-commit-id-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;get-the-git-infos&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;revision&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;phase&gt;initialize&lt;/phase&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;dateFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&lt;/dateFormat&gt;\r\n              &lt;generateGitPropertiesFile&gt;true&lt;/generateGitPropertiesFile&gt;\r\n              &lt;generateGitPropertiesFilename&gt;${basedir}/src/main/resources/git.properties&lt;/generateGitPropertiesFilename&gt;\r\n              &lt;includeOnlyProperties&gt;\r\n                &lt;includeOnlyProperty&gt;^git.commit.time$&lt;/includeOnlyProperty&gt;\r\n                &lt;includeOnlyProperty&gt;^git.commit.id$&lt;/includeOnlyProperty&gt;\r\n                &lt;includeOnlyProperty&gt;^git.branch$&lt;/includeOnlyProperty&gt;\r\n              &lt;/includeOnlyProperties&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n\r\n 2. Adding these spring jackson properties to the `application.properties` file:\r\n    \r\n        spring.jackson.serialization.write-date-timestamps-as-nanoseconds=false\r\n        spring.jackson.serialization.write-dates-as-timestamps=false/true\r\n        spring.jackson.serialization.write-durations-as-timestamps =false/true\r\n        spring.jackson.serialization.write-date-timestamps-as-nanoseconds =false/true\r\n\r\n 3. Add Instant serializer:\r\n\r\n            DateTimeFormatter dtf = new DateTimeFormatterBuilder()\r\n        \t    .appendInstant(0)\r\n        \t    .toFormatter();\r\n        \tJavaTimeModule jtm = new JavaTimeModule();\r\n        \tjtm.addSerializer(Instant.class, new JsonSerializer&lt;Instant&gt;() {\r\n        \t    @Override\r\n        \t    public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException, JsonProcessingException {\r\n        \t        gen.writeString(dtf.format(value));\r\n        \t    }\r\n        \t});\r\n\r\n        mapper.registerModule(jtm);\r\n\r\n \r\nAlong with this dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAdditional information, this is my git.properties:\r\n\r\n    #Generated by Git-Commit-Id-Plugin\r\n    git.branch=bugfix/PLATV2-12640\r\n    git.commit.id=67ad5677d4a8ad6f02adda28c3963bee17183c20\r\n    git.commit.time=2021-07-28T12\\:31\\:36-0500\r\n\r\nAnd I&#39;m using this spring-boot version:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n","title":"Format Git/Build Time Information Using Spring Boot Actuator And git-commit-id-maven-plugin","body":"<p>I'm using spring boot actuator and git-commit-id-maven-plugin to expose git/build information, however the time information is being displayed like this:</p>\n<pre><code>{\n&quot;git&quot;: {\n    &quot;commit&quot;: {\n        &quot;id&quot;: {\n            &quot;full&quot;: &quot;67ad5677d4a8ad6f02adda28c3963bee17183c20&quot;\n        },\n        &quot;time&quot;: {\n            &quot;nano&quot;: 0,\n            &quot;epochSecond&quot;: 1627493496\n        }\n    },\n...\n</code></pre>\n<p>Is there a way to format the time to a more human readable format?</p>\n<p>I've tried a couple of things but none of those worked, this is what I've tried:</p>\n<ol>\n<li><p>Adding a dateFormat to the git-commit-id-maven-plugin:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;io.github.git-commit-id&lt;/groupId&gt;\n    &lt;artifactId&gt;git-commit-id-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;get-the-git-infos&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;revision&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;initialize&lt;/phase&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;dateFormat&gt;yyyy-MM-dd'T'HH:mm:ssZ&lt;/dateFormat&gt;\n      &lt;generateGitPropertiesFile&gt;true&lt;/generateGitPropertiesFile&gt;\n      &lt;generateGitPropertiesFilename&gt;${basedir}/src/main/resources/git.properties&lt;/generateGitPropertiesFilename&gt;\n      &lt;includeOnlyProperties&gt;\n        &lt;includeOnlyProperty&gt;^git.commit.time$&lt;/includeOnlyProperty&gt;\n        &lt;includeOnlyProperty&gt;^git.commit.id$&lt;/includeOnlyProperty&gt;\n        &lt;includeOnlyProperty&gt;^git.branch$&lt;/includeOnlyProperty&gt;\n      &lt;/includeOnlyProperties&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n</li>\n<li><p>Adding these spring jackson properties to the <code>application.properties</code> file:</p>\n<pre><code>spring.jackson.serialization.write-date-timestamps-as-nanoseconds=false\nspring.jackson.serialization.write-dates-as-timestamps=false/true\nspring.jackson.serialization.write-durations-as-timestamps =false/true\nspring.jackson.serialization.write-date-timestamps-as-nanoseconds =false/true\n</code></pre>\n</li>\n<li><p>Add Instant serializer:</p>\n<pre><code>    DateTimeFormatter dtf = new DateTimeFormatterBuilder()\n        .appendInstant(0)\n        .toFormatter();\n    JavaTimeModule jtm = new JavaTimeModule();\n    jtm.addSerializer(Instant.class, new JsonSerializer&lt;Instant&gt;() {\n        @Override\n        public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException, JsonProcessingException {\n            gen.writeString(dtf.format(value));\n        }\n    });\n\nmapper.registerModule(jtm);\n</code></pre>\n</li>\n</ol>\n<p>Along with this dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Additional information, this is my git.properties:</p>\n<pre><code>#Generated by Git-Commit-Id-Plugin\ngit.branch=bugfix/PLATV2-12640\ngit.commit.id=67ad5677d4a8ad6f02adda28c3963bee17183c20\ngit.commit.time=2021-07-28T12\\:31\\:36-0500\n</code></pre>\n<p>And I'm using this spring-boot version:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657295362,"creation_date":1657295362,"answer_id":72913942,"question_id":72912914,"body_markdown":"The `Gdx.input.isTouched()` method doesn&#39;t know about the position of your rectagle. It just check whether the screen is touched or not.\r\n\r\nTry using `Gdx.input.getX()` and `Gdx.input.getY()` to get the coordinates of the click or touch event when the screen is touched and check these coordinates against the coordinates of your rectangle.\r\n\r\nAlso don&#39;t forget to **unproject** the coordinates if you are using a `camera`. See [this answer](https://stackoverflow.com/a/30997489/8178842) for more information.\r\n\r\n\r\n```\r\nif(Gdx.input.isTouched()){\r\n    Vector3 touchPosition = new Vector3(Gdx.input.getX(), Gdx.input.getY(), 0f);\r\n    // TODO maybe unproject the position using camera.unproject(touchPosition);\r\n    if (isTouchInsideRectangle(touchPosition)) {\r\n        System.out.println(&quot;Done&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;Missed&quot;);\r\n    }\r\n}\r\n```","title":"Print text when a rectangle is pressed libgdx","body":"<p>The <code>Gdx.input.isTouched()</code> method doesn't know about the position of your rectagle. It just check whether the screen is touched or not.</p>\n<p>Try using <code>Gdx.input.getX()</code> and <code>Gdx.input.getY()</code> to get the coordinates of the click or touch event when the screen is touched and check these coordinates against the coordinates of your rectangle.</p>\n<p>Also don't forget to <strong>unproject</strong> the coordinates if you are using a <code>camera</code>. See <a href=\"https://stackoverflow.com/a/30997489/8178842\">this answer</a> for more information.</p>\n<pre><code>if(Gdx.input.isTouched()){\n    Vector3 touchPosition = new Vector3(Gdx.input.getX(), Gdx.input.getY(), 0f);\n    // TODO maybe unproject the position using camera.unproject(touchPosition);\n    if (isTouchInsideRectangle(touchPosition)) {\n        System.out.println(&quot;Done&quot;);\n    }\n    else {\n        System.out.println(&quot;Missed&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25024779,"reputation":17,"user_id":18883106,"display_name":"witsel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657295362,"creation_date":1657290460,"question_id":72912914,"body_markdown":"i have created a rectangle \r\n\r\n    public Rectangle rectangle_hitbox;\r\n\r\nIt has the coordinates and dimensions of the enemies. In the render method, I want that when this rectangle is pressed, the string &quot;Done&quot; is printed. I tried with:\r\n\r\n    if(Gdx.input.isTouched()){\r\n       System.out.println(&quot;Done&quot;);\r\n    } else {\r\n       System.out.println(&quot;Missed&quot;);\r\n    }\r\n\r\nBut it works anywhere on the map and not only in rectangles","title":"Print text when a rectangle is pressed libgdx","body":"<p>i have created a rectangle</p>\n<pre><code>public Rectangle rectangle_hitbox;\n</code></pre>\n<p>It has the coordinates and dimensions of the enemies. In the render method, I want that when this rectangle is pressed, the string &quot;Done&quot; is printed. I tried with:</p>\n<pre><code>if(Gdx.input.isTouched()){\n   System.out.println(&quot;Done&quot;);\n} else {\n   System.out.println(&quot;Missed&quot;);\n}\n</code></pre>\n<p>But it works anywhere on the map and not only in rectangles</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1657295104,"post_id":72913829,"comment_id":128784109,"body_markdown":"Ate you looking for [Bytecode obfuscation](https://owasp.org/www-community/controls/Bytecode_obfuscation#:~:text=Bytecode%20Obfuscation%20is%20the%20process,enough%20skill%2C%20time%20and%20effort.)?","body":"Ate you looking for <a href=\"https://owasp.org/www-community/controls/Bytecode_obfuscation#:~:text=Bytecode%20Obfuscation%20is%20the%20process,enough%20skill%2C%20time%20and%20effort.\" rel=\"nofollow noreferrer\">Bytecode obfuscation</a>?"},{"owner":{"account_id":2028324,"reputation":10542,"user_id":1812732,"accept_rate":72,"display_name":"John Henckel"},"score":2,"creation_date":1657295266,"post_id":72913829,"comment_id":128784162,"body_markdown":"see also https://stackoverflow.com/questions/14492422/hiding-the-source-code-in-jar-files","body":"see also <a href=\"https://stackoverflow.com/questions/14492422/hiding-the-source-code-in-jar-files\" title=\"hiding the source code in jar files\">stackoverflow.com/questions/14492422/&hellip;</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1657296849,"post_id":72913829,"comment_id":128784659,"body_markdown":"Some of the strongest encryption algorithms are, in fact, Open Source.","body":"Some of the strongest encryption algorithms are, in fact, Open Source."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1657296925,"post_id":72913829,"comment_id":128784687,"body_markdown":"And it is not possible to open a zip file without knowing the password, even if you have the full source code of the zip program. That&#39;s because the password is used to encrypt the contents.","body":"And it is not possible to open a zip file without knowing the password, even if you have the full source code of the zip program. That&#39;s because the password is used to encrypt the contents."},{"owner":{"account_id":23808129,"reputation":924,"user_id":17817329,"display_name":"robni"},"score":1,"creation_date":1657315530,"post_id":72913829,"comment_id":128789927,"body_markdown":"Does this answer your question? [Hiding the source code in .jar files](https://stackoverflow.com/questions/14492422/hiding-the-source-code-in-jar-files)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14492422/hiding-the-source-code-in-jar-files\">Hiding the source code in .jar files</a>"}],"answers":[{"tags":[],"owner":{"account_id":23720313,"reputation":42,"user_id":19511548,"display_name":"Lucas Eduardo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657295211,"creation_date":1657295211,"answer_id":72913917,"question_id":72913829,"body_markdown":"In Java, we often use interfaces to abstract the implementation details and what kind of things you can do with that.\r\n\r\nThis makes things drop in and easier to inject mocks because the mock just has to provide that interface.\r\n\r\nOne example is `java.util.Map`, that has implementations like `java.util.HashMap`. One could wrap another object to implement the Map interface and pass it to the component that needs a Map.\r\n\r\nThis makes things much less uncoupled, but personalized interfaces require some extra planning. You could stick with simpler interfaces (Sum, Sub, Mul, and Div instead of a whole calculator) because classes can implement more than one interface but can&#39;t extend more than one class.","title":"How to hide implementation (code) in Java?","body":"<p>In Java, we often use interfaces to abstract the implementation details and what kind of things you can do with that.</p>\n<p>This makes things drop in and easier to inject mocks because the mock just has to provide that interface.</p>\n<p>One example is <code>java.util.Map</code>, that has implementations like <code>java.util.HashMap</code>. One could wrap another object to implement the Map interface and pass it to the component that needs a Map.</p>\n<p>This makes things much less uncoupled, but personalized interfaces require some extra planning. You could stick with simpler interfaces (Sum, Sub, Mul, and Div instead of a whole calculator) because classes can implement more than one interface but can't extend more than one class.</p>\n"}],"owner":{"account_id":18892691,"reputation":15,"user_id":13782611,"display_name":"PoLeq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1657295211,"creation_date":1657294744,"question_id":72913829,"body_markdown":"I have been thinking for a really long time about &quot;implementation hiding in Java&quot;. Well, I know it is impossible (at least in theory), but there are some libraries (for example for ZIP files) that need to hide some code (because if anyone could see the code, they will be able to open fe. zip files without knowing the password).\r\n\r\nI know that there is a way do make web services, but the application that is using some libraries might be offline app, so web services can&#39;t be a point too for everything.\r\n\r\nCould you mind helping me to understand it well?","title":"How to hide implementation (code) in Java?","body":"<p>I have been thinking for a really long time about &quot;implementation hiding in Java&quot;. Well, I know it is impossible (at least in theory), but there are some libraries (for example for ZIP files) that need to hide some code (because if anyone could see the code, they will be able to open fe. zip files without knowing the password).</p>\n<p>I know that there is a way do make web services, but the application that is using some libraries might be offline app, so web services can't be a point too for everything.</p>\n<p>Could you mind helping me to understand it well?</p>\n"},{"tags":["java","sql","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657294948,"creation_date":1657294948,"answer_id":72913883,"question_id":72913109,"body_markdown":"Well, I&#39;m not sure what you mean by &#39;mapping them with stream&#39;...\r\n\r\nYou need to have some sort of combined object which can store all of the relevant properties. In pure object model design I would first think of a composite pattern, something like:\r\n\r\n    class ItemWithDiscount {\r\n      public Item;\r\n      public Discount;\r\n    }\r\n\r\nAlthough you might want to consider immutability, etc. Now, if you are going to serialize this to JSON, for example, it might be easier to simply implement it as a class containing all the fields of the sub-objects in a flat form:\r\n\r\n    class ItemWithDiscount {\r\n      public Integer itemId;\r\n      public String name;\r\n      public Integer price;\r\n      public Integer discount;\r\n    }\r\n\r\nand now you can create a constructor which does the flattening. This second design is a bit clunkier in some respects, but for most purposes it will work OK.\r\n\r\nNOW you could potentially use stream syntax to build these composites, etc. ","title":"Merge two objects that contains the same ID and return one object with the properties","body":"<p>Well, I'm not sure what you mean by 'mapping them with stream'...</p>\n<p>You need to have some sort of combined object which can store all of the relevant properties. In pure object model design I would first think of a composite pattern, something like:</p>\n<pre><code>class ItemWithDiscount {\n  public Item;\n  public Discount;\n}\n</code></pre>\n<p>Although you might want to consider immutability, etc. Now, if you are going to serialize this to JSON, for example, it might be easier to simply implement it as a class containing all the fields of the sub-objects in a flat form:</p>\n<pre><code>class ItemWithDiscount {\n  public Integer itemId;\n  public String name;\n  public Integer price;\n  public Integer discount;\n}\n</code></pre>\n<p>and now you can create a constructor which does the flattening. This second design is a bit clunkier in some respects, but for most purposes it will work OK.</p>\n<p>NOW you could potentially use stream syntax to build these composites, etc.</p>\n"}],"owner":{"account_id":23004324,"reputation":93,"user_id":17127860,"display_name":"LDrof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657294948,"creation_date":1657291336,"question_id":72913109,"body_markdown":"```\r\n\r\nclass Item{\r\n    Integer ID;\r\n    String name;\r\n    Double price;\r\n}\r\n\r\n\r\nclass Item discount{\r\n    Integer Id;\r\n    Double discount\r\n}\r\n```\r\n\r\nI have these two classes with a list of items on both and I am trying to return a new object &quot;ItemWithDiscount&quot; that has the attributes of both classes, this in a service/controller requisition. I tried mapping them with stream but wasn&#39;t able to do so. Can anyone give me a light of some way to do it?\r\n","title":"Merge two objects that contains the same ID and return one object with the properties","body":"<pre><code>\nclass Item{\n    Integer ID;\n    String name;\n    Double price;\n}\n\n\nclass Item discount{\n    Integer Id;\n    Double discount\n}\n</code></pre>\n<p>I have these two classes with a list of items on both and I am trying to return a new object &quot;ItemWithDiscount&quot; that has the attributes of both classes, this in a service/controller requisition. I tried mapping them with stream but wasn't able to do so. Can anyone give me a light of some way to do it?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","hibernate-entitymanager"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":2,"creation_date":1525444993,"post_id":50177517,"comment_id":87372289,"body_markdown":"It is telling you what the problem is: you haven&#39;t defined a converter to convert from an integer to a UserStatisticsModel.","body":"It is telling you what the problem is: you haven&#39;t defined a converter to convert from an integer to a UserStatisticsModel."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1525445207,"post_id":50177517,"comment_id":87372422,"body_markdown":"You may also want to consider setting `nativeQuery=true` on the `@Query`, unless you&#39;re not doing that intentionally for some reason.","body":"You may also want to consider setting <code>nativeQuery=true</code> on the <code>@Query</code>, unless you&#39;re not doing that intentionally for some reason."},{"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"score":0,"creation_date":1525445427,"post_id":50177517,"comment_id":87372554,"body_markdown":"@RoddyoftheFrozenPeas How to define a converter?","body":"@RoddyoftheFrozenPeas How to define a converter?"},{"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"score":0,"creation_date":1525445463,"post_id":50177517,"comment_id":87372581,"body_markdown":"It is not a native query. If I set it to true it will work. But I want to use `JPQL`","body":"It is not a native query. If I set it to true it will work. But I want to use <code>JPQL</code>"},{"owner":{"account_id":8325013,"reputation":1264,"user_id":6255346,"accept_rate":80,"display_name":"Ruik"},"score":0,"creation_date":1644249043,"post_id":50177517,"comment_id":125548600,"body_markdown":"Has this ever been solved? I&#39;m facing the same issue. My (native) SQL statement returns one row with 6 collums, they appear as Object[] Array in Java, then the ArrayToObjectConverter only takes the first collums and tries to convert that into my target type, which of course fails.","body":"Has this ever been solved? I&#39;m facing the same issue. My (native) SQL statement returns one row with 6 collums, they appear as Object[] Array in Java, then the ArrayToObjectConverter only takes the first collums and tries to convert that into my target type, which of course fails."},{"owner":{"account_id":8325013,"reputation":1264,"user_id":6255346,"accept_rate":80,"display_name":"Ruik"},"score":0,"creation_date":1644255010,"post_id":50177517,"comment_id":125551341,"body_markdown":"Okay, I fixed my problem. I got the exact same exception because of a type mismatch. I had a method TypeB selectQuery(...) within a JpaRepository&lt;TypeA, String&gt;. The error &quot;converter not found&quot; is not very helpful in this case.","body":"Okay, I fixed my problem. I got the exact same exception because of a type mismatch. I had a method TypeB selectQuery(...) within a JpaRepository&lt;TypeA, String&gt;. The error &quot;converter not found&quot; is not very helpful in this case."}],"answers":[{"tags":[],"owner":{"account_id":8810376,"reputation":624,"user_id":6583610,"display_name":"Babajide M. Moibi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1525446270,"creation_date":1525446270,"answer_id":50177958,"question_id":50177517,"body_markdown":"Your query is the issue. You say `Select 1 as id` but you want to return a `UserStatisticsModel`. So you&#39;d have to fix your query or change the method signature to return an `Integer` instead.","title":"Spring JPA repository Converter not found","body":"<p>Your query is the issue. You say <code>Select 1 as id</code> but you want to return a <code>UserStatisticsModel</code>. So you'd have to fix your query or change the method signature to return an <code>Integer</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":5999925,"reputation":29,"user_id":4713520,"display_name":"Rodrigo Vergara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657294872,"creation_date":1657294872,"answer_id":72913861,"question_id":50177517,"body_markdown":"As mentioned @Babajide M. Moibi, try changing your query to: **Select 1 as id**, sum(case when u.isActive is true then 1 else 0 end) as activeUsers....\r\n","title":"Spring JPA repository Converter not found","body":"<p>As mentioned @Babajide M. Moibi, try changing your query to: <strong>Select 1 as id</strong>, sum(case when u.isActive is true then 1 else 0 end) as activeUsers....</p>\n"}],"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4951,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1657294872,"creation_date":1525444835,"question_id":50177517,"body_markdown":"I have an entity class `UserModel.java` \r\n\r\n    @Entity\r\n    @Table\r\n    @Data\r\n    @EqualsAndHashCode( of = { &quot;id&quot; } )\r\n    @ToString( of = { &quot;id&quot; } )\r\n    public class UserModel {\r\n\r\n    @Id\r\n    @GeneratedValue( strategy = GenerationType.AUTO )\r\n    @Column( name = &quot;u_id&quot; )\r\n    private Long id;\r\n\r\n    @Column( name = &quot;u_first_name&quot; )\r\n    private String firstName;\r\n\r\n    @Column( name = &quot;u_last_name&quot; )\r\n    private String lastName;\r\n\r\n    @Column( name = &quot;u_email_id&quot; )\r\n    private String emailId;\r\n\r\n    @Column( name = &quot;u_password&quot; )\r\n    private String password;\r\n\r\n    @Column( name = &quot;u_mobile_number&quot; )\r\n    private String mobileNumber;\r\n\r\n    @Column( name = &quot;u_created_at&quot; )\r\n    private Calendar createdAt;\r\n\r\n    @Column( name = &quot;u_is_active&quot; )\r\n    private Boolean isActive;\r\n\r\n    @Column( name = &quot;u_reason&quot; )\r\n    private String reason;\r\n\r\n    \r\n    }\r\n\r\nI need to fetch some statistics based on the values contained in each column. So I created a `JPQL` query and the result I am mapping to one more `Entity` class `UserStatisticsModel.java`\r\n\r\n    @Data\r\n    @Entity\r\n    public class UserStatisticsModel {\r\n\r\n    @Id\r\n    @Column\r\n    private Integer id;\r\n\r\n    @Column\r\n    private Integer activeUsers;\r\n   \r\n    @Column\r\n    private Integer suspendedUsers;\r\n\r\n    @Column\r\n    private Integer removedUser;\r\n    }\r\n\r\nI created a repository class to execute the query.\r\n\r\n    public interface UserStatisticsRepository extends JpaRepository&lt;UserStatisticsModel, Integer&gt; {\r\n\r\n    @Query( &quot; Select sum(case when u.isActive is true then 1 else 0 end) as activeUsers, &quot;\r\n            + &quot; sum(case when u.isSuspended is true then 1 else 0 end) as suspendedUsers, &quot;\r\n            + &quot; sum(case when u.isActive is false then 1 else 0 end) as removedUser&quot;\r\n            + &quot; from UserModel u &quot; + &quot; where u.accountStatus &lt;&gt;5&quot; )\r\n    UserStatisticsModel getUserStatistics();\r\n}\r\n\r\nBut on executing the query I am getting an exception. Although as per logs query is getting executed and the values are perfect, but mapping is failing.\r\n\r\n    Caused by: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [com.highpeak.tlp.datastore.model.UserStatisticsModel]\r\n\tat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:324)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:206)\r\n\tat org.springframework.core.convert.support.ArrayToObjectConverter.convert(ArrayToObjectConverter.java:66)\r\n\tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:37)\r\n\t... 125 common frames omitted\r\n\r\nCan anyone explain what is this error and how to fix it?\r\n\r\nAvailable Solution: \r\n\r\n 1. I can create those fields in `UserModel.java` but I do not want to\r\n    create those fields in that class.    \r\n    \r\n 2. I can also create a native query and it will work\r\n\r\n**UPDATE**\r\nIf I change the return type of the query to `List&lt;Integer&gt;`, I am not getting any exceptions and I am getting proper result. But why can not I map those Integers to the fields of my `@Entity` class `UserStatisticsmodel.java`","title":"Spring JPA repository Converter not found","body":"<p>I have an entity class <code>UserModel.java</code> </p>\n\n<pre><code>@Entity\n@Table\n@Data\n@EqualsAndHashCode( of = { \"id\" } )\n@ToString( of = { \"id\" } )\npublic class UserModel {\n\n@Id\n@GeneratedValue( strategy = GenerationType.AUTO )\n@Column( name = \"u_id\" )\nprivate Long id;\n\n@Column( name = \"u_first_name\" )\nprivate String firstName;\n\n@Column( name = \"u_last_name\" )\nprivate String lastName;\n\n@Column( name = \"u_email_id\" )\nprivate String emailId;\n\n@Column( name = \"u_password\" )\nprivate String password;\n\n@Column( name = \"u_mobile_number\" )\nprivate String mobileNumber;\n\n@Column( name = \"u_created_at\" )\nprivate Calendar createdAt;\n\n@Column( name = \"u_is_active\" )\nprivate Boolean isActive;\n\n@Column( name = \"u_reason\" )\nprivate String reason;\n\n\n}\n</code></pre>\n\n<p>I need to fetch some statistics based on the values contained in each column. So I created a <code>JPQL</code> query and the result I am mapping to one more <code>Entity</code> class <code>UserStatisticsModel.java</code></p>\n\n<pre><code>@Data\n@Entity\npublic class UserStatisticsModel {\n\n@Id\n@Column\nprivate Integer id;\n\n@Column\nprivate Integer activeUsers;\n\n@Column\nprivate Integer suspendedUsers;\n\n@Column\nprivate Integer removedUser;\n}\n</code></pre>\n\n<p>I created a repository class to execute the query.</p>\n\n<pre><code>public interface UserStatisticsRepository extends JpaRepository&lt;UserStatisticsModel, Integer&gt; {\n\n@Query( \" Select sum(case when u.isActive is true then 1 else 0 end) as activeUsers, \"\n        + \" sum(case when u.isSuspended is true then 1 else 0 end) as suspendedUsers, \"\n        + \" sum(case when u.isActive is false then 1 else 0 end) as removedUser\"\n        + \" from UserModel u \" + \" where u.accountStatus &lt;&gt;5\" )\nUserStatisticsModel getUserStatistics();\n</code></pre>\n\n<p>}</p>\n\n<p>But on executing the query I am getting an exception. Although as per logs query is getting executed and the values are perfect, but mapping is failing.</p>\n\n<pre><code>Caused by: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [com.highpeak.tlp.datastore.model.UserStatisticsModel]\nat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:324)\nat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:206)\nat org.springframework.core.convert.support.ArrayToObjectConverter.convert(ArrayToObjectConverter.java:66)\nat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:37)\n... 125 common frames omitted\n</code></pre>\n\n<p>Can anyone explain what is this error and how to fix it?</p>\n\n<p>Available Solution: </p>\n\n<ol>\n<li><p>I can create those fields in <code>UserModel.java</code> but I do not want to\ncreate those fields in that class.    </p></li>\n<li><p>I can also create a native query and it will work</p></li>\n</ol>\n\n<p><strong>UPDATE</strong>\nIf I change the return type of the query to <code>List&lt;Integer&gt;</code>, I am not getting any exceptions and I am getting proper result. But why can not I map those Integers to the fields of my <code>@Entity</code> class <code>UserStatisticsmodel.java</code></p>\n"},{"tags":["java","swagger","documentation","swagger-ui","swagger-editor"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":7,"creation_date":1657296852,"post_id":72913795,"comment_id":128784660,"body_markdown":"You probably need `@Parameter(description=&quot;...&quot;)` - see [here](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#parameter)","body":"You probably need <code>@Parameter(description=&quot;...&quot;)</code> - see <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#parameter\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1095025,"reputation":2553,"user_id":1088796,"accept_rate":38,"display_name":"intA"},"score":0,"creation_date":1657723890,"post_id":72913795,"comment_id":128879313,"body_markdown":"That was it, thank you. If you want to add an answer with this instead of a comment I can mark it as answered","body":"That was it, thank you. If you want to add an answer with this instead of a comment I can mark it as answered"}],"owner":{"account_id":1095025,"reputation":2553,"user_id":1088796,"accept_rate":38,"display_name":"intA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1613,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1657294547,"creation_date":1657294547,"question_id":72913795,"body_markdown":"I have an API endpoint meant to fetch appointment information. Among the parameters this endpoint takes are &quot;from&quot; and &quot;to&quot; dates, representing the date range for appointments that it will fetch. They currently show up in my Swagger like so: \r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m wondering if I might be able to augment the Swagger with a short description to explain that the endpoint will fetch appointments that have a start time that falls within this range and that the range is inclusive. Is this possible to do?\r\n\r\nThe current declaration for this endpoint in my controller looks like this\r\n\r\n        @Operation(summary = &quot;Get the list of appointments&quot;)\r\n    @ApiResponses(value = {\r\n            @ApiResponse(\r\n                    responseCode = &quot;200&quot;, description = &quot;List of appointments&quot;,\r\n                    content = {@Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = AppointmentDTO.class))}\r\n            )\r\n    })\r\n    @GetMapping(&quot;/{businessId}/appointment&quot;)\r\n    public ResponseEntity&lt;List&lt;AppointmentDTO&gt;&gt; getAppointments(@PathVariable UUID businessId,\r\n                                                                @RequestParam(required = false) List&lt;UUID&gt; providerIds,\r\n                                                                @RequestParam(required = false) List&lt;UUID&gt; consumerIds,\r\n                                                                @RequestParam(required = false) List&lt;AppointmentStatus&gt; status,\r\n                                                                @RequestParam(required = false, name = &quot;from&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;) Date fromDate,\r\n                                                                @RequestParam(required = false, name = &quot;to&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;) Date toDate,\r\n                                                                Pageable pageable) {\r\n\r\n  [1]: https://i.stack.imgur.com/Ae2Nd.png","title":"Is it possible to add a description for request params in Swagger?","body":"<p>I have an API endpoint meant to fetch appointment information. Among the parameters this endpoint takes are &quot;from&quot; and &quot;to&quot; dates, representing the date range for appointments that it will fetch. They currently show up in my Swagger like so:\n<a href=\"https://i.stack.imgur.com/Ae2Nd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ae2Nd.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm wondering if I might be able to augment the Swagger with a short description to explain that the endpoint will fetch appointments that have a start time that falls within this range and that the range is inclusive. Is this possible to do?</p>\n<p>The current declaration for this endpoint in my controller looks like this</p>\n<pre><code>    @Operation(summary = &quot;Get the list of appointments&quot;)\n@ApiResponses(value = {\n        @ApiResponse(\n                responseCode = &quot;200&quot;, description = &quot;List of appointments&quot;,\n                content = {@Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = AppointmentDTO.class))}\n        )\n})\n@GetMapping(&quot;/{businessId}/appointment&quot;)\npublic ResponseEntity&lt;List&lt;AppointmentDTO&gt;&gt; getAppointments(@PathVariable UUID businessId,\n                                                            @RequestParam(required = false) List&lt;UUID&gt; providerIds,\n                                                            @RequestParam(required = false) List&lt;UUID&gt; consumerIds,\n                                                            @RequestParam(required = false) List&lt;AppointmentStatus&gt; status,\n                                                            @RequestParam(required = false, name = &quot;from&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;) Date fromDate,\n                                                            @RequestParam(required = false, name = &quot;to&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;) Date toDate,\n                                                            Pageable pageable) {\n</code></pre>\n"},{"tags":["java","spring-integration","sftp","private-key","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657294378,"creation_date":1657294378,"answer_id":72913764,"question_id":72913763,"body_markdown":"The solution is to instead set the private key for the session factory: \r\n\r\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(new JSch(), true);\r\n    byte[] privateKeyBytes = privateKey.getBytes(StandardCharsets.UTF_8);\r\n    factory.setPrivateKey(new ByteArrayResource(privateKeyBytes));\r\n    return setCommonConfigProperties(factory, sftpProperties, sftpUser);\r\n\t","title":"Spring Integration SFTP: Using PrivateKey Credentials","body":"<p>The solution is to instead set the private key for the session factory:</p>\n<pre><code>DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(new JSch(), true);\nbyte[] privateKeyBytes = privateKey.getBytes(StandardCharsets.UTF_8);\nfactory.setPrivateKey(new ByteArrayResource(privateKeyBytes));\nreturn setCommonConfigProperties(factory, sftpProperties, sftpUser);\n</code></pre>\n"}],"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72913764,"answer_count":1,"score":0,"last_activity_date":1657294378,"creation_date":1657294378,"question_id":72913763,"body_markdown":"I had a few hickups setting up private keys for Spring Integration SFTP.\r\n\r\nThought I may share my findings here. \r\n\r\nI read elsewhere that I should parameterize the JSch object with the private key. \r\nThis, however, is **not working**:  \r\n\r\n     private SessionFactory&lt;ChannelSftp.LsEntry&gt; createSftpSessionFactoryForPrivateKeyCredentials(\r\n          SftpProperties sftpProperties, String sftpUser, String privateKey) throws JSchException {\r\n    \r\n        byte[] privateKeyBytes = privateKey.getBytes(StandardCharsets.UTF_8);\r\n        JSch javaSecureChannel = javaSecureChannelForPrivateKey(privateKeyBytes);\r\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(javaSecureChannel, true);\r\n        return setCommonConfigProperties(factory, sftpProperties, sftpUser);\r\n      }\r\n    \r\n      private JSch javaSecureChannelForPrivateKey(byte[] privateKey) throws JSchException {\r\n        JSch javSecureChannel = new JSch();\r\n        javSecureChannel.addIdentity(&quot;key&quot;, privateKey, /* public key */\r\n            null, /* private key password */ null);\r\n        return javSecureChannel;\r\n      }\r\n\r\nResulting Exception:  \r\n  \r\n\r\n    Caused by: java.lang.IllegalStateException: failed to create SFTP Session\r\n    \tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:404)\r\n    \tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:61)\r\n    \tat org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:85)\r\n    \tat org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:82)\r\n    \tat org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:200)\r\n    \tat org.springframework.integration.util.SimplePool.getItem(SimplePool.java:181)\r\n    \t... 32 more\r\n    Caused by: java.lang.IllegalArgumentException: either a password or a private key is required\r\n    \tat org.springframework.util.Assert.isTrue(Assert.java:121)\r\n    \tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.initJschSession(DefaultSftpSessionFactory.java:418)\r\n    \tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:393)\r\n    \t... 37 more\r\n\t\r\n\t","title":"Spring Integration SFTP: Using PrivateKey Credentials","body":"<p>I had a few hickups setting up private keys for Spring Integration SFTP.</p>\n<p>Thought I may share my findings here.</p>\n<p>I read elsewhere that I should parameterize the JSch object with the private key.\nThis, however, is <strong>not working</strong>:</p>\n<pre><code> private SessionFactory&lt;ChannelSftp.LsEntry&gt; createSftpSessionFactoryForPrivateKeyCredentials(\n      SftpProperties sftpProperties, String sftpUser, String privateKey) throws JSchException {\n\n    byte[] privateKeyBytes = privateKey.getBytes(StandardCharsets.UTF_8);\n    JSch javaSecureChannel = javaSecureChannelForPrivateKey(privateKeyBytes);\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(javaSecureChannel, true);\n    return setCommonConfigProperties(factory, sftpProperties, sftpUser);\n  }\n\n  private JSch javaSecureChannelForPrivateKey(byte[] privateKey) throws JSchException {\n    JSch javSecureChannel = new JSch();\n    javSecureChannel.addIdentity(&quot;key&quot;, privateKey, /* public key */\n        null, /* private key password */ null);\n    return javSecureChannel;\n  }\n</code></pre>\n<p>Resulting Exception:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: failed to create SFTP Session\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:404)\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:61)\n    at org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:85)\n    at org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:82)\n    at org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:200)\n    at org.springframework.integration.util.SimplePool.getItem(SimplePool.java:181)\n    ... 32 more\nCaused by: java.lang.IllegalArgumentException: either a password or a private key is required\n    at org.springframework.util.Assert.isTrue(Assert.java:121)\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.initJschSession(DefaultSftpSessionFactory.java:418)\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:393)\n    ... 37 more\n</code></pre>\n"},{"tags":["java","json","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":20353400,"reputation":124,"user_id":14929537,"display_name":"fabio19933"},"score":1,"creation_date":1657291624,"post_id":72913145,"comment_id":128782923,"body_markdown":"You can create 2 different dto class.\nInside searchBigList(BigCarDto) you can use first dto class with all fields.\nInside searchCarSmallList(SmallCarDto)  you can use your second dto class with 3 fileds","body":"You can create 2 different dto class. Inside searchBigList(BigCarDto) you can use first dto class with all fields. Inside searchCarSmallList(SmallCarDto)  you can use your second dto class with 3 fileds"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657292843,"creation_date":1657292177,"answer_id":72913292,"question_id":72913145,"body_markdown":"You can have one `Car` model class which only has 3 essential fields. This object can be used for any web-service which requires only these 3 fields.\r\n\r\nIn your case, `searchCarSmallList endpoint`.\r\n\r\nExtend `Car` model class &amp; create another class which has additional 2 fields. In this new class, you can access `Car` class&#39;s fields.\r\n\r\n\r\nAccess this new class in another endpoint which needs all 5 fields.\r\n\r\n\r\nIf above approach is not possible, then use \r\n\r\n[BeanUtils.copyProperties][1], where you can explicitly mention field names which you want to ignore before display / return.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/javadoc-api/org/springframework/beans/BeanUtils.html#copyProperties-java.lang.Object-java.lang.Object-java.lang.String...-","title":"Exclude fields from Java object using Spring","body":"<p>You can have one <code>Car</code> model class which only has 3 essential fields. This object can be used for any web-service which requires only these 3 fields.</p>\n<p>In your case, <code>searchCarSmallList endpoint</code>.</p>\n<p>Extend <code>Car</code> model class &amp; create another class which has additional 2 fields. In this new class, you can access <code>Car</code> class's fields.</p>\n<p>Access this new class in another endpoint which needs all 5 fields.</p>\n<p>If above approach is not possible, then use</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/javadoc-api/org/springframework/beans/BeanUtils.html#copyProperties-java.lang.Object-java.lang.Object-java.lang.String...-\" rel=\"nofollow noreferrer\">BeanUtils.copyProperties</a>, where you can explicitly mention field names which you want to ignore before display / return.</p>\n"},{"tags":[],"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657292804,"creation_date":1657292804,"answer_id":72913433,"question_id":72913145,"body_markdown":"It is a BAD idea to use JPA entities as DTOs, as once you get into any more complex schema you will be plagued with issues related to detached entities and lazy evaluation, etc. \r\n\r\nYour controller should only deal with separate DTO class objects which have the desired properties, which you can then build to look like whatever you want. The service layer interface should only mention these DTOs, not Entity classes.\r\n\r\nOnly the repository layer should be written in terms of Entity classes, so the service layer should translate between DTO and Entity (accept and return DTO, pass Entity to the repo layer).\r\n\r\nIn the end this will save you a huge amount of time and pain on any real world type of project. There are plenty of tools and idioms for dealing with the DTO&lt;-&gt;Entity conversions, and you may even choose to go with something like JsonObject for your DTOs if you don&#39;t require any sort of additional logic in them.","title":"Exclude fields from Java object using Spring","body":"<p>It is a BAD idea to use JPA entities as DTOs, as once you get into any more complex schema you will be plagued with issues related to detached entities and lazy evaluation, etc.</p>\n<p>Your controller should only deal with separate DTO class objects which have the desired properties, which you can then build to look like whatever you want. The service layer interface should only mention these DTOs, not Entity classes.</p>\n<p>Only the repository layer should be written in terms of Entity classes, so the service layer should translate between DTO and Entity (accept and return DTO, pass Entity to the repo layer).</p>\n<p>In the end this will save you a huge amount of time and pain on any real world type of project. There are plenty of tools and idioms for dealing with the DTO&lt;-&gt;Entity conversions, and you may even choose to go with something like JsonObject for your DTOs if you don't require any sort of additional logic in them.</p>\n"},{"tags":[],"owner":{"account_id":13689867,"reputation":66,"user_id":9877961,"display_name":"Jelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657294300,"creation_date":1657294300,"answer_id":72913747,"question_id":72913145,"body_markdown":"I fully agree with Tod Harter that it&#39;s better and easier to use DTOs.\r\n\r\nThat being said, I don&#39;t know how you&#39;ve tried to use the @JSonView annotation. I use it in some of my DTOs. One way of getting the @JsonView annotation to work is to first create an interface. i.e.:\r\n\r\n    public interface Views {\r\n        public static interface Simple {\r\n        }\r\n\r\n        public static interface Detailed extends Simple {\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nThen you need to reference the views above the fields that you want to apply them to like this:\r\n\r\n    @JsonView(Views.Simple.class)\r\n    private String someField;\r\n\r\n    @JsonView(Views.Detailed.class)\r\n    private String anotherField;\r\n\r\n    ...\r\n\r\nAfter that you need to convert your entity object to a MappingJacksonValue like this:\r\n\r\n    ...\r\n    var responseObject = new MappingJacksonValue(obj);\r\n    responseObject.setSerializationView(Views.Simple.class);\r\n    ...\r\n\r\nThis is one of the ways to make the @JsonView annotations work as expected. however, it is much easier (and better) to just use DTOs and convert your entity to the appropriate response DTO you&#39;ve created. You can make as many DTOs as you want. It&#39;s also a good idea to use DTOs to map request bodies. That way you can easily control which fields are allowed in request bodies for i.e. POST/PUT/PATCH requests. Take a look at the [ModelMapper](https://www.baeldung.com/java-modelmapper) and/or [ObjectMapper](https://www.baeldung.com/jackson-object-mapper-tutorial) classes. Those can be used to convert entities to and from DTOs.","title":"Exclude fields from Java object using Spring","body":"<p>I fully agree with Tod Harter that it's better and easier to use DTOs.</p>\n<p>That being said, I don't know how you've tried to use the @JSonView annotation. I use it in some of my DTOs. One way of getting the @JsonView annotation to work is to first create an interface. i.e.:</p>\n<pre><code>public interface Views {\n    public static interface Simple {\n    }\n\n    public static interface Detailed extends Simple {\n    }\n\n    ...\n}\n</code></pre>\n<p>Then you need to reference the views above the fields that you want to apply them to like this:</p>\n<pre><code>@JsonView(Views.Simple.class)\nprivate String someField;\n\n@JsonView(Views.Detailed.class)\nprivate String anotherField;\n\n...\n</code></pre>\n<p>After that you need to convert your entity object to a MappingJacksonValue like this:</p>\n<pre><code>...\nvar responseObject = new MappingJacksonValue(obj);\nresponseObject.setSerializationView(Views.Simple.class);\n...\n</code></pre>\n<p>This is one of the ways to make the @JsonView annotations work as expected. however, it is much easier (and better) to just use DTOs and convert your entity to the appropriate response DTO you've created. You can make as many DTOs as you want. It's also a good idea to use DTOs to map request bodies. That way you can easily control which fields are allowed in request bodies for i.e. POST/PUT/PATCH requests. Take a look at the <a href=\"https://www.baeldung.com/java-modelmapper\" rel=\"nofollow noreferrer\">ModelMapper</a> and/or <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">ObjectMapper</a> classes. Those can be used to convert entities to and from DTOs.</p>\n"}],"owner":{"account_id":4930301,"reputation":85,"user_id":3970306,"accept_rate":89,"display_name":"mesut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72913747,"answer_count":3,"score":0,"last_activity_date":1657294300,"creation_date":1657291483,"question_id":72913145,"body_markdown":"    @PostMapping(&quot;/searchCarBigList&quot;)\r\n    public ResponseEntity&lt;Cars&gt; searchBigList(\r\n            @Parameter(description = &quot;some searchRequest dto&quot;) @RequestBody SearchRequest searchRequest) {\r\n    \r\n        return ResponseEntity.ok(someService.search(searchRequest));\r\n    }\r\n    \r\n    \r\n    @PostMapping(&quot;/searchCarSmallList&quot;)\r\n    public ResponseEntity&lt;Cars&gt; searchSmallList(\r\n            @Parameter(description = &quot;some searchRequest dto&quot;) @RequestBody SearchRequest searchRequest) {\r\n    \r\n        return ResponseEntity.ok(someService.search(searchRequest));\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    @Table(name = &quot;CAR_TABLE&quot;)\r\n    public class Cars {\r\n    \r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;BRAND&quot;, nullable = false)\r\n        private String brand;\r\n    \r\n        @Column(name = &quot;COUNTRY&quot;, nullable = false)\r\n        private String country;\r\n    \r\n        @Column(name = &quot;CLIENT&quot;, nullable = false)\r\n        private String client;\r\n    \r\n        @Column(name = &quot;TRANSMISSION&quot;, nullable = false)\r\n        private String transmission;\r\n    \t\r\n    \t\r\n    \tGetters and Setters\r\n    }\r\n\r\n\r\nI have two endpoint who use the same model class (Cars). \r\nFor the searchBigList endpoint I would like to retrieve all car fields and for searchCarSmallList endpoint I would like to retrieve just 3 fields.\r\nI tried to do it with `@JsonView` annotation but it was not working for me. \r\nAnyone have better idea how to do it?","title":"Exclude fields from Java object using Spring","body":"<pre><code>@PostMapping(&quot;/searchCarBigList&quot;)\npublic ResponseEntity&lt;Cars&gt; searchBigList(\n        @Parameter(description = &quot;some searchRequest dto&quot;) @RequestBody SearchRequest searchRequest) {\n\n    return ResponseEntity.ok(someService.search(searchRequest));\n}\n\n\n@PostMapping(&quot;/searchCarSmallList&quot;)\npublic ResponseEntity&lt;Cars&gt; searchSmallList(\n        @Parameter(description = &quot;some searchRequest dto&quot;) @RequestBody SearchRequest searchRequest) {\n\n    return ResponseEntity.ok(someService.search(searchRequest));\n}\n\n\n\n\n@Table(name = &quot;CAR_TABLE&quot;)\npublic class Cars {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;BRAND&quot;, nullable = false)\n    private String brand;\n\n    @Column(name = &quot;COUNTRY&quot;, nullable = false)\n    private String country;\n\n    @Column(name = &quot;CLIENT&quot;, nullable = false)\n    private String client;\n\n    @Column(name = &quot;TRANSMISSION&quot;, nullable = false)\n    private String transmission;\n    \n    \n    Getters and Setters\n}\n</code></pre>\n<p>I have two endpoint who use the same model class (Cars).\nFor the searchBigList endpoint I would like to retrieve all car fields and for searchCarSmallList endpoint I would like to retrieve just 3 fields.\nI tried to do it with <code>@JsonView</code> annotation but it was not working for me.\nAnyone have better idea how to do it?</p>\n"},{"tags":["java","angular","vaadin7"],"answers":[{"tags":[],"owner":{"account_id":6321261,"reputation":542,"user_id":4909244,"accept_rate":64,"display_name":"Michele Stieven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520991550,"creation_date":1520991550,"answer_id":49268501,"question_id":48902950,"body_markdown":"Java has nothing to do with Angular, what Vaadin offers for JavaScript are web components built using Polymer 2, which you need to install using bower, integrate them in your index.html file and use the Angular library vaadin provides. It’s all explained on their Web Components page, where there are instructions for Angular.\r\nThis is their official starter which you can recreate (“Recreating this project”) if you have an existing app.\r\nhttps://github.com/vaadin/base-starter-angular/blob/master/README.md","title":"How to integrate Angular 4 components with vaadin UI?","body":"<p>Java has nothing to do with Angular, what Vaadin offers for JavaScript are web components built using Polymer 2, which you need to install using bower, integrate them in your index.html file and use the Angular library vaadin provides. It’s all explained on their Web Components page, where there are instructions for Angular.\nThis is their official starter which you can recreate (“Recreating this project”) if you have an existing app.\n<a href=\"https://github.com/vaadin/base-starter-angular/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/vaadin/base-starter-angular/blob/master/README.md</a></p>\n"}],"owner":{"account_id":12490951,"reputation":53,"user_id":9092512,"accept_rate":50,"display_name":"Patrick Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657294049,"creation_date":1519207165,"question_id":48902950,"body_markdown":"I want to use Angular 4 with a Vaadin 7 Java application in order to push a considerable amount of UI logic to client-side, reduce server round trips, make the client-side functionality available during slow network connections, and make use of the best features of both frameworks. I went through the Vaangular project mentioned on Vaadin and AngularJS - happy together article, but it won&#39;t work for my requirement since I use Angular 4.","title":"How to integrate Angular 4 components with vaadin UI?","body":"<p>I want to use Angular 4 with a Vaadin 7 Java application in order to push a considerable amount of UI logic to client-side, reduce server round trips, make the client-side functionality available during slow network connections, and make use of the best features of both frameworks. I went through the Vaangular project mentioned on Vaadin and AngularJS - happy together article, but it won't work for my requirement since I use Angular 4.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1567166359,"post_id":57726253,"comment_id":101892731,"body_markdown":"use `select new my.package.path.SongChangeCount(date(start_date) as DATEE, sum(case when  subscription_from in (&#39;IVR&#39;,&#39;SMS&#39;) and remarks like &#39;%Change Song%&#39; then 1 else 0 end) as &#39;song_change&#39;) from subscription   group by  date(start_date)  \\n#pageable\\n`. This requires a constructor in `SongChangeCount` with the arguments","body":"use <code>select new my.package.path.SongChangeCount(date(start_date) as DATEE, sum(case when  subscription_from in (&#39;IVR&#39;,&#39;SMS&#39;) and remarks like &#39;%Change Song%&#39; then 1 else 0 end) as &#39;song_change&#39;) from subscription   group by  date(start_date)  \\n#pageable\\n</code>. This requires a constructor in <code>SongChangeCount</code> with the arguments"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1567167112,"post_id":57726253,"comment_id":101893068,"body_markdown":"now its throwing `com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;.crbt.api.services.bean.SongChangeCount(date(start_date) as DATEE, sum(case when&#39; at line 1`","body":"now its throwing <code>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;.crbt.api.services.bean.SongChangeCount(date(start_date) as DATEE, sum(case when&#39; at line 1</code>"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1567167150,"post_id":57726253,"comment_id":101893084,"body_markdown":"do I need to include one constructor that accept string in that bean class","body":"do I need to include one constructor that accept string in that bean class"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1567167324,"post_id":57726253,"comment_id":101893166,"body_markdown":"I replaced old @query with this : `@Query(value= &quot;select new com.crbt.api.services.bean.SongChangeCount(date(start_date) as DATEE, sum(case when subscription_from in (&#39;IVR&#39;,&#39;SMS&#39;) and remarks like &#39;%Change Song%&#39; then 1 else 0 end) as &#39;song_change&#39;) from subscription group by date(start_date) \\n#pageable\\n&quot;,nativeQuery=true)\n\t`","body":"I replaced old @query with this : <code>@Query(value= &quot;select new com.crbt.api.services.bean.SongChangeCount(date(start_date) as DATEE, sum(case when subscription_from in (&#39;IVR&#39;,&#39;SMS&#39;) and remarks like &#39;%Change Song%&#39; then 1 else 0 end) as &#39;song_change&#39;) from subscription group by date(start_date) \\n#pageable\\n&quot;,nativeQuery=true) \t</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1567167362,"post_id":57726253,"comment_id":101893181,"body_markdown":"I think you need to omit all the `as DATEE` stuff. So simple `select new ..crbt.api.services.bean.SongChangeCount(date(start_date))` also omit casts where they are not necessary","body":"I think you need to omit all the <code>as DATEE</code> stuff. So simple <code>select new ..crbt.api.services.bean.SongChangeCount(date(start_date))</code> also omit casts where they are not necessary"},{"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"score":2,"creation_date":1567167681,"post_id":57726253,"comment_id":101893339,"body_markdown":"As you are using a native query, you cannot create a result object automatically or create one inside your query as the native query will be executed by your database, not by JPA. \nYou could try this: https://stackoverflow.com/questions/29082749/spring-data-jpa-map-the-native-query-result-to-non-entity-pojo","body":"As you are using a native query, you cannot create a result object automatically or create one inside your query as the native query will be executed by your database, not by JPA.  You could try this: <a href=\"https://stackoverflow.com/questions/29082749/spring-data-jpa-map-the-native-query-result-to-non-entity-pojo\" title=\"spring data jpa map the native query result to non entity pojo\">stackoverflow.com/questions/29082749/&hellip;</a>"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1567167698,"post_id":57726253,"comment_id":101893347,"body_markdown":"removed as &#39;DATEE&#39; and as &#39;song_change&#39;.. but same jdbc4 error as mentioned above","body":"removed as &#39;DATEE&#39; and as &#39;song_change&#39;.. but same jdbc4 error as mentioned above"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1567168327,"post_id":57726253,"comment_id":101893663,"body_markdown":"@JochenReinhardt your given link solution seems promising.. but as of now I changed my repository method to `@Query(value= &quot;select date(start_date) as &#39;DATEE&#39;, sum(case when subscription_from in (&#39;IVR&#39;,&#39;SMS&#39;) and remarks like &#39;%Change Song%&#39; then 1 else 0 end) as &#39;song_change&#39; from subscription group by date(start_date) \\n#pageable\\n&quot;,nativeQuery=true)\n\tPage&lt;Object[]&gt; getSongChangeCount2(Pageable page);`","body":"@JochenReinhardt your given link solution seems promising.. but as of now I changed my repository method to <code>@Query(value= &quot;select date(start_date) as &#39;DATEE&#39;, sum(case when subscription_from in (&#39;IVR&#39;,&#39;SMS&#39;) and remarks like &#39;%Change Song%&#39; then 1 else 0 end) as &#39;song_change&#39; from subscription group by date(start_date) \\n#pageable\\n&quot;,nativeQuery=true) \tPage&lt;Object[]&gt; getSongChangeCount2(Pageable page);</code>"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1567168366,"post_id":57726253,"comment_id":101893684,"body_markdown":"I changed `Page&lt;SongChangeCount&gt;` to `Page&lt;Object[]&gt;`","body":"I changed <code>Page&lt;SongChangeCount&gt;</code> to <code>Page&lt;Object[]&gt;</code>"},{"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"score":0,"creation_date":1567171785,"post_id":57726253,"comment_id":101895516,"body_markdown":"Why don&#39;t you try it the way it is described in the accepted answer, using a `@NamedNativeQuery` and `@SqlResultSetMapping`. This seems to be exactly what you need.","body":"Why don&#39;t you try it the way it is described in the accepted answer, using a <code>@NamedNativeQuery</code> and <code>@SqlResultSetMapping</code>. This seems to be exactly what you need."}],"answers":[{"tags":[],"owner":{"account_id":5999925,"reputation":29,"user_id":4713520,"display_name":"Rodrigo Vergara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657293808,"creation_date":1657293808,"answer_id":72913637,"question_id":57726253,"body_markdown":"Your **ContentSongsRepository** must extends **JpaRepository&lt;SongChangeCount, Date&gt;**","title":"getting ConverterNotFoundException","body":"<p>Your <strong>ContentSongsRepository</strong> must extends <strong>JpaRepository&lt;SongChangeCount, Date&gt;</strong></p>\n"}],"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657293808,"creation_date":1567166006,"question_id":57726253,"body_markdown":"I am working in `spring boot` project. In my `JPA repository`, I am using `sql` native query with pagination enabled. However on service layer I am getting `ConvertorNotFoundException`.. tried many times with different data types..but all in vain. Below are my code classes:\r\n\r\n**Repository interface**\r\n\r\n    public interface ContentSongsRepository extends JpaRepository&lt;ContentSongs,Long&gt;{\r\n    \r\n    @Query(value= &quot;SELECT date(start_date) as DATEE, sum(case when  subscription_from in (&#39;IVR&#39;,&#39;SMS&#39;) and remarks like &#39;%Change Song%&#39; then 1 else 0 end) as &#39;song_change&#39; from subscription   group by  date(start_date)  \\n#pageable\\n&quot;,nativeQuery=true)\r\n    \tPage&lt;SongChangeCount&gt; getSongChangeCount2(Pageable page);\r\n    \r\n    }\r\n\r\n\r\nSql query is running fine.. below is image.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Service layer method calling repository**\r\n\r\n    @Override\r\n    public SongChangeCountView getSongChangeCount(Pageable page) {\r\n    \t// TODO Auto-generated method stub\r\n    \tPage&lt;SongChangeCount&gt; songChangePageList = contantSongRepository.getSongChangeCount2(page);\r\n    \tList&lt;SongChangeCount&gt; list = songChangePageList.getContent();\r\n    \tInteger pageCount = songChangePageList.getTotalPages();\r\n    \tLong totalElement = songChangePageList.getTotalElements();\r\n    \tSongChangeCountView sccv = new SongChangeCountView();\r\n    \tsccv.setLsSongChangeCountView(list);\r\n    \tsccv.setPageCount(pageCount);\r\n    \tsccv.setTotalElement(totalElement);\r\n    \treturn sccv;\r\n    }\r\n\r\n\r\n**SongChangeCount class**\r\n\r\n    import java.io.Serializable;\r\n    import java.util.Date;\r\n    \r\n    import javax.persistence.Entity;\r\n    \r\n\r\n    public class SongChangeCount implements Serializable{\r\n    \r\n    \tprivate static final long serialVersionUID = -5410845856201124932L;\r\n    \r\n    \t\r\n    \tprivate Date DATEE;\r\n    \tprivate String song_change;\r\n    \t\r\n    \r\n    \r\n    \r\n    \r\n    \tpublic SongChangeCount(Date dATEE, String song_change) {\r\n    \t\tDATEE = dATEE;\r\n    \t\tthis.song_change = song_change;\r\n    \t}\r\n    \r\n    \r\n    \t\r\n    \r\n    \tpublic Date getDATEE() {\r\n    \t\treturn DATEE;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \r\n    \tpublic void setDATEE(Date dATEE) {\r\n    \t\tDATEE = dATEE;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \r\n    \tpublic String getSong_change() {\r\n    \t\treturn song_change;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void setSong_change(String song_change) {\r\n    \t\tthis.song_change = song_change;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\n\r\nEvery time when I run the code below exception comes:\r\n\r\n    org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.sql.Date] to type [com.crbt.api.services.bean.SongChangeCount]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:324) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:206) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.core.convert.support.ArrayToObjectConverter.convert(ArrayToObjectConverter.java:66) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:37) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:203) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:187) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.data.repository.query.ResultProcessor$ProjectingConverter.convert(ResultProcessor.java:288) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.repository.query.ResultProcessor$ChainingConverter$1.convert(ResultProcessor.java:210) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.repository.query.ResultProcessor$ChainingConverter.convert(ResultProcessor.java:221) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.domain.Chunk.getConvertedContent(Chunk.java:168) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.domain.PageImpl.map(PageImpl.java:104) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.domain.PageImpl.map(PageImpl.java:28) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.repository.query.ResultProcessor.processResult(ResultProcessor.java:143) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:121) ~[spring-data-jpa-1.11.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:106) ~[spring-data-jpa-1.11.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:499) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:477) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:56) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.9.RELEASE.jar:na]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat com.sun.proxy.$Proxy186.getSongChangeCount2(Unknown Source) ~[na:na]\r\n    \tat com.crbt.api.services.service.ContentManagerServiceImpl.getSongChangeCount(ContentManagerServiceImpl.java:433) ~[classes/:na]\r\n    \tat com.crbt.api.services.controller.ContentManagerController.songChangeCounts(ContentManagerController.java:80) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n\r\n\r\n\r\nCan anyone tell me whats going wrong here..I tried changing the Date data type to java date but still it didn&#39;t solve my issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g360N.png","title":"getting ConverterNotFoundException","body":"<p>I am working in <code>spring boot</code> project. In my <code>JPA repository</code>, I am using <code>sql</code> native query with pagination enabled. However on service layer I am getting <code>ConvertorNotFoundException</code>.. tried many times with different data types..but all in vain. Below are my code classes:</p>\n\n<p><strong>Repository interface</strong></p>\n\n<pre><code>public interface ContentSongsRepository extends JpaRepository&lt;ContentSongs,Long&gt;{\n\n@Query(value= \"SELECT date(start_date) as DATEE, sum(case when  subscription_from in ('IVR','SMS') and remarks like '%Change Song%' then 1 else 0 end) as 'song_change' from subscription   group by  date(start_date)  \\n#pageable\\n\",nativeQuery=true)\n    Page&lt;SongChangeCount&gt; getSongChangeCount2(Pageable page);\n\n}\n</code></pre>\n\n<p>Sql query is running fine.. below is image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/g360N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g360N.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Service layer method calling repository</strong></p>\n\n<pre><code>@Override\npublic SongChangeCountView getSongChangeCount(Pageable page) {\n    // TODO Auto-generated method stub\n    Page&lt;SongChangeCount&gt; songChangePageList = contantSongRepository.getSongChangeCount2(page);\n    List&lt;SongChangeCount&gt; list = songChangePageList.getContent();\n    Integer pageCount = songChangePageList.getTotalPages();\n    Long totalElement = songChangePageList.getTotalElements();\n    SongChangeCountView sccv = new SongChangeCountView();\n    sccv.setLsSongChangeCountView(list);\n    sccv.setPageCount(pageCount);\n    sccv.setTotalElement(totalElement);\n    return sccv;\n}\n</code></pre>\n\n<p><strong>SongChangeCount class</strong></p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.Date;\n\nimport javax.persistence.Entity;\n\n\npublic class SongChangeCount implements Serializable{\n\n    private static final long serialVersionUID = -5410845856201124932L;\n\n\n    private Date DATEE;\n    private String song_change;\n\n\n\n\n\n    public SongChangeCount(Date dATEE, String song_change) {\n        DATEE = dATEE;\n        this.song_change = song_change;\n    }\n\n\n\n\n    public Date getDATEE() {\n        return DATEE;\n    }\n\n\n\n\n    public void setDATEE(Date dATEE) {\n        DATEE = dATEE;\n    }\n\n\n\n\n    public String getSong_change() {\n        return song_change;\n    }\n\n\n\n    public void setSong_change(String song_change) {\n        this.song_change = song_change;\n    }\n\n\n\n\n\n}\n</code></pre>\n\n<p>Every time when I run the code below exception comes:</p>\n\n<pre><code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.sql.Date] to type [com.crbt.api.services.bean.SongChangeCount]\n    at org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:324) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:206) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.core.convert.support.ArrayToObjectConverter.convert(ArrayToObjectConverter.java:66) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:37) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:203) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:187) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.data.repository.query.ResultProcessor$ProjectingConverter.convert(ResultProcessor.java:288) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.data.repository.query.ResultProcessor$ChainingConverter$1.convert(ResultProcessor.java:210) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.data.repository.query.ResultProcessor$ChainingConverter.convert(ResultProcessor.java:221) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.data.domain.Chunk.getConvertedContent(Chunk.java:168) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.data.domain.PageImpl.map(PageImpl.java:104) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.data.domain.PageImpl.map(PageImpl.java:28) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.data.repository.query.ResultProcessor.processResult(ResultProcessor.java:143) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:121) ~[spring-data-jpa-1.11.9.RELEASE.jar:na]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:106) ~[spring-data-jpa-1.11.9.RELEASE.jar:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:499) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:477) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:56) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.9.RELEASE.jar:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.9.RELEASE.jar:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at com.sun.proxy.$Proxy186.getSongChangeCount2(Unknown Source) ~[na:na]\n    at com.crbt.api.services.service.ContentManagerServiceImpl.getSongChangeCount(ContentManagerServiceImpl.java:433) ~[classes/:na]\n    at com.crbt.api.services.controller.ContentManagerController.songChangeCounts(ContentManagerController.java:80) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n</code></pre>\n\n<p>Can anyone tell me whats going wrong here..I tried changing the Date data type to java date but still it didn't solve my issue.</p>\n"},{"tags":["java","html","database","servlets"],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1657293776,"creation_date":1657293776,"answer_id":72913629,"question_id":72913548,"body_markdown":"If the user passes authentication, your LoginServlet can forward the request to the ProfileServlet, otherwise return an error page response (or forward to another Servlet that provides the error response).\r\n\r\n    RequestDispatcher dispatcher = getServletContext()\r\n          .getRequestDispatcher(&quot;/ProfileServlet&quot;);\r\n    dispatcher.forward(request, response);","title":"Passing data queried from database in one servlet, to another Java Servlet","body":"<p>If the user passes authentication, your LoginServlet can forward the request to the ProfileServlet, otherwise return an error page response (or forward to another Servlet that provides the error response).</p>\n<pre><code>RequestDispatcher dispatcher = getServletContext()\n      .getRequestDispatcher(&quot;/ProfileServlet&quot;);\ndispatcher.forward(request, response);\n</code></pre>\n"}],"owner":{"account_id":25588095,"reputation":39,"user_id":19365496,"display_name":"newbie-coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72913629,"answer_count":1,"score":0,"last_activity_date":1657293776,"creation_date":1657293393,"question_id":72913548,"body_markdown":"I am completing a project with some other class mates and we are stuck. In our Log In servlet, we are connecting to the database and retrieving the data matching the email &amp; password criteria. The servlet adds the result row of information to a new user object , then placing the user in an Array. (The Array was created to try and pass all of the data at once), we have also tried only passing one attribute. Once the data is passed to the profile we need it to display next to specific labels. Currently we have not yet displayed the profile.html in the profile servlet, as we are just trying to verify that we can pass the variables first.\r\n\r\nWe need the information to pass like so :\r\nDatabase ---&gt; LogInServlet--&gt;ProfileServlet\r\n\r\nThanks!\r\n\r\nLogInServlet\r\n\r\n    @WebServlet(&quot;/LogInServlet&quot; )\r\n    public class LogInServlet extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n        List&lt;User&gt; users = new ArrayList&lt;User&gt;();\r\n    \r\n        public LogInServlet() {\r\n            super();\r\n        }\r\n       \r\n        \r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n        \t\r\n        \r\n        }\r\n        \r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException{\r\n        \t\r\n        \tString email = request.getParameter(&quot;email&quot;);\r\n        \tString password = request.getParameter(&quot;password&quot;);\r\n        \tPrintWriter writer = response.getWriter();\r\n        \t\r\n    \r\n        \tString selectQuery=&quot;SELECT * FROM `user` WHERE email = ? and password = ?&quot; ;\r\n        \t\r\n        \tConnection connection =DBConnection.getConnectionToDatabase();\r\n        \tjava.sql.PreparedStatement statement;\t\r\n        \t\ttry {\r\n        \t\t\t\r\n        \t\t\tstatement = connection.prepareStatement(selectQuery);\r\n        \t\t\tstatement.setString(1,email);\r\n        \t\t\tstatement.setString(2,password);\r\n        \t\t\t\r\n        \t\t\t\r\n        \t\t\tResultSet set = statement.executeQuery();\r\n        \t\t\t\r\n        \t\t\tif(set.next()) {\r\n        \t\t\t\t\r\n        \t\t\t\tUser user = new User();\r\n        \t\t\t\tuser.setEmail(set.getString(&quot;email&quot;));\r\n        \t\t\t\tuser.setPassword(set.getString(&quot;password&quot;));\r\n        \t\t\t\tuser.setFirstName(set.getString(&quot;firstName&quot;));\r\n        \t\t\t\tuser.setLastName(set.getString(&quot;lastName&quot;));\r\n        \t\t\t\tuser.setDateOfBirth(set.getString(&quot;DOB&quot;));\r\n        \t\t\t\t\r\n        \t\t\t    users.add(user);\r\n        \t\t\t    // THIS CODE TO SEND TO NEXT SERVLET\r\n        \t\t\t    //request.setAttribute(&quot;email&quot;, set.getString(email));\r\n        \t\t\t   // RequestDispatcher rd = request.getRequestDispatcher(&quot;/ProfileServlet&quot;);\r\n        \t\t\t    //rd.forward(request, response);\r\n        \t\t\t    \r\n        \t\t\t    //FOLLOWING CODE IS TEST CODE TO PROFILE HTML\r\n        \t\t\t   response.sendRedirect(&quot;profile.html&quot;);\r\n        \t\t\t   \r\n        \t\t\t} else {\r\n        \t\t\t\tString errorMessage =&quot;&lt;html&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;head&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;meta charset=\\&quot;ISO-8859-1\\&quot;&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;link rel=\\&quot;stylesheet\\&quot; type=\\&quot;text/css\\&quot; href=\\&quot;style2.css\\&quot;&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;title&gt;Log In Error&lt;/title&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;/head&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;body&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;div class=\\&quot;accountMessage\\&quot;&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;h1 class=\\&quot;message\\&quot;&gt;Log in unsuccessful, please try again.&lt;/h1&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;button class=\\&quot;messageLogIn\\&quot; onclick=\\&quot;history.back()\\&quot;&gt;Log In&lt;/button&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;/div&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;/body&gt;\\r\\n&quot;\r\n        \t\t\t\t\t\t+ &quot;&lt;/html&gt;&quot;;\r\n        \t\t\t\t\r\n        \t\t\t\twriter.write(errorMessage);\r\n        \t\t\t}\r\n        \t\t\tset.close();\r\n        \t\t\tstatement.close();\r\n        \t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\tString errorMessage =&quot;&lt;html&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;head&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;meta charset=\\&quot;ISO-8859-1\\&quot;&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;link rel=\\&quot;stylesheet\\&quot; type=\\&quot;text/css\\&quot; href=\\&quot;style2.css\\&quot;&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;title&gt;Log In Error&lt;/title&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;/head&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;body&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;div class=\\&quot;accountMessage\\&quot;&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;h1 class=\\&quot;message\\&quot;&gt;Log in unsuccessful, please try again.&lt;/h1&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;button class=\\&quot;messageLogIn\\&quot; onclick=\\&quot;history.back()\\&quot;&gt;Log In&lt;/button&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;/div&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;/body&gt;\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;&lt;/html&gt;&quot;;\r\n    \t\t\t\t\r\n    \t\t\t\twriter.write(errorMessage);\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n        \t\t\r\n    \t\t\t \t\r\n        \t\r\n        }\r\n       }\r\n    \r\nProfile Servlet\r\n\r\n    //PROFILE PAGE WOULD BE DISPLAY HERE WITH USER DATA QUERYED FROM LOG IN PAGE\r\n    @WebServlet(&quot;/ProfileServlet&quot;)\r\n    public class ProfileServlet extends HttpServlet {\r\n    \t /**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = -6589250865438405024L;\r\n    \r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t            throws ServletException, IOException {\r\n    \t\t    PrintWriter writer = response.getWriter();\r\n    \t       //List&lt;User&gt; users = (ArrayList&lt;User&gt;)request.getAttribute(&quot;myList&quot;);\r\n    \t    \t\r\n    \t       String email =(String)request.getAttribute(&quot;email&quot;);\r\n    \t       \r\n    \t    \t\r\n    \t    \t\r\n    \t \twriter.write(&quot;&lt;html&gt;&lt;body&gt;&quot;+email+&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n    \t    }\r\n    }\r\n\r\nProfile HTML\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Profile Page&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style3.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;img src=&quot;images/CanadaLogo.jpg&quot; width=&quot;230px&quot; height=&quot;100px&quot;&gt;\r\n    \r\n    &lt;h3 class=&quot;profileHeading&quot;&gt;Profile Page&lt;/h3&gt;\r\n    \r\n    &lt;br&gt;\r\n    &lt;div class=&quot;navBarCon&quot;&gt;\r\n    &lt;!--Comments between divs remove white spaces--&gt;\r\n    &lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;&quot;&gt;Home&lt;/a&gt;&lt;/div&gt;&lt;!--\r\n      --&gt;&lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;&quot;&gt;Verify Identity&lt;/a&gt;&lt;/div&gt;&lt;!--\r\n    --&gt;&lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;&quot;&gt;Voting Portal&lt;/a&gt;&lt;/div&gt;&lt;!--\r\n    --&gt;&lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;&quot;&gt;Help&lt;/a&gt;&lt;/div&gt;&lt;!--\r\n    --&gt;&lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;LogIn.html&quot;&gt;Log Out&lt;/a&gt;&lt;/div&gt;&lt;!--\r\n    \r\n    --&gt;&lt;/div&gt;\r\n    \r\n    &lt;div class=&quot;profileCon&quot;&gt;\r\n    &lt;img src=&quot;images/profileIcon.png&quot; width=&quot;150px&quot; height=&quot;150px&quot;&gt;\r\n    &lt;h3 class=&quot;pLabel&quot;&gt;Name: &lt;/h3&gt; &lt;!-- NAME DISPLAYED HERE --&gt;\r\n    &lt;h3 class=&quot;pLabel&quot;&gt;Date of birth: &lt;/h3&gt; &lt;!-- DOB DISPLAYED HERE --&gt;\r\n    &lt;h3 class=&quot;pLabel&quot;&gt;Email: &lt;/h3&gt; &lt;!-- EMAIL DISPLAYED HERE --&gt;\r\n    \r\n    \r\n    &lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Passing data queried from database in one servlet, to another Java Servlet","body":"<p>I am completing a project with some other class mates and we are stuck. In our Log In servlet, we are connecting to the database and retrieving the data matching the email &amp; password criteria. The servlet adds the result row of information to a new user object , then placing the user in an Array. (The Array was created to try and pass all of the data at once), we have also tried only passing one attribute. Once the data is passed to the profile we need it to display next to specific labels. Currently we have not yet displayed the profile.html in the profile servlet, as we are just trying to verify that we can pass the variables first.</p>\n<p>We need the information to pass like so :\nDatabase ---&gt; LogInServlet--&gt;ProfileServlet</p>\n<p>Thanks!</p>\n<p>LogInServlet</p>\n<pre><code>@WebServlet(&quot;/LogInServlet&quot; )\npublic class LogInServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    List&lt;User&gt; users = new ArrayList&lt;User&gt;();\n\n    public LogInServlet() {\n        super();\n    }\n   \n    \n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        \n    \n    }\n    \n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException{\n        \n        String email = request.getParameter(&quot;email&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        PrintWriter writer = response.getWriter();\n        \n\n        String selectQuery=&quot;SELECT * FROM `user` WHERE email = ? and password = ?&quot; ;\n        \n        Connection connection =DBConnection.getConnectionToDatabase();\n        java.sql.PreparedStatement statement;   \n            try {\n                \n                statement = connection.prepareStatement(selectQuery);\n                statement.setString(1,email);\n                statement.setString(2,password);\n                \n                \n                ResultSet set = statement.executeQuery();\n                \n                if(set.next()) {\n                    \n                    User user = new User();\n                    user.setEmail(set.getString(&quot;email&quot;));\n                    user.setPassword(set.getString(&quot;password&quot;));\n                    user.setFirstName(set.getString(&quot;firstName&quot;));\n                    user.setLastName(set.getString(&quot;lastName&quot;));\n                    user.setDateOfBirth(set.getString(&quot;DOB&quot;));\n                    \n                    users.add(user);\n                    // THIS CODE TO SEND TO NEXT SERVLET\n                    //request.setAttribute(&quot;email&quot;, set.getString(email));\n                   // RequestDispatcher rd = request.getRequestDispatcher(&quot;/ProfileServlet&quot;);\n                    //rd.forward(request, response);\n                    \n                    //FOLLOWING CODE IS TEST CODE TO PROFILE HTML\n                   response.sendRedirect(&quot;profile.html&quot;);\n                   \n                } else {\n                    String errorMessage =&quot;&lt;html&gt;\\r\\n&quot;\n                            + &quot;&lt;head&gt;\\r\\n&quot;\n                            + &quot;&lt;meta charset=\\&quot;ISO-8859-1\\&quot;&gt;\\r\\n&quot;\n                            + &quot;&lt;link rel=\\&quot;stylesheet\\&quot; type=\\&quot;text/css\\&quot; href=\\&quot;style2.css\\&quot;&gt;\\r\\n&quot;\n                            + &quot;&lt;title&gt;Log In Error&lt;/title&gt;\\r\\n&quot;\n                            + &quot;&lt;/head&gt;\\r\\n&quot;\n                            + &quot;&lt;body&gt;\\r\\n&quot;\n                            + &quot;&lt;div class=\\&quot;accountMessage\\&quot;&gt;\\r\\n&quot;\n                            + &quot;&lt;h1 class=\\&quot;message\\&quot;&gt;Log in unsuccessful, please try again.&lt;/h1&gt;\\r\\n&quot;\n                            + &quot;&lt;button class=\\&quot;messageLogIn\\&quot; onclick=\\&quot;history.back()\\&quot;&gt;Log In&lt;/button&gt;\\r\\n&quot;\n                            + &quot;&lt;/div&gt;\\r\\n&quot;\n                            + &quot;&lt;/body&gt;\\r\\n&quot;\n                            + &quot;&lt;/html&gt;&quot;;\n                    \n                    writer.write(errorMessage);\n                }\n                set.close();\n                statement.close();\n                \n                    \n                \n            } catch (SQLException e) {\n                String errorMessage =&quot;&lt;html&gt;\\r\\n&quot;\n                        + &quot;&lt;head&gt;\\r\\n&quot;\n                        + &quot;&lt;meta charset=\\&quot;ISO-8859-1\\&quot;&gt;\\r\\n&quot;\n                        + &quot;&lt;link rel=\\&quot;stylesheet\\&quot; type=\\&quot;text/css\\&quot; href=\\&quot;style2.css\\&quot;&gt;\\r\\n&quot;\n                        + &quot;&lt;title&gt;Log In Error&lt;/title&gt;\\r\\n&quot;\n                        + &quot;&lt;/head&gt;\\r\\n&quot;\n                        + &quot;&lt;body&gt;\\r\\n&quot;\n                        + &quot;&lt;div class=\\&quot;accountMessage\\&quot;&gt;\\r\\n&quot;\n                        + &quot;&lt;h1 class=\\&quot;message\\&quot;&gt;Log in unsuccessful, please try again.&lt;/h1&gt;\\r\\n&quot;\n                        + &quot;&lt;button class=\\&quot;messageLogIn\\&quot; onclick=\\&quot;history.back()\\&quot;&gt;Log In&lt;/button&gt;\\r\\n&quot;\n                        + &quot;&lt;/div&gt;\\r\\n&quot;\n                        + &quot;&lt;/body&gt;\\r\\n&quot;\n                        + &quot;&lt;/html&gt;&quot;;\n                \n                writer.write(errorMessage);\n                e.printStackTrace();\n            }\n            \n                \n        \n    }\n   }\n</code></pre>\n<p>Profile Servlet</p>\n<pre><code>//PROFILE PAGE WOULD BE DISPLAY HERE WITH USER DATA QUERYED FROM LOG IN PAGE\n@WebServlet(&quot;/ProfileServlet&quot;)\npublic class ProfileServlet extends HttpServlet {\n     /**\n     * \n     */\n    private static final long serialVersionUID = -6589250865438405024L;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n                throws ServletException, IOException {\n            PrintWriter writer = response.getWriter();\n           //List&lt;User&gt; users = (ArrayList&lt;User&gt;)request.getAttribute(&quot;myList&quot;);\n            \n           String email =(String)request.getAttribute(&quot;email&quot;);\n           \n            \n            \n        writer.write(&quot;&lt;html&gt;&lt;body&gt;&quot;+email+&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n        }\n}\n</code></pre>\n<p>Profile HTML</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Profile Page&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style3.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;img src=&quot;images/CanadaLogo.jpg&quot; width=&quot;230px&quot; height=&quot;100px&quot;&gt;\n\n&lt;h3 class=&quot;profileHeading&quot;&gt;Profile Page&lt;/h3&gt;\n\n&lt;br&gt;\n&lt;div class=&quot;navBarCon&quot;&gt;\n&lt;!--Comments between divs remove white spaces--&gt;\n&lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;&quot;&gt;Home&lt;/a&gt;&lt;/div&gt;&lt;!--\n  --&gt;&lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;&quot;&gt;Verify Identity&lt;/a&gt;&lt;/div&gt;&lt;!--\n--&gt;&lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;&quot;&gt;Voting Portal&lt;/a&gt;&lt;/div&gt;&lt;!--\n--&gt;&lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;&quot;&gt;Help&lt;/a&gt;&lt;/div&gt;&lt;!--\n--&gt;&lt;div class=&quot;navItem&quot;&gt;&lt;a class=&quot;linkA&quot; href=&quot;LogIn.html&quot;&gt;Log Out&lt;/a&gt;&lt;/div&gt;&lt;!--\n\n--&gt;&lt;/div&gt;\n\n&lt;div class=&quot;profileCon&quot;&gt;\n&lt;img src=&quot;images/profileIcon.png&quot; width=&quot;150px&quot; height=&quot;150px&quot;&gt;\n&lt;h3 class=&quot;pLabel&quot;&gt;Name: &lt;/h3&gt; &lt;!-- NAME DISPLAYED HERE --&gt;\n&lt;h3 class=&quot;pLabel&quot;&gt;Date of birth: &lt;/h3&gt; &lt;!-- DOB DISPLAYED HERE --&gt;\n&lt;h3 class=&quot;pLabel&quot;&gt;Email: &lt;/h3&gt; &lt;!-- EMAIL DISPLAYED HERE --&gt;\n\n\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","recursion","collections"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1657292722,"post_id":72913370,"comment_id":128783322,"body_markdown":"When you use a debugger, what is the *first* line that doesn&#39;t do what you expected?","body":"When you use a debugger, what is the <i>first</i> line that doesn&#39;t do what you expected?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1657292942,"post_id":72913370,"comment_id":128783409,"body_markdown":"Posted code is not valid Java.","body":"Posted code is not valid Java."},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1657293183,"post_id":72913370,"comment_id":128783486,"body_markdown":"[HashSet](https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\">HashSet</a>"},{"owner":{"account_id":25760127,"reputation":1,"user_id":19511212,"display_name":"WateredDownGum"},"score":1,"creation_date":1657293214,"post_id":72913370,"comment_id":128783498,"body_markdown":"It runs fine in my Eclipse, perhaps I copypasted it wrong here.","body":"It runs fine in my Eclipse, perhaps I copypasted it wrong here."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1657293448,"post_id":72913370,"comment_id":128783586,"body_markdown":"What should the result of processing `[1,2,1,3,1]` be, and why?","body":"What should the result of processing <code>[1,2,1,3,1]</code> be, and why?"},{"owner":{"account_id":25760127,"reputation":1,"user_id":19511212,"display_name":"WateredDownGum"},"score":0,"creation_date":1657293749,"post_id":72913370,"comment_id":128783674,"body_markdown":"I tried to copy it again, hope it works now. As of the new question: [1,2,1,3,1] because they&#39;re not in sequence.","body":"I tried to copy it again, hope it works now. As of the new question: [1,2,1,3,1] because they&#39;re not in sequence."}],"owner":{"account_id":25760127,"reputation":1,"user_id":19511212,"display_name":"WateredDownGum"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657293605,"creation_date":1657292554,"question_id":72913370,"body_markdown":"I&#39;m trying to write a code consisting of a generic method which takes in a collection of objects and modifies it as the following:\r\n1)if there&#39;s only 1 instance of that object, leave it there;\r\n2)if there&#39;s more than one, remove all of them and place null **once** instead.\r\n\r\nExample:\r\n\r\n    [1,2,2] -&gt; [1,null]\r\n    [&quot;dog&quot;,&quot;cat&quot;,&quot;cat&quot;,&quot;fish&quot;] -&gt; [&quot;dog&quot;,null,&quot;fish&quot;]\r\n\r\nThe method has to be recursive.\r\nI tried my best with this:\r\n\r\n        import java.util.ArrayList;\r\n        import java.util.Collection;\r\n        \r\n        public class Sequence \r\n        {\r\n        \tpublic static &lt;T&gt; T cleanSequence(Collection&lt;T&gt; \r\n        collectionElements)\r\n\t        {\t\r\n\t        \tCollection finalCollection = new ArrayList&lt;&gt;();\r\n\t        \tArrayList&lt;T&gt; collectionArrayList = new ArrayList&lt;&gt; \r\n       (collectionElements);\r\n\t\t        T firstObject = collectionArrayList.get(0);\r\n\t\t        int size = collectionArrayList.size();\r\n\t\tif (size == 1)\t\r\n\t\t{\r\n\t\t\tfinalCollection.add(firstObject);\r\n\t\t\tcollectionElements = finalCollection;\r\n\t\t\treturn firstObject;\r\n\t\t}\r\n\t\telse if (size == 2)\r\n\t\t{\r\n\t\t\tif (firstObject.equals(collectionArrayList.get(1)))\r\n\t\t\t{\r\n\t\t\t\tfinalCollection.add(null);\r\n\t\t\t\tcollectionElements = finalCollection;\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tfinalCollection.add(firstObject);\r\n\t\t\t\tcollectionElements = finalCollection;\r\n\t\t\t\tcollectionArrayList.remove(firstObject);\r\n\t\t\t\tfinalCollection.add(cleanSequence(collectionArrayList));\r\n\t\t\t}\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\t\tif (firstObject.equals(collectionArrayList.get(1)))\r\n\t\t\t{\r\n\t\t\t\tfinalCollection.add(null);\r\n\t\t\t\tcollectionArrayList.remove(firstObject);\r\n\t\t\t\tfinalCollection.add(cleanSequence(collectionArrayList));\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tfinalCollection.add(firstObject);\r\n\t\t\t\tcollectionArrayList.remove(firstObject);\r\n\t\t\t\tfinalCollection.add(cleanSequence(collectionArrayList));\r\n\t\t\t}\r\n\t\tcollectionElements = finalCollection;\r\n\t\treturn null;\r\n\t\t}\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tArrayList&lt;Integer&gt; arrList = new ArrayList&lt;Integer&gt;();\r\n\t\tarrList.add(1);  arrList.add(1); arrList.add(2);\r\n\t\tcleanSequence(arrList);\r\n\t\tSystem.out.println(arrList);\r\n\t}\r\n}\r\n\r\nResult: \r\n\r\n    [null, 2]  //expected result\r\n    [1,1,2]    //actual result\r\n\r\nI can&#39;t see where&#39;s the mistake(s), do you guys/girls have any idea?Thank you.","title":"Using a recursive method to remove duplicates from collection","body":"<p>I'm trying to write a code consisting of a generic method which takes in a collection of objects and modifies it as the following:\n1)if there's only 1 instance of that object, leave it there;\n2)if there's more than one, remove all of them and place null <strong>once</strong> instead.</p>\n<p>Example:</p>\n<pre><code>[1,2,2] -&gt; [1,null]\n[&quot;dog&quot;,&quot;cat&quot;,&quot;cat&quot;,&quot;fish&quot;] -&gt; [&quot;dog&quot;,null,&quot;fish&quot;]\n</code></pre>\n<p>The method has to be recursive.\nI tried my best with this:</p>\n<pre><code>    import java.util.ArrayList;\n    import java.util.Collection;\n    \n    public class Sequence \n    {\n        public static &lt;T&gt; T cleanSequence(Collection&lt;T&gt; \n    collectionElements)\n        {   \n            Collection finalCollection = new ArrayList&lt;&gt;();\n            ArrayList&lt;T&gt; collectionArrayList = new ArrayList&lt;&gt; \n   (collectionElements);\n            T firstObject = collectionArrayList.get(0);\n            int size = collectionArrayList.size();\n    if (size == 1)  \n    {\n        finalCollection.add(firstObject);\n        collectionElements = finalCollection;\n        return firstObject;\n    }\n    else if (size == 2)\n    {\n        if (firstObject.equals(collectionArrayList.get(1)))\n        {\n            finalCollection.add(null);\n            collectionElements = finalCollection;\n            return null;\n        }\n        else \n        {\n            finalCollection.add(firstObject);\n            collectionElements = finalCollection;\n            collectionArrayList.remove(firstObject);\n            finalCollection.add(cleanSequence(collectionArrayList));\n        }\n    }\n    else \n    {\n        if (firstObject.equals(collectionArrayList.get(1)))\n        {\n            finalCollection.add(null);\n            collectionArrayList.remove(firstObject);\n            finalCollection.add(cleanSequence(collectionArrayList));\n        }\n        else\n            finalCollection.add(firstObject);\n            collectionArrayList.remove(firstObject);\n            finalCollection.add(cleanSequence(collectionArrayList));\n        }\n    collectionElements = finalCollection;\n    return null;\n    }\n\npublic static void main(String[] args)\n{\n    ArrayList&lt;Integer&gt; arrList = new ArrayList&lt;Integer&gt;();\n    arrList.add(1);  arrList.add(1); arrList.add(2);\n    cleanSequence(arrList);\n    System.out.println(arrList);\n}\n</code></pre>\n<p>}</p>\n<p>Result:</p>\n<pre><code>[null, 2]  //expected result\n[1,1,2]    //actual result\n</code></pre>\n<p>I can't see where's the mistake(s), do you guys/girls have any idea?Thank you.</p>\n"},{"tags":["java","spring","file","spring-mvc","web"],"comments":[{"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"score":0,"creation_date":1657294147,"post_id":72913458,"comment_id":128783808,"body_markdown":"I disagree that the form you have shown us will do what you suggest. It is a FILE UPLOAD form, it will simply allow the user to select a file on their local hard drive and upload the contents to the server in question. There&#39;s no downloading which is going to happen, and thus I am unsure of how this relates to the serialization code.\n\nFinally, I don&#39;t believe any existing web browsers allow the user, or the server side, to determine the path to which a file is saved locally. This is entirely under browser control.","body":"I disagree that the form you have shown us will do what you suggest. It is a FILE UPLOAD form, it will simply allow the user to select a file on their local hard drive and upload the contents to the server in question. There&#39;s no downloading which is going to happen, and thus I am unsure of how this relates to the serialization code.  Finally, I don&#39;t believe any existing web browsers allow the user, or the server side, to determine the path to which a file is saved locally. This is entirely under browser control."},{"owner":{"account_id":25753110,"reputation":3,"user_id":19511133,"display_name":"Vindie"},"score":0,"creation_date":1657296438,"post_id":72913458,"comment_id":128784538,"body_markdown":"@TodHarter Oh, thank you very much, for some reason I decided it should work as a JFileChooser","body":"@TodHarter Oh, thank you very much, for some reason I decided it should work as a JFileChooser"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664347213,"post_id":72913458,"comment_id":130447625,"body_markdown":"Be aware that there are significant security issues in deserializing a serialized file from an untrusted source; i.e. the user.","body":"Be aware that there are significant security issues in deserializing a serialized file from an untrusted source; i.e. the user."}],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657293459,"creation_date":1657293459,"answer_id":72913563,"question_id":72913458,"body_markdown":"If by &#39;saving from the web&#39; you mean how can you generate your Serialized file within your Spring app and the allow the user to download the file, this tutorial might be what you&#39;re looking for? https://www.baeldung.com/spring-controller-return-image-file","title":"Serializing an object and downloading it from the web JAVA","body":"<p>If by 'saving from the web' you mean how can you generate your Serialized file within your Spring app and the allow the user to download the file, this tutorial might be what you're looking for? <a href=\"https://www.baeldung.com/spring-controller-return-image-file\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-controller-return-image-file</a></p>\n"}],"owner":{"account_id":25753110,"reputation":3,"user_id":19511133,"display_name":"Vindie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72913563,"answer_count":1,"score":0,"last_activity_date":1657293459,"creation_date":1657292904,"question_id":72913458,"body_markdown":"I have a project (Spring Boot, MVC) where:\r\n\r\n**1.** When the button is clicked, a window should open in which the user selects a path, and a newly created file should be exported there to the user&#39;s computer. The file is created using object serialization.\r\n\r\n**2.** And in reverse order by another button: file import, deserialization, object acquisition.\r\n\r\nI know that this is solved by this form, but I can&#39;t figure out exactly how.\r\n```\r\n&lt;form id=&quot;singleUploadForm&quot; name=&quot;singleUploadForm&quot;&gt;\r\n     &lt;input id=&quot;singleFileUploadInput&quot; type=&quot;file&quot; name=&quot;file&quot; class=&quot;file-input&quot; required /&gt;\r\n     &lt;button type=&quot;submit&quot; class=&quot;primary submit-btn&quot;&gt;Submit&lt;/button&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nExample of serializing my object with a static save path:\r\n```\r\nSavedGame savedGame = new SavedGame(info1, info2, info3);\r\n\r\nFileOutputStream outputStream = new FileOutputStream(&quot;C:\\\\Users\\\\Username\\\\Desktop\\\\save.ser&quot;);\r\nObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\r\n\r\nobjectOutputStream.writeObject(savedGame);\r\n\r\nobjectOutputStream.close();\r\n```\r\n\r\nI didn&#39;t find a solution to this particular problem on the Internet, I only found a lot of such tutorials https://www.callicoder.com/spring-boot-file-upload-download-rest-api-example/ which don&#39;t solve my problem directly. Specifically in this I do not understand where to insert my serialized file.\r\n\r\n**The question:** is there any clear tutorial or video on sterilization followed by saving from the web?\r\n\r\nI will be very glad of any help! I&#39;ve been solving the problem for a week now...","title":"Serializing an object and downloading it from the web JAVA","body":"<p>I have a project (Spring Boot, MVC) where:</p>\n<p><strong>1.</strong> When the button is clicked, a window should open in which the user selects a path, and a newly created file should be exported there to the user's computer. The file is created using object serialization.</p>\n<p><strong>2.</strong> And in reverse order by another button: file import, deserialization, object acquisition.</p>\n<p>I know that this is solved by this form, but I can't figure out exactly how.</p>\n<pre><code>&lt;form id=&quot;singleUploadForm&quot; name=&quot;singleUploadForm&quot;&gt;\n     &lt;input id=&quot;singleFileUploadInput&quot; type=&quot;file&quot; name=&quot;file&quot; class=&quot;file-input&quot; required /&gt;\n     &lt;button type=&quot;submit&quot; class=&quot;primary submit-btn&quot;&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Example of serializing my object with a static save path:</p>\n<pre><code>SavedGame savedGame = new SavedGame(info1, info2, info3);\n\nFileOutputStream outputStream = new FileOutputStream(&quot;C:\\\\Users\\\\Username\\\\Desktop\\\\save.ser&quot;);\nObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\n\nobjectOutputStream.writeObject(savedGame);\n\nobjectOutputStream.close();\n</code></pre>\n<p>I didn't find a solution to this particular problem on the Internet, I only found a lot of such tutorials <a href=\"https://www.callicoder.com/spring-boot-file-upload-download-rest-api-example/\" rel=\"nofollow noreferrer\">https://www.callicoder.com/spring-boot-file-upload-download-rest-api-example/</a> which don't solve my problem directly. Specifically in this I do not understand where to insert my serialized file.</p>\n<p><strong>The question:</strong> is there any clear tutorial or video on sterilization followed by saving from the web?</p>\n<p>I will be very glad of any help! I've been solving the problem for a week now...</p>\n"},{"tags":["java","mysql","hibernate","hibernate-criteria"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1357649675,"post_id":14215288,"comment_id":19714590,"body_markdown":"You have probably misunderstood SQL join queries. Should be LEFT JOIN  `issue_tracker` ON `issues`.`issue_tracker_id` = `issue_tracker`.`id`","body":"You have probably misunderstood SQL join queries. Should be LEFT JOIN  <code>issue_tracker</code> ON <code>issues</code>.<code>issue_tracker_id</code> = <code>issue_tracker</code>.<code>id</code>"},{"owner":{"account_id":1939917,"reputation":2340,"user_id":1746344,"accept_rate":64,"display_name":"arvin_codeHunk"},"score":0,"creation_date":1357649958,"post_id":14215288,"comment_id":19714774,"body_markdown":"thanks...but right now this is not my area of concern.  I want to know how to achieve this using criteria","body":"thanks...but right now this is not my area of concern.  I want to know how to achieve this using criteria"}],"answers":[{"tags":[],"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1657293181,"creation_date":1357649622,"answer_id":14215401,"question_id":14215288,"body_markdown":"you can try the following\r\n\r\n\r\n\r\n    Criteria criteria = session.createCriteria(Issues.class);\r\n    criteria.setFirstResult(from);\r\n    criteria.setMaxResults(size);\r\n    criteria.setFetchMode(&#39;parent.child&#39;, FetchMode.JOIN);\r\n    criteria.add(Restrictions.eq(&quot;status&quot;, &quot;Escalate To&quot;));\r\n    List&lt;Issues&gt; list= criteria.list();\r\n\r\n\r\n\r\n\r\nhere parent is the property name in `Issues.java` and child is the property in `IssueTracker.java`.\r\n\r\n","title":"Left join using hibernate criteria","body":"<p>you can try the following</p>\n<pre><code>Criteria criteria = session.createCriteria(Issues.class);\ncriteria.setFirstResult(from);\ncriteria.setMaxResults(size);\ncriteria.setFetchMode('parent.child', FetchMode.JOIN);\ncriteria.add(Restrictions.eq(&quot;status&quot;, &quot;Escalate To&quot;));\nList&lt;Issues&gt; list= criteria.list();\n</code></pre>\n<p>here parent is the property name in <code>Issues.java</code> and child is the property in <code>IssueTracker.java</code>.</p>\n"},{"tags":[],"owner":{"account_id":2217968,"reputation":111,"user_id":1958128,"display_name":"Altieres de Matos"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1357650319,"creation_date":1357650319,"answer_id":14215610,"question_id":14215288,"body_markdown":"Well,\r\n\r\nfollow one sample...\r\n\r\n    Criteria crit = session.createCriteria(Issues.class);\r\n    crit.createAlias(&quot;otherClass&quot;, &quot;otherClass&quot;);\r\n    crit.add(Restrictions.eq(&quot;otherClass.status&quot;, &quot;Escalate To&quot;));\r\n    List result = crit.list();\r\n\r\nI think so this can to help!!","title":"Left join using hibernate criteria","body":"<p>Well,</p>\n\n<p>follow one sample...</p>\n\n<pre><code>Criteria crit = session.createCriteria(Issues.class);\ncrit.createAlias(\"otherClass\", \"otherClass\");\ncrit.add(Restrictions.eq(\"otherClass.status\", \"Escalate To\"));\nList result = crit.list();\n</code></pre>\n\n<p>I think so this can to help!!</p>\n"},{"tags":[],"owner":{"account_id":4088603,"reputation":33,"user_id":3357251,"display_name":"hyzic23"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456493818,"creation_date":1456493818,"answer_id":35653170,"question_id":14215288,"body_markdown":"Try this out because this worked for me    \r\n\r\n    Criteria criteria = sessionFactory.getCurrentSession().createCriteria(Issues.class, &quot;issues&quot;);\r\n    criteria.setFetchMode(&quot;issues.issuetracker&quot;, FetchMode.JOIN);\r\n    criteria.createAlias(&quot;issues.issuetracker&quot;, &quot;issuetracker&quot;);\r\n    criteria.add(Restrictions.eq(&quot;status&quot;,&quot;Escalate To&quot;));\r\n    List list = criteria.list();\r\n    return list;\r\n\r\n  \r\n\r\n","title":"Left join using hibernate criteria","body":"<p>Try this out because this worked for me    </p>\n\n<pre><code>Criteria criteria = sessionFactory.getCurrentSession().createCriteria(Issues.class, \"issues\");\ncriteria.setFetchMode(\"issues.issuetracker\", FetchMode.JOIN);\ncriteria.createAlias(\"issues.issuetracker\", \"issuetracker\");\ncriteria.add(Restrictions.eq(\"status\",\"Escalate To\"));\nList list = criteria.list();\nreturn list;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18022555,"reputation":37,"user_id":13099372,"display_name":"Manoj H U"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591173787,"creation_date":1591173787,"answer_id":62168593,"question_id":14215288,"body_markdown":" Note: In Hibernate criteria, inner outer join and inner join are one and the same. Do not get confused.\r\n\r\n\r\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n     try{\r\n         Criteria criteria = session.createCriteria(Issues.class, &quot;issues&quot;);\r\n         criteria.setFirstResult(from);\r\n         criteria.setMaxResults(size);\r\n         criteria.createAlias(&quot;issues.issuestracker&quot;, &quot;issuestracker&quot;, JoinType.LEFT_OUTER_JOIN);\r\n         criteria.add(Restrictions.eq(&quot;issues.status&quot;, &quot;Escalate To&quot;));\r\n\r\n         return criteria.list();\r\n       }catch(HibernateException e){\r\n           e.printStackTrace();\r\n           throw e;\r\n         }\r\n\r\nThis should solve your issue. Let me know if you face any trouble.","title":"Left join using hibernate criteria","body":"<p>Note: In Hibernate criteria, inner outer join and inner join are one and the same. Do not get confused.</p>\n\n<pre><code>Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n try{\n     Criteria criteria = session.createCriteria(Issues.class, \"issues\");\n     criteria.setFirstResult(from);\n     criteria.setMaxResults(size);\n     criteria.createAlias(\"issues.issuestracker\", \"issuestracker\", JoinType.LEFT_OUTER_JOIN);\n     criteria.add(Restrictions.eq(\"issues.status\", \"Escalate To\"));\n\n     return criteria.list();\n   }catch(HibernateException e){\n       e.printStackTrace();\n       throw e;\n     }\n</code></pre>\n\n<p>This should solve your issue. Let me know if you face any trouble.</p>\n"}],"owner":{"account_id":1939917,"reputation":2340,"user_id":1746344,"accept_rate":64,"display_name":"arvin_codeHunk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40652,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":14215401,"answer_count":4,"score":8,"last_activity_date":1657293181,"creation_date":1357649243,"question_id":14215288,"body_markdown":"I have two entity: `Issue` and `Issue_Tracker`. I am using Hibernate 3.6. \r\n\r\n    SELECT `issues`.`issue_id`,\r\n           `issues`.`issue_raised_date`,\r\n           `issues`.`issue_description`,\r\n           `issue_tracker`.`tracker_status`\r\n    FROM `issues`\r\n       LEFT JOIN  `issue_tracker` ON `issues`.`issue_id` = `issue_tracker`.`issue_id`\r\n    WHERE `issues`.`status`=&quot;Escalate To&quot;\r\n\r\nHow to achieve this using Hibernate Criteria, and most Important, I have to use it for pagination.\r\n\r\n**and My Dao is as follows to show the list of Issues in jqgrid**\r\n\r\n&gt; public List&lt;Issue&gt; showHelpDeskIssues(DetachedCriteria dc, int from,\r\n&gt; int size) {\r\n&gt; \r\n&gt;     Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n&gt;      try\r\n&gt;       {\r\n&gt; \r\n&gt;         Criteria criteria = dc.getExecutableCriteria(session);\r\n&gt;         criteria.setFirstResult(from);\r\n&gt;         criteria.setMaxResults(size);\r\n&gt;         criteria.add(Restrictions.eq(&quot;status&quot;,&quot;Escalate To&quot;));\r\n&gt; \r\n&gt;         return criteria.list();\r\n&gt;       }\r\n&gt;       catch (HibernateException e)\r\n&gt;       {\r\n&gt;         e.printStackTrace();\r\n&gt;         throw e;\r\n&gt;       } }\r\n\r\nFor brief explanation please refer this question [https://stackoverflow.com/questions/14211501/how-to-show-two-tables-data-in-jqgrid-using-struts2-jqgrid-plugin-and-hibernat][1] \r\nany help would be great.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14211501/how-to-show-two-tables-data-in-jqgrid-using-struts2-jqgrid-plugin-and-hibernat","title":"Left join using hibernate criteria","body":"<p>I have two entity: <code>Issue</code> and <code>Issue_Tracker</code>. I am using Hibernate 3.6. </p>\n\n<pre><code>SELECT `issues`.`issue_id`,\n       `issues`.`issue_raised_date`,\n       `issues`.`issue_description`,\n       `issue_tracker`.`tracker_status`\nFROM `issues`\n   LEFT JOIN  `issue_tracker` ON `issues`.`issue_id` = `issue_tracker`.`issue_id`\nWHERE `issues`.`status`=\"Escalate To\"\n</code></pre>\n\n<p>How to achieve this using Hibernate Criteria, and most Important, I have to use it for pagination.</p>\n\n<p><strong>and My Dao is as follows to show the list of Issues in jqgrid</strong></p>\n\n<blockquote>\n  <p>public List showHelpDeskIssues(DetachedCriteria dc, int from,\n  int size) {</p>\n\n<pre><code>Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n try\n  {\n\n    Criteria criteria = dc.getExecutableCriteria(session);\n    criteria.setFirstResult(from);\n    criteria.setMaxResults(size);\n    criteria.add(Restrictions.eq(\"status\",\"Escalate To\"));\n\n    return criteria.list();\n  }\n  catch (HibernateException e)\n  {\n    e.printStackTrace();\n    throw e;\n  } }\n</code></pre>\n</blockquote>\n\n<p>For brief explanation please refer this question <a href=\"https://stackoverflow.com/questions/14211501/how-to-show-two-tables-data-in-jqgrid-using-struts2-jqgrid-plugin-and-hibernat\">how to show two tables data in jqgrid using struts2 - jqgrid plugin and hibernate</a> \nany help would be great.</p>\n"},{"tags":["java","sftp","sshd","apache-mina"],"answers":[{"tags":[],"owner":{"account_id":6289696,"reputation":1155,"user_id":4887806,"accept_rate":73,"display_name":"Hooli"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1468868310,"creation_date":1468868310,"answer_id":38444107,"question_id":38441969,"body_markdown":"I finally got it working. Here is a working example:\r\n\r\n**pom.xml**\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sshd-core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.14.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Test.java**\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import org.apache.sshd.SshServer;\r\n    import org.apache.sshd.common.NamedFactory;\r\n    import org.apache.sshd.common.file.virtualfs.VirtualFileSystemFactory;\r\n    import org.apache.sshd.server.Command;\r\n    import org.apache.sshd.server.PasswordAuthenticator;\r\n    import org.apache.sshd.server.UserAuth;\r\n    import org.apache.sshd.server.auth.UserAuthPassword;\r\n    import org.apache.sshd.server.command.ScpCommandFactory;\r\n    import org.apache.sshd.server.keyprovider.SimpleGeneratorHostKeyProvider;\r\n    import org.apache.sshd.server.session.ServerSession;\r\n    import org.apache.sshd.server.sftp.SftpSubsystem;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String args[]) {\r\n            try {\r\n                Runtime.getRuntime().exec(&quot;sudo fuser -k &quot; + &quot;2222&quot; + &quot;/tcp&quot;);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n            File TEST = new File(&quot;test&quot;);\r\n            File ADMIN = new File(&quot;admin&quot;);\r\n            File ERROR = new File(&quot;error&quot;);\r\n    \r\n            TEST.mkdirs();\r\n            ADMIN.mkdirs();\r\n            ERROR.mkdirs();\r\n    \r\n            SshServer sshServer = SshServer.setUpDefaultServer();\r\n            sshServer.setFileSystemFactory(new VirtualFileSystemFactory(ERROR.getAbsolutePath()));\r\n            sshServer.setPort(2222);\r\n            sshServer.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(&quot;my.pem&quot;).getAbsolutePath()));\r\n            sshServer.setCommandFactory(new ScpCommandFactory());\r\n            List&lt;NamedFactory&lt;UserAuth&gt;&gt; userAuthFactories = new ArrayList&lt;&gt;();\r\n            userAuthFactories.add(new UserAuthPassword.Factory());\r\n            sshServer.setUserAuthFactories(userAuthFactories);\r\n            sshServer.setPasswordAuthenticator(new PasswordAuthenticator() {\r\n                @Override\r\n                public boolean authenticate(String username, String password, ServerSession session) {\r\n                    if ((username.equals(&quot;test&quot;)) &amp;&amp; (password.equals(&quot;test&quot;))) {\r\n                        sshServer.setFileSystemFactory(new VirtualFileSystemFactory(TEST.getAbsolutePath()));\r\n                        return true;\r\n                    }\r\n                    if ((username.equals(&quot;admin&quot;)) &amp;&amp; (password.equals(&quot;admin&quot;))) {\r\n                        sshServer.setFileSystemFactory(new VirtualFileSystemFactory(ADMIN.getAbsolutePath()));\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n            List&lt;NamedFactory&lt;Command&gt;&gt; namedFactoryList = new ArrayList&lt;&gt;();\r\n            namedFactoryList.add(new SftpSubsystem.Factory());\r\n            sshServer.setSubsystemFactories(namedFactoryList);\r\n            try {\r\n                sshServer.start();\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(CarrierSFTPServer.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n        }\r\n    }","title":"Apache MINA SFTP Example","body":"<p>I finally got it working. Here is a working example:</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;\n    &lt;artifactId&gt;sshd-core&lt;/artifactId&gt;\n    &lt;version&gt;0.14.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Test.java</strong></p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport org.apache.sshd.SshServer;\nimport org.apache.sshd.common.NamedFactory;\nimport org.apache.sshd.common.file.virtualfs.VirtualFileSystemFactory;\nimport org.apache.sshd.server.Command;\nimport org.apache.sshd.server.PasswordAuthenticator;\nimport org.apache.sshd.server.UserAuth;\nimport org.apache.sshd.server.auth.UserAuthPassword;\nimport org.apache.sshd.server.command.ScpCommandFactory;\nimport org.apache.sshd.server.keyprovider.SimpleGeneratorHostKeyProvider;\nimport org.apache.sshd.server.session.ServerSession;\nimport org.apache.sshd.server.sftp.SftpSubsystem;\n\npublic class Test {\n\n    public static void main(String args[]) {\n        try {\n            Runtime.getRuntime().exec(\"sudo fuser -k \" + \"2222\" + \"/tcp\");\n        } catch (IOException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n        File TEST = new File(\"test\");\n        File ADMIN = new File(\"admin\");\n        File ERROR = new File(\"error\");\n\n        TEST.mkdirs();\n        ADMIN.mkdirs();\n        ERROR.mkdirs();\n\n        SshServer sshServer = SshServer.setUpDefaultServer();\n        sshServer.setFileSystemFactory(new VirtualFileSystemFactory(ERROR.getAbsolutePath()));\n        sshServer.setPort(2222);\n        sshServer.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(\"my.pem\").getAbsolutePath()));\n        sshServer.setCommandFactory(new ScpCommandFactory());\n        List&lt;NamedFactory&lt;UserAuth&gt;&gt; userAuthFactories = new ArrayList&lt;&gt;();\n        userAuthFactories.add(new UserAuthPassword.Factory());\n        sshServer.setUserAuthFactories(userAuthFactories);\n        sshServer.setPasswordAuthenticator(new PasswordAuthenticator() {\n            @Override\n            public boolean authenticate(String username, String password, ServerSession session) {\n                if ((username.equals(\"test\")) &amp;&amp; (password.equals(\"test\"))) {\n                    sshServer.setFileSystemFactory(new VirtualFileSystemFactory(TEST.getAbsolutePath()));\n                    return true;\n                }\n                if ((username.equals(\"admin\")) &amp;&amp; (password.equals(\"admin\"))) {\n                    sshServer.setFileSystemFactory(new VirtualFileSystemFactory(ADMIN.getAbsolutePath()));\n                    return true;\n                }\n                return false;\n            }\n        });\n        List&lt;NamedFactory&lt;Command&gt;&gt; namedFactoryList = new ArrayList&lt;&gt;();\n        namedFactoryList.add(new SftpSubsystem.Factory());\n        sshServer.setSubsystemFactories(namedFactoryList);\n        try {\n            sshServer.start();\n        } catch (IOException ex) {\n            Logger.getLogger(CarrierSFTPServer.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1077862,"reputation":470,"user_id":1075621,"accept_rate":80,"display_name":"Skeeterdrums"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497282255,"creation_date":1497282255,"answer_id":44503549,"question_id":38441969,"body_markdown":"Updated version of above (as of 1.4.0 of sshd-core). Note that I did not specify a file for the host key provider since mine was for a Junit integration test.\r\n\r\n    List&lt;NamedFactory&lt;UserAuth&gt;&gt; userAuthFactories = new ArrayList&lt;NamedFactory&lt;UserAuth&gt;&gt;();\r\n    userAuthFactories.add(new UserAuthPasswordFactory());\r\n\r\n    List&lt;NamedFactory&lt;Command&gt;&gt; sftpCommandFactory = new ArrayList&lt;NamedFactory&lt;Command&gt;&gt;();\r\n    sftpCommandFactory.add(new SftpSubsystemFactory());\r\n\r\n    SshServer sshd = SshServer.setUpDefaultServer();\r\n    sshd.setPort(22);\r\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider());\r\n    sshd.setUserAuthFactories(userAuthFactories);\r\n    sshd.setCommandFactory(new ScpCommandFactory());\r\n    sshd.setSubsystemFactories(sftpCommandFactory);\r\n    sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\r\n      @Override\r\n      public boolean authenticate(String username, String password, ServerSession session) {\r\n        if ((username.equals(&quot;admin&quot;)) &amp;&amp; (password.equals(&quot;admin&quot;))) {\r\n          sshd.setFileSystemFactory(new VirtualFileSystemFactory(new File(&quot;C:\\\\devl&quot;).toPath()));\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    });\r\n\r\n    sshd.start();","title":"Apache MINA SFTP Example","body":"<p>Updated version of above (as of 1.4.0 of sshd-core). Note that I did not specify a file for the host key provider since mine was for a Junit integration test.</p>\n\n<pre><code>List&lt;NamedFactory&lt;UserAuth&gt;&gt; userAuthFactories = new ArrayList&lt;NamedFactory&lt;UserAuth&gt;&gt;();\nuserAuthFactories.add(new UserAuthPasswordFactory());\n\nList&lt;NamedFactory&lt;Command&gt;&gt; sftpCommandFactory = new ArrayList&lt;NamedFactory&lt;Command&gt;&gt;();\nsftpCommandFactory.add(new SftpSubsystemFactory());\n\nSshServer sshd = SshServer.setUpDefaultServer();\nsshd.setPort(22);\nsshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider());\nsshd.setUserAuthFactories(userAuthFactories);\nsshd.setCommandFactory(new ScpCommandFactory());\nsshd.setSubsystemFactories(sftpCommandFactory);\nsshd.setPasswordAuthenticator(new PasswordAuthenticator() {\n  @Override\n  public boolean authenticate(String username, String password, ServerSession session) {\n    if ((username.equals(\"admin\")) &amp;&amp; (password.equals(\"admin\"))) {\n      sshd.setFileSystemFactory(new VirtualFileSystemFactory(new File(\"C:\\\\devl\").toPath()));\n      return true;\n    }\n    return false;\n  }\n});\n\nsshd.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657292830,"creation_date":1657292830,"answer_id":72913438,"question_id":38441969,"body_markdown":"For version 2.8.0 (dependency GAV: `org.apache.sshd:sshd-sftp:2.8.0`) this file provided a great resource for me: \r\n\r\nhttps://github.com/spring-projects/spring-integration-samples/blob/main/basic/sftp/src/test/java/org/springframework/integration/samples/sftp/EmbeddedSftpServer.java\r\n\r\nExcerpt because the link may break: \r\n    \r\n    // ...\r\n\r\n    import org.apache.sshd.common.file.virtualfs.VirtualFileSystemFactory;\r\n    import org.apache.sshd.server.SshServer;\r\n    import org.apache.sshd.server.keyprovider.SimpleGeneratorHostKeyProvider;\r\n    import org.apache.sshd.sftp.server.SftpSubsystemFactory;\r\n    \r\n    import org.springframework.beans.factory.InitializingBean;\r\n    import org.springframework.context.SmartLifecycle;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.integration.sftp.session.DefaultSftpSessionFactory;\r\n    import org.springframework.util.Base64Utils;\r\n    import org.springframework.util.StreamUtils;\r\n        \t\r\n    public class EmbeddedSftpServer implements InitializingBean, SmartLifecycle { \r\n\r\n        // ...\r\n    \r\n        private DefaultSftpSessionFactory defaultSftpSessionFactory;\r\n    \r\n    \tpublic void setPort(int port) {\r\n    \t\tthis.port = port;\r\n    \t}\r\n    \r\n    \tpublic void setDefaultSftpSessionFactory(DefaultSftpSessionFactory defaultSftpSessionFactory) {\r\n    \t\tthis.defaultSftpSessionFactory = defaultSftpSessionFactory;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void afterPropertiesSet() throws Exception {\r\n    \t\tfinal PublicKey allowedKey = decodePublicKey();\r\n    \t\tthis.server.setPublickeyAuthenticator((username, key, session) -&gt; key.equals(allowedKey));\r\n    \t\tthis.server.setPort(this.port);\r\n    \t\tthis.server.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(&quot;hostkey.ser&quot;).toPath()));\r\n    \t\tserver.setSubsystemFactories(Collections.singletonList(new SftpSubsystemFactory()));\r\n    \t\tfinal String pathname = System.getProperty(&quot;java.io.tmpdir&quot;) + File.separator + &quot;sftptest&quot; + File.separator;\r\n    \t\tnew File(pathname).mkdirs();\r\n    \t\tserver.setFileSystemFactory(new VirtualFileSystemFactory(Paths.get(pathname)));\r\n    \t}\r\n\r\n    // ...\r\n     \r\nI usually leave the port unspecified, it uses a random port then, it seems.","title":"Apache MINA SFTP Example","body":"<p>For version 2.8.0 (dependency GAV: <code>org.apache.sshd:sshd-sftp:2.8.0</code>) this file provided a great resource for me:</p>\n<p><a href=\"https://github.com/spring-projects/spring-integration-samples/blob/main/basic/sftp/src/test/java/org/springframework/integration/samples/sftp/EmbeddedSftpServer.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration-samples/blob/main/basic/sftp/src/test/java/org/springframework/integration/samples/sftp/EmbeddedSftpServer.java</a></p>\n<p>Excerpt because the link may break:</p>\n<pre><code>// ...\n\nimport org.apache.sshd.common.file.virtualfs.VirtualFileSystemFactory;\nimport org.apache.sshd.server.SshServer;\nimport org.apache.sshd.server.keyprovider.SimpleGeneratorHostKeyProvider;\nimport org.apache.sshd.sftp.server.SftpSubsystemFactory;\n\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.context.SmartLifecycle;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.integration.sftp.session.DefaultSftpSessionFactory;\nimport org.springframework.util.Base64Utils;\nimport org.springframework.util.StreamUtils;\n        \npublic class EmbeddedSftpServer implements InitializingBean, SmartLifecycle { \n\n    // ...\n\n    private DefaultSftpSessionFactory defaultSftpSessionFactory;\n\n    public void setPort(int port) {\n        this.port = port;\n    }\n\n    public void setDefaultSftpSessionFactory(DefaultSftpSessionFactory defaultSftpSessionFactory) {\n        this.defaultSftpSessionFactory = defaultSftpSessionFactory;\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        final PublicKey allowedKey = decodePublicKey();\n        this.server.setPublickeyAuthenticator((username, key, session) -&gt; key.equals(allowedKey));\n        this.server.setPort(this.port);\n        this.server.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(&quot;hostkey.ser&quot;).toPath()));\n        server.setSubsystemFactories(Collections.singletonList(new SftpSubsystemFactory()));\n        final String pathname = System.getProperty(&quot;java.io.tmpdir&quot;) + File.separator + &quot;sftptest&quot; + File.separator;\n        new File(pathname).mkdirs();\n        server.setFileSystemFactory(new VirtualFileSystemFactory(Paths.get(pathname)));\n    }\n\n// ...\n \n</code></pre>\n<p>I usually leave the port unspecified, it uses a random port then, it seems.</p>\n"}],"owner":{"account_id":6289696,"reputation":1155,"user_id":4887806,"accept_rate":73,"display_name":"Hooli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19106,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":38444107,"answer_count":3,"score":6,"last_activity_date":1657292830,"creation_date":1468860072,"question_id":38441969,"body_markdown":"I&#39;m trying to set up an SFTP server with multiple users that each have their own home directory.\r\n\r\nI read [this answer](https://stackoverflow.com/questions/29389249/how-to-set-root-directory-in-apache-mina-sshd-server-in-java) which explained how to set a virtual directory for a single user but I&#39;m not sure how to have multiple users each with their own home directory.\r\n\r\nCan someone please tell me how to go about this?","title":"Apache MINA SFTP Example","body":"<p>I'm trying to set up an SFTP server with multiple users that each have their own home directory.</p>\n\n<p>I read <a href=\"https://stackoverflow.com/questions/29389249/how-to-set-root-directory-in-apache-mina-sshd-server-in-java\">this answer</a> which explained how to set a virtual directory for a single user but I'm not sure how to have multiple users each with their own home directory.</p>\n\n<p>Can someone please tell me how to go about this?</p>\n"},{"tags":["java","ftp","sftp","security"],"answers":[{"tags":[],"owner":{"account_id":1328,"reputation":7402,"user_id":1769,"accept_rate":83,"display_name":"David Hayes"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1219067353,"creation_date":1219067353,"answer_id":14629,"question_id":14617,"body_markdown":"This was the solution I came up with\r\n[http://sourceforge.net/projects/sshtools/][1] (most error handling omitted for clarity). This is an excerpt from [my blog][2]\r\n\r\n    SshClient ssh = new SshClient();\r\n    ssh.connect(host, port);\r\n    //Authenticate\r\n    PasswordAuthenticationClient passwordAuthenticationClient = new PasswordAuthenticationClient();\r\n    passwordAuthenticationClient.setUsername(userName);\r\n    passwordAuthenticationClient.setPassword(password);\r\n    int result = ssh.authenticate(passwordAuthenticationClient);\r\n    if(result != AuthenticationProtocolState.COMPLETE){\r\n         throw new SFTPException(&quot;Login to &quot; + host + &quot;:&quot; + port + &quot; &quot; + userName + &quot;/&quot; + password + &quot; failed&quot;);\r\n    }\r\n    //Open the SFTP channel\r\n    SftpClient client = ssh.openSftpClient();\r\n    //Send the file\r\n    client.put(filePath);\r\n    //disconnect\r\n    client.quit();\r\n    ssh.disconnect();\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/sshtools/\r\n  [2]: http://www.spindriftpages.net/blog/dave/2007/11/27/sshtools-j2ssh-java-sshsftp-library","title":"How to retrieve a file from a server via SFTP?","body":"<p>This was the solution I came up with\n<a href=\"http://sourceforge.net/projects/sshtools/\" rel=\"noreferrer\">http://sourceforge.net/projects/sshtools/</a> (most error handling omitted for clarity). This is an excerpt from <a href=\"http://www.spindriftpages.net/blog/dave/2007/11/27/sshtools-j2ssh-java-sshsftp-library\" rel=\"noreferrer\">my blog</a></p>\n\n<pre><code>SshClient ssh = new SshClient();\nssh.connect(host, port);\n//Authenticate\nPasswordAuthenticationClient passwordAuthenticationClient = new PasswordAuthenticationClient();\npasswordAuthenticationClient.setUsername(userName);\npasswordAuthenticationClient.setPassword(password);\nint result = ssh.authenticate(passwordAuthenticationClient);\nif(result != AuthenticationProtocolState.COMPLETE){\n     throw new SFTPException(\"Login to \" + host + \":\" + port + \" \" + userName + \"/\" + password + \" failed\");\n}\n//Open the SFTP channel\nSftpClient client = ssh.openSftpClient();\n//Send the file\nclient.put(filePath);\n//disconnect\nclient.quit();\nssh.disconnect();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1364,"reputation":35374,"user_id":1820,"accept_rate":94,"display_name":"Cheekysoft"},"down_vote_count":2,"up_vote_count":212,"is_accepted":true,"score":210,"last_activity_date":1219312105,"creation_date":1219139081,"answer_id":15937,"question_id":14617,"body_markdown":"Another option is to consider looking at the [JSch library][1]. JSch seems to be the preferred library for a few large open source projects, including Eclipse, Ant and Apache Commons HttpClient, amongst others.\r\n\r\nIt supports both user/pass and certificate-based logins nicely, as well as all a whole host  of other yummy SSH2 features.\r\n\r\nHere&#39;s a simple remote file retrieve over SFTP. Error handling is left as an exercise for the reader :-)\r\n\r\n    JSch jsch = new JSch();\r\n    \r\n    String knownHostsFilename = &quot;/home/username/.ssh/known_hosts&quot;;\r\n    jsch.setKnownHosts( knownHostsFilename );\r\n    \r\n    Session session = jsch.getSession( &quot;remote-username&quot;, &quot;remote-host&quot; );    \r\n    {\r\n      // &quot;interactive&quot; version\r\n      // can selectively update specified known_hosts file \r\n      // need to implement UserInfo interface\r\n      // MyUserInfo is a swing implementation provided in \r\n      //  examples/Sftp.java in the JSch dist\r\n      UserInfo ui = new MyUserInfo();\r\n      session.setUserInfo(ui);\r\n      \r\n      // OR non-interactive version. Relies in host key being in known-hosts file\r\n      session.setPassword( &quot;remote-password&quot; );\r\n    }\r\n    \r\n    session.connect();\r\n    \r\n    Channel channel = session.openChannel( &quot;sftp&quot; );\r\n    channel.connect();\r\n    \r\n    ChannelSftp sftpChannel = (ChannelSftp) channel;\r\n    \r\n    sftpChannel.get(&quot;remote-file&quot;, &quot;local-file&quot; );\r\n    // OR\r\n    InputStream in = sftpChannel.get( &quot;remote-file&quot; );\r\n      // process inputstream as needed\r\n\r\n    sftpChannel.exit();\r\n    session.disconnect();\r\n\r\n\r\n  [1]: http://www.jcraft.com/jsch/ &quot;JSch library&quot;","title":"How to retrieve a file from a server via SFTP?","body":"<p>Another option is to consider looking at the <a href=\"http://www.jcraft.com/jsch/\" rel=\"noreferrer\" title=\"JSch library\">JSch library</a>. JSch seems to be the preferred library for a few large open source projects, including Eclipse, Ant and Apache Commons HttpClient, amongst others.</p>\n\n<p>It supports both user/pass and certificate-based logins nicely, as well as all a whole host  of other yummy SSH2 features.</p>\n\n<p>Here's a simple remote file retrieve over SFTP. Error handling is left as an exercise for the reader :-)</p>\n\n<pre><code>JSch jsch = new JSch();\n\nString knownHostsFilename = \"/home/username/.ssh/known_hosts\";\njsch.setKnownHosts( knownHostsFilename );\n\nSession session = jsch.getSession( \"remote-username\", \"remote-host\" );    \n{\n  // \"interactive\" version\n  // can selectively update specified known_hosts file \n  // need to implement UserInfo interface\n  // MyUserInfo is a swing implementation provided in \n  //  examples/Sftp.java in the JSch dist\n  UserInfo ui = new MyUserInfo();\n  session.setUserInfo(ui);\n\n  // OR non-interactive version. Relies in host key being in known-hosts file\n  session.setPassword( \"remote-password\" );\n}\n\nsession.connect();\n\nChannel channel = session.openChannel( \"sftp\" );\nchannel.connect();\n\nChannelSftp sftpChannel = (ChannelSftp) channel;\n\nsftpChannel.get(\"remote-file\", \"local-file\" );\n// OR\nInputStream in = sftpChannel.get( \"remote-file\" );\n  // process inputstream as needed\n\nsftpChannel.exit();\nsession.disconnect();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1497,"reputation":10898,"user_id":1996,"accept_rate":78,"display_name":"Boris Terzic"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1219176771,"creation_date":1219176771,"answer_id":16851,"question_id":14617,"body_markdown":"A nice abstraction on top of Jsch is Apache [commons-vfs][1] which offers a virtual filesystem API that makes accessing and writing SFTP files almost transparent. Worked well for us.\r\n\r\n\r\n  [1]: http://commons.apache.org/vfs/","title":"How to retrieve a file from a server via SFTP?","body":"<p>A nice abstraction on top of Jsch is Apache <a href=\"http://commons.apache.org/vfs/\" rel=\"noreferrer\">commons-vfs</a> which offers a virtual filesystem API that makes accessing and writing SFTP files almost transparent. Worked well for us.</p>\n"},{"tags":[],"owner":{"account_id":21873,"reputation":25813,"user_id":53495,"display_name":"Brian Clapper"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1231686140,"creation_date":1231686140,"answer_id":433052,"question_id":14617,"body_markdown":"The best solution I&#39;ve found is [Paramiko][1]. There&#39;s a Java version.\r\n\r\n [1]: http://www.lag.net/paramiko/","title":"How to retrieve a file from a server via SFTP?","body":"<p>The best solution I've found is <a href=\"http://www.lag.net/paramiko/\" rel=\"nofollow noreferrer\">Paramiko</a>. There's a Java version.</p>\n"},{"tags":[],"owner":{"display_name":"JFileUpload"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1234611485,"creation_date":1234611485,"answer_id":548977,"question_id":14617,"body_markdown":"You also have JFileUpload with SFTP add-on (Java too):\r\nhttp://www.jfileupload.com/products/sftp/index.html\r\n","title":"How to retrieve a file from a server via SFTP?","body":"<p>You also have JFileUpload with SFTP add-on (Java too):\n<a href=\"http://www.jfileupload.com/products/sftp/index.html\" rel=\"nofollow noreferrer\">http://www.jfileupload.com/products/sftp/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":38091,"reputation":996,"user_id":109114,"display_name":"Bruce Blackshaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243831360,"creation_date":1243420374,"answer_id":915030,"question_id":14617,"body_markdown":"Try [edtFTPj/PRO][1], a mature, robust SFTP client library that supports connection pools and asynchronous operations. Also supports FTP and FTPS so all bases for secure file transfer are covered.\r\n\r\n\r\n  [1]: http://www.enterprisedt.com/products/edtftpjssl/overview.html","title":"How to retrieve a file from a server via SFTP?","body":"<p>Try <a href=\"http://www.enterprisedt.com/products/edtftpjssl/overview.html\" rel=\"nofollow noreferrer\">edtFTPj/PRO</a>, a mature, robust SFTP client library that supports connection pools and asynchronous operations. Also supports FTP and FTPS so all bases for secure file transfer are covered.</p>\n"},{"tags":[],"owner":{"display_name":"bigjavageek"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1245312655,"creation_date":1245312655,"answer_id":1011405,"question_id":14617,"body_markdown":"I use this SFTP API called Zehon, it&#39;s great, so easy to use with a lot of sample code. Here is the site http://www.zehon.com","title":"How to retrieve a file from a server via SFTP?","body":"<p>I use this SFTP API called Zehon, it's great, so easy to use with a lot of sample code. Here is the site <a href=\"http://www.zehon.com\" rel=\"nofollow noreferrer\">http://www.zehon.com</a></p>\n"},{"tags":[],"owner":{"account_id":43251,"reputation":2442,"user_id":126346,"accept_rate":100,"display_name":"shikhar"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1478186807,"creation_date":1268082755,"answer_id":2404783,"question_id":14617,"body_markdown":"[hierynomus/sshj][1] has a complete implementation of SFTP version 3 (what OpenSSH implements)\r\n\r\n\r\nExample code from [SFTPUpload.java][2]\r\n\r\n    package net.schmizz.sshj.examples;\r\n    \r\n    import net.schmizz.sshj.SSHClient;\r\n    import net.schmizz.sshj.sftp.SFTPClient;\r\n    import net.schmizz.sshj.xfer.FileSystemFile;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    /** This example demonstrates uploading of a file over SFTP to the SSH server. */\r\n    public class SFTPUpload {\r\n    \r\n        public static void main(String[] args)\r\n                throws IOException {\r\n            final SSHClient ssh = new SSHClient();\r\n            ssh.loadKnownHosts();\r\n            ssh.connect(&quot;localhost&quot;);\r\n            try {\r\n                ssh.authPublickey(System.getProperty(&quot;user.name&quot;));\r\n                final String src = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;test_file&quot;;\r\n                final SFTPClient sftp = ssh.newSFTPClient();\r\n                try {\r\n                    sftp.put(new FileSystemFile(src), &quot;/tmp&quot;);\r\n                } finally {\r\n                    sftp.close();\r\n                }\r\n            } finally {\r\n                ssh.disconnect();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/hierynomus/sshj\r\n  [2]: https://github.com/hierynomus/sshj/blob/master/examples/src/main/java/net/schmizz/sshj/examples/SFTPUpload.java","title":"How to retrieve a file from a server via SFTP?","body":"<p><a href=\"https://github.com/hierynomus/sshj\" rel=\"nofollow noreferrer\">hierynomus/sshj</a> has a complete implementation of SFTP version 3 (what OpenSSH implements)</p>\n\n<p>Example code from <a href=\"https://github.com/hierynomus/sshj/blob/master/examples/src/main/java/net/schmizz/sshj/examples/SFTPUpload.java\" rel=\"nofollow noreferrer\">SFTPUpload.java</a></p>\n\n<pre><code>package net.schmizz.sshj.examples;\n\nimport net.schmizz.sshj.SSHClient;\nimport net.schmizz.sshj.sftp.SFTPClient;\nimport net.schmizz.sshj.xfer.FileSystemFile;\n\nimport java.io.File;\nimport java.io.IOException;\n\n/** This example demonstrates uploading of a file over SFTP to the SSH server. */\npublic class SFTPUpload {\n\n    public static void main(String[] args)\n            throws IOException {\n        final SSHClient ssh = new SSHClient();\n        ssh.loadKnownHosts();\n        ssh.connect(\"localhost\");\n        try {\n            ssh.authPublickey(System.getProperty(\"user.name\"));\n            final String src = System.getProperty(\"user.home\") + File.separator + \"test_file\";\n            final SFTPClient sftp = ssh.newSFTPClient();\n            try {\n                sftp.put(new FileSystemFile(src), \"/tmp\");\n            } finally {\n                sftp.close();\n            }\n        } finally {\n            ssh.disconnect();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55159,"reputation":9174,"user_id":165119,"accept_rate":100,"display_name":"Chris J"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1269982003,"creation_date":1269982003,"answer_id":2548590,"question_id":14617,"body_markdown":"Below is an example using Apache Common VFS:\r\n\r\n    FileSystemOptions fsOptions = new FileSystemOptions();\r\n    SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(fsOptions, &quot;no&quot;);\r\n    FileSystemManager fsManager = VFS.getManager();\r\n    String uri = &quot;sftp://user:password@host:port/absolute-path&quot;;\r\n    FileObject fo = fsManager.resolveFile(uri, fsOptions);","title":"How to retrieve a file from a server via SFTP?","body":"<p>Below is an example using Apache Common VFS:</p>\n\n<pre><code>FileSystemOptions fsOptions = new FileSystemOptions();\nSftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(fsOptions, \"no\");\nFileSystemManager fsManager = VFS.getManager();\nString uri = \"sftp://user:password@host:port/absolute-path\";\nFileObject fo = fsManager.resolveFile(uri, fsOptions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57565,"reputation":2772,"user_id":172467,"accept_rate":88,"display_name":"Iraklis"},"down_vote_count":1,"up_vote_count":119,"is_accepted":false,"score":118,"last_activity_date":1361187616,"creation_date":1271940702,"answer_id":2690861,"question_id":14617,"body_markdown":"Here is the complete source code of an example using [JSch][1] without having to worry about the ssh key checking.\r\n\r\n    import com.jcraft.jsch.*;\r\n    \r\n    public class TestJSch {\r\n        public static void main(String args[]) {\r\n            JSch jsch = new JSch();\r\n            Session session = null;\r\n            try {\r\n                session = jsch.getSession(&quot;username&quot;, &quot;127.0.0.1&quot;, 22);\r\n                session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.setPassword(&quot;password&quot;);\r\n                session.connect();\r\n    \r\n                Channel channel = session.openChannel(&quot;sftp&quot;);\r\n                channel.connect();\r\n                ChannelSftp sftpChannel = (ChannelSftp) channel;\r\n                sftpChannel.get(&quot;remotefile.txt&quot;, &quot;localfile.txt&quot;);\r\n                sftpChannel.exit();\r\n                session.disconnect();\r\n            } catch (JSchException e) {\r\n                e.printStackTrace();  \r\n            } catch (SftpException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.jcraft.com/jsch/","title":"How to retrieve a file from a server via SFTP?","body":"<p>Here is the complete source code of an example using <a href=\"http://www.jcraft.com/jsch/\" rel=\"noreferrer\">JSch</a> without having to worry about the ssh key checking.</p>\n\n<pre><code>import com.jcraft.jsch.*;\n\npublic class TestJSch {\n    public static void main(String args[]) {\n        JSch jsch = new JSch();\n        Session session = null;\n        try {\n            session = jsch.getSession(\"username\", \"127.0.0.1\", 22);\n            session.setConfig(\"StrictHostKeyChecking\", \"no\");\n            session.setPassword(\"password\");\n            session.connect();\n\n            Channel channel = session.openChannel(\"sftp\");\n            channel.connect();\n            ChannelSftp sftpChannel = (ChannelSftp) channel;\n            sftpChannel.get(\"remotefile.txt\", \"localfile.txt\");\n            sftpChannel.exit();\n            session.disconnect();\n        } catch (JSchException e) {\n            e.printStackTrace();  \n        } catch (SftpException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283159,"reputation":29,"user_id":580515,"display_name":"Dee Kay"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1349114698,"creation_date":1295382853,"answer_id":4728735,"question_id":14617,"body_markdown":"I found complete working example for SFTP in java using JSCH API \r\n[http://kodehelp.com/java-program-for-uploading-file-to-sftp-server/][1]\r\n\r\n\r\n  [1]: http://kodehelp.com/java-program-for-uploading-file-to-sftp-server/","title":"How to retrieve a file from a server via SFTP?","body":"<p>I found complete working example for SFTP in java using JSCH API \n<a href=\"http://kodehelp.com/java-program-for-uploading-file-to-sftp-server/\" rel=\"nofollow\">http://kodehelp.com/java-program-for-uploading-file-to-sftp-server/</a></p>\n"},{"tags":[],"owner":{"account_id":222223,"reputation":172,"user_id":480686,"display_name":"Pushpinder Rattan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447320049,"creation_date":1299570845,"answer_id":5229795,"question_id":14617,"body_markdown":"Andy, to delete file on remote system you need to use `(channelExec)` of JSch and pass unix/linux commands to delete it.","title":"How to retrieve a file from a server via SFTP?","body":"<p>Andy, to delete file on remote system you need to use <code>(channelExec)</code> of JSch and pass unix/linux commands to delete it.</p>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375396122,"creation_date":1375396122,"answer_id":18005722,"question_id":14617,"body_markdown":"Though answers above were very helpful, I&#39;ve spent a day to make them work, facing various exceptions like &quot;broken channel&quot;, &quot;rsa key unknown&quot; and &quot;packet corrupt&quot;.\r\n\r\nBelow is a working reusable class for SFTP FILES UPLOAD/DOWNLOAD using JSch library.\r\n\r\nUpload usage:\r\n\r\n    SFTPFileCopy upload = new SFTPFileCopy(true, /path/to/sourcefile.png&quot;, /path/to/destinationfile.png&quot;);\r\n\r\nDownload usage:\r\n\r\n    SFTPFileCopy download = new SFTPFileCopy(false, &quot;/path/to/sourcefile.png&quot;, &quot;/path/to/destinationfile.png&quot;);\r\n\r\n\r\nThe class code:\r\n\r\n    import com.jcraft.jsch.Channel;\r\n    import com.jcraft.jsch.ChannelSftp;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Session;\r\n    import com.jcraft.jsch.UIKeyboardInteractive;\r\n    import com.jcraft.jsch.UserInfo;\r\n    import java.io.BufferedInputStream;\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import javax.swing.JOptionPane;\r\n    import menue.Menue;\r\n    \r\n    public class SFTPFileCopy1 {\r\n    \r\n        public SFTPFileCopy1(boolean upload, String sourcePath, String destPath) throws FileNotFoundException, IOException {\r\n            Session session = null;\r\n            Channel channel = null;\r\n            ChannelSftp sftpChannel = null;\r\n            try {\r\n                JSch jsch = new JSch();\r\n                //jsch.setKnownHosts(&quot;/home/user/.putty/sshhostkeys&quot;);\r\n                session = jsch.getSession(&quot;login&quot;, &quot;mysite.com&quot;, 22);\r\n                session.setPassword(&quot;password&quot;);\r\n    \r\n                UserInfo ui = new MyUserInfo() {\r\n                    public void showMessage(String message) {\r\n    \r\n                        JOptionPane.showMessageDialog(null, message);\r\n    \r\n                    }\r\n    \r\n                    public boolean promptYesNo(String message) {\r\n    \r\n                        Object[] options = {&quot;yes&quot;, &quot;no&quot;};\r\n    \r\n                        int foo = JOptionPane.showOptionDialog(null,\r\n                                message,\r\n                                &quot;Warning&quot;,\r\n                                JOptionPane.DEFAULT_OPTION,\r\n                                JOptionPane.WARNING_MESSAGE,\r\n                                null, options, options[0]);\r\n    \r\n                        return foo == 0;\r\n    \r\n                    }\r\n                };\r\n                session.setUserInfo(ui);\r\n    \r\n                session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.connect();\r\n                channel = session.openChannel(&quot;sftp&quot;);\r\n                channel.setInputStream(System.in);\r\n                channel.setOutputStream(System.out);\r\n                channel.connect();\r\n                sftpChannel = (ChannelSftp) channel;\r\n    \r\n                if (upload) { // File upload.\r\n                    byte[] bufr = new byte[(int) new File(sourcePath).length()];\r\n                    FileInputStream fis = new FileInputStream(new File(sourcePath));\r\n                    fis.read(bufr);\r\n                    ByteArrayInputStream fileStream = new ByteArrayInputStream(bufr);\r\n                    sftpChannel.put(fileStream, destPath);\r\n                    fileStream.close();\r\n                } else { // File download.\r\n                    byte[] buffer = new byte[1024];\r\n                    BufferedInputStream bis = new BufferedInputStream(sftpChannel.get(sourcePath));\r\n                    OutputStream os = new FileOutputStream(new File(destPath));\r\n                    BufferedOutputStream bos = new BufferedOutputStream(os);\r\n                    int readCount;\r\n                    while ((readCount = bis.read(buffer)) &gt; 0) {\r\n                        bos.write(buffer, 0, readCount);\r\n                    }\r\n                    bis.close();\r\n                    bos.close();\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n            } finally {\r\n                if (sftpChannel != null) {\r\n                    sftpChannel.exit();\r\n                }\r\n                if (channel != null) {\r\n                    channel.disconnect();\r\n                }\r\n                if (session != null) {\r\n                    session.disconnect();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static abstract class MyUserInfo\r\n                implements UserInfo, UIKeyboardInteractive {\r\n    \r\n            public String getPassword() {\r\n                return null;\r\n            }\r\n    \r\n            public boolean promptYesNo(String str) {\r\n                return false;\r\n            }\r\n    \r\n            public String getPassphrase() {\r\n                return null;\r\n            }\r\n    \r\n            public boolean promptPassphrase(String message) {\r\n                return false;\r\n            }\r\n    \r\n            public boolean promptPassword(String message) {\r\n                return false;\r\n            }\r\n    \r\n            public void showMessage(String message) {\r\n            }\r\n    \r\n            public String[] promptKeyboardInteractive(String destination,\r\n                    String name,\r\n                    String instruction,\r\n                    String[] prompt,\r\n                    boolean[] echo) {\r\n    \r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to retrieve a file from a server via SFTP?","body":"<p>Though answers above were very helpful, I've spent a day to make them work, facing various exceptions like \"broken channel\", \"rsa key unknown\" and \"packet corrupt\".</p>\n\n<p>Below is a working reusable class for SFTP FILES UPLOAD/DOWNLOAD using JSch library.</p>\n\n<p>Upload usage:</p>\n\n<pre><code>SFTPFileCopy upload = new SFTPFileCopy(true, /path/to/sourcefile.png\", /path/to/destinationfile.png\");\n</code></pre>\n\n<p>Download usage:</p>\n\n<pre><code>SFTPFileCopy download = new SFTPFileCopy(false, \"/path/to/sourcefile.png\", \"/path/to/destinationfile.png\");\n</code></pre>\n\n<p>The class code:</p>\n\n<pre><code>import com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.ChannelSftp;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\nimport com.jcraft.jsch.UIKeyboardInteractive;\nimport com.jcraft.jsch.UserInfo;\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.ByteArrayInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport javax.swing.JOptionPane;\nimport menue.Menue;\n\npublic class SFTPFileCopy1 {\n\n    public SFTPFileCopy1(boolean upload, String sourcePath, String destPath) throws FileNotFoundException, IOException {\n        Session session = null;\n        Channel channel = null;\n        ChannelSftp sftpChannel = null;\n        try {\n            JSch jsch = new JSch();\n            //jsch.setKnownHosts(\"/home/user/.putty/sshhostkeys\");\n            session = jsch.getSession(\"login\", \"mysite.com\", 22);\n            session.setPassword(\"password\");\n\n            UserInfo ui = new MyUserInfo() {\n                public void showMessage(String message) {\n\n                    JOptionPane.showMessageDialog(null, message);\n\n                }\n\n                public boolean promptYesNo(String message) {\n\n                    Object[] options = {\"yes\", \"no\"};\n\n                    int foo = JOptionPane.showOptionDialog(null,\n                            message,\n                            \"Warning\",\n                            JOptionPane.DEFAULT_OPTION,\n                            JOptionPane.WARNING_MESSAGE,\n                            null, options, options[0]);\n\n                    return foo == 0;\n\n                }\n            };\n            session.setUserInfo(ui);\n\n            session.setConfig(\"StrictHostKeyChecking\", \"no\");\n            session.connect();\n            channel = session.openChannel(\"sftp\");\n            channel.setInputStream(System.in);\n            channel.setOutputStream(System.out);\n            channel.connect();\n            sftpChannel = (ChannelSftp) channel;\n\n            if (upload) { // File upload.\n                byte[] bufr = new byte[(int) new File(sourcePath).length()];\n                FileInputStream fis = new FileInputStream(new File(sourcePath));\n                fis.read(bufr);\n                ByteArrayInputStream fileStream = new ByteArrayInputStream(bufr);\n                sftpChannel.put(fileStream, destPath);\n                fileStream.close();\n            } else { // File download.\n                byte[] buffer = new byte[1024];\n                BufferedInputStream bis = new BufferedInputStream(sftpChannel.get(sourcePath));\n                OutputStream os = new FileOutputStream(new File(destPath));\n                BufferedOutputStream bos = new BufferedOutputStream(os);\n                int readCount;\n                while ((readCount = bis.read(buffer)) &gt; 0) {\n                    bos.write(buffer, 0, readCount);\n                }\n                bis.close();\n                bos.close();\n            }\n        } catch (Exception e) {\n            System.out.println(e);\n        } finally {\n            if (sftpChannel != null) {\n                sftpChannel.exit();\n            }\n            if (channel != null) {\n                channel.disconnect();\n            }\n            if (session != null) {\n                session.disconnect();\n            }\n        }\n    }\n\n    public static abstract class MyUserInfo\n            implements UserInfo, UIKeyboardInteractive {\n\n        public String getPassword() {\n            return null;\n        }\n\n        public boolean promptYesNo(String str) {\n            return false;\n        }\n\n        public String getPassphrase() {\n            return null;\n        }\n\n        public boolean promptPassphrase(String message) {\n            return false;\n        }\n\n        public boolean promptPassword(String message) {\n            return false;\n        }\n\n        public void showMessage(String message) {\n        }\n\n        public String[] promptKeyboardInteractive(String destination,\n                String name,\n                String instruction,\n                String[] prompt,\n                boolean[] echo) {\n\n            return null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1657292598,"creation_date":1380009085,"answer_id":18975867,"question_id":14617,"body_markdown":"See http://www.mysamplecode.com/2013/06/sftp-apache-commons-file-download.html\r\n\r\n&gt; Apache Commons SFTP library\r\n\r\n**Common java properties file for all the examples**\r\n\r\nserverAddress=111.222.333.444\r\n\r\nuserId=myUserId\r\n\r\npassword=myPassword\r\n\r\nremoteDirectory=products/   \r\n                     \r\nlocalDirectory=import/\r\n\r\n&gt; Upload file to remote server using SFTP\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.util.Properties;\r\n     \r\n    import org.apache.commons.vfs2.FileObject;\r\n    import org.apache.commons.vfs2.FileSystemOptions;\r\n    import org.apache.commons.vfs2.Selectors;\r\n    import org.apache.commons.vfs2.impl.StandardFileSystemManager;\r\n    import org.apache.commons.vfs2.provider.sftp.SftpFileSystemConfigBuilder;\r\n     \r\n    public class SendMyFiles {\r\n     \r\n     static Properties props;\r\n     \r\n     public static void main(String[] args) {\r\n     \r\n      SendMyFiles sendMyFiles = new SendMyFiles();\r\n      if (args.length &lt; 1)\r\n      {\r\n       System.err.println(&quot;Usage: java &quot; + sendMyFiles.getClass().getName()+\r\n         &quot; Properties_file File_To_FTP &quot;);\r\n       System.exit(1);\r\n      }\r\n     \r\n      String propertiesFile = args[0].trim();\r\n      String fileToFTP = args[1].trim();\r\n      sendMyFiles.startFTP(propertiesFile, fileToFTP);\r\n     \r\n     }\r\n     \r\n     public boolean startFTP(String propertiesFilename, String fileToFTP){\r\n     \r\n      props = new Properties();\r\n      StandardFileSystemManager manager = new StandardFileSystemManager();\r\n     \r\n      try {\r\n     \r\n       props.load(new FileInputStream(&quot;properties/&quot; + propertiesFilename));\r\n       String serverAddress = props.getProperty(&quot;serverAddress&quot;).trim();\r\n       String userId = props.getProperty(&quot;userId&quot;).trim();\r\n       String password = props.getProperty(&quot;password&quot;).trim();\r\n       String remoteDirectory = props.getProperty(&quot;remoteDirectory&quot;).trim();\r\n       String localDirectory = props.getProperty(&quot;localDirectory&quot;).trim();\r\n     \r\n       //check if the file exists\r\n       String filepath = localDirectory +  fileToFTP;\r\n       File file = new File(filepath);\r\n       if (!file.exists())\r\n        throw new RuntimeException(&quot;Error. Local file not found&quot;);\r\n     \r\n       //Initializes the file manager\r\n       manager.init();\r\n        \r\n       //Setup our SFTP configuration\r\n       FileSystemOptions opts = new FileSystemOptions();\r\n       SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\r\n         opts, &quot;no&quot;);\r\n       SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\r\n       SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\r\n        \r\n       //Create the SFTP URI using the host name, userid, password,  remote path and file name\r\n       String sftpUri = &quot;sftp://&quot; + userId + &quot;:&quot; + password +  &quot;@&quot; + serverAddress + &quot;/&quot; + \r\n         remoteDirectory + fileToFTP;\r\n        \r\n       // Create local file object\r\n       FileObject localFile = manager.resolveFile(file.getAbsolutePath());\r\n     \r\n       // Create remote file object\r\n       FileObject remoteFile = manager.resolveFile(sftpUri, opts);\r\n     \r\n       // Copy local file to sftp server\r\n       remoteFile.copyFrom(localFile, Selectors.SELECT_SELF);\r\n       System.out.println(&quot;File upload successful&quot;);\r\n     \r\n      }\r\n      catch (Exception ex) {\r\n       ex.printStackTrace();\r\n       return false;\r\n      }\r\n      finally {\r\n       manager.close();\r\n      }\r\n     \r\n      return true;\r\n     }\r\n     \r\n      \r\n    }\r\n\r\n&gt; Download file from remote server using SFTP\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.util.Properties;\r\n     \r\n    import org.apache.commons.vfs2.FileObject;\r\n    import org.apache.commons.vfs2.FileSystemOptions;\r\n    import org.apache.commons.vfs2.Selectors;\r\n    import org.apache.commons.vfs2.impl.StandardFileSystemManager;\r\n    import org.apache.commons.vfs2.provider.sftp.SftpFileSystemConfigBuilder;\r\n     \r\n    public class GetMyFiles {\r\n     \r\n     static Properties props;\r\n     \r\n     public static void main(String[] args) {\r\n     \r\n      GetMyFiles getMyFiles = new GetMyFiles();\r\n      if (args.length &lt; 1)\r\n      {\r\n       System.err.println(&quot;Usage: java &quot; + getMyFiles.getClass().getName()+\r\n       &quot; Properties_filename File_To_Download &quot;);\r\n       System.exit(1);\r\n      }\r\n     \r\n      String propertiesFilename = args[0].trim();\r\n      String fileToDownload = args[1].trim();\r\n      getMyFiles.startFTP(propertiesFilename, fileToDownload);\r\n        \r\n     }\r\n     \r\n     public boolean startFTP(String propertiesFilename, String fileToDownload){\r\n     \r\n      props = new Properties();\r\n      StandardFileSystemManager manager = new StandardFileSystemManager();\r\n     \r\n      try {\r\n     \r\n       props.load(new FileInputStream(&quot;properties/&quot; + propertiesFilename));\r\n       String serverAddress = props.getProperty(&quot;serverAddress&quot;).trim();\r\n       String userId = props.getProperty(&quot;userId&quot;).trim();\r\n       String password = props.getProperty(&quot;password&quot;).trim();\r\n       String remoteDirectory = props.getProperty(&quot;remoteDirectory&quot;).trim();\r\n       String localDirectory = props.getProperty(&quot;localDirectory&quot;).trim();\r\n     \r\n        \r\n       //Initializes the file manager\r\n       manager.init();\r\n        \r\n       //Setup our SFTP configuration\r\n       FileSystemOptions opts = new FileSystemOptions();\r\n       SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\r\n         opts, &quot;no&quot;);\r\n       SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\r\n       SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\r\n        \r\n       //Create the SFTP URI using the host name, userid, password,  remote path and file name\r\n       String sftpUri = &quot;sftp://&quot; + userId + &quot;:&quot; + password +  &quot;@&quot; + serverAddress + &quot;/&quot; + \r\n         remoteDirectory + fileToDownload;\r\n        \r\n       // Create local file object\r\n       String filepath = localDirectory +  fileToDownload;\r\n       File file = new File(filepath);\r\n       FileObject localFile = manager.resolveFile(file.getAbsolutePath());\r\n     \r\n       // Create remote file object\r\n       FileObject remoteFile = manager.resolveFile(sftpUri, opts);\r\n     \r\n       // Copy local file to sftp server\r\n       localFile.copyFrom(remoteFile, Selectors.SELECT_SELF);\r\n       System.out.println(&quot;File download successful&quot;);\r\n     \r\n      }\r\n      catch (Exception ex) {\r\n       ex.printStackTrace();\r\n       return false;\r\n      }\r\n      finally {\r\n       manager.close();\r\n      }\r\n     \r\n      return true;\r\n     }\r\n     \r\n    }\r\n\r\n&gt; Delete a file on remote server using SFTP\r\n\r\n    import java.io.FileInputStream;\r\n    import java.util.Properties;\r\n     \r\n    import org.apache.commons.vfs2.FileObject;\r\n    import org.apache.commons.vfs2.FileSystemOptions;\r\n    import org.apache.commons.vfs2.impl.StandardFileSystemManager;\r\n    import org.apache.commons.vfs2.provider.sftp.SftpFileSystemConfigBuilder;\r\n     \r\n    public class DeleteRemoteFile {\r\n     \r\n     static Properties props;\r\n     \r\n     public static void main(String[] args) {\r\n     \r\n      DeleteRemoteFile getMyFiles = new DeleteRemoteFile();\r\n      if (args.length &lt; 1)\r\n      {\r\n       System.err.println(&quot;Usage: java &quot; + getMyFiles.getClass().getName()+\r\n       &quot; Properties_filename File_To_Delete &quot;);\r\n       System.exit(1);\r\n      }\r\n     \r\n      String propertiesFilename = args[0].trim();\r\n      String fileToDownload = args[1].trim();\r\n      getMyFiles.startFTP(propertiesFilename, fileToDownload);\r\n        \r\n     }\r\n     \r\n     public boolean startFTP(String propertiesFilename, String fileToDownload){\r\n     \r\n      props = new Properties();\r\n      StandardFileSystemManager manager = new StandardFileSystemManager();\r\n     \r\n      try {\r\n     \r\n       props.load(new FileInputStream(&quot;properties/&quot; + propertiesFilename));\r\n       String serverAddress = props.getProperty(&quot;serverAddress&quot;).trim();\r\n       String userId = props.getProperty(&quot;userId&quot;).trim();\r\n       String password = props.getProperty(&quot;password&quot;).trim();\r\n       String remoteDirectory = props.getProperty(&quot;remoteDirectory&quot;).trim();\r\n        \r\n        \r\n       //Initializes the file manager\r\n       manager.init();\r\n        \r\n       //Setup our SFTP configuration\r\n       FileSystemOptions opts = new FileSystemOptions();\r\n       SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\r\n         opts, &quot;no&quot;);\r\n       SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\r\n       SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\r\n        \r\n       //Create the SFTP URI using the host name, userid, password,  remote path and file name\r\n       String sftpUri = &quot;sftp://&quot; + userId + &quot;:&quot; + password +  &quot;@&quot; + serverAddress + &quot;/&quot; + \r\n         remoteDirectory + fileToDownload;\r\n        \r\n       //Create remote file object\r\n       FileObject remoteFile = manager.resolveFile(sftpUri, opts);\r\n     \r\n       //Check if the file exists\r\n       if(remoteFile.exists()){\r\n        remoteFile.delete();\r\n        System.out.println(&quot;File delete successful&quot;);\r\n       }\r\n       \r\n      }\r\n      catch (Exception ex) {\r\n       ex.printStackTrace();\r\n       return false;\r\n      }\r\n      finally {\r\n       manager.close();\r\n      }\r\n     \r\n      return true;\r\n     }\r\n     \r\n    }","title":"How to retrieve a file from a server via SFTP?","body":"<p>See <a href=\"http://www.mysamplecode.com/2013/06/sftp-apache-commons-file-download.html\" rel=\"nofollow noreferrer\">http://www.mysamplecode.com/2013/06/sftp-apache-commons-file-download.html</a></p>\n<blockquote>\n<p>Apache Commons SFTP library</p>\n</blockquote>\n<p><strong>Common java properties file for all the examples</strong></p>\n<p>serverAddress=111.222.333.444</p>\n<p>userId=myUserId</p>\n<p>password=myPassword</p>\n<p>remoteDirectory=products/</p>\n<p>localDirectory=import/</p>\n<blockquote>\n<p>Upload file to remote server using SFTP</p>\n</blockquote>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.util.Properties;\n \nimport org.apache.commons.vfs2.FileObject;\nimport org.apache.commons.vfs2.FileSystemOptions;\nimport org.apache.commons.vfs2.Selectors;\nimport org.apache.commons.vfs2.impl.StandardFileSystemManager;\nimport org.apache.commons.vfs2.provider.sftp.SftpFileSystemConfigBuilder;\n \npublic class SendMyFiles {\n \n static Properties props;\n \n public static void main(String[] args) {\n \n  SendMyFiles sendMyFiles = new SendMyFiles();\n  if (args.length &lt; 1)\n  {\n   System.err.println(&quot;Usage: java &quot; + sendMyFiles.getClass().getName()+\n     &quot; Properties_file File_To_FTP &quot;);\n   System.exit(1);\n  }\n \n  String propertiesFile = args[0].trim();\n  String fileToFTP = args[1].trim();\n  sendMyFiles.startFTP(propertiesFile, fileToFTP);\n \n }\n \n public boolean startFTP(String propertiesFilename, String fileToFTP){\n \n  props = new Properties();\n  StandardFileSystemManager manager = new StandardFileSystemManager();\n \n  try {\n \n   props.load(new FileInputStream(&quot;properties/&quot; + propertiesFilename));\n   String serverAddress = props.getProperty(&quot;serverAddress&quot;).trim();\n   String userId = props.getProperty(&quot;userId&quot;).trim();\n   String password = props.getProperty(&quot;password&quot;).trim();\n   String remoteDirectory = props.getProperty(&quot;remoteDirectory&quot;).trim();\n   String localDirectory = props.getProperty(&quot;localDirectory&quot;).trim();\n \n   //check if the file exists\n   String filepath = localDirectory +  fileToFTP;\n   File file = new File(filepath);\n   if (!file.exists())\n    throw new RuntimeException(&quot;Error. Local file not found&quot;);\n \n   //Initializes the file manager\n   manager.init();\n    \n   //Setup our SFTP configuration\n   FileSystemOptions opts = new FileSystemOptions();\n   SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\n     opts, &quot;no&quot;);\n   SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\n   SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\n    \n   //Create the SFTP URI using the host name, userid, password,  remote path and file name\n   String sftpUri = &quot;sftp://&quot; + userId + &quot;:&quot; + password +  &quot;@&quot; + serverAddress + &quot;/&quot; + \n     remoteDirectory + fileToFTP;\n    \n   // Create local file object\n   FileObject localFile = manager.resolveFile(file.getAbsolutePath());\n \n   // Create remote file object\n   FileObject remoteFile = manager.resolveFile(sftpUri, opts);\n \n   // Copy local file to sftp server\n   remoteFile.copyFrom(localFile, Selectors.SELECT_SELF);\n   System.out.println(&quot;File upload successful&quot;);\n \n  }\n  catch (Exception ex) {\n   ex.printStackTrace();\n   return false;\n  }\n  finally {\n   manager.close();\n  }\n \n  return true;\n }\n \n  \n}\n</code></pre>\n<blockquote>\n<p>Download file from remote server using SFTP</p>\n</blockquote>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.util.Properties;\n \nimport org.apache.commons.vfs2.FileObject;\nimport org.apache.commons.vfs2.FileSystemOptions;\nimport org.apache.commons.vfs2.Selectors;\nimport org.apache.commons.vfs2.impl.StandardFileSystemManager;\nimport org.apache.commons.vfs2.provider.sftp.SftpFileSystemConfigBuilder;\n \npublic class GetMyFiles {\n \n static Properties props;\n \n public static void main(String[] args) {\n \n  GetMyFiles getMyFiles = new GetMyFiles();\n  if (args.length &lt; 1)\n  {\n   System.err.println(&quot;Usage: java &quot; + getMyFiles.getClass().getName()+\n   &quot; Properties_filename File_To_Download &quot;);\n   System.exit(1);\n  }\n \n  String propertiesFilename = args[0].trim();\n  String fileToDownload = args[1].trim();\n  getMyFiles.startFTP(propertiesFilename, fileToDownload);\n    \n }\n \n public boolean startFTP(String propertiesFilename, String fileToDownload){\n \n  props = new Properties();\n  StandardFileSystemManager manager = new StandardFileSystemManager();\n \n  try {\n \n   props.load(new FileInputStream(&quot;properties/&quot; + propertiesFilename));\n   String serverAddress = props.getProperty(&quot;serverAddress&quot;).trim();\n   String userId = props.getProperty(&quot;userId&quot;).trim();\n   String password = props.getProperty(&quot;password&quot;).trim();\n   String remoteDirectory = props.getProperty(&quot;remoteDirectory&quot;).trim();\n   String localDirectory = props.getProperty(&quot;localDirectory&quot;).trim();\n \n    \n   //Initializes the file manager\n   manager.init();\n    \n   //Setup our SFTP configuration\n   FileSystemOptions opts = new FileSystemOptions();\n   SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\n     opts, &quot;no&quot;);\n   SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\n   SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\n    \n   //Create the SFTP URI using the host name, userid, password,  remote path and file name\n   String sftpUri = &quot;sftp://&quot; + userId + &quot;:&quot; + password +  &quot;@&quot; + serverAddress + &quot;/&quot; + \n     remoteDirectory + fileToDownload;\n    \n   // Create local file object\n   String filepath = localDirectory +  fileToDownload;\n   File file = new File(filepath);\n   FileObject localFile = manager.resolveFile(file.getAbsolutePath());\n \n   // Create remote file object\n   FileObject remoteFile = manager.resolveFile(sftpUri, opts);\n \n   // Copy local file to sftp server\n   localFile.copyFrom(remoteFile, Selectors.SELECT_SELF);\n   System.out.println(&quot;File download successful&quot;);\n \n  }\n  catch (Exception ex) {\n   ex.printStackTrace();\n   return false;\n  }\n  finally {\n   manager.close();\n  }\n \n  return true;\n }\n \n}\n</code></pre>\n<blockquote>\n<p>Delete a file on remote server using SFTP</p>\n</blockquote>\n<pre><code>import java.io.FileInputStream;\nimport java.util.Properties;\n \nimport org.apache.commons.vfs2.FileObject;\nimport org.apache.commons.vfs2.FileSystemOptions;\nimport org.apache.commons.vfs2.impl.StandardFileSystemManager;\nimport org.apache.commons.vfs2.provider.sftp.SftpFileSystemConfigBuilder;\n \npublic class DeleteRemoteFile {\n \n static Properties props;\n \n public static void main(String[] args) {\n \n  DeleteRemoteFile getMyFiles = new DeleteRemoteFile();\n  if (args.length &lt; 1)\n  {\n   System.err.println(&quot;Usage: java &quot; + getMyFiles.getClass().getName()+\n   &quot; Properties_filename File_To_Delete &quot;);\n   System.exit(1);\n  }\n \n  String propertiesFilename = args[0].trim();\n  String fileToDownload = args[1].trim();\n  getMyFiles.startFTP(propertiesFilename, fileToDownload);\n    \n }\n \n public boolean startFTP(String propertiesFilename, String fileToDownload){\n \n  props = new Properties();\n  StandardFileSystemManager manager = new StandardFileSystemManager();\n \n  try {\n \n   props.load(new FileInputStream(&quot;properties/&quot; + propertiesFilename));\n   String serverAddress = props.getProperty(&quot;serverAddress&quot;).trim();\n   String userId = props.getProperty(&quot;userId&quot;).trim();\n   String password = props.getProperty(&quot;password&quot;).trim();\n   String remoteDirectory = props.getProperty(&quot;remoteDirectory&quot;).trim();\n    \n    \n   //Initializes the file manager\n   manager.init();\n    \n   //Setup our SFTP configuration\n   FileSystemOptions opts = new FileSystemOptions();\n   SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\n     opts, &quot;no&quot;);\n   SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\n   SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\n    \n   //Create the SFTP URI using the host name, userid, password,  remote path and file name\n   String sftpUri = &quot;sftp://&quot; + userId + &quot;:&quot; + password +  &quot;@&quot; + serverAddress + &quot;/&quot; + \n     remoteDirectory + fileToDownload;\n    \n   //Create remote file object\n   FileObject remoteFile = manager.resolveFile(sftpUri, opts);\n \n   //Check if the file exists\n   if(remoteFile.exists()){\n    remoteFile.delete();\n    System.out.println(&quot;File delete successful&quot;);\n   }\n   \n  }\n  catch (Exception ex) {\n   ex.printStackTrace();\n   return false;\n  }\n  finally {\n   manager.close();\n  }\n \n  return true;\n }\n \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32863,"reputation":1413,"user_id":91495,"accept_rate":75,"display_name":"Sasha"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1459951304,"creation_date":1459849944,"answer_id":36422906,"question_id":14617,"body_markdown":"There is a nice comparison of the 3 mature Java libraries for SFTP: [Commons VFS, SSHJ and JSch][1] \r\n\r\nTo sum up SSHJ has the clearest API and it&#39;s the best out of them if you don&#39;t need other storages support provided by Commons VFS.\r\n\r\nHere is edited SSHJ example from [github][2]:\r\n\r\n    final SSHClient ssh = new SSHClient();\r\n    ssh.loadKnownHosts(); // or, to skip host verification: ssh.addHostKeyVerifier(new PromiscuousVerifier())\r\n    ssh.connect(&quot;localhost&quot;);\r\n    try {\r\n        ssh.authPassword(&quot;user&quot;, &quot;password&quot;); // or ssh.authPublickey(System.getProperty(&quot;user.name&quot;))\r\n        final SFTPClient sftp = ssh.newSFTPClient();\r\n        try {\r\n            sftp.get(&quot;test_file&quot;, &quot;/tmp/test.tmp&quot;);\r\n        } finally {\r\n            sftp.close();\r\n        }\r\n    } finally {\r\n        ssh.disconnect();\r\n    }\r\n\r\n  [1]: https://www.javacodegeeks.com/2015/08/commons-vfs-sshj-and-jsch-in-comparison.html\r\n  [2]: https://github.com/hierynomus/sshj/blob/master/examples/src/main/java/net/schmizz/sshj/examples/SFTPDownload.java\r\n","title":"How to retrieve a file from a server via SFTP?","body":"<p>There is a nice comparison of the 3 mature Java libraries for SFTP: <a href=\"https://www.javacodegeeks.com/2015/08/commons-vfs-sshj-and-jsch-in-comparison.html\" rel=\"noreferrer\">Commons VFS, SSHJ and JSch</a> </p>\n\n<p>To sum up SSHJ has the clearest API and it's the best out of them if you don't need other storages support provided by Commons VFS.</p>\n\n<p>Here is edited SSHJ example from <a href=\"https://github.com/hierynomus/sshj/blob/master/examples/src/main/java/net/schmizz/sshj/examples/SFTPDownload.java\" rel=\"noreferrer\">github</a>:</p>\n\n<pre><code>final SSHClient ssh = new SSHClient();\nssh.loadKnownHosts(); // or, to skip host verification: ssh.addHostKeyVerifier(new PromiscuousVerifier())\nssh.connect(\"localhost\");\ntry {\n    ssh.authPassword(\"user\", \"password\"); // or ssh.authPublickey(System.getProperty(\"user.name\"))\n    final SFTPClient sftp = ssh.newSFTPClient();\n    try {\n        sftp.get(\"test_file\", \"/tmp/test.tmp\");\n    } finally {\n        sftp.close();\n    }\n} finally {\n    ssh.disconnect();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":321896,"reputation":963,"user_id":641001,"accept_rate":0,"display_name":"Ankur jain"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1507103959,"creation_date":1507103959,"answer_id":46559783,"question_id":14617,"body_markdown":"JSch library is the powerful library that can be used to read file from SFTP server. Below is the tested code to read file from SFTP location line by line\r\n\r\n    JSch jsch = new JSch();\r\n            Session session = null;\r\n            try {\r\n                session = jsch.getSession(&quot;user&quot;, &quot;127.0.0.1&quot;, 22);\r\n                session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.setPassword(&quot;password&quot;);\r\n                session.connect();\r\n    \r\n                Channel channel = session.openChannel(&quot;sftp&quot;);\r\n                channel.connect();\r\n                ChannelSftp sftpChannel = (ChannelSftp) channel;\r\n    \r\n                InputStream stream = sftpChannel.get(&quot;/usr/home/testfile.txt&quot;);\r\n                try {\r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(stream));\r\n                    String line;\r\n                    while ((line = br.readLine()) != null) {\r\n                        System.out.println(line);\r\n                    }\r\n    \r\n                } catch (IOException io) {\r\n                    System.out.println(&quot;Exception occurred during reading file from SFTP server due to &quot; + io.getMessage());\r\n                    io.getMessage();\r\n    \r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Exception occurred during reading file from SFTP server due to &quot; + e.getMessage());\r\n                    e.getMessage();\r\n    \r\n                }\r\n    \r\n                sftpChannel.exit();\r\n                session.disconnect();\r\n            } catch (JSchException e) {\r\n                e.printStackTrace();\r\n            } catch (SftpException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nPlease refer the [blog][1] for whole program.\r\n\r\n\r\n  [1]: https://ankurjain26.blogspot.in/2017/09/reading-file-from-remote-server-using.html","title":"How to retrieve a file from a server via SFTP?","body":"<p>JSch library is the powerful library that can be used to read file from SFTP server. Below is the tested code to read file from SFTP location line by line</p>\n\n<pre><code>JSch jsch = new JSch();\n        Session session = null;\n        try {\n            session = jsch.getSession(\"user\", \"127.0.0.1\", 22);\n            session.setConfig(\"StrictHostKeyChecking\", \"no\");\n            session.setPassword(\"password\");\n            session.connect();\n\n            Channel channel = session.openChannel(\"sftp\");\n            channel.connect();\n            ChannelSftp sftpChannel = (ChannelSftp) channel;\n\n            InputStream stream = sftpChannel.get(\"/usr/home/testfile.txt\");\n            try {\n                BufferedReader br = new BufferedReader(new InputStreamReader(stream));\n                String line;\n                while ((line = br.readLine()) != null) {\n                    System.out.println(line);\n                }\n\n            } catch (IOException io) {\n                System.out.println(\"Exception occurred during reading file from SFTP server due to \" + io.getMessage());\n                io.getMessage();\n\n            } catch (Exception e) {\n                System.out.println(\"Exception occurred during reading file from SFTP server due to \" + e.getMessage());\n                e.getMessage();\n\n            }\n\n            sftpChannel.exit();\n            session.disconnect();\n        } catch (JSchException e) {\n            e.printStackTrace();\n        } catch (SftpException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>Please refer the <a href=\"https://ankurjain26.blogspot.in/2017/09/reading-file-from-remote-server-using.html\" rel=\"noreferrer\">blog</a> for whole program.</p>\n"}],"owner":{"account_id":1328,"reputation":7402,"user_id":1769,"accept_rate":83,"display_name":"David Hayes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439017,"favorite_count":0,"down_vote_count":3,"up_vote_count":244,"accepted_answer_id":15937,"answer_count":16,"score":241,"last_activity_date":1657292598,"creation_date":1219067028,"question_id":14617,"body_markdown":"I&#39;m trying to retrieve a file from a server using SFTP (as opposed to FTPS) using Java. How can I do this?","title":"How to retrieve a file from a server via SFTP?","body":"<p>I'm trying to retrieve a file from a server using SFTP (as opposed to FTPS) using Java. How can I do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":4,"creation_date":1657291128,"post_id":72912970,"comment_id":128782752,"body_markdown":"The sum in the brackets `(byteValue + shortValue + intValue)` is evaluated first, meaning this already overflows the `int`. Only afterwards is the result cast to `long` implicitly.","body":"The sum in the brackets <code>(byteValue + shortValue + intValue)</code> is evaluated first, meaning this already overflows the <code>int</code>. Only afterwards is the result cast to <code>long</code> implicitly."},{"owner":{"account_id":16240002,"reputation":29,"user_id":11726591,"display_name":"Marco.py"},"score":0,"creation_date":1657291197,"post_id":72912970,"comment_id":128782776,"body_markdown":"oh i see, how can i convert the inside parenthesis into a long? I already tried casting it to a long.","body":"oh i see, how can i convert the inside parenthesis into a long? I already tried casting it to a long."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1657291299,"post_id":72912970,"comment_id":128782805,"body_markdown":"Explicitly cast one of the sums values inside of the brackets to `long`, to make the result of the addition a `long`.","body":"Explicitly cast one of the sums values inside of the brackets to <code>long</code>, to make the result of the addition a <code>long</code>."}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657292375,"creation_date":1657291185,"answer_id":72913078,"question_id":72912970,"body_markdown":"You are adding (byte) 127 + (short) 32767 + (int) 2147483647 first. The result is implicitly interpreted as an int by Java. So naturally this does not fit. Then afterwards you do the Long multiplication and addition but by that time the result has already overflowed the int boundary so has become some negative value.\r\n\r\nYou could do this:\r\n\r\n    long longTotal = 0;\r\n    longTotal += byteValue;\r\n    longTotal += shortValue;\r\n    longTotal += intValue;\r\n    longTotal *= 10;\r\n    longTotal += 50000;\r\n\r\n@maloomeister suggests this more concise approach:\r\n\r\n    long longTotal = (50000 + 10 * ((long) byteValue + shortValue + intValue));\r\n\r\nSo here one (doesn&#39;t matter which) of the arguments of the addition is explicitly cast to long. This triggers Java to interpret the result as a long rather than an int.","title":"Long overflow Even Though It doesn&#39;t pass the limit","body":"<p>You are adding (byte) 127 + (short) 32767 + (int) 2147483647 first. The result is implicitly interpreted as an int by Java. So naturally this does not fit. Then afterwards you do the Long multiplication and addition but by that time the result has already overflowed the int boundary so has become some negative value.</p>\n<p>You could do this:</p>\n<pre><code>long longTotal = 0;\nlongTotal += byteValue;\nlongTotal += shortValue;\nlongTotal += intValue;\nlongTotal *= 10;\nlongTotal += 50000;\n</code></pre>\n<p>@maloomeister suggests this more concise approach:</p>\n<pre><code>long longTotal = (50000 + 10 * ((long) byteValue + shortValue + intValue));\n</code></pre>\n<p>So here one (doesn't matter which) of the arguments of the addition is explicitly cast to long. This triggers Java to interpret the result as a long rather than an int.</p>\n"}],"owner":{"account_id":16240002,"reputation":29,"user_id":11726591,"display_name":"Marco.py"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72913078,"answer_count":1,"score":-3,"last_activity_date":1657292375,"creation_date":1657290762,"question_id":72912970,"body_markdown":"I have this code where I set the byte, short, and int to their max values, and then multiplied their sum by 10 and added 50000. I calculated on my calculator that this should be allowed, because the result is less than the maximum of longs, but its giving me a weird output.\r\n\r\n```package academy.learnprogramming;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        byte byteValue = 127;\r\n        short shortValue = 32767;\r\n        int intValue = 2147483647;\r\n\r\n        long longTotal = (50000L + 10L * (byteValue + shortValue + intValue));\r\n        System.out.println(longTotal);\r\n    }\r\n}\r\n```\r\nOutput : ```-21474457550```\r\nExpected output : ```2.14 * 10^10```\r\n\r\n","title":"Long overflow Even Though It doesn&#39;t pass the limit","body":"<p>I have this code where I set the byte, short, and int to their max values, and then multiplied their sum by 10 and added 50000. I calculated on my calculator that this should be allowed, because the result is less than the maximum of longs, but its giving me a weird output.</p>\n<pre><code>\npublic class Main {\n    public static void main(String[] args) {\n        byte byteValue = 127;\n        short shortValue = 32767;\n        int intValue = 2147483647;\n\n        long longTotal = (50000L + 10L * (byteValue + shortValue + intValue));\n        System.out.println(longTotal);\n    }\n}\n</code></pre>\n<p>Output : <code>-21474457550</code>\nExpected output : <code>2.14 * 10^10</code></p>\n"},{"tags":["java","loops","methods","product"],"answers":[{"tags":[],"owner":{"account_id":9437851,"reputation":157,"user_id":7019324,"display_name":"Stijn Dejongh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605867458,"creation_date":1583601654,"answer_id":60580244,"question_id":60580038,"body_markdown":"After looking through your code, your issue seems to be in this expression:\r\n`current % 10`.\r\nThe modulo operation gives you the remainder of a division by ten.\r\nIn the case of your input 120, the result of that operation would be 0.\r\n\r\nFollowing the rest of your application logic, your iteration variable will be set to zero, ending your loop immediately.\r\n\r\nI will not give you copy-paste code to fix this problem, as it seems like a programming course assignment. I will however help you solve it.\r\n\r\nMy suggested fix is to change your approach to this problem and not try to solve this the mathematical way, but rather in a way that takes advantage of the Java programing language.\r\nYou could change your input from an Integer to a String.\r\nIn which case, you can use String.length() to ensure your requirement is fulfilled when exiting the loop.\r\nIn your loop, you split the String into substrings of length 1. Afterwards, you just multiply these.\r\n\r\nWhen the loop exits (because String length is no longer greater than 1) you will have your intended result.\r\n\r\nGood luck!\r\n","title":"Multiplying digits of a number until you reach a one digit number","body":"<p>After looking through your code, your issue seems to be in this expression:\n<code>current % 10</code>.\nThe modulo operation gives you the remainder of a division by ten.\nIn the case of your input 120, the result of that operation would be 0.</p>\n<p>Following the rest of your application logic, your iteration variable will be set to zero, ending your loop immediately.</p>\n<p>I will not give you copy-paste code to fix this problem, as it seems like a programming course assignment. I will however help you solve it.</p>\n<p>My suggested fix is to change your approach to this problem and not try to solve this the mathematical way, but rather in a way that takes advantage of the Java programing language.\nYou could change your input from an Integer to a String.\nIn which case, you can use String.length() to ensure your requirement is fulfilled when exiting the loop.\nIn your loop, you split the String into substrings of length 1. Afterwards, you just multiply these.</p>\n<p>When the loop exits (because String length is no longer greater than 1) you will have your intended result.</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":3786795,"reputation":2802,"user_id":3144500,"accept_rate":100,"display_name":"solid.py"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583611688,"creation_date":1583601899,"answer_id":60580297,"question_id":60580038,"body_markdown":"I think you are looking something like the code below:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static int numberOfProducts(String number) {\r\n            int product = 1;\r\n            do {\r\n                for (int i = 0; i &lt; number.length(); ++i){\r\n                    // This line converts the every digit of the number string to an integer.\r\n                    product *= number.charAt(i) - &#39;0&#39;;\r\n                }\r\n                // Remove this line, if you don&#39;t want to print the product of each iteration.\r\n                System.out.println(number);\r\n                // Update number with the new product.\r\n                // This line converts the int product to a new string.\r\n                number = &quot;&quot; + product;\r\n            } while (product &gt; 10);\r\n            return product;\r\n        }\r\n        public static void main(String[] args) {\r\n            System.out.print(&quot;Please input the number: &quot;);\r\n            Scanner keyboard = new Scanner(System.in);\r\n            int a = keyboard.nextInt();\r\n            // Treat number as a string for easier indexing.\r\n            String number = &quot;&quot; + a;\r\n            System.out.println(numberOfProducts(number));\r\n        }\r\n    }\r\n\r\nWhen the above code runs, with `546` as input, it outputs:\r\n\r\n    Please input the number: 546\r\n    546\r\n    120\r\n    0\r\n\r\n","title":"Multiplying digits of a number until you reach a one digit number","body":"<p>I think you are looking something like the code below:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static int numberOfProducts(String number) {\n        int product = 1;\n        do {\n            for (int i = 0; i &lt; number.length(); ++i){\n                // This line converts the every digit of the number string to an integer.\n                product *= number.charAt(i) - '0';\n            }\n            // Remove this line, if you don't want to print the product of each iteration.\n            System.out.println(number);\n            // Update number with the new product.\n            // This line converts the int product to a new string.\n            number = \"\" + product;\n        } while (product &gt; 10);\n        return product;\n    }\n    public static void main(String[] args) {\n        System.out.print(\"Please input the number: \");\n        Scanner keyboard = new Scanner(System.in);\n        int a = keyboard.nextInt();\n        // Treat number as a string for easier indexing.\n        String number = \"\" + a;\n        System.out.println(numberOfProducts(number));\n    }\n}\n</code></pre>\n\n<p>When the above code runs, with <code>546</code> as input, it outputs:</p>\n\n<pre><code>Please input the number: 546\n546\n120\n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17911774,"reputation":1,"user_id":13013726,"display_name":"Jaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605867492,"creation_date":1583602171,"answer_id":60580336,"question_id":60580038,"body_markdown":"    import java.util.*;\r\n    public class Product {\r\n        public static void main(String[] args) {\r\n            Scanner keyboard = new Scanner(System.in);\r\n            int a = keyboard.nextInt();\r\n            System.out.println(&quot;Please input the number&quot;);\r\n            numberOfProducts(a);\r\n        }\r\n          public static void numberOfProducts(int n){\r\n            int product = 1; \r\n      \r\n            while (n != 0)   { \r\n            product = product * (n % 10); \r\n            n = n / 10; \r\n            } \r\n        \r\n            if(product &gt; 10) {\r\n                System.out.println(&quot;Intermediate result=&quot;+product);\r\n                numberOfProducts(product);\r\n            }\r\n            else\r\n                System.out.println(&quot;Final 1 digit product=&quot;+product);\r\n    \r\n        }\r\n    }","title":"Multiplying digits of a number until you reach a one digit number","body":"<pre><code>import java.util.*;\npublic class Product {\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        int a = keyboard.nextInt();\n        System.out.println(&quot;Please input the number&quot;);\n        numberOfProducts(a);\n    }\n      public static void numberOfProducts(int n){\n        int product = 1; \n  \n        while (n != 0)   { \n        product = product * (n % 10); \n        n = n / 10; \n        } \n    \n        if(product &gt; 10) {\n            System.out.println(&quot;Intermediate result=&quot;+product);\n            numberOfProducts(product);\n        }\n        else\n            System.out.println(&quot;Final 1 digit product=&quot;+product);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583610886,"creation_date":1583610115,"answer_id":60581557,"question_id":60580038,"body_markdown":"For a different take on the solution you can use a `recursive lambda`\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.function.IntFunction;\r\n\r\npublic class Product {\r\n\t// this simply reduces the number to the product of its digits.\r\n    static IntFunction&lt;Integer&gt; prod =\r\n\t\t\t(a) -&gt; a &lt; 10 ? a : a % 10 * Product.prod.apply(a / 10);\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Please input the number&quot;);\r\n\t\tint n = keyboard.nextInt();\r\n\t\t\r\n        // Now continue applying the lambda until the result is &lt; 10.\r\n\t\twhile (n &gt; 10) {\r\n\t\t\tn = prod.apply(n);\r\n\t\t}\r\n\t\tSystem.out.println(n);\r\n\t}\r\n}","title":"Multiplying digits of a number until you reach a one digit number","body":"<p>For a different take on the solution you can use a <code>recursive lambda</code></p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.function.IntFunction;\n\npublic class Product {\n    // this simply reduces the number to the product of its digits.\n    static IntFunction&lt;Integer&gt; prod =\n            (a) -&gt; a &lt; 10 ? a : a % 10 * Product.prod.apply(a / 10);\n\n    public static void main(String[] args) {\n\n        Scanner keyboard = new Scanner(System.in);\n        System.out.print(\"Please input the number\");\n        int n = keyboard.nextInt();\n\n        // Now continue applying the lambda until the result is &lt; 10.\n        while (n &gt; 10) {\n            n = prod.apply(n);\n        }\n        System.out.println(n);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14627402,"reputation":11,"user_id":10564346,"display_name":"PeterKrcmar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605871100,"creation_date":1605871100,"answer_id":64928530,"question_id":60580038,"body_markdown":"Actually your code is very close to being correct, the only thing you&#39;re doing wrong is that you are not resetting the `product` variable between iterations. You simply need to move the `int product = 1;` instruction inside the outer `while` loop.\r\n\r\nAlso, if you want a single digit at the end, your condition should be `while(n &gt;= 10)` or `while(n &gt; 9)`, since 10 is still 2 digits, so we need one more iteration !\r\n\r\nFinal remark: sometimes it&#39;s easier to break your code into smaller pieces. It is easier to understand and easier to test/debug ! For example you could have first created a function `productOfDigits(n)` that returns the result of a single iteration, and then another function `productOfDigitsUntilSingleDigit(n)` that repeatedly calls the previous function.","title":"Multiplying digits of a number until you reach a one digit number","body":"<p>Actually your code is very close to being correct, the only thing you're doing wrong is that you are not resetting the <code>product</code> variable between iterations. You simply need to move the <code>int product = 1;</code> instruction inside the outer <code>while</code> loop.</p>\n<p>Also, if you want a single digit at the end, your condition should be <code>while(n &gt;= 10)</code> or <code>while(n &gt; 9)</code>, since 10 is still 2 digits, so we need one more iteration !</p>\n<p>Final remark: sometimes it's easier to break your code into smaller pieces. It is easier to understand and easier to test/debug ! For example you could have first created a function <code>productOfDigits(n)</code> that returns the result of a single iteration, and then another function <code>productOfDigitsUntilSingleDigit(n)</code> that repeatedly calls the previous function.</p>\n"},{"tags":[],"owner":{"account_id":5920934,"reputation":1,"user_id":4658297,"display_name":"Sashikiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657292251,"creation_date":1657292251,"answer_id":72913304,"question_id":60580038,"body_markdown":"        function getProductUntilSingleDigit(n) {\r\n      let product = 1;\r\n      while (n &gt; 0 || product &gt; 9) {\r\n        if (n == 0) {\r\n          n = product;\r\n          product = 1;\r\n        }\r\n        product = product * (n % 10);\r\n        n = Math.floor(n / 10);\r\n      }\r\n      return product;\r\n    }\r\n    \r\n    console.log(getProductUntilSingleDigit(546));","title":"Multiplying digits of a number until you reach a one digit number","body":"<pre><code>    function getProductUntilSingleDigit(n) {\n  let product = 1;\n  while (n &gt; 0 || product &gt; 9) {\n    if (n == 0) {\n      n = product;\n      product = 1;\n    }\n    product = product * (n % 10);\n    n = Math.floor(n / 10);\n  }\n  return product;\n}\n\nconsole.log(getProductUntilSingleDigit(546));\n</code></pre>\n"}],"owner":{"account_id":17900992,"reputation":495,"user_id":13005243,"display_name":"Elen Mouradian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1657292251,"creation_date":1583600380,"question_id":60580038,"body_markdown":"Assume, you input the number 546, then you should find the product of its digits, which is 5*4*6=120, then multiply the digits of 120 until and so on, continue until you get a one digit number.\r\nHere&#39;s the code I wrote, but the loop doesn&#39;t work correctly and I&#39;ve tried to fix it, but nothing changed. Could you please help me?\r\n```\r\nimport java.util.*;\r\npublic class Product {\r\n    public static void main(String[] args) {\r\n        Scanner keyboard = new Scanner(System.in);\r\n        int a = keyboard.nextInt();\r\n        System.out.println(&quot;Please input the number&quot;);\r\n        numberOfProducts(a);\r\n\r\n\r\n    }\r\n    public static void numberOfProducts(int n){\r\n        int product = 1;\r\n        while(n&gt;10) {\r\n            int current = n;\r\n            while (current != 0) {\r\n                product = product * (current % 10);\r\n                current = current / 10;\r\n                n = product;\r\n                System.out.println(product);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n","title":"Multiplying digits of a number until you reach a one digit number","body":"<p>Assume, you input the number 546, then you should find the product of its digits, which is 5<em>4</em>6=120, then multiply the digits of 120 until and so on, continue until you get a one digit number.\nHere's the code I wrote, but the loop doesn't work correctly and I've tried to fix it, but nothing changed. Could you please help me?</p>\n<pre><code>import java.util.*;\npublic class Product {\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        int a = keyboard.nextInt();\n        System.out.println(&quot;Please input the number&quot;);\n        numberOfProducts(a);\n\n\n    }\n    public static void numberOfProducts(int n){\n        int product = 1;\n        while(n&gt;10) {\n            int current = n;\n            while (current != 0) {\n                product = product * (current % 10);\n                current = current / 10;\n                n = product;\n                System.out.println(product);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","rate-limiting"],"answers":[{"tags":[],"owner":{"account_id":147773,"reputation":9594,"user_id":359120,"accept_rate":82,"display_name":"Salil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657241080,"creation_date":1657241080,"answer_id":72905577,"question_id":72900881,"body_markdown":"\r\nIn `TokenBucketRateLimiterImpl` your `sleep` should be:\r\n\r\n    TimeUnit.SECONDS.sleep(rateLimitWindow);\r\n\r\nAnd not:\r\n\r\n    TimeUnit.SECONDS.sleep(rateLimitWindow * 1000);\r\n\r\nOtherwise your token rate limiter will refill after 1000 seconds, instead of 1 second.","title":"Java TokenBucket RateLimiter not generating Tokens","body":"<p>In <code>TokenBucketRateLimiterImpl</code> your <code>sleep</code> should be:</p>\n<pre><code>TimeUnit.SECONDS.sleep(rateLimitWindow);\n</code></pre>\n<p>And not:</p>\n<pre><code>TimeUnit.SECONDS.sleep(rateLimitWindow * 1000);\n</code></pre>\n<p>Otherwise your token rate limiter will refill after 1000 seconds, instead of 1 second.</p>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657291600,"creation_date":1657209307,"question_id":72900881,"body_markdown":"I have implemented token bucket rate limiter as below with max 10 requests allowed in 1 second per user. Initially token bucket will be filled with 10 tokens per user if all of the 10 tokens are used by the same user in 1 second of time user is rate limited as expected however if the user tries to make the request again after 1 second delay am seeing the user is rate limited again because `refillBucket()` is not refilling the tokens with 1 second delay as configured in the `Thread` can someone please help me fixing this bug?\r\n\r\n\r\n\t","title":"Java TokenBucket RateLimiter not generating Tokens","body":"<p>I have implemented token bucket rate limiter as below with max 10 requests allowed in 1 second per user. Initially token bucket will be filled with 10 tokens per user if all of the 10 tokens are used by the same user in 1 second of time user is rate limited as expected however if the user tries to make the request again after 1 second delay am seeing the user is rate limited again because <code>refillBucket()</code> is not refilling the tokens with 1 second delay as configured in the <code>Thread</code> can someone please help me fixing this bug?</p>\n"},{"tags":["java","keycloak","registration"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657395444,"post_id":72903336,"comment_id":128801987,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":22100829,"reputation":1647,"user_id":16357334,"display_name":"sventorben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657291015,"creation_date":1657291015,"answer_id":72913036,"question_id":72903336,"body_markdown":"You may want to lookup the federated identities of the registered users. Something like this should work: \r\n\r\n```java\r\nRealmModel realm = session.realms().getRealm(event.getRealmId());\r\nUserModel user = session.users().getUserById(realm, event.getUserId());\r\nsession.users().getFederatedIdentitiesStream(realm, user)\r\n```","title":"Getting IdentityProvider from REGISTRATION event Keycloak","body":"<p>You may want to lookup the federated identities of the registered users. Something like this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RealmModel realm = session.realms().getRealm(event.getRealmId());\nUserModel user = session.users().getUserById(realm, event.getUserId());\nsession.users().getFederatedIdentitiesStream(realm, user)\n</code></pre>\n"}],"owner":{"account_id":25753437,"reputation":3,"user_id":19505581,"display_name":"lonelycode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72913036,"answer_count":1,"score":0,"last_activity_date":1657291015,"creation_date":1657222541,"question_id":72903336,"body_markdown":"I want to subscribe users to advert after they register on my app via identity provider (Facebook, Google etc.). I want to subscribe them only once - when they register on my app. \r\n\r\nAlso, I have in my code event listener, that catches some types of events - such as REGISTRATION event (the logic is provided like in the example here https://keycloak.discourse.group/t/keycloak-register-event/6864/2 ).\r\n\r\nSo, **I&#39;m looking the way to extract information of IdentityProvider when recieving REGISTRATION event to filter users** that needed to get advert flag automatically, is there any way to get it?","title":"Getting IdentityProvider from REGISTRATION event Keycloak","body":"<p>I want to subscribe users to advert after they register on my app via identity provider (Facebook, Google etc.). I want to subscribe them only once - when they register on my app.</p>\n<p>Also, I have in my code event listener, that catches some types of events - such as REGISTRATION event (the logic is provided like in the example here <a href=\"https://keycloak.discourse.group/t/keycloak-register-event/6864/2\" rel=\"nofollow noreferrer\">https://keycloak.discourse.group/t/keycloak-register-event/6864/2</a> ).</p>\n<p>So, <strong>I'm looking the way to extract information of IdentityProvider when recieving REGISTRATION event to filter users</strong> that needed to get advert flag automatically, is there any way to get it?</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":2,"creation_date":1657284206,"post_id":72911409,"comment_id":128780132,"body_markdown":"What you have there is O(n^2), not O(n*log(n)).","body":"What you have there is O(n^2), not O(n*log(n))."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1657286574,"post_id":72911409,"comment_id":128781054,"body_markdown":"So you need to two elements of the array that adds up to the target number? Any pair of number will do? Are there any other restrictions in your assignment apart from the time complexity **O(n*log(n))**?","body":"So you need to two elements of the array that adds up to the target number? Any pair of number will do? Are there any other restrictions in your assignment apart from the time complexity <b>O(n*log(n))</b>?"},{"owner":{"account_id":25759159,"reputation":21,"user_id":19510373,"display_name":"Marko Rabrenovic"},"score":0,"creation_date":1657290331,"post_id":72911409,"comment_id":128782453,"body_markdown":"Any pair, no restrictions, the only condition is to keep O(n*log(n))","body":"Any pair, no restrictions, the only condition is to keep O(n*log(n))"}],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657283854,"creation_date":1657283854,"answer_id":72911549,"question_id":72911409,"body_markdown":"1. sort array (O(nlogn))\r\n2. for each element:\r\n\r\n     2.1 binary search to find other element that adds up to the given number (or to figure out there is none)   (O(logn))\r\n     \r\nStep 2 has complexity O(nlogn), and so the whole algorithm has O(nlogn)\r\n","title":"Find Two elements in the Array that add up to the Target number in O(n * log n) Time","body":"<ol>\n<li><p>sort array (O(nlogn))</p>\n</li>\n<li><p>for each element:</p>\n<p>2.1 binary search to find other element that adds up to the given number (or to figure out there is none)   (O(logn))</p>\n</li>\n</ol>\n<p>Step 2 has complexity O(nlogn), and so the whole algorithm has O(nlogn)</p>\n"}],"owner":{"account_id":25759159,"reputation":21,"user_id":19510373,"display_name":"Marko Rabrenovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72911549,"answer_count":1,"score":1,"last_activity_date":1657290473,"creation_date":1657283203,"question_id":72911409,"body_markdown":"I have a problem with **O(n * log(n))** searching algorithm.\r\n\r\nI have to find two numbers from an array that add up to the given number.\r\n\r\nI know how **O(n * log(n))** works, but I&#39;m not sure if those two correct numbers will meet in search if I do it like this:\r\n\r\n    for (int i = 0; i &lt; n; i++)\r\n        for (int j = 1; j &lt;= n; j = j*2)\r\n\r\nIs there a way to keep **O(n * log(n))** complexity so that every two numbers meet in the search?","title":"Find Two elements in the Array that add up to the Target number in O(n * log n) Time","body":"<p>I have a problem with <strong>O(n * log(n))</strong> searching algorithm.</p>\n<p>I have to find two numbers from an array that add up to the given number.</p>\n<p>I know how <strong>O(n * log(n))</strong> works, but I'm not sure if those two correct numbers will meet in search if I do it like this:</p>\n<pre><code>for (int i = 0; i &lt; n; i++)\n    for (int j = 1; j &lt;= n; j = j*2)\n</code></pre>\n<p>Is there a way to keep <strong>O(n * log(n))</strong> complexity so that every two numbers meet in the search?</p>\n"},{"tags":["java","spring","spring-boot","amazon-kinesis","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":10536374,"reputation":312,"user_id":7764132,"display_name":"Lucian Radu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657290300,"creation_date":1657290300,"answer_id":72912885,"question_id":72886342,"body_markdown":"Managed to figure this out, just in case someone else needs this:\r\nIn order to get the list of defined streams, you will need a `KinesisExtendedBindingProperties` object to extract the bindings defined under `spring.cloud.stream.bindings` from your application.properties file. \r\n&lt;br&gt;\r\nAfter that, just iterate over the Map returned by `kinesisExtendedBindingProperties.getBindings()` and use a `BindingServiceProperties` object to extract the binding attributes (`destination` in our case which represents the stream name).\r\n```\r\n        List&lt;String&gt; destinationStreams = new ArrayList&lt;&gt;();\r\n\r\n        kinesisExtendedBindingProperties.getBindings().forEach((k, v) -&gt; {\r\n            Optional&lt;BindingProperties&gt; streamNameForBinding = Optional.ofNullable(bindingServiceProperties.getBindings().get(k));\r\n            streamNameForBinding.ifPresent(bindingProperties -&gt; destinationStreams.add(bindingProperties.getDestination()));\r\n        });\r\n```","title":"SpringBoot actuator/health/ to reflect Kinesis streams not present","body":"<p>Managed to figure this out, just in case someone else needs this:\nIn order to get the list of defined streams, you will need a <code>KinesisExtendedBindingProperties</code> object to extract the bindings defined under <code>spring.cloud.stream.bindings</code> from your application.properties file.\n<br>\nAfter that, just iterate over the Map returned by <code>kinesisExtendedBindingProperties.getBindings()</code> and use a <code>BindingServiceProperties</code> object to extract the binding attributes (<code>destination</code> in our case which represents the stream name).</p>\n<pre><code>        List&lt;String&gt; destinationStreams = new ArrayList&lt;&gt;();\n\n        kinesisExtendedBindingProperties.getBindings().forEach((k, v) -&gt; {\n            Optional&lt;BindingProperties&gt; streamNameForBinding = Optional.ofNullable(bindingServiceProperties.getBindings().get(k));\n            streamNameForBinding.ifPresent(bindingProperties -&gt; destinationStreams.add(bindingProperties.getDestination()));\n        });\n</code></pre>\n"}],"owner":{"account_id":10536374,"reputation":312,"user_id":7764132,"display_name":"Lucian Radu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657290300,"creation_date":1657121709,"question_id":72886342,"body_markdown":"I am trying to build a custom `KinesisBinderHealthIndicator` for a SpringBoot application. \r\n&lt;br&gt;\r\nMy custom implementation should reveal a health `DOWN` status under `/actuator/health` endpoint when the actual list of Kinesis streams present into AWS is not matching the streams stated in application.properties file as destination for `spring.cloud.stream.bindings` (ex: when a stream has been deleted or has not been automatically created into Kinesis)\r\n&lt;br&gt;\r\napplication.properties:\r\n```\r\nspring.cloud.stream.bindings.my-first-stream-in-0.destination=my-first-stream\r\nspring.cloud.stream.bindings.my-second-stream-in-0.destination=my-second-stream\r\n```\r\n\r\naws kinesis list-streams:\r\n```\r\naws --endpoint-url=http://localhost:4566 kinesis list-streams\r\n{\r\n    &quot;StreamNames&quot;: [\r\n        &quot;my-first-stream&quot;,\r\n    ]\r\n}\r\n```\r\n\r\n\r\nI know how to overwrite the default `KinesisBinderHealthIndicator` implementation and how to get the actual list of available Kinesis streams:\r\n```\r\n@Primary\r\n@Component(&quot;kinesisBinderHealthIndicator&quot;)\r\n@ComponentScan(basePackages = &quot;org.springframework.cloud.stream.binder.kinesis&quot;)\r\n@RequiredArgsConstructor\r\npublic class CustomKinesisBinderHealthIndicator implements HealthIndicator {\r\n\r\n    private final KinesisMessageChannelBinder kinesisMessageChannelBinder;\r\n    private final KinesisExtendedBindingProperties kinesisExtendedBindingProperties;\r\n\r\n    @Override\r\n    public Health health() {\r\n        try {\r\n            List&lt;String&gt; actualKinesisStreams = new ArrayList&lt;&gt;(this.kinesisMessageChannelBinder.getStreamsInUse());\r\n\r\n            //code to retrieve list of kinesis streams from destination bindings\r\n        } catch (Exception e) {\r\n            return Health.down(e)).build();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nCould you please let me know any hint regarding the streams list retrieval from spring cloud stream binding destination?\r\n\r\nMany thanks!","title":"SpringBoot actuator/health/ to reflect Kinesis streams not present","body":"<p>I am trying to build a custom <code>KinesisBinderHealthIndicator</code> for a SpringBoot application.\n<br>\nMy custom implementation should reveal a health <code>DOWN</code> status under <code>/actuator/health</code> endpoint when the actual list of Kinesis streams present into AWS is not matching the streams stated in application.properties file as destination for <code>spring.cloud.stream.bindings</code> (ex: when a stream has been deleted or has not been automatically created into Kinesis)\n<br>\napplication.properties:</p>\n<pre><code>spring.cloud.stream.bindings.my-first-stream-in-0.destination=my-first-stream\nspring.cloud.stream.bindings.my-second-stream-in-0.destination=my-second-stream\n</code></pre>\n<p>aws kinesis list-streams:</p>\n<pre><code>aws --endpoint-url=http://localhost:4566 kinesis list-streams\n{\n    &quot;StreamNames&quot;: [\n        &quot;my-first-stream&quot;,\n    ]\n}\n</code></pre>\n<p>I know how to overwrite the default <code>KinesisBinderHealthIndicator</code> implementation and how to get the actual list of available Kinesis streams:</p>\n<pre><code>@Primary\n@Component(&quot;kinesisBinderHealthIndicator&quot;)\n@ComponentScan(basePackages = &quot;org.springframework.cloud.stream.binder.kinesis&quot;)\n@RequiredArgsConstructor\npublic class CustomKinesisBinderHealthIndicator implements HealthIndicator {\n\n    private final KinesisMessageChannelBinder kinesisMessageChannelBinder;\n    private final KinesisExtendedBindingProperties kinesisExtendedBindingProperties;\n\n    @Override\n    public Health health() {\n        try {\n            List&lt;String&gt; actualKinesisStreams = new ArrayList&lt;&gt;(this.kinesisMessageChannelBinder.getStreamsInUse());\n\n            //code to retrieve list of kinesis streams from destination bindings\n        } catch (Exception e) {\n            return Health.down(e)).build();\n        }\n    }\n}\n\n</code></pre>\n<p>Could you please let me know any hint regarding the streams list retrieval from spring cloud stream binding destination?</p>\n<p>Many thanks!</p>\n"},{"tags":["java","spring","spring-boot","swagger","springfox"],"comments":[{"owner":{"account_id":10229,"reputation":5427,"user_id":19219,"display_name":"Dilip Krishnan"},"score":0,"creation_date":1497927333,"post_id":44636575,"comment_id":76271704,"body_markdown":"What do you get when you navigate to `http://localhost:8014/swagger-resources`?","body":"What do you get when you navigate to <code>http:&#47;&#47;localhost:8014&#47;swagger-resources</code>?"},{"owner":{"account_id":90106,"reputation":1691,"user_id":248183,"accept_rate":72,"display_name":"Roman"},"score":0,"creation_date":1517927666,"post_id":44636575,"comment_id":84287781,"body_markdown":"I cannot see the output because the image link is broken, but did you find a solution? Because I have tried the same, with every microservice in a possible different host and port, and my output is: Failed to load API definition.\nundefined http://localhost:8070/apihttp://localhost:8081/api","body":"I cannot see the output because the image link is broken, but did you find a solution? Because I have tried the same, with every microservice in a possible different host and port, and my output is: Failed to load API definition. undefined <a href=\"http://localhost:8070/apihttp://localhost:8081/api\" rel=\"nofollow noreferrer\">localhost:8070/apihttp://localhost:8081/api</a>"},{"owner":{"account_id":7496240,"reputation":395,"user_id":5696407,"display_name":"mike"},"score":0,"creation_date":1518447058,"post_id":44636575,"comment_id":84498310,"body_markdown":"Yes I did find solution. But all the services should be on same host and different ports.","body":"Yes I did find solution. But all the services should be on same host and different ports."},{"owner":{"account_id":2332664,"reputation":550,"user_id":2045648,"display_name":"Akash Chandwani"},"score":0,"creation_date":1552672130,"post_id":44636575,"comment_id":97114408,"body_markdown":"Hey mike, Could you please share your approach?","body":"Hey mike, Could you please share your approach?"}],"answers":[{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560951201,"creation_date":1555337921,"answer_id":55691227,"question_id":44636575,"body_markdown":"I think there is a CORS ERROR. Please specify the CORS origin header for all of your Swagger documentation services.\r\n\r\n**For Better Approach:**\r\nInstead of specifying micro-services URL explicitly. Register all services to Service register and get all your instance details from it. This is the better approach for centralised swagger.\r\n\r\nFor Reference:\r\n[Centralized Swagger Documentation][1]\r\n\r\n\r\n  [1]: https://github.com/GnanaJeyam/microservice-patterns/tree/master/centralized-swagger-docs","title":"swagger consolidation for multiple microservices","body":"<p>I think there is a CORS ERROR. Please specify the CORS origin header for all of your Swagger documentation services.</p>\n\n<p><strong>For Better Approach:</strong>\nInstead of specifying micro-services URL explicitly. Register all services to Service register and get all your instance details from it. This is the better approach for centralised swagger.</p>\n\n<p>For Reference:\n<a href=\"https://github.com/GnanaJeyam/microservice-patterns/tree/master/centralized-swagger-docs\" rel=\"nofollow noreferrer\">Centralized Swagger Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657289497,"creation_date":1586777283,"answer_id":61186885,"question_id":44636575,"body_markdown":"try this: https://dev.to/eon/how-to-consolidate-api-documentation-in-a-spring-boot-microservices-environment-dgd I was trying to solve this problem earlier, and ended up producing this tool, which is sadly unavailable as open source.","title":"swagger consolidation for multiple microservices","body":"<p>try this: <a href=\"https://dev.to/eon/how-to-consolidate-api-documentation-in-a-spring-boot-microservices-environment-dgd\" rel=\"nofollow noreferrer\">https://dev.to/eon/how-to-consolidate-api-documentation-in-a-spring-boot-microservices-environment-dgd</a> I was trying to solve this problem earlier, and ended up producing this tool, which is sadly unavailable as open source.</p>\n"}],"owner":{"account_id":7496240,"reputation":395,"user_id":5696407,"display_name":"mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15694,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1657289497,"creation_date":1497893331,"question_id":44636575,"body_markdown":"I have multiple microservices, for which swagger has already been implemented. I would like to bring all the api&#39;s under single swagger UI. I&#39;ve followed the following link for doing this. but tried it in maven approach in STS.\r\n[Swagger Consilidation Github example][1]\r\n\r\nHere are my different files in the project,\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan\r\n    @EnableAutoConfiguration\r\n    @EnableSwagger2\r\n    public class SgtestApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SgtestApplication.class, args);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n        public Docket api() {\r\n        \treturn new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo()).select() \r\n        \t          .apis(Predicates.not(RequestHandlerSelectors.basePackage(&quot;org.springframework.boot&quot;)))\r\n        \t          .apis(Predicates.not(RequestHandlerSelectors.basePackage(&quot;org.springframework.cloud&quot;)))\r\n        \t          .apis(Predicates.not(RequestHandlerSelectors.basePackage(&quot;org.springframework.security&quot;)))\r\n        \t             .build();\r\n        }\r\n    \t\r\n    \tprivate ApiInfo apiInfo() {\r\n            return new ApiInfoBuilder()\r\n                    .title(&quot;Single swagger&quot;)\r\n                    .description(&quot;API to retrieve swagger apis&quot;)\r\n                    .version(&quot;1.0.0&quot;)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nMy resource provider is as follows,\r\n\r\n    @Component\r\n    @Primary\r\n    @EnableAutoConfiguration\r\n    public class GatewaySwaggerResourceProvider implements SwaggerResourcesProvider {\r\n    \r\n    \t@Autowired\r\n    \tprivate SwaggerServicesConfig swaggerServiceList;\r\n    \r\n    \tpublic GatewaySwaggerResourceProvider() {\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic List&lt;SwaggerResource&gt; get() {\r\n    \t\tList&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tList&lt;SwaggerServices&gt; servList=swaggerServiceList.getServiceList();\r\n    \t\tfor (SwaggerServices swaggerServices : servList) {\r\n    \t\t\tresources.add(swaggerResource(swaggerServices.getName(), swaggerServices.getUrl(),swaggerServices.getVersion()));\r\n    \t\t}\r\n    \t\t/*swaggerServiceList.getServiceList().forEach(service -&gt; {\r\n    \t\t\tresources.add(swaggerResource(service.getName(), service.getUrl(), service.getVersion()));\r\n    \t\t});*/\r\n    \t\treturn resources;\r\n    \t}\r\n    \r\n    \tprivate SwaggerResource swaggerResource(String name, String location, String version) {\r\n    \t\tSwaggerResource swaggerResource = new SwaggerResource();\r\n    \t\tswaggerResource.setName(name);\r\n    \t\tswaggerResource.setLocation(location);\r\n    \t\tswaggerResource.setSwaggerVersion(version);\r\n    \t\treturn swaggerResource;\r\n    \t}\r\n    }\r\n\r\nand finally my service configuration,\r\n\r\n    @Component\r\n    @EnableAutoConfiguration\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(prefix = &quot;documentation.swagger&quot;)\r\n    public class SwaggerServicesConfig {\r\n    \t\r\n    \tList&lt;SwaggerServices&gt; swagger;\r\n    \r\n    \tpublic List&lt;SwaggerServices&gt; getServiceList() {\r\n    \t\treturn swagger;\r\n    \t}\r\n    \r\n    \tpublic void setServiceList(List&lt;SwaggerServices&gt; swaggerResources) {\r\n    \t\tthis.swagger = swaggerResources;\r\n    \t}\r\n    \r\n    \t@EnableConfigurationProperties\r\n    \t@ConfigurationProperties(prefix = &quot;documentation.swagger.services&quot;)\r\n    \tpublic static class SwaggerServices {\r\n    \t\tprivate String name;\r\n    \t\tprivate String url;\r\n    \t\tprivate String version;\r\n    \r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getUrl() {\r\n    \t\t\treturn url;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setUrl(String url) {\r\n    \t\t\tthis.url = url;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getVersion() {\r\n    \t\t\treturn version;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setVersion(String version) {\r\n    \t\t\tthis.version = version;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;SwaggerServices [name=&quot; + name + &quot;, url=&quot; + url + &quot;, version=&quot; + version + &quot;]&quot;;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nin my application.yml i am specifying the api docs endpoint of different microservices. \r\n\r\n    spring:\r\n      profiles: default\r\n    \r\n    server:\r\n      port: 8014\r\n    \r\n      \r\n    documentation:\r\n      swagger:\r\n        service-list:\r\n        - name: local-swagger\r\n          url: http://localhost:8085/v2/api-docs\r\n          version: 1.0\r\n\r\nand my output is as follows,[![output][2]][2]\r\n\r\ncould someone help me out by what am i exactly doing wrong here? i am able to get swager ui but it is not showng any list of api&#39;s in that. I am new to swagger, so please kindly review my program.\r\n \r\n\r\n\r\n  [1]: https://github.com/varghgeorge/microservices-single-swagger\r\n  [2]: https://i.stack.imgur.com/fzOFI.png","title":"swagger consolidation for multiple microservices","body":"<p>I have multiple microservices, for which swagger has already been implemented. I would like to bring all the api's under single swagger UI. I've followed the following link for doing this. but tried it in maven approach in STS.\n<a href=\"https://github.com/varghgeorge/microservices-single-swagger\" rel=\"noreferrer\">Swagger Consilidation Github example</a></p>\n\n<p>Here are my different files in the project,</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan\n@EnableAutoConfiguration\n@EnableSwagger2\npublic class SgtestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SgtestApplication.class, args);\n    }\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo()).select() \n                  .apis(Predicates.not(RequestHandlerSelectors.basePackage(\"org.springframework.boot\")))\n                  .apis(Predicates.not(RequestHandlerSelectors.basePackage(\"org.springframework.cloud\")))\n                  .apis(Predicates.not(RequestHandlerSelectors.basePackage(\"org.springframework.security\")))\n                     .build();\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder()\n                .title(\"Single swagger\")\n                .description(\"API to retrieve swagger apis\")\n                .version(\"1.0.0\")\n                .build();\n    }\n}\n</code></pre>\n\n<p>My resource provider is as follows,</p>\n\n<pre><code>@Component\n@Primary\n@EnableAutoConfiguration\npublic class GatewaySwaggerResourceProvider implements SwaggerResourcesProvider {\n\n    @Autowired\n    private SwaggerServicesConfig swaggerServiceList;\n\n    public GatewaySwaggerResourceProvider() {\n    }\n\n    @Override\n    public List&lt;SwaggerResource&gt; get() {\n        List&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;();\n\n        List&lt;SwaggerServices&gt; servList=swaggerServiceList.getServiceList();\n        for (SwaggerServices swaggerServices : servList) {\n            resources.add(swaggerResource(swaggerServices.getName(), swaggerServices.getUrl(),swaggerServices.getVersion()));\n        }\n        /*swaggerServiceList.getServiceList().forEach(service -&gt; {\n            resources.add(swaggerResource(service.getName(), service.getUrl(), service.getVersion()));\n        });*/\n        return resources;\n    }\n\n    private SwaggerResource swaggerResource(String name, String location, String version) {\n        SwaggerResource swaggerResource = new SwaggerResource();\n        swaggerResource.setName(name);\n        swaggerResource.setLocation(location);\n        swaggerResource.setSwaggerVersion(version);\n        return swaggerResource;\n    }\n}\n</code></pre>\n\n<p>and finally my service configuration,</p>\n\n<pre><code>@Component\n@EnableAutoConfiguration\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = \"documentation.swagger\")\npublic class SwaggerServicesConfig {\n\n    List&lt;SwaggerServices&gt; swagger;\n\n    public List&lt;SwaggerServices&gt; getServiceList() {\n        return swagger;\n    }\n\n    public void setServiceList(List&lt;SwaggerServices&gt; swaggerResources) {\n        this.swagger = swaggerResources;\n    }\n\n    @EnableConfigurationProperties\n    @ConfigurationProperties(prefix = \"documentation.swagger.services\")\n    public static class SwaggerServices {\n        private String name;\n        private String url;\n        private String version;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public String getUrl() {\n            return url;\n        }\n\n        public void setUrl(String url) {\n            this.url = url;\n        }\n\n        public String getVersion() {\n            return version;\n        }\n\n        public void setVersion(String version) {\n            this.version = version;\n        }\n\n        @Override\n        public String toString() {\n            return \"SwaggerServices [name=\" + name + \", url=\" + url + \", version=\" + version + \"]\";\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>in my application.yml i am specifying the api docs endpoint of different microservices. </p>\n\n<pre><code>spring:\n  profiles: default\n\nserver:\n  port: 8014\n\n\ndocumentation:\n  swagger:\n    service-list:\n    - name: local-swagger\n      url: http://localhost:8085/v2/api-docs\n      version: 1.0\n</code></pre>\n\n<p>and my output is as follows,<a href=\"https://i.stack.imgur.com/fzOFI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fzOFI.png\" alt=\"output\"></a></p>\n\n<p>could someone help me out by what am i exactly doing wrong here? i am able to get swager ui but it is not showng any list of api's in that. I am new to swagger, so please kindly review my program.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1656728781,"post_id":72836038,"comment_id":128649356,"body_markdown":"What is the problem with the code you shared. Specifically: if you step through it line by line in a debugger and check each variable on each line, what is the first line where you don&#39;t get the value that you expect?","body":"What is the problem with the code you shared. Specifically: if you step through it line by line in a debugger and check each variable on each line, what is the first line where you don&#39;t get the value that you expect?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656731157,"post_id":72836038,"comment_id":128649600,"body_markdown":"It really isn&#39;t clear what you&#39;re asking, but.. you mentioned something vaguely about wanting to sort something, there&#39;s an `ArrayList` called &quot;mUsers&quot;, so I&#39;m making a leap that you want to sort &quot;mUsers&quot;. If that&#39;s the case, take a look at: [Sorting arraylist in alphabetical order (case insensitive)](https://stackoverflow.com/questions/5815423/sorting-arraylist-in-alphabetical-order-case-insensitive) (or a number of other posts relating to sorting an `ArrayList` using a custom comparator).","body":"It really isn&#39;t clear what you&#39;re asking, but.. you mentioned something vaguely about wanting to sort something, there&#39;s an <code>ArrayList</code> called &quot;mUsers&quot;, so I&#39;m making a leap that you want to sort &quot;mUsers&quot;. If that&#39;s the case, take a look at: <a href=\"https://stackoverflow.com/questions/5815423/sorting-arraylist-in-alphabetical-order-case-insensitive\">Sorting arraylist in alphabetical order (case insensitive)</a> (or a number of other posts relating to sorting an <code>ArrayList</code> using a custom comparator)."},{"owner":{"account_id":22550058,"reputation":19,"user_id":16739283,"display_name":"Mr Tony"},"score":0,"creation_date":1656735642,"post_id":72836038,"comment_id":128650009,"body_markdown":"I try using the suggestion from you but it can&#39;t solve my issue.","body":"I try using the suggestion from you but it can&#39;t solve my issue."}],"answers":[{"tags":[],"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657008223,"creation_date":1656744270,"answer_id":72837014,"question_id":72836038,"body_markdown":"Try this\r\n\r\n    FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).orderByChild(&quot;username&quot;);\r\n\r\n[Learn more here][1]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/android/lists-of-data","title":"sorting user list to alphabetical order in android studio","body":"<p>Try this</p>\n<pre><code>FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).orderByChild(&quot;username&quot;);\n</code></pre>\n<p><a href=\"https://firebase.google.com/docs/database/android/lists-of-data\" rel=\"nofollow noreferrer\">Learn more here</a></p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657121413,"creation_date":1657121413,"answer_id":72886266,"question_id":72836038,"body_markdown":"You&#39;re getting the following error:\r\n\r\n&gt; java.lang.ClassCastException: com.google.firebase.database.Query cannot be cast to com.google.firebase.database.DatabaseReference\r\n\r\nBecause of the following line of code:\r\n\r\n    reference = (DatabaseReference) FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(fuser.getUid()).orderByChild(&quot;username&quot;);\r\n\r\nAnd this is because you are trying to cast an object of type [Query][1] to an object of type [DatabaseReference][2], which is actually not possible in Java. The inheritance relationship is as follows, DatabaseReference extends Query and not the opposite.\r\n\r\nTo solve the problem, you should remove the cast to DatabaseReference and set the type of the object to be Query:\r\n\r\n    Query query =  FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(fuser.getUid()).orderByChild(&quot;username&quot;);\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference","title":"sorting user list to alphabetical order in android studio","body":"<p>You're getting the following error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: com.google.firebase.database.Query cannot be cast to com.google.firebase.database.DatabaseReference</p>\n</blockquote>\n<p>Because of the following line of code:</p>\n<pre><code>reference = (DatabaseReference) FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(fuser.getUid()).orderByChild(&quot;username&quot;);\n</code></pre>\n<p>And this is because you are trying to cast an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query\" rel=\"nofollow noreferrer\">Query</a> to an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference\" rel=\"nofollow noreferrer\">DatabaseReference</a>, which is actually not possible in Java. The inheritance relationship is as follows, DatabaseReference extends Query and not the opposite.</p>\n<p>To solve the problem, you should remove the cast to DatabaseReference and set the type of the object to be Query:</p>\n<pre><code>Query query =  FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(fuser.getUid()).orderByChild(&quot;username&quot;);\n</code></pre>\n"}],"owner":{"account_id":22550058,"reputation":19,"user_id":16739283,"display_name":"Mr Tony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657289400,"creation_date":1656728449,"question_id":72836038,"body_markdown":"I am making a chat application and want to arrange user in users list from firebaseStore in alphabetical order. if new users register with the application, these users will be added to the list automatically and arrange in alphabetical order ( like A to B to C, ..).  I try to search the answer but I don&#39;t find the solution to my issue. Can anyone help me with how to solve it?\r\n\r\nHere is my java code in Userfragment.java:\r\n\r\n \r\n\r\n    recyclerView = view.findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n        mUsers = new ArrayList&lt;&gt;();\r\n\r\n \r\n\r\n        imageProfile = view.findViewById(R.id.profile_image);\r\n        username = view.findViewById(R.id.username);\r\n\r\n        storageReference = FirebaseStorage.getInstance().getReference(&quot;uploads&quot;);\r\n\r\n        fuser = FirebaseAuth.getInstance().getCurrentUser();\r\n       \r\n        Query query = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(fuser.getUid()).orderByChild(&quot;username&quot;);\r\n\r\n\r\n        Collections.sort(mUsers, new Comparator&lt;User&gt;() {\r\n            @Override\r\n            public int compare(User lhs, User rhs) {\r\n                return lhs.getUsername().compareTo(rhs.getUsername());\r\n            }\r\n        });\r\n\r\n        query.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                if (isAdded()) {\r\n\r\n                    User user = dataSnapshot.getValue(User.class);\r\n                    username.setText(user.getUsername());\r\n                    if (user.getImageUrl().equals(&quot;default&quot;)) {\r\n                        imageProfile.setImageResource(R.mipmap.ic_launcher);\r\n                    } else {\r\n                        Glide.with(getContext()).load(user.getImageUrl()).into(imageProfile);\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n[![export Json file][1]][1]\r\n\r\nbelow is some users in realtime database which I want to arrange:\r\n\r\n&gt; Users\t\r\n7HMH8nj6AshgYtvD2IMT9a7y2273\t\r\nid\t&quot;7HMH8nj6AshgYtvD2IMT9a7y2273&quot;\r\nimageUrl\t&quot;default&quot;\r\nsearch\t&quot;tony&quot;\r\nstatus\t&quot;online&quot;\r\nusername\t&quot;Tony&quot;\r\nAY3gY1eQE1fWJiNUsxxRqpXHBFf2\t\r\nid\t&quot;AY3gY1eQE1fWJiNUsxxRqpXHBFf2&quot;\r\nimageUrl\t&quot;default&quot;\r\nsearch\t&quot;hola&quot;\r\nstatus\t&quot;offline&quot;\r\nusername\t&quot;hola&quot;\r\nO6gRe8muq4TGDjQsYkn9Cdpufdy1\t\r\nid\t&quot;O6gRe8muq4TGDjQsYkn9Cdpufdy1&quot;\r\nimageUrl\t&quot;default&quot;\r\nsearch\t&quot;chon&quot;\r\nstatus\t&quot;offline&quot;\r\nusername\t&quot;chon&quot;\r\nSGQwWbIZ2vhkPcKqjMuejusKRY13\t\r\nid\t&quot;SGQwWbIZ2vhkPcKqjMuejusKRY13&quot;\r\nimageUrl\t&quot;default&quot;\r\nsearch\t&quot;miko&quot;\r\nstatus\t&quot;offline&quot;\r\nusername\t&quot;miko&quot;\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xVErA.png","title":"sorting user list to alphabetical order in android studio","body":"<p>I am making a chat application and want to arrange user in users list from firebaseStore in alphabetical order. if new users register with the application, these users will be added to the list automatically and arrange in alphabetical order ( like A to B to C, ..).  I try to search the answer but I don't find the solution to my issue. Can anyone help me with how to solve it?</p>\n<p>Here is my java code in Userfragment.java:</p>\n<pre><code>recyclerView = view.findViewById(R.id.recycler_view);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n\n    mUsers = new ArrayList&lt;&gt;();\n\n\n\n    imageProfile = view.findViewById(R.id.profile_image);\n    username = view.findViewById(R.id.username);\n\n    storageReference = FirebaseStorage.getInstance().getReference(&quot;uploads&quot;);\n\n    fuser = FirebaseAuth.getInstance().getCurrentUser();\n   \n    Query query = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(fuser.getUid()).orderByChild(&quot;username&quot;);\n\n\n    Collections.sort(mUsers, new Comparator&lt;User&gt;() {\n        @Override\n        public int compare(User lhs, User rhs) {\n            return lhs.getUsername().compareTo(rhs.getUsername());\n        }\n    });\n\n    query.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n            if (isAdded()) {\n\n                User user = dataSnapshot.getValue(User.class);\n                username.setText(user.getUsername());\n                if (user.getImageUrl().equals(&quot;default&quot;)) {\n                    imageProfile.setImageResource(R.mipmap.ic_launcher);\n                } else {\n                    Glide.with(getContext()).load(user.getImageUrl()).into(imageProfile);\n                }\n            }\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xVErA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xVErA.png\" alt=\"export Json file\" /></a></p>\n<p>below is some users in realtime database which I want to arrange:</p>\n<blockquote>\n<p>Users\n7HMH8nj6AshgYtvD2IMT9a7y2273<br />\nid  &quot;7HMH8nj6AshgYtvD2IMT9a7y2273&quot;\nimageUrl    &quot;default&quot;\nsearch  &quot;tony&quot;\nstatus  &quot;online&quot;\nusername    &quot;Tony&quot;\nAY3gY1eQE1fWJiNUsxxRqpXHBFf2<br />\nid  &quot;AY3gY1eQE1fWJiNUsxxRqpXHBFf2&quot;\nimageUrl    &quot;default&quot;\nsearch  &quot;hola&quot;\nstatus  &quot;offline&quot;\nusername    &quot;hola&quot;\nO6gRe8muq4TGDjQsYkn9Cdpufdy1<br />\nid  &quot;O6gRe8muq4TGDjQsYkn9Cdpufdy1&quot;\nimageUrl    &quot;default&quot;\nsearch  &quot;chon&quot;\nstatus  &quot;offline&quot;\nusername    &quot;chon&quot;\nSGQwWbIZ2vhkPcKqjMuejusKRY13<br />\nid  &quot;SGQwWbIZ2vhkPcKqjMuejusKRY13&quot;\nimageUrl    &quot;default&quot;\nsearch  &quot;miko&quot;\nstatus  &quot;offline&quot;\nusername    &quot;miko&quot;</p>\n</blockquote>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1335259299,"creation_date":1335259299,"answer_id":10295117,"question_id":10295100,"body_markdown":"&gt; i want to know if there are any native java commands to stop overwriting [and append a numeral to the filename]\r\n\r\nNot in the core Java libraries, no.","title":"Create files with similar names using Java without overwriting existing file","body":"<blockquote>\n  <p>i want to know if there are any native java commands to stop overwriting [and append a numeral to the filename]</p>\n</blockquote>\n\n<p>Not in the core Java libraries, no.</p>\n"},{"tags":[],"owner":{"account_id":26588,"reputation":11301,"user_id":69340,"accept_rate":78,"display_name":"Suresh Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335321148,"creation_date":1335259616,"answer_id":10295171,"question_id":10295100,"body_markdown":"Take a look at the method [File.createTempFile()][1]\r\n\r\n&gt; To create the new file, the prefix and the suffix may first be adjusted to fit the limitations of the underlying platform. If the prefix is too long then it will be truncated, but its first three characters will always be preserved. If the suffix is too long then it too will be truncated, but if it begins with a period character (&#39;.&#39;) then the period and the first three characters following it will always be preserved. Once these adjustments have been made the name of the new file will be generated by concatenating the prefix, ***five or more internally-generated characters***, and the suffix. \r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String,%20java.io.File%29","title":"Create files with similar names using Java without overwriting existing file","body":"<p>Take a look at the method <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String,%20java.io.File%29\" rel=\"nofollow\">File.createTempFile()</a></p>\n\n<blockquote>\n  <p>To create the new file, the prefix and the suffix may first be adjusted to fit the limitations of the underlying platform. If the prefix is too long then it will be truncated, but its first three characters will always be preserved. If the suffix is too long then it too will be truncated, but if it begins with a period character ('.') then the period and the first three characters following it will always be preserved. Once these adjustments have been made the name of the new file will be generated by concatenating the prefix, <strong><em>five or more internally-generated characters</em></strong>, and the suffix. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1335259844,"creation_date":1335259844,"answer_id":10295215,"question_id":10295100,"body_markdown":"Not in java as already indicated by `@Greg Kopff`.\r\nBut you can work around something like this:\r\n\r\n      int count = 0;\r\n    \r\n      public void createFile(String name) throws IOException\r\n      {\r\n        File f;\r\n        f = new File(name);\r\n        if (!f.exists())\r\n        {\r\n          f.createNewFile();\r\n        }\r\n        else\r\n        {\r\n          count++;\r\n          createFile(name + (count));\r\n        }\r\n      }","title":"Create files with similar names using Java without overwriting existing file","body":"<p>Not in java as already indicated by <code>@Greg Kopff</code>.\nBut you can work around something like this:</p>\n\n<pre><code>  int count = 0;\n\n  public void createFile(String name) throws IOException\n  {\n    File f;\n    f = new File(name);\n    if (!f.exists())\n    {\n      f.createNewFile();\n    }\n    else\n    {\n      count++;\n      createFile(name + (count));\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5014352,"reputation":123,"user_id":4029578,"display_name":"yurisend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438233599,"creation_date":1438233599,"answer_id":31715674,"question_id":10295100,"body_markdown":"While similar to Bitmap&#39;s response, I came up with this java code (which seems to work). I don&#39;t know if it&#39;s the most efficient, but...\r\n\r\nFor my example, I am assuming the file will be a .txt file  \r\n    \r\n    String fileName = &quot;output.txt&quot;; \r\n    File aFile = new File(fileName);\r\n \r\n    int fileNo = 0;\r\n    while(aFile.exists() &amp;&amp; !aFile.isDirectory()) { \r\n        fileNo++; \r\n        String newName = fileName.replaceAll(&quot;.txt&quot;, &quot;(&quot; + fileNo + &quot;).txt&quot;);   \r\n        aFile = new File(newName);\r\n    } ","title":"Create files with similar names using Java without overwriting existing file","body":"<p>While similar to Bitmap's response, I came up with this java code (which seems to work). I don't know if it's the most efficient, but...</p>\n\n<p>For my example, I am assuming the file will be a .txt file  </p>\n\n<pre><code>String fileName = \"output.txt\"; \nFile aFile = new File(fileName);\n\nint fileNo = 0;\nwhile(aFile.exists() &amp;&amp; !aFile.isDirectory()) { \n    fileNo++; \n    String newName = fileName.replaceAll(\".txt\", \"(\" + fileNo + \").txt\");   \n    aFile = new File(newName);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8183818,"reputation":4410,"user_id":6160172,"display_name":"Jamil Hasnine Tamim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626164802,"creation_date":1626164802,"answer_id":68358956,"question_id":10295100,"body_markdown":"**For kotlin** \r\n\r\nHere is the code for create files with similar names using Kotlin without overwriting existing file:\r\n\r\n    var fileNo = 0\r\n    \r\n    @Throws(IOException::class)\r\n    fun createFile(name: String, addedEx: String): File {\r\n        val originalName = name.replace(addedEx,&quot;&quot;)\r\n        val f = File(name)\r\n        return if (!f.exists()) {\r\n            f\r\n        } else {\r\n            fileNo++\r\n            val file = createFile(&quot;${name.substring( 0, originalName.indexOf(&quot;.&quot;))}_($fileNo).${getExtension(originalName)}&quot;,&quot;_($fileNo)&quot;)\r\n            fileNo = 0\r\n            file\r\n        }\r\n    }\r\n   \r\nRemember when you call it for the first time just pass empty string in `addedEx` param. Like this : `createFile(nameTest.txt, addedEx: &quot;&quot;)`\r\n\r\nif save this file 5 times then,\r\n**Output will be:**\r\n\r\n&gt; nameTest.txt\r\n&gt; \r\n&gt; nameTest_(1).txt\r\n&gt; \r\n&gt; nameTest_(2).txt\r\n&gt; \r\n&gt; nameTest_(3).txt\r\n&gt; \r\n&gt; nameTest_(4).txt\r\n\r\nif you want&#39;s the extension getting function:\r\n\r\n    fun getExtension(name: String?): String? {\r\n        val fileNameFromURL = Uri.parse(name).lastPathSegment\r\n        if(fileNameFromURL != null &amp;&amp; fileNameFromURL.lastIndexOf(&#39;.&#39;) &gt;= 0)\r\n        {\r\n            return fileNameFromURL.substring(fileNameFromURL.lastIndexOf(&#39;.&#39;)+1)\r\n        }\r\n        return &quot;&quot;\r\n    }\r\n","title":"Create files with similar names using Java without overwriting existing file","body":"<p><strong>For kotlin</strong></p>\n<p>Here is the code for create files with similar names using Kotlin without overwriting existing file:</p>\n<pre><code>var fileNo = 0\n\n@Throws(IOException::class)\nfun createFile(name: String, addedEx: String): File {\n    val originalName = name.replace(addedEx,&quot;&quot;)\n    val f = File(name)\n    return if (!f.exists()) {\n        f\n    } else {\n        fileNo++\n        val file = createFile(&quot;${name.substring( 0, originalName.indexOf(&quot;.&quot;))}_($fileNo).${getExtension(originalName)}&quot;,&quot;_($fileNo)&quot;)\n        fileNo = 0\n        file\n    }\n}\n</code></pre>\n<p>Remember when you call it for the first time just pass empty string in <code>addedEx</code> param. Like this : <code>createFile(nameTest.txt, addedEx: &quot;&quot;)</code></p>\n<p>if save this file 5 times then,\n<strong>Output will be:</strong></p>\n<blockquote>\n<p>nameTest.txt</p>\n<p>nameTest_(1).txt</p>\n<p>nameTest_(2).txt</p>\n<p>nameTest_(3).txt</p>\n<p>nameTest_(4).txt</p>\n</blockquote>\n<p>if you want's the extension getting function:</p>\n<pre><code>fun getExtension(name: String?): String? {\n    val fileNameFromURL = Uri.parse(name).lastPathSegment\n    if(fileNameFromURL != null &amp;&amp; fileNameFromURL.lastIndexOf('.') &gt;= 0)\n    {\n        return fileNameFromURL.substring(fileNameFromURL.lastIndexOf('.')+1)\n    }\n    return &quot;&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6912215,"reputation":467,"user_id":5307634,"display_name":"MbPCM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657289112,"creation_date":1657289112,"answer_id":72912610,"question_id":10295100,"body_markdown":"    static String getUniquePath(String path,String extension){\r\n            int i = 1;\r\n            String newPath = path + extension;\r\n            if(new File(newPath).exists()) {\r\n                while (new File(newPath).exists()){\r\n                    newPath = path + &quot;_&quot; + i + extension;\r\n                    i++;\r\n                }\r\n            }\r\n            return newPath;\r\n        }","title":"Create files with similar names using Java without overwriting existing file","body":"<pre><code>static String getUniquePath(String path,String extension){\n        int i = 1;\n        String newPath = path + extension;\n        if(new File(newPath).exists()) {\n            while (new File(newPath).exists()){\n                newPath = path + &quot;_&quot; + i + extension;\n                i++;\n            }\n        }\n        return newPath;\n    }\n</code></pre>\n"}],"owner":{"account_id":910288,"reputation":1780,"user_id":944302,"accept_rate":69,"display_name":"Daniel Euchar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7137,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10295117,"answer_count":6,"score":5,"last_activity_date":1657289112,"creation_date":1335259212,"question_id":10295100,"body_markdown":"I was wondering if it is possible to create multiple files with similar names, without overwriting the current file.\r\n\r\nfor example: \r\nif I have a file: xyz.txt\r\nnext time when i create it should be : xyz(1).txt \r\n\r\n    try {\r\n      File makefile = new File(&quot;output.txt&quot;);\r\n      FileWriter fwrite = new FileWriter(makefile);\r\n      fwrite.write(&quot;example file&quot;);\r\n      fwrite.flush();\r\n      fwrite.close();\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nso if I re-run this program my current file should not be overwritten. I have already tried and if condition with a flag variable to add number as prefix to the file name. \r\n\r\nI want to know if there are any Java commands to avoid overwriting an existing file. ","title":"Create files with similar names using Java without overwriting existing file","body":"<p>I was wondering if it is possible to create multiple files with similar names, without overwriting the current file.</p>\n\n<p>for example: \nif I have a file: xyz.txt\nnext time when i create it should be : xyz(1).txt </p>\n\n<pre><code>try {\n  File makefile = new File(\"output.txt\");\n  FileWriter fwrite = new FileWriter(makefile);\n  fwrite.write(\"example file\");\n  fwrite.flush();\n  fwrite.close();\n} catch (IOException e) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>so if I re-run this program my current file should not be overwritten. I have already tried and if condition with a flag variable to add number as prefix to the file name. </p>\n\n<p>I want to know if there are any Java commands to avoid overwriting an existing file. </p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657286851,"post_id":72910661,"comment_id":128781150,"body_markdown":"What&#39;s the value of `playerName` inside the reference? And why do you say it is not busy? The `biron` fields hold a value, an empty string.","body":"What&#39;s the value of <code>playerName</code> inside the reference? And why do you say it is not busy? The <code>biron</code> fields hold a value, an empty string."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1657289128,"post_id":72910661,"comment_id":128782010,"body_markdown":"Step 1 is to stop ignoring errors and implement `onCancelled`. At its minimum that should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`. Step 2 is to set a breakpoint on each line of code you shared, run in the debugger, and check the value of each variable on each line. When doing this: what is the first variable that doesn&#39;t have the value you expect?","body":"Step 1 is to stop ignoring errors and implement <code>onCancelled</code>. At its minimum that should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>. Step 2 is to set a breakpoint on each line of code you shared, run in the debugger, and check the value of each variable on each line. When doing this: what is the first variable that doesn&#39;t have the value you expect?"},{"owner":{"account_id":24552559,"reputation":79,"user_id":18461575,"display_name":"Biron1gg"},"score":0,"creation_date":1657300004,"post_id":72910661,"comment_id":128785651,"body_markdown":"@AlexMamo `String playerName = &quot;&quot;;`","body":"@AlexMamo <code>String playerName = &quot;&quot;;</code>"}],"owner":{"account_id":24552559,"reputation":79,"user_id":18461575,"display_name":"Biron1gg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1657289033,"creation_date":1657279367,"question_id":72910661,"body_markdown":"Everything seems to be correct, but it does not work correctly. It says that the alias is busy even when it is not busy. It checks &quot;players&quot;, it doesn&#39;t get to the name in it.\r\n\r\n![](https://i.stack.imgur.com/pVWgz.png)\r\n``` \r\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference(&quot;players/&quot; + playerName);\r\nrootRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n\r\n    @Override\r\n    public void onDataChange(DataSnapshot snapshot) {\r\n        if (snapshot.exists()) {\r\n            Name.setError(&quot;This alias is already taken&quot;);\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError error) {\r\n        \r\n    }\r\n\r\n});\r\n``` ","title":"Child check in Database firebase not working correctly - Java","body":"<p>Everything seems to be correct, but it does not work correctly. It says that the alias is busy even when it is not busy. It checks &quot;players&quot;, it doesn't get to the name in it.</p>\n<p><img src=\"https://i.stack.imgur.com/pVWgz.png\" alt=\"\" /></p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference(&quot;players/&quot; + playerName);\nrootRef.addListenerForSingleValueEvent(new ValueEventListener() {\n\n    @Override\n    public void onDataChange(DataSnapshot snapshot) {\n        if (snapshot.exists()) {\n            Name.setError(&quot;This alias is already taken&quot;);\n        } else {\n\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError error) {\n        \n    }\n\n});\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":39603,"reputation":2007,"user_id":114308,"accept_rate":50,"display_name":"rafa.ferreira"},"score":0,"creation_date":1275490450,"post_id":1115480,"comment_id":3016789,"body_markdown":"I was searching exactly this question! tks! up 4 you!","body":"I was searching exactly this question! tks! up 4 you!"}],"answers":[{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1247384662,"creation_date":1247384662,"answer_id":1115502,"question_id":1115480,"body_markdown":"\r\nIf the specs said it could&#39;t happen, would you belive them? Given that your code could conceivably run against may different JPA implementations, would you trust every implementer to get it right?\r\n\r\nNo matter what, I would code defensively and check for null.\r\n\r\nNow the big question: should we treat &quot;null&quot; and an empty List as synonymous? This is where the specs should help us, and don&#39;t.\r\n\r\nMy guess  is that a null return (if indeed it could happen) would be equivalent to &quot;I didn&#39;t understand the query&quot; and empty list would be &quot;yes, understood the query, but there were no records&quot;. \r\n\r\nYou perhaps have a code path (likely an exception) that deals with unparsable queries, I would tend to direct a null return down that path.","title":"Can javax.persistence.Query.getResultList() return null?","body":"<p>If the specs said it could't happen, would you belive them? Given that your code could conceivably run against may different JPA implementations, would you trust every implementer to get it right?</p>\n\n<p>No matter what, I would code defensively and check for null.</p>\n\n<p>Now the big question: should we treat \"null\" and an empty List as synonymous? This is where the specs should help us, and don't.</p>\n\n<p>My guess  is that a null return (if indeed it could happen) would be equivalent to \"I didn't understand the query\" and empty list would be \"yes, understood the query, but there were no records\". </p>\n\n<p>You perhaps have a code path (likely an exception) that deals with unparsable queries, I would tend to direct a null return down that path.</p>\n"},{"tags":[],"owner":{"account_id":43546,"reputation":33497,"user_id":127359,"accept_rate":85,"display_name":"Arthur Ronald"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1556522725,"creation_date":1247385421,"answer_id":1115512,"question_id":1115480,"body_markdown":"You are right. JPA specification says nothing about it. But **Java Persistence with Hibernate book, 2nd edition**, says:\r\n\r\n&gt; If the query result is empty, a null is returned\r\n\r\nHibernate JPA implementation (Entity Manager) return null when you call query.getResultList() with no result.\r\n\r\n**UPDATE**\r\n\r\nAs pointed out by some users, it seems that a newest version of Hibernate returns an empty list instead.\r\n\r\nAn empty list is returned in Eclipselink as well when no results are found.","title":"Can javax.persistence.Query.getResultList() return null?","body":"<p>You are right. JPA specification says nothing about it. But <strong>Java Persistence with Hibernate book, 2nd edition</strong>, says:</p>\n\n<blockquote>\n  <p>If the query result is empty, a null is returned</p>\n</blockquote>\n\n<p>Hibernate JPA implementation (Entity Manager) return null when you call query.getResultList() with no result.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As pointed out by some users, it seems that a newest version of Hibernate returns an empty list instead.</p>\n\n<p>An empty list is returned in Eclipselink as well when no results are found.</p>\n"},{"tags":[],"owner":{"account_id":572721,"reputation":141,"user_id":221407,"display_name":"Andrew Simons"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1259594646,"creation_date":1259594646,"answer_id":1820462,"question_id":1115480,"body_markdown":"Contrary to Arthur&#39;s post, when I actually ran a query which no entities matched I got an empty list, not null. This is using Hibernate and is what I consider correct behaviour: an empty list is the correct answer when you ask for a collection of entities and there aren&#39;t any.","title":"Can javax.persistence.Query.getResultList() return null?","body":"<p>Contrary to Arthur's post, when I actually ran a query which no entities matched I got an empty list, not null. This is using Hibernate and is what I consider correct behaviour: an empty list is the correct answer when you ask for a collection of entities and there aren't any.</p>\n"},{"tags":[],"owner":{"account_id":581524,"reputation":19,"user_id":246777,"display_name":"Al Scherer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1262989025,"creation_date":1262989025,"answer_id":2031141,"question_id":1115480,"body_markdown":"\r\nOf course, if you test the result set with Jakarta&#39;s CollectionUtils.isNotEmpty, you&#39;re covered either way.","title":"Can javax.persistence.Query.getResultList() return null?","body":"<p>Of course, if you test the result set with Jakarta's CollectionUtils.isNotEmpty, you're covered either way.</p>\n"},{"tags":[],"owner":{"account_id":3650680,"reputation":817,"user_id":3042945,"accept_rate":83,"display_name":"Charles Follet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463068489,"creation_date":1463060549,"answer_id":37188759,"question_id":1115480,"body_markdown":"If you take a close look at the `org.hibernate.loader.Loader` (4.1) you will see that the list is always initialized inside the processResultSet() method ([doc][1], [source][2]).\r\n\r\n    protected List processResultSet(...) throws SQLException {\r\n       final List results = new ArrayList();\r\n \r\n       handleEmptyCollections( queryParameters.getCollectionKeys(), rs, session );\r\n       ...\r\n       return results;\r\n    \r\n    }\r\n\r\n\r\nSo I don&#39;t think it will return null now.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/loader/Loader.html#processResultSet(java.sql.ResultSet,%20org.hibernate.engine.spi.QueryParameters,%20org.hibernate.engine.spi.SessionImplementor,%20boolean,%20org.hibernate.transform.ResultTransformer,%20int,%20java.util.List)\r\n  [2]: https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/loader/Loader.java#L961","title":"Can javax.persistence.Query.getResultList() return null?","body":"<p>If you take a close look at the <code>org.hibernate.loader.Loader</code> (4.1) you will see that the list is always initialized inside the processResultSet() method (<a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/loader/Loader.html#processResultSet(java.sql.ResultSet,%20org.hibernate.engine.spi.QueryParameters,%20org.hibernate.engine.spi.SessionImplementor,%20boolean,%20org.hibernate.transform.ResultTransformer,%20int,%20java.util.List)\" rel=\"noreferrer\">doc</a>, <a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/loader/Loader.java#L961\" rel=\"noreferrer\">source</a>).</p>\n\n<pre><code>protected List processResultSet(...) throws SQLException {\n   final List results = new ArrayList();\n\n   handleEmptyCollections( queryParameters.getCollectionKeys(), rs, session );\n   ...\n   return results;\n\n}\n</code></pre>\n\n<p>So I don't think it will return null now.</p>\n"},{"tags":[],"owner":{"account_id":15404279,"reputation":149,"user_id":11112803,"display_name":"Cyril Sojan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552546758,"creation_date":1552544665,"answer_id":55156154,"question_id":1115480,"body_markdown":"`Query.getResultList()` returns an empty list instead of `null`. So check `isEmpty()` in the returned result, and continue with the rest of the logic if it is false.","title":"Can javax.persistence.Query.getResultList() return null?","body":"<p><code>Query.getResultList()</code> returns an empty list instead of <code>null</code>. So check <code>isEmpty()</code> in the returned result, and continue with the rest of the logic if it is false.</p>\n"},{"tags":[],"owner":{"account_id":15570534,"reputation":61,"user_id":11233118,"display_name":"wile the coyote"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555934312,"creation_date":1555934312,"answer_id":55794060,"question_id":1115480,"body_markdown":"Given the implementation of `getResultsList()` in `org.hibernate.ejb.QueryImpl` class, it is possible to return a `null` : \r\n\r\n\tpublic List getResultList() {\r\n\t\ttry {\r\n\t\t\treturn query.list();\r\n\t\t}\r\n\t\tcatch (QueryExecutionRequestException he) {\r\n\t\t\tthrow new IllegalStateException(he);\r\n\t\t}\r\n\t\tcatch( TypeMismatchException e ) {\r\n\t\t\tthrow new IllegalArgumentException(e);\r\n\t\t}\r\n\t\tcatch (HibernateException he) {\r\n\t\t\tem.throwPersistenceException( he );\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\r\n\r\nMy hibernate version is: 3.3.1.GA\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VutGk.png","title":"Can javax.persistence.Query.getResultList() return null?","body":"<p>Given the implementation of <code>getResultsList()</code> in <code>org.hibernate.ejb.QueryImpl</code> class, it is possible to return a <code>null</code> : </p>\n\n<pre><code>public List getResultList() {\n    try {\n        return query.list();\n    }\n    catch (QueryExecutionRequestException he) {\n        throw new IllegalStateException(he);\n    }\n    catch( TypeMismatchException e ) {\n        throw new IllegalArgumentException(e);\n    }\n    catch (HibernateException he) {\n        em.throwPersistenceException( he );\n        return null;\n    }\n</code></pre>\n\n<p>My hibernate version is: 3.3.1.GA</p>\n"}],"owner":{"account_id":34199,"reputation":2833,"user_id":96412,"accept_rate":40,"display_name":"rdk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79695,"favorite_count":0,"down_vote_count":0,"up_vote_count":139,"accepted_answer_id":1115512,"answer_count":7,"score":139,"last_activity_date":1657288844,"creation_date":1247383391,"question_id":1115480,"body_markdown":"And if so, under what circumstances?\r\n\r\nJavadoc and JPA spec says nothing. ","title":"Can javax.persistence.Query.getResultList() return null?","body":"<p>And if so, under what circumstances?</p>\n\n<p>Javadoc and JPA spec says nothing. </p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657288735,"creation_date":1657278710,"answer_id":72910552,"question_id":72909984,"body_markdown":"`ExceptionHandler` is pointcut aspects in spring&#39;s aspect oriented programming terminologies.\r\n\r\nAs per pointcut doc:\r\n\r\n&gt; Pointcut: a predicate that matches join points. Advice is associated\r\n&gt; with a pointcut expression and runs at any join point matched by the\r\n&gt; pointcut (for example, the execution of a method with a certain name)\r\n\r\nWe define type of exception in `ExceptionHandler` annotation(i.e. `Exception.class` etc) . Jointpoint aspect in this case is handling exception thrown by advice&#39;s (here `ControllerAdvice`) method.\r\n\r\nWhen exception occurred in advice&#39;s method, you are supposed to throw that exception &amp; your spring advice intercept that exception &amp; pass control to pointcut which then matches exception type &amp; do its handling.\r\n\r\nRegarding method signature of `ExceptionHandler`, [doc][1] says its flexible &amp; hence it is not strict to return type of post method you defined.\r\n\r\n[Reference][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/aop.html#aop-introduction-defn","title":"How do Spring Boot @ExceptionHandlers intercept exceptions","body":"<p><code>ExceptionHandler</code> is pointcut aspects in spring's aspect oriented programming terminologies.</p>\n<p>As per pointcut doc:</p>\n<blockquote>\n<p>Pointcut: a predicate that matches join points. Advice is associated\nwith a pointcut expression and runs at any join point matched by the\npointcut (for example, the execution of a method with a certain name)</p>\n</blockquote>\n<p>We define type of exception in <code>ExceptionHandler</code> annotation(i.e. <code>Exception.class</code> etc) . Jointpoint aspect in this case is handling exception thrown by advice's (here <code>ControllerAdvice</code>) method.</p>\n<p>When exception occurred in advice's method, you are supposed to throw that exception &amp; your spring advice intercept that exception &amp; pass control to pointcut which then matches exception type &amp; do its handling.</p>\n<p>Regarding method signature of <code>ExceptionHandler</code>, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html\" rel=\"nofollow noreferrer\">doc</a> says its flexible &amp; hence it is not strict to return type of post method you defined.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/aop.html#aop-introduction-defn\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":15868704,"reputation":15,"user_id":11450081,"display_name":"kairos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657288735,"creation_date":1657275624,"question_id":72909984,"body_markdown":"Lets say we have a post mapping for example that creates and returns a person object and its request body provides a first and last name that are both primary keys for some database. If either value is null then an exception is thrown.\r\n\r\nAssuming we have another controller set up to handle the exception and intercept it with the @controlleradvice and @exceptionhandler annotations and a method that returns a ResponseEntity How does it actually intercept the exception and why does the return type of the handler not have to match the return type of the post method that threw it. Sorry if it is a silly question, i just cant seem to grasp it. I would like to understand whats happening behind the scenes.\r\n\r\nI understand what the annotations do and hiw we specify what exception to handle, I just dont understand the how","title":"How do Spring Boot @ExceptionHandlers intercept exceptions","body":"<p>Lets say we have a post mapping for example that creates and returns a person object and its request body provides a first and last name that are both primary keys for some database. If either value is null then an exception is thrown.</p>\n<p>Assuming we have another controller set up to handle the exception and intercept it with the @controlleradvice and @exceptionhandler annotations and a method that returns a ResponseEntity How does it actually intercept the exception and why does the return type of the handler not have to match the return type of the post method that threw it. Sorry if it is a silly question, i just cant seem to grasp it. I would like to understand whats happening behind the scenes.</p>\n<p>I understand what the annotations do and hiw we specify what exception to handle, I just dont understand the how</p>\n"},{"tags":["python","java","jenkins","allure"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1657216226,"post_id":72902208,"comment_id":128764300,"body_markdown":"Check the permissions on your jaxb jar.","body":"Check the permissions on your jaxb jar."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657220695,"post_id":72902208,"comment_id":128765689,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1657223702,"post_id":72902208,"comment_id":128766608,"body_markdown":"You&#39;re gonna need to add the required JAXB dependency on the classpath when running the Python code. Get the required jar and add the path of it to the CLASSPATH environment variable when you run the Python script.","body":"You&#39;re gonna need to add the required JAXB dependency on the classpath when running the Python code. Get the required jar and add the path of it to the CLASSPATH environment variable when you run the Python script."},{"owner":{"account_id":25752791,"reputation":1,"user_id":19505057,"display_name":"Konstantin"},"score":0,"creation_date":1657706065,"post_id":72902208,"comment_id":128872169,"body_markdown":"there is no way to add java dependency to Python.\nI have test framework written on Pytnoh. It is on git and I run it via Jenkins on remote server. This issue comes from remote server, because there is Java11 installed","body":"there is no way to add java dependency to Python. I have test framework written on Pytnoh. It is on git and I run it via Jenkins on remote server. This issue comes from remote server, because there is Java11 installed"}],"answers":[{"tags":[],"owner":{"account_id":25759734,"reputation":1,"user_id":19510869,"display_name":"JavaQueen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657288712,"creation_date":1657288712,"answer_id":72912527,"question_id":72902208,"body_markdown":"1. Java 11 deleted the JAXB APIs completely.\r\n2. Downgrade you server to Java 8 or run your tests remotely on Docker container with Java 8.\r\n3. Rewrite you frame to Java so you can simply add this deprecated libs in dependency pom.xml.\r\n","title":"JAXBException with Python for allure report","body":"<ol>\n<li>Java 11 deleted the JAXB APIs completely.</li>\n<li>Downgrade you server to Java 8 or run your tests remotely on Docker container with Java 8.</li>\n<li>Rewrite you frame to Java so you can simply add this deprecated libs in dependency pom.xml.</li>\n</ol>\n"}],"owner":{"account_id":25752791,"reputation":1,"user_id":19505057,"display_name":"Konstantin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657288712,"creation_date":1657216046,"question_id":72902208,"body_markdown":"I faced the issue with python project when I ran my test cases via jenkins and expected to see Allure report. On remote server I have Java11 and there is no possible to install lower version.\r\n\r\n    TestJob] $ /var/lib/jenkins/tools/ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation/allure1/bin/allure generate -c -o /var/lib/jenkins/workspace/SIGMAC_Backend_Tests/TestJob/allure-report\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n    at io.qameta.allure.allure1.Allure1Plugin.xmlFiles(Allure1Plugin.java:393)\r\n    at io.qameta.allure.allure1.Allure1Plugin.getStreamOfAllure1Results(Allure1Plugin.java:388)\r\n    at io.qameta.allure.allure1.Allure1Plugin.readResults(Allure1Plugin.java:103)\r\n    at io.qameta.allure.ReportGenerator.lambda$readResults$0(ReportGenerator.java:32)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    at io.qameta.allure.ReportGenerator.readResults(ReportGenerator.java:32)\r\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n    at io.qameta.allure.ReportGenerator.generate(ReportGenerator.java:54)\r\n    at io.qameta.allure.ReportGenerator.generate(ReportGenerator.java:43)\r\n    at io.qameta.allure.Commands.generate(Commands.java:88)\r\n    at io.qameta.allure.CommandLine.run(CommandLine.java:129)\r\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    at io.qameta.allure.CommandLine.main(CommandLine.java:72)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    ... 20 more\r\n    ERROR: Build step failed with exception\r\n    ru.yandex.qatools.allure.jenkins.exception.AllurePluginException: Can not generate Allure Report, exit code: 1\r\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisher.generateReport(AllureReportPublisher.java:314)\r\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisher.perform(AllureReportPublisher.java:231)\r\n    at jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\r\n    at hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:81)\r\n    at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:21)\r\n    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:808)\r\n    at hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:757)\r\n    at hudson.model.Build$BuildExecution.post2(Build.java:179)\r\n    at hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:701)\r\n    at hudson.model.Run.execute(Run.java:1936)\r\n    at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\r\n    at hudson.model.ResourceController.execute(ResourceController.java:100)\r\n    at hudson.model.Executor.run(Executor.java:433)\r\n    Build step &#39;Allure Report&#39; marked build as failure\r\n    Started calculate disk usage of build\r\n    Finished Calculation of disk usage of build in 0 seconds\r\n    Started calculate disk usage of workspace\r\n    Finished Calculation of disk usage of workspace in 0 seconds\r\n    Finished: FAILURE\r\n\r\n\r\nIs there any chance to fix it ?","title":"JAXBException with Python for allure report","body":"<p>I faced the issue with python project when I ran my test cases via jenkins and expected to see Allure report. On remote server I have Java11 and there is no possible to install lower version.</p>\n<pre><code>TestJob] $ /var/lib/jenkins/tools/ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation/allure1/bin/allure generate -c -o /var/lib/jenkins/workspace/SIGMAC_Backend_Tests/TestJob/allure-report\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\nat io.qameta.allure.allure1.Allure1Plugin.xmlFiles(Allure1Plugin.java:393)\nat io.qameta.allure.allure1.Allure1Plugin.getStreamOfAllure1Results(Allure1Plugin.java:388)\nat io.qameta.allure.allure1.Allure1Plugin.readResults(Allure1Plugin.java:103)\nat io.qameta.allure.ReportGenerator.lambda$readResults$0(ReportGenerator.java:32)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat io.qameta.allure.ReportGenerator.readResults(ReportGenerator.java:32)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\nat io.qameta.allure.ReportGenerator.generate(ReportGenerator.java:54)\nat io.qameta.allure.ReportGenerator.generate(ReportGenerator.java:43)\nat io.qameta.allure.Commands.generate(Commands.java:88)\nat io.qameta.allure.CommandLine.run(CommandLine.java:129)\nat java.base/java.util.Optional.orElseGet(Optional.java:369)\nat io.qameta.allure.CommandLine.main(CommandLine.java:72)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 20 more\nERROR: Build step failed with exception\nru.yandex.qatools.allure.jenkins.exception.AllurePluginException: Can not generate Allure Report, exit code: 1\nat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.generateReport(AllureReportPublisher.java:314)\nat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.perform(AllureReportPublisher.java:231)\nat jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\nat hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:81)\nat hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:21)\nat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:808)\nat hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:757)\nat hudson.model.Build$BuildExecution.post2(Build.java:179)\nat hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:701)\nat hudson.model.Run.execute(Run.java:1936)\nat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\nat hudson.model.ResourceController.execute(ResourceController.java:100)\nat hudson.model.Executor.run(Executor.java:433)\nBuild step 'Allure Report' marked build as failure\nStarted calculate disk usage of build\nFinished Calculation of disk usage of build in 0 seconds\nStarted calculate disk usage of workspace\nFinished Calculation of disk usage of workspace in 0 seconds\nFinished: FAILURE\n</code></pre>\n<p>Is there any chance to fix it ?</p>\n"},{"tags":["java","performance","jsf","primefaces"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1657127882,"post_id":72887490,"comment_id":128738454,"body_markdown":"If you check the last line before the exception in the stack trace, you can see it occurred inside ArrayList code. Even though the name looks scary, it simply means that the list has been modified while iterating on it (Iterables throw that exception in case of modification of the collection while iterating). It doesn&#39;t necessarily indicate a real race conditions on your table, but most probably a bad for-loop that got into that state because of the outage (or not).","body":"If you check the last line before the exception in the stack trace, you can see it occurred inside ArrayList code. Even though the name looks scary, it simply means that the list has been modified while iterating on it (Iterables throw that exception in case of modification of the collection while iterating). It doesn&#39;t necessarily indicate a real race conditions on your table, but most probably a bad for-loop that got into that state because of the outage (or not)."},{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1657129393,"post_id":72887490,"comment_id":128739009,"body_markdown":"Thanks for the response, I know that this is because the list has been modified while being sorted. What I mean about by &quot;how is this posibble&quot; is how can this happen in JSF and which could be the cause.","body":"Thanks for the response, I know that this is because the list has been modified while being sorted. What I mean about by &quot;how is this posibble&quot; is how can this happen in JSF and which could be the cause."},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1657134458,"post_id":72887490,"comment_id":128740702,"body_markdown":"PF/Jsf version? Scope of the bean bonded to the data table? AS used(jBoss/Tomcat/...)? Can you add an explanation of page structure and logic, if you can&#39;t post a simple example? My 2 cents, could be a sequence of actions that lead to an update of the data table, when the table is still sorting.","body":"PF/Jsf version? Scope of the bean bonded to the data table? AS used(jBoss/Tomcat/...)? Can you add an explanation of page structure and logic, if you can&#39;t post a simple example? My 2 cents, could be a sequence of actions that lead to an update of the data table, when the table is still sorting."},{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1657139173,"post_id":72887490,"comment_id":128742091,"body_markdown":"@WoAiNii I added that info and a brief explanation. The page is very complex, with a lot of components and updates. &#191;Where should I start searching?","body":"@WoAiNii I added that info and a brief explanation. The page is very complex, with a lot of components and updates. &#191;Where should I start searching?"},{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":0,"creation_date":1657147253,"post_id":72887490,"comment_id":128744194,"body_markdown":"Maybe add primefaces source code and debug `org.primefaces.component.datatable.feature.SortFeature.singleSort(SortFeature)` where it occured?","body":"Maybe add primefaces source code and debug <code>org.primefaces.component.datatable.feature.SortFeature.singl&zwnj;&#8203;eSort(SortFeature)</code> where it occured?"},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1657218925,"post_id":72887490,"comment_id":128765134,"body_markdown":"If you can reproduce somehow the problem, identify the data table, and try to see the browser console, to determine the sequence of calls occurring. If it repeats then there could be a sequence of actions that create a loop, so track who updates who, and see what could be the case. The analysis could be possible only with the code, or at last, a simplified version of the page.","body":"If you can reproduce somehow the problem, identify the data table, and try to see the browser console, to determine the sequence of calls occurring. If it repeats then there could be a sequence of actions that create a loop, so track who updates who, and see what could be the case. The analysis could be possible only with the code, or at last, a simplified version of the page."}],"answers":[{"tags":[],"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657288687,"creation_date":1657288687,"answer_id":72912522,"question_id":72887490,"body_markdown":"There are two possible causes for that issue:\r\n\r\n**Multiple threads working on the same list**\r\n\r\n - A single thread that modifies the list while iterating over it (e.g. counted for or foreach)\r\n - The second option should not be the cause here, as the stacktrace contains just a call to `ArrayList.sort`. I don&#39;t think, that the JDK is faulty at that place.\r\n\r\nThe first option is more likely:\r\n\r\n**Simultaneous AJAX requests**\r\n -  `com.sun.faces.context.PartialViewContextImpl.processPartial` should be an indication, that this happens during AJAX\r\nShared list due to wrong bean scope - e.g. session or even application\r\nCorrect bean scope, but the list comes from a shared source\r\n\r\n**You can try 1 of 2 solutions...**\r\n\r\n - Wrap your backing bean list `Collections.synchronizedList....\r\nList&lt;Object&gt; objList = Collections.synchronizedList(new ArrayList&lt;Object&gt;());`\r\n - Try `java.util.concurrent.CopyOnWriteArrayList` https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html\r\nit&#39;s expensive to modify, but wait-free to read.","title":"JSF ConcurrentModificationException on datatable","body":"<p>There are two possible causes for that issue:</p>\n<p><strong>Multiple threads working on the same list</strong></p>\n<ul>\n<li>A single thread that modifies the list while iterating over it (e.g. counted for or foreach)</li>\n<li>The second option should not be the cause here, as the stacktrace contains just a call to <code>ArrayList.sort</code>. I don't think, that the JDK is faulty at that place.</li>\n</ul>\n<p>The first option is more likely:</p>\n<p><strong>Simultaneous AJAX requests</strong></p>\n<ul>\n<li><code>com.sun.faces.context.PartialViewContextImpl.processPartial</code> should be an indication, that this happens during AJAX\nShared list due to wrong bean scope - e.g. session or even application\nCorrect bean scope, but the list comes from a shared source</li>\n</ul>\n<p><strong>You can try 1 of 2 solutions...</strong></p>\n<ul>\n<li>Wrap your backing bean list <code>Collections.synchronizedList.... List&lt;Object&gt; objList = Collections.synchronizedList(new ArrayList&lt;Object&gt;());</code></li>\n<li>Try <code>java.util.concurrent.CopyOnWriteArrayList</code> <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html</a>\nit's expensive to modify, but wait-free to read.</li>\n</ul>\n"}],"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657288687,"creation_date":1657127453,"question_id":72887490,"body_markdown":"We had an outage recently, and in the log of our application, we can see this exception.\r\nLooks like the data in a table is being modified while primefaces is sorting &#191;How is this possible?\r\n\r\nThis is something that doesn&#39;t happen frequently, it just happened once in a production enviroment. \r\nAlso this same stack trace repeats like ten or more times in seconds.\r\n\r\n    05-Jul-2022 19:13:53.583 SEVERE [http-nio-8080-exec-746] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/pages/example.xhtml]\r\n\tjava.util.ConcurrentModificationException\r\n\t\tat java.util.ArrayList.sort(ArrayList.java:1466)\r\n\t\tat java.util.Collections.sort(Collections.java:177)\r\n\t\tat org.primefaces.component.datatable.feature.SortFeature.singleSort(SortFeature.java:167)\r\n\t\tat org.primefaces.component.datatable.DataTableRenderer.preRender(DataTableRenderer.java:141)\r\n\t\tat org.primefaces.component.datatable.DataTableRenderer.encodeEnd(DataTableRenderer.java:93)\r\n\t\tat javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:949)\r\n\t\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:1912)\r\n\t\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\r\n\t\tat javax.faces.render.Renderer.encodeChildren(Renderer.java:176)\r\n\t\tat javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:918)\r\n\t\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:1905)\r\n\t\tat com.sun.faces.context.PartialViewContextImpl$PhaseAwareVisitCallback.visit(PartialViewContextImpl.java:638)\r\n\t\tat com.sun.faces.component.visit.PartialVisitContext.invokeVisitCallback(PartialVisitContext.java:183)\r\n\t\tat javax.faces.component.UIForm.visitTree(UIForm.java:405)\r\n\t\tat javax.faces.component.UIComponent.visitTree(UIComponent.java:1747)\r\n\t\tat javax.faces.component.UIComponent.visitTree(UIComponent.java:1747)\r\n\t\tat com.sun.faces.context.PartialViewContextImpl.processComponents(PartialViewContextImpl.java:423)\r\n\t\tat com.sun.faces.context.PartialViewContextImpl.processPartial(PartialViewContextImpl.java:342)\r\n\t\tat org.primefaces.context.PrimePartialViewContext.processPartial(PrimePartialViewContext.java:65)\r\n\t\tat javax.faces.context.PartialViewContextWrapper.processPartial(PartialViewContextWrapper.java:252)\r\n\t\tat org.omnifaces.context.OmniPartialViewContext.processPartial(OmniPartialViewContext.java:122)\r\n\t\tat javax.faces.component.UIViewRoot.encodeChildren(UIViewRoot.java:1124)\r\n\t\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:1905)\r\n\t\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:465)\r\n\t\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:194)\r\n\t\tat javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\r\n\t\tat javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\r\n\t\tat org.omnifaces.viewhandler.OmniViewHandler.renderView(OmniViewHandler.java:155)\r\n\t\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:126)\r\n\t\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\r\n\t\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:223)\r\n\t\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:671)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\t\tat ar.com.dux.jsf.filters.CacheFilter.doFilter(CacheFilter.java:27)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\t\tat ar.com.dux.jsf.filters.SecurityFilter.doFilter(SecurityFilter.java:84)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\t\tat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:89)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\t\tat org.omnifaces.filter.GzipResponseFilter.doFilter(GzipResponseFilter.java:183)\r\n\t\tat org.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nWe are using JSF 2.3.9, Primefaces 8.0, Omnifaces 3.11, Tomcat 8 and the bean is ViewScoped (javax.faces.view.ViewScoped not omnifaces).\r\n\r\nThe page is very complex, but his basic function is to generate an invoice so we have a section for the client data, another section for products that are added to the invoice and another section for payment info (using facelets include).These last two sections have datatables with sorting, and are updated from all the other sections.\r\n","title":"JSF ConcurrentModificationException on datatable","body":"<p>We had an outage recently, and in the log of our application, we can see this exception.\nLooks like the data in a table is being modified while primefaces is sorting ¿How is this possible?</p>\n<p>This is something that doesn't happen frequently, it just happened once in a production enviroment.\nAlso this same stack trace repeats like ten or more times in seconds.</p>\n<pre><code>05-Jul-2022 19:13:53.583 SEVERE [http-nio-8080-exec-746] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/pages/example.xhtml]\njava.util.ConcurrentModificationException\n    at java.util.ArrayList.sort(ArrayList.java:1466)\n    at java.util.Collections.sort(Collections.java:177)\n    at org.primefaces.component.datatable.feature.SortFeature.singleSort(SortFeature.java:167)\n    at org.primefaces.component.datatable.DataTableRenderer.preRender(DataTableRenderer.java:141)\n    at org.primefaces.component.datatable.DataTableRenderer.encodeEnd(DataTableRenderer.java:93)\n    at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:949)\n    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1912)\n    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1908)\n    at javax.faces.render.Renderer.encodeChildren(Renderer.java:176)\n    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:918)\n    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1905)\n    at com.sun.faces.context.PartialViewContextImpl$PhaseAwareVisitCallback.visit(PartialViewContextImpl.java:638)\n    at com.sun.faces.component.visit.PartialVisitContext.invokeVisitCallback(PartialVisitContext.java:183)\n    at javax.faces.component.UIForm.visitTree(UIForm.java:405)\n    at javax.faces.component.UIComponent.visitTree(UIComponent.java:1747)\n    at javax.faces.component.UIComponent.visitTree(UIComponent.java:1747)\n    at com.sun.faces.context.PartialViewContextImpl.processComponents(PartialViewContextImpl.java:423)\n    at com.sun.faces.context.PartialViewContextImpl.processPartial(PartialViewContextImpl.java:342)\n    at org.primefaces.context.PrimePartialViewContext.processPartial(PrimePartialViewContext.java:65)\n    at javax.faces.context.PartialViewContextWrapper.processPartial(PartialViewContextWrapper.java:252)\n    at org.omnifaces.context.OmniPartialViewContext.processPartial(OmniPartialViewContext.java:122)\n    at javax.faces.component.UIViewRoot.encodeChildren(UIViewRoot.java:1124)\n    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1905)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:465)\n    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:194)\n    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\n    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:151)\n    at org.omnifaces.viewhandler.OmniViewHandler.renderView(OmniViewHandler.java:155)\n    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:126)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\n    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:223)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:671)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at ar.com.dux.jsf.filters.CacheFilter.doFilter(CacheFilter.java:27)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at ar.com.dux.jsf.filters.SecurityFilter.doFilter(SecurityFilter.java:84)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:89)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.omnifaces.filter.GzipResponseFilter.doFilter(GzipResponseFilter.java:183)\n    at org.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>We are using JSF 2.3.9, Primefaces 8.0, Omnifaces 3.11, Tomcat 8 and the bean is ViewScoped (javax.faces.view.ViewScoped not omnifaces).</p>\n<p>The page is very complex, but his basic function is to generate an invoice so we have a section for the client data, another section for products that are added to the invoice and another section for payment info (using facelets include).These last two sections have datatables with sorting, and are updated from all the other sections.</p>\n"},{"tags":["java","arrays","string","char","equals"],"comments":[{"owner":{"account_id":208696,"reputation":2360,"user_id":459347,"accept_rate":100,"display_name":"lscoughlin"},"score":4,"creation_date":1433940663,"post_id":30756805,"comment_id":49566781,"body_markdown":"Because a java.lang.String is a real object, which is not the equivalent to char[], so directly checking equality would be silly.  Have a look at https://docs.oracle.com/javase/8/docs/api/java/lang/String.html and spend some more time with a fundamentals book.","body":"Because a java.lang.String is a real object, which is not the equivalent to char[], so directly checking equality would be silly.  Have a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/String.html</a> and spend some more time with a fundamentals book."},{"owner":{"account_id":6063107,"reputation":732,"user_id":4734332,"accept_rate":23,"display_name":"swingMan"},"score":1,"creation_date":1433943151,"post_id":30756805,"comment_id":49568799,"body_markdown":"java String does have a toCharArray() method, for what that&#39;s worth.","body":"java String does have a toCharArray() method, for what that&#39;s worth."}],"answers":[{"tags":[],"owner":{"account_id":2010699,"reputation":309,"user_id":1799200,"accept_rate":83,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433940555,"creation_date":1433940555,"answer_id":30756851,"question_id":30756805,"body_markdown":"In C++ (which I&#39;m guessing is what your coming from) Strings are stored as character arrays.  This is not the case in Java.  In java Strings are immutable objects rather then Char[].","title":"Strings are not sequence of characters in java?","body":"<p>In C++ (which I'm guessing is what your coming from) Strings are stored as character arrays.  This is not the case in Java.  In java Strings are immutable objects rather then Char[].</p>\n"},{"tags":[],"owner":{"account_id":22838317,"reputation":1,"user_id":16985766,"display_name":"Zylacone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657287866,"creation_date":1657205634,"answer_id":72900005,"question_id":30756805,"body_markdown":"`&quot;abc&quot;` is not a string, but a character sequence, and as such is incompatible with `String`. `String` does not have a `toCharArray()` method. `toCharArray( &quot;abc&quot; )` converts the character sequence `&quot;abc&quot;`, but cannot convert `Str = &quot;abc&quot;` because `Str` is a string and not a character sequence. ","title":"Strings are not sequence of characters in java?","body":"<p><code>&quot;abc&quot;</code> is not a string, but a character sequence, and as such is incompatible with <code>String</code>. <code>String</code> does not have a <code>toCharArray()</code> method. <code>toCharArray( &quot;abc&quot; )</code> converts the character sequence <code>&quot;abc&quot;</code>, but cannot convert <code>Str = &quot;abc&quot;</code> because <code>Str</code> is a string and not a character sequence.</p>\n"}],"owner":{"account_id":3713281,"reputation":1755,"user_id":3090039,"display_name":"kingAm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1657287866,"creation_date":1433940430,"question_id":30756805,"body_markdown":"In Java, Why is it not possible to convert a String to an Char array and vice versa?\r\n\r\nWhy aren&#39;t they comparable?\r\n\r\n    char matrixC[][] = {{&#39;s&#39;, &#39;t&#39;,&#39;a&#39;, &#39;c&#39;,&#39;k&#39;},\r\n    \t\t{&#39;o&#39;,&#39;v&#39;,&#39;e&#39;,&#39;r&#39;},\r\n    \t\t{&#39;f&#39;,&#39;l&#39;,&#39;o&#39;,&#39;w&#39;}};\r\n    String [] matrixS = {&quot;stack&quot;, &quot;over&quot;,&quot;flow&quot;};\r\n    \r\n    // matrixS=matrixC     //Not allowed...             \r\n    \r\n    if (matrixS.equals(matrixC) || matrixC.equals(matrixS)  )\r\n    {\r\n    \tSystem.out.print(&quot;true&quot;);\r\n    }\r\n    else \r\n    \tSystem.out.print(&quot;false&quot;);       //Output\r\n\r\n**Edited:**\r\n\r\nAfter some research and digging,\r\nI found Answer of my first question (Why is it not possible to convert a String to an Char array and vice versa?) in below link, as explained by roger_that. Thanks for the hint James. **Immutable**\r\n\r\nhttps://stackoverflow.com/questions/8798403/string-is-immutable-what-exactly-is-the-meaning?lq=1\r\n\r\nSo, we have separate String pool in java heap, which stores and creates new String literals each time and refer them to String objects accordingly.\r\n\r\nStill, I have some doubts about their comparison (I am talking about simple String and Char sequence here, not 2d arrays)\r\n\r\n\r\nWhy is not there any standard and simple method to compare String and Char seq? \r\nOne way could be,\r\n            char data[] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\n    \t    String str=&quot;abc&quot;;\r\n    \t    \r\n    \t    if (str.length()==data.length &amp;&amp; str.length()&gt;0 )\r\n    \t    {\r\n    \t    for (int i=0;i&lt;str.length();i++)\r\n    \t    {\r\n    \t    \tif (str.charAt(i)!=data[i])\r\n    \t    \t\tSystem.out.println(&quot;not equal&quot;);\r\n    \t    }\r\n    \t    }\r\n    \t    else\r\n    \t    \tSystem.out.println(&quot;not equal&quot;);\r\n\r\nIs there any other simple/direct way to do this, except,\r\n\r\n        char data[] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\n\t    String str=&quot;abc&quot;;\r\n        String str1= new String(data);\r\n        if (str1.equals(str))\r\n    \tSystem.out.println(&quot;equal&quot;);\r\n\r\n\r\n**Conclusion:**\r\n\r\n**Strings are not sequence of characters in java.**\r\n\r\nThey should remove this line from here https://docs.oracle.com/javase/tutorial/java/data/strings.html\r\n\r\n&gt; Strings\r\n&gt; \r\n&gt; **Strings, which are widely used in Java programming, are a sequence of\r\n&gt; characters**. In the Java programming language, strings are objects.\r\n\r\nThis is the line from where my confusion started. :|\r\n\r\nPlease correct my understanding.\r\n\r\n","title":"Strings are not sequence of characters in java?","body":"<p>In Java, Why is it not possible to convert a String to an Char array and vice versa?</p>\n\n<p>Why aren't they comparable?</p>\n\n<pre><code>char matrixC[][] = {{'s', 't','a', 'c','k'},\n        {'o','v','e','r'},\n        {'f','l','o','w'}};\nString [] matrixS = {\"stack\", \"over\",\"flow\"};\n\n// matrixS=matrixC     //Not allowed...             \n\nif (matrixS.equals(matrixC) || matrixC.equals(matrixS)  )\n{\n    System.out.print(\"true\");\n}\nelse \n    System.out.print(\"false\");       //Output\n</code></pre>\n\n<p><strong>Edited:</strong></p>\n\n<p>After some research and digging,\nI found Answer of my first question (Why is it not possible to convert a String to an Char array and vice versa?) in below link, as explained by roger_that. Thanks for the hint James. <strong>Immutable</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/8798403/string-is-immutable-what-exactly-is-the-meaning?lq=1\">String is immutable. What exactly is the meaning?</a></p>\n\n<p>So, we have separate String pool in java heap, which stores and creates new String literals each time and refer them to String objects accordingly.</p>\n\n<p>Still, I have some doubts about their comparison (I am talking about simple String and Char sequence here, not 2d arrays)</p>\n\n<p>Why is not there any standard and simple method to compare String and Char seq? \nOne way could be,\n            char data[] = {'a', 'b', 'c'};\n            String str=\"abc\";</p>\n\n<pre><code>        if (str.length()==data.length &amp;&amp; str.length()&gt;0 )\n        {\n        for (int i=0;i&lt;str.length();i++)\n        {\n            if (str.charAt(i)!=data[i])\n                System.out.println(\"not equal\");\n        }\n        }\n        else\n            System.out.println(\"not equal\");\n</code></pre>\n\n<p>Is there any other simple/direct way to do this, except,</p>\n\n<pre><code>    char data[] = {'a', 'b', 'c'};\n    String str=\"abc\";\n    String str1= new String(data);\n    if (str1.equals(str))\n    System.out.println(\"equal\");\n</code></pre>\n\n<p><strong>Conclusion:</strong></p>\n\n<p><strong>Strings are not sequence of characters in java.</strong></p>\n\n<p>They should remove this line from here <a href=\"https://docs.oracle.com/javase/tutorial/java/data/strings.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/data/strings.html</a></p>\n\n<blockquote>\n  <p>Strings</p>\n  \n  <p><strong>Strings, which are widely used in Java programming, are a sequence of\n  characters</strong>. In the Java programming language, strings are objects.</p>\n</blockquote>\n\n<p>This is the line from where my confusion started. :|</p>\n\n<p>Please correct my understanding.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25737161,"reputation":169,"user_id":19491703,"display_name":"Beant Singh"},"score":1,"creation_date":1657265288,"post_id":72907961,"comment_id":128774209,"body_markdown":"can you add animations as well?","body":"can you add animations as well?"}],"answers":[{"tags":[],"owner":{"account_id":22608731,"reputation":423,"user_id":16789265,"display_name":"Hammad Zafar Bawara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657287623,"creation_date":1657287623,"answer_id":72912294,"question_id":72907961,"body_markdown":"Thank you [Beant Singh][1] for your suggestion. There was mistake in animation resource file.\r\n\r\nThis was my animation xml file.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:fillAfter=&quot;true&quot;&gt;\r\n\r\n    &lt;translate android:fromYDelta=&quot;0%&quot;\r\n        android:toYDelta=&quot;100%&quot;\r\n        android:duration=&quot;300&quot;/&gt;\r\n\r\n    &lt;scale\r\n        android:pivotX=&quot;50%&quot;\r\n        android:pivotY=&quot;50%&quot;\r\n        android:toYScale=&quot;0.8&quot;\r\n        android:toXScale=&quot;0.8&quot;/&gt;\r\n\r\n    &lt;alpha\r\n        android:duration=&quot;150&quot;\r\n        android:fromAlpha=&quot;0&quot;\r\n        android:toAlpha=&quot;100&quot;/&gt;\r\n\r\n        &lt;!-- Here is the mistake. I set fromAlpha=&quot;0&quot; and toAlpha=&quot;100&quot;.\r\n         Which was making floating action button visible even I set\r\n         invisible from code. So I just fromAlpha=&quot;100&quot; and toAlpha=&quot;0&quot; and problem fixed.  --&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/19491703/beant-singh\r\n\r\n","title":"Floating Action Button is not getting INVISIBLE OR GONE","body":"<p>Thank you <a href=\"https://stackoverflow.com/users/19491703/beant-singh\">Beant Singh</a> for your suggestion. There was mistake in animation resource file.</p>\n<p>This was my animation xml file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:fillAfter=&quot;true&quot;&gt;\n\n    &lt;translate android:fromYDelta=&quot;0%&quot;\n        android:toYDelta=&quot;100%&quot;\n        android:duration=&quot;300&quot;/&gt;\n\n    &lt;scale\n        android:pivotX=&quot;50%&quot;\n        android:pivotY=&quot;50%&quot;\n        android:toYScale=&quot;0.8&quot;\n        android:toXScale=&quot;0.8&quot;/&gt;\n\n    &lt;alpha\n        android:duration=&quot;150&quot;\n        android:fromAlpha=&quot;0&quot;\n        android:toAlpha=&quot;100&quot;/&gt;\n\n        &lt;!-- Here is the mistake. I set fromAlpha=&quot;0&quot; and toAlpha=&quot;100&quot;.\n         Which was making floating action button visible even I set\n         invisible from code. So I just fromAlpha=&quot;100&quot; and toAlpha=&quot;0&quot; and problem fixed.  --&gt;\n\n</code></pre>\n"}],"owner":{"account_id":22608731,"reputation":423,"user_id":16789265,"display_name":"Hammad Zafar Bawara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72912294,"answer_count":1,"score":0,"last_activity_date":1657287623,"creation_date":1657264615,"question_id":72907961,"body_markdown":"My Floating Action Buttons are not getting **INVISIBLE OR GONE**\r\n\r\nWhen I click on add_btn it work fine it show animation and others buttons also get visible.\r\n[![enter image description here][1]][1]\r\n\r\nBut when I click on add_btn second time animation work but buttons do not get INVISIVLE.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThis is my java code for making floating action button visible and gone.\r\n```\r\naddFloatingBtn.setOnClickListener(view -&gt; {\r\n            if (!isFloatingActionBtnVisible){\r\n                // Making Buttons Visible\r\n                addVideoFloatingBtn.setVisibility(View.VISIBLE);\r\n                addNotesFloatingBtn.setVisibility(View.VISIBLE);\r\n                // Starting Animation\r\n                addVideoFloatingBtn.startAnimation(fromBottom);\r\n                addNotesFloatingBtn.startAnimation(fromBottom);\r\n                addFloatingBtn.startAnimation(rotateOpen);\r\n                isFloatingActionBtnVisible = true;\r\n                Toast.makeText(getContext(), &quot;Animation Added&quot;, Toast.LENGTH_SHORT).show();\r\n            }else {\r\n                // Starting Animation\r\n                addVideoFloatingBtn.startAnimation(toBottom);\r\n                addNotesFloatingBtn.startAnimation(toBottom);\r\n                addFloatingBtn.startAnimation(rotateClose);\r\n                // Making Buttons Visible\r\n                addVideoFloatingBtn.setVisibility(View.GONE);\r\n                addNotesFloatingBtn.setVisibility(View.GONE);\r\n                isFloatingActionBtnVisible = false;\r\n            }\r\n        });\r\n```\r\n\r\nThis is xml code for three floating buttons.\r\n\r\n```\r\n&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/add_floating_btn&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:src=&quot;@drawable/ic_add&quot;\r\n        android:tint=&quot;@color/white&quot;\r\n        android:background=&quot;@color/purple_500&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:focusable=&quot;true&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/add_video_floating_btn&quot;\r\n        android:layout_width=&quot;50dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:src=&quot;@drawable/ic_add_video&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/add_floating_btn&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/add_floating_btn&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/add_floating_btn&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/add_notes_floating_btn&quot;\r\n        android:layout_width=&quot;50dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:src=&quot;@drawable/ic_notes&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/add_video_floating_btn&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/add_video_floating_btn&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/add_video_floating_btn&quot; /&gt;\r\n```\r\n\r\n - I want other floating action buttons get INVISIBLE when I click second time but they don&#39;t.\r\n\r\n  [1]: https://i.stack.imgur.com/cEzhN.png\r\n  [2]: https://i.stack.imgur.com/m8rbE.png","title":"Floating Action Button is not getting INVISIBLE OR GONE","body":"<p>My Floating Action Buttons are not getting <strong>INVISIBLE OR GONE</strong></p>\n<p>When I click on add_btn it work fine it show animation and others buttons also get visible.\n<a href=\"https://i.stack.imgur.com/cEzhN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cEzhN.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I click on add_btn second time animation work but buttons do not get INVISIVLE.</p>\n<p><a href=\"https://i.stack.imgur.com/m8rbE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8rbE.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my java code for making floating action button visible and gone.</p>\n<pre><code>addFloatingBtn.setOnClickListener(view -&gt; {\n            if (!isFloatingActionBtnVisible){\n                // Making Buttons Visible\n                addVideoFloatingBtn.setVisibility(View.VISIBLE);\n                addNotesFloatingBtn.setVisibility(View.VISIBLE);\n                // Starting Animation\n                addVideoFloatingBtn.startAnimation(fromBottom);\n                addNotesFloatingBtn.startAnimation(fromBottom);\n                addFloatingBtn.startAnimation(rotateOpen);\n                isFloatingActionBtnVisible = true;\n                Toast.makeText(getContext(), &quot;Animation Added&quot;, Toast.LENGTH_SHORT).show();\n            }else {\n                // Starting Animation\n                addVideoFloatingBtn.startAnimation(toBottom);\n                addNotesFloatingBtn.startAnimation(toBottom);\n                addFloatingBtn.startAnimation(rotateClose);\n                // Making Buttons Visible\n                addVideoFloatingBtn.setVisibility(View.GONE);\n                addNotesFloatingBtn.setVisibility(View.GONE);\n                isFloatingActionBtnVisible = false;\n            }\n        });\n</code></pre>\n<p>This is xml code for three floating buttons.</p>\n<pre><code>&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/add_floating_btn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:clickable=&quot;true&quot;\n        android:src=&quot;@drawable/ic_add&quot;\n        android:tint=&quot;@color/white&quot;\n        android:background=&quot;@color/purple_500&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:focusable=&quot;true&quot; /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/add_video_floating_btn&quot;\n        android:layout_width=&quot;50dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:clickable=&quot;true&quot;\n        android:src=&quot;@drawable/ic_add_video&quot;\n        android:visibility=&quot;invisible&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/add_floating_btn&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/add_floating_btn&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/add_floating_btn&quot; /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/add_notes_floating_btn&quot;\n        android:layout_width=&quot;50dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:clickable=&quot;true&quot;\n        android:src=&quot;@drawable/ic_notes&quot;\n        android:visibility=&quot;invisible&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/add_video_floating_btn&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/add_video_floating_btn&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/add_video_floating_btn&quot; /&gt;\n</code></pre>\n<ul>\n<li>I want other floating action buttons get INVISIBLE when I click second time but they don't.</li>\n</ul>\n"},{"tags":["java","excel","apache-poi","xls"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1657282919,"post_id":72911181,"comment_id":128779689,"body_markdown":"This question is too broad. What is your concrete question? You would need read the Excel sheet data using `apache poi` and get the data of third column into a data structure which then can be used to construct a `JComboBox`. A `Vector` would offer, as there is constructor  [public JComboBox(Vector&lt;E&gt; items)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JComboBox.html#JComboBox-java.util.Vector-).","body":"This question is too broad. What is your concrete question? You would need read the Excel sheet data using <code>apache poi</code> and get the data of third column into a data structure which then can be used to construct a <code>JComboBox</code>. A <code>Vector</code> would offer, as there is constructor  <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JComboBox.html#JComboBox-java.util.Vector-\" rel=\"nofollow noreferrer\">public JComboBox(Vector&lt;E&gt; items)</a>."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657287567,"creation_date":1657287567,"answer_id":72912277,"question_id":72911181,"body_markdown":"To read Excel files using Apache POI one needs creating a `Workbook` object from a Excel file. Then one chooses the needed sheet and iterates over the needed rows. Then one gets the cell values from the needed column.\r\n\r\nSee [Busy Developers&#39; Guide to HSSF and XSSF Features](https://poi.apache.org/components/spreadsheet/quick-guide.html) for how to use Apache POI.\r\n\r\nThe simplest way to get the cell values is using `DataFormatter` of Apache POI. `DataFormatter.formatCellValue` gets the cell values as string in the same format as shown in Excel. Using current `apache poi 5.2.2`, `DataFormatter.setUseCachedValuesForFormulaCells` can be set `true`. Then no formula evaluation is needed when cell values are formula results.\r\n\r\nWhile iterating over the rows and getting cells one needs to know that totally empty rows are not stored in sheet&#39;s  data. So `Sheet.getRow` might return `null`. Also unused cells are not stored. So `Row.getCell` also might return `null`. That&#39;s why null-checks are necessary. And if empty cells shall not matter, `Row.MissingCellPolicy.RETURN_BLANK_AS_NULL` can be used in `Row.getCell`. Then empty cells also get returned as `null`.\r\n\r\nThe data could be stored in a data structure which then can be used to construct a `JComboBox`. A `Vector` would offer, as there is a constructor [public JComboBox(Vector&lt;E&gt; items)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JComboBox.html#JComboBox-java.util.Vector-).\r\n\r\nComplete example:\r\n\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import java.util.Vector; \r\n    import javax.swing.*;\r\n    \r\n    public class ReadExcelColumnToVector {\r\n        \r\n     private static final DataFormatter dataFormatter = new DataFormatter(java.util.Locale.US);\r\n     private Workbook workbook; \r\n     \r\n     public ReadExcelColumnToVector(String filePath) throws Exception {\r\n      this.workbook = WorkbookFactory.create(new FileInputStream(filePath));\r\n      this.dataFormatter.setUseCachedValuesForFormulaCells(true);\r\n     }\r\n         \t\r\n     public Vector&lt;String&gt; getData(int sheetIndex, int firstRow, int dataCol) {\r\n      Sheet sheet = this.workbook.getSheetAt(sheetIndex);   \r\n      Vector&lt;String&gt; data  = new Vector&lt;String&gt;();\r\n      String cellValue = &quot;&quot;;\r\n      for (int r = firstRow; r &lt;= sheet.getLastRowNum(); r++) {\r\n       Row row = sheet.getRow(r);\r\n       if (row != null) {\r\n        Cell cell = row.getCell(dataCol, Row.MissingCellPolicy.RETURN_BLANK_AS_NULL);\r\n        if (cell != null) {\r\n         cellValue = this.dataFormatter.formatCellValue(cell);\r\n         data.add(cellValue);\r\n        }\r\n       }\r\n      }\r\n      return data;\r\n     }\r\n     \r\n     public void closeWorkbook() {\r\n      try {\r\n       this.workbook.close();  \r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();\r\n      }      \r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n      \r\n      //ReadExcelColumnToVector app = new ReadExcelColumnToVector(&quot;./ExcelExample.xlsx&quot;);   \r\n      ReadExcelColumnToVector app = new ReadExcelColumnToVector(&quot;./ExcelExample.xls&quot;);   \r\n      \r\n      //get data from first sheet, starting on second row, third column\r\n      Vector&lt;String&gt; data = app.getData(0, 1, 2); // all indexes ara 0-based\r\n      \r\n      app.closeWorkbook();\r\n      \r\n      System.out.println(data);\r\n      // use Vector&lt;String&gt; data to construct a JComboBox\r\n      JFrame frame = new JFrame(&quot;JComboBox Sample&quot;);\r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.setSize(500, 100);\r\n      JPanel panel = new JPanel();\r\n      JComboBox&lt;String&gt; comboBox = new JComboBox&lt;String&gt;(data);\r\n      panel.add(comboBox);\r\n      frame.add(panel);\r\n      frame.setVisible(true);\r\n     \r\n     }\r\n    }","title":"Java - Print specific column values in jcombobox using POI","body":"<p>To read Excel files using Apache POI one needs creating a <code>Workbook</code> object from a Excel file. Then one chooses the needed sheet and iterates over the needed rows. Then one gets the cell values from the needed column.</p>\n<p>See <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">Busy Developers' Guide to HSSF and XSSF Features</a> for how to use Apache POI.</p>\n<p>The simplest way to get the cell values is using <code>DataFormatter</code> of Apache POI. <code>DataFormatter.formatCellValue</code> gets the cell values as string in the same format as shown in Excel. Using current <code>apache poi 5.2.2</code>, <code>DataFormatter.setUseCachedValuesForFormulaCells</code> can be set <code>true</code>. Then no formula evaluation is needed when cell values are formula results.</p>\n<p>While iterating over the rows and getting cells one needs to know that totally empty rows are not stored in sheet's  data. So <code>Sheet.getRow</code> might return <code>null</code>. Also unused cells are not stored. So <code>Row.getCell</code> also might return <code>null</code>. That's why null-checks are necessary. And if empty cells shall not matter, <code>Row.MissingCellPolicy.RETURN_BLANK_AS_NULL</code> can be used in <code>Row.getCell</code>. Then empty cells also get returned as <code>null</code>.</p>\n<p>The data could be stored in a data structure which then can be used to construct a <code>JComboBox</code>. A <code>Vector</code> would offer, as there is a constructor <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JComboBox.html#JComboBox-java.util.Vector-\" rel=\"nofollow noreferrer\">public JComboBox(Vector items)</a>.</p>\n<p>Complete example:</p>\n<pre><code>import java.io.FileInputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport java.util.Vector; \nimport javax.swing.*;\n\npublic class ReadExcelColumnToVector {\n    \n private static final DataFormatter dataFormatter = new DataFormatter(java.util.Locale.US);\n private Workbook workbook; \n \n public ReadExcelColumnToVector(String filePath) throws Exception {\n  this.workbook = WorkbookFactory.create(new FileInputStream(filePath));\n  this.dataFormatter.setUseCachedValuesForFormulaCells(true);\n }\n        \n public Vector&lt;String&gt; getData(int sheetIndex, int firstRow, int dataCol) {\n  Sheet sheet = this.workbook.getSheetAt(sheetIndex);   \n  Vector&lt;String&gt; data  = new Vector&lt;String&gt;();\n  String cellValue = &quot;&quot;;\n  for (int r = firstRow; r &lt;= sheet.getLastRowNum(); r++) {\n   Row row = sheet.getRow(r);\n   if (row != null) {\n    Cell cell = row.getCell(dataCol, Row.MissingCellPolicy.RETURN_BLANK_AS_NULL);\n    if (cell != null) {\n     cellValue = this.dataFormatter.formatCellValue(cell);\n     data.add(cellValue);\n    }\n   }\n  }\n  return data;\n }\n \n public void closeWorkbook() {\n  try {\n   this.workbook.close();  \n  } catch (Exception ex) {\n   ex.printStackTrace();\n  }      \n }\n \n public static void main(String[] args) throws Exception {\n  \n  //ReadExcelColumnToVector app = new ReadExcelColumnToVector(&quot;./ExcelExample.xlsx&quot;);   \n  ReadExcelColumnToVector app = new ReadExcelColumnToVector(&quot;./ExcelExample.xls&quot;);   \n  \n  //get data from first sheet, starting on second row, third column\n  Vector&lt;String&gt; data = app.getData(0, 1, 2); // all indexes ara 0-based\n  \n  app.closeWorkbook();\n  \n  System.out.println(data);\n  // use Vector&lt;String&gt; data to construct a JComboBox\n  JFrame frame = new JFrame(&quot;JComboBox Sample&quot;);\n  frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n  frame.setSize(500, 100);\n  JPanel panel = new JPanel();\n  JComboBox&lt;String&gt; comboBox = new JComboBox&lt;String&gt;(data);\n  panel.add(comboBox);\n  frame.add(panel);\n  frame.setVisible(true);\n \n }\n}\n</code></pre>\n"}],"owner":{"account_id":13579254,"reputation":17,"user_id":9795754,"display_name":"Alessandro Provenzano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657287567,"creation_date":1657282168,"question_id":72911181,"body_markdown":"I have a .xls file with only one sheet called &quot;clients&quot; and it contains data as it follows:\r\n\r\nName | Surname | Full name | Date of birth | City\r\n\r\nI need to get all the values in the &quot;Full name&quot; column and I need to print them in a jComboBox. \r\nIs there a way of doing that?\r\nThank you in advance","title":"Java - Print specific column values in jcombobox using POI","body":"<p>I have a .xls file with only one sheet called &quot;clients&quot; and it contains data as it follows:</p>\n<p>Name | Surname | Full name | Date of birth | City</p>\n<p>I need to get all the values in the &quot;Full name&quot; column and I need to print them in a jComboBox.\nIs there a way of doing that?\nThank you in advance</p>\n"},{"tags":["java","spring-boot","eclipse","gradle","spring-data-jpa"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1657190339,"post_id":72893952,"comment_id":128754027,"body_markdown":"Does [running Eclipse with Java 11](https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM) fix your issue?","body":"Does <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\" rel=\"nofollow noreferrer\">running Eclipse with Java 11</a> fix your issue?"},{"owner":{"account_id":5883476,"reputation":61,"user_id":4632181,"display_name":"Patrix"},"score":0,"creation_date":1657282501,"post_id":72893952,"comment_id":128779552,"body_markdown":"@howlger thanks for the response, I&#39;ve ran Eclipse under all java versions (8, 11, 17) but it was not an issue. Anyway, I&#39;ve figured it out and I&#39;m preparing a detailed response for this so it can help anyone who has the same issue.","body":"@howlger thanks for the response, I&#39;ve ran Eclipse under all java versions (8, 11, 17) but it was not an issue. Anyway, I&#39;ve figured it out and I&#39;m preparing a detailed response for this so it can help anyone who has the same issue."}],"answers":[{"tags":[],"owner":{"account_id":5883476,"reputation":61,"user_id":4632181,"display_name":"Patrix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657283923,"creation_date":1657283516,"answer_id":72911476,"question_id":72893952,"body_markdown":"It&#39;s a compiler argument.\r\n\r\nSeems that when the code is compiled, depending on the project, it will run with or without the `-parameters` argument to the `javac` command. When you run `javac --help`, the following line explains:\r\n```\r\n...\r\n  -parameters\r\n        Generate metadata for reflection on method parameters\r\n...\r\n```\r\nThis parameter is vital if you don&#39;t want to use `@Param(&quot;value&quot;)` in the repository method parameter, because this helps Spring Data determine the name of the parameter and assign it to `:value`.\r\n\r\nIn Eclipse(as of 2022-06), for your specific project, go to project **`Properties &gt; Java Compiler`** and check **`&quot;Store information about method parameters(usable via reflection)&quot;`** and the project will work without &quot;@Param&quot; annotations in the repository method parameters:\r\n[![enter image description here][1]][1]\r\n\r\nI still find it strange why on Maven projects this is activated but not on Gradle projects.\r\n\r\nThese answers helped me:\r\n- https://stackoverflow.com/a/38198699/4632181\r\n- https://stackoverflow.com/a/44075684/4632181\r\n\r\nFor IntelliJ IDEA, this might be a useful answer:\r\n- https://stackoverflow.com/a/24652186/4632181\r\n\r\n  [1]: https://i.stack.imgur.com/XUfYt.png","title":"Spring Data not working for Gradle projects under Eclipse without @Param annotations for method parameters","body":"<p>It's a compiler argument.</p>\n<p>Seems that when the code is compiled, depending on the project, it will run with or without the <code>-parameters</code> argument to the <code>javac</code> command. When you run <code>javac --help</code>, the following line explains:</p>\n<pre><code>...\n  -parameters\n        Generate metadata for reflection on method parameters\n...\n</code></pre>\n<p>This parameter is vital if you don't want to use <code>@Param(&quot;value&quot;)</code> in the repository method parameter, because this helps Spring Data determine the name of the parameter and assign it to <code>:value</code>.</p>\n<p>In Eclipse(as of 2022-06), for your specific project, go to project <strong><code>Properties &gt; Java Compiler</code></strong> and check <strong><code>&quot;Store information about method parameters(usable via reflection)&quot;</code></strong> and the project will work without &quot;@Param&quot; annotations in the repository method parameters:\n<a href=\"https://i.stack.imgur.com/XUfYt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XUfYt.png\" alt=\"enter image description here\" /></a></p>\n<p>I still find it strange why on Maven projects this is activated but not on Gradle projects.</p>\n<p>These answers helped me:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/38198699/4632181\">https://stackoverflow.com/a/38198699/4632181</a></li>\n<li><a href=\"https://stackoverflow.com/a/44075684/4632181\">https://stackoverflow.com/a/44075684/4632181</a></li>\n</ul>\n<p>For IntelliJ IDEA, this might be a useful answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/24652186/4632181\">https://stackoverflow.com/a/24652186/4632181</a></li>\n</ul>\n"}],"owner":{"account_id":5883476,"reputation":61,"user_id":4632181,"display_name":"Patrix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72911476,"answer_count":1,"score":0,"last_activity_date":1657287417,"creation_date":1657179446,"question_id":72893952,"body_markdown":"So I&#39;m using Gradle, Eclipse, Java 11, Spring Boot with some Spring Data JPA repositories.\r\nIn Eclipse, I&#39;ve tested with 3 different JDK libraries configured in the build path and in the execution: OpenJDK, OracleJDK and GraalVM.\r\nI get the same error every time:\r\n`Caused by: java.lang.IllegalArgumentException: Either use @Param on all parameters except Pageable and Sort typed once, or none at all!`\r\nBecause of a line like:\r\n```java\r\n@Query(&quot;select e from Entity e where e.value = :value&quot;)\r\nOptional&lt;Entity&gt; findByValue(String value);\r\n```\r\nGuaranteed to work would be to add `@Param(&quot;value&quot;)` for the parameter, but I don&#39;t want to do that because this project has a lot of repositories.\r\nIf I run this under the command line `./gradlew bootRun` where I set one of the JDKs, this error does not occur.\r\n\r\nIf I try to reproduce this under a new project, but under Maven where I set the properties for java and maven for Java 11, then it works just fine under Eclipse.\r\n\r\nThe Gradle project works fine under a IntelliJ IDEA.\r\n\r\nCan someone please help in explaining why this is happening? Does Eclipse bode well with Maven but not with Gradle? I can&#39;t fine an explanation.","title":"Spring Data not working for Gradle projects under Eclipse without @Param annotations for method parameters","body":"<p>So I'm using Gradle, Eclipse, Java 11, Spring Boot with some Spring Data JPA repositories.\nIn Eclipse, I've tested with 3 different JDK libraries configured in the build path and in the execution: OpenJDK, OracleJDK and GraalVM.\nI get the same error every time:\n<code>Caused by: java.lang.IllegalArgumentException: Either use @Param on all parameters except Pageable and Sort typed once, or none at all!</code>\nBecause of a line like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select e from Entity e where e.value = :value&quot;)\nOptional&lt;Entity&gt; findByValue(String value);\n</code></pre>\n<p>Guaranteed to work would be to add <code>@Param(&quot;value&quot;)</code> for the parameter, but I don't want to do that because this project has a lot of repositories.\nIf I run this under the command line <code>./gradlew bootRun</code> where I set one of the JDKs, this error does not occur.</p>\n<p>If I try to reproduce this under a new project, but under Maven where I set the properties for java and maven for Java 11, then it works just fine under Eclipse.</p>\n<p>The Gradle project works fine under a IntelliJ IDEA.</p>\n<p>Can someone please help in explaining why this is happening? Does Eclipse bode well with Maven but not with Gradle? I can't fine an explanation.</p>\n"},{"tags":["java","spring-mvc","jpa"],"comments":[{"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"score":0,"creation_date":1698136264,"post_id":28703401,"comment_id":136363694,"body_markdown":"Use java lambda expression, here is the example https://stackoverflow.com/a/47121334/8913302","body":"Use java lambda expression, here is the example <a href=\"https://stackoverflow.com/a/47121334/8913302\">stackoverflow.com/a/47121334/8913302</a>"}],"answers":[{"tags":[],"owner":{"account_id":3479223,"reputation":217,"user_id":2911732,"display_name":"segaurav"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1424805394,"creation_date":1424805394,"answer_id":28704307,"question_id":28703401,"body_markdown":"In my opinion \r\n\r\n - the Entity -&gt; DTO conversion should be done in the Controller before dispatching the jsp page\r\n - the DTO -&gt; Entity conversion should be done in the Controller as well after validating the DTO returned from the jsp page\r\n\r\nIts gives you more control over the process and you do not have to change the service/persistence classes every time some logic populating the Entity is changed.\r\n","title":"Conversion of DTO to entity and vice-versa","body":"<p>In my opinion </p>\n\n<ul>\n<li>the Entity -> DTO conversion should be done in the Controller before dispatching the jsp page</li>\n<li>the DTO -> Entity conversion should be done in the Controller as well after validating the DTO returned from the jsp page</li>\n</ul>\n\n<p>Its gives you more control over the process and you do not have to change the service/persistence classes every time some logic populating the Entity is changed.</p>\n"},{"tags":[],"owner":{"account_id":1356587,"reputation":6293,"user_id":1294870,"accept_rate":36,"display_name":"NIrav Modi"},"down_vote_count":7,"up_vote_count":23,"is_accepted":true,"score":16,"last_activity_date":1424871650,"creation_date":1424871650,"answer_id":28720522,"question_id":28703401,"body_markdown":"I think you are asking about where to write whole entity--&gt;DTO conversion logic. \r\n\r\nLike Your entity \r\n\r\n    class StudentEntity {\r\n     int age ;\r\n     String name;\r\n     \r\n     //getter\r\n     //setter\r\n     \r\n     public StudentDTO _toConvertStudentDTO(){\r\n    \tStudentDTO dto = new StudentDTO();\r\n    \t//set dto values here from StudentEntity\r\n    \treturn dto;\r\n     }\r\n    \r\n    }\r\n\r\nYour DTO Should be like\r\n\r\n    class StudentDTO  {\r\n     int age ;\r\n     String name;\r\n     \r\n     //getter\r\n     //setter\r\n     \r\n     public StudentEntity _toConvertStudentEntity(){\r\n    \tStudentEntity entity = new StudentEntity();\r\n    \t//set entity values here from StudentDTO\r\n    \treturn entity ;\r\n     }\r\n    \r\n    }\r\n\r\nAnd Your Controller should be like \r\n\r\n    @Controller\r\n    class MyController {\r\n    \r\n    \tpublic String my(){\r\n    \t\r\n    \t//Call the conversion method here like\r\n    \tStudentEntity entity = myDao.getStudent(1);\r\n    \tStudentDTO dto = entity._toConvertStudentDTO();\r\n    \t\r\n    \t//As vice versa\r\n    \t\r\n    \t}\r\n    \r\n    }","title":"Conversion of DTO to entity and vice-versa","body":"<p>I think you are asking about where to write whole entity-->DTO conversion logic. </p>\n\n<p>Like Your entity </p>\n\n<pre><code>class StudentEntity {\n int age ;\n String name;\n\n //getter\n //setter\n\n public StudentDTO _toConvertStudentDTO(){\n    StudentDTO dto = new StudentDTO();\n    //set dto values here from StudentEntity\n    return dto;\n }\n\n}\n</code></pre>\n\n<p>Your DTO Should be like</p>\n\n<pre><code>class StudentDTO  {\n int age ;\n String name;\n\n //getter\n //setter\n\n public StudentEntity _toConvertStudentEntity(){\n    StudentEntity entity = new StudentEntity();\n    //set entity values here from StudentDTO\n    return entity ;\n }\n\n}\n</code></pre>\n\n<p>And Your Controller should be like </p>\n\n<pre><code>@Controller\nclass MyController {\n\n    public String my(){\n\n    //Call the conversion method here like\n    StudentEntity entity = myDao.getStudent(1);\n    StudentDTO dto = entity._toConvertStudentDTO();\n\n    //As vice versa\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1657287156,"creation_date":1497512673,"answer_id":44561593,"question_id":28703401,"body_markdown":"This is an old question with accepted answer but thought to update it with easy way of doing it using model-mapper API. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n        &lt;version&gt;0.7.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUsing this API, you avoid manual setter &amp; getters as explained in accepted answer. \r\n\r\nIn my opinion, both conversions should happen at controller with the help of private utility methods and using Java8 stream&#39;s map ( if a Collection of DTOs is exchanged ) like illustrated in [this article](http://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application). \r\n\r\nIt should happen at controller because DTOs are meant to be exclusive transfer objects. I don&#39;t take my DTOs further way down.\r\n\r\nYou code your service &amp; data access layers on entities and convert DTOs to entities before calling service methods &amp; convert entities to DTOs before returning response from controller. \r\n\r\nI prefer this approach because entities rarely change and data can be added / removed from DTOs as desired. \r\n\r\nDetailed model mapper configuration and rules are described [here](http://modelmapper.org/user-manual/configuration/)\r\n","title":"Conversion of DTO to entity and vice-versa","body":"<p>This is an old question with accepted answer but thought to update it with easy way of doing it using model-mapper API.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n    &lt;version&gt;0.7.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Using this API, you avoid manual setter &amp; getters as explained in accepted answer.</p>\n<p>In my opinion, both conversions should happen at controller with the help of private utility methods and using Java8 stream's map ( if a Collection of DTOs is exchanged ) like illustrated in <a href=\"http://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\" rel=\"noreferrer\">this article</a>.</p>\n<p>It should happen at controller because DTOs are meant to be exclusive transfer objects. I don't take my DTOs further way down.</p>\n<p>You code your service &amp; data access layers on entities and convert DTOs to entities before calling service methods &amp; convert entities to DTOs before returning response from controller.</p>\n<p>I prefer this approach because entities rarely change and data can be added / removed from DTOs as desired.</p>\n<p>Detailed model mapper configuration and rules are described <a href=\"http://modelmapper.org/user-manual/configuration/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"display_name":"user1134181"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1540380596,"creation_date":1540380596,"answer_id":52967859,"question_id":28703401,"body_markdown":"I can recommend to use [mapstruct][1] library:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.2.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor example, if you have such an entity:\r\n\r\n    public class Entity {\r\n        private Integer status;\r\n        private String someString;\r\n        private Date startDate;\r\n        private Date endDate;\r\n    \r\n    \t// SKIPPED\r\n\t\r\nAnd DTO:\r\n\r\n    public class Dto {\r\n        private Boolean status;\r\n        private String someString;\r\n        private Long startDate;\r\n        private Long endDate;\r\n    \t\r\n    \t// SKIPPED\r\n\r\nThen the transformation can be done in the service layer by this way:\r\n\r\n    @Service\r\n    public class SomeServiceImpl implements SomeService {\r\n    \r\n        @Autowired\r\n        SomeDao someDao;\r\n    \r\n        @Autowired\r\n        SomeMapper someMapper;\r\n    \r\n    \r\n    \tpublic Dto getSomething(SomeRequest request) throws SomeException {\r\n    \t\treturn someDao.getSomething(request.getSomeData())\r\n    \t\t\t\t.map(SomeMapper::mapEntityToDto)\r\n    \t\t\t\t.orElseThrow(() -&gt; new SomeException(&quot;...&quot;));\r\n    \t}\r\n\r\nMapper can be represented as follows:\r\n\r\n    @Mapper\t\r\n    public interface SomeMapper {\r\n        @Mappings(\r\n    \t\t\t{@Mapping(target = &quot;entity&quot;, \r\n    \t\t\t\t\t  expression = &quot;java(entity.getStatus() == 1 ? Boolean.TRUE : Boolean.FALSE)&quot;),\r\n    \t\t\t @Mapping(target = &quot;endDate&quot;, source = &quot;endDate&quot;),\r\n                 @Mapping(target = &quot;startDate&quot;, source = &quot;startDate&quot;)\r\n    \t\t\t})\r\n    \r\n        Dto mapEntityToDto(Entity entity);\r\n    }\r\n\r\n\r\n  [1]: http://mapstruct.org","title":"Conversion of DTO to entity and vice-versa","body":"<p>I can recommend to use <a href=\"http://mapstruct.org\" rel=\"noreferrer\">mapstruct</a> library:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For example, if you have such an entity:</p>\n\n<pre><code>public class Entity {\n    private Integer status;\n    private String someString;\n    private Date startDate;\n    private Date endDate;\n\n    // SKIPPED\n</code></pre>\n\n<p>And DTO:</p>\n\n<pre><code>public class Dto {\n    private Boolean status;\n    private String someString;\n    private Long startDate;\n    private Long endDate;\n\n    // SKIPPED\n</code></pre>\n\n<p>Then the transformation can be done in the service layer by this way:</p>\n\n<pre><code>@Service\npublic class SomeServiceImpl implements SomeService {\n\n    @Autowired\n    SomeDao someDao;\n\n    @Autowired\n    SomeMapper someMapper;\n\n\n    public Dto getSomething(SomeRequest request) throws SomeException {\n        return someDao.getSomething(request.getSomeData())\n                .map(SomeMapper::mapEntityToDto)\n                .orElseThrow(() -&gt; new SomeException(\"...\"));\n    }\n</code></pre>\n\n<p>Mapper can be represented as follows:</p>\n\n<pre><code>@Mapper \npublic interface SomeMapper {\n    @Mappings(\n            {@Mapping(target = \"entity\", \n                      expression = \"java(entity.getStatus() == 1 ? Boolean.TRUE : Boolean.FALSE)\"),\n             @Mapping(target = \"endDate\", source = \"endDate\"),\n             @Mapping(target = \"startDate\", source = \"startDate\")\n            })\n\n    Dto mapEntityToDto(Entity entity);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1599119261,"creation_date":1549019252,"answer_id":54478261,"question_id":28703401,"body_markdown":"I suggest another approach without extra dependency:\r\n\r\n    import org.springframework.beans.BeanUtils\r\n    ...\r\n    BeanUtils.copyProperties(sourceObject, targetObject);\r\n\r\nCan be used to convert DTO to entity, or vice-versa, if they have same property types and names. \r\n\r\nIf you want to ignore some fields, just add them after the `targetObject`.\r\n\r\n    BeanUtils.copyProperties(sourceObj, targetObj, &quot;propertyToIgnoreA&quot;, &quot;propertyToIgnoreB&quot;, &quot;propertyToIgnoreC&quot;);\r\n\r\nSource: http://appsdeveloperblog.com/dto-to-entity-and-entity-to-dto-conversion/\r\n\r\n\r\nI think this is the cleanest way. Remember to check the Javadoc for caveats!\r\n","title":"Conversion of DTO to entity and vice-versa","body":"<p>I suggest another approach without extra dependency:</p>\n<pre><code>import org.springframework.beans.BeanUtils\n...\nBeanUtils.copyProperties(sourceObject, targetObject);\n</code></pre>\n<p>Can be used to convert DTO to entity, or vice-versa, if they have same property types and names.</p>\n<p>If you want to ignore some fields, just add them after the <code>targetObject</code>.</p>\n<pre><code>BeanUtils.copyProperties(sourceObj, targetObj, &quot;propertyToIgnoreA&quot;, &quot;propertyToIgnoreB&quot;, &quot;propertyToIgnoreC&quot;);\n</code></pre>\n<p>Source: <a href=\"http://appsdeveloperblog.com/dto-to-entity-and-entity-to-dto-conversion/\" rel=\"noreferrer\">http://appsdeveloperblog.com/dto-to-entity-and-entity-to-dto-conversion/</a></p>\n<p>I think this is the cleanest way. Remember to check the Javadoc for caveats!</p>\n"},{"tags":[],"owner":{"account_id":10350284,"reputation":41,"user_id":7633895,"display_name":"bhagyashree1990"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572418296,"creation_date":1572418296,"answer_id":58619974,"question_id":28703401,"body_markdown":"Used mapstruct library. Additionally added the following in build.gradle\r\n\r\n    sourceSets {\r\n\t\tmain.java.srcDirs += &quot;build/generated/sources/annotationProcessor/java/main/&quot;\r\n\t}","title":"Conversion of DTO to entity and vice-versa","body":"<p>Used mapstruct library. Additionally added the following in build.gradle</p>\n\n<pre><code>sourceSets {\n    main.java.srcDirs += \"build/generated/sources/annotationProcessor/java/main/\"\n}\n</code></pre>\n"}],"owner":{"account_id":1116592,"reputation":2160,"user_id":1105785,"accept_rate":77,"display_name":"xyz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101495,"favorite_count":0,"down_vote_count":1,"up_vote_count":44,"accepted_answer_id":28720522,"answer_count":6,"score":43,"last_activity_date":1657287156,"creation_date":1424802300,"question_id":28703401,"body_markdown":"\r\n I am using `Spring MVC` architecture with `JPA` in my web application.  Where to convert data transfer object (DTO) to JPA entity and vice-versa, manually (that is, without using any framework)?\r\n\r\n","title":"Conversion of DTO to entity and vice-versa","body":"<p>I am using <code>Spring MVC</code> architecture with <code>JPA</code> in my web application.  Where to convert data transfer object (DTO) to JPA entity and vice-versa, manually (that is, without using any framework)?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8792,"page":1200,"page_size":100}
