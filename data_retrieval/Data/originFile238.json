{"items":[{"tags":["java","selenium-webdriver","web-scraping"],"comments":[{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1693296796,"post_id":76931193,"comment_id":135738474,"body_markdown":"This is probably the answer to your issue in regards to new CfT api for chromedriver releases: https://stackoverflow.com/a/76998277/11543023","body":"This is probably the answer to your issue in regards to new CfT api for chromedriver releases: <a href=\"https://stackoverflow.com/a/76998277/11543023\">stackoverflow.com/a/76998277/11543023</a>"}],"answers":[{"comments":[{"owner":{"account_id":21107718,"reputation":1,"user_id":15516343,"display_name":"JMBLAS"},"score":0,"creation_date":1692378184,"post_id":76931252,"comment_id":135619668,"body_markdown":"ok, but do i always have to change the version manually? , there is another way, without specifying the version, because chrome will change the version at another time, this application will fail, and changing the version manually adds more maintenance to this application","body":"ok, but do i always have to change the version manually? , there is another way, without specifying the version, because chrome will change the version at another time, this application will fail, and changing the version manually adds more maintenance to this application"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692378891,"post_id":76931252,"comment_id":135619812,"body_markdown":"You can use `driver.getCapabilities().getCapability(CapabilityType.VERSION)` and deal with it","body":"You can use <code>driver.getCapabilities().getCapability(CapabilityType.VERSIO&zwnj;&#8203;N)</code> and deal with it"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692377689,"creation_date":1692377689,"answer_id":76931252,"question_id":76931193,"body_markdown":"You can use WebDriverManager to **automatically download and set up** the appropriate `ChromeDriver` version based on your installed Chrome browser version. \r\n\r\nThis way:\r\n\r\n```java\r\n// Use the correct version number\r\nWebDriverManager.chromedriver().browserVersion(&quot;116.0.5845.96&quot;).setup(); \r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\noptions.addArguments(&quot;--headless&quot;);\r\noptions.addArguments(&quot;--user-agent=MiUserAgentPersonalizado&quot;);\r\n```\r\n\r\nRemember to replace `116.0.5845.96` with **the exact version of Chrome installed on your system**.","title":"Could not start a new session - incompatible version- Selenium Java","body":"<p>You can use WebDriverManager to <strong>automatically download and set up</strong> the appropriate <code>ChromeDriver</code> version based on your installed Chrome browser version.</p>\n<p>This way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Use the correct version number\nWebDriverManager.chromedriver().browserVersion(&quot;116.0.5845.96&quot;).setup(); \nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\noptions.addArguments(&quot;--headless&quot;);\noptions.addArguments(&quot;--user-agent=MiUserAgentPersonalizado&quot;);\n</code></pre>\n<p>Remember to replace <code>116.0.5845.96</code> with <strong>the exact version of Chrome installed on your system</strong>.</p>\n"},{"tags":[],"owner":{"account_id":15415613,"reputation":7,"user_id":11121180,"display_name":"Sudhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692579418,"creation_date":1692561856,"answer_id":76941133,"question_id":76931193,"body_markdown":"Using latest version of selenium 4.11.0 solves this problem.\r\nAnd use;\r\n\r\n    WebDriver driver = new ChromeDriver();","title":"Could not start a new session - incompatible version- Selenium Java","body":"<p>Using latest version of selenium 4.11.0 solves this problem.\nAnd use;</p>\n<pre><code>WebDriver driver = new ChromeDriver();\n</code></pre>\n"}],"owner":{"account_id":21107718,"reputation":1,"user_id":15516343,"display_name":"JMBLAS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692579418,"creation_date":1692377069,"question_id":76931193,"body_markdown":"\r\n```\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```\r\n\r\n \r\n```\r\n  \r\n  WebDriverManager.chromedriver().setup();        \r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--user-agent=MiUserAgentPersonalizado&quot;);\r\n\r\n        WebDriver driver = new ChromeDriver(options);\r\n        driver.get(&quot;XXXX&quot;);\r\n\r\n\r\n\r\n```\r\n   \r\n\r\n`Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 116.0.5845.96 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe`\r\n\r\n\r\nPLEASE, I want to know, How Should I to setting selenium to automatically recognize specify version of Chrome. it worked around two months until yesterday, but today not","title":"Could not start a new session - incompatible version- Selenium Java","body":"<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n        &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n</code></pre>\n<pre><code>  \n  WebDriverManager.chromedriver().setup();        \n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--user-agent=MiUserAgentPersonalizado&quot;);\n\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(&quot;XXXX&quot;);\n\n\n\n</code></pre>\n<p><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114 Current browser version is 116.0.5845.96 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe</code></p>\n<p>PLEASE, I want to know, How Should I to setting selenium to automatically recognize specify version of Chrome. it worked around two months until yesterday, but today not</p>\n"},{"tags":["java","swing","zooming","jscrollpane","mousewheel"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679248478,"post_id":75783760,"comment_id":133683318,"body_markdown":"what&#39;s wrong with using a JScrollPane? Anyway, please add code of what you tried to achieve your requirement","body":"what&#39;s wrong with using a JScrollPane? Anyway, please add code of what you tried to achieve your requirement"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1679248825,"post_id":75783760,"comment_id":133683377,"body_markdown":"i added it, but it makes the code more messy","body":"i added it, but it makes the code more messy"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1679261903,"post_id":75783760,"comment_id":133685366,"body_markdown":"*The code I have is buggy ...* - 1) don&#39;t play with the scrollbar policy. When the scroll pane is used correctly the scrollbars will appear/disappear as required. 2) Also, don&#39;t use the setPreferredSize() method. It is the job of each component to determine its own preferred size. Instead you should override the `getPreferredSize()` method of your component. See: https://stackoverflow.com/a/75772987/131872 for a basic solution to a similar problem.","body":"<i>The code I have is buggy ...</i> - 1) don&#39;t play with the scrollbar policy. When the scroll pane is used correctly the scrollbars will appear/disappear as required. 2) Also, don&#39;t use the setPreferredSize() method. It is the job of each component to determine its own preferred size. Instead you should override the <code>getPreferredSize()</code> method of your component. See: <a href=\"https://stackoverflow.com/a/75772987/131872\">stackoverflow.com/a/75772987/131872</a> for a basic solution to a similar problem."},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1679336918,"post_id":75783760,"comment_id":133700431,"body_markdown":"ok, removed the policy and override getPreferreSize as you suggest, but seethe scrollbars flashing and unable to capture restore events (see code above)","body":"ok, removed the policy and override getPreferreSize as you suggest, but seethe scrollbars flashing and unable to capture restore events (see code above)"}],"answers":[{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1692304167,"post_id":76924425,"comment_id":135608893,"body_markdown":"This looks like a question and a link. Neither separatly nor combined that is an answer. Please read [answer] and take the [tour]. Then [edit] to give more of a solution directly here and preferrably more assertively.","body":"This looks like a question and a link. Neither separatly nor combined that is an answer. Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>. Then <a href=\"https://stackoverflow.com/posts/76924425/edit\">edit</a> to give more of a solution directly here and preferrably more assertively."},{"owner":{"account_id":22230205,"reputation":1,"user_id":22406970,"display_name":"Alfredo Aparicio"},"score":0,"creation_date":1692578605,"post_id":76924425,"comment_id":135638241,"body_markdown":"It didn&#39;t look that way when I wrote that up, thank you.","body":"It didn&#39;t look that way when I wrote that up, thank you."}],"tags":[],"owner":{"account_id":22230205,"reputation":1,"user_id":22406970,"display_name":"Alfredo Aparicio"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692579013,"creation_date":1692298879,"answer_id":76924425,"question_id":75783760,"body_markdown":"ScrollbarPolicies helps to configure the visibility of the scrollbars in the JScrollPane. You can set to show up as needed with these:\r\n       scrollpane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);       scrollpane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n\r\nThe default value, if I&#39;m not mistaken is the ALWAYS constant, and it can be set up to NEVER if needed.\r\n\r\nHere is the oracle documentation of the usage for scrollpanes:\r\n\r\nhttps://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#setup","title":"How to add and remove scrollbars dynamically to a zoomable panel based on Rectangle&#39;s visibility","body":"<p>ScrollbarPolicies helps to configure the visibility of the scrollbars in the JScrollPane. You can set to show up as needed with these:\nscrollpane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);       scrollpane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);</p>\n<p>The default value, if I'm not mistaken is the ALWAYS constant, and it can be set up to NEVER if needed.</p>\n<p>Here is the oracle documentation of the usage for scrollpanes:</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#setup\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#setup</a></p>\n"}],"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692579013,"creation_date":1679246709,"question_id":75783760,"body_markdown":"I am trying to manipulate some blue rectangles within a confined, much larger red rectangle.  \r\nI have this working along with a zoom-in and zoom-out function\r\n\r\nThe problem is I would like to display scrollbars whenever the red rectangle is not completely visible\r\nand dynamically remove the scrollbars when the entire red rectangle is visible.\r\n\r\nHow can i achieve this? This is what i got so far...\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.Rectangle2D;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame(&quot;Zoomable Canvas&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(800, 600);\r\n    \r\n            ZoomPanel zoomPanel = new ZoomPanel();\r\n            frame.add(zoomPanel);\r\n            frame.setVisible(true);\r\n            frame.setLocationRelativeTo(null);\r\n        }\r\n    }\r\n    \r\n    class ZoomPanel extends JPanel {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private double zoomFactor = 1.0;\r\n        private static final double ZOOM_MULTIPLIER = 1.1;\r\n        private static final double MIN_ZOOM = 0.1; // Minimum zoom level\r\n        private static final double MAX_ZOOM = 4.0; // Maximum zoom level\r\n    \r\n        private Point zoomCenter;\r\n        private AffineTransform currentTransform;\r\n        private Point lastMousePosition;\r\n        private Rectangle2D.Double square;\r\n        private Point dragOffset;\r\n        private Rectangle2D.Double redRectangle;\r\n    \r\n        public ZoomPanel() {\r\n            currentTransform = new AffineTransform();\r\n            square = new Rectangle2D.Double(100, 100, 200, 200);\r\n            redRectangle = new Rectangle2D.Double(0, 0, 1000, 1000);\r\n    \r\n            addMouseWheelListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseWheelMoved(MouseWheelEvent e) {\r\n                    double adjustedZoomFactor = e.getWheelRotation() &lt; 0 ? ZOOM_MULTIPLIER : 1 / ZOOM_MULTIPLIER;\r\n                    double newZoomFactor = zoomFactor * adjustedZoomFactor;\r\n    \r\n                    // Check if the new zoom factor is within the valid range\r\n                    if (newZoomFactor &gt;= MIN_ZOOM &amp;&amp; newZoomFactor &lt;= MAX_ZOOM) {\r\n                        zoomFactor = newZoomFactor;\r\n                        zoomCenter = e.getPoint();\r\n    \r\n                        AffineTransform at = new AffineTransform();\r\n                        at.translate(zoomCenter.getX(), zoomCenter.getY());\r\n                        at.scale(adjustedZoomFactor, adjustedZoomFactor);\r\n                        at.translate(-zoomCenter.getX(), -zoomCenter.getY());\r\n    \r\n                        currentTransform.preConcatenate(at);\r\n    \r\n                        repaint();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                    Point transformedPoint = transformPoint(e.getPoint(), currentTransform);\r\n                    if (square.contains(transformedPoint)) {\r\n                        lastMousePosition = e.getPoint();\r\n                        dragOffset = new Point(transformedPoint.x - (int) square.getX(), transformedPoint.y - (int) square.getY());\r\n                    } else {\r\n                        lastMousePosition = null;\r\n                    }\r\n                }\r\n            });\r\n    \r\n            addMouseMotionListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseDragged(MouseEvent e) {\r\n                    if (lastMousePosition != null) {\r\n                        Point transformedPoint = transformPoint(e.getPoint(), currentTransform);\r\n                        int newX = transformedPoint.x - dragOffset.x;\r\n                        int newY = transformedPoint.y - dragOffset.y;\r\n    \r\n                        // Check if the new position is within the red rectangle\r\n                        if (redRectangle.contains(newX, newY, square.getWidth(), square.getHeight())) {\r\n                            square.setRect(newX, newY, square.getWidth(), square.getHeight());\r\n                            lastMousePosition = e.getPoint();\r\n    \r\n                            repaint();\r\n                        }\r\n                    }\r\n                }\r\n              });\r\n          }\r\n        \r\n        \r\n        private Point transformPoint(Point point, AffineTransform transform) {\r\n            try {\r\n                AffineTransform inverse = transform.createInverse();\r\n                Point transformedPoint = new Point();\r\n                inverse.transform(point, transformedPoint);\r\n                return transformedPoint;\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \r\n            // Apply zoom factor\r\n            if (zoomCenter != null) {\r\n                g2d.transform(currentTransform);\r\n            }\r\n    \r\n            // Draw red rectangle\r\n            g2d.setColor(Color.red);\r\n            g2d.fill(redRectangle);\r\n    \r\n            // Draw blue square\r\n            g2d.setColor(Color.BLUE);\r\n            g2d.fill(square);\r\n        }\r\n    }\r\n\r\nThe code I have is buggy ...\r\n\r\n    package zoom;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.Rectangle2D;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame(&quot;Zoomable Canvas&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(800, 600);\r\n    \r\n            ZoomPanel zoomPanel = new ZoomPanel();\r\n            JScrollPane scrollPane = new JScrollPane(zoomPanel);\r\n            frame.add(scrollPane);\r\n            frame.setVisible(true);\r\n            frame.setLocationRelativeTo(null);\r\n        }\r\n    }\r\n    \r\n    class ZoomPanel extends JPanel {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private double zoomFactor = 1.0;\r\n        private static final double ZOOM_MULTIPLIER = 1.1;\r\n        private static final double MIN_ZOOM = 0.1; // Minimum zoom level\r\n        private static final double MAX_ZOOM = 4.0; // Maximum zoom level\r\n    \r\n        private Point zoomCenter;\r\n        private AffineTransform currentTransform;\r\n        private Point lastMousePosition;\r\n        private Rectangle2D.Double square;\r\n        private Point dragOffset;\r\n        private Rectangle2D.Double redRectangle;\r\n    \r\n        public ZoomPanel() {\r\n            currentTransform = new AffineTransform();\r\n            square = new Rectangle2D.Double(100, 100, 200, 200);\r\n            redRectangle = new Rectangle2D.Double(0, 0, 1000, 1000);\r\n    \r\n            addMouseWheelListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseWheelMoved(MouseWheelEvent e) {\r\n                    double adjustedZoomFactor = e.getWheelRotation() &lt; 0 ? ZOOM_MULTIPLIER : 1 / ZOOM_MULTIPLIER;\r\n                    double newZoomFactor = zoomFactor * adjustedZoomFactor;\r\n    \r\n                    // Check if the new zoom factor is within the valid range\r\n                    if (newZoomFactor &gt;= MIN_ZOOM &amp;&amp; newZoomFactor &lt;= MAX_ZOOM) {\r\n                        zoomFactor = newZoomFactor;\r\n                        zoomCenter = e.getPoint();\r\n    \r\n                        AffineTransform at = new AffineTransform();\r\n                        at.translate(zoomCenter.getX(), zoomCenter.getY());\r\n                        at.scale(adjustedZoomFactor, adjustedZoomFactor);\r\n                        at.translate(-zoomCenter.getX(), -zoomCenter.getY());\r\n    \r\n                        currentTransform.preConcatenate(at);\r\n                        updatePreferredSize(); // Add this line\r\n                        repaint();\r\n                    }\r\n                \r\n                }\r\n            });\r\n    \r\n            addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                    Point transformedPoint = transformPoint(e.getPoint(), currentTransform);\r\n                    if (square.contains(transformedPoint)) {\r\n                        lastMousePosition = e.getPoint();\r\n                        dragOffset = new Point(transformedPoint.x - (int) square.getX(), transformedPoint.y - (int) square.getY());\r\n                    } else {\r\n                        lastMousePosition = null;\r\n                    }\r\n                }\r\n            });\r\n    \r\n            addMouseMotionListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseDragged(MouseEvent e) {\r\n                    if (lastMousePosition != null) {\r\n                        Point transformedPoint = transformPoint(e.getPoint(), currentTransform);\r\n                        int newX = transformedPoint.x - dragOffset.x;\r\n                        int newY = transformedPoint.y - dragOffset.y;\r\n    \r\n                        // Check if the new position is within the red rectangle\r\n                        if (redRectangle.contains(newX, newY, square.getWidth(), square.getHeight())) {\r\n                            square.setRect(newX, newY, square.getWidth(), square.getHeight());\r\n                            lastMousePosition = e.getPoint();\r\n    \r\n                            repaint();\r\n                        }\r\n                    }\r\n                }\r\n              });\r\n          }\r\n        \r\n        \r\n        private Point transformPoint(Point point, AffineTransform transform) {\r\n            try {\r\n                AffineTransform inverse = transform.createInverse();\r\n                Point transformedPoint = new Point();\r\n                inverse.transform(point, transformedPoint);\r\n                return transformedPoint;\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \r\n            // Apply zoom factor\r\n            if (zoomCenter != null) {\r\n                g2d.transform(currentTransform);\r\n            }\r\n    \r\n            // Draw red rectangle\r\n            g2d.setColor(Color.red);\r\n            g2d.fill(redRectangle);\r\n    \r\n            // Draw blue square\r\n            g2d.setColor(Color.BLUE);\r\n            g2d.fill(square);\r\n        }\r\n    \r\n        private void updateScrollbars() {\r\n            Container parent = getParent();\r\n            if (parent instanceof JViewport) {\r\n                JViewport viewport = (JViewport) parent;\r\n                Rectangle viewRect = viewport.getViewRect();\r\n    \r\n                boolean horizontalScrollbarVisible = viewRect.width &lt; redRectangle.width * zoomFactor;\r\n                boolean verticalScrollbarVisible = viewRect.height &lt; redRectangle.height * zoomFactor;\r\n    \r\n                JScrollPane scrollPane = (JScrollPane) SwingUtilities.getAncestorOfClass(JScrollPane.class, this);\r\n                if (scrollPane != null) {\r\n                    scrollPane.setHorizontalScrollBarPolicy(horizontalScrollbarVisible ? JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED : JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n                    scrollPane.setVerticalScrollBarPolicy(verticalScrollbarVisible ? JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED : JScrollPane.VERTICAL_SCROLLBAR_NEVER);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void updatePreferredSize() {\r\n            int width = (int) (redRectangle.width * zoomFactor);\r\n            int height = (int) (redRectangle.height * zoomFactor);\r\n            setPreferredSize(new Dimension(width, height));\r\n            revalidate();\r\n        }\r\n        \r\n    }\r\n\r\nI tried camickr&#39;s advice and didn&#39;t use the scrollbarpolicy and override getPreferredSize which works -- sort of..i get funky scrollbars flashing when i resize and whatever i try, i cannot capture the restore event after a maximize...so the override code doesn&#39;t have any effect\r\n\r\n    package zoom;\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.event.ComponentListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class SwingApp {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tcreateAndShowGUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowGUI() {\r\n    \t\tJFrame frame = new JFrame(&quot;Swing App&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setSize(640, 480);\r\n    \t\tframe.setResizable(true);\r\n    \r\n    \t\tJScrollPane scrollPane = new JScrollPane();\r\n    \t\tEditor editor = new Editor(scrollPane);\r\n    \r\n    /*\r\n    \t\tframe.addWindowStateListener(new WindowStateListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void windowStateChanged(WindowEvent e) {\r\n    \t\t\t\tif ((e.getNewState() &amp; Frame.MAXIMIZED_BOTH) == Frame.MAXIMIZED_BOTH\r\n    \t\t                || e.getNewState() == Frame.NORMAL) {\r\n    \t\t            editor.updateWorkspace();\r\n    \t\t            editor.updatePreferredSize();\r\n    \t\t            frame.repaint();\r\n    \t\t        }\r\n    \t\t\t}\r\n    \t\t});\r\n    */\r\n    \t\tframe.addComponentListener(new ComponentListener() {\r\n    \t\t\t@Override public void componentResized(ComponentEvent arg0) {\t\t\t\t\r\n    \t\t\t\teditor.updateWorkspace();\r\n    \t\t\t\teditor.updatePreferredSize();\r\n    \t\t\t\teditor.repaint();\r\n    \t\t\t}\r\n    \t\t\t@Override public void componentHidden(ComponentEvent arg0) {}\r\n    \t\t\t@Override public void componentMoved(ComponentEvent arg0) {}\r\n    \t\t\t@Override public void componentShown(ComponentEvent arg0) {}\t\t    \t\r\n    \t\t});\t\t\r\n    \r\n    \t\tframe.getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tstatic class Editor extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\tprivate static final int WORKSPACE_WIDTH = 300;\r\n    \t\tprivate static final int WORKSPACE_HEIGHT = 300;\r\n    \r\n    \t\tprivate Dimension preferredSize;\r\n    \t\tprivate Rectangle workspace;\r\n    \t\tprivate Rectangle box;\r\n    \t\tprivate JScrollPane scrollPane;\r\n    \r\n    \t\tprivate Editor(JScrollPane s) {\r\n    \t\t\tscrollPane = s;\r\n    \t\t\tpreferredSize = new Dimension(WORKSPACE_WIDTH, WORKSPACE_HEIGHT);\r\n    \t\t\tworkspace = new Rectangle(0, 0, WORKSPACE_WIDTH, WORKSPACE_HEIGHT);\r\n    \t\t\tbox = new Rectangle(workspace.x + 100, workspace.y + 100, 100, 100);\r\n    \t\t\tscrollPane.setViewportView(this);\r\n    //\t\t\tupdateWorkspace();\r\n    //\t\t\tupdatePreferredSize();\r\n    //\t\t\trevalidate();\r\n    \t\t}\r\n    \r\n    \t\tpublic void updateWorkspace() {\r\n    \t\t\tint xPos = (getWidth() - workspace.width) / 2;\r\n    \t\t\tint yPos = (getHeight() - workspace.height) / 2;\r\n    \t\t\tworkspace = new Rectangle(xPos, yPos, workspace.width, workspace.height);\r\n    \t\t\tbox = new Rectangle(workspace.x + 100, workspace.y + 100, box.width, box.height);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Dimension getPreferredSize() {\r\n    \t\t\treturn preferredSize;\r\n    \t\t}\r\n    \r\n    \t\tprivate void updatePreferredSize() {\r\n    \t\t\tRectangle v = scrollPane.getViewport().getVisibleRect();\r\n    \r\n    \t\t\tif(v != null) {\t\r\n    \t\t\t\tint left = Math.min(v.x, workspace.x);\r\n    \t\t\t\tint right = Math.max(v.x + v.width, workspace.x + workspace.width);\r\n    \t\t\t\tint top = Math.min(v.y, workspace.y);\r\n    \t\t\t\tint bottom = Math.max(v.y + v.height, workspace.y + workspace.height);\r\n    \t\t\t\tpreferredSize = new Dimension(right-left, bottom-top);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\tg.setColor(Color.GREEN);\r\n    \t\t\tg.fillRect(workspace.x, workspace.y, workspace.width, workspace.height);\r\n    \r\n    \t\t\tg.setColor(Color.BLUE);\r\n    \t\t\tg.fillRect(box.x, box.y, box.width, box.height);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to add and remove scrollbars dynamically to a zoomable panel based on Rectangle&#39;s visibility","body":"<p>I am trying to manipulate some blue rectangles within a confined, much larger red rectangle.<br />\nI have this working along with a zoom-in and zoom-out function</p>\n<p>The problem is I would like to display scrollbars whenever the red rectangle is not completely visible\nand dynamically remove the scrollbars when the entire red rectangle is visible.</p>\n<p>How can i achieve this? This is what i got so far...</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Rectangle2D;\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Zoomable Canvas&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800, 600);\n\n        ZoomPanel zoomPanel = new ZoomPanel();\n        frame.add(zoomPanel);\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n    }\n}\n\nclass ZoomPanel extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n    private double zoomFactor = 1.0;\n    private static final double ZOOM_MULTIPLIER = 1.1;\n    private static final double MIN_ZOOM = 0.1; // Minimum zoom level\n    private static final double MAX_ZOOM = 4.0; // Maximum zoom level\n\n    private Point zoomCenter;\n    private AffineTransform currentTransform;\n    private Point lastMousePosition;\n    private Rectangle2D.Double square;\n    private Point dragOffset;\n    private Rectangle2D.Double redRectangle;\n\n    public ZoomPanel() {\n        currentTransform = new AffineTransform();\n        square = new Rectangle2D.Double(100, 100, 200, 200);\n        redRectangle = new Rectangle2D.Double(0, 0, 1000, 1000);\n\n        addMouseWheelListener(new MouseAdapter() {\n            @Override\n            public void mouseWheelMoved(MouseWheelEvent e) {\n                double adjustedZoomFactor = e.getWheelRotation() &lt; 0 ? ZOOM_MULTIPLIER : 1 / ZOOM_MULTIPLIER;\n                double newZoomFactor = zoomFactor * adjustedZoomFactor;\n\n                // Check if the new zoom factor is within the valid range\n                if (newZoomFactor &gt;= MIN_ZOOM &amp;&amp; newZoomFactor &lt;= MAX_ZOOM) {\n                    zoomFactor = newZoomFactor;\n                    zoomCenter = e.getPoint();\n\n                    AffineTransform at = new AffineTransform();\n                    at.translate(zoomCenter.getX(), zoomCenter.getY());\n                    at.scale(adjustedZoomFactor, adjustedZoomFactor);\n                    at.translate(-zoomCenter.getX(), -zoomCenter.getY());\n\n                    currentTransform.preConcatenate(at);\n\n                    repaint();\n                }\n            }\n        });\n\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                Point transformedPoint = transformPoint(e.getPoint(), currentTransform);\n                if (square.contains(transformedPoint)) {\n                    lastMousePosition = e.getPoint();\n                    dragOffset = new Point(transformedPoint.x - (int) square.getX(), transformedPoint.y - (int) square.getY());\n                } else {\n                    lastMousePosition = null;\n                }\n            }\n        });\n\n        addMouseMotionListener(new MouseAdapter() {\n            @Override\n            public void mouseDragged(MouseEvent e) {\n                if (lastMousePosition != null) {\n                    Point transformedPoint = transformPoint(e.getPoint(), currentTransform);\n                    int newX = transformedPoint.x - dragOffset.x;\n                    int newY = transformedPoint.y - dragOffset.y;\n\n                    // Check if the new position is within the red rectangle\n                    if (redRectangle.contains(newX, newY, square.getWidth(), square.getHeight())) {\n                        square.setRect(newX, newY, square.getWidth(), square.getHeight());\n                        lastMousePosition = e.getPoint();\n\n                        repaint();\n                    }\n                }\n            }\n          });\n      }\n    \n    \n    private Point transformPoint(Point point, AffineTransform transform) {\n        try {\n            AffineTransform inverse = transform.createInverse();\n            Point transformedPoint = new Point();\n            inverse.transform(point, transformedPoint);\n            return transformedPoint;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        // Apply zoom factor\n        if (zoomCenter != null) {\n            g2d.transform(currentTransform);\n        }\n\n        // Draw red rectangle\n        g2d.setColor(Color.red);\n        g2d.fill(redRectangle);\n\n        // Draw blue square\n        g2d.setColor(Color.BLUE);\n        g2d.fill(square);\n    }\n}\n</code></pre>\n<p>The code I have is buggy ...</p>\n<pre><code>package zoom;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Rectangle2D;\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Zoomable Canvas&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800, 600);\n\n        ZoomPanel zoomPanel = new ZoomPanel();\n        JScrollPane scrollPane = new JScrollPane(zoomPanel);\n        frame.add(scrollPane);\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n    }\n}\n\nclass ZoomPanel extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n    private double zoomFactor = 1.0;\n    private static final double ZOOM_MULTIPLIER = 1.1;\n    private static final double MIN_ZOOM = 0.1; // Minimum zoom level\n    private static final double MAX_ZOOM = 4.0; // Maximum zoom level\n\n    private Point zoomCenter;\n    private AffineTransform currentTransform;\n    private Point lastMousePosition;\n    private Rectangle2D.Double square;\n    private Point dragOffset;\n    private Rectangle2D.Double redRectangle;\n\n    public ZoomPanel() {\n        currentTransform = new AffineTransform();\n        square = new Rectangle2D.Double(100, 100, 200, 200);\n        redRectangle = new Rectangle2D.Double(0, 0, 1000, 1000);\n\n        addMouseWheelListener(new MouseAdapter() {\n            @Override\n            public void mouseWheelMoved(MouseWheelEvent e) {\n                double adjustedZoomFactor = e.getWheelRotation() &lt; 0 ? ZOOM_MULTIPLIER : 1 / ZOOM_MULTIPLIER;\n                double newZoomFactor = zoomFactor * adjustedZoomFactor;\n\n                // Check if the new zoom factor is within the valid range\n                if (newZoomFactor &gt;= MIN_ZOOM &amp;&amp; newZoomFactor &lt;= MAX_ZOOM) {\n                    zoomFactor = newZoomFactor;\n                    zoomCenter = e.getPoint();\n\n                    AffineTransform at = new AffineTransform();\n                    at.translate(zoomCenter.getX(), zoomCenter.getY());\n                    at.scale(adjustedZoomFactor, adjustedZoomFactor);\n                    at.translate(-zoomCenter.getX(), -zoomCenter.getY());\n\n                    currentTransform.preConcatenate(at);\n                    updatePreferredSize(); // Add this line\n                    repaint();\n                }\n            \n            }\n        });\n\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                Point transformedPoint = transformPoint(e.getPoint(), currentTransform);\n                if (square.contains(transformedPoint)) {\n                    lastMousePosition = e.getPoint();\n                    dragOffset = new Point(transformedPoint.x - (int) square.getX(), transformedPoint.y - (int) square.getY());\n                } else {\n                    lastMousePosition = null;\n                }\n            }\n        });\n\n        addMouseMotionListener(new MouseAdapter() {\n            @Override\n            public void mouseDragged(MouseEvent e) {\n                if (lastMousePosition != null) {\n                    Point transformedPoint = transformPoint(e.getPoint(), currentTransform);\n                    int newX = transformedPoint.x - dragOffset.x;\n                    int newY = transformedPoint.y - dragOffset.y;\n\n                    // Check if the new position is within the red rectangle\n                    if (redRectangle.contains(newX, newY, square.getWidth(), square.getHeight())) {\n                        square.setRect(newX, newY, square.getWidth(), square.getHeight());\n                        lastMousePosition = e.getPoint();\n\n                        repaint();\n                    }\n                }\n            }\n          });\n      }\n    \n    \n    private Point transformPoint(Point point, AffineTransform transform) {\n        try {\n            AffineTransform inverse = transform.createInverse();\n            Point transformedPoint = new Point();\n            inverse.transform(point, transformedPoint);\n            return transformedPoint;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        // Apply zoom factor\n        if (zoomCenter != null) {\n            g2d.transform(currentTransform);\n        }\n\n        // Draw red rectangle\n        g2d.setColor(Color.red);\n        g2d.fill(redRectangle);\n\n        // Draw blue square\n        g2d.setColor(Color.BLUE);\n        g2d.fill(square);\n    }\n\n    private void updateScrollbars() {\n        Container parent = getParent();\n        if (parent instanceof JViewport) {\n            JViewport viewport = (JViewport) parent;\n            Rectangle viewRect = viewport.getViewRect();\n\n            boolean horizontalScrollbarVisible = viewRect.width &lt; redRectangle.width * zoomFactor;\n            boolean verticalScrollbarVisible = viewRect.height &lt; redRectangle.height * zoomFactor;\n\n            JScrollPane scrollPane = (JScrollPane) SwingUtilities.getAncestorOfClass(JScrollPane.class, this);\n            if (scrollPane != null) {\n                scrollPane.setHorizontalScrollBarPolicy(horizontalScrollbarVisible ? JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED : JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n                scrollPane.setVerticalScrollBarPolicy(verticalScrollbarVisible ? JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED : JScrollPane.VERTICAL_SCROLLBAR_NEVER);\n            }\n        }\n    }\n\n    private void updatePreferredSize() {\n        int width = (int) (redRectangle.width * zoomFactor);\n        int height = (int) (redRectangle.height * zoomFactor);\n        setPreferredSize(new Dimension(width, height));\n        revalidate();\n    }\n    \n}\n</code></pre>\n<p>I tried camickr's advice and didn't use the scrollbarpolicy and override getPreferredSize which works -- sort of..i get funky scrollbars flashing when i resize and whatever i try, i cannot capture the restore event after a maximize...so the override code doesn't have any effect</p>\n<pre><code>package zoom;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.ComponentListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingUtilities;\n\npublic class SwingApp {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n\n    private static void createAndShowGUI() {\n        JFrame frame = new JFrame(&quot;Swing App&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(640, 480);\n        frame.setResizable(true);\n\n        JScrollPane scrollPane = new JScrollPane();\n        Editor editor = new Editor(scrollPane);\n\n/*\n        frame.addWindowStateListener(new WindowStateListener() {\n            @Override\n            public void windowStateChanged(WindowEvent e) {\n                if ((e.getNewState() &amp; Frame.MAXIMIZED_BOTH) == Frame.MAXIMIZED_BOTH\n                        || e.getNewState() == Frame.NORMAL) {\n                    editor.updateWorkspace();\n                    editor.updatePreferredSize();\n                    frame.repaint();\n                }\n            }\n        });\n*/\n        frame.addComponentListener(new ComponentListener() {\n            @Override public void componentResized(ComponentEvent arg0) {               \n                editor.updateWorkspace();\n                editor.updatePreferredSize();\n                editor.repaint();\n            }\n            @Override public void componentHidden(ComponentEvent arg0) {}\n            @Override public void componentMoved(ComponentEvent arg0) {}\n            @Override public void componentShown(ComponentEvent arg0) {}                \n        });     \n\n        frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    static class Editor extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        private static final int WORKSPACE_WIDTH = 300;\n        private static final int WORKSPACE_HEIGHT = 300;\n\n        private Dimension preferredSize;\n        private Rectangle workspace;\n        private Rectangle box;\n        private JScrollPane scrollPane;\n\n        private Editor(JScrollPane s) {\n            scrollPane = s;\n            preferredSize = new Dimension(WORKSPACE_WIDTH, WORKSPACE_HEIGHT);\n            workspace = new Rectangle(0, 0, WORKSPACE_WIDTH, WORKSPACE_HEIGHT);\n            box = new Rectangle(workspace.x + 100, workspace.y + 100, 100, 100);\n            scrollPane.setViewportView(this);\n//          updateWorkspace();\n//          updatePreferredSize();\n//          revalidate();\n        }\n\n        public void updateWorkspace() {\n            int xPos = (getWidth() - workspace.width) / 2;\n            int yPos = (getHeight() - workspace.height) / 2;\n            workspace = new Rectangle(xPos, yPos, workspace.width, workspace.height);\n            box = new Rectangle(workspace.x + 100, workspace.y + 100, box.width, box.height);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return preferredSize;\n        }\n\n        private void updatePreferredSize() {\n            Rectangle v = scrollPane.getViewport().getVisibleRect();\n\n            if(v != null) { \n                int left = Math.min(v.x, workspace.x);\n                int right = Math.max(v.x + v.width, workspace.x + workspace.width);\n                int top = Math.min(v.y, workspace.y);\n                int bottom = Math.max(v.y + v.height, workspace.y + workspace.height);\n                preferredSize = new Dimension(right-left, bottom-top);\n            }\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            g.setColor(Color.GREEN);\n            g.fillRect(workspace.x, workspace.y, workspace.width, workspace.height);\n\n            g.setColor(Color.BLUE);\n            g.fillRect(box.x, box.y, box.width, box.height);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","http"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1692576636,"post_id":76941660,"comment_id":135638120,"body_markdown":"Read the message !","body":"Read the message !"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692732878,"post_id":76941839,"comment_id":135664169,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76941839/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":22503959,"reputation":43,"user_id":16699867,"display_name":"Emilianolight"},"score":0,"creation_date":1692897178,"post_id":76941839,"comment_id":135689990,"body_markdown":"In fact, the problem is that for Springboot 3.0 FilePart is now used instead of MultipartFile, changing that started working without problem.","body":"In fact, the problem is that for Springboot 3.0 FilePart is now used instead of MultipartFile, changing that started working without problem."}],"tags":[],"owner":{"account_id":29263601,"reputation":3,"user_id":22419939,"display_name":"macyaz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692578809,"creation_date":1692578792,"answer_id":76941839,"question_id":76941660,"body_markdown":"change the mediaType to `application/pdf` as your first file is a text file and the second is a PDF.","title":"SpringBoot Request form data with body and file","body":"<p>change the mediaType to <code>application/pdf</code> as your first file is a text file and the second is a PDF.</p>\n"}],"owner":{"account_id":22503959,"reputation":43,"user_id":16699867,"display_name":"Emilianolight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692578809,"creation_date":1692573052,"question_id":76941660,"body_markdown":"I&#39;m having some trouble using an endpoint that uploads a file along with a string that serves as the request body.\r\n\r\nIn Springboot 2.7, I can easily use the following method and it works fine:\r\n\r\n      @PostMapping(path = &quot;/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public Mono&lt;Object&gt; upload(@RequestPart(&quot;fileRequest&quot;) String fileRequest, @RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        return pinataService.uploadFile(file, fileRequest);\r\n\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when I upgraded to Springboot 3.1, for some reason this doesn&#39;t work anymore and it doesn&#39;t recognize the file.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat could be happening?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IlqFv.png\r\n  [2]: https://i.stack.imgur.com/UGYZT.png","title":"SpringBoot Request form data with body and file","body":"<p>I'm having some trouble using an endpoint that uploads a file along with a string that serves as the request body.</p>\n<p>In Springboot 2.7, I can easily use the following method and it works fine:</p>\n<pre><code>  @PostMapping(path = &quot;/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic Mono&lt;Object&gt; upload(@RequestPart(&quot;fileRequest&quot;) String fileRequest, @RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n    return pinataService.uploadFile(file, fileRequest);\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IlqFv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IlqFv.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I upgraded to Springboot 3.1, for some reason this doesn't work anymore and it doesn't recognize the file.</p>\n<p><a href=\"https://i.stack.imgur.com/UGYZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UGYZT.png\" alt=\"enter image description here\" /></a></p>\n<p>What could be happening?</p>\n"},{"tags":["java","groovy","webharvest"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1571647247,"post_id":58461334,"comment_id":103296703,"body_markdown":"List doesn&#39;t have the `get()` method. what do you expect to happen?","body":"List doesn&#39;t have the <code>get()</code> method. what do you expect to happen?"}],"answers":[{"tags":[],"owner":{"account_id":15663438,"reputation":559,"user_id":12242150,"display_name":"Shubham Saraswat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571471000,"creation_date":1571471000,"answer_id":58461564,"question_id":58461334,"body_markdown":"If you want the list to be assigned to groupedDocs,  Remove the **.get()** from the below line\n \n`groupedDocs = reader.selectGroupedDocs(last_update_date.toString()).get();` \n\nThe get method in the list expects an argument.\nIf you are trying to assign a particular value in the list to groupedDocs you need to pass in an index in the get method in order to retrieve it. \n \nEg. \n`groupedDocs = reader.selectGroupedDocs(last_update_date.toString()).get(1);` ","title":"how to fix groovy.lang.MissingMethodException: No signature of method: java.util.ArrayList.get() is applicable for argument types: () values: []","body":"<p>If you want the list to be assigned to groupedDocs,  Remove the <strong>.get()</strong> from the below line</p>\n\n<p><code>groupedDocs = reader.selectGroupedDocs(last_update_date.toString()).get();</code> </p>\n\n<p>The get method in the list expects an argument.\nIf you are trying to assign a particular value in the list to groupedDocs you need to pass in an index in the get method in order to retrieve it. </p>\n\n<p>Eg. \n<code>groupedDocs = reader.selectGroupedDocs(last_update_date.toString()).get(1);</code> </p>\n"}],"owner":{"account_id":5262164,"reputation":31,"user_id":4203387,"display_name":"Sachika Sandeepa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692576130,"creation_date":1571468718,"question_id":58461334,"body_markdown":"I trying to use this method in groovy,\r\n\r\n    groupedDocs = reader.selectGroupedDocs(last_update_date.toString()).get();\r\n\r\nAnd this is my java code part for &quot;selectGroupedDocs&quot; method,\r\n \r\n\r\n    private List&lt;Map&lt;String, String&gt;&gt; selectGroupedDocs(String lastUpdateDate) {\r\n            \tlogger.warn(&quot;START :: selectGroupedDocs&quot;);\r\n                String query = prepareQuery(SELECT_ALL_GROUPED_DOCES_BY_DATE, lastUpdateDate);\r\n                \r\n                DataStoreQuery.QueryResult result = dataStoreQuery.executeQuery(CMT_GROUPED_DOCS, query);\r\n                \r\n                List&lt;Map&lt;String, String&gt;&gt; resultMaps = result.getSelectResultAsMapRows().orElse(new ArrayList&lt;&gt;());\r\n                logger.warn(&quot;Result Maps :: &quot; + resultMaps);\r\n             \r\n                logger.warn(&quot;END :: selectGroupedDocs&quot;);\r\n                \r\n                return resultMaps;\r\n            }\r\nwhen I run it I get the following error,\r\n\r\n    groovy.lang.MissingMethodException: No signature of method: java.util.ArrayList.get() is applicable for argument types: () values: []\r\n    Possible solutions: get(int), get(int), set(int, java.lang.Object), set(int, java.lang.Object), grep(), grep()\r\n    \tat org.webharvest.runtime.scripting.GroovyScriptEngine.eval(GroovyScriptEngine.java:138)\r\n    \tat org.webharvest.runtime.processors.ScriptProcessor.execute(ScriptProcessor.java:74)\r\n    \tat org.webharvest.runtime.processors.BaseProcessor.run(BaseProcessor.java:127)\r\n    \tat org.webharvest.runtime.Scraper.execute(Scraper.java:169)\r\n    \tat org.webharvest.runtime.Scraper.execute(Scraper.java:182)\r\n\r\nWhat am I doing wrong?\r\n","title":"how to fix groovy.lang.MissingMethodException: No signature of method: java.util.ArrayList.get() is applicable for argument types: () values: []","body":"<p>I trying to use this method in groovy,</p>\n\n<pre><code>groupedDocs = reader.selectGroupedDocs(last_update_date.toString()).get();\n</code></pre>\n\n<p>And this is my java code part for \"selectGroupedDocs\" method,</p>\n\n<pre><code>private List&lt;Map&lt;String, String&gt;&gt; selectGroupedDocs(String lastUpdateDate) {\n            logger.warn(\"START :: selectGroupedDocs\");\n            String query = prepareQuery(SELECT_ALL_GROUPED_DOCES_BY_DATE, lastUpdateDate);\n\n            DataStoreQuery.QueryResult result = dataStoreQuery.executeQuery(CMT_GROUPED_DOCS, query);\n\n            List&lt;Map&lt;String, String&gt;&gt; resultMaps = result.getSelectResultAsMapRows().orElse(new ArrayList&lt;&gt;());\n            logger.warn(\"Result Maps :: \" + resultMaps);\n\n            logger.warn(\"END :: selectGroupedDocs\");\n\n            return resultMaps;\n        }\n</code></pre>\n\n<p>when I run it I get the following error,</p>\n\n<pre><code>groovy.lang.MissingMethodException: No signature of method: java.util.ArrayList.get() is applicable for argument types: () values: []\nPossible solutions: get(int), get(int), set(int, java.lang.Object), set(int, java.lang.Object), grep(), grep()\n    at org.webharvest.runtime.scripting.GroovyScriptEngine.eval(GroovyScriptEngine.java:138)\n    at org.webharvest.runtime.processors.ScriptProcessor.execute(ScriptProcessor.java:74)\n    at org.webharvest.runtime.processors.BaseProcessor.run(BaseProcessor.java:127)\n    at org.webharvest.runtime.Scraper.execute(Scraper.java:169)\n    at org.webharvest.runtime.Scraper.execute(Scraper.java:182)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":1194269,"reputation":498,"user_id":1166320,"accept_rate":23,"display_name":"Atul Thakre"},"score":1,"creation_date":1418723265,"post_id":27501492,"comment_id":43433684,"body_markdown":"@leo: yes i have tried same driver.manage().getCookies(). but it returned empty [].","body":"@leo: yes i have tried same driver.manage().getCookies(). but it returned empty []."},{"owner":{"account_id":452570,"reputation":8204,"user_id":849076,"accept_rate":77,"display_name":"leo"},"score":0,"creation_date":1418723758,"post_id":27501492,"comment_id":43433959,"body_markdown":"You chances of getting an answer here will increase dramatically if you show what you already tried. Are you sure there are visible cookies? When I log in to that site, I can&#39;t see any.","body":"You chances of getting an answer here will increase dramatically if you show what you already tried. Are you sure there are visible cookies? When I log in to that site, I can&#39;t see any."},{"owner":{"account_id":452570,"reputation":8204,"user_id":849076,"accept_rate":77,"display_name":"leo"},"score":0,"creation_date":1418723781,"post_id":27501492,"comment_id":43433976,"body_markdown":"possible duplicate of [Selenium WebDriver manager().getCookies() returns 0 always](http://stackoverflow.com/questions/15952262/selenium-webdriver-manager-getcookies-returns-0-always)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/15952262/selenium-webdriver-manager-getcookies-returns-0-always\">Selenium WebDriver manager().getCookies() returns 0 always</a>"},{"owner":{"account_id":1194269,"reputation":498,"user_id":1166320,"accept_rate":23,"display_name":"Atul Thakre"},"score":1,"creation_date":1418723953,"post_id":27501492,"comment_id":43434066,"body_markdown":"@leo: i have tried \nSet&lt;Cookie&gt; allCookies = driver.manage().;\nfor ( Cookie loadedCookie : allCookies) {\n    System.out.println(String.format(&quot;%s -&gt; %s&quot;, loadedCookie.getName(), loadedCookie.getValue()));\n}\nbut it will returned empty[];","body":"@leo: i have tried  Set&lt;Cookie&gt; allCookies = driver.manage().; for ( Cookie loadedCookie : allCookies) {     System.out.println(String.format(&quot;%s -&gt; %s&quot;, loadedCookie.getName(), loadedCookie.getValue())); } but it will returned empty[];"},{"owner":{"account_id":1194269,"reputation":498,"user_id":1166320,"accept_rate":23,"display_name":"Atul Thakre"},"score":0,"creation_date":1418724135,"post_id":27501492,"comment_id":43434175,"body_markdown":"@LEO: If you look at http live header after login.it will display session variable and cookies.here is sample:\nSet-Cookie: PacerSession=; Domain=; Path=/; Secure\nSet-Cookie: NextGenCSO=; Domain=.uscourts.gov; Path=/; Secure\nSet-Cookie: PacerClientCode=&quot;&quot;; Domain=.uscourts.gov; Path=/; Secure\nSet-Cookie: PacerPref=&quot;receipt=Y&quot;; Version=1; Domain=.uscourts.gov; Path=/; Secure\nSet-Cookie: ClientValidation=&quot;&quot;; Domain=.uscourts.gov; Path=/; Secure\nSet-Cookie: ClientCodeDescription=&quot;&quot;; Domain=.uscourts.gov; Path=/; Secure","body":"@LEO: If you look at http live header after login.it will display session variable and cookies.here is sample: Set-Cookie: PacerSession=; Domain=; Path=/; Secure Set-Cookie: NextGenCSO=; Domain=.uscourts.gov; Path=/; Secure Set-Cookie: PacerClientCode=&quot;&quot;; Domain=.uscourts.gov; Path=/; Secure Set-Cookie: PacerPref=&quot;receipt=Y&quot;; Version=1; Domain=.uscourts.gov; Path=/; Secure Set-Cookie: ClientValidation=&quot;&quot;; Domain=.uscourts.gov; Path=/; Secure Set-Cookie: ClientCodeDescription=&quot;&quot;; Domain=.uscourts.gov; Path=/; Secure"},{"owner":{"account_id":1194269,"reputation":498,"user_id":1166320,"accept_rate":23,"display_name":"Atul Thakre"},"score":0,"creation_date":1418724250,"post_id":27501492,"comment_id":43434237,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/66980/discussion-between-atu-tha-and-leo).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/66980/discussion-between-atu-tha-and-leo\">continue this discussion in chat</a>."},{"owner":{"account_id":3001560,"reputation":3651,"user_id":2546966,"accept_rate":60,"display_name":"Vivek Singh"},"score":0,"creation_date":1418724286,"post_id":27501492,"comment_id":43434261,"body_markdown":"can u provide a valid username n password. With the code u gave i tried and got output as (although i wasn&#39;t able to login): \n`the title isPACER Login\nJSESSIONID -&gt; 0BBD8CBB51C1156274D8FBBC5963xcde`","body":"can u provide a valid username n password. With the code u gave i tried and got output as (although i wasn&#39;t able to login):  <code>the title isPACER Login JSESSIONID -&gt; 0BBD8CBB51C1156274D8FBBC5963xcde</code>"}],"answers":[{"tags":[],"owner":{"account_id":1297929,"reputation":3739,"user_id":1248505,"accept_rate":50,"display_name":"StrikerVillain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418925059,"creation_date":1418925059,"answer_id":27552711,"question_id":27501492,"body_markdown":"I ran your code with the following code additions and was able to get the following value in my console.\r\n\r\n\ttry {\r\n\t\t\tWebDriver driver = new FirefoxDriver();\r\n\t\t\tdriver.get(&quot;https://pacer.login.uscourts.gov/csologin/login.jsf&quot;);\r\n\t\t\tSystem.out.println(&quot;the title is&quot; + driver.getTitle());\r\n\t\t\tWebElement id = driver\r\n\t\t\t\t\t.findElement(By\r\n\t\t\t\t\t\t\t.xpath(&quot;/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/table[1]/tbody/tr/td[2]/input&quot;));\r\n\t\t\tWebElement pass = driver\r\n\t\t\t\t\t.findElement(By\r\n\t\t\t\t\t\t\t.xpath(&quot;/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/table[2]/tbody/tr/td[2]/input&quot;));\r\n\t\t\tWebElement button = driver\r\n\t\t\t\t\t.findElement(By\r\n\t\t\t\t\t\t\t.xpath(&quot;/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/div[2]/button[1]&quot;));\r\n\r\n\t\t\tid.sendKeys(&quot;USERNAME&quot;);\r\n\t\t\tpass.sendKeys(&quot;PASSWORD&quot;);\r\n\t\t\tbutton.click();\r\n\r\n\t\t\tThread.sleep(10000);\r\n\t\t\tSet&lt;Cookie&gt; cookies = driver.manage().getCookies();\r\n\t\t\tSystem.out.println(&quot;Size: &quot; + cookies.size());\r\n\r\n\t\t\tIterator&lt;Cookie&gt; itr = cookies.iterator();\r\n\t\t\twhile (itr.hasNext()) {\r\n\t\t\t\tCookie cookie = itr.next();\r\n\t\t\t\tSystem.out.println(cookie.getName() + &quot;\\n&quot; + cookie.getPath()\r\n\t\t\t\t\t\t+ &quot;\\n&quot; + cookie.getDomain() + &quot;\\n&quot; + cookie.getValue()\r\n\t\t\t\t\t\t+ &quot;\\n&quot; + cookie.getExpiry());\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n**console**\r\n\r\nthe title isPACER Login\r\n\r\nSize: 1\r\n\r\nJSESSIONID\r\n\r\n/csologin/\r\n\r\npacer.login.uscourts.gov\r\n\r\nE44C8*********************400602\r\n\r\nnull\r\n\r\n\r\n----------\r\n\r\n\r\nInstead of Thread.sleep(10000) you can also try using explicit wait. I believe that the web page took some time to set the cookies since it was busy waiting for the page to load.\r\n\r\nHope this helps you.\r\n","title":"Get cookies from selenium session","body":"<p>I ran your code with the following code additions and was able to get the following value in my console.</p>\n\n<pre><code>try {\n        WebDriver driver = new FirefoxDriver();\n        driver.get(\"https://pacer.login.uscourts.gov/csologin/login.jsf\");\n        System.out.println(\"the title is\" + driver.getTitle());\n        WebElement id = driver\n                .findElement(By\n                        .xpath(\"/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/table[1]/tbody/tr/td[2]/input\"));\n        WebElement pass = driver\n                .findElement(By\n                        .xpath(\"/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/table[2]/tbody/tr/td[2]/input\"));\n        WebElement button = driver\n                .findElement(By\n                        .xpath(\"/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/div[2]/button[1]\"));\n\n        id.sendKeys(\"USERNAME\");\n        pass.sendKeys(\"PASSWORD\");\n        button.click();\n\n        Thread.sleep(10000);\n        Set&lt;Cookie&gt; cookies = driver.manage().getCookies();\n        System.out.println(\"Size: \" + cookies.size());\n\n        Iterator&lt;Cookie&gt; itr = cookies.iterator();\n        while (itr.hasNext()) {\n            Cookie cookie = itr.next();\n            System.out.println(cookie.getName() + \"\\n\" + cookie.getPath()\n                    + \"\\n\" + cookie.getDomain() + \"\\n\" + cookie.getValue()\n                    + \"\\n\" + cookie.getExpiry());\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p><strong>console</strong></p>\n\n<p>the title isPACER Login</p>\n\n<p>Size: 1</p>\n\n<p>JSESSIONID</p>\n\n<p>/csologin/</p>\n\n<p>pacer.login.uscourts.gov</p>\n\n<p>E44C8*********************400602</p>\n\n<p>null</p>\n\n<hr>\n\n<p>Instead of Thread.sleep(10000) you can also try using explicit wait. I believe that the web page took some time to set the cookies since it was busy waiting for the page to load.</p>\n\n<p>Hope this helps you.</p>\n"}],"owner":{"account_id":1194269,"reputation":498,"user_id":1166320,"accept_rate":23,"display_name":"Atul Thakre"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15069,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1692576130,"creation_date":1418722635,"question_id":27501492,"body_markdown":"I want to get session variable and cookies after login. i have used selenium webdriver and successfully login. but how to get session and cookies after login in selenium.here is my code:\r\n\r\n    try {\r\n    \t\t\tWebDriver driver = new FirefoxDriver();\r\n    \t\t\tdriver.get(&quot;https://pacer.login.uscourts.gov/csologin/login.jsf&quot;);\r\n    \t\t\tSystem.out.println(&quot;the title is&quot;+driver.getTitle());\r\n    \t\t\tWebElement id= driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/table[1]/tbody/tr/td[2]/input&quot;));\r\n    \t\t\tWebElement pass=driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/table[2]/tbody/tr/td[2]/input&quot;));\r\n    \t\t\tWebElement button=driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/div[2]/button[1]&quot;));\r\n    \t\t\t\r\n    \t\t\tid.sendKeys(&quot;USERNAME&quot;);\r\n    \t\t\tpass.sendKeys(&quot;PASSWORD&quot;);\r\n    \t\t\tbutton.click();\r\n    \t\t} catch (Exception e) {\r\n    \r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\r\nplease provide your suggestion asap.\r\n\r\nThanks\r\n\r\n","title":"Get cookies from selenium session","body":"<p>I want to get session variable and cookies after login. i have used selenium webdriver and successfully login. but how to get session and cookies after login in selenium.here is my code:</p>\n\n<pre><code>try {\n            WebDriver driver = new FirefoxDriver();\n            driver.get(\"https://pacer.login.uscourts.gov/csologin/login.jsf\");\n            System.out.println(\"the title is\"+driver.getTitle());\n            WebElement id= driver.findElement(By.xpath(\"/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/table[1]/tbody/tr/td[2]/input\"));\n            WebElement pass=driver.findElement(By.xpath(\"/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/table[2]/tbody/tr/td[2]/input\"));\n            WebElement button=driver.findElement(By.xpath(\"/html/body/div[3]/div/div[1]/div[1]/div[15]/div[2]/form/div[2]/button[1]\"));\n\n            id.sendKeys(\"USERNAME\");\n            pass.sendKeys(\"PASSWORD\");\n            button.click();\n        } catch (Exception e) {\n\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>please provide your suggestion asap.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1692356506,"post_id":76928662,"comment_id":135615113,"body_markdown":"You can add a source property to your exceptions if you wish. Use that property to decide on the logic you wish to invoke in your handler.","body":"You can add a source property to your exceptions if you wish. Use that property to decide on the logic you wish to invoke in your handler."},{"owner":{"account_id":24168976,"reputation":1,"user_id":18131311,"display_name":"Safvan P"},"score":0,"creation_date":1692358668,"post_id":76928662,"comment_id":135615530,"body_markdown":"Thanks Paul for your suggestion,  But I&#39;m currently utilizing a same service method for both REST API endpoints and MVC controllers. This shared service method triggers a common exception in both scenarios. However, I&#39;m seeking guidance on the implementation of a &#39;source&#39; property in this context, as I&#39;m unsure about the best approach to incorporate it effectively","body":"Thanks Paul for your suggestion,  But I&#39;m currently utilizing a same service method for both REST API endpoints and MVC controllers. This shared service method triggers a common exception in both scenarios. However, I&#39;m seeking guidance on the implementation of a &#39;source&#39; property in this context, as I&#39;m unsure about the best approach to incorporate it effectively"}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692702214,"post_id":76941756,"comment_id":135657091,"body_markdown":"I think everyone needs to adhere to the spirit of SO. In other words, if you don&#39;t have enough reputation to post a comment, don&#39;t post a comment as an answer. And by the looks of your &quot;answer&quot; it seems you think that the question is actually a duplicate which means it should be flagged as such. Do you not see the _Close_ or _Flag_ links below the question?","body":"I think everyone needs to adhere to the spirit of SO. In other words, if you don&#39;t have enough reputation to post a comment, don&#39;t post a comment as an answer. And by the looks of your &quot;answer&quot; it seems you think that the question is actually a duplicate which means it should be flagged as such. Do you not see the <i>Close</i> or <i>Flag</i> links below the question?"},{"owner":{"account_id":24168976,"reputation":1,"user_id":18131311,"display_name":"Safvan P"},"score":0,"creation_date":1692873549,"post_id":76941756,"comment_id":135684382,"body_markdown":"Hi Abra and @forward, The suggested solution doesn&#39;t fit my needs, and this isn&#39;t a duplicate inquiry. My challenge arises from using the same service method for both REST API and regular web API requests, making the method name approach ineffective.\n\nI&#39;m seeking insights on whether Spring MVC offers a way to distinguish exception handling between @ Controller and @ RestController, without resorting to separate service methods. While service duplication works, it adds code redundancy without logic changes.","body":"Hi Abra and @forward, The suggested solution doesn&#39;t fit my needs, and this isn&#39;t a duplicate inquiry. My challenge arises from using the same service method for both REST API and regular web API requests, making the method name approach ineffective.  I&#39;m seeking insights on whether Spring MVC offers a way to distinguish exception handling between @ Controller and @ RestController, without resorting to separate service methods. While service duplication works, it adds code redundancy without logic changes."},{"owner":{"account_id":26623547,"reputation":1,"user_id":20241941,"display_name":"forward"},"score":0,"creation_date":1692895865,"post_id":76941756,"comment_id":135689692,"body_markdown":"True, @SafvanP. I was merely giving the merit to somebody that had indicated how to get the origin of an exception being thrown. It is not the best way, as it couples the thrower of the exception with the catching. On the other hand, you&#39;re right, I don&#39;t think Spring has something to distinguish between the two types of services regarding the advice receiving the exception.","body":"True, @SafvanP. I was merely giving the merit to somebody that had indicated how to get the origin of an exception being thrown. It is not the best way, as it couples the thrower of the exception with the catching. On the other hand, you&#39;re right, I don&#39;t think Spring has something to distinguish between the two types of services regarding the advice receiving the exception."}],"tags":[],"owner":{"account_id":26623547,"reputation":1,"user_id":20241941,"display_name":"forward"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692575962,"creation_date":1692575962,"answer_id":76941756,"question_id":76928662,"body_markdown":"If you look at [Getting a Method object representing the origin of an Exception][1], you can get the classname and the method name from the exception when is is caught.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25303232/getting-a-method-object-representing-the-origin-of-an-exception","title":"How to Manage same Exceptions throwns from @Controller and @RestController?","body":"<p>If you look at <a href=\"https://stackoverflow.com/questions/25303232/getting-a-method-object-representing-the-origin-of-an-exception\">Getting a Method object representing the origin of an Exception</a>, you can get the classname and the method name from the exception when is is caught.</p>\n"}],"owner":{"account_id":24168976,"reputation":1,"user_id":18131311,"display_name":"Safvan P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692575962,"creation_date":1692355902,"question_id":76928662,"body_markdown":"In my Spring MVC application, I am using both `@Controller` and `@RestController` components to handle different parts of the application logic. I&#39;ve set up global exception handling using `@ControllerAdvice` and `@RestControllerAdvice` classes, which works well for handling exceptions thrown from both controllers and rest controllers.\r\n\r\nHowever, I&#39;m facing a scenario where I&#39;m throwing the **same custom exception** from both `@Controller` and `@RestController`. My goal is to differentiate the exception handling behavior based on whether the exception is thrown from a regular `@Controller `or a `@RestController`.\r\n\r\nIs there an established approach in Spring MVC to automatically achieve this distinction, or is it necessary to define separate exceptions for both @Controller and @RestController logics. \r\n\r\n\r\n\r\nYour insights and guidance on this matter would be highly appreciated. Thank you for considering my query.","title":"How to Manage same Exceptions throwns from @Controller and @RestController?","body":"<p>In my Spring MVC application, I am using both <code>@Controller</code> and <code>@RestController</code> components to handle different parts of the application logic. I've set up global exception handling using <code>@ControllerAdvice</code> and <code>@RestControllerAdvice</code> classes, which works well for handling exceptions thrown from both controllers and rest controllers.</p>\n<p>However, I'm facing a scenario where I'm throwing the <strong>same custom exception</strong> from both <code>@Controller</code> and <code>@RestController</code>. My goal is to differentiate the exception handling behavior based on whether the exception is thrown from a regular <code>@Controller </code>or a <code>@RestController</code>.</p>\n<p>Is there an established approach in Spring MVC to automatically achieve this distinction, or is it necessary to define separate exceptions for both @Controller and @RestController logics.</p>\n<p>Your insights and guidance on this matter would be highly appreciated. Thank you for considering my query.</p>\n"},{"tags":["java","android","selinux"],"comments":[{"owner":{"account_id":2399837,"reputation":10437,"user_id":2097780,"accept_rate":80,"display_name":"kirbyfan64sos"},"score":0,"creation_date":1494449719,"post_id":42682348,"comment_id":74838976,"body_markdown":"Have you been able to solve this yet?","body":"Have you been able to solve this yet?"}],"answers":[{"tags":[],"owner":{"account_id":6302179,"reputation":1995,"user_id":4896468,"display_name":"yurenchen"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1517670535,"creation_date":1517670535,"answer_id":48598790,"question_id":42682348,"body_markdown":"disable selinux first by run:\r\n\r\n    setenforce 0\r\n\r\nthen your cmd maybe succeed.\r\n\r\n","title":"Changing SELinux Context of a file on Android not working properly","body":"<p>disable selinux first by run:</p>\n\n<pre><code>setenforce 0\n</code></pre>\n\n<p>then your cmd maybe succeed.</p>\n"},{"tags":[],"owner":{"account_id":18123244,"reputation":3,"user_id":13178981,"display_name":"kxxt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692575894,"creation_date":1692575894,"answer_id":76941752,"question_id":42682348,"body_markdown":"Don&#39;t change it on the fuse filesystem(`/sdcard`, `/storage/emulated/0/`). Changing the context under the `/data/media/0` directory with root permission works.\r\n\r\ne.g.(In adb root shell)\r\n\r\n    cd /data/media/0/DCIM/Camera\r\n    chcon u:object_r:shell_data_file:s0 2023-05-24-16-44-29-540.jpg\r\n\r\nIn my example, the original context of the file is `u:object_r:media_rw_data_file:s0:c170,c256,c512,c768` and after changing it to `u:object_r:shell_data_file:s0`, `ls -Z` shows that the context is changed and the gallery app can no longer open this file.\r\n\r\n","title":"Changing SELinux Context of a file on Android not working properly","body":"<p>Don't change it on the fuse filesystem(<code>/sdcard</code>, <code>/storage/emulated/0/</code>). Changing the context under the <code>/data/media/0</code> directory with root permission works.</p>\n<p>e.g.(In adb root shell)</p>\n<pre><code>cd /data/media/0/DCIM/Camera\nchcon u:object_r:shell_data_file:s0 2023-05-24-16-44-29-540.jpg\n</code></pre>\n<p>In my example, the original context of the file is <code>u:object_r:media_rw_data_file:s0:c170,c256,c512,c768</code> and after changing it to <code>u:object_r:shell_data_file:s0</code>, <code>ls -Z</code> shows that the context is changed and the gallery app can no longer open this file.</p>\n"}],"owner":{"account_id":10413906,"reputation":49,"user_id":7678574,"display_name":"Tim L."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5054,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692575894,"creation_date":1489008935,"question_id":42682348,"body_markdown":"Currently I am trying to figure out what SELinux is capable of doing on Android and I ran into this problem. Basically I want to see if I can prohibit the access to a .jpeg file with the album app. I could obtain both, the context of the image and the context of the album app process. Via reflection I was able to invoke the setFileContext(String path, String context) method from android.os.SELinux.java but it returned false.\r\n\r\nSo, I tried &quot;chcon&quot; command via adb shell which basically got the same result.\r\n\r\n    chcon -v u:object_r:fuse:s1 ./storage/emulated/0/DCIM/100MEDIA/IMAG0001.jpg\r\n\r\n    chcon &#39;./storage/emulated/0/DCIM/100MEDIA/IMAG0001.jpg&#39; to u:object_r:fuse:s1\r\n    chcon: &#39;./storage/emulated/0/DCIM/100MEDIA/IMAG0001.jpg&#39; to u:object_r:fuse:s1: \r\n    Operation not supported on transport endpoint\r\n\r\nAfter a little bit of research, I found that I can change context only if the file is on an ext4 file system, but the image was under the fuse file system. But when I put the image to an ext4 formatted partition, change context there(which does work) and put it back to the original directory, the old context is back.\r\n\r\nCan someone please explain to me why that is the case? Why can the context not be changed under the fuse file system and why does the new context not survive, using the method above? Is there a solution or workaround?\r\n\r\nEDIT: \r\n\r\nSo I figured out that SELinux context is an extention for the file and that fuse filesystem does not support those. When I try to get the context, I get a default context for that file. Does this default context come from a list or some other file or ist there just one default context that comes out of the SELinux.java?  \r\nEDIT over.\r\n\r\nMy testing device is an HTC M8 with Android 6 and root access.\r\n\r\nThanks in advance, your efforts are very appreciated!\r\n","title":"Changing SELinux Context of a file on Android not working properly","body":"<p>Currently I am trying to figure out what SELinux is capable of doing on Android and I ran into this problem. Basically I want to see if I can prohibit the access to a .jpeg file with the album app. I could obtain both, the context of the image and the context of the album app process. Via reflection I was able to invoke the setFileContext(String path, String context) method from android.os.SELinux.java but it returned false.</p>\n\n<p>So, I tried \"chcon\" command via adb shell which basically got the same result.</p>\n\n<pre><code>chcon -v u:object_r:fuse:s1 ./storage/emulated/0/DCIM/100MEDIA/IMAG0001.jpg\n\nchcon './storage/emulated/0/DCIM/100MEDIA/IMAG0001.jpg' to u:object_r:fuse:s1\nchcon: './storage/emulated/0/DCIM/100MEDIA/IMAG0001.jpg' to u:object_r:fuse:s1: \nOperation not supported on transport endpoint\n</code></pre>\n\n<p>After a little bit of research, I found that I can change context only if the file is on an ext4 file system, but the image was under the fuse file system. But when I put the image to an ext4 formatted partition, change context there(which does work) and put it back to the original directory, the old context is back.</p>\n\n<p>Can someone please explain to me why that is the case? Why can the context not be changed under the fuse file system and why does the new context not survive, using the method above? Is there a solution or workaround?</p>\n\n<p>EDIT: </p>\n\n<p>So I figured out that SELinux context is an extention for the file and that fuse filesystem does not support those. When I try to get the context, I get a default context for that file. Does this default context come from a list or some other file or ist there just one default context that comes out of the SELinux.java?<br>\nEDIT over.</p>\n\n<p>My testing device is an HTC M8 with Android 6 and root access.</p>\n\n<p>Thanks in advance, your efforts are very appreciated!</p>\n"},{"tags":["java","swing","user-interface","gridbaglayout"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1692573162,"post_id":76941536,"comment_id":135637858,"body_markdown":"Just FYI, when you start doing &quot;real GUI&quot; work, people often use a GUI builder, they&#39;re much more flexible and faster to design too.","body":"Just FYI, when you start doing &quot;real GUI&quot; work, people often use a GUI builder, they&#39;re much more flexible and faster to design too."},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1692574390,"post_id":76941536,"comment_id":135637945,"body_markdown":"Yeah, I figured as much. I don&#39;t really enjoy this kinda work and want to avoid it if possible, I just wanted to see if I could get something working for my game so it didn&#39;t have to run on the command line.","body":"Yeah, I figured as much. I don&#39;t really enjoy this kinda work and want to avoid it if possible, I just wanted to see if I could get something working for my game so it didn&#39;t have to run on the command line."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1692574544,"post_id":76941536,"comment_id":135637953,"body_markdown":"That&#39;s fair, but what I&#39;m saying is nobody finds this work fun, that&#39;s why we use GUI builders, they largely solve the problem.  Also a tangent, but using text the way you are is hard, because the text components are designed to display text, and you&#39;re really doing something like a graphics display.  Heading straight to a graphical display might actually save you some time and effort.","body":"That&#39;s fair, but what I&#39;m saying is nobody finds this work fun, that&#39;s why we use GUI builders, they largely solve the problem.  Also a tangent, but using text the way you are is hard, because the text components are designed to display text, and you&#39;re really doing something like a graphics display.  Heading straight to a graphical display might actually save you some time and effort."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692588058,"post_id":76941536,"comment_id":135638835,"body_markdown":"Just beware though &quot;visual design editors&quot; can lock you in and can encourage bad habits and could end you up in a maintenance nightmare","body":"Just beware though &quot;visual design editors&quot; can lock you in and can encourage bad habits and could end you up in a maintenance nightmare"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692588168,"post_id":76941536,"comment_id":135638847,"body_markdown":"Since you&#39;re applying a &quot;plain&quot; document to the `JEditorPane`, why not make use of `JTextArea` instead, it&#39;s a lot easier to deal with then `JEditorPane` if you don&#39;t need &quot;stylised&quot; text","body":"Since you&#39;re applying a &quot;plain&quot; document to the <code>JEditorPane</code>, why not make use of <code>JTextArea</code> instead, it&#39;s a lot easier to deal with then <code>JEditorPane</code> if you don&#39;t need &quot;stylised&quot; text"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1692588333,"post_id":76941536,"comment_id":135638859,"body_markdown":"Remember back in grade school when you wondered why you had to work arithmetic problems by hand when calculators existed? Turns out, understanding how the math works is precisely what allows you to use the calculator. Likewise, a GUI builder isn&#39;t going to help you too much if you don&#39;t understand exactly how the underlying components function. You kind of have the solution already -- you&#39;re using GridBagLayout within a BorderLayout. What if you nested more layout managers within each other so that you can get fine control of your components?","body":"Remember back in grade school when you wondered why you had to work arithmetic problems by hand when calculators existed? Turns out, understanding how the math works is precisely what allows you to use the calculator. Likewise, a GUI builder isn&#39;t going to help you too much if you don&#39;t understand exactly how the underlying components function. You kind of have the solution already -- you&#39;re using GridBagLayout within a BorderLayout. What if you nested more layout managers within each other so that you can get fine control of your components?"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1692588518,"post_id":76941536,"comment_id":135638875,"body_markdown":"Also, remember that GridBagConstraints can be changed to apply to multiple components. You can set parameters for gbc and then add a component with that gbc to the GridBagLayout. You can then **change** gbc parameters and add the next component with the altered gbc for a different effect. This practice allows you to change the number of cells a component fills in terms of height or width, or how it&#39;s weighted, etc. I feel like this is the bit your UI is missing. You should play with this stuff a bit more. Keep failing until you&#39;re not failing anymore. That&#39;s how you learn.","body":"Also, remember that GridBagConstraints can be changed to apply to multiple components. You can set parameters for gbc and then add a component with that gbc to the GridBagLayout. You can then <b>change</b> gbc parameters and add the next component with the altered gbc for a different effect. This practice allows you to change the number of cells a component fills in terms of height or width, or how it&#39;s weighted, etc. I feel like this is the bit your UI is missing. You should play with this stuff a bit more. Keep failing until you&#39;re not failing anymore. That&#39;s how you learn."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692588619,"post_id":76941536,"comment_id":135638885,"body_markdown":"You will, really, want to take a look at [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html), this &quot;should&quot; provide some support for the text to scroll without affecting the constrained size.","body":"You will, really, want to take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a>, this &quot;should&quot; provide some support for the text to scroll without affecting the constrained size."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1692591606,"post_id":76941536,"comment_id":135639079,"body_markdown":"*people often use a GUI builder,* -  That is not my experience based on the people that typically answer questions. Usually the advice is to NOT use a GUI builder.","body":"<i>people often use a GUI builder,</i> -  That is not my experience based on the people that typically answer questions. Usually the advice is to NOT use a GUI builder."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1692623818,"post_id":76941536,"comment_id":135644759,"body_markdown":"I suggest setting the font (used by the [GUI] controls to display text) to a monospace font with a suitable size. Refer to [Physical and Logical Fonts](https://docs.oracle.com/javase/tutorial/2d/text/fonts.html) and also [Using Text Components](https://docs.oracle.com/javase/tutorial/uiswing/components/text.html) and [How to Set the Look and Feel](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#steps)","body":"I suggest setting the font (used by the [GUI] controls to display text) to a monospace font with a suitable size. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\" rel=\"nofollow noreferrer\">Physical and Logical Fonts</a> and also <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/text.html\" rel=\"nofollow noreferrer\">Using Text Components</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#steps\" rel=\"nofollow noreferrer\">How to Set the Look and Feel</a>"}],"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692574635,"creation_date":1692569748,"question_id":76941536,"body_markdown":"I have been working on making a GUI interface for a game im working on. I decided to use java swing because it&#39;s just built into the language and there are a lot of tutorials online. Here is the design I sketched up to work from\r\n\r\n[![The original draft][1]][1]\r\n\r\n\r\nI started reading up and I realized I needed to use a GridBagLayout to get the format I wanted. The game runs entirely in text, so I decided I would just use text components for all the boxes and fetch the text from the game engine while having the GUI run separately on top. Originally I tried JLabels, but I had issues with linebreaks, alignment, etc. So, I thought JEditorPane&#39;s were what I needed, and I would just make them non-editable.\r\n\r\nHere is what I got after a night of work:\r\n\r\n[![The first attempt][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/J2wps.png\r\n  [2]: https://i.stack.imgur.com/qPn89.png\r\n\r\nThis is pretty good and pretty close to what I want. There are still some issues with font I need to tweak, but that is just figuring out some numbers. \r\n\r\nThe main issue at the moment is the components resizing with the text. They seem to maintain a minimum size (how they look in the screenshot, unless they are given an empty string as text in which case the entire GUI breaks), but if they are given more text, they will stretch to accommodate it, even if they still have space for it. (or appear to at least)\r\n\r\nthis is mainly an issue for the middle block (what I have been calling the console log, and in code is named &#39;con&#39;). Sometimes it will only display a single line of text, in which case the single line prints at the top with substantial whitespace (or blackspace) below it, but other times it will print several paragraphs, which will push it up to cover the other tree boxes, and even then its own text will be cutoff.\r\n\r\nI did not show it clearly in the original sketch, but I imagined the console log simply printing the text in sequence, and as it fills the box it would push up, perhaps with a scrollbar to view the history.\r\n\r\nI would really just be happy if someone can help me with fixing the size of the boxes, but if it is possible I would like to implement what I described in the above paragraph as well. I figure I must need to do something more involved, perhaps having every component in their own JPanel, which are then added to the global panel (called &#39;panel&#39; in the code) in place of where I have their components now. This way, I could include a JScrollBar with con.\r\n\r\nHere is my code (reduced for simplicity):\r\n```\r\n    public class Gui {\r\n\r\n\tprivate JFrame frame;\r\n\tprivate JEditorPane map;\r\n\tprivate JEditorPane status;\r\n\tprivate JEditorPane inventory;\r\n\tprivate JEditorPane con;\r\n\tprivate JTextField input;\r\n\r\n\tpublic Gui() {\t\r\n\t\tframe = new JFrame();\r\n\t\tframe.setLayout(new BorderLayout(10,5));\r\n\t\tframe.setTitle(&quot;Test&quot;);\r\n\t\tframe.setPreferredSize(new Dimension(1000,800));\r\n\t\tframe.setResizable(false);\r\n\t\tframe.setUndecorated(true);\r\n\r\n\t\tJPanel panel = new JPanel(new GridBagLayout());\r\n\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\r\n\t\tmap = new JEditorPane(&quot;plain&quot;, &quot;&quot;);\r\n\t\tmap.setEditable(false);\r\n\t\tmap.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 20));\r\n\r\n\t\tstatus = new JEditorPane(&quot;plain&quot;, &quot;&quot;);\r\n\t\tstatus.setEditable(false);\r\n\t\tstatus.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 10));\r\n\r\n\t\tinventory = new JEditorPane(&quot;plain&quot;, &quot;&quot;);\r\n\t\tinventory.setEditable(false);\r\n\t\tinventory.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 10));\r\n\r\n\t\tcon = new JEditorPane(&quot;plain&quot;, &quot;Welcome to EverDark!\\nWould you like to load from file? (Y/N)&quot;);\r\n\t\tcon.setEditable(false);\r\n\t\tcon.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\r\n\r\n\t\tinput = new JTextField(&quot;What do you do?&quot;);\r\n\t\tinput.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createEmptyBorder(), BorderFactory.createLineBorder(DARK)));//to add margins to the textfield, doesnt work :(\r\n\t\tinput.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\r\n\r\n\t\tinput.addFocusListener(new FocusListener() {\r\n\t\t\t\t\t\t\t\t\t\tpublic void focusGained(FocusEvent e) {\r\n\t\t\t\t\t\t\t\t\t\t\tinput.setText(&quot;&quot;);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tpublic void focusLost(FocusEvent e) {\r\n\t\t\t\t\t\t\t\t\t\t\tinput.setText(&quot;What do you do?&quot;);\r\n\t\t\t\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\r\n\t\tinput.addActionListener( ae -&gt; update());\r\n\r\n\t\tadd(map, panel, gbc, 0, 0, 1, 1, 0.5, 0.5);\r\n\t\tadd(status, panel, gbc, 1, 0, 1, 1, 0.25, 0.5);\r\n\t\tadd(inventory, panel, gbc, 2, 0, 1, 1, 0.25, 0.5);\r\n\t\tadd(con, panel, gbc, 0, 1, 5, 1, 1, 0.49995);\r\n\t\tadd(input, panel, gbc, 0, 2, 5, 1, 1, 0.005);\r\n\r\n\t\tpanel.setBackground(GRAY);\r\n\r\n\t\tframe.add(panel, BorderLayout.CENTER);\t\r\n\t}\r\n\r\n\tprivate void add(JComponent j, JPanel p, GridBagConstraints gbc, int x, int y, int width, int height, double weightx, double weighty) {\r\n\t\tj.setOpaque(true);\r\n\t\tj.setBackground(DARK);\r\n\t\tj.setForeground(Color.WHITE);\r\n\t\tgbc.insets = new Insets(5,5,5,5);\r\n\t\tgbc.fill = GridBagConstraints.BOTH;\r\n\t\tgbc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n\t\tgbc.weightx = weightx;\r\n\t\tgbc.weighty = weighty;\r\n\t\tgbc.gridx = x;\r\n\t\tgbc.gridy = y;\r\n\t\tgbc.gridwidth = width;\r\n\t\tgbc.gridheight = height;\r\n\t\tp.add(j, gbc);\r\n\t}\r\n\r\n\tpublic void show() {\r\n\t\tframe.pack();\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\r\n\tpublic void update(String feedback) {\r\n\t\t//fetches text for all the fields from the game engine\r\n\t}\r\n}\r\n```\r\n\r\nTL;DR: how to fix component size in GridBagLayout\r\n\r\nUPDATE: Managed to get what I was imagining MOSTLY working, and I recorded a video of me demoing it (recorded this for my friends but it shows mostly what I&#39;m talking about anyways): https://www.youtube.com/watch?v=IKkjZXgZTX4\r\n\r\nIf there&#39;s anyway to stop this behaviour (the console log being small during character creation but then expanding afterwards), I&#39;d like to hear it. I tried changing the weighty but it didn&#39;t do anything. I figure it&#39;s because the menu being drawn in the map field is pushing down, so I should just reduce the height of the menu, but maps come in various sizes in the game so I&#39;d like a general fix to lock the size of the map field. Thanks :D","title":"How to fix component size in GridBagLayout for java swing","body":"<p>I have been working on making a GUI interface for a game im working on. I decided to use java swing because it's just built into the language and there are a lot of tutorials online. Here is the design I sketched up to work from</p>\n<p><a href=\"https://i.stack.imgur.com/J2wps.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J2wps.png\" alt=\"The original draft\" /></a></p>\n<p>I started reading up and I realized I needed to use a GridBagLayout to get the format I wanted. The game runs entirely in text, so I decided I would just use text components for all the boxes and fetch the text from the game engine while having the GUI run separately on top. Originally I tried JLabels, but I had issues with linebreaks, alignment, etc. So, I thought JEditorPane's were what I needed, and I would just make them non-editable.</p>\n<p>Here is what I got after a night of work:</p>\n<p><a href=\"https://i.stack.imgur.com/qPn89.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qPn89.png\" alt=\"The first attempt\" /></a></p>\n<p>This is pretty good and pretty close to what I want. There are still some issues with font I need to tweak, but that is just figuring out some numbers.</p>\n<p>The main issue at the moment is the components resizing with the text. They seem to maintain a minimum size (how they look in the screenshot, unless they are given an empty string as text in which case the entire GUI breaks), but if they are given more text, they will stretch to accommodate it, even if they still have space for it. (or appear to at least)</p>\n<p>this is mainly an issue for the middle block (what I have been calling the console log, and in code is named 'con'). Sometimes it will only display a single line of text, in which case the single line prints at the top with substantial whitespace (or blackspace) below it, but other times it will print several paragraphs, which will push it up to cover the other tree boxes, and even then its own text will be cutoff.</p>\n<p>I did not show it clearly in the original sketch, but I imagined the console log simply printing the text in sequence, and as it fills the box it would push up, perhaps with a scrollbar to view the history.</p>\n<p>I would really just be happy if someone can help me with fixing the size of the boxes, but if it is possible I would like to implement what I described in the above paragraph as well. I figure I must need to do something more involved, perhaps having every component in their own JPanel, which are then added to the global panel (called 'panel' in the code) in place of where I have their components now. This way, I could include a JScrollBar with con.</p>\n<p>Here is my code (reduced for simplicity):</p>\n<pre><code>    public class Gui {\n\n    private JFrame frame;\n    private JEditorPane map;\n    private JEditorPane status;\n    private JEditorPane inventory;\n    private JEditorPane con;\n    private JTextField input;\n\n    public Gui() {  \n        frame = new JFrame();\n        frame.setLayout(new BorderLayout(10,5));\n        frame.setTitle(&quot;Test&quot;);\n        frame.setPreferredSize(new Dimension(1000,800));\n        frame.setResizable(false);\n        frame.setUndecorated(true);\n\n        JPanel panel = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n\n        map = new JEditorPane(&quot;plain&quot;, &quot;&quot;);\n        map.setEditable(false);\n        map.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 20));\n\n        status = new JEditorPane(&quot;plain&quot;, &quot;&quot;);\n        status.setEditable(false);\n        status.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 10));\n\n        inventory = new JEditorPane(&quot;plain&quot;, &quot;&quot;);\n        inventory.setEditable(false);\n        inventory.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 10));\n\n        con = new JEditorPane(&quot;plain&quot;, &quot;Welcome to EverDark!\\nWould you like to load from file? (Y/N)&quot;);\n        con.setEditable(false);\n        con.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\n\n        input = new JTextField(&quot;What do you do?&quot;);\n        input.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createEmptyBorder(), BorderFactory.createLineBorder(DARK)));//to add margins to the textfield, doesnt work :(\n        input.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\n\n        input.addFocusListener(new FocusListener() {\n                                        public void focusGained(FocusEvent e) {\n                                            input.setText(&quot;&quot;);\n                                        }\n                                        public void focusLost(FocusEvent e) {\n                                            input.setText(&quot;What do you do?&quot;);\n                                        }   \n                                    });\n                                    \n        input.addActionListener( ae -&gt; update());\n\n        add(map, panel, gbc, 0, 0, 1, 1, 0.5, 0.5);\n        add(status, panel, gbc, 1, 0, 1, 1, 0.25, 0.5);\n        add(inventory, panel, gbc, 2, 0, 1, 1, 0.25, 0.5);\n        add(con, panel, gbc, 0, 1, 5, 1, 1, 0.49995);\n        add(input, panel, gbc, 0, 2, 5, 1, 1, 0.005);\n\n        panel.setBackground(GRAY);\n\n        frame.add(panel, BorderLayout.CENTER);  \n    }\n\n    private void add(JComponent j, JPanel p, GridBagConstraints gbc, int x, int y, int width, int height, double weightx, double weighty) {\n        j.setOpaque(true);\n        j.setBackground(DARK);\n        j.setForeground(Color.WHITE);\n        gbc.insets = new Insets(5,5,5,5);\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.anchor = GridBagConstraints.FIRST_LINE_START;\n        gbc.weightx = weightx;\n        gbc.weighty = weighty;\n        gbc.gridx = x;\n        gbc.gridy = y;\n        gbc.gridwidth = width;\n        gbc.gridheight = height;\n        p.add(j, gbc);\n    }\n\n    public void show() {\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public void update(String feedback) {\n        //fetches text for all the fields from the game engine\n    }\n}\n</code></pre>\n<p>TL;DR: how to fix component size in GridBagLayout</p>\n<p>UPDATE: Managed to get what I was imagining MOSTLY working, and I recorded a video of me demoing it (recorded this for my friends but it shows mostly what I'm talking about anyways): <a href=\"https://www.youtube.com/watch?v=IKkjZXgZTX4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=IKkjZXgZTX4</a></p>\n<p>If there's anyway to stop this behaviour (the console log being small during character creation but then expanding afterwards), I'd like to hear it. I tried changing the weighty but it didn't do anything. I figure it's because the menu being drawn in the map field is pushing down, so I should just reduce the height of the menu, but maps come in various sizes in the game so I'd like a general fix to lock the size of the map field. Thanks :D</p>\n"},{"tags":["java","concurrency","completable-future"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1692574779,"post_id":76941688,"comment_id":135637973,"body_markdown":"I think there are some typos in the code example. Please provide a tested [mre].","body":"I think there are some typos in the code example. Please provide a tested <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1692603662,"post_id":76941688,"comment_id":135640573,"body_markdown":"Not only are there (lots of) typos in your code, there is a reference to an undefined variable (`cFuture`) at a place crucial to the logic of the entire snippet and your question.","body":"Not only are there (lots of) typos in your code, there is a reference to an undefined variable (<code>cFuture</code>) at a place crucial to the logic of the entire snippet and your question."}],"owner":{"account_id":10697861,"reputation":305,"user_id":7874286,"accept_rate":62,"display_name":"Howard Fring"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692573867,"creation_date":1692573867,"question_id":76941688,"body_markdown":"Is it guaranteed that allOf’s whenComplete method is executed last?\r\n\r\nI was thinking when the last future completes maybe its whencomplete (undeterministically) gets invoked later than allOf’s.\r\n\r\nI.e. is this output possible:\r\n\r\nA\r\n\r\nCombined\r\n\r\nB\r\n\r\n\r\n ```  CompletableFuture&lt;String&gt; aFuture = new \r\n\r\n CompletableFuture&lt;String&gt;();\r\n           \r\n    \r\n    bFuture.whenComplete((s,e)-&gt;System.out.println(s));\r\n        \r\n        CompletableFuture&lt;String&gt; bFuture = new CompletableFuture&lt;String&gt;();\r\n    \r\n    aFuture.whenComplete((s,e)-&gt;System.out.println(s));\r\n    \r\n    CompletableFuture&lt;Void&gt; combinedFuture =\r\n                        CompletableFuture.allOf (aFuture, bFuture, cFuture);\r\n    combinedFuture.whenComplete((v, e) -&gt; System.out.println(“combined”));\r\n    \r\n    \r\n    aFuture.complete(&quot;A&quot;);\r\n    \r\n    bFuture.complete(&quot;B&quot;); \r\n    ","title":"CompleteableFuture execution order","body":"<p>Is it guaranteed that allOf’s whenComplete method is executed last?</p>\n<p>I was thinking when the last future completes maybe its whencomplete (undeterministically) gets invoked later than allOf’s.</p>\n<p>I.e. is this output possible:</p>\n<p>A</p>\n<p>Combined</p>\n<p>B</p>\n<pre><code>\nCompletableFuture&lt;String&gt;();\n          \n   \n   bFuture.whenComplete((s,e)-&gt;System.out.println(s));\n       \n       CompletableFuture&lt;String&gt; bFuture = new CompletableFuture&lt;String&gt;();\n   \n   aFuture.whenComplete((s,e)-&gt;System.out.println(s));\n   \n   CompletableFuture&lt;Void&gt; combinedFuture =\n                       CompletableFuture.allOf (aFuture, bFuture, cFuture);\n   combinedFuture.whenComplete((v, e) -&gt; System.out.println(“combined”));\n   \n   \n   aFuture.complete(&quot;A&quot;);\n   \n   bFuture.complete(&quot;B&quot;); \n   \n</code></pre>\n"},{"tags":["java","javascript","json","jsp"],"comments":[{"owner":{"account_id":1039908,"reputation":12848,"user_id":1205368,"accept_rate":83,"display_name":"Salem"},"score":0,"creation_date":1369423854,"post_id":16481295,"comment_id":24113484,"body_markdown":"Have you solved your problem?","body":"Have you solved your problem?"}],"answers":[{"comments":[{"owner":{"account_id":179312,"reputation":2055,"user_id":411883,"accept_rate":54,"display_name":"John"},"score":0,"creation_date":1368186114,"post_id":16481390,"comment_id":23650168,"body_markdown":"Salem, thanks for the quick response.. My client side program is in java. tried below: JSONObject jsonDataObject = (JSONObject) JSONValue.parse(res.toString()); String ResponseCode = ((String)jsonDataObject.get(&quot;ResponseCode&quot;)); And received java.lang.NullPointerException","body":"Salem, thanks for the quick response.. My client side program is in java. tried below: JSONObject jsonDataObject = (JSONObject) JSONValue.parse(res.toString()); String ResponseCode = ((String)jsonDataObject.get(&quot;ResponseCode&quot;)); And received java.lang.NullPointerException"}],"tags":[],"owner":{"account_id":1039908,"reputation":12848,"user_id":1205368,"accept_rate":83,"display_name":"Salem"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368188354,"creation_date":1368185948,"answer_id":16481390,"question_id":16481295,"body_markdown":"You will have to convert the JSOn string to an object. If using Javascript you can use `JSON.parse(json_str)` or `$.parseJSON` if you use jQuery. After you have done it you can access those entries as usual:\r\n\r\n    var obj = JSON.parse(json_str);\r\n    var code = obj[&quot;ResponseCode&quot;];\r\n    \r\n### Edit\r\n\r\nUsing Java:\r\n\r\n    JSONObject obj = new JSONObject(json_string);\r\n    String code = obj.getString(&quot;ResponseCode&quot;);","title":"how to read json response in jsp","body":"<p>You will have to convert the JSOn string to an object. If using Javascript you can use <code>JSON.parse(json_str)</code> or <code>$.parseJSON</code> if you use jQuery. After you have done it you can access those entries as usual:</p>\n\n<pre><code>var obj = JSON.parse(json_str);\nvar code = obj[\"ResponseCode\"];\n</code></pre>\n\n<h3>Edit</h3>\n\n<p>Using Java:</p>\n\n<pre><code>JSONObject obj = new JSONObject(json_string);\nString code = obj.getString(\"ResponseCode\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2283535,"reputation":1162,"user_id":2008120,"display_name":"Suhas Gaikwad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368186066,"creation_date":1368186066,"answer_id":16481426,"question_id":16481295,"body_markdown":"\r\n\r\n    HttpResponse res = client.execute(req);\r\n    BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n    \r\n    String line = &quot;&quot;;\r\n    line = rd.readLine();  /// Json Data\r\n\r\n","title":"how to read json response in jsp","body":"<pre><code>HttpResponse res = client.execute(req);\nBufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n\nString line = \"\";\nline = rd.readLine();  /// Json Data\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2654826,"reputation":88,"user_id":2295738,"display_name":"Manuel del Castillo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368186075,"creation_date":1368186075,"answer_id":16481429,"question_id":16481295,"body_markdown":"Something like this:\r\n\r\n    StatusLine statusLine = res.getStatusLine();\r\n    int statusCode = statusLine.getStatusCode();\r\n    if (statusCode == 200) // or whatever \r\n\t\t\t\t\t{\r\n    HttpEntity entity = response.getEntity();\r\n    InputStream content = entity.getContent();\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(content, &quot;utf-8&quot;));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) \r\n    {\r\n        builder.append(line);\r\n    }\r\n    \t\t\t\t\t\t\r\n    sRet = builder.toString();\r\n\r\n    ...\r\n\r\n    tknr = new JSONTokener(sRet);\r\n\r\n\r\n","title":"how to read json response in jsp","body":"<p>Something like this:</p>\n\n<pre><code>StatusLine statusLine = res.getStatusLine();\nint statusCode = statusLine.getStatusCode();\nif (statusCode == 200) // or whatever \n                {\nHttpEntity entity = response.getEntity();\nInputStream content = entity.getContent();\nBufferedReader reader = new BufferedReader(new InputStreamReader(content, \"utf-8\"));\nString line;\nwhile ((line = reader.readLine()) != null) \n{\n    builder.append(line);\n}\n\nsRet = builder.toString();\n\n...\n\ntknr = new JSONTokener(sRet);\n</code></pre>\n"}],"owner":{"account_id":179312,"reputation":2055,"user_id":411883,"accept_rate":54,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692572675,"creation_date":1368185616,"question_id":16481295,"body_markdown":"My client side program is like this:\r\n\r\n    DefaultHttpClient httpClient = new DefaultHttpClient();\r\n    HttpResponse res = httpClient.execute(req); \r\n\r\nServer side, I have composed a JSON response.\r\n\r\n    JSONObject JObject = new JSONObject();\r\n    JObject.put(&quot;ResponseCode&quot;, &quot;100&quot;);\r\n    JObject.put(&quot;Status&quot;, &quot;Success&quot;);\r\n    response.setContentType(&quot;application/json&quot;);    \r\n    PrintWriter out = response.getWriter();\r\n    out.print(JObject);\r\n    out.flush();\r\n\r\nHow can i read this `ResponseCode` and `Status` in Client side back.","title":"how to read json response in jsp","body":"<p>My client side program is like this:</p>\n\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\nHttpResponse res = httpClient.execute(req); \n</code></pre>\n\n<p>Server side, I have composed a JSON response.</p>\n\n<pre><code>JSONObject JObject = new JSONObject();\nJObject.put(\"ResponseCode\", \"100\");\nJObject.put(\"Status\", \"Success\");\nresponse.setContentType(\"application/json\");    \nPrintWriter out = response.getWriter();\nout.print(JObject);\nout.flush();\n</code></pre>\n\n<p>How can i read this <code>ResponseCode</code> and <code>Status</code> in Client side back.</p>\n"},{"tags":["java","node.js","spring","reactjs","tomcat"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":1,"creation_date":1495805305,"post_id":44202786,"comment_id":75418303,"body_markdown":"Add config to show how the `The spring application has the CORS filtering enabled and accepts requests from any domain.`","body":"Add config to show how the <code>The spring application has the CORS filtering enabled and accepts requests from any domain.</code>"}],"answers":[{"tags":[],"owner":{"account_id":10012361,"reputation":321,"user_id":7404825,"display_name":"djdere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495805898,"creation_date":1495805898,"answer_id":44203082,"question_id":44202786,"body_markdown":"This is a very common problem with a simple solution. I have encountered this problem a few weeks ago. and this is how i fixed it. On your tomcat `web.xml` file add the following filters.\r\n\r\n    &lt;filter&gt;\r\n     &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n     &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n      &lt;init-param&gt;\r\n       &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\r\n       &lt;param-value&gt;*&lt;/param-value&gt;\r\n     &lt;/init-param&gt;\r\n     &lt;init-param&gt;\r\n       &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\r\n       &lt;param-value&gt;GET,POST,HEAD,OPTIONS,PUT,DELETE&lt;/param-value&gt;\r\n     &lt;/init-param&gt;\r\n     &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\r\n        &lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-\r\n    Request-Method,Access-Control-Request-Headers,Authorization,Content-\r\n    Disposition&lt;/param-value&gt;\r\n     &lt;/init-param&gt; \r\n     &lt;init-param&gt;\r\n       &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\r\n       &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-\r\n        Credentials,Content-Disposition&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n     &lt;init-param&gt;\r\n       &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\r\n       &lt;param-value&gt;true&lt;/param-value&gt;\r\n     &lt;/init-param&gt;\r\n     &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.preflight.maxage&lt;/param-name&gt;\r\n        &lt;param-value&gt;10&lt;/param-value&gt;\r\n     &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n     &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nAnd this should definitely fix your problem. Enjoy ","title":"CORS issue with NodeJS server to Tomcat server","body":"<p>This is a very common problem with a simple solution. I have encountered this problem a few weeks ago. and this is how i fixed it. On your tomcat <code>web.xml</code> file add the following filters.</p>\n\n<pre><code>&lt;filter&gt;\n &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n  &lt;init-param&gt;\n   &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n   &lt;param-value&gt;*&lt;/param-value&gt;\n &lt;/init-param&gt;\n &lt;init-param&gt;\n   &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\n   &lt;param-value&gt;GET,POST,HEAD,OPTIONS,PUT,DELETE&lt;/param-value&gt;\n &lt;/init-param&gt;\n &lt;init-param&gt;\n    &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\n    &lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-\nRequest-Method,Access-Control-Request-Headers,Authorization,Content-\nDisposition&lt;/param-value&gt;\n &lt;/init-param&gt; \n &lt;init-param&gt;\n   &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\n   &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-\n    Credentials,Content-Disposition&lt;/param-value&gt;\n  &lt;/init-param&gt;\n &lt;init-param&gt;\n   &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\n   &lt;param-value&gt;true&lt;/param-value&gt;\n &lt;/init-param&gt;\n &lt;init-param&gt;\n    &lt;param-name&gt;cors.preflight.maxage&lt;/param-name&gt;\n    &lt;param-value&gt;10&lt;/param-value&gt;\n &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>And this should definitely fix your problem. Enjoy </p>\n"}],"owner":{"account_id":1631573,"reputation":2175,"user_id":1505987,"accept_rate":67,"display_name":"Vimalraj Selvam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692572502,"creation_date":1495805077,"question_id":44202786,"body_markdown":"I have backend web services written using Java Spring and deployed on the tomcat server say IP address XXX.XXX.XXX.XXX on port 8443 with HTTPS protocol.\r\n\r\nAnd I have the front-end application written using React JS with create-react-app scaffold which consumes the rest api services exposed by the JAVA spring application using jQuery AJAX. I&#39;ve built the js files and bundled, and served via a simple node server. This node server is hosted on say, IP address YYY.YYY.YYY.YYY on port 8443.\r\n\r\nFrom the browser through the frontend, I&#39;m trying to hit the POST call and it fails on pre-flight operation with request method as OPTIONS.\r\n\r\nTried servicing YYY.YYY.YYY.YYY through HTTPS protocol and face the same issue.\r\n\r\nThe spring application has the CORS filtering enabled and accepts requests from any domain.\r\n\r\nNeed an expert advise who had come across the same issue and how you fixed.","title":"CORS issue with NodeJS server to Tomcat server","body":"<p>I have backend web services written using Java Spring and deployed on the tomcat server say IP address XXX.XXX.XXX.XXX on port 8443 with HTTPS protocol.</p>\n\n<p>And I have the front-end application written using React JS with create-react-app scaffold which consumes the rest api services exposed by the JAVA spring application using jQuery AJAX. I've built the js files and bundled, and served via a simple node server. This node server is hosted on say, IP address YYY.YYY.YYY.YYY on port 8443.</p>\n\n<p>From the browser through the frontend, I'm trying to hit the POST call and it fails on pre-flight operation with request method as OPTIONS.</p>\n\n<p>Tried servicing YYY.YYY.YYY.YYY through HTTPS protocol and face the same issue.</p>\n\n<p>The spring application has the CORS filtering enabled and accepts requests from any domain.</p>\n\n<p>Need an expert advise who had come across the same issue and how you fixed.</p>\n"},{"tags":["java","smtp","gmail-api"],"comments":[{"owner":{"account_id":5320286,"reputation":4281,"user_id":4243927,"display_name":"Aerials"},"score":0,"creation_date":1621236732,"post_id":67556270,"comment_id":119424310,"body_markdown":"Which client library are you using?","body":"Which client library are you using?"},{"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"score":1,"creation_date":1621250743,"post_id":67556270,"comment_id":119430172,"body_markdown":"I&#39;m using javax.mail","body":"I&#39;m using javax.mail"},{"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"score":0,"creation_date":1621250794,"post_id":67556270,"comment_id":119430194,"body_markdown":"on old mac this code is working, I checked it one more time :/  I think something is blocking smpt protocol on a mac mini","body":"on old mac this code is working, I checked it one more time :/  I think something is blocking smpt protocol on a mac mini"}],"answers":[{"tags":[],"owner":{"account_id":21925520,"reputation":1,"user_id":16208189,"display_name":"Cleber de Ara&#250;jo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623543076,"creation_date":1623514158,"answer_id":67950665,"question_id":67556270,"body_markdown":"To solve that issue, just upgrade the java library used to sendmail.\r\nIt worked for me.","title":"javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate","body":"<p>To solve that issue, just upgrade the java library used to sendmail.\nIt worked for me.</p>\n"},{"tags":[],"owner":{"account_id":20049042,"reputation":77,"user_id":14698103,"display_name":"DEEPAK MAURYA"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625335111,"creation_date":1625335111,"answer_id":68238768,"question_id":67556270,"body_markdown":"Warning do this own risk of enabling tlsv1 and tlsv1.1:\r\n\r\n1. find the directory where java.security file saved.\r\n in the case of ubuntu: \r\n\r\n    /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security\r\n\r\n2. find `jdk.tls.disabledAlgorithms`\r\n\r\n3. remove `TLSv1, TLSv1.1`\r\n\r\n4. reboot the server and run the project to try to send mail again.","title":"javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate","body":"<p>Warning do this own risk of enabling tlsv1 and tlsv1.1:</p>\n<ol>\n<li><p>find the directory where java.security file saved.\nin the case of ubuntu:</p>\n<p>/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security</p>\n</li>\n<li><p>find <code>jdk.tls.disabledAlgorithms</code></p>\n</li>\n<li><p>remove <code>TLSv1, TLSv1.1</code></p>\n</li>\n<li><p>reboot the server and run the project to try to send mail again.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"display_name":"user11936657"},"score":1,"creation_date":1641902638,"post_id":68299147,"comment_id":124923797,"body_markdown":"thanks&#39; its worked and solved my issue","body":"thanks&#39; its worked and solved my issue"},{"owner":{"account_id":14301968,"reputation":170,"user_id":10331078,"display_name":"Mohit Tomar"},"score":0,"creation_date":1665229449,"post_id":68299147,"comment_id":130653747,"body_markdown":"Where to put these lines?","body":"Where to put these lines?"},{"owner":{"account_id":7046,"reputation":4518,"user_id":12039,"accept_rate":89,"display_name":"Kariem"},"score":0,"creation_date":1665565289,"post_id":68299147,"comment_id":130728199,"body_markdown":"@MohitTomar You can set these properties when initializing the session ([javax.mail.Session.getInstance(Properties))](https://javaee.github.io/javamail/docs/api/javax/mail/Session.html#getInstance-java.util.Properties-). Alternatively, these are read from the system properties. See also this answer for a list of properties: https://stackoverflow.com/a/16595037.","body":"@MohitTomar You can set these properties when initializing the session (<a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/Session.html#getInstance-java.util.Properties-\" rel=\"nofollow noreferrer\">javax.mail.Session.getInstance(Properties))</a>. Alternatively, these are read from the system properties. See also this answer for a list of properties: <a href=\"https://stackoverflow.com/a/16595037\">stackoverflow.com/a/16595037</a>."},{"owner":{"account_id":1455822,"reputation":645,"user_id":1371410,"accept_rate":68,"display_name":"cpliu338"},"score":0,"creation_date":1684345889,"post_id":68299147,"comment_id":134506355,"body_markdown":"I use Zoho mail, properties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;) is important!","body":"I use Zoho mail, properties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;) is important!"}],"tags":[],"owner":{"account_id":7046,"reputation":4518,"user_id":12039,"accept_rate":89,"display_name":"Kariem"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1628861511,"creation_date":1625737186,"answer_id":68299147,"question_id":67556270,"body_markdown":"I had a similar issue and it seems to be related to [Deepak&#39;s response][1]. Following [these instructions][2] solved the problem.\r\n\r\nIt seems to be necessary to explicitly set `required` flag and the protocols:\r\n\r\nAdding the following settings worked for me:\r\n\r\n``` java\r\nproperties.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\r\nproperties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n```\r\n\r\nI have to add that I tested this on port 465 and the full configuration looks like this\r\n\r\n``` java\r\nproperies.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\nproperies.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\nproperies.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\nproperies.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\nproperies.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\r\nproperies.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\nproperies.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n```\r\n\r\n[1]: https://stackoverflow.com/a/68238768\r\n[2]: https://groups.google.com/g/dspace-tech/c/clqlwv3r_zY/m/AGVMg4OPBQAJ","title":"javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate","body":"<p>I had a similar issue and it seems to be related to <a href=\"https://stackoverflow.com/a/68238768\">Deepak's response</a>. Following <a href=\"https://groups.google.com/g/dspace-tech/c/clqlwv3r_zY/m/AGVMg4OPBQAJ\" rel=\"noreferrer\">these instructions</a> solved the problem.</p>\n<p>It seems to be necessary to explicitly set <code>required</code> flag and the protocols:</p>\n<p>Adding the following settings worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>properties.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\nproperties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n<p>I have to add that I tested this on port 465 and the full configuration looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>properies.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\nproperies.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\nproperies.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\nproperies.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nproperies.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\nproperies.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\nproperies.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1792158,"reputation":700,"user_id":1632288,"accept_rate":67,"display_name":"Kendar"},"score":0,"creation_date":1655281247,"post_id":71631157,"comment_id":128292753,"body_markdown":"Why mysql? The question is about javax.mail","body":"Why mysql? The question is about javax.mail"}],"tags":[],"owner":{"account_id":5825507,"reputation":1208,"user_id":4592066,"display_name":"Rahul Sawant"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1648322827,"creation_date":1648322827,"answer_id":71631157,"question_id":67556270,"body_markdown":"I faced this issue due to older version of **mysql-connector-java-5.1.40-bin.jar**\r\nUpgrading to **5.1.49** version solved my issue","title":"javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate","body":"<p>I faced this issue due to older version of <strong>mysql-connector-java-5.1.40-bin.jar</strong>\nUpgrading to <strong>5.1.49</strong> version solved my issue</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652955124,"post_id":72302008,"comment_id":127735128,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72302008/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"score":0,"creation_date":1682603465,"post_id":72302008,"comment_id":134244511,"body_markdown":"Upgrading javax.mail.jar to 1.6.2 solved the issue for me, too. Found here: https://javaee.github.io/javamail/#Download_JavaMail_Release","body":"Upgrading javax.mail.jar to 1.6.2 solved the issue for me, too. Found here: <a href=\"https://javaee.github.io/javamail/#Download_JavaMail_Release\" rel=\"nofollow noreferrer\">javaee.github.io/javamail/#Download_JavaMail_Release</a>"}],"tags":[],"owner":{"account_id":10908040,"reputation":31,"user_id":8018240,"display_name":"FanChen"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1652952498,"creation_date":1652952498,"answer_id":72302008,"question_id":67556270,"body_markdown":"I upgraded my javax.mail to 1.6.2 and solved the problem","title":"javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate","body":"<p>I upgraded my javax.mail to 1.6.2 and solved the problem</p>\n"},{"tags":[],"owner":{"account_id":762153,"reputation":7003,"user_id":778517,"accept_rate":60,"display_name":"S&#233;rgio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692571749,"creation_date":1692571749,"answer_id":76941608,"question_id":67556270,"body_markdown":"\r\n\r\nmy solution is enable secure port and TLSv1.2 . \r\n\r\n```\r\nmail.smtp.port=587\r\nmail.smtp.ssl.protocols=TLSv1.2\r\nmail.smtp.starttls.enable=true ","title":"javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate","body":"<p>my solution is enable secure port and TLSv1.2 .</p>\n<pre><code>mail.smtp.port=587\nmail.smtp.ssl.protocols=TLSv1.2\nmail.smtp.starttls.enable=true \n</code></pre>\n"}],"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38283,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":6,"score":13,"last_activity_date":1692571749,"creation_date":1621165505,"question_id":67556270,"body_markdown":"I know there is several issue created about this error but nothing was helpful for me. I have method  which is sending email with attachment on gmail server and it works fine. yesterday I bought a new mac mini m1. I tried this method to send email but it&#39;s throwing this error \r\n\r\n\r\n     public static void sentEmail(String report){  \r\n\t\tBaseTest base = new BaseTest();\r\n\t\t\r\n\t\t  \r\n\t\t  String to = base.getProps().getProperty(&quot;emailTO&quot;); ;//change accordingly  \r\n\t\t  final String user = base.getProps().getProperty(&quot;emailFROM&quot;);//change accordingly  \r\n\t\t  final String password = base.getProps().getProperty(&quot;emailPassword&quot;);//change accordingly  \r\n\t\t   \r\n\t\t  //1) get the session object     \r\n\t\t  Properties properties = System.getProperties();  \r\n\t\t  properties.setProperty(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);  \r\n\t\t  properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;); \r\n\t\t  properties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);  \r\n\t\t  properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t\t  \r\n\t\t  \r\n\t\t  Session session = Session.getDefaultInstance(properties,  \r\n\t\t   new javax.mail.Authenticator() {  \r\n\t\t   protected PasswordAuthentication getPasswordAuthentication() {  \r\n\t\t   return new PasswordAuthentication(user,password);  \r\n\t\t   }  \r\n\t\t  });  \r\n\t\t     \r\n\t\t  //2) compose message     \r\n\t\t  try{  \r\n\t\t    MimeMessage message = new MimeMessage(session);  \r\n\t\t    message.setFrom(new InternetAddress(user));  \r\n\t\t    message.addRecipient(Message.RecipientType.TO,new InternetAddress(to));  \r\n\t\t    message.setSubject(&quot;From Mobile Automation Project &quot;);  \r\n\t\t      \r\n\t\t    //3) create MimeBodyPart object and set your message text     \r\n\t\t    BodyPart messageBodyPart1 = new MimeBodyPart();  \r\n\t\t    messageBodyPart1.setText(&quot;Report&quot;);  \r\n\t\t      \r\n\t\t    //4) create new MimeBodyPart object and set DataHandler object to this object      \r\n\t\t    MimeBodyPart messageBodyPart2 = new MimeBodyPart();  \r\n\t\t  \r\n\t\t    String filename = report;//change accordingly  \r\n\t\t    DataSource source = new FileDataSource(filename);  \r\n\t\t    messageBodyPart2.setDataHandler(new DataHandler(source));  \r\n\t\t    messageBodyPart2.setFileName(filename);  \r\n\t\t     \r\n\t\t     \r\n\t\t    //5) create Multipart object and add MimeBodyPart objects to this object      \r\n\t\t    Multipart multipart = new MimeMultipart();  \r\n\t\t    multipart.addBodyPart(messageBodyPart1);  \r\n\t\t    multipart.addBodyPart(messageBodyPart2);  \r\n\t\t  \r\n\t\t    //6) set the multiplart object to the message object  \r\n\t\t    message.setContent(multipart );  \r\n\t\t     \r\n\t\t    //7) send message  \r\n\t\t    Transport.send(message);  \r\n\t\t   \r\n\t\t   System.out.println(&quot;Report has been sent to: &quot;+ to);  \r\n\t\t   }catch (MessagingException ex) {ex.printStackTrace();}  \r\n\t}\r\n\r\n\r\nException\r\n\r\n        javax.mail.MessagingException: Could not convert socket to TLS;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\r\n    \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\r\n    \tat javax.mail.Service.connect(Service.java:317)\r\n    \tat javax.mail.Service.connect(Service.java:176)\r\n    \tat javax.mail.Service.connect(Service.java:125)\r\n    \tat javax.mail.Transport.send0(Transport.java:194)\r\n    \tat javax.mail.Transport.send(Transport.java:124)\r\n    \tat com.qa.utils.TestUtils.SendEmailTLS(TestUtils.java:228)\r\n    \tat com.qa.BaseTest.afterSuite(BaseTest.java:153)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:63)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:348)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:302)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:351)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1039)\r\n    \tat org.testng.TestNG.run(TestNG.java:1007)\r\n    \tat org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:284)\r\n    \tat org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75)\r\n    \tat org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    \tat sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:171)\r\n    \tat sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:101)\r\n    \tat sun.security.ssl.TransportContext.kickstart(TransportContext.java:238)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\r\n    \tat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\r\n    \tat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\r\n    \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\r\n    \t... 31 more \r\n\r\n\r\nI changed this parameter   \r\n\r\n    properties.setProperty(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n\r\nTo this \r\n   \r\n\r\n    properties.setProperty(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);\r\n\r\nBut then I&#39;m getting this exception \r\n\r\n    javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 587;\r\n      nested exception is:\r\n    \tjava.net.ConnectException: Connection refused (Connection refused)\r\n    \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1961)\r\n    \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:654)\r\n    \tat javax.mail.Service.connect(Service.java:317)\r\n    \tat javax.mail.Service.connect(Service.java:176)\r\n    \tat javax.mail.Service.connect(Service.java:125)\r\n    \tat javax.mail.Transport.send0(Transport.java:194)\r\n    \tat javax.mail.Transport.send(Transport.java:124)\r\n    \tat com.qa.utils.TestUtils.sentEmail(TestUtils.java:189)\r\n    \tat com.qa.BaseTest.afterSuite(BaseTest.java:152)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:63)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:348)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:302)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:351)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1039)\r\n    \tat org.testng.TestNG.run(TestNG.java:1007)\r\n    \tat org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:284)\r\n    \tat org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75)\r\n    \tat org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\r\n    \tat java.net.Socket.connect(Socket.java:606)\r\n    \tat java.net.Socket.connect(Socket.java:555)\r\n    \tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:321)\r\n    \tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:237)\r\n    \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1927)\r\n    \t... 31 more","title":"javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate","body":"<p>I know there is several issue created about this error but nothing was helpful for me. I have method  which is sending email with attachment on gmail server and it works fine. yesterday I bought a new mac mini m1. I tried this method to send email but it's throwing this error</p>\n<pre><code> public static void sentEmail(String report){  \n    BaseTest base = new BaseTest();\n    \n      \n      String to = base.getProps().getProperty(&quot;emailTO&quot;); ;//change accordingly  \n      final String user = base.getProps().getProperty(&quot;emailFROM&quot;);//change accordingly  \n      final String password = base.getProps().getProperty(&quot;emailPassword&quot;);//change accordingly  \n       \n      //1) get the session object     \n      Properties properties = System.getProperties();  \n      properties.setProperty(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);  \n      properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;); \n      properties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);  \n      properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n      \n      \n      Session session = Session.getDefaultInstance(properties,  \n       new javax.mail.Authenticator() {  \n       protected PasswordAuthentication getPasswordAuthentication() {  \n       return new PasswordAuthentication(user,password);  \n       }  \n      });  \n         \n      //2) compose message     \n      try{  \n        MimeMessage message = new MimeMessage(session);  \n        message.setFrom(new InternetAddress(user));  \n        message.addRecipient(Message.RecipientType.TO,new InternetAddress(to));  \n        message.setSubject(&quot;From Mobile Automation Project &quot;);  \n          \n        //3) create MimeBodyPart object and set your message text     \n        BodyPart messageBodyPart1 = new MimeBodyPart();  \n        messageBodyPart1.setText(&quot;Report&quot;);  \n          \n        //4) create new MimeBodyPart object and set DataHandler object to this object      \n        MimeBodyPart messageBodyPart2 = new MimeBodyPart();  \n      \n        String filename = report;//change accordingly  \n        DataSource source = new FileDataSource(filename);  \n        messageBodyPart2.setDataHandler(new DataHandler(source));  \n        messageBodyPart2.setFileName(filename);  \n         \n         \n        //5) create Multipart object and add MimeBodyPart objects to this object      \n        Multipart multipart = new MimeMultipart();  \n        multipart.addBodyPart(messageBodyPart1);  \n        multipart.addBodyPart(messageBodyPart2);  \n      \n        //6) set the multiplart object to the message object  \n        message.setContent(multipart );  \n         \n        //7) send message  \n        Transport.send(message);  \n       \n       System.out.println(&quot;Report has been sent to: &quot;+ to);  \n       }catch (MessagingException ex) {ex.printStackTrace();}  \n}\n</code></pre>\n<p>Exception</p>\n<pre><code>    javax.mail.MessagingException: Could not convert socket to TLS;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\n    at javax.mail.Service.connect(Service.java:317)\n    at javax.mail.Service.connect(Service.java:176)\n    at javax.mail.Service.connect(Service.java:125)\n    at javax.mail.Transport.send0(Transport.java:194)\n    at javax.mail.Transport.send(Transport.java:124)\n    at com.qa.utils.TestUtils.SendEmailTLS(TestUtils.java:228)\n    at com.qa.BaseTest.afterSuite(BaseTest.java:153)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:63)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:348)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:302)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:351)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:286)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\n    at org.testng.TestNG.runSuites(TestNG.java:1039)\n    at org.testng.TestNG.run(TestNG.java:1007)\n    at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:284)\n    at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75)\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:171)\n    at sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:101)\n    at sun.security.ssl.TransportContext.kickstart(TransportContext.java:238)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\n    at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\n    at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\n    at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\n    ... 31 more \n</code></pre>\n<p>I changed this parameter</p>\n<pre><code>properties.setProperty(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n</code></pre>\n<p>To this</p>\n<pre><code>properties.setProperty(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);\n</code></pre>\n<p>But then I'm getting this exception</p>\n<pre><code>javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 587;\n  nested exception is:\n    java.net.ConnectException: Connection refused (Connection refused)\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1961)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:654)\n    at javax.mail.Service.connect(Service.java:317)\n    at javax.mail.Service.connect(Service.java:176)\n    at javax.mail.Service.connect(Service.java:125)\n    at javax.mail.Transport.send0(Transport.java:194)\n    at javax.mail.Transport.send(Transport.java:124)\n    at com.qa.utils.TestUtils.sentEmail(TestUtils.java:189)\n    at com.qa.BaseTest.afterSuite(BaseTest.java:152)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:63)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:348)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:302)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:351)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:286)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\n    at org.testng.TestNG.runSuites(TestNG.java:1039)\n    at org.testng.TestNG.run(TestNG.java:1007)\n    at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:284)\n    at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75)\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\n    at java.net.Socket.connect(Socket.java:606)\n    at java.net.Socket.connect(Socket.java:555)\n    at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:321)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:237)\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1927)\n    ... 31 more\n</code></pre>\n"},{"tags":["java","android","function","constructor","interface"],"comments":[{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1688243149,"post_id":76596393,"comment_id":135048773,"body_markdown":"Hi, did you try to run the Code in UI thread? You can do it with a Handler.","body":"Hi, did you try to run the Code in UI thread? You can do it with a Handler."},{"owner":{"account_id":11504371,"reputation":3,"user_id":8431130,"display_name":"NikolaN"},"score":0,"creation_date":1688244386,"post_id":76596393,"comment_id":135048906,"body_markdown":"@Sametcey hmm I did not try that. Do you think that exception is thrown because of dedicated thread?","body":"@Sametcey hmm I did not try that. Do you think that exception is thrown because of dedicated thread?"},{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1688245123,"post_id":76596393,"comment_id":135048971,"body_markdown":"I write an answer please try that.","body":"I write an answer please try that."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1688250964,"post_id":76596393,"comment_id":135049424,"body_markdown":"The error you posted is because the JobService class requires a zero-argument constructor, but yours does not have one. Have a look at [this question](https://stackoverflow.com/questions/45438539/error-service-class-has-no-zero-argument-constructor) for an example of how to implement that, but depending on what you actually want to do in the service this might be overkill. You would get better answers if you also included in the question *why* you want a service in the first place and what work will be done on it.","body":"The error you posted is because the JobService class requires a zero-argument constructor, but yours does not have one. Have a look at <a href=\"https://stackoverflow.com/questions/45438539/error-service-class-has-no-zero-argument-constructor\">this question</a> for an example of how to implement that, but depending on what you actually want to do in the service this might be overkill. You would get better answers if you also included in the question <i>why</i> you want a service in the first place and what work will be done on it."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1688251299,"post_id":76596393,"comment_id":135049454,"body_markdown":"Also some relevant examples [here](https://stackoverflow.com/questions/51057471/service-error-has-no-zero-argument-constructor?rq=1)","body":"Also some relevant examples <a href=\"https://stackoverflow.com/questions/51057471/service-error-has-no-zero-argument-constructor?rq=1\">here</a>"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1688269230,"post_id":76596393,"comment_id":135050389,"body_markdown":"You would NEVER update the UI from a JobService.  Services are separate contexts, there should be no way for a service to access an Activity.  Doing so is 100% a memory leak if you manage to find some way to do it.  JobService is meant to be used with JobScheduler, which is a mechanism for scheduling work to be done in the future.  There is no promise that your Activity is running when it fires, in fact the usual reason to use it is that your activity *isn&#39;t* expected to be. You need to step back, describe what you&#39;re actually trying to do with this code, and learn the correct way to do it.","body":"You would NEVER update the UI from a JobService.  Services are separate contexts, there should be no way for a service to access an Activity.  Doing so is 100% a memory leak if you manage to find some way to do it.  JobService is meant to be used with JobScheduler, which is a mechanism for scheduling work to be done in the future.  There is no promise that your Activity is running when it fires, in fact the usual reason to use it is that your activity <i>isn&#39;t</i> expected to be. You need to step back, describe what you&#39;re actually trying to do with this code, and learn the correct way to do it."},{"owner":{"account_id":11504371,"reputation":3,"user_id":8431130,"display_name":"NikolaN"},"score":0,"creation_date":1688311219,"post_id":76596393,"comment_id":135054166,"body_markdown":"@TylerV so I am implementing time stamps when job is finished. First I tried implementing time stamp into successful job scheduled but that fires right away when button is clicked since job goes thru. Maybe I am not aware of some functions that JobScheduler brings but can i check if thread is finished from main activity where I am implementing it? Its basic code for JobScheduler where it is called lets say once a day.","body":"@TylerV so I am implementing time stamps when job is finished. First I tried implementing time stamp into successful job scheduled but that fires right away when button is clicked since job goes thru. Maybe I am not aware of some functions that JobScheduler brings but can i check if thread is finished from main activity where I am implementing it? Its basic code for JobScheduler where it is called lets say once a day."},{"owner":{"account_id":11504371,"reputation":3,"user_id":8431130,"display_name":"NikolaN"},"score":0,"creation_date":1688311355,"post_id":76596393,"comment_id":135054177,"body_markdown":"@GabeSechan I described it in comment above. Can I like get some check when threads are done or something from Scheduler?","body":"@GabeSechan I described it in comment above. Can I like get some check when threads are done or something from Scheduler?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1688314051,"post_id":76596393,"comment_id":135054499,"body_markdown":"&quot;I am implementing time stamps when job is finished&quot; does not really describe what &quot;job&quot; is or what you are trying to do (or, more importantly, why you think you need to use a service for it instead of just using a background thread in the app). If you need a service, one option would be to write the timestamp to [SharedPreferences](https://stackoverflow.com/questions/13558550/can-i-get-data-from-shared-preferences-inside-a-service), and have the activity query the SharedPreferences at some interval in its own thread.","body":"&quot;I am implementing time stamps when job is finished&quot; does not really describe what &quot;job&quot; is or what you are trying to do (or, more importantly, why you think you need to use a service for it instead of just using a background thread in the app). If you need a service, one option would be to write the timestamp to <a href=\"https://stackoverflow.com/questions/13558550/can-i-get-data-from-shared-preferences-inside-a-service\">SharedPreferences</a>, and have the activity query the SharedPreferences at some interval in its own thread."},{"owner":{"account_id":11504371,"reputation":3,"user_id":8431130,"display_name":"NikolaN"},"score":0,"creation_date":1688315193,"post_id":76596393,"comment_id":135054672,"body_markdown":"@TylerV yea I just read about SharedPreferences so I am gonna try and do that. Time stamps are for when email is sent so there is like value for person to see when is the last job finished with success.","body":"@TylerV yea I just read about SharedPreferences so I am gonna try and do that. Time stamps are for when email is sent so there is like value for person to see when is the last job finished with success."}],"answers":[{"comments":[{"owner":{"account_id":11504371,"reputation":3,"user_id":8431130,"display_name":"NikolaN"},"score":0,"creation_date":1688247200,"post_id":76596563,"comment_id":135049161,"body_markdown":"I am not sure how to implement this into my code.","body":"I am not sure how to implement this into my code."},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1692673427,"post_id":76596563,"comment_id":135652536,"body_markdown":"This fails to explain, for example, where to put `Handler handler = new Handler();` Due to your use of the deprecated zero-argument constructor, that&#39;s _very_ important.","body":"This fails to explain, for example, where to put <code>Handler handler = new Handler();</code> Due to your use of the deprecated zero-argument constructor, that&#39;s <i>very</i> important."}],"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692569723,"creation_date":1688245236,"answer_id":76596563,"question_id":76596393,"body_markdown":"You can also update UI thread from background thread in this way also:\r\n\r\n    Handler handler = new Handler();\r\n    \r\n    //below piece of code is written in function of class that extends from AsyncTask\r\n    \r\n    handler.post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            textView.setText(stringBuilder);\r\n        }\r\n    });\r\n\r\n\r\nYou must pass the view object to the class in which the handler are running.","title":"Android/Java: Edit textview from another class/thread with interface","body":"<p>You can also update UI thread from background thread in this way also:</p>\n<pre><code>Handler handler = new Handler();\n\n//below piece of code is written in function of class that extends from AsyncTask\n\nhandler.post(new Runnable() {\n    @Override\n    public void run() {\n        textView.setText(stringBuilder);\n    }\n});\n</code></pre>\n<p>You must pass the view object to the class in which the handler are running.</p>\n"}],"owner":{"account_id":11504371,"reputation":3,"user_id":8431130,"display_name":"NikolaN"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1692673475,"answer_count":1,"score":-2,"last_activity_date":1692569723,"creation_date":1688242166,"question_id":76596393,"body_markdown":"I want to edit textview text from MainActivity class and I put a function which is connected to interface, which then goes into another class named JobService (class for sending something with threads in it). But I am getting an error in constructor part It alludes to null pointer exception at myCallback part. Even when I give the string with code inside (timestampJob) it goes to null pointer exception.\r\n\r\n\r\n```\r\n//MainActivity class\r\n\r\npublic class MainActivity extends AppCompatActivity implements MyCallback\r\n\r\n    TextView timestampMails;\r\n\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    timestampMails = (TextView) findViewById(R.id.timeStampMainMails);\r\n\r\n    }\r\n\r\n    //function for changeing the textview connected with interface to JobService class\r\n    public void setTimestampMain(String time){\r\n        timestampMails.setText(time);\r\n    }\r\n\r\n```\r\n\r\n\r\n```\r\n//Interface class\r\n\r\npublic interface MyCallback {\r\n    public void setTimestampMain(String myString);\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n//JobService class\r\n\r\npublic class JobService extends android.app.job.JobService {\r\n\r\n    //interface call\r\n    MyCallback myCallback = null;\r\n    //constructor\r\n    public JobService(MyCallback callback){\r\n        this.myCallback = callback;\r\n    }\r\n    public void timeStampJob(String time){\r\n        //HERE IS THE EXCEPTION (I think)\r\n        if(myCallback != null){\r\n            myCallback.setTimestampMain(time);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onStartJob(JobParameters params) {\r\n        Log.d(TAG, &quot;Job started&quot;);\r\n        doBackgroundWork(params);\r\n\r\n        return true;\r\n    }\r\n\r\n    private void doBackgroundWork(JobParameters params) {\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                for(int i=0; i&lt;1; i++){\r\n\r\n                    //get device time function and populate function with that string\r\n                    String deviceTime = new     SimpleDateFormat(&quot;HH:mm&quot;).format(Calendar.getInstance().getTime());\r\n                    timeStampJob(deviceTime);\r\n\r\n                 \r\n                    if(jobCancelled){\r\n                        return;\r\n                    }\r\n\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n                Log.d(TAG, &quot;Job finished:&quot;);\r\n                jobFinished(params, false);\r\n            }\r\n        }).start();\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onStopJob(JobParameters params) {\r\n        Log.d(TAG, &quot;Job cancelled before completion&quot;);\r\n        jobCancelled = true;\r\n\r\n        return true;\r\n    }\r\n\r\n```\r\n\r\n```\r\nProcess: com.example.gmailemailsolution, PID: 3944\r\njava.lang.RuntimeException: Unable to instantiate service\r\ncom.example.gmailemailsolution.JobService: java.lang.InstantiationException:\r\njava.lang.Class&lt;com.example.gmailemailsolution.JobService&gt; has no zero\r\nargument constructor (HERE)\r\nat android.app.ActivityThread.handleCreateService(ActivityThread.java:3268)\r\nat android.app.ActivityThread.-wrap5(ActivityThread.java)\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1608)\r\nat android.os.Handler.dispatchMessage(Handler.java:102)\r\nat android.os.Looper.loop(Looper.java:173)\r\nat android.app.ActivityThread.main(ActivityThread.java:6523)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:938)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:828)\r\nCaused by: java.lang.InstantiationException:\r\njava.lang.Class&lt;com.example.gmailemailsolution.JobService&gt; has no zero\r\nargument constructor (HERE)\r\nat java.lang.Class.newInstance(Native Method)\r\nat android.app.ActivityThread.handleCreateService(ActivityThread.java:3265)\r\nat android.app.ActivityThread.-wrap5(ActivityThread.java)\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1608)\r\nat android.os.Handler.dispatchMessage(Handler.java:102)\r\nat android.os.Looper.loop(Looper.java:173)\r\nat android.app.ActivityThread.main(ActivityThread.java:6523)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:938)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:828)&#160;\r\n```\r\n\r\n\r\nTried interface class, calling it with constructor and making textview static but did not made it work.","title":"Android/Java: Edit textview from another class/thread with interface","body":"<p>I want to edit textview text from MainActivity class and I put a function which is connected to interface, which then goes into another class named JobService (class for sending something with threads in it). But I am getting an error in constructor part It alludes to null pointer exception at myCallback part. Even when I give the string with code inside (timestampJob) it goes to null pointer exception.</p>\n<pre><code>//MainActivity class\n\npublic class MainActivity extends AppCompatActivity implements MyCallback\n\n    TextView timestampMails;\n\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n    timestampMails = (TextView) findViewById(R.id.timeStampMainMails);\n\n    }\n\n    //function for changeing the textview connected with interface to JobService class\n    public void setTimestampMain(String time){\n        timestampMails.setText(time);\n    }\n\n</code></pre>\n<pre><code>//Interface class\n\npublic interface MyCallback {\n    public void setTimestampMain(String myString);\n}\n\n</code></pre>\n<pre><code>//JobService class\n\npublic class JobService extends android.app.job.JobService {\n\n    //interface call\n    MyCallback myCallback = null;\n    //constructor\n    public JobService(MyCallback callback){\n        this.myCallback = callback;\n    }\n    public void timeStampJob(String time){\n        //HERE IS THE EXCEPTION (I think)\n        if(myCallback != null){\n            myCallback.setTimestampMain(time);\n        }\n    }\n\n    @Override\n    public boolean onStartJob(JobParameters params) {\n        Log.d(TAG, &quot;Job started&quot;);\n        doBackgroundWork(params);\n\n        return true;\n    }\n\n    private void doBackgroundWork(JobParameters params) {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for(int i=0; i&lt;1; i++){\n\n                    //get device time function and populate function with that string\n                    String deviceTime = new     SimpleDateFormat(&quot;HH:mm&quot;).format(Calendar.getInstance().getTime());\n                    timeStampJob(deviceTime);\n\n                 \n                    if(jobCancelled){\n                        return;\n                    }\n\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n                Log.d(TAG, &quot;Job finished:&quot;);\n                jobFinished(params, false);\n            }\n        }).start();\n\n    }\n\n    @Override\n    public boolean onStopJob(JobParameters params) {\n        Log.d(TAG, &quot;Job cancelled before completion&quot;);\n        jobCancelled = true;\n\n        return true;\n    }\n\n</code></pre>\n<pre><code>Process: com.example.gmailemailsolution, PID: 3944\njava.lang.RuntimeException: Unable to instantiate service\ncom.example.gmailemailsolution.JobService: java.lang.InstantiationException:\njava.lang.Class&lt;com.example.gmailemailsolution.JobService&gt; has no zero\nargument constructor (HERE)\nat android.app.ActivityThread.handleCreateService(ActivityThread.java:3268)\nat android.app.ActivityThread.-wrap5(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1608)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:173)\nat android.app.ActivityThread.main(ActivityThread.java:6523)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:938)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:828)\nCaused by: java.lang.InstantiationException:\njava.lang.Class&lt;com.example.gmailemailsolution.JobService&gt; has no zero\nargument constructor (HERE)\nat java.lang.Class.newInstance(Native Method)\nat android.app.ActivityThread.handleCreateService(ActivityThread.java:3265)\nat android.app.ActivityThread.-wrap5(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1608)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:173)\nat android.app.ActivityThread.main(ActivityThread.java:6523)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:938)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:828) \n</code></pre>\n<p>Tried interface class, calling it with constructor and making textview static but did not made it work.</p>\n"},{"tags":["java","spring","hibernate","spring-mvc","beancreationexception"],"answers":[{"comments":[{"owner":{"account_id":2119630,"reputation":634,"user_id":1883177,"accept_rate":67,"display_name":"Zouhair Kasmi"},"score":0,"creation_date":1400350639,"post_id":23714556,"comment_id":36445793,"body_markdown":"i was mentioned the constructor before","body":"i was mentioned the constructor before"}],"tags":[],"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1400350153,"creation_date":1400350153,"answer_id":23714556,"question_id":23714530,"body_markdown":"Exception clearly indicates the problem.\r\n\r\n`CompteDAOHib: No default constructor found`\r\n\r\nFor spring to instantiate your bean, you need to provide a empty constructor for your class `CompteDAOHib`.","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>Exception clearly indicates the problem.</p>\n\n<p><code>CompteDAOHib: No default constructor found</code></p>\n\n<p>For spring to instantiate your bean, you need to provide a empty constructor for your class <code>CompteDAOHib</code>.</p>\n"},{"comments":[{"owner":{"account_id":2119630,"reputation":634,"user_id":1883177,"accept_rate":67,"display_name":"Zouhair Kasmi"},"score":0,"creation_date":1400354940,"post_id":23715195,"comment_id":36447127,"body_markdown":"I applied your annotations but i got this exceptions    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;compteController&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.gestEtu.project.model.service.CompteService com.gestEtu.project.controller.CompteController.compteServ; nested exception is","body":"I applied your annotations but i got this exceptions    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;compteController&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.gestEtu.project.model.service.CompteService com.gestEtu.project.controller.CompteController.compteServ; nested exception is"},{"owner":{"account_id":3735071,"reputation":174,"user_id":3106193,"accept_rate":0,"display_name":"geddamsatish"},"score":0,"creation_date":1400354998,"post_id":23715195,"comment_id":36447143,"body_markdown":"what expections you got now.","body":"what expections you got now."},{"owner":{"account_id":3735071,"reputation":174,"user_id":3106193,"accept_rate":0,"display_name":"geddamsatish"},"score":0,"creation_date":1400355375,"post_id":23715195,"comment_id":36447240,"body_markdown":"Please send compteService code and are you working on eclispe with tomcat in combination of maven.then do maven update project which you get when u right click on the project.","body":"Please send compteService code and are you working on eclispe with tomcat in combination of maven.then do maven update project which you get when u right click on the project."},{"owner":{"account_id":2119630,"reputation":634,"user_id":1883177,"accept_rate":67,"display_name":"Zouhair Kasmi"},"score":0,"creation_date":1400356033,"post_id":23715195,"comment_id":36447431,"body_markdown":"yes i&#39;m working with tomcat and maven in eclipse Helios","body":"yes i&#39;m working with tomcat and maven in eclipse Helios"},{"owner":{"account_id":3735071,"reputation":174,"user_id":3106193,"accept_rate":0,"display_name":"geddamsatish"},"score":0,"creation_date":1400356118,"post_id":23715195,"comment_id":36447455,"body_markdown":"can you add your compteService class here so that i can check it.please do the procedure as mentioned.","body":"can you add your compteService class here so that i can check it.please do the procedure as mentioned."},{"owner":{"account_id":2119630,"reputation":634,"user_id":1883177,"accept_rate":67,"display_name":"Zouhair Kasmi"},"score":0,"creation_date":1400356320,"post_id":23715195,"comment_id":36447502,"body_markdown":"i was editing my poste and adding CompteService look at my first post","body":"i was editing my poste and adding CompteService look at my first post"},{"owner":{"account_id":3735071,"reputation":174,"user_id":3106193,"accept_rate":0,"display_name":"geddamsatish"},"score":0,"creation_date":1400356733,"post_id":23715195,"comment_id":36447625,"body_markdown":"add this &lt;context:annotation-config /&gt; instead of annotation driven.simply use this auto wire \t@Resource\n\tprivate SessionFactory sessionFactory; rather than extendingn hiberantedaosupport","body":"add this &lt;context:annotation-config /&gt; instead of annotation driven.simply use this auto wire \t@Resource \tprivate SessionFactory sessionFactory; rather than extendingn hiberantedaosupport"},{"owner":{"account_id":2119630,"reputation":634,"user_id":1883177,"accept_rate":67,"display_name":"Zouhair Kasmi"},"score":0,"creation_date":1400356930,"post_id":23715195,"comment_id":36447696,"body_markdown":"New exception Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.gestEtu.project.model.dao.CompteDAO com.gestEtu.project.model.mai 17, 2014 10:01:20 PM org.apache.catalina.core.ApplicationContext log","body":"New exception Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.gestEtu.project.model.dao.CompteDAO com.gestEtu.project.model.mai 17, 2014 10:01:20 PM org.apache.catalina.core.ApplicationContext log"},{"owner":{"account_id":3735071,"reputation":174,"user_id":3106193,"accept_rate":0,"display_name":"geddamsatish"},"score":0,"creation_date":1400357156,"post_id":23715195,"comment_id":36447762,"body_markdown":"There is still some code missing wish you had some git so that i can help u running ur code.","body":"There is still some code missing wish you had some git so that i can help u running ur code."}],"tags":[],"owner":{"account_id":3735071,"reputation":174,"user_id":3106193,"accept_rate":0,"display_name":"geddamsatish"},"comment_count":9,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1400354310,"creation_date":1400354310,"answer_id":23715195,"question_id":23714530,"body_markdown":"Change from @Controller to @Service to CompteController and \r\nadd @Service annotation to CompteDAOHib.\r\nLet me know if you still face this issue.","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>Change from @Controller to @Service to CompteController and \nadd @Service annotation to CompteDAOHib.\nLet me know if you still face this issue.</p>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1400355540,"creation_date":1400355540,"answer_id":23715377,"question_id":23714530,"body_markdown":"Copied from the stacktrace:\r\n\r\n&gt; BeanInstantiationException: Could not instantiate bean class [com.gestEtu.project.model.dao.CompteDAOHib]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.gestEtu.project.model.dao.CompteDAOHib.&amp;lt;init&amp;gt;()\r\n\r\nBy default, Spring will try to instantiate beans by calling a default (no-arg) constructor. The problem in your case is that the implementation of the `CompteDAOHib` has a constructor with a `SessionFactory` argument. By adding the `@Autowired` annotation to a constructor, Spring will attempt to find a bean of matching type, `SessionFactory` in your case, and provide it as a constructor argument, e.g.\r\n\r\n    @Autowired\r\n    public CompteDAOHib(SessionFactory sessionFactory) {\r\n        // ...\r\n    }","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>Copied from the stacktrace:</p>\n\n<blockquote>\n  <p>BeanInstantiationException: Could not instantiate bean class [com.gestEtu.project.model.dao.CompteDAOHib]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.gestEtu.project.model.dao.CompteDAOHib.&lt;init&gt;()</p>\n</blockquote>\n\n<p>By default, Spring will try to instantiate beans by calling a default (no-arg) constructor. The problem in your case is that the implementation of the <code>CompteDAOHib</code> has a constructor with a <code>SessionFactory</code> argument. By adding the <code>@Autowired</code> annotation to a constructor, Spring will attempt to find a bean of matching type, <code>SessionFactory</code> in your case, and provide it as a constructor argument, e.g.</p>\n\n<pre><code>@Autowired\npublic CompteDAOHib(SessionFactory sessionFactory) {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5003616,"reputation":211,"user_id":4021854,"display_name":"Lalchand Mali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595635451,"creation_date":1410247319,"answer_id":25738818,"question_id":23714530,"body_markdown":"&gt;org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;\r\n\r\nMake sure that you have added `ojdbc14.jar` into your library.\r\n\r\nFor oracle 11g, usie `ojdbc6.jar`.","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'MyController'</p>\n</blockquote>\n<p>Make sure that you have added <code>ojdbc14.jar</code> into your library.</p>\n<p>For oracle 11g, usie <code>ojdbc6.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":5780416,"reputation":259,"user_id":4561250,"display_name":"Damiani"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1454883877,"creation_date":1454883397,"answer_id":35259832,"question_id":23714530,"body_markdown":"I have been getting similar error, and just want to share with you. maybe it will help someone.\r\n\r\nIf you want to use `EntityManagerFactory` to get an `EntityManager`, make sure that you will use:\r\n\r\n    &lt;persistence-unit name=&quot;name&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\r\nand not:\r\n\r\n    &lt;persistence-unit name=&quot;name&quot; transaction-type=&quot;JPA&quot;&gt;\r\n\r\nin `persistance.xml`\r\n\r\nclean and rebuild project, it should help.\r\n","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>I have been getting similar error, and just want to share with you. maybe it will help someone.</p>\n\n<p>If you want to use <code>EntityManagerFactory</code> to get an <code>EntityManager</code>, make sure that you will use:</p>\n\n<pre><code>&lt;persistence-unit name=\"name\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n</code></pre>\n\n<p>and not:</p>\n\n<pre><code>&lt;persistence-unit name=\"name\" transaction-type=\"JPA\"&gt;\n</code></pre>\n\n<p>in <code>persistance.xml</code></p>\n\n<p>clean and rebuild project, it should help.</p>\n"},{"tags":[],"owner":{"account_id":6247965,"reputation":21,"user_id":4859121,"display_name":"Houssem Ouali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554809193,"creation_date":1554806049,"answer_id":55590779,"question_id":23714530,"body_markdown":"If nothing happens even if you added all the annotation needed, try to add this dependency to your `pom.xml`, I just faced the same problem and resolved it by adding this one here:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n       &lt;version&gt;1.9&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>If nothing happens even if you added all the annotation needed, try to add this dependency to your <code>pom.xml</code>, I just faced the same problem and resolved it by adding this one here:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n   &lt;version&gt;1.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21951293,"reputation":1,"user_id":16230474,"display_name":"user16230474"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624304822,"creation_date":1623741438,"answer_id":67981697,"question_id":23714530,"body_markdown":"I was using Spring on NetBeans IDE and had that problem too, apparently, I just forgot to added MySQL JDBC Driver library and it resolves my problem.\r\n","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>I was using Spring on NetBeans IDE and had that problem too, apparently, I just forgot to added MySQL JDBC Driver library and it resolves my problem.</p>\n"},{"tags":[],"owner":{"account_id":25353416,"reputation":11,"user_id":19169926,"display_name":"Nganga petero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667814105,"creation_date":1667814105,"answer_id":74344549,"question_id":23714530,"body_markdown":"Check on the functions on your repository. They must match ","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>Check on the functions on your repository. They must match</p>\n"},{"tags":[],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672892706,"creation_date":1672891127,"answer_id":75013714,"question_id":23714530,"body_markdown":"Just as a note to anybody that might run into this issue, another possible cause of this issue is Eclipse&#39;s `&quot;Built Automatically&quot;` feature.\r\n\r\nIf you have it enabled, the `Build Automatically` option will be greyed out with a tick. You can check under the `Project` tab, there will be a `Build Automatically` option. \r\n\r\nOthers on my team were also experiencing the same issue with Eclipse&#39;s `&quot;Built Automatically&quot;` feature that interfered with other aspects of the project &amp; have reported it as being faulty. \r\n\r\nWe knew there was nothing wrong with the project as it is a working build deployed on our servers.\r\n\r\nHope this helps!","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>Just as a note to anybody that might run into this issue, another possible cause of this issue is Eclipse's <code>&quot;Built Automatically&quot;</code> feature.</p>\n<p>If you have it enabled, the <code>Build Automatically</code> option will be greyed out with a tick. You can check under the <code>Project</code> tab, there will be a <code>Build Automatically</code> option.</p>\n<p>Others on my team were also experiencing the same issue with Eclipse's <code>&quot;Built Automatically&quot;</code> feature that interfered with other aspects of the project &amp; have reported it as being faulty.</p>\n<p>We knew there was nothing wrong with the project as it is a working build deployed on our servers.</p>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":10579727,"reputation":71,"user_id":7794027,"display_name":"Sazib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684172631,"creation_date":1684172631,"answer_id":76256669,"question_id":23714530,"body_markdown":"Create a **new package** in your project and **cut your main class** file and keep it a new package file and run again. It&#39;s working for me. \r\n\r\n    package fingerprint;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class ClientApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ClientApplication.class, args);\r\n    \t}\r\n    \r\n    }","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>Create a <strong>new package</strong> in your project and <strong>cut your main class</strong> file and keep it a new package file and run again. It's working for me.</p>\n<pre><code>package fingerprint;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ClientApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ClientApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28678441,"reputation":1,"user_id":21960112,"display_name":"Harnek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692569221,"creation_date":1692545611,"answer_id":76940153,"question_id":23714530,"body_markdown":"I was facing this same issue today\r\nError: Required a bean of type &#39;com......ProductService&#39; that could not be found . i was missing @Service annotation on Service class, after adding that i was able to bring the server up and hit the api.\r\n ","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>I was facing this same issue today\nError: Required a bean of type 'com......ProductService' that could not be found . i was missing @Service annotation on Service class, after adding that i was able to bring the server up and hit the api.</p>\n"}],"owner":{"account_id":2119630,"reputation":634,"user_id":1883177,"accept_rate":67,"display_name":"Zouhair Kasmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576367,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":23715377,"answer_count":11,"score":43,"last_activity_date":1692569221,"creation_date":1400349925,"question_id":23714530,"body_markdown":"I am doing spring + hibernate application. When I run the application on tomcat server I am getting some exceptions.\r\n\r\n    INFO : org.springframework.web.servlet.DispatcherServlet - FrameworkServlet &#39;appServlet&#39;: initialization started\r\n    INFO : org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace &#39;appServlet-servlet&#39;: startup date [Sat May 17 19:51:03 CEST 2014]; parent: Root WebApplicationContext\r\n    INFO : org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/appServlet/servlet-context.xml]\r\n    INFO : org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    INFO : org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped &quot;{[/inscription],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.String com.gestEtu.project.controller.CompteController.hello(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)\r\n    INFO : org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped &quot;{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.String com.gestEtu.project.controller.HomeController.home(java.util.Locale,org.springframework.ui.Model)\r\n    INFO : org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler &#39;org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0&#39;\r\n    ERROR: org.springframework.web.servlet.DispatcherServlet - Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;compteController&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.gestEtu.project.model.service.CompteServiceImp com.gestEtu.project.controller.CompteController.compteServ; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;compteServiceImp&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void com.gestEtu.project.model.service.CompteServiceImp.setCompteDAO(com.gestEtu.project.model.dao.CompteDAOHib); nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;compteDAOHib&#39; defined in file [C:\\Users\\zouhair\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\TESTER\\WEB-INF\\classes\\com\\gestEtu\\project\\model\\dao\\CompteDAOHib.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.gestEtu.project.model.dao.CompteDAOHib]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.gestEtu.project.model.dao.CompteDAOHib.&lt;init&gt;()\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:703)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1189)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1103)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4935)\r\n    \tat org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5262)\r\n    \tat org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5257)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.gestEtu.project.model.service.CompteServiceImp com.gestEtu.project.controller.CompteController.compteServ; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;compteServiceImp&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void com.gestEtu.project.model.service.CompteServiceImp.setCompteDAO(com.gestEtu.project.model.dao.CompteDAOHib); nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;compteDAOHib&#39; defined in file [C:\\Users\\zouhair\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\TESTER\\WEB-INF\\classes\\com\\gestEtu\\project\\model\\dao\\CompteDAOHib.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.gestEtu.project.model.dao.CompteDAOHib]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.gestEtu.project.model.dao.CompteDAOHib.&lt;init&gt;()\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \t... 27 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;compteServiceImp&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void com.gestEtu.project.model.service.CompteServiceImp.setCompteDAO(com.gestEtu.project.model.dao.CompteDAOHib); nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;compteDAOHib&#39; defined in file [C:\\Users\\zouhair\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\TESTER\\WEB-INF\\classes\\com\\gestEtu\\project\\model\\dao\\CompteDAOHib.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.gestEtu.project.model.dao.CompteDAOHib]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.gestEtu.project.model.dao.CompteDAOHib.&lt;init&gt;()\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1017)\r\n    \tat org.springframework.be   \r\n\r\n**root-context.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\r\n    \r\n    \t&lt;bean id=&quot;propertyConfigurer&quot;\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;\r\n    \t\tp:location=&quot;/WEB-INF/jdbc.properties&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n    \t\tdestroy-method=&quot;close&quot; p:driverClassName=&quot;${jdbc.driverClassName}&quot;\r\n    \t\tp:url=&quot;${jdbc.url}&quot; p:username=&quot;${jdbc.username}&quot; p:password=&quot;${jdbc.password}&quot; /&gt;\r\n    \r\n    \t&lt;!-- ADD PERSISTENCE SUPPORT HERE (jpa, hibernate, etc) --&gt;\r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;mappingResources&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;com/gestEtu/project/model/bo/Utilisateur.hbm.xml&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com/gestEtu/project/model/bo/Compte.hbm.xml&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com/gestEtu/project/model/bo/Message.hbm.xml&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com/gestEtu/project/model/bo/Groupe.hbm.xml&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com/gestEtu/project/model/bo/Etudiant.hbm.xml&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com/gestEtu/project/model/bo/Fichelecture.hbm.xml&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com/gestEtu/project/model/bo/Document.hbm.xml&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;com/gestEtu/project/model/bo/Commentaire.hbm.xml&lt;/value&gt;\r\n    \r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Transaction Manager --&gt;\r\n     \t&lt;bean id=&quot;txManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    \t&lt;/bean&gt; \r\n    &lt;/beans&gt;\r\n\r\n**servlet-context.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing infrastructure --&gt;\r\n    \t\r\n    \t&lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n    \t&lt;annotation-driven /&gt;\r\n    \r\n    \t&lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory --&gt;\r\n    \t&lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n    \r\n    \t&lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory --&gt;\r\n    \t&lt;beans:bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \t\r\n    \t&lt;context:component-scan base-package=&quot;com.gestEtu.project&quot; /&gt;\t\r\n    \t\r\n    &lt;/beans:beans&gt;\r\n\r\n**CompteController.java**\r\n\r\n    package com.gestEtu.project.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    import com.gestEtu.project.model.bo.Compte;\r\n    import com.gestEtu.project.model.service.CompteServiceImp;\r\n    \r\n    @Controller\r\n    public class CompteController {\r\n    \t@Autowired\r\n    \tprivate CompteServiceImp compteServ;\r\n    \r\n    \t// @Autowired\r\n    \t// public CompteController(CompteServiceImp compteServ) {\r\n    \t// this.compteServ=compteServ;\r\n    \t// }\r\n    \t//\r\n    \t@RequestMapping(value = &quot;/inscription&quot;)\r\n    \tpublic String hello(\r\n    \t\t\t@RequestParam(value = &quot;login&quot;, required = false, defaultValue = &quot;zouhair&quot;) String login,\r\n    \t\t\t@RequestParam(value = &quot;password&quot;, required = false, defaultValue = &quot;pass&quot;) String password,\r\n    \t\t\t@RequestParam(value = &quot;profil&quot;, required = false, defaultValue = &quot;Etudiant&quot;) String profil,\r\n    \t\t\tModel model) {\r\n    \t\tint id = 1;\r\n    \t\tCompte compte = new Compte(id, login, password, profil);\r\n    \t\tcompteServ.ajouterCompte(compte);\r\n    \t\tmodel.addAttribute(&quot;inscription&quot;, compte);\r\n    \t\treturn &quot;addCompte&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**compteService**\r\n\r\n\r\n    package com.gestEtu.project.model.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.gestEtu.project.model.bo.Compte;\r\n    import com.gestEtu.project.model.bo.Utilisateur;\r\n    import com.gestEtu.project.model.dao.CompteDAOHib;\r\n    \r\n    @Service\r\n    @Transactional(readOnly = true)\r\n    public class CompteServiceImp implements CompteService {\r\n    \r\n    \tprivate CompteDAOHib compteDAO;\r\n    \r\n    \t\r\n    \t@Autowired\r\n    \tpublic void setCompteDAO(CompteDAOHib compteDAO) {\r\n    \t\tthis.compteDAO = compteDAO;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void ajouterCompte(Compte compte) {\r\n    \t\tcompteDAO.ajouterCompte(compte);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Compte&gt; getComptes() {\r\n    \t\treturn compteDAO.getComptes();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Compte findCompteByLogin(String login) {\r\n    \r\n    \t\treturn compteDAO.findCompteByLogin(login);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void ajouterUtilisateur(Compte compte, Utilisateur utilisateur) {\r\n    \t\tthis.ajouterCompte(compte);\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Utilisateur getUtilisateurById(int id) {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Utilisateur&gt; getUtilisateurs() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }\r\n\r\nCan anybody help to resolve this?\r\n\r\nCompteDAOHib \r\n\r\n\r\n    package com.gestEtu.project.model.dao;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.orm.hibernate3.support.HibernateDaoSupport;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Propagation;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import com.gestEtu.project.model.bo.Compte;\r\n    \r\n    @Repository\r\n    @Transactional(propagation=Propagation.REQUIRED)\r\n    public class CompteDAOHib extends HibernateDaoSupport implements CompteDAO {\r\n         \r\n    \t\r\n    \tpublic CompteDAOHib(SessionFactory sessionFactory) {\r\n            setSessionFactory(sessionFactory);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void ajouterCompte(Compte compte) {\r\n    \t\tgetHibernateTemplate().saveOrUpdate(compte);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Compte&gt; getComptes() {\r\n    \t\ttry{\r\n    \t\t    return (List&lt;Compte&gt;) getHibernateTemplate().find(&quot;from compte&quot;)\r\n    \t\t\t\t.iterator();\r\n    \t\t}catch (Exception e) {\r\n    \t\t\treturn null;\r\n      \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Compte findCompteByLogin(String login) {\r\n    \t\tif ((login == null) || (login == &quot;&quot;)) {\r\n    \t\t\treturn null;\r\n    \t\t} else\r\n    \t\t\ttry {\r\n    \t\t\t\treturn (Compte) getHibernateTemplate()\r\n    \t\t\t\t\t\t.find(&quot;from Compte c where c.login = ?&quot;, login)\r\n    \t\t\t\t\t\t.iterator().next();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nCompteService Code \r\n\r\n    package com.gestEtu.project.model.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    import com.gestEtu.project.model.bo.Compte;\r\n    import com.gestEtu.project.model.bo.Utilisateur;\r\n    \r\n    \r\n    public interface CompteService {\r\n    \r\n    \tpublic void ajouterCompte(Compte compte);\r\n    \r\n    \tpublic List&lt;Compte&gt; getComptes();\r\n    \r\n    \tpublic Compte findCompteByLogin(String login);\r\n    \r\n    \tpublic List&lt;Utilisateur&gt; getUtilisateurs();\r\n    \r\n    \tpublic Utilisateur getUtilisateurById(int id);\r\n    \r\n    \tpublic void ajouterUtilisateur(Compte compte, Utilisateur utilisateur);\r\n    \r\n    }\r\n\r\n","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyController&#39;:","body":"<p>I am doing spring + hibernate application. When I run the application on tomcat server I am getting some exceptions.</p>\n\n<pre><code>INFO : org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'appServlet': initialization started\nINFO : org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'appServlet-servlet': startup date [Sat May 17 19:51:03 CEST 2014]; parent: Root WebApplicationContext\nINFO : org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/appServlet/servlet-context.xml]\nINFO : org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\nINFO : org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped \"{[/inscription],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.String com.gestEtu.project.controller.CompteController.hello(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)\nINFO : org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped \"{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.String com.gestEtu.project.controller.HomeController.home(java.util.Locale,org.springframework.ui.Model)\nINFO : org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'\nERROR: org.springframework.web.servlet.DispatcherServlet - Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'compteController': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.gestEtu.project.model.service.CompteServiceImp com.gestEtu.project.controller.CompteController.compteServ; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'compteServiceImp': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void com.gestEtu.project.model.service.CompteServiceImp.setCompteDAO(com.gestEtu.project.model.dao.CompteDAOHib); nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'compteDAOHib' defined in file [C:\\Users\\zouhair\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\TESTER\\WEB-INF\\classes\\com\\gestEtu\\project\\model\\dao\\CompteDAOHib.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.gestEtu.project.model.dao.CompteDAOHib]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.gestEtu.project.model.dao.CompteDAOHib.&lt;init&gt;()\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:703)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:160)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1189)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1103)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4935)\n    at org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5262)\n    at org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5257)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.gestEtu.project.model.service.CompteServiceImp com.gestEtu.project.controller.CompteController.compteServ; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'compteServiceImp': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void com.gestEtu.project.model.service.CompteServiceImp.setCompteDAO(com.gestEtu.project.model.dao.CompteDAOHib); nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'compteDAOHib' defined in file [C:\\Users\\zouhair\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\TESTER\\WEB-INF\\classes\\com\\gestEtu\\project\\model\\dao\\CompteDAOHib.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.gestEtu.project.model.dao.CompteDAOHib]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.gestEtu.project.model.dao.CompteDAOHib.&lt;init&gt;()\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n    ... 27 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'compteServiceImp': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void com.gestEtu.project.model.service.CompteServiceImp.setCompteDAO(com.gestEtu.project.model.dao.CompteDAOHib); nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'compteDAOHib' defined in file [C:\\Users\\zouhair\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\TESTER\\WEB-INF\\classes\\com\\gestEtu\\project\\model\\dao\\CompteDAOHib.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.gestEtu.project.model.dao.CompteDAOHib]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.gestEtu.project.model.dao.CompteDAOHib.&lt;init&gt;()\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1017)\n    at org.springframework.be   \n</code></pre>\n\n<p><strong>root-context.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:p=\"http://www.springframework.org/schema/p\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n\n    &lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"\n        p:location=\"/WEB-INF/jdbc.properties\" /&gt;\n\n    &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n        destroy-method=\"close\" p:driverClassName=\"${jdbc.driverClassName}\"\n        p:url=\"${jdbc.url}\" p:username=\"${jdbc.username}\" p:password=\"${jdbc.password}\" /&gt;\n\n    &lt;!-- ADD PERSISTENCE SUPPORT HERE (jpa, hibernate, etc) --&gt;\n    &lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"mappingResources\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;com/gestEtu/project/model/bo/Utilisateur.hbm.xml&lt;/value&gt;\n                &lt;value&gt;com/gestEtu/project/model/bo/Compte.hbm.xml&lt;/value&gt;\n                &lt;value&gt;com/gestEtu/project/model/bo/Message.hbm.xml&lt;/value&gt;\n                &lt;value&gt;com/gestEtu/project/model/bo/Groupe.hbm.xml&lt;/value&gt;\n                &lt;value&gt;com/gestEtu/project/model/bo/Etudiant.hbm.xml&lt;/value&gt;\n                &lt;value&gt;com/gestEtu/project/model/bo/Fichelecture.hbm.xml&lt;/value&gt;\n                &lt;value&gt;com/gestEtu/project/model/bo/Document.hbm.xml&lt;/value&gt;\n                &lt;value&gt;com/gestEtu/project/model/bo/Commentaire.hbm.xml&lt;/value&gt;\n\n            &lt;/list&gt;\n        &lt;/property&gt;\n\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n                &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Transaction Manager --&gt;\n    &lt;bean id=\"txManager\"\n        class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n    &lt;/bean&gt; \n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>servlet-context.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans xmlns=\"http://www.springframework.org/schema/mvc\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure --&gt;\n\n    &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n    &lt;annotation-driven /&gt;\n\n    &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory --&gt;\n    &lt;resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n    &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory --&gt;\n    &lt;beans:bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n        &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;context:component-scan base-package=\"com.gestEtu.project\" /&gt;   \n\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p><strong>CompteController.java</strong></p>\n\n<pre><code>package com.gestEtu.project.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport com.gestEtu.project.model.bo.Compte;\nimport com.gestEtu.project.model.service.CompteServiceImp;\n\n@Controller\npublic class CompteController {\n    @Autowired\n    private CompteServiceImp compteServ;\n\n    // @Autowired\n    // public CompteController(CompteServiceImp compteServ) {\n    // this.compteServ=compteServ;\n    // }\n    //\n    @RequestMapping(value = \"/inscription\")\n    public String hello(\n            @RequestParam(value = \"login\", required = false, defaultValue = \"zouhair\") String login,\n            @RequestParam(value = \"password\", required = false, defaultValue = \"pass\") String password,\n            @RequestParam(value = \"profil\", required = false, defaultValue = \"Etudiant\") String profil,\n            Model model) {\n        int id = 1;\n        Compte compte = new Compte(id, login, password, profil);\n        compteServ.ajouterCompte(compte);\n        model.addAttribute(\"inscription\", compte);\n        return \"addCompte\";\n    }\n\n}\n</code></pre>\n\n<p><strong>compteService</strong></p>\n\n<pre><code>package com.gestEtu.project.model.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport org.springframework.stereotype.Service;\n\nimport com.gestEtu.project.model.bo.Compte;\nimport com.gestEtu.project.model.bo.Utilisateur;\nimport com.gestEtu.project.model.dao.CompteDAOHib;\n\n@Service\n@Transactional(readOnly = true)\npublic class CompteServiceImp implements CompteService {\n\n    private CompteDAOHib compteDAO;\n\n\n    @Autowired\n    public void setCompteDAO(CompteDAOHib compteDAO) {\n        this.compteDAO = compteDAO;\n    }\n\n    @Override\n    public void ajouterCompte(Compte compte) {\n        compteDAO.ajouterCompte(compte);\n    }\n\n    @Override\n    public List&lt;Compte&gt; getComptes() {\n        return compteDAO.getComptes();\n    }\n\n    @Override\n    public Compte findCompteByLogin(String login) {\n\n        return compteDAO.findCompteByLogin(login);\n    }\n\n    @Override\n    public void ajouterUtilisateur(Compte compte, Utilisateur utilisateur) {\n        this.ajouterCompte(compte);\n\n    }\n\n    @Override\n    public Utilisateur getUtilisateurById(int id) {\n        return null;\n    }\n\n    @Override\n    public List&lt;Utilisateur&gt; getUtilisateurs() {\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>Can anybody help to resolve this?</p>\n\n<p>CompteDAOHib </p>\n\n<pre><code>package com.gestEtu.project.model.dao;\n\nimport java.util.List;\n\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.orm.hibernate3.support.HibernateDaoSupport;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Propagation;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.gestEtu.project.model.bo.Compte;\n\n@Repository\n@Transactional(propagation=Propagation.REQUIRED)\npublic class CompteDAOHib extends HibernateDaoSupport implements CompteDAO {\n\n\n    public CompteDAOHib(SessionFactory sessionFactory) {\n        setSessionFactory(sessionFactory);\n    }\n\n    @Override\n    public void ajouterCompte(Compte compte) {\n        getHibernateTemplate().saveOrUpdate(compte);\n    }\n\n    @Override\n    public List&lt;Compte&gt; getComptes() {\n        try{\n            return (List&lt;Compte&gt;) getHibernateTemplate().find(\"from compte\")\n                .iterator();\n        }catch (Exception e) {\n            return null;\n        }\n    }\n\n    @Override\n    public Compte findCompteByLogin(String login) {\n        if ((login == null) || (login == \"\")) {\n            return null;\n        } else\n            try {\n                return (Compte) getHibernateTemplate()\n                        .find(\"from Compte c where c.login = ?\", login)\n                        .iterator().next();\n            } catch (Exception e) {\n                return null;\n            }\n    }\n\n}\n</code></pre>\n\n<p>CompteService Code </p>\n\n<pre><code>package com.gestEtu.project.model.service;\n\nimport java.util.List;\n\nimport com.gestEtu.project.model.bo.Compte;\nimport com.gestEtu.project.model.bo.Utilisateur;\n\n\npublic interface CompteService {\n\n    public void ajouterCompte(Compte compte);\n\n    public List&lt;Compte&gt; getComptes();\n\n    public Compte findCompteByLogin(String login);\n\n    public List&lt;Utilisateur&gt; getUtilisateurs();\n\n    public Utilisateur getUtilisateurById(int id);\n\n    public void ajouterUtilisateur(Compte compte, Utilisateur utilisateur);\n\n}\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"display_name":"user684934"},"score":0,"creation_date":1366676623,"post_id":16158829,"comment_id":23091445,"body_markdown":"If you want to place a double n-sized line, you should look at the case where n is max (the first call) -- when `displayStr == null`.","body":"If you want to place a double n-sized line, you should look at the case where n is max (the first call) -- when <code>displayStr == null</code>."}],"answers":[{"tags":[],"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366676343,"creation_date":1366676343,"answer_id":16158890,"question_id":16158829,"body_markdown":"Change the method signature to `public static void myMethod(int n, boolean reversed)` where `reversed` is initialized to false but flips to true when you print `n` asterisks.  Inside the method, reverse your logic if `reversed` is true.","title":"Java Recursion printing asterisks from one method call","body":"<p>Change the method signature to <code>public static void myMethod(int n, boolean reversed)</code> where <code>reversed</code> is initialized to false but flips to true when you print <code>n</code> asterisks.  Inside the method, reverse your logic if <code>reversed</code> is true.</p>\n"},{"comments":[{"owner":{"account_id":2665271,"reputation":1,"user_id":2303885,"display_name":"Joe Paty"},"score":0,"creation_date":1366677860,"post_id":16158990,"comment_id":23091723,"body_markdown":"Ok this actually seems to make sense.  My professor likes to teach from powerpoint slides of the textbook, and I learn better from hands on experimentation.  I&#39;ll give this a shot too!  Thank you so much!","body":"Ok this actually seems to make sense.  My professor likes to teach from powerpoint slides of the textbook, and I learn better from hands on experimentation.  I&#39;ll give this a shot too!  Thank you so much!"}],"tags":[],"owner":{"account_id":1358888,"reputation":5876,"user_id":1296660,"display_name":"Supericy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366677525,"creation_date":1366677181,"answer_id":16158990,"question_id":16158829,"body_markdown":"You basically just need to print out the current row, then do the recursive call, then print the row again. That way, you get the stack buildup on the way up, and then again on the way down.\r\n\r\nHere is an example that uses 2 parameters, one being the max length and the other being the iterator for the recursion.\r\n\r\n    // bootstrap method to start the recursion\r\n    public static void myMethod(int length)\r\n    {\r\n        myMethod(length, length);\r\n    }\r\n\r\n\tpublic static void myMethod(int length, int i)\r\n\t{\r\n\t\tif (i &gt; 0)\r\n\t\t{\r\n\t\t\tint rowLength = length - i + 1;\r\n\t\t\t\r\n\t\t\tprintRow(rowLength, &#39;*&#39;);\r\n\t\t\t\r\n\t\t\tmyMethod(length, i - 1);\r\n\t\t\t\r\n\t\t\tprintRow(rowLength, &#39;*&#39;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void printRow(int length, char symbol)\r\n\t{\r\n\t\tfor (int i = 0; i &lt; length; i++)\r\n\t\t\tSystem.out.print(symbol);\r\n\t\tSystem.out.println();\r\n\t}","title":"Java Recursion printing asterisks from one method call","body":"<p>You basically just need to print out the current row, then do the recursive call, then print the row again. That way, you get the stack buildup on the way up, and then again on the way down.</p>\n\n<p>Here is an example that uses 2 parameters, one being the max length and the other being the iterator for the recursion.</p>\n\n<pre><code>// bootstrap method to start the recursion\npublic static void myMethod(int length)\n{\n    myMethod(length, length);\n}\n\npublic static void myMethod(int length, int i)\n{\n    if (i &gt; 0)\n    {\n        int rowLength = length - i + 1;\n\n        printRow(rowLength, '*');\n\n        myMethod(length, i - 1);\n\n        printRow(rowLength, '*');\n    }\n}\n\npublic static void printRow(int length, char symbol)\n{\n    for (int i = 0; i &lt; length; i++)\n        System.out.print(symbol);\n    System.out.println();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2665271,"reputation":1,"user_id":2303885,"display_name":"Joe Paty"},"score":0,"creation_date":1366694370,"post_id":16159655,"comment_id":23095782,"body_markdown":"This worked perfectly thank you!  My professor asked us to only use one method but when I started asking him questions about his example he couldn&#39;t really answer them so I&#39;m not sure if he had his head wrapped completely around the problem either.","body":"This worked perfectly thank you!  My professor asked us to only use one method but when I started asking him questions about his example he couldn&#39;t really answer them so I&#39;m not sure if he had his head wrapped completely around the problem either."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1366718183,"post_id":16159655,"comment_id":23108103,"body_markdown":"When the terminating condition is arbitrary, you must pass atate through to the next call. Had you wanted to print `4 3 2 1 1 2 3 4` you would only have needed one method, because the terminating condition is known at compile time to be n=0. So your recursive method must have two parameters; there&#39;s no getting around it. This pattern of code is quite common - the private code passes whatever extra parameters it needs to and the public API provides a simple API, sets up the initial state and conceals the complexities of the recursive implementation. Basically, your &quot;professor&quot; is wrong.","body":"When the terminating condition is arbitrary, you must pass atate through to the next call. Had you wanted to print <code>4 3 2 1 1 2 3 4</code> you would only have needed one method, because the terminating condition is known at compile time to be n=0. So your recursive method must have two parameters; there&#39;s no getting around it. This pattern of code is quite common - the private code passes whatever extra parameters it needs to and the public API provides a simple API, sets up the initial state and conceals the complexities of the recursive implementation. Basically, your &quot;professor&quot; is wrong."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366682966,"creation_date":1366682455,"answer_id":16159655,"question_id":16158829,"body_markdown":"Because the output counts *up* (not *down to zero), you must pass in the number of asterisks to print *and* the maximum number, so the terminating condition can be established.\r\n\r\nFurther, the pseudo code for your method is:\r\n\r\n- if n &gt; max return (terminating condition)\r\n- print n asterisks\r\n- recursively call with n + 1\r\n- print n asterisks\r\n\r\nA great deal of code simplification can be achieved if you pass in not the current length to print, but the String of asterisks, so your (private) recursive method could be simply:\r\n\r\n    private static void myMethod(int n, String s) {\r\n        if (s.length() &lt; n) return;\r\n        System.out.println(s);\r\n        myMethod(n, s + &quot;*&quot;);\r\n        System.out.println(s);\r\n    }\r\n\r\nAnd your public method, which sets up the initial conditions, is then:\r\n\r\n    public static void myMethod(int n) {\r\n        myMethod(n, &quot;*&quot;);\r\n    }\r\n    \r\nIMHO an elegant implementation with good code density.\r\n","title":"Java Recursion printing asterisks from one method call","body":"<p>Because the output counts <em>up</em> (not *down to zero), you must pass in the number of asterisks to print <em>and</em> the maximum number, so the terminating condition can be established.</p>\n\n<p>Further, the pseudo code for your method is:</p>\n\n<ul>\n<li>if n > max return (terminating condition)</li>\n<li>print n asterisks</li>\n<li>recursively call with n + 1</li>\n<li>print n asterisks</li>\n</ul>\n\n<p>A great deal of code simplification can be achieved if you pass in not the current length to print, but the String of asterisks, so your (private) recursive method could be simply:</p>\n\n<pre><code>private static void myMethod(int n, String s) {\n    if (s.length() &lt; n) return;\n    System.out.println(s);\n    myMethod(n, s + \"*\");\n    System.out.println(s);\n}\n</code></pre>\n\n<p>And your public method, which sets up the initial conditions, is then:</p>\n\n<pre><code>public static void myMethod(int n) {\n    myMethod(n, \"*\");\n}\n</code></pre>\n\n<p>IMHO an elegant implementation with good code density.</p>\n"}],"owner":{"account_id":2665271,"reputation":1,"user_id":2303885,"display_name":"Joe Paty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692568940,"creation_date":1366675949,"question_id":16158829,"body_markdown":"I have an assignment introducing Recursion in Java and I am running into a roadblock.  The assignment requires a recursion method to output a number of lines of a number of asterisks depending on the integer value passed to it.  For example, if 4 is passed in as variable n, the output would have a first line of one asterisk, next line 2 asterisks, next 3 asterisks, next 4, then 4, 3, 2, &amp; 1 going down.\r\n\r\nI have been able to complete the first half of the output (not sure if it is optimal though), but have no clue how to get the method to reverse back down.  This is all to be done in one method call with a variable (n) passed to the method.\r\n\r\nHere is the method I have so far:\r\n\r\n        public static void myMethod(int n)\r\n        {\t\t\r\n\t\tif (n &lt;= 1) {\r\n\t\t        System.out.print(&quot;*&quot;);\t\t\t\r\n\t\t} else {\r\n\t\t\tmyMethod(n - 1);\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.print(&quot;\\n&quot;); // new line\r\n        }\r\n\r\n\r\nIt is called from main with this:\r\n\r\n        myMethod(n);\r\n\r\n\r\nSo what I have is a for loop that will print an asterisk on the same line &#39;n&#39; times.  After the for loop it proceeds to the next line and cycles, changing n.  But I have no idea how to get it to reverse.\r\n\r\nMy method prints from the method.  My instructor showed me a sample version passing 2 variables (n) and a null string.\r\n\r\n        public static String myMethod(int n, String displayStr) {\t\t\r\n\t        String currentStr = &quot;&quot;;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; n; i++)\r\n\t\t\tcurrentStr += &quot;*&quot;;\r\n\t\t\tcurrentStr += &quot;\\n&quot;;\r\n\t\t\r\n\t\t\tif (displayStr == null){\r\n\t\t\t\treturn myMethod((n - 1), currentStr);\t\r\n\t\t\t} // end base case\r\n\t\t\t\r\n\t\t\telse if (n &gt; 0){\r\n\t\t\t\treturn myMethod((n - 1), (currentStr + displayStr + currentStr));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\treturn displayStr;\r\n\t\t\t}\r\n        } // end recursion method myMethod\r\n\r\n\r\n\r\nHis version prints from main using the following code line:\r\n\r\n\r\n        System.out.println(myMethod(n, null));\r\n\r\n\r\nI have tried his version and it prints the triangle on it&#39;s side but the largest line only prints once instead of twice.  I have spent all day trying to alter his to add in a duplicate line in the middle and am starting to think it isn&#39;t possible.\r\n\r\n\r\nAny help would be GREATLY appreciated.  I am at a complete standstill with this.\r\n\r\n","title":"Java Recursion printing asterisks from one method call","body":"<p>I have an assignment introducing Recursion in Java and I am running into a roadblock.  The assignment requires a recursion method to output a number of lines of a number of asterisks depending on the integer value passed to it.  For example, if 4 is passed in as variable n, the output would have a first line of one asterisk, next line 2 asterisks, next 3 asterisks, next 4, then 4, 3, 2, &amp; 1 going down.</p>\n\n<p>I have been able to complete the first half of the output (not sure if it is optimal though), but have no clue how to get the method to reverse back down.  This is all to be done in one method call with a variable (n) passed to the method.</p>\n\n<p>Here is the method I have so far:</p>\n\n<pre><code>    public static void myMethod(int n)\n    {       \n    if (n &lt;= 1) {\n            System.out.print(\"*\");          \n    } else {\n        myMethod(n - 1);\n        for (int i = 0; i &lt; n; i++) {\n            System.out.print(\"*\");\n        }\n    }\n\n    System.out.print(\"\\n\"); // new line\n    }\n</code></pre>\n\n<p>It is called from main with this:</p>\n\n<pre><code>    myMethod(n);\n</code></pre>\n\n<p>So what I have is a for loop that will print an asterisk on the same line 'n' times.  After the for loop it proceeds to the next line and cycles, changing n.  But I have no idea how to get it to reverse.</p>\n\n<p>My method prints from the method.  My instructor showed me a sample version passing 2 variables (n) and a null string.</p>\n\n<pre><code>    public static String myMethod(int n, String displayStr) {       \n        String currentStr = \"\";\n\n    for (int i = 0; i &lt; n; i++)\n        currentStr += \"*\";\n        currentStr += \"\\n\";\n\n        if (displayStr == null){\n            return myMethod((n - 1), currentStr);   \n        } // end base case\n\n        else if (n &gt; 0){\n            return myMethod((n - 1), (currentStr + displayStr + currentStr));\n        }\n\n        else {\n            return displayStr;\n        }\n    } // end recursion method myMethod\n</code></pre>\n\n<p>His version prints from main using the following code line:</p>\n\n<pre><code>    System.out.println(myMethod(n, null));\n</code></pre>\n\n<p>I have tried his version and it prints the triangle on it's side but the largest line only prints once instead of twice.  I have spent all day trying to alter his to add in a duplicate line in the middle and am starting to think it isn't possible.</p>\n\n<p>Any help would be GREATLY appreciated.  I am at a complete standstill with this.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1487255408,"post_id":16888265,"comment_id":71709709,"body_markdown":"Possible duplicate of [Subtracting one arrayList from another arrayList](http://stackoverflow.com/questions/9933403/subtracting-one-arraylist-from-another-arraylist)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/9933403/subtracting-one-arraylist-from-another-arraylist\">Subtracting one arrayList from another arrayList</a>"}],"answers":[{"tags":[],"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1370216119,"creation_date":1370216119,"answer_id":16888292,"question_id":16888265,"body_markdown":"The collection facility has a convenient method for this purpose:\r\n\r\n    list1.removeAll(list2);","title":"Remove all objects in an arraylist that exist in another arraylist","body":"<p>The collection facility has a convenient method for this purpose:</p>\n\n<pre><code>list1.removeAll(list2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":203924,"reputation":788,"user_id":451848,"accept_rate":100,"display_name":"GeorgeWChubby"},"score":0,"creation_date":1370239133,"post_id":16888295,"comment_id":24371547,"body_markdown":"Thanks!  \nI tried using removeAll like so:\n        ArrayList&lt;String&gt; file1 = readFile(fileName1);\n        ArrayList&lt;String&gt; file2 = readFile(fileName2);\n        \n        file1.removeAll(file2);\n        \n        return file1;\n\nAny idea why this is not working?","body":"Thanks!   I tried using removeAll like so:         ArrayList&lt;String&gt; file1 = readFile(fileName1);         ArrayList&lt;String&gt; file2 = readFile(fileName2);                  file1.removeAll(file2);                  return file1;  Any idea why this is not working?"},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1370240604,"post_id":16888295,"comment_id":24372028,"body_markdown":"Your problem must be elsewhere. Try printing the contents of file1, file2, and file1 after the remove operation to see what is happening.","body":"Your problem must be elsewhere. Try printing the contents of file1, file2, and file1 after the remove operation to see what is happening."},{"owner":{"account_id":203924,"reputation":788,"user_id":451848,"accept_rate":100,"display_name":"GeorgeWChubby"},"score":0,"creation_date":1370243109,"post_id":16888295,"comment_id":24372920,"body_markdown":"Problem is that the removeAll operation makes the entire thing hang. I let it run for 50 minutes and nothing happened - everything I do until I call the method works fine (and if I remove the removeAll operation the method works fine). Literally the only thing not working is the removeAll, which is what confuses me.","body":"Problem is that the removeAll operation makes the entire thing hang. I let it run for 50 minutes and nothing happened - everything I do until I call the method works fine (and if I remove the removeAll operation the method works fine). Literally the only thing not working is the removeAll, which is what confuses me."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1370243696,"post_id":16888295,"comment_id":24373151,"body_markdown":"You should post a new question with the relevant parts of the code (this one doesn&#39;t get many views anymore). It&#39;s impossible to say what could be wrong. Try using a debugger to see what the program is doing while it&#39;s stuck.","body":"You should post a new question with the relevant parts of the code (this one doesn&#39;t get many views anymore). It&#39;s impossible to say what could be wrong. Try using a debugger to see what the program is doing while it&#39;s stuck."}],"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":4,"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1692566273,"creation_date":1370216158,"answer_id":16888295,"question_id":16888265,"body_markdown":"You can use the [`removeAll`][1] method to remove the items of one list from another list.\r\n\r\nTo obtain the duplicates you can use the [`retainAll`][2] method, though your approach with the set is also good (and probably more efficient)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#removeAll(java.util.Collection)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#retainAll(java.util.Collection)","title":"Remove all objects in an arraylist that exist in another arraylist","body":"<p>You can use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#removeAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>removeAll</code></a> method to remove the items of one list from another list.</p>\n<p>To obtain the duplicates you can use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#retainAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>retainAll</code></a> method, though your approach with the set is also good (and probably more efficient)</p>\n"},{"tags":[],"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1370216848,"creation_date":1370216848,"answer_id":16888375,"question_id":16888265,"body_markdown":"As others have mentioned, use the `Collection.removeAll` method if you wish to remove all elements that exist in one Collection from the Collection you are invoking `removeall` on.\r\n\r\nAs for your bonus question, I&#39;m a huge fan of Guava&#39;s [Sets][1] class.  I would suggest the use of Sets.intersection as follows:\r\n\r\n    Sets.intersection(wordSetFromFile1, wordSetFromFile2).size();\r\n\r\nAssuming you created a Set of words from both files, you can determine how many distinct words they have in common with that one liner. \r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Sets.html","title":"Remove all objects in an arraylist that exist in another arraylist","body":"<p>As others have mentioned, use the <code>Collection.removeAll</code> method if you wish to remove all elements that exist in one Collection from the Collection you are invoking <code>removeall</code> on.</p>\n\n<p>As for your bonus question, I'm a huge fan of Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Sets.html\" rel=\"nofollow\">Sets</a> class.  I would suggest the use of Sets.intersection as follows:</p>\n\n<pre><code>Sets.intersection(wordSetFromFile1, wordSetFromFile2).size();\n</code></pre>\n\n<p>Assuming you created a Set of words from both files, you can determine how many distinct words they have in common with that one liner. </p>\n"},{"comments":[{"owner":{"account_id":952190,"reputation":105,"user_id":978095,"display_name":"ioss"},"score":7,"creation_date":1513794654,"post_id":45736259,"comment_id":82792243,"body_markdown":"Upvoting this as it is the only answer which explicitly mentions that the equals method needs to be overridden in the classes which are in the Lists. This may not be obvious to some people and removeAll just won&#39;t work as expected if equals is not implemented correctly for your custom classes.","body":"Upvoting this as it is the only answer which explicitly mentions that the equals method needs to be overridden in the classes which are in the Lists. This may not be obvious to some people and removeAll just won&#39;t work as expected if equals is not implemented correctly for your custom classes."}],"tags":[],"owner":{"account_id":5753363,"reputation":3741,"user_id":4542217,"display_name":"Shahab Rauf"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1502976015,"creation_date":1502976015,"answer_id":45736259,"question_id":16888265,"body_markdown":"First you need to override equal method in your custom class and define the matching criteria of removing list\r\n\r\n    public class CustomClass{\r\n    \r\n     @Override\r\n        public boolean equals(Object obj) {\r\n    \r\n            try {\r\n                CustomClass licenceDetail  = (CustomClass) obj;\r\n                return name.equals(licenceDetail.getName());\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                return false;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nSecond you call the removeAll() method\r\n\r\n    \r\n\r\n&gt; list1.removeAll(list2);","title":"Remove all objects in an arraylist that exist in another arraylist","body":"<p>First you need to override equal method in your custom class and define the matching criteria of removing list</p>\n\n<pre><code>public class CustomClass{\n\n @Override\n    public boolean equals(Object obj) {\n\n        try {\n            CustomClass licenceDetail  = (CustomClass) obj;\n            return name.equals(licenceDetail.getName());\n        }\n        catch (Exception e)\n        {\n            return false;\n        }\n\n    }\n}\n</code></pre>\n\n<p>Second you call the removeAll() method</p>\n\n<blockquote>\n  <p>list1.removeAll(list2);</p>\n</blockquote>\n"}],"owner":{"account_id":203924,"reputation":788,"user_id":451848,"accept_rate":100,"display_name":"GeorgeWChubby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114783,"favorite_count":0,"down_vote_count":1,"up_vote_count":56,"accepted_answer_id":16888295,"answer_count":4,"score":55,"last_activity_date":1692566273,"creation_date":1370215893,"question_id":16888265,"body_markdown":"I&#39;m trying to read in from two files and store them in two separate arraylists. The files consist of words which are either alone on a line or multiple words separated by commas.\r\nI read each file with the following code (not complete):\r\n\r\n    ArrayList&lt;String&gt; temp = new ArrayList&lt;&gt;();\r\n\r\n    FileInputStream fis;\r\n    fis = new FileInputStream(fileName);\r\n\r\n    Scanner scan = new Scanner(fis);\r\n\r\n    while (scan.hasNextLine()) {\r\n        Scanner input = new Scanner(scan.nextLine());\r\n        input.useDelimiter(&quot;,&quot;);\r\n        while (scan.hasNext()) {\r\n            String md5 = scan.next();\r\n            temp.add(md5);\r\n        }\r\n    }\r\n    scan.close();    \r\n\r\n    return temp;\r\n\r\nI now need to read two files in and remove all words from the first file which also exist in the second file (there are some duplicate words in the files). I have tried with for-loops and other such stuff, but nothing has worked so any help would be greatly appreciated!\r\n\r\nBonus question: I also need to find out how many duplicates there are in the two files - I&#39;ve done this by adding both arraylists to a HashSet and then subtracting the size of the set from the combined size of the two arraylists - is this a good solution, or could it be done better?","title":"Remove all objects in an arraylist that exist in another arraylist","body":"<p>I'm trying to read in from two files and store them in two separate arraylists. The files consist of words which are either alone on a line or multiple words separated by commas.\nI read each file with the following code (not complete):</p>\n\n<pre><code>ArrayList&lt;String&gt; temp = new ArrayList&lt;&gt;();\n\nFileInputStream fis;\nfis = new FileInputStream(fileName);\n\nScanner scan = new Scanner(fis);\n\nwhile (scan.hasNextLine()) {\n    Scanner input = new Scanner(scan.nextLine());\n    input.useDelimiter(\",\");\n    while (scan.hasNext()) {\n        String md5 = scan.next();\n        temp.add(md5);\n    }\n}\nscan.close();    \n\nreturn temp;\n</code></pre>\n\n<p>I now need to read two files in and remove all words from the first file which also exist in the second file (there are some duplicate words in the files). I have tried with for-loops and other such stuff, but nothing has worked so any help would be greatly appreciated!</p>\n\n<p>Bonus question: I also need to find out how many duplicates there are in the two files - I've done this by adding both arraylists to a HashSet and then subtracting the size of the set from the combined size of the two arraylists - is this a good solution, or could it be done better?</p>\n"},{"tags":["java","apache-beam"],"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1685565760,"post_id":76357558,"comment_id":134679938,"body_markdown":"Why do you want to work with a List instead of a PCollection ? With Beam, you have to work with a PCollection and apply your transformations on it. It’s also easy to have a PCollection of Map if needed. At the end the goal of a pipeline is to sink the result to a storage resource or other.","body":"Why do you want to work with a List instead of a PCollection ? With Beam, you have to work with a PCollection and apply your transformations on it. It’s also easy to have a PCollection of Map if needed. At the end the goal of a pipeline is to sink the result to a storage resource or other."},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1685565854,"post_id":76357558,"comment_id":134679960,"body_markdown":"If you have a specific transformation to apply, please share it with us. Normally you can apply all the needed transformations with a PCollection and ParDo.","body":"If you have a specific transformation to apply, please share it with us. Normally you can apply all the needed transformations with a PCollection and ParDo."}],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685448307,"creation_date":1685448307,"answer_id":76364636,"question_id":76357558,"body_markdown":"It is not possible to convert `PCollection` into a `Collection`, since Apache Beam is just a logical plan of the transformations and actions but the execution is actually done by other engines like Spark.\r\n\r\nWhat you can do is to let the PCollection to write the results to a Sink (could be a file, GCS, BigQuery, ..) and then you read the results out of this sink.\r\n\r\nCheckout the [execution model](https://beam.apache.org/documentation/runtime/model/) of Apache Beam ","title":"How to Convert PCollection to List Collection in Apache Beam using Java?","body":"<p>It is not possible to convert <code>PCollection</code> into a <code>Collection</code>, since Apache Beam is just a logical plan of the transformations and actions but the execution is actually done by other engines like Spark.</p>\n<p>What you can do is to let the PCollection to write the results to a Sink (could be a file, GCS, BigQuery, ..) and then you read the results out of this sink.</p>\n<p>Checkout the <a href=\"https://beam.apache.org/documentation/runtime/model/\" rel=\"nofollow noreferrer\">execution model</a> of Apache Beam</p>\n"},{"tags":[],"owner":{"account_id":8002284,"reputation":83,"user_id":6036704,"accept_rate":0,"display_name":"J. Bloom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692565856,"creation_date":1692565856,"answer_id":76941350,"question_id":76357558,"body_markdown":"Actually, I just encountered this issue. Contrary to the answer and comments above, it is possible to write a PCollection to a Java List, although there are several constraints on doing so, as I discuss below. As far as why you would want to, there are several situations in which it is not adequate to work with PCollections:\r\n\r\n 1. You want to work with a legacy API, especially one in which the classes are not Java Serializable. Serializability is a requirement of creating transformations on Beam collections.\r\n 2. You want to write the contents of a PCollection to some destination other than files, databases, or one of the services that have built-in IO connectors. In my case, I want to write to Java OutputStreams, the common denominator of files, urls, and Swing components such as JTextArea; OutputStream and its subclasses are not Serializable. While Beam can do sophisticated things like handling streaming data, it is surprisingly hard to do things simple like writing text to a screen window.\r\n\r\nIn order to write a PCollection to a Java List (or other Java Collections), you can use a Beam Combiner. I my case, I use the ArrayAggArray combiner. Writing the data is a two stage process. First you apply the Combiner and run the Pipeline. Then you process the resulting Java object outside the Pipeline. That&#39;s the first constraint of this method. Once you&#39;ve run the Pipeline, you no longer have access to any of the PCollections it has created, so essentially any post-processing must not call back any of the Beam objects.\r\n\r\nNote that the Java object you create can be very large and can&#39;t be processed in parallel (that&#39;s why you want to use Beam in the first place!). That is the second constraint of my method.\r\n\r\nThe trick is that, in extending the Beam Combiner, you have to save the final accumulator to a Java object outside the Pipeline. I do this by passing a reference to the object in the constructor of the Combiner. In the extractOutput method of the Combiner, you have to add the elements of the final accumulator to the Java object (you can&#39;t simply replace it, because Java won&#39;t pass a new instance back to the caller). \r\n\r\nHere is an example:\r\nFirst, extend the Beam Combiner:\r\n\r\n    \tpublic static class JsonWriter extends ArrayAgg.ArrayAggArray&lt;String&gt; {\r\n\t\r\n\t\tprivate static final long serialVersionUID = -5573525980983338238L;\r\n\t\t\r\n\t\t/**\r\n\t\t * Holds the JSON serialization of the records in applicable PCollection.\r\n\t\t * This field serves as the output of the Combine operation on this PCollection. \r\n\t\t * It should be passed as an empty list to the constructor, and is populated by the \r\n\t\t * extractOutput method.\r\n\t\t */\r\n\t\tprivate List&lt;String&gt; records;\r\n\t\r\n\t\t/**\r\n\t\t * @param records the output of the Combine operation on this PCollection;  \r\n\t\t * should be passed as an empty list to the constructor\r\n\t\t * \r\n\t\t */\r\n\t\tpublic JsonWriter(List&lt;String&gt; records) {\r\n\t\t\tsuper();\r\n\t\t\tif(records== null || records.size()!=0) \r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Records should be empty&quot;);\r\n\t\t\tthis.records= records;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic List&lt;String&gt; addInput(\r\n\t\t\t\tList&lt;String&gt; accum,\r\n\t\t\t\tString input) {\r\n\t\t\treturn super.addInput(accum, input);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic List&lt;String&gt; extractOutput(\r\n\t\t\t\tList&lt;String&gt; accumulator) {\r\n\t\t\tif (accumulator.isEmpty()) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tthis.records.addAll(accumulator);\r\n\t\t\treturn accumulator;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the records\r\n\t\t */\r\n\t\tpublic List&lt;String&gt; getRecords() {\r\n\t\t\treturn records;\r\n\t\t}\r\n\t\r\n\t}//class JsonWriter\r\n\r\nThe caller looks like this:\r\n\r\n    \t\tinstance.recordsToJson(); //instance has a PCollection\r\n\t\t\tpipeline.run().waitUntilFinish();\r\n\r\nwhere\r\n\r\n    \r\n    recordsAsJson = new LinkedList&lt;String&gt;();\r\n    /**\r\n\t * Maps the records in dataframe to their JSON representation \r\n\t * and collects the resulting strings into the recordsAsJson list.\r\n\t * Called as part of the Beam pipeline.\r\n\t */\r\n\tpublic void recordsToJson() {\r\n\t\tJsonWriter writer= new JsonWriter(recordsAsJson);\r\n\t\tthis.dataframe //a PCollection&lt;Row&gt;\r\n\t\t\t//transform each record into a JSON string\r\n\t\t\t.apply(\r\n\t\t\t\tMapElements.into(TypeDescriptors.strings())\r\n\t\t\t\t\t.via((Row record) -&gt; MsdxInstance.recordToJson(record)))\r\n\t\t\t//Collect the JSON strings into a list\r\n\t\t\t.apply(\r\n\t\t\t\tthis.dataframe.getName() + &quot;AsJson&quot;, \t\t\t\r\n\t\t\t\tCombine.globally(writer));\r\n\t\t\r\n\t}//recordsToJson\r\n\r\nThen you use the list outside the pipeline like this:\r\n\r\n    /**\r\n\t * Writes the JSON serialization of this dataframe to the destination specified by the generator. \r\n\t * Called after the recordsToJson method and after the Beam pipeline runs.\r\n\t */\r\n\t@Override\r\n\tpublic MsdxWriter.Generator toJson(MsdxWriter.Generator generator) {\r\n\t\tif(this.dataframe.isBounded().equals(PCollection.IsBounded.UNBOUNDED))\r\n\t\t\tthrow new IllegalArgumentException(&quot;Unbounded collection of records&quot;);\t\r\n\t\tAtomicBoolean firstRecord= new AtomicBoolean(true);\r\n\t\ttry {\r\n\t\t\tgenerator.writeStartArray(false);\r\n\t\t\trecordsAsJson.forEach(record -&gt; {\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif(!firstRecord.get())\r\n\t\t\t\t\t\tgenerator.writeArrayValueSeparator(false);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tfirstRecord.set(false);\r\n\t\t\t\t\tgenerator.writeRaw(record);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tSystem.err.println(e.getMessage());\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tgenerator.writeEndArray(false);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn generator;\r\n\t}//toJson\r\n\r\nAnd\r\n\r\n    \t\t\twindow.println(&quot;cities:&quot;);\r\n\t\t\tinstance.toJson(MsdxOutputDestination.toStream(window.printStream()));\r\n\r\n\r\nI hope this helps.\r\n","title":"How to Convert PCollection to List Collection in Apache Beam using Java?","body":"<p>Actually, I just encountered this issue. Contrary to the answer and comments above, it is possible to write a PCollection to a Java List, although there are several constraints on doing so, as I discuss below. As far as why you would want to, there are several situations in which it is not adequate to work with PCollections:</p>\n<ol>\n<li>You want to work with a legacy API, especially one in which the classes are not Java Serializable. Serializability is a requirement of creating transformations on Beam collections.</li>\n<li>You want to write the contents of a PCollection to some destination other than files, databases, or one of the services that have built-in IO connectors. In my case, I want to write to Java OutputStreams, the common denominator of files, urls, and Swing components such as JTextArea; OutputStream and its subclasses are not Serializable. While Beam can do sophisticated things like handling streaming data, it is surprisingly hard to do things simple like writing text to a screen window.</li>\n</ol>\n<p>In order to write a PCollection to a Java List (or other Java Collections), you can use a Beam Combiner. I my case, I use the ArrayAggArray combiner. Writing the data is a two stage process. First you apply the Combiner and run the Pipeline. Then you process the resulting Java object outside the Pipeline. That's the first constraint of this method. Once you've run the Pipeline, you no longer have access to any of the PCollections it has created, so essentially any post-processing must not call back any of the Beam objects.</p>\n<p>Note that the Java object you create can be very large and can't be processed in parallel (that's why you want to use Beam in the first place!). That is the second constraint of my method.</p>\n<p>The trick is that, in extending the Beam Combiner, you have to save the final accumulator to a Java object outside the Pipeline. I do this by passing a reference to the object in the constructor of the Combiner. In the extractOutput method of the Combiner, you have to add the elements of the final accumulator to the Java object (you can't simply replace it, because Java won't pass a new instance back to the caller).</p>\n<p>Here is an example:\nFirst, extend the Beam Combiner:</p>\n<pre><code>    public static class JsonWriter extends ArrayAgg.ArrayAggArray&lt;String&gt; {\n\n    private static final long serialVersionUID = -5573525980983338238L;\n    \n    /**\n     * Holds the JSON serialization of the records in applicable PCollection.\n     * This field serves as the output of the Combine operation on this PCollection. \n     * It should be passed as an empty list to the constructor, and is populated by the \n     * extractOutput method.\n     */\n    private List&lt;String&gt; records;\n\n    /**\n     * @param records the output of the Combine operation on this PCollection;  \n     * should be passed as an empty list to the constructor\n     * \n     */\n    public JsonWriter(List&lt;String&gt; records) {\n        super();\n        if(records== null || records.size()!=0) \n            throw new IllegalArgumentException(&quot;Records should be empty&quot;);\n        this.records= records;\n    }\n\n    @Override\n    public List&lt;String&gt; addInput(\n            List&lt;String&gt; accum,\n            String input) {\n        return super.addInput(accum, input);\n    }\n\n    @Override\n    public List&lt;String&gt; extractOutput(\n            List&lt;String&gt; accumulator) {\n        if (accumulator.isEmpty()) {\n            return null;\n        }\n        this.records.addAll(accumulator);\n        return accumulator;\n    }\n\n    /**\n     * @return the records\n     */\n    public List&lt;String&gt; getRecords() {\n        return records;\n    }\n\n}//class JsonWriter\n</code></pre>\n<p>The caller looks like this:</p>\n<pre><code>        instance.recordsToJson(); //instance has a PCollection\n        pipeline.run().waitUntilFinish();\n</code></pre>\n<p>where</p>\n<pre><code>recordsAsJson = new LinkedList&lt;String&gt;();\n/**\n * Maps the records in dataframe to their JSON representation \n * and collects the resulting strings into the recordsAsJson list.\n * Called as part of the Beam pipeline.\n */\npublic void recordsToJson() {\n    JsonWriter writer= new JsonWriter(recordsAsJson);\n    this.dataframe //a PCollection&lt;Row&gt;\n        //transform each record into a JSON string\n        .apply(\n            MapElements.into(TypeDescriptors.strings())\n                .via((Row record) -&gt; MsdxInstance.recordToJson(record)))\n        //Collect the JSON strings into a list\n        .apply(\n            this.dataframe.getName() + &quot;AsJson&quot;,            \n            Combine.globally(writer));\n    \n}//recordsToJson\n</code></pre>\n<p>Then you use the list outside the pipeline like this:</p>\n<pre><code>/**\n * Writes the JSON serialization of this dataframe to the destination specified by the generator. \n * Called after the recordsToJson method and after the Beam pipeline runs.\n */\n@Override\npublic MsdxWriter.Generator toJson(MsdxWriter.Generator generator) {\n    if(this.dataframe.isBounded().equals(PCollection.IsBounded.UNBOUNDED))\n        throw new IllegalArgumentException(&quot;Unbounded collection of records&quot;);  \n    AtomicBoolean firstRecord= new AtomicBoolean(true);\n    try {\n        generator.writeStartArray(false);\n        recordsAsJson.forEach(record -&gt; {           \n            try {\n                if(!firstRecord.get())\n                    generator.writeArrayValueSeparator(false);\n                else\n                    firstRecord.set(false);\n                generator.writeRaw(record);\n            } catch (IOException e) {\n                System.err.println(e.getMessage());\n                e.printStackTrace();\n            }\n        });\n        generator.writeEndArray(false);\n    } catch (IOException e) {\n        System.err.println(e.getMessage());\n        e.printStackTrace();\n    }\n    return generator;\n}//toJson\n</code></pre>\n<p>And</p>\n<pre><code>            window.println(&quot;cities:&quot;);\n        instance.toJson(MsdxOutputDestination.toStream(window.printStream()));\n</code></pre>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":5513833,"reputation":1,"user_id":4379297,"display_name":"Nilesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692565856,"creation_date":1685364802,"question_id":76357558,"body_markdown":"I am using Apache beam to process the batch data, for that purpose I am creating PCollection object from List, however once I finish executing pipeline processing, I need to convert the results in PCollection back into List collection. Can anybody please help me with this?  \r\n\r\n```java\r\nPipelineOptions options = PipelineOptionsFactory.create();\r\nPipeline pipeline = Pipeline.create(options);\r\n\r\nList&lt;Map&lt;String,String&gt;&gt; inputDataList = ...//API call results.\r\n\r\nPCollection pcollection = pipeline.apply(Create.of(inputDataList).withCoder(MapCoder.of(StringUtf8Coder.of(),StringUtf8Coder.of())));\r\n\r\npcollection = pcollection.apply()// applying few transformation.\r\n\r\nList&lt;Map&lt;String,String&gt;&gt; outputDataList = ? //How to get list from pcollection object?\r\n```\r\n\r\nDid not find much help on internet, whatever solutions mentioned has methods witch are undefined for PCollection. for e.g. get(), GetAllOut() etc.","title":"How to Convert PCollection to List Collection in Apache Beam using Java?","body":"<p>I am using Apache beam to process the batch data, for that purpose I am creating PCollection object from List, however once I finish executing pipeline processing, I need to convert the results in PCollection back into List collection. Can anybody please help me with this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>PipelineOptions options = PipelineOptionsFactory.create();\nPipeline pipeline = Pipeline.create(options);\n\nList&lt;Map&lt;String,String&gt;&gt; inputDataList = ...//API call results.\n\nPCollection pcollection = pipeline.apply(Create.of(inputDataList).withCoder(MapCoder.of(StringUtf8Coder.of(),StringUtf8Coder.of())));\n\npcollection = pcollection.apply()// applying few transformation.\n\nList&lt;Map&lt;String,String&gt;&gt; outputDataList = ? //How to get list from pcollection object?\n</code></pre>\n<p>Did not find much help on internet, whatever solutions mentioned has methods witch are undefined for PCollection. for e.g. get(), GetAllOut() etc.</p>\n"},{"tags":["java","gradle","javafx","launch4j"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1558364630,"post_id":56222506,"comment_id":99067836,"body_markdown":"What is the error/exception do you get ?","body":"What is the error/exception do you get ?"},{"owner":{"account_id":13224385,"reputation":23,"user_id":9549964,"display_name":"Prince Nna"},"score":0,"creation_date":1558368174,"post_id":56222506,"comment_id":99069729,"body_markdown":"```JavaFX modules are needed to run the application``` from powershell","body":"<code>JavaFX modules are needed to run the application</code> from powershell"}],"answers":[{"comments":[{"owner":{"account_id":13224385,"reputation":23,"user_id":9549964,"display_name":"Prince Nna"},"score":0,"creation_date":1558403667,"post_id":56223773,"comment_id":99080016,"body_markdown":"Nothing errors from cmd or powershell after bundling it as gui but the program still doesn&#39;t run. Switched back to console and got ```Error: JavaFX runtime components are missing, and are required to run this application```","body":"Nothing errors from cmd or powershell after bundling it as gui but the program still doesn&#39;t run. Switched back to console and got <code>Error: JavaFX runtime components are missing, and are required to run this application</code>"}],"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558365237,"creation_date":1558365237,"answer_id":56223773,"question_id":56222506,"body_markdown":"Update your build.gradle with the following changes. Since it is a JavaFx application, it cannot be console type. It should be **gui** type which I have updated below. You have to provide the **main class name** (class name having main method) with complete package name. Once you run, you will be able to see the exe file and you can launch it.\r\n\r\n    launch4j {\r\n        headerType=&quot;gui&quot;\r\n    \tmainClassName = &lt;provide your main class name&gt;\r\n        outfile = &quot;Burj2.exe&quot;\r\n        icon = &quot;${projectDir}/src/main/resources/images/icon.ico&quot;\r\n        jar = &#39;../libs/Master_Mode_System_Config-all-1.0-SNAPSHOT.jar&#39;\r\n    }\r\n\r\n","title":"How to compile a gradle project to exe with gradle-launch4j plugin","body":"<p>Update your build.gradle with the following changes. Since it is a JavaFx application, it cannot be console type. It should be <strong>gui</strong> type which I have updated below. You have to provide the <strong>main class name</strong> (class name having main method) with complete package name. Once you run, you will be able to see the exe file and you can launch it.</p>\n\n<pre><code>launch4j {\n    headerType=\"gui\"\n    mainClassName = &lt;provide your main class name&gt;\n    outfile = \"Burj2.exe\"\n    icon = \"${projectDir}/src/main/resources/images/icon.ico\"\n    jar = '../libs/Master_Mode_System_Config-all-1.0-SNAPSHOT.jar'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16890786,"reputation":79,"user_id":12214543,"display_name":"fvarrui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604491754,"creation_date":1604491754,"answer_id":64679786,"question_id":56222506,"body_markdown":"How I solved **Error: JavaFX runtime components are missing, and are required to run this application**:\r\n\r\n1. Create a new class (e.g. `Main`) which not extends `Application` with a main method.\r\n\r\n2. Call `App.main` (App extends Application) method from `Main.main`.\r\n\r\n3. Now run the app calling `Main.main`.\r\n\r\n```java\r\npublic class App extends Application {\r\n    [...]\r\n    public static void main(String [] args) {\r\n        launch(args);\r\n    }\r\n    [...]\r\n}\r\npublic class Main {\r\n    public static void main(String [] args) {\r\n        App.main(args);\r\n    }\r\n}\r\n```","title":"How to compile a gradle project to exe with gradle-launch4j plugin","body":"<p>How I solved <strong>Error: JavaFX runtime components are missing, and are required to run this application</strong>:</p>\n<ol>\n<li><p>Create a new class (e.g. <code>Main</code>) which not extends <code>Application</code> with a main method.</p>\n</li>\n<li><p>Call <code>App.main</code> (App extends Application) method from <code>Main.main</code>.</p>\n</li>\n<li><p>Now run the app calling <code>Main.main</code>.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class App extends Application {\n    [...]\n    public static void main(String [] args) {\n        launch(args);\n    }\n    [...]\n}\npublic class Main {\n    public static void main(String [] args) {\n        App.main(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13224385,"reputation":23,"user_id":9549964,"display_name":"Prince Nna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8498,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692565335,"creation_date":1558360736,"question_id":56222506,"body_markdown":"I have created a JavaFX application with Gradle and would like to export it to exe along with all its dependencies and also the JRE, what is the best way to go about this?\r\n\r\nI have tried using the quickstart provided by Gradle-launch4j but the exe doesn&#39;t launch, it does launch in the IDE and when I run from the command line \r\nI get error  ```JavaFX modules are needed to run the application```\r\n\r\nThis is my build.gradle script\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.5&#39;\r\n    id &#39;edu.sc.seis.launch4j&#39; version &#39;2.4.6&#39;\r\n}\r\n\r\ngroup &#39;Starter Apps&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = 11\r\nmainClassName = &quot;$moduleName/controllers.Main&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    compile (group: &#39;com.jfoenix&#39;, name: &#39;jfoenix&#39;, version: &#39;9.0.8&#39;){\r\n        exclude group: &#39;org.openjfx&#39;\r\n    }\r\n    compile (&#39;de.jensd:fontawesomefx-controls:11.0&#39;){\r\n        exclude group: &#39;org.openjfx&#39;\r\n    }\r\n    compile (&#39;de.jensd:fontawesomefx:8.9&#39;){\r\n        exclude group: &#39;org.openjfx&#39;\r\n    }\r\n    compile (&#39;de.jensd:fontawesomefx-icons525:4.6.3&#39;){\r\n        exclude group: &#39;org.openjfx&#39;\r\n    }\r\n    compile (group: &#39;com.sun.mail&#39;, name: &#39;javax.mail&#39;, version: &#39;1.6.2&#39;){\r\n        exclude group: &#39;org.openjfx&#39;\r\n    }\r\n}\r\n\r\n//create a single Jar with all dependencies\r\ntask fatJar(type: Jar) {\r\n    manifest {\r\n        attributes &#39;Implementation-Title&#39;: &#39;Gradle Jar File Example&#39;,\r\n                &#39;Implementation-Version&#39;: version,\r\n                &#39;Main-Class&#39;: &quot;controllers.Main&quot;\r\n    }\r\n    baseName = project.name + &#39;-all&#39;\r\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    with jar\r\n}\r\n\r\n\r\njavafx {\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n    version = &#39;11.0.+&#39;\r\n}\r\n\r\nlaunch4j {\r\n    headerType=&#39;console&#39;\r\n    outfile = &quot;Burj2.exe&quot;\r\n    icon = &quot;${projectDir}/src/main/resources/images/icon.ico&quot;\r\n    jar = &#39;../libs/Master_Mode_System_Config-all-1.0-SNAPSHOT.jar&#39;\r\n}\r\n```\r\n\r\nAnd heres my module-info.java\r\n\r\n```\r\nmodule Master_Mode_System_Config {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires java.mail;\r\n    requires com.jfoenix;\r\n\r\n    opens controllers to javafx.fxml;\r\n    exports controllers;\r\n}\r\n```\r\n\r\n\r\nApp runs fine on the IDE and I&#39;m really confused as to why this is a problem.\r\nAny help would be much appreciated.","title":"How to compile a gradle project to exe with gradle-launch4j plugin","body":"<p>I have created a JavaFX application with Gradle and would like to export it to exe along with all its dependencies and also the JRE, what is the best way to go about this?</p>\n\n<p>I have tried using the quickstart provided by Gradle-launch4j but the exe doesn't launch, it does launch in the IDE and when I run from the command line \nI get error  <code>JavaFX modules are needed to run the application</code></p>\n\n<p>This is my build.gradle script</p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n    id 'edu.sc.seis.launch4j' version '2.4.6'\n}\n\ngroup 'Starter Apps'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 11\nmainClassName = \"$moduleName/controllers.Main\"\n\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile (group: 'com.jfoenix', name: 'jfoenix', version: '9.0.8'){\n        exclude group: 'org.openjfx'\n    }\n    compile ('de.jensd:fontawesomefx-controls:11.0'){\n        exclude group: 'org.openjfx'\n    }\n    compile ('de.jensd:fontawesomefx:8.9'){\n        exclude group: 'org.openjfx'\n    }\n    compile ('de.jensd:fontawesomefx-icons525:4.6.3'){\n        exclude group: 'org.openjfx'\n    }\n    compile (group: 'com.sun.mail', name: 'javax.mail', version: '1.6.2'){\n        exclude group: 'org.openjfx'\n    }\n}\n\n//create a single Jar with all dependencies\ntask fatJar(type: Jar) {\n    manifest {\n        attributes 'Implementation-Title': 'Gradle Jar File Example',\n                'Implementation-Version': version,\n                'Main-Class': \"controllers.Main\"\n    }\n    baseName = project.name + '-all'\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n\n\njavafx {\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n    version = '11.0.+'\n}\n\nlaunch4j {\n    headerType='console'\n    outfile = \"Burj2.exe\"\n    icon = \"${projectDir}/src/main/resources/images/icon.ico\"\n    jar = '../libs/Master_Mode_System_Config-all-1.0-SNAPSHOT.jar'\n}\n</code></pre>\n\n<p>And heres my module-info.java</p>\n\n<pre><code>module Master_Mode_System_Config {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires java.mail;\n    requires com.jfoenix;\n\n    opens controllers to javafx.fxml;\n    exports controllers;\n}\n</code></pre>\n\n<p>App runs fine on the IDE and I'm really confused as to why this is a problem.\nAny help would be much appreciated.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2011509,"reputation":830,"user_id":1799828,"accept_rate":50,"display_name":"Sham"},"score":0,"creation_date":1435191981,"post_id":31036467,"comment_id":50102325,"body_markdown":"Can you post the complete HTML or the the table?","body":"Can you post the complete HTML or the the table?"},{"owner":{"account_id":4707512,"reputation":527,"user_id":3809117,"accept_rate":100,"display_name":"Kumrun Nahar Keya"},"score":0,"creation_date":1435206031,"post_id":31036467,"comment_id":50105515,"body_markdown":"Can you add an screenshot along with the complete HTML","body":"Can you add an screenshot along with the complete HTML"},{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435358118,"post_id":31036467,"comment_id":50184367,"body_markdown":"Since its a  little big code so I am pasting in parts.","body":"Since its a  little big code so I am pasting in parts."},{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435358161,"post_id":31036467,"comment_id":50184379,"body_markdown":"&lt;table id=&quot;myTable&quot; width=&quot;100%&quot; cellspacing=&quot;3&quot; cellpadding=&quot;3&quot; border=&quot;0&quot; align=&quot;center&quot;&gt;\n&lt;tbody&gt;\n&lt;tr id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_importHeader&quot; style=&quot;width:auto&quot;&gt;\n&lt;tr id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_importRow1&quot;&gt;\n&lt;td width=&quot;20%&quot; align=&quot;center&quot;&gt;\n&lt;div id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1&quot; class=&quot;RadComboBox RadComboBox_Default&quot; style=&quot;width:120px;&quot; enableajax=&quot;True&quot; skinpath=&quot;~/App_Themes/Default/Default/ComboBox&quot;&gt;","body":"&lt;table id=&quot;myTable&quot; width=&quot;100%&quot; cellspacing=&quot;3&quot; cellpadding=&quot;3&quot; border=&quot;0&quot; align=&quot;center&quot;&gt; &lt;tbody&gt; &lt;tr id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_Edi&zwnj;&#8203;tFormControl_importH&zwnj;&#8203;eader&quot; style=&quot;width:auto&quot;&gt; &lt;tr id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_Edi&zwnj;&#8203;tFormControl_importR&zwnj;&#8203;ow1&quot;&gt; &lt;td width=&quot;20%&quot; align=&quot;center&quot;&gt; &lt;div id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_Edi&zwnj;&#8203;tFormControl_rcbCont&zwnj;&#8203;rollerType1&quot; class=&quot;RadComboBox RadComboBox_Default&quot; style=&quot;width:120px;&quot; enableajax=&quot;True&quot; skinpath=&quot;~/App_Themes/Default/Default/ComboBox&quot;&gt;"},{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435358193,"post_id":31036467,"comment_id":50184386,"body_markdown":"&lt;table style=&quot;border-width: 0px; border-collapse: collapse;&quot; summary=&quot;combobox&quot; class=&quot;rcbFocused&quot;&gt;\n&lt;tbody&gt;\n&lt;tr class=&quot;rcbReadOnly&quot;&gt;\n&lt;td class=&quot;rcbInputCell rcbInputCellLeft&quot; style=&quot;width:100%;&quot;&gt;\n&lt;input id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input&quot; class=&quot;rcbInput radPreventDecorate&quot; type=&quot;text&quot; readonly=&quot;readonly&quot; value=&quot;ValueOne&quot; name=&quot;ctl00$ContentPlaceHolder1$RadGrid1$ctl00$ctl02$ctl02$EditFormControl$rcbControllerType1&quot; autocomplete=&quot;off&quot;&gt;\n&lt;/td&gt;\n&lt;td class=&quot;rcbArrowCell rcbArrowCellRight&quot;&gt;","body":"&lt;table style=&quot;border-width: 0px; border-collapse: collapse;&quot; summary=&quot;combobox&quot; class=&quot;rcbFocused&quot;&gt; &lt;tbody&gt; &lt;tr class=&quot;rcbReadOnly&quot;&gt; &lt;td class=&quot;rcbInputCell rcbInputCellLeft&quot; style=&quot;width:100%;&quot;&gt; &lt;input id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_Edi&zwnj;&#8203;tFormControl_rcbCont&zwnj;&#8203;rollerType1_Input&quot; class=&quot;rcbInput radPreventDecorate&quot; type=&quot;text&quot; readonly=&quot;readonly&quot; value=&quot;ValueOne&quot; name=&quot;ctl00$ContentPlaceHolder1$RadGrid1$ctl00$ctl02$ctl02$E&zwnj;&#8203;ditFormControl$rcbCo&zwnj;&#8203;ntrollerType1&quot; autocomplete=&quot;off&quot;&gt; &lt;/td&gt; &lt;td class=&quot;rcbArrowCell rcbArrowCellRight&quot;&gt;"},{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435358198,"post_id":31036467,"comment_id":50184387,"body_markdown":"&lt;a id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Arrow&quot; style=&quot;overflow: hidden;display: block;position: relative;outline: none;&quot;&gt;select&lt;/a&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;","body":"&lt;a id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_Edi&zwnj;&#8203;tFormControl_rcbCont&zwnj;&#8203;rollerType1_Arrow&quot; style=&quot;overflow: hidden;display: block;position: relative;outline: none;&quot;&gt;select&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt;"},{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435361242,"post_id":31036467,"comment_id":50185159,"body_markdown":"@Sam HTML code is above","body":"@Sam HTML code is above"}],"answers":[{"comments":[{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435264292,"post_id":31043405,"comment_id":50141018,"body_markdown":"@Sham This is the HTML of the form I have issue with. The UI of the page is I have 1 dropdown (with two options as ValueOne and Value Two) and 5 text fields available. By default when I first land on to this page ValueOne is bydefault selected and field 1,2,3 and 5 fields are enabled for user to input data. When I select ValueTwo from the dropdown field 1, 2, 4 and 5 gets enabled.","body":"@Sham This is the HTML of the form I have issue with. The UI of the page is I have 1 dropdown (with two options as ValueOne and Value Two) and 5 text fields available. By default when I first land on to this page ValueOne is bydefault selected and field 1,2,3 and 5 fields are enabled for user to input data. When I select ValueTwo from the dropdown field 1, 2, 4 and 5 gets enabled."},{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435264320,"post_id":31043405,"comment_id":50141030,"body_markdown":"@Sham The HTML code is exceeding the allowed characters so not sure how to post the complete code.","body":"@Sham The HTML code is exceeding the allowed characters so not sure how to post the complete code."},{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435264458,"post_id":31043405,"comment_id":50141087,"body_markdown":"@ meistermeier Using Firebug I dont see any code as mentioned by you in my page HTML Code.","body":"@ meistermeier Using Firebug I dont see any code as mentioned by you in my page HTML Code."},{"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"score":0,"creation_date":1435294332,"post_id":31043405,"comment_id":50150112,"body_markdown":"@reena but this is clearly not a select box but an input field of type text. There isn&#39;t any value you could select from the source you provided. I might delete my answer but there are still some comments for sham that would get deleted.","body":"@reena but this is clearly not a select box but an input field of type text. There isn&#39;t any value you could select from the source you provided. I might delete my answer but there are still some comments for sham that would get deleted."},{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435330295,"post_id":31043405,"comment_id":50170904,"body_markdown":"@ meistermeier I know this is not a select box because I see an exception coming when I do selectByIndex etc. Now the issue is when I do sendKeys still I am not able to pass the value to the dropdown.I am stuck because of this and can progress on my automation from last couple of days. I saw similar problem thread with some other user but at the end of the thread there was no solution provided and I tried all the suggestions provided in the comments but nothing worked for me.Any solution/suggestion is welcome.","body":"@ meistermeier I know this is not a select box because I see an exception coming when I do selectByIndex etc. Now the issue is when I do sendKeys still I am not able to pass the value to the dropdown.I am stuck because of this and can progress on my automation from last couple of days. I saw similar problem thread with some other user but at the end of the thread there was no solution provided and I tried all the suggestions provided in the comments but nothing worked for me.Any solution/suggestion is welcome."},{"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"score":0,"creation_date":1435361969,"post_id":31043405,"comment_id":50185318,"body_markdown":"Till now I have succeeded in clicking on the dropdown but still not able to select the value. The approach is instead of finding the dropdown element I find the arrow on the dropdown and click it and it shows all the values in the dropdown. I used sendKey but its not working (no exception but value is not selected).One line code:\t\t \t\t driver.findElement(By.id(&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Arrow&quot;)).click();","body":"Till now I have succeeded in clicking on the dropdown but still not able to select the value. The approach is instead of finding the dropdown element I find the arrow on the dropdown and click it and it shows all the values in the dropdown. I used sendKey but its not working (no exception but value is not selected).One line code:\t\t \t\t driver.findElement(By.id(&quot;ctl00_ContentPlaceHolder1_RadGrid1&zwnj;&#8203;_ctl00_ctl02_ctl02_E&zwnj;&#8203;ditFormControl_rcbCo&zwnj;&#8203;ntrollerType1_Arrow&quot;&zwnj;&#8203;)).click();"}],"tags":[],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435215806,"creation_date":1435215806,"answer_id":31043405,"question_id":31036467,"body_markdown":"The root problem might be, that this is not a standard select box but an javascript based solution. The code above just shows the &#39;host&#39; html element. I am pretty sure that there will be a) a previous hidden element that becomes visible or b) a newly created element in your DOM that holds the values. You have to find those (dev tools or firebug) to interact with. \r\nSome pseudo code that might appear (just to get a hint):\r\n\r\n    &lt;ul&gt;\r\n      &lt;li id=&quot;element1&quot;&gt;ValueOne&lt;/li&gt;\r\n      &lt;li id=&quot;element2&quot;&gt;ValueTwo&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\nAnd after it appears (wait for in selenium) you just have to click the desired element.\r\n","title":"How to select a value from input type dropdown using selenium webdriver?","body":"<p>The root problem might be, that this is not a standard select box but an javascript based solution. The code above just shows the 'host' html element. I am pretty sure that there will be a) a previous hidden element that becomes visible or b) a newly created element in your DOM that holds the values. You have to find those (dev tools or firebug) to interact with. \nSome pseudo code that might appear (just to get a hint):</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li id=\"element1\"&gt;ValueOne&lt;/li&gt;\n  &lt;li id=\"element2\"&gt;ValueTwo&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>And after it appears (wait for in selenium) you just have to click the desired element.</p>\n"},{"tags":[],"owner":{"account_id":6709550,"reputation":1,"user_id":5173423,"display_name":"sukriti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438255648,"creation_date":1438255648,"answer_id":31722539,"question_id":31036467,"body_markdown":"Find your xpath through firepath addon in firefox.\r\n\t\r\ndriver.findElement(By.xpath(&quot;.//*@id=&#39;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input&#39;]&quot;)).click();\r\n\r\nSelect value in dropdown -&gt;goto firpath by right click and copy xpath \r\n\r\n\tdriver.findElement(By.xpath(&quot;.//*@id=&#39;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input&#39;]/span[3]&quot;)).click();\r\n\r\nhope you will find your solution :-)","title":"How to select a value from input type dropdown using selenium webdriver?","body":"<p>Find your xpath through firepath addon in firefox.</p>\n\n<p>driver.findElement(By.xpath(\".//*@id='ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input']\")).click();</p>\n\n<p>Select value in dropdown ->goto firpath by right click and copy xpath </p>\n\n<pre><code>driver.findElement(By.xpath(\".//*@id='ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input']/span[3]\")).click();\n</code></pre>\n\n<p>hope you will find your solution :-)</p>\n"},{"comments":[{"owner":{"account_id":16630932,"reputation":1,"user_id":12018800,"display_name":"rajpal yadav"},"score":0,"creation_date":1568204800,"post_id":57785068,"comment_id":102199885,"body_markdown":"There is a correction, You can not select value from read-only input type drop list.","body":"There is a correction, You can not select value from read-only input type drop list."}],"tags":[],"owner":{"account_id":16630932,"reputation":1,"user_id":12018800,"display_name":"rajpal yadav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567589155,"creation_date":1567587949,"answer_id":57785068,"question_id":31036467,"body_markdown":"You can use this :-\r\n\r\n    driver.findElement(By.id(&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input&quot;)).sendKeys(&quot;ValueTwo&quot;, Keys.ARROW_DOWN, Keys.ENTER)","title":"How to select a value from input type dropdown using selenium webdriver?","body":"<p>You can use this :-</p>\n\n<pre><code>driver.findElement(By.id(\"ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input\")).sendKeys(\"ValueTwo\", Keys.ARROW_DOWN, Keys.ENTER)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2839763,"reputation":1,"user_id":2439599,"display_name":"user2439599"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586704733,"creation_date":1586704733,"answer_id":61173714,"question_id":31036467,"body_markdown":"you can use the following code. Here what I have done is find the dropdown, click on it and find the option to select and send down key until we see the element to select and after click on it.\r\n\r\n    public class InputDropdownselect {\r\n\t@Test\r\n\tpublic void login() throws Exception\r\n\t{\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;G:\\\\drivers\\\\chrome\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\tWebDriver driver= new ChromeDriver();\r\n\tdriver.get(&quot;https://yourwebsite.com&quot;);\r\n\tdriver.manage().window().maximize();\r\n\tdriver.findElement(By.id(&quot;txtuser&quot;)).sendKeys(&quot;123456&quot;);\r\n\tdriver.findElement(By.id(&quot;txtpassword&quot;)).sendKeys(&quot;Abc!@1&quot;);\r\n\tdriver.findElement(By.id(&quot;log-btn&quot;)).click();\r\n\tThread.sleep(2000);\r\n\tdriver.findElement(By.id(&quot;enrollment&quot;)).click();\r\n\t//driver.findElement(By.xpath(&quot;//*[@id=\\&quot;enrollment\\&quot;]&quot;)).click();\r\n\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;studentBasicForm\\&quot;]/div[2]/div[9]/div/div/input&quot;)).click();\r\n\tActions action= new Actions(driver);\r\n\tWebElement joiningYear=driver.findElement(By.xpath(&quot;//input[@placeholder=\\&quot;Joining Year Group\\&quot;]/following::ul[1]/descendant::li/following::span[contains(text(),\\&quot;8\\&quot;)]&quot;));\r\n\tdo {\r\n\t\taction.sendKeys(Keys.ARROW_DOWN).perform();\r\n\t} while (!joiningYear.isDisplayed());\r\n\tjoiningYear.click();\r\n\t\t}\r\n\r\n}","title":"How to select a value from input type dropdown using selenium webdriver?","body":"<p>you can use the following code. Here what I have done is find the dropdown, click on it and find the option to select and send down key until we see the element to select and after click on it.</p>\n\n<pre><code>public class InputDropdownselect {\n@Test\npublic void login() throws Exception\n{\nSystem.setProperty(\"webdriver.chrome.driver\", \"G:\\\\drivers\\\\chrome\\\\chromedriver_win32\\\\chromedriver.exe\");\nWebDriver driver= new ChromeDriver();\ndriver.get(\"https://yourwebsite.com\");\ndriver.manage().window().maximize();\ndriver.findElement(By.id(\"txtuser\")).sendKeys(\"123456\");\ndriver.findElement(By.id(\"txtpassword\")).sendKeys(\"Abc!@1\");\ndriver.findElement(By.id(\"log-btn\")).click();\nThread.sleep(2000);\ndriver.findElement(By.id(\"enrollment\")).click();\n//driver.findElement(By.xpath(\"//*[@id=\\\"enrollment\\\"]\")).click();\ndriver.findElement(By.xpath(\"//*[@id=\\\"studentBasicForm\\\"]/div[2]/div[9]/div/div/input\")).click();\nActions action= new Actions(driver);\nWebElement joiningYear=driver.findElement(By.xpath(\"//input[@placeholder=\\\"Joining Year Group\\\"]/following::ul[1]/descendant::li/following::span[contains(text(),\\\"8\\\")]\"));\ndo {\n    action.sendKeys(Keys.ARROW_DOWN).perform();\n} while (!joiningYear.isDisplayed());\njoiningYear.click();\n    }\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":6521011,"reputation":79,"user_id":5045266,"accept_rate":33,"display_name":"curiousToKnow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14893,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1692565335,"creation_date":1435177958,"question_id":31036467,"body_markdown":"I am trying to select a value available in a read only drop down and I have tried so many options but still failing to select the desired option. The drop down has two values available ValueOne and ValueTwo. By default the ValueOne is selected and in my case I need to select ValueTwo. I used firebug to get the below code when I click on the drop down and do Inspect Element with firebug\r\nThe Code is :\r\n\r\n    &lt;td class=&quot;rcbInputCell rcbInputCellLeft&quot; style=&quot;width:100%;&quot;&gt;\r\n    &lt;input id=&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input&quot; class=&quot;rcbInput radPreventDecorate&quot; type=&quot;text&quot; readonly=&quot;readonly&quot; value=&quot;ValueOne&quot; name=&quot;ctl00$ContentPlaceHolder1$RadGrid1$ctl00$ctl02$ctl02$EditFormControl$rcbControllerType1&quot; autocomplete=&quot;off&quot;&gt;\r\n    &lt;/td&gt;\r\n\r\nSo far I have tried \r\n\r\n\r\n1----------\r\n\r\n    Select DropDown = new Select(driver.findElement(By.id(&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input&quot;)));\r\n    \t\tDropDown.selectByVisibleText(&quot;ValueTwo&quot;);\r\n\r\n and I get an exception as \r\n\r\n    :org.openqa.selenium.support.ui.UnexpectedTagNameException: Element should have been &quot;select&quot; but was &quot;input&quot;\r\n\r\n2------------\r\n\r\n    WebElement Dropdown = driver.findElement(By.id(&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input&quot;));\r\n    \t\tSelect clickThis = new Select (Dropdown);\r\n    \t\tclickThis.selectByVisibleText(&quot;ValueTwo&quot;);\r\n\r\nGet Exception: \r\n\r\n    org.openqa.selenium.support.ui.UnexpectedTagNameException: Element should have been &quot;select&quot; but was &quot;input&quot;\r\n\r\nI also tried selectByIndex but still get the above exception message.\r\n\r\n3--------------\r\n\r\n    driver.findElement(By.id(&quot;ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input&quot;)).sendKeys(&quot;ValueTwo&quot;);\r\n\r\nNothing happens and the case is marked as Pass. No error no exception.\r\n\r\nAlso I am running my **webscript** on **firefox 38.0.5** with **selenium 2.46.0 with eclipse TestNG**.\r\nI have confirmed the frame is not an iframe.\r\n\r\nPlease suggest the solution.","title":"How to select a value from input type dropdown using selenium webdriver?","body":"<p>I am trying to select a value available in a read only drop down and I have tried so many options but still failing to select the desired option. The drop down has two values available ValueOne and ValueTwo. By default the ValueOne is selected and in my case I need to select ValueTwo. I used firebug to get the below code when I click on the drop down and do Inspect Element with firebug\nThe Code is :</p>\n\n<pre><code>&lt;td class=\"rcbInputCell rcbInputCellLeft\" style=\"width:100%;\"&gt;\n&lt;input id=\"ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input\" class=\"rcbInput radPreventDecorate\" type=\"text\" readonly=\"readonly\" value=\"ValueOne\" name=\"ctl00$ContentPlaceHolder1$RadGrid1$ctl00$ctl02$ctl02$EditFormControl$rcbControllerType1\" autocomplete=\"off\"&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>So far I have tried </p>\n\n<p>1----------</p>\n\n<pre><code>Select DropDown = new Select(driver.findElement(By.id(\"ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input\")));\n        DropDown.selectByVisibleText(\"ValueTwo\");\n</code></pre>\n\n<p>and I get an exception as </p>\n\n<pre><code>:org.openqa.selenium.support.ui.UnexpectedTagNameException: Element should have been \"select\" but was \"input\"\n</code></pre>\n\n<p>2------------</p>\n\n<pre><code>WebElement Dropdown = driver.findElement(By.id(\"ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input\"));\n        Select clickThis = new Select (Dropdown);\n        clickThis.selectByVisibleText(\"ValueTwo\");\n</code></pre>\n\n<p>Get Exception: </p>\n\n<pre><code>org.openqa.selenium.support.ui.UnexpectedTagNameException: Element should have been \"select\" but was \"input\"\n</code></pre>\n\n<p>I also tried selectByIndex but still get the above exception message.</p>\n\n<p>3--------------</p>\n\n<pre><code>driver.findElement(By.id(\"ctl00_ContentPlaceHolder1_RadGrid1_ctl00_ctl02_ctl02_EditFormControl_rcbControllerType1_Input\")).sendKeys(\"ValueTwo\");\n</code></pre>\n\n<p>Nothing happens and the case is marked as Pass. No error no exception.</p>\n\n<p>Also I am running my <strong>webscript</strong> on <strong>firefox 38.0.5</strong> with <strong>selenium 2.46.0 with eclipse TestNG</strong>.\nI have confirmed the frame is not an iframe.</p>\n\n<p>Please suggest the solution.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-mongodb"],"comments":[{"owner":{"account_id":25676050,"reputation":64,"user_id":19439460,"display_name":"nickklon"},"score":0,"creation_date":1692591560,"post_id":76941326,"comment_id":135639077,"body_markdown":"If you don’t need to determine that size (10) dynamically, try findFirst10ByXYZ:\nhttps://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.limit-query-result","body":"If you don’t need to determine that size (10) dynamically, try findFirst10ByXYZ: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.limit-query-result\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/mongodb/docs/current/reference/ht&zwnj;&#8203;ml/&hellip;</a>"}],"owner":{"account_id":29232925,"reputation":9,"user_id":22396175,"display_name":"egepancaroglu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692565328,"creation_date":1692565328,"question_id":76941326,"body_markdown":"How can i getting last 10 product views by user(with userid) in json format.\r\n\r\nMy Event Class:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Document(collection = &quot;events&quot;)\r\npublic class Event {\r\n\r\n    @Id\r\n    private String id;\r\n    private String event;\r\n    private String messageid;\r\n    private String userid;\r\n    private ProductProperties properties;\r\n    private Context context;\r\n    private String timestamp;\r\n\r\n}\r\n\r\n```\r\n\r\nMy ProductProperties Class:\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class ProductProperties {\r\n\r\n    private String productid;\r\n\r\n}\r\n```\r\n\r\nMy Context Class:\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class Context {\r\n\r\n    private String source;\r\n\r\n}\r\n\r\n```\r\n\r\nMy Repository:\r\n\r\n```\r\n@Repository\r\npublic interface EventRepository extends MongoRepository&lt;Event, String&gt; {\r\n    List&lt;Event&gt; findByUseridAndEventOrderByTimestampDesc(String userId, String event, Pageable pageable);\r\n\r\n}\r\n```\r\n\r\nMy Service Method:\r\n\r\n```\r\npublic List&lt;Event&gt; getLast10ProductViewsByUserId(String userId) {\r\n        return eventRepository.findByUseridAndEventOrderByTimestampDesc(userId, &quot;ProductView&quot;, PageRequest.of(0, 10));\r\n    }\r\n```\r\n\r\nMy Database tables example:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Qor93.png)](https://i.stack.imgur.com/Qor93.png)\r\n\r\nI want result with a get request like this:\r\n```\r\n\r\n{\r\n    &quot;user-id&quot;: &quot;user-34&quot;,\r\n    &quot;products&quot;: [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;.&quot;e&quot;],\r\n    &quot;type&quot; : &quot;personalized&quot;\r\n}\r\n```\r\n\r\nI tried pagable but i guess i could not make it.","title":"Getting last 10 product view by user id","body":"<p>How can i getting last 10 product views by user(with userid) in json format.</p>\n<p>My Event Class:</p>\n<pre><code>@Getter\n@Setter\n@Document(collection = &quot;events&quot;)\npublic class Event {\n\n    @Id\n    private String id;\n    private String event;\n    private String messageid;\n    private String userid;\n    private ProductProperties properties;\n    private Context context;\n    private String timestamp;\n\n}\n\n</code></pre>\n<p>My ProductProperties Class:</p>\n<pre><code>@Getter\n@Setter\npublic class ProductProperties {\n\n    private String productid;\n\n}\n</code></pre>\n<p>My Context Class:</p>\n<pre><code>@Getter\n@Setter\npublic class Context {\n\n    private String source;\n\n}\n\n</code></pre>\n<p>My Repository:</p>\n<pre><code>@Repository\npublic interface EventRepository extends MongoRepository&lt;Event, String&gt; {\n    List&lt;Event&gt; findByUseridAndEventOrderByTimestampDesc(String userId, String event, Pageable pageable);\n\n}\n</code></pre>\n<p>My Service Method:</p>\n<pre><code>public List&lt;Event&gt; getLast10ProductViewsByUserId(String userId) {\n        return eventRepository.findByUseridAndEventOrderByTimestampDesc(userId, &quot;ProductView&quot;, PageRequest.of(0, 10));\n    }\n</code></pre>\n<p>My Database tables example:</p>\n<p><a href=\"https://i.stack.imgur.com/Qor93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qor93.png\" alt=\"enter image description here\" /></a></p>\n<p>I want result with a get request like this:</p>\n<pre><code>\n{\n    &quot;user-id&quot;: &quot;user-34&quot;,\n    &quot;products&quot;: [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;.&quot;e&quot;],\n    &quot;type&quot; : &quot;personalized&quot;\n}\n</code></pre>\n<p>I tried pagable but i guess i could not make it.</p>\n"},{"tags":["java","spring","spring-boot","constraints"],"answers":[{"comments":[{"owner":{"account_id":13010042,"reputation":769,"user_id":9403408,"accept_rate":100,"display_name":"H Athukorala"},"score":0,"creation_date":1692558568,"post_id":76940940,"comment_id":135636558,"body_markdown":"Isn&#39;t this code do this automatically?\n\n`@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@interface List {\n    SampleValid[] value();\n}`","body":"Isn&#39;t this code do this automatically?  <code>@Target({ElementType.FIELD}) @Retention(RetentionPolicy.RUNTIME) @Documented @interface List {     SampleValid[] value(); }</code>"},{"owner":{"account_id":16834351,"reputation":171,"user_id":12171447,"display_name":"Francesco"},"score":1,"creation_date":1692558756,"post_id":76940940,"comment_id":135636571,"body_markdown":"The `@interface List` you&#39;ve defined within your `SampleValid` annotation is for grouping multiple instances of `SampleValid` annotations on the same field. It allows you to apply multiple instances of `SampleValid` to a single field, and it doesn&#39;t automatically handle validation for a list of objects within the field.\nIn other words, the purpose of `@SampleValid.List` is to group multiple instances of `SampleValid` annotations together on a single field, but it doesn&#39;t automatically validate a list of objects within that field.","body":"The <code>@interface List</code> you&#39;ve defined within your <code>SampleValid</code> annotation is for grouping multiple instances of <code>SampleValid</code> annotations on the same field. It allows you to apply multiple instances of <code>SampleValid</code> to a single field, and it doesn&#39;t automatically handle validation for a list of objects within the field. In other words, the purpose of <code>@SampleValid.List</code> is to group multiple instances of <code>SampleValid</code> annotations together on a single field, but it doesn&#39;t automatically validate a list of objects within that field."},{"owner":{"account_id":13010042,"reputation":769,"user_id":9403408,"accept_rate":100,"display_name":"H Athukorala"},"score":0,"creation_date":1692716206,"post_id":76940940,"comment_id":135660614,"body_markdown":"OK got it, I was confused with that thank you for the clear explanation and also for the answer. It&#39;s working fine now. Appreciate it.","body":"OK got it, I was confused with that thank you for the clear explanation and also for the answer. It&#39;s working fine now. Appreciate it."}],"tags":[],"owner":{"account_id":16834351,"reputation":171,"user_id":12171447,"display_name":"Francesco"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692558435,"creation_date":1692558435,"answer_id":76940940,"question_id":76940910,"body_markdown":"The issue you&#39;re facing is because you are trying to access the &quot;name&quot; property of a List `List&lt;SomeObject&gt; someObjects` directly, but Lists don&#39;t have a &quot;name&quot; property.\r\n\r\nYour custom validation annotation and validator are designed to validate properties on individual objects, not on a List itself.\r\n\r\nIf you want to validate properties of objects within the list, you should iterate through the list and validate each object individually.\r\n\r\nI&#39;m thinking about a modification like this of your `SampleValidator` class:\r\n\r\n```java\r\npublic class SampleValidator implements ConstraintValidator&lt;SampleValid, Object&gt; {\r\n    private String fieldName;\r\n\r\n    public void initialize(SampleValid constraintAnnotation) {\r\n        fieldName = constraintAnnotation.fieldName();\r\n    }\r\n\r\n    public boolean isValid(Object value, ConstraintValidatorContext context) {\r\n        if (value == null) return true;\r\n\r\n        if (value instanceof List) {\r\n            List&lt;?&gt; list = (List&lt;?&gt;) value;\r\n            for (Object item : list) {\r\n                if (item != null) {\r\n                    try {\r\n                        String className = item.getClass().getSimpleName();\r\n                        String fieldValue = BeanUtils.getProperty(item, fieldName);\r\n\r\n                        // Perform your validation here\r\n                        if (some validation goes here) {\r\n                            context.disableDefaultConstraintViolation();\r\n                            context.buildConstraintViolationWithTemplate(className + context.getDefaultConstraintMessageTemplate())\r\n                                    .addConstraintViolation();\r\n                            return false;\r\n                        }\r\n                    } catch (Exception ex) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nin this case your validator will iterate through the list and validate each object&#39;s &quot;name&quot; property individually like this:\r\n\r\n```java\r\n@SampleValid\r\nprivate List&lt;SomeObject&gt; someObjects;\r\n```\r\n","title":"Spring Boot Custom Validation Annotation Not Working as Expected","body":"<p>The issue you're facing is because you are trying to access the &quot;name&quot; property of a List <code>List&lt;SomeObject&gt; someObjects</code> directly, but Lists don't have a &quot;name&quot; property.</p>\n<p>Your custom validation annotation and validator are designed to validate properties on individual objects, not on a List itself.</p>\n<p>If you want to validate properties of objects within the list, you should iterate through the list and validate each object individually.</p>\n<p>I'm thinking about a modification like this of your <code>SampleValidator</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SampleValidator implements ConstraintValidator&lt;SampleValid, Object&gt; {\n    private String fieldName;\n\n    public void initialize(SampleValid constraintAnnotation) {\n        fieldName = constraintAnnotation.fieldName();\n    }\n\n    public boolean isValid(Object value, ConstraintValidatorContext context) {\n        if (value == null) return true;\n\n        if (value instanceof List) {\n            List&lt;?&gt; list = (List&lt;?&gt;) value;\n            for (Object item : list) {\n                if (item != null) {\n                    try {\n                        String className = item.getClass().getSimpleName();\n                        String fieldValue = BeanUtils.getProperty(item, fieldName);\n\n                        // Perform your validation here\n                        if (some validation goes here) {\n                            context.disableDefaultConstraintViolation();\n                            context.buildConstraintViolationWithTemplate(className + context.getDefaultConstraintMessageTemplate())\n                                    .addConstraintViolation();\n                            return false;\n                        }\n                    } catch (Exception ex) {\n                        return false;\n                    }\n                }\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>in this case your validator will iterate through the list and validate each object's &quot;name&quot; property individually like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SampleValid\nprivate List&lt;SomeObject&gt; someObjects;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692958264,"post_id":76941288,"comment_id":135698626,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76941288/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17446411,"reputation":1,"user_id":12647365,"display_name":"Bardiya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692564662,"creation_date":1692564662,"answer_id":76941288,"question_id":76940910,"body_markdown":"I’m thinking why you need to validate list of object you can simply validate someObject then add it to list `javax.validation` mostly used for user input validation","title":"Spring Boot Custom Validation Annotation Not Working as Expected","body":"<p>I’m thinking why you need to validate list of object you can simply validate someObject then add it to list <code>javax.validation</code> mostly used for user input validation</p>\n"}],"owner":{"account_id":13010042,"reputation":769,"user_id":9403408,"accept_rate":100,"display_name":"H Athukorala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76940940,"answer_count":2,"score":1,"last_activity_date":1692564662,"creation_date":1692557801,"question_id":76940910,"body_markdown":"I&#39;m currently working on a Spring Boot project and trying to implement a custom validation annotation that should be able to validate both individual field of an object and lists of objects. However, my current implementation doesn&#39;t work and throwing an exception.\r\n\r\n&gt; SampleValid class\r\n\r\n    @Target({ElementType.FIELD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = SampleValidator.class)\r\n    @Repeatable(SampleValid.List.class)\r\n    @Documented\r\n    public @interface SampleValid {\r\n    \r\n        String name() default &quot;name&quot;;\r\n    \r\n        String message() default &quot;&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n        @Target({ElementType.FIELD})\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Documented\r\n        @interface List {\r\n            SampleValid[] value();\r\n        }\r\n    }\r\n\r\n\r\n&gt; SampleValidator class\r\n\r\n    public class SampleValidator implements ConstraintValidator&lt;SampleValid, Object&gt; {\r\n            private String fieldName;\r\n        \r\n            public void initialize(SampleValid constraintAnnotation) {\r\n                name = constraintAnnotation.name();\r\n            }\r\n        \r\n            public boolean isValid(Object value, ConstraintValidatorContext context) {\r\n                if (value == null) return true;\r\n        \r\n                try {\r\n                    String fieldValue = BeanUtils.getProperty(value, name);\r\n        \r\n                    if (some validation goes here) {\r\n                        context.disableDefaultConstraintViolation();\r\n                        context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\r\n                                .addConstraintViolation();\r\n                        return false;\r\n                    }\r\n                } catch (Exception ex) {\r\n                    return false;\r\n                }\r\n        \r\n                return true;\r\n            }\r\n        }\r\n\r\nSo when I am using this to validate a List it&#39;s throwing me an error, but this works with single objects,\r\n\r\n    @SampleValid\r\n    private List&lt;SomeObject&gt; someObjects;\r\n\r\n    @SampleValid\r\n    private SomeObject someObject; // this works fine\r\n\r\nThe error I am getting is,\r\n\r\n&gt; java.lang.NoSuchMethodException: Unknown property &#39;name&#39; on class\r\n&gt; &#39;class java.util.ArrayList&#39;\r\n\r\nCould someone help me understand why my current implementation isn&#39;t working as expected? Thanks in advance.\r\n","title":"Spring Boot Custom Validation Annotation Not Working as Expected","body":"<p>I'm currently working on a Spring Boot project and trying to implement a custom validation annotation that should be able to validate both individual field of an object and lists of objects. However, my current implementation doesn't work and throwing an exception.</p>\n<blockquote>\n<p>SampleValid class</p>\n</blockquote>\n<pre><code>@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = SampleValidator.class)\n@Repeatable(SampleValid.List.class)\n@Documented\npublic @interface SampleValid {\n\n    String name() default &quot;name&quot;;\n\n    String message() default &quot;&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    @Target({ElementType.FIELD})\n    @Retention(RetentionPolicy.RUNTIME)\n    @Documented\n    @interface List {\n        SampleValid[] value();\n    }\n}\n</code></pre>\n<blockquote>\n<p>SampleValidator class</p>\n</blockquote>\n<pre><code>public class SampleValidator implements ConstraintValidator&lt;SampleValid, Object&gt; {\n        private String fieldName;\n    \n        public void initialize(SampleValid constraintAnnotation) {\n            name = constraintAnnotation.name();\n        }\n    \n        public boolean isValid(Object value, ConstraintValidatorContext context) {\n            if (value == null) return true;\n    \n            try {\n                String fieldValue = BeanUtils.getProperty(value, name);\n    \n                if (some validation goes here) {\n                    context.disableDefaultConstraintViolation();\n                    context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\n                            .addConstraintViolation();\n                    return false;\n                }\n            } catch (Exception ex) {\n                return false;\n            }\n    \n            return true;\n        }\n    }\n</code></pre>\n<p>So when I am using this to validate a List it's throwing me an error, but this works with single objects,</p>\n<pre><code>@SampleValid\nprivate List&lt;SomeObject&gt; someObjects;\n\n@SampleValid\nprivate SomeObject someObject; // this works fine\n</code></pre>\n<p>The error I am getting is,</p>\n<blockquote>\n<p>java.lang.NoSuchMethodException: Unknown property 'name' on class\n'class java.util.ArrayList'</p>\n</blockquote>\n<p>Could someone help me understand why my current implementation isn't working as expected? Thanks in advance.</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1691863565,"post_id":76890535,"comment_id":135550091,"body_markdown":"Use split, like `String[] tokens = input.split(&quot;\\\\.&quot;)`. It&#39;s the last token.","body":"Use split, like <code>String[] tokens = input.split(&quot;\\\\.&quot;)</code>. It&#39;s the last token."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1691943822,"post_id":76890535,"comment_id":135556126,"body_markdown":"Does this also include subdirectories such as `https://stackoverflow.com/questions`?","body":"Does this also include subdirectories such as <code>https:&#47;&#47;stackoverflow.com&#47;questions</code>?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692104173,"post_id":76890704,"comment_id":135576952,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76890704/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26638336,"reputation":24,"user_id":20254410,"display_name":"Siva Nandu S"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692150536,"creation_date":1691866291,"answer_id":76890704,"question_id":76890535,"body_markdown":"I hope this one helps:\r\n\r\n    public class DomainFinder {\r\n    public static void main(String[] args){\r\n        String url = &quot;stackoverflow.org&quot;;\r\n        String [] word = url.split(&quot;\\\\.&quot;);\r\n        String domain = word[word.length -1];\r\n        switch(domain){\r\n            case &quot;com&quot; : System.out.println(&quot;Commercial&quot;);\r\n                        break;\r\n            case &quot;edu&quot; : System.out.println(&quot;Educational&quot;);\r\n                        break;\r\n            case &quot;org&quot; : System.out.println(&quot;Organization&quot;);\r\n                        break;\r\n            default: System.out.println(&quot;Not a valid domain&quot;);\r\n                        break;\r\n        }\r\n    }\r\n}\r\n","title":"How to get the domain extension from a URL string?","body":"<p>I hope this one helps:</p>\n<pre><code>public class DomainFinder {\npublic static void main(String[] args){\n    String url = &quot;stackoverflow.org&quot;;\n    String [] word = url.split(&quot;\\\\.&quot;);\n    String domain = word[word.length -1];\n    switch(domain){\n        case &quot;com&quot; : System.out.println(&quot;Commercial&quot;);\n                    break;\n        case &quot;edu&quot; : System.out.println(&quot;Educational&quot;);\n                    break;\n        case &quot;org&quot; : System.out.println(&quot;Organization&quot;);\n                    break;\n        default: System.out.println(&quot;Not a valid domain&quot;);\n                    break;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692020273,"creation_date":1691871342,"answer_id":76890980,"question_id":76890535,"body_markdown":"I would use a map to hold all the `top level domains` you&#39;re interested in. Then split on `.` as was suggested in the comments by `Elliot Frisch`\r\n```\r\nString[] sites = {\r\n        &quot;stackoverflow.org&quot;,\r\n        &quot;someUniversity.edu&quot;,\r\n        &quot;bigSales.com&quot;,\r\n        &quot;USCapitol.gov&quot;\r\n};\r\nMap&lt;String, String&gt; domainMap = Map.of(\r\n        &quot;com&quot;, &quot;Commercial website&quot;,\r\n        &quot;org&quot;, &quot;Organization website&quot;,\r\n        &quot;edu&quot;, &quot;Educational website&quot;);\r\n\r\nfor (String site : sites) {\r\n    String[] domainHierarchy = site.split(&quot;\\\\.&quot;);\r\n    String domain = domainHierarchy[domainHierarchy.length - 1];\r\n    String webSite = domainMap.getOrDefault(domain,\r\n            &quot;No site available for `%s` domain&quot;.formatted(domain));\r\n    System.out.printf(&quot;%s -&gt; %s%n&quot;, domain, webSite);\r\n}\r\n```\r\nprints\r\n```\r\norg -&gt; Organization website\r\nedu -&gt; Educational website\r\ncom -&gt; Commercial website\r\ngov -&gt; No site available for `gov` domain\r\n\r\n","title":"How to get the domain extension from a URL string?","body":"<p>I would use a map to hold all the <code>top level domains</code> you're interested in. Then split on <code>.</code> as was suggested in the comments by <code>Elliot Frisch</code></p>\n<pre><code>String[] sites = {\n        &quot;stackoverflow.org&quot;,\n        &quot;someUniversity.edu&quot;,\n        &quot;bigSales.com&quot;,\n        &quot;USCapitol.gov&quot;\n};\nMap&lt;String, String&gt; domainMap = Map.of(\n        &quot;com&quot;, &quot;Commercial website&quot;,\n        &quot;org&quot;, &quot;Organization website&quot;,\n        &quot;edu&quot;, &quot;Educational website&quot;);\n\nfor (String site : sites) {\n    String[] domainHierarchy = site.split(&quot;\\\\.&quot;);\n    String domain = domainHierarchy[domainHierarchy.length - 1];\n    String webSite = domainMap.getOrDefault(domain,\n            &quot;No site available for `%s` domain&quot;.formatted(domain));\n    System.out.printf(&quot;%s -&gt; %s%n&quot;, domain, webSite);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>org -&gt; Organization website\nedu -&gt; Educational website\ncom -&gt; Commercial website\ngov -&gt; No site available for `gov` domain\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692563477,"creation_date":1692132889,"answer_id":76909061,"question_id":76890535,"body_markdown":"You can use [`URI(str)`](https://docs.oracle.com/javase/8/docs/api/java/net/URI.html#URI-java.lang.String-) to extract the domain name and then use the [`String#substring (beginIndex)`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#substring-int-) to extract the text after the last `.` in it.\r\n\r\n**Demo:**\r\n \r\n    public class Main {\r\n        public static void main(String[] args) throws URISyntaxException {\r\n            Map&lt;String, String&gt; domain = Map.of(\r\n                    &quot;com&quot;, &quot;commercial website&quot;,\r\n                    &quot;org&quot;, &quot;organization website&quot;,\r\n                    &quot;lk&quot;, &quot;Sri Lankan website&quot;);\r\n    \r\n            // Test\r\n            String[] testURLs = {\r\n                    &quot;https://stackoverflow.com&quot;,\r\n                    &quot;https://stackoverflow.com/questions&quot;,\r\n                    &quot;https://srilankacricket.lk&quot;,\r\n                    &quot;https://srilankacricket.lk/&quot;,\r\n                    &quot;https://www.wikipedia.org/&quot;,\r\n                    &quot;https://www.gov.uk/&quot;\r\n            };\r\n            for (String s : testURLs) {\r\n                String domainName = new URI(s).getHost();\r\n                System.out.printf(&quot;%s --&gt; %s%n&quot;, s, domain.getOrDefault(domainName.substring(domainName.lastIndexOf(&#39;.&#39;) + 1), &quot;Unknown&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    https://stackoverflow.com --&gt; commercial website\r\n    https://stackoverflow.com/questions --&gt; commercial website\r\n    https://srilankacricket.lk --&gt; Sri Lankan website\r\n    https://srilankacricket.lk/ --&gt; Sri Lankan website\r\n    https://www.wikipedia.org/ --&gt; organization website\r\n    https://www.gov.uk/ --&gt; Unknown\r\n\r\n[Online Demo](https://ideone.com/AdSeBL)\r\n\r\n**Alternatively,**\r\n\r\nYou can use the [regex](https://regex101.com/r/ZUYwSV/1), `(?&lt;=\\.)\\p{L}+(?=\\/|$)` which can be explained as follows:\r\n\r\n - `(?&lt;=\\.)`: Preceded by a `.` character - using positive lookbehind here\r\n - `\\p{L}+`: One or more letter(s)\r\n - `(?=\\/|$)`: Followed by either `/` or end of line - using positive lookahead here\r\n\r\nYou can learn more about lookaround from [here](https://www.regular-expressions.info/lookaround.html).\r\n\r\n**Demo:**\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String regex = &quot;(?&lt;=\\\\.)\\\\p{L}+(?=\\\\/|$)&quot;;\r\n            Pattern pattern = Pattern.compile(regex);\r\n            Map&lt;String, String&gt; domain = Map.of(\r\n                    &quot;com&quot;, &quot;commercial website&quot;,\r\n                    &quot;org&quot;, &quot;organization website&quot;,\r\n                    &quot;lk&quot;, &quot;Sri Lankan website&quot;);\r\n    \r\n            // Test\r\n            Stream.of(\r\n                    &quot;https://stackoverflow.com&quot;,\r\n                    &quot;https://stackoverflow.com/questions&quot;,\r\n                    &quot;https://srilankacricket.lk&quot;,\r\n                    &quot;https://srilankacricket.lk/&quot;,\r\n                    &quot;https://www.wikipedia.org/&quot;,\r\n                    &quot;https://www.gov.uk/&quot;\r\n            ).forEach(s -&gt; {\r\n                Matcher matcher = pattern.matcher(s);\r\n                if (matcher.find())\r\n                    System.out.printf(&quot;%s --&gt; %s%n&quot;, s, domain.getOrDefault(matcher.group(),&quot;Unknown&quot;));\r\n            });\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    https://stackoverflow.com --&gt; commercial website\r\n    https://stackoverflow.com/questions --&gt; commercial website\r\n    https://srilankacricket.lk --&gt; Sri Lankan website\r\n    https://srilankacricket.lk/ --&gt; Sri Lankan website\r\n    https://www.wikipedia.org/ --&gt; organization website\r\n    https://www.gov.uk/ --&gt; Unknown\r\n\r\n[Online Demo](https://ideone.com/YHTBpp)\r\n","title":"How to get the domain extension from a URL string?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URI.html#URI-java.lang.String-\" rel=\"nofollow noreferrer\"><code>URI(str)</code></a> to extract the domain name and then use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#substring-int-\" rel=\"nofollow noreferrer\"><code>String#substring (beginIndex)</code></a> to extract the text after the last <code>.</code> in it.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws URISyntaxException {\n        Map&lt;String, String&gt; domain = Map.of(\n                &quot;com&quot;, &quot;commercial website&quot;,\n                &quot;org&quot;, &quot;organization website&quot;,\n                &quot;lk&quot;, &quot;Sri Lankan website&quot;);\n\n        // Test\n        String[] testURLs = {\n                &quot;https://stackoverflow.com&quot;,\n                &quot;https://stackoverflow.com/questions&quot;,\n                &quot;https://srilankacricket.lk&quot;,\n                &quot;https://srilankacricket.lk/&quot;,\n                &quot;https://www.wikipedia.org/&quot;,\n                &quot;https://www.gov.uk/&quot;\n        };\n        for (String s : testURLs) {\n            String domainName = new URI(s).getHost();\n            System.out.printf(&quot;%s --&gt; %s%n&quot;, s, domain.getOrDefault(domainName.substring(domainName.lastIndexOf('.') + 1), &quot;Unknown&quot;));\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>https://stackoverflow.com --&gt; commercial website\nhttps://stackoverflow.com/questions --&gt; commercial website\nhttps://srilankacricket.lk --&gt; Sri Lankan website\nhttps://srilankacricket.lk/ --&gt; Sri Lankan website\nhttps://www.wikipedia.org/ --&gt; organization website\nhttps://www.gov.uk/ --&gt; Unknown\n</code></pre>\n<p><a href=\"https://ideone.com/AdSeBL\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p><strong>Alternatively,</strong></p>\n<p>You can use the <a href=\"https://regex101.com/r/ZUYwSV/1\" rel=\"nofollow noreferrer\">regex</a>, <code>(?&lt;=\\.)\\p{L}+(?=\\/|$)</code> which can be explained as follows:</p>\n<ul>\n<li><code>(?&lt;=\\.)</code>: Preceded by a <code>.</code> character - using positive lookbehind here</li>\n<li><code>\\p{L}+</code>: One or more letter(s)</li>\n<li><code>(?=\\/|$)</code>: Followed by either <code>/</code> or end of line - using positive lookahead here</li>\n</ul>\n<p>You can learn more about lookaround from <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String regex = &quot;(?&lt;=\\\\.)\\\\p{L}+(?=\\\\/|$)&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        Map&lt;String, String&gt; domain = Map.of(\n                &quot;com&quot;, &quot;commercial website&quot;,\n                &quot;org&quot;, &quot;organization website&quot;,\n                &quot;lk&quot;, &quot;Sri Lankan website&quot;);\n\n        // Test\n        Stream.of(\n                &quot;https://stackoverflow.com&quot;,\n                &quot;https://stackoverflow.com/questions&quot;,\n                &quot;https://srilankacricket.lk&quot;,\n                &quot;https://srilankacricket.lk/&quot;,\n                &quot;https://www.wikipedia.org/&quot;,\n                &quot;https://www.gov.uk/&quot;\n        ).forEach(s -&gt; {\n            Matcher matcher = pattern.matcher(s);\n            if (matcher.find())\n                System.out.printf(&quot;%s --&gt; %s%n&quot;, s, domain.getOrDefault(matcher.group(),&quot;Unknown&quot;));\n        });\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>https://stackoverflow.com --&gt; commercial website\nhttps://stackoverflow.com/questions --&gt; commercial website\nhttps://srilankacricket.lk --&gt; Sri Lankan website\nhttps://srilankacricket.lk/ --&gt; Sri Lankan website\nhttps://www.wikipedia.org/ --&gt; organization website\nhttps://www.gov.uk/ --&gt; Unknown\n</code></pre>\n<p><a href=\"https://ideone.com/YHTBpp\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692147798,"creation_date":1692147798,"answer_id":76909893,"question_id":76890535,"body_markdown":"You can use the _[String#lastIndexOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#lastIndexOf(int))_ method.\r\n\r\n```java\r\nString string = &quot;stackoverflow.com&quot;;\r\nString type\r\n  = switch (string.substring(string.lastIndexOf(&#39;.&#39;))) {\r\n        case &quot;.com&quot; -&gt; &quot;commercial&quot;;\r\n        case &quot;.org&quot; -&gt; &quot;organization&quot;;\r\n        case &quot;.lk&quot; -&gt; &quot;Sri Lankan&quot;;\r\n        default -&gt; &quot;unknown&quot;;\r\n    };\r\n```","title":"How to get the domain extension from a URL string?","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#lastIndexOf(int)\" rel=\"nofollow noreferrer\">String#lastIndexOf</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;stackoverflow.com&quot;;\nString type\n  = switch (string.substring(string.lastIndexOf('.'))) {\n        case &quot;.com&quot; -&gt; &quot;commercial&quot;;\n        case &quot;.org&quot; -&gt; &quot;organization&quot;;\n        case &quot;.lk&quot; -&gt; &quot;Sri Lankan&quot;;\n        default -&gt; &quot;unknown&quot;;\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692563881,"creation_date":1692563881,"answer_id":76941244,"question_id":76890535,"body_markdown":"You can use `String.endsWith()` method:\r\n\r\n```java\r\npublic static String checkWebsite(String url) {\r\n    if (url.endsWith(&quot;.com&quot;))\r\n        return &quot;Commercial website&quot;;\r\n    if (url.endsWith(&quot;.org&quot;))\r\n        return &quot;Organization website&quot;;\r\n    if (url.endsWith(&quot;.lk&quot;))\r\n        return &quot;Sri Lankan website&quot;;\r\n    return &quot;Unknown website&quot;;\r\n}\r\n```","title":"How to get the domain extension from a URL string?","body":"<p>You can use <code>String.endsWith()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String checkWebsite(String url) {\n    if (url.endsWith(&quot;.com&quot;))\n        return &quot;Commercial website&quot;;\n    if (url.endsWith(&quot;.org&quot;))\n        return &quot;Organization website&quot;;\n    if (url.endsWith(&quot;.lk&quot;))\n        return &quot;Sri Lankan website&quot;;\n    return &quot;Unknown website&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":29164900,"reputation":1,"user_id":22342719,"display_name":"Odil Vidmal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":5,"score":-2,"last_activity_date":1692563881,"creation_date":1691863508,"question_id":76890535,"body_markdown":"How to find the type of website using the URL below.\r\n\r\n - .com – commercial website\r\n - .org – organization website\r\n - .lk – Sri Lankan website\r\n\r\nExample: *input* &gt; stackoverflow.com\r\n           *Output* &gt; It&#39;s a Commercial website.\r\n\r\nI don&#39;t know how to get the last 3 sub-strings.","title":"How to get the domain extension from a URL string?","body":"<p>How to find the type of website using the URL below.</p>\n<ul>\n<li>.com – commercial website</li>\n<li>.org – organization website</li>\n<li>.lk – Sri Lankan website</li>\n</ul>\n<p>Example: <em>input</em> &gt; stackoverflow.com\n<em>Output</em> &gt; It's a Commercial website.</p>\n<p>I don't know how to get the last 3 sub-strings.</p>\n"},{"tags":["java","if-statement","arraylist"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1692504322,"post_id":76937888,"comment_id":135631286,"body_markdown":"Use your IDE refactoring feature. Identical blocks can be extracted to their own function and reused elsewhere.  Since nesting always contains either A, B, C, or D and pretty much then just gets printed as is, you can snip that too, unless you have a different logic, in which case generalize them so the common part are called as a function.","body":"Use your IDE refactoring feature. Identical blocks can be extracted to their own function and reused elsewhere.  Since nesting always contains either A, B, C, or D and pretty much then just gets printed as is, you can snip that too, unless you have a different logic, in which case generalize them so the common part are called as a function."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1692504488,"post_id":76937888,"comment_id":135631294,"body_markdown":"Your various cases look identical. Just what is special about A, B, or C? When posting here, put more effort into making your Question crystal-clear.","body":"Your various cases look identical. Just what is special about A, B, or C? When posting here, put more effort into making your Question crystal-clear."},{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1692556907,"post_id":76937888,"comment_id":135636389,"body_markdown":"I intentionally cut it down so no one would start picking apart the details, as tends to happen. I provided just enough information for people to be able to give an answer, which someone did.","body":"I intentionally cut it down so no one would start picking apart the details, as tends to happen. I provided just enough information for people to be able to give an answer, which someone did."}],"answers":[{"comments":[{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1692556835,"post_id":76937919,"comment_id":135636382,"body_markdown":"Thank you, this works perfectly and is going to save me so much time and space. I knew my code wasn&#39;t &quot;too confusing&quot; as the other commenters said. I intentionally cut it down to bare-bones so it wouldn&#39;t potentially confuse anyone with superfluous details.","body":"Thank you, this works perfectly and is going to save me so much time and space. I knew my code wasn&#39;t &quot;too confusing&quot; as the other commenters said. I intentionally cut it down to bare-bones so it wouldn&#39;t potentially confuse anyone with superfluous details."},{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1692558559,"post_id":76937919,"comment_id":135636556,"body_markdown":"Your updated code doesn&#39;t work; it throws unhandled exceptions because &quot;cbuf is null&quot; and points to line 214. The first code you gave works perfectly fine and saves me from 48 copy-pastes; it allows me to simply fill in the rest of the random items and then add one more nested variable in &quot;name2&quot;.","body":"Your updated code doesn&#39;t work; it throws unhandled exceptions because &quot;cbuf is null&quot; and points to line 214. The first code you gave works perfectly fine and saves me from 48 copy-pastes; it allows me to simply fill in the rest of the random items and then add one more nested variable in &quot;name2&quot;."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1692558745,"post_id":76937919,"comment_id":135636570,"body_markdown":"Posted code includes nothing called `cbuf`. I&#39;ve tested all the code in my answer. Feel free to use whichever works best for you.","body":"Posted code includes nothing called <code>cbuf</code>. I&#39;ve tested all the code in my answer. Feel free to use whichever works best for you."},{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1692559333,"post_id":76937919,"comment_id":135636602,"body_markdown":"I know it doesn&#39;t. But the error is &quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because &quot;cbuf&quot; is null\n\tat java.base/java.io.Writer.write(Writer.java:213)\n\tat java.base/java.io.PrintStream.writeln(PrintStream.java:677)\n\tat java.base/java.io.PrintStream.println(PrintStream.java:1010)\n\tat randomlist.Randomlist.main(Randomlist.java:12)&quot;. It&#39;s not an error in the code, it&#39;s an error when it executes. It compiles with no errors, but it won&#39;t run.","body":"I know it doesn&#39;t. But the error is &quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because &quot;cbuf&quot; is null \tat java.base/java.io.Writer.write(Writer.java:213) \tat java.base/java.io.PrintStream.writeln(PrintStream.java:677) \tat java.base/java.io.PrintStream.println(PrintStream.java:1010) \tat randomlist.Randomlist.main(Randomlist.java:12)&quot;. It&#39;s not an error in the code, it&#39;s an error when it executes. It compiles with no errors, but it won&#39;t run."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1692559460,"post_id":76937919,"comment_id":135636611,"body_markdown":"Runs [fine here](https://i.imgur.com/wzuCklF.png). Would need more context to help.","body":"Runs <a href=\"https://i.imgur.com/wzuCklF.png\" rel=\"nofollow noreferrer\">fine here</a>. Would need more context to help."},{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1692559901,"post_id":76937919,"comment_id":135636647,"body_markdown":"I don&#39;t have more context; I copy-pasted the code over the other code, told it to create the method &quot;randomElement(String[])&quot; since it was undefined for the type Randomlist, and told it to compile. It did so without any warnings. When executed, it gives that error.","body":"I don&#39;t have more context; I copy-pasted the code over the other code, told it to create the method &quot;randomElement(String[])&quot; since it was undefined for the type Randomlist, and told it to compile. It did so without any warnings. When executed, it gives that error."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1692560131,"post_id":76937919,"comment_id":135636664,"body_markdown":"Did you try using the method `randomElement` I posted, instead of generating a new one. Please see [screenshot](https://i.imgur.com/wzuCklF.png).","body":"Did you try using the method <code>randomElement</code> I posted, instead of generating a new one. Please see <a href=\"https://i.imgur.com/wzuCklF.png\" rel=\"nofollow noreferrer\">screenshot</a>."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692557480,"creation_date":1692504498,"answer_id":76937919,"question_id":76937888,"body_markdown":"Your branches all do the same thing. Print the `String nesting` wait a second and then print the `String nesting1` which you pick in the same manner. Your code could be simplified to\r\n\r\n\tRandom generate = ThreadLocalRandom.current();\r\n\tString[] name = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; };\r\n\tString[] name1 = { &quot;R&quot;, &quot;E&quot;, &quot;M&quot; };\r\n\tString nesting = name[generate.nextInt(name.length)];\r\n\tString nesting1 = name1[generate.nextInt(name1.length)];\r\n\tSystem.out.println(nesting);\r\n\tThread.sleep(1000);\r\n\tSystem.out.println(nesting1);\r\n\r\nOf course, that uses a tiny bit of repetitious code; we could extract that into a method to pick a random element from an array. Perhaps a generic method, that for some type `T` takes an array of type `T` and returns a `T`. Something like,\r\n\r\n\tstatic &lt;T&gt; T randomElement(T[] arr) {\r\n\t\treturn arr[ThreadLocalRandom.current().nextInt(arr.length)];\r\n\t}\r\n\r\nThen the code becomes\r\n\r\n\tString[] name = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; };\r\n\tString[] name1 = { &quot;R&quot;, &quot;E&quot;, &quot;M&quot; };\r\n\tSystem.out.println(randomElement(name));\r\n\tThread.sleep(1000);\r\n\tSystem.out.println(randomElement(name1));\r\n\r\nWhich is about as simple as I can imagine.","title":"Is it possible to condense long code using an array or collection?","body":"<p>Your branches all do the same thing. Print the <code>String nesting</code> wait a second and then print the <code>String nesting1</code> which you pick in the same manner. Your code could be simplified to</p>\n<pre><code>Random generate = ThreadLocalRandom.current();\nString[] name = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; };\nString[] name1 = { &quot;R&quot;, &quot;E&quot;, &quot;M&quot; };\nString nesting = name[generate.nextInt(name.length)];\nString nesting1 = name1[generate.nextInt(name1.length)];\nSystem.out.println(nesting);\nThread.sleep(1000);\nSystem.out.println(nesting1);\n</code></pre>\n<p>Of course, that uses a tiny bit of repetitious code; we could extract that into a method to pick a random element from an array. Perhaps a generic method, that for some type <code>T</code> takes an array of type <code>T</code> and returns a <code>T</code>. Something like,</p>\n<pre><code>static &lt;T&gt; T randomElement(T[] arr) {\n    return arr[ThreadLocalRandom.current().nextInt(arr.length)];\n}\n</code></pre>\n<p>Then the code becomes</p>\n<pre><code>String[] name = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; };\nString[] name1 = { &quot;R&quot;, &quot;E&quot;, &quot;M&quot; };\nSystem.out.println(randomElement(name));\nThread.sleep(1000);\nSystem.out.println(randomElement(name1));\n</code></pre>\n<p>Which is about as simple as I can imagine.</p>\n"}],"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76937919,"answer_count":1,"score":0,"last_activity_date":1692563513,"creation_date":1692503438,"question_id":76937888,"body_markdown":"I&#39;ve got this code here that I&#39;ve written to nest several if/then/else statements within each other. It works for what I need it to; it complies and runs as expected, but it&#39;s *really long* and this is only roughly 1/12th of what it&#39;ll end up being. It&#39;s way too big to manage, so I&#39;m hoping there might be a way to condense it somehow.\r\n```\r\npackage randomlist;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\t\r\npublic class Randomlist {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t    Random generate = new Random();\r\n\t       String[] name = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;};\t       \r\n\t       String nesting =(name[generate.nextInt(4)]);\r\n\t       \r\n\t       if (&quot;A&quot;.equals(nesting)) {\r\n\t    \t   System.out.println(&quot;A&quot;);\r\n\t    \t   Random generate1 = new Random();\r\n\t\t       String[] name1 = {&quot;R&quot;, &quot;E&quot;, &quot;M&quot;};\t       \r\n\t\t       String nesting1 =(name1[generate1.nextInt(3)]);\r\n\t\t       Thread.sleep(1000);\r\n\t\t       if (&quot;R&quot;.equals(nesting1)) {\r\n\t\t    \t   System.out.println(&quot;R&quot;); }\r\n\t\t       else\r\n\t\t    \t   if (&quot;E&quot;.equals(nesting1)) {\r\n\t\t    \t   System.out.println(&quot;E&quot;);}\r\n\t\t    \t   else\r\n\t\t    \t   if (&quot;M&quot;.equals(nesting1)) {\r\n\t\t\t    \t   System.out.println(&quot;M&quot;);}}\r\n\t       if (&quot;B&quot;.equals(nesting)) {\r\n\t    \t   System.out.println(&quot;B&quot;);\r\n\t    \t   Random generate1 = new Random();\r\n\t\t       String[] name1 = {&quot;R&quot;, &quot;E&quot;, &quot;M&quot;};\t       \r\n\t\t       String nesting1 =(name1[generate1.nextInt(3)]);\r\n\t\t       Thread.sleep(1000);\r\n\t\t       if (&quot;R&quot;.equals(nesting1)) {\r\n\t\t    \t   System.out.println(&quot;R&quot;); }\r\n\t\t       else\r\n\t\t    \t   if (&quot;E&quot;.equals(nesting1)) {\r\n\t\t    \t   System.out.println(&quot;E&quot;);}\r\n\t\t    \t   else\r\n\t\t    \t   if (&quot;M&quot;.equals(nesting1)) {\r\n\t\t\t    \t   System.out.println(&quot;M&quot;);}}\r\n\t       if (&quot;C&quot;.equals(nesting)) {\r\n\t    \t   System.out.println(&quot;C&quot;);\r\n\t    \t   Random generate1 = new Random();\r\n\t\t       String[] name1 = {{&quot;R&quot;, &quot;E&quot;, &quot;M&quot;};\t       \r\n\t\t       String nesting1 =(name1[generate1.nextInt(3)]);\r\n\t\t       Thread.sleep(1000);\r\n\t\t       if (&quot;R&quot;.equals(nesting1)) {\r\n\t\t    \t   System.out.println(&quot;R&quot;); }\r\n\t\t       else\r\n\t\t    \t   if (&quot;E&quot;.equals(nesting1)) {\r\n\t\t    \t   System.out.println(&quot;E&quot;);}\r\n\t\t    \t   else\r\n\t\t    \t   if (&quot;M&quot;.equals(nesting1)) {\r\n\t\t\t    \t   System.out.println(&quot;M&quot;);}}\r\n\t       if (&quot;D&quot;.equals(nesting)) {\r\n\t    \t   System.out.println(&quot;D&quot;);\r\n\t    \t   Random generate1 = new Random();\r\n\t\t       String[] name1 = {{&quot;R&quot;, &quot;E&quot;, &quot;M&quot;};\t       \r\n\t\t       String nesting1 =(name1[generate1.nextInt(3)]);\r\n\t\t       Thread.sleep(1000);\r\n\t\t       if (&quot;R&quot;.equals(nesting1)) {\r\n\t\t    \t   System.out.println(&quot;R&quot;); }\r\n\t\t       else\r\n\t\t    \t   if (&quot;E&quot;.equals(nesting1)) {\r\n\t\t    \t   System.out.println(&quot;E&quot;);}\r\n\t\t    \t   else\r\n\t\t    \t   if (&quot;M&quot;.equals(nesting1)) {\r\n\t\t\t    \t   System.out.println(&quot;M&quot;);}}\r\n\t       }}\r\n\r\n```\r\n","title":"Is it possible to condense long code using an array or collection?","body":"<p>I've got this code here that I've written to nest several if/then/else statements within each other. It works for what I need it to; it complies and runs as expected, but it's <em>really long</em> and this is only roughly 1/12th of what it'll end up being. It's way too big to manage, so I'm hoping there might be a way to condense it somehow.</p>\n<pre><code>package randomlist;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n    \npublic class Randomlist {\n\n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\n\n        Random generate = new Random();\n           String[] name = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;};           \n           String nesting =(name[generate.nextInt(4)]);\n           \n           if (&quot;A&quot;.equals(nesting)) {\n               System.out.println(&quot;A&quot;);\n               Random generate1 = new Random();\n               String[] name1 = {&quot;R&quot;, &quot;E&quot;, &quot;M&quot;};           \n               String nesting1 =(name1[generate1.nextInt(3)]);\n               Thread.sleep(1000);\n               if (&quot;R&quot;.equals(nesting1)) {\n                   System.out.println(&quot;R&quot;); }\n               else\n                   if (&quot;E&quot;.equals(nesting1)) {\n                   System.out.println(&quot;E&quot;);}\n                   else\n                   if (&quot;M&quot;.equals(nesting1)) {\n                       System.out.println(&quot;M&quot;);}}\n           if (&quot;B&quot;.equals(nesting)) {\n               System.out.println(&quot;B&quot;);\n               Random generate1 = new Random();\n               String[] name1 = {&quot;R&quot;, &quot;E&quot;, &quot;M&quot;};           \n               String nesting1 =(name1[generate1.nextInt(3)]);\n               Thread.sleep(1000);\n               if (&quot;R&quot;.equals(nesting1)) {\n                   System.out.println(&quot;R&quot;); }\n               else\n                   if (&quot;E&quot;.equals(nesting1)) {\n                   System.out.println(&quot;E&quot;);}\n                   else\n                   if (&quot;M&quot;.equals(nesting1)) {\n                       System.out.println(&quot;M&quot;);}}\n           if (&quot;C&quot;.equals(nesting)) {\n               System.out.println(&quot;C&quot;);\n               Random generate1 = new Random();\n               String[] name1 = {{&quot;R&quot;, &quot;E&quot;, &quot;M&quot;};          \n               String nesting1 =(name1[generate1.nextInt(3)]);\n               Thread.sleep(1000);\n               if (&quot;R&quot;.equals(nesting1)) {\n                   System.out.println(&quot;R&quot;); }\n               else\n                   if (&quot;E&quot;.equals(nesting1)) {\n                   System.out.println(&quot;E&quot;);}\n                   else\n                   if (&quot;M&quot;.equals(nesting1)) {\n                       System.out.println(&quot;M&quot;);}}\n           if (&quot;D&quot;.equals(nesting)) {\n               System.out.println(&quot;D&quot;);\n               Random generate1 = new Random();\n               String[] name1 = {{&quot;R&quot;, &quot;E&quot;, &quot;M&quot;};          \n               String nesting1 =(name1[generate1.nextInt(3)]);\n               Thread.sleep(1000);\n               if (&quot;R&quot;.equals(nesting1)) {\n                   System.out.println(&quot;R&quot;); }\n               else\n                   if (&quot;E&quot;.equals(nesting1)) {\n                   System.out.println(&quot;E&quot;);}\n                   else\n                   if (&quot;M&quot;.equals(nesting1)) {\n                       System.out.println(&quot;M&quot;);}}\n           }}\n\n</code></pre>\n"},{"tags":["java","println"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664833628,"post_id":73934517,"comment_id":130557378,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"score":0,"creation_date":1692563627,"post_id":76941218,"comment_id":135637002,"body_markdown":"This is exactly it! This is what I had been using, together with a sleep function so it didn&#39;t trip over itself after a few repetions.","body":"This is exactly it! This is what I had been using, together with a sleep function so it didn&#39;t trip over itself after a few repetions."}],"tags":[],"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692563485,"creation_date":1692563485,"answer_id":76941218,"question_id":73934517,"body_markdown":"What you&#39;re describing is likely a virtual keypress (VK). It simulates the physical pressing of a key on a keyboard, but it isn&#39;t limited to the output console; it&#39;ll press the key wherever you&#39;ve placed your cursor.\r\n\r\nHere&#39;s an example: \r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.awt.event.KeyEvent;\r\n    public class Robot {\r\n\r\n    public static void main(String[] args) throws AWTException, \r\n    InterruptedException {\r\n        // TODO Auto-generated method stub\r\n        Robot r = new Robot();\r\n        r.keyPress(KeyEvent.VK_H);\r\n        r.keyRelease(KeyEvent.VK_H);\r\n\r\n\r\nThe variable &quot;r&quot; can be any string or character you want. &quot;Robot&quot; is the class, but, again, you can name it as you see fit. The keypress event is what you asked about- it calls the system to virtually press the key- in this case, it will press the &quot;h&quot; key.\r\n\r\nIt&#39;s also important to note that the program will *not* automatically release that key- it will hold it down until you tell it to let go or to press a different key. That is what the second line- keyrelease- is for. It tells the system to let go of the key, which is crucial if you need the same key twice in a row. ","title":"How to print line to cursor in java (eclispe ide)?","body":"<p>What you're describing is likely a virtual keypress (VK). It simulates the physical pressing of a key on a keyboard, but it isn't limited to the output console; it'll press the key wherever you've placed your cursor.</p>\n<p>Here's an example:</p>\n<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.KeyEvent;\npublic class Robot {\n\npublic static void main(String[] args) throws AWTException, \nInterruptedException {\n    // TODO Auto-generated method stub\n    Robot r = new Robot();\n    r.keyPress(KeyEvent.VK_H);\n    r.keyRelease(KeyEvent.VK_H);\n</code></pre>\n<p>The variable &quot;r&quot; can be any string or character you want. &quot;Robot&quot; is the class, but, again, you can name it as you see fit. The keypress event is what you asked about- it calls the system to virtually press the key- in this case, it will press the &quot;h&quot; key.</p>\n<p>It's also important to note that the program will <em>not</em> automatically release that key- it will hold it down until you tell it to let go or to press a different key. That is what the second line- keyrelease- is for. It tells the system to let go of the key, which is crucial if you need the same key twice in a row.</p>\n"}],"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76941218,"answer_count":1,"score":1,"last_activity_date":1692563485,"creation_date":1664795155,"question_id":73934517,"body_markdown":"Once upon a time, I had taught myself how to output a series of characters wherever my mouse cursor had last clicked; i.e, I was using it to spam cheats in AOEii campaigns. It pressed enter, printed the characters in &quot;to smithereens&quot;, and pressed enter again every 0.5 seconds.\r\n\r\nI can&#39;t for the life of me get that working again. Any knowledge on how to move the text output away from the console? This time I&#39;m trying to use it to spam CK3 cheats in the debug console. I have the code written for the actual output, but can&#39;t move it to the correct place.","title":"How to print line to cursor in java (eclispe ide)?","body":"<p>Once upon a time, I had taught myself how to output a series of characters wherever my mouse cursor had last clicked; i.e, I was using it to spam cheats in AOEii campaigns. It pressed enter, printed the characters in &quot;to smithereens&quot;, and pressed enter again every 0.5 seconds.</p>\n<p>I can't for the life of me get that working again. Any knowledge on how to move the text output away from the console? This time I'm trying to use it to spam CK3 cheats in the debug console. I have the code written for the actual output, but can't move it to the correct place.</p>\n"},{"tags":["java","text","methods","console","java.util.scanner"],"answers":[{"comments":[{"owner":{"account_id":29263013,"reputation":1,"user_id":22419510,"display_name":"20GoodMen"},"score":0,"creation_date":1692607280,"post_id":76941148,"comment_id":135641299,"body_markdown":"Thank you for the insightful explanatio. Ill make sure to look into that &quot;mini-programming&quot; a bit further.\nSo Ive tried it now with your .useDelimiter version. And it almost works perfectly fine. The only issue (Im trying to fix) that I find is, that the last word of a line, and the next word of another line dont have Spaces anymore. Ill try to replace \\n with \\s or something :) But overall a quite educative solution you gave me! THANKS !!!","body":"Thank you for the insightful explanatio. Ill make sure to look into that &quot;mini-programming&quot; a bit further. So Ive tried it now with your .useDelimiter version. And it almost works perfectly fine. The only issue (Im trying to fix) that I find is, that the last word of a line, and the next word of another line dont have Spaces anymore. Ill try to replace \\n with \\s or something :) But overall a quite educative solution you gave me! THANKS !!!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692562277,"creation_date":1692562277,"answer_id":76941148,"question_id":76941120,"body_markdown":"To give you the proper context, first an explanation of a few things:\r\n\r\n`System.in` isn&#39;t actually the keyboard. It&#39;s &quot;The process&#39;s standard input&quot; which can be anything. It&#39;s merely &#39;whatever the user types&#39; __by default__. For example, `java com.foo.MyApp &lt;foo.txt` now sets up `System.in` to be the contents of the file `foo.txt`. Including the notion that it can &#39;run out&#39; (which a keyboard never would).\r\n\r\nHence, when you write `nextLine()`, that&#39;s __not__ the same as telling scanner: Please get me everything until the user hits the enter key.\r\n\r\nNo, it&#39;s: Get me everything until a newline symbol shows up in the stream. __if__ `System.in` is the keyboard, one way to get a newline symbol is to hit enter. Another is to hit CMD+V or whatever you use to paste data into the terminal, and that data contains newline symbols. There is literally no way for `Scanner` to differentiate between those two things. Hence, there is no method to go: &quot;Get me all text until the user hits enter&quot;. Because how would that method work? An enterpress looks identical to a newline in the pasted data. The signalling of &#39;okay, that was all I wanted to enter, please go ahead and process it&#39; needs to be part of the data. If it&#39;s not &#39;newline symbol&#39; (because you want to capture multi-paragraph stuff) then you&#39;ll have to come up with something else instead.\r\n\r\nSeparately, `nextLine()` is a broken method you should never use. It does exactly what its spec says it does, but what that is is not what you think it is. Instead, it&#39;s something quite useless. Scanner will dutifully continue to have `nextLine()` be this useless thing that has all sorts of surprising (read: unwanted) interactions with all the other `.next` operations on scanner.\r\n\r\nInstead, use `.next()` if you want string input, and set the delimiter if the default delimiter (which is: Any whitespace, i.e. if you type &#39;Hello, World!&#39; and hit enter, then the first &#39;token&#39; is &#39;Hello,&#39; and the second one is &#39;World!&#39;. If you don&#39;t want that, set the delimiter to &#39;a newline&#39; instead. For example).\r\n\r\nWith that in mind:\r\n\r\nHere&#39;s one way to do it:\r\n\r\n```\r\nSystem.out.println(&quot;Paste your paragraph, then hit enter and type &#39;DONE&#39; and hit enter again:&quot;);\r\nscanner.useDelimiter(&quot;(?i)\\\\RDONE\\\\R&quot;);\r\nString data = scanner.next();\r\nSystem.out.println(&quot;Your paragraph contains: &quot; + data.length() + &quot; symbols.&quot;);\r\n```\r\n\r\nThis tells the scanner that the &#39;thing that separates each token of input&#39; is a newline, then the text DONE, then a newline (various OSes use different sequences of symbols for newline, `\\\\R` covers them all. `\\n` probably works too, but `\\\\R` works on everything). The `(?i)` simply says that the `DONE` part is case insensitive.\r\n\r\nThe argument to `.useDelimiter` is a regex which is its own mini-programming language for describing regular grammars, which is why it may well strike you as really weird that you can stick `(?i)` in there and that this means &#39;case insensitive&#39; somehow. We&#39;ve really squeezed a mini-program inside those string quotes here.\r\n\r\n","title":"Is there such a thing as &quot;scanner.newLine();&quot; that could read a console input multi-line paragraph?","body":"<p>To give you the proper context, first an explanation of a few things:</p>\n<p><code>System.in</code> isn't actually the keyboard. It's &quot;The process's standard input&quot; which can be anything. It's merely 'whatever the user types' <strong>by default</strong>. For example, <code>java com.foo.MyApp &lt;foo.txt</code> now sets up <code>System.in</code> to be the contents of the file <code>foo.txt</code>. Including the notion that it can 'run out' (which a keyboard never would).</p>\n<p>Hence, when you write <code>nextLine()</code>, that's <strong>not</strong> the same as telling scanner: Please get me everything until the user hits the enter key.</p>\n<p>No, it's: Get me everything until a newline symbol shows up in the stream. <strong>if</strong> <code>System.in</code> is the keyboard, one way to get a newline symbol is to hit enter. Another is to hit CMD+V or whatever you use to paste data into the terminal, and that data contains newline symbols. There is literally no way for <code>Scanner</code> to differentiate between those two things. Hence, there is no method to go: &quot;Get me all text until the user hits enter&quot;. Because how would that method work? An enterpress looks identical to a newline in the pasted data. The signalling of 'okay, that was all I wanted to enter, please go ahead and process it' needs to be part of the data. If it's not 'newline symbol' (because you want to capture multi-paragraph stuff) then you'll have to come up with something else instead.</p>\n<p>Separately, <code>nextLine()</code> is a broken method you should never use. It does exactly what its spec says it does, but what that is is not what you think it is. Instead, it's something quite useless. Scanner will dutifully continue to have <code>nextLine()</code> be this useless thing that has all sorts of surprising (read: unwanted) interactions with all the other <code>.next</code> operations on scanner.</p>\n<p>Instead, use <code>.next()</code> if you want string input, and set the delimiter if the default delimiter (which is: Any whitespace, i.e. if you type 'Hello, World!' and hit enter, then the first 'token' is 'Hello,' and the second one is 'World!'. If you don't want that, set the delimiter to 'a newline' instead. For example).</p>\n<p>With that in mind:</p>\n<p>Here's one way to do it:</p>\n<pre><code>System.out.println(&quot;Paste your paragraph, then hit enter and type 'DONE' and hit enter again:&quot;);\nscanner.useDelimiter(&quot;(?i)\\\\RDONE\\\\R&quot;);\nString data = scanner.next();\nSystem.out.println(&quot;Your paragraph contains: &quot; + data.length() + &quot; symbols.&quot;);\n</code></pre>\n<p>This tells the scanner that the 'thing that separates each token of input' is a newline, then the text DONE, then a newline (various OSes use different sequences of symbols for newline, <code>\\\\R</code> covers them all. <code>\\n</code> probably works too, but <code>\\\\R</code> works on everything). The <code>(?i)</code> simply says that the <code>DONE</code> part is case insensitive.</p>\n<p>The argument to <code>.useDelimiter</code> is a regex which is its own mini-programming language for describing regular grammars, which is why it may well strike you as really weird that you can stick <code>(?i)</code> in there and that this means 'case insensitive' somehow. We've really squeezed a mini-program inside those string quotes here.</p>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692567227,"post_id":76941178,"comment_id":135637330,"body_markdown":"or just `var paragraph = new BufferedReader(new InputStreamReader(System.in)).lines().collect(Collectors.joining(&quot;\\n&quot;));`","body":"or just <code>var paragraph = new BufferedReader(new InputStreamReader(System.in)).lines().collect(Collectors.joi&zwnj;&#8203;ning(&quot;\\n&quot;));</code>"},{"owner":{"account_id":29263013,"reputation":1,"user_id":22419510,"display_name":"20GoodMen"},"score":0,"creation_date":1692607373,"post_id":76941178,"comment_id":135641315,"body_markdown":"For some reason I see the &quot;line&quot; variable go up with each loop-iteration (in Debugger), but the Code just stops afterwards...\nI copied your example (swapped out &quot;paragraph&quot; to &quot;text&quot;)\nThen after that my method:\n\nSystem.print.outln(encrypt(text.toString());\n\nIt just ends the code after the whileLoop, though I see the loop storing all of the text, line by line, in StringBuilder&quot;text&quot;...","body":"For some reason I see the &quot;line&quot; variable go up with each loop-iteration (in Debugger), but the Code just stops afterwards... I copied your example (swapped out &quot;paragraph&quot; to &quot;text&quot;) Then after that my method:  System.print.outln(encrypt(text.toString());  It just ends the code after the whileLoop, though I see the loop storing all of the text, line by line, in StringBuilder&quot;text&quot;..."}],"tags":[],"owner":{"account_id":27908218,"reputation":420,"user_id":21310959,"display_name":"Eldinur the Kolibri"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692562786,"creation_date":1692562786,"answer_id":76941178,"question_id":76941120,"body_markdown":"For all the technical detail see the astonishing answer by @rzwitserloot. I assume what you actually wanted is to just be able to copy/paste a paragraph of text in the Console and display it right after. This can be done easily with this self-explanatory code snippet:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tStringBuilder paragraph = new StringBuilder();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Some Paragraph&quot;);\r\n    \t\twhile (scanner.hasNextLine()) {\r\n    \t\t\tString line = scanner.nextLine();\r\n    \t\t\tparagraph.append(line).append(&#39;\\n&#39;);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Paragraph: &quot; + paragraph);\r\n    \t}\r\n    }\r\n\r\nHere we just append each line one after another.\r\nIf you want to read a multi-line paragraph from the console without a specific delimiter and without modifying the input, you can use a loop to continuously read lines until the user signals the end of input. This can be done by allowing the user to press a specific key combination (e.g., `Ctrl+D` or `Ctrl+Z`, depending on the operating system) to indicate the end of input. ","title":"Is there such a thing as &quot;scanner.newLine();&quot; that could read a console input multi-line paragraph?","body":"<p>For all the technical detail see the astonishing answer by @rzwitserloot. I assume what you actually wanted is to just be able to copy/paste a paragraph of text in the Console and display it right after. This can be done easily with this self-explanatory code snippet:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        StringBuilder paragraph = new StringBuilder();\n        \n        System.out.println(&quot;Some Paragraph&quot;);\n        while (scanner.hasNextLine()) {\n            String line = scanner.nextLine();\n            paragraph.append(line).append('\\n');\n        }\n        System.out.println(&quot;Paragraph: &quot; + paragraph);\n    }\n}\n</code></pre>\n<p>Here we just append each line one after another.\nIf you want to read a multi-line paragraph from the console without a specific delimiter and without modifying the input, you can use a loop to continuously read lines until the user signals the end of input. This can be done by allowing the user to press a specific key combination (e.g., <code>Ctrl+D</code> or <code>Ctrl+Z</code>, depending on the operating system) to indicate the end of input.</p>\n"}],"owner":{"account_id":29263013,"reputation":1,"user_id":22419510,"display_name":"20GoodMen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1692562786,"creation_date":1692561637,"question_id":76941120,"body_markdown":"TLDR: I want to paste a multi-line paragraph into the console (to be used in a method) but due to .nextLine() it only puts the first line into a String variable and ignores the rest.\r\n\r\nHello everyone,\r\nIm quite new to Java, and Im just finishing the very basics. Im still a bit bad with terminology. My task is a &quot;Decrypter&quot;-Method that takes an &quot;encrypted&quot; paragraph, swaps letters around in a method, and prints out the &quot;decrypted&quot; version: My decrypting-method works perfectly fine.\r\n\r\nThe problem is the User-Input: I need to put in an &quot;encrypted&quot; 7 line paragraph into the console, and it should return a &quot;decrypted&quot; 7 line paragraph. I have used scanner.nextLine(); which obviously doesnt work. As soon as there is a line break, the Scanner stops reading.\r\n(Ive also noticed that if you CopyPaste a text/paragraph with multiple lines into the console, the console treats the first line break as an &quot;Enter-Press&quot;)\r\n\r\nI didnt really find any workaround that fits my problem. The ideal would be if there existed a scanner.newLine().\r\nAgain Im not very experienced and by now deeply confused and slightly frustrated :,D\r\n\r\n\r\n\r\nFirst I tried removing the linebreaks by removing &quot;\\n&quot; &quot;\\r&quot; &quot;\\n\\r&quot; and replacing it with &quot;&quot;\r\n\r\n```\r\nString text = scanner.nextLine();\r\n        text = text.replaceAll(&quot;\\n&quot;,&quot;&quot;);\r\n```\r\n\r\nThis didnt work because the initial input was only read until the first linebreak anyway, so there was nothing in &quot;text&quot; to be replaced.\r\nI tried some shady Syntaxwork like &quot;scanner.replaceAll(&quot;\\n&quot;,&quot;&quot;).nextLine();&quot; which was more an act of desperation.\r\n\r\nThere was this, which I really dont understand:\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    scanner.useDelimiter(&quot;\\n&quot;);\r\n    scanner.forEachRemaining(System.out::println);\r\n```\r\n\r\n\r\nIve also found the &quot;type how many lines you want to enter&quot;-loop method, which works well, but that is not in the sense of the task.","title":"Is there such a thing as &quot;scanner.newLine();&quot; that could read a console input multi-line paragraph?","body":"<p>TLDR: I want to paste a multi-line paragraph into the console (to be used in a method) but due to .nextLine() it only puts the first line into a String variable and ignores the rest.</p>\n<p>Hello everyone,\nIm quite new to Java, and Im just finishing the very basics. Im still a bit bad with terminology. My task is a &quot;Decrypter&quot;-Method that takes an &quot;encrypted&quot; paragraph, swaps letters around in a method, and prints out the &quot;decrypted&quot; version: My decrypting-method works perfectly fine.</p>\n<p>The problem is the User-Input: I need to put in an &quot;encrypted&quot; 7 line paragraph into the console, and it should return a &quot;decrypted&quot; 7 line paragraph. I have used scanner.nextLine(); which obviously doesnt work. As soon as there is a line break, the Scanner stops reading.\n(Ive also noticed that if you CopyPaste a text/paragraph with multiple lines into the console, the console treats the first line break as an &quot;Enter-Press&quot;)</p>\n<p>I didnt really find any workaround that fits my problem. The ideal would be if there existed a scanner.newLine().\nAgain Im not very experienced and by now deeply confused and slightly frustrated :,D</p>\n<p>First I tried removing the linebreaks by removing &quot;\\n&quot; &quot;\\r&quot; &quot;\\n\\r&quot; and replacing it with &quot;&quot;</p>\n<pre><code>String text = scanner.nextLine();\n        text = text.replaceAll(&quot;\\n&quot;,&quot;&quot;);\n</code></pre>\n<p>This didnt work because the initial input was only read until the first linebreak anyway, so there was nothing in &quot;text&quot; to be replaced.\nI tried some shady Syntaxwork like &quot;scanner.replaceAll(&quot;\\n&quot;,&quot;&quot;).nextLine();&quot; which was more an act of desperation.</p>\n<p>There was this, which I really dont understand:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    scanner.useDelimiter(&quot;\\n&quot;);\n    scanner.forEachRemaining(System.out::println);\n</code></pre>\n<p>Ive also found the &quot;type how many lines you want to enter&quot;-loop method, which works well, but that is not in the sense of the task.</p>\n"},{"tags":["java","encryption","aes","ecb","javax.crypto"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1692561860,"post_id":76941042,"comment_id":135636812,"body_markdown":"The &#39;enc&#39; branch of your code uses a _random_ key not the one from the commandline, so it encrypts with a different key than you decrypt with, which doesn&#39;t work. Move `cipher.init(ENCRYPT_MODE,...)` AFTER `sKeySpec = ... decode(args[1]) ...`. You might put it within `try(streams)...` for symmetry with the &#39;dec&#39; branch, though that isn&#39;t necessary. Then you don&#39;t need `key` and `sr.nextBytes(key)` at all. Also you don&#39;t need `cipherOut.close()` and `decyptedStream.close()` because `try(resources)` automatically closes the resources.","body":"The &#39;enc&#39; branch of your code uses a <i>random</i> key not the one from the commandline, so it encrypts with a different key than you decrypt with, which doesn&#39;t work. Move <code>cipher.init(ENCRYPT_MODE,...)</code> AFTER <code>sKeySpec = ... decode(args[1]) ...</code>. You might put it within <code>try(streams)...</code> for symmetry with the &#39;dec&#39; branch, though that isn&#39;t necessary. Then you don&#39;t need <code>key</code> and <code>sr.nextBytes(key)</code> at all. Also you don&#39;t need <code>cipherOut.close()</code> and <code>decyptedStream.close()</code> because <code>try(resources)</code> automatically closes the resources."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692562335,"creation_date":1692561371,"answer_id":76941105,"question_id":76941042,"body_markdown":"You&#39;re generating a random key and using it in the cipher instead of using the supplied key. That will (usually) generate a bad padding exception, as the ciphertext would decrypt to random plaintext, and there is only about a 1/256 chance of getting correct padding (and garbage plaintext).\r\n\r\nChatGPT solved the issue automatically when I asked it to clean up the code:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.nio.file.*;\r\nimport java.security.*;\r\nimport java.util.Base64;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.crypto.*;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\npublic class FileEncryptor {\r\n    private static final Logger LOG = Logger.getLogger(FileEncryptor.class.getSimpleName());\r\n    private static final String ALGORITHM = &quot;AES&quot;;\r\n    private static final String CIPHER = &quot;AES/CBC/PKCS5PADDING&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            String mode = args[0];\r\n            byte[] key = Base64.getDecoder().decode(args[1]);\r\n            SecretKeySpec skeySpec = new SecretKeySpec(key, ALGORITHM);\r\n            Cipher cipher = Cipher.getInstance(CIPHER);\r\n            \r\n            if (mode.equals(&quot;enc&quot;)) {\r\n                encrypt(skeySpec, cipher, args[2], args[3]);\r\n            } else if (mode.equals(&quot;dec&quot;)) {\r\n                decrypt(skeySpec, cipher, args[2], args[3]);\r\n            }\r\n        } catch (Exception e) {\r\n            LOG.log(Level.SEVERE, &quot;Operation failed&quot;, e);\r\n        }\r\n    }\r\n\r\n    private static void encrypt(SecretKeySpec skeySpec, Cipher cipher, String inputFile, String outputFile) throws Exception {\r\n        SecureRandom sr = new SecureRandom();\r\n        byte[] initVector = new byte[16];\r\n        sr.nextBytes(initVector);\r\n        IvParameterSpec iv = new IvParameterSpec(initVector);\r\n        cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n\r\n        try (InputStream fin = FileEncryptor.class.getResourceAsStream(inputFile);\r\n             OutputStream fout = Files.newOutputStream(Paths.get(outputFile));\r\n             CipherOutputStream cipherOut = new CipherOutputStream(fout, cipher)) {\r\n            fout.write(initVector);\r\n            byte[] bytes = new byte[1024];\r\n            for (int length = fin.read(bytes); length != -1; length = fin.read(bytes)) {\r\n                cipherOut.write(bytes, 0, length);\r\n            }\r\n        } catch (IOException e) {\r\n            LOG.log(Level.INFO, &quot;Unable to encrypt&quot;, e);\r\n        }\r\n    }\r\n\r\n    private static void decrypt(SecretKeySpec skeySpec, Cipher cipher, String inputFile, String outputFile) throws Exception {\r\n        try (InputStream encryptedData = Files.newInputStream(Path.of(inputFile));\r\n             OutputStream decryptedOut = Files.newOutputStream(Paths.get(outputFile))) {\r\n            byte[] storedIV = new byte[16];\r\n            int first16bytes = encryptedData.read(storedIV);\r\n            if (first16bytes != storedIV.length) {\r\n                throw new IOException(&quot;Invalid IV length&quot;);\r\n            }\r\n            cipher.init(Cipher.DECRYPT_MODE, skeySpec, new IvParameterSpec(storedIV));\r\n\r\n            CipherInputStream decryptStream = new CipherInputStream(encryptedData, cipher);\r\n            byte[] bytes = new byte[1024];\r\n            for (int length = decryptStream.read(bytes); length != -1; length = decryptStream.read(bytes)) {\r\n                decryptedOut.write(bytes, 0, length);\r\n            }\r\n        } catch (IOException e) {\r\n            LOG.log(Level.SEVERE, &quot;Unable to decrypt&quot;, e);\r\n        }\r\n    }\r\n}\r\n```","title":"BadPaddingException when reading CipherInputStream during decryption","body":"<p>You're generating a random key and using it in the cipher instead of using the supplied key. That will (usually) generate a bad padding exception, as the ciphertext would decrypt to random plaintext, and there is only about a 1/256 chance of getting correct padding (and garbage plaintext).</p>\n<p>ChatGPT solved the issue automatically when I asked it to clean up the code:</p>\n<pre><code>import java.io.*;\nimport java.nio.file.*;\nimport java.security.*;\nimport java.util.Base64;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.crypto.*;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class FileEncryptor {\n    private static final Logger LOG = Logger.getLogger(FileEncryptor.class.getSimpleName());\n    private static final String ALGORITHM = &quot;AES&quot;;\n    private static final String CIPHER = &quot;AES/CBC/PKCS5PADDING&quot;;\n\n    public static void main(String[] args) {\n        try {\n            String mode = args[0];\n            byte[] key = Base64.getDecoder().decode(args[1]);\n            SecretKeySpec skeySpec = new SecretKeySpec(key, ALGORITHM);\n            Cipher cipher = Cipher.getInstance(CIPHER);\n            \n            if (mode.equals(&quot;enc&quot;)) {\n                encrypt(skeySpec, cipher, args[2], args[3]);\n            } else if (mode.equals(&quot;dec&quot;)) {\n                decrypt(skeySpec, cipher, args[2], args[3]);\n            }\n        } catch (Exception e) {\n            LOG.log(Level.SEVERE, &quot;Operation failed&quot;, e);\n        }\n    }\n\n    private static void encrypt(SecretKeySpec skeySpec, Cipher cipher, String inputFile, String outputFile) throws Exception {\n        SecureRandom sr = new SecureRandom();\n        byte[] initVector = new byte[16];\n        sr.nextBytes(initVector);\n        IvParameterSpec iv = new IvParameterSpec(initVector);\n        cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n\n        try (InputStream fin = FileEncryptor.class.getResourceAsStream(inputFile);\n             OutputStream fout = Files.newOutputStream(Paths.get(outputFile));\n             CipherOutputStream cipherOut = new CipherOutputStream(fout, cipher)) {\n            fout.write(initVector);\n            byte[] bytes = new byte[1024];\n            for (int length = fin.read(bytes); length != -1; length = fin.read(bytes)) {\n                cipherOut.write(bytes, 0, length);\n            }\n        } catch (IOException e) {\n            LOG.log(Level.INFO, &quot;Unable to encrypt&quot;, e);\n        }\n    }\n\n    private static void decrypt(SecretKeySpec skeySpec, Cipher cipher, String inputFile, String outputFile) throws Exception {\n        try (InputStream encryptedData = Files.newInputStream(Path.of(inputFile));\n             OutputStream decryptedOut = Files.newOutputStream(Paths.get(outputFile))) {\n            byte[] storedIV = new byte[16];\n            int first16bytes = encryptedData.read(storedIV);\n            if (first16bytes != storedIV.length) {\n                throw new IOException(&quot;Invalid IV length&quot;);\n            }\n            cipher.init(Cipher.DECRYPT_MODE, skeySpec, new IvParameterSpec(storedIV));\n\n            CipherInputStream decryptStream = new CipherInputStream(encryptedData, cipher);\n            byte[] bytes = new byte[1024];\n            for (int length = decryptStream.read(bytes); length != -1; length = decryptStream.read(bytes)) {\n                decryptedOut.write(bytes, 0, length);\n            }\n        } catch (IOException e) {\n            LOG.log(Level.SEVERE, &quot;Unable to decrypt&quot;, e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29263290,"reputation":3,"user_id":22419711,"display_name":"iceyjc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76941105,"answer_count":1,"score":0,"last_activity_date":1692562335,"creation_date":1692560213,"question_id":76941042,"body_markdown":"I&#39;m new to Java cryptography and don&#39;t know why I keep getting BadPaddingException when attempting to decrypt a file that I have successfully encrypted, using the same key and IV for both. I am adding the 16-byte IV to the beginning of the ciphertext file and then attempting to read it during decryption. This and the initialization of the secret key appears to work so I&#39;m unsure where I&#39;ve gone wrong.\r\n\r\nI am using `javac -g FileEncryptor.java Util.java` to compile and `java FileEncryptor enc 90F6seEyxAK9cxblqsKJGQ== input.txt ciphertext.enc` and `java FileEncryptor dec 90F6seEyxAK9cxblqsKJGQ== ciphertext.enc decrypted.txt` for encryption and decryption respectively.\r\n\r\nHelp is appreciated :)\r\n\r\n\r\nI&#39;ve checked that the IV and secret key are 16 bytes, and whether the IV is being prepended (during encryption) and read (during decryption) properly. During debugging, I will always get the exception as soon as I reach the for loop containing `decryptStream.read(bytes)`.\r\n\r\nNote: not all of this code is mine. I&#39;m using this as a learning exercise.\r\n\r\n```\r\npublic class FileEncryptor {\r\n    private static final Logger LOG = Logger.getLogger(FileEncryptor.class.getSimpleName());\r\n\r\n    private static final String ALGORITHM = &quot;AES&quot;;\r\n    private static final String CIPHER = &quot;AES/CBC/PKCS5PADDING&quot;;\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,\r\n            InvalidAlgorithmParameterException, IOException, Exception {\r\n\r\n        SecureRandom sr = new SecureRandom();\r\n        byte[] key = new byte[16];\r\n        sr.nextBytes(key); // 128 bit key\r\n        byte[] initVector = new byte[16];\r\n        sr.nextBytes(initVector);\r\n        String mode = args[0];\r\n        String hexSkey;\r\n\r\n        IvParameterSpec iv = new IvParameterSpec(initVector);\r\n        SecretKeySpec skeySpec = new SecretKeySpec(key, ALGORITHM);\r\n        Cipher cipher = Cipher.getInstance(CIPHER);\r\n        cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n\r\n        final Path currentPath = Paths.get(&quot;&quot;);\r\n\r\n        if (mode.equals(&quot;enc&quot;)) {\r\n\r\n            System.out.println(&quot;initVector=&quot; + Util.bytesToHex(initVector));\r\n\r\n            skeySpec = new SecretKeySpec(Base64.getDecoder().decode(args[1]), ALGORITHM);\r\n\r\n            final Path encryptedPath = currentPath.resolve(args[3]);// idk if this is necessary imo,\r\n\r\n            // args[1] becomes base64 encoded skey\r\n            // args[2] = input.txt\r\n            // args[3] = output encrypted file\r\n            try (InputStream fin = FileEncryptor.class.getResourceAsStream(args[2]);\r\n\r\n                    OutputStream fout = Files.newOutputStream(encryptedPath);\r\n                    CipherOutputStream cipherOut = new CipherOutputStream(fout, cipher) {\r\n                    }) {\r\n                final byte[] bytes = new byte[1024];\r\n                fout.write(initVector);// write the IV to the first 16 bytes of the encrypted file\r\n                for (int length = fin.read(bytes); length != -1; length = fin.read(bytes)) {\r\n                    cipherOut.write(bytes, 0, length);\r\n                }\r\n                cipherOut.close();\r\n            } catch (IOException e) {\r\n                LOG.log(Level.INFO, &quot;Unable to encrypt&quot;, e);\r\n            }\r\n            return;\r\n        } else if (mode.equals(&quot;dec&quot;)) {\r\n            String encodedFile = args[2], decodedFile = args[3];\r\n            skeySpec = new SecretKeySpec(Base64.getDecoder().decode(args[1]), ALGORITHM);\r\n            final Path decryptedPath = currentPath.resolve(decodedFile);\r\n\r\n            try (InputStream encryptedData = Files.newInputStream(Path.of(encodedFile));\r\n                    OutputStream decryptedOut = Files.newOutputStream(decryptedPath)) {\r\n                byte[] storedIV = new byte[16];\r\n                int first16bytes = encryptedData.read(storedIV);\r\n                if (first16bytes != storedIV.length) {\r\n                    // FIXME: edit error here\r\n                }\r\n                cipher.init(Cipher.DECRYPT_MODE, skeySpec, new IvParameterSpec(storedIV));\r\n\r\n                System.out.println(&quot;key check &quot; + storedIV.length);\r\n                final byte[] bytes = new byte[1024];\r\n\r\n                CipherInputStream decryptStream = new CipherInputStream(encryptedData, cipher);\r\n                for (int length = decryptStream.read(bytes); length != -1; length =\r\n                decryptStream.read(bytes)) {\r\n                System.out.println(&quot;reached&quot;);\r\n                decryptedOut.write(bytes, 0, length);\r\n                }\r\n                decryptStream.close();\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(FileEncryptor.class.getName()).log(Level.SEVERE, &quot;Unable to decrypt&quot;, ex);\r\n            }\r\n            LOG.info(&quot;Decryption complete, open &quot; + decryptedPath);\r\n            return;// delete later\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"BadPaddingException when reading CipherInputStream during decryption","body":"<p>I'm new to Java cryptography and don't know why I keep getting BadPaddingException when attempting to decrypt a file that I have successfully encrypted, using the same key and IV for both. I am adding the 16-byte IV to the beginning of the ciphertext file and then attempting to read it during decryption. This and the initialization of the secret key appears to work so I'm unsure where I've gone wrong.</p>\n<p>I am using <code>javac -g FileEncryptor.java Util.java</code> to compile and <code>java FileEncryptor enc 90F6seEyxAK9cxblqsKJGQ== input.txt ciphertext.enc</code> and <code>java FileEncryptor dec 90F6seEyxAK9cxblqsKJGQ== ciphertext.enc decrypted.txt</code> for encryption and decryption respectively.</p>\n<p>Help is appreciated :)</p>\n<p>I've checked that the IV and secret key are 16 bytes, and whether the IV is being prepended (during encryption) and read (during decryption) properly. During debugging, I will always get the exception as soon as I reach the for loop containing <code>decryptStream.read(bytes)</code>.</p>\n<p>Note: not all of this code is mine. I'm using this as a learning exercise.</p>\n<pre><code>public class FileEncryptor {\n    private static final Logger LOG = Logger.getLogger(FileEncryptor.class.getSimpleName());\n\n    private static final String ALGORITHM = &quot;AES&quot;;\n    private static final String CIPHER = &quot;AES/CBC/PKCS5PADDING&quot;;\n\n    public static void main(String[] args) throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,\n            InvalidAlgorithmParameterException, IOException, Exception {\n\n        SecureRandom sr = new SecureRandom();\n        byte[] key = new byte[16];\n        sr.nextBytes(key); // 128 bit key\n        byte[] initVector = new byte[16];\n        sr.nextBytes(initVector);\n        String mode = args[0];\n        String hexSkey;\n\n        IvParameterSpec iv = new IvParameterSpec(initVector);\n        SecretKeySpec skeySpec = new SecretKeySpec(key, ALGORITHM);\n        Cipher cipher = Cipher.getInstance(CIPHER);\n        cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n\n        final Path currentPath = Paths.get(&quot;&quot;);\n\n        if (mode.equals(&quot;enc&quot;)) {\n\n            System.out.println(&quot;initVector=&quot; + Util.bytesToHex(initVector));\n\n            skeySpec = new SecretKeySpec(Base64.getDecoder().decode(args[1]), ALGORITHM);\n\n            final Path encryptedPath = currentPath.resolve(args[3]);// idk if this is necessary imo,\n\n            // args[1] becomes base64 encoded skey\n            // args[2] = input.txt\n            // args[3] = output encrypted file\n            try (InputStream fin = FileEncryptor.class.getResourceAsStream(args[2]);\n\n                    OutputStream fout = Files.newOutputStream(encryptedPath);\n                    CipherOutputStream cipherOut = new CipherOutputStream(fout, cipher) {\n                    }) {\n                final byte[] bytes = new byte[1024];\n                fout.write(initVector);// write the IV to the first 16 bytes of the encrypted file\n                for (int length = fin.read(bytes); length != -1; length = fin.read(bytes)) {\n                    cipherOut.write(bytes, 0, length);\n                }\n                cipherOut.close();\n            } catch (IOException e) {\n                LOG.log(Level.INFO, &quot;Unable to encrypt&quot;, e);\n            }\n            return;\n        } else if (mode.equals(&quot;dec&quot;)) {\n            String encodedFile = args[2], decodedFile = args[3];\n            skeySpec = new SecretKeySpec(Base64.getDecoder().decode(args[1]), ALGORITHM);\n            final Path decryptedPath = currentPath.resolve(decodedFile);\n\n            try (InputStream encryptedData = Files.newInputStream(Path.of(encodedFile));\n                    OutputStream decryptedOut = Files.newOutputStream(decryptedPath)) {\n                byte[] storedIV = new byte[16];\n                int first16bytes = encryptedData.read(storedIV);\n                if (first16bytes != storedIV.length) {\n                    // FIXME: edit error here\n                }\n                cipher.init(Cipher.DECRYPT_MODE, skeySpec, new IvParameterSpec(storedIV));\n\n                System.out.println(&quot;key check &quot; + storedIV.length);\n                final byte[] bytes = new byte[1024];\n\n                CipherInputStream decryptStream = new CipherInputStream(encryptedData, cipher);\n                for (int length = decryptStream.read(bytes); length != -1; length =\n                decryptStream.read(bytes)) {\n                System.out.println(&quot;reached&quot;);\n                decryptedOut.write(bytes, 0, length);\n                }\n                decryptStream.close();\n            } catch (IOException ex) {\n                Logger.getLogger(FileEncryptor.class.getName()).log(Level.SEVERE, &quot;Unable to decrypt&quot;, ex);\n            }\n            LOG.info(&quot;Decryption complete, open &quot; + decryptedPath);\n            return;// delete later\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","websocket","guice","tomcat8","jsr356"],"comments":[{"owner":{"account_id":235528,"reputation":12642,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":0,"creation_date":1418758892,"post_id":27499800,"comment_id":43455368,"body_markdown":"&quot;the dependency injection isn&#39;t working&quot; ... can you describe that in more detail?","body":"&quot;the dependency injection isn&#39;t working&quot; ... can you describe that in more detail?"},{"owner":{"account_id":1124392,"reputation":1234,"user_id":1112013,"accept_rate":50,"display_name":"Aritra"},"score":0,"creation_date":1418765352,"post_id":27499800,"comment_id":43458798,"body_markdown":"I get an instantiation exception when I try to do a constructor injection using @Inject inside the SeverEndpoint.","body":"I get an instantiation exception when I try to do a constructor injection using @Inject inside the SeverEndpoint."}],"answers":[{"comments":[{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1692535735,"post_id":28031697,"comment_id":135633934,"body_markdown":"it is much safer to use field/setter injections and do `super.getEndpointInstance(endpointClass)` and then `injector.injectMembers(endpointInstance)`. That&#39;s because `super` may return some container-specific decorator wrapping the newly created instance of `endpointClass`. Furthermore the spec requires Endpoint classes to have a paramless constructor, so some containers may refuse to deploy the above `SampleEndpoint` at all... \n...and of course storing anything on static vars is just asking for trouble in sooo many ways ;-]","body":"it is much safer to use field/setter injections and do <code>super.getEndpointInstance(endpointClass)</code> and then <code>injector.injectMembers(endpointInstance)</code>. That&#39;s because <code>super</code> may return some container-specific decorator wrapping the newly created instance of <code>endpointClass</code>. Furthermore the spec requires Endpoint classes to have a paramless constructor, so some containers may refuse to deploy the above <code>SampleEndpoint</code> at all...  ...and of course storing anything on static vars is just asking for trouble in sooo many ways ;-]"}],"tags":[],"owner":{"account_id":1124392,"reputation":1234,"user_id":1112013,"accept_rate":50,"display_name":"Aritra"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1421693943,"creation_date":1421693943,"answer_id":28031697,"question_id":27499800,"body_markdown":"I figured this out. The Websocket endpoint needs to have a custom configurator, which creates and returns instances using the Guice injector instance.\r\n\r\nExample:\r\n\r\nCustom Guice servlet context listener:\r\n\r\n    public class CustomServletContextListener extends GuiceServletContextListener { \r\n        public static Injector injector;\r\n\r\n        @Override\r\n        protected Injector getInjector() {\r\n            injector = Guice.createInjector(...);\r\n            return injector;\r\n        }\r\n    }\r\n\r\nWebsockets custom configurator:\r\n\r\n    public class CustomConfigurator extends Configurator {\r\n      @Override\r\n      public &lt;T&gt; T getEndpointInstance(Class&lt;T&gt; clazz)\r\n            throws InstantiationException {\r\n        return CustomServletContextListener.injector.getInstance(clazz);\r\n      }\r\n    }\r\n\r\nAnd then in the Websocket endpoint:\r\n\r\n    @ServerEndpoint(value = &quot;/ws/sample_endpoint&quot;, configurator = CustomConfigurator.class)\r\n    public class SampleEndpoint {\r\n      private final SomeService service;\r\n      \r\n      @Inject\r\n      public SampleEndpoint(SomeService service) {\r\n        this.service = service;\r\n      }\r\n      ...\r\n    }\r\n","title":"Tomcat8 WebSockets (JSR-356) with Guice 3.0","body":"<p>I figured this out. The Websocket endpoint needs to have a custom configurator, which creates and returns instances using the Guice injector instance.</p>\n\n<p>Example:</p>\n\n<p>Custom Guice servlet context listener:</p>\n\n<pre><code>public class CustomServletContextListener extends GuiceServletContextListener { \n    public static Injector injector;\n\n    @Override\n    protected Injector getInjector() {\n        injector = Guice.createInjector(...);\n        return injector;\n    }\n}\n</code></pre>\n\n<p>Websockets custom configurator:</p>\n\n<pre><code>public class CustomConfigurator extends Configurator {\n  @Override\n  public &lt;T&gt; T getEndpointInstance(Class&lt;T&gt; clazz)\n        throws InstantiationException {\n    return CustomServletContextListener.injector.getInstance(clazz);\n  }\n}\n</code></pre>\n\n<p>And then in the Websocket endpoint:</p>\n\n<pre><code>@ServerEndpoint(value = \"/ws/sample_endpoint\", configurator = CustomConfigurator.class)\npublic class SampleEndpoint {\n  private final SomeService service;\n\n  @Inject\n  public SampleEndpoint(SomeService service) {\n    this.service = service;\n  }\n  ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1692535863,"post_id":32053412,"comment_id":135633949,"body_markdown":"this answer has exactly the same issues as described in https://stackoverflow.com/questions/27499800/tomcat8-websockets-jsr-356-with-guice-3-0#comment135633934_28031697","body":"this answer has exactly the same issues as described in <a href=\"https://stackoverflow.com/questions/27499800/tomcat8-websockets-jsr-356-with-guice-3-0#comment135633934_28031697\" title=\"tomcat8 websockets jsr 356 with guice 3 0%23comment135633934_28031697\">stackoverflow.com/questions/27499800/&hellip;</a>"}],"tags":[],"owner":{"account_id":169236,"reputation":477,"user_id":395200,"accept_rate":60,"display_name":"StanB123"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1439823262,"creation_date":1439822897,"answer_id":32053412,"question_id":27499800,"body_markdown":"Building upon Aritra&#39;s own answer:\r\n\r\nTo be honest, I don&#39;t know for sure if this works with Guice 3.0, but it does work for 4.0, which is the current stable release.\r\n\r\nI think a somewhat cleaner approach is to change your CustomConfigurator into something like this:\r\n\r\n    public class CustomConfigurator extends Configurator {\r\n\t    @Inject\r\n    \tprivate static Injector injector;\r\n\t\r\n\t    public &lt;T&gt; T getEndpointInstance(Class&lt;T&gt; endpointClass) {\r\n\t\t    return injector.getInstance(endpointClass);\r\n    \t}\r\n    }\r\n\r\nAnd then from your extended `ServletModule` class&#39; `configureServlets` method, call `requestStaticInjection(CustomConfigurator.class)`\r\n\r\nThat way you won&#39;t expose the injector to everyone. I don&#39;t know about you, but it gives me a nice and fuzzy feeling inside to know that no one will be able to mess with my injector :-).","title":"Tomcat8 WebSockets (JSR-356) with Guice 3.0","body":"<p>Building upon Aritra's own answer:</p>\n\n<p>To be honest, I don't know for sure if this works with Guice 3.0, but it does work for 4.0, which is the current stable release.</p>\n\n<p>I think a somewhat cleaner approach is to change your CustomConfigurator into something like this:</p>\n\n<pre><code>public class CustomConfigurator extends Configurator {\n    @Inject\n    private static Injector injector;\n\n    public &lt;T&gt; T getEndpointInstance(Class&lt;T&gt; endpointClass) {\n        return injector.getInstance(endpointClass);\n    }\n}\n</code></pre>\n\n<p>And then from your extended <code>ServletModule</code> class' <code>configureServlets</code> method, call <code>requestStaticInjection(CustomConfigurator.class)</code></p>\n\n<p>That way you won't expose the injector to everyone. I don't know about you, but it gives me a nice and fuzzy feeling inside to know that no one will be able to mess with my injector :-).</p>\n"},{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692561673,"creation_date":1692537055,"answer_id":76939537,"question_id":27499800,"body_markdown":"First, using annotations to do any &quot;magic&quot; behind the scene is a bad idea in general: it&#39;s much better to deploy `Endpoints` programmatically in `ServletContextListener.contextInitialized(event)` with `ServerContainer.addEndpoint(config)`, so that you have the full control and **can avoid storing injector on static vars**.\r\n\r\nNow regarding the injection, the solution is to define your custom `ServerEndpointConfig.Configurator` as stated in other answers already, however it is much safer to use field/setter injections in `Endpoint` classes and call `super.getEndpointInstance(endpointClass)` followed by `injector.injectMembers(endpointInstance)`. That&#39;s because `super` (default `Configurator` impl of the given container) may return instances of container-specific dynamic subclasses or decorators wrapping the newly created instance of `endpointClass`. Furthermore, the spec requires `Endpoint` classes to have a paramless constructor, so some containers may refuse to deploy `Endpoint` classes that use constructor params for injections.\r\n```java\r\npublic class MyConfigurator extends ServerEndpointConfig.Configurator {\r\n\r\n\tpublic &lt;EndpointT&gt; EndpointT getEndpointInstance(Class&lt;EndpointT&gt; endpointClass)\r\n\t\t\tthrows InstantiationException {\r\n\t\tEndpointT endpointInstance = super.getEndpointInstance(endpointClass);\r\n\t\tinjector.injectMembers(endpointInstance);\r\n\t\treturn endpointInstance;\r\n\t}\r\n}\r\n```\r\nNow a `SevletContextListener` that adds `Endpoints` programmatically:\r\n```java\r\npublic class MyServletCtxListener implements SevletContextListener {\r\n\r\n\tServerEndpointConfig.Configurator endpointConfigurator;\r\n\tServerContainer endpointContainer;\r\n\r\n\tvoid addEndpoint(Class&lt;?&gt; endpointClass, String path) throws DeploymentException {\r\n\t\tendpointContainer.addEndpoint(\r\n\t\t\tServerEndpointConfig.Builder\r\n\t\t\t\t.create(endpointClass, path)\r\n\t\t\t\t.configurator(endpointConfigurator)\r\n\t\t\t\t.build()\r\n\t\t);\r\n\t}\r\n\r\n\tpublic void contextInitialized(ServletContextEvent initialization) {\r\n\t\tfinal var ctx = initialization.getServletContext();\r\n\t\tendpointContainer = (ServerContainer)\r\n\t\t\t\tctx.getAttribute(&quot;javax.websocket.server.ServerContainer&quot;);\r\n\t\tfinal var injector = Guice.createInjector(\r\n\t\t\t// put modules here...\r\n\t\t);\r\n\t\tendpointConfigurator = new MyConfigurator(injector); // NO STATIC :)\r\n\r\n\t\ttry {\r\n\t\t\taddEndpoint(MyEndpoint.class, &quot;/websocket/my&quot;);\r\n\t\t\taddEndpoint(MyOtherEndpoint.class, &quot;/websocket/myOther&quot;);\r\n\t\t\taddEndpoint(MyYetAnotherEndpoint.class, &quot;/websocket/myYetAnother&quot;);\r\n\t\t\t// ...\r\n\t\t} catch (DeploymentException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.exit(1);  // fail fast\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nNote that if you go for programmatic adding, your `Endpoint` classes should be extending `javax.websocket.Endpoint` / `jakarta.websocket.Endpoint` according to the spec (although AFAIR Tomcat specifically used to be relaxed regarding this requirement).\r\n\r\nSome related self-promotion: for anyone combining guice with websockets, you may find useful my lib that provides custom `Scopes` for ws `Endpoints`: https://github.com/morgwai/servlet-scopes","title":"Tomcat8 WebSockets (JSR-356) with Guice 3.0","body":"<p>First, using annotations to do any &quot;magic&quot; behind the scene is a bad idea in general: it's much better to deploy <code>Endpoints</code> programmatically in <code>ServletContextListener.contextInitialized(event)</code> with <code>ServerContainer.addEndpoint(config)</code>, so that you have the full control and <strong>can avoid storing injector on static vars</strong>.</p>\n<p>Now regarding the injection, the solution is to define your custom <code>ServerEndpointConfig.Configurator</code> as stated in other answers already, however it is much safer to use field/setter injections in <code>Endpoint</code> classes and call <code>super.getEndpointInstance(endpointClass)</code> followed by <code>injector.injectMembers(endpointInstance)</code>. That's because <code>super</code> (default <code>Configurator</code> impl of the given container) may return instances of container-specific dynamic subclasses or decorators wrapping the newly created instance of <code>endpointClass</code>. Furthermore, the spec requires <code>Endpoint</code> classes to have a paramless constructor, so some containers may refuse to deploy <code>Endpoint</code> classes that use constructor params for injections.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyConfigurator extends ServerEndpointConfig.Configurator {\n\n    public &lt;EndpointT&gt; EndpointT getEndpointInstance(Class&lt;EndpointT&gt; endpointClass)\n            throws InstantiationException {\n        EndpointT endpointInstance = super.getEndpointInstance(endpointClass);\n        injector.injectMembers(endpointInstance);\n        return endpointInstance;\n    }\n}\n</code></pre>\n<p>Now a <code>SevletContextListener</code> that adds <code>Endpoints</code> programmatically:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyServletCtxListener implements SevletContextListener {\n\n    ServerEndpointConfig.Configurator endpointConfigurator;\n    ServerContainer endpointContainer;\n\n    void addEndpoint(Class&lt;?&gt; endpointClass, String path) throws DeploymentException {\n        endpointContainer.addEndpoint(\n            ServerEndpointConfig.Builder\n                .create(endpointClass, path)\n                .configurator(endpointConfigurator)\n                .build()\n        );\n    }\n\n    public void contextInitialized(ServletContextEvent initialization) {\n        final var ctx = initialization.getServletContext();\n        endpointContainer = (ServerContainer)\n                ctx.getAttribute(&quot;javax.websocket.server.ServerContainer&quot;);\n        final var injector = Guice.createInjector(\n            // put modules here...\n        );\n        endpointConfigurator = new MyConfigurator(injector); // NO STATIC :)\n\n        try {\n            addEndpoint(MyEndpoint.class, &quot;/websocket/my&quot;);\n            addEndpoint(MyOtherEndpoint.class, &quot;/websocket/myOther&quot;);\n            addEndpoint(MyYetAnotherEndpoint.class, &quot;/websocket/myYetAnother&quot;);\n            // ...\n        } catch (DeploymentException e) {\n            e.printStackTrace();\n            System.exit(1);  // fail fast\n        }\n    }\n}\n</code></pre>\n<p>Note that if you go for programmatic adding, your <code>Endpoint</code> classes should be extending <code>javax.websocket.Endpoint</code> / <code>jakarta.websocket.Endpoint</code> according to the spec (although AFAIR Tomcat specifically used to be relaxed regarding this requirement).</p>\n<p>Some related self-promotion: for anyone combining guice with websockets, you may find useful my lib that provides custom <code>Scopes</code> for ws <code>Endpoints</code>: <a href=\"https://github.com/morgwai/servlet-scopes\" rel=\"nofollow noreferrer\">https://github.com/morgwai/servlet-scopes</a></p>\n"}],"owner":{"account_id":1124392,"reputation":1234,"user_id":1112013,"accept_rate":50,"display_name":"Aritra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1630,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1692561673,"creation_date":1418715830,"question_id":27499800,"body_markdown":"I am trying to @Inject a Guice service into a @ServerEndpoint. I am using Tomcat 8.0.15 as the JSR-356 implementation. However, the dependency injection isn&#39;t working. Is there any additional configuration that needs to be done in order to enable Guice injection? Note that I am using all standard javax annotations only. ","title":"Tomcat8 WebSockets (JSR-356) with Guice 3.0","body":"<p>I am trying to @Inject a Guice service into a @ServerEndpoint. I am using Tomcat 8.0.15 as the JSR-356 implementation. However, the dependency injection isn't working. Is there any additional configuration that needs to be done in order to enable Guice injection? Note that I am using all standard javax annotations only. </p>\n"},{"tags":["java","android","sharedpreferences"],"answers":[{"comments":[{"owner":{"account_id":27741738,"reputation":21,"user_id":21178076,"display_name":"Dhananjay Singh"},"score":0,"creation_date":1692554907,"post_id":76888141,"comment_id":135636179,"body_markdown":"still not working","body":"still not working"},{"owner":{"account_id":11679511,"reputation":1329,"user_id":8551764,"display_name":"Mostafa Arian Nejad"},"score":0,"creation_date":1692561648,"post_id":76888141,"comment_id":135636798,"body_markdown":"@DhananjaySingh Please check the updated answer, this method has worked for me.","body":"@DhananjaySingh Please check the updated answer, this method has worked for me."}],"tags":[],"owner":{"account_id":11679511,"reputation":1329,"user_id":8551764,"display_name":"Mostafa Arian Nejad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692561588,"creation_date":1691823846,"answer_id":76888141,"question_id":76887743,"body_markdown":"Try `.setLocale(Settings.this,&quot;en&quot;);` instead of `.setLocale(Settings.this,&quot;eng&quot;);`.\r\n\r\nThe language code might be causing the issue, for language code reference refer to this [link][1].\r\n\r\nUpdate\r\n-------\r\nThis method worked for me. Implement your `setLocale` strategy in your `BaseActivity`. Also create a `LanguageHelper` class.\r\n\r\n    open class BaseActivity : AppCompatActivity() {\r\n    \r\n        override fun attachBaseContext(base: Context?) {\r\n            super.attachBaseContext(LanguageHelper(base!!).changeBaseContextLocale())\r\n        }\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            LanguageHelper(this).updateLocaleForLegacy()\r\n        }\r\n    }\r\n\r\n\r\nLanguageHelper class:\r\n\r\n    class LanguageHelper(val context: Context) {\r\n    \r\n        private fun getSelectedLocaleFromSharedPref(): String {\r\n            ...\r\n        }\r\n    \r\n        fun changeBaseContextLocale(): Context? {\r\n            val locale = Locale(getSelectedLocaleFromSharedPref())\r\n            Locale.setDefault(locale)\r\n            return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                updateLocale()\r\n            } else context\r\n        }\r\n    \r\n        // update the locale for API 24 and above.\r\n        private fun updateLocale(): Context {\r\n            val configuration = Configuration(context.resources.configuration)\r\n            configuration.setLocale(Locale(getSelectedLocaleFromSharedPref()));\r\n            return context.createConfigurationContext(configuration);\r\n        }\r\n    \r\n    \r\n        // update the locale for API 23 and below.\r\n        fun updateLocaleForLegacy(): Context? {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) return context\r\n    \r\n            val resources: Resources = context.resources\r\n            val configuration: Configuration = resources.getConfiguration()\r\n            configuration.setLocale(Locale(getSelectedLocaleFromSharedPref()))\r\n            resources.updateConfiguration(configuration, resources.getDisplayMetrics())\r\n            return context\r\n        }\r\n    }\r\n\r\nIn the settings, only store the selected language locale (for example: &quot;en&quot;) in the shared preferences and then restart the app, then the language will change.\r\n\r\n  [1]: https://stackoverflow.com/q/7973023/8551764\r\n\r\n","title":"Language not changing back to English from Hindi","body":"<p>Try <code>.setLocale(Settings.this,&quot;en&quot;);</code> instead of <code>.setLocale(Settings.this,&quot;eng&quot;);</code>.</p>\n<p>The language code might be causing the issue, for language code reference refer to this <a href=\"https://stackoverflow.com/q/7973023/8551764\">link</a>.</p>\n<h2>Update</h2>\n<p>This method worked for me. Implement your <code>setLocale</code> strategy in your <code>BaseActivity</code>. Also create a <code>LanguageHelper</code> class.</p>\n<pre><code>open class BaseActivity : AppCompatActivity() {\n\n    override fun attachBaseContext(base: Context?) {\n        super.attachBaseContext(LanguageHelper(base!!).changeBaseContextLocale())\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        LanguageHelper(this).updateLocaleForLegacy()\n    }\n}\n</code></pre>\n<p>LanguageHelper class:</p>\n<pre><code>class LanguageHelper(val context: Context) {\n\n    private fun getSelectedLocaleFromSharedPref(): String {\n        ...\n    }\n\n    fun changeBaseContextLocale(): Context? {\n        val locale = Locale(getSelectedLocaleFromSharedPref())\n        Locale.setDefault(locale)\n        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            updateLocale()\n        } else context\n    }\n\n    // update the locale for API 24 and above.\n    private fun updateLocale(): Context {\n        val configuration = Configuration(context.resources.configuration)\n        configuration.setLocale(Locale(getSelectedLocaleFromSharedPref()));\n        return context.createConfigurationContext(configuration);\n    }\n\n\n    // update the locale for API 23 and below.\n    fun updateLocaleForLegacy(): Context? {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) return context\n\n        val resources: Resources = context.resources\n        val configuration: Configuration = resources.getConfiguration()\n        configuration.setLocale(Locale(getSelectedLocaleFromSharedPref()))\n        resources.updateConfiguration(configuration, resources.getDisplayMetrics())\n        return context\n    }\n}\n</code></pre>\n<p>In the settings, only store the selected language locale (for example: &quot;en&quot;) in the shared preferences and then restart the app, then the language will change.</p>\n"}],"owner":{"account_id":27741738,"reputation":21,"user_id":21178076,"display_name":"Dhananjay Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692561588,"creation_date":1691814998,"question_id":76887743,"body_markdown":"My code is running well and is changing language from English to Hindi but when we again click on it it won&#39;t change back to english language\r\n\r\n\r\n```\r\n       SharedPreferences sharedPreferences = getSharedPreferences(&quot;Language&quot;,MODE_PRIVATE);\r\n        SharedPreferences.Editor editor1 = sharedPreferences.edit();\r\n\r\n\r\n        language.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (sharedPreferences.getString(&quot;lang&quot;,&quot;eng&quot;).equals(&quot;eng&quot;)){\r\n                    Toast.makeText(Settings.this, &quot;Changing Language to Hindi&quot;, Toast.LENGTH_SHORT).show();\r\n                    context = LocaleHelper.setLocale(Settings.this,&quot;hi&quot;);\r\n                    resources = context.getResources();\r\n                    editor1.putString(&quot;lang&quot;,&quot;hi&quot;);\r\n                    editor1.apply();\r\n                    startActivity(new Intent(Settings.this,Settings.class));\r\n                }\r\n                else {\r\n                    Toast.makeText(Settings.this, &quot;Changing Language to English&quot;, Toast.LENGTH_SHORT).show();\r\n                    context = LocaleHelper.setLocale(Settings.this,&quot;eng&quot;);\r\n                    resources = context.getResources();\r\n                    editor1.putString(&quot;lang&quot;,&quot;eng&quot;);\r\n                    editor1.apply();\r\n                    startActivity(new Intent(Settings.this,Settings.class));\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nI am getting the Toast message correctly When clicking on language it is showing changing language to Hindi , when we click again, it shows changing language to English but the language is changing \r\n\r\nI am not sure what to do ","title":"Language not changing back to English from Hindi","body":"<p>My code is running well and is changing language from English to Hindi but when we again click on it it won't change back to english language</p>\n<pre><code>       SharedPreferences sharedPreferences = getSharedPreferences(&quot;Language&quot;,MODE_PRIVATE);\n        SharedPreferences.Editor editor1 = sharedPreferences.edit();\n\n\n        language.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (sharedPreferences.getString(&quot;lang&quot;,&quot;eng&quot;).equals(&quot;eng&quot;)){\n                    Toast.makeText(Settings.this, &quot;Changing Language to Hindi&quot;, Toast.LENGTH_SHORT).show();\n                    context = LocaleHelper.setLocale(Settings.this,&quot;hi&quot;);\n                    resources = context.getResources();\n                    editor1.putString(&quot;lang&quot;,&quot;hi&quot;);\n                    editor1.apply();\n                    startActivity(new Intent(Settings.this,Settings.class));\n                }\n                else {\n                    Toast.makeText(Settings.this, &quot;Changing Language to English&quot;, Toast.LENGTH_SHORT).show();\n                    context = LocaleHelper.setLocale(Settings.this,&quot;eng&quot;);\n                    resources = context.getResources();\n                    editor1.putString(&quot;lang&quot;,&quot;eng&quot;);\n                    editor1.apply();\n                    startActivity(new Intent(Settings.this,Settings.class));\n                }\n            }\n        });\n</code></pre>\n<p>I am getting the Toast message correctly When clicking on language it is showing changing language to Hindi , when we click again, it shows changing language to English but the language is changing</p>\n<p>I am not sure what to do</p>\n"},{"tags":["java","spring-boot","cloud-foundry","buildpack"],"answers":[{"tags":[],"owner":{"account_id":18065627,"reputation":33,"user_id":14643406,"display_name":"Puck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692561473,"creation_date":1690549155,"answer_id":76788042,"question_id":76777742,"body_markdown":"After [some consultation with the maintainers of the java-buildpack][1], I&#39;ve found a solution.\r\n\r\nThe problem is that the java-buildpack expects either a JAR or a folder with the contents of the exploded JAR. That means supplying a folder with the `apt.yml` and the JAR won&#39;t work.\r\n\r\nI&#39;ve solved this with a simple bash script that moves the `apt.yml` and JAR into a folder and then explodes the jar. This folder can then be pushed with `cf push`.\r\n\r\nThe bash script looks like this(fast and ugly):\r\n```sh\r\nrm -rf &quot;$1/target/app&quot;\r\nmkdir &quot;$1/target/app&quot;\r\ncp $1/apt.yml $1/target/app/apt.yml\r\ncp $1/target/my-spring-boot-app.jar $1/target/app/my-spring-boot-app.jar\r\n\r\ncd $1/target/app\r\njar xfmy-spring-boot-app.jar\r\n```\r\nand gets called by a Maven plugin after the build process:\r\n```xml\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;Create /app directory&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;exec&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;executable&gt;/bin/bash&lt;/executable&gt;\r\n                            &lt;arguments&gt;\r\n                                &lt;argument&gt;${basedir}/scripts/create-app-directory.sh&lt;/argument&gt;\r\n                                &lt;argument&gt;${basedir}&lt;/argument&gt;\r\n                            &lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n[1]: https://github.com/cloudfoundry/java-buildpack/issues/1023","title":"How to use the java-buildpack together with the apt-buildpack?","body":"<p>After <a href=\"https://github.com/cloudfoundry/java-buildpack/issues/1023\" rel=\"nofollow noreferrer\">some consultation with the maintainers of the java-buildpack</a>, I've found a solution.</p>\n<p>The problem is that the java-buildpack expects either a JAR or a folder with the contents of the exploded JAR. That means supplying a folder with the <code>apt.yml</code> and the JAR won't work.</p>\n<p>I've solved this with a simple bash script that moves the <code>apt.yml</code> and JAR into a folder and then explodes the jar. This folder can then be pushed with <code>cf push</code>.</p>\n<p>The bash script looks like this(fast and ugly):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>rm -rf &quot;$1/target/app&quot;\nmkdir &quot;$1/target/app&quot;\ncp $1/apt.yml $1/target/app/apt.yml\ncp $1/target/my-spring-boot-app.jar $1/target/app/my-spring-boot-app.jar\n\ncd $1/target/app\njar xfmy-spring-boot-app.jar\n</code></pre>\n<p>and gets called by a Maven plugin after the build process:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;Create /app directory&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;executable&gt;/bin/bash&lt;/executable&gt;\n                            &lt;arguments&gt;\n                                &lt;argument&gt;${basedir}/scripts/create-app-directory.sh&lt;/argument&gt;\n                                &lt;argument&gt;${basedir}&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":18065627,"reputation":33,"user_id":14643406,"display_name":"Puck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76788042,"answer_count":1,"score":0,"last_activity_date":1692561473,"creation_date":1690445514,"question_id":76777742,"body_markdown":"**What I am trying to accomplish**  \r\nI&#39;m trying to get a Spring Boot application running on Cloud Foundry, which also need some things that need to be installed with apt.\r\n\r\nTo install said things, I&#39;m using the [apt-buildpack](https://github.com/cloudfoundry/apt-buildpack).\r\n\r\n**What works**  \r\nWhen I push just the JAR for the application everything works as expected:\r\n\r\n```bash\r\ncf push my-spring-boot-app -f manifest.yml -p my-spring-boot-app.jar\r\n```\r\nThe app then gets successfully built and deployed.\r\n\r\n**What doesn&#39;t work**  \r\nWhen I add the apt-buildpack to the manifest, the `apt-buildpack` is then successfully executed but the `java-buildpack` doesn&#39;t seem to find my jar. It throws the following error:\r\n```\r\nERROR Compile failed with exception #&lt;RuntimeError: No container can run this application. Please ensure that you’ve pushed a valid JVM artifact or artifacts using the -p command line argument or path manifest entry. Information about valid JVM artifacts can be found at https://github.com/cloudfoundry/java-buildpack#additional-documentation. &gt;\r\nNo container can run this application. Please ensure that you’ve pushed a valid JVM artifact or artifacts using the -p command line argument or path manifest entry. Information about valid JVM artifacts can be found at https://github.com/cloudfoundry/java-buildpack#additional-documentation. \r\nFailed to compile droplet\r\n```\r\n\r\nMy `manifest.yml` (which defines the buildpacks and the artifact(s) to upload) looks something like this:\r\n```\r\ncaasp_version: 4\r\napplications:\r\n  - name: my-spring-boot-app\r\n    path: ./target/app #Directory which includes the apt.yml and my-spring-boot-app.jar\r\n    instances: 1\r\n    memory: 2GB\r\n    disk_quota: 2GB\r\n    stack: cflinuxfs3\r\n    buildpacks:\r\n      - apt_buildpack\r\n      - java_buildpack\r\n```\r\n\r\n**What I&#39;ve already tried**  \r\n- I&#39;ve already confirmed that the JAR, aswell as the `apt.yml`, are indeed uploaded into the container.\r\n- Renamed my JAR to `aaa.jar` to ensure it is placed before the `apt.yml` file.\r\n- Enabled debugging for the `java_buildpack`, which I did not help me.\r\n\r\n\r\n**My question**  \r\nHow can I build/deploy my Spring Boot application while also using the apt-buildpack?\r\n\r\nThanks in advance for any answers :)","title":"How to use the java-buildpack together with the apt-buildpack?","body":"<p><strong>What I am trying to accomplish</strong><br />\nI'm trying to get a Spring Boot application running on Cloud Foundry, which also need some things that need to be installed with apt.</p>\n<p>To install said things, I'm using the <a href=\"https://github.com/cloudfoundry/apt-buildpack\" rel=\"nofollow noreferrer\">apt-buildpack</a>.</p>\n<p><strong>What works</strong><br />\nWhen I push just the JAR for the application everything works as expected:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>cf push my-spring-boot-app -f manifest.yml -p my-spring-boot-app.jar\n</code></pre>\n<p>The app then gets successfully built and deployed.</p>\n<p><strong>What doesn't work</strong><br />\nWhen I add the apt-buildpack to the manifest, the <code>apt-buildpack</code> is then successfully executed but the <code>java-buildpack</code> doesn't seem to find my jar. It throws the following error:</p>\n<pre><code>ERROR Compile failed with exception #&lt;RuntimeError: No container can run this application. Please ensure that you’ve pushed a valid JVM artifact or artifacts using the -p command line argument or path manifest entry. Information about valid JVM artifacts can be found at https://github.com/cloudfoundry/java-buildpack#additional-documentation. &gt;\nNo container can run this application. Please ensure that you’ve pushed a valid JVM artifact or artifacts using the -p command line argument or path manifest entry. Information about valid JVM artifacts can be found at https://github.com/cloudfoundry/java-buildpack#additional-documentation. \nFailed to compile droplet\n</code></pre>\n<p>My <code>manifest.yml</code> (which defines the buildpacks and the artifact(s) to upload) looks something like this:</p>\n<pre><code>caasp_version: 4\napplications:\n  - name: my-spring-boot-app\n    path: ./target/app #Directory which includes the apt.yml and my-spring-boot-app.jar\n    instances: 1\n    memory: 2GB\n    disk_quota: 2GB\n    stack: cflinuxfs3\n    buildpacks:\n      - apt_buildpack\n      - java_buildpack\n</code></pre>\n<p><strong>What I've already tried</strong></p>\n<ul>\n<li>I've already confirmed that the JAR, aswell as the <code>apt.yml</code>, are indeed uploaded into the container.</li>\n<li>Renamed my JAR to <code>aaa.jar</code> to ensure it is placed before the <code>apt.yml</code> file.</li>\n<li>Enabled debugging for the <code>java_buildpack</code>, which I did not help me.</li>\n</ul>\n<p><strong>My question</strong><br />\nHow can I build/deploy my Spring Boot application while also using the apt-buildpack?</p>\n<p>Thanks in advance for any answers :)</p>\n"},{"tags":["java","arrays","json","spring"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679364227,"creation_date":1679363694,"answer_id":75796751,"question_id":75795729,"body_markdown":"Tried to replicate your question, \r\nthe issue may be with the structure of your `OpenCurrencyCurrencyDto`,\r\n\r\nRedefine `rates` in `OpenCurrencyCurrencyDto` to type `List&lt;OpenCurrencyRatesDto&gt;`:\r\n```\r\npublic class OpenCurrencyCurrencyDto {\r\n    private List&lt;OpenCurrencyRatesDto&gt; rates;\r\n}\r\n```\r\n\r\nYou would need to update your `currencyDto` *(which may need to  be capitalised btw)*, as the response from the external API returns a list of rates, which means you should either\r\n\r\n1. choose which `mid` you are setting to your `currencyDto`\r\n2. set list of `mid` in your `currencyDto`\r\n\r\nHope it helps.","title":"Get value from array in JSON from an external api","body":"<p>Tried to replicate your question,\nthe issue may be with the structure of your <code>OpenCurrencyCurrencyDto</code>,</p>\n<p>Redefine <code>rates</code> in <code>OpenCurrencyCurrencyDto</code> to type <code>List&lt;OpenCurrencyRatesDto&gt;</code>:</p>\n<pre><code>public class OpenCurrencyCurrencyDto {\n    private List&lt;OpenCurrencyRatesDto&gt; rates;\n}\n</code></pre>\n<p>You would need to update your <code>currencyDto</code> <em>(which may need to  be capitalised btw)</em>, as the response from the external API returns a list of rates, which means you should either</p>\n<ol>\n<li>choose which <code>mid</code> you are setting to your <code>currencyDto</code></li>\n<li>set list of <code>mid</code> in your <code>currencyDto</code></li>\n</ol>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":24002837,"reputation":1,"user_id":17987455,"display_name":"arturu007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692560252,"creation_date":1679349799,"question_id":75795729,"body_markdown":"After being introduced to Spring, I decided that I would create my currency calculator from an external API. I encountered a problem retrieving data from an array. I don&#39;t know how to retrieve the &quot;mid&quot; data from *OpenCurrencyRatesDto.java*. I am using IntelliJ with Gradle. Please understand and thank you in advance for your help.\r\n\r\n\r\n**CurrencyClient.java**\r\n```\r\npackage com.arturu.currencycalculator1.client.currency;\r\n\r\nimport com.arturu.currencycalculator1.model.currencyDTO;\r\nimport com.arturu.currencycalculator1.webclient.currency.dto.OpenCurrencyCurrencyDto;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.client.RestTemplate;\r\n@Component\r\npublic class CurrencyClient {\r\n\r\n\r\n    private static final String NBP_PL = &quot;http://api.nbp.pl&quot;;\r\n    private RestTemplate restTemplate = new RestTemplate();\r\n\r\n    public currencyDTO getCurrencyValue(String symbol) {\r\n        OpenCurrencyCurrencyDto openCurrencyCurrencyDto = callGetMethod(&quot;/api/exchangerates/rates/a/{symbol}/?format=json&quot;,\r\n                OpenCurrencyCurrencyDto.class,\r\n                symbol);\r\n        return currencyDTO.builder()\r\n                .mid(openCurrencyCurrencyDto.getRates().getMid())\r\n                .build();\r\n\r\n    }\r\n\r\n    private &lt;T&gt; T callGetMethod(String url, Class&lt;T&gt; responseType, Object...objects) {\r\n        return restTemplate.getForObject(NBP_PL + url,\r\n                responseType, objects);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**OpenCurrencyCurrencyDto.java**\r\n```\r\npackage com.arturu.currencycalculator1.webclient.currency.dto;\r\n\r\nimport lombok.Getter;\r\n\r\n@Getter\r\npublic class OpenCurrencyCurrencyDto {\r\n    private OpenCurrencyRatesDto rates;\r\n}\r\n```\r\n\r\n**OpenCurrencyRatesDto.java**\r\n\r\n```\r\npackage com.arturu.currencycalculator1.webclient.currency.dto;\r\n\r\nimport lombok.Getter;\r\n\r\n@Getter\r\n\r\npublic class OpenCurrencyRatesDto {\r\n    private double mid;\r\n\r\n}\r\n```\r\n**API**\r\n\r\n![enter image description here](https://i.stack.imgur.com/0QNI6.png)\r\n\r\n\r\n\r\n\r\n**Error**\r\n\r\n![enter image description here](https://i.stack.imgur.com/poWKU.png)\r\n\r\n\r\n&gt; ERROR 16640 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/]. \r\n [dispatcherServlet]    : Servlet.service() for servlet  \r\n [dispatcherServlet] in context with path [] threw exception [Request processing failed:  \r\n org.springframework.web.client.RestClientException: Error while extracting response for type [class com.arturu.currencycalculator1.webclient.currency.dto.OpenCurrencyCurrencyDto] and content type [application/json;charset=utf-8]] with root cause\r\n","title":"Get value from array in JSON from an external api","body":"<p>After being introduced to Spring, I decided that I would create my currency calculator from an external API. I encountered a problem retrieving data from an array. I don't know how to retrieve the &quot;mid&quot; data from <em>OpenCurrencyRatesDto.java</em>. I am using IntelliJ with Gradle. Please understand and thank you in advance for your help.</p>\n<p><strong>CurrencyClient.java</strong></p>\n<pre><code>package com.arturu.currencycalculator1.client.currency;\n\nimport com.arturu.currencycalculator1.model.currencyDTO;\nimport com.arturu.currencycalculator1.webclient.currency.dto.OpenCurrencyCurrencyDto;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.client.RestTemplate;\n@Component\npublic class CurrencyClient {\n\n\n    private static final String NBP_PL = &quot;http://api.nbp.pl&quot;;\n    private RestTemplate restTemplate = new RestTemplate();\n\n    public currencyDTO getCurrencyValue(String symbol) {\n        OpenCurrencyCurrencyDto openCurrencyCurrencyDto = callGetMethod(&quot;/api/exchangerates/rates/a/{symbol}/?format=json&quot;,\n                OpenCurrencyCurrencyDto.class,\n                symbol);\n        return currencyDTO.builder()\n                .mid(openCurrencyCurrencyDto.getRates().getMid())\n                .build();\n\n    }\n\n    private &lt;T&gt; T callGetMethod(String url, Class&lt;T&gt; responseType, Object...objects) {\n        return restTemplate.getForObject(NBP_PL + url,\n                responseType, objects);\n    }\n\n}\n</code></pre>\n<p><strong>OpenCurrencyCurrencyDto.java</strong></p>\n<pre><code>package com.arturu.currencycalculator1.webclient.currency.dto;\n\nimport lombok.Getter;\n\n@Getter\npublic class OpenCurrencyCurrencyDto {\n    private OpenCurrencyRatesDto rates;\n}\n</code></pre>\n<p><strong>OpenCurrencyRatesDto.java</strong></p>\n<pre><code>package com.arturu.currencycalculator1.webclient.currency.dto;\n\nimport lombok.Getter;\n\n@Getter\n\npublic class OpenCurrencyRatesDto {\n    private double mid;\n\n}\n</code></pre>\n<p><strong>API</strong></p>\n<p><img src=\"https://i.stack.imgur.com/0QNI6.png\" alt=\"enter image description here\" /></p>\n<p><strong>Error</strong></p>\n<p><img src=\"https://i.stack.imgur.com/poWKU.png\" alt=\"enter image description here\" /></p>\n<blockquote>\n<p>ERROR 16640 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].\n[dispatcherServlet]    : Servlet.service() for servlet<br />\n[dispatcherServlet] in context with path [] threw exception [Request processing failed:<br />\norg.springframework.web.client.RestClientException: Error while extracting response for type [class com.arturu.currencycalculator1.webclient.currency.dto.OpenCurrencyCurrencyDto] and content type [application/json;charset=utf-8]] with root cause</p>\n</blockquote>\n"},{"tags":["java","jetty","embedded-jetty"],"answers":[{"comments":[{"owner":{"account_id":166053,"reputation":1162,"user_id":389939,"accept_rate":76,"display_name":"BigBen"},"score":2,"creation_date":1303416619,"post_id":5737982,"comment_id":6580465,"body_markdown":"The problem is, that the `Acceptors` just dump the connections on a queue as quickly as they can and then go and fetch more, so the OS limit is never reached.","body":"The problem is, that the <code>Acceptors</code> just dump the connections on a queue as quickly as they can and then go and fetch more, so the OS limit is never reached."}],"tags":[],"owner":{"account_id":277878,"reputation":5544,"user_id":572129,"display_name":"Senthil"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1303343957,"creation_date":1303343957,"answer_id":5737982,"question_id":5737923,"body_markdown":"I have not deployed Jetty for my application. However used Jetty with some other opensource projects for deployment. Based on that experience: \r\nThere are configuration for connector as below:\r\n\r\nacceptors  :\tThe number of thread dedicated to accepting incoming connections.\r\n\r\nacceptQueueSize :\tNumber of connection requests that can be queued up before the operating system starts to send rejections.\r\n\r\nhttp://wiki.eclipse.org/Jetty/Howto/Configure_Connectors\r\n\r\nYou need to add them to below block in your configuration\r\n\r\n    &lt;Call name=&quot;addConnector&quot;&gt;\r\n      &lt;Arg&gt;\r\n          &lt;New class=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;\r\n            &lt;Set name=&quot;port&quot;&gt;&lt;SystemProperty name=&quot;jetty.port&quot; default=&quot;8080&quot;/&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;maxIdleTime&quot;&gt;30000&lt;/Set&gt;\r\n            &lt;Set name=&quot;Acceptors&quot;&gt;20&lt;/Set&gt;\r\n            &lt;Set name=&quot;confidentialPort&quot;&gt;8443&lt;/Set&gt;\r\n          &lt;/New&gt;\r\n      &lt;/Arg&gt;\r\n    &lt;/Call&gt;","title":"How do I limit the number of connections Jetty will accept?","body":"<p>I have not deployed Jetty for my application. However used Jetty with some other opensource projects for deployment. Based on that experience: \nThere are configuration for connector as below:</p>\n\n<p>acceptors  :    The number of thread dedicated to accepting incoming connections.</p>\n\n<p>acceptQueueSize :   Number of connection requests that can be queued up before the operating system starts to send rejections.</p>\n\n<p><a href=\"http://wiki.eclipse.org/Jetty/Howto/Configure_Connectors\">http://wiki.eclipse.org/Jetty/Howto/Configure_Connectors</a></p>\n\n<p>You need to add them to below block in your configuration</p>\n\n<pre><code>&lt;Call name=\"addConnector\"&gt;\n  &lt;Arg&gt;\n      &lt;New class=\"org.mortbay.jetty.nio.SelectChannelConnector\"&gt;\n        &lt;Set name=\"port\"&gt;&lt;SystemProperty name=\"jetty.port\" default=\"8080\"/&gt;&lt;/Set&gt;\n        &lt;Set name=\"maxIdleTime\"&gt;30000&lt;/Set&gt;\n        &lt;Set name=\"Acceptors\"&gt;20&lt;/Set&gt;\n        &lt;Set name=\"confidentialPort\"&gt;8443&lt;/Set&gt;\n      &lt;/New&gt;\n  &lt;/Arg&gt;\n&lt;/Call&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54783,"reputation":209,"user_id":163994,"display_name":"prokoba"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1523479725,"creation_date":1315215046,"answer_id":7306195,"question_id":5737923,"body_markdown":"&gt; acceptQueueSize\r\n\r\nIf I understand correctly, this is a lower level TCP setting, that controls the number of incoming connections that will be tracked when the server app does accept() at a slower rate than the rate if incoming connections. See the second argument to http://download.oracle.com/javase/6/docs/api/java/net/ServerSocket.html#ServerSocket(int,%20int)\r\n\r\nThis is something entirely different from the number of requests queued in the Jetty QueuedThreadPool. The requests queued there are already fully connected, and are waiting for a thread to become available in the pool, after which their processing can start.\r\n\r\nI have a similar problem. I have a CPU-bound servlet (almost no I/O or waiting, so async can&#39;t help). I can easily limit the maximum number of threads in the Jetty pool so that thread switching overhead is kept at bay. I cannot, however, seem to be able to limit the length of the queued requests. This means that as the load grows, the response times grow respectively, which is not what I want.\r\n\r\nI want if all threads are busy and the number of queued requests reaches N, then to return 503 or some other error code for all further requests, instead of growing the queue forever.\r\n\r\nI&#39;m aware that I can limit the number of simultaneous requests to the jetty server by using a load balancer (e.g. haproxy), but can it be done with Jetty alone?\r\n\r\nP.S.\r\nAfter writing this, I discovered the Jetty DoS filter, and it seems it can be configured to reject incoming requests with 503 if a preconfigured concurrency level is exceeded :-)","title":"How do I limit the number of connections Jetty will accept?","body":"<blockquote>\n  <p>acceptQueueSize</p>\n</blockquote>\n\n<p>If I understand correctly, this is a lower level TCP setting, that controls the number of incoming connections that will be tracked when the server app does accept() at a slower rate than the rate if incoming connections. See the second argument to <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/ServerSocket.html#ServerSocket(int,%20int)\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/6/docs/api/java/net/ServerSocket.html#ServerSocket(int,%20int)</a></p>\n\n<p>This is something entirely different from the number of requests queued in the Jetty QueuedThreadPool. The requests queued there are already fully connected, and are waiting for a thread to become available in the pool, after which their processing can start.</p>\n\n<p>I have a similar problem. I have a CPU-bound servlet (almost no I/O or waiting, so async can't help). I can easily limit the maximum number of threads in the Jetty pool so that thread switching overhead is kept at bay. I cannot, however, seem to be able to limit the length of the queued requests. This means that as the load grows, the response times grow respectively, which is not what I want.</p>\n\n<p>I want if all threads are busy and the number of queued requests reaches N, then to return 503 or some other error code for all further requests, instead of growing the queue forever.</p>\n\n<p>I'm aware that I can limit the number of simultaneous requests to the jetty server by using a load balancer (e.g. haproxy), but can it be done with Jetty alone?</p>\n\n<p>P.S.\nAfter writing this, I discovered the Jetty DoS filter, and it seems it can be configured to reject incoming requests with 503 if a preconfigured concurrency level is exceeded :-)</p>\n"},{"comments":[{"owner":{"account_id":456840,"reputation":2947,"user_id":855809,"accept_rate":59,"display_name":"Knight71"},"score":0,"creation_date":1542113411,"post_id":11437565,"comment_id":93444373,"body_markdown":"This is not working for me. Eventhough I see java.util.concurrent.RejectedExecutionException. I have queuesize as 2 and I made 10 request. All the 10 request are served.","body":"This is not working for me. Eventhough I see java.util.concurrent.RejectedExecutionException. I have queuesize as 2 and I made 10 request. All the 10 request are served."}],"tags":[],"owner":{"account_id":1647159,"reputation":127,"user_id":1518493,"display_name":"Darin Wright"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1342070363,"creation_date":1342025545,"answer_id":11437565,"question_id":5737923,"body_markdown":"The thread pool has a queue associated with it. By default, it is unbounded. However, when creating a thread pool you can provide a bounded queue to base it on. For example:\r\n\r\n    Server server = new Server();\r\n    LinkedBlockingQueue&lt;Runnable&gt; queue = new LinkedBlockingQueue&lt;Runnable&gt;(maxQueueSize);\r\n    ExecutorThreadPool pool = new ExecutorThreadPool(minThreads, maxThreads, maxIdleTime, TimeUnit.MILLISECONDS, queue);\r\n    server.setThreadPool(pool);\r\n\r\nThis appears to have resolved the problem for me. Otherwise, with the unbounded queue the server ran out of file handles as it started up under heavy load.\r\n","title":"How do I limit the number of connections Jetty will accept?","body":"<p>The thread pool has a queue associated with it. By default, it is unbounded. However, when creating a thread pool you can provide a bounded queue to base it on. For example:</p>\n\n<pre><code>Server server = new Server();\nLinkedBlockingQueue&lt;Runnable&gt; queue = new LinkedBlockingQueue&lt;Runnable&gt;(maxQueueSize);\nExecutorThreadPool pool = new ExecutorThreadPool(minThreads, maxThreads, maxIdleTime, TimeUnit.MILLISECONDS, queue);\nserver.setThreadPool(pool);\n</code></pre>\n\n<p>This appears to have resolved the problem for me. Otherwise, with the unbounded queue the server ran out of file handles as it started up under heavy load.</p>\n"},{"tags":[],"owner":{"account_id":166053,"reputation":1162,"user_id":389939,"accept_rate":76,"display_name":"BigBen"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1354817404,"creation_date":1354817404,"answer_id":13749849,"question_id":5737923,"body_markdown":"I ended up going with a solution which keeps track of the number of requests and sends a 503 when the load is too high. It&#39;s not ideal, and as you can see I had to add a way to always let continuation requests through so they didn&#39;t get starved. Works well for my needs:\r\n\r\n    public class MaxRequestsFilter implements Filter {\r\n    \t\r\n    \tprivate static Logger cat\t= Logger.getLogger(MaxRequestsFilter.class.getName());\r\n    \r\n    \tprivate static final int DEFAULT_MAX_REQUESTS = 7000;\r\n    \tprivate Semaphore requestPasses;\r\n    \r\n    \t@Override\r\n    \tpublic void destroy() {\r\n    \t\tcat.info(&quot;Destroying MaxRequestsFilter&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n    \t\t\r\n    \t\tlong start = System.currentTimeMillis();\r\n    \t\tcat.debug(&quot;Filtering with MaxRequestsFilter, current passes are: &quot; + requestPasses.availablePermits());\r\n    \t\tboolean gotPass = requestPasses.tryAcquire();\r\n    \t\tboolean resumed = ContinuationSupport.getContinuation(request).isResumed();\r\n    \t\ttry {\r\n    \t\t\tif (gotPass || resumed ) {\r\n    \t\t\t\tchain.doFilter(request, response);\r\n    \t\t\t} else {\r\n    \t\t\t\t((HttpServletResponse) response).sendError(HttpServletResponse.SC_SERVICE_UNAVAILABLE);\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tif (gotPass) {\r\n    \t\t\t\trequestPasses.release();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcat.debug(&quot;Filter duration: &quot; + (System.currentTimeMillis() - start) + &quot; resumed is: &quot; + resumed);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void init(FilterConfig filterConfig) throws ServletException {\r\n    \t\t\r\n    \t\tcat.info(&quot;Creating MaxRequestsFilter&quot;);\r\n    \r\n    \t\tint maxRequests = DEFAULT_MAX_REQUESTS;\r\n    \t\trequestPasses = new Semaphore(maxRequests, true);\r\n    \t}\r\n    \r\n    }","title":"How do I limit the number of connections Jetty will accept?","body":"<p>I ended up going with a solution which keeps track of the number of requests and sends a 503 when the load is too high. It's not ideal, and as you can see I had to add a way to always let continuation requests through so they didn't get starved. Works well for my needs:</p>\n\n<pre><code>public class MaxRequestsFilter implements Filter {\n\n    private static Logger cat   = Logger.getLogger(MaxRequestsFilter.class.getName());\n\n    private static final int DEFAULT_MAX_REQUESTS = 7000;\n    private Semaphore requestPasses;\n\n    @Override\n    public void destroy() {\n        cat.info(\"Destroying MaxRequestsFilter\");\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n\n        long start = System.currentTimeMillis();\n        cat.debug(\"Filtering with MaxRequestsFilter, current passes are: \" + requestPasses.availablePermits());\n        boolean gotPass = requestPasses.tryAcquire();\n        boolean resumed = ContinuationSupport.getContinuation(request).isResumed();\n        try {\n            if (gotPass || resumed ) {\n                chain.doFilter(request, response);\n            } else {\n                ((HttpServletResponse) response).sendError(HttpServletResponse.SC_SERVICE_UNAVAILABLE);\n            }\n        } finally {\n            if (gotPass) {\n                requestPasses.release();\n            }\n        }\n        cat.debug(\"Filter duration: \" + (System.currentTimeMillis() - start) + \" resumed is: \" + resumed);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n\n        cat.info(\"Creating MaxRequestsFilter\");\n\n        int maxRequests = DEFAULT_MAX_REQUESTS;\n        requestPasses = new Semaphore(maxRequests, true);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":294560,"reputation":4288,"user_id":598520,"accept_rate":100,"display_name":"Guillaume Perrot"},"score":0,"creation_date":1436572526,"post_id":19311626,"comment_id":50686741,"body_markdown":"You can call setMaxQueued on QueuedThreadPool, it will instantiate an ArrayBlockingQueue by itself when this parameter is set.","body":"You can call setMaxQueued on QueuedThreadPool, it will instantiate an ArrayBlockingQueue by itself when this parameter is set."}],"tags":[],"owner":{"account_id":3422986,"reputation":87,"user_id":2869858,"display_name":"Kent Tong"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1381473858,"creation_date":1381472876,"answer_id":19311626,"question_id":5737923,"body_markdown":"    &lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n        &lt;Set name=&quot;ThreadPool&quot;&gt;\r\n          &lt;New class=&quot;org.eclipse.jetty.util.thread.QueuedThreadPool&quot;&gt;\r\n            &lt;!-- specify a bounded queue --&gt;\r\n            &lt;Arg&gt;\r\n               &lt;New class=&quot;java.util.concurrent.ArrayBlockingQueue&quot;&gt;\r\n                  &lt;Arg type=&quot;int&quot;&gt;6000&lt;/Arg&gt;\r\n               &lt;/New&gt;\r\n          &lt;/Arg&gt;\r\n            &lt;Set name=&quot;minThreads&quot;&gt;10&lt;/Set&gt;\r\n            &lt;Set name=&quot;maxThreads&quot;&gt;200&lt;/Set&gt;\r\n            &lt;Set name=&quot;detailedDump&quot;&gt;false&lt;/Set&gt;\r\n          &lt;/New&gt;\r\n        &lt;/Set&gt;\r\n    &lt;/Configure&gt;","title":"How do I limit the number of connections Jetty will accept?","body":"<pre><code>&lt;Configure id=\"Server\" class=\"org.eclipse.jetty.server.Server\"&gt;\n    &lt;Set name=\"ThreadPool\"&gt;\n      &lt;New class=\"org.eclipse.jetty.util.thread.QueuedThreadPool\"&gt;\n        &lt;!-- specify a bounded queue --&gt;\n        &lt;Arg&gt;\n           &lt;New class=\"java.util.concurrent.ArrayBlockingQueue\"&gt;\n              &lt;Arg type=\"int\"&gt;6000&lt;/Arg&gt;\n           &lt;/New&gt;\n      &lt;/Arg&gt;\n        &lt;Set name=\"minThreads\"&gt;10&lt;/Set&gt;\n        &lt;Set name=\"maxThreads\"&gt;200&lt;/Set&gt;\n        &lt;Set name=\"detailedDump\"&gt;false&lt;/Set&gt;\n      &lt;/New&gt;\n    &lt;/Set&gt;\n&lt;/Configure&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4695391,"reputation":3568,"user_id":3800377,"accept_rate":89,"display_name":"Vladislav Kysliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692559186,"creation_date":1692559186,"answer_id":76940988,"question_id":5737923,"body_markdown":"The more modern way to restrict input connections is `ConnectionLimit` class. It can be useful if you want to restrict connections before they come to application/servlet level. \r\n\r\nQuote from [JavaDoc][1]:\r\n&gt; This listener applies a limit to the number of connections, which when exceeded results in a call to AbstractConnector.setAccepting(boolean) to prevent further connections being received.\r\n\r\nCode example:\r\n\r\n       Server server = new Server();\r\n       server.addBean(new Connection Limit(5000,server));\r\n       ...\r\n       server.start();\r\n\r\n\r\n  [1]: https://eclipse.dev/jetty/javadoc/jetty-9/org/eclipse/jetty/server/ConnectionLimit.html","title":"How do I limit the number of connections Jetty will accept?","body":"<p>The more modern way to restrict input connections is <code>ConnectionLimit</code> class. It can be useful if you want to restrict connections before they come to application/servlet level.</p>\n<p>Quote from <a href=\"https://eclipse.dev/jetty/javadoc/jetty-9/org/eclipse/jetty/server/ConnectionLimit.html\" rel=\"nofollow noreferrer\">JavaDoc</a>:</p>\n<blockquote>\n<p>This listener applies a limit to the number of connections, which when exceeded results in a call to AbstractConnector.setAccepting(boolean) to prevent further connections being received.</p>\n</blockquote>\n<p>Code example:</p>\n<pre><code>   Server server = new Server();\n   server.addBean(new Connection Limit(5000,server));\n   ...\n   server.start();\n</code></pre>\n"}],"owner":{"account_id":166053,"reputation":1162,"user_id":389939,"accept_rate":76,"display_name":"BigBen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56823,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":13749849,"answer_count":6,"score":18,"last_activity_date":1692559186,"creation_date":1303343311,"question_id":5737923,"body_markdown":"I&#39;m running Jetty 7.2.2 and want to limit the number of connections it will handle, such that when it reaches a limit (eg 5000), it will start refusing connections. \r\n\r\nUnfortunately, all the `Connectors` appear to just go ahead and accept incoming connections as fast as they can and dispatch them to the configured thread pool.\r\n\r\nMy problem is that I&#39;m running in a constrained environment, and I only have access to 8K file descriptors. If I get a bunch of connections coming in I can quickly run out of file descriptors and get into an inconsistent state. \r\n\r\nOne option I have is to return an HTTP `503 Service Unavailable`, but that still requires me to accept and respond to the connection - and I&#39;d have keep track of the number of incoming connections somewhere, perhaps by writing a servlet filter. \r\n\r\nIs there a better solution to this?\r\n","title":"How do I limit the number of connections Jetty will accept?","body":"<p>I'm running Jetty 7.2.2 and want to limit the number of connections it will handle, such that when it reaches a limit (eg 5000), it will start refusing connections. </p>\n\n<p>Unfortunately, all the <code>Connectors</code> appear to just go ahead and accept incoming connections as fast as they can and dispatch them to the configured thread pool.</p>\n\n<p>My problem is that I'm running in a constrained environment, and I only have access to 8K file descriptors. If I get a bunch of connections coming in I can quickly run out of file descriptors and get into an inconsistent state. </p>\n\n<p>One option I have is to return an HTTP <code>503 Service Unavailable</code>, but that still requires me to accept and respond to the connection - and I'd have keep track of the number of incoming connections somewhere, perhaps by writing a servlet filter. </p>\n\n<p>Is there a better solution to this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1692527017,"post_id":76938906,"comment_id":135633008,"body_markdown":"It might simpler to use SDKMAN! In any case, you don&#39;t provide any clue or error as to what the problem is. Also, please read [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question).","body":"It might simpler to use SDKMAN! In any case, you don&#39;t provide any clue or error as to what the problem is. Also, please read <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>."},{"owner":{"account_id":326480,"reputation":368,"user_id":5047819,"display_name":"Anders Lindgren"},"score":1,"creation_date":1692528156,"post_id":76938906,"comment_id":135633104,"body_markdown":"The last row only gets executed once, when you start zsh. You will have to update the PATH variable after changing the JAVA_HOME variable.","body":"The last row only gets executed once, when you start zsh. You will have to update the PATH variable after changing the JAVA_HOME variable."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692528945,"post_id":76938906,"comment_id":135633188,"body_markdown":"Or to put it another way ... the variables in `PATH=$JAVA_HOME/bin:$GRAALVM_HOME/bin:$PAT` are expanded **before** a value bound to `PATH`.  (Posix shells don&#39;t support &quot;deferred expansion&quot;.)","body":"Or to put it another way ... the variables in <code>PATH=$JAVA_HOME&#47;bin:$GRAALVM_HOME&#47;bin:$PAT</code> are expanded <b>before</b> a value bound to <code>PATH</code>.  (Posix shells don&#39;t support &quot;deferred expansion&quot;.)"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692558870,"creation_date":1692539197,"answer_id":76939680,"question_id":76938906,"body_markdown":"I agree you should use something like [SDKMAN!][1], but I see you have [GraalVM][2] to consider too. I don&#39;t do zsh but I&#39;d be inclined to do something like this in bash as adding/removing DKs is trivial. Of course you could do this just for Graal but it&#39;s good to do both at once. Of course the below would have to be sourced, either directly or via an alias.\r\n\r\n```bash\r\n#!/bin/bash\r\n#set -x\r\nif [ $# -eq 0 ];then\r\n    echo &quot;Usage: $(basename ${0}) &lt;Version number&gt;&quot;  \r\n    exit 1\r\nfi\r\n\r\njdks=( \\\r\nLibrary/Java/JavaVirtualMachines/jdk1.8.0_361.jdk\r\nLibrary/Java/JavaVirtualMachines/jdk-11.jdk\r\nLibrary/Java/JavaVirtualMachines/jdk-17.jdk\r\nLibrary/Java/JavaVirtualMachines/jdk-20.jdk\r\n)\r\n\r\ngraals=( \\\r\nLibrary/Java/JavaVirtualMachines/graalvm-ce-java17-22.3.1\r\nLibrary/Java/JavaVirtualMachines/graalvm-20.jdk\r\n)\r\n\r\nversion=$1\r\nJAVA_HOME=&#39;&#39;\r\nGRAALVM_HOME=&#39;&#39;\r\nlen_jdks=${#jdks[@]}\r\n\r\nfor((i = 0;i &lt; len_jdks;i++)); do\r\n  jdk=${jdks[$i]}\r\n  if [[ $jdk =~ .*$version.* ]]; then\r\n      JAVA_HOME=$jdk\r\n      break\r\n  fi\r\ndone\r\nlen_graals=${#graals[@]}\r\nfor((i = 0;i &lt; len_graals;i++)); do\r\n  graal=${graals[$i]}\r\n  if [[ $graal =~ .*$version.* ]]; then\r\n      GRAALVM_HOME=$graal\r\n      break\r\n  fi\r\ndone\r\necho &quot;JAVA_HOME is $JAVA_HOME&quot;\r\necho &quot;GRAALVM_HOME is $GRAALVM_HOME&quot;\r\nexport &quot;$JAVA_HOME&quot;\r\nexport &quot;$GRAALVM_HOME&quot;\r\n```\r\n\r\n\r\n  [1]: https://sdkman.io/\r\n  [2]: https://en.wikipedia.org/wiki/GraalVM","title":"Switching between multiple JDK&#39;s","body":"<p>I agree you should use something like <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>, but I see you have <a href=\"https://en.wikipedia.org/wiki/GraalVM\" rel=\"nofollow noreferrer\">GraalVM</a> to consider too. I don't do zsh but I'd be inclined to do something like this in bash as adding/removing DKs is trivial. Of course you could do this just for Graal but it's good to do both at once. Of course the below would have to be sourced, either directly or via an alias.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n#set -x\nif [ $# -eq 0 ];then\n    echo &quot;Usage: $(basename ${0}) &lt;Version number&gt;&quot;  \n    exit 1\nfi\n\njdks=( \\\nLibrary/Java/JavaVirtualMachines/jdk1.8.0_361.jdk\nLibrary/Java/JavaVirtualMachines/jdk-11.jdk\nLibrary/Java/JavaVirtualMachines/jdk-17.jdk\nLibrary/Java/JavaVirtualMachines/jdk-20.jdk\n)\n\ngraals=( \\\nLibrary/Java/JavaVirtualMachines/graalvm-ce-java17-22.3.1\nLibrary/Java/JavaVirtualMachines/graalvm-20.jdk\n)\n\nversion=$1\nJAVA_HOME=''\nGRAALVM_HOME=''\nlen_jdks=${#jdks[@]}\n\nfor((i = 0;i &lt; len_jdks;i++)); do\n  jdk=${jdks[$i]}\n  if [[ $jdk =~ .*$version.* ]]; then\n      JAVA_HOME=$jdk\n      break\n  fi\ndone\nlen_graals=${#graals[@]}\nfor((i = 0;i &lt; len_graals;i++)); do\n  graal=${graals[$i]}\n  if [[ $graal =~ .*$version.* ]]; then\n      GRAALVM_HOME=$graal\n      break\n  fi\ndone\necho &quot;JAVA_HOME is $JAVA_HOME&quot;\necho &quot;GRAALVM_HOME is $GRAALVM_HOME&quot;\nexport &quot;$JAVA_HOME&quot;\nexport &quot;$GRAALVM_HOME&quot;\n</code></pre>\n"}],"owner":{"account_id":28712988,"reputation":21,"user_id":21988142,"display_name":"Artyom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1692558870,"creation_date":1692526149,"question_id":76938906,"body_markdown":"Switching between JDK&#39;s\r\n\r\n    export JDK8_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_361.jdk\r\n    \r\n    export JAVA_8_HOME=$JDK8_HOME/Contents/Home\r\n    \r\n    alias usejdk8=&#39;export JAVA_HOME=$JDK8_HOME&#39;\r\n    \r\n    export JDK11_HOME=/Library/Java/JavaVirtualMachines/jdk-11.jdk\r\n    \r\n    export JAVA_11_HOME=$JDK11_HOME/Contents/Home\r\n    \r\n    alias usejdk11=&#39;export JAVA_HOME=$JDK11_HOME&#39;\r\n    \r\n    export JDK17_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk\r\n    \r\n    export JAVA_17_HOME=$JDK17_HOME/Contents/Home\r\n    \r\n    alias usejdk17=&#39;export JAVA_HOME=$JDK17_HOME&#39;\r\n    \r\n    export JDK20_HOME=/Library/Java/JavaVirtualMachines/jdk-20.jdk\r\n    \r\n    export JAVA_20_HOME=$JDK20_HOME/Contents/Home\r\n    \r\n    alias usejdk20=&#39;export JAVA_HOME=$JDK20_HOME&#39;\r\n    \r\n    export GRAALVM17_HOME=/Library/Java/JavaVirtualMachines/graalvm-ce-java17-22.3.1\r\n    \r\n    export GRAALVM_HOME=$GRAALVM17_HOME\r\n    \r\n    alias usegraalvm17=&#39;export GRAALVM_HOME=$GRAALVM17_HOME&#39;\r\n    \r\n    export GRAALVM20_HOME=/Library/Java/JavaVirtualMachines/graalvm-20.jdk\r\n    \r\n    export GRAALVM_HOME=$GRAALVM20_HOME\r\n    \r\n    alias usegraalvm20=&#39;export GRAALVM_HOME=$GRAALVM20_HOME&#39;\r\n    \r\n    export PATH=$JAVA_HOME/bin:$GRAALVM_HOME/bin:$PATH \r\n\r\n \r\n  \r\nThis is my .zshrc file. When I write command `usejdkX` my JDK is still on JDK 20.\r\n\r\nI&#39;ve multiple JDK&#39;s on my MacOS Ventura and I&#39;ve Define environment variables for all of them in .zshrc file but I can&#39;t switch between them. Can anybody help me to fix my problem please.\r\n","title":"Switching between multiple JDK&#39;s","body":"<p>Switching between JDK's</p>\n<pre><code>export JDK8_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_361.jdk\n\nexport JAVA_8_HOME=$JDK8_HOME/Contents/Home\n\nalias usejdk8='export JAVA_HOME=$JDK8_HOME'\n\nexport JDK11_HOME=/Library/Java/JavaVirtualMachines/jdk-11.jdk\n\nexport JAVA_11_HOME=$JDK11_HOME/Contents/Home\n\nalias usejdk11='export JAVA_HOME=$JDK11_HOME'\n\nexport JDK17_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk\n\nexport JAVA_17_HOME=$JDK17_HOME/Contents/Home\n\nalias usejdk17='export JAVA_HOME=$JDK17_HOME'\n\nexport JDK20_HOME=/Library/Java/JavaVirtualMachines/jdk-20.jdk\n\nexport JAVA_20_HOME=$JDK20_HOME/Contents/Home\n\nalias usejdk20='export JAVA_HOME=$JDK20_HOME'\n\nexport GRAALVM17_HOME=/Library/Java/JavaVirtualMachines/graalvm-ce-java17-22.3.1\n\nexport GRAALVM_HOME=$GRAALVM17_HOME\n\nalias usegraalvm17='export GRAALVM_HOME=$GRAALVM17_HOME'\n\nexport GRAALVM20_HOME=/Library/Java/JavaVirtualMachines/graalvm-20.jdk\n\nexport GRAALVM_HOME=$GRAALVM20_HOME\n\nalias usegraalvm20='export GRAALVM_HOME=$GRAALVM20_HOME'\n\nexport PATH=$JAVA_HOME/bin:$GRAALVM_HOME/bin:$PATH \n</code></pre>\n<p>This is my .zshrc file. When I write command <code>usejdkX</code> my JDK is still on JDK 20.</p>\n<p>I've multiple JDK's on my MacOS Ventura and I've Define environment variables for all of them in .zshrc file but I can't switch between them. Can anybody help me to fix my problem please.</p>\n"},{"tags":["java","regex","regex-negation"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":3,"creation_date":1692444872,"post_id":76934872,"comment_id":135625978,"body_markdown":"Your pattern will also match in `+123(` Instead, you can use whitespace boundaries like `(?!\\S)` and `(?&lt;!\\S)` like `(?&lt;!\\S)[+-]?[0-9]+(?!\\S)`","body":"Your pattern will also match in <code>+123(</code> Instead, you can use whitespace boundaries like <code>(?!\\S)</code> and <code>(?&lt;!\\S)</code> like <code>(?&lt;!\\S)[+-]?[0-9]+(?!\\S)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692444964,"creation_date":1692444964,"answer_id":76934895,"question_id":76934872,"body_markdown":"Your requirement seems to be to find numbers which are surrounded on both sides by either whitespace, or the start/end of the string.  We can use the following pattern:\r\n\r\n    (?&lt;!\\S)[+-]?\\d+(?!\\S)\r\n\r\nJava code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;123 +234 -345 456 - + abc a+78 sdf-sdf +1abc -3sbc&quot;;\r\n    String pattern = &quot;(?&lt;!\\\\S)[+-]?\\\\d+(?!\\\\S)&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n    Matcher m = r.matcher(input);\r\n    List&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n    while (m.find()) {\r\n        matches.add(m.group());\r\n    }\r\n    System.out.println(matches);  // [123, +234, -345, 456]\r\n\r\nThe regex pattern used here says to match:\r\n\r\n - `(?&lt;!\\S)` assert that what precedes be either whitespace or the start of the input\r\n - `[+-]?` match optional leading +/-\r\n - `\\d+` match an integer number\r\n - `(?!\\S)` assert that what follows be either whitespace or the end of the input","title":"Use java regex to find integer in a string","body":"<p>Your requirement seems to be to find numbers which are surrounded on both sides by either whitespace, or the start/end of the string.  We can use the following pattern:</p>\n<pre><code>(?&lt;!\\S)[+-]?\\d+(?!\\S)\n</code></pre>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;123 +234 -345 456 - + abc a+78 sdf-sdf +1abc -3sbc&quot;;\nString pattern = &quot;(?&lt;!\\\\S)[+-]?\\\\d+(?!\\\\S)&quot;;\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(input);\nList&lt;String&gt; matches = new ArrayList&lt;&gt;();\nwhile (m.find()) {\n    matches.add(m.group());\n}\nSystem.out.println(matches);  // [123, +234, -345, 456]\n</code></pre>\n<p>The regex pattern used here says to match:</p>\n<ul>\n<li><code>(?&lt;!\\S)</code> assert that what precedes be either whitespace or the start of the input</li>\n<li><code>[+-]?</code> match optional leading +/-</li>\n<li><code>\\d+</code> match an integer number</li>\n<li><code>(?!\\S)</code> assert that what follows be either whitespace or the end of the input</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1692459393,"creation_date":1692448388,"answer_id":76935117,"question_id":76934872,"body_markdown":"You can leverage programming to make the regex bit simpler. So, you can split the string by space and try to match the pattern for each split value instead of matching the whole input.\r\n\r\nThe regex will be:\r\n\r\n1. `^[-+]?` - It may start with + or -\r\n2. `[0-9]+$` - It is then followed by number till the end\r\n\r\nSo, the final regex is: `^[-+]?[0-9]+$`\r\n\r\nSimple java code will be:\r\n\r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    String[] arr= &quot;123 +234 -345 456 - + abc a+78 sdf-sdf +1abc -3sbc&quot;.split(&quot; &quot;);\r\n    for(String elem:arr){\r\n        String pattern = &quot;^[-+]?[0-9]+$&quot;;\r\n        Pattern r = Pattern.compile(pattern);\r\n        Matcher m = r.matcher(elem);\r\n        if(m.find()){\r\n           result.add(m.group());\r\n        }\r\n    }","title":"Use java regex to find integer in a string","body":"<p>You can leverage programming to make the regex bit simpler. So, you can split the string by space and try to match the pattern for each split value instead of matching the whole input.</p>\n<p>The regex will be:</p>\n<ol>\n<li><code>^[-+]?</code> - It may start with + or -</li>\n<li><code>[0-9]+$</code> - It is then followed by number till the end</li>\n</ol>\n<p>So, the final regex is: <code>^[-+]?[0-9]+$</code></p>\n<p>Simple java code will be:</p>\n<pre><code>List&lt;String&gt; result = new ArrayList&lt;&gt;();\nString[] arr= &quot;123 +234 -345 456 - + abc a+78 sdf-sdf +1abc -3sbc&quot;.split(&quot; &quot;);\nfor(String elem:arr){\n    String pattern = &quot;^[-+]?[0-9]+$&quot;;\n    Pattern r = Pattern.compile(pattern);\n    Matcher m = r.matcher(elem);\n    if(m.find()){\n       result.add(m.group());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"score":0,"creation_date":1692528946,"post_id":76938907,"comment_id":135633189,"body_markdown":"your regex pattern will miss **456**","body":"your regex pattern will miss <b>456</b>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692558171,"post_id":76938907,"comment_id":135636522,"body_markdown":"@Hoang, you&#39;re right, thanks.  I changed my answer.","body":"@Hoang, you&#39;re right, thanks.  I changed my answer."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692558069,"creation_date":1692526158,"answer_id":76938907,"question_id":76934872,"body_markdown":"Similar to the other answer, you can also use positive look-arounds.\r\n\r\n```none\r\n(?&lt;=^|\\s)[+-]?\\d+(?=\\s|$)\r\n```\r\n\r\nHere is an example.\r\n\r\n```java\r\nString string = &quot;123 +234 -345 456 - + abc a+78 sdf-sdf +1abc -3sbc&quot;;\r\nPattern pattern = Pattern.compile(&quot;(?&lt;=^|\\\\s)[+-]?\\\\d+(?=\\\\s|$)&quot;);\r\nMatcher matcher = pattern.matcher(string);\r\nwhile (matcher.find()) System.out.println(matcher.group());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n123\r\n+234\r\n-345\r\n456\r\n```","title":"Use java regex to find integer in a string","body":"<p>Similar to the other answer, you can also use positive look-arounds.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;=^|\\s)[+-]?\\d+(?=\\s|$)\n</code></pre>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;123 +234 -345 456 - + abc a+78 sdf-sdf +1abc -3sbc&quot;;\nPattern pattern = Pattern.compile(&quot;(?&lt;=^|\\\\s)[+-]?\\\\d+(?=\\\\s|$)&quot;);\nMatcher matcher = pattern.matcher(string);\nwhile (matcher.find()) System.out.println(matcher.group());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>123\n+234\n-345\n456\n</code></pre>\n"}],"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":76934895,"answer_count":3,"score":2,"last_activity_date":1692558069,"creation_date":1692444644,"question_id":76934872,"body_markdown":"I want to find all numbers in a string. The number will have format {number}, {+number}, {-number}, for example: 123, +456, -789.\r\n\r\nI have regex: ```(\\+|\\-)?[0-9]+(?![A-Za-z])```\r\n\r\nAnd string test is: ```123 +234 -345 456 - + abc a+78 sdf-sdf +1abc -3sbc```\r\n\r\nIt will print:\r\n```\r\n123\r\n+234\r\n-345\r\n456\r\n+78\r\n```\r\n\r\n**+78** is wrong result because **+78** in **a+78** is not number.\r\n\r\nPlease help me fix the regex pattern to find only numbers.\r\n\r\nThanks for reading my question.","title":"Use java regex to find integer in a string","body":"<p>I want to find all numbers in a string. The number will have format {number}, {+number}, {-number}, for example: 123, +456, -789.</p>\n<p>I have regex: <code>(\\+|\\-)?[0-9]+(?![A-Za-z])</code></p>\n<p>And string test is: <code>123 +234 -345 456 - + abc a+78 sdf-sdf +1abc -3sbc</code></p>\n<p>It will print:</p>\n<pre><code>123\n+234\n-345\n456\n+78\n</code></pre>\n<p><strong>+78</strong> is wrong result because <strong>+78</strong> in <strong>a+78</strong> is not number.</p>\n<p>Please help me fix the regex pattern to find only numbers.</p>\n<p>Thanks for reading my question.</p>\n"},{"tags":["java","maven","junit"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692556525,"creation_date":1692530791,"answer_id":76939159,"question_id":76939064,"body_markdown":"You will need to add a JUnit implementation to your project, not just the API!\r\n\r\nRefer to the [User Guide](https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven) for setting up your maven build.\r\n\r\nWhat your dependency also is lacking is the test scope: you should add `&lt;scope&gt;test&lt;/scope&gt;` to your maven dependency. Otherwise you will package your maven dependency with your application, where it is not needed (tests are usually not used at runtime).\r\n\r\nOverall your dependency should look something like that shown on a Maven Repository site such as [this][1].\r\n\r\n``` lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.10.0&lt;/version&gt; &lt;!-- can be omitted when using the BOM --&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIf you use the Maven BOM for JUnit, you could skip the version there - details are described in the user guide I linked above.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter","title":"Maven package org.junit.jupiter.api does not exist","body":"<p>You will need to add a JUnit implementation to your project, not just the API!</p>\n<p>Refer to the <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven\" rel=\"nofollow noreferrer\">User Guide</a> for setting up your maven build.</p>\n<p>What your dependency also is lacking is the test scope: you should add <code>&lt;scope&gt;test&lt;/scope&gt;</code> to your maven dependency. Otherwise you will package your maven dependency with your application, where it is not needed (tests are usually not used at runtime).</p>\n<p>Overall your dependency should look something like that shown on a Maven Repository site such as <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"nofollow noreferrer\">this</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.10.0&lt;/version&gt; &lt;!-- can be omitted when using the BOM --&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you use the Maven BOM for JUnit, you could skip the version there - details are described in the user guide I linked above.</p>\n"}],"owner":{"account_id":25007215,"reputation":45,"user_id":18867024,"display_name":"Anna-Ha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76939159,"answer_count":1,"score":0,"last_activity_date":1692556525,"creation_date":1692529056,"question_id":76939064,"body_markdown":"I&#39;m working on a Java project that requires testing using JUnit. I&#39;ve added the necessary JUnit dependency to my `pom.xml` file as shown below:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;5.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nAfter adding the dependency, I refreshed the Maven project to ensure it&#39;s recognized.\r\n\r\nIn my test file, I&#39;ve imported JUnit using the following imports:\r\n\r\n```java\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n```\r\n\r\nThe code editor doesn&#39;t show any import errors, indicating that JUnit is being recognized. However, when I attempt to run any of the tests, I encounter the following error message:\r\n\r\n```\r\njava: package org.junit.jupiter.api does not exist\r\n```\r\n\r\nIt seems like there might be an issue with the project setup or configuration that&#39;s causing this error. I&#39;d appreciate any guidance on how to resolve this problem.","title":"Maven package org.junit.jupiter.api does not exist","body":"<p>I'm working on a Java project that requires testing using JUnit. I've added the necessary JUnit dependency to my <code>pom.xml</code> file as shown below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>After adding the dependency, I refreshed the Maven project to ensure it's recognized.</p>\n<p>In my test file, I've imported JUnit using the following imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n</code></pre>\n<p>The code editor doesn't show any import errors, indicating that JUnit is being recognized. However, when I attempt to run any of the tests, I encounter the following error message:</p>\n<pre><code>java: package org.junit.jupiter.api does not exist\n</code></pre>\n<p>It seems like there might be an issue with the project setup or configuration that's causing this error. I'd appreciate any guidance on how to resolve this problem.</p>\n"},{"tags":["java","frameworks","bots","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692555407,"creation_date":1692555407,"answer_id":76940764,"question_id":76940446,"body_markdown":"You should set the name before creating it:\r\n\r\n```java\r\nchannel.createCopy().setName(&quot;my new name&quot;).queue();\r\n```\r\n\r\nYou are running into a [discord bug](https://github.com/discord/discord-api-docs/issues/6268), where the update is being overwritten by a different update happening right after.\r\n\r\nAlso, you should use the callback channel object:\r\n\r\n```java\r\nchannel.createCopy().setName(&quot;my new name&quot;).queue((newChannel) -&gt; {\r\n  guild.moveVoiceMember(member, newChannel).queue();\r\n});\r\n```","title":"JDA AudioChannel getManager doesn&#39;t always rename created voice-channel","body":"<p>You should set the name before creating it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>channel.createCopy().setName(&quot;my new name&quot;).queue();\n</code></pre>\n<p>You are running into a <a href=\"https://github.com/discord/discord-api-docs/issues/6268\" rel=\"nofollow noreferrer\">discord bug</a>, where the update is being overwritten by a different update happening right after.</p>\n<p>Also, you should use the callback channel object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>channel.createCopy().setName(&quot;my new name&quot;).queue((newChannel) -&gt; {\n  guild.moveVoiceMember(member, newChannel).queue();\n});\n</code></pre>\n"}],"owner":{"account_id":25934903,"reputation":5,"user_id":19655374,"display_name":"RatherCruel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76940764,"answer_count":1,"score":0,"last_activity_date":1692555407,"creation_date":1692550379,"question_id":76940446,"body_markdown":"I&#39;m writing &quot;join to create&quot; function for my bot. This code creates new VC and move the member there when the member joins specific channel. The code works but sometimes it doesn&#39;t rename new created VC.\r\n\r\n```\r\nimport net.dv8tion.jda.api.entities.Guild;\r\nimport net.dv8tion.jda.api.entities.Member;\r\nimport net.dv8tion.jda.api.entities.channel.concrete.Category;\r\nimport net.dv8tion.jda.api.entities.channel.concrete.VoiceChannel;\r\nimport net.dv8tion.jda.api.entities.channel.middleman.AudioChannel;\r\nimport net.dv8tion.jda.api.events.guild.voice.GuildVoiceUpdateEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\nimport java.util.List;\r\n\r\npublic class JoinToCreate extends ListenerAdapter {\r\n\r\n    @Override\r\n    public void onGuildVoiceUpdate(GuildVoiceUpdateEvent event) {\r\n        AudioChannel audioChannel = event.getChannelJoined();\r\n        Guild guild = event.getGuild();\r\n        Member member = event.getMember();\r\n\r\n        if (audioChannel != null) {\r\n            long channelID = audioChannel.getIdLong();\r\n            if (channelID == BotConfiguration.voiceChannelID) {\r\n                long voiceChannelID = audioChannel.createCopy().complete().getIdLong();\r\n                AudioChannel userVoice = guild.getVoiceChannelById(voiceChannelID);\r\n\r\n                userVoice.getManager()\r\n                    .setName(&quot;[\\uD83E\\uDD1D]&quot; + member.getEffectiveName() + &quot;&#39;s Voice&quot;).complete();\r\n\r\n                guild.moveVoiceMember(member, userVoice).queue();\r\n            }\r\n        } else {\r\n            // REMOVE EMPTY VC\r\n            Category category = event.getGuild().getCategoryById(BotConfiguration.customVCCategory);\r\n            List&lt;VoiceChannel&gt; vcList = category.getVoiceChannels();\r\n            for (int i = 1; i &lt; vcList.size(); i++) {\r\n                if (vcList.get(i).getMembers().size() == 0) {\r\n                    long tempID = vcList.get(i).getIdLong();\r\n                    guild.getVoiceChannelById(tempID).delete().queue();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried to use different classes such as VoiceChannel/AudioChannel and I&#39;ve tried to use another method onGenericGuildVoice.","title":"JDA AudioChannel getManager doesn&#39;t always rename created voice-channel","body":"<p>I'm writing &quot;join to create&quot; function for my bot. This code creates new VC and move the member there when the member joins specific channel. The code works but sometimes it doesn't rename new created VC.</p>\n<pre><code>import net.dv8tion.jda.api.entities.Guild;\nimport net.dv8tion.jda.api.entities.Member;\nimport net.dv8tion.jda.api.entities.channel.concrete.Category;\nimport net.dv8tion.jda.api.entities.channel.concrete.VoiceChannel;\nimport net.dv8tion.jda.api.entities.channel.middleman.AudioChannel;\nimport net.dv8tion.jda.api.events.guild.voice.GuildVoiceUpdateEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\nimport java.util.List;\n\npublic class JoinToCreate extends ListenerAdapter {\n\n    @Override\n    public void onGuildVoiceUpdate(GuildVoiceUpdateEvent event) {\n        AudioChannel audioChannel = event.getChannelJoined();\n        Guild guild = event.getGuild();\n        Member member = event.getMember();\n\n        if (audioChannel != null) {\n            long channelID = audioChannel.getIdLong();\n            if (channelID == BotConfiguration.voiceChannelID) {\n                long voiceChannelID = audioChannel.createCopy().complete().getIdLong();\n                AudioChannel userVoice = guild.getVoiceChannelById(voiceChannelID);\n\n                userVoice.getManager()\n                    .setName(&quot;[\\uD83E\\uDD1D]&quot; + member.getEffectiveName() + &quot;'s Voice&quot;).complete();\n\n                guild.moveVoiceMember(member, userVoice).queue();\n            }\n        } else {\n            // REMOVE EMPTY VC\n            Category category = event.getGuild().getCategoryById(BotConfiguration.customVCCategory);\n            List&lt;VoiceChannel&gt; vcList = category.getVoiceChannels();\n            for (int i = 1; i &lt; vcList.size(); i++) {\n                if (vcList.get(i).getMembers().size() == 0) {\n                    long tempID = vcList.get(i).getIdLong();\n                    guild.getVoiceChannelById(tempID).delete().queue();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I've tried to use different classes such as VoiceChannel/AudioChannel and I've tried to use another method onGenericGuildVoice.</p>\n"},{"tags":["java","types","language-lawyer","jls","subtyping"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1692553379,"post_id":76940612,"comment_id":135635987,"body_markdown":"No. `null` is a reference type. Primitives cannot have reference types.  See answers to  [Why can&#39;t primitive data types be &quot;null&quot; in Java?](https://stackoverflow.com/questions/11047276/why-cant-primitive-data-types-be-null-in-java).  An example: If you have a method call, say signature is `foo (int bar, double bat)`, you cannot call `foo (null, 3.14159)`. There is no place you can use `null` in place of a primitive.","body":"No. <code>null</code> is a reference type. Primitives cannot have reference types.  See answers to  <a href=\"https://stackoverflow.com/questions/11047276/why-cant-primitive-data-types-be-null-in-java\">Why can&#39;t primitive data types be &quot;null&quot; in Java?</a>.  An example: If you have a method call, say signature is <code>foo (int bar, double bat)</code>, you cannot call <code>foo (null, 3.14159)</code>. There is no place you can use <code>null</code> in place of a primitive."},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1692553482,"post_id":76940612,"comment_id":135635996,"body_markdown":"@OldDogProgrammer This is a JLS question. The quoted sentences do not restrict T to class and interface types; they&#39;re in the section that applies to all types: primitives, objects, and arrays alike. I, too, am curious how to reconcile the quoted bit with the fact that primitives can&#39;t be null.","body":"@OldDogProgrammer This is a JLS question. The quoted sentences do not restrict T to class and interface types; they&#39;re in the section that applies to all types: primitives, objects, and arrays alike. I, too, am curious how to reconcile the quoted bit with the fact that primitives can&#39;t be null."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1692553695,"post_id":76940612,"comment_id":135636023,"body_markdown":"@JohnKugelman I don&#39;t think so. Go back 9 sections to [4.1. The Kinds of Types and Values](https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.10), which says there are two kinds of types and then adds a third (special) null type.","body":"@JohnKugelman I don&#39;t think so. Go back 9 sections to <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.10\" rel=\"nofollow noreferrer\">4.1. The Kinds of Types and Values</a>, which says there are two kinds of types and then adds a third (special) null type."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1692553800,"post_id":76940612,"comment_id":135636038,"body_markdown":"subtype or rahter &quot;supertype&quot;?  Anyway, *no*","body":"subtype or rahter &quot;supertype&quot;?  Anyway, <i>no</i>"},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1692553949,"post_id":76940612,"comment_id":135636050,"body_markdown":"@ElliottFrisch Yes, I see that. Section 4.1 defines what the null type is. What I find notable is that 4.10 doesn&#39;t say &quot;The subtypes of a *reference* type T...&quot;. It places no restrictions on T, implying that T can be a reference type, primitive type, or null type.","body":"@ElliottFrisch Yes, I see that. Section 4.1 defines what the null type is. What I find notable is that 4.10 doesn&#39;t say &quot;The subtypes of a <i>reference</i> type T...&quot;. It places no restrictions on T, implying that T can be a reference type, primitive type, or null type."},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1692554036,"post_id":76940612,"comment_id":135636061,"body_markdown":"I&#39;m sure there&#39;s an answer, but I just want to point out that this JLS citation is neither asked about in the [linked question](https://stackoverflow.com/questions/11047276/why-cant-primitive-data-types-be-null-in-java) nor mentioned in any of the answers, so I disagree with marking it a duplicate of such.","body":"I&#39;m sure there&#39;s an answer, but I just want to point out that this JLS citation is neither asked about in the <a href=\"https://stackoverflow.com/questions/11047276/why-cant-primitive-data-types-be-null-in-java\">linked question</a> nor mentioned in any of the answers, so I disagree with marking it a duplicate of such."},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":4,"creation_date":1692554504,"post_id":76940612,"comment_id":135636121,"body_markdown":"I wonder if it&#39;s a spec defect. In section 4.10.2 it says, &quot;The direct supertypes of the null type are all reference types other than the null type itself.&quot; That is a better match for what all of us believe to be the case.","body":"I wonder if it&#39;s a spec defect. In section 4.10.2 it says, &quot;The direct supertypes of the null type are all reference types other than the null type itself.&quot; That is a better match for what all of us believe to be the case."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1692557299,"post_id":76940612,"comment_id":135636435,"body_markdown":"*&quot;I&#39;m writing a library to parse and analyze java code, so should I treat `null` as a subtype of, say, `int`? Or does it not matter at all?&quot;*  This last paragraph of the O/P question makes it a practical question, not just a JLS question.","body":"<i>&quot;I&#39;m writing a library to parse and analyze java code, so should I treat <code>null</code> as a subtype of, say, <code>int</code>? Or does it not matter at all?&quot;</i>  This last paragraph of the O/P question makes it a practical question, not just a JLS question."},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":3,"creation_date":1692690926,"post_id":76940612,"comment_id":135654698,"body_markdown":"The term &quot;Subtype&quot; is defined through the &quot;Supertype&quot;. Now, the question boils down to showing if it is possible for a primitive type to be a supertype of null? The answer is no, according to 4.10.2: The direct supertypes of the null type are all reference types other than the null type itself. Hence, null can&#39;t be a subtype of primitive types either. We have to use the definition of supertype to reason about subtypes, not vice versa.","body":"The term &quot;Subtype&quot; is defined through the &quot;Supertype&quot;. Now, the question boils down to showing if it is possible for a primitive type to be a supertype of null? The answer is no, according to 4.10.2: The direct supertypes of the null type are all reference types other than the null type itself. Hence, null can&#39;t be a subtype of primitive types either. We have to use the definition of supertype to reason about subtypes, not vice versa."},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1692708638,"post_id":76940612,"comment_id":135658581,"body_markdown":"@TurkhanBadalov That&#39;s how it *should* be. However, the subtype definition includes the phrase &quot;and the null type&quot;, which as I read it makes the definitions asymmetrical, and inconsistent with the sentence you quoted from 4.10.2.","body":"@TurkhanBadalov That&#39;s how it <i>should</i> be. However, the subtype definition includes the phrase &quot;and the null type&quot;, which as I read it makes the definitions asymmetrical, and inconsistent with the sentence you quoted from 4.10.2."},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1692715567,"post_id":76940612,"comment_id":135660466,"body_markdown":"@JohnKugelman, gave it a thought. Perhaps &quot;and null&quot; part indeed makes statements contradict for primitive types. In fact, if we omit it, the conclusion that the null type is a subtype for all reference types can be inferred from 4.10.2 and the definition of the subtype.","body":"@JohnKugelman, gave it a thought. Perhaps &quot;and null&quot; part indeed makes statements contradict for primitive types. In fact, if we omit it, the conclusion that the null type is a subtype for all reference types can be inferred from 4.10.2 and the definition of the subtype."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692717855,"post_id":76940612,"comment_id":135661039,"body_markdown":"What if we say “yes”? I couldn’t find any place in the JLS where this had an impact. It was even hard to find a place where the subtype relationships specified in &#167;4.10.1 have an impact and the only place I eventually found is not affected by this question.","body":"What if we say “yes”? I couldn’t find any place in the JLS where this had an impact. It was even hard to find a place where the subtype relationships specified in &#167;4.10.1 have an impact and the only place I eventually found is not affected by this question."}],"owner":{"account_id":21729070,"reputation":87,"user_id":16038079,"display_name":"Rotstein"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1692555186,"creation_date":1692552915,"question_id":76940612,"body_markdown":"The Java Language Specification 20, Section [4.10. Subtyping][1] states that\r\n\r\n&gt; The *subtypes* of a type T are all types U such that T is a supertype of U, and the null type. We write T `&lt;:` S to indicate that that the subtype relation holds between types T and S.\r\n\r\nDoes this mean, that the null type is a subtype of all primitive types? And if yes, are there any practical consequences?\r\n\r\nI&#39;m writing a library to parse and analyze java code, so should I treat `null` as a subtype of, say, `int`? Or does it not matter at all?\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.10","title":"Is the Java null type a subtype of all primitive types?","body":"<p>The Java Language Specification 20, Section <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.10\" rel=\"nofollow noreferrer\">4.10. Subtyping</a> states that</p>\n<blockquote>\n<p>The <em>subtypes</em> of a type T are all types U such that T is a supertype of U, and the null type. We write T <code>&lt;:</code> S to indicate that that the subtype relation holds between types T and S.</p>\n</blockquote>\n<p>Does this mean, that the null type is a subtype of all primitive types? And if yes, are there any practical consequences?</p>\n<p>I'm writing a library to parse and analyze java code, so should I treat <code>null</code> as a subtype of, say, <code>int</code>? Or does it not matter at all?</p>\n"},{"tags":["java","android","android-studio","webview","android-webview"],"comments":[{"owner":{"account_id":11813923,"reputation":342,"user_id":8644685,"display_name":"Ivan Abakumov"},"score":0,"creation_date":1692571939,"post_id":76940746,"comment_id":135637760,"body_markdown":"This [answer](https://stackoverflow.com/a/30484438/8644685) is similar to your problem. Try to do it","body":"This <a href=\"https://stackoverflow.com/a/30484438/8644685\">answer</a> is similar to your problem. Try to do it"}],"owner":{"account_id":23860974,"reputation":41,"user_id":17863927,"display_name":"Ehsan Abid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692555021,"creation_date":1692555021,"question_id":76940746,"body_markdown":"Hello I am trying to add this website (https://19.avchats.net/) into webView of android But the problem is Website have some buttons in it and one of them is used to join conference call. it need the Microphone permission to join. when we click on microphone icon in website it ask for microphone permission in website and if your allow it it join conference call. but the issue is when i add it into webview in android. the button who need microphone permission is not working other buttons are working. that button who need permission does not ask any permission. i have tried to give Audio permission manually to the app as well. but still not working. Please see the code i write:\r\n\r\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED ||\r\n                    ContextCompat.checkSelfPermission(this, Manifest.permission.MODIFY_AUDIO_SETTINGS) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.RECORD_AUDIO, Manifest.permission.MODIFY_AUDIO_SETTINGS},\r\n                        PERMISSION_REQUEST_CODE);\r\n            } else {\r\n                configureWebView();\r\n            }\r\nwebview function\r\n\r\n\r\n        private void configureWebView() {\r\n\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setAllowFileAccess(true);\r\n        // Set other WebView settings as needed\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        webView.getSettings().setMediaPlaybackRequiresUserGesture(false); // Allow autoplay of media\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.setWebChromeClient(new WebChromeClient());\r\n        webView.getSettings().setUseWideViewPort (true);\r\n        webView.getSettings().setLoadWithOverviewMode (true);\r\n        webView.getSettings().setCacheMode (WebSettings.LOAD_NO_CACHE);\r\n        webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\r\n        webView.getSettings().setUserAgentString(&quot;Mozilla/5.0 (iPhone; U; CPU like Mac OS X; en) AppleWebKit/420+ (KHTML, like Gecko) Version/3.0 Mobile/1A543a&#160;Safari/419.3&quot;);\r\n        webView.clearCache(true);\r\n        webView.clearHistory();\r\n        webView.clearFormData();\r\n        webView.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n                return super.shouldInterceptRequest(view, request);\r\n            }\r\n            @Override\r\n            public void onReceivedError(WebView view, WebResourceRequest request, WebResourceError error) {\r\n                super.onReceivedError(view, request, error);\r\n                Log.d(&quot;TAG&quot;, &quot;onReceivedError: &quot;+error.toString());\r\n            }\r\n        });\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n            WebView.setWebContentsDebuggingEnabled(true);\r\n        }\r\n\r\n\r\n        webView.setWebChromeClient(new WebChromeClient());\r\n        webView.loadUrl(&quot;https://19.avchats.net/&quot;);\r\n    }\r\n\r\nWebsite is working fine in mobile and in pc and in webview only the issue is with permission","title":"Click on website not working in WebView Android","body":"<p>Hello I am trying to add this website (<a href=\"https://19.avchats.net/\" rel=\"nofollow noreferrer\">https://19.avchats.net/</a>) into webView of android But the problem is Website have some buttons in it and one of them is used to join conference call. it need the Microphone permission to join. when we click on microphone icon in website it ask for microphone permission in website and if your allow it it join conference call. but the issue is when i add it into webview in android. the button who need microphone permission is not working other buttons are working. that button who need permission does not ask any permission. i have tried to give Audio permission manually to the app as well. but still not working. Please see the code i write:</p>\n<pre><code>if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED ||\n                ContextCompat.checkSelfPermission(this, Manifest.permission.MODIFY_AUDIO_SETTINGS) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.RECORD_AUDIO, Manifest.permission.MODIFY_AUDIO_SETTINGS},\n                    PERMISSION_REQUEST_CODE);\n        } else {\n            configureWebView();\n        }\n</code></pre>\n<p>webview function</p>\n<pre><code>    private void configureWebView() {\n\n    webView.getSettings().setJavaScriptEnabled(true);\n    webView.getSettings().setAllowFileAccess(true);\n    // Set other WebView settings as needed\n    webView.getSettings().setDomStorageEnabled(true);\n    webView.getSettings().setMediaPlaybackRequiresUserGesture(false); // Allow autoplay of media\n    webView.setWebViewClient(new WebViewClient());\n    webView.setWebChromeClient(new WebChromeClient());\n    webView.getSettings().setUseWideViewPort (true);\n    webView.getSettings().setLoadWithOverviewMode (true);\n    webView.getSettings().setCacheMode (WebSettings.LOAD_NO_CACHE);\n    webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n    webView.getSettings().setUserAgentString(&quot;Mozilla/5.0 (iPhone; U; CPU like Mac OS X; en) AppleWebKit/420+ (KHTML, like Gecko) Version/3.0 Mobile/1A543a Safari/419.3&quot;);\n    webView.clearCache(true);\n    webView.clearHistory();\n    webView.clearFormData();\n    webView.setWebViewClient(new WebViewClient() {\n        @Override\n        public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n            return super.shouldInterceptRequest(view, request);\n        }\n        @Override\n        public void onReceivedError(WebView view, WebResourceRequest request, WebResourceError error) {\n            super.onReceivedError(view, request, error);\n            Log.d(&quot;TAG&quot;, &quot;onReceivedError: &quot;+error.toString());\n        }\n    });\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n        WebView.setWebContentsDebuggingEnabled(true);\n    }\n\n\n    webView.setWebChromeClient(new WebChromeClient());\n    webView.loadUrl(&quot;https://19.avchats.net/&quot;);\n}\n</code></pre>\n<p>Website is working fine in mobile and in pc and in webview only the issue is with permission</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2890991,"reputation":2561,"user_id":2479786,"accept_rate":64,"display_name":"Ehud Lev"},"score":0,"creation_date":1529404279,"post_id":50921061,"comment_id":88851472,"body_markdown":"What would you like to test ? Maybe you can add countdown latch to get callback when consumer consumed (not the mockito way the multi thread way)","body":"What would you like to test ? Maybe you can add countdown latch to get callback when consumer consumed (not the mockito way the multi thread way)"},{"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"score":0,"creation_date":1536920660,"post_id":50921061,"comment_id":91606626,"body_markdown":"did you found how to test consumer?","body":"did you found how to test consumer?"},{"owner":{"account_id":4893121,"reputation":2548,"user_id":3943600,"accept_rate":67,"display_name":"codebot"},"score":0,"creation_date":1537177191,"post_id":50921061,"comment_id":91673756,"body_markdown":"Nope. couldn&#39;t find a way to test a consumer that implemented by a `Runnable`. But found some ways to test normal consumer which is implemented in a normal class.","body":"Nope. couldn&#39;t find a way to test a consumer that implemented by a <code>Runnable</code>. But found some ways to test normal consumer which is implemented in a normal class."},{"owner":{"account_id":11615535,"reputation":233,"user_id":8508429,"accept_rate":71,"display_name":"Fasco"},"score":0,"creation_date":1562767139,"post_id":50921061,"comment_id":100481005,"body_markdown":"And can you share us a link?","body":"And can you share us a link?"},{"owner":{"account_id":4893121,"reputation":2548,"user_id":3943600,"accept_rate":67,"display_name":"codebot"},"score":0,"creation_date":1562910285,"post_id":50921061,"comment_id":100534793,"body_markdown":"I don&#39;t have it at the moment. Give me some time. I will ping you with a link.","body":"I don&#39;t have it at the moment. Give me some time. I will ping you with a link."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1701099954,"post_id":50921061,"comment_id":136730051,"body_markdown":"Where&#39;s the producer?","body":"Where&#39;s the producer?"}],"answers":[{"tags":[],"owner":{"account_id":11486354,"reputation":33,"user_id":8418924,"display_name":"Utkarsh M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637695793,"creation_date":1590961002,"answer_id":62122797,"question_id":50921061,"body_markdown":"I would suggest to use Mockito, like below sample\r\n\r\n    \r\n    Consumer&lt;String, String&gt; kafkaConsumerLocal = mock(Consumer.class);\r\n    KafkaConsumer kafkaConsumer = spy(new KafkaConsumer(&quot;topic-name&quot;));\r\n\r\n    ReflectionTestUtils.setField(kafkaConsumer, &quot;threadPoolCount&quot;, 1);\r\n    ReflectionTestUtils.setField(kafkaConsumer, &quot;consumer&quot;, kafkaConsumerLocal);\r\n\r\n    doNothing().when(kafkaConsumer).runConsumer();\r\n    doNothing().when(kafkaConsumer).addShutDownHook();\r\n    doReturn(kafkaConsumerLocal).when(consumerInit).getKafkaConsumer();","title":"Writing JUnit tests for Kafka Consumer","body":"<p>I would suggest to use Mockito, like below sample</p>\n<pre><code>Consumer&lt;String, String&gt; kafkaConsumerLocal = mock(Consumer.class);\nKafkaConsumer kafkaConsumer = spy(new KafkaConsumer(&quot;topic-name&quot;));\n\nReflectionTestUtils.setField(kafkaConsumer, &quot;threadPoolCount&quot;, 1);\nReflectionTestUtils.setField(kafkaConsumer, &quot;consumer&quot;, kafkaConsumerLocal);\n\ndoNothing().when(kafkaConsumer).runConsumer();\ndoNothing().when(kafkaConsumer).addShutDownHook();\ndoReturn(kafkaConsumerLocal).when(consumerInit).getKafkaConsumer();\n</code></pre>\n"}],"owner":{"account_id":4893121,"reputation":2548,"user_id":3943600,"accept_rate":67,"display_name":"codebot"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14816,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1692554615,"creation_date":1529385404,"question_id":50921061,"body_markdown":"I have a kafka consumer which is subscribing on a topic. Implementation is working fine. But when trying to implement unit tests for that, there&#39;s a problem because of it&#39;s implementing by `Runnable` interface. \r\n\r\n__Implementation__\r\n\r\n    @Override\r\n    public void run() {\r\n        kafkaConsumer.subscribe(kafkaTopics);\r\n\r\n        while (true) {\r\n            ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(1000);\r\n            Map&lt;String, InventoryStock&gt; skuMap = new LinkedHashMap&lt;&gt;();\r\n\r\n            try {\r\n                // populating sku map with consumer record\r\n                for (ConsumerRecord&lt;String, String&gt; record : records) {\r\n                    populateMap(skuMap, record.value());\r\n                }\r\n\r\n                if (MapUtils.isNotEmpty(skuMap)) {\r\n                    // writing sku inventory with populated sku map\r\n                    inventoryDao.updateInventoryTable(INVENTORY_JOB_ID, skuMap);\r\n                }\r\n            } catch (Exception e) {\r\n                \r\n            }\r\n            kafkaConsumer.commitAsync();\r\n        }\r\n    }\r\n\r\nI tried to implement the tests using `MockConsumer`. But it needs to be assigned to the consumer in implementation. But consumer in implementation doesn&#39;t expose out side. Here what I tried. \r\n\r\n    @Before\r\n    public void onBefore() {\r\n        MockitoAnnotations.initMocks(this);\r\n\r\n        Properties consumerProps = new Properties();\r\n        consumerProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        consumerProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;test-group&quot;);\r\n        consumerProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        consumerProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\r\n        consumer = new MockConsumer&lt;&gt;(OffsetResetStrategy.EARLIEST);\r\n        skuInventoryConsumer = new SkuInventoryConsumer(consumerProps);\r\n\r\n        KafkaConsumer kafkaConsumerMock = mock(KafkaConsumer.class);\r\n\r\n        Whitebox.setInternalState(skuInventoryConsumer, &quot;LOGGER&quot;, LOGGER);\r\n        Whitebox.setInternalState(skuInventoryConsumer, &quot;kafkaConsumer&quot;, kafkaConsumerMock);\r\n\r\n    }\r\n\r\n    @Test\r\n    public void should_subscribe_on_topic() {\r\n        consumer.assign(Arrays.asList(new TopicPartition(&quot;my_topic&quot;, 0)));\r\n\r\n        HashMap&lt;TopicPartition, Long&gt; beginningOffsets = new HashMap&lt;&gt;();\r\n        beginningOffsets.put(new TopicPartition(&quot;my_topic&quot;, 0), 0L);\r\n        consumer.updateBeginningOffsets(beginningOffsets);\r\n\r\n        consumer.addRecord(new ConsumerRecord&lt;&gt;(&quot;my_topic&quot;, 0, 0L, &quot;mykey&quot;, &quot;myvalue0&quot;));\r\n        consumer.addRecord(new ConsumerRecord&lt;&gt;(&quot;my_topic&quot;, 0, 1L, &quot;mykey&quot;, &quot;myvalue1&quot;));\r\n        consumer.addRecord(new ConsumerRecord&lt;&gt;(&quot;my_topic&quot;, 0, 2L, &quot;mykey&quot;, &quot;myvalue2&quot;));\r\n        consumer.addRecord(new ConsumerRecord&lt;&gt;(&quot;my_topic&quot;, 0, 3L, &quot;mykey&quot;, &quot;myvalue3&quot;));\r\n        consumer.addRecord(new ConsumerRecord&lt;&gt;(&quot;my_topic&quot;, 0, 4L, &quot;mykey&quot;, &quot;myvalue4&quot;));\r\n    }\r\n\r\nSince it&#39;s a `runnable` and consumer is not exposed this test not working as expected. How may I fix this?","title":"Writing JUnit tests for Kafka Consumer","body":"<p>I have a kafka consumer which is subscribing on a topic. Implementation is working fine. But when trying to implement unit tests for that, there's a problem because of it's implementing by <code>Runnable</code> interface. </p>\n\n<p><strong>Implementation</strong></p>\n\n<pre><code>@Override\npublic void run() {\n    kafkaConsumer.subscribe(kafkaTopics);\n\n    while (true) {\n        ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(1000);\n        Map&lt;String, InventoryStock&gt; skuMap = new LinkedHashMap&lt;&gt;();\n\n        try {\n            // populating sku map with consumer record\n            for (ConsumerRecord&lt;String, String&gt; record : records) {\n                populateMap(skuMap, record.value());\n            }\n\n            if (MapUtils.isNotEmpty(skuMap)) {\n                // writing sku inventory with populated sku map\n                inventoryDao.updateInventoryTable(INVENTORY_JOB_ID, skuMap);\n            }\n        } catch (Exception e) {\n\n        }\n        kafkaConsumer.commitAsync();\n    }\n}\n</code></pre>\n\n<p>I tried to implement the tests using <code>MockConsumer</code>. But it needs to be assigned to the consumer in implementation. But consumer in implementation doesn't expose out side. Here what I tried. </p>\n\n<pre><code>@Before\npublic void onBefore() {\n    MockitoAnnotations.initMocks(this);\n\n    Properties consumerProps = new Properties();\n    consumerProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n    consumerProps.put(ConsumerConfig.GROUP_ID_CONFIG, \"test-group\");\n    consumerProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    consumerProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n\n    consumer = new MockConsumer&lt;&gt;(OffsetResetStrategy.EARLIEST);\n    skuInventoryConsumer = new SkuInventoryConsumer(consumerProps);\n\n    KafkaConsumer kafkaConsumerMock = mock(KafkaConsumer.class);\n\n    Whitebox.setInternalState(skuInventoryConsumer, \"LOGGER\", LOGGER);\n    Whitebox.setInternalState(skuInventoryConsumer, \"kafkaConsumer\", kafkaConsumerMock);\n\n}\n\n@Test\npublic void should_subscribe_on_topic() {\n    consumer.assign(Arrays.asList(new TopicPartition(\"my_topic\", 0)));\n\n    HashMap&lt;TopicPartition, Long&gt; beginningOffsets = new HashMap&lt;&gt;();\n    beginningOffsets.put(new TopicPartition(\"my_topic\", 0), 0L);\n    consumer.updateBeginningOffsets(beginningOffsets);\n\n    consumer.addRecord(new ConsumerRecord&lt;&gt;(\"my_topic\", 0, 0L, \"mykey\", \"myvalue0\"));\n    consumer.addRecord(new ConsumerRecord&lt;&gt;(\"my_topic\", 0, 1L, \"mykey\", \"myvalue1\"));\n    consumer.addRecord(new ConsumerRecord&lt;&gt;(\"my_topic\", 0, 2L, \"mykey\", \"myvalue2\"));\n    consumer.addRecord(new ConsumerRecord&lt;&gt;(\"my_topic\", 0, 3L, \"mykey\", \"myvalue3\"));\n    consumer.addRecord(new ConsumerRecord&lt;&gt;(\"my_topic\", 0, 4L, \"mykey\", \"myvalue4\"));\n}\n</code></pre>\n\n<p>Since it's a <code>runnable</code> and consumer is not exposed this test not working as expected. How may I fix this?</p>\n"},{"tags":["java","function","loops"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1692550888,"post_id":76940459,"comment_id":135635696,"body_markdown":"(1) You have to use `YourClass::anotherFunction` or `someInstance::anotherFunction`, (2) your function is not really a function, but a `Supplier` as it takes no parameter.","body":"(1) You have to use <code>YourClass::anotherFunction</code> or <code>someInstance::anotherFunction</code>, (2) your function is not really a function, but a <code>Supplier</code> as it takes no parameter."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1692551224,"post_id":76940459,"comment_id":135635730,"body_markdown":"You can actually pass your method as a Runnable and then use the run method to execute it.\n`myFunction(() -&gt; anotherFunction())`","body":"You can actually pass your method as a Runnable and then use the run method to execute it. <code>myFunction(() -&gt; anotherFunction())</code>"},{"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"score":0,"creation_date":1692551395,"post_id":76940459,"comment_id":135635749,"body_markdown":"@Melron That works for calling functions, but is a void. I specifically need to get the output.","body":"@Melron That works for calling functions, but is a void. I specifically need to get the output."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1692551411,"post_id":76940459,"comment_id":135635751,"body_markdown":"Use `Callable&lt;String&gt;`.","body":"Use <code>Callable&lt;String&gt;</code>."}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692554965,"post_id":76940590,"comment_id":135636185,"body_markdown":"Check my answer for an alternative to `Callable`.  No need to specify return type as the compiler figures it out.","body":"Check my answer for an alternative to <code>Callable</code>.  No need to specify return type as the compiler figures it out."}],"tags":[],"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692552550,"creation_date":1692552550,"answer_id":76940590,"question_id":76940459,"body_markdown":"I figured out how to do this (thanks @Kayaman and @Melron)\r\n\r\nHere&#39;s how it works, with those same 2 functions:\r\n```\r\nString myFunction(Callable&lt;Object&gt; otherFunction) { // It&#39;s Callable&lt;Object&gt; because I want to be able to accept any type as the output - you can also use Callable&lt;String&gt; to accept only functions that output Strings.\r\n    try {\r\n        return otherFunction.call();\r\n    } catch (Exception e) {\r\n        return null;\r\n    }\r\n}\r\n\r\nString anotherFunction() {\r\n    return &quot;Hello World!&quot;;\r\n}\r\n```\r\nAnd for calling it, you would do `myFunction(() -&gt; anotherFunction())`.","title":"Pass function as value for another function","body":"<p>I figured out how to do this (thanks @Kayaman and @Melron)</p>\n<p>Here's how it works, with those same 2 functions:</p>\n<pre><code>String myFunction(Callable&lt;Object&gt; otherFunction) { // It's Callable&lt;Object&gt; because I want to be able to accept any type as the output - you can also use Callable&lt;String&gt; to accept only functions that output Strings.\n    try {\n        return otherFunction.call();\n    } catch (Exception e) {\n        return null;\n    }\n}\n\nString anotherFunction() {\n    return &quot;Hello World!&quot;;\n}\n</code></pre>\n<p>And for calling it, you would do <code>myFunction(() -&gt; anotherFunction())</code>.</p>\n"},{"tags":[],"owner":{"account_id":20467903,"reputation":11,"user_id":15018994,"display_name":"FeXa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692552664,"creation_date":1692552664,"answer_id":76940598,"question_id":76940459,"body_markdown":"You can solve this problem using the approach with interfaces as shown below (which is more reasonable).\r\n\r\n    interface MyFunction {\r\n        String call();\r\n    }\r\n    \r\n    class AnotherFunction implements MyFunction {\r\n        @Override\r\n        public String call() {\r\n            return &quot;Hello World!&quot;;\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n        public static String myFunction(MyFunction otherFunction) {\r\n            return otherFunction.call();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            MyFunction anotherFunction = new AnotherFunction();\r\n            String result = myFunction(anotherFunction);\r\n            System.out.println(result); // &quot;Hello World!&quot;\r\n        }\r\n    }\r\n\r\nOr you can also use the java.util.function package as demonstrated below.\r\n\r\n    import java.util.function.Supplier;\r\n    \r\n    public class Main {\r\n    \r\n        public static String myFunction(Supplier&lt;String&gt; otherFunction) {\r\n            return otherFunction.get();\r\n        }\r\n    \r\n        public static String anotherFunction() {\r\n            return &quot;Hello World!&quot;;\r\n     }\r\n    \r\n        public static void main(String[] args) {\r\n            String result = myFunction(Main::anotherFunction);\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n","title":"Pass function as value for another function","body":"<p>You can solve this problem using the approach with interfaces as shown below (which is more reasonable).</p>\n<pre><code>interface MyFunction {\n    String call();\n}\n\nclass AnotherFunction implements MyFunction {\n    @Override\n    public String call() {\n        return &quot;Hello World!&quot;;\n    }\n}\n\npublic class Main {\n    public static String myFunction(MyFunction otherFunction) {\n        return otherFunction.call();\n    }\n\n    public static void main(String[] args) {\n        MyFunction anotherFunction = new AnotherFunction();\n        String result = myFunction(anotherFunction);\n        System.out.println(result); // &quot;Hello World!&quot;\n    }\n}\n</code></pre>\n<p>Or you can also use the java.util.function package as demonstrated below.</p>\n<pre><code>import java.util.function.Supplier;\n\npublic class Main {\n\n    public static String myFunction(Supplier&lt;String&gt; otherFunction) {\n        return otherFunction.get();\n    }\n\n    public static String anotherFunction() {\n        return &quot;Hello World!&quot;;\n }\n\n    public static void main(String[] args) {\n        String result = myFunction(Main::anotherFunction);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692552859,"creation_date":1692552859,"answer_id":76940604,"question_id":76940459,"body_markdown":"Java is fully typed. Hence, `Function` as an argument just isn&#39;t going to fly: How many arguments does this function take, and what are its types? Does this function return anything, and if it does, what type does that have? `Function` doesn&#39;t cover any of that. Hence, this doesn&#39;t work.\r\n\r\nJava has taken a somewhat unique approach to the notion of making code referencable (i.e. &quot;passing functions around&quot;). You __first__ describe the precise thing that you want to accept (not _just_ in terms of the # of types of the parameters and the return type, but also more semantically: You give it a name). You do this in a so-called functional interface - that&#39;s an interface that has only 1 method (after stripping out anything `Object` itself already defines, and anything with a `default` impl). You can annotate them with `@FunctionalInterface`; - such interfaces (with 1 method) that aren&#39;t annotated as such are still functional interfaces; the annotation simply serves as compiler-checked documentation (in that if it isn&#39;t one, `javac` will refuse to compile it).\r\n\r\nSo, let&#39;s make one. For this hypothetical scenario, we have a simple calculator, and we want to represent the action that is to be performed when someone presses a function button. This is a bit of an odd calculator; it only deals with integers.\r\n\r\nThis would be in _your_ code:\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface IntCalculatorOp {\r\n  public int calculate(int a, int b);\r\n}\r\n```\r\n\r\nYou could fancy this up and introduce the notion of unary and binary operations, but let&#39;s keep it simple as this is just an example to show how all this works; this calculator only does binary operations.\r\n\r\nYou can now define the calculator itself:\r\n\r\n```java\r\nclass IntCalculator {\r\n\tprivate final Map&lt;String, IntCalculatorOp&gt; ops = new HashMap&lt;&gt;();\r\n\t\r\n\tpublic void registerOp(String button, IntCalculatorOp op) {\r\n\t\tthis.ops.put(button, op);\r\n\t}\r\n\t\r\n\t// I wouldn&#39;t use Stack in a serious project - just an example!\r\n\tprivate Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n\t\r\n\tpublic void enterNumber(int num) {\r\n\t\tstack.push(num);\r\n\t}\r\n\t\r\n\tpublic void pressButton(String button) {\r\n\t\tint b = stack.pop();\r\n\t\tint a = stack.pop();\r\n\t\tstack.push(ops.get(button).calculate(a, b));\r\n\t}\r\n\t\r\n\tpublic int get() {\r\n\t\treturn stack.pop();\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tvar calc = new IntCalculator();\r\n\t\tcalc.registerOp(&quot;+&quot;, (a, b) -&gt; a + b);\r\n\t\tcalc.registerOp(&quot;*&quot;, (a, b) -&gt; a * b);\r\n\t\t\r\n\t\tcalc.enterNumber(5);\r\n\t\tcalc.enterNumber(2);\r\n\t\tcalc.pressButton(&quot;+&quot;);\r\n\t\tSystem.out.println(&quot;5 + 2 = &quot; + calc.get());\r\n\t\tcalc.enterNumber(4);\r\n\t\tcalc.enterNumber(3);\r\n\t\tcalc.pressButton(&quot;*&quot;);\r\n\t\tSystem.out.println(&quot;4 * 3 = &quot; + calc.get());\r\n\t}\r\n}\r\n```\r\n\r\nA few key aspects:\r\n\r\n* Lambda syntax (those `(a, b) -&gt; a + b` things) __require__ that you put them in a context where the compiler can figure out which functional interface they are supposed to be. The second arg of the `registerOp` method is `IntCalculatorOp` which is a functional interface, and that&#39;s why this works. You can&#39;t write `Object o = (a, b) -&gt; a + b;` because that&#39;s not sufficient context for the compiler to guess that you wanted an IntCalculatorOp there.\r\n\r\n* The `java.util.function` package has a few generalized function types. These are appropriate __only__ if you have a highly general concept, such as &#39;do a thing to all things in this list&#39; (e.g. java&#39;s own `Stream` has methods that take such arguments). If you can more specifically define semantically what a thing does (such as &#39;it represents a button on my integers-only calculator&#39;), you should make a type for it. Java is nominal and typed, work with the language, don&#39;t try to fight what it&#39;s about.\r\n\r\n* `Function` _can_ be used, but you need to add generics or the compiler can&#39;t know what the types must be. `Function&lt;String, Integer&gt;`, for example (lambdas that are passed to methods that take that type as argument could for example take the form of `String::length`, or `x -&gt; x.length()` - its a function that accepts 1 param of type String and returns a value of type Integer). `ToIntFunction&lt;String&gt;` is probably the better fit, though.\r\n","title":"Pass function as value for another function","body":"<p>Java is fully typed. Hence, <code>Function</code> as an argument just isn't going to fly: How many arguments does this function take, and what are its types? Does this function return anything, and if it does, what type does that have? <code>Function</code> doesn't cover any of that. Hence, this doesn't work.</p>\n<p>Java has taken a somewhat unique approach to the notion of making code referencable (i.e. &quot;passing functions around&quot;). You <strong>first</strong> describe the precise thing that you want to accept (not <em>just</em> in terms of the # of types of the parameters and the return type, but also more semantically: You give it a name). You do this in a so-called functional interface - that's an interface that has only 1 method (after stripping out anything <code>Object</code> itself already defines, and anything with a <code>default</code> impl). You can annotate them with <code>@FunctionalInterface</code>; - such interfaces (with 1 method) that aren't annotated as such are still functional interfaces; the annotation simply serves as compiler-checked documentation (in that if it isn't one, <code>javac</code> will refuse to compile it).</p>\n<p>So, let's make one. For this hypothetical scenario, we have a simple calculator, and we want to represent the action that is to be performed when someone presses a function button. This is a bit of an odd calculator; it only deals with integers.</p>\n<p>This would be in <em>your</em> code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface IntCalculatorOp {\n  public int calculate(int a, int b);\n}\n</code></pre>\n<p>You could fancy this up and introduce the notion of unary and binary operations, but let's keep it simple as this is just an example to show how all this works; this calculator only does binary operations.</p>\n<p>You can now define the calculator itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class IntCalculator {\n    private final Map&lt;String, IntCalculatorOp&gt; ops = new HashMap&lt;&gt;();\n    \n    public void registerOp(String button, IntCalculatorOp op) {\n        this.ops.put(button, op);\n    }\n    \n    // I wouldn't use Stack in a serious project - just an example!\n    private Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n    \n    public void enterNumber(int num) {\n        stack.push(num);\n    }\n    \n    public void pressButton(String button) {\n        int b = stack.pop();\n        int a = stack.pop();\n        stack.push(ops.get(button).calculate(a, b));\n    }\n    \n    public int get() {\n        return stack.pop();\n    }\n    public static void main(String[] args) {\n        var calc = new IntCalculator();\n        calc.registerOp(&quot;+&quot;, (a, b) -&gt; a + b);\n        calc.registerOp(&quot;*&quot;, (a, b) -&gt; a * b);\n        \n        calc.enterNumber(5);\n        calc.enterNumber(2);\n        calc.pressButton(&quot;+&quot;);\n        System.out.println(&quot;5 + 2 = &quot; + calc.get());\n        calc.enterNumber(4);\n        calc.enterNumber(3);\n        calc.pressButton(&quot;*&quot;);\n        System.out.println(&quot;4 * 3 = &quot; + calc.get());\n    }\n}\n</code></pre>\n<p>A few key aspects:</p>\n<ul>\n<li><p>Lambda syntax (those <code>(a, b) -&gt; a + b</code> things) <strong>require</strong> that you put them in a context where the compiler can figure out which functional interface they are supposed to be. The second arg of the <code>registerOp</code> method is <code>IntCalculatorOp</code> which is a functional interface, and that's why this works. You can't write <code>Object o = (a, b) -&gt; a + b;</code> because that's not sufficient context for the compiler to guess that you wanted an IntCalculatorOp there.</p>\n</li>\n<li><p>The <code>java.util.function</code> package has a few generalized function types. These are appropriate <strong>only</strong> if you have a highly general concept, such as 'do a thing to all things in this list' (e.g. java's own <code>Stream</code> has methods that take such arguments). If you can more specifically define semantically what a thing does (such as 'it represents a button on my integers-only calculator'), you should make a type for it. Java is nominal and typed, work with the language, don't try to fight what it's about.</p>\n</li>\n<li><p><code>Function</code> <em>can</em> be used, but you need to add generics or the compiler can't know what the types must be. <code>Function&lt;String, Integer&gt;</code>, for example (lambdas that are passed to methods that take that type as argument could for example take the form of <code>String::length</code>, or <code>x -&gt; x.length()</code> - its a function that accepts 1 param of type String and returns a value of type Integer). <code>ToIntFunction&lt;String&gt;</code> is probably the better fit, though.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692554494,"creation_date":1692554494,"answer_id":76940712,"question_id":76940459,"body_markdown":"If you are just returning a value then why not use a `Supplier&lt;T&gt;`.  Then you can return the appropriate type.\r\n```\r\nString result1 = myFunction(this::anotherFunction);\r\nint result2 = myFunction(this::anotherFunction2);\r\nSystem.out.println(result1);\r\nSystem.out.println(result2);\r\n```\r\nprints\r\n```\r\nHello, World\r\n23\r\n```   \r\n```\r\npublic  &lt;T&gt; T myFunction(Supplier&lt;T&gt; otherFunction) {\r\n    return otherFunction.get();\r\n}\r\n\r\npublic String anotherFunction() {\r\n     return &quot;Hello, World&quot;;\r\n}\r\npublic Integer anotherFunction2() {\r\n    return 23;\r\n}","title":"Pass function as value for another function","body":"<p>If you are just returning a value then why not use a <code>Supplier&lt;T&gt;</code>.  Then you can return the appropriate type.</p>\n<pre><code>String result1 = myFunction(this::anotherFunction);\nint result2 = myFunction(this::anotherFunction2);\nSystem.out.println(result1);\nSystem.out.println(result2);\n</code></pre>\n<p>prints</p>\n<pre><code>Hello, World\n23\n</code></pre>\n<pre><code>public  &lt;T&gt; T myFunction(Supplier&lt;T&gt; otherFunction) {\n    return otherFunction.get();\n}\n\npublic String anotherFunction() {\n     return &quot;Hello, World&quot;;\n}\npublic Integer anotherFunction2() {\n    return 23;\n}\n</code></pre>\n"}],"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1692554494,"creation_date":1692550552,"question_id":76940459,"body_markdown":"I&#39;ve been trying to find out how to do this, but can&#39;t seem to find a good result.\r\n\r\nWhat I&#39;m trying to do is pass a function in another function, and then get the result (in the actual code it would be in a loop, so the point is to get the value as it updates even if the value is private).\r\n\r\nSo the code (pseudocode)\r\n```\r\nString myFunction(Function otherFunction) {\r\n    return otherFunction.call();\r\n}\r\n\r\nString anotherFunction() {\r\n    return &quot;Hello World!&quot;;\r\n}\r\n```\r\nWould make it so running `myFunction(anotherFunction);` would return &quot;Hello World!&quot;","title":"Pass function as value for another function","body":"<p>I've been trying to find out how to do this, but can't seem to find a good result.</p>\n<p>What I'm trying to do is pass a function in another function, and then get the result (in the actual code it would be in a loop, so the point is to get the value as it updates even if the value is private).</p>\n<p>So the code (pseudocode)</p>\n<pre><code>String myFunction(Function otherFunction) {\n    return otherFunction.call();\n}\n\nString anotherFunction() {\n    return &quot;Hello World!&quot;;\n}\n</code></pre>\n<p>Would make it so running <code>myFunction(anotherFunction);</code> would return &quot;Hello World!&quot;</p>\n"},{"tags":["java","spring","spring-boot","maven","graalvm"],"answers":[{"comments":[{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1685683957,"post_id":76379962,"comment_id":134697997,"body_markdown":"Thanks Andy, I have updated the details in the question, can you please help with that?","body":"Thanks Andy, I have updated the details in the question, can you please help with that?"},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1685695042,"post_id":76379962,"comment_id":134699904,"body_markdown":"Can I create the container image uisng the jib with `mvn compile -Pnative jib:build -Dimage=$REPO:$TAG -Djib.container.environment=SPRING_PROFILES_ACTIVE=prod` Do I will need to use paketobuildpacks if I use jib?","body":"Can I create the container image uisng the jib with <code>mvn compile -Pnative jib:build -Dimage=$REPO:$TAG -Djib.container.environment=SPRING_PROFILES_ACTIVE=prod</code> Do I will need to use paketobuildpacks if I use jib?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1685701374,"post_id":76379962,"comment_id":134701196,"body_markdown":"Your edits have completely changed the question. Please ask a new question instead of doing that.\n\nBuildpacks and Jib are two separate ways of building container images. You should use one or the other.","body":"Your edits have completely changed the question. Please ask a new question instead of doing that.  Buildpacks and Jib are two separate ways of building container images. You should use one or the other."},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1685702481,"post_id":76379962,"comment_id":134701422,"body_markdown":"Yes Andy, Can I use jib with GraalVM native using `mvn compile -Pnative jib:build -Dimage=$REPO:$TAG -Djib.container.environment=SPRING_PROFILES_ACTIVE=prod` without adding the buildpacks?","body":"Yes Andy, Can I use jib with GraalVM native using <code>mvn compile -Pnative jib:build -Dimage=$REPO:$TAG -Djib.container.environment=SPRING_PROFILES_ACTIVE=prod</code> without adding the buildpacks?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1685714387,"post_id":76379962,"comment_id":134704001,"body_markdown":"Adding the bulidpacks will have no effect on how jib behaves. Whether jib can build a container image for a native image is another separate question. You probably want to look at https://github.com/GoogleContainerTools/jib-extensions/tree/9583ac44e3b7097d191696f40714d40526ab85ff/first-party/jib-native-image-extension-maven.","body":"Adding the bulidpacks will have no effect on how jib behaves. Whether jib can build a container image for a native image is another separate question. You probably want to look at <a href=\"https://github.com/GoogleContainerTools/jib-extensions/tree/9583ac44e3b7097d191696f40714d40526ab85ff/first-party/jib-native-image-extension-maven\" rel=\"nofollow noreferrer\">github.com/GoogleContainerTools/jib-extensions/tree/&hellip;</a>."}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685607724,"creation_date":1685607724,"answer_id":76379962,"question_id":76378803,"body_markdown":"&gt; I can see the performance on the application startup time which is good, however jar file size has increased which is supposed to be less than ~61MB\r\n\r\nA native image is a platform-specific binary that can be executed without a JVM. The size of the jar file isn&#39;t relevant.\r\n\r\n&gt; Does I am using the correct command for build with GraalVM by using mvn clean install -Pnative\r\n\r\nIf you want to use buildpacks to create a container image that contains a native executable you should run `mvn -Pnative spring-boot:build-image`.\r\n\r\nIf you want to build a native executable directly on your machine, you should run `mvn -Pnative native:compile`. You also need to add the Native Build Tools Maven plugin:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n&gt; If I do add below in the configurations of spring-boot-maven-plugin, I am getting the shared error message\r\n\r\nIt&#39;s hard to tell with only a snippet of configuration and no stack trace but I suspect you&#39;ve placed the configuration within the wrong tags. It should look something like this:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;image&gt;\r\n            &lt;buildpacks&gt;\r\n                &lt;buildpack&gt;paketobuildpacks/builder:full&lt;/buildpack&gt;\r\n            &lt;/buildpacks&gt;\r\n            &lt;env&gt;\r\n                &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n            &lt;/env&gt;\r\n        &lt;/image&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n``` ","title":"Spring Boot: GraalVM Native Image Support","body":"<blockquote>\n<p>I can see the performance on the application startup time which is good, however jar file size has increased which is supposed to be less than ~61MB</p>\n</blockquote>\n<p>A native image is a platform-specific binary that can be executed without a JVM. The size of the jar file isn't relevant.</p>\n<blockquote>\n<p>Does I am using the correct command for build with GraalVM by using mvn clean install -Pnative</p>\n</blockquote>\n<p>If you want to use buildpacks to create a container image that contains a native executable you should run <code>mvn -Pnative spring-boot:build-image</code>.</p>\n<p>If you want to build a native executable directly on your machine, you should run <code>mvn -Pnative native:compile</code>. You also need to add the Native Build Tools Maven plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<blockquote>\n<p>If I do add below in the configurations of spring-boot-maven-plugin, I am getting the shared error message</p>\n</blockquote>\n<p>It's hard to tell with only a snippet of configuration and no stack trace but I suspect you've placed the configuration within the wrong tags. It should look something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;image&gt;\n            &lt;buildpacks&gt;\n                &lt;buildpack&gt;paketobuildpacks/builder:full&lt;/buildpack&gt;\n            &lt;/buildpacks&gt;\n            &lt;env&gt;\n                &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n            &lt;/env&gt;\n        &lt;/image&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6344480,"reputation":21,"user_id":4925461,"display_name":"Glauco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692552926,"creation_date":1692552926,"answer_id":76940614,"question_id":76378803,"body_markdown":"I hade the same problem of your update and I fixed it by adding this args configuration in native-maven-plugin.\r\n\r\n```\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;buildArgs&gt;\r\n          &lt;arg&gt;\r\n             --initialize-at-build-time=org.apache.commons.logging.LogFactory,org.apache.commons.logging.LogFactoryService,\r\n          &lt;/arg&gt;\r\n        &lt;/buildArgs&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n```\r\n","title":"Spring Boot: GraalVM Native Image Support","body":"<p>I hade the same problem of your update and I fixed it by adding this args configuration in native-maven-plugin.</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n      &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;buildArgs&gt;\n          &lt;arg&gt;\n             --initialize-at-build-time=org.apache.commons.logging.LogFactory,org.apache.commons.logging.LogFactoryService,\n          &lt;/arg&gt;\n        &lt;/buildArgs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n</code></pre>\n"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1038,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692552926,"creation_date":1685595878,"question_id":76378803,"body_markdown":"I have a Spring Boot project which was initially using version 2.7.6 with Java 11 and currently, I am adding the [GraalVM Native Image Support][1] by following the documentation with [Building a Native Image Using Buildpacks][2] option. I have changed the version to 3.1.0 with Java 17 and modified the pom.xml. I have also done the changes regarding spring-data-jpa and refactored the import statements and now I am able to run the application.  \r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nMy understanding of adding the GraalVM is that it will make the application start-up time faster and reduce the build size of jar file or the docker image of an application. Below is the comparison.\r\n\r\n**Before GraalVM:**  &lt;br&gt;\r\nApplication start in ~7s &lt;br&gt;\r\nTime to run `mvn clean install` ~15s  &lt;br&gt;\r\nJar file size ~61MB \r\n\r\n**After GraalVM:**  &lt;br&gt;\r\nApplication start in : ~2s  &lt;br&gt;\r\nTime to run `mvn clean install -Pnative` ~12s  &lt;br&gt;\r\nJar file size ~77MB\r\n   \r\n**Questions are:**\r\n1. I can see the performance on the application startup time which is good, however jar file size has increased which is supposed to be less than ~61MB\r\n\r\n2. Does I am using the correct command for build with GraalVM by using `mvn clean install -Pnative`\r\n\r\n3. In the documentation there is note as below, do I need to add anything in the pom.xml? \r\n\r\n&gt; The builder used for the images is paketobuildpacks/builder:tiny. It\r\n&gt; has small footprint and reduced attack surface, but you can also use\r\n&gt; paketobuildpacks/builder:base or paketobuildpacks/builder:full to have\r\n&gt; more tools available in the image if required.\r\n\r\nIf I do add below in the configurations of spring-boot-maven-plugin, I am getting the shared error message\r\n\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;buildpacks&gt;\r\n\t\t\t\t\t\t\t&lt;buildpack&gt;paketobuildpacks/builder:full&lt;/buildpack&gt;\r\n\t\t\t\t\t\t&lt;/buildpacks&gt;\r\n\t\t\t\t\t\t&lt;env&gt;\r\n\t\t\t\t\t\t\t&lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n\t\t\t\t\t\t&lt;/env&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\r\n \r\n**class org.springframework.boot.maven.Image cannot be cast to class org.springframework.boot.maven.FilterableDependency (org.springframework.boot.maven.Image and org.springframework.boot.maven.FilterableDependency are in unnamed module of loader org.codehaus.plexus.classworlds.realm.ClassRealm @6228d0bd)** \r\n\r\n\r\n----------\r\n**UPDATE:**\r\n\r\nWhen I do run `mvn -Pnative native:compile` I am getting the below error. \r\n\r\n**Error: Classes that should be initialized at run time got initialized during image building:\r\n org.apache.commons.logging.LogFactory was unintentionally initialized at build time. To see why org.apache.commons.logging.LogFactory got initialized use --trace-class-initialization=org.apache.commons.logging.LogFactory\r\norg.apache.commons.logging.LogFactoryService was unintentionally initialized at build time. To see why org.apache.commons.logging.LogFactoryService got initialized use --trace-class-initialization=org.apache.commons.logging.LogFactoryService**\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.xyz&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;abc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;abc&lt;/name&gt;\r\n    \t&lt;description&gt;Application&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;springdoc-openapi-ui.version&gt;1.6.13&lt;/springdoc-openapi-ui.version&gt;\r\n    \t\t&lt;problem.version&gt;0.26.0&lt;/problem.version&gt;\r\n    \t\t&lt;org.json.version&gt;20220320&lt;/org.json.version&gt;\r\n    \t\t&lt;apache.commons.lang3.version&gt;3.12.0&lt;/apache.commons.lang3.version&gt;\r\n    \t\t&lt;checkstyle-plugin.version&gt;3.2.0&lt;/checkstyle-plugin.version&gt;\r\n    \t\t&lt;checkstyle.version&gt;10.5.0&lt;/checkstyle.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.json.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${apache.commons.lang3.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zalando&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;problem-spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${problem.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.zalando&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-problem&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${problem.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.xeroapi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;xero-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.26.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.43.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;image&gt;\r\n    \t\t\t\t\t\t&lt;buildpacks&gt;\r\n    \t\t\t\t\t\t\t&lt;buildpack&gt;paketobuildpacks/builder:full&lt;/buildpack&gt;\r\n    \t\t\t\t\t\t&lt;/buildpacks&gt;\r\n    \t\t\t\t\t\t&lt;env&gt;\r\n    \t\t\t\t\t\t\t&lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n    \t\t\t\t\t\t&lt;/env&gt;\r\n    \t\t\t\t\t&lt;/image&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;build-info&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n    \t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;1.18.26&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${checkstyle-plugin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${checkstyle.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;checkstyle&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;**/module-info.java,**/target/**/*,**/protocols/**/*&lt;/excludes&gt;\r\n    \t\t\t\t\t&lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n    \t\t\t\t\t&lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n    \t\t\t\t\t&lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\r\n    \t\t\t\t\t&lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\r\n    \t\t\t\t\t&lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nIn console I can also see the below logs\r\n\r\n    Warning: Could not resolve org.jboss.logmanager.LogManager for reflection configuration. Reason: java.lang.ClassNotFoundException: org.jboss.logmanager.LogManager.\r\n    Warning: Could not resolve com.sun.el.ExpressionFactoryImpl for reflection configuration. Reason: java.lang.ClassNotFoundException: com.sun.el.ExpressionFactoryImpl.\r\n    Warning: Could not resolve groovy.grape.GrabAnnotationTransformation for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.grape.GrabAnnotationTransformation.\r\n    Warning: Could not resolve groovy.lang.Script for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.lang.Script.\r\n    Warning: Could not resolve groovy.lang.Script for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.lang.Script.\r\n    Warning: Could not resolve groovyjarjarantlr.CommonToken for reflection configuration. Reason: java.lang.ClassNotFoundException: groovyjarjarantlr.CommonToken.\r\n    Warning: Could not resolve javafx.beans.value.ObservableValue for reflection configuration. Reason: java.lang.ClassNotFoundException: javafx.beans.value.ObservableValue.\r\n    Warning: Could not resolve javax.money.MonetaryAmount for reflection configuration. Reason: java.lang.ClassNotFoundException: javax.money.MonetaryAmount.\r\n    Warning: Could not resolve org.codehaus.groovy.antlr.GroovySourceAST for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.antlr.GroovySourceAST.\r\n    Warning: Could not resolve org.codehaus.groovy.ast.builder.AstBuilderTransformation for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.ast.builder.AstBuilderTransformation.\r\n    Warning: Could not resolve org.codehaus.groovy.runtime.ScriptBytecodeAdapter for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.runtime.ScriptBytecodeAdapter.\r\n    Warning: Could not resolve org.glassfish.expressly.ValueExpressionImpl for reflection configuration. Reason: java.lang.ClassNotFoundException: org.glassfish.expressly.ValueExpressionImpl.\r\n    Warning: Could not resolve org.glassfish.expressly.parser.AstValue for reflection configuration. Reason: java.lang.ClassNotFoundException: org.glassfish.expressly.parser.AstValue.\r\n    Warning: Could not resolve org.joda.time.ReadableInstant for reflection configuration. Reason: java.lang.ClassNotFoundException: org.joda.time.ReadableInstant.\r\n    Warning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.future.FutureValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\r\n    Warning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.futureorpresent.FutureOrPresentValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\r\n    Warning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.past.PastValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\r\n    Warning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.pastorpresent.PastOrPresentValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.getScheduledExecutorService() not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.isInitializationFailFast() not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.isJdbc4ConnectionTest() not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.setInitializationFailFast(boolean) not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.setJdbc4ConnectionTest(boolean) not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.setScheduledExecutorService(ScheduledThreadPoolExecutor) not found.\r\n    Warning: Could not resolve oracle.jdbc.OracleConnection for reflection configuration. Reason: java.lang.ClassNotFoundException: oracle.jdbc.OracleConnection.\r\n    Warning: Could not resolve org.h2.Driver for reflection configuration. Reason: java.lang.ClassNotFoundException: org.h2.Driver.\r\n    Warning: Could not resolve org.postgresql.util.PGobject for reflection configuration. Reason: java.lang.ClassNotFoundException: org.postgresql.util.PGobject.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.getScheduledExecutorService() not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.isInitializationFailFast() not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.isJdbc4ConnectionTest() not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.setInitializationFailFast(boolean) not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.setJdbc4ConnectionTest(boolean) not found.\r\n    Warning: Method com.zaxxer.hikari.HikariConfig.setScheduledExecutorService(ScheduledThreadPoolExecutor) not found.\r\n    Warning: Could not resolve org.hibernate.service.jta.platform.internal.NoJtaPlatform for reflection configuration. Reason: java.lang.ClassNotFoundException: org.hibernate.service.jta.platform.internal.NoJtaPlatform.\r\n    Warning: Could not resolve oracle.jdbc.OracleConnection for reflection configuration. Reason: java.lang.ClassNotFoundException: oracle.jdbc.OracleConnection.\r\n    Warning: Could not resolve org.h2.Driver for reflection configuration. Reason: java.lang.ClassNotFoundException: org.h2.Driver.\r\n    Warning: Could not resolve org.postgresql.util.PGobject for reflection configuration. Reason: java.lang.ClassNotFoundException: org.postgresql.util.PGobject.\r\n    Warning: Could not resolve org.jboss.logmanager.LogManager for reflection configuration. Reason: java.lang.ClassNotFoundException: org.jboss.logmanager.LogManager.\r\n    Warning: Could not resolve com.sun.el.ExpressionFactoryImpl for reflection configuration. Reason: java.lang.ClassNotFoundException: com.sun.el.ExpressionFactoryImpl.\r\n    Warning: Could not resolve groovy.grape.GrabAnnotationTransformation for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.grape.GrabAnnotationTransformation.\r\n    Warning: Could not resolve groovy.lang.Script for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.lang.Script.\r\n    Warning: Could not resolve groovy.lang.Script for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.lang.Script.\r\n    Warning: Could not resolve groovyjarjarantlr.CommonToken for reflection configuration. Reason: java.lang.ClassNotFoundException: groovyjarjarantlr.CommonToken.\r\n    Warning: Could not resolve javafx.beans.value.ObservableValue for reflection configuration. Reason: java.lang.ClassNotFoundException: javafx.beans.value.ObservableValue.\r\n    Warning: Could not resolve javax.money.MonetaryAmount for reflection configuration. Reason: java.lang.ClassNotFoundException: javax.money.MonetaryAmount.\r\n    Warning: Could not resolve org.codehaus.groovy.antlr.GroovySourceAST for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.antlr.GroovySourceAST.\r\n    Warning: Could not resolve org.codehaus.groovy.ast.builder.AstBuilderTransformation for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.ast.builder.AstBuilderTransformation.\r\n    Warning: Could not resolve org.codehaus.groovy.runtime.ScriptBytecodeAdapter for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.runtime.ScriptBytecodeAdapter.\r\n    Warning: Could not resolve org.glassfish.expressly.ValueExpressionImpl for reflection configuration. Reason: java.lang.ClassNotFoundException: org.glassfish.expressly.ValueExpressionImpl.\r\n    Warning: Could not resolve org.glassfish.expressly.parser.AstValue for reflection configuration. Reason: java.lang.ClassNotFoundException: org.glassfish.expressly.parser.AstValue.\r\n    Warning: Could not resolve org.joda.time.ReadableInstant for reflection configuration. Reason: java.lang.ClassNotFoundException: org.joda.time.ReadableInstant.\r\n    Warning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.future.FutureValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\r\n    Warning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.futureorpresent.FutureOrPresentValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\r\n    Warning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.past.PastValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\r\n    Warning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.pastorpresent.PastOrPresentValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.buildpacks\r\n\r\n","title":"Spring Boot: GraalVM Native Image Support","body":"<p>I have a Spring Boot project which was initially using version 2.7.6 with Java 11 and currently, I am adding the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html\" rel=\"nofollow noreferrer\">GraalVM Native Image Support</a> by following the documentation with <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.buildpacks\" rel=\"nofollow noreferrer\">Building a Native Image Using Buildpacks</a> option. I have changed the version to 3.1.0 with Java 17 and modified the pom.xml. I have also done the changes regarding spring-data-jpa and refactored the import statements and now I am able to run the application.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>My understanding of adding the GraalVM is that it will make the application start-up time faster and reduce the build size of jar file or the docker image of an application. Below is the comparison.</p>\n<p><strong>Before GraalVM:</strong>  <br>\nApplication start in ~7s <br>\nTime to run <code>mvn clean install</code> ~15s  <br>\nJar file size ~61MB</p>\n<p><strong>After GraalVM:</strong>  <br>\nApplication start in : ~2s  <br>\nTime to run <code>mvn clean install -Pnative</code> ~12s  <br>\nJar file size ~77MB</p>\n<p><strong>Questions are:</strong></p>\n<ol>\n<li><p>I can see the performance on the application startup time which is good, however jar file size has increased which is supposed to be less than ~61MB</p>\n</li>\n<li><p>Does I am using the correct command for build with GraalVM by using <code>mvn clean install -Pnative</code></p>\n</li>\n<li><p>In the documentation there is note as below, do I need to add anything in the pom.xml?</p>\n</li>\n</ol>\n<blockquote>\n<p>The builder used for the images is paketobuildpacks/builder:tiny. It\nhas small footprint and reduced attack surface, but you can also use\npaketobuildpacks/builder:base or paketobuildpacks/builder:full to have\nmore tools available in the image if required.</p>\n</blockquote>\n<p>If I do add below in the configurations of spring-boot-maven-plugin, I am getting the shared error message</p>\n<pre><code>                &lt;image&gt;\n                    &lt;buildpacks&gt;\n                        &lt;buildpack&gt;paketobuildpacks/builder:full&lt;/buildpack&gt;\n                    &lt;/buildpacks&gt;\n                    &lt;env&gt;\n                        &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n                    &lt;/env&gt;\n                &lt;/image&gt;\n</code></pre>\n<p><strong>class org.springframework.boot.maven.Image cannot be cast to class org.springframework.boot.maven.FilterableDependency (org.springframework.boot.maven.Image and org.springframework.boot.maven.FilterableDependency are in unnamed module of loader org.codehaus.plexus.classworlds.realm.ClassRealm @6228d0bd)</strong></p>\n<hr />\n<p><strong>UPDATE:</strong></p>\n<p>When I do run <code>mvn -Pnative native:compile</code> I am getting the below error.</p>\n<p><strong>Error: Classes that should be initialized at run time got initialized during image building:\norg.apache.commons.logging.LogFactory was unintentionally initialized at build time. To see why org.apache.commons.logging.LogFactory got initialized use --trace-class-initialization=org.apache.commons.logging.LogFactory\norg.apache.commons.logging.LogFactoryService was unintentionally initialized at build time. To see why org.apache.commons.logging.LogFactoryService got initialized use --trace-class-initialization=org.apache.commons.logging.LogFactoryService</strong></p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.xyz&lt;/groupId&gt;\n    &lt;artifactId&gt;abc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;abc&lt;/name&gt;\n    &lt;description&gt;Application&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;springdoc-openapi-ui.version&gt;1.6.13&lt;/springdoc-openapi-ui.version&gt;\n        &lt;problem.version&gt;0.26.0&lt;/problem.version&gt;\n        &lt;org.json.version&gt;20220320&lt;/org.json.version&gt;\n        &lt;apache.commons.lang3.version&gt;3.12.0&lt;/apache.commons.lang3.version&gt;\n        &lt;checkstyle-plugin.version&gt;3.2.0&lt;/checkstyle-plugin.version&gt;\n        &lt;checkstyle.version&gt;10.5.0&lt;/checkstyle.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;${org.json.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${apache.commons.lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n            &lt;artifactId&gt;problem-spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${problem.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-problem&lt;/artifactId&gt;\n            &lt;version&gt;${problem.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.xeroapi&lt;/groupId&gt;\n            &lt;artifactId&gt;xero-java&lt;/artifactId&gt;\n            &lt;version&gt;4.26.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n            &lt;version&gt;1.43.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;buildpacks&gt;\n                            &lt;buildpack&gt;paketobuildpacks/builder:full&lt;/buildpack&gt;\n                        &lt;/buildpacks&gt;\n                        &lt;env&gt;\n                            &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n                        &lt;/env&gt;\n                    &lt;/image&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-info&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.26&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${checkstyle-plugin.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n                        &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n                        &lt;version&gt;${checkstyle.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;checkstyle&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n                    &lt;excludes&gt;**/module-info.java,**/target/**/*,**/protocols/**/*&lt;/excludes&gt;\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n                    &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\n                    &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\n                    &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>In console I can also see the below logs</p>\n<pre><code>Warning: Could not resolve org.jboss.logmanager.LogManager for reflection configuration. Reason: java.lang.ClassNotFoundException: org.jboss.logmanager.LogManager.\nWarning: Could not resolve com.sun.el.ExpressionFactoryImpl for reflection configuration. Reason: java.lang.ClassNotFoundException: com.sun.el.ExpressionFactoryImpl.\nWarning: Could not resolve groovy.grape.GrabAnnotationTransformation for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.grape.GrabAnnotationTransformation.\nWarning: Could not resolve groovy.lang.Script for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.lang.Script.\nWarning: Could not resolve groovy.lang.Script for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.lang.Script.\nWarning: Could not resolve groovyjarjarantlr.CommonToken for reflection configuration. Reason: java.lang.ClassNotFoundException: groovyjarjarantlr.CommonToken.\nWarning: Could not resolve javafx.beans.value.ObservableValue for reflection configuration. Reason: java.lang.ClassNotFoundException: javafx.beans.value.ObservableValue.\nWarning: Could not resolve javax.money.MonetaryAmount for reflection configuration. Reason: java.lang.ClassNotFoundException: javax.money.MonetaryAmount.\nWarning: Could not resolve org.codehaus.groovy.antlr.GroovySourceAST for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.antlr.GroovySourceAST.\nWarning: Could not resolve org.codehaus.groovy.ast.builder.AstBuilderTransformation for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.ast.builder.AstBuilderTransformation.\nWarning: Could not resolve org.codehaus.groovy.runtime.ScriptBytecodeAdapter for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.runtime.ScriptBytecodeAdapter.\nWarning: Could not resolve org.glassfish.expressly.ValueExpressionImpl for reflection configuration. Reason: java.lang.ClassNotFoundException: org.glassfish.expressly.ValueExpressionImpl.\nWarning: Could not resolve org.glassfish.expressly.parser.AstValue for reflection configuration. Reason: java.lang.ClassNotFoundException: org.glassfish.expressly.parser.AstValue.\nWarning: Could not resolve org.joda.time.ReadableInstant for reflection configuration. Reason: java.lang.ClassNotFoundException: org.joda.time.ReadableInstant.\nWarning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.future.FutureValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\nWarning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.futureorpresent.FutureOrPresentValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\nWarning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.past.PastValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\nWarning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.pastorpresent.PastOrPresentValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\nWarning: Method com.zaxxer.hikari.HikariConfig.getScheduledExecutorService() not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.isInitializationFailFast() not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.isJdbc4ConnectionTest() not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.setInitializationFailFast(boolean) not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.setJdbc4ConnectionTest(boolean) not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.setScheduledExecutorService(ScheduledThreadPoolExecutor) not found.\nWarning: Could not resolve oracle.jdbc.OracleConnection for reflection configuration. Reason: java.lang.ClassNotFoundException: oracle.jdbc.OracleConnection.\nWarning: Could not resolve org.h2.Driver for reflection configuration. Reason: java.lang.ClassNotFoundException: org.h2.Driver.\nWarning: Could not resolve org.postgresql.util.PGobject for reflection configuration. Reason: java.lang.ClassNotFoundException: org.postgresql.util.PGobject.\nWarning: Method com.zaxxer.hikari.HikariConfig.getScheduledExecutorService() not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.isInitializationFailFast() not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.isJdbc4ConnectionTest() not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.setInitializationFailFast(boolean) not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.setJdbc4ConnectionTest(boolean) not found.\nWarning: Method com.zaxxer.hikari.HikariConfig.setScheduledExecutorService(ScheduledThreadPoolExecutor) not found.\nWarning: Could not resolve org.hibernate.service.jta.platform.internal.NoJtaPlatform for reflection configuration. Reason: java.lang.ClassNotFoundException: org.hibernate.service.jta.platform.internal.NoJtaPlatform.\nWarning: Could not resolve oracle.jdbc.OracleConnection for reflection configuration. Reason: java.lang.ClassNotFoundException: oracle.jdbc.OracleConnection.\nWarning: Could not resolve org.h2.Driver for reflection configuration. Reason: java.lang.ClassNotFoundException: org.h2.Driver.\nWarning: Could not resolve org.postgresql.util.PGobject for reflection configuration. Reason: java.lang.ClassNotFoundException: org.postgresql.util.PGobject.\nWarning: Could not resolve org.jboss.logmanager.LogManager for reflection configuration. Reason: java.lang.ClassNotFoundException: org.jboss.logmanager.LogManager.\nWarning: Could not resolve com.sun.el.ExpressionFactoryImpl for reflection configuration. Reason: java.lang.ClassNotFoundException: com.sun.el.ExpressionFactoryImpl.\nWarning: Could not resolve groovy.grape.GrabAnnotationTransformation for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.grape.GrabAnnotationTransformation.\nWarning: Could not resolve groovy.lang.Script for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.lang.Script.\nWarning: Could not resolve groovy.lang.Script for reflection configuration. Reason: java.lang.ClassNotFoundException: groovy.lang.Script.\nWarning: Could not resolve groovyjarjarantlr.CommonToken for reflection configuration. Reason: java.lang.ClassNotFoundException: groovyjarjarantlr.CommonToken.\nWarning: Could not resolve javafx.beans.value.ObservableValue for reflection configuration. Reason: java.lang.ClassNotFoundException: javafx.beans.value.ObservableValue.\nWarning: Could not resolve javax.money.MonetaryAmount for reflection configuration. Reason: java.lang.ClassNotFoundException: javax.money.MonetaryAmount.\nWarning: Could not resolve org.codehaus.groovy.antlr.GroovySourceAST for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.antlr.GroovySourceAST.\nWarning: Could not resolve org.codehaus.groovy.ast.builder.AstBuilderTransformation for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.ast.builder.AstBuilderTransformation.\nWarning: Could not resolve org.codehaus.groovy.runtime.ScriptBytecodeAdapter for reflection configuration. Reason: java.lang.ClassNotFoundException: org.codehaus.groovy.runtime.ScriptBytecodeAdapter.\nWarning: Could not resolve org.glassfish.expressly.ValueExpressionImpl for reflection configuration. Reason: java.lang.ClassNotFoundException: org.glassfish.expressly.ValueExpressionImpl.\nWarning: Could not resolve org.glassfish.expressly.parser.AstValue for reflection configuration. Reason: java.lang.ClassNotFoundException: org.glassfish.expressly.parser.AstValue.\nWarning: Could not resolve org.joda.time.ReadableInstant for reflection configuration. Reason: java.lang.ClassNotFoundException: org.joda.time.ReadableInstant.\nWarning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.future.FutureValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\nWarning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.futureorpresent.FutureOrPresentValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\nWarning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.past.PastValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\nWarning: Could not register method org.hibernate.validator.internal.constraintvalidators.bv.time.pastorpresent.PastOrPresentValidatorForReadablePartial.&lt;init&gt;() for reflection. Reason: java.lang.NoClassDefFoundError: org/joda/time/ReadableInstant.\n</code></pre>\n"},{"tags":["java","parsing","antlr4","grammar"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1692545216,"post_id":76940110,"comment_id":135635078,"body_markdown":"I&#39;m confused: why are you calling the &quot;wrong result&quot; wrong? It looks to me like it is working as it is calling your `&quot;E&quot;` a genericRule token.","body":"I&#39;m confused: why are you calling the &quot;wrong result&quot; wrong? It looks to me like it is working as it is calling your <code>&quot;E&quot;</code> a genericRule token."},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1692546496,"post_id":76940110,"comment_id":135635244,"body_markdown":"Try `genericRule: optional? otherPart ;`","body":"Try <code>genericRule: optional? otherPart ;</code>"},{"owner":{"account_id":19245734,"reputation":3,"user_id":14064804,"display_name":"Diego Marcolungo"},"score":0,"creation_date":1692547442,"post_id":76940110,"comment_id":135635355,"body_markdown":"@HovercraftFullOfEels Yes, It&#39;s working, but i don&#39;t want the empty branch `optional`","body":"@HovercraftFullOfEels Yes, It&#39;s working, but i don&#39;t want the empty branch <code>optional</code>"},{"owner":{"account_id":19245734,"reputation":3,"user_id":14064804,"display_name":"Diego Marcolungo"},"score":0,"creation_date":1692547529,"post_id":76940110,"comment_id":135635361,"body_markdown":"@LexLi With your rule i have a warning: `rule genericRule contains an optional block with at least one alternative that can match an empty string`. I don&#39;t want to match the empty string","body":"@LexLi With your rule i have a warning: <code>rule genericRule contains an optional block with at least one alternative that can match an empty string</code>. I don&#39;t want to match the empty string"},{"owner":{"account_id":19245734,"reputation":3,"user_id":14064804,"display_name":"Diego Marcolungo"},"score":0,"creation_date":1692548905,"post_id":76940110,"comment_id":135635493,"body_markdown":"Why my question is bad?","body":"Why my question is bad?"}],"answers":[{"comments":[{"owner":{"account_id":19245734,"reputation":3,"user_id":14064804,"display_name":"Diego Marcolungo"},"score":0,"creation_date":1692553413,"post_id":76940613,"comment_id":135635990,"body_markdown":"Thanks, now it works as expected. So the level in which the `*` is inserted matters","body":"Thanks, now it works as expected. So the level in which the <code>*</code> is inserted matters"},{"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"score":0,"creation_date":1692561877,"post_id":76940613,"comment_id":135636817,"body_markdown":"definitely... yes.  I always find a rule with a top-level * (or an empty alternative) to be something of a &quot;code smell&quot; in a grammar.  It&#39;s not always wrong, there can be reasons why you might prefer a node on the tree to always be there even if it&#39;s effectively empty, but it&#39;s rare.","body":"definitely... yes.  I always find a rule with a top-level * (or an empty alternative) to be something of a &quot;code smell&quot; in a grammar.  It&#39;s not always wrong, there can be reasons why you might prefer a node on the tree to always be there even if it&#39;s effectively empty, but it&#39;s rare."}],"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692552919,"creation_date":1692552919,"answer_id":76940613,"question_id":76940110,"body_markdown":"Bring the &quot;optional&quot; part up a level (to the place where it&#39;s optional)\r\n\r\n```\r\ngrammar ExprParser;\r\n\r\ngenericRule: optional* otherPart ;\r\n\r\noptional:  &#39;A&#39; | &#39;B&#39; | &#39;C&#39;  ;\r\notherPart: &#39;D&#39; | &#39;E&#39; | &#39;F&#39; ;\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn your grammar you&#39;ve said `genericRule` MUST have an `optional` node (and that the `optional` node may not have any content (children)).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rxaa4.png","title":"ANTLR4 an optional symbol at begining of a rule","body":"<p>Bring the &quot;optional&quot; part up a level (to the place where it's optional)</p>\n<pre><code>grammar ExprParser;\n\ngenericRule: optional* otherPart ;\n\noptional:  'A' | 'B' | 'C'  ;\notherPart: 'D' | 'E' | 'F' ;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Rxaa4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rxaa4.png\" alt=\"enter image description here\" /></a></p>\n<p>In your grammar you've said <code>genericRule</code> MUST have an <code>optional</code> node (and that the <code>optional</code> node may not have any content (children)).</p>\n"}],"owner":{"account_id":19245734,"reputation":3,"user_id":14064804,"display_name":"Diego Marcolungo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76940613,"answer_count":1,"score":-2,"last_activity_date":1692552919,"creation_date":1692544992,"question_id":76940110,"body_markdown":"I&#39;m learning how ANTLR4 works. I don&#39;t understand how to deal with optional symbol at the very beginning of a rule. \r\n\r\nI have this simple grammar:\r\n\r\n\r\n```\r\ngenericRule: optional otherPart ;\r\n\r\noptional: ( &#39;A&#39; | &#39;B&#39; | &#39;C&#39; ) * ;\r\notherPart: &#39;D&#39; | &#39;E&#39; | &#39;F&#39; ;\r\n```\r\n\r\nWhen i try to match the string with only the char `&#39;E&#39;` the Parse Tree Inspector gives me this result:\r\n\r\n![Wrong result](https://i.stack.imgur.com/Ub7Xq.png)\r\n\r\nHow i can exclude the first empty rule `optional` if my input doesn&#39;t start with optional tokens `&#39;A&#39;`, `&#39;B&#39;` or `&#39;C&#39;` ? \r\n\r\nI would like to have this Parse Tree:\r\n\r\n![Correct result](https://i.stack.imgur.com/Krmdk.png)","title":"ANTLR4 an optional symbol at begining of a rule","body":"<p>I'm learning how ANTLR4 works. I don't understand how to deal with optional symbol at the very beginning of a rule.</p>\n<p>I have this simple grammar:</p>\n<pre><code>genericRule: optional otherPart ;\n\noptional: ( 'A' | 'B' | 'C' ) * ;\notherPart: 'D' | 'E' | 'F' ;\n</code></pre>\n<p>When i try to match the string with only the char <code>'E'</code> the Parse Tree Inspector gives me this result:</p>\n<p><img src=\"https://i.stack.imgur.com/Ub7Xq.png\" alt=\"Wrong result\" /></p>\n<p>How i can exclude the first empty rule <code>optional</code> if my input doesn't start with optional tokens <code>'A'</code>, <code>'B'</code> or <code>'C'</code> ?</p>\n<p>I would like to have this Parse Tree:</p>\n<p><img src=\"https://i.stack.imgur.com/Krmdk.png\" alt=\"Correct result\" /></p>\n"},{"tags":["java","android","multithreading","android-asynctask","background"],"comments":[{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":3,"creation_date":1558008218,"post_id":56168097,"comment_id":98962725,"body_markdown":"Why don&#39;t you init libraries in separate thread ?","body":"Why don&#39;t you init libraries in separate thread ?"},{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1558008433,"post_id":56168097,"comment_id":98962833,"body_markdown":"I have tried `new Thread().start` but then it is not initializing the services. Can you please show a small code?","body":"I have tried <code>new Thread().start</code> but then it is not initializing the services. Can you please show a small code?"},{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":2,"creation_date":1558008570,"post_id":56168097,"comment_id":98962923,"body_markdown":"Show me what you tried ?","body":"Show me what you tried ?"},{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1558008935,"post_id":56168097,"comment_id":98963119,"body_markdown":"@MD I have edited the question to show what I have tried. Can you please have a look.","body":"@MD I have edited the question to show what I have tried. Can you please have a look."},{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1558012620,"post_id":56168097,"comment_id":98965580,"body_markdown":"@MD Can you please Help","body":"@MD Can you please Help"},{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1558031815,"post_id":56168097,"comment_id":98975980,"body_markdown":"@MD Will you please be able to help?","body":"@MD Will you please be able to help?"},{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1558098211,"post_id":56168097,"comment_id":98999050,"body_markdown":"@MD Thanks for your suggestion. But since I could not figure it out on how to use it I have found another temporary solution which I have posted. :).","body":"@MD Thanks for your suggestion. But since I could not figure it out on how to use it I have found another temporary solution which I have posted. :)."}],"answers":[{"tags":[],"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558098135,"creation_date":1558098135,"answer_id":56186976,"question_id":56168097,"body_markdown":"After receiving no answer I tried hard to figure out how on how to perform on a separate thread as suggested by @MD but could not figure out. If anyone can figure out would request you to please post an answer so that I can accept it. \r\n\r\nMeanwhile, I have moved some initializations from my Application Class to my first Activity and that has helped me a lot to reduce the time. ","title":"Loading libraries in background in Application Class","body":"<p>After receiving no answer I tried hard to figure out how on how to perform on a separate thread as suggested by @MD but could not figure out. If anyone can figure out would request you to please post an answer so that I can accept it. </p>\n\n<p>Meanwhile, I have moved some initializations from my Application Class to my first Activity and that has helped me a lot to reduce the time. </p>\n"},{"tags":[],"owner":{"account_id":8081458,"reputation":642,"user_id":6090511,"accept_rate":80,"display_name":"Dhruv Kaushal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692551748,"creation_date":1692551748,"answer_id":76940536,"question_id":56168097,"body_markdown":"But this just defers the time. Moving to activity will increase your activity startup time, which again contributes to TTID.\r\nThe thing you should do is, add all the sdk initialisation which can be taken to BG thread in a serial executer.","title":"Loading libraries in background in Application Class","body":"<p>But this just defers the time. Moving to activity will increase your activity startup time, which again contributes to TTID.\nThe thing you should do is, add all the sdk initialisation which can be taken to BG thread in a serial executer.</p>\n"}],"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692551748,"creation_date":1558008147,"question_id":56168097,"body_markdown":"I have developed an Android App for which I also have Application Class.\r\n\r\nThe problem is that I have integrated many services within my app and those service providers require me to initialize the services in the Application Class.\r\n\r\nNow the start time of the Application class has drastically increased. Is there any way to initialize the services in a background thread so that they still work and do not slow down the start time of my app. \r\n\r\nAny Help would be appreciated.\r\n\r\n\r\nEDIT: This is what I have tried\r\n\r\n    Thread thread = new Thread(new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tInitializeServices();\r\n    \t}\r\n    });\r\n    \r\n    thread.start()","title":"Loading libraries in background in Application Class","body":"<p>I have developed an Android App for which I also have Application Class.</p>\n\n<p>The problem is that I have integrated many services within my app and those service providers require me to initialize the services in the Application Class.</p>\n\n<p>Now the start time of the Application class has drastically increased. Is there any way to initialize the services in a background thread so that they still work and do not slow down the start time of my app. </p>\n\n<p>Any Help would be appreciated.</p>\n\n<p>EDIT: This is what I have tried</p>\n\n<pre><code>Thread thread = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        InitializeServices();\n    }\n});\n\nthread.start()\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1692543022,"post_id":76939916,"comment_id":135634800,"body_markdown":"Please [edit] your question to include the source code you have for adding a new view generator and getting the view generator.","body":"Please <a href=\"https://stackoverflow.com/posts/76939916/edit\">edit</a> your question to include the source code you have for adding a new view generator and getting the view generator."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1692544241,"post_id":76939916,"comment_id":135634948,"body_markdown":"I&#39;m having trouble understanding your question. The `IViewGenerator` interface concrete classes all have methods with the same names.  What is the compiler problem?  As @Progman said, edit your question to include a [mre] illustrating the problem.","body":"I&#39;m having trouble understanding your question. The <code>IViewGenerator</code> interface concrete classes all have methods with the same names.  What is the compiler problem?  As @Progman said, edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> illustrating the problem."},{"owner":{"account_id":511865,"reputation":1213,"user_id":1013698,"accept_rate":55,"display_name":"The_Sympathizer"},"score":0,"creation_date":1692548795,"post_id":76939916,"comment_id":135635485,"body_markdown":"@Gilbert Le Blanc : Tried. Does it help now?","body":"@Gilbert Le Blanc : Tried. Does it help now?"}],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692551403,"creation_date":1692551403,"answer_id":76940513,"question_id":76939916,"body_markdown":"Java&#39;s type system doesn&#39;t handle this well, so you&#39;ll need to break away from it to some degree — which will probably still feel a bit hacky, unfortunately. However, you can isolate it to a single method, and use `@SuppressWarnings` to quiet down the compiler&#39;s warnings.\r\n\r\nI would do it as something like this:\r\n\r\n```java\r\nprivate static &lt;T&gt; View generateFrom(Class&lt;?&gt; cls, IViewGenerator&lt;?&gt; generator, Object data)\r\n{\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Class&lt;T&gt; classT = (Class&lt;T&gt;) cls;\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    IViewGenerator&lt;T&gt; generatorT = (IViewGenerator&lt;T&gt;) generator;\r\n                                                                                              \r\n    T dataT = classT.cast(data);\r\n    return generatorT.generate(dataT);\r\n}\r\n```\r\n\r\nWhat this does is:\r\n* specifies some `T`, without really caring much what it is\r\n* casts the `Class&lt;?&gt;` to a `Class&lt;T&gt;`. This is unchecked, but we suppress that warning.\r\n* similarly casts the `IViewGenerator&lt;?&gt;` to `IViewGenerator&lt;T&gt;`\r\n* does a runtime cast of the data to `T`. This _will_ get checked at runtime, and if the data isn&#39;t of the correct type (namely, `cls`&#39;s type), it&#39;ll throw a ClassCastException.\r\n  * The ClassCastException is a feature, not a bug. ;) Without it, if the types don&#39;t match, you&#39;ll get a ClassCastException within the generator&#39;s `generate()`, likely at a line that looks &quot;impossible&quot; (at first glance) to generate a ClassCastException, and possibly even in some lower-down library call. It can be very confusing: best to catch it here.\r\n  * I recommend keeping this as a separate call (not inlining it to the next line), so that if that exception gets thrown, it&#39;s nice and obvious what&#39;s causing it.\r\n* then, passes that casted data into the casted generator\r\n\r\nThis works as long as the IViewGenerator&#39;s `T` is the same as the given Class&#39;s.\r\n\r\nBeyond that, what I might suggest is to have the `IViewGenerator` supply its own Class:\r\n\r\n```java\r\npublic interface IViewGenerator&lt;T extends IViewable&gt;\r\n{\r\n    Class&lt;T&gt; dataClass();\r\n    View generate(T val);\r\n}\r\n```\r\n\r\nWith that, the method becomes:\r\n\r\n```java\r\nprivate static &lt;T&gt; View generateFrom(IViewGenerator&lt;?&gt; generator, Object data)\r\n{\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    IViewGenerator&lt;T&gt; generatorT = (IViewGenerator&lt;T&gt;) generator;\r\n                                                                                \r\n    T dataT = generatorT.dataClass().cast(data);\r\n    return generatorT.generate(dataT);\r\n}\r\n```\r\n\r\nYou still need the `Map&lt;Class&lt;?&gt;, IViewGenerator&lt;?&gt;&gt;` to find the correct generator, but once you have that generator, you don&#39;t need the map&#39;s key anymore.\r\n\r\nThe main advantage of this approach is that you don&#39;t need to worry about the `Class&lt;?&gt;` and `IViewGenerator&lt;?&gt;` matching up (that is, referring at runtime to the same `T`). The IViewGenerator supplies its own Class, which is much easier to make sure matches with its `generate()` (the only way to have it _not_ match would be to use a raw type in the `implements` clause: `class EvilViewGenerator implements IViewGenerator`).\r\n\r\nIt similarly simplifies the creation of the Map: rather than hard-coding the class-to-generator mappings, you just pass in a collection of generators, and then populate the map based on each generator&#39;s self-reported Class.","title":"In this Java scenario, how can you avoid calling a wildcard method with data whose type is only known at run-time?","body":"<p>Java's type system doesn't handle this well, so you'll need to break away from it to some degree — which will probably still feel a bit hacky, unfortunately. However, you can isolate it to a single method, and use <code>@SuppressWarnings</code> to quiet down the compiler's warnings.</p>\n<p>I would do it as something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T&gt; View generateFrom(Class&lt;?&gt; cls, IViewGenerator&lt;?&gt; generator, Object data)\n{\n    @SuppressWarnings(&quot;unchecked&quot;)\n    Class&lt;T&gt; classT = (Class&lt;T&gt;) cls;\n    @SuppressWarnings(&quot;unchecked&quot;)\n    IViewGenerator&lt;T&gt; generatorT = (IViewGenerator&lt;T&gt;) generator;\n                                                                                              \n    T dataT = classT.cast(data);\n    return generatorT.generate(dataT);\n}\n</code></pre>\n<p>What this does is:</p>\n<ul>\n<li>specifies some <code>T</code>, without really caring much what it is</li>\n<li>casts the <code>Class&lt;?&gt;</code> to a <code>Class&lt;T&gt;</code>. This is unchecked, but we suppress that warning.</li>\n<li>similarly casts the <code>IViewGenerator&lt;?&gt;</code> to <code>IViewGenerator&lt;T&gt;</code></li>\n<li>does a runtime cast of the data to <code>T</code>. This <em>will</em> get checked at runtime, and if the data isn't of the correct type (namely, <code>cls</code>'s type), it'll throw a ClassCastException.\n<ul>\n<li>The ClassCastException is a feature, not a bug. ;) Without it, if the types don't match, you'll get a ClassCastException within the generator's <code>generate()</code>, likely at a line that looks &quot;impossible&quot; (at first glance) to generate a ClassCastException, and possibly even in some lower-down library call. It can be very confusing: best to catch it here.</li>\n<li>I recommend keeping this as a separate call (not inlining it to the next line), so that if that exception gets thrown, it's nice and obvious what's causing it.</li>\n</ul>\n</li>\n<li>then, passes that casted data into the casted generator</li>\n</ul>\n<p>This works as long as the IViewGenerator's <code>T</code> is the same as the given Class's.</p>\n<p>Beyond that, what I might suggest is to have the <code>IViewGenerator</code> supply its own Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IViewGenerator&lt;T extends IViewable&gt;\n{\n    Class&lt;T&gt; dataClass();\n    View generate(T val);\n}\n</code></pre>\n<p>With that, the method becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T&gt; View generateFrom(IViewGenerator&lt;?&gt; generator, Object data)\n{\n    @SuppressWarnings(&quot;unchecked&quot;)\n    IViewGenerator&lt;T&gt; generatorT = (IViewGenerator&lt;T&gt;) generator;\n                                                                                \n    T dataT = generatorT.dataClass().cast(data);\n    return generatorT.generate(dataT);\n}\n</code></pre>\n<p>You still need the <code>Map&lt;Class&lt;?&gt;, IViewGenerator&lt;?&gt;&gt;</code> to find the correct generator, but once you have that generator, you don't need the map's key anymore.</p>\n<p>The main advantage of this approach is that you don't need to worry about the <code>Class&lt;?&gt;</code> and <code>IViewGenerator&lt;?&gt;</code> matching up (that is, referring at runtime to the same <code>T</code>). The IViewGenerator supplies its own Class, which is much easier to make sure matches with its <code>generate()</code> (the only way to have it <em>not</em> match would be to use a raw type in the <code>implements</code> clause: <code>class EvilViewGenerator implements IViewGenerator</code>).</p>\n<p>It similarly simplifies the creation of the Map: rather than hard-coding the class-to-generator mappings, you just pass in a collection of generators, and then populate the map based on each generator's self-reported Class.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692551621,"creation_date":1692551621,"answer_id":76940525,"question_id":76939916,"body_markdown":"Generics are a figment of the compiler&#39;s imagination: They serve as hints to the compiler to warn/error out when generics says it cannot work, and to inject casts to tie it all together, and _that is it_ - what you want to do here is a fairly common job (there is a &#39;link&#39; between the key and the value) but __generics simply cannot do that__ - it&#39;s not expressive enough.\r\n\r\n## The simple solution\r\n\r\nYou&#39;re in good company - `ArrayList.java` itself does the same thing: Use generics in the &#39;outside facing&#39; parts of your API to ensure callers can&#39;t mess up without the compiler telling them about it, but ignore generics within your API: Use raw types and `@SuppressWarnings` your way around them. Looks a bit like this:\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\ninterface View {}\r\n\r\ninterface ViewGenerator&lt;T&gt; {\r\n\tView generate(T arg);\r\n}\r\n\r\npublic class ViewGeneratorManager {\r\n\t@SuppressWarnings(&quot;rawtypes&quot;) private final Map viewGenerators = new HashMap();\r\n\t\r\n\tpublic &lt;T&gt; void register(Class&lt;T&gt; type, ViewGenerator&lt;T&gt; generator) {\r\n\t\tif (type == null) throw new NullPointerException(&quot;type&quot;);\r\n\t\tif (generator == null) throw new NullPointerException(&quot;generator&quot;);\r\n\t\t\r\n\t\tif (type.isInterface()) throw new IllegalArgumentException(&quot;Only concrete types can be registered&quot;);\r\n\t\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tObject v = viewGenerators.putIfAbsent(type, generator);\r\n\t\t\r\n\t\tif (v != null) throw new IllegalStateException(&quot;There is already a ViewGenerator registered for type &quot; + type);\r\n\t}\r\n\t\r\n\t/** @throws IllegalStateException If {@code type} has no generator registered for it */\r\n\tpublic &lt;T&gt; ViewGenerator&lt;T&gt; getGenerator(Class&lt;T&gt; type) throws IllegalStateException {\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tViewGenerator&lt;T&gt; generator = (ViewGenerator&lt;T&gt;) viewGenerators.get(type);\r\n\t\t\r\n\t\tif (generator == null) throw new IllegalStateException(&quot;No ViewGenerator registered for type: &quot; + type);\r\n\t\treturn generator;\r\n\t}\r\n\r\n\t/** @throws IllegalStateException If {@code type} has no generator registered for it */\r\n\t@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\r\n\tpublic View process(Object obj) throws IllegalStateException {\r\n\t\tClass&lt;?&gt; t = obj.getClass();\r\n\t\twhile (t != null) {\r\n\t\t\tViewGenerator vg = getGenerator(t);\r\n\t\t\tif (vg != null) return vg.generate(obj);\r\n\t\t\tt = t.getSuperclass();\r\n\t\t}\r\n\t\t\r\n\t\tthrow new IllegalStateException(&quot;No ViewGenerator registered for type: &quot; + obj.getClass());\r\n\t}\r\n}\r\n```\r\n\r\nFrom the point of view of _users_ of this class, all is well: Generics ensure that somebody can&#39;t, say, register a ViewGenerator that requires `String` arguments, for the `Integer` type, and ViewGenerator implementations don&#39;t have to bother writing casts or `instanceof` checks.\r\n\r\nGiven that generics are _solely_ a compiler-checking thing (they do nothing whatsoever at runtime), if you are satisfied that the code isn&#39;t going to cause type problems, then therefore that&#39;s good enough.\r\n\r\n## The complex solution\r\n\r\nYou can&#39;t try to link some generics in the &#39;key&#39; type of a `Map` with some generics in the `Value` type of a map, that&#39;s simply not a thing that you can do. However, you can link types within a single `Container` class. However, this mostly kicks the can down the road: Within a container you can now have generics-powered type safety too, but how do you go from a given type to its container, and then pass this thing to that container with generics protecting you?\r\n\r\nHence, why the simple solution is almost always the best solution. The simple solution is easy enough to understand and has exactly the API you want to expose.\r\n\r\nBut, if you want to look further, here is a completely different approach that may not even fit your needs:\r\n\r\n```java\r\nimport java.lang.reflect.ParameterizedType;\r\nimport java.lang.reflect.Type;\r\n\r\npublic abstract class ViewGenerator&lt;T&gt; {\r\n\tpublic Class&lt;T&gt; getType() {\r\n\t\tClass&lt;?&gt; me = this.getClass();\r\n\t\twhile (me != null) {\r\n\t\t\tClass&lt;?&gt; sc = me.getSuperclass();\r\n\t\t\tif (sc == ViewGenerator.class) return extractType(sc.getGenericSuperclass());\r\n\t\t\tme = sc;\r\n\t\t}\r\n\t\t\r\n\t\tthrow new RuntimeException(&quot;ViewGenerator is not in your hierarchy; that doesn&#39;t seem possible: &quot; + getClass();\r\n\t}\r\n\t\r\n\t@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})\r\n\tprivate Class&lt;T&gt; extractType(Type sc) {\r\n\t\tif (sc instanceof ParameterizedType pt) {\r\n\t\t\tType[] tArgs = pt.getActualTypeArguments();\r\n\t\t\tif (tArgs.length == 1 &amp;&amp; tArgs[0] instanceof Class z) return (Class&lt;T&gt;) z;\r\n\t\t}\r\n\t\t\r\n\t\tthrow new RuntimeException(&quot;Either manually override `getType()`, or ensure you extend `ViewGenerator&lt;ConcreteClass&gt;`&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThis setup just requires that you write `class StringViewGenerator extends ViewGenerator&lt;String&gt; {}` and don&#39;t need to do much more; you can use this in combination with the API to make the experience even simpler for the callers.","title":"In this Java scenario, how can you avoid calling a wildcard method with data whose type is only known at run-time?","body":"<p>Generics are a figment of the compiler's imagination: They serve as hints to the compiler to warn/error out when generics says it cannot work, and to inject casts to tie it all together, and <em>that is it</em> - what you want to do here is a fairly common job (there is a 'link' between the key and the value) but <strong>generics simply cannot do that</strong> - it's not expressive enough.</p>\n<h2>The simple solution</h2>\n<p>You're in good company - <code>ArrayList.java</code> itself does the same thing: Use generics in the 'outside facing' parts of your API to ensure callers can't mess up without the compiler telling them about it, but ignore generics within your API: Use raw types and <code>@SuppressWarnings</code> your way around them. Looks a bit like this:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\ninterface View {}\n\ninterface ViewGenerator&lt;T&gt; {\n    View generate(T arg);\n}\n\npublic class ViewGeneratorManager {\n    @SuppressWarnings(&quot;rawtypes&quot;) private final Map viewGenerators = new HashMap();\n    \n    public &lt;T&gt; void register(Class&lt;T&gt; type, ViewGenerator&lt;T&gt; generator) {\n        if (type == null) throw new NullPointerException(&quot;type&quot;);\n        if (generator == null) throw new NullPointerException(&quot;generator&quot;);\n        \n        if (type.isInterface()) throw new IllegalArgumentException(&quot;Only concrete types can be registered&quot;);\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        Object v = viewGenerators.putIfAbsent(type, generator);\n        \n        if (v != null) throw new IllegalStateException(&quot;There is already a ViewGenerator registered for type &quot; + type);\n    }\n    \n    /** @throws IllegalStateException If {@code type} has no generator registered for it */\n    public &lt;T&gt; ViewGenerator&lt;T&gt; getGenerator(Class&lt;T&gt; type) throws IllegalStateException {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        ViewGenerator&lt;T&gt; generator = (ViewGenerator&lt;T&gt;) viewGenerators.get(type);\n        \n        if (generator == null) throw new IllegalStateException(&quot;No ViewGenerator registered for type: &quot; + type);\n        return generator;\n    }\n\n    /** @throws IllegalStateException If {@code type} has no generator registered for it */\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\n    public View process(Object obj) throws IllegalStateException {\n        Class&lt;?&gt; t = obj.getClass();\n        while (t != null) {\n            ViewGenerator vg = getGenerator(t);\n            if (vg != null) return vg.generate(obj);\n            t = t.getSuperclass();\n        }\n        \n        throw new IllegalStateException(&quot;No ViewGenerator registered for type: &quot; + obj.getClass());\n    }\n}\n</code></pre>\n<p>From the point of view of <em>users</em> of this class, all is well: Generics ensure that somebody can't, say, register a ViewGenerator that requires <code>String</code> arguments, for the <code>Integer</code> type, and ViewGenerator implementations don't have to bother writing casts or <code>instanceof</code> checks.</p>\n<p>Given that generics are <em>solely</em> a compiler-checking thing (they do nothing whatsoever at runtime), if you are satisfied that the code isn't going to cause type problems, then therefore that's good enough.</p>\n<h2>The complex solution</h2>\n<p>You can't try to link some generics in the 'key' type of a <code>Map</code> with some generics in the <code>Value</code> type of a map, that's simply not a thing that you can do. However, you can link types within a single <code>Container</code> class. However, this mostly kicks the can down the road: Within a container you can now have generics-powered type safety too, but how do you go from a given type to its container, and then pass this thing to that container with generics protecting you?</p>\n<p>Hence, why the simple solution is almost always the best solution. The simple solution is easy enough to understand and has exactly the API you want to expose.</p>\n<p>But, if you want to look further, here is a completely different approach that may not even fit your needs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\n\npublic abstract class ViewGenerator&lt;T&gt; {\n    public Class&lt;T&gt; getType() {\n        Class&lt;?&gt; me = this.getClass();\n        while (me != null) {\n            Class&lt;?&gt; sc = me.getSuperclass();\n            if (sc == ViewGenerator.class) return extractType(sc.getGenericSuperclass());\n            me = sc;\n        }\n        \n        throw new RuntimeException(&quot;ViewGenerator is not in your hierarchy; that doesn't seem possible: &quot; + getClass();\n    }\n    \n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})\n    private Class&lt;T&gt; extractType(Type sc) {\n        if (sc instanceof ParameterizedType pt) {\n            Type[] tArgs = pt.getActualTypeArguments();\n            if (tArgs.length == 1 &amp;&amp; tArgs[0] instanceof Class z) return (Class&lt;T&gt;) z;\n        }\n        \n        throw new RuntimeException(&quot;Either manually override `getType()`, or ensure you extend `ViewGenerator&lt;ConcreteClass&gt;`&quot;);\n    }\n}\n</code></pre>\n<p>This setup just requires that you write <code>class StringViewGenerator extends ViewGenerator&lt;String&gt; {}</code> and don't need to do much more; you can use this in combination with the API to make the experience even simpler for the callers.</p>\n"}],"owner":{"account_id":511865,"reputation":1213,"user_id":1013698,"accept_rate":55,"display_name":"The_Sympathizer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692551621,"creation_date":1692542306,"question_id":76939916,"body_markdown":"I&#39;ve been making a Java program which involves manipulating a collection of dynamically created, heterogeneously-typed data stored in a container, and I&#39;ve been running into the following small conundrum which, while I&#39;ve tried to get around it with hacks before, have never felt very satisfied with them.\r\n\r\nIn the GUI part of the program, we must present the data to the user. When it comes across a field with a given type, it needs to produce a view for data of that type. To make it extensible (Open/Closed Principle) to new types of data without modifying the GUI window class and instead just adding new handler objects to produce new kinds of views, my GUI class has a member like this:\r\n\r\n    private HashMap&lt;Class&lt;?&gt;, IViewGenerator&lt;?&gt;&gt; mViewGenerators;\r\n\r\nwhere the ``IViewGenerator&lt;T&gt;`` is an interface to an object which generates view for data of type ``T``, a generic interface:\r\n\r\n    interface IViewGenerator&lt;T&gt; {\r\n         View generate(T val); // generic method\r\n    }\r\n\r\nThis way, I can call a &quot;``addViewGenerator``&quot; method or the like on the GUI object to add new value type support by composition and thus in an &quot;open/closed&quot; fashion.\r\n\r\nThe problem is this. In the same class as ``mViewGenerators`` we&#39;ll have something like\r\n\r\n    private void buildView() {\r\n         ...\r\n         for(Object data : heterogeneousDataSet) {\r\n              Class&lt;?&gt; dataClass = data.getClass();\r\n              if(mViewGenerators.containsKey(dataClass)) {\r\n                   // Wanna make a view for this data based on its type,\r\n                   // but this is illegal Java\r\n                   View v = mViewGenerators.get(dataClass).generate(data);\r\n\r\n                   // add the view to the growing GUI\r\n                   ...\r\n              }\r\n         }\r\n         ...\r\n    }\r\n\r\nYou can see what the issue here is. Note that one could potentially use a hack like reflection but as I just said, seems like a hack and a code smell.\r\n\r\nHence, what&#39;s the better way to design or approach this that would not have this problem?","title":"In this Java scenario, how can you avoid calling a wildcard method with data whose type is only known at run-time?","body":"<p>I've been making a Java program which involves manipulating a collection of dynamically created, heterogeneously-typed data stored in a container, and I've been running into the following small conundrum which, while I've tried to get around it with hacks before, have never felt very satisfied with them.</p>\n<p>In the GUI part of the program, we must present the data to the user. When it comes across a field with a given type, it needs to produce a view for data of that type. To make it extensible (Open/Closed Principle) to new types of data without modifying the GUI window class and instead just adding new handler objects to produce new kinds of views, my GUI class has a member like this:</p>\n<pre><code>private HashMap&lt;Class&lt;?&gt;, IViewGenerator&lt;?&gt;&gt; mViewGenerators;\n</code></pre>\n<p>where the <code>IViewGenerator&lt;T&gt;</code> is an interface to an object which generates view for data of type <code>T</code>, a generic interface:</p>\n<pre><code>interface IViewGenerator&lt;T&gt; {\n     View generate(T val); // generic method\n}\n</code></pre>\n<p>This way, I can call a &quot;<code>addViewGenerator</code>&quot; method or the like on the GUI object to add new value type support by composition and thus in an &quot;open/closed&quot; fashion.</p>\n<p>The problem is this. In the same class as <code>mViewGenerators</code> we'll have something like</p>\n<pre><code>private void buildView() {\n     ...\n     for(Object data : heterogeneousDataSet) {\n          Class&lt;?&gt; dataClass = data.getClass();\n          if(mViewGenerators.containsKey(dataClass)) {\n               // Wanna make a view for this data based on its type,\n               // but this is illegal Java\n               View v = mViewGenerators.get(dataClass).generate(data);\n\n               // add the view to the growing GUI\n               ...\n          }\n     }\n     ...\n}\n</code></pre>\n<p>You can see what the issue here is. Note that one could potentially use a hack like reflection but as I just said, seems like a hack and a code smell.</p>\n<p>Hence, what's the better way to design or approach this that would not have this problem?</p>\n"},{"tags":["java","maven","selenium-webdriver"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":1,"creation_date":1692626137,"post_id":76940501,"comment_id":135645323,"body_markdown":"&quot;How to implement it in singleton design pattern?&quot; Why are you asking for design patterns for code while asking a question on a declarative build system like Maven?","body":"&quot;How to implement it in singleton design pattern?&quot; Why are you asking for design patterns for code while asking a question on a declarative build system like Maven?"}],"owner":{"account_id":29203044,"reputation":1,"user_id":22372709,"display_name":"Oleh Kochetkov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692551205,"creation_date":1692551205,"question_id":76940501,"body_markdown":"What is the conventional way to handle chrome updates(versions) in your UI automation framework (Maven, Java)?\r\n\r\nI have tried to update dependency in pom.xml file. It works. Is there any other options? Can i continue to use older version of Chrome in test execution. How to implement it in singelton design pattern?","title":"Chrome updates in maven project","body":"<p>What is the conventional way to handle chrome updates(versions) in your UI automation framework (Maven, Java)?</p>\n<p>I have tried to update dependency in pom.xml file. It works. Is there any other options? Can i continue to use older version of Chrome in test execution. How to implement it in singelton design pattern?</p>\n"},{"tags":["java","eclipse","wsdl","axis"],"answers":[{"tags":[],"owner":{"display_name":"user3146880"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1388744415,"creation_date":1388744415,"answer_id":20901361,"question_id":20901089,"body_markdown":"I have seen very similar problem quite a few times, also i can see you are using Axis.v1 And this could cause the problem. Try using Axis.v2 when doing WSDL2Java. \r\nPS. Look also at JAX-WS import tool, its quite fast efficient and easy to use and implement ( also regarding dynamic client ) \r\nYou can see JAX-WS [HERE][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/webservices/jax-ws/jax-ws-hello-world-example-document-style/","title":"IWAB0399E Error in generating Java from WSDL: java.io.IOException: Type {http://www.w3.org/2001/XMLSchema}array is referenced but not defined","body":"<p>I have seen very similar problem quite a few times, also i can see you are using Axis.v1 And this could cause the problem. Try using Axis.v2 when doing WSDL2Java. \nPS. Look also at JAX-WS import tool, its quite fast efficient and easy to use and implement ( also regarding dynamic client ) \nYou can see JAX-WS <a href=\"http://www.mkyong.com/webservices/jax-ws/jax-ws-hello-world-example-document-style/\" rel=\"nofollow\">HERE</a></p>\n"},{"tags":[],"owner":{"account_id":3309702,"reputation":2179,"user_id":2783507,"display_name":"Etienne Tonnelier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492161326,"creation_date":1487846858,"answer_id":42413538,"question_id":20901089,"body_markdown":"As a workaround, you may remove the &lt;types&gt; part of the wsdl, responsible for schema definition. This may solve your problem.\r\nRemove this part below:\r\n\r\n    &lt;types&gt;\r\n         [...]\r\n    &lt;/types&gt;","title":"IWAB0399E Error in generating Java from WSDL: java.io.IOException: Type {http://www.w3.org/2001/XMLSchema}array is referenced but not defined","body":"<p>As a workaround, you may remove the  part of the wsdl, responsible for schema definition. This may solve your problem.\nRemove this part below:</p>\n\n<pre><code>&lt;types&gt;\n     [...]\n&lt;/types&gt;\n</code></pre>\n"}],"owner":{"account_id":1405091,"reputation":849,"user_id":1333027,"accept_rate":64,"display_name":"pise"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12910,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692551005,"creation_date":1388743585,"question_id":20901089,"body_markdown":"I am getting **IWAB0399E Error** in generating Java from **WSDL:  java.io.IOException**: Type {http://www.w3.org/2001/XMLSchema}array is referenced but not defined&#39; while consuming web service using eclipse Juno.\r\n\r\n**Tools used&lt;br&gt;**\r\n\r\n 1. Eclipse 4.2&lt;br&gt;\r\n 2. Jboss 4.2&lt;br&gt;\r\n 3. Axis 1\r\n\r\nPlease advice.\r\n\r\nRegards,\r\npise","title":"IWAB0399E Error in generating Java from WSDL: java.io.IOException: Type {http://www.w3.org/2001/XMLSchema}array is referenced but not defined","body":"<p>I am getting <strong>IWAB0399E Error</strong> in generating Java from <strong>WSDL:  java.io.IOException</strong>: Type {<a href=\"http://www.w3.org/2001/XMLSchema\" rel=\"nofollow\">http://www.w3.org/2001/XMLSchema</a>}array is referenced but not defined' while consuming web service using eclipse Juno.</p>\n\n<p><strong>Tools used<br></strong></p>\n\n<ol>\n<li>Eclipse 4.2<br></li>\n<li>Jboss 4.2<br></li>\n<li>Axis 1</li>\n</ol>\n\n<p>Please advice.</p>\n\n<p>Regards,\npise</p>\n"},{"tags":["java","swing","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692550331,"creation_date":1486300671,"answer_id":42052500,"question_id":42050871,"body_markdown":"This is a feature of the default [`IntervalCategoryItemLabelGenerator`][1]. The [`DEFAULT_LABEL_FORMAT_STRING`][2] specifies the following [`MesageFormat`][3] values:\r\n\r\n    `&quot;({0}, {1}) = {3} - {4}&quot;`\r\n\r\nThe meanings are defined by [`createItemArray()`][3], seen [here][4]. Instead of the default, you probably want something like this:\r\n\r\n    renderer.setBaseItemLabelGenerator(\r\n        new IntervalCategoryItemLabelGenerator(\r\n            &quot;{2}&quot;, NumberFormat.getNumberInstance()));\r\n\r\n[![image][5]][5]\r\n\r\n\r\n  [1]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/labels/IntervalCategoryItemLabelGenerator.html\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/labels/IntervalCategoryItemLabelGenerator.html#DEFAULT_LABEL_FORMAT_STRING\r\n  [3]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/labels/IntervalCategoryItemLabelGenerator.html#createItemArray(org.jfree.data.category.CategoryDataset,int,int)\r\n  [4]: https://www.jfree.org/jfreechart/javadoc/src-html/org/jfree/chart/labels/IntervalCategoryItemLabelGenerator.html#line.104\r\n  [5]: https://i.stack.imgur.com/TbyZC.png","title":"IntervalBarRenderer: Displaying specific information inside the bar","body":"<p>This is a feature of the default <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/labels/IntervalCategoryItemLabelGenerator.html\" rel=\"nofollow noreferrer\"><code>IntervalCategoryItemLabelGenerator</code></a>. The <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/labels/IntervalCategoryItemLabelGenerator.html#DEFAULT_LABEL_FORMAT_STRING\" rel=\"nofollow noreferrer\"><code>DEFAULT_LABEL_FORMAT_STRING</code></a> specifies the following <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/labels/IntervalCategoryItemLabelGenerator.html#createItemArray(org.jfree.data.category.CategoryDataset,int,int)\" rel=\"nofollow noreferrer\"><code>MesageFormat</code></a> values:</p>\n<pre><code>`&quot;({0}, {1}) = {3} - {4}&quot;`\n</code></pre>\n<p>The meanings are defined by <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/labels/IntervalCategoryItemLabelGenerator.html#createItemArray(org.jfree.data.category.CategoryDataset,int,int)\" rel=\"nofollow noreferrer\"><code>createItemArray()</code></a>, seen <a href=\"https://www.jfree.org/jfreechart/javadoc/src-html/org/jfree/chart/labels/IntervalCategoryItemLabelGenerator.html#line.104\" rel=\"nofollow noreferrer\">here</a>. Instead of the default, you probably want something like this:</p>\n<pre><code>renderer.setBaseItemLabelGenerator(\n    new IntervalCategoryItemLabelGenerator(\n        &quot;{2}&quot;, NumberFormat.getNumberInstance()));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TbyZC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TbyZC.png\" alt=\"image\" /></a></p>\n"}],"owner":{"account_id":7266825,"reputation":498,"user_id":5541175,"accept_rate":53,"display_name":"Faisal Bahadur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42052500,"answer_count":1,"score":2,"last_activity_date":1692550331,"creation_date":1486289917,"question_id":42050871,"body_markdown":"In a `DefaultIntervalCategoryDataset`, I want to display the interval range information inside the bar. I want to discard information encircled in the following figure, and just want to display the interval value.\r\n\r\n[![image][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Vdk7Z.png\r\n\r\nBelow is the code. How to display interval values only?\r\n\r\n    public class IntervalBarChartTest0 extends ApplicationFrame {\r\n    \tpublic IntervalBarChartTest0(String title) {\r\n    \t\tsuper(title);\r\n    \t\tJPanel chartPanel = createDemoPanel();\r\n    \t\tchartPanel.setPreferredSize(new Dimension(500, 270));\r\n    \t\tsetContentPane(chartPanel);\r\n    \t}\r\n    \tprivate static DefaultIntervalCategoryDataset createDataset1() {\r\n    \r\n    \t\tNumber[] series1_Start = new Number[] {25,50};\r\n    \t\tNumber[] series1_End = new Number[] {50,75};\r\n    \t\tNumber[][] starts = new Number[][]{series1_Start};\r\n    \t\tNumber[][] ends = new Number[][] {series1_End};\r\n    \t\tString[]  categoryKeys = {&quot;50th%ile&quot;, &quot;90th%ile&quot;};\r\n    \t\tString[] seriesKeys = {&quot;Series1&quot;};\r\n    \t\tDefaultIntervalCategoryDataset dataset= new DefaultIntervalCategoryDataset(seriesKeys,categoryKeys,starts, ends);\r\n    \t\treturn dataset;\r\n    \t}\r\n    \t\r\n    \tprivate static JFreeChart createChart(DefaultIntervalCategoryDataset dataset) {\r\n    \r\n    \t\tCategoryAxis domainAxis = new CategoryAxis(&quot;Percentiles&quot;);\r\n    \r\n    \t\tNumberAxis rangeAxis = new NumberAxis(&quot;ms1&quot;);\r\n    \t\tIntervalBarRenderer renderer = new IntervalBarRenderer();\r\n    \t\trendererSettings(renderer);\r\n    \t\tCategoryPlot plot = new CategoryPlot(dataset, domainAxis, rangeAxis,renderer);\r\n    \t\tJFreeChart chart = new JFreeChart(&quot;Percentiles&quot;, plot);\r\n    \t\tChartUtilities.applyCurrentTheme(chart);\r\n    \t\treturn chart;\r\n    \t}\r\n    \tprivate static void rendererSettings(IntervalBarRenderer renderer){\r\n    \t\trenderer.setItemLabelFont(new Font(&quot;Verdana&quot;,Font.PLAIN,8));\r\n    \t\trenderer.setBaseItemLabelGenerator(new IntervalCategoryItemLabelGenerator());\r\n    \t\trenderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.INSIDE6, TextAnchor.BOTTOM_CENTER));\r\n    \t\trenderer.setItemMargin(0.1);\r\n    \t\trenderer.setBaseItemLabelsVisible(true);\t\r\n    \t\t\r\n    \t}\r\n    \tpublic static JPanel createDemoPanel() {\r\n    \t\tJFreeChart chart = createChart(createDataset1());\r\n    \t\treturn new ChartPanel(chart);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tJFrame demo = new IntervalBarChartTest0(\r\n    \t\t\t\t&quot;Testing&quot;);\r\n    \t\tdemo.pack();\r\n    \t\tRefineryUtilities.centerFrameOnScreen(demo);\r\n    \t\tdemo.setVisible(true);\r\n    \t}\r\n    \r\n    }","title":"IntervalBarRenderer: Displaying specific information inside the bar","body":"<p>In a <code>DefaultIntervalCategoryDataset</code>, I want to display the interval range information inside the bar. I want to discard information encircled in the following figure, and just want to display the interval value.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vdk7Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vdk7Z.png\" alt=\"image\"></a></p>\n\n<p>Below is the code. How to display interval values only?</p>\n\n<pre><code>public class IntervalBarChartTest0 extends ApplicationFrame {\n    public IntervalBarChartTest0(String title) {\n        super(title);\n        JPanel chartPanel = createDemoPanel();\n        chartPanel.setPreferredSize(new Dimension(500, 270));\n        setContentPane(chartPanel);\n    }\n    private static DefaultIntervalCategoryDataset createDataset1() {\n\n        Number[] series1_Start = new Number[] {25,50};\n        Number[] series1_End = new Number[] {50,75};\n        Number[][] starts = new Number[][]{series1_Start};\n        Number[][] ends = new Number[][] {series1_End};\n        String[]  categoryKeys = {\"50th%ile\", \"90th%ile\"};\n        String[] seriesKeys = {\"Series1\"};\n        DefaultIntervalCategoryDataset dataset= new DefaultIntervalCategoryDataset(seriesKeys,categoryKeys,starts, ends);\n        return dataset;\n    }\n\n    private static JFreeChart createChart(DefaultIntervalCategoryDataset dataset) {\n\n        CategoryAxis domainAxis = new CategoryAxis(\"Percentiles\");\n\n        NumberAxis rangeAxis = new NumberAxis(\"ms1\");\n        IntervalBarRenderer renderer = new IntervalBarRenderer();\n        rendererSettings(renderer);\n        CategoryPlot plot = new CategoryPlot(dataset, domainAxis, rangeAxis,renderer);\n        JFreeChart chart = new JFreeChart(\"Percentiles\", plot);\n        ChartUtilities.applyCurrentTheme(chart);\n        return chart;\n    }\n    private static void rendererSettings(IntervalBarRenderer renderer){\n        renderer.setItemLabelFont(new Font(\"Verdana\",Font.PLAIN,8));\n        renderer.setBaseItemLabelGenerator(new IntervalCategoryItemLabelGenerator());\n        renderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.INSIDE6, TextAnchor.BOTTOM_CENTER));\n        renderer.setItemMargin(0.1);\n        renderer.setBaseItemLabelsVisible(true);    \n\n    }\n    public static JPanel createDemoPanel() {\n        JFreeChart chart = createChart(createDataset1());\n        return new ChartPanel(chart);\n    }\n\n    public static void main(String[] args) {\n        JFrame demo = new IntervalBarChartTest0(\n                \"Testing\");\n        demo.pack();\n        RefineryUtilities.centerFrameOnScreen(demo);\n        demo.setVisible(true);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"score":0,"creation_date":1425302440,"post_id":28810776,"comment_id":45893641,"body_markdown":"What about a hashmap ?","body":"What about a hashmap ?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1425302480,"post_id":28810776,"comment_id":45893655,"body_markdown":"You could create an `int[9]` and increment the n-th position in the array everytime you see the number n. No conditions needed.","body":"You could create an <code>int[9]</code> and increment the n-th position in the array everytime you see the number n. No conditions needed."},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":2,"creation_date":1425302583,"post_id":28810776,"comment_id":45893721,"body_markdown":"To expan on assylias&#39;s comment, you do `count[array[i]]++` in a loop on `i`.","body":"To expan on assylias&#39;s comment, you do <code>count[array[i]]++</code> in a loop on <code>i</code>."}],"answers":[{"tags":[],"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425302810,"creation_date":1425302500,"answer_id":28810845,"question_id":28810776,"body_markdown":"Make a HashMap (Key =&gt; Number Value =&gt; count times)\r\nIncrease value every time when you find the number.\r\n\r\nHere some examplecode:\r\n\r\n    if(map.containsKey(currentNumber)){\r\n\t\t\t\tint count = map.get(random);\r\n\t\t\t\tcount++;\r\n\t\t\t\tmap.put(random, count);\r\n\t\t\t}","title":"How to find how many times a number is repeated in an array in java","body":"<p>Make a HashMap (Key => Number Value => count times)\nIncrease value every time when you find the number.</p>\n\n<p>Here some examplecode:</p>\n\n<pre><code>if(map.containsKey(currentNumber)){\n            int count = map.get(random);\n            count++;\n            map.put(random, count);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"score":0,"creation_date":1425302651,"post_id":28810847,"comment_id":45893767,"body_markdown":"Let&#39;s hope they don&#39;t say we will give you 3 numbers between 1 and 6 billions. That&#39;ll be a huge array for 3 numbers.","body":"Let&#39;s hope they don&#39;t say we will give you 3 numbers between 1 and 6 billions. That&#39;ll be a huge array for 3 numbers."},{"owner":{"account_id":4118914,"reputation":957,"user_id":3379813,"accept_rate":100,"display_name":"DeiAndrei"},"score":0,"creation_date":1425302729,"post_id":28810847,"comment_id":45893805,"body_markdown":"This approach is appropriate since we have such a small range of values. If the range grows, the memory grows until this method becomes unreliable.","body":"This approach is appropriate since we have such a small range of values. If the range grows, the memory grows until this method becomes unreliable."}],"tags":[],"owner":{"account_id":4118914,"reputation":957,"user_id":3379813,"accept_rate":100,"display_name":"DeiAndrei"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425302503,"creation_date":1425302503,"answer_id":28810847,"question_id":28810776,"body_markdown":"use a counter vector. Lets say we define a vector count[] with 10 positions. In count[1] we store the number of times the &#39;1&#39; appears in our array, in count[2] we count the 2&#39;s and so on. . .","title":"How to find how many times a number is repeated in an array in java","body":"<p>use a counter vector. Lets say we define a vector count[] with 10 positions. In count[1] we store the number of times the '1' appears in our array, in count[2] we count the 2's and so on. . .</p>\n"},{"tags":[],"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1425303045,"creation_date":1425302661,"answer_id":28810890,"question_id":28810776,"body_markdown":"        Map&lt;Integer,Integer&gt; cnts = new HashMap&lt;Integer, Integer&gt;();\r\n\t\tint array[] = new int[1000];\r\n\t\t\r\n\t\tfor(int i=0;i&lt;array.length;i++){\r\n\t\t\tfor (Map.Entry&lt;Integer, Integer&gt; entry : cnts.entrySet()) {\r\n\t\t\t\tif(array[i]==entry.getKey()){\r\n\t\t\t\t\tint val = entry.getValue()+1; // increment value by 1\r\n\t\t\t\t\tentry.setValue(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nCreate map `Key` is number and `Value` is number of occurrences.","title":"How to find how many times a number is repeated in an array in java","body":"<pre><code>    Map&lt;Integer,Integer&gt; cnts = new HashMap&lt;Integer, Integer&gt;();\n    int array[] = new int[1000];\n\n    for(int i=0;i&lt;array.length;i++){\n        for (Map.Entry&lt;Integer, Integer&gt; entry : cnts.entrySet()) {\n            if(array[i]==entry.getKey()){\n                int val = entry.getValue()+1; // increment value by 1\n                entry.setValue(val);\n            }\n        }\n    }\n</code></pre>\n\n<p>Create map <code>Key</code> is number and <code>Value</code> is number of occurrences.</p>\n"},{"tags":[],"owner":{"account_id":5825060,"reputation":195,"user_id":4591776,"accept_rate":100,"display_name":"neural.atlant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425302896,"creation_date":1425302896,"answer_id":28810982,"question_id":28810776,"body_markdown":"Create new array `numbers[8]` and in function count amount of numbers with `numbers[array[n - 1]]` using any cycle, where `array` is your array and `n` is counter.","title":"How to find how many times a number is repeated in an array in java","body":"<p>Create new array <code>numbers[8]</code> and in function count amount of numbers with <code>numbers[array[n - 1]]</code> using any cycle, where <code>array</code> is your array and <code>n</code> is counter.</p>\n"},{"tags":[],"owner":{"display_name":"user4571931"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425303461,"creation_date":1425303461,"answer_id":28811178,"question_id":28810776,"body_markdown":"Here is complete running example... hope it helps you\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.TreeMap;\r\n    \r\n    public class CountDuplicateItems {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t\tlist.add(&quot;a&quot;);\r\n    \t\tlist.add(&quot;b&quot;);\r\n    \t\tlist.add(&quot;c&quot;);\r\n    \t\tlist.add(&quot;d&quot;);\r\n    \t\tlist.add(&quot;b&quot;);\r\n    \t\tlist.add(&quot;c&quot;);\r\n    \t\tlist.add(&quot;a&quot;);\r\n    \t\tlist.add(&quot;a&quot;);\r\n    \t\tlist.add(&quot;a&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;\\nExample 1 - Count &#39;a&#39; with frequency&quot;);\r\n    \t\tSystem.out.println(&quot;a : &quot; + Collections.frequency(list, &quot;a&quot;));\r\n    \r\n    \t\tSystem.out.println(&quot;\\nExample 2 - Count all with frequency&quot;);\r\n    \t\tSet&lt;String&gt; uniqueSet = new HashSet&lt;String&gt;(list);\r\n    \t\tfor (String temp : uniqueSet) {\r\n    \t\t\tSystem.out.println(temp + &quot;: &quot; + Collections.frequency(list, temp));\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;\\nExample 3 - Count all with Map&quot;);\r\n    \t\tMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    \r\n    \t\tfor (String temp : list) {\r\n    \t\t\tInteger count = map.get(temp);\r\n    \t\t\tmap.put(temp, (count == null) ? 1 : count + 1);\r\n    \t\t}\r\n    \r\n    \t\tprintMap(map);\r\n    \r\n    \t\tSystem.out.println(&quot;\\nSorted Map&quot;);\r\n    \t\tMap&lt;String, Integer&gt; treeMap = new TreeMap&lt;String, Integer&gt;(map);\r\n    \t\tprintMap(treeMap);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void printMap(Map&lt;String, Integer&gt; map) {\r\n    \r\n    \t\tfor (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n    \t\t\tSystem.out.println(&quot;Key : &quot; + entry.getKey() + &quot; Value : &quot; + entry.getValue());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**Output**\r\n\r\n\r\nExample 1 - Count &#39;a&#39; with frequency\r\na : 4\r\n\r\nExample 2 - Count all with frequency\r\nd: 1\r\nb: 2\r\nc: 2\r\na: 4\r\n\r\nExample 3 - Count all with Map\r\nKey : d Value : 1\r\nKey : b Value : 2\r\nKey : c Value : 2\r\nKey : a Value : 4\r\n\r\nSorted Map\r\nKey : a Value : 4\r\nKey : b Value : 2\r\nKey : c Value : 2\r\nKey : d Value : 1\r\n","title":"How to find how many times a number is repeated in an array in java","body":"<p>Here is complete running example... hope it helps you</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeMap;\n\npublic class CountDuplicateItems {\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        list.add(\"a\");\n        list.add(\"b\");\n        list.add(\"c\");\n        list.add(\"d\");\n        list.add(\"b\");\n        list.add(\"c\");\n        list.add(\"a\");\n        list.add(\"a\");\n        list.add(\"a\");\n\n        System.out.println(\"\\nExample 1 - Count 'a' with frequency\");\n        System.out.println(\"a : \" + Collections.frequency(list, \"a\"));\n\n        System.out.println(\"\\nExample 2 - Count all with frequency\");\n        Set&lt;String&gt; uniqueSet = new HashSet&lt;String&gt;(list);\n        for (String temp : uniqueSet) {\n            System.out.println(temp + \": \" + Collections.frequency(list, temp));\n        }\n\n        System.out.println(\"\\nExample 3 - Count all with Map\");\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n\n        for (String temp : list) {\n            Integer count = map.get(temp);\n            map.put(temp, (count == null) ? 1 : count + 1);\n        }\n\n        printMap(map);\n\n        System.out.println(\"\\nSorted Map\");\n        Map&lt;String, Integer&gt; treeMap = new TreeMap&lt;String, Integer&gt;(map);\n        printMap(treeMap);\n\n    }\n\n    public static void printMap(Map&lt;String, Integer&gt; map) {\n\n        for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n            System.out.println(\"Key : \" + entry.getKey() + \" Value : \" + entry.getValue());\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p>Example 1 - Count 'a' with frequency\na : 4</p>\n\n<p>Example 2 - Count all with frequency\nd: 1\nb: 2\nc: 2\na: 4</p>\n\n<p>Example 3 - Count all with Map\nKey : d Value : 1\nKey : b Value : 2\nKey : c Value : 2\nKey : a Value : 4</p>\n\n<p>Sorted Map\nKey : a Value : 4\nKey : b Value : 2\nKey : c Value : 2\nKey : d Value : 1</p>\n"},{"tags":[],"owner":{"account_id":9167144,"reputation":1,"user_id":22419303,"display_name":"bilal nizamani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692550261,"creation_date":1692550261,"answer_id":76940437,"question_id":28810776,"body_markdown":"&gt;  hope it helps you\r\n\r\n       int array[] = {5, 6, 7, 6, 7, 5, 7, 5};\r\n\r\n        HashMap&lt;Integer, Integer&gt; rep = new HashMap();\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            int count = 0;\r\n            for(int j = 0; j &lt; array.length; j++){\r\n                if(array[i] == array[j]){\r\n                    count++;\r\n                }\r\n            }\r\n            rep.put(array[i], count);\r\n        }\r\n\r\n        System.out.println(rep);","title":"How to find how many times a number is repeated in an array in java","body":"<blockquote>\n<p>hope it helps you</p>\n</blockquote>\n<pre><code>   int array[] = {5, 6, 7, 6, 7, 5, 7, 5};\n\n    HashMap&lt;Integer, Integer&gt; rep = new HashMap();\n    for (int i = 0; i &lt; array.length; i++) {\n        int count = 0;\n        for(int j = 0; j &lt; array.length; j++){\n            if(array[i] == array[j]){\n                count++;\n            }\n        }\n        rep.put(array[i], count);\n    }\n\n    System.out.println(rep);\n</code></pre>\n"}],"owner":{"account_id":3364756,"reputation":1,"user_id":2825674,"display_name":"Ankit Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1692550261,"creation_date":1425302343,"question_id":28810776,"body_markdown":"Lets say I have an array of length `10000` with values from `1-9` in it, i need to write a program in java that will find how many number of times a number is repeating in an efficient way.\r\n\r\nI thought of defining `9` variables and using if else if ladder i will increase there value if the number is repeating but that wont be a efficient way to do that, kindly suggest me some other approach.","title":"How to find how many times a number is repeated in an array in java","body":"<p>Lets say I have an array of length <code>10000</code> with values from <code>1-9</code> in it, i need to write a program in java that will find how many number of times a number is repeating in an efficient way.</p>\n\n<p>I thought of defining <code>9</code> variables and using if else if ladder i will increase there value if the number is repeating but that wont be a efficient way to do that, kindly suggest me some other approach.</p>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-oauth2","oauth2client"],"owner":{"account_id":24502331,"reputation":23,"user_id":18417790,"display_name":"Dev-eloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692550002,"creation_date":1692453673,"question_id":76935479,"body_markdown":"I need to get the access token from oauth2.0 Authorization code grant. \r\nI have clientid, client secret, redirect uri, token uri etc.\r\nUsing spring boot I hit an api so that it&#39;ll redirect into Authorization uri where I&#39;ll enter user credentials and it&#39;ll redirect into another url which is specified and there I can see the authorization code\r\nFor example :- (After redirect I can see the authorization code in the browser)\r\nhttps://domain.xyz?code=xyzyejsusjxyzxy\r\n\r\nHere I need this Authorization code to hit the token url to get the access token. But, since that redirect url is server one I cannot call back to local api (if I do this I&#39;m getting 400 invalid redirect uri and even I cannot change this redirect uri in auth server). So, how can I capture this Authorization code to hit the token url?\r\nKindly anyone help here.\r\n\r\nI&#39;m using the below api in spring boot where here it is redirected into Authorization url\r\n\r\n```\r\n@GetMapping(&quot;/initiate-auth&quot;)\r\n    public ResponseEntity&lt;Void&gt; initiateOAuth2Authentication() {\r\nString redirectUri= &quot;https://domain.xyz.oidcclient/sub&quot;;\r\n//(for example)\r\n        String authorizationRequestUri = &quot;/oauth2/authorization?response_type=code&amp;scope=opening&amp;redirecturi&quot; + redirectUri;\r\n\r\n        // Perform redirection to the OAuth2 provider&#39;s authorization page\r\n        return ResponseEntity.status(302)\r\n                .header(&quot;Location&quot;, authorizationRequestUri)\r\n                .build();\r\n```\r\nI even tried with security config in spring boot\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/initiate-auth&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .oauth2Login()\r\n                .userInfoEndpoint()\r\n                    .oidcUserService(oidcUserService());\r\n    }\r\n\r\n    @Bean\r\n    public ClientRegistrationRepository clientRegistrationRepository() {\r\n        return new InMemoryClientRegistrationRepository(clientRegistration());\r\n    }\r\n\r\n    private ClientRegistration clientRegistration() {\r\n        return ClientRegistration.withRegistrationId(&quot;your-client-id&quot;)\r\n                .clientId(&quot;your-client-id&quot;)\r\n                .clientSecret(&quot;your-client-secret&quot;)\r\n                .redirectUriTemplate(&quot;{baseUrl}/oauth2/callback&quot;)\r\n                .authorizationUri(&quot;your-authorization-uri&quot;)\r\n                .tokenUri(&quot;your-token-uri&quot;)\r\n                .userInfoUri(&quot;your-user-info-uri&quot;)\r\n                .userNameAttributeName(&quot;your-username-attribute&quot;)\r\n                .clientName(&quot;Your Client Name&quot;)\r\n                .build();\r\n    }\r\n}\r\n```\r\nBut I&#39;m unable to capture authorization code in local console  and hit the token uri.\r\n\r\nBut same way I can do in postman and can get the access token. I checked in postman console and I assure that the same Authorization uri with redirect uri is mentioned in that but it can able to capture the token and hit the token url to get the access token.\r\n\r\nIf there is any config to do this automatic process handled by spring boot please share and it&#39;ll help me a lot\r\n\r\nThe requirement is to get the access token so that I can consume the rest api which is secured by oauth2\r\n\r\nI even tried to get the access token through client credentials grant type but unfortunately I&#39;m getting 403 Forbidden. But when I try to hit with the access token which is generated through Authorization code, I can hit the api successfully through post man. So, similar way I need to get the token through java spring boot.\r\n\r\nI would like to request you to please help me to get the access token from oauth2 authorization code grant type. \r\n\r\nThank you. ","title":"Generate access token for Oauth2 Authorization code grant type &amp; consume the secured Rest API using spring boot using that access token","body":"<p>I need to get the access token from oauth2.0 Authorization code grant.\nI have clientid, client secret, redirect uri, token uri etc.\nUsing spring boot I hit an api so that it'll redirect into Authorization uri where I'll enter user credentials and it'll redirect into another url which is specified and there I can see the authorization code\nFor example :- (After redirect I can see the authorization code in the browser)\n<a href=\"https://domain.xyz?code=xyzyejsusjxyzxy\" rel=\"nofollow noreferrer\">https://domain.xyz?code=xyzyejsusjxyzxy</a></p>\n<p>Here I need this Authorization code to hit the token url to get the access token. But, since that redirect url is server one I cannot call back to local api (if I do this I'm getting 400 invalid redirect uri and even I cannot change this redirect uri in auth server). So, how can I capture this Authorization code to hit the token url?\nKindly anyone help here.</p>\n<p>I'm using the below api in spring boot where here it is redirected into Authorization url</p>\n<pre><code>@GetMapping(&quot;/initiate-auth&quot;)\n    public ResponseEntity&lt;Void&gt; initiateOAuth2Authentication() {\nString redirectUri= &quot;https://domain.xyz.oidcclient/sub&quot;;\n//(for example)\n        String authorizationRequestUri = &quot;/oauth2/authorization?response_type=code&amp;scope=opening&amp;redirecturi&quot; + redirectUri;\n\n        // Perform redirection to the OAuth2 provider's authorization page\n        return ResponseEntity.status(302)\n                .header(&quot;Location&quot;, authorizationRequestUri)\n                .build();\n</code></pre>\n<p>I even tried with security config in spring boot</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/initiate-auth&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .oauth2Login()\n                .userInfoEndpoint()\n                    .oidcUserService(oidcUserService());\n    }\n\n    @Bean\n    public ClientRegistrationRepository clientRegistrationRepository() {\n        return new InMemoryClientRegistrationRepository(clientRegistration());\n    }\n\n    private ClientRegistration clientRegistration() {\n        return ClientRegistration.withRegistrationId(&quot;your-client-id&quot;)\n                .clientId(&quot;your-client-id&quot;)\n                .clientSecret(&quot;your-client-secret&quot;)\n                .redirectUriTemplate(&quot;{baseUrl}/oauth2/callback&quot;)\n                .authorizationUri(&quot;your-authorization-uri&quot;)\n                .tokenUri(&quot;your-token-uri&quot;)\n                .userInfoUri(&quot;your-user-info-uri&quot;)\n                .userNameAttributeName(&quot;your-username-attribute&quot;)\n                .clientName(&quot;Your Client Name&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p>But I'm unable to capture authorization code in local console  and hit the token uri.</p>\n<p>But same way I can do in postman and can get the access token. I checked in postman console and I assure that the same Authorization uri with redirect uri is mentioned in that but it can able to capture the token and hit the token url to get the access token.</p>\n<p>If there is any config to do this automatic process handled by spring boot please share and it'll help me a lot</p>\n<p>The requirement is to get the access token so that I can consume the rest api which is secured by oauth2</p>\n<p>I even tried to get the access token through client credentials grant type but unfortunately I'm getting 403 Forbidden. But when I try to hit with the access token which is generated through Authorization code, I can hit the api successfully through post man. So, similar way I need to get the token through java spring boot.</p>\n<p>I would like to request you to please help me to get the access token from oauth2 authorization code grant type.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-repositories","spring-boot-3"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1692550302,"post_id":76940353,"comment_id":135635627,"body_markdown":"@MappedSuperclass is on the wrong class. Should be on BaseEntity.","body":"@MappedSuperclass is on the wrong class. Should be on BaseEntity."},{"owner":{"account_id":29262505,"reputation":1,"user_id":22419134,"display_name":"Тимур Касенов"},"score":0,"creation_date":1692551766,"post_id":76940353,"comment_id":135635789,"body_markdown":"@Mar-Z Thanks! That helped","body":"@Mar-Z Thanks! That helped"}],"owner":{"account_id":29262505,"reputation":1,"user_id":22419134,"display_name":"Тимур Касенов"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692549096,"creation_date":1692549096,"question_id":76940353,"body_markdown":"I use Spring Boot 3 + Data JPA + PostgreSQL and having a problem while starting the application.\r\nThe error appears when I add repository files.\r\n\r\nBaseEntity class\r\n\r\n```\r\npackage com.example.contactc.entity;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\nimport lombok.experimental.FieldDefaults;\r\nimport org.springframework.data.annotation.CreatedDate;\r\nimport org.springframework.data.annotation.LastModifiedDate;\r\n\r\nimport java.sql.Timestamp;\r\n\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@FieldDefaults(level= AccessLevel.PRIVATE)\r\npublic class BaseEntity {\r\n\r\n    @CreatedDate\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    Timestamp cdt;\r\n\r\n    @LastModifiedDate\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    Timestamp mdt;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    Timestamp rdt;\r\n\r\n    public void markDeleted(){\r\n        this.setRdt(new Timestamp(System.currentTimeMillis()));\r\n    }\r\n}\r\n```\r\n\r\nEntity class\r\n\r\n```\r\npackage com.example.contactc.entity;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AccessLevel;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.experimental.FieldDefaults;\r\n\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;branch&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@MappedSuperclass\r\n@FieldDefaults(level= AccessLevel.PRIVATE)\r\npublic class Branch extends BaseEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    String name;\r\n\r\n}\r\n```\r\n\r\n\r\nBaseService class\r\n\r\n```\r\npackage com.example.contactc.service;\r\n\r\nimport com.example.contactc.entity.BaseEntity;\r\nimport com.example.contactc.model.BaseModel;\r\n\r\npublic interface BaseService&lt;T extends BaseModel, E extends BaseEntity, ID&gt; {\r\n    T findById(ID modelId);\r\n    E save(T model);\r\n\r\n    T deleteById(ID modelId);\r\n    T toModel(E entity);\r\n}\r\n```\r\n\r\nBranchService class\r\n\r\n```\r\npackage com.example.contactc.service;\r\n\r\nimport com.example.contactc.entity.Branch;\r\nimport com.example.contactc.model.BranchModel;\r\n\r\npublic interface BranchService extends BaseService&lt;BranchModel, Branch, Long&gt; {\r\n}\r\n```\r\n\r\nBranchServiceImpl class\r\n\r\n```\r\npackage com.example.contactc.service.impl;\r\n\r\nimport com.example.contactc.entity.Branch;\r\nimport com.example.contactc.exception.RecordNotFoundException;\r\nimport com.example.contactc.model.BranchModel;\r\nimport com.example.contactc.repo.BranchRepo;\r\nimport com.example.contactc.service.BranchService;\r\nimport lombok.AccessLevel;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.experimental.FieldDefaults;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\n@Service\r\n@AllArgsConstructor\r\n@FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE)\r\npublic class BranchServiceImpl implements BranchService {\r\n\r\n    BranchRepo repo;\r\n\r\n    @Override\r\n    public BranchModel findById(Long modelId) {\r\n        return repo.findByIdAndRdtIsNull(modelId).map(this::toModel)\r\n                .orElseThrow(() -&gt; new RecordNotFoundException(Branch.class, modelId));\r\n    }\r\n\r\n    @Override\r\n    public Branch save(BranchModel model) {\r\n        var branch = model.getId() == null ? new Branch() :\r\n                repo.findByIdAndRdtIsNull(model.getId())\r\n                        .orElseThrow(() -&gt; new RecordNotFoundException(Branch.class, model.getId()));\r\n\r\n        branch.setName(model.getName());\r\n\r\n        return repo.save(branch);\r\n    }\r\n\r\n    @Override\r\n    public BranchModel deleteById(Long modelId) {\r\n        var branch = repo.findByIdAndRdtIsNull(modelId).orElseThrow(() -&gt; new RecordNotFoundException(Branch.class, modelId));\r\n        branch.markDeleted();\r\n        return toModel(repo.save(branch));\r\n    }\r\n\r\n    @Override\r\n    public BranchModel toModel(Branch entity) {\r\n        return BranchModel.builder()\r\n                .id(entity.getId())\r\n                .name(entity.getName())\r\n                .cdt(entity.getCdt())\r\n                .mdt(entity.getMdt())\r\n                .rdt(entity.getRdt())\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nRepository class\r\n\r\n```\r\npackage com.example.contactc.repo;\r\n\r\nimport com.example.contactc.entity.Branch;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface BranchRepo extends JpaRepository&lt;Branch, Long&gt; {\r\n    Optional&lt;Branch&gt; findByIdAndRdtIsNull(Long id);\r\n}\r\n```\r\n\r\nApplication class\r\n\r\n```\r\npackage com.example.contactc;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\npublic class ContactCApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ContactCApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\napplication.yml file\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/contactcdb\r\n    username: tkasenov\r\n    password:\r\n  jpa:\r\n    show-sql: true\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ContactC&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ContactC&lt;/name&gt;\r\n\t&lt;description&gt;ContactC&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nmy packages structure\r\n[enter image description here](https://i.stack.imgur.com/zi4x2.png)\r\n\r\nI have tried to add this annotations\r\n\r\n```\r\n@EnableJpaRepositories(&quot;com.example.*&quot;)\r\n@ComponentScan(basePackages = { &quot;com.example.*&quot; })\r\n@EntityScan(&quot;com.example.*&quot;)\r\n```\r\n\r\nbut it had no effect the error","title":"Spring Boot 3 (Not a managed type entity)","body":"<p>I use Spring Boot 3 + Data JPA + PostgreSQL and having a problem while starting the application.\nThe error appears when I add repository files.</p>\n<p>BaseEntity class</p>\n<pre><code>package com.example.contactc.entity;\n\nimport jakarta.persistence.*;\nimport lombok.*;\nimport lombok.experimental.FieldDefaults;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\n\nimport java.sql.Timestamp;\n\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@FieldDefaults(level= AccessLevel.PRIVATE)\npublic class BaseEntity {\n\n    @CreatedDate\n    @Temporal(TemporalType.TIMESTAMP)\n    Timestamp cdt;\n\n    @LastModifiedDate\n    @Temporal(TemporalType.TIMESTAMP)\n    Timestamp mdt;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    Timestamp rdt;\n\n    public void markDeleted(){\n        this.setRdt(new Timestamp(System.currentTimeMillis()));\n    }\n}\n</code></pre>\n<p>Entity class</p>\n<pre><code>package com.example.contactc.entity;\n\nimport jakarta.persistence.*;\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.experimental.FieldDefaults;\n\n\n@Data\n@Entity\n@Table(name = &quot;branch&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@MappedSuperclass\n@FieldDefaults(level= AccessLevel.PRIVATE)\npublic class Branch extends BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    Long id;\n\n    @Column(name = &quot;name&quot;)\n    String name;\n\n}\n</code></pre>\n<p>BaseService class</p>\n<pre><code>package com.example.contactc.service;\n\nimport com.example.contactc.entity.BaseEntity;\nimport com.example.contactc.model.BaseModel;\n\npublic interface BaseService&lt;T extends BaseModel, E extends BaseEntity, ID&gt; {\n    T findById(ID modelId);\n    E save(T model);\n\n    T deleteById(ID modelId);\n    T toModel(E entity);\n}\n</code></pre>\n<p>BranchService class</p>\n<pre><code>package com.example.contactc.service;\n\nimport com.example.contactc.entity.Branch;\nimport com.example.contactc.model.BranchModel;\n\npublic interface BranchService extends BaseService&lt;BranchModel, Branch, Long&gt; {\n}\n</code></pre>\n<p>BranchServiceImpl class</p>\n<pre><code>package com.example.contactc.service.impl;\n\nimport com.example.contactc.entity.Branch;\nimport com.example.contactc.exception.RecordNotFoundException;\nimport com.example.contactc.model.BranchModel;\nimport com.example.contactc.repo.BranchRepo;\nimport com.example.contactc.service.BranchService;\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.experimental.FieldDefaults;\nimport org.springframework.stereotype.Service;\n\n\n@Service\n@AllArgsConstructor\n@FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE)\npublic class BranchServiceImpl implements BranchService {\n\n    BranchRepo repo;\n\n    @Override\n    public BranchModel findById(Long modelId) {\n        return repo.findByIdAndRdtIsNull(modelId).map(this::toModel)\n                .orElseThrow(() -&gt; new RecordNotFoundException(Branch.class, modelId));\n    }\n\n    @Override\n    public Branch save(BranchModel model) {\n        var branch = model.getId() == null ? new Branch() :\n                repo.findByIdAndRdtIsNull(model.getId())\n                        .orElseThrow(() -&gt; new RecordNotFoundException(Branch.class, model.getId()));\n\n        branch.setName(model.getName());\n\n        return repo.save(branch);\n    }\n\n    @Override\n    public BranchModel deleteById(Long modelId) {\n        var branch = repo.findByIdAndRdtIsNull(modelId).orElseThrow(() -&gt; new RecordNotFoundException(Branch.class, modelId));\n        branch.markDeleted();\n        return toModel(repo.save(branch));\n    }\n\n    @Override\n    public BranchModel toModel(Branch entity) {\n        return BranchModel.builder()\n                .id(entity.getId())\n                .name(entity.getName())\n                .cdt(entity.getCdt())\n                .mdt(entity.getMdt())\n                .rdt(entity.getRdt())\n                .build();\n    }\n}\n</code></pre>\n<p>Repository class</p>\n<pre><code>package com.example.contactc.repo;\n\nimport com.example.contactc.entity.Branch;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.Optional;\n\npublic interface BranchRepo extends JpaRepository&lt;Branch, Long&gt; {\n    Optional&lt;Branch&gt; findByIdAndRdtIsNull(Long id);\n}\n</code></pre>\n<p>Application class</p>\n<pre><code>package com.example.contactc;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\npublic class ContactCApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ContactCApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>application.yml file</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/contactcdb\n    username: tkasenov\n    password:\n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ContactC&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ContactC&lt;/name&gt;\n    &lt;description&gt;ContactC&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>my packages structure\n<a href=\"https://i.stack.imgur.com/zi4x2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried to add this annotations</p>\n<pre><code>@EnableJpaRepositories(&quot;com.example.*&quot;)\n@ComponentScan(basePackages = { &quot;com.example.*&quot; })\n@EntityScan(&quot;com.example.*&quot;)\n</code></pre>\n<p>but it had no effect the error</p>\n"},{"tags":["java","excel","apache-poi","poi-hssf"],"comments":[{"owner":{"account_id":445636,"reputation":4333,"user_id":838209,"accept_rate":80,"display_name":"Jon Rubins"},"score":0,"creation_date":1394997062,"post_id":22441425,"comment_id":34129891,"body_markdown":"Check out http://poi.apache.org/spreadsheet/quick-guide.html#ReadWriteWorkbook","body":"Check out <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#ReadWriteWorkbook\" rel=\"nofollow noreferrer\">poi.apache.org/spreadsheet/quick-guide.html#ReadWriteWorkboo&zwnj;&#8203;k</a>"}],"answers":[{"comments":[{"owner":{"account_id":3821055,"reputation":67,"user_id":3169158,"accept_rate":60,"display_name":"Jared"},"score":0,"creation_date":1395009864,"post_id":22441758,"comment_id":34134853,"body_markdown":"do you have to read in the existing data and write it with the new data to make an append-type of functionality?","body":"do you have to read in the existing data and write it with the new data to make an append-type of functionality?"},{"owner":{"account_id":3098413,"reputation":955,"user_id":2623158,"display_name":"JBuenoJr"},"score":1,"creation_date":1395010204,"post_id":22441758,"comment_id":34134966,"body_markdown":"Yes. If you don&#39;t read it in, how will you know where to append it to? When you are adding in your data, you are specifying the row and cell number. Those values need to be after the data that already exists. This isn&#39;t just a plain text file that you can append to the end of it :)","body":"Yes. If you don&#39;t read it in, how will you know where to append it to? When you are adding in your data, you are specifying the row and cell number. Those values need to be after the data that already exists. This isn&#39;t just a plain text file that you can append to the end of it :)"}],"tags":[],"owner":{"account_id":3098413,"reputation":955,"user_id":2623158,"display_name":"JBuenoJr"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394998126,"creation_date":1394998126,"answer_id":22441758,"question_id":22441425,"body_markdown":"I found this to be a very good example of updating an existing excel worksheet. As you&#39;ll notice, you create your workbook with the file you want to modify. This will allow you to find where you can create your new column and write your data too.\r\n\r\n    try {\r\n        FileInputStream file = new FileInputStream(new File(&quot;C:\\\\update.xls&quot;));\r\n     \r\n        HSSFWorkbook workbook = new HSSFWorkbook(file);\r\n        HSSFSheet sheet = workbook.getSheetAt(0);\r\n        Cell cell = null;\r\n\r\n        // Find empty cell     \r\n\r\n        // Update the value of cell\r\n         \r\n        file.close();\r\n         \r\n        FileOutputStream outFile = new FileOutputStream(new File(&quot;C:\\\\update.xls&quot;));\r\n        workbook.write(outFile);\r\n        outFile.close();\r\n         \r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }","title":"How to append to existing excel file using Java HSSF","body":"<p>I found this to be a very good example of updating an existing excel worksheet. As you'll notice, you create your workbook with the file you want to modify. This will allow you to find where you can create your new column and write your data too.</p>\n\n<pre><code>try {\n    FileInputStream file = new FileInputStream(new File(\"C:\\\\update.xls\"));\n\n    HSSFWorkbook workbook = new HSSFWorkbook(file);\n    HSSFSheet sheet = workbook.getSheetAt(0);\n    Cell cell = null;\n\n    // Find empty cell     \n\n    // Update the value of cell\n\n    file.close();\n\n    FileOutputStream outFile = new FileOutputStream(new File(\"C:\\\\update.xls\"));\n    workbook.write(outFile);\n    outFile.close();\n\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":3821055,"reputation":67,"user_id":3169158,"accept_rate":60,"display_name":"Jared"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10290,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692547640,"creation_date":1394996609,"question_id":22441425,"body_markdown":"I am still relatively new to Java and have cobbled together enough code that allows me to write my data out to a new excel file.  However, I want it to write (append to the end) to the existing file.  prepareDataToWriteToExcel() gets some data to write 3 columns of data.\r\n\r\n\tpublic List writeDataToExcelFile(String fileName) throws IOException {\r\n\t\tMap excelData = prepareDataToWriteToExcel();\r\n\t\tList receiversList=new  ArrayList();\r\n\t\tHSSFWorkbook myWorkBook = new HSSFWorkbook();\r\n\t\tHSSFSheet mySheet = myWorkBook.createSheet();\r\n\t\tHSSFRow myRow = null;\r\n\t\tHSSFCell myCell = null;\r\n\t\tIterator it=excelData.entrySet().iterator(); \r\n\t\tint rowNum=0;\r\n\t\twhile (it.hasNext()) {\r\n\t\t\tmyRow = mySheet.createRow(rowNum);\r\n\t\t\tMap.Entry pairs = (Map.Entry)it.next();\r\n\t\t\tString[]arr= (String[]) pairs.getValue();\r\n\t\t\tfor (int cellNum = 0; cellNum &lt; arr.length ; cellNum++){\r\n\t\t\t\tmyCell = myRow.createCell((short) cellNum);\r\n\t\t\t\tmyCell.setCellValue(arr[cellNum]);     \r\n\t\t\t}\r\n\t\t\treceiversList.add(arr[2]);\r\n\t\t\trowNum++;\r\n\t\t}\r\n\t\ttry{\r\n\t\t\tFileOutputStream out = new FileOutputStream(fileName);\r\n\t\t\tmyWorkBook.write(out);\r\n\t\t\tSystem.out.println(&quot;WRITING TO EXCEL COMPLETED&quot;);\r\n\t\t\tout.close();\r\n\t\t}catch(Exception e){}  \r\n\t\treturn receiversList;\r\n\t}","title":"How to append to existing excel file using Java HSSF","body":"<p>I am still relatively new to Java and have cobbled together enough code that allows me to write my data out to a new excel file.  However, I want it to write (append to the end) to the existing file.  prepareDataToWriteToExcel() gets some data to write 3 columns of data.</p>\n\n<pre><code>public List writeDataToExcelFile(String fileName) throws IOException {\n    Map excelData = prepareDataToWriteToExcel();\n    List receiversList=new  ArrayList();\n    HSSFWorkbook myWorkBook = new HSSFWorkbook();\n    HSSFSheet mySheet = myWorkBook.createSheet();\n    HSSFRow myRow = null;\n    HSSFCell myCell = null;\n    Iterator it=excelData.entrySet().iterator(); \n    int rowNum=0;\n    while (it.hasNext()) {\n        myRow = mySheet.createRow(rowNum);\n        Map.Entry pairs = (Map.Entry)it.next();\n        String[]arr= (String[]) pairs.getValue();\n        for (int cellNum = 0; cellNum &lt; arr.length ; cellNum++){\n            myCell = myRow.createCell((short) cellNum);\n            myCell.setCellValue(arr[cellNum]);     \n        }\n        receiversList.add(arr[2]);\n        rowNum++;\n    }\n    try{\n        FileOutputStream out = new FileOutputStream(fileName);\n        myWorkBook.write(out);\n        System.out.println(\"WRITING TO EXCEL COMPLETED\");\n        out.close();\n    }catch(Exception e){}  \n    return receiversList;\n}\n</code></pre>\n"},{"tags":["java","excel","kotlin","xpath","openxml"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1692464544,"post_id":76936098,"comment_id":135628181,"body_markdown":"Your theory is correct, default (anonymous) namespace apply to all descendant::self elements. That&#39;s why a prefix is needed when attempting to XPath query the document. If the element contains `xmlns=...` (vs  `xmlns:ns=...`) then a default namespace was declared and all elements under it are affected.","body":"Your theory is correct, default (anonymous) namespace apply to all descendant::self elements. That&#39;s why a prefix is needed when attempting to XPath query the document. If the element contains <code>xmlns=...</code> (vs  <code>xmlns:ns=...</code>) then a default namespace was declared and all elements under it are affected."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1692473751,"post_id":76936098,"comment_id":135629132,"body_markdown":"&quot;Where do you learn such tricks?&quot; Judging by the number of questions on StackOverflow from people who have fallen into this trap, most people learn such tricks by getting it wrong, struggling to work out why, and then asking on StackOverflow. A few people, however, learn in the conventional way by reading books and tutorials, or even the language specifications, and even by going on courses.","body":"&quot;Where do you learn such tricks?&quot; Judging by the number of questions on StackOverflow from people who have fallen into this trap, most people learn such tricks by getting it wrong, struggling to work out why, and then asking on StackOverflow. A few people, however, learn in the conventional way by reading books and tutorials, or even the language specifications, and even by going on courses."}],"answers":[{"comments":[{"owner":{"account_id":84265,"reputation":16827,"user_id":235671,"accept_rate":81,"display_name":"t3chb0t"},"score":0,"creation_date":1692476202,"post_id":76936783,"comment_id":135629365,"body_markdown":"I disagree. The question is valid, but I regret askig the last question. I knew people will pick on it :P","body":"I disagree. The question is valid, but I regret askig the last question. I knew people will pick on it :P"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1692523326,"post_id":76936783,"comment_id":135632662,"body_markdown":"I genuinely had trouble working out what your real question is.","body":"I genuinely had trouble working out what your real question is."},{"owner":{"account_id":84265,"reputation":16827,"user_id":235671,"accept_rate":81,"display_name":"t3chb0t"},"score":0,"creation_date":1692529716,"post_id":76936783,"comment_id":135633254,"body_markdown":"Yeah, that was stupid. I rephrased the question.","body":"Yeah, that was stupid. I rephrased the question."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1692613065,"post_id":76936783,"comment_id":135642437,"body_markdown":"Interactive tools like the XPath tester often take the namespace bindings from the XML document itself. That&#39;s considered bad practice for production applications because you don&#39;t want your code to be dependent on the namespace prefixes chosen by the document author.","body":"Interactive tools like the XPath tester often take the namespace bindings from the XML document itself. That&#39;s considered bad practice for production applications because you don&#39;t want your code to be dependent on the namespace prefixes chosen by the document author."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692474358,"creation_date":1692474358,"answer_id":76936783,"question_id":76936098,"body_markdown":"Your question reads more like a cry of frustration than a request for information that can be factually answered.\r\n\r\nIn response to the cry of frustration, it is undoubtedly true that the way namespaces are handled in XPath has proved to be a big usability problem for many users. Unfortunately, although everyone knows this, it&#39;s the kind of design mistake that it&#39;s very hard to correct subsequently. Later XPath versions have tried to mitigate the problem but sadly, many popular XPath libraries including the one that comes by default with the JDK have never implemented anything beyond XPath 1.0.\r\n\r\nMost languages have usability traps like this, and you learn from experience. My own learning style when I tackle a new technology is usually to skim-read a book on the subject, and a good text book usually gives ample warning helping you to avoid such pitfalls. These days, however, many of us have to learn more new technologies than there is room for on our bookshelves, and many people learn by trial and error and by copying and pasting examples. If your learning style is to to learn by trial and error, then I&#39;m afraid you have to accept that you will make errors and some of them won&#39;t be obvious.","title":"Why does Java&#39;s XPath evaluator require a custom prefix for an anonymous namespace while querying OpenXML files?","body":"<p>Your question reads more like a cry of frustration than a request for information that can be factually answered.</p>\n<p>In response to the cry of frustration, it is undoubtedly true that the way namespaces are handled in XPath has proved to be a big usability problem for many users. Unfortunately, although everyone knows this, it's the kind of design mistake that it's very hard to correct subsequently. Later XPath versions have tried to mitigate the problem but sadly, many popular XPath libraries including the one that comes by default with the JDK have never implemented anything beyond XPath 1.0.</p>\n<p>Most languages have usability traps like this, and you learn from experience. My own learning style when I tackle a new technology is usually to skim-read a book on the subject, and a good text book usually gives ample warning helping you to avoid such pitfalls. These days, however, many of us have to learn more new technologies than there is room for on our bookshelves, and many people learn by trial and error and by copying and pasting examples. If your learning style is to to learn by trial and error, then I'm afraid you have to accept that you will make errors and some of them won't be obvious.</p>\n"},{"comments":[{"owner":{"account_id":84265,"reputation":16827,"user_id":235671,"accept_rate":81,"display_name":"t3chb0t"},"score":0,"creation_date":1692554664,"post_id":76940258,"comment_id":135636148,"body_markdown":"That&#39;s an interesting alternative and their website looks like it&#39;s 90s back again ;-] You write XPath 2 or 3. I didn&#39;t know there a different versions. I always thought XPath is XPath. I see I&#39;ve got some things to catch up with.","body":"That&#39;s an interesting alternative and their website looks like it&#39;s 90s back again ;-] You write XPath 2 or 3. I didn&#39;t know there a different versions. I always thought XPath is XPath. I see I&#39;ve got some things to catch up with."}],"tags":[],"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692547397,"creation_date":1692547397,"answer_id":76940258,"question_id":76936098,"body_markdown":"Note that XPath 2 or 3 with e.g. Saxon-HE (current version is 12.3) allows to bind an &quot;empty&quot; prefix to a namespace URI and then your XPath `/workbook/sheets/sheet` selects three element nodes in your sample:\r\n\r\n    val xpath = &quot;/workbook/sheets/sheet&quot;\r\n\r\n    val processor = Processor()\r\n\r\n    val xpathCompiler = processor.newXPathCompiler()\r\n\r\n    xpathCompiler.declareNamespace(&quot;&quot;, &quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot;)\r\n\r\n    val nodes = xpathCompiler.evaluate(xpath, processor.newDocumentBuilder().build(File(&quot;sample1.xml&quot;)))\r\n\r\n    println(nodes.size())\r\n\r\nI have used the Saxon API s9api: https://www.saxonica.com/documentation12/index.html#!xpath-api/s9api-xpath","title":"Why does Java&#39;s XPath evaluator require a custom prefix for an anonymous namespace while querying OpenXML files?","body":"<p>Note that XPath 2 or 3 with e.g. Saxon-HE (current version is 12.3) allows to bind an &quot;empty&quot; prefix to a namespace URI and then your XPath <code>/workbook/sheets/sheet</code> selects three element nodes in your sample:</p>\n<pre><code>val xpath = &quot;/workbook/sheets/sheet&quot;\n\nval processor = Processor()\n\nval xpathCompiler = processor.newXPathCompiler()\n\nxpathCompiler.declareNamespace(&quot;&quot;, &quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot;)\n\nval nodes = xpathCompiler.evaluate(xpath, processor.newDocumentBuilder().build(File(&quot;sample1.xml&quot;)))\n\nprintln(nodes.size())\n</code></pre>\n<p>I have used the Saxon API s9api: <a href=\"https://www.saxonica.com/documentation12/index.html#!xpath-api/s9api-xpath\" rel=\"nofollow noreferrer\">https://www.saxonica.com/documentation12/index.html#!xpath-api/s9api-xpath</a></p>\n"}],"owner":{"account_id":84265,"reputation":16827,"user_id":235671,"accept_rate":81,"display_name":"t3chb0t"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692547397,"creation_date":1692462504,"question_id":76936098,"body_markdown":"I&#39;m trying understand how XPath evaluation works for OpenXML files and specifically Excel in the following snippet (for brevity I removed irrelevant nodes):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;workbook xmlns=&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot;\r\n    xmlns:r=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships&quot;\r\n    xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;\r\n    mc:Ignorable=&quot;x15 xr xr6 xr10 xr2&quot;\r\n    xmlns:x15=&quot;http://schemas.microsoft.com/office/spreadsheetml/2010/11/main&quot;\r\n    xmlns:xr=&quot;http://schemas.microsoft.com/office/spreadsheetml/2014/revision&quot;\r\n    xmlns:xr6=&quot;http://schemas.microsoft.com/office/spreadsheetml/2016/revision6&quot;\r\n    xmlns:xr10=&quot;http://schemas.microsoft.com/office/spreadsheetml/2016/revision10&quot;\r\n    xmlns:xr2=&quot;http://schemas.microsoft.com/office/spreadsheetml/2015/revision2&quot;&gt;\r\n    &lt;!-- [..] --&gt;\r\n    &lt;sheets&gt;\r\n        &lt;sheet name=&quot;Sheet-One&quot; sheetId=&quot;1&quot; r:id=&quot;rId1&quot; /&gt;\r\n        &lt;sheet name=&quot;Sheet-Two&quot; sheetId=&quot;3&quot; r:id=&quot;rId2&quot; /&gt;\r\n        &lt;sheet name=&quot;Sheet-Three&quot; sheetId=&quot;4&quot; r:id=&quot;rId3&quot; /&gt;        \r\n    &lt;/sheets&gt;\r\n    &lt;!-- [..] --&gt;\r\n&lt;/workbook&gt;\r\n```\r\n\r\nWhen I query this XML with an XPath without a custom previx (and without `NamespeceContext` and disabled line `xp.namespaceContext = nc`) it doesn&#39;t find the nodes, even though the [XPath-Tester](https://www.freeformatter.com/xpath-tester.html) does.\r\n\r\n```kt\r\n//val xpath = &quot;/workbook/sheets/sheet&quot; // &lt;-- doesn&#39;t work\r\nval xpath = &quot;/xx:workbook/xx:sheets/xx:sheet&quot;\r\nval xp = XPathFactory.newInstance().newXPath()\r\nval nc = NamespaceContextImpl()\r\nnc.addNamespace(&quot;xx&quot;, &quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot;)\r\nxp.namespaceContext = nc\r\nval sheetNodes = xp.compile(xpath).evaluate(document, XPathConstants.NODESET) as NodeList\r\n```\r\n\r\nSo, I was wondering why is it that one tool works without it and another one doesn&#39;t? \r\n\r\nI have a theory why the prefix might be requried, but I couldn&#39;t confirm, that this is because the `workbook` element specifying the `xmlns` namespace without prefix so it automatically applies to all other nodes, but is the prefix you must use in the Java XPath query actually correct?","title":"Why does Java&#39;s XPath evaluator require a custom prefix for an anonymous namespace while querying OpenXML files?","body":"<p>I'm trying understand how XPath evaluation works for OpenXML files and specifically Excel in the following snippet (for brevity I removed irrelevant nodes):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;workbook xmlns=&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot;\n    xmlns:r=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships&quot;\n    xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;\n    mc:Ignorable=&quot;x15 xr xr6 xr10 xr2&quot;\n    xmlns:x15=&quot;http://schemas.microsoft.com/office/spreadsheetml/2010/11/main&quot;\n    xmlns:xr=&quot;http://schemas.microsoft.com/office/spreadsheetml/2014/revision&quot;\n    xmlns:xr6=&quot;http://schemas.microsoft.com/office/spreadsheetml/2016/revision6&quot;\n    xmlns:xr10=&quot;http://schemas.microsoft.com/office/spreadsheetml/2016/revision10&quot;\n    xmlns:xr2=&quot;http://schemas.microsoft.com/office/spreadsheetml/2015/revision2&quot;&gt;\n    &lt;!-- [..] --&gt;\n    &lt;sheets&gt;\n        &lt;sheet name=&quot;Sheet-One&quot; sheetId=&quot;1&quot; r:id=&quot;rId1&quot; /&gt;\n        &lt;sheet name=&quot;Sheet-Two&quot; sheetId=&quot;3&quot; r:id=&quot;rId2&quot; /&gt;\n        &lt;sheet name=&quot;Sheet-Three&quot; sheetId=&quot;4&quot; r:id=&quot;rId3&quot; /&gt;        \n    &lt;/sheets&gt;\n    &lt;!-- [..] --&gt;\n&lt;/workbook&gt;\n</code></pre>\n<p>When I query this XML with an XPath without a custom previx (and without <code>NamespeceContext</code> and disabled line <code>xp.namespaceContext = nc</code>) it doesn't find the nodes, even though the <a href=\"https://www.freeformatter.com/xpath-tester.html\" rel=\"nofollow noreferrer\">XPath-Tester</a> does.</p>\n<pre><code>//val xpath = &quot;/workbook/sheets/sheet&quot; // &lt;-- doesn't work\nval xpath = &quot;/xx:workbook/xx:sheets/xx:sheet&quot;\nval xp = XPathFactory.newInstance().newXPath()\nval nc = NamespaceContextImpl()\nnc.addNamespace(&quot;xx&quot;, &quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot;)\nxp.namespaceContext = nc\nval sheetNodes = xp.compile(xpath).evaluate(document, XPathConstants.NODESET) as NodeList\n</code></pre>\n<p>So, I was wondering why is it that one tool works without it and another one doesn't?</p>\n<p>I have a theory why the prefix might be requried, but I couldn't confirm, that this is because the <code>workbook</code> element specifying the <code>xmlns</code> namespace without prefix so it automatically applies to all other nodes, but is the prefix you must use in the Java XPath query actually correct?</p>\n"},{"tags":["java","apache-camel","endpoint"],"owner":{"account_id":20312851,"reputation":1,"user_id":14899448,"display_name":"Priyanka Chitlur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692547301,"creation_date":1692511766,"question_id":76938143,"body_markdown":"I am using EIH 4.1 version and have written below EndPoint in my route to process the files dumped with milliseconds delay but it is failing when the files are being dumped in 100 ms delay. I have written java code to copy the files with sleep(100) to &quot;in&quot; folder for processing.\r\n\r\n```html\r\n&lt;from id=&quot;getB2mmlProcessFromFileSystem&quot; uri=&quot;file:{{in.path}}?idempotentRepository=#hcStore&amp;amp;moveFailed=.failed/$simple{file:onlyname}&amp;amp;move={{archive-from-erp.path}}/{{common.fname.pattern}}&amp;amp;maxMessagesPerPoll=1&amp;amp;eagerMaxMessagesPerPoll=false&amp;amp;readLock=changed&amp;amp;readLockMinAge=100s&amp;amp;readLockCheckInterval=1000&amp;amp;sortBy=reverse:file:modified/&gt;\r\n```\r\n\r\nI have tried below end point to process the file based on modified time.\r\n\r\n```html\r\n&lt;from id=&quot;getB2mmlProcessFromFileSystem&quot; uri=&quot;file:{{in.path}}?idempotentRepository=#hcStore&amp;amp;moveFailed=.failed/$simple{file:onlyname}&amp;amp;move={{archive-from-erp.path}}/{{common.fname.pattern}}&amp;amp;maxMessagesPerPoll=1&amp;amp;eagerMaxMessagesPerPoll=false&amp;amp;readLock=changed&amp;amp;readLockMinAge=100s&amp;amp;readLockCheckInterval=1000&amp;amp;sortBy=reverse:file:modified/&gt;\r\n```\r\n\r\nThe above end point is working fine when the delay between files are 500 ms but failing when it is 400 and below.\r\n\r\nI have written below java code to copy the files to &quot;in&quot; folder with 100ms delay but the files are picked by Camel is in random and not based on modified time.\r\n\r\n```java\r\npublic class Testing {\r\n\tpublic static void main(String[] args) throws IOException, InterruptedException { \r\n\t\tPath sourceDirectory = Paths.get(&quot;C:/Users/autorock/Desktop/Source/productionSchedule_2023-08-19_productionLine_9570770741.xml&quot;, args); \r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 20; i++) {\r\n    \t\tString filePath=&quot;productionLine_9570757741_&quot;+i;\r\n\t    \tPath targetDirectory = Paths.get(&quot;C:/temp/eihub/in/&quot;+filePath); \r\n\t\t    Files.copy(sourceDirectory, targetDirectory); \r\n            Thread.sleep(100);\r\n\t\t    System.out.println(&quot;file copied&quot;);\r\n\t\t}\r\n\t} \r\n}\r\n```\t\r\n","title":"Apache Camel: How to read files in sorted format based on modified time(files are dumped in milliseconds delay)","body":"<p>I am using EIH 4.1 version and have written below EndPoint in my route to process the files dumped with milliseconds delay but it is failing when the files are being dumped in 100 ms delay. I have written java code to copy the files with sleep(100) to &quot;in&quot; folder for processing.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;from id=&quot;getB2mmlProcessFromFileSystem&quot; uri=&quot;file:{{in.path}}?idempotentRepository=#hcStore&amp;amp;moveFailed=.failed/$simple{file:onlyname}&amp;amp;move={{archive-from-erp.path}}/{{common.fname.pattern}}&amp;amp;maxMessagesPerPoll=1&amp;amp;eagerMaxMessagesPerPoll=false&amp;amp;readLock=changed&amp;amp;readLockMinAge=100s&amp;amp;readLockCheckInterval=1000&amp;amp;sortBy=reverse:file:modified/&gt;\n</code></pre>\n<p>I have tried below end point to process the file based on modified time.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;from id=&quot;getB2mmlProcessFromFileSystem&quot; uri=&quot;file:{{in.path}}?idempotentRepository=#hcStore&amp;amp;moveFailed=.failed/$simple{file:onlyname}&amp;amp;move={{archive-from-erp.path}}/{{common.fname.pattern}}&amp;amp;maxMessagesPerPoll=1&amp;amp;eagerMaxMessagesPerPoll=false&amp;amp;readLock=changed&amp;amp;readLockMinAge=100s&amp;amp;readLockCheckInterval=1000&amp;amp;sortBy=reverse:file:modified/&gt;\n</code></pre>\n<p>The above end point is working fine when the delay between files are 500 ms but failing when it is 400 and below.</p>\n<p>I have written below java code to copy the files to &quot;in&quot; folder with 100ms delay but the files are picked by Camel is in random and not based on modified time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Testing {\n    public static void main(String[] args) throws IOException, InterruptedException { \n        Path sourceDirectory = Paths.get(&quot;C:/Users/autorock/Desktop/Source/productionSchedule_2023-08-19_productionLine_9570770741.xml&quot;, args); \n        \n        for (int i = 0; i &lt; 20; i++) {\n            String filePath=&quot;productionLine_9570757741_&quot;+i;\n            Path targetDirectory = Paths.get(&quot;C:/temp/eihub/in/&quot;+filePath); \n            Files.copy(sourceDirectory, targetDirectory); \n            Thread.sleep(100);\n            System.out.println(&quot;file copied&quot;);\n        }\n    } \n}\n</code></pre>\n"},{"tags":["java","swt","scrolledcomposite"],"answers":[{"comments":[{"owner":{"display_name":"user377628"},"score":0,"creation_date":1390576350,"post_id":21335692,"comment_id":32164334,"body_markdown":"Well at least now I know... Thanks.","body":"Well at least now I know... Thanks."},{"owner":{"account_id":57916,"reputation":840,"user_id":173491,"accept_rate":68,"display_name":"Core"},"score":0,"creation_date":1407178712,"post_id":21335692,"comment_id":39106379,"body_markdown":"Does this include hidden scroll bars unless moused over?","body":"Does this include hidden scroll bars unless moused over?"},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1407179176,"post_id":21335692,"comment_id":39106583,"body_markdown":"@Core It&#39;s the same for operating systems with hover scrollbars. They are no different to normal ones when SWT is considered.","body":"@Core It&#39;s the same for operating systems with hover scrollbars. They are no different to normal ones when SWT is considered."}],"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1390575299,"creation_date":1390575299,"answer_id":21335692,"question_id":21334175,"body_markdown":"The simple answer is: &quot;No&quot;.\r\n\r\nIf you create the `ScrolledComposite` without `SWT.H_SCROLL` or `SWT.V_SCROLL`, it cannot be scrolled, i.e. calling `setOrigin(Point)` or related methods simply won&#39;t do anything.\r\n\r\nIf on the other hand, you enable scrollbars, but want to hide them, the OS will just override your decision. The scroll bars are controlled by the OS, meaning that the OS will decide if they are visible or not. Calling `setVisible(false)` on a `ScrollBar` is nothing more than a hint to the OS. It might follow it or not...\r\n\r\nSorry to be the bearer of bad news :\\\r\n\r\n---\r\n\r\nYou *could* try wrapping the `ScrolledComposite` in another `Composite` and forcing this one to &quot;crop&quot; the scrollbar of the contained `ScrolledComposite` (by changing its size), but this is more of a hack.","title":"Set ScrolledComposite&#39;s ScrollBar visibility to false in SWT","body":"<p>The simple answer is: \"No\".</p>\n\n<p>If you create the <code>ScrolledComposite</code> without <code>SWT.H_SCROLL</code> or <code>SWT.V_SCROLL</code>, it cannot be scrolled, i.e. calling <code>setOrigin(Point)</code> or related methods simply won't do anything.</p>\n\n<p>If on the other hand, you enable scrollbars, but want to hide them, the OS will just override your decision. The scroll bars are controlled by the OS, meaning that the OS will decide if they are visible or not. Calling <code>setVisible(false)</code> on a <code>ScrollBar</code> is nothing more than a hint to the OS. It might follow it or not...</p>\n\n<p>Sorry to be the bearer of bad news :\\</p>\n\n<hr>\n\n<p>You <em>could</em> try wrapping the <code>ScrolledComposite</code> in another <code>Composite</code> and forcing this one to \"crop\" the scrollbar of the contained <code>ScrolledComposite</code> (by changing its size), but this is more of a hack.</p>\n"},{"tags":[],"owner":{"account_id":13135451,"reputation":21,"user_id":9488591,"display_name":"PressOK"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558157630,"creation_date":1558157630,"answer_id":56196267,"question_id":21334175,"body_markdown":"This post is old (2014) but I had to weigh in here because the accepted answer is totally wrong. In addition to the following there are probably other ways to achieve this. Answers like the one above are worse than not replying at all because they are misleading.\r\n\r\nIf you call `[YourScrolledComposite].getHorizontalBar().setVisible(false)` inside of a listener that is processed after the OS adds the scrollbar, it will be (re-)hidden. This happens before the draw (or in the paint event), so in effect the scrollbar is never shown. This allows you to keep the `ScrolledComposite` with `SWT.H_SCROLL` (or vertical) flags, and you can still navigate the contents using `[YourScrolledComposite].setOrigin(...)`.","title":"Set ScrolledComposite&#39;s ScrollBar visibility to false in SWT","body":"<p>This post is old (2014) but I had to weigh in here because the accepted answer is totally wrong. In addition to the following there are probably other ways to achieve this. Answers like the one above are worse than not replying at all because they are misleading.</p>\n\n<p>If you call <code>[YourScrolledComposite].getHorizontalBar().setVisible(false)</code> inside of a listener that is processed after the OS adds the scrollbar, it will be (re-)hidden. This happens before the draw (or in the paint event), so in effect the scrollbar is never shown. This allows you to keep the <code>ScrolledComposite</code> with <code>SWT.H_SCROLL</code> (or vertical) flags, and you can still navigate the contents using <code>[YourScrolledComposite].setOrigin(...)</code>.</p>\n"}],"owner":{"display_name":"user377628"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21335692,"answer_count":2,"score":3,"last_activity_date":1692546105,"creation_date":1390570708,"question_id":21334175,"body_markdown":"I have two `ScrolledComposite`s and I&#39;m synchronizing their vertical scroll positions like this:\r\n\r\n    final ScrollBar vScroll1 = canvasScroll.getVerticalBar();\r\n    final ScrollBar vScroll2 = titleScroll.getVerticalBar();\r\n    \t\r\n    vScroll1.addSelectionListener(new SelectionAdapter() {\r\n    \tpublic void widgetSelected(SelectionEvent e) {\r\n    \t\ttitleScroll.setOrigin(titleScroll.getOrigin().x, canvasScroll.getOrigin().y);\r\n    \t}\r\n    });\r\n    \t\r\n    vScroll2.addSelectionListener(new SelectionAdapter() {\r\n    \tpublic void widgetSelected(SelectionEvent e) {\r\n    \t\tcanvasScroll.setOrigin(canvasScroll.getOrigin().x, titleScroll.getOrigin().y);\r\n    \t}\r\n    });\r\n\r\nThis works fine, except it shows the scrollbars for both `ScrolledComposites`. I only want one `ScrolledComposite`&#39;s scrollbars to be visible, so I set one of their visibilities to false:\r\n\r\n    vScroll2.setVisible(false);\r\n\r\nThis has no effect. I also tried to instantiate the `ScrolledComposite` without the `SWT.V_SCROLL` flag, but this results in a null pointer exception when running the above code. The scrollbar does need to be there, I just want it to be invisible. Is that possible?","title":"Set ScrolledComposite&#39;s ScrollBar visibility to false in SWT","body":"<p>I have two <code>ScrolledComposite</code>s and I'm synchronizing their vertical scroll positions like this:</p>\n\n<pre><code>final ScrollBar vScroll1 = canvasScroll.getVerticalBar();\nfinal ScrollBar vScroll2 = titleScroll.getVerticalBar();\n\nvScroll1.addSelectionListener(new SelectionAdapter() {\n    public void widgetSelected(SelectionEvent e) {\n        titleScroll.setOrigin(titleScroll.getOrigin().x, canvasScroll.getOrigin().y);\n    }\n});\n\nvScroll2.addSelectionListener(new SelectionAdapter() {\n    public void widgetSelected(SelectionEvent e) {\n        canvasScroll.setOrigin(canvasScroll.getOrigin().x, titleScroll.getOrigin().y);\n    }\n});\n</code></pre>\n\n<p>This works fine, except it shows the scrollbars for both <code>ScrolledComposites</code>. I only want one <code>ScrolledComposite</code>'s scrollbars to be visible, so I set one of their visibilities to false:</p>\n\n<pre><code>vScroll2.setVisible(false);\n</code></pre>\n\n<p>This has no effect. I also tried to instantiate the <code>ScrolledComposite</code> without the <code>SWT.V_SCROLL</code> flag, but this results in a null pointer exception when running the above code. The scrollbar does need to be there, I just want it to be invisible. Is that possible?</p>\n"},{"tags":["java","swing","jtable","jlabel","imageicon"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692539878,"post_id":76939722,"comment_id":135634415,"body_markdown":"Probably going to be easier to create your own renderer with the technique you&#39;re already using elsewhere","body":"Probably going to be easier to create your own renderer with the technique you&#39;re already using elsewhere"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692540212,"post_id":76939722,"comment_id":135634461,"body_markdown":"@g00se I agree, and I figured as much. I&#39;m happy to try implementing a renderer, but I&#39;m ignorant about them.","body":"@g00se I agree, and I figured as much. I&#39;m happy to try implementing a renderer, but I&#39;m ignorant about them."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1692541828,"post_id":76939722,"comment_id":135634665,"body_markdown":"See: https://stackoverflow.com/a/52065145/131872","body":"See: <a href=\"https://stackoverflow.com/a/52065145/131872\">stackoverflow.com/a/52065145/131872</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692543351,"post_id":76939722,"comment_id":135634845,"body_markdown":"@camickr Perfect, ty vm. In that case, my question is a duplicate. I&#39;ve flagged it as such. If you or someone else could help the question along to being closed, I would appreciate it.","body":"@camickr Perfect, ty vm. In that case, my question is a duplicate. I&#39;ve flagged it as such. If you or someone else could help the question along to being closed, I would appreciate it."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692544131,"post_id":76939722,"comment_id":135634938,"body_markdown":"Hmmmm, actually, I think I can add a good answer to my question that carries a few more details than yours. Typing it up now.","body":"Hmmmm, actually, I think I can add a good answer to my question that carries a few more details than yours. Typing it up now."}],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1692556546,"post_id":76940134,"comment_id":135636347,"body_markdown":"*I use Object.class because I want this renderer to be used for all columns.* -  Yes the default implementation of the DefaultTableModel returns Object.class, but a better implementation is to override the getColumnClass() method to return the class type for the column. This allows the table to choose the appropriate renderer. For example Boolean values will be rendered as a check box (not true/false) numeric values will be right aligned. Adding nested if/else statements to the renderer is not the best approach. A renderer should be reusable for any table.","body":"<i>I use Object.class because I want this renderer to be used for all columns.</i> -  Yes the default implementation of the DefaultTableModel returns Object.class, but a better implementation is to override the getColumnClass() method to return the class type for the column. This allows the table to choose the appropriate renderer. For example Boolean values will be rendered as a check box (not true/false) numeric values will be right aligned. Adding nested if/else statements to the renderer is not the best approach. A renderer should be reusable for any table."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692559023,"post_id":76940134,"comment_id":135636584,"body_markdown":"@camickr That&#39;s fair, ty. I agree, it does clump things together. My plan was to actually use the new pattern-matching for switch feature, hence why I wanted them all in the same renderer, then just switch on the type.","body":"@camickr That&#39;s fair, ty. I agree, it does clump things together. My plan was to actually use the new pattern-matching for switch feature, hence why I wanted them all in the same renderer, then just switch on the type."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1692560487,"post_id":76940134,"comment_id":135636698,"body_markdown":"*pattern-matching for switch feature* - don&#39;t know what that is but I still don&#39;t like the sound of it. Advice should be generic. A renderer should do a single job. For example, what if your table has two columns with Double values. One is a dollar amount and the other is a percentage amount. Now class can&#39;t be used to format the data you also need the column. Instead use custom reusable renderers. Check out [Table Format Renderers](https://tips4java.wordpress.com/2008/10/11/table-format-renderers/) for a flexible approach.","body":"<i>pattern-matching for switch feature</i> - don&#39;t know what that is but I still don&#39;t like the sound of it. Advice should be generic. A renderer should do a single job. For example, what if your table has two columns with Double values. One is a dollar amount and the other is a percentage amount. Now class can&#39;t be used to format the data you also need the column. Instead use custom reusable renderers. Check out <a href=\"https://tips4java.wordpress.com/2008/10/11/table-format-renderers/\" rel=\"nofollow noreferrer\">Table Format Renderers</a> for a flexible approach."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692565679,"post_id":76940134,"comment_id":135637191,"body_markdown":"@camickr -- It&#39;s a new feature that is coming out for Java this September in Java 21. They have been previewing it since for about a year now, and it is coming out for real late-September. Here is a link to the JEP itself. https://openjdk.org/jeps/441","body":"@camickr -- It&#39;s a new feature that is coming out for Java this September in Java 21. They have been previewing it since for about a year now, and it is coming out for real late-September. Here is a link to the JEP itself. <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">openjdk.org/jeps/441</a>"}],"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692545326,"creation_date":1692545326,"answer_id":76940134,"question_id":76939722,"body_markdown":"I have been informed that my question is actually a duplicate. Here is a link to the original question.\r\n\r\nhttps://stackoverflow.com/a/52065145/131872\r\n\r\nBut I can provide a bit more detail to how I implemented it for me.\r\n\r\nIn my case, I want to store both an `ImageIcon` and some text. So, the first thing I should do is create a data type that contains both of these elements.\r\n\r\n```java\r\nrecord TextIcon(String text, ImageIcon icon) {}\r\n```\r\n\r\nNext, I need to create a renderer that can render this data type. To do that, I will extend the [`DefaultTableCellRenderer`](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/table/DefaultTableCellRenderer.html).\r\n\r\n```java\r\n   \r\n      final class MyTableCellRenderer extends DefaultTableCellRenderer\r\n      {\r\n      \r\n         @Override\r\n         public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\r\n         {\r\n         \r\n            super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n         \r\n            if (value instanceof TextIcon textIcon)\r\n            {\r\n            \r\n               this.setText(textIcon.text());\r\n               this.setIcon(textIcon.icon());\r\n            \r\n            }\r\n         \r\n            return this;\r\n         \r\n         }\r\n      }\r\n   \r\n```\r\n\r\nDoing it this way is nice because, now, I don&#39;t need to specify which column this applies to. I can apply this renderer to all of my columns, and then if they are not a `TextIcon`, they will just do the default rendering they would have gotten.\r\n\r\nAlternatively, if I need to create another data type for my table, I can just add another if statement to this method. This strategy is a powerful way to add custom rendering to your table.\r\n\r\nNow that I have my renderer, I will add it to all of my columns. Here is the easiest way to do it.\r\n\r\n```java\r\ntable.setDefaultRenderer(Object.class, new MyTableCellRenderer());\r\n```\r\n\r\nI use `Object.class` because I want this renderer to be used for all columns. Since `Object` is a parent to all reference data types, then doing this essentially means that I am applying this renderer to all of my columns.\r\n\r\nAfter that, I just continue as is, and things just work!","title":"How to put text next to my ImageIcon on a cell in a JTable","body":"<p>I have been informed that my question is actually a duplicate. Here is a link to the original question.</p>\n<p><a href=\"https://stackoverflow.com/a/52065145/131872\">https://stackoverflow.com/a/52065145/131872</a></p>\n<p>But I can provide a bit more detail to how I implemented it for me.</p>\n<p>In my case, I want to store both an <code>ImageIcon</code> and some text. So, the first thing I should do is create a data type that contains both of these elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record TextIcon(String text, ImageIcon icon) {}\n</code></pre>\n<p>Next, I need to create a renderer that can render this data type. To do that, I will extend the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/table/DefaultTableCellRenderer.html\" rel=\"nofollow noreferrer\"><code>DefaultTableCellRenderer</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   \n      final class MyTableCellRenderer extends DefaultTableCellRenderer\n      {\n      \n         @Override\n         public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\n         {\n         \n            super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n         \n            if (value instanceof TextIcon textIcon)\n            {\n            \n               this.setText(textIcon.text());\n               this.setIcon(textIcon.icon());\n            \n            }\n         \n            return this;\n         \n         }\n      }\n   \n</code></pre>\n<p>Doing it this way is nice because, now, I don't need to specify which column this applies to. I can apply this renderer to all of my columns, and then if they are not a <code>TextIcon</code>, they will just do the default rendering they would have gotten.</p>\n<p>Alternatively, if I need to create another data type for my table, I can just add another if statement to this method. This strategy is a powerful way to add custom rendering to your table.</p>\n<p>Now that I have my renderer, I will add it to all of my columns. Here is the easiest way to do it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>table.setDefaultRenderer(Object.class, new MyTableCellRenderer());\n</code></pre>\n<p>I use <code>Object.class</code> because I want this renderer to be used for all columns. Since <code>Object</code> is a parent to all reference data types, then doing this essentially means that I am applying this renderer to all of my columns.</p>\n<p>After that, I just continue as is, and things just work!</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692559986,"accepted_answer_id":76940134,"answer_count":1,"score":0,"last_activity_date":1692545326,"creation_date":1692539748,"question_id":76939722,"body_markdown":"I have an application that works with a `JTable`, and in this `JTable`, I want each cell to have both an `ImageIcon` and some text.\r\n\r\nI see at this link (https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender), `JTable` supports `ImageIcon` OR text, but seemingly not both at the same time.\r\n\r\nI also see that on the bullet for `ImageIcon`, it says _**rendered by a centered label**_.\r\n\r\nWell, I know for a fact that I can put both an `ImageIcon` and text together on the same `JLabel` -- I am doing that already for a different part of my application.\r\n\r\nHow do I get access to that `JLabel`, so that I can put some text alongside that icon?","title":"How to put text next to my ImageIcon on a cell in a JTable","body":"<p>I have an application that works with a <code>JTable</code>, and in this <code>JTable</code>, I want each cell to have both an <code>ImageIcon</code> and some text.</p>\n<p>I see at this link (<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender</a>), <code>JTable</code> supports <code>ImageIcon</code> OR text, but seemingly not both at the same time.</p>\n<p>I also see that on the bullet for <code>ImageIcon</code>, it says <em><strong>rendered by a centered label</strong></em>.</p>\n<p>Well, I know for a fact that I can put both an <code>ImageIcon</code> and text together on the same <code>JLabel</code> -- I am doing that already for a different part of my application.</p>\n<p>How do I get access to that <code>JLabel</code>, so that I can put some text alongside that icon?</p>\n"},{"tags":["java","android",".net","android-intent"],"answers":[{"comments":[{"owner":{"account_id":5194469,"reputation":69,"user_id":4156280,"display_name":"dharam"},"score":0,"creation_date":1506087010,"post_id":46363947,"comment_id":79691435,"body_markdown":"thanks for suggestion,  i have already tried with **Picasso** , but that not and Throw Exception &quot;File Not Found&quot;,is there any way to Get Native Image Path From Gallery ,which one file Selected in Whats App Live Chat,\nor Identify Selected image from Device Gallery and it&#39;s Path","body":"thanks for suggestion,  i have already tried with <b>Picasso</b> , but that not and Throw Exception &quot;File Not Found&quot;,is there any way to Get Native Image Path From Gallery ,which one file Selected in Whats App Live Chat, or Identify Selected image from Device Gallery and it&#39;s Path"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1506087303,"post_id":46363947,"comment_id":79691612,"body_markdown":"@dharam: &quot;but that not and Throw Exception &quot;File Not Found&quot;&quot; -- then ask a separate Stack Overflow question with a [mcve] showing your code and the complete Java stack trace of the error. &quot;is there any way to Get Native Image Path From Gallery&quot; -- no.","body":"@dharam: &quot;but that not and Throw Exception &quot;File Not Found&quot;&quot; -- then ask a separate Stack Overflow question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing your code and the complete Java stack trace of the error. &quot;is there any way to Get Native Image Path From Gallery&quot; -- no."},{"owner":{"account_id":5194469,"reputation":69,"user_id":4156280,"display_name":"dharam"},"score":0,"creation_date":1506143595,"post_id":46363947,"comment_id":79711479,"body_markdown":"Please Check\n[link](https://stackoverflow.com/questions/44465601/get-path-from-another-app-whatsapp)\n\nsame issue occur with me.","body":"Please Check <a href=\"https://stackoverflow.com/questions/44465601/get-path-from-another-app-whatsapp\">link</a>  same issue occur with me."},{"owner":{"account_id":5194469,"reputation":69,"user_id":4156280,"display_name":"dharam"},"score":0,"creation_date":1506146146,"post_id":46363947,"comment_id":79711874,"body_markdown":"this was perfect work in **Gmail** , i.e. first you select an image from your chat in whats app and then share it with gmail, it can be easily show there,but same thing in my app i am geeting encoded path from whats app.","body":"this was perfect work in <b>Gmail</b> , i.e. first you select an image from your chat in whats app and then share it with gmail, it can be easily show there,but same thing in my app i am geeting encoded path from whats app."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1506165938,"post_id":46363947,"comment_id":79716581,"body_markdown":"@dharam: The answer on the question that you linked to shows the same solution that I suggested: use `openInputStream()`. If you are having problems with that, as I wrote, ask a separate Stack Overflow question with a [mcve] showing your code and the complete Java stack trace of the error.","body":"@dharam: The answer on the question that you linked to shows the same solution that I suggested: use <code>openInputStream()</code>. If you are having problems with that, as I wrote, ask a separate Stack Overflow question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing your code and the complete Java stack trace of the error."},{"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"score":0,"creation_date":1571924468,"post_id":46363947,"comment_id":103406866,"body_markdown":"@dharam Pl share ur solution here!","body":"@dharam Pl share ur solution here!"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506080528,"creation_date":1506080528,"answer_id":46363947,"question_id":46362742,"body_markdown":"There is no image path, as there is no requirement that this `Uri` point to a file, let alone point to a file that you have direct filesystem access to.\r\n\r\nUse an image-loading library (e.g., Glide, Picasso) and provide it the `Uri` that you get from WhatsApp. Those libraries know how to use `ContentResolver` and `openInputStream()` to read in the bytes associated with that content, convert those bytes into a `Bitmap` using `BitmapFactory.decodeStream()`, and put the `Bitmap` into your `ImageView`.\r\n","title":"How to Get Image Path in my App which is Selected from Whats app&#39;s Chat?","body":"<p>There is no image path, as there is no requirement that this <code>Uri</code> point to a file, let alone point to a file that you have direct filesystem access to.</p>\n\n<p>Use an image-loading library (e.g., Glide, Picasso) and provide it the <code>Uri</code> that you get from WhatsApp. Those libraries know how to use <code>ContentResolver</code> and <code>openInputStream()</code> to read in the bytes associated with that content, convert those bytes into a <code>Bitmap</code> using <code>BitmapFactory.decodeStream()</code>, and put the <code>Bitmap</code> into your <code>ImageView</code>.</p>\n"}],"owner":{"account_id":5194469,"reputation":69,"user_id":4156280,"display_name":"dharam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692543970,"creation_date":1506076775,"question_id":46362742,"body_markdown":"i have demo application with image view and in this image view i need to set image from which selected from *whats app* Chat,\r\nCurrently i was getting Path of selected image i.e. *content://com.whatsapp.provider.media/item/245429*\r\n\r\nDoes any idea to resolve this ?\r\nThank You in Advance.","title":"How to Get Image Path in my App which is Selected from Whats app&#39;s Chat?","body":"<p>i have demo application with image view and in this image view i need to set image from which selected from <em>whats app</em> Chat,\nCurrently i was getting Path of selected image i.e. <em>content://com.whatsapp.provider.media/item/245429</em></p>\n\n<p>Does any idea to resolve this ?\nThank You in Advance.</p>\n"},{"tags":["java","mongodb","timeout","mongodb-java"],"comments":[{"owner":{"account_id":5109167,"reputation":49,"user_id":4096367,"display_name":"T&#249;ng Thai"},"score":0,"creation_date":1419271302,"post_id":27607773,"comment_id":43638123,"body_markdown":"My project is maven project working with morphia\nand mongo-java-driver 2.12.2","body":"My project is maven project working with morphia and mongo-java-driver 2.12.2"}],"answers":[{"tags":[],"owner":{"account_id":5109167,"reputation":49,"user_id":4096367,"display_name":"T&#249;ng Thai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419284095,"creation_date":1419274611,"answer_id":27608772,"question_id":27607773,"body_markdown":"After searching on google. I&#39;m find out that java can&#39;t recognize which is the primary database\r\n\r\n    GWReplication:PRIMARY&gt; cfg=rs.conf();\r\n    {\r\n        &quot;_id&quot; : &quot;GWReplication&quot;,\r\n        &quot;version&quot; : 1,\r\n        &quot;members&quot; : [\r\n                {\r\n                        &quot;_id&quot; : 0,\r\n                        &quot;host&quot; : &quot;G-Server-1:27000&quot;\r\n                },\r\n                {\r\n                        &quot;_id&quot; : 1,\r\n                        &quot;host&quot; : &quot;G-Server-1:27001&quot;\r\n                },\r\n                {\r\n                        &quot;_id&quot; : 2,\r\n                        &quot;host&quot; : &quot;G-Server-1:27002&quot;\r\n                }\r\n        ]\r\n    }\r\n\r\nThis is default config of my mongodb. And java can&#39;t understand G-Server-1 \r\nSo I fix it by change it to my above ip\r\n\r\n    GWReplication:PRIMARY&gt; rs.config();\r\n    {\r\n        &quot;_id&quot; : &quot;GWReplication&quot;,\r\n        &quot;version&quot; : 2,\r\n        &quot;members&quot; : [\r\n                {\r\n                        &quot;_id&quot; : 0,\r\n                        &quot;host&quot; : &quot;104.236.106.53:27000&quot;\r\n                },\r\n                {\r\n                        &quot;_id&quot; : 1,\r\n                        &quot;host&quot; : &quot;104.236.106.53:27001&quot;\r\n                },\r\n                {\r\n                        &quot;_id&quot; : 2,\r\n                        &quot;host&quot; : &quot;104.236.106.53:27002&quot;\r\n                }\r\n        ]\r\n    }\r\n\r\nNow it work fine. I know that it&#39;s a quite idiot way to fix but honestly I don&#39;t know how to make java to recognize my domain name or how to config it on ubuntu server(I deploy mongodb on host of digitalocean and this is first time I use ubuntu and self config a server) -_-\r\n\r\n","title":"com.mongodb.MongoTimeoutException when using MongoClient with list ServerAddress","body":"<p>After searching on google. I'm find out that java can't recognize which is the primary database</p>\n\n<pre><code>GWReplication:PRIMARY&gt; cfg=rs.conf();\n{\n    \"_id\" : \"GWReplication\",\n    \"version\" : 1,\n    \"members\" : [\n            {\n                    \"_id\" : 0,\n                    \"host\" : \"G-Server-1:27000\"\n            },\n            {\n                    \"_id\" : 1,\n                    \"host\" : \"G-Server-1:27001\"\n            },\n            {\n                    \"_id\" : 2,\n                    \"host\" : \"G-Server-1:27002\"\n            }\n    ]\n}\n</code></pre>\n\n<p>This is default config of my mongodb. And java can't understand G-Server-1 \nSo I fix it by change it to my above ip</p>\n\n<pre><code>GWReplication:PRIMARY&gt; rs.config();\n{\n    \"_id\" : \"GWReplication\",\n    \"version\" : 2,\n    \"members\" : [\n            {\n                    \"_id\" : 0,\n                    \"host\" : \"104.236.106.53:27000\"\n            },\n            {\n                    \"_id\" : 1,\n                    \"host\" : \"104.236.106.53:27001\"\n            },\n            {\n                    \"_id\" : 2,\n                    \"host\" : \"104.236.106.53:27002\"\n            }\n    ]\n}\n</code></pre>\n\n<p>Now it work fine. I know that it's a quite idiot way to fix but honestly I don't know how to make java to recognize my domain name or how to config it on ubuntu server(I deploy mongodb on host of digitalocean and this is first time I use ubuntu and self config a server) -_-</p>\n"},{"tags":[],"owner":{"account_id":1578490,"reputation":4780,"user_id":1464389,"accept_rate":49,"display_name":"F.O.O"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451156532,"creation_date":1451155777,"answer_id":34474211,"question_id":27607773,"body_markdown":"Changing your replica set to ip address is actually the wrong way to go about it. \r\n\r\n**Try this:**\r\n\r\n1. Revert back to using the domain names in your replica set configuration.\r\n2. Update your mongo client configuration with the replica set domain names.\r\n\r\n         List&lt;ServerAddress&gt; lstServer = new ArrayList&lt;ServerAddress&gt;();\r\n         lstServer.add(new ServerAddress(&quot;G-Server-1&quot;, 27000));\r\n         lstServer.add(new ServerAddress(&quot;G-Server-1&quot;, 27002));\r\n         lstServer.add(new ServerAddress(&quot;G-Server-1&quot;, 27001));\r\n         mongoClient = new MongoClient(lstServer);\r\n\r\nThat should fix it. Spring Mongo actually uses the host name and port number to determine the primary replica as configured in the replica set. ","title":"com.mongodb.MongoTimeoutException when using MongoClient with list ServerAddress","body":"<p>Changing your replica set to ip address is actually the wrong way to go about it. </p>\n\n<p><strong>Try this:</strong></p>\n\n<ol>\n<li>Revert back to using the domain names in your replica set configuration.</li>\n<li><p>Update your mongo client configuration with the replica set domain names.</p>\n\n<pre><code> List&lt;ServerAddress&gt; lstServer = new ArrayList&lt;ServerAddress&gt;();\n lstServer.add(new ServerAddress(\"G-Server-1\", 27000));\n lstServer.add(new ServerAddress(\"G-Server-1\", 27002));\n lstServer.add(new ServerAddress(\"G-Server-1\", 27001));\n mongoClient = new MongoClient(lstServer);\n</code></pre></li>\n</ol>\n\n<p>That should fix it. Spring Mongo actually uses the host name and port number to determine the primary replica as configured in the replica set. </p>\n"}],"owner":{"account_id":5109167,"reputation":49,"user_id":4096367,"display_name":"T&#249;ng Thai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11143,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1692543970,"creation_date":1419270326,"question_id":27607773,"body_markdown":"I&#39;m trying to deploy a replica database onto one server with different port and connect with it.\r\nEverything is ok if I just use single ServerAddress and connect directly to Primary DB\r\nlike this:\r\n\r\n    mongoClient =new MongoClient(new ServerAddress(&quot;104.236.106.53&quot;, 27000));\r\n    morphia = new Morphia();\r\n\tds = morphia.createDatastore(mongoClient, &quot;morphiaDB&quot;);\r\n\r\nEverything work fine. But when I&#39;m trying to use `List&lt;ServerAddress&gt;` like this:\r\n\r\n    List&lt;ServerAddress&gt; lstServer = new ArrayList&lt;ServerAddress&gt;();\r\n\tlstServer.add(new ServerAddress(&quot;104.236.106.53&quot;, 27000));\r\n\tlstServer.add(new ServerAddress(&quot;104.236.106.53&quot;, 27002));\r\n\tlstServer.add(new ServerAddress(&quot;104.236.106.53&quot;, 27001));\r\n\tmongoClient = new MongoClient(lstServer);\r\n\tmorphia = new Morphia();\r\n\tds = morphia.createDatastore(mongoClient, &quot;morphiaDB&quot;);\r\n\r\nIt will end up with this error:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Exception in thread &quot;main&quot; com.mongodb.MongoTimeoutException: Timed out after 10000 ms while waiting for a server that matches {serverSelectors=[ReadPreferenceServerSelector{readPreference=primary}, LatencyMinimizingServerSelector{acceptableLatencyDifference=15 ms}]}. Client view of cluster state is {type=ReplicaSet, servers=[{address=G-Server-1:27000, type=Unknown, state=Connecting, exception={com.mongodb.MongoException$Network: Exception opening the socket}, caused by {java.net.UnknownHostException: G-Server-1}}, {address=G-Server-1:27001, type=Unknown, state=Connecting, exception={com.mongodb.MongoException$Network: Exception opening the socket}, caused by {java.net.UnknownHostException: G-Server-1}}, {address=G-Server-1:27002, type=Unknown, state=Connecting, exception={com.mongodb.MongoException$Network: Exception opening the socket}, caused by {java.net.UnknownHostException: G-Server-1}}]\r\n\tat com.mongodb.BaseCluster.getServer(BaseCluster.java:82)\r\n\tat com.mongodb.DBTCPConnector.getServer(DBTCPConnector.java:654)\r\n\tat com.mongodb.DBTCPConnector.access$300(DBTCPConnector.java:39)\r\n\tat com.mongodb.DBTCPConnector$MyPort.getConnection(DBTCPConnector.java:503)\r\n\tat com.mongodb.DBTCPConnector$MyPort.get(DBTCPConnector.java:451)\r\n\tat com.mongodb.DBTCPConnector.getPrimaryPort(DBTCPConnector.java:409)\r\n\tat com.mongodb.DBCollectionImpl.insert(DBCollectionImpl.java:182)\r\n\tat com.mongodb.DBCollectionImpl.insert(DBCollectionImpl.java:165)\r\n\tat com.mongodb.DBCollection.insert(DBCollection.java:161)\r\n\tat com.mongodb.DBCollection.insert(DBCollection.java:107)\r\n\tat com.mongodb.DBCollection.save(DBCollection.java:965)\r\n\tat org.mongodb.morphia.DatastoreImpl.save(DatastoreImpl.java:949)\r\n\tat org.mongodb.morphia.DatastoreImpl.save(DatastoreImpl.java:1013)\r\n\tat org.mongodb.morphia.DatastoreImpl.save(DatastoreImpl.java:1000)\r\n\tat com.learn.DAO.AuthorBookDAO.main(AuthorBookDAO.java:18)\r\n\r\nCan anybody tell me what this error is or provide me some hint how to solve it?","title":"com.mongodb.MongoTimeoutException when using MongoClient with list ServerAddress","body":"<p>I'm trying to deploy a replica database onto one server with different port and connect with it.\nEverything is ok if I just use single ServerAddress and connect directly to Primary DB\nlike this:</p>\n\n<pre><code>mongoClient =new MongoClient(new ServerAddress(\"104.236.106.53\", 27000));\nmorphia = new Morphia();\nds = morphia.createDatastore(mongoClient, \"morphiaDB\");\n</code></pre>\n\n<p>Everything work fine. But when I'm trying to use <code>List&lt;ServerAddress&gt;</code> like this:</p>\n\n<pre><code>List&lt;ServerAddress&gt; lstServer = new ArrayList&lt;ServerAddress&gt;();\nlstServer.add(new ServerAddress(\"104.236.106.53\", 27000));\nlstServer.add(new ServerAddress(\"104.236.106.53\", 27002));\nlstServer.add(new ServerAddress(\"104.236.106.53\", 27001));\nmongoClient = new MongoClient(lstServer);\nmorphia = new Morphia();\nds = morphia.createDatastore(mongoClient, \"morphiaDB\");\n</code></pre>\n\n<p>It will end up with this error:</p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread \"main\" com.mongodb.MongoTimeoutException: Timed out after 10000 ms while waiting for a server that matches {serverSelectors=[ReadPreferenceServerSelector{readPreference=primary}, LatencyMinimizingServerSelector{acceptableLatencyDifference=15 ms}]}. Client view of cluster state is {type=ReplicaSet, servers=[{address=G-Server-1:27000, type=Unknown, state=Connecting, exception={com.mongodb.MongoException$Network: Exception opening the socket}, caused by {java.net.UnknownHostException: G-Server-1}}, {address=G-Server-1:27001, type=Unknown, state=Connecting, exception={com.mongodb.MongoException$Network: Exception opening the socket}, caused by {java.net.UnknownHostException: G-Server-1}}, {address=G-Server-1:27002, type=Unknown, state=Connecting, exception={com.mongodb.MongoException$Network: Exception opening the socket}, caused by {java.net.UnknownHostException: G-Server-1}}]\nat com.mongodb.BaseCluster.getServer(BaseCluster.java:82)\nat com.mongodb.DBTCPConnector.getServer(DBTCPConnector.java:654)\nat com.mongodb.DBTCPConnector.access$300(DBTCPConnector.java:39)\nat com.mongodb.DBTCPConnector$MyPort.getConnection(DBTCPConnector.java:503)\nat com.mongodb.DBTCPConnector$MyPort.get(DBTCPConnector.java:451)\nat com.mongodb.DBTCPConnector.getPrimaryPort(DBTCPConnector.java:409)\nat com.mongodb.DBCollectionImpl.insert(DBCollectionImpl.java:182)\nat com.mongodb.DBCollectionImpl.insert(DBCollectionImpl.java:165)\nat com.mongodb.DBCollection.insert(DBCollection.java:161)\nat com.mongodb.DBCollection.insert(DBCollection.java:107)\nat com.mongodb.DBCollection.save(DBCollection.java:965)\nat org.mongodb.morphia.DatastoreImpl.save(DatastoreImpl.java:949)\nat org.mongodb.morphia.DatastoreImpl.save(DatastoreImpl.java:1013)\nat org.mongodb.morphia.DatastoreImpl.save(DatastoreImpl.java:1000)\nat com.learn.DAO.AuthorBookDAO.main(AuthorBookDAO.java:18)\n</code></pre>\n\n<p>Can anybody tell me what this error is or provide me some hint how to solve it?</p>\n"},{"tags":["java","android","webview"],"owner":{"account_id":25714047,"reputation":1,"user_id":19472128,"display_name":"Moses Reff "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692543815,"creation_date":1692543815,"question_id":76940017,"body_markdown":"Please how do i add a download button to a playing facebook video in android&#39;s webview as shown in the image below.Thanks (https://i.stack.imgur.com/pk8MH.jpg)\r\n\r\nI tried doing this -\r\n        webView.getSettings().setJavaScriptEnabled(true); // Enable JavaScript\r\n\r\n        webView.getSettings().setDomStorageEnabled(true); // Enable DOM storage (might be required for some websites)\r\n        webView.getSettings().setAllowFileAccess(false); // Disable file access\r\n        webView.getSettings().setAllowContentAccess(false); // Disable content access\r\n        webView.getSettings().setAllowFileAccessFromFileURLs(false); // Disable file access from file URLs\r\n        webView.getSettings().setAllowUniversalAccessFromFileURLs(false); // Disable universal access from file URLs\r\n\r\n\r\n        webView.addJavascriptInterface(new MyJavaScriptInterface(), &quot;Android&quot;); // Add JavaScript interface\r\n        webView.getSettings().setUserAgentString(&quot;Mozilla/5.0 (Linux; U; Android 2.2; en-gb; VidSnap Build/FRF50) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1&quot;);\r\n        headers.put(&quot;HTTP_X-Requested-With&quot;,&quot;com.android.chrome&quot;);\r\n        webView.loadUrl(getIntent().getStringExtra(&quot;URL&quot;), headers);\r\n\r\n\r\n        webView.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                if (url.startsWith(&quot;fb://&quot;)) {\r\n                    // Handle Facebook URL scheme internally or perform a specific action\r\n                    // For example, you can open the Facebook app or show an error message\r\n                    return true; // Prevent the WebView from loading the URL\r\n                } else {\r\n                    // Load other URLs in the WebView\r\n                    view.loadUrl(url);\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n                // Handle error situations\r\n            }\r\n\r\n            @Override\r\n            public void onReceivedHttpError(WebView view, WebResourceRequest request, WebResourceResponse errorResponse) {\r\n                // Handle HTTP error situations\r\n            }\r\n\r\n            public void onPageFinished(WebView view, String url) {\r\n                // Perform video detection here\r\n                webView.evaluateJavascript(&quot;javascript:(function() {&quot; +\r\n                        &quot;var videoElement = document.querySelector(&#39;video&#39;);&quot; +\r\n                        &quot;if (videoElement) {&quot; +\r\n                        &quot;   var thumbnailUrl = videoElement.poster;&quot; +\r\n                        &quot;   if (thumbnailUrl) {&quot; +\r\n                        &quot;       Android.onThumbnailDetected(thumbnailUrl);&quot; +\r\n                        &quot;   }&quot; +\r\n                        &quot;}})();&quot;, null);\r\n            }\r\n        });","title":"Add a download button to playing facebook video in android webview","body":"<p>Please how do i add a download button to a playing facebook video in android's webview as shown in the image below.Thanks (<a href=\"https://i.stack.imgur.com/pk8MH.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/pk8MH.jpg</a>)</p>\n<p>I tried doing this -\nwebView.getSettings().setJavaScriptEnabled(true); // Enable JavaScript</p>\n<pre><code>    webView.getSettings().setDomStorageEnabled(true); // Enable DOM storage (might be required for some websites)\n    webView.getSettings().setAllowFileAccess(false); // Disable file access\n    webView.getSettings().setAllowContentAccess(false); // Disable content access\n    webView.getSettings().setAllowFileAccessFromFileURLs(false); // Disable file access from file URLs\n    webView.getSettings().setAllowUniversalAccessFromFileURLs(false); // Disable universal access from file URLs\n\n\n    webView.addJavascriptInterface(new MyJavaScriptInterface(), &quot;Android&quot;); // Add JavaScript interface\n    webView.getSettings().setUserAgentString(&quot;Mozilla/5.0 (Linux; U; Android 2.2; en-gb; VidSnap Build/FRF50) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1&quot;);\n    headers.put(&quot;HTTP_X-Requested-With&quot;,&quot;com.android.chrome&quot;);\n    webView.loadUrl(getIntent().getStringExtra(&quot;URL&quot;), headers);\n\n\n    webView.setWebViewClient(new WebViewClient() {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            if (url.startsWith(&quot;fb://&quot;)) {\n                // Handle Facebook URL scheme internally or perform a specific action\n                // For example, you can open the Facebook app or show an error message\n                return true; // Prevent the WebView from loading the URL\n            } else {\n                // Load other URLs in the WebView\n                view.loadUrl(url);\n                return true;\n            }\n        }\n\n        @Override\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n            // Handle error situations\n        }\n\n        @Override\n        public void onReceivedHttpError(WebView view, WebResourceRequest request, WebResourceResponse errorResponse) {\n            // Handle HTTP error situations\n        }\n\n        public void onPageFinished(WebView view, String url) {\n            // Perform video detection here\n            webView.evaluateJavascript(&quot;javascript:(function() {&quot; +\n                    &quot;var videoElement = document.querySelector('video');&quot; +\n                    &quot;if (videoElement) {&quot; +\n                    &quot;   var thumbnailUrl = videoElement.poster;&quot; +\n                    &quot;   if (thumbnailUrl) {&quot; +\n                    &quot;       Android.onThumbnailDetected(thumbnailUrl);&quot; +\n                    &quot;   }&quot; +\n                    &quot;}})();&quot;, null);\n        }\n    });\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1692543912,"post_id":76940013,"comment_id":135634914,"body_markdown":"The &quot;-original&quot; JAR is the unshaded JAR. It does not include dependencies. Please see the [`maven-shade-plugin`](https://maven.apache.org/plugins/maven-shade-plugin/) for more info.","body":"The &quot;-original&quot; JAR is the unshaded JAR. It does not include dependencies. Please see the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\"><code>maven-shade-plugin</code></a> for more info."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1692544031,"post_id":76940013,"comment_id":135634928,"body_markdown":"Could be related to: [_Maven shade plugin remove &quot;original&quot;_](https://stackoverflow.com/questions/50919125/maven-shade-plugin-remove-original)","body":"Could be related to: <a href=\"https://stackoverflow.com/questions/50919125/maven-shade-plugin-remove-original\"><i>Maven shade plugin remove &quot;original&quot;</i></a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692545489,"post_id":76940013,"comment_id":135635111,"body_markdown":"If this is Maven that&#39;s generating both JAR files, then IntelliJ has nothing to do with it (even if you&#39;re using IntelliJ to delegate to Maven tasks, it&#39;s still Maven that&#39;s responsible for the output).","body":"If this is Maven that&#39;s generating both JAR files, then IntelliJ has nothing to do with it (even if you&#39;re using IntelliJ to delegate to Maven tasks, it&#39;s still Maven that&#39;s responsible for the output)."}],"owner":{"account_id":29262280,"reputation":1,"user_id":22418963,"display_name":"ItsCre3per"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692543713,"creation_date":1692543713,"question_id":76940013,"body_markdown":"IntelliJ will generate two JAR files, one having the name of my plugin with the version, the other having the name and version but with `original` slapped onto the first part. This plugin has no Git repository, so why does it do this? \r\n\r\nI expected one JAR file to appear when building (with Maven) but two appear.","title":"Why does IntelliJ build a regular jar file and an original jar file? Is there any way to remove this feature?","body":"<p>IntelliJ will generate two JAR files, one having the name of my plugin with the version, the other having the name and version but with <code>original</code> slapped onto the first part. This plugin has no Git repository, so why does it do this?</p>\n<p>I expected one JAR file to appear when building (with Maven) but two appear.</p>\n"},{"tags":["java","spring","spring-boot","microservices","api-gateway"],"answers":[{"tags":[],"owner":{"account_id":2195289,"reputation":2137,"user_id":1941151,"accept_rate":80,"display_name":"incomplete-co.de"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692543030,"creation_date":1692543030,"answer_id":76939963,"question_id":72939168,"body_markdown":"You may want to try and outdent the spring cloud line in your application yaml\r\n\r\n```\r\nserver:\r\n  port: 8080\r\nspring:\r\n  application:\r\n    name: API-GATEWAY\r\n  cloud:\r\n    gateway:\r\n      ...\r\n```\r\n\r\n`spring.cloud` is a peer of `spring.application` and your example has it as a child.","title":"Spring cloud gateway api not working even with all right configuration","body":"<p>You may want to try and outdent the spring cloud line in your application yaml</p>\n<pre><code>server:\n  port: 8080\nspring:\n  application:\n    name: API-GATEWAY\n  cloud:\n    gateway:\n      ...\n</code></pre>\n<p><code>spring.cloud</code> is a peer of <code>spring.application</code> and your example has it as a child.</p>\n"}],"owner":{"account_id":19217929,"reputation":19,"user_id":14042312,"display_name":"Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":869,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1692543030,"creation_date":1657545214,"question_id":72939168,"body_markdown":"I was trying microservice with eureka discovery server, api gateway and one rest service. Like shown in below image\r\n\r\n- [Eureka discovery][1]\r\n\r\n**For Service discovery:**\r\n\r\n - I have added relevant pom dependencies \r\n - I have added annotations to make spring boot project as discovery service\r\n\r\n**application.yml:-**\r\n\r\n&lt;code&gt;\r\n\r\n    server:\r\n      port: 8761\r\n    eureka:\r\n      client:\r\n        register-with-eureka: false\r\n        fetch-registry: false\r\n\r\n&lt;/code&gt;\r\n\r\n\r\n**For Spring boot service 1:-**\r\n\r\n- Added @EnableEurekaClient at main class\r\n\r\n**application.yml**\r\n\r\n&lt;code&gt;\r\n\r\n    server:\r\n      port: 9009\r\n    spring:\r\n      application:\r\n        name: HEALTH-CARD\r\n    eureka:\r\n      instance:\r\n        hostname: localhost\r\n      client:\r\n        register-with-eureka: true\r\n        fetch-registry: true\r\n        service-url:\r\n          defaultZone: http://${eureka.instance.hostname}:8761/eureka/\r\n\r\n&lt;/code&gt;\r\n\r\n\r\n**For Api-Gateway service:-**\r\n\r\n- Added @EnableEurekaClient at main class\r\n\r\n**application.yml**\r\n\r\n&lt;code&gt;\r\n\r\n    server:\r\n      port: 8080\r\n    spring:\r\n      application:\r\n        name: API-GATEWAY\r\n        cloud:\r\n          gateway:\r\n            discovery:\r\n              locator:\r\n                enabled: true\r\n            routes:\r\n              - id: health-card\r\n                uri: http://localhost:9009/health-card\r\n                predicates:\r\n                  - Path=/**\r\n    eureka:\r\n      instance:\r\n        hostname: localhost\r\n      client:\r\n        register-with-eureka: true\r\n        fetch-registry: true\r\n        service-url:\r\n          defaultZone: http://${eureka.instance.hostname}:8761/eureka/\r\n\r\n&lt;/code&gt;\r\n\r\n\r\n\r\n- Also I have tried with java class route config part\r\n\r\n\r\n&lt;code&gt;\r\n\r\n    package com.apigateway.config;\r\n    \r\n    import org.springframework.cloud.gateway.route.RouteLocator;\r\n    import org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class SpringApiGatewayConfig {\r\n        public RouteLocator configRoute(RouteLocatorBuilder builder) {\r\n            return builder.routes()\r\n                    .route(&quot;healthCard&quot;, r-&gt;r.path(&quot;/health-card/**&quot;).uri(&quot;localhost:9009/&quot;)).build();\r\n        }\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\nEven I have tried all the suggestion from below link\r\nhttps://stackoverflow.com/questions/65333590/spring-cloud-api-gateway-routing-not-working\r\nBut nothing worked for me. Please help me on this wired case.\r\n  [1]: https://i.stack.imgur.com/pGwlB.jpg","title":"Spring cloud gateway api not working even with all right configuration","body":"<p>I was trying microservice with eureka discovery server, api gateway and one rest service. Like shown in below image</p>\n<ul>\n<li>[Eureka discovery][1]</li>\n</ul>\n<p><strong>For Service discovery:</strong></p>\n<ul>\n<li>I have added relevant pom dependencies</li>\n<li>I have added annotations to make spring boot project as discovery service</li>\n</ul>\n<p><strong>application.yml:-</strong></p>\n<code>\n<pre><code>server:\n  port: 8761\neureka:\n  client:\n    register-with-eureka: false\n    fetch-registry: false\n</code></pre>\n</code>\n<p><strong>For Spring boot service 1:-</strong></p>\n<ul>\n<li>Added @EnableEurekaClient at main class</li>\n</ul>\n<p><strong>application.yml</strong></p>\n<code>\n<pre><code>server:\n  port: 9009\nspring:\n  application:\n    name: HEALTH-CARD\neureka:\n  instance:\n    hostname: localhost\n  client:\n    register-with-eureka: true\n    fetch-registry: true\n    service-url:\n      defaultZone: http://${eureka.instance.hostname}:8761/eureka/\n</code></pre>\n</code>\n<p><strong>For Api-Gateway service:-</strong></p>\n<ul>\n<li>Added @EnableEurekaClient at main class</li>\n</ul>\n<p><strong>application.yml</strong></p>\n<code>\n<pre><code>server:\n  port: 8080\nspring:\n  application:\n    name: API-GATEWAY\n    cloud:\n      gateway:\n        discovery:\n          locator:\n            enabled: true\n        routes:\n          - id: health-card\n            uri: http://localhost:9009/health-card\n            predicates:\n              - Path=/**\neureka:\n  instance:\n    hostname: localhost\n  client:\n    register-with-eureka: true\n    fetch-registry: true\n    service-url:\n      defaultZone: http://${eureka.instance.hostname}:8761/eureka/\n</code></pre>\n</code>\n<ul>\n<li>Also I have tried with java class route config part</li>\n</ul>\n<code>\n<pre><code>package com.apigateway.config;\n\nimport org.springframework.cloud.gateway.route.RouteLocator;\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class SpringApiGatewayConfig {\n    public RouteLocator configRoute(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(&quot;healthCard&quot;, r-&gt;r.path(&quot;/health-card/**&quot;).uri(&quot;localhost:9009/&quot;)).build();\n    }\n}\n</code></pre>\n</code>\n<p>Even I have tried all the suggestion from below link\n<a href=\"https://stackoverflow.com/questions/65333590/spring-cloud-api-gateway-routing-not-working\">Spring Cloud API Gateway routing not working</a>\nBut nothing worked for me. Please help me on this wired case.\n[1]: <a href=\"https://i.stack.imgur.com/pGwlB.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/pGwlB.jpg</a></p>\n"},{"tags":["java","string","swing","jtable","imageicon"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1535469087,"post_id":52060885,"comment_id":91072490,"body_markdown":"I can&#39;t speak for everyone, but I know that many find it much easier answering questions if the poster creates and displays a valid [mcve] program with their question.","body":"I can&#39;t speak for everyone, but I know that many find it much easier answering questions if the poster creates and displays a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> program with their question."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1535474172,"post_id":52060885,"comment_id":91075569,"body_markdown":"You will need to create a (possibly anonymous) subclass of DefaultTableCellRenderer and override its [getTableCellRendererComponent method](https://docs.oracle.com/javase/10/docs/api/javax/swing/table/DefaultTableCellRenderer.html#getTableCellRendererComponent(javax.swing.JTable,java.lang.Object,boolean,boolean,int,int)).  See [Using Custom Renderers](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#renderer) in the Java tutorial.","body":"You will need to create a (possibly anonymous) subclass of DefaultTableCellRenderer and override its <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/swing/table/DefaultTableCellRenderer.html#getTableCellRendererComponent(javax.swing.JTable,java.lang.Object,boolean,boolean,int,int)\" rel=\"nofollow noreferrer\">getTableCellRendererComponent method</a>.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#renderer\" rel=\"nofollow noreferrer\">Using Custom Renderers</a> in the Java tutorial."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692542705,"creation_date":1535485195,"answer_id":52065145,"question_id":52060885,"body_markdown":"&gt; there could be an ImageIcon, String or both.\r\n\r\nYou will need to create a custom object to store in the TableModel. This object will contain two properties:\r\n\r\n1. text \r\n2. icon\r\n\r\nThen you will need to create a custom renderer (not use the default renderer) to display this object. \r\n\r\nThe custom renderer might look something like:\r\n\r\n\tclass IconTextRenderer extends DefaultTableCellRenderer\r\n\t{\r\n\t\tpublic IconTextRenderer()\r\n\t\t{\r\n\t\t\tsuper();\r\n\t\t\tsetHorizontalTextPosition(JLabel.CENTER);\r\n\t\t\tsetHorizontalAlignment(JLabel.CENTER);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Component getTableCellRendererComponent(\r\n\t\t\tJTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\r\n\t\t{\r\n\t\t\tsuper.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n\r\n\t\t\tIconText iconText = (IconText)value;\r\n\t\t\tsetIcon( iconText.getIcon() );\r\n\t\t\tsetText( iconText.getText() );\r\n\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\nYou set the renderer for a single column by using:\r\n\r\n    table.getColumnModel().getColumn(???).setCellRenderer( new IconTextRenderer());\r\n\r\nor for all columns using the custom class:\r\n\r\n    table.setDefaultRenderer(IconText.class, new IconTextRenderer());\r\n","title":"JTable ImageIcon and String","body":"<blockquote>\n<p>there could be an ImageIcon, String or both.</p>\n</blockquote>\n<p>You will need to create a custom object to store in the TableModel. This object will contain two properties:</p>\n<ol>\n<li>text</li>\n<li>icon</li>\n</ol>\n<p>Then you will need to create a custom renderer (not use the default renderer) to display this object.</p>\n<p>The custom renderer might look something like:</p>\n<pre><code>class IconTextRenderer extends DefaultTableCellRenderer\n{\n    public IconTextRenderer()\n    {\n        super();\n        setHorizontalTextPosition(JLabel.CENTER);\n        setHorizontalAlignment(JLabel.CENTER);\n    }\n\n    @Override\n    public Component getTableCellRendererComponent(\n        JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\n    {\n        super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n\n        IconText iconText = (IconText)value;\n        setIcon( iconText.getIcon() );\n        setText( iconText.getText() );\n\n        return this;\n    }\n}\n</code></pre>\n<p>You set the renderer for a single column by using:</p>\n<pre><code>table.getColumnModel().getColumn(???).setCellRenderer( new IconTextRenderer());\n</code></pre>\n<p>or for all columns using the custom class:</p>\n<pre><code>table.setDefaultRenderer(IconText.class, new IconTextRenderer());\n</code></pre>\n"}],"owner":{"account_id":14194358,"reputation":45,"user_id":10254078,"display_name":"T.Harms"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52065145,"answer_count":1,"score":0,"last_activity_date":1692542705,"creation_date":1535468227,"question_id":52060885,"body_markdown":"I want to create a `JTable` where in the cells there could be an `ImageIcon`, `String` or both. I&#39;ve already tried solutions like `table.setvalue()` or just adding the `Icon` to the `Object Array` for creating the `JTable`.\r\n\r\n    for (int n = 0; n &lt; tableHeight; n++) {\r\n      for (int m = 0; m &lt; tableWidth; m++) {\r\n        if ((n + m) == labelArray.size()) {\r\n          break;\r\n        }\r\n\r\n        if (labelArray.get(n + m).iconMode) {  //iconMode is True if there is an icon instead of line text\r\n          data[n][m] = null;\r\n        } else {\r\n          String text = new String(&quot;&lt;html&gt;&lt;p&gt;&quot; + labelArray.get(n + m).lineOne + &quot;&lt;br&gt;&quot; + labelArray.get(n + m).lineTwo + &quot;&lt;p&gt;&lt;/html&gt;&quot;);\r\n          data[n][m] = text;\r\n        }\r\n      }\r\n    }\r\n\r\n    table = new JTable(data, columnNames);\r\n\r\n    renderer = new DefaultTableCellRenderer();\r\n    renderer.setHorizontalTextPosition(JLabel.CENTER);\r\n    renderer.setHorizontalAlignment(JLabel.CENTER);\r\n\r\n    for (int n = 0; n &lt; tableWidth; n++) {\r\n      table.getColumnModel().getColumn(n).setCellRenderer(renderer);\r\n      table.getColumnModel().getColumn(n).setWidth(50);\r\n    }","title":"JTable ImageIcon and String","body":"<p>I want to create a <code>JTable</code> where in the cells there could be an <code>ImageIcon</code>, <code>String</code> or both. I've already tried solutions like <code>table.setvalue()</code> or just adding the <code>Icon</code> to the <code>Object Array</code> for creating the <code>JTable</code>.</p>\n\n<pre><code>for (int n = 0; n &lt; tableHeight; n++) {\n  for (int m = 0; m &lt; tableWidth; m++) {\n    if ((n + m) == labelArray.size()) {\n      break;\n    }\n\n    if (labelArray.get(n + m).iconMode) {  //iconMode is True if there is an icon instead of line text\n      data[n][m] = null;\n    } else {\n      String text = new String(\"&lt;html&gt;&lt;p&gt;\" + labelArray.get(n + m).lineOne + \"&lt;br&gt;\" + labelArray.get(n + m).lineTwo + \"&lt;p&gt;&lt;/html&gt;\");\n      data[n][m] = text;\n    }\n  }\n}\n\ntable = new JTable(data, columnNames);\n\nrenderer = new DefaultTableCellRenderer();\nrenderer.setHorizontalTextPosition(JLabel.CENTER);\nrenderer.setHorizontalAlignment(JLabel.CENTER);\n\nfor (int n = 0; n &lt; tableWidth; n++) {\n  table.getColumnModel().getColumn(n).setCellRenderer(renderer);\n  table.getColumnModel().getColumn(n).setWidth(50);\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":16909157,"reputation":163,"user_id":12228688,"display_name":"Skerdi Velo"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1692541913,"creation_date":1692541913,"answer_id":76939894,"question_id":76939874,"body_markdown":"the problem you are facing is because after you enter the age, the nextInt() method does not consume the newline character. So, when you call nextLine() to read the address, it consumes the newline character left by the nextInt() method and returns an empty string. There are 2 ways to fix this. The first method is to use nextLine() again after the age:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter your name: &quot;);\r\n            String name = scanner.nextLine();\r\n    \r\n            System.out.print(&quot;Enter your surname: &quot;);\r\n            String surname = scanner.nextLine();\r\n    \r\n            System.out.println(&quot;Enter your age: &quot;);\r\n            int age = scanner.nextInt();\r\n            scanner.nextLine(); // consume the newline character\r\n    \r\n            System.out.println(&quot;Enter your address: &quot;);\r\n            String address = scanner.nextLine();\r\n    \r\n            System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\r\n        }\r\n    }\r\n\r\nThe other way which I prefer is by using the type that you need:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter your name: &quot;);\r\n            String name = scanner.nextLine();\r\n    \r\n            System.out.print(&quot;Enter your surname: &quot;);\r\n            String surname = scanner.nextLine();\r\n    \r\n            System.out.println(&quot;Enter your age: &quot;);\r\n            int age = Integer.parseInt(scanner.nextLine());\r\n    \r\n            System.out.println(&quot;Enter your address: &quot;);\r\n            String address = scanner.nextLine();\r\n    \r\n            System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\r\n        }\r\n    }\r\n\r\nSo in this second example you are getting something in input, and you are transforming in into the type that you want.\r\nHope this helps!","title":"Java scanner input not working, skipping one input field","body":"<p>the problem you are facing is because after you enter the age, the nextInt() method does not consume the newline character. So, when you call nextLine() to read the address, it consumes the newline character left by the nextInt() method and returns an empty string. There are 2 ways to fix this. The first method is to use nextLine() again after the age:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter your name: &quot;);\n        String name = scanner.nextLine();\n\n        System.out.print(&quot;Enter your surname: &quot;);\n        String surname = scanner.nextLine();\n\n        System.out.println(&quot;Enter your age: &quot;);\n        int age = scanner.nextInt();\n        scanner.nextLine(); // consume the newline character\n\n        System.out.println(&quot;Enter your address: &quot;);\n        String address = scanner.nextLine();\n\n        System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\n    }\n}\n</code></pre>\n<p>The other way which I prefer is by using the type that you need:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter your name: &quot;);\n        String name = scanner.nextLine();\n\n        System.out.print(&quot;Enter your surname: &quot;);\n        String surname = scanner.nextLine();\n\n        System.out.println(&quot;Enter your age: &quot;);\n        int age = Integer.parseInt(scanner.nextLine());\n\n        System.out.println(&quot;Enter your address: &quot;);\n        String address = scanner.nextLine();\n\n        System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\n    }\n}\n</code></pre>\n<p>So in this second example you are getting something in input, and you are transforming in into the type that you want.\nHope this helps!</p>\n"}],"owner":{"display_name":"user22418834"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1692542158,"accepted_answer_id":76939894,"answer_count":1,"score":-1,"last_activity_date":1692541913,"creation_date":1692541605,"question_id":76939874,"body_markdown":"I&#39;m new to java and I was trying to Scanner. Everything works but when I input the age the adress gets skipped: \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        String name = scanner.nextLine();\r\n\r\n        System.out.print(&quot;Enter your surname: &quot;);\r\n        String surname = scanner.nextLine();\r\n\r\n        System.out.println(&quot;Enter your age: &quot;);\r\n        int age = scanner.nextInt();\r\n\r\n        System.out.println(&quot;Enter your address: &quot;);\r\n        String address = scanner.nextLine();\r\n\r\n        System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m stuck so, could someone help please?","title":"Java scanner input not working, skipping one input field","body":"<p>I'm new to java and I was trying to Scanner. Everything works but when I input the age the adress gets skipped:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter your name: &quot;);\n        String name = scanner.nextLine();\n\n        System.out.print(&quot;Enter your surname: &quot;);\n        String surname = scanner.nextLine();\n\n        System.out.println(&quot;Enter your age: &quot;);\n        int age = scanner.nextInt();\n\n        System.out.println(&quot;Enter your address: &quot;);\n        String address = scanner.nextLine();\n\n        System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\n    }\n}\n</code></pre>\n<p>I'm stuck so, could someone help please?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","abstract-class"],"owner":{"account_id":2641542,"reputation":1073,"user_id":2285066,"accept_rate":71,"display_name":"nxh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692540514,"creation_date":1692540514,"question_id":76939784,"body_markdown":"I am working on an old and large code base with definition like this:\r\n\r\n```\r\n&lt;bean id=&quot;foo&quot; class=&quot;com.mycompany.Foo&quot; abstract=&quot;true&quot;&gt;\r\n  ...\r\n&lt;/bean&gt;\r\n\r\n&lt;bean id=&quot;bar&quot; parent=&quot;foo&quot;&gt;\r\n  &lt;constructor-arg name=&quot;components&quot;&gt;\r\n    &lt;list&gt;\r\n      &lt;bean parent=&quot;component1&quot;&gt;...&lt;/bean&gt;\r\n      &lt;bean parent=&quot;component2&quot;&gt;...&lt;/bean&gt;\r\n    &lt;/list&gt;\r\n  &lt;/constructor-arg&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nThe `bar` bean doesn&#39;t specify a class nor it is abstract. I can&#39;t find any beans using `bar` as a parent either.\r\n\r\nThis seems to violate the documentation \r\n&gt; If the parent definition does not specify a class, explicitly marking\r\n&gt; the parent bean definition as abstract is required\r\n(https://docs.spring.io/spring-framework/docs/3.0.x/spring-framework-reference/html/beans.html)\r\n\r\nCan someone please explain what this is? The codebase builds and works.","title":"Spring bean without both class attribute and abstract=true","body":"<p>I am working on an old and large code base with definition like this:</p>\n<pre><code>&lt;bean id=&quot;foo&quot; class=&quot;com.mycompany.Foo&quot; abstract=&quot;true&quot;&gt;\n  ...\n&lt;/bean&gt;\n\n&lt;bean id=&quot;bar&quot; parent=&quot;foo&quot;&gt;\n  &lt;constructor-arg name=&quot;components&quot;&gt;\n    &lt;list&gt;\n      &lt;bean parent=&quot;component1&quot;&gt;...&lt;/bean&gt;\n      &lt;bean parent=&quot;component2&quot;&gt;...&lt;/bean&gt;\n    &lt;/list&gt;\n  &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>The <code>bar</code> bean doesn't specify a class nor it is abstract. I can't find any beans using <code>bar</code> as a parent either.</p>\n<p>This seems to violate the documentation</p>\n<blockquote>\n<p>If the parent definition does not specify a class, explicitly marking\nthe parent bean definition as abstract is required\n(<a href=\"https://docs.spring.io/spring-framework/docs/3.0.x/spring-framework-reference/html/beans.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.x/spring-framework-reference/html/beans.html</a>)</p>\n</blockquote>\n<p>Can someone please explain what this is? The codebase builds and works.</p>\n"},{"tags":["java","eclipse","formatter"],"answers":[{"comments":[{"owner":{"account_id":8466597,"reputation":511,"user_id":6350583,"accept_rate":100,"display_name":"4javier"},"score":0,"creation_date":1692538041,"post_id":76936423,"comment_id":135634205,"body_markdown":"Thanks for your reply.\nUnfortunately as you already noticed that output is not my goal.\n`insert_new_line_before_closing_brace_in_array_initializer` seems to accept only a value between `INSERT` and `DO_NOT_INSERT` instead of `SEPARATE_LINES_IF_WRAPPED` and similar like parentheses-related options do.","body":"Thanks for your reply. Unfortunately as you already noticed that output is not my goal. <code>insert_new_line_before_closing_brace_in_array_initializer</code> seems to accept only a value between <code>INSERT</code> and <code>DO_NOT_INSERT</code> instead of <code>SEPARATE_LINES_IF_WRAPPED</code> and similar like parentheses-related options do."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692539758,"post_id":76936423,"comment_id":135634398,"body_markdown":"I modified my answer for future readers.  You can turn the formatting on and off multiple times.  You can even change the commands to do so.  This would permit you to manually format the initializer and then ensure it doesn&#39;t get changed when reformatting.  Those options are at the bottom of the edit window.","body":"I modified my answer for future readers.  You can turn the formatting on and off multiple times.  You can even change the commands to do so.  This would permit you to manually format the initializer and then ensure it doesn&#39;t get changed when reformatting.  Those options are at the bottom of the edit window."},{"owner":{"account_id":8466597,"reputation":511,"user_id":6350583,"accept_rate":100,"display_name":"4javier"},"score":0,"creation_date":1692541727,"post_id":76936423,"comment_id":135634650,"body_markdown":"Yes but that&#39;s not a solution, considering that you should add one line before and one after every occurrence of any array you don&#39;t want to be formatted.\nAnd on top of that, it would turn off EVERY formatting for those lines, AFAIK it&#39;s not possible to &quot;granularize&quot; format disabling.","body":"Yes but that&#39;s not a solution, considering that you should add one line before and one after every occurrence of any array you don&#39;t want to be formatted. And on top of that, it would turn off EVERY formatting for those lines, AFAIK it&#39;s not possible to &quot;granularize&quot; format disabling."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692541856,"post_id":76936423,"comment_id":135634669,"body_markdown":"Not it isn&#39;t a real solution.  But you can turn formatting on and off as many times as you want.  So some sections will be formatted and others won&#39;t. I know because I have done it.","body":"Not it isn&#39;t a real solution.  But you can turn formatting on and off as many times as you want.  So some sections will be formatted and others won&#39;t. I know because I have done it."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692540506,"creation_date":1692468025,"answer_id":76936423,"question_id":76936014,"body_markdown":"Try this.\r\n- **Braces** - on array initializer, check `same line`\r\n- **New Lines** - uncheck\r\n  -  after closing brace initializer\r\n  -  before closing brace initializer\r\n\r\nThis is what I get.\r\n```\r\nint[] a = {1,2,3,4,5,6,7};\r\n\r\nint[] b = {1,2,3,4,5,6,7,1,2,3,4,5,6,7,8,1,2,\r\n        3,4,5,6};\r\n```\r\n**Edit:** Per review I just noticed that you wanted the wrapped array to have the closing brace on a new line.  I checked the export `xml` file and could not find anything like `insert line on wrap before closing brace on array initializer` or any other similar construct or pair of constructs.\r\n\r\nOne possible alternative is to selectively turn formatting off and then on once the format for a particular item is set.","title":"Eclipse Java formatter: add newline before array closing brace ONLY if that wraps","body":"<p>Try this.</p>\n<ul>\n<li><strong>Braces</strong> - on array initializer, check <code>same line</code></li>\n<li><strong>New Lines</strong> - uncheck\n<ul>\n<li>after closing brace initializer</li>\n<li>before closing brace initializer</li>\n</ul>\n</li>\n</ul>\n<p>This is what I get.</p>\n<pre><code>int[] a = {1,2,3,4,5,6,7};\n\nint[] b = {1,2,3,4,5,6,7,1,2,3,4,5,6,7,8,1,2,\n        3,4,5,6};\n</code></pre>\n<p><strong>Edit:</strong> Per review I just noticed that you wanted the wrapped array to have the closing brace on a new line.  I checked the export <code>xml</code> file and could not find anything like <code>insert line on wrap before closing brace on array initializer</code> or any other similar construct or pair of constructs.</p>\n<p>One possible alternative is to selectively turn formatting off and then on once the format for a particular item is set.</p>\n"}],"owner":{"account_id":8466597,"reputation":511,"user_id":6350583,"accept_rate":100,"display_name":"4javier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692540506,"creation_date":1692461238,"question_id":76936014,"body_markdown":"I setup my formatter to  \r\n**Line Wrapping → Wrapping Settings → Other Expressions → Array Initializer:**    \r\n&gt;&quot;Wrap all elements, every element on a new line&quot;  \r\n\r\nand  \r\n**New Lines:**  \r\n&gt;&quot;Before closing braces of array initializers&quot;  \r\n\r\nWhat I get is this:\r\n```java\r\n@AnnotationWithLongArray({\r\n       &quot;item&quot;,\r\n       &quot;item&quot;,\r\n       &quot;item&quot;,\r\n       &quot;item&quot;,\r\n       &quot;item&quot;,\r\n       &quot;item&quot;\r\n})\r\n```\r\nand this\r\n```java\r\n@AnnotationWithShortArray({ &quot;item&quot;, &quot;item&quot;\r\n})\r\n```\r\nFirst one is what I want, but for second case I&#39;d like the newline not being added before closing bracket, if array doesn&#39;t wrap\r\n```java\r\n@AnnotationWithShortArray({ &quot;item&quot;, &quot;item&quot; })\r\n```\r\nIs it Eclipse capable of this?","title":"Eclipse Java formatter: add newline before array closing brace ONLY if that wraps","body":"<p>I setup my formatter to<br />\n<strong>Line Wrapping → Wrapping Settings → Other Expressions → Array Initializer:</strong></p>\n<blockquote>\n<p>&quot;Wrap all elements, every element on a new line&quot;</p>\n</blockquote>\n<p>and<br />\n<strong>New Lines:</strong></p>\n<blockquote>\n<p>&quot;Before closing braces of array initializers&quot;</p>\n</blockquote>\n<p>What I get is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AnnotationWithLongArray({\n       &quot;item&quot;,\n       &quot;item&quot;,\n       &quot;item&quot;,\n       &quot;item&quot;,\n       &quot;item&quot;,\n       &quot;item&quot;\n})\n</code></pre>\n<p>and this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AnnotationWithShortArray({ &quot;item&quot;, &quot;item&quot;\n})\n</code></pre>\n<p>First one is what I want, but for second case I'd like the newline not being added before closing bracket, if array doesn't wrap</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AnnotationWithShortArray({ &quot;item&quot;, &quot;item&quot; })\n</code></pre>\n<p>Is it Eclipse capable of this?</p>\n"},{"tags":["java","feign","resilience4j"],"comments":[{"owner":{"account_id":2012119,"reputation":485,"user_id":1800319,"display_name":"Raghvendra Garg"},"score":0,"creation_date":1695202600,"post_id":76939434,"comment_id":135991484,"body_markdown":"Check answer here https://stackoverflow.com/a/75936688/1800319, you can add a ignoreExceptionPredicate which returns true for all the exceptions you want to ignore and false for `RetryableException`.","body":"Check answer here <a href=\"https://stackoverflow.com/a/75936688/1800319\">stackoverflow.com/a/75936688/1800319</a>, you can add a ignoreExceptionPredicate which returns true for all the exceptions you want to ignore and false for <code>RetryableException</code>."}],"owner":{"account_id":4798320,"reputation":11,"user_id":3875574,"display_name":"Sandeep Arsule"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692539895,"creation_date":1692535380,"question_id":76939434,"body_markdown":"I&#39;m using Resilience4j to manage resilience patterns in my Java application, and I want to configure it to record only a specific type of exception while ignoring others. Specifically, I&#39;d like to record instances of feign.RetryableException and exclude all other exceptions from being recorded by Resilience4j.\r\n\r\nI&#39;m aware that Resilience4j has various configuration options using properties, but I couldn&#39;t find a direct way to achieve this type of exception filtering. Is there a way to configure Resilience4j to achieve this behavior using properties, or do I need to implement a custom solution for this?\r\n\r\nIf direct configuration using properties isn&#39;t available, I&#39;d appreciate any suggestions or examples on how to implement a custom wrapper or utility around Resilience4j to achieve the desired exception filtering behavior.\r\n\r\nThank you for your help!\r\n\r\n\r\nBelow config I tried which is not working for me, this also records other exceptions\r\n\r\nresilience4j.circuitbreaker.instances.FEIGN_Client_method.record-exceptions[0]=feign.RetryableException\r\n\r\n[Documentation for method recordExceptions(\r\n][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JsNOX.png","title":"How to configure Resilience4j to record only specific exceptions using properties?","body":"<p>I'm using Resilience4j to manage resilience patterns in my Java application, and I want to configure it to record only a specific type of exception while ignoring others. Specifically, I'd like to record instances of feign.RetryableException and exclude all other exceptions from being recorded by Resilience4j.</p>\n<p>I'm aware that Resilience4j has various configuration options using properties, but I couldn't find a direct way to achieve this type of exception filtering. Is there a way to configure Resilience4j to achieve this behavior using properties, or do I need to implement a custom solution for this?</p>\n<p>If direct configuration using properties isn't available, I'd appreciate any suggestions or examples on how to implement a custom wrapper or utility around Resilience4j to achieve the desired exception filtering behavior.</p>\n<p>Thank you for your help!</p>\n<p>Below config I tried which is not working for me, this also records other exceptions</p>\n<p>resilience4j.circuitbreaker.instances.FEIGN_Client_method.record-exceptions[0]=feign.RetryableException</p>\n<p><a href=\"https://i.stack.imgur.com/JsNOX.png\" rel=\"nofollow noreferrer\">Documentation for method recordExceptions(\n</a></p>\n"},{"tags":["java","spring-boot","http-post"],"answers":[{"comments":[{"owner":{"account_id":7528596,"reputation":126,"user_id":5717731,"accept_rate":62,"display_name":"Александр Родригес"},"score":0,"creation_date":1692465282,"post_id":76935881,"comment_id":135628261,"body_markdown":"Doing so got this error: &quot;No primary or single unique constructor found for class [Lcom.testapp.java.myapp.Model.Dto.Request.MyRequest;&quot;. Changed to &quot;List&quot;  in controller and pojos (&quot;MyRequest[]&quot; -&gt; &quot;List&lt;MyRequest&gt;&quot; ) and got &quot;No primary or single unique constructor found for interface java.util.List&quot;. Changed then to &quot;ArrayList&quot; and got no error, but &quot;request&quot; object is empty in controller","body":"Doing so got this error: &quot;No primary or single unique constructor found for class [Lcom.testapp.java.myapp.Model.Dto.Request.MyRequest;&quot;. Changed to &quot;List&quot;  in controller and pojos (&quot;MyRequest[]&quot; -&gt; &quot;List&lt;MyRequest&gt;&quot; ) and got &quot;No primary or single unique constructor found for interface java.util.List&quot;. Changed then to &quot;ArrayList&quot; and got no error, but &quot;request&quot; object is empty in controller"},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692465764,"post_id":76935881,"comment_id":135628300,"body_markdown":"@АлександрРодригес Can you try it with the array approach without using the lombok annotations.","body":"@АлександрРодригес Can you try it with the array approach without using the lombok annotations."},{"owner":{"account_id":7528596,"reputation":126,"user_id":5717731,"accept_rate":62,"display_name":"Александр Родригес"},"score":0,"creation_date":1692468724,"post_id":76935881,"comment_id":135628633,"body_markdown":"tried the array approach without lombok and without any constructors, setters and getters for each pojo - got error: No primary or single unique constructor found for class [Lcom.testapp.java.transferwallet.Model.Dto.Request.MyRequest;. Added constructors (empty and for all params to each pojo) - the same error.","body":"tried the array approach without lombok and without any constructors, setters and getters for each pojo - got error: No primary or single unique constructor found for class [Lcom.testapp.java.transferwallet.Model.Dto.Request.MyReques&zwnj;&#8203;t;. Added constructors (empty and for all params to each pojo) - the same error."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692469037,"post_id":76935881,"comment_id":135628665,"body_markdown":"okay, i have updated the code with ```@RequestBody``` instead of ```@ModelAttribute```, can you try it with this as it was working fine in my local with ```@RequestBody```","body":"okay, i have updated the code with <code>@RequestBody</code> instead of <code>@ModelAttribute</code>, can you try it with this as it was working fine in my local with <code>@RequestBody</code>"},{"owner":{"account_id":7528596,"reputation":126,"user_id":5717731,"accept_rate":62,"display_name":"Александр Родригес"},"score":0,"creation_date":1692470052,"post_id":76935881,"comment_id":135628783,"body_markdown":"Nope: Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; is not supported. Isn&#39;t @RequestBody just for application/json?","body":"Nope: Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; is not supported. Isn&#39;t @RequestBody just for application/json?"},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692473127,"post_id":76935881,"comment_id":135629085,"body_markdown":"No ```@RequestBody``` supports various media types such as JSON, XML, form data, plain text, and others.","body":"No <code>@RequestBody</code> supports various media types such as JSON, XML, form data, plain text, and others."}],"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692468972,"creation_date":1692459586,"answer_id":76935881,"question_id":76935811,"body_markdown":"As you have mentioned that the incoming request format cannot be changed, so you need to do some minor change at your end.\r\n\r\n&gt; As the incoming request is coming as an array, you need to capture it\r\n&gt; as an array request only like `@RequestBody MyRequest[] request` as well as other attributes which i have updated in the corresponding classes as shown below-\r\n\r\n**Code:**\r\n\r\n    @RequestMapping(&quot;/some/path&quot;)\r\n    public ResponseEntity&lt;SomeResponseDto&gt; myHandler(@RequestBody \r\n                                                    MyRequest[] request) {\r\n        // Do anything here with &#39;request&#39; object\r\n    return ResponseEntity.status(HttpStatus.OK.value()).body(new SomeResponseDto());\r\n    }\r\n\r\n**Change in Pojo&#39;s**\r\n\r\n    @NonArgumentConstructor\r\n    @AllArgumentsConstructor\r\n    @Setter\r\n    @Getter\r\n    class MyRequest {\r\n        private String prop1,\r\n        private FirstInnerDto[] prop2;\r\n    }\r\n    \r\n    @NonArgumentConstructor\r\n    @AllArgumentsConstructor\r\n    @Setter\r\n    @Getter\r\n    class FirstInnerDto {\r\n        private String prop2Inner1;\r\n        private SecondInnerDto[] prop2Inner2;\r\n    }\r\n    \r\n    @NonArgumentConstructor\r\n    @AllArgumentsConstructor\r\n    @Setter\r\n    @Getter\r\n    class SecondInnerDto {\r\n        private String inner3;\r\n        private String inner4;\r\n    }","title":"Spring boot handle sophisticated post request","body":"<p>As you have mentioned that the incoming request format cannot be changed, so you need to do some minor change at your end.</p>\n<blockquote>\n<p>As the incoming request is coming as an array, you need to capture it\nas an array request only like <code>@RequestBody MyRequest[] request</code> as well as other attributes which i have updated in the corresponding classes as shown below-</p>\n</blockquote>\n<p><strong>Code:</strong></p>\n<pre><code>@RequestMapping(&quot;/some/path&quot;)\npublic ResponseEntity&lt;SomeResponseDto&gt; myHandler(@RequestBody \n                                                MyRequest[] request) {\n    // Do anything here with 'request' object\nreturn ResponseEntity.status(HttpStatus.OK.value()).body(new SomeResponseDto());\n}\n</code></pre>\n<p><strong>Change in Pojo's</strong></p>\n<pre><code>@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass MyRequest {\n    private String prop1,\n    private FirstInnerDto[] prop2;\n}\n\n@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass FirstInnerDto {\n    private String prop2Inner1;\n    private SecondInnerDto[] prop2Inner2;\n}\n\n@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass SecondInnerDto {\n    private String inner3;\n    private String inner4;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7528596,"reputation":126,"user_id":5717731,"accept_rate":62,"display_name":"Александр Родригес"},"score":1,"creation_date":1692470174,"post_id":76936492,"comment_id":135628794,"body_markdown":"It is already application/x-www-form-urlencoded, as you can see in curl request in the question.","body":"It is already application/x-www-form-urlencoded, as you can see in curl request in the question."},{"owner":{"account_id":7528596,"reputation":126,"user_id":5717731,"accept_rate":62,"display_name":"Александр Родригес"},"score":0,"creation_date":1692471121,"post_id":76936492,"comment_id":135628881,"body_markdown":"Adding &#39;consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})&#39; to @RequestMapping annotation didn/t work. Getting error: HttpMediaTypeNotSupportedException - Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; is not supported","body":"Adding &#39;consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})&#39; to @RequestMapping annotation didn/t work. Getting error: HttpMediaTypeNotSupportedException - Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; is not supported"}],"tags":[],"owner":{"account_id":29203673,"reputation":1,"user_id":22373223,"display_name":"Girish Chandra Mishra"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692469078,"creation_date":1692469024,"answer_id":76936492,"question_id":76935811,"body_markdown":"can you change your content type from default application/json to application/x-www-form-urlencoded?\r\n\r\nhttps://www.baeldung.com/spring-url-encoded-form-data#:~:text=FormHttpMessageConverter%20Basics,it%20with%20the%20method%20parameter.","title":"Spring boot handle sophisticated post request","body":"<p>can you change your content type from default application/json to application/x-www-form-urlencoded?</p>\n<p><a href=\"https://www.baeldung.com/spring-url-encoded-form-data#:%7E:text=FormHttpMessageConverter%20Basics,it%20with%20the%20method%20parameter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-url-encoded-form-data#:~:text=FormHttpMessageConverter%20Basics,it%20with%20the%20method%20parameter</a>.</p>\n"},{"tags":[],"owner":{"account_id":7528596,"reputation":126,"user_id":5717731,"accept_rate":62,"display_name":"Александр Родригес"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692539811,"creation_date":1692539811,"answer_id":76939728,"question_id":76935811,"body_markdown":"So, changing pojos and controller as GD07 said (no lombok annotations; add @RequestBody) and\r\nadding **consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE}**\r\nto @RequestMapping annotation (as Girish Chandra Mishra) suggested, ended with such error:\r\n```\r\nUnsupported Media Type. Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8\r\n```\r\n\r\nDebugging the error found out that the message converter handling the request is FormHttpMessageConverter, and it\r\ncan work only with MultiValueMap. So had to change controller code to this:\r\n\r\n```\r\n@RequestMapping(\r\n    path=&quot;/some/path&quot;,\r\n    consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE}\r\n)\r\npublic ResponseEntity&lt;String&gt; myHandler(@RequestBody MultiValueMap req) {\r\n    // Do anything here with &#39;req&#39; object\r\n\r\n    return ResponseEntity.status(HttpStatus.OK.value()).body(req.toString());\r\n}\r\n```\r\n\r\nNow it works without errors. But i still need to map this **MultiValueMap req** to my DTO&#39;s.\r\nSo it seems that the only wright way is to write my own converter,\r\nas outlined in this answer: https://stackoverflow.com/a/51160620\r\n\r\nAny other suggestions are welcome.\r\n\r\n","title":"Spring boot handle sophisticated post request","body":"<p>So, changing pojos and controller as GD07 said (no lombok annotations; add @RequestBody) and\nadding <strong>consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE}</strong>\nto @RequestMapping annotation (as Girish Chandra Mishra) suggested, ended with such error:</p>\n<pre><code>Unsupported Media Type. Content-Type 'application/x-www-form-urlencoded;charset=UTF-8\n</code></pre>\n<p>Debugging the error found out that the message converter handling the request is FormHttpMessageConverter, and it\ncan work only with MultiValueMap. So had to change controller code to this:</p>\n<pre><code>@RequestMapping(\n    path=&quot;/some/path&quot;,\n    consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE}\n)\npublic ResponseEntity&lt;String&gt; myHandler(@RequestBody MultiValueMap req) {\n    // Do anything here with 'req' object\n\n    return ResponseEntity.status(HttpStatus.OK.value()).body(req.toString());\n}\n</code></pre>\n<p>Now it works without errors. But i still need to map this <strong>MultiValueMap req</strong> to my DTO's.\nSo it seems that the only wright way is to write my own converter,\nas outlined in this answer: <a href=\"https://stackoverflow.com/a/51160620\">https://stackoverflow.com/a/51160620</a></p>\n<p>Any other suggestions are welcome.</p>\n"}],"owner":{"account_id":7528596,"reputation":126,"user_id":5717731,"accept_rate":62,"display_name":"Александр Родригес"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692539811,"creation_date":1692458368,"question_id":76935811,"body_markdown":"There is an incoming post request like this:\r\n```\r\ncurl --location --request POST &#39;http://example.com/some/path&#39; \\\r\n--header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n--data-urlencode &#39;prop1=prop1Value&#39; \\\r\n--data-urlencode &#39;prop2[prop2Inner1]=prop2Inner1Value&#39; \\\r\n--data-urlencode &#39;prop2[prop2Inner2][inner3]=inner3Value&#39; \\\r\n--data-urlencode &#39;prop2[prop2Inner2][inner4]=inner4Value&#39;\r\n```\r\n\r\nIn an php script i would get the post request data in an associative array like this automatically:\r\n```\r\n[\r\n    &#39;prop1&#39; =&gt; &#39;prop1Value&#39;,\r\n    &#39;prop2&#39; =&gt; [\r\n        &#39;prop2Inner1&#39; =&gt; &#39;prop2Inner1Value&#39;,\r\n        &#39;prop2Inner2&#39; =&gt; [\r\n            &#39;inner3&#39; =&gt; &#39;inner3Value&#39;,\r\n            &#39;inner4&#39; =&gt; &#39;inner4Value&#39;,\r\n        ]\r\n    ]\r\n]\r\n```\r\n\r\nNow im trying to handle this request in java. I **can not** change the incoming post request format. I thought that i can make a couple of Classes like this\r\n```\r\n@NonArgumentConstructor\r\n@AllArgumentsConstructor\r\n@Setter\r\n@Getter\r\nclass MyRequest {\r\n    private String prop1,\r\n    private FirstInnerDto prop2;\r\n}\r\n\r\n@NonArgumentConstructor\r\n@AllArgumentsConstructor\r\n@Setter\r\n@Getter\r\nclass FirstInnerDto {\r\n    private String prop2Inner1;\r\n    private SecondInnerDto prop2Inner2;\r\n}\r\n\r\n@NonArgumentConstructor\r\n@AllArgumentsConstructor\r\n@Setter\r\n@Getter\r\nclass SecondInnerDto {\r\n    private String inner3;\r\n    private String inner4;\r\n}\r\n```\r\nAnd than in the controller do something like this, and get an object of class &#39;MyRequest&#39; filled with request data:\r\n```\r\n@RequestMapping(&quot;/some/path&quot;)\r\npublic ResponseEntity&lt;SomeResponseDto&gt; myHandler(@ModelAttribute MyRequest request) {\r\n    // Do anything here with &#39;request&#39; object\r\n\r\n    return ResponseEntity.status(HttpStatus.OK.value()).body(new SomeResponseDto());\r\n}\r\n```\r\nbut i&#39;m getting this error:\r\n```\r\n&quot;Invalid property &#39;prop2[prop2Inner1]&#39; of \r\nbean class [com.testapp.java.myapp.Model.Dto.Request.MyRequest]: \r\nProperty referenced in indexed property path &#39;prop2[prop2Inner1]&#39; is neither an array \r\nnor a List nor a Map; \r\nreturned value was [FirstInnerDto{prop2Inner1=&#39;null&#39;, prop2Inner2=&#39;null&#39;}]&quot;\r\n```\r\nCan anyone tell me what is the right way to handle such requests in spring boot?\r\n","title":"Spring boot handle sophisticated post request","body":"<p>There is an incoming post request like this:</p>\n<pre><code>curl --location --request POST 'http://example.com/some/path' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'prop1=prop1Value' \\\n--data-urlencode 'prop2[prop2Inner1]=prop2Inner1Value' \\\n--data-urlencode 'prop2[prop2Inner2][inner3]=inner3Value' \\\n--data-urlencode 'prop2[prop2Inner2][inner4]=inner4Value'\n</code></pre>\n<p>In an php script i would get the post request data in an associative array like this automatically:</p>\n<pre><code>[\n    'prop1' =&gt; 'prop1Value',\n    'prop2' =&gt; [\n        'prop2Inner1' =&gt; 'prop2Inner1Value',\n        'prop2Inner2' =&gt; [\n            'inner3' =&gt; 'inner3Value',\n            'inner4' =&gt; 'inner4Value',\n        ]\n    ]\n]\n</code></pre>\n<p>Now im trying to handle this request in java. I <strong>can not</strong> change the incoming post request format. I thought that i can make a couple of Classes like this</p>\n<pre><code>@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass MyRequest {\n    private String prop1,\n    private FirstInnerDto prop2;\n}\n\n@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass FirstInnerDto {\n    private String prop2Inner1;\n    private SecondInnerDto prop2Inner2;\n}\n\n@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass SecondInnerDto {\n    private String inner3;\n    private String inner4;\n}\n</code></pre>\n<p>And than in the controller do something like this, and get an object of class 'MyRequest' filled with request data:</p>\n<pre><code>@RequestMapping(&quot;/some/path&quot;)\npublic ResponseEntity&lt;SomeResponseDto&gt; myHandler(@ModelAttribute MyRequest request) {\n    // Do anything here with 'request' object\n\n    return ResponseEntity.status(HttpStatus.OK.value()).body(new SomeResponseDto());\n}\n</code></pre>\n<p>but i'm getting this error:</p>\n<pre><code>&quot;Invalid property 'prop2[prop2Inner1]' of \nbean class [com.testapp.java.myapp.Model.Dto.Request.MyRequest]: \nProperty referenced in indexed property path 'prop2[prop2Inner1]' is neither an array \nnor a List nor a Map; \nreturned value was [FirstInnerDto{prop2Inner1='null', prop2Inner2='null'}]&quot;\n</code></pre>\n<p>Can anyone tell me what is the right way to handle such requests in spring boot?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":34468,"reputation":4189,"user_id":97464,"accept_rate":70,"display_name":"Jase Whatson"},"score":0,"creation_date":1376278147,"post_id":15656953,"comment_id":26636082,"body_markdown":"Thanks, I had the same problem but like you say adding a call to setHasOptionsMenu(true) in the fragments onCreate fixed it.","body":"Thanks, I had the same problem but like you say adding a call to setHasOptionsMenu(true) in the fragments onCreate fixed it."}],"answers":[{"tags":[],"owner":{"account_id":1493677,"reputation":1208,"user_id":1400119,"accept_rate":70,"display_name":"trickster77777"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1376112685,"creation_date":1376112685,"answer_id":18158967,"question_id":15656953,"body_markdown":"On Android 3.0 and higher, the options menu is considered to always be open when menu items are presented in the action bar. When an event occurs and you want to perform a menu update, you must call invalidateOptionsMenu() to request that the system call onPrepareOptionsMenu().\r\n\r\nhttp://developer.android.com/guide/topics/ui/menus.html\r\n\r\nTo change particular item use: `menu.findItem(R.id.your_item_id)`","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<p>On Android 3.0 and higher, the options menu is considered to always be open when menu items are presented in the action bar. When an event occurs and you want to perform a menu update, you must call invalidateOptionsMenu() to request that the system call onPrepareOptionsMenu().</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/ui/menus.html\">http://developer.android.com/guide/topics/ui/menus.html</a></p>\n\n<p>To change particular item use: <code>menu.findItem(R.id.your_item_id)</code></p>\n"},{"tags":[],"owner":{"account_id":5946992,"reputation":1433,"user_id":4676223,"accept_rate":100,"display_name":"Carlos Borau"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1435221703,"creation_date":1435221703,"answer_id":31045311,"question_id":15656953,"body_markdown":"Probably too late, but I had same problem and the solution was really simple.\r\nJust call getActivity().invalidateOptionsMenu() from your fragment. \r\nThis will call onPrepareOptionsMenu and here you can control the visibility of your items like this:\r\nmenu.findItem(R.id.youritem).setVisible(true/false);\r\nHope that helps!","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<p>Probably too late, but I had same problem and the solution was really simple.\nJust call getActivity().invalidateOptionsMenu() from your fragment. \nThis will call onPrepareOptionsMenu and here you can control the visibility of your items like this:\nmenu.findItem(R.id.youritem).setVisible(true/false);\nHope that helps!</p>\n"},{"tags":[],"owner":{"account_id":8581670,"reputation":49,"user_id":6429062,"display_name":"Dipti Agravat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466418628,"creation_date":1466414459,"answer_id":37918813,"question_id":15656953,"body_markdown":"This works for me.\r\n\r\n    public class ContentFragment extends android.support.v4.app.Fragment {\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.layout.content_frame,container,false);\r\n            setHasOptionsMenu(true);\r\n            return v;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n            inflater.inflate(R.menu.note_menu,menu);\r\n            super.onCreateOptionsMenu(menu, inflater);\r\n        }\r\n    }\r\n\r\n","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<p>This works for me.</p>\n\n<pre><code>public class ContentFragment extends android.support.v4.app.Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.content_frame,container,false);\n        setHasOptionsMenu(true);\n        return v;\n    }\n\n    @Override\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n        inflater.inflate(R.menu.note_menu,menu);\n        super.onCreateOptionsMenu(menu, inflater);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5653183,"reputation":956,"user_id":4473087,"display_name":"SanRam"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1471850031,"creation_date":1471850031,"answer_id":39073334,"question_id":15656953,"body_markdown":"You need to do two things.\r\nStep 1: In Fragment OnCreateView add setHasOptionsMenu(true);\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        setHasOptionsMenu(true);\r\n        return inflater.inflate(R.layout.fragment_user_settings, container, false);\r\n    }\r\n\r\nStep 2: you need to add getActivity().invalidateOptionsMenu(); in your fragment in OnViewCreated. Or in mainActivity when you change the Fragment.\r\n\r\n","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<p>You need to do two things.\nStep 1: In Fragment OnCreateView add setHasOptionsMenu(true);</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    setHasOptionsMenu(true);\n    return inflater.inflate(R.layout.fragment_user_settings, container, false);\n}\n</code></pre>\n\n<p>Step 2: you need to add getActivity().invalidateOptionsMenu(); in your fragment in OnViewCreated. Or in mainActivity when you change the Fragment.</p>\n"},{"tags":[],"owner":{"account_id":20907116,"reputation":1,"user_id":15358774,"display_name":"Henri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623925909,"creation_date":1623925909,"answer_id":68017576,"question_id":15656953,"body_markdown":"&gt; You must inform the system that your app bar fragment is participating in the population of the options menu. To do this, **call setHasOptionsMenu(true) in your fragment&#39;s onCreate(Bundle)** method\r\n\r\nref. https://developer.android.com/guide/fragments/appbar#activity-register\r\n","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<blockquote>\n<p>You must inform the system that your app bar fragment is participating in the population of the options menu. To do this, <strong>call setHasOptionsMenu(true) in your fragment's onCreate(Bundle)</strong> method</p>\n</blockquote>\n<p>ref. <a href=\"https://developer.android.com/guide/fragments/appbar#activity-register\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/appbar#activity-register</a></p>\n"}],"owner":{"account_id":34829,"reputation":23264,"user_id":98514,"accept_rate":76,"display_name":"Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17919,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":5,"score":25,"last_activity_date":1692539106,"creation_date":1364381102,"question_id":15656953,"body_markdown":"    @Override\r\n    public void onCreateOptionsMenu(Menu menu,MenuInflater inflater){\r\n        Log.d(&quot;Does&quot;, &quot;get called&quot;);\r\n        inflater.inflate(R.menu.menuItem, menu);\r\n        super.onCreateOptionsMenu(menu,inflater);\r\n    }\r\n    \t\r\n    @Override\r\n    public void onPrepareOptionsMenu(Menu menu) {\r\n        super.onPrepareOptionsMenu(menu);\r\n        getActivity().invalidateOptionsMenu();\r\n        MenuItem filter = menu.findItem(R.id.section);\r\n        filter.setVisible(false);    \r\n    }\r\n\r\nI am trying to load my menu in fragments and it&#39;s getting loaded, but the `onPrepareOptionsMenu` is not getting called at all, where I need to hide some menu-items.\r\n\r\n**Update:**\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n\t    super.onCreate(savedInstanceState);\r\n\t    setHasOptionsMenu(true);\r\n\t}\r\n\r\nI am calling `setHasOptionsMenu(true)` inside my `onCreate()` method.","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<pre><code>@Override\npublic void onCreateOptionsMenu(Menu menu,MenuInflater inflater){\n    Log.d(&quot;Does&quot;, &quot;get called&quot;);\n    inflater.inflate(R.menu.menuItem, menu);\n    super.onCreateOptionsMenu(menu,inflater);\n}\n    \n@Override\npublic void onPrepareOptionsMenu(Menu menu) {\n    super.onPrepareOptionsMenu(menu);\n    getActivity().invalidateOptionsMenu();\n    MenuItem filter = menu.findItem(R.id.section);\n    filter.setVisible(false);    \n}\n</code></pre>\n<p>I am trying to load my menu in fragments and it's getting loaded, but the <code>onPrepareOptionsMenu</code> is not getting called at all, where I need to hide some menu-items.</p>\n<p><strong>Update:</strong></p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setHasOptionsMenu(true);\n}\n</code></pre>\n<p>I am calling <code>setHasOptionsMenu(true)</code> inside my <code>onCreate()</code> method.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":67484,"reputation":20129,"user_id":197473,"accept_rate":61,"display_name":"Vishal"},"score":0,"creation_date":1319396117,"post_id":7868335,"comment_id":9599301,"body_markdown":"Look at this post http://stackoverflow.com/questions/3187899/order-of-spring-bean-initialization/3194837#3194837","body":"Look at this post <a href=\"http://stackoverflow.com/questions/3187899/order-of-spring-bean-initialization/3194837#3194837\" title=\"order of spring bean initialization\">stackoverflow.com/questions/3187899/&hellip;</a>"},{"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"score":0,"creation_date":1319416530,"post_id":7868335,"comment_id":9602286,"body_markdown":"You may want to include log4j.properties anyways, at least for Spring startup - until Spring has initialized your logging bean, it will use whatever the defaults are for its internal logging, and typically, if you&#39;re using Log4J, that will be the log4j.properties file defined on the classpath.  This file doesn&#39;t have to be very complex - typically it can simply output to the console because if the app successfully starts up, the meaningful logging will be through your custom bean.","body":"You may want to include log4j.properties anyways, at least for Spring startup - until Spring has initialized your logging bean, it will use whatever the defaults are for its internal logging, and typically, if you&#39;re using Log4J, that will be the log4j.properties file defined on the classpath.  This file doesn&#39;t have to be very complex - typically it can simply output to the console because if the app successfully starts up, the meaningful logging will be through your custom bean."}],"answers":[{"tags":[],"owner":{"account_id":261786,"reputation":13726,"user_id":546205,"accept_rate":60,"display_name":"Miguel Prz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1319396225,"creation_date":1319396225,"answer_id":7868390,"question_id":7868335,"body_markdown":"This is a feature requested but not resolved. You can use depends-on but is too verbose. Follow tis link for more information:\r\n[https://jira.springsource.org/browse/SPR-3948][1]\r\n\r\n\r\n  [1]: https://jira.springsource.org/browse/SPR-3948","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>This is a feature requested but not resolved. You can use depends-on but is too verbose. Follow tis link for more information:\n<a href=\"https://jira.springsource.org/browse/SPR-3948\" rel=\"nofollow\">https://jira.springsource.org/browse/SPR-3948</a></p>\n"},{"comments":[{"owner":{"account_id":315998,"reputation":3731,"user_id":631937,"accept_rate":45,"display_name":"Prasanna"},"score":0,"creation_date":1319431686,"post_id":7868418,"comment_id":9603898,"body_markdown":"I was kind of implementing the third option but that means I initialise logger first explicitly outside of spring. My preference was have majority of objects life cycle be managed by spring but I understand your point that a good design pattern should be able to take care of it.","body":"I was kind of implementing the third option but that means I initialise logger first explicitly outside of spring. My preference was have majority of objects life cycle be managed by spring but I understand your point that a good design pattern should be able to take care of it."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1319456957,"post_id":7868418,"comment_id":9608927,"body_markdown":"@Prasanna If you want most of your objects to be managed by Spring, you should definitely either manage the loggers in Spring as well, or encapsulate logger creation in your logger factory and inject that into your other classes. If you want to support retrieving loggers using the `LogManager` static methods, then you&#39;ll have to use option 3 though – since LogManager is a (specialized) object factory that cannot be reasonably managed by Spring.","body":"@Prasanna If you want most of your objects to be managed by Spring, you should definitely either manage the loggers in Spring as well, or encapsulate logger creation in your logger factory and inject that into your other classes. If you want to support retrieving loggers using the <code>LogManager</code> static methods, then you&#39;ll have to use option 3 though – since LogManager is a (specialized) object factory that cannot be reasonably managed by Spring."},{"owner":{"account_id":315998,"reputation":3731,"user_id":631937,"accept_rate":45,"display_name":"Prasanna"},"score":0,"creation_date":1319471516,"post_id":7868418,"comment_id":9613484,"body_markdown":"@Inerida, yes, LogManager is the problem and I do not see any other option other than 3,","body":"@Inerida, yes, LogManager is the problem and I do not see any other option other than 3,"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1519756845,"post_id":7868418,"comment_id":85036313,"body_markdown":"I use `@DependsOn({&quot;anotherBean&quot;})` https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/DependsOn.html","body":"I use <code>@DependsOn({&quot;anotherBean&quot;})</code> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/DependsOn.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1519767509,"post_id":7868418,"comment_id":85041850,"body_markdown":"@prayagupd - if you’re on something less annoying to edit questions with than a phone in below freezing temperatures, could you please edit the answer to include the annotation and JavaConfig alternatives in point 1? (Seeing as they’re obviously alternatives of one another.)","body":"@prayagupd - if you’re on something less annoying to edit questions with than a phone in below freezing temperatures, could you please edit the answer to include the annotation and JavaConfig alternatives in point 1? (Seeing as they’re obviously alternatives of one another.)"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1519776569,"post_id":7868418,"comment_id":85045129,"body_markdown":"Hi @millimoose appreciate your permission to update the answer#1 which I did even under freezing temperature.","body":"Hi @millimoose appreciate your permission to update the answer#1 which I did even under freezing temperature."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":1,"creation_date":1519820760,"post_id":7868418,"comment_id":85063252,"body_markdown":"@prayagupd - you’re a hero to us all and SO is better for your efforts. You didn’t need my permission anyway and I figured asking would reduce the risk of forgetting about it by the time I’d gotten home","body":"@prayagupd - you’re a hero to us all and SO is better for your efforts. You didn’t need my permission anyway and I figured asking would reduce the risk of forgetting about it by the time I’d gotten home"}],"tags":[],"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"comment_count":7,"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1519776323,"creation_date":1319396527,"answer_id":7868418,"question_id":7868335,"body_markdown":"Your options are:\r\n\r\n 1. Use [`@DependsOn`](https://docs.spring.io/spring/docs/3.0.x/reference/beans.html#beans-factory-dependson) annotation(available after spring 3.0.x) or [`depends-on`][1] xml-attribute and make all classes that use the configured loggers depend on the logger factory\r\n 2. Make the factory an actual factory for loggers, and inject the loggers into the beans instead of calling the factory directly – this is essentially the same as option 1, except the dependency is implied. This is the option I&#39;d recommend.\r\n 3. Move the initialisation code to a part of your code where call order is specified – the `main()` method, or a `ServletContextListener` registered before the one that initializes Spring.\r\n\r\nThere is no way to explicitly define initialisation order in Spring and likely never will be – there&#39;s no way to define useful semantics for it considering you can load many application context configuration files which might have conflicting orderings. I&#39;ve yet to see a case where the desired ordering couldn&#39;t be achieved by refactoring your code to better conform to the dependency injection pattern.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.0.x/reference/beans.html#beans-factory-dependson","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>Your options are:</p>\n\n<ol>\n<li>Use <a href=\"https://docs.spring.io/spring/docs/3.0.x/reference/beans.html#beans-factory-dependson\" rel=\"noreferrer\"><code>@DependsOn</code></a> annotation(available after spring 3.0.x) or <a href=\"http://static.springsource.org/spring/docs/2.0.x/reference/beans.html#beans-factory-dependson\" rel=\"noreferrer\"><code>depends-on</code></a> xml-attribute and make all classes that use the configured loggers depend on the logger factory</li>\n<li>Make the factory an actual factory for loggers, and inject the loggers into the beans instead of calling the factory directly – this is essentially the same as option 1, except the dependency is implied. This is the option I'd recommend.</li>\n<li>Move the initialisation code to a part of your code where call order is specified – the <code>main()</code> method, or a <code>ServletContextListener</code> registered before the one that initializes Spring.</li>\n</ol>\n\n<p>There is no way to explicitly define initialisation order in Spring and likely never will be – there's no way to define useful semantics for it considering you can load many application context configuration files which might have conflicting orderings. I've yet to see a case where the desired ordering couldn't be achieved by refactoring your code to better conform to the dependency injection pattern.</p>\n"},{"comments":[{"owner":{"account_id":9945374,"reputation":620,"user_id":7361008,"display_name":"Tomas F."},"score":0,"creation_date":1485944418,"post_id":22089047,"comment_id":71132063,"body_markdown":"Very useful, just 1 comment\n- one of @Import(EarlyBeans.class) or @Autowired EarlyBeans earlyBeans; is enough to make it work.","body":"Very useful, just 1 comment - one of @Import(EarlyBeans.class) or @Autowired EarlyBeans earlyBeans; is enough to make it work."},{"owner":{"account_id":1554391,"reputation":1540,"user_id":1445967,"accept_rate":37,"display_name":"user1445967"},"score":3,"creation_date":1515912143,"post_id":22089047,"comment_id":83477206,"body_markdown":"Sorry for commenting on an old question - how is this any different from calling `appContext.getBeansOfType(TechnicalBean.class)` OR using `@Autowired TechnicalBean` inside the MainConfiguration itself?","body":"Sorry for commenting on an old question - how is this any different from calling <code>appContext.getBeansOfType(TechnicalBean.class)</code> OR using <code>@Autowired TechnicalBean</code> inside the MainConfiguration itself?"}],"tags":[],"owner":{"account_id":1546528,"reputation":2209,"user_id":1439964,"accept_rate":64,"display_name":"blacelle"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1587975726,"creation_date":1393572962,"answer_id":22089047,"question_id":7868335,"body_markdown":"You can @Autowired an @Configuration in the main @Configuration\r\n\r\n    @Configuration\r\n    @Import(BusinessConfig.class, EarlyBeans.class)\r\n    public class MainConfiguration {\r\n\r\n        // The bean defined in EarlyBean will be loaded before \r\n        // most beans references by MainConfiguration, \r\n        // including those coming from BusinessConfig\r\n\t    @Autowired\r\n\t    EarlyBeans earlyBeans;\r\n    \r\n    }\r\n\r\n    @Configuration\r\n    public class EarlyBeans {\r\n\t\t@Bean\r\n\t\tpublic Void earlyBean(ApplicationContext appContext) {\r\n\t\t\t// .getBeansOfType allows to call for beans which might not exist\r\n\t\t\tappContext.getBeansOfType(TechnicalBean.class);\r\n\t\t\t\r\n\t\t\treturn null;\r\n\t\t}\r\n    \r\n    }","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>You can @Autowired an @Configuration in the main @Configuration</p>\n\n<pre><code>@Configuration\n@Import(BusinessConfig.class, EarlyBeans.class)\npublic class MainConfiguration {\n\n    // The bean defined in EarlyBean will be loaded before \n    // most beans references by MainConfiguration, \n    // including those coming from BusinessConfig\n    @Autowired\n    EarlyBeans earlyBeans;\n\n}\n\n@Configuration\npublic class EarlyBeans {\n    @Bean\n    public Void earlyBean(ApplicationContext appContext) {\n        // .getBeansOfType allows to call for beans which might not exist\n        appContext.getBeansOfType(TechnicalBean.class);\n\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7970541,"reputation":415,"user_id":6015419,"accept_rate":75,"display_name":"Hari M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457038855,"creation_date":1457038855,"answer_id":35782939,"question_id":7868335,"body_markdown":"You can split your application context as multiple and use import in main application context. You can put the main environment settings first in the order of import and then continue adding other files.\r\n\r\nIt could be like below.\r\n\r\n    &lt;!-- Import environment properties settings. --&gt;\r\n    &lt;import resource=&quot;Spring-Env.xml&quot;/&gt;\r\n    &lt;!-- Import All the other Application contexts. --&gt;\r\n    &lt;import resource=&quot;Spring-MainApplicationContext.xml&quot;/&gt;","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>You can split your application context as multiple and use import in main application context. You can put the main environment settings first in the order of import and then continue adding other files.</p>\n\n<p>It could be like below.</p>\n\n<pre><code>&lt;!-- Import environment properties settings. --&gt;\n&lt;import resource=\"Spring-Env.xml\"/&gt;\n&lt;!-- Import All the other Application contexts. --&gt;\n&lt;import resource=\"Spring-MainApplicationContext.xml\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15022068,"reputation":49,"user_id":10843233,"display_name":"Reza Gholamzad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692538940,"creation_date":1692538940,"answer_id":76939657,"question_id":7868335,"body_markdown":"in addition to the mentioned points, you can use SpringApplicationRunListener interface for config different application life cycles.\r\nyou can config ConfigurableBootstrapContext in starting, environmentPrepared phases furthermore you can config ConfigurableApplicationContext in contextPrepared, contextLoaded, started, ready, failed phases.\r\n\r\nfor your case:\r\n\r\n\t\r\n\r\n&gt; Called once the ApplicationContext has been created\r\n&gt; and prepared, but before sources have been loaded.\r\n&gt; \r\n&gt; default void contextPrepared(ConfigurableApplicationContext context) {\r\n&gt; \t}\r\n\r\n            public class AppConfiguration implements SpringApplicationRunListener {\r\n        \r\n            public void contextPrepared(ConfigurableApplicationContext context) {\r\n                var provider = new ClassPathScanningCandidateComponentProvider(false) {\r\n                    @Override\r\n                    protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\r\n                        return super.isCandidateComponent(beanDefinition) || beanDefinition.getMetadata().isAbstract();\r\n                    }\r\n                };\r\n                // you are gonna find specific class such as the classes marked by Qualifier\r\n                provider.addIncludeFilter(new AnnotationTypeFilter(Qualifier.class, true, true));\r\n        \r\n                final Set&lt;BeanDefinition&gt; classes = provider.findCandidateComponents(&quot;com.tosan&quot;);\r\n                classes.forEach(beanDefinition -&gt; {\r\n                    try {\r\n                        //add bean to context\r\n    context.getBeanFactory().registerSingleton(Objects.requireNonNull(beanDefinition.getBeanClassName()), new YourBeens());\r\n                    } catch (ClassNotFoundException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n&gt; Don&#39;t forget to put the listener in\r\n&gt; src/main/resources/META-INF/spring.factories like below otherwise the\r\n&gt; listener will not run.\r\n\r\n    org.springframework.boot.SpringApplicationRunListener=com.example.AppConfiguration\r\n\r\n","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>in addition to the mentioned points, you can use SpringApplicationRunListener interface for config different application life cycles.\nyou can config ConfigurableBootstrapContext in starting, environmentPrepared phases furthermore you can config ConfigurableApplicationContext in contextPrepared, contextLoaded, started, ready, failed phases.</p>\n<p>for your case:</p>\n<blockquote>\n<p>Called once the ApplicationContext has been created\nand prepared, but before sources have been loaded.</p>\n<p>default void contextPrepared(ConfigurableApplicationContext context) {\n}</p>\n</blockquote>\n<pre><code>        public class AppConfiguration implements SpringApplicationRunListener {\n    \n        public void contextPrepared(ConfigurableApplicationContext context) {\n            var provider = new ClassPathScanningCandidateComponentProvider(false) {\n                @Override\n                protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\n                    return super.isCandidateComponent(beanDefinition) || beanDefinition.getMetadata().isAbstract();\n                }\n            };\n            // you are gonna find specific class such as the classes marked by Qualifier\n            provider.addIncludeFilter(new AnnotationTypeFilter(Qualifier.class, true, true));\n    \n            final Set&lt;BeanDefinition&gt; classes = provider.findCandidateComponents(&quot;com.tosan&quot;);\n            classes.forEach(beanDefinition -&gt; {\n                try {\n                    //add bean to context\ncontext.getBeanFactory().registerSingleton(Objects.requireNonNull(beanDefinition.getBeanClassName()), new YourBeens());\n                } catch (ClassNotFoundException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n        }\n    }\n</code></pre>\n<blockquote>\n<p>Don't forget to put the listener in\nsrc/main/resources/META-INF/spring.factories like below otherwise the\nlistener will not run.</p>\n</blockquote>\n<pre><code>org.springframework.boot.SpringApplicationRunListener=com.example.AppConfiguration\n</code></pre>\n"}],"owner":{"account_id":315998,"reputation":3731,"user_id":631937,"accept_rate":45,"display_name":"Prasanna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135202,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":7868418,"answer_count":5,"score":73,"last_activity_date":1692538940,"creation_date":1319395789,"question_id":7868335,"body_markdown":"I have a library doing runtime setup and configuration of log4j (no log4j.properties or log4j.xml). I have defined a bean with class called MyLoggerFactory and I want this to be the first bean to be initialised using spring. I have seen that an issue has already been filed with spring to have support for order of initialisation but I was wondering whether there was a way to mark a bean as the first bean to be initialised by spring container?\r\n","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>I have a library doing runtime setup and configuration of log4j (no log4j.properties or log4j.xml). I have defined a bean with class called MyLoggerFactory and I want this to be the first bean to be initialised using spring. I have seen that an issue has already been filed with spring to have support for order of initialisation but I was wondering whether there was a way to mark a bean as the first bean to be initialised by spring container?</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":26559516,"reputation":1,"user_id":20187567,"display_name":"ladno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692538899,"creation_date":1692478665,"question_id":76936996,"body_markdown":"IllegalArgumentException occurs when I create an instance of ClassNode. If you decompile ClassNode, I can see that there is no ASM9 in Opcodes\r\n\r\n![ClassNode code][1]\r\n\r\nIf I go to Opcodes and click download sources, it will be written that no sources were found for jdb-server:\r\n\r\n![Sources not found warning][2]\r\n\r\nI connect them via gradle, they don&#39;t use ASM:\r\n```groovy\r\ndependencies {\r\n    implementation files(&#39;build/libraries/jdb-agent.jar&#39;)\r\n    implementation files(&#39;build/libraries/jdb-server.jar&#39;)\r\n}\r\n```\r\n\r\nIf I remove this, there will be no error, but I need local libraries\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lrc84.png\r\n  [2]: https://i.stack.imgur.com/tEFcp.png","title":"ASM is loading incorrectly due to local Gradle libraries","body":"<p>IllegalArgumentException occurs when I create an instance of ClassNode. If you decompile ClassNode, I can see that there is no ASM9 in Opcodes</p>\n<p><img src=\"https://i.stack.imgur.com/Lrc84.png\" alt=\"ClassNode code\" /></p>\n<p>If I go to Opcodes and click download sources, it will be written that no sources were found for jdb-server:</p>\n<p><img src=\"https://i.stack.imgur.com/tEFcp.png\" alt=\"Sources not found warning\" /></p>\n<p>I connect them via gradle, they don't use ASM:</p>\n<pre><code>dependencies {\n    implementation files('build/libraries/jdb-agent.jar')\n    implementation files('build/libraries/jdb-server.jar')\n}\n</code></pre>\n<p>If I remove this, there will be no error, but I need local libraries</p>\n"},{"tags":["java","inheritance","javafx"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1692485505,"post_id":76937317,"comment_id":135630195,"body_markdown":"What you have will work if your main program creates a `TestController` instance as the main window, not `TestGUI`.  Either than or skip the inheritance and have your `TestGUI` create an instance of `TestController`, and just forward the callback along.","body":"What you have will work if your main program creates a <code>TestController</code> instance as the main window, not <code>TestGUI</code>.  Either than or skip the inheritance and have your <code>TestGUI</code> create an instance of <code>TestController</code>, and just forward the callback along."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1692485564,"post_id":76937317,"comment_id":135630202,"body_markdown":"Note it does not make sense for `TestController` to extend `TestGUI`. The latter class is your application class and represents the application itself and its lifecycle. It is not a controller. Plus, in a typical setup, JavaFX will instantiate the application class for you, which is `TestGUI` in this case. As far as I can tell, nothing here will result in `TestController` being instantiated.","body":"Note it does not make sense for <code>TestController</code> to extend <code>TestGUI</code>. The latter class is your application class and represents the application itself and its lifecycle. It is not a controller. Plus, in a typical setup, JavaFX will instantiate the application class for you, which is <code>TestGUI</code> in this case. As far as I can tell, nothing here will result in <code>TestController</code> being instantiated."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1692498405,"post_id":76937317,"comment_id":135630965,"body_markdown":"It sounds like you have some significant misunderstandings about inheritance, though there’s not enough information here to understand what those misunderstandings really are. MVC and inheritance are pretty much orthogonal concepts: they don’t have anything to do with each other (though both ideas could occur in place in the same application).","body":"It sounds like you have some significant misunderstandings about inheritance, though there’s not enough information here to understand what those misunderstandings really are. MVC and inheritance are pretty much orthogonal concepts: they don’t have anything to do with each other (though both ideas could occur in place in the same application)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692579499,"post_id":76937317,"comment_id":135638286,"body_markdown":"There are numerous books, courses and online resources available on topics such as object-oriented development, inheritance, Java, JavaFX, design patterns, and the model view controller pattern subset. Treating the topics separately and sometimes combined.  I won’t recommend resources in this instance as it is off-topic.  I recommend you do some research  and find quality resources and tutorials on the mentioned topics,  doing lots of exercise and practice before continuing with your current course.","body":"There are numerous books, courses and online resources available on topics such as object-oriented development, inheritance, Java, JavaFX, design patterns, and the model view controller pattern subset. Treating the topics separately and sometimes combined.  I won’t recommend resources in this instance as it is off-topic.  I recommend you do some research  and find quality resources and tutorials on the mentioned topics,  doing lots of exercise and practice before continuing with your current course."}],"owner":{"account_id":26649930,"reputation":1,"user_id":20264382,"display_name":"Fred Tucker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692538820,"creation_date":1692485257,"question_id":76937317,"body_markdown":"I just finished my second java class and I&#39;m trying to make my own program utilizing MVC.  I am trying to put all my code for my events in a separate class other than the GUI class.  But I can&#39;t get it to work right. If I put the code in the `doAction()` in the GUI class it works fine, but when I try to override it won&#39;t work.  \r\n\r\nI feel like maybe I need to instantiate an object but of type `TestController` but I can&#39;t seem to get that to work right either.\r\n\r\nI am trying to use a class for a controller.\r\n\r\nThe first code is snippets from the GUI. I think my problem is: \r\n\r\n    fileNewConnection.setOnAction(this::doAction)\r\n\r\n**TestGUI**\r\n\r\n    package testNinja;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.scene.control.Menu;\r\n    import javafx.scene.control.MenuBar;\r\n    import javafx.scene.control.MenuItem;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n\r\n    public class TestGUI extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }  //  end main\r\n\r\n    public Stage window;\r\n    public Menu fileMenu;\r\n    public MenuItem fileNewConnection;\r\n    public MenuBar menuBar;\r\n     \r\n    public void start(Stage stage) {\r\n        window = stage;\r\n        fileMenu = new Menu(&quot;File&quot;);\r\n        fileNewConnection = new MenuItem(&quot;New Connection&quot;);\r\n        fileMenu.getItems().add(fileNewConnection);\r\n        fileNewConnection.setOnAction(this::doAction);\r\n        menuBar = new MenuBar();\r\n        menuBar.getMenus().add(fileMenu);\r\n\r\n        VBox topPane = new VBox(16, menuBar);\r\n        \r\n        Scene scene = new Scene(topPane, 500, 300);\r\n        stage.setTitle(&quot;Test Ninja&quot;); \r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }  //  end start\r\n\r\n    public void doAction(ActionEvent evt) {\r\n\t\t \r\n    /*\r\n    * Object source = evt.getSource();\r\n    *\t \r\n    * if (source == fileNewConnection )  {\r\n    *       \t\r\n    *      System.out.println(&quot;You clicked the &quot;+ ((MenuItem) source).getText() + &quot; Menu        Item &quot;);\r\n    *        }\r\n    */\r\n\t\t \r\n    }  //  end do Action`   \r\n\r\n**TestController**\r\n\r\n    package testNinja;\r\n\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.control.MenuItem;\r\n\r\n    public class TestController extends TestGUI{\r\n\r\n    @Override\r\n    public void doAction(ActionEvent evt) {\t\r\n        Object source = evt.getSource();\r\n        if (source == fileNewConnection )  {\r\n            System.out.println(&quot;You clicked the &quot;+ ((MenuItem) source).getText() + &quot; Menu Item &quot;);       \r\n        }\t \r\n    }  //  end do Action\r\n\r\n    }  //  end class\r\n\r\n","title":"Can someone help me with JavaFX and inheritance?","body":"<p>I just finished my second java class and I'm trying to make my own program utilizing MVC.  I am trying to put all my code for my events in a separate class other than the GUI class.  But I can't get it to work right. If I put the code in the <code>doAction()</code> in the GUI class it works fine, but when I try to override it won't work.</p>\n<p>I feel like maybe I need to instantiate an object but of type <code>TestController</code> but I can't seem to get that to work right either.</p>\n<p>I am trying to use a class for a controller.</p>\n<p>The first code is snippets from the GUI. I think my problem is:</p>\n<pre><code>fileNewConnection.setOnAction(this::doAction)\n</code></pre>\n<p><strong>TestGUI</strong></p>\n<pre><code>package testNinja;\n\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.scene.control.Menu;\nimport javafx.scene.control.MenuBar;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\n\npublic class TestGUI extends Application {\n\npublic static void main(String[] args) {\n    launch(args);\n}  //  end main\n\npublic Stage window;\npublic Menu fileMenu;\npublic MenuItem fileNewConnection;\npublic MenuBar menuBar;\n \npublic void start(Stage stage) {\n    window = stage;\n    fileMenu = new Menu(&quot;File&quot;);\n    fileNewConnection = new MenuItem(&quot;New Connection&quot;);\n    fileMenu.getItems().add(fileNewConnection);\n    fileNewConnection.setOnAction(this::doAction);\n    menuBar = new MenuBar();\n    menuBar.getMenus().add(fileMenu);\n\n    VBox topPane = new VBox(16, menuBar);\n    \n    Scene scene = new Scene(topPane, 500, 300);\n    stage.setTitle(&quot;Test Ninja&quot;); \n    stage.setScene(scene);\n    stage.show();\n}  //  end start\n\npublic void doAction(ActionEvent evt) {\n     \n/*\n* Object source = evt.getSource();\n*    \n* if (source == fileNewConnection )  {\n*           \n*      System.out.println(&quot;You clicked the &quot;+ ((MenuItem) source).getText() + &quot; Menu        Item &quot;);\n*        }\n*/\n     \n}  //  end do Action`   \n</code></pre>\n<p><strong>TestController</strong></p>\n<pre><code>package testNinja;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.control.MenuItem;\n\npublic class TestController extends TestGUI{\n\n@Override\npublic void doAction(ActionEvent evt) { \n    Object source = evt.getSource();\n    if (source == fileNewConnection )  {\n        System.out.println(&quot;You clicked the &quot;+ ((MenuItem) source).getText() + &quot; Menu Item &quot;);       \n    }    \n}  //  end do Action\n\n}  //  end class\n</code></pre>\n"},{"tags":["java","spring-boot","memory-leaks","out-of-memory","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692379784,"creation_date":1692379784,"answer_id":76931468,"question_id":76931100,"body_markdown":" - **Thread Dump vs. Heap Dump:**\r\n   \r\n ***Thread Dump:*** \r\n\r\n&gt; A thread dump is a snapshot of the current state of all    threads\r\n&gt; running in a Java application at a specific point in time. It   \r\n&gt; provides information about the threads&#39; states, their stack traces,   \r\n&gt; and any potential thread contention or deadlocks. Thread dumps can be \r\n&gt; taken using tools like &quot;jstack&quot; command-line utility or by triggering \r\n&gt; a signal (e.g., SIGQUIT) to the Java process. Thread dumps help in   \r\n&gt; analyzing and diagnosing thread-related issues in an application.\r\n\r\n   ***Heap Dump:*** \r\n\r\n&gt; A heap dump is a snapshot of the Java Virtual Machine&#39;s    memory at a\r\n&gt; specific point in time. It captures the objects and their   \r\n&gt; relationships present in the heap, allowing developers to analyze   \r\n&gt; memory consumption, identify memory leaks, and optimize memory usage. \r\n&gt; Heap dumps can be obtained using tools like Java VisualVM, Eclipse   \r\n&gt; MAT (Memory Analyzer Tool), or other profiling tools.\r\n\r\n   **My preferred tool for analyzing thread dump, IntelliJ IDEA&#39;s JSON Tools:**\r\n   \r\n   While IntelliJ IDEA doesn&#39;t offer specific thread dump analysis\r\n   features, it does have built-in JSON-related tools. You can use these\r\n   tools to format, validate, and navigate through JSON data.\r\n   \r\n   \r\n\r\n 1. Open your JSON thread dump in IntelliJ IDEA.\r\n 2. IntelliJ IDEA will automatically recognize the JSON format and provide you with formatting and navigation options.\r\n 3. You can use keyboard shortcuts like Ctrl + Alt + L (on Windows) or Cmd + Option + L (on macOS) to format the JSON and make it more readable.\r\n 4. Use the built-in JSON viewer to navigate through the JSON structure.\r\n\r\nWhen dealing with thread dumps, you might need to rely on external tools like FastThread or Thread Dump Analyzer (TDA) to perform in-depth analysis and identify thread-related issues. Additionally, for heap dump analysis, tools like Java VisualVM or Eclipse MAT can help you understand memory usage patterns and address memory-related problems in your application.\r\n\r\n","title":"What are the main differences between thread dump and heap dump?","body":"<ul>\n<li><strong>Thread Dump vs. Heap Dump:</strong></li>\n</ul>\n<p><em><strong>Thread Dump:</strong></em></p>\n<blockquote>\n<p>A thread dump is a snapshot of the current state of all    threads\nrunning in a Java application at a specific point in time. It<br />\nprovides information about the threads' states, their stack traces,<br />\nand any potential thread contention or deadlocks. Thread dumps can be\ntaken using tools like &quot;jstack&quot; command-line utility or by triggering\na signal (e.g., SIGQUIT) to the Java process. Thread dumps help in<br />\nanalyzing and diagnosing thread-related issues in an application.</p>\n</blockquote>\n<p><em><strong>Heap Dump:</strong></em></p>\n<blockquote>\n<p>A heap dump is a snapshot of the Java Virtual Machine's    memory at a\nspecific point in time. It captures the objects and their<br />\nrelationships present in the heap, allowing developers to analyze<br />\nmemory consumption, identify memory leaks, and optimize memory usage.\nHeap dumps can be obtained using tools like Java VisualVM, Eclipse<br />\nMAT (Memory Analyzer Tool), or other profiling tools.</p>\n</blockquote>\n<p><strong>My preferred tool for analyzing thread dump, IntelliJ IDEA's JSON Tools:</strong></p>\n<p>While IntelliJ IDEA doesn't offer specific thread dump analysis\nfeatures, it does have built-in JSON-related tools. You can use these\ntools to format, validate, and navigate through JSON data.</p>\n<ol>\n<li>Open your JSON thread dump in IntelliJ IDEA.</li>\n<li>IntelliJ IDEA will automatically recognize the JSON format and provide you with formatting and navigation options.</li>\n<li>You can use keyboard shortcuts like Ctrl + Alt + L (on Windows) or Cmd + Option + L (on macOS) to format the JSON and make it more readable.</li>\n<li>Use the built-in JSON viewer to navigate through the JSON structure.</li>\n</ol>\n<p>When dealing with thread dumps, you might need to rely on external tools like FastThread or Thread Dump Analyzer (TDA) to perform in-depth analysis and identify thread-related issues. Additionally, for heap dump analysis, tools like Java VisualVM or Eclipse MAT can help you understand memory usage patterns and address memory-related problems in your application.</p>\n"}],"owner":{"account_id":5248641,"reputation":73,"user_id":4193556,"display_name":"Kiran Kranthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692538802,"creation_date":1692376122,"question_id":76931100,"body_markdown":"What are the main differences between thread dump and heap dump ?\r\n\r\nIn Spring boot application actuator threaddump API (`http://localhost:8080/actuator/threaddump`) is returning json response.\r\n\r\nWhat are the tools we can use for analyzing thread dump json response?","title":"What are the main differences between thread dump and heap dump?","body":"<p>What are the main differences between thread dump and heap dump ?</p>\n<p>In Spring boot application actuator threaddump API (<code>http://localhost:8080/actuator/threaddump</code>) is returning json response.</p>\n<p>What are the tools we can use for analyzing thread dump json response?</p>\n"},{"tags":["java","postgresql","amazon-web-services","spring-boot","amazon-ec2"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1692161696,"post_id":76910570,"comment_id":135584713,"body_markdown":"Error indicates you are just providing the hostname to the database and not a jbdc url like in your example file.","body":"Error indicates you are just providing the hostname to the database and not a jbdc url like in your example file."},{"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"score":0,"creation_date":1692164537,"post_id":76910570,"comment_id":135584990,"body_markdown":"I am using the same  url string as  mentioned in the sample application.yml file","body":"I am using the same  url string as  mentioned in the sample application.yml file"},{"owner":{"account_id":10345313,"reputation":330,"user_id":7630468,"display_name":"SwathiP"},"score":0,"creation_date":1692171023,"post_id":76910570,"comment_id":135585966,"body_markdown":"Have you added inbound rule for RDS so that your EC2 instance can connect to it?","body":"Have you added inbound rule for RDS so that your EC2 instance can connect to it?"},{"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"score":0,"creation_date":1692190904,"post_id":76910570,"comment_id":135589994,"body_markdown":"yes, I have added port 5432 in my rds.","body":"yes, I have added port 5432 in my rds."},{"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"score":0,"creation_date":1692191787,"post_id":76910570,"comment_id":135590247,"body_markdown":"Allow EC2 security group (where spring boot application is deployed) in RDS security group (Add inbound rules with port 5432).","body":"Allow EC2 security group (where spring boot application is deployed) in RDS security group (Add inbound rules with port 5432)."},{"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"score":0,"creation_date":1692207035,"post_id":76910570,"comment_id":135593429,"body_markdown":"I already did that","body":"I already did that"}],"answers":[{"comments":[{"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"score":0,"creation_date":1692207111,"post_id":76913560,"comment_id":135593448,"body_markdown":"I think the problem is not with the versions as I am able to connect to it when I make rds public","body":"I think the problem is not with the versions as I am able to connect to it when I make rds public"}],"tags":[],"owner":{"account_id":29236832,"reputation":1,"user_id":22399298,"display_name":"Praveen Jebaraj"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692538763,"creation_date":1692188990,"answer_id":76913560,"question_id":76910570,"body_markdown":"First, double check for any typo errors in RDS URL.\r\n\r\nAlso note the `Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com`; this is a key part of the error message.\r\n\r\nAs such, make sure that the version of Hibernate you&#39;re using is compatible with the version of the PostgreSQL JDBC driver you&#39;ve specified. In your provided configuration, you&#39;re using Hibernate `5.6.15.Final`. Confirm that this version is compatible with the version of the driver","title":"Access rds postgres db(private access only, no public IP) from ec2 instance in public subnet","body":"<p>First, double check for any typo errors in RDS URL.</p>\n<p>Also note the <code>Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com</code>; this is a key part of the error message.</p>\n<p>As such, make sure that the version of Hibernate you're using is compatible with the version of the PostgreSQL JDBC driver you've specified. In your provided configuration, you're using Hibernate <code>5.6.15.Final</code>. Confirm that this version is compatible with the version of the driver</p>\n"}],"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692538763,"creation_date":1692160919,"question_id":76910570,"body_markdown":"I am trying to connect rds postgres instance which is not publicly accessible from ec2 application using spring boot. Both are in same vpc and ec2 in public subnet and rds in private subnet. -&gt; **failure**\r\n\r\nI tried to connect the database inside rds using dbeaver using ssh tunneling(from local-&gt;ec2-&gt;rds) and it is **successful**.\r\n\r\nFrom ec2 instance I also tried to connect to my database in rds using telnet on port 5432-&gt; **successful**\r\n\r\nI tried making the rds  publicly accessible and then I am able to connect to it from the application code -&gt; **successful**\r\n\r\n**sample application.yml**\r\n```\r\nserver:\r\n  port: 9091\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://test-rds.cpo655l07.ap-south-1.rds.amazonaws.com:5432/test\r\n    driver-class-name: org.postgresql.Driver\r\n    username: test\r\n    password: test\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update # You can use &quot;update&quot; or &quot;create-drop&quot; depending on your needs\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n    database: postgresql\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157) ~[spring-context-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911) ~[spring-context-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.schoolapp.schoolapp.SchoolAppApplication.main(SchoolAppApplication.java:11) ~[classes!/:0.1.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[school-app-0.1.1-SNAPSHOT.jar:0.1.1-SNAPSHOT]\r\n        at \r\n\r\n        ... 24 common frames omitted\r\nCaused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com\r\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:44) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:60) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:183) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:104) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.29.jar!/:5.3.29]\r\n        ... 28 common frames omitted\r\n```","title":"Access rds postgres db(private access only, no public IP) from ec2 instance in public subnet","body":"<p>I am trying to connect rds postgres instance which is not publicly accessible from ec2 application using spring boot. Both are in same vpc and ec2 in public subnet and rds in private subnet. -&gt; <strong>failure</strong></p>\n<p>I tried to connect the database inside rds using dbeaver using ssh tunneling(from local-&gt;ec2-&gt;rds) and it is <strong>successful</strong>.</p>\n<p>From ec2 instance I also tried to connect to my database in rds using telnet on port 5432-&gt; <strong>successful</strong></p>\n<p>I tried making the rds  publicly accessible and then I am able to connect to it from the application code -&gt; <strong>successful</strong></p>\n<p><strong>sample application.yml</strong></p>\n<pre><code>server:\n  port: 9091\nspring:\n  datasource:\n    url: jdbc:postgresql://test-rds.cpo655l07.ap-south-1.rds.amazonaws.com:5432/test\n    driver-class-name: org.postgresql.Driver\n    username: test\n    password: test\n  jpa:\n    hibernate:\n      ddl-auto: update # You can use &quot;update&quot; or &quot;create-drop&quot; depending on your needs\n    show-sql: true\n    properties:\n      hibernate:\n        format_sql: true\n    database: postgresql\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157) ~[spring-context-5.3.29.jar!/:5.3.29]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911) ~[spring-context-5.3.29.jar!/:5.3.29]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.29.jar!/:5.3.29]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.schoolapp.schoolapp.SchoolAppApplication.main(SchoolAppApplication.java:11) ~[classes!/:0.1.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[school-app-0.1.1-SNAPSHOT.jar:0.1.1-SNAPSHOT]\n        at \n\n        ... 24 common frames omitted\nCaused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:44) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:60) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:183) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:104) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.29.jar!/:5.3.29]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.29.jar!/:5.3.29]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.29.jar!/:5.3.29]\n        ... 28 common frames omitted\n</code></pre>\n"},{"tags":["java","javafx","fxml","access-modifiers"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1586099816,"post_id":61044743,"comment_id":107995666,"body_markdown":"Are you familiar with the difference between public and private? I suspect that without the @FXML annotation you will not be initialize private members, and it is good practice to make the members private.","body":"Are you familiar with the difference between public and private? I suspect that without the @FXML annotation you will not be initialize private members, and it is good practice to make the members private."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1692537856,"creation_date":1586100137,"answer_id":61044906,"question_id":61044743,"body_markdown":"From [Introduction to FXML][1]:\r\n\r\n&gt;### `@FXML`\r\n&gt;\r\n&gt;Note that, in the previous examples, the controller member fields and event handler methods were declared as public so they can be set or invoked by the loader. In practice, this is not often an issue, since a controller is generally only visible to the FXML loader that creates it. However, for developers who prefer more restricted visibility for controller fields or handler methods, the `javafx.fxml.FXML` annotation can be used. This annotation marks a protected or private class member as accessible to FXML. If the class being annotated is in a named module, the module containing that class must `open` the containing package to at least the `javafx.fxml` module.\r\n\r\nIn other words, the `@FXML` annotation is only _required_ if the field or method is non-public (i.e. is protected, package-private, or private) yet needs to be accessible to FXML. Within the context of FXML, there is no difference between a public field/method with no (or even with an) `@FXML` annotation and a non-public field/method with said annotation. The only difference in general is the visibility of the field/method to other code.\r\n\r\nThat said, it&#39;s typically considered good practice to only make something as visible as it needs to be. An FXML-injected field normally has no reason to be public. Neither do event-handler methods nor does the initialize method&lt;sup&gt;**1**&lt;/sup&gt;. They&#39;re all implementation details.\r\n\r\nNote the `@FXML` annotation doesn&#39;t do anything special on a language level. The presence of the annotation simply tells the `FXMLLoader` it&#39;s okay to try and reflectively access the field or method even though it&#39;s not public. It&#39;s also a good hint to the developer that the field or method is handled by FXML (for instance, FXML-injected fields should virtually never be manually initialized or reassigned).\r\n\r\n---\r\n\r\n&lt;sup&gt;**1.** The no-argument `initialize()` method. Not the one you have to override when implementing [`Initializable`][2], which of course must be public. Note [it&#39;s recommended][2] to use the no-argument method instead of implementing that interface, injecting the location and resource bundle the same as other FXML-injected fields if needed. Why the interface hasn&#39;t been deprecated yet, I don&#39;t know.&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/14/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#fxml_annotation\r\n  [2]: https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/Initializable.html","title":"Access modifiers in JavaFx and @FXML","body":"<p>From <a href=\"https://openjfx.io/javadoc/14/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#fxml_annotation\" rel=\"nofollow noreferrer\">Introduction to FXML</a>:</p>\n<blockquote>\n<h3><code>@FXML</code></h3>\n<p>Note that, in the previous examples, the controller member fields and event handler methods were declared as public so they can be set or invoked by the loader. In practice, this is not often an issue, since a controller is generally only visible to the FXML loader that creates it. However, for developers who prefer more restricted visibility for controller fields or handler methods, the <code>javafx.fxml.FXML</code> annotation can be used. This annotation marks a protected or private class member as accessible to FXML. If the class being annotated is in a named module, the module containing that class must <code>open</code> the containing package to at least the <code>javafx.fxml</code> module.</p>\n</blockquote>\n<p>In other words, the <code>@FXML</code> annotation is only <em>required</em> if the field or method is non-public (i.e. is protected, package-private, or private) yet needs to be accessible to FXML. Within the context of FXML, there is no difference between a public field/method with no (or even with an) <code>@FXML</code> annotation and a non-public field/method with said annotation. The only difference in general is the visibility of the field/method to other code.</p>\n<p>That said, it's typically considered good practice to only make something as visible as it needs to be. An FXML-injected field normally has no reason to be public. Neither do event-handler methods nor does the initialize method<sup><strong>1</strong></sup>. They're all implementation details.</p>\n<p>Note the <code>@FXML</code> annotation doesn't do anything special on a language level. The presence of the annotation simply tells the <code>FXMLLoader</code> it's okay to try and reflectively access the field or method even though it's not public. It's also a good hint to the developer that the field or method is handled by FXML (for instance, FXML-injected fields should virtually never be manually initialized or reassigned).</p>\n<hr />\n<p><sup><strong>1.</strong> The no-argument <code>initialize()</code> method. Not the one you have to override when implementing <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/Initializable.html\" rel=\"nofollow noreferrer\"><code>Initializable</code></a>, which of course must be public. Note <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/Initializable.html\" rel=\"nofollow noreferrer\">it's recommended</a> to use the no-argument method instead of implementing that interface, injecting the location and resource bundle the same as other FXML-injected fields if needed. Why the interface hasn't been deprecated yet, I don't know.</sup></p>\n"}],"owner":{"account_id":16917945,"reputation":629,"user_id":12235471,"display_name":"arty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61044906,"answer_count":1,"score":4,"last_activity_date":1692537856,"creation_date":1586099470,"question_id":61044743,"body_markdown":"I am new to JavaFx and in a few tutorials I&#39;ve seen, there were some differences. In one of the tutorials, he always used `private` as the access modifier in the controller class and wrote it this way:\r\n\r\n`@FXML private Button button;`\r\n\r\nBut the other tutorial always used public and didn&#39;t include @FXML in the controller class. Both of these seem to work fine but is there an actual difference between them that I should know?","title":"Access modifiers in JavaFx and @FXML","body":"<p>I am new to JavaFx and in a few tutorials I've seen, there were some differences. In one of the tutorials, he always used <code>private</code> as the access modifier in the controller class and wrote it this way:</p>\n\n<p><code>@FXML private Button button;</code></p>\n\n<p>But the other tutorial always used public and didn't include @FXML in the controller class. Both of these seem to work fine but is there an actual difference between them that I should know?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp","java-11"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1692566290,"post_id":76939540,"comment_id":135637238,"body_markdown":"A system library of Java 9 and higher always consists of modules which cannot be changed. An Eclipse plugin must not contain a `module-info.java` since [JPMS](https://en.wikipedia.org/wiki/Java_Platform_Module_System) does not allow to start and stop modules at runtime in contrast to OSGi bundles. It seems removing the `javax.xml` plugin/bundle was not enough and you still have a plugin/bundle that contains the `javax.xml` package. For details read https://stackoverflow.com/a/53824670/6505250","body":"A system library of Java 9 and higher always consists of modules which cannot be changed. An Eclipse plugin must not contain a <code>module-info.java</code> since <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">JPMS</a> does not allow to start and stop modules at runtime in contrast to OSGi bundles. It seems removing the <code>javax.xml</code> plugin/bundle was not enough and you still have a plugin/bundle that contains the <code>javax.xml</code> package. For details read <a href=\"https://stackoverflow.com/a/53824670/6505250\">stackoverflow.com/a/53824670/6505250</a>"},{"owner":{"account_id":4731437,"reputation":329,"user_id":3826954,"accept_rate":67,"display_name":"stackbacker"},"score":0,"creation_date":1696960402,"post_id":76939540,"comment_id":136218504,"body_markdown":"I have the same issue because of a 3rd party jar I&#39;m required to use HOWEVER opening the same project in IntelliJ does not exhibit this behavior. I guess I&#39;m confused why this isn&#39;t an Eclipse bug (or feature removal request).","body":"I have the same issue because of a 3rd party jar I&#39;m required to use HOWEVER opening the same project in IntelliJ does not exhibit this behavior. I guess I&#39;m confused why this isn&#39;t an Eclipse bug (or feature removal request)."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1697005062,"post_id":76939540,"comment_id":136223269,"body_markdown":"@stackbacker Eclipse does it right. It&#39;s a confirmed(!) bug of `javac` not showing this as an error. IntelliJ does not have its own compiler and uses `javac` by default.","body":"@stackbacker Eclipse does it right. It&#39;s a confirmed(!) bug of <code>javac</code> not showing this as an error. IntelliJ does not have its own compiler and uses <code>javac</code> by default."},{"owner":{"account_id":4731437,"reputation":329,"user_id":3826954,"accept_rate":67,"display_name":"stackbacker"},"score":0,"creation_date":1697044664,"post_id":76939540,"comment_id":136231070,"body_markdown":"@howlger So the issue is that Eclipse is correctly reporting the error while IntelliJ and VSCode (&amp; maybe Netbeans) do not? FWIW the overwhelming response from devs on my project upon hearing that issue only exists (or is reported by) Eclipse was &quot;Just use IntelliJ or VSCode&quot;. Maybe it&#39;s just me, but if &quot;use a competing product&quot;  is the quick fix for a problem it&#39;s something I&#39;d want to address with my product.","body":"@howlger So the issue is that Eclipse is correctly reporting the error while IntelliJ and VSCode (&amp; maybe Netbeans) do not? FWIW the overwhelming response from devs on my project upon hearing that issue only exists (or is reported by) Eclipse was &quot;Just use IntelliJ or VSCode&quot;. Maybe it&#39;s just me, but if &quot;use a competing product&quot;  is the quick fix for a problem it&#39;s something I&#39;d want to address with my product."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1697094625,"post_id":76939540,"comment_id":136236717,"body_markdown":"@stackbacker According to the Java language specification it&#39;s an error. Eclipse and [VSCode](https://stackoverflow.com/q/61278108/6505250) which is based on Eclipse show this error by default. As far as I know, all of today&#39;s Java VMs run the code, regardless of the fact that it is invalid Java. You can hide the error message in Eclipse. You can also switch to a text editor or IDE that is blind for this kind of error. Beside the fact that it is an error, it is also a code smell that should be better fixed (very likely caused by a dependency that is many years behind).","body":"@stackbacker According to the Java language specification it&#39;s an error. Eclipse and <a href=\"https://stackoverflow.com/q/61278108/6505250\">VSCode</a> which is based on Eclipse show this error by default. As far as I know, all of today&#39;s Java VMs run the code, regardless of the fact that it is invalid Java. You can hide the error message in Eclipse. You can also switch to a text editor or IDE that is blind for this kind of error. Beside the fact that it is an error, it is also a code smell that should be better fixed (very likely caused by a dependency that is many years behind)."}],"owner":{"account_id":23092846,"reputation":1,"user_id":17203450,"display_name":"RoxelX"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692537081,"creation_date":1692537081,"question_id":76939540,"body_markdown":"I&#39;m trying to export a deployable feature for my eclipse program, every time I try to export it with jdk17 which we&#39;re just upgrading to I get the &quot;The package *********** is accessible from more than one module: &lt;unnamed&gt;, java.xml&quot; in a certain plugin project but does not cause any error in the code.\r\nI need the compliance level to stay on jdk17, I&#39;m also not sure if plugin projects are generated modularized because according to eclipse trying to create the module-info.java &quot;may not be synchronized with the manifest file&quot;, and creating a new plugin project doesn&#39;t generate said file.\r\nPackages providing the error are:\r\n- javax.xml.parsers\r\n- org.w3c.dom\r\n- org.xml.sax\r\n\r\nI&#39;m using a custom target platform that originally had a version of javax.xml which I now have removed.\r\nHaving both types in my project gives the same error but, in the code, and when exporting feature. Having only the jdk17 version still produces the error when exporting.\r\n\r\nSo far, I have tried:\r\n- Remove the javax.xml from the target platform \r\n- Remove the dependency from MANIFEST.MF of the project that has the issue\r\n- Checked the types in the project to ensure that it does not exist in more than one module, anything using javax.xml comes from the jdk now\r\n- Create a new workspace with the project and restarting my PC\r\n\r\nI also followed the steps in these questions among others with no luck.\r\nhttps://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\r\nhttps://stackoverflow.com/questions/55902512/package-accessible-from-more-than-one-module-unnamed\r\n","title":"&quot;The package ***** is accessible from more than one module: &lt;unnamed&gt;, java.xml&quot; error only when deploying feature but not in code","body":"<p>I'm trying to export a deployable feature for my eclipse program, every time I try to export it with jdk17 which we're just upgrading to I get the &quot;The package *********** is accessible from more than one module: , java.xml&quot; in a certain plugin project but does not cause any error in the code.\nI need the compliance level to stay on jdk17, I'm also not sure if plugin projects are generated modularized because according to eclipse trying to create the module-info.java &quot;may not be synchronized with the manifest file&quot;, and creating a new plugin project doesn't generate said file.\nPackages providing the error are:</p>\n<ul>\n<li>javax.xml.parsers</li>\n<li>org.w3c.dom</li>\n<li>org.xml.sax</li>\n</ul>\n<p>I'm using a custom target platform that originally had a version of javax.xml which I now have removed.\nHaving both types in my project gives the same error but, in the code, and when exporting feature. Having only the jdk17 version still produces the error when exporting.</p>\n<p>So far, I have tried:</p>\n<ul>\n<li>Remove the javax.xml from the target platform</li>\n<li>Remove the dependency from MANIFEST.MF of the project that has the issue</li>\n<li>Checked the types in the project to ensure that it does not exist in more than one module, anything using javax.xml comes from the jdk now</li>\n<li>Create a new workspace with the project and restarting my PC</li>\n</ul>\n<p>I also followed the steps in these questions among others with no luck.\n<a href=\"https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\">Eclipse is confused by imports (&quot;accessible from more than one module&quot;)</a>\n<a href=\"https://stackoverflow.com/questions/55902512/package-accessible-from-more-than-one-module-unnamed\">Package accessible from more than one module: &lt;unnamed&gt;</a></p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692536854,"post_id":76939507,"comment_id":135634069,"body_markdown":"what is a `response token` if you mean i `JWT` then you are building a very insecure login system. You should never issue JWTs directly to the browser. Please google why jwts should not be used as sessions, and instead implement security using cookies as stated in the spring security documentation.","body":"what is a <code>response token</code> if you mean i <code>JWT</code> then you are building a very insecure login system. You should never issue JWTs directly to the browser. Please google why jwts should not be used as sessions, and instead implement security using cookies as stated in the spring security documentation."},{"owner":{"account_id":28162034,"reputation":1,"user_id":21521805,"display_name":"Jablko"},"score":0,"creation_date":1692537405,"post_id":76939507,"comment_id":135634120,"body_markdown":"Thanks for advice altough this one is just for educational purposes and I just want to establish working session by injecting jwt tokens for at least minimum security","body":"Thanks for advice altough this one is just for educational purposes and I just want to establish working session by injecting jwt tokens for at least minimum security"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692540968,"post_id":76939507,"comment_id":135634552,"body_markdown":"if your plan is to learn security i suggest you learn it properly from the start. Read the spring security docs and dont follow blogposts that have no idea how security works.","body":"if your plan is to learn security i suggest you learn it properly from the start. Read the spring security docs and dont follow blogposts that have no idea how security works."}],"owner":{"account_id":28162034,"reputation":1,"user_id":21521805,"display_name":"Jablko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692536552,"creation_date":1692536552,"question_id":76939507,"body_markdown":"I&#39;m fairly new to spring security. I&#39;ve made basic database with tables for users and roles and included registration and login DTO in my project. My question is: when I log-in and get response token, how do I make it injected each time I redirect to another url(to not login everytime) + I would like to redirect to home page in same PostMapping method as well\r\n\r\n\r\n```\r\n@Controller\r\n@CrossOrigin(&quot;*&quot;)\r\npublic class AuthenticationController {\r\n\r\n    @Autowired\r\n    private AuthenticationService authenticationService;\r\n\r\n    @PostMapping(&quot;/auth/registerSuccess&quot;)\r\n    public ApplicationUser registerUser(ApplicationUser user){\r\n        return authenticationService.registerUser(user.getUsername(), user.getPassword());\r\n    }\r\n\r\n    @PostMapping(&quot;/auth/loginSuccess&quot;)\r\n    public LoginResponseDTO loginUser(ApplicationUser user){\r\n        return authenticationService.loginUser(user.getUsername(), user.getPassword());\r\n\r\n    }\r\n\r\n\r\n//    @PostMapping(&quot;/auth/loginSuccess&quot;)\r\n//    public String redirectLogin(){\r\n//        return &quot;index&quot;;\r\n//    }\r\n\r\n//    @PostMapping(&quot;/auth/registerSuccess&quot;)\r\n//    public String redirectRegister(){\r\n//        return &quot;index&quot;;\r\n//    }\r\n\r\n\r\n\r\n    @GetMapping(&quot;/auth/register&quot;)\r\n    public String registerUser(Model model){\r\n        model.addAttribute(&quot;user&quot;, new ApplicationUser());\r\n        return &quot;register&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/auth/login&quot;)\r\n    public String loginUser(Model model){\r\n        model.addAttribute(&quot;user&quot;, new ApplicationUser());\r\n        return &quot;login&quot;;\r\n    }\r\n    \r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried to change return types for String in order to at least redirect to html files but it doesn&#39;t solve my main issue with injecting token.","title":"Spring webpage - injecting response token","body":"<p>I'm fairly new to spring security. I've made basic database with tables for users and roles and included registration and login DTO in my project. My question is: when I log-in and get response token, how do I make it injected each time I redirect to another url(to not login everytime) + I would like to redirect to home page in same PostMapping method as well</p>\n<pre><code>@Controller\n@CrossOrigin(&quot;*&quot;)\npublic class AuthenticationController {\n\n    @Autowired\n    private AuthenticationService authenticationService;\n\n    @PostMapping(&quot;/auth/registerSuccess&quot;)\n    public ApplicationUser registerUser(ApplicationUser user){\n        return authenticationService.registerUser(user.getUsername(), user.getPassword());\n    }\n\n    @PostMapping(&quot;/auth/loginSuccess&quot;)\n    public LoginResponseDTO loginUser(ApplicationUser user){\n        return authenticationService.loginUser(user.getUsername(), user.getPassword());\n\n    }\n\n\n//    @PostMapping(&quot;/auth/loginSuccess&quot;)\n//    public String redirectLogin(){\n//        return &quot;index&quot;;\n//    }\n\n//    @PostMapping(&quot;/auth/registerSuccess&quot;)\n//    public String redirectRegister(){\n//        return &quot;index&quot;;\n//    }\n\n\n\n    @GetMapping(&quot;/auth/register&quot;)\n    public String registerUser(Model model){\n        model.addAttribute(&quot;user&quot;, new ApplicationUser());\n        return &quot;register&quot;;\n    }\n\n\n    @GetMapping(&quot;/auth/login&quot;)\n    public String loginUser(Model model){\n        model.addAttribute(&quot;user&quot;, new ApplicationUser());\n        return &quot;login&quot;;\n    }\n    \n\n}\n\n</code></pre>\n<p>I've tried to change return types for String in order to at least redirect to html files but it doesn't solve my main issue with injecting token.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1692531238,"post_id":76939051,"comment_id":135633396,"body_markdown":"Please format your code correctly and include the full stack trace.","body":"Please format your code correctly and include the full stack trace."},{"owner":{"account_id":29175819,"reputation":1,"user_id":22351104,"display_name":"Richard5417"},"score":0,"creation_date":1692534751,"post_id":76939051,"comment_id":135633806,"body_markdown":"Updating it shortly","body":"Updating it shortly"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1692575599,"post_id":76939051,"comment_id":135638041,"body_markdown":"You must include the full stack trace.","body":"You must include the full stack trace."}],"owner":{"account_id":29175819,"reputation":1,"user_id":22351104,"display_name":"Richard5417"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692536195,"creation_date":1692528803,"question_id":76939051,"body_markdown":"I get a Cannot invoke &quot;com.example.demo.entities.Vacation.add(com.example.demo.entities.CartItem)&quot; because &quot;vacation&quot; is null error when I run my spring boot maven app\r\n\r\nMy Cart.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport java.util.*;\r\nimport java.math.BigDecimal;\r\n\r\n@Entity\r\n@Table(name = &quot;carts&quot;)\r\n@Getter\r\n@Setter\r\npublic class Cart {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;cart_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;order_tracking_number&quot;)\r\n    private String orderTrackingNumber;\r\n\r\n    @Column(name = &quot;package_price&quot;)\r\n    private BigDecimal package_price;\r\n\r\n    @Column(name = &quot;party_size&quot;)\r\n    private int party_size;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;status&quot;, nullable = false)\r\n    private StatusType status;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;create_date&quot;)\r\n    private Date create_date;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;last_update&quot;)\r\n    private Date last_update;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = false)\r\n    private Customer customer;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;cart&quot;)\r\n    private Set&lt;CartItem&gt; cartItems = new HashSet&lt;&gt;();\r\n\r\n    public void add(CartItem cartItem){\r\n        if (cartItem!= null) {\r\n            if (cartItems == null) {\r\n                cartItems = new HashSet&lt;&gt;();\r\n            }\r\n            cartItems.add(cartItem);\r\n            cartItem.setCart(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy CartItem.java file \r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport java.util.*;\r\n\r\n@Entity@Table(name = &quot;cart_items&quot;)\r\n@Getter\r\n@Setter\r\npublic class CartItem {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;cart_item_id&quot;)\r\n    private Long id;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;create_date&quot;)\r\n    private Date create_date;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;last_update&quot;)\r\n    private Date last_update;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;cart_id&quot;, nullable = false)\r\n    private Cart cart;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;vacation_id&quot;, nullable = false)\r\n    private Vacation vacation;\r\n\r\n    @OneToMany(mappedBy = &quot;cartItem&quot;)\r\n    Set&lt;ExcursionCartItem&gt; excursionCartItems = new HashSet&lt;&gt;();    \r\n\r\n    public void add(ExcursionCartItem excursionCartItem) {\r\n        if (excursionCartItem != null) {\r\n            if (excursionCartItems == null) {\r\n                excursionCartItems = new HashSet&lt;&gt;();\r\n            }\r\n            excursionCartItems.add(excursionCartItem);\r\n            excursionCartItem.setCartItem(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy Excursion.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport java.util.*;\r\nimport java.math.BigDecimal;\r\n\r\n@Entity\r\n@Table(name = &quot;excursions&quot;)\r\n@Getter\r\n@Setter\r\npublic class Excursion {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;excursion_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;excursion_title&quot;)\r\n    private String excursion_title;\r\n\r\n    @Column(name = &quot;excursion_price&quot;)\r\n    private BigDecimal excursion_price;\r\n\r\n    @Column(name = &quot;image_URL&quot;)\r\n    private String image_URL;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;create_date&quot;)\r\n    private Date create_date;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;last_update&quot;)\r\n    private Date last_update;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;vacation_id&quot;, nullable = false)\r\n    private Vacation vacation;\r\n\r\n    @OneToMany(mappedBy = &quot;excursion&quot;)\r\n    Set&lt;ExcursionCartItem&gt; excursionCartItems = new HashSet&lt;&gt;();\r\n\r\n    public void add(ExcursionCartItem excursionCartItem) {\r\n        if (excursionCartItem != null) {\r\n            if (excursionCartItems == null) {\r\n                excursionCartItems = new HashSet&lt;&gt;();\r\n            }\r\n            excursionCartItems.add(excursionCartItem);\r\n            excursionCartItem.setExcursion(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy ExcursionCartItem.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;excursion_cartitem&quot;)\r\npublic class ExcursionCartItem {\r\n\r\n    @EmbeddedId\r\n    private ExcursionCartItemKey id;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;cartItemId&quot;)\r\n    @JoinColumn(name = &quot;cart_item_id&quot;)\r\n    CartItem cartItem;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;excursionId&quot;)\r\n    @JoinColumn(name = &quot;excursion_id&quot;)\r\n    Excursion excursion;\r\n}\r\n```\r\n\r\n\r\nMy ExcursionCartItemKey.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport java.io.Serializable;\r\n\r\n@Getter\r\n@Setter\r\n@Embeddable\r\npublic class ExcursionCartItemKey implements Serializable {\r\n    @Column(name = &quot;cart_item_id&quot;)\r\n    Long cart_item_id;\r\n\r\n    @Column(name = &quot;excursion_id&quot;)\r\n    Long excursion_id;\r\n\r\n    //@ManyToOne @JoinColumn(name = &quot;cart_item_id&quot;)\r\n    //@ManyToOne(cascade = CascadeType.ALL)\r\n    //@MapsId(&quot;cart_item_id&quot;)\r\n    //private CartItem cartItem;\r\n\r\n    //@ManyToOne(cascade = CascadeType.ALL)\r\n    //@MapsId(&quot;excursion_id&quot;)\r\n    //private Excursion excursion;\r\n\r\n    //@ManyToOne @JoinColumn(name = &quot;excursion_id&quot;)\r\n    //private Excursion excursion;\r\n}\r\n```\r\n\r\nMy Vacation.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport java.util.*;\r\n\r\n@Entity\r\n@Table(name = &quot;vacations&quot;)\r\n@Getter\r\n@Setterpublic class Vacation {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;vacation_id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;vacation_title&quot;)\r\n    private String vacation_title;\r\n\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;travel_fare_price&quot;)\r\n    private Double travel_price;\r\n\r\n    @Column(name = &quot;image_URL&quot;)\r\n    private String image_URL;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;create_date&quot;)\r\n    private Date create_date;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;last_update&quot;)\r\n    private Date last_update;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;vacation&quot;)\r\n    private Set&lt;CartItem&gt; cartItems = new HashSet&lt;&gt;(); \r\n\r\n   @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;vacation&quot;)\r\n    private Set&lt;Excursion&gt; excursions = new HashSet&lt;&gt;();\r\n\r\n    public void add(CartItem cartItem){\r\n        if (cartItem!= null) {\r\n            if (cartItems == null) {\r\n                cartItems = new HashSet&lt;&gt;();\r\n            }\r\n            cartItems.add(cartItem);\r\n            cartItem.setVacation(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy Purchase.java file\r\n\r\n\r\n```\r\npackage com.example.demo.services;\r\nimport com.example.demo.entities.*;\r\nimport lombok.Setter;\r\nimport lombok.Getter;\r\nimport java.util.Set;\r\n\r\n@Setter\r\n@Getter\r\npublic class Purchase {    \r\n    private Customer customer;    \r\n    private Cart cart;    \r\n    private CartItem cartItem;    \r\n    private ExcursionCartItem excursionCartItem;    \r\n    private Excursion excursion;\r\n    private Vacation vacation;\r\n    private Set&lt;CartItem&gt; cartItems;\r\n    private Set&lt;ExcursionCartItem&gt; excursionCartItems;\r\n}\r\n```\r\n\r\n\r\nMy PurchaseResponse.java file\r\n\r\n\r\n```\r\npackage com.example.demo.services;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n@Setter@Getterpublic class PurchaseResponse {\r\n    private final String orderTrackingNumber;\r\n\r\n    public PurchaseResponse(String orderTrackingNumber) {\r\n        this.orderTrackingNumber = orderTrackingNumber;\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy CheckoutService.java file\r\n\r\n\r\n```\r\npackage com.example.demo.services;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\n\r\n@CrossOrigin\r\npublic interface CheckoutService {\r\n    PurchaseResponse placeOrder(Purchase purchase);\r\n}\r\n```\r\n\r\nMy CheckoutServiceImpl.java file\r\n\r\n\r\n```\r\npackage com.example.demo.services;\r\nimport com.example.demo.dao.CartRepository;\r\nimport com.example.demo.dao.ExcursionCartItemRepository;\r\nimport com.example.demo.dao.VacationRepository;\r\nimport com.example.demo.entities.*;\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.Set;import java.util.UUID;\r\n\r\n@Service\r\npublic class CheckoutServiceImpl implements CheckoutService{\r\n    @Autowired\r\n\r\n    private CartRepository cartRepository;\r\n    @Autowired\r\n    public CheckoutServiceImpl(CartRepository cartRepository) {\r\n        this.cartRepository = cartRepository;\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public PurchaseResponse placeOrder(Purchase purchase) {\r\n        // retrieve the cart info from entity\r\n        Cart cart = purchase.getCart();\r\n        CartItem cartItem = purchase.getCartItem();\r\n        ExcursionCartItem excursionCartItem = purchase.getExcursionCartItem();\r\n        Excursion excursion = purchase.getExcursion();\r\n        Vacation vacation = purchase.getVacation();\r\n\r\n        // generate tracking number\r\n        String orderTrackingNumber = generateOrderTrackingNumber();\r\n        cart.setOrderTrackingNumber(orderTrackingNumber);\r\n        cart.setStatus(StatusType.ordered);\r\n\r\n        // populate cart with cartItems\r\n        Set&lt;CartItem&gt; cartItems = purchase.getCartItems();\r\n        cartItems.forEach(item -&gt; cart.add(item));\r\n        cartItems.forEach(item -&gt; vacation.add(item));\r\n\r\n        Set&lt;ExcursionCartItem&gt; excursionCartItems = purchase.getExcursionCartItems();\r\n        excursionCartItems.forEach(item -&gt; cartItem.add(item));\r\n        excursionCartItems.forEach(item -&gt; excursion.add(item));\r\n        cartRepository.save(cart);\r\n\r\n        // return a response\r\n        return new PurchaseResponse(orderTrackingNumber);\r\n    }\r\n\r\n    private String generateOrderTrackingNumber() {\r\n        // generate a random UUID number\r\n        return UUID.randomUUID().toString();\r\n    }\r\n}\r\n```\r\n\r\nTable structure\r\n\r\n\r\n```\r\nDROP DATABASE IF EXISTS `full-stack-ecommerce`;\r\nCREATE DATABASE `full-stack-ecommerce`;\r\nUSE `full-stack-ecommerce`;\r\nDROP TABLE IF EXISTS `countries`;\r\nCREATE TABLE `countries` (\r\n    `country_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `country` varchar(255) DEFAULT NULL,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    PRIMARY KEY (`country_id`)\r\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `vacations`;\r\nCREATE TABLE `vacations` (\r\n    `vacation_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `description` varchar(255) DEFAULT NULL,\r\n    `image_url` varchar(255) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `travel_fare_price` decimal(19, 2) DEFAULT NULL,\r\n    `vacation_title` varchar(255) DEFAULT NULL,\r\n    PRIMARY KEY (`vacation_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `divisions`;\r\nCREATE TABLE `divisions` (\r\n    `division` varchar(255) DEFAULT NULL,\r\n    `division_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `country_id` bigint NOT NULL,\r\n    PRIMARY KEY (`division_id`),\r\n    KEY (`country_id`),\r\n    CONSTRAINT FOREIGN KEY (`country_id`) REFERENCES `countries` (`country_id`)\r\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `excursions`;\r\nCREATE TABLE `excursions` (\r\n    `excursion_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `excursion_price` decimal(19, 2) DEFAULT NULL,\r\n    `excursion_title` varchar(255) DEFAULT NULL,\r\n    `image_url` varchar(255) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `vacation_id` bigint NOT NULL,\r\n    PRIMARY KEY (`excursion_id`),\r\n    KEY (`vacation_id`),\r\n    CONSTRAINT FOREIGN KEY (`vacation_id`) REFERENCES `vacations` (`vacation_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `customers`;\r\nCREATE TABLE `customers` (\r\n    `customer_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `address` varchar(255) DEFAULT NULL,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `customer_first_name` varchar(255) DEFAULT NULL,\r\n    `customer_last_name` varchar(255) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `phone` varchar(255) DEFAULT NULL,\r\n    `postal_code` varchar(255) DEFAULT NULL,\r\n    `division_id` bigint DEFAULT NULL,\r\n    PRIMARY KEY (`customer_id`),\r\n    KEY (`division_id`),\r\n    CONSTRAINT FOREIGN KEY (`division_id`) REFERENCES `divisions` (`division_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `carts`;\r\nCREATE TABLE `carts` (\r\n    `cart_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `package_price` decimal(19, 2) DEFAULT NULL,\r\n    `party_size` int DEFAULT NULL,\r\n    `status` ENUM (&#39;pending&#39;, &#39;ordered&#39;, &#39;canceled&#39;),\r\n    `order_tracking_number` varchar(255) DEFAULT NULL,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `customer_id` bigint NOT NULL,\r\n    PRIMARY KEY (`cart_id`),\r\n    KEY (`customer_id`),\r\n    CONSTRAINT FOREIGN KEY (`customer_id`) REFERENCES `customers` (`customer_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `cart_items`;\r\nCREATE TABLE `cart_items` (\r\n    `cart_item_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `cart_id` bigint NOT NULL,\r\n    `vacation_id` bigint NOT NULL,\r\n    PRIMARY KEY (`cart_item_id`),\r\n    KEY (`cart_id`),\r\n    KEY (`vacation_id`),\r\n    CONSTRAINT FOREIGN KEY (`vacation_id`) REFERENCES `vacations` (`vacation_id`),\r\n    CONSTRAINT FOREIGN KEY (`cart_id`) REFERENCES `carts` (`cart_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `excursion_cartitem`;\r\nCREATE TABLE `excursion_cartitem` (\r\n    `cart_item_id` bigint NOT NULL,\r\n    `excursion_id` bigint NOT NULL,\r\n    PRIMARY KEY (`cart_item_id`, `excursion_id`),\r\n    KEY (`excursion_id`),\r\n    CONSTRAINT FOREIGN KEY (`cart_item_id`) REFERENCES `cart_items` (`cart_item_id`),\r\n    CONSTRAINT FOREIGN KEY (`excursion_id`) REFERENCES `excursions` (`excursion_id`)\r\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI was expecting it to insert into three tables :carts, cart_items, excursion_cartitem","title":"Cannot invoke &quot;com.example.demo.entities.Vacation.add(com.example.demo.entities.CartItem)&quot; because &quot;vacation&quot; is null","body":"<p>I get a Cannot invoke &quot;com.example.demo.entities.Vacation.add(com.example.demo.entities.CartItem)&quot; because &quot;vacation&quot; is null error when I run my spring boot maven app</p>\n<p>My Cart.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.util.*;\nimport java.math.BigDecimal;\n\n@Entity\n@Table(name = &quot;carts&quot;)\n@Getter\n@Setter\npublic class Cart {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;cart_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;order_tracking_number&quot;)\n    private String orderTrackingNumber;\n\n    @Column(name = &quot;package_price&quot;)\n    private BigDecimal package_price;\n\n    @Column(name = &quot;party_size&quot;)\n    private int party_size;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status&quot;, nullable = false)\n    private StatusType status;\n\n    @CreationTimestamp\n    @Column(name = &quot;create_date&quot;)\n    private Date create_date;\n\n    @UpdateTimestamp\n    @Column(name = &quot;last_update&quot;)\n    private Date last_update;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = false)\n    private Customer customer;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;cart&quot;)\n    private Set&lt;CartItem&gt; cartItems = new HashSet&lt;&gt;();\n\n    public void add(CartItem cartItem){\n        if (cartItem!= null) {\n            if (cartItems == null) {\n                cartItems = new HashSet&lt;&gt;();\n            }\n            cartItems.add(cartItem);\n            cartItem.setCart(this);\n        }\n    }\n}\n</code></pre>\n<p>My CartItem.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.util.*;\n\n@Entity@Table(name = &quot;cart_items&quot;)\n@Getter\n@Setter\npublic class CartItem {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;cart_item_id&quot;)\n    private Long id;\n\n    @CreationTimestamp\n    @Column(name = &quot;create_date&quot;)\n    private Date create_date;\n\n    @UpdateTimestamp\n    @Column(name = &quot;last_update&quot;)\n    private Date last_update;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;cart_id&quot;, nullable = false)\n    private Cart cart;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;vacation_id&quot;, nullable = false)\n    private Vacation vacation;\n\n    @OneToMany(mappedBy = &quot;cartItem&quot;)\n    Set&lt;ExcursionCartItem&gt; excursionCartItems = new HashSet&lt;&gt;();    \n\n    public void add(ExcursionCartItem excursionCartItem) {\n        if (excursionCartItem != null) {\n            if (excursionCartItems == null) {\n                excursionCartItems = new HashSet&lt;&gt;();\n            }\n            excursionCartItems.add(excursionCartItem);\n            excursionCartItem.setCartItem(this);\n        }\n    }\n}\n</code></pre>\n<p>My Excursion.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.util.*;\nimport java.math.BigDecimal;\n\n@Entity\n@Table(name = &quot;excursions&quot;)\n@Getter\n@Setter\npublic class Excursion {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;excursion_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;excursion_title&quot;)\n    private String excursion_title;\n\n    @Column(name = &quot;excursion_price&quot;)\n    private BigDecimal excursion_price;\n\n    @Column(name = &quot;image_URL&quot;)\n    private String image_URL;\n\n    @CreationTimestamp\n    @Column(name = &quot;create_date&quot;)\n    private Date create_date;\n\n    @UpdateTimestamp\n    @Column(name = &quot;last_update&quot;)\n    private Date last_update;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;vacation_id&quot;, nullable = false)\n    private Vacation vacation;\n\n    @OneToMany(mappedBy = &quot;excursion&quot;)\n    Set&lt;ExcursionCartItem&gt; excursionCartItems = new HashSet&lt;&gt;();\n\n    public void add(ExcursionCartItem excursionCartItem) {\n        if (excursionCartItem != null) {\n            if (excursionCartItems == null) {\n                excursionCartItems = new HashSet&lt;&gt;();\n            }\n            excursionCartItems.add(excursionCartItem);\n            excursionCartItem.setExcursion(this);\n        }\n    }\n}\n</code></pre>\n<p>My ExcursionCartItem.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;excursion_cartitem&quot;)\npublic class ExcursionCartItem {\n\n    @EmbeddedId\n    private ExcursionCartItemKey id;\n\n    @ManyToOne\n    @MapsId(&quot;cartItemId&quot;)\n    @JoinColumn(name = &quot;cart_item_id&quot;)\n    CartItem cartItem;\n\n    @ManyToOne\n    @MapsId(&quot;excursionId&quot;)\n    @JoinColumn(name = &quot;excursion_id&quot;)\n    Excursion excursion;\n}\n</code></pre>\n<p>My ExcursionCartItemKey.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport java.io.Serializable;\n\n@Getter\n@Setter\n@Embeddable\npublic class ExcursionCartItemKey implements Serializable {\n    @Column(name = &quot;cart_item_id&quot;)\n    Long cart_item_id;\n\n    @Column(name = &quot;excursion_id&quot;)\n    Long excursion_id;\n\n    //@ManyToOne @JoinColumn(name = &quot;cart_item_id&quot;)\n    //@ManyToOne(cascade = CascadeType.ALL)\n    //@MapsId(&quot;cart_item_id&quot;)\n    //private CartItem cartItem;\n\n    //@ManyToOne(cascade = CascadeType.ALL)\n    //@MapsId(&quot;excursion_id&quot;)\n    //private Excursion excursion;\n\n    //@ManyToOne @JoinColumn(name = &quot;excursion_id&quot;)\n    //private Excursion excursion;\n}\n</code></pre>\n<p>My Vacation.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.util.*;\n\n@Entity\n@Table(name = &quot;vacations&quot;)\n@Getter\n@Setterpublic class Vacation {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;vacation_id&quot;)\n    private int id;\n\n    @Column(name = &quot;vacation_title&quot;)\n    private String vacation_title;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;travel_fare_price&quot;)\n    private Double travel_price;\n\n    @Column(name = &quot;image_URL&quot;)\n    private String image_URL;\n\n    @CreationTimestamp\n    @Column(name = &quot;create_date&quot;)\n    private Date create_date;\n\n    @UpdateTimestamp\n    @Column(name = &quot;last_update&quot;)\n    private Date last_update;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;vacation&quot;)\n    private Set&lt;CartItem&gt; cartItems = new HashSet&lt;&gt;(); \n\n   @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;vacation&quot;)\n    private Set&lt;Excursion&gt; excursions = new HashSet&lt;&gt;();\n\n    public void add(CartItem cartItem){\n        if (cartItem!= null) {\n            if (cartItems == null) {\n                cartItems = new HashSet&lt;&gt;();\n            }\n            cartItems.add(cartItem);\n            cartItem.setVacation(this);\n        }\n    }\n}\n</code></pre>\n<p>My Purchase.java file</p>\n<pre><code>package com.example.demo.services;\nimport com.example.demo.entities.*;\nimport lombok.Setter;\nimport lombok.Getter;\nimport java.util.Set;\n\n@Setter\n@Getter\npublic class Purchase {    \n    private Customer customer;    \n    private Cart cart;    \n    private CartItem cartItem;    \n    private ExcursionCartItem excursionCartItem;    \n    private Excursion excursion;\n    private Vacation vacation;\n    private Set&lt;CartItem&gt; cartItems;\n    private Set&lt;ExcursionCartItem&gt; excursionCartItems;\n}\n</code></pre>\n<p>My PurchaseResponse.java file</p>\n<pre><code>package com.example.demo.services;\nimport lombok.Getter;\nimport lombok.Setter;\n@Setter@Getterpublic class PurchaseResponse {\n    private final String orderTrackingNumber;\n\n    public PurchaseResponse(String orderTrackingNumber) {\n        this.orderTrackingNumber = orderTrackingNumber;\n    }\n}\n</code></pre>\n<p>My CheckoutService.java file</p>\n<pre><code>package com.example.demo.services;\nimport org.springframework.web.bind.annotation.CrossOrigin;\n\n@CrossOrigin\npublic interface CheckoutService {\n    PurchaseResponse placeOrder(Purchase purchase);\n}\n</code></pre>\n<p>My CheckoutServiceImpl.java file</p>\n<pre><code>package com.example.demo.services;\nimport com.example.demo.dao.CartRepository;\nimport com.example.demo.dao.ExcursionCartItemRepository;\nimport com.example.demo.dao.VacationRepository;\nimport com.example.demo.entities.*;\nimport jakarta.transaction.Transactional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport java.util.Set;import java.util.UUID;\n\n@Service\npublic class CheckoutServiceImpl implements CheckoutService{\n    @Autowired\n\n    private CartRepository cartRepository;\n    @Autowired\n    public CheckoutServiceImpl(CartRepository cartRepository) {\n        this.cartRepository = cartRepository;\n    }\n\n    @Override\n    @Transactional\n    public PurchaseResponse placeOrder(Purchase purchase) {\n        // retrieve the cart info from entity\n        Cart cart = purchase.getCart();\n        CartItem cartItem = purchase.getCartItem();\n        ExcursionCartItem excursionCartItem = purchase.getExcursionCartItem();\n        Excursion excursion = purchase.getExcursion();\n        Vacation vacation = purchase.getVacation();\n\n        // generate tracking number\n        String orderTrackingNumber = generateOrderTrackingNumber();\n        cart.setOrderTrackingNumber(orderTrackingNumber);\n        cart.setStatus(StatusType.ordered);\n\n        // populate cart with cartItems\n        Set&lt;CartItem&gt; cartItems = purchase.getCartItems();\n        cartItems.forEach(item -&gt; cart.add(item));\n        cartItems.forEach(item -&gt; vacation.add(item));\n\n        Set&lt;ExcursionCartItem&gt; excursionCartItems = purchase.getExcursionCartItems();\n        excursionCartItems.forEach(item -&gt; cartItem.add(item));\n        excursionCartItems.forEach(item -&gt; excursion.add(item));\n        cartRepository.save(cart);\n\n        // return a response\n        return new PurchaseResponse(orderTrackingNumber);\n    }\n\n    private String generateOrderTrackingNumber() {\n        // generate a random UUID number\n        return UUID.randomUUID().toString();\n    }\n}\n</code></pre>\n<p>Table structure</p>\n<pre><code>DROP DATABASE IF EXISTS `full-stack-ecommerce`;\nCREATE DATABASE `full-stack-ecommerce`;\nUSE `full-stack-ecommerce`;\nDROP TABLE IF EXISTS `countries`;\nCREATE TABLE `countries` (\n    `country_id` bigint NOT NULL AUTO_INCREMENT,\n    `country` varchar(255) DEFAULT NULL,\n    `create_date` datetime(6) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    PRIMARY KEY (`country_id`)\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `vacations`;\nCREATE TABLE `vacations` (\n    `vacation_id` bigint NOT NULL AUTO_INCREMENT,\n    `create_date` datetime(6) DEFAULT NULL,\n    `description` varchar(255) DEFAULT NULL,\n    `image_url` varchar(255) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `travel_fare_price` decimal(19, 2) DEFAULT NULL,\n    `vacation_title` varchar(255) DEFAULT NULL,\n    PRIMARY KEY (`vacation_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `divisions`;\nCREATE TABLE `divisions` (\n    `division` varchar(255) DEFAULT NULL,\n    `division_id` bigint NOT NULL AUTO_INCREMENT,\n    `create_date` datetime(6) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `country_id` bigint NOT NULL,\n    PRIMARY KEY (`division_id`),\n    KEY (`country_id`),\n    CONSTRAINT FOREIGN KEY (`country_id`) REFERENCES `countries` (`country_id`)\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `excursions`;\nCREATE TABLE `excursions` (\n    `excursion_id` bigint NOT NULL AUTO_INCREMENT,\n    `create_date` datetime(6) DEFAULT NULL,\n    `excursion_price` decimal(19, 2) DEFAULT NULL,\n    `excursion_title` varchar(255) DEFAULT NULL,\n    `image_url` varchar(255) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `vacation_id` bigint NOT NULL,\n    PRIMARY KEY (`excursion_id`),\n    KEY (`vacation_id`),\n    CONSTRAINT FOREIGN KEY (`vacation_id`) REFERENCES `vacations` (`vacation_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `customers`;\nCREATE TABLE `customers` (\n    `customer_id` bigint NOT NULL AUTO_INCREMENT,\n    `address` varchar(255) DEFAULT NULL,\n    `create_date` datetime(6) DEFAULT NULL,\n    `customer_first_name` varchar(255) DEFAULT NULL,\n    `customer_last_name` varchar(255) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `phone` varchar(255) DEFAULT NULL,\n    `postal_code` varchar(255) DEFAULT NULL,\n    `division_id` bigint DEFAULT NULL,\n    PRIMARY KEY (`customer_id`),\n    KEY (`division_id`),\n    CONSTRAINT FOREIGN KEY (`division_id`) REFERENCES `divisions` (`division_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `carts`;\nCREATE TABLE `carts` (\n    `cart_id` bigint NOT NULL AUTO_INCREMENT,\n    `package_price` decimal(19, 2) DEFAULT NULL,\n    `party_size` int DEFAULT NULL,\n    `status` ENUM ('pending', 'ordered', 'canceled'),\n    `order_tracking_number` varchar(255) DEFAULT NULL,\n    `create_date` datetime(6) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `customer_id` bigint NOT NULL,\n    PRIMARY KEY (`cart_id`),\n    KEY (`customer_id`),\n    CONSTRAINT FOREIGN KEY (`customer_id`) REFERENCES `customers` (`customer_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `cart_items`;\nCREATE TABLE `cart_items` (\n    `cart_item_id` bigint NOT NULL AUTO_INCREMENT,\n    `create_date` datetime(6) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `cart_id` bigint NOT NULL,\n    `vacation_id` bigint NOT NULL,\n    PRIMARY KEY (`cart_item_id`),\n    KEY (`cart_id`),\n    KEY (`vacation_id`),\n    CONSTRAINT FOREIGN KEY (`vacation_id`) REFERENCES `vacations` (`vacation_id`),\n    CONSTRAINT FOREIGN KEY (`cart_id`) REFERENCES `carts` (`cart_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `excursion_cartitem`;\nCREATE TABLE `excursion_cartitem` (\n    `cart_item_id` bigint NOT NULL,\n    `excursion_id` bigint NOT NULL,\n    PRIMARY KEY (`cart_item_id`, `excursion_id`),\n    KEY (`excursion_id`),\n    CONSTRAINT FOREIGN KEY (`cart_item_id`) REFERENCES `cart_items` (`cart_item_id`),\n    CONSTRAINT FOREIGN KEY (`excursion_id`) REFERENCES `excursions` (`excursion_id`)\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\n</code></pre>\n<p>I was expecting it to insert into three tables :carts, cart_items, excursion_cartitem</p>\n"},{"tags":["java","inversion-of-control"],"comments":[{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":1,"creation_date":1602586970,"post_id":64333953,"comment_id":113761623,"body_markdown":"Does the book mention the phrase &quot;Don&#39;t call us, we&#39;ll call you&quot;?","body":"Does the book mention the phrase &quot;Don&#39;t call us, we&#39;ll call you&quot;?"},{"owner":{"account_id":13370794,"reputation":165,"user_id":9649306,"display_name":"ABC"},"score":0,"creation_date":1602587459,"post_id":64333953,"comment_id":113761876,"body_markdown":"@Kevin Anderson Yes!","body":"@Kevin Anderson Yes!"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":2,"creation_date":1602591477,"post_id":64333953,"comment_id":113763713,"body_markdown":"The &quot;Hollywood&quot; connection is that &quot;Don&#39;t call us; we&#39;ll call you&quot; is allegedly the standard polite-but-unmistakable phrase of dismissal used in show business.  It&#39;s kind of a standard joke: aspiring actor steps to the stage, introduces himself and begins his audition; ten seconds in, casting director pipes in with &quot;Thank you, that will be all. Don&#39;t call us; we&#39;ll call you.  NEXT!&quot;.","body":"The &quot;Hollywood&quot; connection is that &quot;Don&#39;t call us; we&#39;ll call you&quot; is allegedly the standard polite-but-unmistakable phrase of dismissal used in show business.  It&#39;s kind of a standard joke: aspiring actor steps to the stage, introduces himself and begins his audition; ten seconds in, casting director pipes in with &quot;Thank you, that will be all. Don&#39;t call us; we&#39;ll call you.  NEXT!&quot;."}],"answers":[{"tags":[],"owner":{"account_id":9936075,"reputation":1362,"user_id":7354378,"display_name":"Faramarz Qoshchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658127929,"creation_date":1656662990,"answer_id":72826245,"question_id":64333953,"body_markdown":"It&#39;s been a while but due to the number of viewers, i explain it.\r\n\r\n**The Hollywood** Principle which sometimes referred to as **Inversion of Control** says &quot;Don&#39;t call us, we&#39;ll call you&quot; Which in terms of software engineering it states that an object which depends on another one should not call it but should wait for the other to call it.    \r\n\r\nThis principle defines the IOC with more abstraction. As you know IoC defines  inversing the control of dependencies. So first of all you should have a control center responsible for controlling dependencies i.e for making instance of them. This control center then inverses the flow of making instance of classes. So when you want to use *ClassA* in *ClassB*, you won&#39;t create instance of *ClassB* then Call *ClassA*. You make instance of *ClassA* and pass it to *ClassB* using different techniques and use it.      \r\n\r\nFor more information about IoC have some invest on the internet as i just explained some basic concepts.","title":"I don&#39;t understand the Hollywood Principle","body":"<p>It's been a while but due to the number of viewers, i explain it.</p>\n<p><strong>The Hollywood</strong> Principle which sometimes referred to as <strong>Inversion of Control</strong> says &quot;Don't call us, we'll call you&quot; Which in terms of software engineering it states that an object which depends on another one should not call it but should wait for the other to call it.</p>\n<p>This principle defines the IOC with more abstraction. As you know IoC defines  inversing the control of dependencies. So first of all you should have a control center responsible for controlling dependencies i.e for making instance of them. This control center then inverses the flow of making instance of classes. So when you want to use <em>ClassA</em> in <em>ClassB</em>, you won't create instance of <em>ClassB</em> then Call <em>ClassA</em>. You make instance of <em>ClassA</em> and pass it to <em>ClassB</em> using different techniques and use it.</p>\n<p>For more information about IoC have some invest on the internet as i just explained some basic concepts.</p>\n"},{"tags":[],"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692535701,"creation_date":1692534265,"answer_id":76939374,"question_id":64333953,"body_markdown":"I would have a look at the &quot;library vs framework&quot; ambiguity problem. Here&#39;s one of the article found in Google search: [The Difference Between a Framework and a Library](https://www.baeldung.com/cs/framework-vs-library).\r\n\r\n**In short:** A *library* is called by our program (so **we** call the library when **we** need it); a *framework* calls our program&#39;s fragments when **it** needs this.\r\n","title":"I don&#39;t understand the Hollywood Principle","body":"<p>I would have a look at the &quot;library vs framework&quot; ambiguity problem. Here's one of the article found in Google search: <a href=\"https://www.baeldung.com/cs/framework-vs-library\" rel=\"nofollow noreferrer\">The Difference Between a Framework and a Library</a>.</p>\n<p><strong>In short:</strong> A <em>library</em> is called by our program (so <strong>we</strong> call the library when <strong>we</strong> need it); a <em>framework</em> calls our program's fragments when <strong>it</strong> needs this.</p>\n"}],"owner":{"account_id":13370794,"reputation":165,"user_id":9649306,"display_name":"ABC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5597,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1692535701,"creation_date":1602586826,"question_id":64333953,"body_markdown":"sorry for my English.\r\n\r\nI stumble upon this principle when reading the &quot;Head First Design Patterns&quot; book. I see other peoples ask on StackOverFlow the same question and a few articles but I still don&#39;t understand it.\r\n\r\nCan someone explain it in the simplest term for me? \r\n\r\nMost of the example I&#39;ve read is assuming that the reader already uses a framework supporting IoC like Spring. I never use those frameworks before because I&#39;m still a beginner.\r\n\r\nThank you.","title":"I don&#39;t understand the Hollywood Principle","body":"<p>sorry for my English.</p>\n<p>I stumble upon this principle when reading the &quot;Head First Design Patterns&quot; book. I see other peoples ask on StackOverFlow the same question and a few articles but I still don't understand it.</p>\n<p>Can someone explain it in the simplest term for me?</p>\n<p>Most of the example I've read is assuming that the reader already uses a framework supporting IoC like Spring. I never use those frameworks before because I'm still a beginner.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","stripe-payments","webhooks","payment"],"comments":[{"owner":{"account_id":3220603,"reputation":2158,"user_id":2718163,"display_name":"alex"},"score":0,"creation_date":1691965843,"post_id":76894907,"comment_id":135558331,"body_markdown":"I recommend you reach out to Stripe support : https://support.stripe.com/contact with the Subscription id. They&#39;ll be able to investigate further and explain why.","body":"I recommend you reach out to Stripe support : <a href=\"https://support.stripe.com/contact\" rel=\"nofollow noreferrer\">support.stripe.com/contact</a> with the Subscription id. They&#39;ll be able to investigate further and explain why."}],"answers":[{"comments":[{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692426674,"post_id":76929341,"comment_id":135624321,"body_markdown":"Thanks @Lucky2501 but how to handle that scenario because I write some code in invoice.payment_failed event so it execute that code add fail payment entry in my local database after around 3 second succeed webhook call and add same entry with payment succeed how I can handle this , how to differentiate that so that invoice.payment_failed event not actually failed and not save as a failed entry in my database.","body":"Thanks @Lucky2501 but how to handle that scenario because I write some code in invoice.payment_failed event so it execute that code add fail payment entry in my local database after around 3 second succeed webhook call and add same entry with payment succeed how I can handle this , how to differentiate that so that invoice.payment_failed event not actually failed and not save as a failed entry in my database."}],"tags":[],"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692361649,"creation_date":1692361649,"answer_id":76929341,"question_id":76894907,"body_markdown":"With the little information available, this could be due to your end payment requiring additional actions (eg 3DSecure).\r\n\r\nWhen payment intents are confirmed, it returns a Charge object.\r\nIf additional actions are required as a result of this confirmation, the charge is failed.\r\n\r\nThis failure isn&#39;t surfaced as a payment_intent.payment_failed event or charge.failed event, however if an Invoice is parented to your flow (which it is for Subscriptions), an invoice.payment_failed event would trigger.","title":"Why stripe first send invoice.payment_failed webhook","body":"<p>With the little information available, this could be due to your end payment requiring additional actions (eg 3DSecure).</p>\n<p>When payment intents are confirmed, it returns a Charge object.\nIf additional actions are required as a result of this confirmation, the charge is failed.</p>\n<p>This failure isn't surfaced as a payment_intent.payment_failed event or charge.failed event, however if an Invoice is parented to your flow (which it is for Subscriptions), an invoice.payment_failed event would trigger.</p>\n"},{"comments":[{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692444407,"post_id":76934138,"comment_id":135625925,"body_markdown":"Stripe send first invoice.payment_failed event with charge=null and than send again invoice.payment_failed event after the other event with charge=[charge id]  FYI:- This is subscription payment failed scenario.","body":"Stripe send first invoice.payment_failed event with charge=null and than send again invoice.payment_failed event after the other event with charge=[charge id]  FYI:- This is subscription payment failed scenario."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692444585,"post_id":76934138,"comment_id":135625944,"body_markdown":"Hey @Lucky2501 ,In subscription succeed scenario below event send  first send invoice.payment_failed with charge=null after stripe send invoice.payment_succeded. So why stripe first send invoice.payment_failed with charge=null","body":"Hey @Lucky2501 ,In subscription succeed scenario below event send  first send invoice.payment_failed with charge=null after stripe send invoice.payment_succeded. So why stripe first send invoice.payment_failed with charge=null"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692446027,"post_id":76934138,"comment_id":135626098,"body_markdown":"I wouldn’t suggest looking at the charge attribute, it’s a vestigial attribute from when the parenting flow was Invoice &gt; Charge instead of Invoice &gt; Payment Intent &gt; Charge as it is now. \nI think you’re seeing it null because the failed charge from additional actions doesn’t populate as a proper charge object, even though it still triggers the invoice.payment_failed event","body":"I wouldn’t suggest looking at the charge attribute, it’s a vestigial attribute from when the parenting flow was Invoice &gt; Charge instead of Invoice &gt; Payment Intent &gt; Charge as it is now.  I think you’re seeing it null because the failed charge from additional actions doesn’t populate as a proper charge object, even though it still triggers the invoice.payment_failed event"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692446455,"post_id":76934138,"comment_id":135626131,"body_markdown":"To clarify, the Invoice.charge attribute isn’t useless, you’ll see something here eg from a card decline. This is just a quirky situation where a charge fails on the backend but doesn’t come up as a charge","body":"To clarify, the Invoice.charge attribute isn’t useless, you’ll see something here eg from a card decline. This is just a quirky situation where a charge fails on the backend but doesn’t come up as a charge"},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692454243,"post_id":76934138,"comment_id":135626960,"body_markdown":"So we differentiate invoice.payment_failed  event like if charge = null  so that first event not save on our database right?","body":"So we differentiate invoice.payment_failed  event like if charge = null  so that first event not save on our database right?"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692455896,"post_id":76934138,"comment_id":135627126,"body_markdown":"Yes it’s a good point, that would work as well. The other situation where that would happen is if you didn’t have a payment method to charge, or didn’t have it set as default on the Customer/Subscription","body":"Yes it’s a good point, that would work as well. The other situation where that would happen is if you didn’t have a payment method to charge, or didn’t have it set as default on the Customer/Subscription"},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692464163,"post_id":76934138,"comment_id":135628133,"body_markdown":"Thanks for your valuable response, Now I just want to curious about why stripe send invoice.payment_failed with charge = Null and than payment failed scenario again send invoice.payment_failed event with charge id and payment succeed scenario send invoice.payment_succeded. Stripe send invoice.payment_failed event initially even subscription payment is successfully completed.","body":"Thanks for your valuable response, Now I just want to curious about why stripe send invoice.payment_failed with charge = Null and than payment failed scenario again send invoice.payment_failed event with charge id and payment succeed scenario send invoice.payment_succeded. Stripe send invoice.payment_failed event initially even subscription payment is successfully completed."},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692466096,"post_id":76934138,"comment_id":135628335,"body_markdown":"Honestly, I don’t know… I think it’s a historical issue rather than a technical one. I mentioned earlier that the invoice.charge attribute was vestigial. My understanding is that invoices used to generate charges, instead of payment intents (which then generate the charge). I wouldn’t be surprised that SCA regulations meant devs had to shoehorn the payment intent flow into invoicing, which led to weird situations like this. I think the best way to look at it is that the invoice.payment_failed event really means invoice.payment_not_succeeded, which then kind of makes sense.","body":"Honestly, I don’t know… I think it’s a historical issue rather than a technical one. I mentioned earlier that the invoice.charge attribute was vestigial. My understanding is that invoices used to generate charges, instead of payment intents (which then generate the charge). I wouldn’t be surprised that SCA regulations meant devs had to shoehorn the payment intent flow into invoicing, which led to weird situations like this. I think the best way to look at it is that the invoice.payment_failed event really means invoice.payment_not_succeeded, which then kind of makes sense."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692466630,"post_id":76934138,"comment_id":135628406,"body_markdown":"Ok Lucky2501.  When I make subscription payment below webhook event are called                   invoice.updated\n invoice.created\ninvoice.finalized\nsubscription created\ninvoice failed\npayment intent created\npayment_intent.requires_action\ninvoice.payment_action_required\ncustomer.updated\npayment intent succeeded\ninvoice.payment_succeeded\ncheckout session completed\ncharge.succeeded\ninvoice.updated\ninvoice paid\nsubscription updated\ncustomer.updated","body":"Ok Lucky2501.  When I make subscription payment below webhook event are called                   invoice.updated  invoice.created invoice.finalized subscription created invoice failed payment intent created payment_intent.requires_action invoice.payment_action_required customer.updated payment intent succeeded invoice.payment_succeeded checkout session completed charge.succeeded invoice.updated invoice paid subscription updated customer.updated"},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692466883,"post_id":76934138,"comment_id":135628435,"body_markdown":"And one more thing I generate stripe checkout page using session code which mention in below link. \nhttps://stripe.com/docs/billing/quickstart                             SessionCreateParams params = SessionCreateParams.builder() .addLineItem(       SessionCreateParams.LineItem.builder().setPrice(prices.getData().get(0).getId()).setQuantity(1L).build())         .setMode(SessionCreateParams.Mode.SUBSCRIPTION).setSuccessUrl(YOUR_DOMAIN + &quot;/success.html?session_id={CHECKOUT_SESSION_ID}&quot;)\n          .setCancelUrl(YOUR_DOMAIN + &quot;/cancel.html&quot;)","body":"And one more thing I generate stripe checkout page using session code which mention in below link.  <a href=\"https://stripe.com/docs/billing/quickstart\" rel=\"nofollow noreferrer\">stripe.com/docs/billing/quickstart</a>                             SessionCreateParams params = SessionCreateParams.builder() .addLineItem(       SessionCreateParams.LineItem.builder().setPrice(prices.getDa&zwnj;&#8203;ta().get(0).getId())&zwnj;&#8203;.setQuantity(1L).bui&zwnj;&#8203;ld())         .setMode(SessionCreateParams.Mode.SUBSCRIPTION).setSuccessUr&zwnj;&#8203;l(YOUR_DOMAIN + &quot;/success.html?session_id={CHECKOUT_SESSION_ID}&quot;)           .setCancelUrl(YOUR_DOMAIN + &quot;/cancel.html&quot;)"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692467202,"post_id":76934138,"comment_id":135628462,"body_markdown":"When you say : “invoice.finalized subscription created invoice failed payment intent created” do you mean “customer.subscription.created, invoice.payment_failed, payment_intent.created” ? If so, that sounds normal. Essentially, when the invoice finalises at Subscription creation, it creates the payment_intent and attempts to complete it. If it doesn’t, the invoice.payment_failed triggers. Now, because this fires even if the failure is temporary (pending additional action), it doesn’t make a lot of sense, but I’m assuming the system doesn’t deal with that ambiguity.","body":"When you say : “invoice.finalized subscription created invoice failed payment intent created” do you mean “customer.subscription.created, invoice.payment_failed, payment_intent.created” ? If so, that sounds normal. Essentially, when the invoice finalises at Subscription creation, it creates the payment_intent and attempts to complete it. If it doesn’t, the invoice.payment_failed triggers. Now, because this fires even if the failure is temporary (pending additional action), it doesn’t make a lot of sense, but I’m assuming the system doesn’t deal with that ambiguity."},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692467380,"post_id":76934138,"comment_id":135628482,"body_markdown":"This is why I was trying to help with the invoice.payment_not_succeeded analogy before. Basically, when you get the invoice.payment_failed event, what you should understand is that Stripe tried to finalise an Invoice payment but couldn’t do it for whatever reason. Don’t think of it as the payment *actually failing*.","body":"This is why I was trying to help with the invoice.payment_not_succeeded analogy before. Basically, when you get the invoice.payment_failed event, what you should understand is that Stripe tried to finalise an Invoice payment but couldn’t do it for whatever reason. Don’t think of it as the payment <i>actually failing</i>."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692507002,"post_id":76934138,"comment_id":135631435,"body_markdown":"Yes this is not actually payment failed when stripe send the first time send invoice.payment_failed event my problem is i write a code when invoice.payment_failed are called excuate that code and add faield payment entry in our database stripe send the temporary invoice.payment_failed event. When actually subscription payment are failed that time add entry in my db. But stripe send invoice.payment_failed event with charge =null so add unnecessary entry on my db. I write that code only on when payment are actually failed due to authentication and low balance etc....","body":"Yes this is not actually payment failed when stripe send the first time send invoice.payment_failed event my problem is i write a code when invoice.payment_failed are called excuate that code and add faield payment entry in our database stripe send the temporary invoice.payment_failed event. When actually subscription payment are failed that time add entry in my db. But stripe send invoice.payment_failed event with charge =null so add unnecessary entry on my db. I write that code only on when payment are actually failed due to authentication and low balance etc...."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692507133,"post_id":76934138,"comment_id":135631446,"body_markdown":"So I can prevent that means how prevent when stripe send invoice.payment_failed with charge = null so that is not payment failed and not store in our database.","body":"So I can prevent that means how prevent when stripe send invoice.payment_failed with charge = null so that is not payment failed and not store in our database."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692529320,"post_id":76934138,"comment_id":135633220,"body_markdown":"when the stripe send the invoice.payment_failed event with charge = null so consider that event not failed and not save as a failed payment entry in our database right??","body":"when the stripe send the invoice.payment_failed event with charge = null so consider that event not failed and not save as a failed payment entry in our database right??"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692534186,"post_id":76934138,"comment_id":135633727,"body_markdown":"I just tested it on my end.  \nYou can do this this way - the only thing you need to know is that if the payment requires authentication and the customer fails it, then you&#39;ll still only get `invoice.payment_failed` with `charge:null`. It might be okay though : the checkout session won&#39;t complete so long as authentication is not succeeded, and the customer won&#39;t leave the session.  \nWhat I would suggest you do is to apply your condition with `charge:null` on the `invoice.payment_failed` event as you suggested, but also listen for Payment Intent events as they would provide more info anyway","body":"I just tested it on my end.   You can do this this way - the only thing you need to know is that if the payment requires authentication and the customer fails it, then you&#39;ll still only get <code>invoice.payment_failed</code> with <code>charge:null</code>. It might be okay though : the checkout session won&#39;t complete so long as authentication is not succeeded, and the customer won&#39;t leave the session.   What I would suggest you do is to apply your condition with <code>charge:null</code> on the <code>invoice.payment_failed</code> event as you suggested, but also listen for Payment Intent events as they would provide more info anyway"},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692534201,"post_id":76934138,"comment_id":135633729,"body_markdown":"1)invoice.updated\n2)invoice.created\n3)invoice.finalized\n4)subscription created\n5)invoice failed\n6)payment intent created\n7)payment_intent.requires_action\n8)invoice.payment_action_required\n9)customer.updated\n10)payment intent succeeded\n11)invoice.payment_succeeded\n12)checkout session completed\n13)charge.succeeded\n14)invoice.updated\n15)invoice paid\n16)subscription updated\n17)customer.updated this webhook event are called during/after the subscription payment. See the no5 event that hold charge = null.","body":"1)invoice.updated 2)invoice.created 3)invoice.finalized 4)subscription created 5)invoice failed 6)payment intent created 7)payment_intent.requires_action 8)invoice.payment_action_required 9)customer.updated 10)payment intent succeeded 11)invoice.payment_succeeded 12)checkout session completed 13)charge.succeeded 14)invoice.updated 15)invoice paid 16)subscription updated 17)customer.updated this webhook event are called during/after the subscription payment. See the no5 event that hold charge = null."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692534362,"post_id":76934138,"comment_id":135633751,"body_markdown":"When I make failed payment using stripe testing card that time stripe first send invoice.payment_failed with charge = null and after stripe send invoice.payment_failed with charge = [charge id]. And customer faced authentication error and insufficient balance that time stripe send teo invoice.payment_failed event first is charge =null and second one is charge = charge id.","body":"When I make failed payment using stripe testing card that time stripe first send invoice.payment_failed with charge = null and after stripe send invoice.payment_failed with charge = [charge id]. And customer faced authentication error and insufficient balance that time stripe send teo invoice.payment_failed event first is charge =null and second one is charge = charge id."},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692534412,"post_id":76934138,"comment_id":135633756,"body_markdown":"... this comment thread is starting to get long. *If your customer fails authentication, you won&#39;t get a charge in the `invoice.payment_failed` events*. Is this something you want to ignore as well ? Only you can answer this question. If you do want to ignore it, good. If you don&#39;t, you&#39;ll need to listen to other events to get more information about why `invoice.payment_failed` triggered.","body":"... this comment thread is starting to get long. <i>If your customer fails authentication, you won&#39;t get a charge in the <code>invoice.payment_failed</code> events</i>. Is this something you want to ignore as well ? Only you can answer this question. If you do want to ignore it, good. If you don&#39;t, you&#39;ll need to listen to other events to get more information about why <code>invoice.payment_failed</code> triggered."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692534737,"post_id":76934138,"comment_id":135633804,"body_markdown":"No if I ignore invoice.payment_failed event so we don&#39;t know subscription payment done or not because we set some Metadata so it is available in invoice.payment_failed event.","body":"No if I ignore invoice.payment_failed event so we don&#39;t know subscription payment done or not because we set some Metadata so it is available in invoice.payment_failed event."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692535042,"post_id":76934138,"comment_id":135633850,"body_markdown":"My question is why stripe send invoice.payment_failed with charge = null in subscription payment succeed. Stripe send first invoice.payment_failed and after some event send invoice.payment_succeded which mention is above comments. In failed scenario stripe send first invoice.payment_failed event with charge = null and after send invoice.payment_failed event with charge = [ charge id]","body":"My question is why stripe send invoice.payment_failed with charge = null in subscription payment succeed. Stripe send first invoice.payment_failed and after some event send invoice.payment_succeded which mention is above comments. In failed scenario stripe send first invoice.payment_failed event with charge = null and after send invoice.payment_failed event with charge = [ charge id]"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692535366,"post_id":76934138,"comment_id":135633886,"body_markdown":"I don&#39;t think we&#39;re understanding each other. I&#39;ve edited my response, hopefully that clears it up.","body":"I don&#39;t think we&#39;re understanding each other. I&#39;ve edited my response, hopefully that clears it up."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692535903,"post_id":76934138,"comment_id":135633955,"body_markdown":"Ok, and sorry for that currentlly i am so confused, tell me one thing how many webhook events  send stripe during/after subscription payment scenario.","body":"Ok, and sorry for that currentlly i am so confused, tell me one thing how many webhook events  send stripe during/after subscription payment scenario."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1692536732,"post_id":76934138,"comment_id":135634061,"body_markdown":"Please check below scenario from your side              generate stripe subscription checkout page using session code I mentioned in above comments and make a subscription payment using stripe testing card which is 4242.... and check the webhook event on stripe dashboard. Checking above scenario in stripe test mode only. Thanks","body":"Please check below scenario from your side              generate stripe subscription checkout page using session code I mentioned in above comments and make a subscription payment using stripe testing card which is 4242.... and check the webhook event on stripe dashboard. Checking above scenario in stripe test mode only. Thanks"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1692542966,"post_id":76934138,"comment_id":135634797,"body_markdown":"I can replicate what you&#39;re seeing if I have the Radar rule &#39;request3DS if supported for card&#39;.  The *4242 card is a bit quirky too. If it needs to be authenticated, it will throw a rare 3DS exception where 3DS is required, doesn&#39;t succeed, but the payment is authenticated anyway (you should see this from the payment&#39;s timeline). Anyway, this is very much normal - as I mentioned, the `invoice.payment_failed`+`charge:null` triggers if additional actions are required. Then, when authentication succeeds (or sort of succeeds, in the case of *4242), `invoice.payment_succeeded` triggers.","body":"I can replicate what you&#39;re seeing if I have the Radar rule &#39;request3DS if supported for card&#39;.  The *4242 card is a bit quirky too. If it needs to be authenticated, it will throw a rare 3DS exception where 3DS is required, doesn&#39;t succeed, but the payment is authenticated anyway (you should see this from the payment&#39;s timeline). Anyway, this is very much normal - as I mentioned, the <code>invoice.payment_failed</code>+<code>charge:null</code> triggers if additional actions are required. Then, when authentication succeeds (or sort of succeeds, in the case of *4242), <code>invoice.payment_succeeded</code> triggers."}],"tags":[],"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"comment_count":25,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692535319,"creation_date":1692432368,"answer_id":76934138,"question_id":76894907,"body_markdown":"&gt; how I can handle this , how to differentiate that so that invoice.payment_failed event not actually failed and not save as a failed entry in my database.\r\n\r\nAs I mentioned, this failure isn&#39;t surfaced at Payment Intent and Charge-level, so you could listen to events for those objects rather than Invoices and solve your problem.\r\n\r\nIf we look at the `invoice.payment_failed` event specifically, it would be sent with `charge:null` if:  \r\n1-The downstream Payment Intent requires additional actions (eg. 3DSecure)  \r\n2-The customer failed this additional action.  \r\n3-The Invoice has no Payment Method to charge (missing or not set as default on Customer / Subscription)  \r\n\r\nIf you&#39;re happy ignoring all of the above scenarios, then feel free to ignore the `invoice.payment_failed` event if it includes `charge:null`.  \r\nIf you don&#39;t want to ignore some of these scenarios (I&#39;m thinking of (2) specifically), then what you should do is listen to other events like `payment_intent.payment_failed` to get more context as to why the `invoice.payment_failed` triggered.","title":"Why stripe first send invoice.payment_failed webhook","body":"<blockquote>\n<p>how I can handle this , how to differentiate that so that invoice.payment_failed event not actually failed and not save as a failed entry in my database.</p>\n</blockquote>\n<p>As I mentioned, this failure isn't surfaced at Payment Intent and Charge-level, so you could listen to events for those objects rather than Invoices and solve your problem.</p>\n<p>If we look at the <code>invoice.payment_failed</code> event specifically, it would be sent with <code>charge:null</code> if:<br />\n1-The downstream Payment Intent requires additional actions (eg. 3DSecure)<br />\n2-The customer failed this additional action.<br />\n3-The Invoice has no Payment Method to charge (missing or not set as default on Customer / Subscription)</p>\n<p>If you're happy ignoring all of the above scenarios, then feel free to ignore the <code>invoice.payment_failed</code> event if it includes <code>charge:null</code>.<br />\nIf you don't want to ignore some of these scenarios (I'm thinking of (2) specifically), then what you should do is listen to other events like <code>payment_intent.payment_failed</code> to get more context as to why the <code>invoice.payment_failed</code> triggered.</p>\n"}],"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76934138,"answer_count":2,"score":-1,"last_activity_date":1692535319,"creation_date":1691955255,"question_id":76894907,"body_markdown":"Why stripe first send invoice.payment_failed webhook webhook event even subscription transaction is successfully completed\r\n\r\nI know in unsuccessful transaction it is common but every transaction(every subscription payment) stripe send invoice.payment_failed. Please explain this why stripe send that event.\r\n\r\nI check stripe webhook event it like \r\nSubscription created\r\nInvoice failed \r\nSo on....\r\nLast checkout session completed ","title":"Why stripe first send invoice.payment_failed webhook","body":"<p>Why stripe first send invoice.payment_failed webhook webhook event even subscription transaction is successfully completed</p>\n<p>I know in unsuccessful transaction it is common but every transaction(every subscription payment) stripe send invoice.payment_failed. Please explain this why stripe send that event.</p>\n<p>I check stripe webhook event it like\nSubscription created\nInvoice failed\nSo on....\nLast checkout session completed</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1692535349,"post_id":76939413,"comment_id":135633883,"body_markdown":"I don&#39;t understand why you would use a &quot;StringListConverter&quot; while JPA 1.0 already support collection type attribute, especially `List&lt;String&gt;`, and allow ... querying on a collection ? see https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#collections","body":"I don&#39;t understand why you would use a &quot;StringListConverter&quot; while JPA 1.0 already support collection type attribute, especially <code>List&lt;String&gt;</code>, and allow ... querying on a collection ? see <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#collections\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.2/userguide/html_single/&hellip;</a>"}],"owner":{"account_id":26342006,"reputation":3,"user_id":20000964,"display_name":"2WB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692535082,"creation_date":1692534956,"question_id":76939413,"body_markdown":"I&#39;m working on a Spring Boot application with MySQL db, where I have several related entities: Listing, Lesson, Classroom, and others. I want to implement a filter endpoint for the Listing entity that allows me to filter results based on various criteria like classroomType, groupLimit, priceFrom, priceTo, languageId, categoryId, lessonStart, lessonEnd, page, and pageLimit. Also a &quot;searchQuery&quot; criteria, which would filter Listings by matching Listing.keywords list. How can I implement such a comprehensive filtering endpoint in Spring Boot?\r\n&lt;br&gt;&lt;br&gt;Additionally, I&#39;m curious if there are any libraries available that could streamline the process of building and managing this kind of filtering functionality.\r\n\r\nThank you in advance for any insights or guidance!\r\n\r\nHere is structure of my entities:\r\n```\r\n@Entity\r\n@Table(name = &quot;listing&quot;)\r\n@Data\r\npublic class Listing {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String title;\r\n\r\n    @Column(nullable = false, length = 2000)\r\n    private String description;\r\n\r\n    @Convert(converter = StringListConverter.class)\r\n    @Column(nullable = false, length = 2000)\r\n    private List&lt;String&gt; keywords;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category_id&quot;, nullable = false)\r\n    private Category category;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;listing_id&quot;)\r\n    private List&lt;Lesson&gt; lessons;\r\n```\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;lesson&quot;)\r\n@Data\r\npublic class Lesson {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;start_date&quot;, nullable = false)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n    private LocalDateTime startDate;\r\n\r\n    @Column(name = &quot;end_date&quot;, nullable = false)\r\n    private LocalDateTime endDate;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;language_id&quot;, nullable = false)\r\n    private Language language;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;classroom_id&quot;, nullable = false)\r\n    private Classroom classroom;\r\n\r\n    @Column(nullable = false)\r\n    private double price;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;classroom&quot;)\r\n@Data\r\npublic class Classroom {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;group_limit&quot;, nullable = false)\r\n    private int groupLimit;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(nullable = false)\r\n    private ClassroomType type;\r\n\r\n}\r\n```\r\n```\r\npublic class Language {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String code;\r\n}\r\n```\r\n\r\n```\r\npublic class Category {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String title;\r\n}\r\n```\r\n```\r\n@Converter\r\npublic class StringListConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n    private static final String SPLIT_CHAR = &quot;;&quot;;\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(List&lt;String&gt; stringList) {\r\n        return stringList != null ? String.join(SPLIT_CHAR, stringList) : &quot;&quot;;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; convertToEntityAttribute(String string) {\r\n        return string != null ? Arrays.asList(string.split(SPLIT_CHAR)) : emptyList();\r\n    }\r\n}\r\n```\r\n\r\n","title":"Nested filtering in spring boot","body":"<p>I'm working on a Spring Boot application with MySQL db, where I have several related entities: Listing, Lesson, Classroom, and others. I want to implement a filter endpoint for the Listing entity that allows me to filter results based on various criteria like classroomType, groupLimit, priceFrom, priceTo, languageId, categoryId, lessonStart, lessonEnd, page, and pageLimit. Also a &quot;searchQuery&quot; criteria, which would filter Listings by matching Listing.keywords list. How can I implement such a comprehensive filtering endpoint in Spring Boot?\n<br><br>Additionally, I'm curious if there are any libraries available that could streamline the process of building and managing this kind of filtering functionality.</p>\n<p>Thank you in advance for any insights or guidance!</p>\n<p>Here is structure of my entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;listing&quot;)\n@Data\npublic class Listing {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String title;\n\n    @Column(nullable = false, length = 2000)\n    private String description;\n\n    @Convert(converter = StringListConverter.class)\n    @Column(nullable = false, length = 2000)\n    private List&lt;String&gt; keywords;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;, nullable = false)\n    private Category category;\n\n    @OneToMany\n    @JoinColumn(name = &quot;listing_id&quot;)\n    private List&lt;Lesson&gt; lessons;\n</code></pre>\n<pre><code>\n@Entity\n@Table(name = &quot;lesson&quot;)\n@Data\npublic class Lesson {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;start_date&quot;, nullable = false)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n    private LocalDateTime startDate;\n\n    @Column(name = &quot;end_date&quot;, nullable = false)\n    private LocalDateTime endDate;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;language_id&quot;, nullable = false)\n    private Language language;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;classroom_id&quot;, nullable = false)\n    private Classroom classroom;\n\n    @Column(nullable = false)\n    private double price;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;classroom&quot;)\n@Data\npublic class Classroom {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;group_limit&quot;, nullable = false)\n    private int groupLimit;\n\n    @Enumerated(EnumType.STRING)\n    @Column(nullable = false)\n    private ClassroomType type;\n\n}\n</code></pre>\n<pre><code>public class Language {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String code;\n}\n</code></pre>\n<pre><code>public class Category {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String title;\n}\n</code></pre>\n<pre><code>@Converter\npublic class StringListConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n    private static final String SPLIT_CHAR = &quot;;&quot;;\n\n    @Override\n    public String convertToDatabaseColumn(List&lt;String&gt; stringList) {\n        return stringList != null ? String.join(SPLIT_CHAR, stringList) : &quot;&quot;;\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute(String string) {\n        return string != null ? Arrays.asList(string.split(SPLIT_CHAR)) : emptyList();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":0,"creation_date":1692534887,"post_id":41368027,"comment_id":135633824,"body_markdown":"Given your explanation, should the sentence in the docs you referred to - `&quot;Unlike JobLauncher (which requires a new JobParameters object that triggers a new JobInstance), if the parameters are different from any previous set of parameters, the startNextInstance method uses the JobParametersIncrementer tied to the Job to force the Job to a new instance:...&quot;` read instead: &quot;Unlike JobLauncher (which requires a new JobParameters object that triggers a new JobInstance), if the parameters are ***not*** different from any previous ...&quot;?","body":"Given your explanation, should the sentence in the docs you referred to - <code>&quot;Unlike JobLauncher (which requires a new JobParameters object that triggers a new JobInstance), if the parameters are different from any previous set of parameters, the startNextInstance method uses the JobParametersIncrementer tied to the Job to force the Job to a new instance:...&quot;</code> read instead: &quot;Unlike JobLauncher (which requires a new JobParameters object that triggers a new JobInstance), if the parameters are <b><i>not</i></b> different from any previous ...&quot;?"},{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":1,"creation_date":1692535459,"post_id":41368027,"comment_id":135633902,"body_markdown":"Also, why, in this case, is the responsibility to add that extra `Job` attribute - incrementer - left to the framework&#39;s user, sounds like the framework should be able to decide to add it internally without any end user&#39;s involvement?  Or am I not reading it right?","body":"Also, why, in this case, is the responsibility to add that extra <code>Job</code> attribute - incrementer - left to the framework&#39;s user, sounds like the framework should be able to decide to add it internally without any end user&#39;s involvement?  Or am I not reading it right?"}],"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1692534189,"creation_date":1482951061,"answer_id":41368027,"question_id":41271606,"body_markdown":"This isn&#39;t a &quot;Boot thing&quot; as much as it is a &quot;Batch thing&quot;.  Spring Batch has the rule that a `JobInstance` can only be run once to completion.  This means that for each combination of identifying job parameters, you can only have one `JobExecution` that results in `COMPLETE`.  A `RunIdIncrementer` will append an additional, unique parameter to the list of parameters so that the resulting combination would be unique...giving you a new `JobInstance` each time you ran the job with the same combination of identifying parameters.\r\n\r\nThe `RunIdIncrementer` is really just a special case of the `JobParametersIncrementer` which you can read more about in our documentation [here][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#JobParametersIncrementer","title":"What is the function of JobBuilderFactory.get(job).incrementer(RunIdIncrementer)?","body":"<p>This isn't a &quot;Boot thing&quot; as much as it is a &quot;Batch thing&quot;.  Spring Batch has the rule that a <code>JobInstance</code> can only be run once to completion.  This means that for each combination of identifying job parameters, you can only have one <code>JobExecution</code> that results in <code>COMPLETE</code>.  A <code>RunIdIncrementer</code> will append an additional, unique parameter to the list of parameters so that the resulting combination would be unique...giving you a new <code>JobInstance</code> each time you ran the job with the same combination of identifying parameters.</p>\n<p>The <code>RunIdIncrementer</code> is really just a special case of the <code>JobParametersIncrementer</code> which you can read more about in our documentation <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#JobParametersIncrementer\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":4269612,"reputation":1054,"user_id":3491770,"accept_rate":88,"display_name":"LumberSzquatch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20127,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":41368027,"answer_count":1,"score":13,"last_activity_date":1692534189,"creation_date":1482353164,"question_id":41271606,"body_markdown":"I&#39;m developing a Spring-Batch project using Spring-Boot and everything is going along nicely. I&#39;ve done a few spring-batch examples (including some from spring.io), but I&#39;m not sure what some of the stuff does, and &quot;it just works&quot; doesn&#39;t satiate me.\r\n\r\nMy spring boot main class implements `CommandLineRunner` and for this particular job the initial set up looked like \r\n\r\n\t@Bean\r\n\tpublic Job myJob(JobExecutionListenerSupport listener) {\r\n\t\treturn myJobBuilderFactory.get(JOB)\r\n                .listener(listener)\r\n\t\t\t\t.start(myStep())\r\n                .build();\r\n\t}\r\n\r\nWhich caused \r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:809) ~[spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:790) ~[spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:777) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.bjc.providermodel.maintenance.MaintenanceApplication.main(MaintenanceApplication.java:20) [classes/:?]\r\n    Caused by: org.springframework.batch.core.repository.JobExecutionAlreadyRunningException: A job execution for this job is already running: JobInstance: id=99, version=0, Job=[myJob]\r\n   \r\nWhy does changing the above bean to\r\n\r\n    @Bean\r\n    public Job myJob(JobExecutionListenerSupport listener) {\r\n    \treturn myJobBuilderFactory.get(JOB)\r\n    \t\t\t.incrementer(new RunIdIncrementer())\r\n                .listener(listener)\r\n    \t\t\t.start(myStep())\r\n                .build();\r\n    }\r\nMake everything go smoothly? I attempted to read up on the doc for `RunIdIncrementer` and also read up a little [here](http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/core/launch/support/CommandLineJobRunner.html). From what I can tell it needs this incrementer to keep track of a particular set of jobs that are running to do &quot;stuff&quot;, but not sure what stuff is exactly. The Spring-Boot abstraction is making it hard for me to know what&#39;s going on here","title":"What is the function of JobBuilderFactory.get(job).incrementer(RunIdIncrementer)?","body":"<p>I'm developing a Spring-Batch project using Spring-Boot and everything is going along nicely. I've done a few spring-batch examples (including some from spring.io), but I'm not sure what some of the stuff does, and \"it just works\" doesn't satiate me.</p>\n\n<p>My spring boot main class implements <code>CommandLineRunner</code> and for this particular job the initial set up looked like </p>\n\n<pre><code>@Bean\npublic Job myJob(JobExecutionListenerSupport listener) {\n    return myJobBuilderFactory.get(JOB)\n            .listener(listener)\n            .start(myStep())\n            .build();\n}\n</code></pre>\n\n<p>Which caused </p>\n\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:809) ~[spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:790) ~[spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:777) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.bjc.providermodel.maintenance.MaintenanceApplication.main(MaintenanceApplication.java:20) [classes/:?]\nCaused by: org.springframework.batch.core.repository.JobExecutionAlreadyRunningException: A job execution for this job is already running: JobInstance: id=99, version=0, Job=[myJob]\n</code></pre>\n\n<p>Why does changing the above bean to</p>\n\n<pre><code>@Bean\npublic Job myJob(JobExecutionListenerSupport listener) {\n    return myJobBuilderFactory.get(JOB)\n            .incrementer(new RunIdIncrementer())\n            .listener(listener)\n            .start(myStep())\n            .build();\n}\n</code></pre>\n\n<p>Make everything go smoothly? I attempted to read up on the doc for <code>RunIdIncrementer</code> and also read up a little <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/core/launch/support/CommandLineJobRunner.html\" rel=\"noreferrer\">here</a>. From what I can tell it needs this incrementer to keep track of a particular set of jobs that are running to do \"stuff\", but not sure what stuff is exactly. The Spring-Boot abstraction is making it hard for me to know what's going on here</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":1511501,"reputation":129,"user_id":1413502,"accept_rate":91,"display_name":"Ruminator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692533906,"creation_date":1628631581,"answer_id":68733744,"question_id":68686181,"body_markdown":"Turns out, I needed to make sure that the files were open before hitting the processor.  What I did was set up two Tasklets - one to open the file, and one to close the file, and then added them to the job configuration as appropriate (```Open``` before the regular step, and ```Close``` after the regular step).\r\n\r\n**Tasklets:**\r\n\r\n```\r\npublic class OpenSubFileTask implements Tasklet {\r\n \r\n      @Autowired\r\n      SingleItemPeekableItemReader&lt;Data&gt; readerPeek;\r\n \r\n \r\n      public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception\r\n      {\r\n      readerPeek.open(contribution.getStepExecution().getExecutionContext());\r\n            return RepeatStatus.FINISHED;\r\n      }    \r\n \r\npublic class CloseSubFileTask implements Tasklet {\r\n      @Autowired\r\n      SingleItemPeekableItemReader&lt;Data&gt; readerPeek;\r\n \r\n      public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception\r\n      {\r\n            readerPeek.close();\r\n            return RepeatStatus.FINISHED;\r\n      }   \r\n}\r\n```\r\n\r\n**Job Configuration:**\r\n```\r\n      @Bean\r\n      public Job importUserJob(JobNotificationListener listener,\r\n                  Step stepOpen, Step stepClose, Step step1) {   \r\n            return jobBuilderFactory.get(&quot;importUserJob&quot;)\r\n                        .incrementer(new RunIdIncrementer())\r\n                        .listener(listener)\r\n                        .start(stepOpen)\r\n                        .next(step1)\r\n                        .next(stepClose)\r\n                        .build();\r\n      }\r\n```","title":"Spring Batch - using SingleItemPeekableItemReader to make a pseudo-DB from a flat file","body":"<p>Turns out, I needed to make sure that the files were open before hitting the processor.  What I did was set up two Tasklets - one to open the file, and one to close the file, and then added them to the job configuration as appropriate (<code>Open</code> before the regular step, and <code>Close</code> after the regular step).</p>\n<p><strong>Tasklets:</strong></p>\n<pre><code>public class OpenSubFileTask implements Tasklet {\n \n      @Autowired\n      SingleItemPeekableItemReader&lt;Data&gt; readerPeek;\n \n \n      public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception\n      {\n      readerPeek.open(contribution.getStepExecution().getExecutionContext());\n            return RepeatStatus.FINISHED;\n      }    \n \npublic class CloseSubFileTask implements Tasklet {\n      @Autowired\n      SingleItemPeekableItemReader&lt;Data&gt; readerPeek;\n \n      public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception\n      {\n            readerPeek.close();\n            return RepeatStatus.FINISHED;\n      }   \n}\n</code></pre>\n<p><strong>Job Configuration:</strong></p>\n<pre><code>      @Bean\n      public Job importUserJob(JobNotificationListener listener,\n                  Step stepOpen, Step stepClose, Step step1) {   \n            return jobBuilderFactory.get(&quot;importUserJob&quot;)\n                        .incrementer(new RunIdIncrementer())\n                        .listener(listener)\n                        .start(stepOpen)\n                        .next(step1)\n                        .next(stepClose)\n                        .build();\n      }\n</code></pre>\n"}],"owner":{"account_id":1511501,"reputation":129,"user_id":1413502,"accept_rate":91,"display_name":"Ruminator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68733744,"answer_count":1,"score":0,"last_activity_date":1692533906,"creation_date":1628274914,"question_id":68686181,"body_markdown":"I have a requirement to rewrite an existing application with Spring Batch that reads from multiple flat files, does processing, and then writes data back out to flat files.\r\n\r\nThe first input file contains key data, and the remaining input files may, or may not, contain transaction data for the key from the first file.  I was thinking that it would make sense to use a ```FlatFileItemReader``` to get the key data, and use a series of ```SingleItemPeekableItemReader``` in the processor to build the transaction data and add it to the *Data* object (using the peekable reader since the key may not be in the extra files - yes, the files come pre-sorted).\r\n\r\n***Pseudocode***\r\n\r\n```\r\nwhile(&lt;more data&gt;) {\r\n  while (data.getKey() == peekablePeek.getKey()) {\r\n     data.addTransaction(peekable.read());\r\n     // repeat for each transaction file  \r\n  }\r\n  // do regular processing for transactions (which will update &lt;data&gt; object fields based)\r\n``` \r\nIs this even possible?  I tried injecting a ```SingleItemPeekableItemReader``` into the ```ItemProcessor``` but that just gets a ```Reader not Open``` exception when the processor tries to do the peek.\r\n\r\nAny ideas would be greatly appreciated.\r\n","title":"Spring Batch - using SingleItemPeekableItemReader to make a pseudo-DB from a flat file","body":"<p>I have a requirement to rewrite an existing application with Spring Batch that reads from multiple flat files, does processing, and then writes data back out to flat files.</p>\n<p>The first input file contains key data, and the remaining input files may, or may not, contain transaction data for the key from the first file.  I was thinking that it would make sense to use a <code>FlatFileItemReader</code> to get the key data, and use a series of <code>SingleItemPeekableItemReader</code> in the processor to build the transaction data and add it to the <em>Data</em> object (using the peekable reader since the key may not be in the extra files - yes, the files come pre-sorted).</p>\n<p><em><strong>Pseudocode</strong></em></p>\n<pre><code>while(&lt;more data&gt;) {\n  while (data.getKey() == peekablePeek.getKey()) {\n     data.addTransaction(peekable.read());\n     // repeat for each transaction file  \n  }\n  // do regular processing for transactions (which will update &lt;data&gt; object fields based)\n</code></pre>\n<p>Is this even possible?  I tried injecting a <code>SingleItemPeekableItemReader</code> into the <code>ItemProcessor</code> but that just gets a <code>Reader not Open</code> exception when the processor tries to do the peek.</p>\n<p>Any ideas would be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":29192025,"reputation":50,"user_id":22363965,"display_name":"Hammy1985"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692533361,"creation_date":1692533361,"answer_id":76939322,"question_id":76931964,"body_markdown":"Yes, there is.\r\nPlease note first that you have much more options. All details are mentioned [here][1]\r\n\r\nAnswer to your question:\r\n[Importing Additional Data][2]\r\n\r\n    spring.application.name=myapp\r\n    spring.config.import=optional:file:./dev.properties\r\n\r\nThe imported properties will take precedence. The position of the import within the file doesn&#39;t matter.\r\n\r\nI still suggest to check the documentation for completeness.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.importing","title":"How to access external file from application.properties","body":"<p>Yes, there is.\nPlease note first that you have much more options. All details are mentioned <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Answer to your question:\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.importing\" rel=\"nofollow noreferrer\">Importing Additional Data</a></p>\n<pre><code>spring.application.name=myapp\nspring.config.import=optional:file:./dev.properties\n</code></pre>\n<p>The imported properties will take precedence. The position of the import within the file doesn't matter.</p>\n<p>I still suggest to check the documentation for completeness.</p>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76939322,"answer_count":1,"score":1,"last_activity_date":1692533361,"creation_date":1692385041,"question_id":76931964,"body_markdown":"Is there a way to access values of another file from `application.properties`?\r\n\r\nLet&#39;s say I have this `application.properties`:\r\n\r\n```\r\nspring.datasource.url=mydb\r\nspring.datasource.username=myuser\r\nspring.datasource.password=mypwd\r\n```\r\n\r\nInstead I would like to have two files\r\n\r\napplication.properties\r\n\r\n```\r\nexternal-file=\\mysecondfile.properties  //external file from where to get the actual values\r\nspring.datasource.url={url} //url from spring.datasource.url property in mysecondfile.properties \r\nspring.datasource.username={username} //username from spring.datasource.url property in mysecondfile.properties\r\nspring.datasource.password={password}  //password from spring.datasource.url property in mysecondfile.properties\r\n```\r\n\r\n\r\nmysecondfile.properties\r\n\r\n```\r\nspring.datasource.url=mydb\r\nspring.datasource.username=myuser\r\nspring.datasource.password=mypwd\r\n```\r\n\r\n`mysecondfile.properties` could be of other format as well `(.txt, .xml, .yml...)`. The only requirement it&#39;s to be able to acess it&#39;s content like the example above.\r\n\r\n","title":"How to access external file from application.properties","body":"<p>Is there a way to access values of another file from <code>application.properties</code>?</p>\n<p>Let's say I have this <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=mydb\nspring.datasource.username=myuser\nspring.datasource.password=mypwd\n</code></pre>\n<p>Instead I would like to have two files</p>\n<p>application.properties</p>\n<pre><code>external-file=\\mysecondfile.properties  //external file from where to get the actual values\nspring.datasource.url={url} //url from spring.datasource.url property in mysecondfile.properties \nspring.datasource.username={username} //username from spring.datasource.url property in mysecondfile.properties\nspring.datasource.password={password}  //password from spring.datasource.url property in mysecondfile.properties\n</code></pre>\n<p>mysecondfile.properties</p>\n<pre><code>spring.datasource.url=mydb\nspring.datasource.username=myuser\nspring.datasource.password=mypwd\n</code></pre>\n<p><code>mysecondfile.properties</code> could be of other format as well <code>(.txt, .xml, .yml...)</code>. The only requirement it's to be able to acess it's content like the example above.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692467049,"creation_date":1692455813,"answer_id":76935636,"question_id":76935397,"body_markdown":"`class` is a keyword in Java. You cannot use it as a variable name.\r\n\r\nHere is a list of other keywords, and a deeper dive into their rules.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html\r\n\r\nAnd here is a more up-to-date list -- https://en.wikipedia.org/wiki/List_of_Java_keywords\r\n\r\n**EDIT** - In situations like this, I like to use `eachClass`, or something like that.","title":"forEach mehod token ,invalid TypeElidedFormalParameter","body":"<p><code>class</code> is a keyword in Java. You cannot use it as a variable name.</p>\n<p>Here is a list of other keywords, and a deeper dive into their rules.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html</a></p>\n<p>And here is a more up-to-date list -- <a href=\"https://en.wikipedia.org/wiki/List_of_Java_keywords\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/List_of_Java_keywords</a></p>\n<p><strong>EDIT</strong> - In situations like this, I like to use <code>eachClass</code>, or something like that.</p>\n"}],"owner":{"account_id":23587351,"reputation":60,"user_id":17625629,"display_name":"Vled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76935636,"answer_count":1,"score":1,"last_activity_date":1692531156,"creation_date":1692452509,"question_id":76935397,"body_markdown":"I have a method `getListOfTags()` that returns a `Set&lt;String&gt;`. I have a method `getListOfClasses()` that also returns a `Set&lt;String&gt;`.\r\n\r\nI tried to combine them in one by using the forEach method:\r\n\r\n    scraper.getListOfTags(globalDocument).forEach(tag -&gt; tagsAndClasses.add(tag));\r\n    scraper.getListOfClasses(globalDocument).forEach(class -&gt; tagsAndClasses.add(class));\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn the second forEach, the class variable name gets underlined and I get this error:\r\n\r\n&gt; Syntax error on token &quot;class&quot;, invalid TypeElidedFormalParameter\r\n\r\nWhen I change the variable name to e.g. `classes` the problem goes away. Why is it that I can&#39;t name my variable `class`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MJiu9.png","title":"forEach mehod token ,invalid TypeElidedFormalParameter","body":"<p>I have a method <code>getListOfTags()</code> that returns a <code>Set&lt;String&gt;</code>. I have a method <code>getListOfClasses()</code> that also returns a <code>Set&lt;String&gt;</code>.</p>\n<p>I tried to combine them in one by using the forEach method:</p>\n<pre><code>scraper.getListOfTags(globalDocument).forEach(tag -&gt; tagsAndClasses.add(tag));\nscraper.getListOfClasses(globalDocument).forEach(class -&gt; tagsAndClasses.add(class));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MJiu9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MJiu9.png\" alt=\"enter image description here\" /></a></p>\n<p>On the second forEach, the class variable name gets underlined and I get this error:</p>\n<blockquote>\n<p>Syntax error on token &quot;class&quot;, invalid TypeElidedFormalParameter</p>\n</blockquote>\n<p>When I change the variable name to e.g. <code>classes</code> the problem goes away. Why is it that I can't name my variable <code>class</code>?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":8318581,"reputation":48,"user_id":6251063,"display_name":"FrankT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472639435,"creation_date":1472568516,"answer_id":39230721,"question_id":39207507,"body_markdown":"This is probably not very save and could break every time DatePicker gets updated. But lets assume that does not happen :)\r\n\r\nIf you look at the code of DatePicker, you can see that it structure is roughly:\r\n    \r\n\r\n - DatePickerContent    (*VBox*)\r\n-\tMonthYearPane (*BorderPane*)\r\n-\tGridPane\r\n     -\tContains the Buttons, which are of type *DateCell*\r\n\r\nSo we can write a function to search the content of the *DatePicker* and find all the *DateCells*. Since they are being reused we need to do this only once. We can then attach an event listener to each *DateCell*\r\n\r\n\t\t...\r\n        List&lt;DateCell&gt; dateCells = getAllDateCells(pop);\r\n        DatePickerSkin datePickerSkin = new DatePickerSkin(new DatePicker(LocalDate.now()));\r\n        DatePickerContent pop = (DatePickerContent)datePickerSkin.getPopupContent();\r\n        pop.setPrefHeight(zig8.getPrefHeight());\r\n        pop.setPrefWidth(zig8.getPrefWidth());\r\n        zig8.getChildren().add(pop);\r\n     \r\n        List&lt;DateCell&gt; dateCells = getAllDateCells(pop);\r\n     \r\n        for (DateCell cell : dateCells)\r\n        {\r\n            cell.addEventHandler(\r\n                    MouseEvent.MOUSE_PRESSED,(e)-&gt;\r\n                    {\r\n                        System.out.println(&quot;Mouse clicked :&quot; + cell.getItem());\r\n                    }\r\n            );\r\n        }\r\n\t\t...\r\n\t\t\r\n\t\t\r\n\t\t\r\n     private static List&lt;DateCell&gt; getAllDateCells(DatePickerContent content)\r\n     {\r\n         List&lt;DateCell&gt; result = new ArrayList&lt;&gt;();\r\n     \r\n         for (Node n : content.getChildren())\r\n         {\r\n             System.out.println(&quot;node &quot; + n + n.getClass());\r\n             if (n instanceof GridPane)\r\n             {\r\n                 GridPane grid = (GridPane) n;\r\n                 for (Node gChild : grid.getChildren())\r\n                 {\r\n                     System.out.println(&quot;grid node: &quot; + gChild + gChild.getClass());\r\n                     if (gChild instanceof DateCell)\r\n                     {\r\n                         result.add((DateCell) gChild);\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n     \r\n         return result;\r\n     }\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\nSince DateCell derives from Cell&lt;&gt; it knows its current date and we can use getItem to figure out the date\r\n\r\n\r\n**Alternative:**\r\nYou could probably get access to the protected DateCell List in DatePickerContent by using Reflection.\r\n\r\n    protected List&lt;DateCell&gt; dayCells = new ArrayList&lt;DateCell&gt;();\r\n","title":"How to get value from a DatePickerSkin in JavaFX","body":"<p>This is probably not very save and could break every time DatePicker gets updated. But lets assume that does not happen :)</p>\n\n<p>If you look at the code of DatePicker, you can see that it structure is roughly:</p>\n\n<ul>\n<li>DatePickerContent    (<em>VBox</em>)\n\n<ul>\n<li>MonthYearPane (<em>BorderPane</em>)</li>\n<li>GridPane\n\n<ul>\n<li>Contains the Buttons, which are of type <em>DateCell</em></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>So we can write a function to search the content of the <em>DatePicker</em> and find all the <em>DateCells</em>. Since they are being reused we need to do this only once. We can then attach an event listener to each <em>DateCell</em></p>\n\n<pre><code>    ...\n    List&lt;DateCell&gt; dateCells = getAllDateCells(pop);\n    DatePickerSkin datePickerSkin = new DatePickerSkin(new DatePicker(LocalDate.now()));\n    DatePickerContent pop = (DatePickerContent)datePickerSkin.getPopupContent();\n    pop.setPrefHeight(zig8.getPrefHeight());\n    pop.setPrefWidth(zig8.getPrefWidth());\n    zig8.getChildren().add(pop);\n\n    List&lt;DateCell&gt; dateCells = getAllDateCells(pop);\n\n    for (DateCell cell : dateCells)\n    {\n        cell.addEventHandler(\n                MouseEvent.MOUSE_PRESSED,(e)-&gt;\n                {\n                    System.out.println(\"Mouse clicked :\" + cell.getItem());\n                }\n        );\n    }\n    ...\n\n\n\n private static List&lt;DateCell&gt; getAllDateCells(DatePickerContent content)\n {\n     List&lt;DateCell&gt; result = new ArrayList&lt;&gt;();\n\n     for (Node n : content.getChildren())\n     {\n         System.out.println(\"node \" + n + n.getClass());\n         if (n instanceof GridPane)\n         {\n             GridPane grid = (GridPane) n;\n             for (Node gChild : grid.getChildren())\n             {\n                 System.out.println(\"grid node: \" + gChild + gChild.getClass());\n                 if (gChild instanceof DateCell)\n                 {\n                     result.add((DateCell) gChild);\n                 }\n             }\n         }\n     }\n\n     return result;\n }      \n</code></pre>\n\n<p>Since DateCell derives from Cell&lt;> it knows its current date and we can use getItem to figure out the date</p>\n\n<p><strong>Alternative:</strong>\nYou could probably get access to the protected DateCell List in DatePickerContent by using Reflection.</p>\n\n<pre><code>protected List&lt;DateCell&gt; dayCells = new ArrayList&lt;DateCell&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":307654,"reputation":3081,"user_id":619076,"accept_rate":80,"display_name":"sigurd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692530684,"creation_date":1692530684,"answer_id":76939153,"question_id":39207507,"body_markdown":"You can read and write value from the datepicker you provided in the DatePickerSkin constructor:\r\n\r\n```java\r\nvar datepicker = new DatePicker();\r\nvar skin = new DatePickerSkin(datepicker);\r\n\r\n// read value\r\ndatepicker.getValue();\r\n\r\n// write value\r\ndatepicker.setValue(LocalDate.now());\r\n\r\n// bind value property\r\ndatepicker.valueProperty().bind(...);\r\n```","title":"How to get value from a DatePickerSkin in JavaFX","body":"<p>You can read and write value from the datepicker you provided in the DatePickerSkin constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var datepicker = new DatePicker();\nvar skin = new DatePickerSkin(datepicker);\n\n// read value\ndatepicker.getValue();\n\n// write value\ndatepicker.setValue(LocalDate.now());\n\n// bind value property\ndatepicker.valueProperty().bind(...);\n</code></pre>\n"}],"owner":{"account_id":8645660,"reputation":530,"user_id":6472929,"accept_rate":46,"display_name":"Wafula Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692530684,"creation_date":1472477267,"question_id":39207507,"body_markdown":"I have these codes for extracting a datepickerskin from a datepicker and place it in an anchorpane. It works well but my problem is how do i get the value from it? Say, when you click on a number like 8 and get the value as a date, just like the datepicker itself?\r\nHere is my code: zig8 is the anchopane.\r\n\r\n     DatePickerSkin datePickerSkin = new DatePickerSkin(new DatePicker(LocalDate.now()));\r\n     Region pop = (Region)datePickerSkin.getPopupContent();\r\n     pop.setPrefHeight(zig8.getPrefHeight());\r\n     pop.setPrefWidth(zig8.getPrefWidth());\r\n     zig8.getChildren().add(pop);\r\nI tried to attach a mouse event this way:\r\n\r\n     pop.addEventHandler(MouseEvent.MOUSE_CLICKED,(e)-&gt;\r\n     {\r\n             //a code to get the value.\r\n\r\n     });\r\nThanks....","title":"How to get value from a DatePickerSkin in JavaFX","body":"<p>I have these codes for extracting a datepickerskin from a datepicker and place it in an anchorpane. It works well but my problem is how do i get the value from it? Say, when you click on a number like 8 and get the value as a date, just like the datepicker itself?\nHere is my code: zig8 is the anchopane.</p>\n\n<pre><code> DatePickerSkin datePickerSkin = new DatePickerSkin(new DatePicker(LocalDate.now()));\n Region pop = (Region)datePickerSkin.getPopupContent();\n pop.setPrefHeight(zig8.getPrefHeight());\n pop.setPrefWidth(zig8.getPrefWidth());\n zig8.getChildren().add(pop);\n</code></pre>\n\n<p>I tried to attach a mouse event this way:</p>\n\n<pre><code> pop.addEventHandler(MouseEvent.MOUSE_CLICKED,(e)-&gt;\n {\n         //a code to get the value.\n\n });\n</code></pre>\n\n<p>Thanks....</p>\n"},{"tags":["java","powershell"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692483640,"post_id":76937251,"comment_id":135630043,"body_markdown":"Why in a loop ?","body":"Why in a loop ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1692483762,"post_id":76937251,"comment_id":135630052,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692485174,"post_id":76937251,"comment_id":135630167,"body_markdown":"`while ($true) { &amp; java -jar some_program.jar &quot;&lt;path&gt;&quot; }` ?","body":"<code>while ($true) { &amp; java -jar some_program.jar &quot;&lt;path&gt;&quot; }</code> ?"},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":1,"creation_date":1692485405,"post_id":76937251,"comment_id":135630182,"body_markdown":"Please show your attempt to use a loop and clarify in what way it didn&#39;t work.","body":"Please show your attempt to use a loop and clarify in what way it didn&#39;t work."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1692511041,"post_id":76937251,"comment_id":135631684,"body_markdown":"[How to Use PowerShell For Loop, While Loop, and Other Loops](https://petri.com/how-to-use-powershell-for-while-loops/).","body":"<a href=\"https://petri.com/how-to-use-powershell-for-while-loops/\" rel=\"nofollow noreferrer\">How to Use PowerShell For Loop, While Loop, and Other Loops</a>."},{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1692530072,"post_id":76937251,"comment_id":135633287,"body_markdown":"Read up on the Call Operator &amp; inside this [Helpfile](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_operators?view=powershell-7.3)","body":"Read up on the Call Operator &amp; inside this <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_operators?view=powershell-7.3\" rel=\"nofollow noreferrer\">Helpfile</a>"}],"answers":[{"tags":[],"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692530655,"creation_date":1692530655,"answer_id":76939150,"question_id":76937251,"body_markdown":"An alternative approach is to generate the java commands inside a loop and write them to a script file for later execution.  Each java command will have been resolved into the kind of command that works under the powershell commandprompt.\r\n\r\nSomething similar is done in one of the demo examples for my template engine,  expand-csv.  The demo follows in a block.  Expand-csv is not relevant here, but you can view the repo of it in Github.com/Dcressey/Expand-Csv where this demo is one of two offered.  \r\n\r\n        Example 1:  CSV File\r\n        --------------------\r\n        \r\n    NAME,ID\r\n    John,18\r\n    Dave,19\r\n    Carmen,20\r\n    Eric,21\r\n    Tom,22\r\n    Lisa,23\r\n    Kyle,24\r\n       \r\n        Viewed as a table\r\n        \r\n    \r\n    NAME   ID\r\n    ----   --\r\n    John   18\r\n    Dave   19\r\n    Carmen 20\r\n    Eric   21\r\n    Tom    22\r\n    Lisa   23\r\n    Kyle   24\r\n    \r\n    \r\n        \r\n        Example 1:  Template\r\n        --------------------\r\n        \r\n    &amp; java -jar --create -user $name -id $id -file D:/HR/$name-$id-form.pdf\r\n        \r\n        Example 1:  Results\r\n        -------------------\r\n    &amp; java -jar --create -user John -id 18 -file D:/HR/John-18-form.pdf\r\n    &amp; java -jar --create -user Dave -id 19 -file D:/HR/Dave-19-form.pdf\r\n    &amp; java -jar --create -user Carmen -id 20 -file D:/HR/Carmen-20-form.pdf\r\n    &amp; java -jar --create -user Eric -id 21 -file D:/HR/Eric-21-form.pdf\r\n    &amp; java -jar --create -user Tom -id 22 -file D:/HR/Tom-22-form.pdf\r\n    &amp; java -jar --create -user Lisa -id 23 -file D:/HR/Lisa-23-form.pdf\r\n    &amp; java -jar --create -user Kyle -id 24 -file D:/HR/Kyle-24-form.pdf\r\n\r\n","title":"java jar command in powershell script","body":"<p>An alternative approach is to generate the java commands inside a loop and write them to a script file for later execution.  Each java command will have been resolved into the kind of command that works under the powershell commandprompt.</p>\n<p>Something similar is done in one of the demo examples for my template engine,  expand-csv.  The demo follows in a block.  Expand-csv is not relevant here, but you can view the repo of it in Github.com/Dcressey/Expand-Csv where this demo is one of two offered.</p>\n<pre><code>    Example 1:  CSV File\n    --------------------\n    \nNAME,ID\nJohn,18\nDave,19\nCarmen,20\nEric,21\nTom,22\nLisa,23\nKyle,24\n   \n    Viewed as a table\n    \n\nNAME   ID\n----   --\nJohn   18\nDave   19\nCarmen 20\nEric   21\nTom    22\nLisa   23\nKyle   24\n\n\n    \n    Example 1:  Template\n    --------------------\n    \n&amp; java -jar --create -user $name -id $id -file D:/HR/$name-$id-form.pdf\n    \n    Example 1:  Results\n    -------------------\n&amp; java -jar --create -user John -id 18 -file D:/HR/John-18-form.pdf\n&amp; java -jar --create -user Dave -id 19 -file D:/HR/Dave-19-form.pdf\n&amp; java -jar --create -user Carmen -id 20 -file D:/HR/Carmen-20-form.pdf\n&amp; java -jar --create -user Eric -id 21 -file D:/HR/Eric-21-form.pdf\n&amp; java -jar --create -user Tom -id 22 -file D:/HR/Tom-22-form.pdf\n&amp; java -jar --create -user Lisa -id 23 -file D:/HR/Lisa-23-form.pdf\n&amp; java -jar --create -user Kyle -id 24 -file D:/HR/Kyle-24-form.pdf\n</code></pre>\n"}],"owner":{"account_id":29259071,"reputation":11,"user_id":22416518,"display_name":"negativeattitude"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692530655,"creation_date":1692483535,"question_id":76937251,"body_markdown":"I have been struggling with this problem since a couple days.\r\n\r\nHere is a some java command i execute in powershell and from cmd shell it works perfectly:\r\n\r\n\r\n```\r\njava -jar some_program.jar &quot;C:\\Users\\the_path_to_screenshot_folder\\&quot;\r\n\r\n```\r\n\r\nNow the problem is that I want to make a powershell script to put the command above into a loop but its not that easy. I have tried to put this command in variable but it doesnt work, also tried Start-Process embedded function, Start-Job but all these attempts failed. Do u have any suggestion how to solve this issue?\r\n\r\n\r\nTried:\r\n- Start-Process powershell function\r\n- Start-Job prowershell function\r\n- put command into variable","title":"java jar command in powershell script","body":"<p>I have been struggling with this problem since a couple days.</p>\n<p>Here is a some java command i execute in powershell and from cmd shell it works perfectly:</p>\n<pre><code>java -jar some_program.jar &quot;C:\\Users\\the_path_to_screenshot_folder\\&quot;\n\n</code></pre>\n<p>Now the problem is that I want to make a powershell script to put the command above into a loop but its not that easy. I have tried to put this command in variable but it doesnt work, also tried Start-Process embedded function, Start-Job but all these attempts failed. Do u have any suggestion how to solve this issue?</p>\n<p>Tried:</p>\n<ul>\n<li>Start-Process powershell function</li>\n<li>Start-Job prowershell function</li>\n<li>put command into variable</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"score":0,"creation_date":1692430832,"post_id":76933655,"comment_id":135624635,"body_markdown":"hi Akash, Can you please provide other classes like UserServiceDetailsImpl, JwtUtils.   \n It will be better if you can upload your code to GitHub and provide the link","body":"hi Akash, Can you please provide other classes like UserServiceDetailsImpl, JwtUtils.     It will be better if you can upload your code to GitHub and provide the link"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692440975,"post_id":76933655,"comment_id":135625565,"body_markdown":"using jwts as sessions is dangerous and should not be done, stop following bad tutorials from people that dont know security and instead read the spring security documentation and implement security correctly.","body":"using jwts as sessions is dangerous and should not be done, stop following bad tutorials from people that dont know security and instead read the spring security documentation and implement security correctly."}],"answers":[{"tags":[],"owner":{"account_id":10942924,"reputation":27,"user_id":8359786,"display_name":"YuliyaD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692529969,"creation_date":1692529969,"answer_id":76939114,"question_id":76933655,"body_markdown":"It looks like Spring Security has no knowledge that jwtAuthenticationFilter is an authentication filter - you extend it from OncePerRequestFilter. Have you tried extending BasicAuthenticationFilter or AuthenticationFilter ?\r\n\r\nThere is also another option - you can specify allowed urls in the filter itself.","title":"Spring Security : Custom filter (JwtAuthenticationFilter) is being called even when i have set specific endpoints to permitAll property","body":"<p>It looks like Spring Security has no knowledge that jwtAuthenticationFilter is an authentication filter - you extend it from OncePerRequestFilter. Have you tried extending BasicAuthenticationFilter or AuthenticationFilter ?</p>\n<p>There is also another option - you can specify allowed urls in the filter itself.</p>\n"}],"owner":{"account_id":29198455,"reputation":1,"user_id":22369075,"display_name":"Akash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692529969,"creation_date":1692421505,"question_id":76933655,"body_markdown":"i have used spring security to secure my endpoints now i am configuring my web app to expose specific end points so that no custom filter is being applied on those end point but even though i have given permitAll property too these endpoints custom filters are being applied on these end points. i have also noticed a behavious that even if i remove the property of addFilterBefore from my config class such that there is no mentioning of JwtAuthenticationFiter then also this filter is being executed upon call of these end points.\r\n\r\nendpoints i want to expose are (/api/users/generate-token) post method\r\nthis is to generate token for the first time user logs in and it makes no sense to apply jwt autthentication filter on this request\r\n\r\nalso endpoint (api/user/register) for user to sign up  here also it makes no sense to apply jwt autthentication filter on this request\r\n\r\ni am new to java and spring 6 and i am stuck badly and am not able to make any progress from past 3 days.\r\n\r\nyour help is very much appreciated.\r\n\r\n\r\n\r\ni tried to add security filter chain to expose these particular end points and add JwtAuthenticationFilter before every other endpoint request.\r\n\r\nand i was expecting to get a generated token as a response when i make post request to &quot;/api/users/generate-token&quot; with correct credentials.\r\n\r\n```\r\nSecurityConfig class\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n\r\n    @Autowired\r\n    private PasswordEncoderConfig passwordEncoderConfig;\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\r\n    @Autowired\r\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n\r\n\r\n\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .csrf(csrf-&gt;csrf.disable())\r\n                .cors(cors-&gt;cors.disable())\r\n                .authorizeHttpRequests(\r\n                        auth-&gt;auth.requestMatchers(&quot;/api/users/generate-token&quot;, &quot;/api/users/register&quot;).permitAll()\r\n                                  .requestMatchers(HttpMethod.OPTIONS).permitAll()\r\n                                  .anyRequest().authenticated())\r\n                .exceptionHandling((ex)-&gt;ex.authenticationEntryPoint(unauthorizedHandler))\r\n                .sessionManagement((session)-&gt;session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n        http\r\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n        System.out.println(&quot;http configuration is being used&quot;);\r\n//\r\n\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoderConfig.passwordEncoder());\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nJwtAuthenticationFilter class\r\n@Component\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsServiceImpl;\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n        System.out.println(&quot;jwt authentication fliter is being called&quot;);\r\n\r\n        String username = null;\r\n        String jwtToken = null;\r\n        if(requestTokenHeader!=null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer&quot;)){\r\n            jwtToken = requestTokenHeader.substring(7);\r\n            try {\r\n                username = this.jwtUtil.extractUsername(jwtToken);\r\n            }catch (ExpiredJwtException e){\r\n                e.printStackTrace();\r\n                System.out.println(&quot;jwt token expired&quot;);\r\n\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n                System.out.println(&quot;error&quot;);\r\n            }\r\n\r\n        }else {\r\n            System.out.println(&quot;invalid or token doesn&#39;t start with Bearer&quot;);\r\n        }\r\n        //validate\r\n        if(username!=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication()==null){\r\n            final UserDetails userDetails = this.userDetailsServiceImpl.loadUserByUsername(username);\r\n            if (this.jwtUtil.validateToken(jwtToken, userDetails)){\r\n                //token is valid\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthentication = new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\r\n                usernamePasswordAuthentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthentication);\r\n            }else {\r\n                System.out.println(&quot;invalid token&quot;);\r\n            }\r\n            filterChain.doFilter(request,response);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nJwtAuthenticationEntryPoint class\r\n@Component\r\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\r\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorised : Server&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nController class\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class AuthenticateController {\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsServiceImpl;\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n\r\n\r\n    @PostMapping(&quot;/generate-token&quot;)\r\n    public ResponseEntity&lt;JwtResponse&gt; generateToken(@RequestBody JwtRequest jwtRequest) throws Exception {\r\n        try{\r\n            System.out.println(jwtRequest.getUsername());\r\n            System.out.println(jwtRequest.getPassword());\r\n            authenticate(jwtRequest.getUsername(),jwtRequest.getPassword());\r\n            System.out.println(&quot;authentication successful&quot;);\r\n\r\n        }catch (UserNotFoundException e){\r\n            e.printStackTrace();\r\n            throw new UserNotFoundException(&quot;user not found &quot;);\r\n        }\r\n\r\n        UserDetails userDetails = this.userDetailsServiceImpl.loadUserByUsername(jwtRequest.getUsername());\r\n        String token = this.jwtUtil.generateToken(userDetails);\r\n        System.out.println(token+&quot;hey&quot;);\r\n        return new ResponseEntity&lt;&gt;(new JwtResponse(token), HttpStatus.OK);\r\n    }\r\n\r\n    private void authenticate(String username, String password) throws Exception {\r\n        try{\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n        }catch (DisabledException e){\r\n            throw new Exception(&quot;user disabled : &quot;+e.getMessage());\r\n        }catch (BadCredentialsException e){\r\n            throw new Exception(&quot;bad user credentials : &quot;+e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\nplease let me know if you need any other code block also!\r\n\r\n\r\n","title":"Spring Security : Custom filter (JwtAuthenticationFilter) is being called even when i have set specific endpoints to permitAll property","body":"<p>i have used spring security to secure my endpoints now i am configuring my web app to expose specific end points so that no custom filter is being applied on those end point but even though i have given permitAll property too these endpoints custom filters are being applied on these end points. i have also noticed a behavious that even if i remove the property of addFilterBefore from my config class such that there is no mentioning of JwtAuthenticationFiter then also this filter is being executed upon call of these end points.</p>\n<p>endpoints i want to expose are (/api/users/generate-token) post method\nthis is to generate token for the first time user logs in and it makes no sense to apply jwt autthentication filter on this request</p>\n<p>also endpoint (api/user/register) for user to sign up  here also it makes no sense to apply jwt autthentication filter on this request</p>\n<p>i am new to java and spring 6 and i am stuck badly and am not able to make any progress from past 3 days.</p>\n<p>your help is very much appreciated.</p>\n<p>i tried to add security filter chain to expose these particular end points and add JwtAuthenticationFilter before every other endpoint request.</p>\n<p>and i was expecting to get a generated token as a response when i make post request to &quot;/api/users/generate-token&quot; with correct credentials.</p>\n<pre><code>SecurityConfig class\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n    @Autowired\n    private UserDetailsServiceImpl userDetailsServiceImpl;\n\n\n    @Autowired\n    private PasswordEncoderConfig passwordEncoderConfig;\n    @Autowired\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\n    @Autowired\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n\n\n\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n        http\n                .csrf(csrf-&gt;csrf.disable())\n                .cors(cors-&gt;cors.disable())\n                .authorizeHttpRequests(\n                        auth-&gt;auth.requestMatchers(&quot;/api/users/generate-token&quot;, &quot;/api/users/register&quot;).permitAll()\n                                  .requestMatchers(HttpMethod.OPTIONS).permitAll()\n                                  .anyRequest().authenticated())\n                .exceptionHandling((ex)-&gt;ex.authenticationEntryPoint(unauthorizedHandler))\n                .sessionManagement((session)-&gt;session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        http\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        System.out.println(&quot;http configuration is being used&quot;);\n//\n\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoderConfig.passwordEncoder());\n        return authenticationManagerBuilder.build();\n    }\n}\n\n</code></pre>\n<pre><code>JwtAuthenticationFilter class\n@Component\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @Autowired\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsServiceImpl;\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\n        System.out.println(&quot;jwt authentication fliter is being called&quot;);\n\n        String username = null;\n        String jwtToken = null;\n        if(requestTokenHeader!=null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer&quot;)){\n            jwtToken = requestTokenHeader.substring(7);\n            try {\n                username = this.jwtUtil.extractUsername(jwtToken);\n            }catch (ExpiredJwtException e){\n                e.printStackTrace();\n                System.out.println(&quot;jwt token expired&quot;);\n\n            }catch (Exception e){\n                e.printStackTrace();\n                System.out.println(&quot;error&quot;);\n            }\n\n        }else {\n            System.out.println(&quot;invalid or token doesn't start with Bearer&quot;);\n        }\n        //validate\n        if(username!=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication()==null){\n            final UserDetails userDetails = this.userDetailsServiceImpl.loadUserByUsername(username);\n            if (this.jwtUtil.validateToken(jwtToken, userDetails)){\n                //token is valid\n                UsernamePasswordAuthenticationToken usernamePasswordAuthentication = new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\n                usernamePasswordAuthentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthentication);\n            }else {\n                System.out.println(&quot;invalid token&quot;);\n            }\n            filterChain.doFilter(request,response);\n        }\n\n    }\n}\n\n</code></pre>\n<pre><code>JwtAuthenticationEntryPoint class\n@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorised : Server&quot;);\n    }\n}\n</code></pre>\n<pre><code>Controller class\n\n@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class AuthenticateController {\n    @Autowired\n    private AuthenticationManager authenticationManager;\n    @Autowired\n    private UserDetailsServiceImpl userDetailsServiceImpl;\n    @Autowired\n    private JwtUtil jwtUtil;\n\n\n    @PostMapping(&quot;/generate-token&quot;)\n    public ResponseEntity&lt;JwtResponse&gt; generateToken(@RequestBody JwtRequest jwtRequest) throws Exception {\n        try{\n            System.out.println(jwtRequest.getUsername());\n            System.out.println(jwtRequest.getPassword());\n            authenticate(jwtRequest.getUsername(),jwtRequest.getPassword());\n            System.out.println(&quot;authentication successful&quot;);\n\n        }catch (UserNotFoundException e){\n            e.printStackTrace();\n            throw new UserNotFoundException(&quot;user not found &quot;);\n        }\n\n        UserDetails userDetails = this.userDetailsServiceImpl.loadUserByUsername(jwtRequest.getUsername());\n        String token = this.jwtUtil.generateToken(userDetails);\n        System.out.println(token+&quot;hey&quot;);\n        return new ResponseEntity&lt;&gt;(new JwtResponse(token), HttpStatus.OK);\n    }\n\n    private void authenticate(String username, String password) throws Exception {\n        try{\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n        }catch (DisabledException e){\n            throw new Exception(&quot;user disabled : &quot;+e.getMessage());\n        }catch (BadCredentialsException e){\n            throw new Exception(&quot;bad user credentials : &quot;+e.getMessage());\n        }\n\n    }\n}\n\n</code></pre>\n<p>please let me know if you need any other code block also!</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3076358,"reputation":512,"user_id":2605566,"display_name":"Godwin"},"score":0,"creation_date":1666783154,"post_id":74206520,"comment_id":131016334,"body_markdown":"The error says that you are trying to insert row employee where firstname is null. To test this. print the firstName in the controller and see if spring converted your rest data to object or not. Also please post the video link, I feel there is some issue in Employee.java","body":"The error says that you are trying to insert row employee where firstname is null. To test this. print the firstName in the controller and see if spring converted your rest data to object or not. Also please post the video link, I feel there is some issue in Employee.java"},{"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"score":0,"creation_date":1666785901,"post_id":74206520,"comment_id":131017239,"body_markdown":"Thanx for the comment, I am providing the GitHub link that is used by the youtube video, I am only trying to do a part of the code and have crossed checked it also. Link:       https://github.com/RameshMF/spring-boot-tutorial-course/tree/main/springboot-backend  Please advice what is wrong. Thanks in advance.","body":"Thanx for the comment, I am providing the GitHub link that is used by the youtube video, I am only trying to do a part of the code and have crossed checked it also. Link:       <a href=\"https://github.com/RameshMF/spring-boot-tutorial-course/tree/main/springboot-backend\" rel=\"nofollow noreferrer\">github.com/RameshMF/spring-boot-tutorial-course/tree/main/&hellip;</a>  Please advice what is wrong. Thanks in advance."},{"owner":{"account_id":6023489,"reputation":103,"user_id":4729925,"display_name":"Syed Ammar"},"score":1,"creation_date":1666790659,"post_id":74206520,"comment_id":131019052,"body_markdown":"I see you are using Lombok for your data entity. I feel that might be causing problems during serialisation. Try to use Entity class without Lombok with getter/setters and see if it works.","body":"I see you are using Lombok for your data entity. I feel that might be causing problems during serialisation. Try to use Entity class without Lombok with getter/setters and see if it works."},{"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"score":0,"creation_date":1666800993,"post_id":74206520,"comment_id":131023299,"body_markdown":"Yes, It worked. Thanks for your help. But I am curious, why did it cause error while using Lombok for the data entity. Could you explain that to me. By the way, thanks a lot for your help.","body":"Yes, It worked. Thanks for your help. But I am curious, why did it cause error while using Lombok for the data entity. Could you explain that to me. By the way, thanks a lot for your help."},{"owner":{"account_id":3076358,"reputation":512,"user_id":2605566,"display_name":"Godwin"},"score":0,"creation_date":1666952124,"post_id":74206520,"comment_id":131061382,"body_markdown":"Try adding @AllArgsConstructor to your lombok entity class. if this works","body":"Try adding @AllArgsConstructor to your lombok entity class. if this works"}],"answers":[{"tags":[],"owner":{"account_id":28164373,"reputation":1,"user_id":21523758,"display_name":"Red Trap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689913177,"creation_date":1689913101,"answer_id":76735095,"question_id":74206520,"body_markdown":"Sometimes annotation or data mapping has the issue, once try with this code \r\n\r\n---Controller--\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserController {\r\n\t/** The user service. */\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\r\n\t// get all users\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic List&lt;UserEntity&gt; getAllUsers() {\r\n\t\treturn userService.getAllUsers();\r\n\t}\r\n\r\n\t// create user rest API\r\n\t@PostMapping(&quot;/&quot;)\r\n\tpublic ResponseEntity&lt;UserEntity&gt; createUser(@RequestBody UserEntity user) {\r\n\t\tUserEntity createUser = userService.createUser(user);\r\n\t\treturn ResponseEntity.ok(createUser);\r\n\t}\r\n}\r\n\r\n---UserEntity --(do the getter setter)\r\n\r\n    @Entity\r\n    public class UserEntity {\r\n\r\n\t/** The id. */\r\n\t@Id\r\n\tprivate Integer id;\r\n\t\r\n\t/** The first name. */\r\n\tprivate String firstName;\r\n\t\r\n\t/** The last name. */\r\n\tprivate String lastName;\r\n\t\r\n\t/** The email id. */\r\n\tprivate String emailId;\r\n    }\r\n\r\n---Service -----\r\n\r\n\r\n    @Service\r\n    public class UserService {\r\n\r\n\t/** The user dao. */\r\n\t@Autowired\r\n\tprivate UserDao userDao;\r\n\r\n\tpublic List&lt;UserEntity&gt; getAllUsers() {\r\n\t\tList&lt;UserEntity&gt; allUsers = userDao.findAll();\r\n\t\treturn allUsers;\r\n\t}\r\n\r\n\t/**\r\n\t * Creates the user.\r\n\t */\r\n\tpublic UserEntity createUser(UserEntity user) {\r\n\t\treturn userDao.save(user);\r\n\t}\r\n    }\r\n\r\n\r\n-------DAO----------\r\n\r\n    @Repository\r\n     public interface UserDao extends JpaRepository&lt;UserEntity, Integer&gt; {\r\n    }\r\n\r\n\r\n-------application.properties----------\r\n    \r\n    server.port=8080\r\n    spring.jpa.show-sql=true\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username=**\r\n    spring.datasource.password=**\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver","title":"Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed","body":"<p>Sometimes annotation or data mapping has the issue, once try with this code</p>\n<p>---Controller--</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n/** The user service. */\n@Autowired\nprivate UserService userService;\n\n// get all users\n@GetMapping(&quot;/&quot;)\npublic List&lt;UserEntity&gt; getAllUsers() {\n    return userService.getAllUsers();\n}\n\n// create user rest API\n@PostMapping(&quot;/&quot;)\npublic ResponseEntity&lt;UserEntity&gt; createUser(@RequestBody UserEntity user) {\n    UserEntity createUser = userService.createUser(user);\n    return ResponseEntity.ok(createUser);\n}\n</code></pre>\n<p>}</p>\n<p>---UserEntity --(do the getter setter)</p>\n<pre><code>@Entity\npublic class UserEntity {\n\n/** The id. */\n@Id\nprivate Integer id;\n\n/** The first name. */\nprivate String firstName;\n\n/** The last name. */\nprivate String lastName;\n\n/** The email id. */\nprivate String emailId;\n}\n</code></pre>\n<p>---Service -----</p>\n<pre><code>@Service\npublic class UserService {\n\n/** The user dao. */\n@Autowired\nprivate UserDao userDao;\n\npublic List&lt;UserEntity&gt; getAllUsers() {\n    List&lt;UserEntity&gt; allUsers = userDao.findAll();\n    return allUsers;\n}\n\n/**\n * Creates the user.\n */\npublic UserEntity createUser(UserEntity user) {\n    return userDao.save(user);\n}\n}\n</code></pre>\n<p>-------DAO----------</p>\n<pre><code>@Repository\n public interface UserDao extends JpaRepository&lt;UserEntity, Integer&gt; {\n}\n</code></pre>\n<p>-------application.properties----------</p>\n<pre><code>server.port=8080\nspring.jpa.show-sql=true\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=**\nspring.datasource.password=**\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n"}],"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18902,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692529230,"creation_date":1666781240,"question_id":74206520,"body_markdown":"I am getting below error while creating a spring maven rest webservice project. I am new with springboot, could someone help me with this. The error is:\r\n\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.example.spring.backend.model.Employee.firstName; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.example.spring.backend.model.Employee.firstName] with root cause\r\n```\r\n\r\nI created a database using MySQL Workbench and defined a table in it to store employee details. Here is my code:\r\n\r\n**EmployeeController.java**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/employees&quot;)\r\npublic class EmployeeController {\r\n\t\r\n\tprivate EmployeeService employeeService;\r\n\r\n\tpublic EmployeeController(EmployeeService employeeService) {\r\n\t\tsuper();\r\n\t\tthis.employeeService = employeeService;\r\n\t}\r\n\t\r\n\t// build create employee REST API\r\n\t@PostMapping()\r\n\tpublic ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee){\r\n\t\treturn new ResponseEntity&lt;Employee&gt;(employeeService.saveEmployee(employee), HttpStatus.CREATED);\r\n\t}\r\n}\r\n```\r\n\r\n**Employee.java**\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;employees&quot;)\r\npublic class Employee {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@Column(name = &quot;first_name&quot;, nullable = false)\r\n\tprivate String firstName;\r\n\t\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n}\r\n```\r\n\r\n**EmployeeRepository.java**\r\n```\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt;{\r\n\t\r\n}\r\n```\r\n\r\n**EmployeeService.java**\r\n```\r\npublic interface EmployeeService {\r\n\tEmployee saveEmployee(Employee employee);\r\n}\r\n\r\n```\r\n\r\n**EmployeeServiceImpl.java**\r\n```\r\n@Service\r\npublic class EmployeeServiceImpl implements EmployeeService{\r\n\r\n\tprivate EmployeeRepository employeeRepository;\r\n\t\r\n\tpublic EmployeeServiceImpl(EmployeeRepository employeeRepository) {\r\n\t\tsuper();\r\n\t\tthis.employeeRepository = employeeRepository;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Employee saveEmployee(Employee employee) {\r\n\t\treturn employeeRepository.save(employee);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**application.properties**\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/employee_management_system?useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n\r\n# Hibernate properties\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n# create, create-drop\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nWhile sending a post request using postman, I am getting Internal Server Error 500.\r\n```\r\n**Input**\r\n{\r\n    &quot;firstName&quot;: &quot;abc&quot;,\r\n    &quot;lastName&quot;: &quot;abc&quot;,\r\n    &quot;email&quot;: &quot;abc@gmail.com&quot;\r\n}\r\n\r\n**Result:**\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-10-26T09:48:51.322+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/api/employees&quot;\r\n}\r\n```\r\n\r\nI am taking reference from a youtube video but in the video, the code works but not in my case. \r\n\r\n**Please advise what is wrong in my code. Thanks in advance.**","title":"Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed","body":"<p>I am getting below error while creating a spring maven rest webservice project. I am new with springboot, could someone help me with this. The error is:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.example.spring.backend.model.Employee.firstName; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.example.spring.backend.model.Employee.firstName] with root cause\n</code></pre>\n<p>I created a database using MySQL Workbench and defined a table in it to store employee details. Here is my code:</p>\n<p><strong>EmployeeController.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/employees&quot;)\npublic class EmployeeController {\n    \n    private EmployeeService employeeService;\n\n    public EmployeeController(EmployeeService employeeService) {\n        super();\n        this.employeeService = employeeService;\n    }\n    \n    // build create employee REST API\n    @PostMapping()\n    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee){\n        return new ResponseEntity&lt;Employee&gt;(employeeService.saveEmployee(employee), HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p><strong>Employee.java</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;employees&quot;)\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name = &quot;email&quot;)\n    private String email;\n}\n</code></pre>\n<p><strong>EmployeeRepository.java</strong></p>\n<pre><code>public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt;{\n    \n}\n</code></pre>\n<p><strong>EmployeeService.java</strong></p>\n<pre><code>public interface EmployeeService {\n    Employee saveEmployee(Employee employee);\n}\n\n</code></pre>\n<p><strong>EmployeeServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class EmployeeServiceImpl implements EmployeeService{\n\n    private EmployeeRepository employeeRepository;\n    \n    public EmployeeServiceImpl(EmployeeRepository employeeRepository) {\n        super();\n        this.employeeRepository = employeeRepository;\n    }\n\n    @Override\n    public Employee saveEmployee(Employee employee) {\n        return employeeRepository.save(employee);\n    }\n\n}\n\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/employee_management_system?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\n\n# Hibernate properties\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n# create, create-drop\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>While sending a post request using postman, I am getting Internal Server Error 500.</p>\n<pre><code>**Input**\n{\n    &quot;firstName&quot;: &quot;abc&quot;,\n    &quot;lastName&quot;: &quot;abc&quot;,\n    &quot;email&quot;: &quot;abc@gmail.com&quot;\n}\n\n**Result:**\n{\n    &quot;timestamp&quot;: &quot;2022-10-26T09:48:51.322+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/api/employees&quot;\n}\n</code></pre>\n<p>I am taking reference from a youtube video but in the video, the code works but not in my case.</p>\n<p><strong>Please advise what is wrong in my code. Thanks in advance.</strong></p>\n"},{"tags":["java","spring","spring-mvc","websocket","maven-jetty-plugin"],"comments":[{"owner":{"account_id":3634475,"reputation":2800,"user_id":3029904,"accept_rate":88,"display_name":"Ken de Guzman"},"score":0,"creation_date":1417319967,"post_id":27204818,"comment_id":42901396,"body_markdown":"you&#39;re running it using jetty?","body":"you&#39;re running it using jetty?"},{"owner":{"account_id":3634475,"reputation":2800,"user_id":3029904,"accept_rate":88,"display_name":"Ken de Guzman"},"score":0,"creation_date":1417320350,"post_id":27204818,"comment_id":42901443,"body_markdown":"check this full [dependency](https://github.com/rstoyanchev/spring-websocket-portfolio/blob/master/pom.xml#L139-L150)","body":"check this full <a href=\"https://github.com/rstoyanchev/spring-websocket-portfolio/blob/master/pom.xml#L139-L150\" rel=\"nofollow noreferrer\">dependency</a>"},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1417347491,"post_id":27204818,"comment_id":42906170,"body_markdown":"yes I&#39;m running it with `mvn jetty:run` but what dependency I&#39;ve to add? `javax.websocket-api` ? but then what happen if I deploy for instance on tomcat or glassfish?","body":"yes I&#39;m running it with <code>mvn jetty:run</code> but what dependency I&#39;ve to add? <code>javax.websocket-api</code> ? but then what happen if I deploy for instance on tomcat or glassfish?"}],"answers":[{"tags":[],"owner":{"account_id":2496504,"reputation":3612,"user_id":2172731,"accept_rate":67,"display_name":"Munish Chandel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443435528,"creation_date":1443435528,"answer_id":32820619,"question_id":27204818,"body_markdown":"already answered it here -\r\nhttps://stackoverflow.com/a/32820569/2172731\r\n\r\nbasically after adding the below dependencies to pom.xml, problem got resolved\r\n\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;websocket-client&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.3.4.RC0&lt;/version&gt;\r\n                    &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;websocket-server&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.3.4.RC0&lt;/version&gt;\r\n                    &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jetty-client&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.3.4.RC0&lt;/version&gt;\r\n                    &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n                &lt;/dependency&gt;","title":"No suitable default RequestUpgradeStrategy found","body":"<p>already answered it here -\n<a href=\"https://stackoverflow.com/a/32820569/2172731\">https://stackoverflow.com/a/32820569/2172731</a></p>\n\n<p>basically after adding the below dependencies to pom.xml, problem got resolved</p>\n\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n                &lt;artifactId&gt;websocket-client&lt;/artifactId&gt;\n                &lt;version&gt;9.3.4.RC0&lt;/version&gt;\n                &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n                &lt;artifactId&gt;websocket-server&lt;/artifactId&gt;\n                &lt;version&gt;9.3.4.RC0&lt;/version&gt;\n                &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-client&lt;/artifactId&gt;\n                &lt;version&gt;9.3.4.RC0&lt;/version&gt;\n                &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n            &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10306,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692529230,"creation_date":1417281244,"question_id":27204818,"body_markdown":"I&#39;m trying to use spring websocket for my application but when running the application on jetty i&#39;m having an `IllegalStateException`. I found similar questions (e.g. [1](https://stackoverflow.com/questions/21565598/no-suitable-default-requestupgradestrategy-found), [2](https://stackoverflow.com/questions/21727286/spring-4-mvc-and-websockets-no-suitable-default-requestupgradestrategy)) but adding a dependency to `tomcat-embed-websocket` didn&#39;t work for me!! Any work around?\r\n\r\nHere is `pom.xml`\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- thymeleaf template engine --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${thymeleaf.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${thymeleaf.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- thymeleaf template engine --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;visualization&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;url&gt;http://localhost:8080/manager&lt;/url&gt;\r\n\t\t\t\t\t&lt;server&gt;tomcat&lt;/server&gt;\r\n\t\t\t\t\t&lt;path&gt;/visualization&lt;/path&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nHere is the full stacktrace,\r\n\r\n    Caused by: java.lang.IllegalStateException: No suitable default RequestUpgradeStrategy found\r\n        at org.springframework.web.socket.server.support.DefaultHandshakeHandler.initRequestUpgradeStrategy(DefaultHandshakeHandler.java:127)\r\n        at org.springframework.web.socket.server.support.DefaultHandshakeHandler.&lt;init&gt;(DefaultHandshakeHandler.java:96)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1088)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:100)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:637)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:140)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:133)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:106)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedMap(BeanDefinitionValueResolver.java:407)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:165)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:171)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1216)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:538)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:762)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\r\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:782)\r\n        at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:424)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:774)\r\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:249)\r\n        at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1242)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:717)\r\n        at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:494)\r\n        at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:298)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n        at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229)\r\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n        at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n        at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95)\r\n        at org.eclipse.jetty.server.Server.doStart(Server.java:282)\r\n        at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:65)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:520)\r\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:365)\r\n        at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:523)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:582)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)","title":"No suitable default RequestUpgradeStrategy found","body":"<p>I'm trying to use spring websocket for my application but when running the application on jetty i'm having an <code>IllegalStateException</code>. I found similar questions (e.g. <a href=\"https://stackoverflow.com/questions/21565598/no-suitable-default-requestupgradestrategy-found\">1</a>, <a href=\"https://stackoverflow.com/questions/21727286/spring-4-mvc-and-websockets-no-suitable-default-requestupgradestrategy\">2</a>) but adding a dependency to <code>tomcat-embed-websocket</code> didn't work for me!! Any work around?</p>\n\n<p>Here is <code>pom.xml</code></p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- thymeleaf template engine --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;${thymeleaf.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\n        &lt;version&gt;${thymeleaf.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- thymeleaf template engine --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;visualization&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;url&gt;http://localhost:8080/manager&lt;/url&gt;\n                &lt;server&gt;tomcat&lt;/server&gt;\n                &lt;path&gt;/visualization&lt;/path&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Here is the full stacktrace,</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: No suitable default RequestUpgradeStrategy found\n    at org.springframework.web.socket.server.support.DefaultHandshakeHandler.initRequestUpgradeStrategy(DefaultHandshakeHandler.java:127)\n    at org.springframework.web.socket.server.support.DefaultHandshakeHandler.&lt;init&gt;(DefaultHandshakeHandler.java:96)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1088)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:100)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:637)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:140)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:133)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedMap(BeanDefinitionValueResolver.java:407)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:165)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:171)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1216)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:538)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:762)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n    at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:782)\n    at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:424)\n    at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:774)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:249)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1242)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:717)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:494)\n    at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:298)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n    at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229)\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n    at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:282)\n    at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:65)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n    at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:520)\n    at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:365)\n    at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:523)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:582)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n</code></pre>\n"},{"tags":["java","jtable","desktop-application","jform"],"answers":[{"tags":[],"owner":{"account_id":768498,"reputation":19,"user_id":802978,"display_name":"arshabh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1308303490,"creation_date":1308303490,"answer_id":6383917,"question_id":6382877,"body_markdown":"you need to connect your java program to your database using a JDBC.\r\nafter that you need to extract the data using ResultSet class.\r\nyou need to understand the basics of JDBC and bey clear about the commands of your database. You also need to know how to work with databases through java. so read the online tutorial of java by oracle(official tutorial).it will not take more than a hour.\r\nlife will be easier","title":"how to show data from database to JTable of Java Swing Controls","body":"<p>you need to connect your java program to your database using a JDBC.\nafter that you need to extract the data using ResultSet class.\nyou need to understand the basics of JDBC and bey clear about the commands of your database. You also need to know how to work with databases through java. so read the online tutorial of java by oracle(official tutorial).it will not take more than a hour.\nlife will be easier</p>\n"},{"tags":[],"owner":{"account_id":6014503,"reputation":79,"user_id":4723848,"accept_rate":40,"display_name":"Ashutosh Adarsh"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1495696401,"creation_date":1429191970,"answer_id":29676694,"question_id":6382877,"body_markdown":"**Use this code :**\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.sql.*;\r\n    import java.util.Vector;\r\n    import javax.swing.*;\r\n    import javax.swing.table.DefaultTableModel;\r\n     \r\n    public class DisplayEmpData extends JFrame implements ActionListener {\r\n     \r\n        JFrame frame1;\r\n        JLabel l0, l1, l2;\r\n        JComboBox c1;\r\n        JButton b1;\r\n        Connection con;\r\n        ResultSet rs, rs1;\r\n        Statement st, st1;\r\n        PreparedStatement pst;\r\n        String ids;\r\n        static JTable table;\r\n        String[] columnNames = {&quot;User name&quot;, &quot;Email&quot;, &quot;Password&quot;, &quot;Country&quot;};\r\n        String from;\r\n     \r\n        DisplayEmpData() {\r\n     \r\n            l0 = new JLabel(&quot;Fatching Employee Information&quot;);\r\n            l0.setForeground(Color.red);\r\n            l0.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\r\n            l1 = new JLabel(&quot;Select name&quot;);\r\n            b1 = new JButton(&quot;submit&quot;);\r\n     \r\n            l0.setBounds(100, 50, 350, 40);\r\n            l1.setBounds(75, 110, 75, 20);\r\n            b1.setBounds(150, 150, 150, 20);\r\n            b1.addActionListener(this);\r\n     \r\n            setTitle(&quot;Fetching Student Info From DataBase&quot;);\r\n            setLayout(null);\r\n            setVisible(true);\r\n            setSize(500, 500);\r\n            setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n     \r\n            add(l0);\r\n            add(l1);;\r\n            add(b1);\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);  // (1)\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/db_name&quot;, &quot;username&quot;, &quot;password&quot;);  // (2)\r\n                st = con.createStatement();\r\n                rs = st.executeQuery(&quot;select uname from emp&quot;);\r\n                Vector v = new Vector();\r\n                while (rs.next()) {\r\n                    ids = rs.getString(1);\r\n                    v.add(ids);\r\n                }\r\n                c1 = new JComboBox(v);\r\n                c1.setBounds(150, 110, 150, 20);\r\n     \r\n                add(c1);\r\n                st.close();\r\n                rs.close();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n     \r\n        public void actionPerformed(ActionEvent ae) {\r\n            if (ae.getSource() == b1) {\r\n                showTableData();\r\n            }\r\n     \r\n        }\r\n     \r\n        public void showTableData() {\r\n     \r\n            frame1 = new JFrame(&quot;Database Search Result&quot;);\r\n            frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame1.setLayout(new BorderLayout());\r\n    //TableModel tm = new TableModel();\r\n            DefaultTableModel model = new DefaultTableModel();\r\n            model.setColumnIdentifiers(columnNames);\r\n    //DefaultTableModel model = new DefaultTableModel(tm.getData1(), tm.getColumnNames());\r\n    //table = new JTable(model);\r\n            table = new JTable();\r\n            table.setModel(model);\r\n            table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\r\n            table.setFillsViewportHeight(true);\r\n            JScrollPane scroll = new JScrollPane(table);\r\n            scroll.setHorizontalScrollBarPolicy(\r\n                    JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n            scroll.setVerticalScrollBarPolicy(\r\n                    JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n            from = (String) c1.getSelectedItem();\r\n    //String textvalue = textbox.getText();\r\n            String uname = &quot;&quot;;\r\n            String email = &quot;&quot;;\r\n            String pass = &quot;&quot;;\r\n            String cou = &quot;&quot;;\r\n     \r\n            try {\r\n                pst = con.prepareStatement(&quot;select * from emp where UNAME=&#39;&quot; + from + &quot;&#39;&quot;);\r\n                ResultSet rs = pst.executeQuery();\r\n                int i = 0;\r\n                if (rs.next()) {\r\n                    uname = rs.getString(&quot;uname&quot;);\r\n                    email = rs.getString(&quot;umail&quot;);\r\n                    pass = rs.getString(&quot;upass&quot;);\r\n                    cou = rs.getString(&quot;ucountry&quot;);\r\n                    model.addRow(new Object[]{uname, email, pass, cou});\r\n                    i++;\r\n                }\r\n                if (i &lt; 1) {\r\n                    JOptionPane.showMessageDialog(null, &quot;No Record Found&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                }\r\n                if (i == 1) {\r\n                    System.out.println(i + &quot; Record Found&quot;);\r\n                } else {\r\n                    System.out.println(i + &quot; Records Found&quot;);\r\n                }\r\n            } catch (Exception ex) {\r\n                JOptionPane.showMessageDialog(null, ex.getMessage(), &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n            frame1.add(scroll);\r\n            frame1.setVisible(true);\r\n            frame1.setSize(400, 300);\r\n        }\r\n     \r\n        public static void main(String args[]) {\r\n            new DisplayEmpData();\r\n        }\r\n    }\r\n\r\nEDIT: The above code use mysql as an example. Change the line marked with (1) and (2) if you are not using mysql.","title":"how to show data from database to JTable of Java Swing Controls","body":"<p><strong>Use this code :</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.sql.*;\nimport java.util.Vector;\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\n\npublic class DisplayEmpData extends JFrame implements ActionListener {\n\n    JFrame frame1;\n    JLabel l0, l1, l2;\n    JComboBox c1;\n    JButton b1;\n    Connection con;\n    ResultSet rs, rs1;\n    Statement st, st1;\n    PreparedStatement pst;\n    String ids;\n    static JTable table;\n    String[] columnNames = {\"User name\", \"Email\", \"Password\", \"Country\"};\n    String from;\n\n    DisplayEmpData() {\n\n        l0 = new JLabel(\"Fatching Employee Information\");\n        l0.setForeground(Color.red);\n        l0.setFont(new Font(\"Serif\", Font.BOLD, 20));\n        l1 = new JLabel(\"Select name\");\n        b1 = new JButton(\"submit\");\n\n        l0.setBounds(100, 50, 350, 40);\n        l1.setBounds(75, 110, 75, 20);\n        b1.setBounds(150, 150, 150, 20);\n        b1.addActionListener(this);\n\n        setTitle(\"Fetching Student Info From DataBase\");\n        setLayout(null);\n        setVisible(true);\n        setSize(500, 500);\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        add(l0);\n        add(l1);;\n        add(b1);\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");  // (1)\n            con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/db_name\", \"username\", \"password\");  // (2)\n            st = con.createStatement();\n            rs = st.executeQuery(\"select uname from emp\");\n            Vector v = new Vector();\n            while (rs.next()) {\n                ids = rs.getString(1);\n                v.add(ids);\n            }\n            c1 = new JComboBox(v);\n            c1.setBounds(150, 110, 150, 20);\n\n            add(c1);\n            st.close();\n            rs.close();\n        } catch (Exception e) {\n        }\n    }\n\n    public void actionPerformed(ActionEvent ae) {\n        if (ae.getSource() == b1) {\n            showTableData();\n        }\n\n    }\n\n    public void showTableData() {\n\n        frame1 = new JFrame(\"Database Search Result\");\n        frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame1.setLayout(new BorderLayout());\n//TableModel tm = new TableModel();\n        DefaultTableModel model = new DefaultTableModel();\n        model.setColumnIdentifiers(columnNames);\n//DefaultTableModel model = new DefaultTableModel(tm.getData1(), tm.getColumnNames());\n//table = new JTable(model);\n        table = new JTable();\n        table.setModel(model);\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\n        table.setFillsViewportHeight(true);\n        JScrollPane scroll = new JScrollPane(table);\n        scroll.setHorizontalScrollBarPolicy(\n                JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n        scroll.setVerticalScrollBarPolicy(\n                JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        from = (String) c1.getSelectedItem();\n//String textvalue = textbox.getText();\n        String uname = \"\";\n        String email = \"\";\n        String pass = \"\";\n        String cou = \"\";\n\n        try {\n            pst = con.prepareStatement(\"select * from emp where UNAME='\" + from + \"'\");\n            ResultSet rs = pst.executeQuery();\n            int i = 0;\n            if (rs.next()) {\n                uname = rs.getString(\"uname\");\n                email = rs.getString(\"umail\");\n                pass = rs.getString(\"upass\");\n                cou = rs.getString(\"ucountry\");\n                model.addRow(new Object[]{uname, email, pass, cou});\n                i++;\n            }\n            if (i &lt; 1) {\n                JOptionPane.showMessageDialog(null, \"No Record Found\", \"Error\", JOptionPane.ERROR_MESSAGE);\n            }\n            if (i == 1) {\n                System.out.println(i + \" Record Found\");\n            } else {\n                System.out.println(i + \" Records Found\");\n            }\n        } catch (Exception ex) {\n            JOptionPane.showMessageDialog(null, ex.getMessage(), \"Error\", JOptionPane.ERROR_MESSAGE);\n        }\n        frame1.add(scroll);\n        frame1.setVisible(true);\n        frame1.setSize(400, 300);\n    }\n\n    public static void main(String args[]) {\n        new DisplayEmpData();\n    }\n}\n</code></pre>\n\n<p>EDIT: The above code use mysql as an example. Change the line marked with (1) and (2) if you are not using mysql.</p>\n"}],"owner":{"account_id":251035,"reputation":421,"user_id":528125,"accept_rate":98,"display_name":"iamanapprentice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49052,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1692529230,"creation_date":1308297142,"question_id":6382877,"body_markdown":"I have this problem on how to show data from my database using JTable of Java Swing Controls.  I just drag and drop the table from the palette in the JForm.\r\n\r\nI have no Idea how to code it.","title":"how to show data from database to JTable of Java Swing Controls","body":"<p>I have this problem on how to show data from my database using JTable of Java Swing Controls.  I just drag and drop the table from the palette in the JForm.</p>\n\n<p>I have no Idea how to code it.</p>\n"},{"tags":["java","jls"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1692525319,"post_id":76938670,"comment_id":135632854,"body_markdown":"The first rule is more specific and declares exceptions to the second rule for local classes only.","body":"The first rule is more specific and declares exceptions to the second rule for local classes only."},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1692526524,"post_id":76938670,"comment_id":135632964,"body_markdown":"@MarkRotteveel, thanks for the comment. How is that useful? It only confuses and disseminates rules across JLS, doesn&#39;t it?","body":"@MarkRotteveel, thanks for the comment. How is that useful? It only confuses and disseminates rules across JLS, doesn&#39;t it?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1692526862,"post_id":76938670,"comment_id":135632992,"body_markdown":"I agree that the current implementation seems to only follow rule 8.1, which means the implementation fails to meet the exception defined in JLS 6.4. Whether or not that means the JLS should be updated, or the implementation should be fixed, I don&#39;t know. As to how it is useful, I don&#39;t know, I hardly ever use local classes, and I can&#39;t think of a time when I had classes nested in local classes (except maybe anonymous classes), but I assume rule 6.4 was put there for a reason.","body":"I agree that the current implementation seems to only follow rule 8.1, which means the implementation fails to meet the exception defined in JLS 6.4. Whether or not that means the JLS should be updated, or the implementation should be fixed, I don&#39;t know. As to how it is useful, I don&#39;t know, I hardly ever use local classes, and I can&#39;t think of a time when I had classes nested in local classes (except maybe anonymous classes), but I assume rule 6.4 was put there for a reason."},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1692527500,"post_id":76938670,"comment_id":135633050,"body_markdown":"@MarkRotteveel, thank you. I have the same understanding and it raised a question why would JLS put that part of 6.4 there if it only follows 8.1 since I couldn&#39;t find any other cases that would justify existence of 6.4. &quot;but I assume rule 6.4 was put there for a reason&quot; &lt;- I am here to look for that reason as well :)","body":"@MarkRotteveel, thank you. I have the same understanding and it raised a question why would JLS put that part of 6.4 there if it only follows 8.1 since I couldn&#39;t find any other cases that would justify existence of 6.4. &quot;but I assume rule 6.4 was put there for a reason&quot; &lt;- I am here to look for that reason as well :)"}],"answers":[{"comments":[{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1692527984,"post_id":76938961,"comment_id":135633090,"body_markdown":"Thank you for your comment. FYI: I am not questioning all rules in 6.4 but only the part cited in the question. Now, while I understand the intention behind the rules in 6.4, I couldn&#39;t find any evidence how is the cited rule from 6.4 either practically or theoretically useful to justify its existence in JLS. If we can&#39;t find any, doesn&#39;t it make the rule, or at least the part after the &quot;unless&quot; connective, redundant?","body":"Thank you for your comment. FYI: I am not questioning all rules in 6.4 but only the part cited in the question. Now, while I understand the intention behind the rules in 6.4, I couldn&#39;t find any evidence how is the cited rule from 6.4 either practically or theoretically useful to justify its existence in JLS. If we can&#39;t find any, doesn&#39;t it make the rule, or at least the part after the &quot;unless&quot; connective, redundant?"},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1692528194,"post_id":76938961,"comment_id":135633105,"body_markdown":"&quot;It is allowing a form of shadowing that is otherwise forbidden (by 8.1)&quot; - however due to 8.1, we can&#39;t achieve that shadowing, can we? Seems like a feature that is not reachable.","body":"&quot;It is allowing a form of shadowing that is otherwise forbidden (by 8.1)&quot; - however due to 8.1, we can&#39;t achieve that shadowing, can we? Seems like a feature that is not reachable."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692528213,"post_id":76938961,"comment_id":135633107,"body_markdown":"When reading the JLS you need to read the context; e.g. the non-normative text and the examples.  In this case, the normative text tells you the purpose of the rules.  And they justify their existence ....","body":"When reading the JLS you need to read the context; e.g. the non-normative text and the examples.  In this case, the normative text tells you the purpose of the rules.  And they justify their existence ...."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692528304,"post_id":76938961,"comment_id":135633115,"body_markdown":"&quot;however due to 8.1, we can&#39;t achieve that shadowing, can we?&quot;.  To the extent that 8.1 and 6.4 are contradictory, the intention is that 6.4 overrides 8.1.  That is how I read it.  You may read it some other way ... but I don&#39;t think it was the authors intention to write a deliberately contradictory specification.","body":"&quot;however due to 8.1, we can&#39;t achieve that shadowing, can we?&quot;.  To the extent that 8.1 and 6.4 are contradictory, the intention is that 6.4 overrides 8.1.  That is how I read it.  You may read it some other way ... but I don&#39;t think it was the authors intention to write a deliberately contradictory specification."},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1692528439,"post_id":76938961,"comment_id":135633127,"body_markdown":"okay, I got it now. The 6.4 takes the precedence although I believe ideally it should be clear immediately from the normative part. But the compiler seems to fail to follow that, is that a bug?","body":"okay, I got it now. The 6.4 takes the precedence although I believe ideally it should be clear immediately from the normative part. But the compiler seems to fail to follow that, is that a bug?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692528621,"post_id":76938961,"comment_id":135633160,"body_markdown":"If the compiler doesn&#39;t behave according to what the spec says, that is a bug (in either the compiler or the spec).  Submit a bug report via the OpenJDK with a clearly argued explanation of why you claim that the spec and compiler are in conflict.   (I have no skin in this game.)","body":"If the compiler doesn&#39;t behave according to what the spec says, that is a bug (in either the compiler or the spec).  Submit a bug report via the OpenJDK with a clearly argued explanation of why you claim that the spec and compiler are in conflict.   (I have no skin in this game.)"},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1692528874,"post_id":76938961,"comment_id":135633181,"body_markdown":"I will think about it a bit more before submitting a bug - don&#39;t want to look like a fool :D However, so far it looks like a bug or redundancy at its best since the compiler has no impact from the 6.4 rule. Will do my best, thank you!","body":"I will think about it a bit more before submitting a bug - don&#39;t want to look like a fool :D However, so far it looks like a bug or redundancy at its best since the compiler has no impact from the 6.4 rule. Will do my best, thank you!"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692529104,"creation_date":1692527079,"answer_id":76938961,"question_id":76938670,"body_markdown":"I think that Mark Rotteveel is correct: the rules in 6.4 are actually relaxing the normal 8.1 rule about nested classes.  This is clear from the (non-normative) paragraph that follows the 8.1 rule that you quoted:\r\n\r\n&gt; *&quot;These rules allow redeclaration of a variable, local class, or local interface in nested class or interface declarations that occur in the scope of the variable, local class, or local interface; such nested class or interface declarations may be local class or interface declarations (&#167;14.3) or anonymous class declarations (&#167;15.9.5). Thus, the declaration of a formal parameter, local variable, local class, or local interface may be shadowed in a class or interface declaration nested within a method, constructor, or lambda expression; and the declaration of an exception parameter may be shadowed in a class or interface declaration nested within the Block of the catch clause.&quot;*\r\n\r\nClearly, the 6.4 rule is not redundant.  It is allowing a form of shadowing that is otherwise forbidden (by 8.1).  To the extent&lt;sup&gt;1&lt;/sup&gt; that 6.4 contradicts 8.1, the text above implies that intended meaning is that 6.4 should override 8.1 for local classes.  \r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - There may also be a way of reading 6.4 so that it doesn&#39;t contradict 8.1; e.g. some fine distinction between enclosing classes and enclosing methods.  However, I couldn&#39;t find a convincing justification for that. It is also *possible* that the facial contradiction is due to an editorial issue, and the spec and/or the compiler is wrong.&lt;/sup&gt;\r\n","title":"What is the meaning of the following rule in JLS if another rule makes it redundant?","body":"<p>I think that Mark Rotteveel is correct: the rules in 6.4 are actually relaxing the normal 8.1 rule about nested classes.  This is clear from the (non-normative) paragraph that follows the 8.1 rule that you quoted:</p>\n<blockquote>\n<p><em>&quot;These rules allow redeclaration of a variable, local class, or local interface in nested class or interface declarations that occur in the scope of the variable, local class, or local interface; such nested class or interface declarations may be local class or interface declarations (§14.3) or anonymous class declarations (§15.9.5). Thus, the declaration of a formal parameter, local variable, local class, or local interface may be shadowed in a class or interface declaration nested within a method, constructor, or lambda expression; and the declaration of an exception parameter may be shadowed in a class or interface declaration nested within the Block of the catch clause.&quot;</em></p>\n</blockquote>\n<p>Clearly, the 6.4 rule is not redundant.  It is allowing a form of shadowing that is otherwise forbidden (by 8.1).  To the extent<sup>1</sup> that 6.4 contradicts 8.1, the text above implies that intended meaning is that 6.4 should override 8.1 for local classes.</p>\n<hr />\n<p><sup>1 - There may also be a way of reading 6.4 so that it doesn't contradict 8.1; e.g. some fine distinction between enclosing classes and enclosing methods.  However, I couldn't find a convincing justification for that. It is also <em>possible</em> that the facial contradiction is due to an editorial issue, and the spec and/or the compiler is wrong.</sup></p>\n"}],"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76938961,"answer_count":1,"score":1,"last_activity_date":1692529104,"creation_date":1692521879,"question_id":76938670,"body_markdown":"In JLS 17, [Section 6.4][1], it says (emphasis mine):\r\n\r\n&gt; It is a compile-time error if the name of a local class or interface C is used to declare a new local class or interface within the scope of C, **unless the new local class or interface is declared within a class or interface declaration appearing within the scope of C**\r\n\r\nMeanwhile in [Section 8.1][2]:\r\n\r\n&gt;  It is a compile-time error if a class has the same simple name as any of its enclosing classes or interfaces.\r\n\r\nAlthough logically there is no contradiction, I wonder what is the point of having that &quot;unless&quot; clause in the first rule when the second one is going to result in compilation error anyway when the condition for &quot;unless&quot; is not satisfied? Perhaps I am missing something?\r\n\r\nFor example:\r\n\r\n    class Test {\r\n      public void foo() {\r\n        class C {\r\n          public void bar() {\r\n            class SomeNested {\r\n              public void xyz() {\r\n                class C{} // Section 6.4 says nothing what happens in this case. Section 8.1 results in compilation error\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.4\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1","title":"What is the meaning of the following rule in JLS if another rule makes it redundant?","body":"<p>In JLS 17, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.4\" rel=\"nofollow noreferrer\">Section 6.4</a>, it says (emphasis mine):</p>\n<blockquote>\n<p>It is a compile-time error if the name of a local class or interface C is used to declare a new local class or interface within the scope of C, <strong>unless the new local class or interface is declared within a class or interface declaration appearing within the scope of C</strong></p>\n</blockquote>\n<p>Meanwhile in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1\" rel=\"nofollow noreferrer\">Section 8.1</a>:</p>\n<blockquote>\n<p>It is a compile-time error if a class has the same simple name as any of its enclosing classes or interfaces.</p>\n</blockquote>\n<p>Although logically there is no contradiction, I wonder what is the point of having that &quot;unless&quot; clause in the first rule when the second one is going to result in compilation error anyway when the condition for &quot;unless&quot; is not satisfied? Perhaps I am missing something?</p>\n<p>For example:</p>\n<pre><code>class Test {\n  public void foo() {\n    class C {\n      public void bar() {\n        class SomeNested {\n          public void xyz() {\n            class C{} // Section 6.4 says nothing what happens in this case. Section 8.1 results in compilation error\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","async-profiler"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1692740764,"post_id":76938882,"comment_id":135665275,"body_markdown":"There are 3 ways to run async-profiler: 1) as a standalone program `profiler.sh`/`asprof`; 2) as an [agent](https://github.com/async-profiler/async-profiler#launching-as-an-agent) which starts with the JVM; 3) using [Java API](https://github.com/apangin/java-profiling-presentation/blob/master/src/demo8/FileConverter2.java#L19-L27). The simplest way in your case is (2) - to add a JVM argument. Alternatively, the test code may start async-profiler programmatically using Java API.","body":"There are 3 ways to run async-profiler: 1) as a standalone program <code>profiler.sh</code>/<code>asprof</code>; 2) as an <a href=\"https://github.com/async-profiler/async-profiler#launching-as-an-agent\" rel=\"nofollow noreferrer\">agent</a> which starts with the JVM; 3) using <a href=\"https://github.com/apangin/java-profiling-presentation/blob/master/src/demo8/FileConverter2.java#L19-L27\" rel=\"nofollow noreferrer\">Java API</a>. The simplest way in your case is (2) - to add a JVM argument. Alternatively, the test code may start async-profiler programmatically using Java API."}],"owner":{"account_id":20374643,"reputation":53,"user_id":17939972,"display_name":"94621"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692525667,"creation_date":1692525667,"question_id":76938882,"body_markdown":"I have a java application that I&#39;d like to profile using [async-profiler](https://github.com/async-profiler/async-profiler). In particular, I want to run a test case using `mvn test -Dtest=SomeTest` and have async-profiler automatically launched in the background to profile the executed code.\r\n\r\nRight now, I am achieving that by launching the test case, identifying the `pid` and separately invoking `async-profiler`:\r\n```sh\r\nmvn test -DargLine=&quot;-XX:+UnlockDiagnosticVMOptions -XX:+DebugNonSafepoints&quot; -Dtest=SomeTest\r\n```\r\n```sh\r\nprofiler.sh -e cpu -d 30 -f profiles/cpu_profile_$(date +%F_%T).html $(pgrep -f &#39;Unlock&#39;)\r\n```\r\n\r\nI am looking for a way (a maven plugin, a class that I can include in the test case) to automatically launch async-profiler when running the application with maven.\r\nI know that there are a lot different ways described [in the async-profiler README](https://github.com/async-profiler/async-profiler#cpu-profiling), but they are assuming too much knowledge to be actionable for me...","title":"How to profile a java program with async-profiler that is invoked via mvn test?","body":"<p>I have a java application that I'd like to profile using <a href=\"https://github.com/async-profiler/async-profiler\" rel=\"nofollow noreferrer\">async-profiler</a>. In particular, I want to run a test case using <code>mvn test -Dtest=SomeTest</code> and have async-profiler automatically launched in the background to profile the executed code.</p>\n<p>Right now, I am achieving that by launching the test case, identifying the <code>pid</code> and separately invoking <code>async-profiler</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn test -DargLine=&quot;-XX:+UnlockDiagnosticVMOptions -XX:+DebugNonSafepoints&quot; -Dtest=SomeTest\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>profiler.sh -e cpu -d 30 -f profiles/cpu_profile_$(date +%F_%T).html $(pgrep -f 'Unlock')\n</code></pre>\n<p>I am looking for a way (a maven plugin, a class that I can include in the test case) to automatically launch async-profiler when running the application with maven.\nI know that there are a lot different ways described <a href=\"https://github.com/async-profiler/async-profiler#cpu-profiling\" rel=\"nofollow noreferrer\">in the async-profiler README</a>, but they are assuming too much knowledge to be actionable for me...</p>\n"},{"tags":["java","android","http-post","channel","socketchannel"],"answers":[{"comments":[{"owner":{"account_id":156890,"reputation":699,"user_id":2920409,"accept_rate":59,"display_name":"mylord"},"score":0,"creation_date":1396262055,"post_id":22758951,"comment_id":34694277,"body_markdown":"This problem happens right away on startup when I try the HttpPost. Is it still likely a memory leak?","body":"This problem happens right away on startup when I try the HttpPost. Is it still likely a memory leak?"}],"tags":[],"owner":{"account_id":1964760,"reputation":604,"user_id":1765321,"accept_rate":0,"display_name":"Solution"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396260846,"creation_date":1396260846,"answer_id":22758951,"question_id":22758482,"body_markdown":"This is the common issue of memory link due to some code.\r\nLook at [blog post][1] in the developer docs to track it down.\r\n\r\n\r\n  [1]: http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html","title":"HttpPost: InputDispatcher: &quot;Channel is unrecoverably broken and will be disposed!&quot; on Nexus 7","body":"<p>This is the common issue of memory link due to some code.\nLook at <a href=\"http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html\" rel=\"nofollow\">blog post</a> in the developer docs to track it down.</p>\n"},{"comments":[{"owner":{"account_id":5232477,"reputation":950,"user_id":4182277,"display_name":"user4182277"},"score":0,"creation_date":1415940918,"post_id":26923082,"comment_id":42393590,"body_markdown":"Can&#39;t read your code, but wont gc collect instance of anonymous class regardless of its thread?","body":"Can&#39;t read your code, but wont gc collect instance of anonymous class regardless of its thread?"}],"tags":[],"owner":{"account_id":4450698,"reputation":141,"user_id":3622671,"display_name":"Jackie_Hung"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1415982176,"creation_date":1415940531,"answer_id":26923082,"question_id":22758482,"body_markdown":"**I met same troubles in 2 days ago for Android, not pure Java, this asnwer let you reference only.**\r\nI solve it now.I am Taiwanese, I am glad to answer here once more.\r\nDo you ever use UI new thread? Do not double use UI new thread look like sandwich. It should cause memory leaks.\r\n\r\n**in a short sentence, a main thread could have many UI threads to do many work, but if one sub thread(not main thread) own a UI thread inside, maybe sub thread work done, but its kid ~ UI thread has not finish work, this will case memory leaks.** \r\n\r\n**For example...for Fragment &amp; UI application...this will cause memory leaks.**\r\n\r\n    getActivity().runOnUiThread(new Runnable(){\r\n    \r\n        public void run() {\r\n    \t\t\t\t\r\n    \tShowDataScreen();\r\n    \r\n    \tgetActivity().runOnUiThread(new Runnable(){\r\n    \r\n      \t\tpublic void run() {\r\n    \t\t\t\t\r\n       \tToast.makeText(getActivity(), &quot;This is error way&quot;,Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t\r\n    \t\t}});// end of No.2 UI new thread\r\n    \t\t\t\t\r\n    \t}});// end of No.1 UI new thread\r\n\r\n**My solution is rearrange as below:**\r\n\r\n    getActivity().runOnUiThread(new Runnable(){\r\n       public void run() {\r\n    \t\t\t\t\r\n    \tShowDataScreen();\r\n    \t\t\t\t\r\n    \t}});// end of No.1 UI new thread \t\t\r\n    \r\n    getActivity().runOnUiThread(new Runnable(){\r\n       public void run() {\r\n    \t\t\t\t\r\n    Toast.makeText(getActivity(), &quot;This is correct way&quot;,Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t\r\n    \t}});// end of No.2 UI new thread\r\n\r\nfor you reference.\r\n","title":"HttpPost: InputDispatcher: &quot;Channel is unrecoverably broken and will be disposed!&quot; on Nexus 7","body":"<p><strong>I met same troubles in 2 days ago for Android, not pure Java, this asnwer let you reference only.</strong>\nI solve it now.I am Taiwanese, I am glad to answer here once more.\nDo you ever use UI new thread? Do not double use UI new thread look like sandwich. It should cause memory leaks.</p>\n\n<p><strong>in a short sentence, a main thread could have many UI threads to do many work, but if one sub thread(not main thread) own a UI thread inside, maybe sub thread work done, but its kid ~ UI thread has not finish work, this will case memory leaks.</strong> </p>\n\n<p><strong>For example...for Fragment &amp; UI application...this will cause memory leaks.</strong></p>\n\n<pre><code>getActivity().runOnUiThread(new Runnable(){\n\n    public void run() {\n\n    ShowDataScreen();\n\n    getActivity().runOnUiThread(new Runnable(){\n\n        public void run() {\n\n    Toast.makeText(getActivity(), \"This is error way\",Toast.LENGTH_SHORT).show();\n\n        }});// end of No.2 UI new thread\n\n    }});// end of No.1 UI new thread\n</code></pre>\n\n<p><strong>My solution is rearrange as below:</strong></p>\n\n<pre><code>getActivity().runOnUiThread(new Runnable(){\n   public void run() {\n\n    ShowDataScreen();\n\n    }});// end of No.1 UI new thread        \n\ngetActivity().runOnUiThread(new Runnable(){\n   public void run() {\n\nToast.makeText(getActivity(), \"This is correct way\",Toast.LENGTH_SHORT).show();\n\n    }});// end of No.2 UI new thread\n</code></pre>\n\n<p>for you reference.</p>\n"}],"owner":{"account_id":156890,"reputation":699,"user_id":2920409,"accept_rate":59,"display_name":"mylord"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16263,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692525660,"creation_date":1396259358,"question_id":22758482,"body_markdown":"On Nexus 7 (4.3), and not on my older device, LG Optimus 3d (Android 2.2), \r\nwhen I do HttpPost, I get this\r\n\r\nE/InputDispatcher﹕ channel &#39;4273f7b0 ... MainActivity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n\r\nPeople have mentioned a possible memory leak. See **. However, this problem happens right away on startup when I try the HttpPost. Is it still likely a memory leak?\r\n\r\nHere is how I&#39;m doing the HttpPost:\r\n\r\n    public void server_addUserGetId()\r\n    {\r\n        String url = GS.baseUrl() + &quot;/users&quot;;\r\n        HttpPost theHttpPost = new HttpPost(url);\r\n    \r\n        List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;dId&quot;, s_UserInfo.getInstance().m_device_id ));\r\n        try {\r\n            theHttpPost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        HttpPostAsync theHttpPostAsync = new HttpPostAsync(new OnPostExecuteHandler() {\r\n            @Override\r\n            public void handlePostExecute(Object oHttpResponse) {\r\n                HttpResponse theHttpResponse = (HttpResponse) oHttpResponse;\r\n                JSONObject jo = GS.getJSONObject(theHttpResponse.getEntity());\r\n                try {\r\n                    s_UserInfo.getInstance().m_user_id = jo.getString(&quot;_id&quot;);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        theHttpPostAsync.execute(theHttpPost);\r\n        return;\r\n    }\r\n\r\n\r\nHere is my HttpPostAsync task:\r\n\r\n    public class HttpPostAsync extends AsyncTask&lt;HttpPost, Integer, HttpResponse&gt;\r\n    {\r\n        private HttpPost m_HttpPost;\r\n        private HttpResponse m_HttpResponse;\r\n    \r\n        private OnPostExecuteHandler m_OnPostExecuteHandler;\r\n        public HttpPostAsync(OnPostExecuteHandler listener)\r\n        {\r\n            m_OnPostExecuteHandler = listener;\r\n        }\r\n    \r\n        protected HttpResponse doInBackground(HttpPost ... args)\r\n        {\r\n            m_HttpPost = args[0];\r\n            if(GS.dl&gt;5) Log.d(&quot;GRA: HttpPostAsync&quot;, &quot;doInBackground: Thread.currentThread().getId()=&quot; + Thread.currentThread().getId());\r\n            m_HttpResponse = visit(m_HttpPost);\r\n            return m_HttpResponse;\r\n        }\r\n    \r\n        protected void onProgressUpdate(Integer... progress) {\r\n        }\r\n    \r\n        protected void onPostExecute(Long result) {\r\n            if(GS.dl&gt;5) Log.d(&quot;GRA: HttpPostAsync&quot;, &quot;onPostExecute: Thread.currentThread().getId()=&quot; + Thread.currentThread().getId());\r\n            if(GS.dl&gt;5) Log.d(&quot;GRA: HttpPostAsync&quot;, &quot;onPostExecute: result=&quot; + result);\r\n            //if(GS.dl&gt;5) Log.d(&quot;GRA: HttpPostAsync&quot;, &quot;onPostExecute: m_HttpEntity=&quot;+m_HttpEntity);\r\n            m_OnPostExecuteHandler.handlePostExecute(m_HttpResponse);\r\n        }\r\n    \r\n        public HttpResponse visit(HttpPost theHttpPost)\r\n        {\r\n            HttpResponse response = null;\r\n            try {\r\n                // Create a new HttpClient and Post Header\r\n                HttpClient httpclient = new DefaultHttpClient();\r\n                // Execute HTTP Post Request\r\n                response = httpclient.execute(theHttpPost);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Log.d(&quot;HttpPostAsync.java&quot;, &quot;IOException e=&quot; + e);\r\n                // TODO Auto-generated catch block\r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\nAny ideas?\r\n\r\nI read on an SO answer* it might have to do with the ArrayList&lt;NameValuePair&gt; initialization, so I&#39;ve also tried initializing like this, with 1, in the ArrayList, but the problem persists:\r\n\r\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(1);\r\n\r\n*: SO answer that didn&#39;t totally relate/help:\r\nhttps://stackoverflow.com/questions/12509930/app-has-stopped-working-android\r\n\r\n** memory leak related? http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html\r\n","title":"HttpPost: InputDispatcher: &quot;Channel is unrecoverably broken and will be disposed!&quot; on Nexus 7","body":"<p>On Nexus 7 (4.3), and not on my older device, LG Optimus 3d (Android 2.2), \nwhen I do HttpPost, I get this</p>\n\n<p>E/InputDispatcher﹕ channel '4273f7b0 ... MainActivity (server)' ~ Channel is unrecoverably broken and will be disposed!</p>\n\n<p>People have mentioned a possible memory leak. See **. However, this problem happens right away on startup when I try the HttpPost. Is it still likely a memory leak?</p>\n\n<p>Here is how I'm doing the HttpPost:</p>\n\n<pre><code>public void server_addUserGetId()\n{\n    String url = GS.baseUrl() + \"/users\";\n    HttpPost theHttpPost = new HttpPost(url);\n\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\n    nameValuePairs.add(new BasicNameValuePair(\"dId\", s_UserInfo.getInstance().m_device_id ));\n    try {\n        theHttpPost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n    HttpPostAsync theHttpPostAsync = new HttpPostAsync(new OnPostExecuteHandler() {\n        @Override\n        public void handlePostExecute(Object oHttpResponse) {\n            HttpResponse theHttpResponse = (HttpResponse) oHttpResponse;\n            JSONObject jo = GS.getJSONObject(theHttpResponse.getEntity());\n            try {\n                s_UserInfo.getInstance().m_user_id = jo.getString(\"_id\");\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    theHttpPostAsync.execute(theHttpPost);\n    return;\n}\n</code></pre>\n\n<p>Here is my HttpPostAsync task:</p>\n\n<pre><code>public class HttpPostAsync extends AsyncTask&lt;HttpPost, Integer, HttpResponse&gt;\n{\n    private HttpPost m_HttpPost;\n    private HttpResponse m_HttpResponse;\n\n    private OnPostExecuteHandler m_OnPostExecuteHandler;\n    public HttpPostAsync(OnPostExecuteHandler listener)\n    {\n        m_OnPostExecuteHandler = listener;\n    }\n\n    protected HttpResponse doInBackground(HttpPost ... args)\n    {\n        m_HttpPost = args[0];\n        if(GS.dl&gt;5) Log.d(\"GRA: HttpPostAsync\", \"doInBackground: Thread.currentThread().getId()=\" + Thread.currentThread().getId());\n        m_HttpResponse = visit(m_HttpPost);\n        return m_HttpResponse;\n    }\n\n    protected void onProgressUpdate(Integer... progress) {\n    }\n\n    protected void onPostExecute(Long result) {\n        if(GS.dl&gt;5) Log.d(\"GRA: HttpPostAsync\", \"onPostExecute: Thread.currentThread().getId()=\" + Thread.currentThread().getId());\n        if(GS.dl&gt;5) Log.d(\"GRA: HttpPostAsync\", \"onPostExecute: result=\" + result);\n        //if(GS.dl&gt;5) Log.d(\"GRA: HttpPostAsync\", \"onPostExecute: m_HttpEntity=\"+m_HttpEntity);\n        m_OnPostExecuteHandler.handlePostExecute(m_HttpResponse);\n    }\n\n    public HttpResponse visit(HttpPost theHttpPost)\n    {\n        HttpResponse response = null;\n        try {\n            // Create a new HttpClient and Post Header\n            HttpClient httpclient = new DefaultHttpClient();\n            // Execute HTTP Post Request\n            response = httpclient.execute(theHttpPost);\n        } catch (IOException e) {\n            e.printStackTrace();\n            Log.d(\"HttpPostAsync.java\", \"IOException e=\" + e);\n            // TODO Auto-generated catch block\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>I read on an SO answer* it might have to do with the ArrayList initialization, so I've also tried initializing like this, with 1, in the ArrayList, but the problem persists:</p>\n\n<pre><code>List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(1);\n</code></pre>\n\n<p>*: SO answer that didn't totally relate/help:\n<a href=\"https://stackoverflow.com/questions/12509930/app-has-stopped-working-android\">App has stopped working Android</a></p>\n\n<p>** memory leak related? <a href=\"http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html\" rel=\"nofollow noreferrer\">http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html</a></p>\n"},{"tags":["java","ant","build","weblogic","java-web-start"],"answers":[{"comments":[{"owner":{"account_id":269097,"reputation":61,"user_id":558235,"display_name":"Shekar"},"score":0,"creation_date":1294118483,"post_id":4585535,"comment_id":5042923,"body_markdown":"Hii,\nI tried by running the 1 st and 2 nd suggestions. Build is successful but the war file is not generated. I am pasting the last three lines of the build out put\n[AntUtil.deleteDir] Deleting directory /var/tmp/_927vxb0\n     [jwsc] JWS Compile failed: Deployment descriptor: /var/tmp/_927vxb0/web.xml does not exist.\n\nBUILD SUCCESSFUL\nTotal time: 1 minute 2 seconds\n\n\nhere is my build.xml. only one task is failing remaining all tasks are passsing.","body":"Hii, I tried by running the 1 st and 2 nd suggestions. Build is successful but the war file is not generated. I am pasting the last three lines of the build out put [AntUtil.deleteDir] Deleting directory /var/tmp/_927vxb0      [jwsc] JWS Compile failed: Deployment descriptor: /var/tmp/_927vxb0/web.xml does not exist.  BUILD SUCCESSFUL Total time: 1 minute 2 seconds   here is my build.xml. only one task is failing remaining all tasks are passsing."},{"owner":{"account_id":205984,"reputation":2548,"user_id":455020,"accept_rate":78,"display_name":"bakoyaro"},"score":2,"creation_date":1294255370,"post_id":4585535,"comment_id":5064989,"body_markdown":"Looks like I&#39;ll need you to do suggestion 3 to go any farther with this. The stack trace helps, but without more of the build file to loof at, it&#39;s kind of a black box to me. Whatever you do, good luck","body":"Looks like I&#39;ll need you to do suggestion 3 to go any farther with this. The stack trace helps, but without more of the build file to loof at, it&#39;s kind of a black box to me. Whatever you do, good luck"}],"tags":[],"owner":{"account_id":205984,"reputation":2548,"user_id":455020,"accept_rate":78,"display_name":"bakoyaro"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294067804,"creation_date":1294067031,"answer_id":4585535,"question_id":4584254,"body_markdown":"I&#39;m betting that in your deployment target (Which isn&#39;t posted here) is trying to &#39;clean&#39; up the deployment directory, and is failing when it can&#39;t find the file called `/var/tmp/_927vxb/web.xml`\r\n\r\n3 suggestions:\r\n\r\n1. Run `touch /var/tmp/_927vxb/web.xml` from the command line and try to run the build/deployment again. This will create an empty file that will at least let you get past the file not found on delete error. This is not a long term solution, but rather an attempt to expose the real issue.\r\n\r\n2. Look at line 231 in your `/wls_domains/CIT/cruisecontrol-bin-2.8.3/util/Ivy/build.xml` file. Perhaps there is a `delete` ant task that is `failing on error`. If this is the case, add `failonerror=&quot;false&quot; to the ant task that is causing the issue.\r\n\r\n3. Post more of your build file here. Being able to align the line numbers in the file with the error will help in decoding the issue.\r\n","title":"Weblogic Ant JWSC task to generate a webservice war file","body":"<p>I'm betting that in your deployment target (Which isn't posted here) is trying to 'clean' up the deployment directory, and is failing when it can't find the file called <code>/var/tmp/_927vxb/web.xml</code></p>\n\n<p>3 suggestions:</p>\n\n<ol>\n<li><p>Run <code>touch /var/tmp/_927vxb/web.xml</code> from the command line and try to run the build/deployment again. This will create an empty file that will at least let you get past the file not found on delete error. This is not a long term solution, but rather an attempt to expose the real issue.</p></li>\n<li><p>Look at line 231 in your <code>/wls_domains/CIT/cruisecontrol-bin-2.8.3/util/Ivy/build.xml</code> file. Perhaps there is a <code>delete</code> ant task that is <code>failing on error</code>. If this is the case, add `failonerror=\"false\" to the ant task that is causing the issue.</p></li>\n<li><p>Post more of your build file here. Being able to align the line numbers in the file with the error will help in decoding the issue.</p></li>\n</ol>\n"}],"owner":{"account_id":269097,"reputation":61,"user_id":558235,"display_name":"Shekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692525660,"creation_date":1294056328,"question_id":4584254,"body_markdown":"I am running a jwsc ant task to generate a war file. It is working fine for me if I add the weblogic.jar to classpath before running the ant script (CLASSPATH=/opt/bea/weblogic91/server/lib/weblogic.jar export CLASSPATH)\r\n\r\nBut is is not working if I add this in my build.xml as follows:\r\n\r\n    &lt;target name=&quot;GenerateWarFiles&quot;&gt;   \r\n    &lt;path id=&quot;lib.jwsc.id&quot;&gt;  \r\n    &lt;pathelement path=&quot;/opt/bea/weblogic91/server/lib/weblogic.jar&quot;/&gt;  \r\n    &lt;/path&gt;  \r\n    &lt;taskdef name=&quot;jwsc&quot; classname=&quot;weblogic.wsee.tools.anttasks.JwscTask&quot; classpathref=&quot;lib.jwsc.id&quot;/&gt;  \r\n    &lt;jwsc srcdir=&quot;${src.java.dir}&quot; destdir=&quot;${build.war.file.dir}&quot; verbose=&quot;on&quot; debug=&quot;on&quot; classpathref=&quot;lib.jwsc.id&quot;&gt;  \r\n    &lt;jws file=&quot;sep/com/bt/prf/jws/TypeImpl.java&quot; compiledWsdl=&quot;${ivy.lib.dir}/WSDLC/Jwslib-8.0.jar&quot; /&gt;  \r\n    &lt;/jwsc&gt;   \r\n    &lt;/target&gt;\r\n\r\nI am getting the following error.\r\n\r\n    [AntUtil.deleteDir] Deleting directory /var/tmp/_927vxb\r\n    \r\n    BUILD FAILED\r\n    /wls_domains/CIT/cruisecontrol-bin-2.8.3/util/Ivy/build.xml:231: Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\r\n    at weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:184)\r\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    at java.lang.reflect.Method.invoke(Method.java:585)\r\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\r\n    at org.apache.tools.ant.Task.perform(Task.java:348)\r\n    at org.apache.tools.ant.Target.execute(Target.java:357)\r\n    at org.apache.tools.ant.Target.performTasks(Target.java:385)\r\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\r\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\r\n    at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n    at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\r\n    at org.apache.tools.ant.Main.runBuild(Main.java:698)\r\n    at org.apache.tools.ant.Main.startAnt(Main.java:199)\r\n    at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\r\n    at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\r\n    Caused by: Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\r\n    at org.apache.tools.ant.taskdefs.War.setWebxml(War.java:95)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.jar(JwscTask.java:397)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.pkg(JwscTask.java:331)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:166)\r\n    ... 17 more\r\n    --- Nested Exception ---\r\n    Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\r\n    at org.apache.tools.ant.taskdefs.War.setWebxml(War.java:95)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.jar(JwscTask.java:397)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.pkg(JwscTask.java:331)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:166)\r\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    at java.lang.reflect.Method.invoke(Method.java:585)\r\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\r\n    at org.apache.tools.ant.Task.perform(Task.java:348)\r\n    at org.apache.tools.ant.Target.execute(Target.java:357)\r\n    at org.apache.tools.ant.Target.performTasks(Target.java:385)\r\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\r\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\r\n    at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n    at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\r\n    at org.apache.tools.ant.Main.runBuild(Main.java:698)\r\n    at org.apache.tools.ant.Main.startAnt(Main.java:199)\r\n    at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\r\n    at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\r\n    \r\n    Total time: 1 minute 3 seconds\r\n\r\nI am running weblogic91 in Solaris.\r\n","title":"Weblogic Ant JWSC task to generate a webservice war file","body":"<p>I am running a jwsc ant task to generate a war file. It is working fine for me if I add the weblogic.jar to classpath before running the ant script (CLASSPATH=/opt/bea/weblogic91/server/lib/weblogic.jar export CLASSPATH)</p>\n\n<p>But is is not working if I add this in my build.xml as follows:</p>\n\n<pre><code>&lt;target name=\"GenerateWarFiles\"&gt;   \n&lt;path id=\"lib.jwsc.id\"&gt;  \n&lt;pathelement path=\"/opt/bea/weblogic91/server/lib/weblogic.jar\"/&gt;  \n&lt;/path&gt;  \n&lt;taskdef name=\"jwsc\" classname=\"weblogic.wsee.tools.anttasks.JwscTask\" classpathref=\"lib.jwsc.id\"/&gt;  \n&lt;jwsc srcdir=\"${src.java.dir}\" destdir=\"${build.war.file.dir}\" verbose=\"on\" debug=\"on\" classpathref=\"lib.jwsc.id\"&gt;  \n&lt;jws file=\"sep/com/bt/prf/jws/TypeImpl.java\" compiledWsdl=\"${ivy.lib.dir}/WSDLC/Jwslib-8.0.jar\" /&gt;  \n&lt;/jwsc&gt;   \n&lt;/target&gt;\n</code></pre>\n\n<p>I am getting the following error.</p>\n\n<pre><code>[AntUtil.deleteDir] Deleting directory /var/tmp/_927vxb\n\nBUILD FAILED\n/wls_domains/CIT/cruisecontrol-bin-2.8.3/util/Ivy/build.xml:231: Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\nat weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:184)\nat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\nat org.apache.tools.ant.Task.perform(Task.java:348)\nat org.apache.tools.ant.Target.execute(Target.java:357)\nat org.apache.tools.ant.Target.performTasks(Target.java:385)\nat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\nat org.apache.tools.ant.Project.executeTarget(Project.java:1298)\nat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\nat org.apache.tools.ant.Project.executeTargets(Project.java:1181)\nat org.apache.tools.ant.Main.runBuild(Main.java:698)\nat org.apache.tools.ant.Main.startAnt(Main.java:199)\nat org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\nat org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\nCaused by: Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\nat org.apache.tools.ant.taskdefs.War.setWebxml(War.java:95)\nat weblogic.wsee.tools.anttasks.JwscTask.jar(JwscTask.java:397)\nat weblogic.wsee.tools.anttasks.JwscTask.pkg(JwscTask.java:331)\nat weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:166)\n... 17 more\n--- Nested Exception ---\nDeployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\nat org.apache.tools.ant.taskdefs.War.setWebxml(War.java:95)\nat weblogic.wsee.tools.anttasks.JwscTask.jar(JwscTask.java:397)\nat weblogic.wsee.tools.anttasks.JwscTask.pkg(JwscTask.java:331)\nat weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:166)\nat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\nat org.apache.tools.ant.Task.perform(Task.java:348)\nat org.apache.tools.ant.Target.execute(Target.java:357)\nat org.apache.tools.ant.Target.performTasks(Target.java:385)\nat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\nat org.apache.tools.ant.Project.executeTarget(Project.java:1298)\nat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\nat org.apache.tools.ant.Project.executeTargets(Project.java:1181)\nat org.apache.tools.ant.Main.runBuild(Main.java:698)\nat org.apache.tools.ant.Main.startAnt(Main.java:199)\nat org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\nat org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\n\nTotal time: 1 minute 3 seconds\n</code></pre>\n\n<p>I am running weblogic91 in Solaris.</p>\n"},{"tags":["java","arrays","performance"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1436486512,"post_id":31330330,"comment_id":50646337,"body_markdown":"I expect it varies by platform and JVM, you should try benchmarking it yourself.","body":"I expect it varies by platform and JVM, you should try benchmarking it yourself."},{"owner":{"account_id":5487398,"reputation":1775,"user_id":4361749,"accept_rate":82,"display_name":"Joel"},"score":0,"creation_date":1436486576,"post_id":31330330,"comment_id":50646354,"body_markdown":"Why should it depent on the jvm? How could I calculate the Complexity?","body":"Why should it depent on the jvm? How could I calculate the Complexity?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1436486615,"post_id":31330330,"comment_id":50646363,"body_markdown":"The complexity is easy. It&#39;s `O(n)`. The actual performance varies.","body":"The complexity is easy. It&#39;s <code>O(n)</code>. The actual performance varies."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1436487464,"post_id":31330330,"comment_id":50646542,"body_markdown":"both are basically doing the same thing, if you look at the source for `subList` and `toArray`","body":"both are basically doing the same thing, if you look at the source for <code>subList</code> and <code>toArray</code>"},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":1,"creation_date":1695915611,"post_id":31330330,"comment_id":136090432,"body_markdown":"Just to say it: if n isn&#39;t at least in the millions, the complexity is irrelevant to the time taken. And actually, if this code isn&#39;t used thousand of times at the least, its performance is irrelevant to whatever app you&#39;re developing. So, most probably you should think more about readability than performance","body":"Just to say it: if n isn&#39;t at least in the millions, the complexity is irrelevant to the time taken. And actually, if this code isn&#39;t used thousand of times at the least, its performance is irrelevant to whatever app you&#39;re developing. So, most probably you should think more about readability than performance"},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1695917435,"post_id":31330330,"comment_id":136090832,"body_markdown":"Now, if you&#39;re actually in a case where performance is crititcal (I mean billions of items and calls), use option 1: the code is simpler so the JIT should work better. But always profile performance of your whole code before trying to improve it: time is usually mostly consumed on network communication, IO, or in places we don&#39;t think of.","body":"Now, if you&#39;re actually in a case where performance is crititcal (I mean billions of items and calls), use option 1: the code is simpler so the JIT should work better. But always profile performance of your whole code before trying to improve it: time is usually mostly consumed on network communication, IO, or in places we don&#39;t think of."}],"answers":[{"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":3,"creation_date":1436487307,"post_id":31330412,"comment_id":50646508,"body_markdown":"Surprisingly enough, `subList` does not copy. It is a view on the existing list.","body":"Surprisingly enough, <code>subList</code> does not copy. It is a view on the existing list."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1436487443,"post_id":31330412,"comment_id":50646536,"body_markdown":"@njzk2 Unless that view is a no-op, I&#39;d expect option 1 to be faster anyway.","body":"@njzk2 Unless that view is a no-op, I&#39;d expect option 1 to be faster anyway."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1436487552,"post_id":31330412,"comment_id":50646560,"body_markdown":"creating the view is basically creating an object with a few variables. No loop, no copy, not much, really.","body":"creating the view is basically creating an object with a few variables. No loop, no copy, not much, really."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1436487576,"post_id":31330412,"comment_id":50646563,"body_markdown":"The `toArray` is a bit more involved.","body":"The <code>toArray</code> is a bit more involved."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1436487761,"post_id":31330412,"comment_id":50646597,"body_markdown":"and also safer, with actual bound checks (like if `n &gt;= in.size()`, or if someone changes the List in the mean time).","body":"and also safer, with actual bound checks (like if <code>n &gt;= in.size()</code>, or if someone changes the List in the mean time)."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1436487524,"creation_date":1436487022,"answer_id":31330412,"question_id":31330330,"body_markdown":"### Option 1 Faster Than Option 2\r\nBecause Option 2 creates a new `List` reference, and then creates an `n` element array from the `List` (option 1 perfectly sizes the output array). However, first you need to fix the off by one bug. Use `&lt;` (not `&lt;=`). Like,\r\n\r\n    String[] out = new String[n];\r\n    for(int i = 0; i &lt; n; i++) {\r\n        out[i] = in.get(i);\r\n    }\r\n","title":"Fastest way to get the first n elements of a List into an Array","body":"<h3>Option 1 Faster Than Option 2</h3>\n\n<p>Because Option 2 creates a new <code>List</code> reference, and then creates an <code>n</code> element array from the <code>List</code> (option 1 perfectly sizes the output array). However, first you need to fix the off by one bug. Use <code>&lt;</code> (not <code>&lt;=</code>). Like,</p>\n\n<pre><code>String[] out = new String[n];\nfor(int i = 0; i &lt; n; i++) {\n    out[i] = in.get(i);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5487398,"reputation":1775,"user_id":4361749,"accept_rate":82,"display_name":"Joel"},"score":0,"creation_date":1436490087,"post_id":31330800,"comment_id":50647144,"body_markdown":"the range n is about 1-5, where as the size of the `in`-List is about double the size","body":"the range n is about 1-5, where as the size of the <code>in</code>-List is about double the size"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":1,"creation_date":1436490228,"post_id":31330800,"comment_id":50647169,"body_markdown":"very sure option#1 then.","body":"very sure option#1 then."}],"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436489970,"creation_date":1436489970,"answer_id":31330800,"question_id":31330330,"body_markdown":"It mostly depends on how big `n` is. \r\n\r\nIf `n==0`, nothing beats option#1 :) \r\n\r\nIf n is very large, `toArray(new String[n])` is faster.","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>It mostly depends on how big <code>n</code> is. </p>\n\n<p>If <code>n==0</code>, nothing beats option#1 :) </p>\n\n<p>If n is very large, <code>toArray(new String[n])</code> is faster.</p>\n"},{"comments":[{"owner":{"account_id":5487398,"reputation":1775,"user_id":4361749,"accept_rate":82,"display_name":"Joel"},"score":0,"creation_date":1491890554,"post_id":43336513,"comment_id":73739201,"body_markdown":"Why should this be faster than #1?","body":"Why should this be faster than #1?"},{"owner":{"account_id":98060,"reputation":5346,"user_id":265650,"accept_rate":61,"display_name":"jagamot"},"score":0,"creation_date":1539360022,"post_id":43336513,"comment_id":92487741,"body_markdown":"If I only have 1 element, and I use the above streaming way, I get 1 element and null","body":"If I only have 1 element, and I use the above streaming way, I get 1 element and null"},{"owner":{"account_id":64038,"reputation":19424,"user_id":189247,"accept_rate":79,"display_name":"Stand with Gaza"},"score":2,"creation_date":1549970451,"post_id":43336513,"comment_id":96088897,"body_markdown":"@jagamot If N is less than the array size use `toArray(String[]::new)` instead.","body":"@jagamot If N is less than the array size use <code>toArray(String[]::new)</code> instead."},{"owner":{"account_id":11473946,"reputation":5964,"user_id":8409922,"display_name":"BadPiggie"},"score":3,"creation_date":1638249034,"post_id":43336513,"comment_id":124031604,"body_markdown":"`.limit(n).toList()` works just fine.","body":"<code>.limit(n).toList()</code> works just fine."}],"tags":[],"owner":{"account_id":2846017,"reputation":1909,"user_id":2444394,"display_name":"src3369"},"comment_count":4,"down_vote_count":0,"up_vote_count":149,"is_accepted":false,"score":149,"last_activity_date":1516340447,"creation_date":1491883119,"answer_id":43336513,"question_id":31330330,"body_markdown":"Assumption:\r\n \r\nlist - List`&lt;String&gt;`\r\n\r\nUsing Java 8 Streams,\r\n\r\n* to get first N elements from a list into a list, \r\n\r\n    `List&lt;String&gt; firstNElementsList = list.stream().limit(n).collect(Collectors.toList());`\r\n\r\n\r\n* to get first N elements from a list into an Array,\r\n\r\n    `String[] firstNElementsArray = list.stream().limit(n).collect(Collectors.toList()).toArray(new String[n]);`","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>Assumption:</p>\n\n<p>list - List<code>&lt;String&gt;</code></p>\n\n<p>Using Java 8 Streams,</p>\n\n<ul>\n<li><p>to get first N elements from a list into a list, </p>\n\n<p><code>List&lt;String&gt; firstNElementsList = list.stream().limit(n).collect(Collectors.toList());</code></p></li>\n<li><p>to get first N elements from a list into an Array,</p>\n\n<p><code>String[] firstNElementsArray = list.stream().limit(n).collect(Collectors.toList()).toArray(new String[n]);</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2636410,"reputation":67,"user_id":2280949,"display_name":"user2280949"},"comment_count":0,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1522270452,"creation_date":1522270452,"answer_id":49544003,"question_id":31330330,"body_markdown":"Use:\r\nArrays.copyOf(yourArray,n);","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>Use:\nArrays.copyOf(yourArray,n);</p>\n"},{"tags":[],"owner":{"account_id":1611366,"reputation":1566,"user_id":1490169,"accept_rate":63,"display_name":"Jack Cole"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596524464,"creation_date":1596524464,"answer_id":63241698,"question_id":31330330,"body_markdown":"**Option 3**\r\n\r\nIterators are faster than using the `get` operation, since the `get` operation has to start from the beginning if it has to do some traversal. It probably wouldn&#39;t make a difference in an ArrayList, but other data structures could see a noticeable speed difference. This is also compatible with things that aren&#39;t lists, like sets.\r\n\r\n```\r\nString[] out = new String[n];\r\nIterator&lt;String&gt; iterator = in.iterator();\r\nfor (int i = 0; i &lt; n &amp;&amp; iterator.hasNext(); i++)\r\n    out[i] = iterator.next();\r\n```","title":"Fastest way to get the first n elements of a List into an Array","body":"<p><strong>Option 3</strong></p>\n<p>Iterators are faster than using the <code>get</code> operation, since the <code>get</code> operation has to start from the beginning if it has to do some traversal. It probably wouldn't make a difference in an ArrayList, but other data structures could see a noticeable speed difference. This is also compatible with things that aren't lists, like sets.</p>\n<pre><code>String[] out = new String[n];\nIterator&lt;String&gt; iterator = in.iterator();\nfor (int i = 0; i &lt; n &amp;&amp; iterator.hasNext(); i++)\n    out[i] = iterator.next();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1659111791,"post_id":73164552,"comment_id":129223292,"body_markdown":"Can you please explain in detail which method you mean? In the [List interface](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html) there is no method called like this.","body":"Can you please explain in detail which method you mean? In the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List interface</a> there is no method called like this."},{"owner":{"account_id":9649253,"reputation":2644,"user_id":7160898,"display_name":"Jimale Abdi"},"score":1,"creation_date":1659251775,"post_id":73164552,"comment_id":129246742,"body_markdown":"This can be a comment","body":"This can be a comment"},{"owner":{"account_id":21965176,"reputation":49,"user_id":16242536,"display_name":"FarVoyager"},"score":0,"creation_date":1659445883,"post_id":73164552,"comment_id":129292731,"body_markdown":"@vanje looks like this extension is only available on kotlin, sorry for confusing. However I would like this answer to be here because I being a kotlin user ended up here in search of this function. So other kotlin users can come to this topic and get the answer","body":"@vanje looks like this extension is only available on kotlin, sorry for confusing. However I would like this answer to be here because I being a kotlin user ended up here in search of this function. So other kotlin users can come to this topic and get the answer"}],"tags":[],"owner":{"account_id":21965176,"reputation":49,"user_id":16242536,"display_name":"FarVoyager"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659087228,"creation_date":1659087228,"answer_id":73164552,"question_id":31330330,"body_markdown":"Use ```.take(n)``` operator on your list ","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>Use <code>.take(n)</code> operator on your list</p>\n"},{"comments":[{"owner":{"account_id":5487398,"reputation":1775,"user_id":4361749,"accept_rate":82,"display_name":"Joel"},"score":1,"creation_date":1692576586,"post_id":76938459,"comment_id":135638116,"body_markdown":"Why is this faster than the other options?","body":"Why is this faster than the other options?"}],"tags":[],"owner":{"account_id":29260598,"reputation":1,"user_id":22417668,"display_name":"Sai Nikhil A"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692525364,"creation_date":1692517930,"answer_id":76938459,"question_id":31330330,"body_markdown":"    arrayList.stream().limit(n).toArray();\r\n    \r\n    n = maxSize in length\r\n\r\nThis will help you to get the max size of the Array that you require.\r\n","title":"Fastest way to get the first n elements of a List into an Array","body":"<pre><code>arrayList.stream().limit(n).toArray();\n\nn = maxSize in length\n</code></pre>\n<p>This will help you to get the max size of the Array that you require.</p>\n"}],"owner":{"account_id":5487398,"reputation":1775,"user_id":4361749,"accept_rate":82,"display_name":"Joel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214690,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":31330412,"answer_count":7,"score":76,"last_activity_date":1692525364,"creation_date":1436486339,"question_id":31330330,"body_markdown":"What is the fastest way to get the first n elements of a list stored in an array?\r\n\r\nConsidering this as the scenario:\r\n\r\n   \tint n = 10;\r\n   \tArrayList&lt;String&gt; in = new ArrayList&lt;&gt;();\r\n    for(int i = 0; i &lt; (n+10); i++)\r\n      in.add(&quot;foobar&quot;);\r\n**Option 1:**\r\n\r\n \tString[] out = new String[n];\r\n   \tfor(int i = 0; i&lt; n; i++)\r\n   \t\tout[i]=in.get(i);\r\n\r\n**Option 2:**\r\n \r\n    String[] out = (String[]) (in.subList(0, n)).toArray();\r\n\r\n\r\n**Option 3:**\r\nIs there a faster way? Maybe with Java8-streams?\r\n","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>What is the fastest way to get the first n elements of a list stored in an array?</p>\n\n<p>Considering this as the scenario:</p>\n\n<pre><code>int n = 10;\nArrayList&lt;String&gt; in = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; (n+10); i++)\n  in.add(\"foobar\");\n</code></pre>\n\n<p><strong>Option 1:</strong></p>\n\n<pre><code>String[] out = new String[n];\nfor(int i = 0; i&lt; n; i++)\n    out[i]=in.get(i);\n</code></pre>\n\n<p><strong>Option 2:</strong></p>\n\n<pre><code>String[] out = (String[]) (in.subList(0, n)).toArray();\n</code></pre>\n\n<p><strong>Option 3:</strong>\nIs there a faster way? Maybe with Java8-streams?</p>\n"},{"tags":["java","arrays","indexing"],"comments":[{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1570274098,"post_id":58247760,"comment_id":102866438,"body_markdown":"If there are 10 people, you don&#39;t have a 12th or 13th person. Also, you haven&#39;t actually explained what the program should do; should it print something?","body":"If there are 10 people, you don&#39;t have a 12th or 13th person. Also, you haven&#39;t actually explained what the program should do; should it print something?"},{"owner":{"account_id":9245446,"reputation":98,"user_id":6867455,"display_name":"cstr_"},"score":0,"creation_date":1570274140,"post_id":58247760,"comment_id":102866450,"body_markdown":"So just to confirm - if number is divisible by 11, you &#39;jump&#39; one person - i.e. go from person 1, to person 2. If the number is divisible by 7, you go back one person, i.e. go from person 5 to person 4, who continues counting. Are those the only rules for changing the currently counting person?","body":"So just to confirm - if number is divisible by 11, you &#39;jump&#39; one person - i.e. go from person 1, to person 2. If the number is divisible by 7, you go back one person, i.e. go from person 5 to person 4, who continues counting. Are those the only rules for changing the currently counting person?"},{"owner":{"account_id":16173926,"reputation":1,"user_id":11677071,"display_name":"Iulian Oprea"},"score":1,"creation_date":1570274250,"post_id":58247760,"comment_id":102866479,"body_markdown":"10 friends are sitting in a circle around a table and decide to play a new game. In it, they count up through the numbers from 1 to 100. The first person says &quot;1&quot;, the second says &quot;2&quot; and so on... but with a few catches:\n\nWhenever the number is divisible by 7, they switch directions. So person 6 will say &quot;6&quot;, person 7 will say &quot;7&quot;, then person 6 again will say &quot;8&quot;.\nWhenever the number is divisible by 11, they skip the next person.","body":"10 friends are sitting in a circle around a table and decide to play a new game. In it, they count up through the numbers from 1 to 100. The first person says &quot;1&quot;, the second says &quot;2&quot; and so on... but with a few catches:  Whenever the number is divisible by 7, they switch directions. So person 6 will say &quot;6&quot;, person 7 will say &quot;7&quot;, then person 6 again will say &quot;8&quot;. Whenever the number is divisible by 11, they skip the next person."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1570274267,"post_id":58247760,"comment_id":102866484,"body_markdown":"The way I read &quot;switch direction&quot;, it should continue counting down until you get to another multiple of 7.","body":"The way I read &quot;switch direction&quot;, it should continue counting down until you get to another multiple of 7."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1570274425,"post_id":58247760,"comment_id":102866519,"body_markdown":"To make sure we&#39;re on the same page, I suggest you add an example to your question: &quot;P1: 1, P2: 2, P3: 3, P4: 4, P5: 5, P6: 6, P7: 7, P6: 8, P5: 9, P4: 10, P3: 11, P1: 12, P10: 13, P9: 14, P10: 15, P1: 16 ...&quot;","body":"To make sure we&#39;re on the same page, I suggest you add an example to your question: &quot;P1: 1, P2: 2, P3: 3, P4: 4, P5: 5, P6: 6, P7: 7, P6: 8, P5: 9, P4: 10, P3: 11, P1: 12, P10: 13, P9: 14, P10: 15, P1: 16 ...&quot;"},{"owner":{"account_id":16173926,"reputation":1,"user_id":11677071,"display_name":"Iulian Oprea"},"score":0,"creation_date":1570275059,"post_id":58247760,"comment_id":102866646,"body_markdown":"It  is counting from 1 to 100. I understand the whole problem, I just do not know how to add or substract from the array index inside the if statements and I can&#39;t seem to find anything on internet about it.","body":"It  is counting from 1 to 100. I understand the whole problem, I just do not know how to add or substract from the array index inside the if statements and I can&#39;t seem to find anything on internet about it."}],"answers":[{"tags":[],"owner":{"account_id":1928552,"reputation":63,"user_id":1738466,"display_name":"CarlosSM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570279318,"creation_date":1570276357,"answer_id":58248033,"question_id":58247760,"body_markdown":"You need two counters for this problem, one for the 100 numbers and the other one for the people. Also, you need to know which one is the direction for the people&#39;s counter. \r\nThe solution could be something like this:\r\n\r\n \r\n    package com.company;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            String persoane[] = {&quot;Marcus&quot;, &quot;Fane&quot;, &quot;Ion&quot;, &quot;Ghita&quot;, &quot;Fanescu&quot;, &quot;Vrabie&quot;, &quot;Ecaterina&quot;, &quot;Marius&quot;,\r\n            &quot;Florina&quot;, &quot;Lupu&quot;};\r\n\r\n            int personCounter = 0;\r\n            boolean directionInverse = false;\r\n\r\n            for (int i = 0; i &lt; 100; i++){\r\n                if (i % 7 == 0) {\r\n                    personCounter--;\r\n                    directionInverse = true;\r\n                }\r\n\r\n                if (i % 11 == 0){\r\n                    personCounter++;\r\n                    directionInverse = false;\r\n                }\r\n\r\n                if (directionInverse) {\r\n                    personCounter--;\r\n                    if (personCounter == -1) {\r\n                        personCounter = 9;\r\n                    }\r\n                } else {\r\n                    personCounter++;\r\n                }\r\n                System.out.println(persoane[personCounter % 10] + &quot; says &quot; + (i + 1));\r\n            }\r\n        }\r\n    }\r\n","title":"How to go back and forth in an array in Java","body":"<p>You need two counters for this problem, one for the 100 numbers and the other one for the people. Also, you need to know which one is the direction for the people's counter. \nThe solution could be something like this:</p>\n\n<pre><code>package com.company;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String persoane[] = {\"Marcus\", \"Fane\", \"Ion\", \"Ghita\", \"Fanescu\", \"Vrabie\", \"Ecaterina\", \"Marius\",\n        \"Florina\", \"Lupu\"};\n\n        int personCounter = 0;\n        boolean directionInverse = false;\n\n        for (int i = 0; i &lt; 100; i++){\n            if (i % 7 == 0) {\n                personCounter--;\n                directionInverse = true;\n            }\n\n            if (i % 11 == 0){\n                personCounter++;\n                directionInverse = false;\n            }\n\n            if (directionInverse) {\n                personCounter--;\n                if (personCounter == -1) {\n                    personCounter = 9;\n                }\n            } else {\n                personCounter++;\n            }\n            System.out.println(persoane[personCounter % 10] + \" says \" + (i + 1));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1235278,"reputation":2660,"user_id":1198979,"accept_rate":82,"display_name":"SSP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570277371,"creation_date":1570277371,"answer_id":58248153,"question_id":58247760,"body_markdown":"1- I have created a direction flag for traversing the array.\r\n\r\n2 - an index to traverse the array.\r\n\r\n3 - An answer variable to find out that on which position, you are in when count reach to 100.\r\n\r\n4 - debug the code properly and try carefully to understand each statement.\r\n\r\n5 - comment if you have any issue with code.\r\n\r\n    public static void main(String[] args) {\r\n        String persoane[] = { &quot;Marcus  &quot;, &quot;Fane&quot;, &quot;Ion &quot;, &quot;Ghita &quot;, &quot;Fanescu &quot;, &quot;Vrabie &quot;, &quot;Ecaterina &quot;, &quot;Marius &quot;,\r\n        \t\t&quot;Florina &quot;, &quot;Lupu &quot; };\r\n        \r\n        int numaratoare = 0;\r\n        boolean direction = true;\r\n        int answer = 0;\r\n        int index = 1;\r\n    \r\n        for (int i = 1; i &lt; 100; i++) {\r\n        \r\n        \tif (index == 0 &amp;&amp; direction == false) {\r\n        \t\tindex = persoane.length - 1;\r\n        \t}\r\n        \tif (index == persoane.length - 1 &amp;&amp; direction) {\r\n        \t\tindex = 0;\r\n        \t}\r\n        \tnumaratoare = i;\r\n        \r\n        \tif (numaratoare % 7 == 0) {\r\n        \r\n        \t\tif (direction) {\r\n        \t\t\tdirection = false;\r\n        \t\t} else {\r\n        \t\t\tdirection = true;\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tif (numaratoare % 11 == 0) {\r\n        \r\n        \t\tif (direction) {\r\n        \t\t\tif( index == 9) {\r\n        \t\t\t\tindex = 0;\r\n        \t\t\t}else{\r\n        \t\t\t\tindex++;\t\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t} else {\r\n        \t\t\tif( index == 0) {\r\n        \t\t\t\tindex = 9;\r\n        \t\t\t}else{\r\n        \t\t\t\tindex--;\t\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        \tif (i == 99) {\r\n        \t\tanswer = index;\r\n        \t}\r\n        \tif (direction) {\r\n        \t\tindex++;\r\n        \t} else {\r\n        \t\tindex--;\r\n        \t}\r\n        }\r\n        System.out.println(answer);\r\n    }","title":"How to go back and forth in an array in Java","body":"<p>1- I have created a direction flag for traversing the array.</p>\n\n<p>2 - an index to traverse the array.</p>\n\n<p>3 - An answer variable to find out that on which position, you are in when count reach to 100.</p>\n\n<p>4 - debug the code properly and try carefully to understand each statement.</p>\n\n<p>5 - comment if you have any issue with code.</p>\n\n<pre><code>public static void main(String[] args) {\n    String persoane[] = { \"Marcus  \", \"Fane\", \"Ion \", \"Ghita \", \"Fanescu \", \"Vrabie \", \"Ecaterina \", \"Marius \",\n            \"Florina \", \"Lupu \" };\n\n    int numaratoare = 0;\n    boolean direction = true;\n    int answer = 0;\n    int index = 1;\n\n    for (int i = 1; i &lt; 100; i++) {\n\n        if (index == 0 &amp;&amp; direction == false) {\n            index = persoane.length - 1;\n        }\n        if (index == persoane.length - 1 &amp;&amp; direction) {\n            index = 0;\n        }\n        numaratoare = i;\n\n        if (numaratoare % 7 == 0) {\n\n            if (direction) {\n                direction = false;\n            } else {\n                direction = true;\n            }\n        }\n\n        if (numaratoare % 11 == 0) {\n\n            if (direction) {\n                if( index == 9) {\n                    index = 0;\n                }else{\n                    index++;    \n                }\n\n            } else {\n                if( index == 0) {\n                    index = 9;\n                }else{\n                    index--;    \n                }\n            }\n        }\n        if (i == 99) {\n            answer = index;\n        }\n        if (direction) {\n            index++;\n        } else {\n            index--;\n        }\n    }\n    System.out.println(answer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692524455,"creation_date":1692524455,"answer_id":76938810,"question_id":58247760,"body_markdown":"Even if question is old, it is just an interesting problem: \r\n```\r\n public static void count(){\r\n        String persoane[] = {&quot;Marcus&quot;, &quot;Fane&quot;, &quot;Ion&quot;, &quot;Ghita&quot;, &quot;Fanescu&quot;, &quot;Vrabie&quot;, &quot;Ecaterina&quot;, &quot;Marius&quot;, &quot;Florina&quot;, &quot;Lupu&quot;};\r\n\r\n        int index = 0;\r\n        boolean direction = true;\r\n\r\n        for (int i=1; i&lt;100; i++){\r\n            if (i%7==0) {\r\n                direction = !direction;\r\n            }\r\n\r\n            if (i%11==0){\r\n                if(direction){\r\n                    index = (index+2)%9;\r\n                } else {\r\n                    index = (9 + (index-2))%9;\r\n                }\r\n                continue;\r\n            }\r\n\r\n            if(direction){\r\n                index = (index+1)%9;\r\n            } else {\r\n                index = (9 + (index-1))%9;\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Last person &quot; + persoane[index]);\r\n    }\r\n```","title":"How to go back and forth in an array in Java","body":"<p>Even if question is old, it is just an interesting problem:</p>\n<pre><code> public static void count(){\n        String persoane[] = {&quot;Marcus&quot;, &quot;Fane&quot;, &quot;Ion&quot;, &quot;Ghita&quot;, &quot;Fanescu&quot;, &quot;Vrabie&quot;, &quot;Ecaterina&quot;, &quot;Marius&quot;, &quot;Florina&quot;, &quot;Lupu&quot;};\n\n        int index = 0;\n        boolean direction = true;\n\n        for (int i=1; i&lt;100; i++){\n            if (i%7==0) {\n                direction = !direction;\n            }\n\n            if (i%11==0){\n                if(direction){\n                    index = (index+2)%9;\n                } else {\n                    index = (9 + (index-2))%9;\n                }\n                continue;\n            }\n\n            if(direction){\n                index = (index+1)%9;\n            } else {\n                index = (9 + (index-1))%9;\n            }\n        }\n\n        System.out.println(&quot;Last person &quot; + persoane[index]);\n    }\n</code></pre>\n"}],"owner":{"account_id":16173926,"reputation":1,"user_id":11677071,"display_name":"Iulian Oprea"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692524455,"creation_date":1570273865,"question_id":58247760,"body_markdown":"So I have a problem to solve for one of my classes. 10 people cout to 100 and the conditions are if the number is divisible by 7 they switch directions, means the 6th person will say 6, 7th will say 7 and 6th will say 8. If the number is divisible by 11 they jump one person. So if the 12th is next they go to the 13th person. I was able to write and understand the problem but I cannot find a way to iterate through the array index so I can satisfy what the problem inquires. Below is my code:\r\n\r\n    package com.company;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            String persoane[] = {&quot;Marcus  &quot;, &quot;Fane&quot;, &quot;Ion &quot;, &quot;Ghita &quot;, &quot;Fanescu &quot;, &quot;Vrabie &quot;, &quot;Ecaterina &quot;, &quot;Marius &quot;, &quot;Florina &quot;, &quot;Lupu &quot;};\r\n\r\n            int numaratoare = 0;\r\n\r\n            for (int i=0; i&lt;100; i++){\r\n                numaratoare = i;\r\n                if (numaratoare%7==0) {\r\n\r\n                }\r\n\r\n                if (numaratoare%11==0){\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to go back and forth in an array in Java","body":"<p>So I have a problem to solve for one of my classes. 10 people cout to 100 and the conditions are if the number is divisible by 7 they switch directions, means the 6th person will say 6, 7th will say 7 and 6th will say 8. If the number is divisible by 11 they jump one person. So if the 12th is next they go to the 13th person. I was able to write and understand the problem but I cannot find a way to iterate through the array index so I can satisfy what the problem inquires. Below is my code:</p>\n\n<pre><code>package com.company;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String persoane[] = {\"Marcus  \", \"Fane\", \"Ion \", \"Ghita \", \"Fanescu \", \"Vrabie \", \"Ecaterina \", \"Marius \", \"Florina \", \"Lupu \"};\n\n        int numaratoare = 0;\n\n        for (int i=0; i&lt;100; i++){\n            numaratoare = i;\n            if (numaratoare%7==0) {\n\n            }\n\n            if (numaratoare%11==0){\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel"],"owner":{"account_id":29242854,"reputation":21,"user_id":22403992,"display_name":"Rach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692524052,"creation_date":1692523178,"question_id":76938735,"body_markdown":"I am trying to write a code which gets a json from API and writing it to an exists file using camel, java spring boot.\r\nThis is my code:\r\n\r\n```\r\npackage camel;\r\n\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.stereotype.Component;\r\n\r\n\r\n@Component\r\npublic class WriteToFile extends RouteBuilder{\r\n\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n        from(&quot;direct:writeToFile&quot;)\r\n        .convertBodyTo(String.class) \r\n        .to(&quot;file:/workers.json&quot;)\r\n        .to(&quot;log:Data written to file: ${body}&quot;);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nController:\r\n```\r\n  @PostMapping(&quot;/writeToFile&quot;)\r\n\t    public String writeToFile(@RequestBody WorkerRequest worker) {\r\n//\t    \tproducerTemplate.start();\r\n//\t    \tproducerTemplate.sendBody(&quot;direct:myRoute&quot;, worker);\r\n\t    \tproducerTemplate.requestBody(&quot;direct:writeToFile&quot;, worker);\r\n//\t    \tcamelConfig.writeToFile();\r\n\t    \treturn &quot;Employee added to the file successfully.&quot;;\r\n\t    }\r\n\t\r\n```\r\n\r\n\r\n\r\nI see that it is not writing anything to the file, but I do see the json in the log.\r\nwhat is the promlem?","title":"write json to file using camel","body":"<p>I am trying to write a code which gets a json from API and writing it to an exists file using camel, java spring boot.\nThis is my code:</p>\n<pre><code>package camel;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n\n@Component\npublic class WriteToFile extends RouteBuilder{\n\n    @Override\n    public void configure() throws Exception {\n        from(&quot;direct:writeToFile&quot;)\n        .convertBodyTo(String.class) \n        .to(&quot;file:/workers.json&quot;)\n        .to(&quot;log:Data written to file: ${body}&quot;);\n        \n    }\n\n}\n\n\n</code></pre>\n<p>Controller:</p>\n<pre><code>  @PostMapping(&quot;/writeToFile&quot;)\n        public String writeToFile(@RequestBody WorkerRequest worker) {\n//          producerTemplate.start();\n//          producerTemplate.sendBody(&quot;direct:myRoute&quot;, worker);\n            producerTemplate.requestBody(&quot;direct:writeToFile&quot;, worker);\n//          camelConfig.writeToFile();\n            return &quot;Employee added to the file successfully.&quot;;\n        }\n    \n</code></pre>\n<p>I see that it is not writing anything to the file, but I do see the json in the log.\nwhat is the promlem?</p>\n"},{"tags":["java","routes","tabs","vaadin"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1692539361,"post_id":76938780,"comment_id":135634359,"body_markdown":"Did you take a look at the official cookbook? https://cookbook.vaadin.com/tabs-with-routes/a","body":"Did you take a look at the official cookbook? <a href=\"https://cookbook.vaadin.com/tabs-with-routes/a\" rel=\"nofollow noreferrer\">cookbook.vaadin.com/tabs-with-routes/a</a>"},{"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"score":0,"creation_date":1692558225,"post_id":76938780,"comment_id":135636526,"body_markdown":"Thanks, your solution is almost perfect, excepting that I don&#39;t know how can I don&#39;t add route link for first tab as I want it to be still `/settings`, and not `/settings/profile`","body":"Thanks, your solution is almost perfect, excepting that I don&#39;t know how can I don&#39;t add route link for first tab as I want it to be still <code>&#47;settings</code>, and not <code>&#47;settings&#47;profile</code>"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692523945,"creation_date":1692523945,"question_id":76938780,"body_markdown":"I am wondering if it&#39;s possible to change dynamically view&#39;s route using the `Tabs` component and `getSelectedTab()` method.\r\n\r\n#### Here is a simple example\r\nI have a View with `@Route(&quot;settings&quot;)` which is responsible for changing settings. Inside this view I have some `Tabs`, so I want for selected tab to be changed also the View&#39;s route.\r\n\r\n - For first tab, the route should remain `/settings`\r\n - Starting with second tab, route should change like this `/settings/{tabName}`\r\n\r\n\r\n```\r\n@PermitAll\r\n@PageTitle(&quot;Settings&quot;)\r\n@Route(value = &quot;settings&quot;, layout = MainLayout.class)\r\npublic class SettingsView extends Main {\r\n\r\n    private final Tab profile;\r\n    private final Tab password;\r\n    private final Tab notifications;\r\n    private final VerticalLayout content;\r\n\r\n    public SettingsView() {\r\n        addClassName(&quot;page-content&quot;);\r\n        profile = new Tab(&quot;Profile&quot;);\r\n        notifications = new Tab(&quot;Profile&quot;);\r\n        password = new Tab(&quot;Password&quot;);\r\n\r\n        Tabs tabs = new Tabs(profile, password, notifications);\r\n        tabs.addSelectedChangeListener(\r\n                event -&gt; setContent(event.getSelectedTab()));\r\n\r\n        tabs.setOrientation(Tabs.Orientation.VERTICAL);\r\n        content = new VerticalLayout();\r\n        setContent(tabs.getSelectedTab());\r\n\r\n        HorizontalLayout hLayout = new HorizontalLayout();\r\n        hLayout.add(tabs, content);\r\n        hLayout.setSpacing(true);\r\n\r\n        add(hLayout);\r\n    }\r\n\r\n    private void setContent(Tab tab) {\r\n        content.removeAll();\r\n\r\n        if (tab.equals(profile)) {\r\n            content.add(new ProfileTab());\r\n        } else if (tab.equals(password)) {\r\n            content.add(new PasswordTab());\r\n        } else {\r\n            content.add(new NotificationsTab());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n##### Example of displayed tab\r\n\r\n```\r\npublic class ProfileTab extends Div {\r\n\r\n    // html elements defined\r\n\r\n    public ProfileTab() {\r\n        // adding elements defined\r\n    }\r\n\r\n}\r\n```\r\n\r\n#### So using the class above, the conditions should be like this:\r\nWhen users selects one of these tabs, the route changes also\r\n - ProfileTab -&gt; route = `/settings` - (not changing because it&#39;s first)\r\n - PasswordTab -&gt; route = `/settings/password`\r\n - NotificationsTab -&gt; route = `/settings/notifications`","title":"Vaadin change view&#39;s route dynamically using selected tab","body":"<p>I am wondering if it's possible to change dynamically view's route using the <code>Tabs</code> component and <code>getSelectedTab()</code> method.</p>\n<h4>Here is a simple example</h4>\n<p>I have a View with <code>@Route(&quot;settings&quot;)</code> which is responsible for changing settings. Inside this view I have some <code>Tabs</code>, so I want for selected tab to be changed also the View's route.</p>\n<ul>\n<li>For first tab, the route should remain <code>/settings</code></li>\n<li>Starting with second tab, route should change like this <code>/settings/{tabName}</code></li>\n</ul>\n<pre><code>@PermitAll\n@PageTitle(&quot;Settings&quot;)\n@Route(value = &quot;settings&quot;, layout = MainLayout.class)\npublic class SettingsView extends Main {\n\n    private final Tab profile;\n    private final Tab password;\n    private final Tab notifications;\n    private final VerticalLayout content;\n\n    public SettingsView() {\n        addClassName(&quot;page-content&quot;);\n        profile = new Tab(&quot;Profile&quot;);\n        notifications = new Tab(&quot;Profile&quot;);\n        password = new Tab(&quot;Password&quot;);\n\n        Tabs tabs = new Tabs(profile, password, notifications);\n        tabs.addSelectedChangeListener(\n                event -&gt; setContent(event.getSelectedTab()));\n\n        tabs.setOrientation(Tabs.Orientation.VERTICAL);\n        content = new VerticalLayout();\n        setContent(tabs.getSelectedTab());\n\n        HorizontalLayout hLayout = new HorizontalLayout();\n        hLayout.add(tabs, content);\n        hLayout.setSpacing(true);\n\n        add(hLayout);\n    }\n\n    private void setContent(Tab tab) {\n        content.removeAll();\n\n        if (tab.equals(profile)) {\n            content.add(new ProfileTab());\n        } else if (tab.equals(password)) {\n            content.add(new PasswordTab());\n        } else {\n            content.add(new NotificationsTab());\n        }\n    }\n\n}\n</code></pre>\n<h5>Example of displayed tab</h5>\n<pre><code>public class ProfileTab extends Div {\n\n    // html elements defined\n\n    public ProfileTab() {\n        // adding elements defined\n    }\n\n}\n</code></pre>\n<h4>So using the class above, the conditions should be like this:</h4>\n<p>When users selects one of these tabs, the route changes also</p>\n<ul>\n<li>ProfileTab -&gt; route = <code>/settings</code> - (not changing because it's first)</li>\n<li>PasswordTab -&gt; route = <code>/settings/password</code></li>\n<li>NotificationsTab -&gt; route = <code>/settings/notifications</code></li>\n</ul>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692347693,"creation_date":1692270875,"answer_id":76920973,"question_id":76920157,"body_markdown":"The problem may be, that you mix Camel and Spring annotations.\r\nTry to use ```@Configuration``` from spring ```import org.springframework.context.annotation.Configuration``` instead of ```import org.apache.camel.Configuration```.\r\n\r\nAnd in general I&#39;d recommend to separate Spring config from Camel route config. If you are using springboot and ```camel-spring-boot-starter``` then you can skip \r\n``` java\r\n@Bean\r\n        public ProducerTemplate producerTemplate() {\r\n            return camelContext.createProducerTemplate();\r\n        }\r\n```\r\nas Spring will do it for you.\r\nJust make your class like:\r\n``` java\r\n@Component  // from org.springframework.stereotype.Component;\r\npublic class CamelConfig extends RouteBuilder {\r\n\r\n           @Override\r\n        public void configure() throws Exception {\r\n            from(&quot;direct:myRoute&quot;)\r\n                .setBody().constant(&quot;Hello, world!&quot;)\r\n                .to(&quot;log:output&quot;);\r\n            }\r\n      \r\n}\r\n```\r\nalso take a careful look on package versions you are using\r\n``` xml\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.14&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;camel&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;camel.version&gt;3.21.0&lt;/camel.version&gt;\r\n        &lt;spring.boot.version&gt;2.7.14&lt;/spring.boot.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- Spring Boot BOM --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Camel BOM --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${camel.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\nFor camel 3 (3.20) - use springboot 2 (2.7.14).\r\nIf you want to change to camel 4.0.0, you can switch to springboot 3 and Java 17","title":"error: No consumers available on endpoint: direct://myRoute. Exchange[]","body":"<p>The problem may be, that you mix Camel and Spring annotations.\nTry to use <code>@Configuration</code> from spring <code>import org.springframework.context.annotation.Configuration</code> instead of <code>import org.apache.camel.Configuration</code>.</p>\n<p>And in general I'd recommend to separate Spring config from Camel route config. If you are using springboot and <code>camel-spring-boot-starter</code> then you can skip</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n        public ProducerTemplate producerTemplate() {\n            return camelContext.createProducerTemplate();\n        }\n</code></pre>\n<p>as Spring will do it for you.\nJust make your class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component  // from org.springframework.stereotype.Component;\npublic class CamelConfig extends RouteBuilder {\n\n           @Override\n        public void configure() throws Exception {\n            from(&quot;direct:myRoute&quot;)\n                .setBody().constant(&quot;Hello, world!&quot;)\n                .to(&quot;log:output&quot;);\n            }\n      \n}\n</code></pre>\n<p>also take a careful look on package versions you are using</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;camel&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;camel&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;camel.version&gt;3.21.0&lt;/camel.version&gt;\n        &lt;spring.boot.version&gt;2.7.14&lt;/spring.boot.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- Spring Boot BOM --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Camel BOM --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n                &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\n                &lt;version&gt;${camel.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>For camel 3 (3.20) - use springboot 2 (2.7.14).\nIf you want to change to camel 4.0.0, you can switch to springboot 3 and Java 17</p>\n"},{"comments":[{"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"score":0,"creation_date":1692347737,"post_id":76921091,"comment_id":135613405,"body_markdown":"added also the pom.xml content, plese check that out - especially package versions","body":"added also the pom.xml content, plese check that out - especially package versions"}],"tags":[],"owner":{"account_id":29242854,"reputation":21,"user_id":22403992,"display_name":"Rach"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692271905,"creation_date":1692271868,"answer_id":76921091,"question_id":76920157,"body_markdown":"I have changed it to be:\r\n\r\n    package camel;\r\n    \r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    \r\n        @Component \r\n        public class CamelConfig extends RouteBuilder {\r\n        \r\n                   @Override\r\n                public void configure() throws Exception {\r\n                    from(&quot;direct:myRoute&quot;)\r\n                        .setBody().constant(&quot;Hello, world!&quot;)\r\n                        .to(&quot;log:output&quot;);\r\n                    }\r\n     but still the same error :(","title":"error: No consumers available on endpoint: direct://myRoute. Exchange[]","body":"<p>I have changed it to be:</p>\n<pre><code>package camel;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n\n    @Component \n    public class CamelConfig extends RouteBuilder {\n    \n               @Override\n            public void configure() throws Exception {\n                from(&quot;direct:myRoute&quot;)\n                    .setBody().constant(&quot;Hello, world!&quot;)\n                    .to(&quot;log:output&quot;);\n                }\n but still the same error :(\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29242854,"reputation":21,"user_id":22403992,"display_name":"Rach"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692523575,"creation_date":1692523519,"answer_id":76938750,"question_id":76920157,"body_markdown":"I added this:\r\n    \r\n`@Configuration\r\n@ComponentScan(&quot;camel&quot;)`\r\n\r\nto the controller and now it works!\r\ntnx!","title":"error: No consumers available on endpoint: direct://myRoute. Exchange[]","body":"<p>I added this:</p>\n<p><code>@Configuration @ComponentScan(&quot;camel&quot;)</code></p>\n<p>to the controller and now it works!\ntnx!</p>\n"}],"owner":{"account_id":29242854,"reputation":21,"user_id":22403992,"display_name":"Rach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692523575,"creation_date":1692264354,"question_id":76920157,"body_markdown":"I start learning about camel and I am trying to do a simple code with java spring boot.\r\nthis is my code:\r\n\r\n\r\n```\r\npackage camel;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.Configuration;\r\nimport org.apache.camel.Consume;\r\nimport org.apache.camel.ProducerTemplate;\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@Configuration\r\npublic class CamelConfig extends RouteBuilder {\r\n\r\n\t @Autowired\r\n\t    private CamelContext camelContext;\r\n\r\n\t    @Override\r\n\t\tpublic void configure() throws Exception {\r\n\t\t\tfrom(&quot;direct:myRoute&quot;)\r\n//\t\t\t\tfrom(&quot;timer:myTimer?period=5000&quot;)\r\n\t\t\t\t.setBody().constant(&quot;Hello, world!&quot;)\r\n\t\t\t\t.to(&quot;log:output&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t    \t\t\r\n\r\n\r\n\t    @Bean\r\n\t    public ProducerTemplate producerTemplate() {\r\n\t        return camelContext.createProducerTemplate();\r\n\t    }\r\n\r\n\r\n\t\r\n}\r\n\r\n```\r\ncontroller:\r\n\r\n```\r\n\t @Autowired\r\n\t    private ProducerTemplate producerTemplate;\r\n\r\n\t    @GetMapping(&quot;/hello&quot;)\r\n\t    public String sayHello() {\r\n\t    \tproducerTemplate.start();\r\n\t    \tproducerTemplate.sendBody(&quot;direct:myRoute&quot;, &quot;Hello from REST API!&quot;);\r\n\t        return &quot;Message sent to Camel route&quot;;\r\n\t    }\r\n\t\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-swagger-java-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;    \r\n```\r\n\r\n\r\n\r\nwhen I am trying to send a get request, I am getting failure with status 500 with this error: No consumers available on endpoint: direct://myRoute. Exchange[]\r\ndoes someone knows why?","title":"error: No consumers available on endpoint: direct://myRoute. Exchange[]","body":"<p>I start learning about camel and I am trying to do a simple code with java spring boot.\nthis is my code:</p>\n<pre><code>package camel;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.Configuration;\nimport org.apache.camel.Consume;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\n\n@Configuration\npublic class CamelConfig extends RouteBuilder {\n\n     @Autowired\n        private CamelContext camelContext;\n\n        @Override\n        public void configure() throws Exception {\n            from(&quot;direct:myRoute&quot;)\n//              from(&quot;timer:myTimer?period=5000&quot;)\n                .setBody().constant(&quot;Hello, world!&quot;)\n                .to(&quot;log:output&quot;);\n            \n        }\n                \n\n\n        @Bean\n        public ProducerTemplate producerTemplate() {\n            return camelContext.createProducerTemplate();\n        }\n\n\n    \n}\n\n</code></pre>\n<p>controller:</p>\n<pre><code>     @Autowired\n        private ProducerTemplate producerTemplate;\n\n        @GetMapping(&quot;/hello&quot;)\n        public String sayHello() {\n            producerTemplate.start();\n            producerTemplate.sendBody(&quot;direct:myRoute&quot;, &quot;Hello from REST API!&quot;);\n            return &quot;Message sent to Camel route&quot;;\n        }\n    \n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-swagger-java-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;/dependency&gt;    \n</code></pre>\n<p>when I am trying to send a get request, I am getting failure with status 500 with this error: No consumers available on endpoint: direct://myRoute. Exchange[]\ndoes someone knows why?</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":1987707,"reputation":467,"user_id":1782496,"accept_rate":71,"display_name":"Ravi Shenoy"},"score":0,"creation_date":1544855965,"post_id":53790147,"comment_id":94431511,"body_markdown":"Have you added Oracle JDBC driver to your class path ?","body":"Have you added Oracle JDBC driver to your class path ?"},{"owner":{"account_id":3221601,"reputation":67,"user_id":2718920,"display_name":"rahul"},"score":0,"creation_date":1544858321,"post_id":53790147,"comment_id":94431871,"body_markdown":"in /etc/profile : export CLASSPATH=/opt/instantclient_11_2:/usr/java/jdk1.8.0_20/jre/lib/ext:$CLASSPATH","body":"in /etc/profile : export CLASSPATH=/opt/instantclient_11_2:/usr/java/jdk1.8.0_20/jre/&zwnj;&#8203;lib/ext:$CLASSPATH"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1544864751,"post_id":53790147,"comment_id":94433010,"body_markdown":"Try upgrading to a more recent version of the Oracle JDBC driver. Also try upgrading to a more recent version of Java 8 (Java 8 update 20 is pretty old). Also: try loading `oracle.jdbc.OracleDriver` instead of `oracle.jdbc.driver.OracleDriver`.","body":"Try upgrading to a more recent version of the Oracle JDBC driver. Also try upgrading to a more recent version of Java 8 (Java 8 update 20 is pretty old). Also: try loading <code>oracle.jdbc.OracleDriver</code> instead of <code>oracle.jdbc.driver.OracleDriver</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1544864803,"post_id":53790147,"comment_id":94433024,"body_markdown":"The fact you have the `lib/ext` folder of your JDK on the CLASSPATH is very suspect.","body":"The fact you have the <code>lib&#47;ext</code> folder of your JDK on the CLASSPATH is very suspect."},{"owner":{"account_id":3221601,"reputation":67,"user_id":2718920,"display_name":"rahul"},"score":0,"creation_date":1544867809,"post_id":53790147,"comment_id":94433618,"body_markdown":"i updated java to jdk-8u192-linux-x64.rpm , changed export CLASSPATH=/opt/instantclient_11_2:/usr/java/jdk1.8.0_20/jre/lib:$CLASSPATH\nalso changed \nClass.forName(&quot;oracle.jdbc.OracleDriver&quot;);\nbut having same problem.","body":"i updated java to jdk-8u192-linux-x64.rpm , changed export CLASSPATH=/opt/instantclient_11_2:/usr/java/jdk1.8.0_20/jre/&zwnj;&#8203;lib:$CLASSPATH also changed  Class.forName(&quot;oracle.jdbc.OracleDriver&quot;); but having same problem."}],"answers":[{"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545041746,"creation_date":1545041746,"answer_id":53813056,"question_id":53790147,"body_markdown":"Try the latest JDBC driver which you can download from here: https://www.oracle.com/technetwork/database/application-development/jdbc/downloads/index.html. This error should go away.","title":"java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef","body":"<p>Try the latest JDBC driver which you can download from here: <a href=\"https://www.oracle.com/technetwork/database/application-development/jdbc/downloads/index.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/database/application-development/jdbc/downloads/index.html</a>. This error should go away.</p>\n"},{"tags":[],"owner":{"account_id":5269530,"reputation":175,"user_id":4208277,"display_name":"Uday Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658415128,"creation_date":1658415128,"answer_id":73068353,"question_id":53790147,"body_markdown":"you can try to re-order(put oracle dependency prior/much prior to sybase) sybase and ojdbc8 jar dependency in pom.xml\r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                &lt;version&gt;12.2.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\r\n                &lt;version&gt;7.07-27082&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef","body":"<p>you can try to re-order(put oracle dependency prior/much prior to sybase) sybase and ojdbc8 jar dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\n            &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\n            &lt;version&gt;7.07-27082&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3221601,"reputation":67,"user_id":2718920,"display_name":"rahul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692522415,"creation_date":1544855558,"question_id":53790147,"body_markdown":"I have CentOS on both server and client in VM. I am trying to connect Java SE 8 with Oracle 11gR2.\r\nBut it gives this error. I added `ojdbc6.jar`  by `&quot;project properties-&gt; libraries -&gt; Add Jar/folder-&gt;/usr/java/jdk1.8.0_20/jre/lib/ext/ojdbc6.jar` and `ojdbc8.jar&quot;`.\r\n\r\nCode is: \r\n\r\n    import java.sql.*;\r\n    import oracle.sql.*;\r\n    import oracle.jdbc.*;\r\n    class OracleCon\r\n    {\r\n        public static void main(String args[])\r\n    {\r\n    try\r\n    {\r\n        Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n       \r\n        Connection con=DriverManager.getConnection(&quot;jdbc:oracle:thin:@serverora11gr2:1521:orcl&quot;,&quot;scott&quot;,&quot;tiger&quot;);\r\n\r\n        Statement stmt=con.createStatement();\r\n\r\n        ResultSet rs=stmt.executeQuery(&quot;select * from emp&quot;);\r\n        \r\n        while(rs.next())\r\n        System.out.println(rs.getInt(1)+&quot;  &quot;+rs.getString(2)+&quot;  &quot;+rs.getString(3));\r\n\r\n        con.close();\r\n\r\n    }\r\n    catch(Exception e)\r\n    { System.out.println(e);}\r\n\r\n    }\r\n}\r\n\r\nError is:\r\n\r\n      Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef\r\n\tat oracle.jdbc.driver.OracleDriver.&lt;clinit&gt;(OracleDriver.java:262)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:259)\r\n\tat OracleCon.main(OracleCon.java:10)\r\n    /home/rahul/.cache/netbeans/8.2/executor-snippets/run.xml:53: Java       \r\n     returned: 1\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef","body":"<p>I have CentOS on both server and client in VM. I am trying to connect Java SE 8 with Oracle 11gR2.\nBut it gives this error. I added <code>ojdbc6.jar</code>  by <code>&quot;project properties-&gt; libraries -&gt; Add Jar/folder-&gt;/usr/java/jdk1.8.0_20/jre/lib/ext/ojdbc6.jar</code> and <code>ojdbc8.jar&quot;</code>.</p>\n<p>Code is:</p>\n<pre><code>import java.sql.*;\nimport oracle.sql.*;\nimport oracle.jdbc.*;\nclass OracleCon\n{\n    public static void main(String args[])\n{\ntry\n{\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n   \n    Connection con=DriverManager.getConnection(&quot;jdbc:oracle:thin:@serverora11gr2:1521:orcl&quot;,&quot;scott&quot;,&quot;tiger&quot;);\n\n    Statement stmt=con.createStatement();\n\n    ResultSet rs=stmt.executeQuery(&quot;select * from emp&quot;);\n    \n    while(rs.next())\n    System.out.println(rs.getInt(1)+&quot;  &quot;+rs.getString(2)+&quot;  &quot;+rs.getString(3));\n\n    con.close();\n\n}\ncatch(Exception e)\n{ System.out.println(e);}\n\n}\n</code></pre>\n<p>}</p>\n<p>Error is:</p>\n<pre><code>  Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef\nat oracle.jdbc.driver.OracleDriver.&lt;clinit&gt;(OracleDriver.java:262)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:259)\nat OracleCon.main(OracleCon.java:10)\n/home/rahul/.cache/netbeans/8.2/executor-snippets/run.xml:53: Java       \n returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n"},{"tags":["java","arrays","recursion","tail-recursion","array-algorithms"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":1,"creation_date":1692485092,"post_id":76937242,"comment_id":135630162,"body_markdown":"You need `return removeMin(tempArr, count);` so you can pass on the results of the recursive calls.  The final `return` will never be reached.","body":"You need <code>return removeMin(tempArr, count);</code> so you can pass on the results of the recursive calls.  The final <code>return</code> will never be reached."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692499353,"post_id":76937242,"comment_id":135630999,"body_markdown":"You can add _index_ to the _for-loop_ variables, _for (int i = 1, index = 0; i&lt;arr.length; i++, index++)_.","body":"You can add <i>index</i> to the <i>for-loop</i> variables, <i>for (int i = 1, index = 0; i&lt;arr.length; i++, index++)</i>."}],"answers":[{"comments":[{"owner":{"account_id":18450894,"reputation":3,"user_id":13852018,"display_name":"ansh87"},"score":0,"creation_date":1692524852,"post_id":76937498,"comment_id":135632800,"body_markdown":"Thanks @WJS, I did not knew to use return statement for recursion method calls.","body":"Thanks @WJS, I did not knew to use return statement for recursion method calls."},{"owner":{"account_id":18450894,"reputation":3,"user_id":13852018,"display_name":"ansh87"},"score":0,"creation_date":1692525968,"post_id":76937498,"comment_id":135632912,"body_markdown":"It&#39;s just a part of the code , \nQuestion : there parcel points and each  point has some  parcels to be picked. And every day an equal number of parcels has to be picked from all the points by the van . So in how many  minimum days all the parcels will be collected.\nPoint -&gt; [7, 2, 3, 9, 7, 5]  O/P -&gt; 5","body":"It&#39;s just a part of the code ,  Question : there parcel points and each  point has some  parcels to be picked. And every day an equal number of parcels has to be picked from all the points by the van . So in how many  minimum days all the parcels will be collected. Point -&gt; [7, 2, 3, 9, 7, 5]  O/P -&gt; 5"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692491023,"creation_date":1692490605,"answer_id":76937498,"question_id":76937242,"body_markdown":"You need to change your `conditional` and your `returns` as follows.\r\n```\r\nif (tempArr.length != 0){\r\n   return removeMin(tempArr, count);\r\n}\r\nreturn count;\r\n```\r\nHere&#39;s the complete code.\r\n```\r\npublic static  int removeMin(int[] arr, int count) {\r\n     int[] tempArr = new int[arr.length -1];\r\n     \r\n     int index = 0;\r\n     for (int i = 1; i&lt;arr.length; i++) {\r\n         tempArr[index] = arr[i] - arr[0];\r\n         index++;\r\n     }\r\n     count = count+1;\r\n     if (tempArr.length != 0){\r\n         return removeMin(tempArr, count);\r\n     }\r\n     return count;\r\n }\r\n```\r\nBut isn&#39;t count always going to be equal to the array size. So what are you trying to do?","title":"Recursion method is invoked even after loop condition is met","body":"<p>You need to change your <code>conditional</code> and your <code>returns</code> as follows.</p>\n<pre><code>if (tempArr.length != 0){\n   return removeMin(tempArr, count);\n}\nreturn count;\n</code></pre>\n<p>Here's the complete code.</p>\n<pre><code>public static  int removeMin(int[] arr, int count) {\n     int[] tempArr = new int[arr.length -1];\n     \n     int index = 0;\n     for (int i = 1; i&lt;arr.length; i++) {\n         tempArr[index] = arr[i] - arr[0];\n         index++;\n     }\n     count = count+1;\n     if (tempArr.length != 0){\n         return removeMin(tempArr, count);\n     }\n     return count;\n }\n</code></pre>\n<p>But isn't count always going to be equal to the array size. So what are you trying to do?</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692522110,"creation_date":1692522110,"answer_id":76938683,"question_id":76937242,"body_markdown":"&gt; _&quot;... I am expecting it to return 4 but it&#39;s returning 1.&quot;_\r\n\r\nYou&#39;ll need to return the _return-value_ of the recursive call.\r\n\r\n```java\r\nif (tempArr.length == 0){\r\n    return count;\r\n}else{\r\n    return removeMin(tempArr, count);\r\n}\r\n```\r\n\r\n","title":"Recursion method is invoked even after loop condition is met","body":"<blockquote>\n<p><em>&quot;... I am expecting it to return 4 but it's returning 1.&quot;</em></p>\n</blockquote>\n<p>You'll need to return the <em>return-value</em> of the recursive call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (tempArr.length == 0){\n    return count;\n}else{\n    return removeMin(tempArr, count);\n}\n</code></pre>\n"}],"owner":{"account_id":18450894,"reputation":3,"user_id":13852018,"display_name":"ansh87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76937498,"answer_count":2,"score":-1,"last_activity_date":1692522110,"creation_date":1692483431,"question_id":76937242,"body_markdown":"    public int removeMin(Integer[] arr, int count) {\r\n        Integer[] tempArr = new Integer[arr.length -1];\r\n        \r\n        int index = 0;\r\n        for (int i = 1; i&lt;arr.length; i++) {\r\n            tempArr[index] = arr[i] - arr[0];\r\n            index++;\r\n        }\r\n        count = count+1;\r\n        if (tempArr.length == 0){\r\n            return count;\r\n        }else{\r\n            removeMin(tempArr, count);\r\n        }\r\n        return count;\r\n    }\r\n\r\n\r\nI want the function to return count as 4  when `tempArr.length == 0`.\r\n\r\nInput parameters:\r\n\r\n```\r\nInteger[] arr = {2,5,8,11};\r\nint count = 0;\r\n```\r\n\r\nI am expecting it to return 4 but it&#39;s returning 1.","title":"Recursion method is invoked even after loop condition is met","body":"<pre><code>public int removeMin(Integer[] arr, int count) {\n    Integer[] tempArr = new Integer[arr.length -1];\n    \n    int index = 0;\n    for (int i = 1; i&lt;arr.length; i++) {\n        tempArr[index] = arr[i] - arr[0];\n        index++;\n    }\n    count = count+1;\n    if (tempArr.length == 0){\n        return count;\n    }else{\n        removeMin(tempArr, count);\n    }\n    return count;\n}\n</code></pre>\n<p>I want the function to return count as 4  when <code>tempArr.length == 0</code>.</p>\n<p>Input parameters:</p>\n<pre><code>Integer[] arr = {2,5,8,11};\nint count = 0;\n</code></pre>\n<p>I am expecting it to return 4 but it's returning 1.</p>\n"},{"tags":["java","spring","spring-boot","hashicorp-vault"],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692004100,"creation_date":1692004100,"answer_id":76897637,"question_id":76858618,"body_markdown":"As per the documentation:\r\n\r\n - https://cloud.spring.io/spring-cloud-vault/reference/html/\r\n\r\nYou&#39;re indicating the configuration under\r\n\r\n    spring.application.cloud.config.server.vault\r\n\r\nBut it should be under:\r\n\r\n    spring.cloud.vault","title":"Invalid Spring Config Server Configuration (Vault as Backend)","body":"<p>As per the documentation:</p>\n<ul>\n<li><a href=\"https://cloud.spring.io/spring-cloud-vault/reference/html/\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-vault/reference/html/</a></li>\n</ul>\n<p>You're indicating the configuration under</p>\n<pre><code>spring.application.cloud.config.server.vault\n</code></pre>\n<p>But it should be under:</p>\n<pre><code>spring.cloud.vault\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692047328,"creation_date":1692047328,"answer_id":76902158,"question_id":76858618,"body_markdown":"You need to enable the `vault` profile. \r\n\r\n    server:\r\n      port: 8888\r\n    \r\n    spring:\r\n      profiles:\r\n        active: vault\r\n      application:\r\n        name: config-server\r\n      cloud:\r\n        config:\r\n          server:\r\n            vault:\r\n              host: localhost\r\n              port: 8200\r\n              scheme: http\r\n              backend: kv\r\n              authentication: TOKEN\r\n              kv-version: 2\r\n              token: &lt;&lt;root token&gt;&gt;\r\n\r\nRegarding kv version, kv version 2 adds `/data` path to its API. It seems every example in the pattern of `vault kv put secret/application foo=bar baz=bam` in the internet doesn&#39;t work. Following rest api calls creates key values in `config-server` path for v2 API.\r\n\r\ncreate data\r\n\r\n    curl --location &#39;http://127.0.0.1:8200/v1/kv/data/config-server&#39; \\\r\n    --header &#39;X-Vault-Token: &lt;&lt;vault root token&gt;&gt;&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data &#39;{&quot;data&quot;:{&quot;foo&quot;:&quot;baz&quot;}}&#39;\r\n\r\nget data\r\n\r\n    curl --location &#39;http://localhost:8200/v1/kv/data/config-server&#39; \\\r\n    --header &#39;X-Vault-Token: &lt;&lt;vault root token&gt;&gt;&#39;\r\n\r\ncheck via spring config server\r\n\r\n    curl --location &#39;http://localhost:8888/config-server/default&#39; \\\r\n    --header &#39;X-Config-Token: &lt;&lt;vault root token&gt;&gt;&#39;\r\n\r\nPlease note that application name used here is `config-server`. Also v1 type seems to be working with the examples in the [documentation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#vault-backend","title":"Invalid Spring Config Server Configuration (Vault as Backend)","body":"<p>You need to enable the <code>vault</code> profile.</p>\n<pre><code>server:\n  port: 8888\n\nspring:\n  profiles:\n    active: vault\n  application:\n    name: config-server\n  cloud:\n    config:\n      server:\n        vault:\n          host: localhost\n          port: 8200\n          scheme: http\n          backend: kv\n          authentication: TOKEN\n          kv-version: 2\n          token: &lt;&lt;root token&gt;&gt;\n</code></pre>\n<p>Regarding kv version, kv version 2 adds <code>/data</code> path to its API. It seems every example in the pattern of <code>vault kv put secret/application foo=bar baz=bam</code> in the internet doesn't work. Following rest api calls creates key values in <code>config-server</code> path for v2 API.</p>\n<p>create data</p>\n<pre><code>curl --location 'http://127.0.0.1:8200/v1/kv/data/config-server' \\\n--header 'X-Vault-Token: &lt;&lt;vault root token&gt;&gt;' \\\n--header 'Content-Type: application/json' \\\n--data '{&quot;data&quot;:{&quot;foo&quot;:&quot;baz&quot;}}'\n</code></pre>\n<p>get data</p>\n<pre><code>curl --location 'http://localhost:8200/v1/kv/data/config-server' \\\n--header 'X-Vault-Token: &lt;&lt;vault root token&gt;&gt;'\n</code></pre>\n<p>check via spring config server</p>\n<pre><code>curl --location 'http://localhost:8888/config-server/default' \\\n--header 'X-Config-Token: &lt;&lt;vault root token&gt;&gt;'\n</code></pre>\n<p>Please note that application name used here is <code>config-server</code>. Also v1 type seems to be working with the examples in the <a href=\"https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#vault-backend\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":29260803,"reputation":1,"user_id":22417833,"display_name":"kz coding"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692521198,"creation_date":1692521198,"answer_id":76938634,"question_id":76858618,"body_markdown":"Your Spring configuration specifies the Vault backend as &quot;kv,&quot; but your Vault configuration example uses the &quot;raft&quot; storage backend. Make sure you&#39;re using the correct Vault storage backend and adjust your Spring configuration accordingly.","title":"Invalid Spring Config Server Configuration (Vault as Backend)","body":"<p>Your Spring configuration specifies the Vault backend as &quot;kv,&quot; but your Vault configuration example uses the &quot;raft&quot; storage backend. Make sure you're using the correct Vault storage backend and adjust your Spring configuration accordingly.</p>\n"}],"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76902158,"answer_count":3,"score":1,"last_activity_date":1692521198,"creation_date":1691490013,"question_id":76858618,"body_markdown":"I want to create a config server with vault backend and followed these steps:\r\n\r\n 1. install vault\r\n 2. create and run server using:\r\n\r\n```\r\nstorage &quot;raft&quot; {\r\n  path    = &quot;./vault/data&quot;\r\n  node_id = &quot;node1&quot;\r\n}\r\n\r\nlistener &quot;tcp&quot; {\r\n  address     = &quot;127.0.0.1:8200&quot;\r\n  tls_disable = &quot;true&quot;\r\n}\r\n\r\napi_addr = &quot;http://127.0.0.1:8200&quot;\r\ncluster_addr = &quot;https://127.0.0.1:8201&quot;\r\nui = true\r\n\r\n```\r\n 3. check server status\r\n\r\n```\r\nKey                     Value\r\n---                     -----\r\nSeal Type               shamir\r\nInitialized             true\r\nSealed                  false\r\nTotal Shares            5\r\nThreshold               3\r\nVersion                 1.14.1\r\nBuild Date              2023-07-21T10:15:14Z\r\nStorage Type            raft\r\nCluster Name            vault-cluster-d9454c69\r\nCluster ID              36c8d03f-522d-d9e9-4ae4-cceea7074298\r\nHA Enabled              true\r\nHA Cluster              https://127.0.0.1:8201\r\nHA Mode                 active\r\nActive Since            2023-08-08T09:12:40.45953Z\r\nRaft Committed Index    40\r\nRaft Applied Index      40\r\n```\r\n\r\nVault is unsealed previously by cli commands.\r\n \r\n4. Setup Spring Configuration\r\n\r\n```yml\r\nserver:\r\n  port: 8888\r\n\r\nspring:\r\n  application:\r\n    name: config-server\r\n  cloud:\r\n    config:\r\n      server:\r\n        vault:\r\n          host: localhost\r\n          port: 8200\r\n          scheme: https\r\n          backend: kv\r\n          token: &lt;&lt;added token from vault operator init command&gt;&gt;\r\n\r\n\r\n\r\n```\r\n5. Spring Apllication\r\n```java\r\n@SpringBootApplication\r\n@EnableConfigServer\r\npublic class CloudConfigServerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CloudConfigServerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nwhen i try to run this:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nInvalid config server configuration.\r\n\r\nAction:\r\n\r\nIf you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\r\n```\r\n\r\ntried different things and resources but couldnt find a solution for this one. Anyone can help to identify what is the problem?\r\n\r\n**UPDATE**\r\n\r\nI changed scheme to http and ran the server\r\n\r\n```yml\r\nserver:\r\n  port: 8888\r\n\r\nspring:\r\n  application:\r\n    name: config-server\r\n  cloud:\r\n    config:\r\n      server:\r\n        vault:\r\n          host: localhost\r\n          port: 8200\r\n          scheme: http\r\n          backend: kv\r\n          token: &lt;&lt;added token from vault operator init command&gt;&gt;\r\n\r\n```\r\nstill same error showing. Feels like spring fails before attempt to connect\r\n\r\n\r\n\r\n\r\n","title":"Invalid Spring Config Server Configuration (Vault as Backend)","body":"<p>I want to create a config server with vault backend and followed these steps:</p>\n<ol>\n<li>install vault</li>\n<li>create and run server using:</li>\n</ol>\n<pre><code>storage &quot;raft&quot; {\n  path    = &quot;./vault/data&quot;\n  node_id = &quot;node1&quot;\n}\n\nlistener &quot;tcp&quot; {\n  address     = &quot;127.0.0.1:8200&quot;\n  tls_disable = &quot;true&quot;\n}\n\napi_addr = &quot;http://127.0.0.1:8200&quot;\ncluster_addr = &quot;https://127.0.0.1:8201&quot;\nui = true\n\n</code></pre>\n<ol start=\"3\">\n<li>check server status</li>\n</ol>\n<pre><code>Key                     Value\n---                     -----\nSeal Type               shamir\nInitialized             true\nSealed                  false\nTotal Shares            5\nThreshold               3\nVersion                 1.14.1\nBuild Date              2023-07-21T10:15:14Z\nStorage Type            raft\nCluster Name            vault-cluster-d9454c69\nCluster ID              36c8d03f-522d-d9e9-4ae4-cceea7074298\nHA Enabled              true\nHA Cluster              https://127.0.0.1:8201\nHA Mode                 active\nActive Since            2023-08-08T09:12:40.45953Z\nRaft Committed Index    40\nRaft Applied Index      40\n</code></pre>\n<p>Vault is unsealed previously by cli commands.</p>\n<ol start=\"4\">\n<li>Setup Spring Configuration</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8888\n\nspring:\n  application:\n    name: config-server\n  cloud:\n    config:\n      server:\n        vault:\n          host: localhost\n          port: 8200\n          scheme: https\n          backend: kv\n          token: &lt;&lt;added token from vault operator init command&gt;&gt;\n\n\n\n</code></pre>\n<ol start=\"5\">\n<li>Spring Apllication</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableConfigServer\npublic class CloudConfigServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CloudConfigServerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>when i try to run this:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nInvalid config server configuration.\n\nAction:\n\nIf you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\n</code></pre>\n<p>tried different things and resources but couldnt find a solution for this one. Anyone can help to identify what is the problem?</p>\n<p><strong>UPDATE</strong></p>\n<p>I changed scheme to http and ran the server</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8888\n\nspring:\n  application:\n    name: config-server\n  cloud:\n    config:\n      server:\n        vault:\n          host: localhost\n          port: 8200\n          scheme: http\n          backend: kv\n          token: &lt;&lt;added token from vault operator init command&gt;&gt;\n\n</code></pre>\n<p>still same error showing. Feels like spring fails before attempt to connect</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9896,"page":238,"page_size":100}
